! function(t, e) {
	for (var i in e) t[i] = e[i]
}(window, function(t) {
	var e = {};

	function i(n) {
		if (e[n]) return e[n].exports;
		var a = e[n] = {
			i: n,
			l: !1,
			exports: {}
		};
		return t[n].call(a.exports, a, a.exports, i), a.l = !0, a.exports
	}
	return i.m = t, i.c = e, i.d = function(t, e, n) {
		i.o(t, e) || Object.defineProperty(t, e, {
			configurable: !1,
			enumerable: !0,
			get: n
		})
	}, i.r = function(t) {
		Object.defineProperty(t, "__esModule", {
			value: !0
		})
	}, i.n = function(t) {
		var e = t && t.__esModule ? function() {
			return t.default
		} : function() {
			return t
		};
		return i.d(e, "a", e), e
	}, i.o = function(t, e) {
		return Object.prototype.hasOwnProperty.call(t, e)
	}, i.p = "", i(i.s = 1238);
}([function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n, a = i(1),
		o = i(141),
		r = i(4),
		s = i(2),
		l = i(12);
	! function(t) {
		t[t.UserID = 0] = "UserID", t[t.ClassID = 1] = "ClassID", t[t.Grade = 2] = "Grade"
	}(n = e.SplitTestType || (e.SplitTestType = {}));
	var c = function() {
		function t() {}
		return t.capitalize = function(e) {
			return t.isValid(e) ? e.charAt(0).toUpperCase() + e.slice(1) : ""
		}, t.setCookie = function(t, e, i) {
			var n = new Date;
			n.setTime(n.getTime() + 24 * i * 60 * 60 * 1e3);
			var a = "expires=" + n.toUTCString();
			document.cookie = t + "=" + e + "; " + a
		}, t.getDate = function() {
			var t = new Date,
				e = t.getDate(),
				i = t.getMonth() + 1,
				n = t.getFullYear(),
				a = "" + e,
				o = "" + i;
			return e < 10 && (a = "0" + e), i < 10 && (o = "0" + i), "" + o + a + n
		}, t.getDateId = function() {
			return r.GameConstants.get("GameConstants.Build.DEBUG") ? Math.floor((new Date).getTime() / t.DEBUG_DAY_LENGTH) : Math.floor((new Date).getTime() / 864e5)
		}, t.isDateToday = function(t) {
			var e = new Date;
			return t.getUTCDate() === e.getUTCDate() && t.getUTCMonth() === e.getUTCMonth() && t.getUTCFullYear() === e.getUTCFullYear()
		}, t.elapsedTimeInHours = function(t, e) {
			return (e - t) / 36e5
		}, t.getCookie = function(t) {
			for (var e = t + "=", i = document.cookie.split(";"), n = 0; n < i.length; n++) {
				for (var a = i[n];
					" " === a.charAt(0);) a = a.substring(1);
				if (0 === a.indexOf(e)) return a.substring(e.length, a.length)
			}
			return ""
		}, t.convertItemToIcon = function(e) {
			return "gold" === e.type ? "item/26" : "spell" === e.type ? (e.data = t.isValid(e.data) ? e.data : s.Items.getItem(e.type, e.ID).data, e.data.element) : "boss" === e.type ? "boss" : "player" === e.type ? "player" : "dorm" === e.type ? "" + e.ID : t.isValid(e.metadata) && t.isValid(e.metadata.icon) ? "" + e.metadata.icon : t.isValid(e.type) && t.isValid(e.ID) ? e.type + "/" + e.ID : t.isValid(e.tag) ? e.tag : "string" == typeof e ? e : "empty"
		}, t.numberToString = function(t) {
			for (var e = "" + t, i = "", n = 1, a = e.length - 1; a >= 0; a--) i = "" + e.charAt(a) + i, n % 3 == 0 && n > 0 && a > 0 && (i = "," + i), n++;
			return i
		}, t.isSchoolHours = function() {
			var t = (new Date).getHours();
			return t >= 8 && t <= 15
		}, t.isSchoolDay = function() {
			var t = (new Date).getDay();
			return 0 !== t && 6 !== t
		}, t.isNightTime = function() {
			var t = (new Date).getHours();
			return t >= 16 && t <= 23
		}, t.isDefined = function(t) {
			return !(void 0 === t || null === t || "null" === t)
		}, t.isNullOrUndefined = function(t) {
			return null === t || void 0 === t
		}, t.isValid = function(t) {
			return !(null === t || void 0 === t)
		}, t.has = function(e, i) {
			if (t.isValid(e)) {
				for (var n = i.split("."), a = e, o = 0; o < n.length; o++)
					if (void 0 === (a = a[n[o]]) || null === a || "null" === a) return !1;
				return !0
			}
			return !1
		}, t.isString = function(t) {
			return "string" == typeof t || t instanceof String
		}, t.getDateTime = function() {
			var t = new Date;
			return new Date(t.getUTCFullYear(), t.getUTCMonth(), t.getUTCDay()).getTime()
		}, t.highlightAll = function(e, i, n, a) {
			for (var o = 0; o < e.length; o++) t.isValid(e[o].highlight) && e[o].highlight(i, n, a)
		}, t.getObject = function(e) {
			return "null" === e ? null : t.isString(e) ? JSON.parse(e) : e
		}, t.copyObject = function(e) {
			var i = {};
			if (null === e || "object" != typeof e) return e;
			if (e instanceof Array) {
				i = [];
				for (var n = e.length, a = 0; a < n; a++) i[a] = t.copyObject(e[a])
			}
			if (e instanceof Object)
				for (var o in e) e.hasOwnProperty(o) && (i[o] = t.copyObject(e[o]));
			return i
		}, t.isEmptyObject = function(e) {
			if (!t.isValid(e)) return !0;
			for (var i in e)
				if (e.hasOwnProperty(i)) return !1;
			return !0
		}, t.inArray = function(t, e) {
			for (var i = 0; i < t.length; i++)
				if (t[i] === e) return !0;
			return !1
		}, t.removeDuplicates = function(e) {
			for (var i = [], n = 0; n < e.length; n++) t.inArray(i, e[n]) || i.push(e[n]);
			return i
		}, t.equalArrays = function(t, e) {
			if (t === e) return !0;
			if (null === t || null === e) return !1;
			if (t.length !== e.length) return !1;
			for (var i = 0; i < t.length; ++i)
				if (t[i] !== e[i]) return !1;
			return !0
		}, t.strip = function(t) {
			var e = t;
			try {
				e = t.replace(/[^a-zA-Z0-9]/g, "")
			} catch (t) {}
			return e
		}, t.getUrlVariable = function(t) {
			var e = {};
			return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(t, i, n) {
				return e[i] = n
			}), e[t]
		}, t.removeParamsFromUrl = function(t, e) {
			for (var i = t, n = "", a = 0; a < e.length; a++) n = e[a], i = i.replace(new RegExp("([?&]+)" + n + "=[^&]*&*", "gi"), function(t, e) {
				return e
			});
			if (i.length > 0) {
				var o = i[i.length - 1];
				"?" !== o && "&" !== o || (i = i.substring(0, i.length - 1))
			}
			return i
		}, t.removeFromArray = function(t, e) {
			for (var i = 0; i < e.length; i++)
				if (e[i] === t) {
					e.splice(i, 1);
					break
				}
		}, t.moveArrayElement = function(t, e, i) {
			if (i >= t.length)
				for (var n = i - t.length; n + 1 !== 0;) t.push(void 0), n -= 1;
			return t.splice(i, 0, t.splice(e, 1)[0]), t
		}, t.centreObject = function(e, i, n, a, o) {
			t.isValid(i) && t.isValid(a) && (e.x = i - .5 * a), t.isValid(n) && t.isValid(o) && (e.y = n - .5 * o)
		}, t.getCenteredXY = function(t, e, i, n, a, o) {
			return {
				x: i + .5 * (a - t),
				y: n + .5 * (o - e)
			}
		}, t.processTime = function(t) {
			if (t <= 0) return "00:00";
			var e = Math.floor(t / 36e5),
				i = Math.floor((t - 36e5 * e) / 6e4),
				n = Math.floor((t - 36e5 * e - 6e4 * i) / 1e3),
				a = "",
				o = "",
				r = "";
			return a = 0 === e ? "00" : e < 10 ? "0" + e : "" + e, o = 0 === i ? "00" : i < 10 ? "0" + i : "" + i, r = 0 === n ? "00" : n < 10 ? "0" + n : "" + n, "00" === a ? o + ":" + r : e < 24 ? a + ":" + o + ":" + r : Math.floor(e / 24) + " days"
		}, t.calculateItemSpacing = function(t, e, i) {
			return (i - t * e) / (t + 1)
		}, t.calculateItemCoordinate = function(t, e, i) {
			return (e + i) * t + i
		}, t.centerItemsWithinContainer = function(e, i, n, a, o) {
			var r = {
				width: 0,
				height: 0
			};
			if (t.isValid(o)) r.width = o.width, r.height = o.height;
			else {
				for (var s = 0; s < e.length; s++) {
					var l = e[s];
					l.width > r.width && (r.width = l.width), r.height += l.height
				}
				r.height /= e.length
			}
			var c = n ? 0 : i.x,
				h = n ? 0 : i.y;
			t.isValid(a) && (c += t.isValid(a.x) ? a.x : 0, h += t.isValid(a.y) ? a.y : 0);
			var u = t.calculateItemSpacing(e.length, r.width, i.width),
				p = t.calculateItemSpacing(1, r.height, i.height),
				d = h + t.calculateItemCoordinate(0, r.height, p);
			e.forEach(function(e, i) {
				e.x = c + t.calculateItemCoordinate(i, r.width, u), e.y = d
			})
		}, t.frameDataToFrameJson = function(t) {
			for (var e = {}, i = 0; i < t.length; i++) e[t[i].name] = {
				frame: {
					x: t[i].x,
					y: t[i].y,
					w: t[i].width,
					h: t[i].height
				},
				trimmed: t[i].trimmed,
				sourceSize: {
					w: t[i].sourceSizeW,
					h: t[i].sourceSizeH
				},
				spriteSourceSize: {
					x: t[i].spriteSourceSizeX,
					y: t[i].spriteSourceSizeY,
					w: t[i].spriteSourceSizeW,
					h: t[i].spriteSourceSizeH
				}
			};
			return {
				frames: e
			}
		}, t.filterDuplicateKeys = function(e, i) {
			for (var n = [], a = 0; a < i.length; a++) {
				var o = i[a];
				"key" === o.type && e.prodigy.player.backpack.hasItem("key", o.ID) > 0 || "spell" === o.type && t.isValid(e.prodigy.player.data.spells) && -1 !== e.prodigy.player.data.spells.indexOf(o.ID) || n.push(o)
			}
			return n
		}, t.validateVersion = function(t) {
			return /^[0-9-]+$/.test(t) ? t : null
		}, t.extends = function(t, e, i) {
			for (var n in t.prototype = Object.create(e.prototype), i) t.prototype[n] = i[n]
		}, t.trimText = function(t, e, i) {
			void 0 === i && (i = !1);
			var n = t;
			return n.length > e && (n = t.substring(0, e), i && (n += "...")), n
		}, t.joinByProperty = function(t, e, i) {
			void 0 === i && (i = ",");
			for (var n = "", a = t.length, o = 0; o < a; o++) n += "" + t[o][e] + (o < a - 1 ? i : "");
			return n
		}, t.rgbArrayToHex = function(e) {
			return t.rgb2hex(e[0], e[1], e[2])
		}, t.rgb2hex = function(t, e, i) {
			return i | e << 8 | t << 16
		}, t.cleanUpGameID = function(t) {
			for (var e in t)
				for (var i = 0; i < t[e].length; i++) t[e][i].hasOwnProperty("gameID") && (t[e][i].hasOwnProperty("ID") || (t[e][i].ID = t[e][i].gameID), delete t[e][i].gameID)
		}, t.getEnvironment = function() {
			var t = window.location.host,
				e = window.location.search,
				i = "local";
			return t.indexOf("-qa") >= 0 || t.indexOf("dev.prodigygame.org") >= 0 ? i = "local" : t.indexOf("prodigygame.net") >= 0 || e.indexOf("env=dev") >= 0 ? i = "dev" : t.indexOf("prodigygame.org") >= 0 || e.indexOf("env=staging") >= 0 ? i = "staging" : (t.indexOf("prodigygame.com") >= 0 || e.indexOf("env=production") >= 0 || e.indexOf("env=prod") >= 0) && (i = "production"), i
		}, t.getOptionalParameter = function(t, e) {
			return void 0 === t ? e : t
		}, t.isSpineLoaded = function(t, e) {
			if (t.checkTextKey(e + "Atlas") && t.checkJSONKey(e)) {
				for (var i = t.getText(e + "Atlas"), n = /\S+(?:\.png|\.jpg|\.jpeg)/g.exec(i), a = 0; a < n.length; ++a)
					if (!t.checkImageKey(n[a])) return !1;
				return !0
			}
			return !1
		}, t.getWorldPosition = function(e) {
			var i = 0,
				n = 0;
			if (t.isValid(e)) {
				i = e.position.x, n = e.position.y;
				for (var a = e.parent; t.isValid(a);) i += a.position.x, n += a.position.y, a = a.parent
			}
			return {
				x: i,
				y: n
			}
		}, t.hilightObjectOnLayer = function(e, i, n, a, o) {
			void 0 === i && (i = 0), void 0 === n && (n = 0);
			var s = t.isValid(o) ? o : a,
				l = s.add(e.prodigy.create.sprite(i, n, "atlas-21", "help"));
			return l.anchor.setTo(.5, 1), t.isValid(a) && (l.x += t.getWorldPosition(a).x - t.getWorldPosition(s).x, l.y += t.getWorldPosition(a).y - t.getWorldPosition(s).y), e.add.tween(l).to({
				y: l.y + 25
			}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, r.GameConstants.MAX_SAFE_INTEGER, !0), l
		}, t.resizeSpriteMaintainingAspectRatio = function(t, e, i) {
			t.width > t.height ? (t.scale.x = e / t.width, t.scale.y = t.scale.x) : (t.scale.y = i / t.height, t.scale.x = t.scale.y)
		}, t.safeDeleteObjectProperty = function(e, i) {
			t.isValid(e[i]) && delete e[i]
		}, t.deleteFieldsWithNullsOrEmptyStrings = function(e, i) {
			for (var n in void 0 === i && (i = !1), e) e.hasOwnProperty(n) && ("" === e[n] ? (i && a.Logger.log("Util.deleteFieldsWithNullsOrEmptyStrings - deleted key with empty string value named: " + n, a.LogLevel.Verbose), delete e[n]) : null === e[n] ? (i && a.Logger.log("Util.deleteFieldsWithNullsOrEmptyStrings - deleted key with null value named: " + n, a.LogLevel.Verbose), delete e[n]) : "object" == typeof e[n] && t.deleteFieldsWithNullsOrEmptyStrings(e[n]))
		}, t.defineLazyLoadedProperty = function(t, e, i, n) {
			void 0 === n && (n = !1), !n && t.hasOwnProperty(e) || Object.defineProperty(t, e, {
				get: function() {
					var n = i.call(t);
					return Object.defineProperty(t, e, {
						get: function() {
							return n
						}
					}), n
				},
				configurable: !0
			})
		}, t.generateUUID = function() {
			var t = (new Date).getTime();
			return "undefined" != typeof performance && "function" == typeof performance.now && (t += performance.now()), "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(e) {
				var i = (t + 16 * Math.random()) % 16 | 0;
				return t = Math.floor(t / 16), ("x" === e ? i : 3 & i | 8).toString(16)
			})
		}, t.inTestGroup = function(e, i, o, s, l) {
			void 0 === l && (l = n.UserID);
			var c = null,
				h = r.GameConstants.get("GameConstants.Features.SplitTests.DEBUG_LANE");
			if (t.isValid(h)) return i === h;
			if (i > s - 1 || i < 0) return a.Logger.log("Lane " + i + " is invalid for totalLanes " + s, a.LogLevel.Error), !1;
			switch (l) {
				case n.UserID:
					c = e.userID;
					break;
				case n.ClassID:
					c = t.getLatestClassID(e.owners, e.playerTeachers, e.playerParents);
					break;
				case n.Grade:
					c = e.grade;
					break;
				default:
					return a.Logger.log("Invalid type " + l, a.LogLevel.Error), !1
			}
			return t.isValid(c) ? Math.floor(c / o) % s === i : (a.Logger.log("Invalid ID being used. type = " + l + " player = " + e, a.LogLevel.Error), !1)
		}, t.inTestGroups = function(e, i, a, o, r) {
			void 0 === r && (r = n.UserID);
			for (var s = 0; s < i.length; s++)
				if (t.inTestGroup(e, i[s], a, o, r)) return !0;
			return !1
		}, t.inTestGroupsBetweenCreationDates = function(e, i, a, o, s, l, c) {
			void 0 === c && (c = n.UserID);
			var h = r.GameConstants.get("GameConstants.Features.SplitTests.CHARACTER_CREATION_TIME"),
				u = h > 0 ? h : e.data.startDate;
			return u >= s && u < l && t.inTestGroups(e, i, a, o, c)
		}, t.validateString = function(e, i) {
			void 0 === i && (i = "");
			for (var n = 0; n < e.length; n++)
				if (t.isValid(e[n])) return e[n];
			return i
		}, t.getLatestClassID = function(e, i, n) {
			var a = [],
				o = null,
				r = null,
				s = null;
			t.isValid(n) && n.length > 0 && (a = n), t.isValid(i) && i.length > 0 && (a = i);
			for (var l = 0; l < a.length; l++) {
				r = a[l];
				for (var c = 0; c < e.length; c++) o = e[c], r.startDate === o.startDate && (null === s || o.startDate > s.startDate) && (s = o)
			}
			return t.isValid(s) ? s.id : 0
		}, t.inTestGroupsBetweenSessionDates = function(e, i, a, o, r, s, l) {
			void 0 === l && (l = n.UserID);
			var c = (new Date).getTime();
			return c >= r && c < s && t.inTestGroups(e, i, a, o, l)
		}, t.getFriendAndClassmateIds = function(t) {
			var e = t.prodigy.friendsListNetworkHandler.classList,
				i = t.prodigy.friendsListNetworkHandler.friendsList;
			return o(e.concat(i), "userID")
		}, t.renderFriendAndClassmateFace = function(t, e, i) {
			var n = t.prodigy.friendsListNetworkHandler.classList,
				a = t.prodigy.friendsListNetworkHandler.friendsList;
			a = a.concat(n);
			for (var o = 0; o < a.length; o++)
				if (a[o].userID === e) {
					var r = new l.Player(t);
					r.init(a[o]), t.prodigy.create.player(i, r, 1, 0, 0, !0, !0, !1, !0).reload();
					break
				}
		}, t.clampedLerp = function(t, e, i) {
			var n = i < 0 ? 0 : i;
			return t + (e - t) * (n = n > 1 ? 1 : n)
		}, t.convertLegacyElements = function(t) {
			return "wizard" === t ? "astral" : "mech" === t ? "storm" : "earth" === t ? "plant" : "ice & fire" === t ? "water" : t
		}, t.spellConversion = function(t) {
			var e = {
				1: 55,
				2: 56,
				3: 57,
				4: 58,
				5: 59,
				6: 60,
				7: 81,
				8: 82,
				9: 83,
				10: 84,
				11: 85,
				12: 86,
				13: 67,
				14: 68,
				15: 69,
				16: 70,
				17: 71,
				18: 72,
				19: 61,
				20: 62,
				21: 63,
				22: 64,
				23: 65,
				24: 66,
				25: 75,
				26: 76,
				27: 77,
				28: 78,
				29: 79,
				30: 80,
				31: 49,
				32: 50,
				33: 51,
				34: 52,
				35: 53,
				36: 54
			};
			return this.isValid(e[t.ID]) ? e[t.ID] : t.ID
		}, t.isClassSelectExperiment = function(t) {
			return !1
		}, t.DEBUG_DAY_LENGTH = 864e5, t
	}();
	e.Util = c
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(229);
	e.GameIdentifiers = a.GameIdentifiers, n(i(1233)), n(i(418)), n(i(1229)), n(i(1207)), n(i(1179)), n(i(1175)), n(i(1173)), n(i(399)), n(i(1171))
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(4),
		o = i(0),
		r = function() {
			function t() {}
			return t.parseData = function(e) {
				t.data = e;
				var i = {
						outfit: 4e-4,
						weapon: 5e-4,
						hat: .001,
						boots: .001,
						item: .025,
						currency: 1
					},
					n = [1, .75, .5, .25, .1];
				for (var a in t.data)
					if (t.data.hasOwnProperty(a))
						for (var r = t.data[a], s = 0; s < r.length; s++) {
							var l = r[s];
							if (t.itemMap[a + "-" + l.ID] = l, o.Util.isValid(l.data.drop) && l.data.drop > 0) {
								var c = 0;
								i.hasOwnProperty(a) && (c = i[a]);
								var h = 1;
								o.Util.isValid(l.data.rarity) && l.data.rarity < n.length && (h = n[l.data.rarity]);
								var u = c * h * l.data.drop;
								if (u > 0) {
									var p = {
										type: a,
										ID: l.ID,
										R: u
									};
									t.drops.push(p)
								}
							}
						}
			}, t.getItem = function(e, i) {
				var n = t.itemMap[e + "-" + i];
				return o.Util.isValid(n) ? n : null
			}, t.doesExist = function(e, i) {
				return null !== t.getItem(e, i)
			}, t.getRandomItem = function(e) {
				var i = t.data[e];
				return o.Util.isValid(i) && i.length > 0 ? i[Math.floor(i.length * Math.random())] : null
			}, t.getItemDrops = function(e) {
				var i = t.drops.slice();
				o.Util.isValid(e) && (i = i.concat(e));
				for (var n = [], a = 0; a < i.length; a++) {
					var r = i[a];
					o.Util.isValid(r) && Math.random() < r.R && n.push(r)
				}
				return n
			}, t.getItemsWithFilter = function(e, i) {
				return t.data.hasOwnProperty(e) ? t.data[e].filter(i) : []
			}, t.getCategoryItems = function(e) {
				return t.data[e]
			}, t.getItemData = function(e, i) {
				var a = t.getItem(e, i);
				return o.Util.isValid(a) ? a.data : ("gold" !== e && n.Logger.log("Item Data not found for type: " + e + " ID: " + i, n.LogLevel.Error), null)
			}, t.getItemMetadata = function(e, i) {
				var n = t.itemMap[e + "-" + i];
				return o.Util.isValid(n) ? n.metadata : null
			}, t.getIconAtlas = function(e) {
				if (!o.Util.isValid(e)) return "atlas-21";
				if (o.Util.isValid(e.metadata) && o.Util.isValid(e.metadata.iconAtlas)) return e.metadata.iconAtlas;
				if (o.Util.isValid(e.iconAtlas)) return e.iconAtlas;
				if (o.Util.isValid(e.ID) && o.Util.isValid(e.type)) {
					var i = null;
					if (o.Util.isValid(e.metadata) && o.Util.isValid(e.metadata.icon) && o.Util.isValid(e.metadata.icon.type)) {
						if (i = t.getItem(e.metadata.icon.type, e.metadata.icon.ID).metadata, o.Util.isValid(i) && o.Util.isValid(i.iconAtlas)) return i.iconAtlas
					} else {
						var n = t.getItem(e.type, e.ID);
						if (i = o.Util.isValid(n) ? n.metadata : null, o.Util.isValid(i) && o.Util.isValid(i.iconAtlas)) return i.iconAtlas;
						if (o.Util.isValid(i) && o.Util.isValid(i.vIcon) || "storeTab" === e.type) return "icon-" + e.type + "-" + e.ID
					}
				}
				return "atlas-21"
			}, t.getIconFrame = function(t) {
				return "string" != typeof t ? o.Util.isValid(t.ID) ? "" + t.ID : null : t
			}, t.getItems = function(e, i) {
				return t.getItemsWithFilter(e, function(t) {
					return o.Util.isValid(t.data.drop) && t.data.drop > 0 && o.Util.isValid(t.data.rarity) && t.data.rarity === i
				})
			}, t.getRawItems = function(e, i) {
				return o.Util.isValid(i) ? t.getItemsWithFilter(e, function(t) {
					return o.Util.isValid(t.data.rarity) && t.data.rarity === i
				}) : t.data.hasOwnProperty(e) ? t.data[e] : []
			}, t.getCost = function(e, i) {
				var n = t.getItem(e, i).data;
				return o.Util.isValid(n) && o.Util.isValid(n.cost) ? n.cost[0] : {
					type: "currency",
					ID: 1,
					N: 250
				}
			}, t.getRandomizedDropsFromCreatures = function(t, e, i) {
				var n = [],
					r = [];
				if (o.Util.isValid(t))
					for (var s = void 0, l = 0; l < t.length; l++) "hat" === (s = t[l]).type || "outfit" === s.type || "weapon" === s.type || "boots" === s.type || "relic" === s.type ? 0 === r.length && r.push(s) : n.push(s);
				if (i) {
					var c = a.GameConstants.get("GameConstants.Debug.FORCE_DROPS").concat(e.getDrops()),
						h = 4;
					for (l = 0; l < c.length; l++) "hat" === c[l].type || "outfit" === c[l].type || "weapon" === c[l].type || "boots" === c[l].type || "relic" === c[l].type ? 0 === r.length && r.push(c[l]) : 0 !== h && ("item" !== c[l].type && "currency" !== c[l].type || h--, n.push(c[l]))
				}
				return r.length > 0 && n.push(r[0]), n
			}, t.getRangeByAmount = function(e, i, n) {
				for (var a = [], r = i; r <= i + n - 1; r++) {
					var s = t.data[e][r];
					o.Util.isValid(s) && a.push(s)
				}
				return a
			}, t.getItemCount = function(e) {
				return o.Util.isValid(t.data[e]) ? t.data[e].length : 0
			}, t.getEpicRelic = function(e) {
				switch (t.getItem(e.getType(), e.getID()).data.element) {
					case "mech":
					case "storm":
						return {
							type: "relic", ID: 29
						};
					case "earth":
						return {
							type: "relic", ID: 30
						};
					case "fire":
						return {
							type: "relic", ID: 31
						};
					case "ice":
						return {
							type: "relic", ID: 32
						};
					case "water":
						return {
							type: "relic", ID: 33
						};
					case "ice & fire":
						return {
							type: "relic", ID: 34
						};
					default:
						return {
							type: "relic", ID: 29
						}
				}
			}, t.itemMap = {}, t.drops = [], t
		}();
	e.Items = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a, o = i(11),
		r = i(4),
		s = i(7),
		l = i(0);
	! function(t) {
		t[t.UP = 0] = "UP", t[t.UP_RIGHT = 45] = "UP_RIGHT", t[t.RIGHT = 90] = "RIGHT", t[t.DOWN_RIGHT = 135] = "DOWN_RIGHT", t[t.DOWN = 180] = "DOWN", t[t.DOWN_LEFT = 225] = "DOWN_LEFT", t[t.LEFT = 270] = "LEFT", t[t.UP_LEFT = 315] = "UP_LEFT"
	}(a = e.EAreaEventAngle || (e.EAreaEventAngle = {}));
	var c = function(t) {
		function e(e, i, n, s, c, h, u, p, d) {
			void 0 === u && (u = a.UP);
			var g = t.call(this, e, i, n.x, n.y) || this;
			g.isBlocked = !1, g.data = {}, g.canReTrigger = !1, g.callback = null, g.frameCount = 0, g.fired = !1, g.data = n, g.user = s, g.path = c, g.canReTrigger = o(n, "canReTrigger", !1), g.callback = d ? null : h;
			var f = o(n, "guideHandPathToX", n.x),
				y = o(n, "guideHandPathToY", n.y),
				m = u;
			l.Util.isValid(m) || (m = n.x < 50 ? n.y < 50 ? a.UP_LEFT : n.y > 670 ? a.DOWN_LEFT : a.LEFT : n.x > 1230 ? n.y < 50 ? a.UP_RIGHT : n.y > 670 ? a.DOWN_RIGHT : a.RIGHT : n.y < 50 ? a.UP : n.y > 60 ? a.DOWN : a.LEFT);
			var _ = g.add(e.prodigy.create.sprite(0, 0, "atlas-18", "area-pointer"));
			_.anchor.setTo(.5, 0), _.angle = m, _.inputEnabled = !0, _.events.onInputDown.add(g.moveTo.bind(g, f, y));
			var v = 0;
			m > a.UP && m < a.DOWN ? v = -30 : m > a.DOWN && m < 360 && (v = 30);
			var E = 0;
			return m > a.LEFT || m < a.RIGHT ? E = 30 : m > a.RIGHT && m < a.LEFT && (E = -30), _.x = o(n, "arrowOffsetX", 0), _.y = o(n, "arrowOffsetY", 0), g.game.add.tween(_).to({
				x: _.x + v,
				y: _.y + E
			}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, r.GameConstants.MAX_SAFE_INTEGER, !0), g.visible = !1, g.frameCount = 0, g
		}
		return n(e, t), e.prototype.moveTo = function(t, e) {
			this.user.setValidPath(this.path, t, e, null)
		}, e.prototype.update = function() {
			if (t.prototype.update.call(this), !(this.user.evtProc || this.fired && !this.canReTrigger))
				if (this.frameCount <= 0) {
					this.frameCount = 5;
					var e = !1;
					l.Util.isValid(this.data.r) && Phaser.Math.distance(this.user.x, this.user.y, this.x, this.y) <= this.data.r ? e = !this.fired : !l.Util.isValid(this.data.r) && l.Util.isValid(this.data.w) && this.user.x >= this.x - Math.floor(this.data.w / 2) && this.user.x <= this.x + Math.floor(this.data.w / 2) && this.user.y >= this.y - Math.floor(this.data.h / 2) && this.user.y <= this.y + Math.floor(this.data.h / 2) ? e = !this.fired : this.canReTrigger && (this.fired = !1), e && (this.fired = !0, l.Util.isValid(this.callback) && this.callback())
				} else this.frameCount--
		}, e.prototype.process = function(t, e, i) {
			return void 0 === i && (i = ""), this.visible = !1, this.checkDistance(t, e, i)
		}, e.prototype.setClosest = function() {
			this.visible = !0
		}, e.prototype.checkDistance = function(t, e, i) {
			if (!l.Util.isValid(this.data.target) || !l.Util.isValid(i)) return null;
			if (t.ID + "-" + e.getTag() === i) return 1;
			var n = function(t, e, a) {
				if (!l.Util.isValid(a) || l.Util.inArray(e, a)) return null;
				if (i === a) return e.length + 1;
				var o = a.split("-"),
					r = t.getZone(o[0]);
				if (!l.Util.isValid(r)) return null;
				for (var s = r.getMap(o[1]).locations, c = null, h = 0; h < s.length; h++) {
					var u = n(t, e.concat([a]), s[h]);
					(!l.Util.isValid(c) || u < c && l.Util.isValid(u)) && (c = u)
				}
				return c
			};
			return n(this.game.prodigy.world, [t.ID + "-" + e.getTag()], this.data.target)
		}, e.prototype.getOverlay = function() {
			var t, e, i, n;
			l.Util.isValid(this.data.r) ? (t = this.x, e = this.y, i = n = this.data.r) : l.Util.isValid(this.data.rect) ? (t = this.x, e = this.y, i = this.data.w, n = this.data.h) : (t = this.x + (this.data.x < 100 ? -Math.floor(.5 * this.data.w) : this.data.x > 1180 ? Math.floor(.5 * this.data.w) : 0), e = this.y + (this.data.y < 100 ? -Math.floor(.5 * this.data.h) : this.data.y > 620 ? Math.floor(.5 * this.data.h) : 0), i = this.data.w * (this.data.x < 100 || this.data.x > 1180 ? 1 : .5), n = this.data.h * (this.data.y < 100 || this.data.y > 620 ? 1 : .5));
			var a = this.game.add.graphics(0, 0);
			return a.beginFill(0, .75), this.data.rect ? a.drawRect(t - .5 * i, e - .5 * n, i, n) : a.drawEllipse(t, e, i, n), a
		}, e
	}(s.Element);
	e.AreaEvent = c
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(23),
		o = function() {
			function t() {}
			return Object.defineProperty(t, "MAX_SAFE_INTEGER", {
				get: function() {
					return 9007199254740991
				},
				enumerable: !0,
				configurable: !0
			}), t.get = function(t) {
				return this.constants[t]
			}, t.setLogLevel = function(t) {
				if ("number" == typeof t) n.Logger.setLogLevel(t);
				else switch (t) {
					case "dev":
					case "verbose":
					case "all":
						n.Logger.setLogLevel(n.LogLevel.Verbose);
						break;
					case "warn":
						n.Logger.setLogLevel(n.LogLevel.Warning);
						break;
					case "error":
					default:
						n.Logger.setLogLevel(n.LogLevel.Error)
				}
			}, t.enableDebug = function(t, e, i) {
				void 0 === i && (i = !1), "KHQpSxH7FxdcmyceV8mjcg==" === CryptoJS.MD5(e).toString(CryptoJS.enc.Base64) && (this.constants["GameConstants.Build.DEBUG"] = !0, this.constants["GameConstants.Build.SHOW_FPS"] = i, t.prodigy.debugMisc.enableDebugCalls(t), t.prodigy.debugQuests.enableDebugCalls(t))
			}, t.setDrops = function(t, e) {
				this.constants["GameConstants.Debug.FORCE_DROPS"] = e
			}, t.enableGameConstant = function(t, e) {
				this.constants[t] = e
			}, t.setNFactor = function(t) {
				this.constants["GameConstants.Debug.SET_NFACTOR"] = t
			}, t.setCrit = function(t) {
				this.constants["GameConstants.Debug.SET_CRIT"] = t
			}, t.setAttackOverride = function(t) {
				this.constants["GameConstants.Battle.ATTACK_OVERRIDE"] = t
			}, t.setEscapeChance = function(t) {
				this.constants["GameConstants.Battle.ESCAPE_CHANCE"] = t
			}, t.scaleEncounterDistance = function(t) {
				this.constants["GameConstants.Debug.SCALE_ENCOUNTER_DISTANCE"] = t
			}, t.setRespawnTime = function(t) {
				void 0 === t && (t = 120), this.constants["GameConstants.Debug.MONSTER_RESPAWN_TIME"] = t
			}, t.setGameSpeed = function(t) {
				this.constants["GameConstants.Debug.GAME_SPEED"] = t
			}, t.setFeedLimit = function(t) {
				this.constants["GameConstants.Debug.FEED_LIMIT"] = t
			}, t.overrideUserRank = function(t) {
				this.constants["GameConstants.PVP.OVERRIDE_USER_RANK"] = t
			}, t.overrideUserPoints = function(t) {
				this.constants["GameConstants.PVP.OVERRIDE_USER_POINTS"] = t
			}, t.setUnlimitedWheelSpins = function(t) {
				this.constants["GameConstants.Debug.UNLIMITED_WHEEL_SPINS"] = t
			}, t.setWheelSpinDuration = function(t) {
				this.constants["GameConstants.Features.Wheel.SPIN_TIME"] = t
			}, t.setMonsterRadiusVisible = function(t) {
				this.constants["GameConstants.Debug.MONSTER_RADIUS_VISIBLE"] = t
			}, t.setMaintainAspectRatio = function(t) {
				this.constants["GameConstants.Build.SCALE_MODE"] = t ? 2 : 0
			}, t.resetMaxPlayerLimit = function() {
				return !!t.isMaxOnScreenOrigSet && (this.constants[t.Build.MAX_ON_SCREEN_PLAYERS_MOBILE] = t.maxOnScreenPlayersMobileOrig, this.constants[t.Build.MAX_ON_SCREEN_PLAYERS_PC] = t.maxOnScreenPlayersPCOrig, !0)
			}, t.setMaxPlayerLimit = function(e) {
				t.isMaxOnScreenOrigSet || (t.isMaxOnScreenOrigSet = !0, t.maxOnScreenPlayersMobileOrig = this.constants[t.Build.MAX_ON_SCREEN_PLAYERS_MOBILE], t.maxOnScreenPlayersPCOrig = this.constants[t.Build.MAX_ON_SCREEN_PLAYERS_PC]), a.Device.isTablet() ? this.constants[t.Build.MAX_ON_SCREEN_PLAYERS_MOBILE] = e : this.constants[t.Build.MAX_ON_SCREEN_PLAYERS_PC] = e
			}, t.getMaxPlayerLimit = function() {
				return a.Device.isTablet() ? this.constants[t.Build.MAX_ON_SCREEN_PLAYERS_MOBILE] : this.constants[t.Build.MAX_ON_SCREEN_PLAYERS_PC]
			}, t.setKillGore = function(t) {
				this.constants["GameConstants.Build.KILL_GORE"] = t
			}, t.setAlwaysCast = function(t) {
				this.constants["GameConstants.Battle.ALWAYS_CAST"] = t
			}, t.setCharacterCreationDate = function(t, e, i, n, a) {
				void 0 === n && (n = 0), void 0 === a && (a = 0);
				var o = new Date(t, e, i, n, a);
				this.constants["GameConstants.Features.SplitTests.CHARACTER_CREATION_TIME"] = o.getTime()
			}, t.setSplitTestLane = function(t) {
				this.constants["GameConstants.Features.SplitTests.DEBUG_LANE"] = t
			}, t.constants = Object({
				"GameConstants.Build.VERSION": "2-20-0",
				"GameConstants.Build.DEBUG": !1,
				"GameConstants.Build.SHOW_FPS": !1,
				"GameConstants.Build.SHOW_DEBUG_VALUES": [],
				"GameConstants.Build.MUTE_BGM": !1,
				"GameConstants.Build.FRAMEWORK_LOG_LEVEL": 0,
				"GameConstants.Build.ASSETS_LOCATION": "https://cdn.prodigygame.com/game/assets/",
				"GameConstants.Build.TELEPORT": "",
				"GameConstants.Build.QUEST": [],
				"GameConstants.Build.ITEM_TYPE": [],
				"GameConstants.Build.KILL_GORE": !1,
				"GameConstants.Build.EASY_MODE": !0,
				"GameConstants.Build.MEMBERSHIP": !1,
				"GameConstants.Build.SCALE_MODE": 0,
				"GameConstants.Build.ADD_PLAYER_FPS_THRESHOLD_LIMIT": 20,
				"GameConstants.Build.ADD_PLAYER_FPS_THRESHOLD_RENABLE": 25,
				"GameConstants.Build.MAX_ON_SCREEN_PLAYERS_PC": 30,
				"GameConstants.Build.MAX_ON_SCREEN_PLAYERS_MOBILE": 20,
				"GameConstants.Build.MAX_ON_SCREEN_FPS_LIMITED": 5,
				"GameConstants.Build.MIN_ON_SCREEN_PLAYERS": 5,
				"GameConstants.Build.TOKEN_TTL": 36e5,
				"GameConstants.Tower.MAX_FREE_MEMBER_FLOOR": 5,
				"GameConstants.Debug.AUTOSAVE_ENABLED": !0,
				"GameConstants.Debug.POPUPS_ENABLED": !0,
				"GameConstants.Debug.PLAYER_CARDS_ENABLED": !0,
				"GameConstants.Debug.ENABLE_MAP": !1,
				"GameConstants.Debug.AUTO_LOGIN": [],
				"GameConstants.Debug.GET_PET": [],
				"GameConstants.Debug.SET_LEVEL": 0,
				"GameConstants.Debug.DISABLE_ACHIEVEMENTS": !1,
				"GameConstants.Debug.GET_GOLD": 0,
				"GameConstants.Debug.GET_SPELL": 0,
				"GameConstants.Debug.COMPLETE_TUTORIAL": !1,
				"GameConstants.Debug.FORCE_DROPS": [],
				"GameConstants.Debug.SCALE_ENCOUNTER_DISTANCE": 1,
				"GameConstants.Debug.MONSTER_RESPAWN_TIME": 120,
				"GameConstants.Debug.WIZARDS_ENABLED": !0,
				"GameConstants.Debug.AUTO_RESOLVE_BATTLES_ENABLED": !1,
				"GameConstants.Debug.GAME_SPEED": 1,
				"GameConstants.Debug.FAST_GAME_SPEED": 0,
				"GameConstants.Debug.FSM_LOGGING": !1,
				"GameConstants.Debug.DEBUG_LOCALIZATION": !1,
				"GameConstants.Debug.VERBOSE_LOCALIZATION": !1,
				"GameConstants.Debug.AUTO_RESOLVE_TOWER_BATTLES_ENABLED": !1,
				"GameConstants.Debug.EDUCATION_ENABLED": !1,
				"GameConstants.Debug.AUTO_ANSWER_CORRECT_PERCENT": 1,
				"GameConstants.Debug.UNLIMITED_WHEEL_SPINS": !1,
				"GameConstants.Debug.SKIP_MEMBERSHIP_WEBSITE": !1,
				"GameConstants.Debug.GIVES_MEMBERSHIP_AFTER_SKIP_WEBSITE": !1,
				"GameConstants.Debug.MONSTER_RADIUS_VISIBLE": !1,
				"GameConstants.Debug.CLOSE_BATTLE_RESULTS_SCREEN": !1,
				"GameConstants.Debug.DEBUG_LOADING_SETTINGS": !1,
				"GameConstants.Debug.ADD_FAKE_PLAYERS_TO_SCREEN": 0,
				"GameConstants.Debug.OVERRIDE_FPS": 0,
				"GameConstants.Mailer.TEST_MAIL": !1,
				"GameConstants.FriendsList.TEST_FRIENDS_LIST": !1,
				"GameConstants.Features.ENABLE_HOUSE_MOVING": !0,
				"GameConstants.Features.Wheel.COOLDOWN": 5,
				"GameConstants.Features.Wheel.DEFAULT_SPINS": 1,
				"GameConstants.Features.Wheel.MEMBER_SPINS": 2,
				"GameConstants.Features.Wheel.SPIN_TIME": 15e3,
				"GameConstants.Features.SplitTests.PLAY_AT_HOME": !0,
				"GameConstants.Features.SplitTests.CHARACTER_CREATION_TIME": 0,
				"GameConstants.Features.LevelLock.ACADEMY": 15,
				"GameConstants.Battle.VALID_PARENT_EMAIL_STARS_PERCENTAGE": .05,
				"GameConstants.Battle.MEMBER_STARS_PERCENTAGE": .5,
				"GameConstants.Battle.STARS_EARNED_PER_OPPONENT": 10,
				"GameConstants.Battle.MAX_NUM_PETS": 1,
				"GameConstants.Battle.ATTACK_OVERRIDE": -1,
				"GameConstants.Battle.ESCAPE_CHANCE": .75,
				"GameConstants.Battle.CATCH_COST": 50,
				"GameConstants.Battle.CATCH_COST_GOLD": 500,
				"GameConstants.Battle.ALWAYS_SWITCH": !1,
				"GameConstants.Battle.ALWAYS_CAST": -1,
				"GameConstants.Inactivity.DIALOG_TIMER_SECONDS": 1500,
				"GameConstants.Inactivity.LOG_OUT_TIMER_SECONDS": 300,
				"GameConstants.Inactivity.CANNOT_CONNECT_TIMER_SECONDS": 120,
				"GameConstants.Inactivity.NETWORK_BOOT_TIMER_SECONDS": 6e4,
				"GameConstants.Audio.DEFAULT_SOUND_VOLUME": .9,
				"GameConstants.Audio.DEFAULT_MUSIC_VOLUME": .3,
				"GameConstants.Audio.DEFAULT_VOICE_VOLUME": 1,
				"GameConstants.LocationSelection.NONE": "none",
				"GameConstants.LocationSelection.HOME": "home",
				"GameConstants.LocationSelection.SCHOOL": "school",
				"GameConstants.PVP.OVERRIDE_USER_RANK": null,
				"GameConstants.PVP.OVERRIDE_USER_POINTS": null,
				"GameConstants.PVP.OVERRIDE_USER_LEADERBOARD": null
			}), t.isMaxOnScreenOrigSet = !1, t.Build = {
				ADD_PLAYER_FPS_THRESHOLD_LIMIT: "GameConstants.Build.ADD_PLAYER_FPS_THRESHOLD_LIMIT",
				ADD_PLAYER_FPS_THRESHOLD_RENABLE: "GameConstants.Build.ADD_PLAYER_FPS_THRESHOLD_RENABLE",
				ASSETS_LOCATION: "GameConstants.Build.ASSETS_LOCATION",
				DEBUG: "GameConstants.Build.DEBUG",
				EASY_MODE: "GameConstants.Build.EASY_MODE",
				ITEM_TYPE: "GameConstants.Build.ITEM_TYPE",
				KILL_GORE: "GameConstants.Build.KILL_GORE",
				FRAMEWORK_LOG_LEVEL: "GameConstants.Build.FRAMEWORK_LOG_LEVEL",
				MAX_ON_SCREEN_FPS_LIMITED: "GameConstants.Build.MAX_ON_SCREEN_FPS_LIMITED",
				MAX_ON_SCREEN_PLAYERS_MOBILE: "GameConstants.Build.MAX_ON_SCREEN_PLAYERS_MOBILE",
				MAX_ON_SCREEN_PLAYERS_PC: "GameConstants.Build.MAX_ON_SCREEN_PLAYERS_PC",
				MEMBERSHIP: "GameConstants.Build.MEMBERSHIP",
				MIN_ON_SCREEN_PLAYERS: "GameConstants.Build.MIN_ON_SCREEN_PLAYERS",
				MUTE_BGM: "GameConstants.Build.MUTE_BGM",
				QUEST: "GameConstants.Build.QUEST",
				SHOW_DEBUG_VALUES: "GameConstants.Build.SHOW_DEBUG_VALUES",
				SHOW_FPS: "GameConstants.Build.SHOW_FPS",
				TELEPORT: "GameConstants.Build.TELEPORT",
				TOKEN_TTL: "GameConstants.Build.TOKEN_TTL",
				VERSION: "GameConstants.Build.VERSION",
				SCALE_MODE: "GameConstants.Build.SCALE_MODE"
			}, t.Tower = {
				MAX_FREE_MEMBER_FLOOR: "GameConstants.Tower.MAX_FREE_MEMBER_FLOOR"
			}, t.Debug = {
				ADD_FAKE_PLAYERS_TO_SCREEN: "GameConstants.Debug.ADD_FAKE_PLAYERS_TO_SCREEN",
				AUTOSAVE_ENABLED: "GameConstants.Debug.AUTOSAVE_ENABLED",
				AUTO_ANSWER_CORRECT_PERCENT: "GameConstants.Debug.AUTO_ANSWER_CORRECT_PERCENT",
				AUTO_LOGIN: "GameConstants.Debug.AUTO_LOGIN",
				AUTO_RESOLVE_BATTLES_ENABLED: "GameConstants.Debug.AUTO_RESOLVE_BATTLES_ENABLED",
				AUTO_RESOLVE_TOWER_BATTLES_ENABLED: "GameConstants.Debug.AUTO_RESOLVE_TOWER_BATTLES_ENABLED",
				COMPLETE_TUTORIAL: "GameConstants.Debug.COMPLETE_TUTORIAL",
				DEBUG_LOCALIZATION: "GameConstants.Debug.DEBUG_LOCALIZATION",
				DISABLE_ACHIEVEMENTS: "GameConstants.Debug.DISABLE_ACHIEVEMENTS",
				EDUCATION_ENABLED: "GameConstants.Debug.EDUCATION_ENABLED",
				ENABLE_MAP: "GameConstants.Debug.ENABLE_MAP",
				FORCE_DROPS: "GameConstants.Debug.FORCE_DROPS",
				FSM_LOGGING: "GameConstants.Debug.FSM_LOGGING",
				GAME_SPEED: "GameConstants.Debug.GAME_SPEED",
				FAST_GAME_SPEED: "GameConstants.Debug.FAST_GAME_SPEED",
				FEED_LIMIT: "GameConstants.Debug.FEED_LIMIT",
				GET_GOLD: "GameConstants.Debug.GET_GOLD",
				GET_PET: "GameConstants.Debug.GET_PET",
				GET_SPELL: "GameConstants.Debug.GET_SPELL",
				GOD_MODE_ENABLED: "GameConstants.Debug.GOD_MODE_ENABLED",
				MONSTERS_ENABLED: "GameConstants.Debug.MONSTERS_ENABLED",
				PLAYER_CARDS_ENABLED: "GameConstants.Debug.PLAYER_CARDS_ENABLED",
				POPUPS_ENABLED: "GameConstants.Debug.POPUPS_ENABLED",
				SCALE_ENCOUNTER_DISTANCE: "GameConstants.Debug.SCALE_ENCOUNTER_DISTANCE",
				MONSTER_RESPAWN_TIME: "GameConstants.Debug.MONSTER_RESPAWN_TIME",
				SET_CRIT: "GameConstants.Debug.SET_CRIT",
				SET_LEVEL: "GameConstants.Debug.SET_LEVEL",
				SET_NFACTOR: "GameConstants.Debug.SET_NFACTOR",
				SHOW_COLLISIONS: "GameConstants.Debug.SHOW_COLLISIONS",
				VERBOSE_LOCALIZATION: "GameConstants.Debug.VERBOSE_LOCALIZATION",
				WARP_MODE_ENABLED: "GameConstants.Debug.WARP_MODE_ENABLED",
				WIZARDS_ENABLED: "GameConstants.Debug.WIZARDS_ENABLED",
				UNLIMITED_WHEEL_SPINS: "GameConstants.Debug.UNLIMITED_WHEEL_SPINS",
				SKIP_MEMBERSHIP_WEBSITE: "GameConstants.Debug.SKIP_MEMBERSHIP_WEBSITE",
				GIVES_MEMBERSHIP_AFTER_SKIP_WEBSITE: "GameConstants.Debug.GIVES_MEMBERSHIP_AFTER_SKIP_WEBSITE",
				MONSTER_RADIUS_VISIBLE: "GameConstants.Debug.MONSTER_RADIUS_VISIBLE",
				CLOSE_BATTLE_RESULTS_SCREEN: "GameConstants.Debug.CLOSE_BATTLE_RESULTS_SCREEN",
				DEBUG_LOADING_SETTINGS: "GameConstants.Debug.DEBUG_LOADING_SETTINGS"
			}, t.Mailer = {
				TEST_MAIL: "GameConstants.Mailer.TEST_MAIL"
			}, t.FriendsList = {
				TEST_FRIENDS_LIST: "GameConstants.FriendsList.TEST_FRIENDS_LIST"
			}, t.Features = {
				ENABLE_HOUSE_MOVING: "GameConstants.Features.ENABLE_HOUSE_MOVING",
				SplitTests: {
					DEBUG_LANE: "GameConstants.Features.SplitTests.DEBUG_LANE",
					PLAY_AT_HOME: "GameConstants.Features.SplitTests.PLAY_AT_HOME",
					CHARACTER_CREATION_TIME: "GameConstants.Features.SplitTests.CHARACTER_CREATION_TIME"
				},
				Wheel: {
					COOLDOWN: "GameConstants.Features.Wheel.COOLDOWN",
					DEFAULT_SPINS: "GameConstants.Features.Wheel.DEFAULT_SPINS",
					MEMBER_SPINS: "GameConstants.Features.Wheel.MEMBER_SPINS",
					SPIN_TIME: "GameConstants.Features.Wheel.SPIN_TIME"
				},
				LevelLock: {
					ACADEMY: "GameConstansts.Features.LevelLock.ACADEMY"
				}
			}, t.Battle = {
				ATTACK_OVERRIDE: "GameConstants.Battle.ATTACK_OVERRIDE",
				ESCAPE_CHANCE: "GameConstants.Battle.ESCAPE_CHANCE",
				MAX_NUM_PETS: "GameConstants.Battle.MAX_NUM_PETS",
				VALID_PARENT_EMAIL_STARS_PERCENTAGE: "GameConstants.Battle.VALID_PARENT_EMAIL_STARS_PERCENTAGE",
				MEMBER_STARS_PERCENTAGE: "GameConstants.Battle.MEMBER_STARS_PERCENTAGE",
				STARS_EARNED_PER_OPPONENT: "GameConstants.Battle.STARS_EARNED_PER_OPPONENT",
				CATCH_COST: "GameConstants.Battle.CATCH_COST",
				CATCH_COST_GOLD: "GameConstants.Battle.CATCH_COST_GOLD",
				ALWAYS_SWITCH: "GameConstants.Battle.ALWAYS_SWITCH",
				ALWAYS_CAST: "GameConstants.Battle.ALWAYS_CAST"
			}, t.Inactivity = {
				CANNOT_CONNECT_TIMER_SECONDS: "GameConstants.Inactivity.CANNOT_CONNECT_TIMER_SECONDS",
				DIALOG_TIMER_SECONDS: "GameConstants.Inactivity.DIALOG_TIMER_SECONDS",
				LOG_OUT_TIMER_SECONDS: "GameConstants.Inactivity.LOG_OUT_TIMER_SECONDS",
				NETWORK_BOOT_TIMER_SECONDS: "GameConstants.Inactivity.NETWORK_BOOT_TIMER_SECONDS"
			}, t.Audio = {
				DEFAULT_MUSIC_VOLUME: "GameConstants.Audio.DEFAULT_MUSIC_VOLUME",
				DEFAULT_SOUND_VOLUME: "GameConstants.Audio.DEFAULT_SOUND_VOLUME",
				DEFAULT_VOICE_VOLUME: "GameConstants.Audio.DEFAULT_VOICE_VOLUME"
			}, t.LocationSelection = {
				HOME: "GameConstants.LocationSelection.HOME",
				NONE: "GameConstants.LocationSelection.NONE",
				SCHOOL: "GameConstants.LocationSelection.SCHOOL"
			}, t.PVP = {
				OVERRIDE_USER_POINTS: "GameConstants.PVP.OVERRIDE_USER_POINTS",
				OVERRIDE_USER_RANK: "GameConstants.PVP.OVERRIDE_USER_RANK"
			}, t
		}();
	e.GameConstants = o, e.default = o
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			t.ShowDrops = "Prodigy.Events.VictoryManager.SHOW_DROPS", t.Complete = "Prodigy.Events.VictoryManager.COMPLETE"
		}(e.EVictoryManagerEvents || (e.EVictoryManagerEvents = {})),
		function(t) {
			t.OnGetDataComplete = "Prodigy.Events.Survey.ON_GET_DATA_COMPLETE"
		}(e.ESurveyEvents || (e.ESurveyEvents = {})),
		function(t) {
			t.AddChild = "Prodigy.Events.Screen.ADD_CHILD", t.GetLayer = "Prodigy.Events.Screen.GET_LAYER", t.EnableBackground = "Prodigy.Events.Screen.ENABLE_BACKGROUND", t.EnableContent = "Prodigy.Events.Screen.ENABLE_CONTENT"
		}(e.EScreenEvents || (e.EScreenEvents = {})),
		function(t) {
			t.PlayerAdded = "Prodigy.Events.WalkableScreen.PLAYER_ADDED", t.PlayerUpdate = "Prodigy.Events.WalkableScreen.PLAYER_UPDATED"
		}(e.EWalkableScreenEvents || (e.EWalkableScreenEvents = {})),
		function(t) {
			t.Done = "Prodigy.Events.FlyingStars.DONE", t.PippetStarsDone = "Prodigy.Events.FlyingPippetStars.DONE", t.MemberStarsDone = "Prodigy.Events.FlyingMemberStars.DONE"
		}(e.EFlyingStarsEvents || (e.EFlyingStarsEvents = {})),
		function(t) {
			t.Done = "Prodigy.Events.OpenJar.DONE"
		}(e.EOpenMemberJarEvents || (e.EOpenMemberJarEvents = {})),
		function(t) {
			t.GetIsRunning = "Prodigy.Events.Battle.GET_IS_RUNNING", t.PopupClosed = "Prodigy.Events.Battle.POPUP_CLOSED", t.EndBattle = "Prodigy.Events.Battle.END_BATTLE", t.ApplySlotBonus = "Prodigy.Events.Battle.APPLY_SLOT_BONUS", t.PvpComboIncrease = "Prodigy.Events.Battle.PVP_COMBO_INCREASE", t.PvpComboBreak = "Prodigy.Events.Battle.PVP_COMBO_BREAK", t.PvpUpdate = "Prodigy.Events.Battle.PVP_UPDATE", t.PvpComboMeterMoveIn = "Prodigy.Events.Battle.PVP_COMBO_METRE_MOVE_IN", t.PvpComboMeterMoveOut = "Prodigy.Events.Battle.PVP_COMBO_METRE_MOVE_OUT"
		}(e.EBattleEvents || (e.EBattleEvents = {})),
		function(t) {
			t.AnimationDone = "Prodigy.Events.Creature.ANIMATION_DONE", t.LevelUp = "Prodigy.Events.Creature.LEVEL_UP", t.StarsAdded = "Prodigy.Events.Creature.STARS_ADDED", t.PlayerLoaded = "Prodigy.Events.Creature.PLAYER_LOADED", t.LevelUpAnimation = "Prodigy.Events.Creature.LEVEL_UP_ANIMATION", t.ProcessedAllEvents = "Prodigy.Events.Creature.PROCESSED_ALL_EVENTS", t.EvolveStart = "Prodigy.Events.Creature.EVOLVE_START", t.EvolveEnd = "Prodigy.Events.Creature.EVOLVE_END"
		}(e.ECreatureEvents || (e.ECreatureEvents = {})),
		function(t) {
			t.ShowPippetBattleBonus = "Prodigy.Events.Chest.SHOW_PIPPET_BATTLE_BONUS", t.ShowMemberStars = "Prodigy.Events.Chest.SHOW_MEMBER_STARS"
		}(e.EChestEvents || (e.EChestEvents = {})),
		function(t) {
			t.EnableDynamicLayer = "Prodigy.Events.Map.ENABLE_DYNAMIC_LAYER"
		}(e.EMapEvents || (e.EMapEvents = {})),
		function(t) {
			t.Setup = "Prodigy.Events.NetworkHandlers.SETUP"
		}(e.ENetworkHandlerEvents || (e.ENetworkHandlerEvents = {})),
		function(t) {
			t.OpenChat = "Prodigy.Events.HUD.OPEN_CHAT", t.CloseChat = "Prodigy.Events.HUD.CLOSE_CHAT", t.SetClickedWorldMap = "Prodigy.Events.HUD.SET_CLICKED_WORLD_MAP", t.HideChatNotif = "Prodigy.Events.HUD.HIDE_CHAT_NOTIF", t.RouletteSpin = "Prodigy.Events.HUD.ROULETTE_SPIN"
		}(e.EHUDEvents || (e.EHUDEvents = {})),
		function(t) {
			t.GetTotalMail = "Prodigy.Events.Mailer.GET_TOTAL_MAIL", t.GetTotalMailFailure = "Prodigy.Events.Mailer.GET_TOTAL_MAIL_FAILURE", t.GetAllMail = "Prodigy.Events.Mailer.GET_ALL_MAIL", t.GetAllMailSuccess = "Prodigy.Events.Mailer.GET_ALL_MAIL_SUCCESS", t.GetAllMailFailure = "Prodigy.Events.Mailer.GET_ALL_MAIL_FAILURE", t.MarkAsRead = "Prodigy.Events.Mailer.MARK_AS_READ", t.MarkAsReadFailure = "Prodigy.Events.Mailer.MARK_AS_READ_FAILED", t.DeleteMail = "Prodigy.Events.Mailer.DELETE_MAIL", t.DeleteMailSuccess = "Prodigy.Events.Mailer.DELETE_MAIL_SUCCESSFUL", t.DeleteMailFailure = "Prodigy.Events.Mailer.DELETE_MAIL_FAILURE", t.UpdateMailCounters = "Prodigy.Events.Mailer.UPDATE_MAIL_COUNTERS", t.ShowIndicator = "Prodigy.Events.Mailer.SHOW_INDICATOR", t.GiftBoxOpened = "Prodigy.Events.Mailer.GIFT_BOX_OPENED", t.CloseList = "Prodigy.Events.Mailer.CLOSE_LIST"
		}(e.EMailerEvents || (e.EMailerEvents = {})),
		function(t) {
			t.GetGiftBoxes = "Prodigy.Events.GiftBoxes.GET_GIFT_BOXES", t.UpdateConjureCubeCount = "Prodigy.Events.GiftBoxes.UPDATE_CONJURE_CUBE_COUNT"
		}(e.EGiftBoxEvents || (e.EGiftBoxEvents = {})),
		function(t) {
			t.OnGetDataComplete = "Prodigy.Events.Boss.ON_GET_DATA_COMPLETE"
		}(e.EBossEvents || (e.EBossEvents = {})),
		function(t) {
			t.Update = "Prodigy.Events.GameObj.UPDATE", t.PlayerInitialized = "Prodigy.Events.GameObj.PLAYER_INITIALIZED"
		}(e.EGameObjEvents || (e.EGameObjEvents = {})),
		function(t) {
			t.Loaded = "Prodigy.Events.Boot.LOADED"
		}(e.EBootEvents || (e.EBootEvents = {})),
		function(t) {
			t.WorkerLoadComplete = "Prodigy.Events.Loading.WORKER_LOAD_COMPLETE"
		}(e.ELoadingEvents || (e.ELoadingEvents = {})),
		function(t) {
			t.ClickedHouseIcon = "Prodigy.Events.House.CLICKED_HOUSE_ICON", t.OpenEditor = "Prodigy.Events.House.OPEN_EDITOR", t.CloseEditor = "Prodigy.Events.House.CLOSE_EDITOR"
		}(e.EHouseEvents || (e.EHouseEvents = {})),
		function(t) {
			t.InkBlasted = "Prodigy.Events.ShipwreckShore.INK_BLASTED", t.InkGroupDestroyed = "Prodigy.Events.ShipwreckShore.INK_GROUP_DESTROYED"
		}(e.EShipwreckShoreEvents || (e.EShipwreckShoreEvents = {})),
		function(t) {
			t.AutoClick = "Prodigy.Events.Debug.AUTO_CLICK", t.AutoClickUI = "Prodigy.Events.Debug.AUTO_CLICK_UI", t.AutoClickScene = "Prodigy.Events.Debug.AUTO_CLICK_SCENE", t.AutoClickList = "Prodigy.Events.Debug.AUTO_CLICK_LIST", t.GetUIElement = "Prodigy.Events.Debug.GET_UI_ELEMENT"
		}(e.EDebugEvents || (e.EDebugEvents = {})),
		function(t) {
			t.OnMouseWheel = "Prodigy.Events.Input.ON_MOUSE_WHEEL"
		}(e.EInputEvents || (e.EInputEvents = {})),
		function(t) {
			t.GotFriendsList = "Prodigy.Events.FriendsList.GOT_FRIENDS_LIST", t.GotFriendsListAppearance = "Prodigy.Events.FriendsList.GOT_FRIENDS_LIST_APPEARANCE", t.GetTotalFriendRequests = "Prodigy.Events.FriendsList.GET_TOTAL_FRIEND_REQUESTS", t.GetTotalFriendRequestsFailure = "Prodigy.Events.FriendsList.GET_TOTAL_FRIEND_REQUESTS_FAILURE", t.ClearFriendRequestsCache = "Prodigy.Events.FriendsList.CLEAR_FRIEND_REQUESTS_CACHE", t.GetFriendRequestList = "Prodigy.Events.FriendsList.GET_FRIEND_REQUEST_LIST", t.GotFriendRequestList = "Prodigy.Events.FriendsList.GOT_FRIEND_REQUEST_LIST", t.GetFriendList = "Prodigy.Events.FriendsList.GET_FRIENDS_LIST", t.SetRequests = "Prodigy.Events.FriendsList.SET_REQUESTS", t.SendRequest = "Prodigy.Events.FriendsList.SEND_REQUEST", t.CancelRequest = "Prodigy.Events.FriendsList.CANCEL_REQUEST", t.AcceptRequest = "Prodigy.Events.FriendsList.ACCEPT_REQUEST", t.RejectRequest = "Prodigy.Events.FriendsList.REJECT_REQUEST", t.RequestSent = "Prodigy.Events.FriendsList.REQUEST_SENT", t.RequestCancelled = "Prodigy.Events.FriendsList.REQUEST_CANCELLED", t.RequestReceived = "Prodigy.Events.FriendsList.REQUEST_RECEIVED", t.RequestAccepted = "Prodigy.Events.FriendsList.REQUEST_ACCEPTED", t.RequestRejected = "Prodigy.Events.FriendsList.REQUEST_REJECTED", t.RemoveFriend = "Prodigy.Events.FriendsList.REMOVE_FRIEND", t.FriendRemoved = "Prodigy.Events.FriendsList.FRIEND_REMOVED", t.GetFriendshipStatus = "Prodigy.Events.FriendsList.GET_FRIENDSHIP_STATUS", t.GotFriendshipStatus = "Prodigy.Events.FriendsList.GOT_FRIENDSHIP_STATUS", t.FriendsAppearanceUpdated = "Prodigy.Events.FriendsList.FRIENDS_APPEARANCE_UPDATED", t.IllogicalRequestAction = "Prodigy.Events.FriendsList.ILLOGICAL_REQUEST_ACTION"
		}(e.EFriendsListEvents || (e.EFriendsListEvents = {})),
		function(t) {
			t.MovePlayer = "Prodigy.Events.PlayerLocomotion.MOVE_PLAYER", t.StopPlayer = "Prodigy.Events.PlayerLocomotion.STOP_PLAYER", t.GetTarget = "Prodigy.Events.PlayerLocomotion.GET_TARGET"
		}(e.EPlayerLocomotionEvents || (e.EPlayerLocomotionEvents = {})),
		function(t) {
			t.SetBackgroundPanelTileDimensions = "Prodigy.Events.LocationPage.SET_BACKGROUND_PANEL_TILE_DIMENSIONS", t.GetBackgroundPanelTileDimensions = "Prodigy.Events.LocationPage.GET_BACKGROUND_PANEL_TILE_DIMENSIONS"
		}(e.EAccountCreateEvents || (e.EAccountCreateEvents = {})),
		function(t) {
			t.TabButtonClicked = "Prodigy.Events.UI.TAB_BUTTON_CLICKED", t.TabSelected = "Prodigy.Events.UI.TAB_SELECTED", t.ChildAdded = "Prodigy.Events.UI.CHILD_ADDED", t.ChildRemoved = "Prodigy.Events.UI.CHILD_REMOVED", t.MenuOpened = "Prodigy.Events.UI.MENU_OPENED", t.MountTogglePressed = "Prodigy.Events.UI.MOUNT_TOGGLE_PRESSED"
		}(e.EUIEvents || (e.EUIEvents = {})),
		function(t) {
			t.GotTitans = "Prodigy.Events.Titan.GOT_TITANS", t.GotTitan = "Prodigy.Events.Titan.GOT_TITAN", t.Catapult = "Prodigy.Events.Titan.CATAPULT"
		}(e.ETitanEvents || (e.ETitanEvents = {})),
		function(t) {
			t.PlayerAppearanceUpdated = "Prodigy.Events.PlayerContainer.PLAYER_APPEARANCE_UPDATED", t.NewAnimationStateSet = "Prodigy.Events.PlayerContainer.NEW_ANIMATION_STATE_SET", t.PlayerEquipmentEquip = "Prodigy.Events.PlayerContainer.PLAYER_EQUIPMENT_EQUIP ", t.PlayerEquipmentUnequip = "Prodigy.Events.PlayerContainer.PLAYER_EQUIPMENT_UNEQUIP "
		}(e.EPlayerContainerEvents || (e.EPlayerContainerEvents = {})),
		function(t) {
			t.POST_MESSAGE_RECEIVED = "Prodigy.Events.Web.POST_MESSAGE_RECEIVED"
		}(e.EWebEvents || (e.EWebEvents = {}))
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			t.StoreService = "StoreService", t.HttpClient = "HttpClient", t.VoucherService = "VoucherService", t.SessionRecorder = "ISessionRecorder", t.LoggedInPlayer = "LoggedInPlayer", t.JWTAuthenticationProvider = "JWTAuthProvider", t.LegacyAuthenticationProvider = "LegacyAuthProvider", t.TimeManager = "TimeManager", t.DeviceInfo = "DeviceInfoProvider", t.Game = "Game", t.EnvironmentProvider = "EnvironmentProvider", t.URLProvider = "URLProvider", t.SocketService = "SocketService", t.UUIDProvider = "UUIDProvider", t.EventBuilder = "EventBuilder", t.FeatureFlagProvider = "FeatureFlagProvider", t.AnalyticsService = "AnalyticsService", t.GameEventReceivers = "GameEventReceivers", t.GameEventBroadcaster = "GameEventBroadcaster", t.GameAvatarDataFactory = "GameAvatarDataFactory", t.GameBattleDataFactory = "GameBattleDataFactory", t.GameCompleteDataFactory = "GameCompleteDataFactory", t.GameDiscoveryDataFactory = "GameDiscoveryDataFactory", t.GameQuestionDataFactory = "GameQuestionDataFactory", t.GameSocialDataFactory = "GameSocialDataFactory", t.PlayerService = "PlayerService"
		}(e.EProdigyInjectionIdentifiers || (e.EProdigyInjectionIdentifiers = {}))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = i(5),
		r = i(0),
		s = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i) || this;
				return r.Util.isValid(n) && (o.x = n), r.Util.isValid(a) && (o.y = a), o
			}
			return n(e, t), e.prototype.setRenderState = function(t, e) {
				this.renderOnly = t, this.tintElement = e
			}, e.prototype.showTooltip = function(t, e) {
				if (this.hasTooltip() && (this.tooltip.destroy(), this.tooltip = null), r.Util.isValid(t)) {
					this.tooltip = this.game.prodigy.create.element(this, e);
					var i = this.tooltip.add(this.game.prodigy.create.sprite(30, 0, "atlas-18", "tooltip"));
					i.alpha = .9, i.width = 300, i.height = 50, this.game.prodigy.create.font(this.tooltip, 90, 11, t, {
						width: 230,
						align: "center"
					}), i = this.tooltip.add(this.game.prodigy.create.sprite(0, 0, "atlas-21", "type")), this.game.add.tween(i).to({
						x: 10
					}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, a.GameConstants.MAX_SAFE_INTEGER, !0)
				}
			}, e.prototype.hasTooltip = function() {
				return r.Util.isValid(this.tooltip)
			}, e.prototype.highlight = function(t, e, i) {
				void 0 === e && (e = 0), void 0 === i && (i = 0), this.isHighlighted() && (this.arrow.destroy(), this.arrow = null), t && (this.arrow = this.add(this.game.prodigy.create.sprite(0, 0, "atlas-21", "help")), this.arrow.x = e + Math.floor(this.width / 2), this.arrow.y = i - this.arrow.height + 10, this.game.add.tween(this.arrow).to({
					y: this.arrow.y + 25
				}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, a.GameConstants.MAX_SAFE_INTEGER, !0))
			}, e.prototype.isHighlighted = function() {
				return r.Util.isValid(this.arrow)
			}, e.prototype.destroy = function(e, i) {
				this.unregisterGetElementListener(), t.prototype.destroy.call(this, e, i)
			}, e.prototype.registerGetElementListener = function() {
				r.Util.isValid(a.GameConstants.get("GameConstants.Build.DEBUG")) && this.game.broadcaster.addAppListener(o.EDebugEvents.GetUIElement, this.onGetUIElement.bind(this), this, this.game, !1)
			}, e.prototype.unregisterGetElementListener = function() {
				r.Util.isValid(this.game) && this.game.broadcaster.removeAppListener(o.EDebugEvents.GetUIElement, this, this.game)
			}, e.prototype.onGetUIElement = function(t) {
				return r.Util.isValid(t) && this instanceof t ? this : null
			}, e
		}(Phaser.Group);
	e.Element = s
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t(t, e, i, n, a, o, r, s, l, c, h, u, p, d) {
			void 0 === u && (u = null), void 0 === p && (p = null), void 0 === d && (d = null), this.collectionMaps = null, this.zone = t, this.assets = e, this.ID = i, this.descKey = n, this.descCacheKey = n, this.req = a, this.area = o, this.areaCache = o, this.onStart = r, this.onProc = s, this.onComplete = l, this.reward = c, this.chain = h || !1, this.questGiver = u, this.questReceiver = p, this.alternateOnStart = d
		}
		return t.prototype.setup = function(t, e, i) {
			return {}
		}, t.prototype.start = function(t, e, i) {
			return {}
		}, t.prototype.process = function(t, e, i) {}, t.prototype.update = function(t, e, i) {}, t
	}();
	e.Quest = n
}, function(t, e) {
	t.exports = window.inversify
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = i(4),
		s = i(5),
		l = i(0),
		c = function(t) {
			function e(e, i, n, a, o, r, s, c) {
				var h = t.call(this) || this;
				return h.tag = "", h.isScene = !1, h.nameKey = "", h.x = 0, h.y = 0, h.battleBG = "", h.isQuestHub = !1, h.locations = [], h.questParams = {}, h.mapMonsters = [], h.tag = i, h.nameKey = n, h.zoneName = e.ID + "-" + i, h.x = a, h.y = o, h.file = "map-" + h.zoneName.toLowerCase(), h.onFaint = e.onFaint, h.zone = e, h.battleBG = e.battleBG, l.Util.isValid(c) ? h.file = c.toLowerCase() : h.file = "map-" + h.zoneName.toLowerCase(), h.isQuestHub = e.questHub.indexOf(i) >= 0, h.assets = [h.file, "atlas-110"].concat(s), h.locations = r, h
			}
			return n(e, t), Object.defineProperty(e.prototype, "name", {
				get: function() {
					return this.getName()
				},
				enumerable: !0,
				configurable: !0
			}), e.prototype.getName = function() {
				return this.zone.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(this.nameKey)
			}, e.prototype.getLocation = function() {
				return this.zoneName
			}, e.prototype.setup = function(t, e, i) {
				void 0 === i && (i = {}), this.questParams = l.Util.isValid(i) ? i : {}, this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).create("map-enter", "progression", this.zone.name, this.zone.ID).broadcast();
				var n = t.prodigy.bounty.hasBounty(this.zone.ID, this.tag);
				l.Util.isValid(n) && t.prodigy.bounty.placeBounty(n, e, this), this.zone.debugBounties && this.showAllBounties(t, e), this.zone.hasDaily(this) && l.Util.isValid(this.zone.monsters) && this.zone.placeDaily(this, t, e), this.game = t, this.screen = e, this.game.broadcaster.addAppListener(s.EMapEvents.EnableDynamicLayer, this.toggleDynamicLayer.bind(this), this, null, !0)
			}, e.prototype.start = function(t, e, i) {
				var n = l.Util.isValid(i) ? i : this.zone.bgmID;
				t.prodigy.audio.playBGM(n, !0), t.prodigy.audio.resumeBGM()
			}, e.prototype.process = function(t, e, i) {}, e.prototype.update = function(t) {}, e.prototype.getTag = function() {
				return this.tag
			}, e.prototype.cleanup = function() {}, e.prototype.processDynamicLayers = function(t, e) {
				for (var i = 0, n = this.dynamicSprites; i < n.length; i++) {
					var a = n[i];
					l.Util.isValid(a.collisionTile) && a.collisionTile ? a.destroy() : a.isAbove ? (e.above.bringToTop(this.dynamicLayerContainers["element-" + a.dynamicToggle].above), this.dynamicLayerContainers["element-" + a.dynamicToggle].above.add(a)) : (e.below.bringToTop(this.dynamicLayerContainers["element-" + a.dynamicToggle].below), this.dynamicLayerContainers["element-" + a.dynamicToggle].below.add(a))
				}
			}, e.prototype.addAreaEvent = function(t, e, i, n, a, o, r, s, c, h) {
				return void 0 === c && (c = !1), void 0 === h && (h = !1), i.target = n, !l.Util.isValid(r) && t.prodigy.classModeController.isClassMode() && t.prodigy.classModeController.isLockedZone(n) ? (i.canReTrigger = !0, e.addAreaEvent(i, t.prodigy.classModeController.onClassMode.bind(t.prodigy.classModeController, n), s, c, h)) : l.Util.isValid(r) ? e.addAreaEvent(i, r, s, c, h) : e.addAreaEvent(i, t.prodigy.world.teleport.bind(t.prodigy.world, n, a, o), s, c, h)
			}, e.prototype.addChest = function(t, e, i, n, a, o, r, s) {
				return l.Util.isValid(this.questParams.enableChests) && !this.questParams.enableChests ? null : e.addChest(i, n, a, o, r, s)
			}, e.prototype.addMonster = function(t, i, n, a, o, s, c, h, u, p) {
				void 0 === h && (h = !1), void 0 === u && (u = null), void 0 === p && (p = !1);
				var d = r.GameConstants.get("GameConstants.Debug.MONSTERS_ENABLED");
				if (l.Util.isValid(d) && !d || l.Util.isValid(this.questParams.enableMonsters) && !this.questParams.enableMonsters) return null;
				if (l.Util.isValid(this.questParams.overrideMonsterIDWithPippet) && n === this.questParams.overrideMonsterIDWithPippet) return null;
				var g = l.Util.copyObject(c);
				if (l.Util.isValid(this.mapMonsters[n]) || (this.mapMonsters[n] = {}), !h && this.mapMonsters[n].respawn > (new Date).getTime()) return null;
				g.onEnd = l.Util.isValid(g.onEnd) ? g.onEnd : this.zoneName, g.onFaint = l.Util.isValid(g.onFaint) ? g.onFaint : this.onFaint, g.screen = l.Util.isValid(g.screen) ? g.screen : this.battleBG, l.Util.isValid(this.mapMonsters[n].data) && !p && (g.encounter = [this.mapMonsters[n].data]);
				var f = i.addMonster(n, a, o, s, g, e.resetMonsterRespawn.bind(this, this.mapMonsters[n], g, r.GameConstants.get("GameConstants.Debug.MONSTER_RESPAWN_TIME")), l.Util.isValid(this.mapMonsters[n].respawn), u);
				return this.mapMonsters[n].data = f.monsterData, delete this.mapMonsters[n].respawn, f
			}, e.resetMonsterRespawn = function(t, e, i) {
				t.monsterData = null, t.respawn = (new Date).getTime() + 1e3 * i, l.Util.isValid(e) && (t.data = null, l.Util.isValid(e.onEnc) && e.onEnc())
			}, e.prototype.addPippet = function(t, e, i, n, a) {
				var o = this.questParams.enableMonsters || !1;
				l.Util.isValid(t.prodigy.world.pippetEncounterSpawn) && this.zoneName === t.prodigy.world.pippetEncounterSpawn.location && !o && (this.questParams.overrideMonsterIDWithPippet = l.Util.isValid(i) ? i : 1, e.addPippet(i, n, a))
			}, e.prototype.addBounty = function(t, i, n, a, o, r, s, c) {
				void 0 === c && (c = !1);
				var h = l.Util.copyObject(s);
				if (l.Util.isValid(this.mapMonsters[n]) || (this.mapMonsters[n] = {}), !c && this.mapMonsters[n].respawn > (new Date).getTime()) return null;
				h.onEnd = l.Util.isValid(h.onEnd) ? h.onEnd : this.zoneName, h.onFaint = l.Util.isValid(h.onFaint) ? h.onFaint : this.onFaint, h.screen = l.Util.isValid(h.screen) ? h.screen : this.battleBG, l.Util.isValid(this.mapMonsters[n].monsterData) && (h.encounter = [this.mapMonsters[n].monsterData]);
				var u = i.addBounty(n, a, o, r, h, e.resetMonsterRespawn.bind(this, this.mapMonsters[n], null, 5), l.Util.isValid(this.mapMonsters[n].respawn));
				return this.mapMonsters[n].data = u.monsterData, delete this.mapMonsters[n].respawn, u
			}, e.prototype.addWizard = function(t, e, i, n, a, o, r) {
				o.onEnd = l.Util.isValid(o.onEnd) ? o.onEnd : this.zoneName, o.onFaint = l.Util.isValid(o.onFaint) ? o.onFaint : this.onFaint, o.screen = l.Util.isValid(o.screen) ? o.screen : this.battleBG;
				var s = e.addWizard(i, n, a, o);
				return null !== s && (r && s.flip(), l.Util.isValid(this.questParams.enableWizards) && !this.questParams.enableWizards && (s.visible = !1)), s
			}, e.prototype.addConstructedNPC = function(t, e, i, n, a, o, r, s) {
				return l.Util.isValid(this.questParams.hiddenNPCs) && this.questParams.hiddenNPCs.indexOf(a) > -1 ? null : e.addConstructedNPC(i, n, a, o, r, s)
			}, e.prototype.addCollisionZone = function(t, e, i, n, a) {
				for (var o = t.path.size, r = Math.floor(n / o), s = Math.floor(a / o), l = Math.floor(e / o), c = Math.floor(i / o), h = l; h < l + r; h++)
					for (var u = c; u < c + s; u++) t.path.area[u][h] = 0
			}, e.prototype.init = function(e, i, n, a) {
				return t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.validPathTo = function(t, e, i, n) {
				var a = t.prodigy.event.create();
				a.validPath(e.user, e.path, i, n), a.start()
			}, e.prototype.playPortalEffectExit = function(t, e, i, n, a) {
				var o = this.zone.game.prodigy.event.create();
				if (this.portalActive) o.enableInput(!1), o.path(this.screen.user, [{
					x: t,
					y: e
				}]), o.portalEffect(t, e, !1), o.enableInput(!0), o.function(this.zone.game.prodigy.world.teleport.bind(this.zone.game.prodigy.world, i, n, a));
				else {
					this.landedOnPortal = !0, o.enableInput(!1), o.portalEffect(t, e, !1);
					var r = 640 - t,
						s = 360 - e,
						l = Math.sqrt(r * r + s * s);
					0 === l && (l = 1, r = 1), o.path(this.screen.user, [{
						x: 80 * r / l + t,
						y: 80 * s / l + e
					}]), o.set(this, "landedOnPortal", !1), o.set(this, "portalActive", !0), o.function(this.addAreaEvent.bind(this, this.game, this.screen, {
						x: t,
						y: e,
						w: 100,
						h: 80
					}, i, n, a, this.playPortalEffectExit.bind(this, t, e, i, n, a))), o.enableInput(!0)
				}
				o.start()
			}, e.prototype.playPortalEffectEnter = function(t, e, i, n) {
				var a = this.zone.game.prodigy.event.create();
				this.portalActive || (a.enableInput(!1), a.portalEffect(t, e, !1), l.Util.isValid(i) && l.Util.isValid(n) && a.path(this.screen.user, [{
					x: i,
					y: n
				}]), a.set(this, "landedOnPortal", !1), a.set(this, "portalActive", !0), a.enableInput(!0), a.start())
			}, e.prototype.showAllBounties = function(t, e) {
				if (l.Util.isValid(this.coord))
					for (var i = 0; i < this.coord.length; i++) {
						var n = {
							ID: 84,
							seed: Math.floor(100 * Math.random()),
							complete: 0
						};
						t.prodigy.bounty.placeBountyHere(n, e, this, i)
					}
			}, e.prototype.toggleDynamicLayer = function(t, e, i, n) {
				var a = this;
				if (void 0 === n && (n = 1), l.Util.isValid(this.dynamicLayerContainers)) {
					var o = i ? 1 : 0;
					l.Util.isValid(this.dynamicLayerContainers["element-" + e]) && (t.add.tween(this.dynamicLayerContainers["element-" + e].above).to({
						alpha: o
					}, l.Util.isValid(n) ? n : 1, Phaser.Easing.Linear.None).start(), t.add.tween(this.dynamicLayerContainers["element-" + e].below).to({
						alpha: o
					}, l.Util.isValid(n) ? n : 1, Phaser.Easing.Linear.None).start()), l.Util.isValid(this.dynamicLayerContainers["collision-" + e]) && (this.dynamicLayerContainers["collision-" + e].forEach(function(t) {
						a.screen.area[t.y][t.x] = i ? t.value : 1
					}), this.screen.path.init(this.screen.area, this.screen.tileSize))
				}
			}, e
		}(i(316).TiledMap);
	e.Map = c
}, function(t, e, i) {
	var n = i(205);
	t.exports = function(t, e, i) {
		var a = null == t ? void 0 : n(t, e);
		return void 0 === a ? i : a
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(11),
		o = i(41),
		r = i(6),
		s = i(0),
		l = i(2),
		c = i(71),
		h = i(1066),
		u = i(356),
		p = i(198),
		d = i(49),
		g = i(1033),
		f = i(1029),
		y = i(1022),
		m = i(333),
		_ = i(1021),
		v = i(1020),
		E = i(1019),
		b = i(1018),
		O = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				return i.tutorial = null, i.kennel = null, i.quests = null, i.house = null, i.backpack = null, i.achievements = null, i.state = null, i.isMember = !1, i.mount = null, i.userID = 0, i.appearanceChanged = !1, i.chatID = null, i.emoteID = null, i.danceID = null, i.transformID = null, i.timer = null, i.appearance = new m.PlayerAppearance(e.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.PlayerService)), i.equipment = new _.PlayerEquipment(e), i.backpack = new u.Backpack, i.achievements = new h.Achievements, i.kennel = new f.Kennel(i), i.quests = new v.Quests, i.state = new E.State, i.house = new g.House, i.house.setItems(i.house.data), i.tutorial = new b.Tutorial, i.mount = new y.MountEntity, i
			}
			return n(e, t), e.prototype.createRandom = function() {
				this.equipment.setHat(l.Items.getRandomItem("hat").ID), this.equipment.setWeapon(l.Items.getRandomItem("weapon").ID), this.equipment.setOutfit(l.Items.getRandomItem("outfit").ID)
			}, e.prototype.canCatch = function() {
				return !1
			}, e.prototype.getID = function() {
				return this.userID
			}, e.prototype.init = function(e) {
				return !!t.prototype.init.call(this, e) && (s.Util.isValid(e.userID) ? this.userID = e.userID : s.Util.isValid(e.id) && (this.userID = parseInt(e.id)), s.Util.isValid(e.data) && (this.data = s.Util.getObject(e.data)), s.Util.isValid(e.pets) && this.kennel.setPets(s.Util.getObject(e.pets)), s.Util.isValid(e.tutorial) && this.tutorial.setData(s.Util.getObject(e.tutorial)), s.Util.isValid(e.state) && this.state.setData(s.Util.getObject(e.state)), this.house.setItems(s.Util.isValid(e.house) ? s.Util.getObject(e.house) : this.house.data), s.Util.isValid(e.inventory) && (this.backpack.setItems(s.Util.getObject(e.inventory)), this.backpack.consumeLegacyBounties()), s.Util.isValid(e.quests) && this.quests.setQuests(s.Util.getObject(e.quests)), s.Util.isValid(e.achievements) && this.achievements.init(s.Util.getObject(e.achievements)), s.Util.isValid(e.isMember) && this.setMembership(e), s.Util.isValid(e.mount) && this.mount.setMountData(s.Util.getObject(e.mount)), this.name = this.game.prodigy.gameContainer.resolve(c.DataNameResolver), this.name.init(this.appearance.getName(), this.appearance.getGender()), !0)
			}, e.prototype.hasMembership = function() {
				return this.isMember
			}, e.prototype.fx = function(t, e) {
				void 0 === e && (e = !1), this[t] = !e || {
					action: "emit",
					data: {
						userID: this.userID,
						type: t
					}
				}
			}, e.prototype.setMembership = function(t) {
				s.Util.isValid(t) ? this.isMember = 1 === t.isMember : this.isMember = !0
			}, e.prototype.transform = function(t, e) {
				void 0 === t && (t = null), void 0 === e && (e = 0), this.transformID = t, s.Util.isValid(this.timer) && window.clearInterval(this.timer), this.timer = window.setInterval(this.transform.bind(this), e)
			}, e.prototype.transformPlayer = function(t, e, i) {
				void 0 === i && (i = 0), this.getPlayerData().playerTransformation = {
					transformType: t,
					transformID: e,
					maxTime: i,
					timeRemaining: i
				}
			}, e.prototype.isPlayerTransformed = function() {
				return !(!s.Util.isValid(this.getPlayerData().playerTransformation) || -1 === this.getPlayerData().playerTransformation.transformType || this.getPlayerData().playerTransformation.timeRemaining <= 0)
			}, e.prototype.getAttacks = function(t) {
				return void 0 === t && (t = null), s.Util.isValid(this.getPlayerData().spellbook) ? this.getPlayerData().spellbook.length < 6 && (this.getPlayerData().spellbook = this.getAllAttacks().splice(0, 6)) : this.getPlayerData().spellbook = this.getAllAttacks().splice(0, 6), s.Util.isValid(t) ? d.Creature.getAttacksOfType(this.getPlayerData().spellbook, t) : this.getPlayerData().spellbook
			}, e.prototype.getAllAttacks = function() {
				var t = d.Creature.getAttacksFromCurve(e.LEVEL_CURVE, 1, this.getLevel());
				if (s.Util.isValid(this.getPlayerData().spells))
					for (var i = 0; i < this.getPlayerData().spells.length; i++) s.Util.inArray(t, this.getPlayerData().spells[i]) || t.push(this.getPlayerData().spells[i]);
				return t
			}, e.prototype.getNumAttacks = function() {
				return this.getAllAttacks().length
			}, e.prototype.getNumRelics = function() {
				return this.backpack.getItemCount(["spellRelic"])
			}, e.prototype.getMaxHearts = function(t) {
				void 0 === t && (t = null);
				var e = s.Util.isValid(t) ? t : this.getLevel(),
					i = Math.min(Math.floor(o.CombatFormulas.getCreatureHP(this, e) * this.getHeartBonus()), d.Creature.MAX_HEARTS);
				return Math.round(i * this.modifiers.maxHearts)
			}, e.prototype.getBaseMaxHearts = function(e) {
				return t.prototype.getMaxHearts.call(this, e) + 200
			}, e.prototype.getHeartBonus = function() {
				return this.equipment.getHeartBonuses()
			}, e.prototype.getDamageBonus = function() {
				return this.equipment.getDamageBonuses()
			}, e.prototype.setDefault = function(t) {
				"male" === t ? (this.appearance.setHair(19, Math.floor(5 * Math.random() + 1)), this.appearance.setFace(4)) : (this.appearance.setHair(5, Math.floor(5 * Math.random() + 1)), this.appearance.setFace(12)), this.appearance.setGender(t), this.appearance.setEyeColor(Math.floor(5 * Math.random() + 1)), this.appearance.setSkinColor(Math.floor(5 * Math.random() + 1)), this.equipment.setHat(0)
			}, e.prototype.getLevelingCurve = function(t) {
				void 0 === t && (t = null);
				for (var i = [], n = 0; n < e.LEVEL_CURVE.length; n++) {
					var a = e.LEVEL_CURVE[n];
					a.lvl === t && i.push(a)
				}
				return i
			}, e.prototype.getAllowsHouseVisitors = function() {
				return !!s.Util.isValid(this.getPlayerData().allowsHouseVisitors) && this.getPlayerData().allowsHouseVisitors
			}, e.prototype.getPlayerData = function() {
				return this.data
			}, e.prototype.setEnergy = function(t) {
				this.data.energy = t
			}, e.prototype.getGold = function(t) {
				return void 0 === t && (t = !1), a(this.getPlayerData(), "gold", 0)
			}, e.prototype.getTowerProgress = function() {
				return a(this.getPlayerData(), "tower", 0)
			}, e.prototype.getWins = function() {
				return s.Util.isValid(this.getPlayerData().win) ? this.getPlayerData().win : 0
			}, e.prototype.getLosses = function() {
				return s.Util.isValid(this.getPlayerData().loss) ? this.getPlayerData().loss : 0
			}, e.LEVEL_CURVE = [{
				lvl: 1,
				a: 31
			}, {
				lvl: 5,
				a: 32
			}, {
				lvl: 12,
				a: 33
			}, {
				lvl: 22,
				a: 34
			}, {
				lvl: 38,
				a: 35
			}, {
				lvl: 52,
				a: 36
			}], e
		}(p.Character);
	e.Player = O
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(5),
		r = i(2),
		s = i(0),
		l = i(27),
		c = i(44),
		h = function(t) {
			function e(e, i, n, o, r) {
				void 0 === n && (n = null), void 0 === r && (r = []);
				var l = t.call(this, e, i) || this;
				return l.isModal = !0, l.isLoaded = !1, l.assetID = null, l.isNotificationCell = !1, l.background = null, l.uiElementTemplates = [], l.onClose = null, l.uiElements = [], l.uiRoot = null, l.configModifiers = null, l.onLoadCallbacks = [], l.configObj = null, s.Util.isValid(l.game.prodigy.notifications) && l.game.prodigy.notifications.clearNotifications(), l.background = e.prodigy.create.element(l), l.configModifiers = s.Util.isValid(o) ? o : {}, s.Util.isValid(l.configModifiers.isModal) && (l.isModal = l.configModifiers.isModal), s.Util.isValid(n) && (l.assetID = n), s.Util.isValid(l.assetID) ? l.startLoad(r.concat("atlas-157"), l.startLoadComplete.bind(l)) : a.Logger.log("Config file for this UI has not been specified", a.LogLevel.Error), l.onLoadCallbacks = [], l
			}
			return n(e, t), e.prototype.init = function(t) {
				t.add(this), this.process()
			}, e.prototype.close = function() {
				s.Util.isValid(this.game) && s.Util.isValid(this.game.prodigy) && (s.Util.isValid(this.game.broadcaster) && (this.game.broadcaster.removeAppListener(o.EDebugEvents.AutoClickUI, this, this.game), this.game.broadcaster.removeAppListener(o.EDebugEvents.AutoClickList, this, this.game)), this.game.prodigy.open.setActiveMenu());
				try {
					s.Util.isValid(this.onClose) && this.onClose.apply(this, arguments)
				} catch (t) {}
				s.Util.isValid(this.game) && this.game.prodigy.open.close(this), this.destroy()
			}, e.prototype.processConfigObj = function() {
				if (s.Util.isValid(this.assetID) && (this.configObj = r.Items.getItem("ui", this.assetID).data), s.Util.isValid(this.configModifiers) && s.Util.isValid(this.configObj.elements)) {
					if (s.Util.isValid(this.configModifiers.modifyProperty))
						for (var t = 0; t < this.configModifiers.modifyProperty.length; t++) {
							var e = this.configModifiers.modifyProperty[t];
							this.updateConfigProperty(this.configObj.elements, e.element, e.property, e.value)
						}
					if (s.Util.isValid(this.configModifiers.addChildren))
						for (t = 0; t < this.configModifiers.addChildren.length; t++) {
							e = this.configModifiers.addChildren[t];
							this.addConfigChild(this.configObj.elements, e.parent, e.child)
						}
					if (s.Util.isValid(this.configModifiers.modifyTemplateProperty) && s.Util.isValid(this.configObj.templates))
						for (t = 0; t < this.configModifiers.modifyTemplateProperty.length; t++) {
							e = this.configModifiers.modifyTemplateProperty[t];
							this.updateConfigProperty(this.configObj.templates, e.element, e.property, e.value)
						}
				}
				this.create()
			}, e.prototype.addTransparent = function(t) {
				void 0 === t && (t = .75);
				var e = this.background.add(this.game.prodigy.create.sprite(-10, -10, "atlas-18", "overlay-small"));
				e.width = 1300, e.height = 740, e.alpha = t, e.inputEnabled = !0
			}, e.prototype.create = function() {
				var t = s.Util.isValid(this.configModifiers.backgroundAlpha) ? this.configModifiers.backgroundAlpha : .75;
				this.addTransparent(t), this.createUIElements(this.configObj, this);
				for (var e = 0; e < this.uiElements.length; e++) s.Util.isValid(this.uiElements[e].name) && (this[this.uiElements[e].name] = this.uiElements[e]);
				this.onLoad(), this.isModal && this.game.prodigy.open.hideActiveMenu(), this.game.prodigy.open.setActiveMenu(this), this.process(), this.game.broadcaster.addAppListener(o.EDebugEvents.AutoClickUI, this.onDebugAutoClick.bind(this), this, this.game), this.game.broadcaster.addAppListener(o.EDebugEvents.AutoClickList, this.onDebugAutoClickList.bind(this), this, this.game), this.isNotificationCell || this.game.broadcaster.broadcast(o.EPlayerLocomotionEvents.StopPlayer), this.game.broadcaster.broadcast(o.EUIEvents.MenuOpened, this.game, [this.assetID])
			}, e.prototype.queuePostCreateCallback = function() {
				for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
				for (var i = 0; i < t.length; i++) this.onLoadCallbacks.push(t[i])
			}, e.prototype.findConfigElement = function(t, e) {
				for (var i = 0; i < t.length; i++) {
					if (s.Util.isValid(t[i].name) && t[i].name === e) return t[i];
					if (s.Util.isValid(t[i].children)) {
						var n = this.findConfigElement(t[i].children, e);
						if (s.Util.isValid(n)) return n
					}
				}
				return null
			}, e.prototype.updateConfigProperty = function(t, e, i, n) {
				var o = this.findConfigElement(t, e);
				null !== o ? o[i] = n : a.Logger.log("Config file for this UI does not have " + e + " element!", a.LogLevel.Error)
			}, e.prototype.updateConfigModifierProperty = function(t, e, i) {
				s.Util.isValid(this.configModifiers) || (this.configModifiers = {}), s.Util.isValid(this.configModifiers.modifyProperty) || (this.configModifiers.modifyProperty = []), this.configModifiers.modifyProperty.push({
					element: t,
					property: e,
					value: i
				})
			}, e.prototype.addConfigChild = function(t, e, i) {
				var n = this.findConfigElement(t, e);
				null !== n ? s.Util.isValid(n.children) ? n.children.push(i) : n.children = [i] : a.Logger.log("Config file for this UI does not have " + e + " element!", a.LogLevel.Error)
			}, e.prototype.instantiateTemplate = function(t, e) {
				for (var i = 0; i < this.uiElementTemplates.length; i++)
					if (this.uiElementTemplates[i].name === t) {
						for (var n = new c.UIParser(this.game).createUIElements(new Array(this.uiElementTemplates[i]), e), o = {}, r = 0; r < n.length; r++) o[n[r].name] = n[r];
						return o
					} return a.Logger.log("Could not find template with name: " + t, a.LogLevel.Verbose), null
			}, e.prototype.update = function() {
				t.prototype.update.call(this), this.isLoaded && (this.isLoaded = !1, this.processConfigObj())
			}, e.prototype.setCloseCallback = function(t) {
				this.onClose = t
			}, e.prototype.openTween = function() {
				if (s.Util.isValid(this.uiRoot)) {
					var t = this.uiRoot;
					t.pivot.x = t.width / 2, t.pivot.y = t.height / 2, t.x += t.pivot.x, t.y += t.pivot.y, t.scale.x = .1, t.scale.y = .1, t.alpha = 0, this.game.add.tween(t.scale).to({
						x: 1,
						y: 1
					}, 200, Phaser.Easing.Back.Out, !0).frameBased = !1, this.game.add.tween(t).to({
						alpha: 1
					}, 120, "Linear", !0).frameBased = !1
				}
			}, e.prototype.findUIElement = function(t) {
				for (var e = null, i = 0; i < this.uiElements.length; i++)
					if ((e = this.uiElements[i]).name === t) return e;
				return a.Logger.log("Menu.findUIElement - couldn't find UIElement with name: " + t, a.LogLevel.Error), null
			}, e.prototype.findElement = function(t, e) {
				for (var i = null, n = 0; n < this.uiElements.length; n++)
					if ((i = this.uiElements[n]).name === e && i instanceof t) return i;
				return a.Logger.log("Menu.findElement - Couldn't find UIElement with name: " + e + ".", a.LogLevel.Error), null
			}, e.prototype.debugDrawUIElementBounds = function(t) {
				for (var e = 0; e < this.uiElements.length; e++) this.uiElements[e].debugDrawBounds(t)
			}, e.prototype.setActive = function(t) {
				this.visible = t, t && this.process()
			}, e.prototype.onDebugAutoClick = function(t) {
				if (this.visible)
					for (var e = 0; e < this.uiElements.length; e++)
						if (this.uiElements[e].name === t && s.Util.isValid(this.uiElements[e].onDown)) {
							this.uiElements[e].onDown();
							break
						}
			}, e.prototype.onDebugAutoClickList = function() {
				for (var t = 0; t < this.uiElements.length; t++) s.Util.isValid(this.uiElements[t].onClickCallback) && a.Logger.log("Clickable UI - Name: " + this.uiElements[t].name, a.LogLevel.Verbose)
			}, e.prototype.process = function(t) {
				void 0 === t && (t = null);
				var e = t;
				s.Util.isValid(e) || (e = this, this.isModal && s.Util.isValid(this.game) && this.game.prodigy.textureMenu.clear());
				for (var i = 0; i < e.children.length; i++)
					if (e.children[i] instanceof l.UIElement && !0 === e.children[i].renderOnly) {
						for (var n = 0; n < e.children[i].images.length; n++) {
							var a = e.children[i].images[n];
							this.game.prodigy.textureMenu.renderXY(a, a.x + e.children[i].x, a.y + e.children[i].y), a.visible = !1
						}
						this.process(e.children[i])
					}
			}, e.prototype.onLoad = function() {
				this.onLoadCallbacks.forEach(function(t) {
					t()
				}), this.onLoadCallbacks = []
			}, e.prototype.startLoadComplete = function() {
				this.isLoaded = !0
			}, e.prototype.startLoad = function(t, e) {
				this.game.prodigy.load.assets(t, e)
			}, e.prototype.createUIElements = function(t, e) {
				var i = new c.UIParser(this.game);
				s.Util.isValid(t.elements) && (this.uiRoot = new l.UIElement(this.game, e), this.uiRoot.populate({
					type: "UIELement",
					width: e.width,
					height: e.height
				}), this.uiElements = i.createUIElements(t.elements, this.uiRoot)), s.Util.isValid(t.templates) && (this.uiElementTemplates = t.templates)
			}, e
		}(l.UIElement);
	e.Menu = h
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t() {}
		return t.FEATURE_HOUSE_MOVING = "FEATURE_HOUSE_MOVING", t.FEATURE_HOUSE_VISITING = "FEATURE_HOUSE_VISITING", t.FEATURE_STYLIST = "FEATURE_STYLIST", t.FEATURE_CLOUD_MOUNT = "FEATURE_CLOUD_MOUNT", t.FEATURE_SOCIAL_FEED = "FEATURE_SOCIAL_FEED", t.FEATURE_BADGES = "FEATURE_BADGES", t.FEATURE_BATTLE_TUTORIAL = "FEATURE_BATTLE_TUTORIAL", t.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON = "BREADCRUMB_CLICKED_WORLD_MAP_BUTTON", t.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE = "BREADCRUMB_CLICKED_WORLD_MAP_HOUSE", t.BREADCRUMB_CLICKED_HOUSE_LOCK_BUTTON = "BREADCRUMB_CLICKED_HOUSE_LOCK_BUTTON", t.BREADCRUMB_CLICKED_HOUSE_MOVE_BUTTON = "BREADCRUMB_CLICKED_HOUSE_MOVE_BUTTON", t.BREADCRUMB_CLICKED_CARD_VISIT_BUTTON = "BREADCRUMB_CLICKED_CARD_VISIT_BUTTON", t.BREADCRUMB_CLICKED_CARD_STYLIST_BUTTON = "BREADCRUMB_CLICKED_CARD_STYLIST_BUTTON", t.BREADCRUMB_CLICKED_DAB = "BREADCRUMB_CLICKED_DAB", t.BREADCRUMB_CLICKED_DAB_EMOTE_BUTTON = "BREADCRUMB_CLICKED_DAB_EMOTE_BUTTON", t.BREADCRUMB_CLICKED_DAB_DANCE_BUTTON = "BREADCRUMB_CLICKED_DAB_DANCE_BUTTON", t.BREADCRUMB_CLICKED_DAB_DAB_BUTTON = "BREADCRUMB_CLICKED_DAB_DAB_BUTTON", t.BREADCRUMB_TITAN_INTRO = "BREADCRUMB_TITAN_INTRO", t.BREADCRUMB_TITAN_WATCHED_INTRO = "BREADCRUMB_TITAN_WATCHED_INTRO", t.BREADCRUMB_TITAN_HARVEY_TALKED = "BREADCRUMB_TITAN_HARVEY_TALKED", t.BREADCRUMB_CLOUD_MOUNT_TOGGLED = "BREADCRUMB_CLOUD_MOUNT_TOGGLED", t.BREADCRUMB_SOCIAL_FEED_OPENED = "BREADCRUMB_SOCIAL_FEED_OPENED", t.BREADCRUMB_CLICKED_SOCIAL_BUTTON = "BREADCRUMB_CLICKED_SOCIAL_BUTTON", t.BREADCRUMB_CLICKED_BADGES_BUTTON = "BREADCRUMB_CLICKED_BADGES_BUTTON", t.BREADCRUMB_UNLOCK_ACADEMY = "BREADCRUMB_UNLOCK_ACADEMY", t.BREADCRUMB_UNLOCK_ACADEMY_NOOT_DIALOGUE = "BREADCRUMB_UNLOCK_ACADEMY_NOOT_DIALOGUE", t.BREADCRUMB_FIRST_BATTLE_STARTED = "BREADCRUMB_FIRST_BATTLE_STARTED", t.BREADCRUMB_FIRST_BATTLE_FINISHED = "BREADCRUMB_FIRST_BATTLE_FINISHED", t.BREADCRUMB_FIRST_NEAR_DEFEAT = "BREADCRUMB_FIRST_NEAR_DEFEAT", t.BREADCRUMB_FIRST_ENEMY_HURT = "BREADCRUMB_FIRST_ENEMY_HURT", t.BREADCRUMB_FIRST_NFACTOR_BONUS = "BREADCRUMB_FIRST_NFACTOR_BONUS", t.BREADCRUMB_FIRST_ENERGY_GAINED = "BREADCRUMB_FIRST_ENERGY_GAINED", t.BREADCRUMB_FIRST_AOE_READY = "BREADCRUMB_FIRST_AOE_READY", t.BREADCRUMB_FIRST_AOA_CHARGED = "BREADCRUMB_FIRST_AOA_CHARGED", t.BREADCRUMB_FIRST_AOA_USED = "BREADCRUMB_FIRST_AOA_USED", t.BREADCRUMB_FOURTH_BATTLE_STARTED = "BREADCRUMB_FOURTH_BATTLE_STARTED", t.BREADCRUMB_FIRST_PET_RESCUABLE = "BREADCRUMB_FIRST_PET_RESCUABLE", t.BREADCRUMB_FIRST_PET_RESCUED = "BREADCRUMB_FIRST_PET_RESCUED", t.BREADCRUMB_FREE_RESCUE = "BREADCRUMB_FREE_RESCUE", t
	}();
	e.Breadcrumbs = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(5),
		o = i(0),
		r = i(7),
		s = function(t) {
			function e(e, i, n, a, r) {
				var s = t.call(this, e, i, n, a) || this;
				return s.buttons = [], s.renderTexture = null, s.background = null, s.renderImage = null, s.page = 0, s.disableModeSet = !1, o.Util.isValid(s.game.prodigy.notifications) && s.game.prodigy.notifications.clearNotifications(), s.renderTexture = r, s.background = e.prodigy.create.element(s), s.renderTexture.clear(), s.renderImage = s.add(new Phaser.Image(e, 0, 0, s.renderTexture)), s.renderImage.inputEnabled = !0, s
			}
			return n(e, t), e.prototype.create = function() {
				this.game.prodigy.open.setActiveRenderMenu(this), this.process(), this.game.broadcaster.broadcast(a.EPlayerLocomotionEvents.StopPlayer)
			}, e.prototype.setMode = function(t) {
				if (o.Util.isValid(this.buttons))
					for (var e = 0; e < this.buttons.length; e++) this.buttons[e].setActive(t !== e)
			}, e.prototype.setActive = function(t) {
				this.visible = t, t && (o.Util.isValid(this.game) && o.Util.isValid(this.game.prodigy.notifications) && this.game.prodigy.notifications.clearNotifications(), this.process()), this.disableModeSet || this.setMode(o.Util.isValid(this.page) ? this.page : 0)
			}, e.prototype.addTransparent = function(t) {
				void 0 === t && (t = .5);
				var e = this.background.add(this.game.prodigy.create.sprite(-10, -10, "atlas-18", "overlay-small"));
				e.width = 1300, e.height = 740, e.alpha = t
			}, e.prototype.createBaseSetup = function(t, e, i, n, a, r, s, l) {
				this.disableModeSet = r;
				var c = this.game.prodigy.create.element(this, (1280 - 40 * t) / 2, (720 - 40 * e) / 2);
				c.setRenderState(!0), this.game.prodigy.create.panel(c, 0, 0, t, e, i);
				var h, u, p = "banner",
					d = null,
					g = 0;
				if (o.Util.isValid(a) && a.length > 0 && (g = 3 * a.length + 6), o.Util.isValid(l) && o.Util.isValid(l.banner) && (p = l.banner.frameName, d = {
						atlasID: l.banner.atlasID
					}, g = l.banner.width), o.Util.isValid(a) && a.length > 0) this.game.prodigy.create.panel(c, 40, 40, g, 2, p, d);
				else if (o.Util.isValid(s)) {
					var f = this.game.prodigy.create.panel(c, 40, 40, 18, 2, p);
					this.game.prodigy.create.font(f, 200, 15, s, {
						size: 36,
						fontID: 9
					})
				}
				var y = {
					x: -40,
					y: -10
				};
				if (o.Util.isValid(l) && o.Util.isValid(l.closeButton) ? (h = l.closeButton.key, u = l.closeButton.frameName, y = l.closeButton.offset) : (h = "atlas-21", u = "close"), this.game.prodigy.create.button(this, c.x + 40 * t + y.x, c.y + y.y, h, u, this.close.bind(this)), this.buttons = [], o.Util.isValid(a) && a.length > 0) {
					var m = {
							x: 0,
							y: 0
						},
						_ = {
							x: 0,
							y: 0
						};
					o.Util.isValid(l) && o.Util.isValid(l.buttons) && (m = l.buttons.offset, _ = l.buttons.iconOffset), o.Util.isValid(n) && (c.add(this.game.prodigy.create.sprite(_.x + 80, -10, "atlas-21", "menu-crest")), this.game.prodigy.create.font(c, _.x + 80, 70, n, {
						width: 140,
						align: "center"
					}));
					for (var v = 0; v < a.length; v++) this.buttons.push(this.game.prodigy.create.advButton(this, c.x + m.x + 240 + 120 * v, c.y + 30, a[v], this.setMode.bind(this, v)))
				}
				return c
			}, e.prototype.init = function(t) {
				t.add(this), this.process()
			}, e.prototype.close = function() {
				for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
				o.Util.isValid(this.game) && o.Util.isValid(this.game.prodigy) && (o.Util.isValid(this.game.broadcaster) && (this.game.broadcaster.removeAppListener(a.EDebugEvents.AutoClickUI, this, this.game), this.game.broadcaster.removeAppListener(a.EDebugEvents.AutoClickList, this, this.game)), this.game.prodigy.open.setActiveRenderMenu());
				try {
					o.Util.isValid(this.onClose) && this.onClose.apply(this, t)
				} catch (t) {}
				o.Util.isValid(this.game) && this.game.prodigy.open.close(this), this.destroy()
			}, e.prototype.startLoad = function(t, e) {
				this.game.prodigy.load.assets(t, e)
			}, e.prototype.process = function() {
				this.renderTexture.clear(), this.background.visible = !0, this.renderTexture.renderXY(this.background, 0, 0, !0), this.background.visible = !1;
				for (var t = 0; t < this.children.length; t++)
					if (this.children[t] instanceof r.Element) {
						var e = this.children[t];
						e.tintElement && e.setAllChildren("tint", 10066329), e.renderOnly ? (e.visible = !0, this.renderTexture.renderXY(e, e.x, e.y), e.visible = !1) : e.visible = !0
					}
			}, e.prototype.hideActiveElements = function() {
				for (var t = 0; t < this.children.length; t++) {
					var e = this.children[t];
					e !== this.background && (e instanceof r.Element && (e.visible = !1))
				}
			}, e
		}(r.Element);
	e.RenderMenu = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(342),
		r = i(928),
		s = i(11),
		l = i(6),
		c = i(4),
		h = i(34),
		u = i(2),
		p = i(29),
		d = i(0),
		g = i(20),
		f = i(302),
		y = i(44),
		m = i(301),
		_ = function(t) {
			function e(e, i, n, a, o, r, s) {
				var c = this;
				e.prodigy.player.memberPrompt = !0;
				var h = [],
					u = 0;
				if (d.Util.isValid(s)) h.push(s);
				else if (r) {
					h.push("congrats"), h.push("amazingThings");
					var p = e.prodigy.gameContainer.get(l.EProdigyInjectionIdentifiers.SessionRecorder);
					e.prodigy.gameContainer.resolve(f.JsonFeatureFlagsProvider).isRecordingFeature("member-subscription-started") && (p.isRecording() && p.stopRecording(), p.startRecording("member-subscription-started"))
				} else {
					var g = e.prodigy.player;
					g.isMember || 0 !== g.backpack.hasItem("mount", 1) || h.push("cloudMount"), h.push("monthlyPackage"), h.push("amazingThings")
				}
				return d.Util.isValid(o) && (u = h.length - 1), (c = t.call(this, e, i, 11, h, null, ["atlas-128", "atlas-171"], u) || this).promotedAd = o, c.analyticEvents = d.Util.isValid(a) ? a : {
					conversionFunnelName: "",
					conversionFunnelMetadata: ""
				}, c.hideSignup = e.prodigy.player.isMember, c.dialogue = null, c.setCloseCallback(n), c
			}
			return n(e, t), e.prototype.preprocess = function() {
				this.queuePostCreateCallback(this.playRandomNootCongrats.bind(this)), t.prototype.preprocess.call(this)
			}, e.prototype.close = function() {
				this.game.prodigy.audio.stopVoice(), t.prototype.close.call(this)
			}, e.prototype.setup = function() {
				this.loadAds(), d.Util.isValid(this.leftArrowSprite) && this.leftArrowSprite.flipHorizontally(), t.prototype.setup.call(this)
			}, e.prototype.setCallbacks = function() {
				this.buttonCallbacks.signUpButton = this.onMembershipButtonClick.bind(this, d.Util.isValid(this.sourceOverride) ? this.sourceOverride : "MemberButton"), this.buttonCallbacks.closeButton = this.close.bind(this), t.prototype.setCallbacks.call(this)
			}, e.prototype.loadAds = function() {
				if (this.availableIndices = this.getFilteredIconArray().map(function(t, e) {
						return e
					}), d.Util.isValid(this.promotedAd))
					for (var t = 0; t < e.featureIconConfigs.length; t++)
						if (o(this.promotedAd, e.featureIconConfigs[t])) {
							this.currentConfigIndex = t;
							break
						} this.adIcons = [], d.Util.isValid(this.currentConfigIndex) && (this.adIcons.push(this.availableIndices[this.currentConfigIndex]), this.availableIndices.splice(this.currentConfigIndex, 1)), this.adIcons = this.adIcons.concat(r(this.availableIndices, 15))
			}, e.prototype.playRandomNootCongrats = function() {
				if ("congrats" === this.pageSets[0]) {
					var t = p.Random.integerInRange(184, 190);
					this.dialogue = this.game.prodigy.dialogue.create(), this.dialogue.setText(t), this.dialogue.start("noot", !0, null, 2, !0, this.dialogue.cleanup.bind(this.dialogue))
				}
			}, e.prototype.onMembershipButtonClick = function(t) {
				if (!this.game.prodigy.player.isMember) {
					this.game.prodigy.gameContainer.get(l.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("member-ad", {
						status: "convert",
						type: "new",
						feature: t
					}), this.game.prodigy.gameContainer.get(l.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).create("member-ad", "conversion", "membership", t).broadcast(), this.game.prodigy.gameContainer.get(l.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).create("membership", "conversion", "membership-info", t).broadcast(), this.game.prodigy.network.sendAnalytics("Purchase-Membership-Click", t), d.Util.isValid(this.analyticEvents) && this.game.prodigy.network.sendConversionFunnelEvent(this.analyticEvents.conversionFunnelName, g.EFunnelEventIDs.StageClickMembership, this.analyticEvents.conversionFunnelMetadata), this.game.prodigy.gameContainer.get(l.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create(this.analyticEvents.conversionFunnelName, g.EFunnelEventIDs.StageClickMembership).broadcast();
					var e = this.game.prodigy.player.locationSelectionType === c.GameConstants.get("GameConstants.LocationSelection.SCHOOL");
					this.game.prodigy.open.isMenuOpen(m.MembershipParent) || (this.game.prodigy.audio.stopVoice(), this.game.prodigy.open.membershipParent(this, !e, null, null, this.analyticEvents))
				}
			}, e.prototype.onPageLoaded = function() {
				if (t.prototype.onPageLoaded.call(this), this.hideSignup && d.Util.isValid(this.page.signUpButton) && (this.page.signUpButton.visible = !1), "monthlyPackage" === this.pageName ? this.page[this.pageName].children[4].visible = !this.game.prodigy.player.isMember : "playAtHome" === this.pageName || "playMemberAtHome" === this.pageName ? d.Util.isValid(this.promotedAd) && this.page[this.pageName].children[5].setText(this.getFlavourText()) : "amazingThings0" === this.pageName ? this.renderFeatureIcons(0, this.page[this.pageName].children[4]) : "amazingThings1" === this.pageName ? (this.renderFeatureIcons(3, this.page[this.pageName].children[4]), this.renderFeatureIcons(6, this.page[this.pageName].children[5])) : "amazingThings2" === this.pageName && (this.renderFeatureIcons(9, this.page[this.pageName].children[4]), this.renderFeatureIcons(12, this.page[this.pageName].children[5])), "amazingThings0" === this.pageName) {
					var e = this.page[this.pageName].children[3];
					this.generateGearIcons(6, e)
				}
				"memberLockedPets" === this.pageName && d.Util.isValid(this.spineMonsterConfig) && new y.UIParser(this.game).createUIElements([this.spineMonsterConfig], this.page.spineBG);
				this.game.prodigy.audio.stopVoice()
			}, e.prototype.generateGearIcons = function(t, e) {
				for (var i = null, n = [{
						category: "boots",
						count: 0
					}, {
						category: "hat",
						count: 0
					}, {
						category: "outfit",
						count: 0
					}, {
						category: "weapon",
						count: 0
					}], a = [], o = 0; o < n.length; o++)
					for (var l = u.Items.getCategoryItems(n[o].category), c = 0; c < l.length; c++)(i = l[c]).category = n[o].category, 1 === s(i, "data.member", 0) && (d.Util.isValid(i.data.memberAd) || s(i, "data.memberAd", 0) > 0) && (a.push(i), n[o].count++);
				var p = r(a, t);
				for (o = 0; o < t; o++) {
					var g = this.onMembershipButtonClick.bind(this, p[o].ID),
						f = this.game.prodigy.create.item(e, 102 * o + 20, 60, {
							ID: p[o].ID,
							type: p[o].category
						}, h.EItemInfoMode.IconNoBackground, g),
						y = this.game.prodigy.create.sprite(0, 0, "atlas-18", "empty");
					y.width = f.width, y.height = f.height, y.inputEnabled = !0, y.events.onInputDown.add(this.onMembershipButtonClick.bind(this, "MemberButton")), f.add(y)
				}
			}, e.prototype.renderFeatureIcons = function(t, i, n, a) {
				void 0 === n && (n = 3), void 0 === a && (a = 19);
				for (var o = t; o < this.adIcons.length && o < t + n; o++) {
					var r = void 0,
						s = this.adIcons[o];
					r = e.featureIconConfigs[s], 2 === o && (r = e.MEMBER_BOX, 0 === this.game.prodigy.player.backpack.hasItem("mount", 1) && Math.random() >= .5 && (r = e.CLOUD_MOUNT)), this.game.prodigy.create.button(i, (a + 166) * (o - t), 0, "atlas-128", r.frameName, this.onMembershipButtonClick.bind(this, r.trackingEvent))
				}
			}, e.prototype.getFilteredIconArray = function() {
				var t = this;
				return e.featureIconConfigs.filter(function(e) {
					return !d.Util.isValid(e.splitTestDefinition) || d.Util.inTestGroups.apply(t, [t.game.prodigy.player, e.splitTestDefinition])
				})
			}, e.prototype.getFlavourText = function() {
				for (var t = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService), i = t.getText("PLAY_AT_HOME_PLACEHOLDER"), n = 0; n < e.flavourTextSources.length; n++) this.promotedAd === e.flavourTextSources[n] && (i = t.getText(e.flavourTextSources[n].flavourText));
				return i
			}, e.prototype.setSpineMonsterConfig = function(t) {
				this.spineMonsterConfig = t
			}, e.prototype.nextPage = function() {
				t.prototype.nextPage.call(this), this.game.prodigy.gameContainer.get(l.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).create("member-ad-browse", "conversion", "membership", this.pageName).broadcast()
			}, e.prototype.prevPage = function() {
				t.prototype.prevPage.call(this), this.game.prodigy.gameContainer.get(l.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).create("member-ad-browse", "conversion", "membership", this.pageName).broadcast()
			}, e.DEFAULT = {
				frameName: "icons/iconbox-TEST",
				trackingEvent: "Feature-MemberChests"
			}, e.MEMBER_HUD = {
				frameName: "icons/iconbox-TEST",
				trackingEvent: "Feature-MemberChests",
				flavourText: "PLAY_AT_HOME_MEMBER_HUD"
			}, e.NOT_MEMBER_HUD = {
				frameName: "icons/iconbox-TEST",
				trackingEvent: "Feature-MemberChests",
				flavourText: "PLAY_AT_HOME_NOT_MEMBER_HUD"
			}, e.TWILIGHT_WHEEL = {
				frameName: "icons/iconbox-TEST",
				trackingEvent: "Feature-MemberChests",
				flavourText: "PLAY_AT_HOME_TWILIGHT_WHEEL"
			}, e.MEMBER_BOUNTY = {
				frameName: "icons/iconbox-TEST",
				trackingEvent: "Feature-MemberChests",
				flavourText: "PLAY_AT_HOME_MEMBER_BOUNTY"
			}, e.MEMBER_CHESTS = {
				frameName: "icons/member-chests",
				trackingEvent: "Feature-MemberChests",
				flavourText: "PLAY_AT_HOME_MEMBER_CHESTS"
			}, e.BUDDIES = {
				frameName: "icons/cute-and-cool-buddies",
				trackingEvent: "Feature-Buddies",
				flavourText: "PLAY_AT_HOME_BUY_ITEM"
			}, e.HOUSE_ITEMS = {
				frameName: "icons/special-house-furniture",
				trackingEvent: "Feature-HouseItems",
				flavourText: "PLAY_AT_HOME_BUY_ITEM"
			}, e.NEW_HOUSE = {
				frameName: "icons/new-house",
				trackingEvent: "Feature-NewHouse",
				flavourText: "PLAY_AT_HOME_BUY_ITEM"
			}, e.MORE_GOLD = {
				frameName: "icons/more-gold",
				trackingEvent: "Feature-MoreGold",
				flavourText: "PLAY_AT_HOME_MORE_GOLD"
			}, e.MORE_EXP = {
				frameName: "icons/level-faster",
				trackingEvent: "Feature-LevelFaster",
				flavourText: "PLAY_AT_HOME_MORE_EXP"
			}, e.MORE_EXP_CLASS_LEADERS = {
				frameName: "icons/level-faster",
				trackingEvent: "Feature-LevelFaster",
				flavourText: "PLAY_AT_HOME_MORE_EXP_CLASS_LEADERS"
			}, e.WHEEL_SPIN = {
				frameName: "icons/more-spins",
				trackingEvent: "Feature-MoreSpins",
				flavourText: "PLAY_AT_HOME_WHEEL_SPIN"
			}, e.MEMBER_PETS = {
				frameName: "icons/catch-more-pets",
				trackingEvent: "Feature-MorePets",
				flavourText: "PLAY_AT_HOME_MEMBER_PETS"
			}, e.CATCH = {
				frameName: "icons/second-catch",
				trackingEvent: "Feature-SecondCatchChance"
			}, e.BOOSTS = {
				frameName: "icons/minigame-boosts",
				trackingEvent: "Feature-MinigameBoosts"
			}, e.STYLE = {
				frameName: "icons/cool-new-styles",
				trackingEvent: "Feature-NewStyles",
				flavourText: "PLAY_AT_HOME_BUY_ITEM"
			}, e.TOWER = {
				frameName: "icons/climb-the-dark-tower",
				trackingEvent: "Feature-DarkTower",
				flavourText: "PLAY_AT_HOME_TOWER"
			}, e.POTIONS = {
				frameName: "icons/potions",
				trackingEvent: "Feature-PowerfulPotions",
				flavourText: "PLAY_AT_HOME_BUY_ITEM"
			}, e.DANCE = {
				frameName: "icons/dab-dance",
				trackingEvent: "Feature-Dab",
				flavourText: "PLAY_AT_HOME_DANCE"
			}, e.CLOUD_MOUNT = {
				frameName: "icons/cloud-mount",
				trackingEvent: "Feature-CloudMount"
			}, e.MEMBER_BOX = {
				frameName: "icons/memberbox-popup-icon",
				trackingEvent: "memberbox"
			}, e.MORPH_MARBLE = {
				frameName: "icons/morph-marble",
				trackingEvent: "Feature-MorphMarble",
				flavourText: "PLAY_AT_HOME_BUY_ITEM"
			}, e.BUY_ITEM = {
				frameName: "icons/iconbox-TEST",
				trackingEvent: "PremiumItems",
				flavourText: "PLAY_AT_HOME_BUY_ITEM"
			}, e.PREMIUM_ITEM = {
				frameName: "icons/iconbox-TEST",
				trackingEvent: "PremiumItems",
				flavourText: "PLAY_AT_HOME_PREMIUM_ITEM"
			}, e.VISIT_HOUSE = {
				frameName: "icons/friends-visit-house",
				trackingEvent: "Feature-VisitHouse"
			}, e.BIGGER_ROSTER = {
				frameName: "icons/iconbox-TEST",
				trackingEvent: "BiggerRoster"
			}, e.NICKNAME = {
				frameName: "icons/iconbox-TEST",
				trackingEvent: "Nickname",
				flavourText: "PLAY_AT_HOME_NICKNAME"
			}, e.EVOLVE_PETS = {
				frameName: "icons/evolve-pets",
				trackingEvent: "Nickname",
				flavourText: "PLAY_AT_HOME_EVOLVE_PETS"
			}, e.flavourTextSources = [e.MEMBER_HUD, e.NOT_MEMBER_HUD, e.BUY_ITEM, e.MORPH_MARBLE, e.BUDDIES, e.STYLE, e.HOUSE_ITEMS, e.NEW_HOUSE, e.POTIONS, e.PREMIUM_ITEM, e.MEMBER_CHESTS, e.MORE_EXP, e.WHEEL_SPIN, e.TWILIGHT_WHEEL, e.EVOLVE_PETS, e.DANCE, e.MEMBER_BOUNTY, e.NICKNAME, e.MEMBER_PETS, e.TOWER, e.MORE_EXP_CLASS_LEADERS, e.MORE_GOLD], e.featureIconConfigs = [e.MEMBER_CHESTS, e.TOWER, e.BUDDIES, e.MORE_GOLD, e.MORE_EXP, e.WHEEL_SPIN, e.MEMBER_PETS, e.CATCH, e.BOOSTS, e.STYLE, e.HOUSE_ITEMS, e.NEW_HOUSE, e.POTIONS, e.DANCE, e.MORPH_MARBLE, e.EVOLVE_PETS], e
		}(i(300).PaginatedMenu);
	e.MembershipInfo = _
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(11),
		r = i(929),
		s = i(6),
		l = i(4),
		c = i(7),
		h = i(5),
		u = i(124),
		p = i(179),
		d = i(2),
		g = i(33),
		f = i(16),
		y = i(182),
		m = i(0),
		_ = i(20),
		v = i(922),
		E = i(921),
		b = i(920),
		O = i(919),
		I = function(t) {
			function e(e, i, n, a, o, r) {
				var s = t.call(this, e, i) || this;
				s.walkSpeed = 1.2, s.ran = !1, s.nameText = null, s.chatText = null, s.complete = !1, s.captured = null, s.potionIcon = null, s.potencyIcon = null, s.statusEffects = null, s.locomotion = null, s.speed = 10, s.fxQueue = 0, s.evolveTextTween = null, s.pairs = null, s.evtProc = !1, s.source = n, s.setScale = m.Util.isValid(a) ? a : 1, s.x = Math.floor(o), s.y = Math.floor(r), s.sprites = s.game.prodigy.create.element(s, 0, 0), s.indicatorE = s.game.prodigy.create.element(s), m.Util.isValid(s.source.modifiers) && s.source.modifiers.barrier && (s.barrierSprite = s.game.prodigy.create.sprite(60, -160, "atlas-141", "1", new Phaser.Point(.5, .5), s.addBarrierSpritesheet.bind(s, "deflect")), s.barrierSpriteBreak = s.game.prodigy.create.sprite(60, -160, "atlas-142", "1", new Phaser.Point(.5, .5), s.addBarrierSpritesheet.bind(s, "break")), s.barrierSpriteSpark = s.game.prodigy.create.sprite(-325, -115, "atlas-143", "1", new Phaser.Point(.5, .5), s.addBarrierSpritesheet.bind(s, "spark")), s.add(s.barrierSprite), s.add(s.barrierSpriteBreak), s.add(s.barrierSpriteSpark));
				var l = 1 === a ? -130 : -230;
				return n instanceof g.NPC && (l = -150), s.nameText = s.game.prodigy.create.nameFont(s, 0, l, ""), n instanceof g.NPC && s.showName(), s.chatText = s.game.prodigy.create.nameFont(s, 0, l, ""), s.chatText.FillColor = "#FFB600", s.chatText.setActive(!1), s.onDestroy.add(s.stopListeners, s), s.initListeners(), s
			}
			return n(e, t), e.prototype.showName = function(t) {
				void 0 === t && (t = null);
				var e = null;
				e = m.Util.isValid(t) ? t : this.source.getName(), m.Util.isValid(e) && (this.nameText.setText(e), this.nameText.setActive(!0))
			}, e.prototype.hideName = function() {
				this.nameText.setActive(!1)
			}, e.prototype.float = function(t) {
				m.Util.isValid(this.floatTween) ? t || (this.sprites.y = this.sprites.oldY, this.floatTween.stop(), delete this.floatTween) : t && (this.sprites.oldY = this.sprites.y, this.sprites.y = this.sprites.y - 10, this.floatTween = this.game.add.tween(this.sprites).to({
					y: "-20"
				}, 1400, Phaser.Easing.Quadratic.InOut).to({
					y: "20"
				}, 1400, Phaser.Easing.Quadratic.InOut).loop(), this.floatTween.start())
			}, e.prototype.chat = function(t, e, i) {
				m.Util.isValid(this.game) && (m.Util.isValid(this.chatBubble) || (this.chatBubble = new E.ChatBubble(this.game, this, 0, m.Util.isValid(e) ? -e : -100, i)), this.chatBubble.setID(t + 12))
			}, e.prototype.startChat = function(t) {
				var e = this;
				if (m.Util.isValid(this.game)) {
					var i = this.game.prodigy.chat.getPhrase(t);
					m.Util.isValid(i) && (m.Util.isValid(this.timer) && window.clearInterval(this.timer), this.hideName(), this.chatText.setActive(!0), this.game.add.tween(this.chatText.GameObject).to({
						y: this.nameText.GameObject.y - 10
					}, 500, Phaser.Easing.Quadratic.Out).to({
						y: this.nameText.GameObject.y
					}, 500, Phaser.Easing.Quadratic.In).start(), this.chatText.setText('"' + i + '"'), this.timer = window.setInterval(function() {
						e.endChat()
					}, 5e3))
				}
			}, e.prototype.endChat = function() {
				m.Util.isValid(this.timer) && window.clearInterval(this.timer), this.chatText.setActive(!1), this.showName()
			}, e.prototype.hop = function(t, e, i, n) {
				void 0 === t && (t = 100), void 0 === e && (e = null), void 0 === i && (i = 0), void 0 === n && (n = 20);
				var a = this.game.add.tween(this).to({
					y: this.y - n
				}, t, Phaser.Easing.Quadratic.Out).to({
					y: this.y
				}, t, Phaser.Easing.Quadratic.In).start();
				this.game.add.tween(this).to({
					x: this.x + Math.floor(i / 2)
				}, t, Phaser.Easing.Linear.None).to({
					x: this.x + i
				}, t, Phaser.Easing.Linear.None).start(), m.Util.isValid(e) && a.onComplete.addOnce(e)
			}, e.prototype.setPath = function(t, e, i) {
				if (m.Util.isValid(t) && m.Util.isValid(this.game)) {
					this.stopTweens();
					for (var n = m.Util.isValid(i) ? i : this.walkSpeed, a = null, o = null, r = this.x, s = this.y, l = t.length - 1; l >= 0; l--) {
						var c = t[l];
						m.Util.isValid(c.x) || (c.x = r), m.Util.isValid(c.y) || (c.y = s);
						var h = Phaser.Math.distance(c.x, c.y, r, s);
						if (0 !== h) {
							m.Util.isValid(a) || (a = this.game.add.tween(this), o = this.game.add.tween(this.sprites.scale));
							var u = Math.abs(this.sprites.scale.x);
							a.to({
								x: c.x,
								y: c.y
							}, 6 * h / n, Phaser.Easing.Linear.None), o.to({
								x: c.x > r ? u : -u
							}, 1, Phaser.Easing.Linear.None), o.to({}, 6 * h / n - 100, Phaser.Easing.Linear.None), r = c.x, s = c.y
						}
					}
					m.Util.isValid(a) ? (a.onComplete.addOnce(this.stand, this), m.Util.isValid(e) && a.onComplete.addOnce(e), this.walk(), m.Util.isValid(a) && a.start(), m.Util.isValid(o) && o.start()) : (m.Util.isValid(e) && e(), this.stand())
				}
			}, e.prototype.setValidPath = function(t, e, i, n) {
				var a = this;
				m.Util.isValid(n) ? t.findPath(this.x, this.y, e, i, function(t) {
					a.setPath(t, n)
				}) : t.findPath(this.x, this.y, e, i, this.setPath.bind(this))
			}, e.prototype.walk = function() {
				this.sprites.callAll("play", null, "walk", this.speed), this.mode = 0
			}, e.prototype.flip = function() {
				this.sprites.scale.x = -1 * this.sprites.scale.x
			}, e.prototype.faceToward = function(t) {
				this.x > t ? this.sprites.scale.x = -1 * this.setScale : this.sprites.scale.x = this.setScale
			}, e.prototype.stand = function() {
				this.sprites.callAll("play", null, "stand", this.speed), this.x = Math.round(this.x), this.y = Math.round(this.y), this.mode = 1
			}, e.prototype.stopTweens = function() {
				m.Util.isValid(this.game) && (this.game.tweens.removeFrom(this, !1), this.game.tweens.removeFrom(this.sprites))
			}, e.prototype.startLoad = function() {
				this.outOfDate = !1
			}, e.prototype.initListeners = function() {
				this.game.broadcaster.addAppListener(h.ECreatureEvents.LevelUp, this.onCreatureLevelUp.bind(this), this, this.source), this.game.broadcaster.addAppListener(h.ECreatureEvents.StarsAdded, this.onStarsAdded.bind(this), this, this.source), this.game.broadcaster.addAppListener(h.EFlyingStarsEvents.Done, this.onFxAnimationDone.bind(this), this, this.game), this.game.broadcaster.addAppListener(h.EBattleEvents.PopupClosed, this.processLevelEvent.bind(this), this, this)
			}, e.prototype.stopListeners = function() {
				this.game.broadcaster.removeAppListener(h.ECreatureEvents.LevelUp, this, this.source), this.game.broadcaster.removeAppListener(h.ECreatureEvents.StarsAdded, this, this.source), this.game.broadcaster.removeAppListener(h.EFlyingStarsEvents.Done, this, this.game), this.game.broadcaster.removeAppListener(h.EBattleEvents.PopupClosed, this, this)
			}, e.prototype.enableLocomotion = function(t, e) {
				m.Util.isValid(this.locomotion) || (this.locomotion = new r.PlayerLocomotion(this.game), this.locomotion.setup(t, e, this.source === this.game.prodigy.player))
			}, e.prototype.setNewTarget = function(t, e) {
				m.Util.isValid(this.locomotion) && this.locomotion.setNewTarget(t, e)
			}, e.prototype.reload = function(t) {
				this.outOfDate = !0, this.loadedCallback = t
			}, e.prototype.update = function() {
				t.prototype.update.call(this), !this.loading && this.outOfDate && this.startLoad()
			}, e.prototype.emote = function(t, e, i) {
				void 0 === e && (e = 100), void 0 === i && (i = !1);
				var n = d.Items.getItem("emote", t);
				if (m.Util.isValid(this.chatBubble) && this.chatBubble.destroy(), m.Util.isValid(this.game) && m.Util.isValid(n))
					if (n.data.isAnimated) {
						if (m.Util.isValid(this.animatedEmote) && m.Util.isValid(this.animatedEmote.emoteAnimation) && this.animatedEmote.emoteAnimation.isPlaying) return this.animatedEmote.emoteAnimation.stop(!0, !0), void this.animatedEmote.setEmoteData(n);
						this.animatedEmote = new v.AnimatedEmote(this.game, this, n)
					} else m.Util.isValid(this.animatedEmote) && this.animatedEmote.emoteAnimation.isPlaying && this.animatedEmote.emoteAnimation.stop(!0, !0), this.chatBubble = new E.ChatBubble(this.game, this, 0, -e, i), this.chatBubble.setID(t)
			}, e.prototype.moonwalk = function() {
				this.sprites.callAll("play", null, "walk", this.speed), this.mode = 2
			}, e.prototype.attack = function() {}, e.prototype.damaged = function() {}, e.prototype.isFacingLeft = function() {
				return this.sprites.scale.x < 0
			}, e.prototype.addOnClick = function(t) {
				for (var e = 0; e < this.sprites.length; e++) this.sprites.children[e].inputEnabled = !0, this.sprites.children[e].events.onInputDown.add(t.bind(this))
			}, e.prototype.onFxAnimationDone = function() {
				this.fxQueue > 0 && (this.fxQueue--, 0 === this.fxQueue && this.game.broadcaster.broadcast(h.ECreatureEvents.AnimationDone, this.source, []))
			}, e.prototype.onStarsAdded = function() {
				!0 === this.game.broadcaster.broadcast(h.EBattleEvents.GetIsRunning, this.game) && (this.fxQueue++, this.flyingStars = new O.FlyingStars(this.game, this.x, this.y - (this.height - 35)))
			}, e.prototype.onCreatureLevelUp = function(t, e) {
				"TileScreen" !== this.game.state.current && "Arena" !== this.game.state.current && this.fxQueue++
			}, e.prototype.onLevelUpAnimationDone = function() {
				this.processLevelEvent()
			}, e.prototype.processLevelEvent = function() {
				var t = this.source.getUnprocessedLevelEvents(),
					e = null;
				if (m.Util.isValid(t) && t.length > 0) {
					var i = t.pop();
					m.Util.isValid(i.h) && this.levelEventNewHeart(i.h), m.Util.isValid(i.a) && this.levelEventNewSpell(this.game.prodigy.attacks.getAttack(i.a)), m.Util.isValid(i.evolveID) ? this.levelEventEvolve(i.evolveID) : m.Util.isValid(i.e) && this.levelEventEvolve(i.e), m.Util.isValid(i.g) && (e = d.Items.getItem("giftBox", 1)), m.Util.isValid(e) && i.lvl <= this.game.prodigy.player.data.level ? this.game.prodigy.giftBoxController.receiveGiftBox(this.processLevelEvent.bind(this), e) : this.processLevelEvent()
				} else this.game.broadcaster.broadcast(h.ECreatureEvents.ProcessedAllEvents, this.game, []), this.onFxAnimationDone()
			}, e.prototype.levelEventNewHeart = function(t) {
				for (var e = 0; e < 10; e++) {
					var i = this.game.prodigy.create.sprite(this.x, this.y - 50, "atlas-19", "user-heart");
					this.game.broadcaster.broadcast(h.EScreenEvents.AddChild, this.game, [i, "content"]), i.anchor.setTo(.5, .5), i.alpha = .5, this.game.add.tween(i).to({
						x: 470
					}, 600, Phaser.Easing.Linear.None).delay(300 * e).to({
						alpha: 0
					}, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(i).to({
						y: 55
					}, 600, Phaser.Easing.Quadratic.Out).delay(300 * e).start()
				}
				this.source.changeCurrentHearts(l.GameConstants.MAX_SAFE_INTEGER), this.callBattlePopup({
					type: p.BattleBase.LEVEL_UP,
					hearts: 10 * t,
					source: this.source
				})
			}, e.prototype.levelEventNewSpell = function(t) {
				for (var e = 0; e < 6; e++) {
					var i = this.game.prodigy.icon.createFromData(t, this.x, this.y - 50);
					i.onTextureLoaded = this.onLevelEventSpellIconLoaded.bind(this, i, e)
				}
				this.game.time.events.add(3e3, this.callBattlePopup.bind(this, {
					type: p.BattleBase.SPELL,
					source: this.source,
					spell: t
				}), this)
			}, e.prototype.onLevelEventSpellIconLoaded = function(t, e) {
				this.game.broadcaster.broadcast(h.EScreenEvents.AddChild, this.game, [t, "content"]), t.anchor.setTo(3, 3), t.angle = 60 * e, this.game.add.tween(t).to({
					angle: "+1000"
				}, 3500, Phaser.Easing.Linear.None).to({
					alpha: 0
				}, 500, Phaser.Easing.Linear.None).start(), this.game.add.tween(t.anchor).to({
					x: .5,
					y: .5
				}, 1500, Phaser.Easing.Linear.None).delay(2e3).to({
					x: 5,
					y: 5
				}, 500, Phaser.Easing.Linear.None).start()
			}, e.prototype.levelEventEvolve = function(t) {
				var e = this;
				this.game.broadcaster.broadcast(h.ECreatureEvents.EvolveStart, this.game), this.chat(1, this.sprites.height, !0), this.loadCompleted = !1, this.blinkCount = 0, this.stopEvolve = !1, this.evolveTextTween = this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("CREATURE_TRYING_TO_EVOLVE", this.source.getName()), null, u.EffectFactory.PVP, u.EffectFactory.SMALL, l.GameConstants.MAX_SAFE_INTEGER, !0);
				var i = this.game.prodigy.create.sprite(this.x, 0, "atlas-16", "core-beam2");
				this.game.broadcaster.broadcast(h.EScreenEvents.AddChild, this.game, [i, "content"]), i.alpha = .75, i.anchor.setTo(.5, 0), this.game.add.tween(i).to({
					height: 720
				}, 250, Phaser.Easing.Linear.None).delay(500).start();
				var n = this.game.add.tween(i).to({
					alpha: .25
				}, 780, Phaser.Easing.Linear.None, !0, 0, -1, !0);
				if (this.game.prodigy.player.hasMembership()) {
					var o = this.createEvolutionOverlay("memberEvolve", t, n, i);
					n.onLoop.add(function() {
						e.blinkComplete(t, n, i, [o])
					}, this)
				} else this.hasOpenedEvolve = !1, this.game.prodigy.gameContainer.get(s.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create(_.EFunnelEventIDs.FunnelEvolutionMemberLock, _.EFunnelEventIDs.StageEvolutionSeeButton, 0).broadcast(), this.createEvolutionOverlay("nonMemberEvolve", t, n, i)
			}, e.prototype.createEvolutionOverlay = function(t, e, i, n) {
				var a = this,
					o = this.game.state.states.Battle.menus,
					r = new y.Overlay(this.game, 15, o);
				return r.addOnLoadCallback(function() {
					var o = r.getUiElement("evolveButton"),
						s = r.getUiElement("evolveLaterButton"),
						l = r.getUiElement("stopEvolveButton");
					r.getUiElement(t).visible = !0;
					var c = function() {
							a.blinkComplete(e, i, n, [r])
						},
						h = function() {
							r.visible = !1, setTimeout(c, 3700)
						};
					o.onUpCallback = function() {
						a.openMembershipEvolve(h)
					}, s.onUpCallback = function() {
						a.skipEvolveNonMember(c)
					}, l.onUpCallback = function() {
						a.stopEvolving()
					}
				}), r.x = this.x, r.y = 530, r
			}, e.prototype.openMembershipEvolve = function(t) {
				var e = this;
				this.hasOpenedEvolve || (this.hasOpenedEvolve = !0, this.game.prodigy.gameContainer.get(s.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create(_.EFunnelEventIDs.FunnelEvolutionMemberLock, _.EFunnelEventIDs.StageEvolutionClickButton, 0).broadcast());
				this.game.prodigy.open.membershipInfo(function() {
					e.game.prodigy.player.hasMembership() && (e.evolveTextTween.stop(!0), e.game.prodigy.effects.flashText(e.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("CREATURE_IS_EVOLVING", e.source.getName()), null, u.EffectFactory.PVP, u.EffectFactory.SMALL, 3500), e.blinkCount = 20, t())
				}, {
					conversionFunnelName: _.EFunnelEventIDs.FunnelEvolutionMemberLock,
					conversionStage: _.EFunnelEventIDs.StageEvolutionConverted
				}, f.MembershipInfo.EVOLVE_PETS)
			}, e.prototype.skipEvolveNonMember = function(t) {
				this.stopEvolve = !0, t()
			}, e.prototype.loadComplete = function(t, e) {
				m.Util.isValid(this.game) && e && (this.loadCompleted = !0)
			}, e.prototype.stopEvolving = function() {
				this.stopEvolve = !0
			}, e.prototype.blinkComplete = function(t, e, i, n) {
				if (this.loadCompleted && !(this.blinkCount < 5) || this.stopEvolve) {
					if (m.Util.isValid(n))
						for (var r = 0; r < n.length; r++) n[r].visible = !1;
					if (m.Util.isValid(this.evolveTextTween) && this.evolveTextTween.stop(!0), e.stop(), this.game.add.tween(i).to({
							alpha: 0
						}, 300, Phaser.Easing.Linear.None, !0), this.game.add.tween(i.scale).to({
							x: 5
						}, 300, Phaser.Easing.Linear.None, !0), this.stopEvolve) this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("CREATURE_STOPPED_EVOLVING", this.source.getName()), null, u.EffectFactory.BOTTOM, u.EffectFactory.SMALL, 2500), this.game.time.events.add(3e3, this.processLevelEvent.bind(this), this);
					else {
						this.source.evolve(t), this.reload();
						var s = d.Items.getItem("pet", t).metadata,
							l = .5;
						null !== o(s, "assets.default.battleScale", null) && (l = s.assets.default.battleScale), this.sprites.scale.x = l, this.sprites.scale.y = l, this.game.prodigy.effects.flashText(this.source.getFirstName() + "!", null, u.EffectFactory.BOTTOM, u.EffectFactory.MEDIUM, 2500), this.game.time.events.add(3e3, this.processLevelEvent.bind(this), this)
					}
					this.game.time.events.add(3e3, this.broadcastEvolveEnd.bind(this)), this.chatBubble.visible = !1
				} else this.blinkCount++
			}, e.prototype.broadcastEvolveEnd = function() {
				this.game.broadcaster.broadcast(h.ECreatureEvents.EvolveEnd, this.game, [this])
			}, e.prototype.callBattlePopup = function(t) {
				this.game.prodigy.open.battleLevel(this, t)
			}, e.prototype.doBarrierAnimation = function() {
				this.barrierSprite.alpha = 1, this.barrierSpriteSpark.alpha = 1, this.barrierSprite.play("deflect"), this.barrierSpriteSpark.play("spark")
			}, e.prototype.doBarrierBreakAnimation = function() {
				this.barrierSpriteBreak.alpha = 1, this.barrierSpriteSpark.alpha = 1, this.barrierSpriteBreak.play("break"), this.barrierSpriteSpark.play("spark")
			}, e.prototype.addBarrierSpritesheet = function(t, e) {
				e.alpha = 0, e.scale.x = 2.33, e.scale.y = 2.33, e.smoothed = !1, e.animations.add(t, null, 10, !1), e.animations.getAnimation(t).onComplete.add(function() {
					e.alpha = 0
				}, this)
			}, e.prototype.displayDamage = function(t, e, i) {
				this.getSource().modifiers.barrier && (this.getSource().getCurrentHearts() > 0 ? this.doBarrierAnimation() : (this.doBarrierBreakAnimation(), t.damage = 9999, t.critical = !0, this.retreat())), this.healthOverlay.showDamage(t, e, i)
			}, e.prototype.createHealthBar = function() {
				return m.Util.isValid(this.nameText) && this.hideName(), this.healthOverlay = new b.DamageDisplayContainer(this.game, this), this.healthOverlay
			}, e.prototype.doPuppetBreakAnimation = function(t) {
				this.healthOverlay.doPuppetBreakAnimation(t)
			}, e.prototype.getSpriteWidth = function() {
				return Math.abs(this.sprites.width)
			}, e.prototype.getSpriteHeight = function() {
				return Math.abs(this.sprites.height)
			}, e.prototype.destroy = function() {
				m.Util.isValid(this.locomotion) && (this.locomotion.destroy(), this.locomotion = null), t.prototype.destroy.call(this)
			}, e.prototype.getSource = function() {
				return this.source
			}, e.prototype.retreat = function() {}, e
		}(c.Element);
	e.CreatureContainer = I
}, function(t, e) {
	var i = Array.isArray;
	t.exports = i
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(0),
		a = function() {
			function t(t) {
				this.current = null, this.noSkipFrames = !1, this.tweens = [], this.tweenVars = {}, this.onEndCallbacks = [], this.index = 0, this.src = t
			}
			return t.prototype.start = function(t, e, i) {
				this.current = null, this.index = 0, this.startTime = n.Util.isValid(t) ? t : (new Date).getTime();
				for (var a = 0; a < this.tweens.length; a++) {
					var o = this.tweens[a];
					o.start = 0 === a ? this.startTime : this.tweens[a - 1].end, o.end = o.start + o.duration
				}
				this.noSkipFrames = !!n.Util.isValid(i) && i, this.onComplete = e
			}, t.prototype.end = function(t) {
				n.Util.isValid(t) && this.onEndCallbacks.push(t)
			}, t.prototype.set = function(t, e, i, n) {
				void 0 === n && (n = 1), this.tweens.push({
					type: "set",
					tag: t,
					duration: e.length * i * n,
					delay: i,
					frames: e,
					lastUpdate: 0
				})
			}, t.prototype.delay = function(t) {
				this.tweens.push({
					type: "delay",
					duration: t
				})
			}, t.prototype.update = function(t) {
				if (n.Util.isValid(this.startTime)) {
					var e = n.Util.isValid(t) ? t : (new Date).getTime();
					if (n.Util.isValid(this.current)) {
						var i = Math.floor((e - this.current.start) / this.current.delay) * this.current.delay + this.current.start,
							a = e - this.current.delay,
							o = a - this.current.lastUpdate > this.current.delay;
						if (!this.noSkipFrames && a <= this.current.lastUpdate || o) return "set" !== this.current.type || n.Util.isValid(this.tweenVars.next) || (this.tweenVars.next = this.current.start + this.current.delay, this.tweenVars.frame = 0, this.src[this.current.tag] = this.current.frames[0]), o && (this.current.lastUpdate = i), null;
						if (this.current.lastUpdate = i, "set" === this.current.type)
							if (n.Util.isValid(this.tweenVars.next) || (this.tweenVars.next = this.current.start + this.current.delay, this.tweenVars.frame = 0, this.src[this.current.tag] = this.current.frames[0]), e >= this.current.end) this.src[this.current.tag] = this.current.frames[this.current.frames.length - 1];
							else if (e >= this.tweenVars.next) {
							if (this.tweenVars.next += this.current.delay, this.tweenVars.frame++, this.tweenVars.frame >= this.current.frames.length) {
								this.tweenVars.frame = 0;
								for (var r = 0; r < this.onEndCallbacks.length; r++) this.onEndCallbacks[r]()
							}
							this.src[this.current.tag] = this.current.frames[this.tweenVars.frame]
						}
						e >= this.current.end && (this.current = null, n.Util.isValid(this.onComplete) && this.onComplete())
					}
					n.Util.isValid(this.current) || (this.tweenVars = {}, this.index >= this.tweens.length ? this.startTime = null : (this.current = this.tweens[this.index], this.index++))
				}
			}, t
		}();
	e.TweenController = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			t.FunnelBuyMemberItem = "Buy-Member-Item", t.FunnelSecondWheelSpin = "Second-Wheel-Spin", t.FunnelEnterDarkTower = "Enter-Dark-Tower", t.FunnelCatchMorePets = "Catch-More-Pets", t.FunnelOpenMemberChestBattle = "Open-Member-Chest-Battle", t.FunnelOpenMemberChestWorld = "Open-Member-Chest-World", t.FunnelEquipNewLockedItem = "Equip-New-Locked-Item", t.FunnelEquipBackpackLockedItem = "Equip-Backpack-Locked-Item", t.FunnelEquipCardLockedItem = "Equip-Card-Locked-Item", t.FunnelCatchPetAgain = "Catch-Pet-Again", t.FunnelUseBoost = "Use-Boost", t.FunnelClickHUDButton = "Click-HUD-Button", t.FunnelEvolutionMemberLock = "Evolution-Member-Lock", t.StageClickItem = "Click-Item", t.StageClickBuy = "Click-Buy", t.StageClickMembership = "Click-Membership", t.StageClickParentConfirmation = "Click-Parent-Confirmation", t.StageClickSpinAgain = "Click-Spin-Again", t.StageEnterTower = "Enter-Tower", t.StageCatchPet = "Catch-Pet", t.StageOpenChest = "Open-Chest", t.StageEquipItem = "Equip-Item", t.StageCatchPetFail = "Catch-Pet-Fail", t.StageTryAgain = "Try-Again", t.StageClickBoost = "Click-Boost", t.StageClickStars = "Click-Stars", t.StageClickButton = "Click-Button", t.StageEvolutionSeeButton = "Evolution-See-Button", t.StageEvolutionClickButton = "Evolution-Click-Button", t.StageEvolutionConverted = "Evolution-Converted"
		}(e.EFunnelEventIDs || (e.EFunnelEventIDs = {}))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return n(e, t), e
	}(i(10).Map);
	e.BonfireSpireMap = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(5),
		s = i(2),
		l = i(0),
		c = function(t) {
			function e(i, n, a, c, h, u) {
				void 0 === h && (h = {}), void 0 === u && (u = null);
				var p = t.call(this, i, n, a, c) || this;
				p.icon = null, p.selected = !1, p.callback = null, p.btnGroup = null, p.bg = null, p.text = null, p.iconSide = null, p.isActive = !0, p.callback = u, p.btnGroup = p.game.prodigy.create.element(p, 0, 0);
				var d = h,
					g = l.Util.isValid(d.size) ? d.size : e.SMALL,
					f = null;
				switch (g) {
					case e.CONFIRM:
						f = "btn-med-confirm";
						break;
					case e.TALL:
						f = "btn-tall";
						break;
					case e.MED:
						f = "btn-med";
						break;
					case e.MINI:
						f = "btn-mini";
						break;
					case e.LG:
						f = "btn-lg";
						break;
					case e.GRADE:
						f = "btn-grade";
						break;
					default:
						f = "btn-small"
				}
				var y = l.Util.isValid(d.text) ? d.text : "",
					m = 0,
					_ = l.Util.isValid(d.textY) ? d.textY : 0,
					v = g - 85,
					E = l.Util.isValid(d.atlas) ? d.atlas : s.Items.getIconAtlas(d.icon),
					b = d.icon,
					O = l.Util.isValid(d.needsMemberIcon) && d.needsMemberIcon;
				if (p.iconSide = d.iconSide, p.bg = p.game.prodigy.create.sprite(0, 0, "atlas-18", f), p.btnGroup.add(p.bg), l.Util.isValid(b) ? (p.icon = p.btnGroup.add(p.game.prodigy.create.sprite(0, 0, E, b)), p.setIcon(b), m = "right" === d.iconSide ? 10 : p.icon.width + 15, v = p.bg.width - 25 - p.icon.width) : (v = g - 20, m = 10), p.text = p.game.prodigy.create.font(p.btnGroup, m, _, "" + y, {
						size: 36,
						fontID: 9,
						width: v,
						align: "center"
					}), O) {
					var I = p.game.prodigy.create.sprite(0, 0, "atlas-21", "mail-member");
					I.x = p.bg.width - I.width / 2, I.y = -I.height / 2, p.btnGroup.add(I)
				}
				if (p.bg.inputEnabled = !0, p.bg.events.onInputDown.add(p.mouseDown, p), p.bg.events.onInputUp.add(p.mouseUp, p), p.bg.events.onInputOver.add(p.mouseOver, p), p.bg.events.onInputOut.add(p.mouseOut, p), o.GameConstants.get("GameConstants.Build.DEBUG")) {
					var T = null;
					l.Util.isValid(d.text) ? (T = d.text, p.game.broadcaster.addAppListener(r.EDebugEvents.AutoClick, p.onDebugAutoClick.bind(p), p)) : l.Util.isValid(d.icon) && (T = d.icon), l.Util.isValid(T) || p.game.prodigy.automation.addTrigger({
						ID: "autoclick-" + T,
						context: p,
						callback: function() {
							return {
								x: p.worldPosition.x + .5 * p.bg.width,
								y: p.worldPosition.y + .5 * p.bg.height
							}
						}
					})
				}
				return p.onDestroy.add(p.handleDestroy.bind(p)), p
			}
			return n(e, t), e.prototype.setActive = function() {
				this.isActive = !0, this.bg.tint = 16777215, this.tintActive()
			}, e.prototype.setInactive = function() {
				this.isActive = !1, this.bg.tint = 5789784, this.icon && (this.icon.tint = 5789784)
			}, e.prototype.select = function() {
				this.selected = !0, this.bg.tint = 7447253, this.icon && (this.icon.tint = 7447253)
			}, e.prototype.deselect = function() {
				this.selected = !1, this.bg.tint = 16777215, this.tintActive()
			}, e.prototype.setIcon = function(t) {
				this.icon.frameName = l.Util.isString(t) ? t : null, this.icon.x = "right" === this.iconSide ? this.bg.width - this.icon.width - 10 : 10, this.icon.y = -Math.floor((this.icon.height - 50) / 2), "btn-tall" === this.bg.frameName && (this.icon.x = Math.floor((100 - this.icon.width) / 2), this.icon.y = Math.floor((200 - this.icon.height) / 2))
			}, e.prototype.setEnabled = function(t) {
				this.isActive = t, this.alpha = this.isActive ? 1 : .5
			}, e.prototype.setText = function(t) {
				this.text.setText(t)
			}, e.prototype.mouseDown = function() {
				this.isActive && (this.game.prodigy.audio.playSFX(18, "pop"), l.Util.isValid(this.callback) && this.callback(), this.btnGroup.y = 0)
			}, e.prototype.mouseUp = function() {
				this.isActive && (this.btnGroup.y = -3)
			}, e.prototype.mouseOver = function() {
				this.isActive && (this.btnGroup.y = -3)
			}, e.prototype.mouseOut = function() {
				this.isActive && (this.btnGroup.y = 0)
			}, e.prototype.tintActive = function() {
				this.icon && (this.icon.tint = 16777215)
			}, e.prototype.handleDestroy = function() {
				o.GameConstants.get("GameConstants.Build.DEBUG") && l.Util.isValid(this.text.text) && (this.game.prodigy.automation.removeAllTriggers(this), this.game.broadcaster.removeAppListener(r.EDebugEvents.AutoClick, this))
			}, e.prototype.onDebugAutoClick = function(t) {
				l.Util.isValid(this.text.text) && (l.Util.isValid(t) ? t === this.text.text && this.mouseDown() : a.Logger.log("Button Text: " + this.text.text, a.LogLevel.Verbose))
			}, e.createNextButton = function(t, e, i, n, o) {
				return t.prodigy.create.textButton(e, i, n, {
					icon: "next",
					iconSide: "right",
					text: t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUTTON_NEXT")
				}, o)
			}, e.createCloseButton = function(t, e, i, n, o) {
				return t.prodigy.create.textButton(e, i, n, {
					icon: "close",
					text: t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUTTON_CLOSE")
				}, o)
			}, e.createYesButton = function(t, e, i, n, o) {
				return t.prodigy.create.textButton(e, i, n, {
					icon: "yes",
					text: t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUTTON_YES")
				}, o)
			}, e.createNoButton = function(t, e, i, n, o) {
				return t.prodigy.create.textButton(e, i, n, {
					icon: "close",
					text: t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUTTON_NO")
				}, o)
			}, e.MINI = 100, e.SMALL = 200, e.TALL = 100.1, e.MED = 300, e.CONFIRM = 301, e.LG = 350, e.GRADE = 80, e
		}(i(7).Element);
	e.TextButton = c
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(0),
		a = function() {
			function t() {}
			return t.isDesktopOrTablet = function(t) {
				return t.device.desktop || navigator.userAgent.indexOf("iPad") >= 0 || navigator.userAgent.indexOf("Android") >= 0 && -1 === navigator.userAgent.indexOf("Mobile")
			}, t.isTablet = function() {
				return navigator.userAgent.indexOf("iPad") >= 0 || navigator.userAgent.indexOf("Android") >= 0 && -1 === navigator.userAgent.indexOf("Mobile")
			}, t.isIE = function() {
				return -1 !== navigator.userAgent.indexOf("Trident")
			}, t.isChrome = function() {
				return !t.isOpera() && navigator.userAgent.indexOf("Chrome") >= 0
			}, t.isChromium = function() {
				return !t.isOpera() && navigator.userAgent.indexOf("CriOS") >= 0
			}, t.isEdge = function() {
				return navigator.userAgent.indexOf("Edge") > -1
			}, t.isSafari = function() {
				return !t.isChrome() && !t.isOpera() && navigator.userAgent.indexOf("Safari") >= 0
			}, t.isFirefox = function() {
				return navigator.userAgent.indexOf("Firefox") >= 0
			}, t.isOpera = function() {
				return navigator.userAgent.indexOf("OPR") >= 0
			}, t.iPadMini = function() {
				return navigator.userAgent.indexOf("iPad") >= 0 && (screen.width <= 1024 && screen.height <= 768 || screen.height <= 1024 && screen.width <= 768)
			}, t.isIOS = function() {
				return navigator.userAgent.indexOf("iPad") >= 0 || navigator.userAgent.indexOf("iPhone") >= 0 || navigator.userAgent.indexOf("iPod") >= 0
			}, t.isAndroid = function() {
				return navigator.userAgent.indexOf("Android") >= 0
			}, t.getMetricsPlatformName = function() {
				var e = "web";
				return t.isIOS() ? e = "ios" : t.isTablet() && (e = "android"), e
			}, t.getBrowserType = function() {
				if (void 0 === t.cachedBrowserName) {
					var e = "other";
					t.isChrome() || t.isChromium() ? e = "chrome" : t.isSafari() ? e = "safari" : t.isFirefox() ? e = "firefox" : t.isOpera() ? e = "opera" : t.isIE() ? e = "ie" : t.isEdge() && (e = "edge"), t.cachedBrowserName = e
				}
				return t.cachedBrowserName
			}, t.getBrowserVersion = function() {
				if (void 0 === t.cachedBrowserVersion) {
					var e = "unknown",
						i = "",
						n = navigator.userAgent.split(" ");
					t.isChrome() ? i = "Chrome" : t.isChromium() ? i = "CriOS" : t.isSafari() ? i = "Safari" : t.isFirefox() ? i = "Firefox" : t.isOpera() ? i = "OPR" : t.isIE() ? i = "Trident" : t.isEdge() && (i = "Edge");
					for (var a = "", o = n.length - 1; o > -1; o--)
						if (n[o].startsWith(i)) {
							a = n[o];
							break
						} var r = a.split("/");
					r.length > 1 && (e = r[1]), t.cachedBrowserVersion = e
				}
				return t.cachedBrowserVersion
			}, t.nativeAppVersion = function() {
				return "1" === n.Util.getUrlVariable("iosApp") ? 1 : "1" === n.Util.getUrlVariable("nativeApp") && 2
			}, t.isNativeApp = function() {
				return !!t.nativeAppVersion()
			}, t.getIOSVersion = function() {
				if (/iP(hone|od|ad)/.test(navigator.platform)) {
					var t = navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
					return parseInt(t[1], 10)
				}
				return null
			}, t.cachedBrowserName = void 0, t.cachedBrowserVersion = void 0, t
		}();
	e.Device = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return n(e, t), e
	}(i(10).Map);
	e.SkywatchMap = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return n(e, t), e
	}(i(10).Map);
	e.ShiverchillMap = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(332);
	e.DataFactory = n.DataFactory;
	var a = i(101);
	e.Event = a.Event;
	var o = i(28);
	e.EventEnum = o.EventEnum;
	var r = i(100);
	e.Factory = r.Factory;
	var s = i(977);
	e.Mapper = s.Mapper;
	var l = i(976);
	e.AnonymousEvent = l;
	var c = i(970);
	e.GameEvent = c;
	var h = i(954);
	e.EducationEvent = h;
	var u = i(950);
	e.WebEvent = u
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = i(5),
		r = i(0),
		s = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i) || this;
				return n.name = "", n.layoutElement = null, n.dimensionPlaceholderImage = null, n.debugOverlay = null, n
			}
			return n(e, t), e.prototype.processRelativeFields = function(t, e) {
				r.Util.isValid(t.relativeWidth) && (t.width = Math.floor(e.width * t.relativeWidth)), r.Util.isValid(t.relativeHeight) && (t.height = Math.floor(e.height * t.relativeHeight)), r.Util.isValid(t.relativeX) ? t.x = Math.floor(e.width * t.relativeX) : r.Util.isValid(t.x) || (t.x = 0), r.Util.isValid(t.relativeY) ? t.y = Math.floor(e.height * t.relativeY) : r.Util.isValid(t.y) || (t.y = 0), r.Util.isValid(t.scaleX) && (this.scale.x = t.scaleX), r.Util.isValid(t.scaleY) && (this.scale.y = t.scaleY), r.Util.isValid(t.visible) && (this.visible = t.visible)
			}, e.prototype.populate = function(t) {
				var e = 0,
					i = 0;
				r.Util.isValid(t.name) && (this.name = t.name), (r.Util.isValid(t.width) && t.width > this.width || r.Util.isValid(t.height) && t.height > this.height) && (r.Util.isValid(this.dimensionPlaceholderImage) && this.dimensionPlaceholderImage.destroy(), this.dimensionPlaceholderImage = new Phaser.Image(this.game, 0, 0, "atlas-18", "empty"), this.add(this.dimensionPlaceholderImage), r.Util.isValid(t.width) && (this.dimensionPlaceholderImage.width = t.width), r.Util.isValid(t.height) && (this.dimensionPlaceholderImage.height = t.height)), r.Util.isValid(t.anchorX) && (e = -Math.floor(t.anchorX * this.width)), r.Util.isValid(t.anchorY) && (i = -Math.floor(t.anchorY * this.height)), r.Util.isValid(t.x) && (this.x = t.x), r.Util.isValid(t.y) && (this.y = t.y), this.x += e, this.y += i
			}, e.prototype.postPopulate = function() {}, e.prototype.setActive = function(t) {
				this.isActive = t;
				for (var e = 0; e < this.children.length; e++) r.Util.isValid(this.children[e].setActive) && this.children[e].setActive(t)
			}, e.prototype.highlight = function(t, e, i) {
				void 0 === e && (e = 0), void 0 === i && (i = 0), this.isHighlighted() && (this.arrow.destroy(), this.arrow = null), t && (this.arrow = this.add(this.game.prodigy.create.sprite(0, 0, "atlas-21", "help")), this.arrow.x = e + Math.floor(this.width / 2), this.arrow.y = i - this.arrow.height + 10, this.game.add.tween(this.arrow).to({
					y: this.arrow.y + 25
				}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, a.GameConstants.MAX_SAFE_INTEGER, !0))
			}, e.prototype.isHighlighted = function() {
				return r.Util.isValid(this.arrow)
			}, e.prototype.debugDrawBounds = function(t) {
				if (t && !r.Util.isValid(this.debugOverlay)) {
					var e = new Phaser.Graphics(this.game, 0, 0);
					e.lineStyle(2, 16711680, .5), e.drawRect(0, 0, this.width, this.height), this.debugOverlay = this.add(e)
				} else !t && r.Util.isValid(this.debugOverlay) && (this.debugOverlay.destroy(), this.debugOverlay = null)
			}, e.prototype.addChild = function(e) {
				var i = t.prototype.addChild.call(this, e);
				return r.Util.isValid(this.game) && this.game.broadcaster.broadcast(o.EUIEvents.ChildAdded, this), i
			}, e.prototype.removeChild = function(e) {
				var i = t.prototype.removeChild.call(this, e);
				return r.Util.isValid(this.game) && this.game.broadcaster.broadcast(o.EUIEvents.ChildRemoved, this), i
			}, e
		}(Phaser.Group);
	e.UIElement = s
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			t.EducationLessonEncounter = "education_lesson_encounter_v3", t.GameAvatar = "game_avatar_v3", t.GameDiscovery = "game_discovery_v3", t.GameBattle = "game_battle_v3", t.GameSessionLength = "game_session_end_v3", t.GameComplete = "game_complete_v3", t.GameQuestion = "game_question_v3", t.GameSocial = "game_social_v3", t.WebMembership = "web_membership", t.AnonymousGameComplete = "anonymous_game_complete_v3", t.AnonymousWebMembership = "anonymous_membership"
		}(e.EventEnum || (e.EventEnum = {}))
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(987),
		a = i(985),
		o = i(186),
		r = i(0),
		s = function() {
			function t() {}
			return t.integerInRange = function(e, i) {
				return Math.floor(t.realInRange(e, i))
			}, t.realInRange = function(t, e, i) {
				return r.Util.isValid(i) ? new o.ProdigyRandomDataGenerator([i]).realInRange(t, e) : Math.random() * (e - t) + t
			}, t.weightedArrayElement = function(t, e) {
				var i = 0,
					o = [];
				if (!r.Util.isValid(n(t, function(t) {
						return t.weight <= 0
					})) && t.length > 0) {
					for (var s = Math.round(1 / (a(t, "weight").weight / 100)), l = 0; l < t.length; l++) r.Util.isValid(t[l].weight) && (i += t[l].weight * s), o.push(i);
					var c = this.realInRange(0, i, e);
					for (l = 0; l < t.length; l++)
						if (c < o[l]) return t[l]
				}
				return null
			}, t
		}();
	e.Random = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(155),
		o = i(0),
		r = function(t) {
			function e(e, i, n, a, o, r, s, l, c) {
				var h = t.call(this, e, i, n, a, o, r, s) || this;
				return h.fixedWidth = 0, h.fixedHeight = 0, h.indicatorImage = null, h.fixedWidth = l, h.fixedHeight = c, h
			}
			return n(e, t), e.prototype.showIndicator = function(t) {
				if (t) {
					if (!o.Util.isValid(this.indicatorImage)) {
						this.indicatorImage = new Phaser.Image(this.game, 0, 0, "atlas-21", "exclamation"), this.sprite.addChild(this.indicatorImage);
						var e = o.Util.getCenteredXY(this.indicatorImage.width, this.indicatorImage.height + 2 * this.indicatorImage.height, this.sprite.x, this.sprite.y, o.Util.isValid(this.fixedWidth) ? this.fixedWidth : this.sprite.width, o.Util.isValid(this.fixedHeight) ? this.fixedHeight : this.sprite.width);
						this.indicatorImage.x = e.x, this.indicatorImage.y = e.y;
						var i = 400 - (new Date).getTime() % 400;
						this.game.add.tween(this.indicatorImage).to({
							y: this.indicatorImage.y - 10
						}, 400, Phaser.Easing.Quadratic.InOut, !0, i, -1, !0)
					}
				} else o.Util.isValid(this.indicatorImage) && (this.indicatorImage.destroy(), this.indicatorImage = null)
			}, e
		}(a.Button);
	e.HUDButton = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(884),
		o = i(883),
		r = i(428),
		s = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				return i.clientVersion = "undefined", i.versioned = !1, i
			}
			return n(e, t), e.prototype.init = function() {
				this.broadcaster = new a.Broadcaster(this), this.seededRandom = new r.SeededRandom(this.rnd), this.prodigy = new o.GameObj(this)
			}, e.prototype.initPlugins = function() {
				this.add.plugin(PhaserSpine.SpinePlugin), this.particleStorm = this.add.plugin(Phaser.ParticleStorm)
			}, e.prototype.update = function(e) {
				t.prototype.update.call(this, e), this.postUpdate(e)
			}, e.prototype.postUpdate = function(t) {
				this.prodigy.load.postUpdate(t)
			}, e
		}(Phaser.Game);
	e.ProdigyGame = s
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(6),
		a = i(4),
		o = i(121),
		r = i(120),
		s = i(0),
		l = function() {
			function t(t) {
				this.util = null, this.states = [], this.maps = {}, this.quests = {}, this.store = {}, this.scenes = {}, this.monsters = {}, this.bgmID = 3, this.debugBounties = !1, this.battleBG = "", this.game = t
			}
			return t.prototype.getMap = function(t) {
				return this.maps[t]
			}, t.prototype.getScene = function(t) {
				return this.scenes[t]
			}, t.prototype.getDailyQuestDescription = function(t) {
				return {}
			}, t.prototype.teleport = function(t, e, i, n, a) {
				var o = null;
				s.Util.isValid(this.game.prodigy.world.currentZone) && (o = this.game.prodigy.world.currentZone, this.game.prodigy.world.previousZone = this.game.prodigy.world.currentZone), this.game.prodigy.world.currentZone = this.ID + "-" + t;
				var r = this.getMap(t);
				if (s.Util.isValid(r)) {
					this.game.state.states.TileScreen.initMap(r, this, e, i);
					var l = a || {};
					l.assets = l.assets || [], l.assets = l.assets.concat(["map-pathing"]).concat(r.assets), l.assets = l.assets.concat(this.game.prodigy.skin.getAssets(r.zoneName));
					var c = this.getCurrentQuest();
					s.Util.isValid(c) && (l.assets = l.assets.concat(c.assets)), l.title = s.Util.isValid(l.title) ? l.title : r.getName(), l.x = e, l.y = i, this.game.prodigy.start("TileScreen", l), s.Util.isValid(o) && o === this.game.prodigy.world.getCurrentMap() || this.game.prodigy.network.sendZoneEvent("map-enter")
				}
			}, t.prototype.playScene = function(t) {
				var e = this.getScene(t);
				if (s.Util.isValid(e)) {
					this.game.state.states.TileScreen.initScene(e, this), this.game.prodigy.user.unmount();
					var i = e.loadingData;
					i.assets = [], i.assets = i.assets.concat(["map-pathing"]).concat(e.assets), i.title = e.name, this.game.prodigy.start("TileScreen", i)
				}
			}, t.prototype.init = function(t, e, i) {}, t.prototype.setup = function(t, e, i) {
				var n = this.getCurrentQuest();
				return i.questParams = {}, a.GameConstants.get("GameConstants.Build.DEBUG") && a.GameConstants.get("GameConstants.Debug.ADD_FAKE_PLAYERS_TO_SCREEN") > 0 && this.game.prodigy.debugMisc.addFakePlayers(a.GameConstants.get("GameConstants.Debug.ADD_FAKE_PLAYERS_TO_SCREEN")), s.Util.isValid(n) && !i.isScene ? n.setup(t, e, i) : null
			}, t.prototype.start = function(t, e, i) {
				var n = this.getCurrentQuest();
				s.Util.isValid(n) && n.start(t, e, i)
			}, t.prototype.update = function(t, e, i) {
				var n = this.getCurrentQuest();
				s.Util.isValid(n) && n.update(t, e, i)
			}, t.prototype.cleanup = function() {}, t.prototype.process = function(t, e, i) {
				s.Util.isValid(this.monsters) && (s.Util.isValid(this.getState("daily")) ? s.Util.getDate() !== this.getState("daily").date && this.setState("daily", {
					date: s.Util.getDate(),
					flags: [1, 1, 1, 1, 1],
					rewards: this.getState("daily").rewards
				}) : this.setState("daily", {
					date: s.Util.getDate(),
					flags: [1, 1, 1, 1, 1],
					rewards: 0
				}));
				var n = this.getCurrentQuest();
				s.Util.isValid(n) && n.process(t, e, i)
			}, t.prototype.getQuest = function(t) {
				return this.quests[t]
			}, t.prototype.getCurrentQuest = function() {
				var t = this.getQuestState();
				return s.Util.isValid(t) ? this.getQuest(t.ID) : null
			}, t.prototype.getState = function(t) {
				var e = -1;
				if ("quest" !== t)
					for (var i = 0; i < this.states.length; i++) this.states[i] === t && (e = i);
				else e = t;
				return -1 === e ? null : this.game.prodigy.player.state.get("zone-" + this.ID + "-" + e)
			}, t.prototype.setState = function(t, e) {
				var i = -1;
				if ("quest" !== t)
					for (var n = 0; n < this.states.length; n++) this.states[n] === t && (i = n);
				else i = t;
				if (-1 === i) return null;
				this.game.prodigy.player.state.set("zone-" + this.ID + "-" + i, e)
			}, t.prototype.getQuestState = function() {
				return this.getState("quest")
			}, t.prototype.getRemainingQuestAreas = function(t) {
				var e = this.getQuestState(),
					i = this.getQuest(t);
				if (s.Util.isValid(e) && s.Util.isValid(i)) {
					if (s.Util.isValid(i.getRemainingQuestAreas)) return i.getRemainingQuestAreas();
					if (s.Util.isValid(i.collectionMaps)) {
						var n = [];
						for (var a in i.collectionMaps) {
							i.collectionMaps[a].filter(function(t) {
								return !s.Util.isValid(e.state[t]) || 1 !== e.state[t]
							}).length > 0 && n.push(this.ID + "-" + a)
						}
						return n
					}
					return i.area
				}
			}, t.prototype.startQuest = function(t) {
				var e = this.getQuestState();
				if (s.Util.isValid(e) || (e = {
						ID: 1
					}), e.ID !== t) return null;
				var i = this.getQuest(e.ID);
				return e.req = s.Util.copyObject(i.req), e.state = s.Util.copyObject(i.state) || {}, e.seq = 0, this.game.prodigy.player.state.set("zone-" + this.ID + "-quest", e), i
			}, t.prototype.isQuestStarted = function(t) {
				var e = this.getQuestState();
				return !(!s.Util.isValid(e) || !s.Util.isValid(e.req) || e.ID !== t)
			}, t.prototype.isQuestComplete = function(t) {
				if (!this.isQuestStarted(t)) return !1;
				var e = this.getQuestState(),
					i = this.getQuest(t);
				return this.getQuestState().ID === t && (!("pet" === e.req.type && e.req.N > 0) && (!("clear" === e.req.type && e.req.N > 0) && (!(s.Util.inArray(["item", "weapon", "hat", "outfit", "boots", "key"], e.req.type) && this.game.prodigy.player.backpack.hasItem(e.req.type, e.req.ID) < e.req.N) && (("state" !== e.req.type || this.game.prodigy.player.state.get(e.req.state) === e.req.target) && (("zone" !== e.req.type || this.game.prodigy.player.data.zone === i.area[0]) && (("zstate" !== e.req.type || e.req.N === this.getState(e.req.ID)) && (!("zgteState" === e.req.type && this.getState(e.req.ID) < e.req.N) && !("seq" === e.req.type && e.req.N !== e.seq))))))))
			}, t.prototype.completeQuest = function(t) {
				if (!this.isQuestStarted(t)) return !1;
				var e = this.getQuestState();
				return e.ID === t && ("item" !== e.req.type || e.req.K || this.game.prodigy.player.backpack.consume(e.req.type, e.req.ID, e.req.N), this.game.prodigy.player.state.set("zone-" + this.ID + "-quest", {
					ID: e.ID + 1
				}), this.game.prodigy.gameContainer.get(n.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("quest", s.Util.validateString([this.name, this.ID]), t).broadcast(), !0)
			}, t.prototype.isQuestProcessed = function(t) {
				return this.isQuestStarted(t) && this.isQuestComplete(t) && this.getQuestState().proc
			}, t.prototype.processQuest = function(t) {
				this.isQuestStarted(t) && this.isQuestComplete(t) && this.game.prodigy.player.state.set("zone-" + this.ID + "-quest-proc", 1)
			}, t.prototype.isOnQuest = function(t) {
				var e = this.getQuestState();
				return s.Util.isValid(e) && e.ID === t
			}, t.prototype.getCurrentQuestID = function() {
				var t = this.getQuestState();
				return s.Util.isValid(t) ? t.ID : 0
			}, t.prototype.defeatMonster = function(t, e, i) {
				var n = this.getQuestState();
				if (s.Util.isValid(n) && s.Util.isValid(n.req)) {
					var a = s.Util.isValid(n.req.U) && n.req.U;
					"pet" === n.req.type && n.req.ID === t && a === i ? (n.req.N--, i && (n.state[e] = 1), this.game.prodigy.player.state.updated = !0) : "clear" === n.req.type && a === i && (n.req.N--, i && (n.state[e] = 1), this.game.prodigy.player.state.updated = !0)
				}
			}, t.prototype.isOnSequence = function(t, e) {
				var i = this.getQuestState();
				return !(!s.Util.isValid(i) || i.ID !== t || !s.Util.isValid(i.req) || i.seq !== e)
			}, t.prototype.isSequenceComplete = function(t, e) {
				var i = this.getQuestState();
				return s.Util.isValid(i) && i.ID === t && i.seq > e
			}, t.prototype.completeSequence = function(t, e) {
				var i = this.getQuestState();
				s.Util.isValid(i) && i.ID === t && s.Util.isValid(i.req) && i.seq === e && (i.seq++, this.game.prodigy.player.state.updated = !0)
			}, t.prototype.getDailyMaps = function() {
				var t = [];
				for (var e in this.maps) t.push(e);
				return t
			}, t.prototype.hasDaily = function(t) {
				if (s.Util.isValid(this.getState("daily"))) {
					var e = new r.SeededRandomGenerator(this.getState("daily").date),
						i = this.getDailyMaps();
					if (s.Util.isValid(i))
						for (var n = 0; n < 5; n++)
							if (i[Math.floor(e.jumpFromStart(n) * (i.length - 1))] === t.tag && 0 !== this.getState("daily").flags[n]) return !0
				}
				return !1
			}, t.prototype.testQuest = function(t, e, i) {
				this.game.prodigy.player.state.data.zone[this.ID] = {};
				for (var n = 1; n < t; n++) this.startQuest(n), this.completeQuest(n);
				e && this.startQuest(t);
				for (n = 0; n < i; n++) this.completeSequence(t, n)
			}, t.prototype.placeDaily = function(t, e, i) {}, t.prototype.hasDailyQuestExpired = function() {
				return !s.Util.isValid(this.getState("dailyQuest")) || this.getState("dailyQuest").dateId !== s.Util.getDateId()
			}, t.prototype.startNewDailyQuest = function(t, e) {
				for (var i = [], n = 0; n < e; n++) i.push(!1);
				this.setState("dailyQuest", {
					questId: t,
					dateId: s.Util.getDateId(),
					questState: i
				}), this.game.prodigy.player.getUpdatedData()
			}, t.prototype.isDailyQuestComplete = function() {
				if (!s.Util.isValid(this.getState("dailyQuest"))) return !1;
				if (this.getState("dailyQuest").dateId !== s.Util.getDateId()) return !1;
				for (var t = this.getState("dailyQuest").questState, e = 0; e < t.length; e++)
					if (!t[e]) return !1;
				return !0
			}, t.prototype.updateDailyQuest = function(t) {
				if (s.Util.isValid(this.getState("dailyQuest"))) {
					var e = this.getState("dailyQuest").questState;
					e[t] = !0, this.setState("dailyQuest", {
						questId: this.getState("dailyQuest").questId,
						dateId: this.getState("dailyQuest").dateId,
						questState: e
					})
				}
			}, t.prototype.getRemainingQuestObjectives = function() {
				for (var t = 0, e = this.getState("dailyQuest").questState, i = 0; i < e.length; i++) e[i] || t++;
				return t
			}, t.prototype.hideFollow = function(t) {
				t.removeFollow(this.game.prodigy.player.userID)
			}, t.patrol = function(e, i, n) {
				e instanceof o.MonsterEvent && e.encountered || e.setPath(i, t.patrol.bind(t, e, i, n), n)
			}, t.prototype.getBattle = function(t, e, i, n, a) {
				var o = {
					intro: e,
					catch: !1,
					run: !1,
					screen: t.zone.battleBG
				};
				return s.Util.isValid(i.screen) && (o.screen = i.screen), s.Util.isValid(i.starMod) && (o.starMod = i.starMod), s.Util.isValid(i.drops) && (o.drops = i.drops), s.Util.isValid(i.difficulty) && (o.difficulty = i.difficulty), s.Util.isValid(i.events) && (o.events = i.events), s.Util.isValid(i.opponent) ? (o.opponent = i.opponent, o.pets = i.pets) : s.Util.isValid(i.boss) ? o.boss = i.boss : o.pets = i.pets, this.game.prodigy.battle.start.bind(this.game.prodigy.battle, o, null, n, a, this.onFaint)
			}, t
		}();
	e.Zone = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(299),
		o = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.init = function(e) {
				return !!t.prototype.init.call(this, e) && (this.name = this.game.prodigy.gameContainer.resolve(a.LocalizedNameResolver), this.name.init(e.name), !0)
			}, e.prototype.getBamSpells = function(t) {
				return []
			}, e.prototype.getStatPower = function() {
				return 5
			}, e.prototype.getStatHealth = function() {
				return 5
			}, e
		}(i(49).Creature);
	e.NPC = o
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			t[t.Key = 0] = "Key", t[t.View = 1] = "View", t[t.Icon = 2] = "Icon", t[t.IconNoBackground = 3] = "IconNoBackground", t[t.Store = 4] = "Store", t[t.Inventory = 5] = "Inventory", t[t.Card = 6] = "Card", t[t.Info = 7] = "Info", t[t.StylistCard = 8] = "StylistCard", t[t.Buy = 9] = "Buy", t[t.Equip = 10] = "Equip", t[t.Item = 11] = "Item"
		}(e.EItemInfoMode || (e.EItemInfoMode = {}))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(141),
		r = i(338),
		s = i(334),
		l = i(85),
		c = i(41),
		h = i(355),
		u = i(0),
		p = i(2),
		d = i(49),
		g = i(12),
		f = function(t) {
			function e(e, i) {
				var n = t.call(this, e) || this;
				return n.nickname = null, n.setData(i), n
			}
			return n(e, t), e.prototype.assignRandomSpells = function() {
				if (u.Util.isValid(this.source.foreignSpellPools)) {
					this.data.foreignSpells = [];
					for (var t = o(this.source.nativeSpells, function(t) {
							return t.spell
						}), e = 0; e < this.source.foreignSpellPools.length; e++) {
						var i = this.source.foreignSpellPools[e];
						i = r(i, t), i = s(i), this.data.foreignSpells.push(l(i))
					}
				} else a.Logger.log(this.getName() + ": failed to assign random spells", a.LogLevel.Warning)
			}, e.prototype.setData = function(e) {
				if (t.prototype.setData.call(this, e), u.Util.isValid(this.data)) {
					this.data.ID = u.Util.isValid(e.ID) ? e.ID : e.gameID, this.nickname = this.data.nickname, delete this.data.R;
					var i = p.Items.getItem("pet", this.data.ID);
					this.source = i.data, u.Util.isValid(i.metadata.assets.default) && (this.source.assetType = i.metadata.assets.default.type), this.type = this.source.life, this.immortal = e.immortal
				}
			}, e.prototype.canCatch = function() {
				return !(this.game.state.getCurrentState() !== this.game.state.states.Battle || !this.game.state.states.Battle.mods.bounty) || !u.Util.isValid(this.nickname)
			}, e.prototype.getAttacks = function(t) {
				void 0 === t && (t = null);
				for (var e = [], i = this.getBamSpells(), n = 0; n < i.length; n++) i[n].locked || u.Util.isValid(t) && p.Items.getItem("spell", i[n].ID).data.element !== t || e.push(i[n].ID);
				return e
			}, e.prototype.getBamSpells = function(t) {
				void 0 === t && (t = this.getLevel()), u.Util.isValid(this.data.levelCaught) || (this.data.levelCaught = this.data.level), u.Util.isValid(this.data.foreignSpells) || this.assignRandomSpells();
				var e = this.source.nativeSpells;
				if (!u.Util.isValid(e)) {
					a.Logger.log(this.getName() + ": Invalid nativeSpells, reassigning from curve", a.LogLevel.Warning);
					var i = d.Creature.getAttacksFromCurve(p.Items.getItemData("pet", this.getID()).curve, 1, 100);
					i = i.slice(0, 2), e = [{
						spell: u.Util.spellConversion({
							ID: i[0]
						}),
						tierLevels: [0, 15, 40]
					}, {
						spell: u.Util.spellConversion({
							ID: i[1]
						}),
						tierLevels: [5, 20, 45]
					}]
				}
				return [this.getNativeSpell(0, e[0].spell, t), this.getNativeSpell(1, e[1].spell, t), this.getForeignSpell(2, this.data.foreignSpells[0], t), this.getForeignSpell(3, this.data.foreignSpells[1], t)]
			}, e.prototype.getNativeSpell = function(t, e, i) {
				var n = this.getSpellEvolutionLevels(t, e),
					a = h.SpellUtil.getSpellTierAtLevel(i, n);
				return {
					ID: h.SpellUtil.getNextTierSpell(e, a - 1).ID,
					locked: a <= 0,
					type: "native",
					unlockLevel: n[0]
				}
			}, e.prototype.getForeignSpell = function(t, e, i) {
				var n = this.getSpellEvolutionLevels(t, e),
					a = h.SpellUtil.getSpellTierAtLevel(i, n),
					o = 5 - Math.max(0, Math.floor((this.data.levelCaught - 1) / 20));
				3 === t && (o += i <= 50 ? 2 : 1);
				var r = Math.min(this.data.levelCaught + o, 100);
				return {
					ID: h.SpellUtil.getNextTierSpell(e, a - 1).ID,
					locked: a <= 0 || i < r,
					type: "foreign",
					unlockLevel: r
				}
			}, e.prototype.getSpellEvolutionLevels = function(t, e) {
				var i, n = [1, 1, 2, 3];
				"aoe" === p.Items.getItem("spell", e).data.targetType ? (i = g.Player.getAoeEvolutions())[0] += n[t] : i = g.Player.getSingleShotEvolutions();
				for (var a = 1; a < i.length; a++) i[a] += n[t];
				return i
			}, e.prototype.getMaxHearts = function(t) {
				var e = u.Util.isValid(t) ? t : this.getLevel(),
					i = Math.min(Math.floor(c.CombatFormulas.getCreatureHP(this, e)), d.Creature.MAX_HEARTS);
				return Math.round(i * this.modifiers.maxHearts)
			}, e.prototype.evolve = function(t, e) {
				var i = u.Util.isValid(e) ? e : this.getLevel();
				u.Util.isValid(this.data.evolve) || (this.data.evolve = []), this.data.evolve.push({
					ID: this.data.ID,
					lvl: i
				}), this.data.ID = t, this.source = p.Items.getItem("pet", this.data.ID).data, this.type = this.source.life
			}, e.prototype.getID = function() {
				return this.data.ID
			}, e.prototype.getName = function() {
				return u.Util.isValid(this.nickname) ? this.nickname : this.source.name
			}, e.prototype.getFirstName = function() {
				return this.source.name
			}, e.prototype.getElement = function() {
				return this.source.element
			}, e.prototype.generate = function(t, e) {
				var i = Math.max(1, t - e);
				this.data.stars = d.Creature.starsToLevel(i), this.data.level = i
			}, e.prototype.getLevelingCurve = function(t) {
				for (var e = [], i = [], n = p.Items.getItem("pet", this.getID()).data.curve, a = 0; a < n.length; a++) {
					var o = n[a];
					u.Util.isValid(o.evolveID) && u.Util.isValid(o.lvl) ? i.push(o) : u.Util.isValid(o.e) && o.lvl <= t ? i.push(o) : o.lvl === t && e.push(o)
				}
				return i.concat(e)
			}, e.prototype.getDrops = function() {
				return p.Items.getItemDrops(this.data.drops).concat([{
					type: "gold",
					N: 100
				}])
			}, e.prototype.getStatPower = function() {
				return u.Util.isValid(this.source.statPower) ? this.source.statPower : 5
			}, e.prototype.getStatHealth = function() {
				return u.Util.isValid(this.source.statHealth) ? this.source.statHealth : 5
			}, e
		}(d.Creature);
	e.Monster = f
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, "MAP_LAMPLIGHT_PET_PARK", 0, 0, [], n, a) || this;
				return o.zoneName = null, o.isScene = !0, o.isScene = !0, o.loadingData = {
					fadeIn: !0,
					time: 1,
					fadeOut: !0,
					save: !1
				}, o
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				this.zone.hideFollow(i), i.walkEnabled = !1, i.user.clickEnabled = !1, i.menuBar.show(!1), e.prodigy.notifications.stopFriendTimer(), e.prodigy.notifications.clearNotifications(), t.prototype.setup.call(this, e, i, n)
			}, e.prototype.start = function(e, i, n) {
				t.prototype.start.call(this, e, i, n)
			}, e.prototype.end = function(t, e) {}, e.prototype.enterScene = function(t, e, i) {
				this.sceneTop = e.menus.add(new Phaser.TileSprite(t, 0, -50, 1280, 50, "atlas-161", "overlay-small")), this.sceneBot = e.menus.add(new Phaser.TileSprite(t, 0, 720, 1280, 50, "atlas-161", "overlay-small"));
				var n = t.add.tween(this.sceneTop).to({
					y: 0
				}, 1e3, Phaser.Easing.Quadratic.Out).start();
				a.Util.isValid(i) && n.onComplete.add(i), t.add.tween(this.sceneBot).to({
					y: 670
				}, 1e3, Phaser.Easing.Quadratic.Out).start(), e.user.unmount()
			}, e
		}(i(10).Map);
	e.Scene = o
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		return function() {}
	}();
	e.Data = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
		var a, o = arguments.length,
			r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
		else
			for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
		return o > 3 && r && Object.defineProperty(e, i, r), r
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(9),
		o = i(115),
		r = i(92),
		s = i(147),
		l = i(227),
		c = function() {
			function t() {
				this.data = null, this.parameters = {}, this.variables = null, this.onComplete = new s.Signal
			}
			return Object.defineProperty(t.prototype, "Parameters", {
				get: function() {
					return this.parameters
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(t.prototype, "Variables", {
				get: function() {
					return this.variables
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(t.prototype, "OnComplete", {
				get: function() {
					return this.onComplete
				},
				enumerable: !0,
				configurable: !0
			}), t.prototype.init = function(t, e) {
				this.data = t, this.variables = e
			}, t.prototype.setEnableLog = function(t) {
				this.enableLog = t
			}, t.prototype.validate = function() {
				return !0
			}, t.prototype.execute = function() {
				this.enableLog && this.logAction()
			}, t.prototype.logAction = function() {
				o.Logger.log("Executing ACTION " + this.data.Type, r.LogLevel.Verbose)
			}, t.prototype.finish = function(t) {
				if (void 0 === t && (t = null), t)
					for (var e in t) {
						var i = this.findResult(e);
						null !== i && (this.variables[i] = t[e])
					}
				this.OnComplete.dispatch()
			}, t.prototype.findParameter = function(t) {
				return this.parameters.hasOwnProperty(t) ? l.StateMachine.parseVariable(this.parameters[t], this.variables) : this.variables.hasOwnProperty(t) ? l.StateMachine.parseVariable("$" + t, this.variables) : (o.Logger.log("Action [" + this.constructor.name + "] could not find parameter with name [" + t + "].", r.LogLevel.Error), null)
			}, t.prototype.validateParameters = function(t, e) {
				void 0 === e && (e = null);
				for (var i = 0; i < t.length; i++) {
					var n = t[i];
					if (this.data.Parameters.hasOwnProperty(n)) this.parameters[n] = this.data.Parameters[n];
					else if (!this.variables.hasOwnProperty(n)) return o.Logger.log("Parameter validation failed for action [" + this.constructor.name + "]. Missing parameter [" + n + "].", r.LogLevel.Error), !1
				}
				if (e)
					for (var a in e) this.data.Parameters.hasOwnProperty(a) ? this.parameters[a] = this.data.Parameters[a] : this.parameters[a] = e[a];
				return !0
			}, t.prototype.findResult = function(t) {
				return this.data.Results.hasOwnProperty(t) ? this.data.Results[t] : null
			}, t = n([a.injectable()], t)
		}();
	e.Action = c
}, function(t, e) {
	var i;
	i = function() {
		return this
	}();
	try {
		i = i || Function("return this")() || (0, eval)("this")
	} catch (t) {
		"object" == typeof window && (i = window)
	}
	t.exports = i
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i, n, a, o) {
				void 0 === a && (a = 0), void 0 === o && (o = 0);
				var r, s = t.call(this, e, i) || this;
				for (s.initialized = !1, s.components = [], r = 0; r < n.length; r++) s.addComponent(n[r], !1);
				for (r = 0; r < n.length; r++) n[r].create();
				return s.x = a, s.y = o, s
			}
			return n(e, t), e.prototype.update = function() {
				for (var t = 0; t < this.components.length; t++) {
					var e = this.components[t];
					a.Util.isValid(e.update) && e.update()
				}
			}, e.prototype.addComponent = function(t, e) {
				if (void 0 === e && (e = !0), !a.Util.isValid(t.gameObject) && a.Util.isValid(this.game)) {
					if (t.hasUniqueInstance())
						for (var i = 0, n = this.components; i < n.length; i++) {
							if (n[i].constructor === t.constructor) return
						}
					this.components.push(t), t.gameObject = this, e && t.create()
				}
			}, e.prototype.findComponent = function(t) {
				for (var e = 0, i = this.components; e < i.length; e++) {
					var n = i[e];
					if (n instanceof t) return n
				}
				return null
			}, e.prototype.hasComponent = function(t) {
				return a.Util.isValid(this.findComponent(t))
			}, e.prototype.removeComponent = function(t) {
				for (var e = 0; e < this.components.length; ++e)
					if (this.components[e] === t) {
						this.components.splice(e, 1);
						break
					}
			}, e.prototype.destroy = function() {
				for (var e = 0; e < this.components.length; ++e) a.Util.isValid(this.components[e].destroy) && this.components[e].destroy();
				t.prototype.destroy.call(this)
			}, e
		}(Phaser.Group);
	e.GameObject = o
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(4),
		a = i(2),
		o = i(12),
		r = i(0),
		s = function() {
			function t() {}
			return t.isWeakAgainst = function(e, i) {
				return t.weakList[e].indexOf(i) > -1
			}, t.isStrongAgainst = function(e, i) {
				return t.strongList[e].indexOf(i) > -1
			}, t.xpRequiredForLevel = function(t) {
				if (1 === t) return 0;
				if (2 === t) return 10;
				var e = t - 2;
				return Math.round((1 - Math.pow(this.xpConstant, e)) / (1 - this.xpConstant) * 20 + 10)
			}, t.levelFromStars = function(e) {
				for (var i = 1, n = 1; n <= 100 && e >= this.xpRequiredForLevel(n); n++) i = n;
				return Phaser.Math.clamp(i, t.MIN_LEVEL, t.MAX_LEVEL)
			}, t.rollMissChance = function(t, e) {
				void 0 === e && (e = 0);
				var i = r.Util.clampedLerp(this.missDifficultyRange[0], this.missDifficultyRange[1], t / 10);
				return Math.random() < i + e
			}, t.getCreatureHP = function(t, e) {
				void 0 === e && (e = null);
				var i = t.getStatHealth(),
					n = r.Util.isValid(e) ? e : t.getLevel();
				return Math.floor(this.getHPFromParams(n, i))
			}, t.getHPFromParams = function(t, e) {
				var i = this.getLevel1Hp(e),
					n = this.getHpInc(e);
				return Math.ceil(i + (t - 1) * n)
			}, t.calculateDamagePVP = function(e, i, n, o, r) {
				void 0 === r && (r = 0);
				var s = this.calculateSpellDamage(e, i, n),
					l = a.Items.getItem("spell", n).data,
					c = {
						damage: s,
						criticalChance: 0,
						elementAdvantage: t.getTypeAdvantage(l, i),
						attackElementType: l.element,
						nFactor: 1,
						damageModifiers: 0
					},
					h = {
						damage: c.damage,
						critical: !1,
						elementAdvantage: c.elementAdvantage,
						nFactor: 1,
						miss: !1
					},
					u = o * (this.randomBaseRange[1] - this.randomBaseRange[0]) + this.randomBaseRange[0];
				return h.damage = s * (c.elementAdvantage + u + 1 + r), h.damage = Math.round(h.damage), h
			}, t.calculateDamage = function(e, i, s, l) {
				var c = this.calculateSpellDamage(e, i, s),
					h = a.Items.getItem("spell", s).data,
					u = {
						damage: c,
						criticalChance: this.criticalChance,
						elementAdvantage: t.getTypeAdvantage(h, i),
						attackElementType: h.element,
						nFactor: 1,
						damageModifiers: 0
					};
				n.default.get("GameConstants.Debug.SET_CRIT") >= 0 && (u.criticalChance = n.default.get("GameConstants.Debug.SET_CRIT")), u = this.applyModifiers(u, l, e, i);
				var p = Math.random() <= u.criticalChance ? this.criticalBonus : 0,
					d = Math.random() * (this.randomBaseRange[1] - this.randomBaseRange[0]) + this.randomBaseRange[0],
					g = 0;
				e instanceof o.Player && (g = e.getDamageBonus() - 1);
				var f = {
					damage: u.damage,
					critical: p > 0,
					elementAdvantage: u.elementAdvantage,
					nFactor: 1,
					miss: !1
				};
				return r.Util.isValid(u.nFactor) && (f.nFactor = u.nFactor), f.damage = u.damage * (u.elementAdvantage + g + p + d + this.nFactorMap[u.nFactor] + u.damageModifiers + 1), f.damage = Math.round(f.damage), n.default.get("GameConstants.Build.KILL_GORE") && e === e.game.prodigy.player && (f.damage *= 30), f
			}, t.getLevel1Hp = function(t) {
				return this.hpMidValue / this.hpStatRange * Math.pow(Math.pow(this.hpStatRange, .25), t - 1)
			}, t.getHpInc = function(t) {
				return this.hpMidIncrement / this.hpStatRange * Math.pow(Math.pow(this.hpStatRange, .25), t - 1)
			}, t.calculateSpellDamage = function(t, e, i) {
				var n = t.getStatPower(),
					o = t.getLevel(),
					r = a.Items.getItem("spell", i).data.tier,
					s = this.getLevel1Hp(n),
					l = this.getHpInc(n),
					c = 1 / this.hitsPerKillLevel1 * s;
				return (c + c / (99 / ((s + 99 * l) / this.hitsPerKillLevel100 / this.spellTierMultipliers[2] / c - 1)) * (o - 1)) * this.spellTierMultipliers[r - 1]
			}, t.getTypeAdvantage = function(e, i) {
				return t.isStrongAgainst(e.element, i.getElement()) ? this.typeAdvantageBonus : t.isWeakAgainst(e.element, i.getElement()) ? this.typeDisadvantageBonus : 0
			}, t.applyModifiers = function(t, e, i, n) {
				var o = i.modifiers,
					s = n.modifiers;
				if (r.Util.isValid(o)) {
					if (r.Util.isValid(o.potion) && 0 !== o.potion) "critical" === (l = a.Items.getItem("item", o.potion).data).element ? t.criticalChance = 2 === l.potency ? 1 : .5 : "damage" === l.element && (t.damageModifiers += .1 * l.potency);
					r.Util.isValid(o.damage) && (t.damageModifiers += o.damage - 1)
				}
				if (r.Util.isValid(s)) {
					var l;
					if (r.Util.isValid(s.potion) && 0 !== s.potion)
						if ("elemental" === (l = a.Items.getItem("item", s.potion).data).subType) {
							var c = r.Util.convertLegacyElements(l.element);
							t.attackElementType !== c && "all" !== c || (t.elementAdvantage -= .1 * l.potency)
						} r.Util.isValid(s.ignoreElement) && s.ignoreElement > 0 && (t.elementAdvantage = Math.min(t.elementAdvantage, 0))
				}
				return r.Util.isValid(e) && (r.Util.isValid(e.dmgMod) && (t.damageModifiers += e.dmgMod), r.Util.isValid(e.nFactor) && (t.nFactor = e.nFactor)), t
			}, t.getBestAttack = function(t, e, i, n) {
				if (t.length <= 0) return null;
				for (var a = [], o = 0; o < t.length; o++) a[o] = {
					dmg: this.calculateSpellDamage(e, i, t[o]),
					ID: t[o]
				};
				a.sort(function(t, e) {
					return e.dmg - t.dmg
				});
				var r = a[a.length - 1].ID;
				for (o = 0; o < a.length; o++)
					if (Math.random() > n) {
						r = a[o].ID;
						break
					} return r
			}, t.getEnemyLevel = function(e, i) {
				return Phaser.Math.clamp(Math.round(((this.hpMidValue + this.hpMidIncrement * (e - 1)) / this.difficultyHitsToKill[i] * 3 - this.hpMidValue) / this.hpMidIncrement) + 1, t.MIN_LEVEL, t.MAX_LEVEL)
			}, t.MAX_LEVEL = 100, t.MIN_LEVEL = 1, t.criticalChance = .05, t.criticalBonus = .15, t.typeAdvantageBonus = .2, t.typeDisadvantageBonus = -.2, t.randomBaseRange = [-.01, .01], t.nFactorMap = [-1, 0, 0, .15, .3, .5, 1, 1.5, 1.5, 1.5, 1.5], t.hitsPerKillLevel1 = 3, t.hitsPerKillLevel100 = 3, t.spellTierMultipliers = [1, 1.2, 1.4], t.missDifficultyRange = [.35, .25], t.difficultyHitsToKill = {
				0: 4,
				1: 3.6,
				2: 3.5,
				3: 3.4,
				4: 3.3,
				5: 3.2,
				6: 3.1,
				7: 3,
				8: 3,
				9: 3,
				10: 3
			}, t.xpConstant = 1.042, t.hpMidValue = 500, t.hpMidIncrement = 100, t.hpStatRange = 1.25, t.hpMaxStat = 9, t.strongList = {
				fire: ["ice", "earth", "plant", "ice & fire"],
				water: ["fire", "ice & fire"],
				earth: ["water"],
				plant: ["water"],
				storm: ["water"],
				mech: ["water"],
				ice: ["storm", "mech"],
				shadow: ["fire", "water", "earth", "plant", "storm", "mech", "ice"],
				wizard: ["shadow"],
				astral: ["shadow"]
			}, t.weakList = {
				fire: ["water", "fire", "shadow"],
				water: ["earth", "plant", "storm", "mech", "water", "shadow"],
				earth: ["fire", "ice & fire", "earth", "plant", "shadow"],
				plant: ["fire", "ice & fire", "plant", "earth", "shadow"],
				storm: ["ice", "ice & fire", "storm", "mech", "shadow"],
				mech: ["ice", "ice & fire", "mech", "storm", "shadow"],
				ice: ["fire", "ice & fire", "ice", "shadow"],
				shadow: ["wizard", "astral"],
				wizard: [],
				astral: []
			}, t
		}();
	e.CombatFormulas = s
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(226);
	e.actionable = function(t) {
		return function(e) {
			n.Actions[t] = e
		}
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return n(e, t), e
	}(i(10).Map);
	e.ForestMap = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(0),
		o = i(62),
		r = i(939),
		s = i(938),
		l = i(937),
		c = i(313),
		h = i(312),
		u = i(936),
		p = i(935),
		d = i(309),
		g = i(180),
		f = i(934),
		y = i(304),
		m = i(303),
		_ = i(311),
		v = i(27),
		E = i(81),
		b = i(932),
		O = function() {
			function t(t) {
				this.game = null, this.game = t
			}
			return t.parseJSON = function(t) {
				try {
					return JSON.parse(t)
				} catch (t) {
					n.Logger.log("Error parsing config file", n.LogLevel.Error)
				}
			}, t.prototype.createUIElements = function(e, i) {
				for (var o = null, r = null, s = null, c = [], h = i.width, u = i.height, p = 0; p < e.length; p++) o = e[p], a.Util.isValid(o.type) ? (r = t.ELEMENTS[o.type], a.Util.isValid(r) || (r = t.ELEMENTS.UIElement, n.Logger.log("UIParser.instantiateUIElements - parser has no definition for element of type: " + o.type + ".  Creating UIElement instead.", n.LogLevel.Error)), (s = new r(this.game, i)).processRelativeFields(o, {
					width: h,
					height: u
				}), s.populate(o), c.push(s), a.Util.isValid(o.children) && (c = c.concat(this.createUIElements(o.children, s))), a.Util.isValid(o.layoutConfig) && (s.layoutElement = new l.LayoutElement(this.game, s, o.layoutConfig)), s.postPopulate()) : n.Logger.log("UIParser.instantiateUIElements - element is missing type field.  Skipping.", n.LogLevel.Error);
				return c
			}, t.ELEMENTS = {
				UIElement: v.UIElement,
				Text: _.Text,
				Button: o.Button,
				ButtonToggle: r.ButtonToggle,
				PhaserButtonWrapper: c.PhaserButtonWrapper,
				Graphic: s.Graphic,
				SlicedGraphic: d.SlicedGraphic,
				SlicedBanner: p.SlicedBanner,
				WoodSlicedPanel: b.WoodSlicedPanel,
				Slider: g.Slider,
				TabButton: m.TabButton,
				Tab: y.Tab,
				ScrollView: u.ScrollView,
				ScrollBar: h.ScrollBar,
				WebFontText: E.WebFontText,
				SpineUI: f.SpineUI
			}, t
		}();
	e.UIParser = O
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = i(19),
		r = i(33),
		s = i(0),
		l = function(t) {
			function e(e, i, n, a, o, s) {
				var l = this,
					c = new r.NPC(e);
				return c.init({
					name: "NPC_NAME_TOY_MERCHANT"
				}), (l = t.call(this, e, i, c, null, n, a) || this).tweens = [], l.epicName = o, l.zone = s, l.setup(), l.onDestroy.add(l.handleDestroy.bind(l)), l
			}
			return n(e, t), e.prototype.handleDestroy = function() {
				a.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this)
			}, e.prototype.setup = function() {
				var t = this,
					e = "atlas-90",
					i = "machav2-";
				this.sprite = this.game.prodigy.create.element(this.sprites, 0, 0), this.shadow = this.sprite.add(this.game.prodigy.create.sprite(19, 19, e, i + "shadow")), this.shadow.anchor.setTo(.5, .5), this.body = this.sprite.add(this.game.prodigy.create.sprite(-4, -43, e, i + "body1")), this.head = this.sprite.add(this.game.prodigy.create.sprite(-17, -107, e, i + "head1")), s.Util.isValid(this.epicName) && "default" !== this.epicName || this.sprite.add(this.game.prodigy.create.sprite(50, -150, e, "toy-merchant-cart"));
				for (var n = 0; n < this.sprite.children.length; n++) this.sprite.children[n].inputEnabled = !0, s.Util.isValid(this.epicName) && s.Util.isValid(this.zone) && "default" !== this.epicName || this.sprite.children[n].events.onInputDown.add(this.clicked.bind(this));
				this.sprite.x -= Math.floor(this.sprite.width / 2), this.standTween = [], this.standTween.push(new o.TweenController(this.head)), this.standTween[0].set("y", [this.head.y, this.head.y + 1, this.head.y + 2, this.head.y + 3, this.head.y + 4, this.head.y + 3, this.head.y + 2, this.head.y + 1], 150, 9999), this.standTween.push(new o.TweenController(this.head)), this.standTween[1].set("frameName", [i + "head1", i + "head2", i + "head3", i + "head4", i + "head1", i + "head6", i + "head7", i + "head8"], 150, 9999), this.standTween.push(new o.TweenController(this.body)), this.standTween[2].set("y", [this.body.y, this.body.y + 1, this.body.y + 2, this.body.y + 3, this.body.y + 4, this.body.y + 3, this.body.y + 2, this.body.y + 1], 150, 9999), this.standTween.push(new o.TweenController(this.body)), this.standTween[3].set("frameName", [i + "body1", i + "body2", i + "body1", i + "body2", i + "body1", i + "body2", i + "body1", i + "body2"], 150, 9999), this.standTween.push(new o.TweenController(this.shadow)), this.standTween[4].set("scale", [{
					x: 1,
					y: 1
				}, {
					x: 1.1,
					y: 1.1
				}, {
					x: 1.2,
					y: 1.2
				}, {
					x: 1.3,
					y: 1.3
				}, {
					x: 1.3,
					y: 1.3
				}, {
					x: 1.2,
					y: 1.2
				}, {
					x: 1.1,
					y: 1.1
				}, {
					x: 1,
					y: 1
				}], 150, 9999), this.standTween.push(new o.TweenController(this.shadow)), this.standTween[5].set("alpha", [.2, .3, .4, .5, .5, .4, .3, .2], 150, 9999), this.stand(), a.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.addTrigger({
					ID: "autoclick-mapEvent-toyMerchant",
					context: this,
					callback: function() {
						return {
							x: t.x,
							y: t.y
						}
					}
				})
			}, e.prototype.update = function() {
				t.prototype.update.call(this);
				for (var e = 0; e < this.tweens.length; e++) this.tweens[e].update()
			}, e.prototype.walk = function() {
				this.stand()
			}, e.prototype.stand = function() {
				this.tweens = this.standTween;
				for (var t = 0; t < this.tweens.length; t++) this.tweens[t].start()
			}, e.prototype.clicked = function() {
				var t = this.game.prodigy.event.create();
				s.Util.isValid(this.epicName) && s.Util.isValid(this.zone) && "default" !== this.epicName ? "Arctursus" === this.epicName ? s.Util.isValid(this.zone.getState("a1Visited")) && !1 !== this.zone.getState("a1Visited") ? t.text(8, "toy") : (t.text(3, "toy"), t.function(this.zone.setState.bind(this.zone, "a1Visited", !0))) : "Florafox" === this.epicName ? s.Util.isValid(this.zone.getState("a2Visited")) && !1 !== this.zone.getState("a2Visited") ? t.text(8, "toy") : (t.text(4, "toy"), t.function(this.zone.setState.bind(this.zone, "a2Visited", !0))) : "BigHex" === this.epicName ? s.Util.isValid(this.zone.getState("b1Visited")) && !1 !== this.zone.getState("b1Visited") ? t.text(8, "toy") : (t.text(5, "toy"), t.function(this.zone.setState.bind(this.zone, "b1Visited", !0))) : "Magmischief" === this.epicName ? s.Util.isValid(this.zone.getState("c1Visited")) && !1 !== this.zone.getState("c1Visited") ? t.text(8, "toy") : (t.text(6, "toy"), t.function(this.zone.setState.bind(this.zone, "c1Visited", !0))) : "Diveodile" === this.epicName ? s.Util.isValid(this.zone.getState("c2Visited")) && !1 !== this.zone.getState("c2Visited") ? t.text(8, "toy") : (t.text(7, "toy"), t.function(this.zone.setState.bind(this.zone, "c2Visited", !0))) : "Arena" === this.epicName && t.text(8, "toy") : (t.text(0, "toy"), t.text(1, "toy"), t.function(this.game.prodigy.open.toyStore.bind(this.game.prodigy.open))), t.start()
			}, e
		}(i(17).CreatureContainer);
	e.ToyMerchant = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = i(2),
		r = i(0),
		s = function(t) {
			function e(i, n, a, s, l, c, h, u) {
				var p = t.call(this, i, n, a, s, l, c) || this;
				return 2 !== s || r.Util.isValid(o.Items.getItem("pet", a.data.ID).metadata.assets.default) || (p.sprites.scale.x = p.sprites.scale.y = 2), p.forceSimple = h, p.assets = e.getAssets(p.source, p.setScale, p.forceSimple), p.onClick = u, p
			}
			return n(e, t), e.getAssets = function(t, e, i, n) {
				var a = o.Items.getItem("pet", t.data.ID).metadata.assets,
					s = null,
					l = [];
				if ("default" === (s = 1 !== e && r.Util.isValid(a.default) ? "default" : "reduced") && i && !n && (s = "small"), r.Util.isValid(a.default) && "spine" === a.default.type) l.push("spine-" + a.default.ID);
				else {
					var c = t.getID();
					switch (l.push(s + "-pet-" + c), c) {
						case 125:
							l = l.concat(["sfx-5"]);
							break;
						case 126:
							l = l.concat(["sfx-2"]);
							break;
						case 127:
							l = l.concat(["sfx-3"]);
							break;
						case 128:
							l = l.concat(["sfx-6"]);
							break;
						case 129:
							l = l.concat(["sfx-4"])
					}
				}
				return l
			}, e.prototype.startLoad = function(i) {
				var n = this;
				t.prototype.startLoad.call(this), this.loading = !0, this.assets = e.getAssets(this.source, this.setScale, this.forceSimple), r.Util.isValid(i) && (this.assets = this.assets.concat(i)), this.game.prodigy.load.assets(this.assets, function() {
					n.setup()
				})
			}, e.prototype.setup = function(t, e) {
				if (r.Util.isValid(this.game) && (!r.Util.isValid(e) || e) && r.Util.isValid(this.assets)) {
					this.sprites.removeAll(!0);
					var i = this.assets[0],
						n = null,
						a = o.Items.getItem("pet", this.source.data.ID).metadata.assets.default;
					r.Util.isValid(a) && (n = a.battleScale);
					var s = this.game.prodigy.assets.getAsset(i);
					if (r.Util.isValid(s) && r.Util.isValid(s.battleScale) ? this.battleScale = s.battleScale : r.Util.isValid(n) ? this.battleScale = n : this.battleScale = 1, this.forceSimple) {
						l = this.game.prodigy.assets.getImageBounds(i);
						this.body = this.game.prodigy.create.sprite(0, 0, i), this.sprites.add(this.body), this.body.x = -l[0], this.body.y = -this.body.height, this.onClick && (this.body.inputEnabled = !0, this.body.events.onInputDown.add(this.onClick))
					} else {
						var l, c = -(l = this.game.prodigy.assets.getImageBounds(i))[0],
							h = -l[3];
						this.body = this.game.prodigy.create.sprite(c, h, i), this.sprites.add(this.body), this.onClick && (this.body.inputEnabled = !0, this.body.events.onInputDown.add(this.onClick)), this.sprites.callAll("animations.add", "animations", "walk", [0, 1, 2, 3, 4, 5, 6, 7], 10, !0, !0), this.sprites.callAll("animations.add", "animations", "stand", [8, 9, 10, 11, 12, 13, 14, 15], 10, !0, !0);
						try {
							this.body.animations.add("attack", [16, 17, 18, 19, 20, 21, 22, 23], 10).onComplete.add(this.stand, this)
						} catch (t) {}
						this.sprites.callAll("play", null, "stand")
					}
					Math.abs(this.sprites.scale.x) > 1 && this.sprites.setAll("smoothed", !1), this.complete = !0, this.loading = !1, r.Util.isValid(this.loadedCallback) && this.loadedCallback(this)
				}
			}, e.prototype.attack = function() {
				this.sprites.callAll("play", null, "attack")
			}, e.prototype.damaged = function() {
				this.game.add.tween(this).to({
					alpha: .5
				}, 100, Phaser.Easing.Quadratic.InOut, !0, 0, a.GameConstants.MAX_SAFE_INTEGER).start(), this.speed = 0
			}, e.prototype.getSource = function() {
				return this.source
			}, e
		}(i(17).CreatureContainer);
	e.MonsterContainer = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(0),
		r = function(t) {
			function e(i, n, a, o, r) {
				var s = t.call(this, i, n, a, 2, o, r) || this;
				return s.game = i, s.source = a, s.assets = e.getAssets(s.source), s
			}
			return n(e, t), e.prototype.startLoad = function() {
				t.prototype.startLoad.call(this), this.loading = !0, this.assets = e.getAssets(this.source), this.game.prodigy.load.assets(this.assets, this.setup.bind(this))
			}, e.prototype.setup = function(t) {
				if (o.Util.isValid(this.game) && t && o.Util.isValid(this.assets)) {
					this.sprites.removeAll(!0);
					var e, i = this.assets[0];
					e = this.game.prodigy.assets.getImageBounds(i), this.body = this.game.prodigy.create.sprite(0, 0, i), this.sprites.add(this.body), this.body.x = -e[0], this.body.y = -e[3];
					var n = null;
					try {
						this.sprites.callAll("animations.add", "animations", "walk", [0, 1, 2, 3, 4, 5, 6, 7], 10, !0, !0), this.sprites.callAll("animations.add", "animations", "stand", [0, 1, 2, 3, 4, 5, 6, 7], 10, !0, !0), n = this.body.animations.add("attack", [8, 9, 10, 11, 12, 13, 14, 15], 10)
					} catch (t) {
						this.sprites.callAll("animations.add", "animations", "walk", [0], 10, !0, !0), this.sprites.callAll("animations.add", "animations", "stand", [0], 10, !0, !0), n = this.body.animations.add("attack", [0], 10)
					}
					n.onComplete.add(this.stand, this), this.sprites.callAll("play", null, "stand"), this.complete = !0, this.loading = !1
				}
			}, e.prototype.attack = function() {
				try {
					this.sprites.callAll("play", null, "attack")
				} catch (t) {
					a.Logger.log("Error trying to play BossContainer Attack animation", a.LogLevel.Error)
				}
			}, e.getAssets = function(t) {
				return ["default-boss-" + t.getID()]
			}, e
		}(i(17).CreatureContainer);
	e.BossContainer = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t() {
			this.gameObject = null
		}
		return t.prototype.create = function() {}, t.prototype.update = function() {}, t.prototype.destroy = function() {}, t.prototype.hasUniqueInstance = function() {
			return !1
		}, t
	}();
	e.Component = n
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(195),
		o = i(11),
		r = i(342),
		s = i(127),
		l = i(1035),
		c = i(340),
		h = i(41),
		u = i(6),
		p = i(5),
		d = i(0),
		g = i(2),
		f = function() {
			function t(t) {
				this.immortal = !1, this.justLeveled = !1, this.starsEarned = 0, this.data = {}, this.modifiers = null, this.type = "B", this.team = null, this.source = null, this.game = null, this.inPVP = !1, this.catchAttempt = 0, this.starsToProcess = 0, this.starsRewardBase = 100, this.starsReward = 100, this.pvpHP = 0, this.levelEvents = [], this.isOpponent = !1, this.onHPChange = new Phaser.Signal, this.game = t, this.resetModifiers()
			}
			return t.prototype.init = function(t) {
				return d.Util.isValid(t)
			}, t.prototype.createDataClone = function() {
				var t = new this.constructor(this.game);
				return t.setData(a(this.data)), t
			}, t.prototype.setData = function(t) {
				this.data = t
			}, t.getHeartsFromCurve = function(e, i, n) {
				var a = t.HP_BONUS[e];
				return 20 * (Math.floor((a + 20) * n / 100) - Math.floor((a + 20) * (i - 1) / 100))
			}, t.getLevelPercent = function(e) {
				var i = t.levelFromStars(e);
				if (i >= 100) return 1;
				var n = t.starsToLevel(i + 1),
					a = t.starsToLevel(i);
				return (e - a) / (n - a)
			}, t.getAttacksFromCurve = function(t, e, i) {
				for (var n = [], a = 0; a < t.length; a++) {
					var o = t[a];
					o.lvl >= e && o.lvl <= i && d.Util.isValid(o.a) && n.push(o.a)
				}
				return n
			}, t.getEvolutionsFromCurve = function(t, e, i) {
				for (var n = [], a = !1, o = 0; o < t.length; o++) {
					var r = t[o],
						s = null;
					d.Util.isValid(r.evolveID) ? (s = r.evolveID, a = !0) : d.Util.isValid(r.e) && (s = r.e), r.lvl >= e && r.lvl <= i && d.Util.isValid(s) && n.push(r)
				}
				if (a)
					for (o = n.length; o-- > 0;) d.Util.isValid(n[o].e) && n[o].e > 0 && n.splice(o, 1);
				return n
			}, t.getAttacksOfType = function(t, e) {
				void 0 === e && (e = null);
				for (var i = [], n = 0; n < t.length; n++) {
					var a = g.Items.getItem("spell", t[n]);
					null !== e && o(a, "data.element", "") !== e || i.push(t[n])
				}
				return i
			}, t.starsToLevel = function(t) {
				return h.CombatFormulas.xpRequiredForLevel(t)
			}, t.levelFromStars = function(t) {
				return h.CombatFormulas.levelFromStars(t)
			}, t.enemiesPerLevel = function(t) {
				return Math.max(0, Math.floor(Math.pow(1.7, .085 * t) + .8))
			}, t.prototype.resetModifiers = function() {
				this.modifiers = {
					maxHearts: 1,
					damage: 1,
					miss: 0,
					ignoreElement: 0,
					potion: null,
					barrier: !1
				}, this.clearUnprocessedLevelEvents()
			}, t.prototype.getDataAndClear = function() {
				return this.data
			}, t.prototype.getID = function() {
				return 0
			}, t.prototype.canCatch = function() {
				return !1
			}, t.prototype.getAttacks = function(t) {
				return [1]
			}, t.prototype.evolve = function(t, e) {
				n.Logger.log("You're calling evolve on a Creature subclass that hasn't overridden the evolve function", n.LogLevel.Verbose)
			}, t.prototype.isKnockedOut = function() {
				return this.getCurrentHearts() <= 0
			}, t.prototype.diffAttackSlots = function(t) {
				for (var e = [], i = this.getCurrentBamSpells(), n = this.getBamSpells(t), a = 0; a < i.length; a++) r(i[a], n[a]) || e.push({
					oldID: i[a].ID,
					newID: n[a].ID,
					newlyUnlocked: i[a].locked && !n[a].locked
				});
				return e
			}, t.prototype.getAvailableEvolutions = function() {
				var e = this.getLevel(),
					i = t.getEvolutionsFromCurve(this.getLevelingCurve(e), 1, e),
					n = this.getID(),
					a = [];
				i.sort(function(t, e) {
					return t.lvl - e.lvl
				});
				var o = s(i, function(t) {
					return t.evolveID === n
				});
				o <= -1 && (o = s(i, function(t) {
					return t.e === n
				}));
				var r = o + 1;
				return r >= 0 && r < i.length && (a = i.slice(r, i.length)), a
			}, t.prototype.getCurrentHearts = function() {
				return this.inPVP ? (d.Util.isValid(this.pvpHP) || (this.pvpHP = this.getMaxHearts()), this.pvpHP) : d.Util.isValid(this.data.hp) ? (this.data.hp > this.getMaxHearts() && (this.data.hp = this.getMaxHearts()), this.data.hp) : this.getMaxHearts()
			}, t.prototype.getMaxHearts = function(e) {
				var i = d.Util.isValid(e) ? e : this.getLevel();
				return Math.min(Math.floor(h.CombatFormulas.getCreatureHP(this, i)), t.MAX_HEARTS)
			}, t.prototype.getBaseMaxHearts = function(t) {
				return this.getMaxHearts(t)
			}, t.prototype.updateModifier = function(t, e) {
				if ("potion" === t) {
					if (this.modifiers.potion = e, null !== e) {
						var i = g.Items.getItem("item", e).data;
						this.game.prodigy.network.sendAnalytics("potion-use-activity", i.name, "Events")
					}
				} else "barrier" === t ? this.modifiers.barrier = e : d.Util.isValid(this.modifiers[t]) && (this.modifiers[t] += e, this.modifiers[t] <= 0 && (this.modifiers[t] = .01))
			}, t.prototype.changeCurrentHeartsPercent = function(t) {
				var e = Math.round(this.getMaxHearts() * t);
				this.changeCurrentHearts(e)
			}, t.prototype.changeCurrentHearts = function(t, e) {
				void 0 === e && (e = 0);
				var i = this.getCurrentHearts(),
					n = i + t;
				n < e && (n = e), n > this.getMaxHearts() && (n = this.getMaxHearts()), this.inPVP ? this.pvpHP = Math.round(n) : this.data.hp = Math.round(n), this.onHPChange.dispatch(this, n - i)
			}, t.prototype.processStars = function() {
				this.starsToProcess > 0 ? this.addStars(this.starsToProcess) : this.game.broadcaster.broadcast(p.ECreatureEvents.AnimationDone, this)
			}, t.prototype.addStars = function(e, i, n, a) {
				if (void 0 === i && (i = !1), void 0 === n && (n = !1), void 0 === a && (a = !1), i) return !1;
				if (this.isOpponent) return !1;
				var o = Math.round(e),
					r = !1;
				this.starsToProcess = 0;
				var s = this.getLevel();
				if (this.game.broadcaster.broadcast(p.ECreatureEvents.StarsAdded, this, null), s >= 100) return !1;
				if (d.Util.isValid(this.data.stars) ? this.data.stars += o : this.data.stars = o, n || (this.starsEarned += o), this.data.level = t.levelFromStars(this.data.stars), s !== this.data.level) {
					this.levelEvents = [];
					var l = this.data.level - s;
					if (l > 0 && this.game.prodigy.player.data === this.data)
						for (var c = s + 1; c <= this.data.level; c++) this.game.prodigy.gameContainer.get(u.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_level_up", {}, !0);
					this.justLeveled = !0, r = !0, this.game.broadcaster.broadcast(p.ECreatureEvents.LevelUp, this, [l])
				}
				return a && this.clearUnprocessedLevelEvents(), r
			}, t.prototype.getUnprocessedLevelEvents = function() {
				return this.levelEvents
			}, t.prototype.hasHeartsEventInQueue = function() {
				return l(this.levelEvents, function(t) {
					return d.Util.isValid(t.h)
				})
			}, t.prototype.getStarsToLevel = function() {
				var e = this.getStars(),
					i = this.getLevel() >= 100 ? this.getLevel() : this.getLevel() + 1,
					n = t.starsToLevel(i);
				return Math.max(0, n - e)
			}, t.prototype.getPercentToLevel = function() {
				if (this.getLevel() >= 100) return 1;
				var e = t.starsToLevel(this.getLevel()),
					i = t.starsToLevel(this.getLevel() + 1);
				return (this.getStars() - e) / (i - e)
			}, t.prototype.getStars = function() {
				return d.Util.isValid(this.data.stars) || (this.data.stars = 0), o(this.data, "stars", 0)
			}, t.prototype.getStarRewardByDamage = function(t) {
				var e = this.getMaxHearts(this.getLevel()),
					i = this.getCurrentHearts(),
					n = 0,
					a = t;
				return a >= i ? (a = i, (n = Math.floor(this.starsRewardBase * (a / e))) < this.starsReward && (n = this.starsReward)) : n = Math.floor(this.starsRewardBase * (a / e)), n <= 0 && (n = 1), this.starsReward -= n, n
			}, t.prototype.getStarReward = function() {
				return 0
			}, t.prototype.getLevel = function() {
				return o(this.data, "level", 1)
			}, t.prototype.getLevelingCurve = function(t) {
				return []
			}, t.prototype.getElement = function() {
				return c.EElementType.Wizard
			}, t.prototype.getDamageBonus = function() {
				return 0
			}, t.prototype.getDrops = function() {
				return []
			}, t.prototype.getName = function() {
				return d.Util.isValid(this.name) ? this.name.getName() : ""
			}, t.prototype.getNameWithoutNickname = function() {
				return d.Util.isValid(this.name) ? this.name.getNameWithoutNickname() : ""
			}, t.prototype.getFirstName = function() {
				return d.Util.isValid(this.name) ? this.name.getFirstName() : ""
			}, t.prototype.getCurrentBamSpells = function() {
				return this.getBamSpells(this.getLevel())
			}, t.prototype.getSpellAssets = function() {
				for (var t = this.getCurrentBamSpells(), e = [], i = 0; i < t.length; i++) {
					var n = g.Items.getItem("spell", t[i].ID).metadata.assets;
					e = e.concat(n)
				}
				return e
			}, t.prototype.clearUnprocessedLevelEvents = function() {
				this.levelEvents = []
			}, t.MAX_HEARTS = 5e4, t.HP_BONUS = {
				"A+": 4,
				A: 3,
				"A-": 2,
				"B+": 1,
				B: 0,
				"B-": -1,
				"C+": -2,
				C: -3,
				"C-": -4
			}, t
		}();
	e.Creature = f
}, function(t, e, i) {
	var n = i(216),
		a = i(208);
	t.exports = function(t) {
		return null != t && a(t.length) && !n(t)
	}
}, function(t, e) {
	t.exports = function(t) {
		return null != t && "object" == typeof t
	}
}, function(t, e) {
	t.exports = function(t) {
		var e = typeof t;
		return null != t && ("object" == e || "function" == e)
	}
}, function(t, e, i) {
	var n = i(395),
		a = "object" == typeof self && self && self.Object === Object && self,
		o = n || a || Function("return this")();
	t.exports = o
}, function(t, e, i) {
	var n = i(1150),
		a = i(1105),
		o = i(87),
		r = i(18),
		s = i(1097);
	t.exports = function(t) {
		return "function" == typeof t ? t : null == t ? o : "object" == typeof t ? r(t) ? a(t[0], t[1]) : n(t) : s(t)
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(5),
		o = i(2),
		r = i(0),
		s = function(t) {
			function e(e, i, n, a) {
				void 0 === a && (a = {
					hideMenu: !0,
					hideContent: !0,
					tile: "bg-tile-brown"
				});
				var o = t.call(this, e, i) || this;
				return o.menuID = -1, o.style = null, o.btns = [], o.currentBtn = null, o.setupComplete = !1, o.overlay = null, o.isHidden = !1, o.spinner = null, o.bg = null, o.fg = null, o.title = null, o.bar = null, o.barSpeedX = 0, o.barSpeedY = 0, o.menuID = n, o.style = a, e.prodigy.open.menuOpen(!o.style.hideMenu), r.Util.isValid(o.game.prodigy.notifications) && o.game.prodigy.notifications.clearNotifications(), o.style.hideOverlay || (o.overlay = o.game.prodigy.create.sprite(0, 0, "atlas-18", "overlay-small"), o.overlay.width = o.game.world.width, o.overlay.height = o.game.world.height, o.overlay.alpha = .01, o.overlay.inputEnabled = !0, o.add(o.overlay)), o
			}
			return n(e, t), e.prototype.hide = function(t) {
				void 0 === t && (t = !1), t ? (this.isHidden = !0, this.visible = !1) : this.isHidden && (this.isHidden = !1, this.visible = !0)
			}, e.prototype.onMenuOpen = function(t) {}, e.prototype.setup = function() {
				this.loadComplete()
			}, e.prototype.update = function() {
				t.prototype.update.call(this), this.setupComplete && this.menuUpdate()
			}, e.prototype.loadComplete = function() {
				this.alive && (r.Util.isValid(this.spinner) && this.spinner.destroy(), this.menuSetup())
			}, e.prototype.menuSetup = function() {
				r.Util.isValid(this.style.open) && this.style.open(), this.bg = this.game.prodigy.create.element(this, 0, 0), r.Util.isValid(this.style.tile) && this.setBackgroundTile("atlas-161", this.style.tile, .25, .25, this.style.full), this.fg = this.game.prodigy.create.element(this, 0, 0), this.style.hideContent && (this.game.broadcaster.broadcast(a.EScreenEvents.EnableBackground, this, [!1]), this.game.broadcaster.broadcast(a.EScreenEvents.EnableContent, this, [!1]))
			}, e.prototype.close = function() {
				r.Util.isValid(this.game) && (this.style.hideContent && (this.game.broadcaster.broadcast(a.EScreenEvents.EnableBackground, this, [!0]), this.game.broadcaster.broadcast(a.EScreenEvents.EnableContent, this, [!0])), this.game.prodigy.open.menuOpen(!0), r.Util.isValid(this.style.close) && this.style.close(), this.game.prodigy.open.close(this), this.destroy())
			}, e.prototype.showFrame = function(t, e, i, n) {
				if (void 0 === n && (n = null), this.fg.add(new Phaser.TileSprite(this.game, 0, 0, this.game.world.width, 50, "atlas-161", "panel-mid")), this.fg.add(new Phaser.TileSprite(this.game, 0, 50, this.game.world.width, 50, "atlas-161", "panel-top2")), this.fg.add(new Phaser.TileSprite(this.game, 0, 620, this.game.world.width, 50, "atlas-161", "panel-top")), this.fg.add(new Phaser.TileSprite(this.game, 0, 670, this.game.world.width, 50, "atlas-161", "panel-mid")), r.Util.isValid(t)) {
					this.fg.add(this.game.prodigy.create.sprite(30, 5, "atlas-21", "icon-base"));
					var a = this.fg.add(this.game.prodigy.create.sprite(30, 5, o.Items.getIconAtlas(t), o.Items.getIconFrame(t), null, null, 80, 80));
					a.x += Math.floor(.5 * (80 - a.width)), a.y += Math.floor(.5 * (80 - a.height))
				}
				if (r.Util.isValid(e) && (this.title = this.game.prodigy.create.font(this.fg, 125, 10, e, {
						fontID: 9,
						size: 36
					})), r.Util.isValid(i)) {
					var s = this.game.prodigy.create.element(this.fg, 0, 5);
					this.btns = [];
					for (var l = 0; l < i.length; l++) {
						var c = i[l];
						s.add(this.game.prodigy.create.sprite(90 * l, 0, "atlas-21", "icon-base-active")), this.btns[l] = this.game.prodigy.create.button(s, 90 * l, 0, o.Items.getIconAtlas(c.icon), o.Items.getIconFrame(c.icon), this.clickBtn.bind(this, l, this.btns, c.callback, c.title), null, null, !1, 80, 80), this.btns[l].oldY = this.btns[l].y
					}
					s.x = 1250 - s.width, r.Util.isValid(n) && this.btns[n].onDown()
				}
			}, e.prototype.clickBtn = function(t, e, i, n) {
				if (this.currentBtn !== t) {
					this.currentBtn = t, r.Util.isValid(n) && r.Util.isValid(this.title) && this.title.setText(n);
					for (var a = 0; a < e.length; a++) this.resetButton(a, e);
					this.game.add.tween(e[t]).to({
						y: e[t].y - 10
					}, 500, Phaser.Easing.Quadratic.Out).to({
						y: e[t].y
					}, 500, Phaser.Easing.Quadratic.In).loop().start(), i()
				}
			}, e.prototype.resetButton = function(t, e) {
				void 0 === e && (e = this.btns), this.game.tweens.removeFrom(e[t], !1), e[t].y = e[t].oldY
			}, e.prototype.showBtns = function(t, e) {
				if (r.Util.isValid(e))
					for (var i = 0, n = e.length - 1; n >= 0; n--) e[n].y = 650, i += e[n].width, e[n].x = 1230 - i, i += 30;
				if (r.Util.isValid(t))
					for (i = 0, n = 0; n < t.length; n++) t[n].y = 650, t[n].x = i + 50, i += t[n].width + 30
			}, e.prototype.menuUpdate = function() {
				r.Util.isValid(this.bar) && (this.bar.tilePosition.x += this.barSpeedX, this.bar.tilePosition.y += this.barSpeedY)
			}, e.prototype.setBackgroundTile = function(t, e, i, n, a) {
				r.Util.isValid(this.bar) && this.bar.destroy(), this.bg.removeAll(!0), this.bar = a ? new Phaser.TileSprite(this.game, 0, 0, this.game.world.width, this.game.world.height, t, e) : new Phaser.TileSprite(this.game, 0, 100, this.game.world.width, this.game.world.height - 200, t, e), this.bar.tilePosition.x = -6, this.bar.tilePosition.y = -20, this.bg.add(this.bar), r.Util.isValid(i) && (this.barSpeedX = i), r.Util.isValid(n) && (this.barSpeedY = n)
			}, e
		}(i(7).Element);
	e.LegacyMenu = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this) || this;
			return n.resetAfterDrag = !1, n.source = e, n.metadata = i, n.onLoaded = new Phaser.Signal, n
		}
		return n(e, t), e.prototype.create = function() {
			t.prototype.create.call(this)
		}, e.prototype.setAnchor = function(t, e) {}, e.prototype.setScale = function(t, e) {}, e.prototype.getScale = function() {
			return new Phaser.Point(1, 1)
		}, e.prototype.setAlpha = function(t) {}, e.prototype.getWorld = function() {
			return new Phaser.Point
		}, e.prototype.getWidth = function() {
			return 0
		}, e.prototype.getHeight = function() {
			return 0
		}, e.prototype.getEvents = function() {
			return null
		}, e.prototype.setInputEnabled = function(t) {
			void 0 === t && (t = !0)
		}, e.prototype.enableDragging = function(t, e, i, n) {}, e.prototype.disableDragging = function() {}, e.prototype.getBounds = function() {
			return new Phaser.Rectangle(0, 0, 0, 0)
		}, e.prototype.resetToOrigin = function() {}, e.prototype.hasAnimations = function() {
			return !1
		}, e.prototype.getAnimationLength = function(t) {
			return 0
		}, e.prototype.playAnimation = function(t, e, i) {}, e.prototype.setAsset = function(t, e) {}, e.prototype.getInputHandler = function() {
			return null
		}, e.prototype.hasUniqueInstance = function() {
			return !0
		}, e
	}(i(48).Component);
	e.Renderer = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e) || this;
				return n.data.level = i.level, n.source = i, n
			}
			return n(e, t), e.prototype.getAttacks = function(t) {
				return this.source.attacks || []
			}, e.prototype.getMaxHearts = function() {
				return this.source.maxHP
			}, e.prototype.getName = function() {
				return this.source.name
			}, e.prototype.getElement = function() {
				return this.source.element
			}, e.prototype.getID = function() {
				return this.source.ID
			}, e.prototype.getStarReward = function() {
				return a.Util.isValid(this.source.starBonus) ? this.source.starBonus : t.prototype.getStarReward.call(this)
			}, e.prototype.canCatch = function() {
				return !1
			}, e.prototype.chooseAction = function(t, e, i, n, a) {}, e.prototype.getBamSpells = function(t) {
				for (var e = this.getAttacks(), i = [], n = 0; n < e.length; n++) i.push({
					ID: e[n],
					locked: !1,
					type: "native"
				});
				return i
			}, e.prototype.getStatPower = function() {
				return 5
			}, e.prototype.getStatHealth = function() {
				return 5
			}, e
		}(i(49).Creature);
	e.Boss = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(183),
		o = i(0),
		r = function(t) {
			function e(e, i, n, o, r, s, l, c, h) {
				void 0 === h && (h = null);
				var u = t.call(this, e, i) || this;
				return u.input = null, u.style = {}, u.ID = "", u.canvas = null, u.allowEvents = !1, u.inputWidth = 0, u.inputHeight = 0, u.label = null, u.input = document.createElement("input"), u.input.setAttribute("value", ""), u.input.setAttribute("id", n), u.input.setAttribute("class", "game-input"), u.input.setAttribute("autocapitalize", "off"), u.style = h, u.ID = "#" + n, document.getElementById("external-ui").appendChild(u.input), u.canvas = a("#game-container canvas"), u.x = r, u.y = s, u.inputWidth = l, u.inputHeight = c, u.createEvents(), u
			}
			return n(e, t), e.createInputField = function(t, i, n, r, s, l, c, h, u) {
				void 0 === u && (u = "textProdigy123");
				var p = a("#" + n);
				o.Util.isValid(p) && p.remove();
				var d = new e(t, i, n, r, s, l, c - 15, h);
				return d.setAttribute("type", u), d
			}, e.prototype.setFocus = function(t) {
				t && a(this.ID).trigger("focus")
			}, e.prototype.clearEvents = function(t) {
				this.allowEvents = t
			}, e.prototype.getValue = function() {
				return a(this.ID).val()
			}, e.prototype.setValue = function(t) {
				a(this.ID).val(t)
			}, e.prototype.setCSS = function(t) {
				a(this.ID).css(t)
			}, e.prototype.hide = function(t) {
				this.visible = !1, a(this.ID).fadeOut(t), o.Util.isValid(this.label) && (this.label.alpha = 0), a(this.ID).trigger("focusout")
			}, e.prototype.show = function(t, e) {
				void 0 === e && (e = null), this.visible = !0, o.Util.isValid(e) ? setTimeout(this.fadeIn.bind(this, t), e) : this.fadeIn(t)
			}, e.prototype.fadeIn = function(t) {
				a(this.ID).fadeIn(t), o.Util.isValid(this.label) && (this.label.alpha = 1)
			}, e.prototype.setEnabled = function(t) {
				a(this.ID).attr("disabled", t ? null : "disabled")
			}, e.prototype.setLabel = function(t, e, i, n) {
				void 0 === e && (e = null), void 0 === i && (i = !1), void 0 === n && (n = null), o.Util.isValid(this.label) ? this.label.setText(e) : this.label = this.game.prodigy.create.font(t, o.Util.isValid(n) ? n : this.x + 10, this.y - 30, e, {
					size: 20
				})
			}, e.prototype.update = function() {
				t.prototype.update.call(this);
				var e = a(this.ID),
					i = this.canvas.height() / this.game.world.height;
				e.height(i * this.inputHeight);
				var n = this.canvas.width() / this.game.world.width;
				e.width(n * this.inputWidth);
				var r = i * this.y,
					s = n * this.x + parseInt(a("#game-container canvas").css("margin-left")),
					l = i * this.inputHeight * .5;
				a(this.ID).css({
					top: r,
					left: s,
					"font-size": l + "px"
				}), o.Util.isValid(this.style) && a(this.ID).css(this.style)
			}, e.prototype.setAttribute = function(t, e) {
				this.input.setAttribute(t, e)
			}, e.prototype.destroy = function() {
				a(this.ID).trigger("focusout"), a(this.ID).remove(), t.prototype.destroy.call(this)
			}, e.prototype.createEvents = function() {
				var t = this;
				this.allowEvents = !0;
				var e = a(this.ID);
				e.on("focus", null, {
					game: this.game
				}, function() {
					t.focus(!0)
				}), e.on("focusout", null, {
					game: this.game
				}, function() {
					t.focus(!1)
				})
			}, e.prototype.focus = function(t) {
				this.allowEvents && (t ? this.game.input.keyboard.clearCaptures() : this.game.input.keyboard.addKeyCapture([Phaser.Keyboard.BACKSPACE]))
			}, e.HEIGHT_MEDIUM = 45, e.WIDTH_MEDIUM = 300, e
		}(i(7).Element);
	e.InputField = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		a = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		o = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var r = i(9),
		s = i(11),
		l = i(6),
		c = i(4),
		h = i(164),
		u = i(2),
		p = i(23),
		d = i(31),
		g = i(0),
		f = i(166),
		y = function() {
			function t(t, e, i, n) {
				this.loggedInPlayer = null, this.deviceInfo = null, this.uuidProvider = null, this.loggedInPlayer = t, this.deviceInfo = e, this.uuidProvider = i, this.game = n
			}
			return t.prototype.buildEvent = function(t, e, i) {
				void 0 === e && (e = !0), void 0 === i && (i = !1);
				var n = new t;
				return i ? this.setAnonymousToken(n) : this.setAuthorizedToken(n, e), n.setDeviceHeight(this.deviceInfo.getScreenHeight()), n.setDeviceWidth(this.deviceInfo.getScreenWidth()), n.setDevicePlatform(this.deviceInfo.getPlatformName()), n.setFrameRate(this.game.prodigy.getAverageFPS()), n.setBrowser(p.Device.getBrowserType()), n.setBrowserVersion(p.Device.getBrowserVersion()), n.setTimestamp((new Date).getTime()), n.setClientVersion(c.GameConstants.get("GameConstants.Build.VERSION")), n
			}, t.prototype.setAnonymousToken = function(t) {
				t.setUUID(this.uuidProvider.getUUID())
			}, t.prototype.setAuthorizedToken = function(t, e) {/* Too much trouble. REMOVED
				if (t.setUserId(s(this.loggedInPlayer.getPlayer(), "userID", 0)), t.setToken(this.loggedInPlayer.getAuthToken()), t.setUUID(this.uuidProvider.getUUID()), e) {
					var i = this.loggedInPlayer.getPlayer(),
						n = i.data;
					if (t.setIsMember(!!this.loggedInPlayer.getPlayer().isMember), t.setLevel(n.level), t.setGrade(i.grade), t.setLocation(i.locationSelectionType), t.setCurriculumTreeId(i.curriculumTreeID), g.Util.isValid(i.backpack.data.currency)) {
						for (var a = {}, o = 0; o < i.backpack.data.currency.length; ++o) {
							var r = i.backpack.data.currency[o],
								l = u.Items.getItem("currency", r.ID);
							null !== l && (a[l.data.name.toLowerCase().replace(" ", "_")] = g.Util.isValid(r.N) ? r.N : 0)
						}
						g.Util.isValid(this.game.prodigy.player) && this.game.prodigy.player.userID > 0 && (a.gold = this.game.prodigy.player.getGold()), t.setCurrencies(a)
					}
					if (g.Util.isValid(n.zone)) {
						var c = n.zone.split("-");
						t.setZone(g.Util.isValid(c[0]) ? c[0] : ""), t.setMap(g.Util.isValid(c[1]) ? c[1] : "")
					}
				}*/
			}, t = n([r.injectable(), o(0, r.inject(l.EProdigyInjectionIdentifiers.LoggedInPlayer)), o(1, r.inject(l.EProdigyInjectionIdentifiers.DeviceInfo)), o(2, r.inject(l.EProdigyInjectionIdentifiers.UUIDProvider)), o(3, r.inject(l.EProdigyInjectionIdentifiers.Game)), a("design:paramtypes", [h.LoggedInPlayerDataProvider, Object, f.UUIDProvider, d.ProdigyGame])], t)
		}();
	e.GameEventDataBuilder = y
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = i(5),
		r = i(40),
		s = i(911),
		l = i(290),
		c = i(0),
		h = i(906),
		u = function(t) {
			function e(e, i, n, a) {
				void 0 === i && (i = "zero"), void 0 === n && (n = ""), void 0 === a && (a = []);
				var o = t.call(this) || this;
				return o.screenData = null, o.showMenu = !1, o.game = e, o.screenName = n, o.zoneName = i, o.assets = a, o
			}
			return n(e, t), e.prototype.initListeners = function() {
				this.game.broadcaster.addAppListener(o.EScreenEvents.AddChild, this.onAddChild.bind(this), this, this.game), this.game.broadcaster.addAppListener(o.EScreenEvents.GetLayer, this.onGetLayer.bind(this), this, this.game), this.game.broadcaster.addAppListener(o.EScreenEvents.EnableBackground, this.onEnableBackground.bind(this), this, this.game), this.game.broadcaster.addAppListener(o.EScreenEvents.EnableContent, this.onEnableContent.bind(this), this, this.game)
			}, e.prototype.stopListeners = function() {
				this.game.broadcaster.removeAppListener(o.EScreenEvents.AddChild, this, this.game), this.game.broadcaster.removeAppListener(o.EScreenEvents.GetLayer, this, this.game), this.game.broadcaster.removeAppListener(o.EScreenEvents.EnableBackground, this, this.game), this.game.broadcaster.removeAppListener(o.EScreenEvents.EnableContent, this, this.game)
			}, e.prototype.onEnableBackground = function(t) {
				this.background.visible = t, this.foreground.visible = t
			}, e.prototype.onEnableContent = function(t) {
				this.content.visible = t
			}, e.prototype.onAddChild = function(t, e, i) {
				c.Util.isValid(this.stage) && c.Util.isValid(this[e]) && (c.Util.isValid(i) ? this[e].addChildAt(t, i) : this[e].addChild(t))
			}, e.prototype.onGetLayer = function(t) {
				return c.Util.isValid(this.stage) && c.Util.isValid(this[t]) ? this[t] : null
			}, e.prototype.shutdown = function() {
				this.game.prodigy.cleanup(), this.stopListeners(), this.game.prodigy.network.stopInactiveTimer(), this.background.destroy(), this.content.destroy(), this.foreground.destroy(), this.menus.destroy(), this.dialogue.destroy(), this.overlay.destroy(), this.opaque.destroy(), this.background = null, this.content = null, this.foreground = null, this.menus = null, this.dialogue = null, this.overlay = null, this.opaque = null, t.prototype.shutdown.call(this, this.game)
			}, e.prototype.preload = function() {
				if (this.background = this.game.add.group(), this.content = this.game.add.group(), this.foreground = this.game.add.group(), this.menus = this.game.add.group(), this.dialogue = this.game.add.group(), this.overlay = this.game.add.group(), this.opaque = this.game.add.group(), this.opaque.add(new Phaser.TileSprite(this.game, 0, 0, 1280, 720, "atlas-161", "load")).inputEnabled = !0, a.GameConstants.get("GameConstants.Build.DEBUG")) {
					this.debugLayout = new s.DebugLayout, this.menus.add(new r.GameObject(this.game, this.menus, [this.debugLayout]));
					var e = a.GameConstants.get("GameConstants.Build.SHOW_DEBUG_VALUES");
					a.GameConstants.get("GameConstants.Build.SHOW_FPS") && e.indexOf("AVERAGE_FPS") < 0 && e.push("AVERAGE_FPS");
					for (var i = 0; i < e.length; ++i) {
						var n = l[e[i]];
						c.Util.isValid(n) && this.debugLayout.addRenderer(new n)
					}
				}
				this.game.prodigy.open.menuLayer = this.menus, this.game.prodigy.dialogue.create().menuLayer = this.dialogue, this.game.prodigy.effects.setSource(this), t.prototype.preload.call(this, this.game), this.initListeners(), this.game.prodigy.network.startInactiveTimer()
			}, e.prototype.create = function(e) {
				t.prototype.create.call(this, this.game), this.screenSetup(), this.complete = !0
			}, e.prototype.fadeIn = function() {
				this.fadeInSet ? this.game.add.tween(this.opaque).to({
					alpha: 0
				}, 1e3, Phaser.Easing.Quadratic.Out).start().onComplete.add(this.start.bind(this, !0, !1)) : (this.opaque.visible = !1, this.start(!0, !1))
			}, e.prototype.fadeOut = function(t, e) {
				(this.opaque.visible = !0, this.game.prodigy.notifications.notificationPlayed(), this.game.prodigy.notifications.stopFriendTimer(), t) ? this.game.add.tween(this.opaque).to({
					alpha: 1
				}, 1e3, Phaser.Easing.Quadratic.Out).start().onComplete.add(e): e()
			}, e.prototype.start = function(t, e) {
				this.opaque.visible = !1
			}, e.prototype.update = function() {
				t.prototype.update.call(this, this.game), this.complete && this.screenUpdate()
			}, e.prototype.screenSetup = function() {
				this.start()
			}, e.prototype.screenUpdate = function() {
				this.game.prodigy.update()
			}, e.prototype.showMessage = function(t, e) {
				c.Util.isValid(this.msg) || (this.msg = new h.ScreenMessage(this.game, this.overlay, 140, 10)), this.msg.setMsg(t, e)
			}, e.prototype.enableOverlay = function(t) {
				void 0 === t && (t = .5), c.Util.isValid(this.rearOverlay) && this.rearOverlay.kill(), this.rearOverlay = this.foreground.add(this.game.prodigy.create.sprite(-10, -10, "atlas-18", "overlay-small")), this.rearOverlay.width = 1300, this.rearOverlay.height = 740, this.rearOverlay.alpha = t, this.rearOverlay.inputEnabled = !0, this.game.add.tween(this.rearOverlay).from({
					alpha: 0
				}, 500, Phaser.Easing.Linear.None, !0)
			}, e.prototype.disableOverlay = function(t) {
				var e = this;
				if (c.Util.isValid(this.rearOverlay)) {
					var i = this.game.add.tween(this.rearOverlay).to({
						alpha: 0
					}, 500, Phaser.Easing.Linear.None);
					i.onComplete.add(function() {
						e.rearOverlay.kill(), c.Util.isValid(t) && t()
					}, this), i.start()
				}
			}, e
		}(Phaser.State);
	e.Screen = u
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(0),
		a = i(306),
		o = i(305),
		r = i(933),
		s = function() {
			function t() {}
			return t.createRenderer = function(t, e) {
				switch (e.type) {
					case "spine":
						return new a.SpineRenderer(t, e);
					case "singleImage":
						return new o.SpriteRenderer(t, e);
					case "spritesheet":
						return new r.SpritesheetRenderer(t, e);
					default:
						return new o.SpriteRenderer(t, e)
				}
			}, t.createRendererWithItem = function(e, i, a) {
				var o = null;
				return o = n.Util.isValid(a.type) ? e + "-" + i : "icon-" + e + "-" + i, t.createRenderer(o, a)
			}, t
		}();
	e.RenderFactory = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i) || this;
				return n.onClickCallback = null, n.onUpCallback = null, n.onOverCallback = null, n.onOutCallback = null, n.onClickDisabled = new Phaser.Signal, n.defaultY = 0, n.broadcasts = [], n.collisionBlock = null, n.disableInput = !1, n.isActive = !0, n.onDestroy.add(function() {
					n.handleDestroy()
				}), n
			}
			return n(e, t), e.prototype.populate = function(e) {
				var i = this;
				t.prototype.populate.call(this, e), a.GameConstants.get("GameConstants.Build.DEBUG") && o.Util.isValid(this.name) && this.game.prodigy.automation.addTrigger({
					ID: "autoclick-" + this.name,
					context: this,
					callback: function() {
						return {
							x: i.worldPosition.x,
							y: i.worldPosition.y
						}
					}
				}), this.onClickCallback = null, this.onUpCallback = null, this.onOverCallback = null, this.onOutCallback = null, this.defaultY = this.y, this.broadcasts = e.broadcasts, this.setupCollisionBlock(e)
			}, e.prototype.setActive = function(e) {
				t.prototype.setActive.call(this, e), this.y = this.defaultY
			}, e.prototype.setDisableInput = function(t) {
				this.disableInput = t
			}, e.prototype.onDown = function() {
				this.disableInput || this.visible && (this.isActive ? (this.y = this.defaultY, this.game.prodigy.audio.playSFX(18, "pop"), o.Util.isValid(this.onClickCallback) && this.onClickCallback(), this.broadcastAll()) : this.onClickDisabled.dispatch())
			}, e.prototype.setupCollisionBlock = function(t) {
				var e = this;
				this.collisionBlock = this.add(this.game.prodigy.create.sprite(0, 0, "atlas-18", "empty")), this.collisionBlock.width = t.width, this.collisionBlock.height = t.height, this.collisionBlock.inputEnabled = !0, this.collisionBlock.events.onInputDown.add(function() {
					e.onDown()
				}), this.collisionBlock.events.onInputUp.add(function() {
					e.onUp()
				}), this.collisionBlock.events.onInputOver.add(function() {
					e.onOver()
				}), this.collisionBlock.events.onInputOut.add(function() {
					e.onOut()
				})
			}, e.prototype.broadcastAll = function() {
				var t = this;
				o.Util.isValid(this.broadcasts) && this.broadcasts.forEach(function(e) {
					t.game.broadcaster.broadcast(e.type, t.game.prodigy.open.menus[t.game.prodigy.open.menus.length - 1], e.params)
				})
			}, e.prototype.onUp = function() {
				this.disableInput || this.visible && this.isActive && (this.y = this.defaultY - 3, o.Util.isValid(this.onUpCallback) && this.onUpCallback())
			}, e.prototype.onOver = function() {
				this.disableInput || this.visible && this.isActive && (this.y = this.defaultY - 3, o.Util.isValid(this.onOverCallback) && this.onOverCallback())
			}, e.prototype.onOut = function() {
				this.visible && this.isActive && (this.y = this.defaultY, o.Util.isValid(this.onOutCallback) && this.onOutCallback())
			}, e.prototype.handleDestroy = function() {
				a.GameConstants.get("GameConstants.Build.DEBUG") && o.Util.isValid(this.name) && this.game.prodigy.automation.removeAllTriggers(this)
			}, e
		}(i(27).UIElement);
	e.Button = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return n(e, t), e.prototype.commonSchemaToData = function(t, e) {
			return e.setClientVersion(t.client_version), e.setTimestamp(t.timestamp), e.setUserId(t.user_id), e.setToken(t.token), e.setIsMember(t.meta.is_member), e.setLocation(t.meta.location), e.setLevel(t.meta.level), e.setZone(t.meta.zone), e.setMap(t.meta.map), e.setGrade(t.meta.grade), e.setCurriculumTreeId(t.meta.curriculum_id), e.setCurrencies(t.meta.currency), void 0 !== t.meta.device_platform && e.setDevicePlatform(t.meta.device_platform), void 0 !== t.meta.device_os && e.setDeviceOs(t.meta.device_os), void 0 !== t.meta.device_height && e.setDeviceHeight(t.meta.device_height), void 0 !== t.meta.device_width && e.setDeviceWidth(t.meta.device_width), void 0 !== t.meta.frame_rate && e.setFrameRate(t.meta.frame_rate), void 0 !== t.meta.browser && e.setBrowser(t.meta.browser), void 0 !== t.meta.browser_version && e.setBrowserVersion(t.meta.browser_version), void 0 !== t.meta.custom && e.setCustom(t.meta.custom), e
		}, e.prototype.commonDataToSchema = function(t) {
			return {
				client_version: t.getClientVersion(),
				timestamp: t.getTimestamp(),
				user_id: t.getUserId(),
				token: t.getToken(),
				name: t.getEventName(),
				version: t.getSchemaVersion(),
				meta: {
					uuid: t.getUUID(),
					is_member: t.getIsMember(),
					location: t.getLocation(),
					level: t.getLevel(),
					zone: t.getZone(),
					map: t.getMap(),
					grade: t.getGrade(),
					curriculum_id: t.getCurriculumTreeId(),
					currency: t.getCurrencies(),
					device_platform: t.getDevicePlatform(),
					device_os: t.getDeviceOs(),
					device_height: t.getDeviceHeight(),
					device_width: t.getDeviceWidth(),
					frame_rate: t.getFrameRate(),
					browser: t.getBrowser(),
					browser_version: t.getBrowserVersion(),
					custom: t.getCustom()
				}
			}
		}, e
	}(i(100).Factory);
	e.GameEventFactory = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(67),
		o = function(t) {
			function e(e) {
				var i = t.call(this, e, 3) || this;
				return i.userId = null, i.clientVersion = null, i.timestamp = null, i.token = null, i.isMember = null, i.deviceHeight = null, i.deviceWidth = null, i.devicePlatform = null, i.deviceOs = null, i.uuid = null, i.level = null, i.grade = null, i.location = null, i.curriculumTreeId = null, i.zone = null, i.map = null, i.currencies = null, i.frameRate = null, i.browser = null, i.browserVersion = null, i.custom = null, i
			}
			return n(e, t), e.prototype.setClientVersion = function(t) {
				this.clientVersion = t
			}, e.prototype.getClientVersion = function() {
				return this.clientVersion
			}, e.prototype.setTimestamp = function(t) {
				this.timestamp = t
			}, e.prototype.getTimestamp = function() {
				return this.timestamp
			}, e.prototype.setUserId = function(t) {
				this.userId = t
			}, e.prototype.getUserId = function() {
				return this.userId
			}, e.prototype.setToken = function(t) {
				this.token = t
			}, e.prototype.getToken = function() {
				return this.token
			}, e.prototype.setIsMember = function(t) {
				this.isMember = t
			}, e.prototype.getIsMember = function() {
				return this.isMember
			}, e.prototype.setDeviceWidth = function(t) {
				this.deviceWidth = t
			}, e.prototype.getDeviceWidth = function() {
				return this.deviceWidth
			}, e.prototype.setDeviceHeight = function(t) {
				this.deviceHeight = t
			}, e.prototype.getDeviceHeight = function() {
				return this.deviceHeight
			}, e.prototype.setDevicePlatform = function(t) {
				this.devicePlatform = t
			}, e.prototype.getDevicePlatform = function() {
				return this.devicePlatform
			}, e.prototype.setDeviceOs = function(t) {
				this.deviceOs = t
			}, e.prototype.getDeviceOs = function() {
				return this.deviceOs
			}, e.prototype.setUUID = function(t) {
				this.uuid = t
			}, e.prototype.getUUID = function() {
				return this.uuid
			}, e.prototype.setLevel = function(t) {
				this.level = t
			}, e.prototype.getLevel = function() {
				return this.level
			}, e.prototype.setGrade = function(t) {
				this.grade = t
			}, e.prototype.getGrade = function() {
				return this.grade
			}, e.prototype.setLocation = function(t) {
				this.location = t
			}, e.prototype.getLocation = function() {
				return this.location
			}, e.prototype.setCurriculumTreeId = function(t) {
				this.curriculumTreeId = t
			}, e.prototype.getCurriculumTreeId = function() {
				return this.curriculumTreeId
			}, e.prototype.setZone = function(t) {
				this.zone = t
			}, e.prototype.getZone = function() {
				return this.zone
			}, e.prototype.setMap = function(t) {
				this.map = t
			}, e.prototype.getMap = function() {
				return this.map
			}, e.prototype.setCurrencies = function(t) {
				this.currencies = t
			}, e.prototype.getCurrencies = function() {
				return this.currencies
			}, e.prototype.setFrameRate = function(t) {
				this.frameRate = t
			}, e.prototype.getFrameRate = function() {
				return this.frameRate
			}, e.prototype.setBrowser = function(t) {
				this.browser = t
			}, e.prototype.getBrowser = function() {
				return this.browser
			}, e.prototype.setBrowserVersion = function(t) {
				this.browserVersion = t
			}, e.prototype.getBrowserVersion = function() {
				return this.browserVersion
			}, e.prototype.setCustom = function(t) {
				this.custom = t
			}, e.prototype.getCustom = function() {
				return this.custom
			}, e.prototype.defineValidation = function() {
				var t = this;
				this.addValidation({
					name: "name",
					value: function() {
						return t.getEventName()
					},
					comparator: function(t) {
						return t.length > 1
					},
					isOptional: !1
				}).addValidation({
					name: "version",
					value: function() {
						return t.getSchemaVersion()
					},
					comparator: function(t) {
						return 3 === t
					},
					isOptional: !1
				}).addValidation({
					name: "user_id",
					value: function() {
						return t.getUserId()
					},
					comparator: function(t) {
						return t > 1
					},
					isOptional: !1
				}).addValidation({
					name: "client_version",
					value: function() {
						return t.getClientVersion()
					},
					comparator: function(t) {
						return t.length > 1
					},
					isOptional: !1
				}).addValidation({
					name: "timestamp",
					value: function() {
						return t.getTimestamp()
					},
					comparator: function(t) {
						return t > 1
					},
					isOptional: !1
				}).addValidation({
					name: "token",
					value: function() {
						return t.getToken()
					},
					comparator: function(t) {
						return t.length > 1
					},
					isOptional: !1
				}), this.addValidation({
					name: "meta.uuid",
					value: function() {
						return t.getUUID()
					},
					comparator: function(t) {
						return t.length > 1
					},
					isOptional: !0
				}).addValidation({
					name: "meta.is_member",
					value: function() {
						return t.getIsMember()
					},
					comparator: function(t) {
						return "boolean" == typeof t
					},
					isOptional: !0
				}).addValidation({
					name: "meta.device_height",
					value: function() {
						return t.getDeviceHeight()
					},
					comparator: function(t) {
						return t > 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.device_width",
					value: function() {
						return t.getDeviceWidth()
					},
					comparator: function(t) {
						return t > 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.device_platform",
					value: function() {
						return t.getDevicePlatform()
					},
					comparator: function(t) {
						return t.length > 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.device_os",
					value: function() {
						return t.getDeviceOs()
					},
					comparator: function(t) {
						return t.length > 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.level",
					value: function() {
						return t.getLevel()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.grade",
					value: function() {
						return t.getGrade()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.location",
					value: function() {
						return t.getLocation()
					},
					comparator: function(t) {
						return t.length > 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.curriculum_id",
					value: function() {
						return t.getCurriculumTreeId()
					},
					comparator: function(t) {
						return t > 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.zone",
					value: function() {
						return t.getZone()
					},
					comparator: function(t) {
						return t.length > 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.map",
					value: function() {
						return t.getMap()
					},
					comparator: function(t) {
						return t.length > 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.currency",
					value: function() {
						return t.getCurrencies()
					},
					comparator: function(t) {
						return a.every(t, function(t) {
							return t >= 0
						})
					},
					isOptional: !0
				}).addValidation({
					name: "meta.frame_rate",
					value: function() {
						return t.getFrameRate()
					},
					comparator: function(t) {
						return t > 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.browser",
					value: function() {
						return t.getBrowser()
					},
					comparator: function(t) {
						return t.length > 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.browser_version",
					value: function() {
						return t.getBrowserVersion()
					},
					comparator: function(t) {
						return t.length > 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.custom",
					value: function() {
						return t.getCustom()
					},
					comparator: function(t) {
						return "object" == typeof t
					},
					isOptional: !0
				})
			}, e
		}(i(101).Event);
	e.GameEventData = o
}, function(t, e, i) {
	var n = i(388),
		a = i(1067),
		o = i(54),
		r = i(18);
	t.exports = function(t, e) {
		return (r(t) ? n : a)(t, o(e, 3))
	}
}, function(t, e, i) {
	var n = i(73),
		a = i(51),
		o = "[object Symbol]";
	t.exports = function(t) {
		return "symbol" == typeof t || a(t) && n(t) == o
	}
}, function(t, e, i) {
	(function(t, n) {
		var a;
		/**
		 * @license
		 * Lodash <https://lodash.com/>
		 * Copyright JS Foundation and other contributors <https://js.foundation/>
		 * Released under MIT license <https://lodash.com/license>
		 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
		 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
		 */
		(function() {
			var o, r = 200,
				s = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",
				l = "Expected a function",
				c = "__lodash_hash_undefined__",
				h = 500,
				u = "__lodash_placeholder__",
				p = 1,
				d = 2,
				g = 4,
				f = 1,
				y = 2,
				m = 1,
				_ = 2,
				v = 4,
				E = 8,
				b = 16,
				O = 32,
				I = 64,
				T = 128,
				A = 256,
				C = 512,
				S = 30,
				w = "...",
				D = 800,
				P = 16,
				L = 1,
				x = 2,
				M = 1 / 0,
				U = 9007199254740991,
				N = 1.7976931348623157e308,
				R = NaN,
				k = 4294967295,
				B = k - 1,
				G = k >>> 1,
				V = [
					["ary", T],
					["bind", m],
					["bindKey", _],
					["curry", E],
					["curryRight", b],
					["flip", C],
					["partial", O],
					["partialRight", I],
					["rearg", A]
				],
				F = "[object Arguments]",
				j = "[object Array]",
				H = "[object AsyncFunction]",
				z = "[object Boolean]",
				W = "[object Date]",
				K = "[object DOMException]",
				Y = "[object Error]",
				q = "[object Function]",
				Q = "[object GeneratorFunction]",
				X = "[object Map]",
				Z = "[object Number]",
				J = "[object Null]",
				$ = "[object Object]",
				tt = "[object Proxy]",
				et = "[object RegExp]",
				it = "[object Set]",
				nt = "[object String]",
				at = "[object Symbol]",
				ot = "[object Undefined]",
				rt = "[object WeakMap]",
				st = "[object WeakSet]",
				lt = "[object ArrayBuffer]",
				ct = "[object DataView]",
				ht = "[object Float32Array]",
				ut = "[object Float64Array]",
				pt = "[object Int8Array]",
				dt = "[object Int16Array]",
				gt = "[object Int32Array]",
				ft = "[object Uint8Array]",
				yt = "[object Uint8ClampedArray]",
				mt = "[object Uint16Array]",
				_t = "[object Uint32Array]",
				vt = /\b__p \+= '';/g,
				Et = /\b(__p \+=) '' \+/g,
				bt = /(__e\(.*?\)|\b__t\)) \+\n'';/g,
				Ot = /&(?:amp|lt|gt|quot|#39);/g,
				It = /[&<>"']/g,
				Tt = RegExp(Ot.source),
				At = RegExp(It.source),
				Ct = /<%-([\s\S]+?)%>/g,
				St = /<%([\s\S]+?)%>/g,
				wt = /<%=([\s\S]+?)%>/g,
				Dt = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
				Pt = /^\w*$/,
				Lt = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
				xt = /[\\^$.*+?()[\]{}|]/g,
				Mt = RegExp(xt.source),
				Ut = /^\s+|\s+$/g,
				Nt = /^\s+/,
				Rt = /\s+$/,
				kt = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,
				Bt = /\{\n\/\* \[wrapped with (.+)\] \*/,
				Gt = /,? & /,
				Vt = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,
				Ft = /\\(\\)?/g,
				jt = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
				Ht = /\w*$/,
				zt = /^[-+]0x[0-9a-f]+$/i,
				Wt = /^0b[01]+$/i,
				Kt = /^\[object .+?Constructor\]$/,
				Yt = /^0o[0-7]+$/i,
				qt = /^(?:0|[1-9]\d*)$/,
				Qt = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,
				Xt = /($^)/,
				Zt = /['\n\r\u2028\u2029\\]/g,
				Jt = "\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",
				$t = "\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",
				te = "[\\ud800-\\udfff]",
				ee = "[" + $t + "]",
				ie = "[" + Jt + "]",
				ne = "\\d+",
				ae = "[\\u2700-\\u27bf]",
				oe = "[a-z\\xdf-\\xf6\\xf8-\\xff]",
				re = "[^\\ud800-\\udfff" + $t + ne + "\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",
				se = "\\ud83c[\\udffb-\\udfff]",
				le = "[^\\ud800-\\udfff]",
				ce = "(?:\\ud83c[\\udde6-\\uddff]){2}",
				he = "[\\ud800-\\udbff][\\udc00-\\udfff]",
				ue = "[A-Z\\xc0-\\xd6\\xd8-\\xde]",
				pe = "(?:" + oe + "|" + re + ")",
				de = "(?:" + ue + "|" + re + ")",
				ge = "(?:" + ie + "|" + se + ")" + "?",
				fe = "[\\ufe0e\\ufe0f]?" + ge + ("(?:\\u200d(?:" + [le, ce, he].join("|") + ")[\\ufe0e\\ufe0f]?" + ge + ")*"),
				ye = "(?:" + [ae, ce, he].join("|") + ")" + fe,
				me = "(?:" + [le + ie + "?", ie, ce, he, te].join("|") + ")",
				_e = RegExp("[']", "g"),
				ve = RegExp(ie, "g"),
				Ee = RegExp(se + "(?=" + se + ")|" + me + fe, "g"),
				be = RegExp([ue + "?" + oe + "+(?:['](?:d|ll|m|re|s|t|ve))?(?=" + [ee, ue, "$"].join("|") + ")", de + "+(?:['](?:D|LL|M|RE|S|T|VE))?(?=" + [ee, ue + pe, "$"].join("|") + ")", ue + "?" + pe + "+(?:['](?:d|ll|m|re|s|t|ve))?", ue + "+(?:['](?:D|LL|M|RE|S|T|VE))?", "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", ne, ye].join("|"), "g"),
				Oe = RegExp("[\\u200d\\ud800-\\udfff" + Jt + "\\ufe0e\\ufe0f]"),
				Ie = /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,
				Te = ["Array", "Buffer", "DataView", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Map", "Math", "Object", "Promise", "RegExp", "Set", "String", "Symbol", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "_", "clearTimeout", "isFinite", "parseInt", "setTimeout"],
				Ae = -1,
				Ce = {};
			Ce[ht] = Ce[ut] = Ce[pt] = Ce[dt] = Ce[gt] = Ce[ft] = Ce[yt] = Ce[mt] = Ce[_t] = !0, Ce[F] = Ce[j] = Ce[lt] = Ce[z] = Ce[ct] = Ce[W] = Ce[Y] = Ce[q] = Ce[X] = Ce[Z] = Ce[$] = Ce[et] = Ce[it] = Ce[nt] = Ce[rt] = !1;
			var Se = {};
			Se[F] = Se[j] = Se[lt] = Se[ct] = Se[z] = Se[W] = Se[ht] = Se[ut] = Se[pt] = Se[dt] = Se[gt] = Se[X] = Se[Z] = Se[$] = Se[et] = Se[it] = Se[nt] = Se[at] = Se[ft] = Se[yt] = Se[mt] = Se[_t] = !0, Se[Y] = Se[q] = Se[rt] = !1;
			var we = {
					"\\": "\\",
					"'": "'",
					"\n": "n",
					"\r": "r",
					"\u2028": "u2028",
					"\u2029": "u2029"
				},
				De = parseFloat,
				Pe = parseInt,
				Le = "object" == typeof t && t && t.Object === Object && t,
				xe = "object" == typeof self && self && self.Object === Object && self,
				Me = Le || xe || Function("return this")(),
				Ue = "object" == typeof e && e && !e.nodeType && e,
				Ne = Ue && "object" == typeof n && n && !n.nodeType && n,
				Re = Ne && Ne.exports === Ue,
				ke = Re && Le.process,
				Be = function() {
					try {
						var t = Ne && Ne.require && Ne.require("util").types;
						return t || ke && ke.binding && ke.binding("util")
					} catch (t) {}
				}(),
				Ge = Be && Be.isArrayBuffer,
				Ve = Be && Be.isDate,
				Fe = Be && Be.isMap,
				je = Be && Be.isRegExp,
				He = Be && Be.isSet,
				ze = Be && Be.isTypedArray;

			function We(t, e, i) {
				switch (i.length) {
					case 0:
						return t.call(e);
					case 1:
						return t.call(e, i[0]);
					case 2:
						return t.call(e, i[0], i[1]);
					case 3:
						return t.call(e, i[0], i[1], i[2])
				}
				return t.apply(e, i)
			}

			function Ke(t, e, i, n) {
				for (var a = -1, o = null == t ? 0 : t.length; ++a < o;) {
					var r = t[a];
					e(n, r, i(r), t)
				}
				return n
			}

			function Ye(t, e) {
				for (var i = -1, n = null == t ? 0 : t.length; ++i < n && !1 !== e(t[i], i, t););
				return t
			}

			function qe(t, e) {
				for (var i = null == t ? 0 : t.length; i-- && !1 !== e(t[i], i, t););
				return t
			}

			function Qe(t, e) {
				for (var i = -1, n = null == t ? 0 : t.length; ++i < n;)
					if (!e(t[i], i, t)) return !1;
				return !0
			}

			function Xe(t, e) {
				for (var i = -1, n = null == t ? 0 : t.length, a = 0, o = []; ++i < n;) {
					var r = t[i];
					e(r, i, t) && (o[a++] = r)
				}
				return o
			}

			function Ze(t, e) {
				return !!(null == t ? 0 : t.length) && si(t, e, 0) > -1
			}

			function Je(t, e, i) {
				for (var n = -1, a = null == t ? 0 : t.length; ++n < a;)
					if (i(e, t[n])) return !0;
				return !1
			}

			function $e(t, e) {
				for (var i = -1, n = null == t ? 0 : t.length, a = Array(n); ++i < n;) a[i] = e(t[i], i, t);
				return a
			}

			function ti(t, e) {
				for (var i = -1, n = e.length, a = t.length; ++i < n;) t[a + i] = e[i];
				return t
			}

			function ei(t, e, i, n) {
				var a = -1,
					o = null == t ? 0 : t.length;
				for (n && o && (i = t[++a]); ++a < o;) i = e(i, t[a], a, t);
				return i
			}

			function ii(t, e, i, n) {
				var a = null == t ? 0 : t.length;
				for (n && a && (i = t[--a]); a--;) i = e(i, t[a], a, t);
				return i
			}

			function ni(t, e) {
				for (var i = -1, n = null == t ? 0 : t.length; ++i < n;)
					if (e(t[i], i, t)) return !0;
				return !1
			}
			var ai = ui("length");

			function oi(t, e, i) {
				var n;
				return i(t, function(t, i, a) {
					if (e(t, i, a)) return n = i, !1
				}), n
			}

			function ri(t, e, i, n) {
				for (var a = t.length, o = i + (n ? 1 : -1); n ? o-- : ++o < a;)
					if (e(t[o], o, t)) return o;
				return -1
			}

			function si(t, e, i) {
				return e == e ? function(t, e, i) {
					var n = i - 1,
						a = t.length;
					for (; ++n < a;)
						if (t[n] === e) return n;
					return -1
				}(t, e, i) : ri(t, ci, i)
			}

			function li(t, e, i, n) {
				for (var a = i - 1, o = t.length; ++a < o;)
					if (n(t[a], e)) return a;
				return -1
			}

			function ci(t) {
				return t != t
			}

			function hi(t, e) {
				var i = null == t ? 0 : t.length;
				return i ? gi(t, e) / i : R
			}

			function ui(t) {
				return function(e) {
					return null == e ? o : e[t]
				}
			}

			function pi(t) {
				return function(e) {
					return null == t ? o : t[e]
				}
			}

			function di(t, e, i, n, a) {
				return a(t, function(t, a, o) {
					i = n ? (n = !1, t) : e(i, t, a, o)
				}), i
			}

			function gi(t, e) {
				for (var i, n = -1, a = t.length; ++n < a;) {
					var r = e(t[n]);
					r !== o && (i = i === o ? r : i + r)
				}
				return i
			}

			function fi(t, e) {
				for (var i = -1, n = Array(t); ++i < t;) n[i] = e(i);
				return n
			}

			function yi(t) {
				return function(e) {
					return t(e)
				}
			}

			function mi(t, e) {
				return $e(e, function(e) {
					return t[e]
				})
			}

			function _i(t, e) {
				return t.has(e)
			}

			function vi(t, e) {
				for (var i = -1, n = t.length; ++i < n && si(e, t[i], 0) > -1;);
				return i
			}

			function Ei(t, e) {
				for (var i = t.length; i-- && si(e, t[i], 0) > -1;);
				return i
			}
			var bi = pi({
					"": "A",
					"": "A",
					"": "A",
					"": "A",
					"": "A",
					"": "A",
					"": "a",
					"": "a",
					"": "a",
					"": "a",
					"": "a",
					"": "a",
					"": "C",
					"": "c",
					"": "D",
					"": "d",
					"": "E",
					"": "E",
					"": "E",
					"": "E",
					"": "e",
					"": "e",
					"": "e",
					"": "e",
					"": "I",
					"": "I",
					"": "I",
					"": "I",
					"": "i",
					"": "i",
					"": "i",
					"": "i",
					"": "N",
					"": "n",
					"": "O",
					"": "O",
					"": "O",
					"": "O",
					"": "O",
					"": "O",
					"": "o",
					"": "o",
					"": "o",
					"": "o",
					"": "o",
					"": "o",
					"": "U",
					"": "U",
					"": "U",
					"": "U",
					"": "u",
					"": "u",
					"": "u",
					"": "u",
					"": "Y",
					"": "y",
					"": "y",
					"": "Ae",
					"": "ae",
					"": "Th",
					"": "th",
					"": "ss",
					"": "A",
					"": "A",
					"": "A",
					"": "a",
					"": "a",
					"": "a",
					"": "C",
					"": "C",
					"": "C",
					"": "C",
					"": "c",
					"": "c",
					"": "c",
					"": "c",
					"": "D",
					"": "D",
					"": "d",
					"": "d",
					"": "E",
					"": "E",
					"": "E",
					"": "E",
					"": "E",
					"": "e",
					"": "e",
					"": "e",
					"": "e",
					"": "e",
					"": "G",
					"": "G",
					"": "G",
					"": "G",
					"": "g",
					"": "g",
					"": "g",
					"": "g",
					"": "H",
					"": "H",
					"": "h",
					"": "h",
					"": "I",
					"": "I",
					"": "I",
					"": "I",
					"": "I",
					"": "i",
					"": "i",
					"": "i",
					"": "i",
					"": "i",
					"": "J",
					"": "j",
					"": "K",
					"": "k",
					"": "k",
					"": "L",
					"": "L",
					"": "L",
					"": "L",
					"": "L",
					"": "l",
					"": "l",
					"": "l",
					"": "l",
					"": "l",
					"": "N",
					"": "N",
					"": "N",
					"": "N",
					"": "n",
					"": "n",
					"": "n",
					"": "n",
					"": "O",
					"": "O",
					"": "O",
					"": "o",
					"": "o",
					"": "o",
					"": "R",
					"": "R",
					"": "R",
					"": "r",
					"": "r",
					"": "r",
					"": "S",
					"": "S",
					"": "S",
					"": "S",
					"": "s",
					"": "s",
					"": "s",
					"": "s",
					"": "T",
					"": "T",
					"": "T",
					"": "t",
					"": "t",
					"": "t",
					"": "U",
					"": "U",
					"": "U",
					"": "U",
					"": "U",
					"": "U",
					"": "u",
					"": "u",
					"": "u",
					"": "u",
					"": "u",
					"": "u",
					"": "W",
					"": "w",
					"": "Y",
					"": "y",
					"": "Y",
					"": "Z",
					"": "Z",
					"": "Z",
					"": "z",
					"": "z",
					"": "z",
					"": "IJ",
					"": "ij",
					"": "Oe",
					"": "oe",
					"": "'n",
					"": "s"
				}),
				Oi = pi({
					"&": "&amp;",
					"<": "&lt;",
					">": "&gt;",
					'"': "&quot;",
					"'": "&#39;"
				});

			function Ii(t) {
				return "\\" + we[t]
			}

			function Ti(t) {
				return Oe.test(t)
			}

			function Ai(t) {
				var e = -1,
					i = Array(t.size);
				return t.forEach(function(t, n) {
					i[++e] = [n, t]
				}), i
			}

			function Ci(t, e) {
				return function(i) {
					return t(e(i))
				}
			}

			function Si(t, e) {
				for (var i = -1, n = t.length, a = 0, o = []; ++i < n;) {
					var r = t[i];
					r !== e && r !== u || (t[i] = u, o[a++] = i)
				}
				return o
			}

			function wi(t, e) {
				return "__proto__" == e ? o : t[e]
			}

			function Di(t) {
				var e = -1,
					i = Array(t.size);
				return t.forEach(function(t) {
					i[++e] = t
				}), i
			}

			function Pi(t) {
				var e = -1,
					i = Array(t.size);
				return t.forEach(function(t) {
					i[++e] = [t, t]
				}), i
			}

			function Li(t) {
				return Ti(t) ? function(t) {
					var e = Ee.lastIndex = 0;
					for (; Ee.test(t);) ++e;
					return e
				}(t) : ai(t)
			}

			function xi(t) {
				return Ti(t) ? function(t) {
					return t.match(Ee) || []
				}(t) : function(t) {
					return t.split("")
				}(t)
			}
			var Mi = pi({
				"&amp;": "&",
				"&lt;": "<",
				"&gt;": ">",
				"&quot;": '"',
				"&#39;": "'"
			});
			var Ui = function t(e) {
				var i = (e = null == e ? Me : Ui.defaults(Me.Object(), e, Ui.pick(Me, Te))).Array,
					n = e.Date,
					a = e.Error,
					Jt = e.Function,
					$t = e.Math,
					te = e.Object,
					ee = e.RegExp,
					ie = e.String,
					ne = e.TypeError,
					ae = i.prototype,
					oe = Jt.prototype,
					re = te.prototype,
					se = e["__core-js_shared__"],
					le = oe.toString,
					ce = re.hasOwnProperty,
					he = 0,
					ue = function() {
						var t = /[^.]+$/.exec(se && se.keys && se.keys.IE_PROTO || "");
						return t ? "Symbol(src)_1." + t : ""
					}(),
					pe = re.toString,
					de = le.call(te),
					ge = Me._,
					fe = ee("^" + le.call(ce).replace(xt, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"),
					ye = Re ? e.Buffer : o,
					me = e.Symbol,
					Ee = e.Uint8Array,
					Oe = ye ? ye.allocUnsafe : o,
					we = Ci(te.getPrototypeOf, te),
					Le = te.create,
					xe = re.propertyIsEnumerable,
					Ue = ae.splice,
					Ne = me ? me.isConcatSpreadable : o,
					ke = me ? me.iterator : o,
					Be = me ? me.toStringTag : o,
					ai = function() {
						try {
							var t = Go(te, "defineProperty");
							return t({}, "", {}), t
						} catch (t) {}
					}(),
					pi = e.clearTimeout !== Me.clearTimeout && e.clearTimeout,
					Ni = n && n.now !== Me.Date.now && n.now,
					Ri = e.setTimeout !== Me.setTimeout && e.setTimeout,
					ki = $t.ceil,
					Bi = $t.floor,
					Gi = te.getOwnPropertySymbols,
					Vi = ye ? ye.isBuffer : o,
					Fi = e.isFinite,
					ji = ae.join,
					Hi = Ci(te.keys, te),
					zi = $t.max,
					Wi = $t.min,
					Ki = n.now,
					Yi = e.parseInt,
					qi = $t.random,
					Qi = ae.reverse,
					Xi = Go(e, "DataView"),
					Zi = Go(e, "Map"),
					Ji = Go(e, "Promise"),
					$i = Go(e, "Set"),
					tn = Go(e, "WeakMap"),
					en = Go(te, "create"),
					nn = tn && new tn,
					an = {},
					on = hr(Xi),
					rn = hr(Zi),
					sn = hr(Ji),
					ln = hr($i),
					cn = hr(tn),
					hn = me ? me.prototype : o,
					un = hn ? hn.valueOf : o,
					pn = hn ? hn.toString : o;

				function dn(t) {
					if (Ss(t) && !ys(t) && !(t instanceof mn)) {
						if (t instanceof yn) return t;
						if (ce.call(t, "__wrapped__")) return ur(t)
					}
					return new yn(t)
				}
				var gn = function() {
					function t() {}
					return function(e) {
						if (!Cs(e)) return {};
						if (Le) return Le(e);
						t.prototype = e;
						var i = new t;
						return t.prototype = o, i
					}
				}();

				function fn() {}

				function yn(t, e) {
					this.__wrapped__ = t, this.__actions__ = [], this.__chain__ = !!e, this.__index__ = 0, this.__values__ = o
				}

				function mn(t) {
					this.__wrapped__ = t, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = !1, this.__iteratees__ = [], this.__takeCount__ = k, this.__views__ = []
				}

				function _n(t) {
					var e = -1,
						i = null == t ? 0 : t.length;
					for (this.clear(); ++e < i;) {
						var n = t[e];
						this.set(n[0], n[1])
					}
				}

				function vn(t) {
					var e = -1,
						i = null == t ? 0 : t.length;
					for (this.clear(); ++e < i;) {
						var n = t[e];
						this.set(n[0], n[1])
					}
				}

				function En(t) {
					var e = -1,
						i = null == t ? 0 : t.length;
					for (this.clear(); ++e < i;) {
						var n = t[e];
						this.set(n[0], n[1])
					}
				}

				function bn(t) {
					var e = -1,
						i = null == t ? 0 : t.length;
					for (this.__data__ = new En; ++e < i;) this.add(t[e])
				}

				function On(t) {
					var e = this.__data__ = new vn(t);
					this.size = e.size
				}

				function In(t, e) {
					var i = ys(t),
						n = !i && fs(t),
						a = !i && !n && Es(t),
						o = !i && !n && !a && Ns(t),
						r = i || n || a || o,
						s = r ? fi(t.length, ie) : [],
						l = s.length;
					for (var c in t) !e && !ce.call(t, c) || r && ("length" == c || a && ("offset" == c || "parent" == c) || o && ("buffer" == c || "byteLength" == c || "byteOffset" == c) || Ko(c, l)) || s.push(c);
					return s
				}

				function Tn(t) {
					var e = t.length;
					return e ? t[ba(0, e - 1)] : o
				}

				function An(t, e) {
					return sr(io(t), Un(e, 0, t.length))
				}

				function Cn(t) {
					return sr(io(t))
				}

				function Sn(t, e, i) {
					(i === o || ps(t[e], i)) && (i !== o || e in t) || xn(t, e, i)
				}

				function wn(t, e, i) {
					var n = t[e];
					ce.call(t, e) && ps(n, i) && (i !== o || e in t) || xn(t, e, i)
				}

				function Dn(t, e) {
					for (var i = t.length; i--;)
						if (ps(t[i][0], e)) return i;
					return -1
				}

				function Pn(t, e, i, n) {
					return Gn(t, function(t, a, o) {
						e(n, t, i(t), o)
					}), n
				}

				function Ln(t, e) {
					return t && no(e, nl(e), t)
				}

				function xn(t, e, i) {
					"__proto__" == e && ai ? ai(t, e, {
						configurable: !0,
						enumerable: !0,
						value: i,
						writable: !0
					}) : t[e] = i
				}

				function Mn(t, e) {
					for (var n = -1, a = e.length, r = i(a), s = null == t; ++n < a;) r[n] = s ? o : Js(t, e[n]);
					return r
				}

				function Un(t, e, i) {
					return t == t && (i !== o && (t = t <= i ? t : i), e !== o && (t = t >= e ? t : e)), t
				}

				function Nn(t, e, i, n, a, r) {
					var s, l = e & p,
						c = e & d,
						h = e & g;
					if (i && (s = a ? i(t, n, a, r) : i(t)), s !== o) return s;
					if (!Cs(t)) return t;
					var u = ys(t);
					if (u) {
						if (s = function(t) {
								var e = t.length,
									i = new t.constructor(e);
								return e && "string" == typeof t[0] && ce.call(t, "index") && (i.index = t.index, i.input = t.input), i
							}(t), !l) return io(t, s)
					} else {
						var f = jo(t),
							y = f == q || f == Q;
						if (Es(t)) return Xa(t, l);
						if (f == $ || f == F || y && !a) {
							if (s = c || y ? {} : zo(t), !l) return c ? function(t, e) {
								return no(t, Fo(t), e)
							}(t, function(t, e) {
								return t && no(e, al(e), t)
							}(s, t)) : function(t, e) {
								return no(t, Vo(t), e)
							}(t, Ln(s, t))
						} else {
							if (!Se[f]) return a ? t : {};
							s = function(t, e, i) {
								var n = t.constructor;
								switch (e) {
									case lt:
										return Za(t);
									case z:
									case W:
										return new n(+t);
									case ct:
										return function(t, e) {
											var i = e ? Za(t.buffer) : t.buffer;
											return new t.constructor(i, t.byteOffset, t.byteLength)
										}(t, i);
									case ht:
									case ut:
									case pt:
									case dt:
									case gt:
									case ft:
									case yt:
									case mt:
									case _t:
										return Ja(t, i);
									case X:
										return new n;
									case Z:
									case nt:
										return new n(t);
									case et:
										return function(t) {
											var e = new t.constructor(t.source, Ht.exec(t));
											return e.lastIndex = t.lastIndex, e
										}(t);
									case it:
										return new n;
									case at:
										return function(t) {
											return un ? te(un.call(t)) : {}
										}(t)
								}
							}(t, f, l)
						}
					}
					r || (r = new On);
					var m = r.get(t);
					if (m) return m;
					if (r.set(t, s), xs(t)) return t.forEach(function(n) {
						s.add(Nn(n, e, i, n, t, r))
					}), s;
					if (ws(t)) return t.forEach(function(n, a) {
						s.set(a, Nn(n, e, i, a, t, r))
					}), s;
					var _ = u ? o : (h ? c ? xo : Lo : c ? al : nl)(t);
					return Ye(_ || t, function(n, a) {
						_ && (n = t[a = n]), wn(s, a, Nn(n, e, i, a, t, r))
					}), s
				}

				function Rn(t, e, i) {
					var n = i.length;
					if (null == t) return !n;
					for (t = te(t); n--;) {
						var a = i[n],
							r = e[a],
							s = t[a];
						if (s === o && !(a in t) || !r(s)) return !1
					}
					return !0
				}

				function kn(t, e, i) {
					if ("function" != typeof t) throw new ne(l);
					return nr(function() {
						t.apply(o, i)
					}, e)
				}

				function Bn(t, e, i, n) {
					var a = -1,
						o = Ze,
						s = !0,
						l = t.length,
						c = [],
						h = e.length;
					if (!l) return c;
					i && (e = $e(e, yi(i))), n ? (o = Je, s = !1) : e.length >= r && (o = _i, s = !1, e = new bn(e));
					t: for (; ++a < l;) {
						var u = t[a],
							p = null == i ? u : i(u);
						if (u = n || 0 !== u ? u : 0, s && p == p) {
							for (var d = h; d--;)
								if (e[d] === p) continue t;
							c.push(u)
						} else o(e, p, n) || c.push(u)
					}
					return c
				}
				dn.templateSettings = {
					escape: Ct,
					evaluate: St,
					interpolate: wt,
					variable: "",
					imports: {
						_: dn
					}
				}, dn.prototype = fn.prototype, dn.prototype.constructor = dn, yn.prototype = gn(fn.prototype), yn.prototype.constructor = yn, mn.prototype = gn(fn.prototype), mn.prototype.constructor = mn, _n.prototype.clear = function() {
					this.__data__ = en ? en(null) : {}, this.size = 0
				}, _n.prototype.delete = function(t) {
					var e = this.has(t) && delete this.__data__[t];
					return this.size -= e ? 1 : 0, e
				}, _n.prototype.get = function(t) {
					var e = this.__data__;
					if (en) {
						var i = e[t];
						return i === c ? o : i
					}
					return ce.call(e, t) ? e[t] : o
				}, _n.prototype.has = function(t) {
					var e = this.__data__;
					return en ? e[t] !== o : ce.call(e, t)
				}, _n.prototype.set = function(t, e) {
					var i = this.__data__;
					return this.size += this.has(t) ? 0 : 1, i[t] = en && e === o ? c : e, this
				}, vn.prototype.clear = function() {
					this.__data__ = [], this.size = 0
				}, vn.prototype.delete = function(t) {
					var e = this.__data__,
						i = Dn(e, t);
					return !(i < 0 || (i == e.length - 1 ? e.pop() : Ue.call(e, i, 1), --this.size, 0))
				}, vn.prototype.get = function(t) {
					var e = this.__data__,
						i = Dn(e, t);
					return i < 0 ? o : e[i][1]
				}, vn.prototype.has = function(t) {
					return Dn(this.__data__, t) > -1
				}, vn.prototype.set = function(t, e) {
					var i = this.__data__,
						n = Dn(i, t);
					return n < 0 ? (++this.size, i.push([t, e])) : i[n][1] = e, this
				}, En.prototype.clear = function() {
					this.size = 0, this.__data__ = {
						hash: new _n,
						map: new(Zi || vn),
						string: new _n
					}
				}, En.prototype.delete = function(t) {
					var e = ko(this, t).delete(t);
					return this.size -= e ? 1 : 0, e
				}, En.prototype.get = function(t) {
					return ko(this, t).get(t)
				}, En.prototype.has = function(t) {
					return ko(this, t).has(t)
				}, En.prototype.set = function(t, e) {
					var i = ko(this, t),
						n = i.size;
					return i.set(t, e), this.size += i.size == n ? 0 : 1, this
				}, bn.prototype.add = bn.prototype.push = function(t) {
					return this.__data__.set(t, c), this
				}, bn.prototype.has = function(t) {
					return this.__data__.has(t)
				}, On.prototype.clear = function() {
					this.__data__ = new vn, this.size = 0
				}, On.prototype.delete = function(t) {
					var e = this.__data__,
						i = e.delete(t);
					return this.size = e.size, i
				}, On.prototype.get = function(t) {
					return this.__data__.get(t)
				}, On.prototype.has = function(t) {
					return this.__data__.has(t)
				}, On.prototype.set = function(t, e) {
					var i = this.__data__;
					if (i instanceof vn) {
						var n = i.__data__;
						if (!Zi || n.length < r - 1) return n.push([t, e]), this.size = ++i.size, this;
						i = this.__data__ = new En(n)
					}
					return i.set(t, e), this.size = i.size, this
				};
				var Gn = ro(Yn),
					Vn = ro(qn, !0);

				function Fn(t, e) {
					var i = !0;
					return Gn(t, function(t, n, a) {
						return i = !!e(t, n, a)
					}), i
				}

				function jn(t, e, i) {
					for (var n = -1, a = t.length; ++n < a;) {
						var r = t[n],
							s = e(r);
						if (null != s && (l === o ? s == s && !Us(s) : i(s, l))) var l = s,
							c = r
					}
					return c
				}

				function Hn(t, e) {
					var i = [];
					return Gn(t, function(t, n, a) {
						e(t, n, a) && i.push(t)
					}), i
				}

				function zn(t, e, i, n, a) {
					var o = -1,
						r = t.length;
					for (i || (i = Wo), a || (a = []); ++o < r;) {
						var s = t[o];
						e > 0 && i(s) ? e > 1 ? zn(s, e - 1, i, n, a) : ti(a, s) : n || (a[a.length] = s)
					}
					return a
				}
				var Wn = so(),
					Kn = so(!0);

				function Yn(t, e) {
					return t && Wn(t, e, nl)
				}

				function qn(t, e) {
					return t && Kn(t, e, nl)
				}

				function Qn(t, e) {
					return Xe(e, function(e) {
						return Is(t[e])
					})
				}

				function Xn(t, e) {
					for (var i = 0, n = (e = Ka(e, t)).length; null != t && i < n;) t = t[cr(e[i++])];
					return i && i == n ? t : o
				}

				function Zn(t, e, i) {
					var n = e(t);
					return ys(t) ? n : ti(n, i(t))
				}

				function Jn(t) {
					return null == t ? t === o ? ot : J : Be && Be in te(t) ? function(t) {
						var e = ce.call(t, Be),
							i = t[Be];
						try {
							t[Be] = o;
							var n = !0
						} catch (t) {}
						var a = pe.call(t);
						return n && (e ? t[Be] = i : delete t[Be]), a
					}(t) : function(t) {
						return pe.call(t)
					}(t)
				}

				function $n(t, e) {
					return t > e
				}

				function ta(t, e) {
					return null != t && ce.call(t, e)
				}

				function ea(t, e) {
					return null != t && e in te(t)
				}

				function ia(t, e, n) {
					for (var a = n ? Je : Ze, r = t[0].length, s = t.length, l = s, c = i(s), h = 1 / 0, u = []; l--;) {
						var p = t[l];
						l && e && (p = $e(p, yi(e))), h = Wi(p.length, h), c[l] = !n && (e || r >= 120 && p.length >= 120) ? new bn(l && p) : o
					}
					p = t[0];
					var d = -1,
						g = c[0];
					t: for (; ++d < r && u.length < h;) {
						var f = p[d],
							y = e ? e(f) : f;
						if (f = n || 0 !== f ? f : 0, !(g ? _i(g, y) : a(u, y, n))) {
							for (l = s; --l;) {
								var m = c[l];
								if (!(m ? _i(m, y) : a(t[l], y, n))) continue t
							}
							g && g.push(y), u.push(f)
						}
					}
					return u
				}

				function na(t, e, i) {
					var n = null == (t = er(t, e = Ka(e, t))) ? t : t[cr(Or(e))];
					return null == n ? o : We(n, t, i)
				}

				function aa(t) {
					return Ss(t) && Jn(t) == F
				}

				function oa(t, e, i, n, a) {
					return t === e || (null == t || null == e || !Ss(t) && !Ss(e) ? t != t && e != e : function(t, e, i, n, a, r) {
						var s = ys(t),
							l = ys(e),
							c = s ? j : jo(t),
							h = l ? j : jo(e),
							u = (c = c == F ? $ : c) == $,
							p = (h = h == F ? $ : h) == $,
							d = c == h;
						if (d && Es(t)) {
							if (!Es(e)) return !1;
							s = !0, u = !1
						}
						if (d && !u) return r || (r = new On), s || Ns(t) ? Do(t, e, i, n, a, r) : function(t, e, i, n, a, o, r) {
							switch (i) {
								case ct:
									if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset) return !1;
									t = t.buffer, e = e.buffer;
								case lt:
									return !(t.byteLength != e.byteLength || !o(new Ee(t), new Ee(e)));
								case z:
								case W:
								case Z:
									return ps(+t, +e);
								case Y:
									return t.name == e.name && t.message == e.message;
								case et:
								case nt:
									return t == e + "";
								case X:
									var s = Ai;
								case it:
									var l = n & f;
									if (s || (s = Di), t.size != e.size && !l) return !1;
									var c = r.get(t);
									if (c) return c == e;
									n |= y, r.set(t, e);
									var h = Do(s(t), s(e), n, a, o, r);
									return r.delete(t), h;
								case at:
									if (un) return un.call(t) == un.call(e)
							}
							return !1
						}(t, e, c, i, n, a, r);
						if (!(i & f)) {
							var g = u && ce.call(t, "__wrapped__"),
								m = p && ce.call(e, "__wrapped__");
							if (g || m) {
								var _ = g ? t.value() : t,
									v = m ? e.value() : e;
								return r || (r = new On), a(_, v, i, n, r)
							}
						}
						return !!d && (r || (r = new On), function(t, e, i, n, a, r) {
							var s = i & f,
								l = Lo(t),
								c = l.length,
								h = Lo(e).length;
							if (c != h && !s) return !1;
							for (var u = c; u--;) {
								var p = l[u];
								if (!(s ? p in e : ce.call(e, p))) return !1
							}
							var d = r.get(t);
							if (d && r.get(e)) return d == e;
							var g = !0;
							r.set(t, e), r.set(e, t);
							for (var y = s; ++u < c;) {
								p = l[u];
								var m = t[p],
									_ = e[p];
								if (n) var v = s ? n(_, m, p, e, t, r) : n(m, _, p, t, e, r);
								if (!(v === o ? m === _ || a(m, _, i, n, r) : v)) {
									g = !1;
									break
								}
								y || (y = "constructor" == p)
							}
							if (g && !y) {
								var E = t.constructor,
									b = e.constructor;
								E != b && "constructor" in t && "constructor" in e && !("function" == typeof E && E instanceof E && "function" == typeof b && b instanceof b) && (g = !1)
							}
							return r.delete(t), r.delete(e), g
						}(t, e, i, n, a, r))
					}(t, e, i, n, oa, a))
				}

				function ra(t, e, i, n) {
					var a = i.length,
						r = a,
						s = !n;
					if (null == t) return !r;
					for (t = te(t); a--;) {
						var l = i[a];
						if (s && l[2] ? l[1] !== t[l[0]] : !(l[0] in t)) return !1
					}
					for (; ++a < r;) {
						var c = (l = i[a])[0],
							h = t[c],
							u = l[1];
						if (s && l[2]) {
							if (h === o && !(c in t)) return !1
						} else {
							var p = new On;
							if (n) var d = n(h, u, c, t, e, p);
							if (!(d === o ? oa(u, h, f | y, n, p) : d)) return !1
						}
					}
					return !0
				}

				function sa(t) {
					return !(!Cs(t) || function(t) {
						return !!ue && ue in t
					}(t)) && (Is(t) ? fe : Kt).test(hr(t))
				}

				function la(t) {
					return "function" == typeof t ? t : null == t ? Dl : "object" == typeof t ? ys(t) ? ga(t[0], t[1]) : da(t) : Bl(t)
				}

				function ca(t) {
					if (!Zo(t)) return Hi(t);
					var e = [];
					for (var i in te(t)) ce.call(t, i) && "constructor" != i && e.push(i);
					return e
				}

				function ha(t) {
					if (!Cs(t)) return function(t) {
						var e = [];
						if (null != t)
							for (var i in te(t)) e.push(i);
						return e
					}(t);
					var e = Zo(t),
						i = [];
					for (var n in t)("constructor" != n || !e && ce.call(t, n)) && i.push(n);
					return i
				}

				function ua(t, e) {
					return t < e
				}

				function pa(t, e) {
					var n = -1,
						a = _s(t) ? i(t.length) : [];
					return Gn(t, function(t, i, o) {
						a[++n] = e(t, i, o)
					}), a
				}

				function da(t) {
					var e = Bo(t);
					return 1 == e.length && e[0][2] ? $o(e[0][0], e[0][1]) : function(i) {
						return i === t || ra(i, t, e)
					}
				}

				function ga(t, e) {
					return qo(t) && Jo(e) ? $o(cr(t), e) : function(i) {
						var n = Js(i, t);
						return n === o && n === e ? $s(i, t) : oa(e, n, f | y)
					}
				}

				function fa(t, e, i, n, a) {
					t !== e && Wn(e, function(r, s) {
						if (Cs(r)) a || (a = new On),
							function(t, e, i, n, a, r, s) {
								var l = wi(t, i),
									c = wi(e, i),
									h = s.get(c);
								if (h) Sn(t, i, h);
								else {
									var u = r ? r(l, c, i + "", t, e, s) : o,
										p = u === o;
									if (p) {
										var d = ys(c),
											g = !d && Es(c),
											f = !d && !g && Ns(c);
										u = c, d || g || f ? ys(l) ? u = l : vs(l) ? u = io(l) : g ? (p = !1, u = Xa(c, !0)) : f ? (p = !1, u = Ja(c, !0)) : u = [] : Ps(c) || fs(c) ? (u = l, fs(l) ? u = Hs(l) : (!Cs(l) || n && Is(l)) && (u = zo(c))) : p = !1
									}
									p && (s.set(c, u), a(u, c, n, r, s), s.delete(c)), Sn(t, i, u)
								}
							}(t, e, s, i, fa, n, a);
						else {
							var l = n ? n(wi(t, s), r, s + "", t, e, a) : o;
							l === o && (l = r), Sn(t, s, l)
						}
					}, al)
				}

				function ya(t, e) {
					var i = t.length;
					if (i) return Ko(e += e < 0 ? i : 0, i) ? t[e] : o
				}

				function ma(t, e, i) {
					var n = -1;
					return e = $e(e.length ? e : [Dl], yi(Ro())),
						function(t, e) {
							var i = t.length;
							for (t.sort(e); i--;) t[i] = t[i].value;
							return t
						}(pa(t, function(t, i, a) {
							return {
								criteria: $e(e, function(e) {
									return e(t)
								}),
								index: ++n,
								value: t
							}
						}), function(t, e) {
							return function(t, e, i) {
								for (var n = -1, a = t.criteria, o = e.criteria, r = a.length, s = i.length; ++n < r;) {
									var l = $a(a[n], o[n]);
									if (l) {
										if (n >= s) return l;
										var c = i[n];
										return l * ("desc" == c ? -1 : 1)
									}
								}
								return t.index - e.index
							}(t, e, i)
						})
				}

				function _a(t, e, i) {
					for (var n = -1, a = e.length, o = {}; ++n < a;) {
						var r = e[n],
							s = Xn(t, r);
						i(s, r) && Ca(o, Ka(r, t), s)
					}
					return o
				}

				function va(t, e, i, n) {
					var a = n ? li : si,
						o = -1,
						r = e.length,
						s = t;
					for (t === e && (e = io(e)), i && (s = $e(t, yi(i))); ++o < r;)
						for (var l = 0, c = e[o], h = i ? i(c) : c;
							(l = a(s, h, l, n)) > -1;) s !== t && Ue.call(s, l, 1), Ue.call(t, l, 1);
					return t
				}

				function Ea(t, e) {
					for (var i = t ? e.length : 0, n = i - 1; i--;) {
						var a = e[i];
						if (i == n || a !== o) {
							var o = a;
							Ko(a) ? Ue.call(t, a, 1) : Ba(t, a)
						}
					}
					return t
				}

				function ba(t, e) {
					return t + Bi(qi() * (e - t + 1))
				}

				function Oa(t, e) {
					var i = "";
					if (!t || e < 1 || e > U) return i;
					do {
						e % 2 && (i += t), (e = Bi(e / 2)) && (t += t)
					} while (e);
					return i
				}

				function Ia(t, e) {
					return ar(tr(t, e, Dl), t + "")
				}

				function Ta(t) {
					return Tn(pl(t))
				}

				function Aa(t, e) {
					var i = pl(t);
					return sr(i, Un(e, 0, i.length))
				}

				function Ca(t, e, i, n) {
					if (!Cs(t)) return t;
					for (var a = -1, r = (e = Ka(e, t)).length, s = r - 1, l = t; null != l && ++a < r;) {
						var c = cr(e[a]),
							h = i;
						if (a != s) {
							var u = l[c];
							(h = n ? n(u, c, l) : o) === o && (h = Cs(u) ? u : Ko(e[a + 1]) ? [] : {})
						}
						wn(l, c, h), l = l[c]
					}
					return t
				}
				var Sa = nn ? function(t, e) {
						return nn.set(t, e), t
					} : Dl,
					wa = ai ? function(t, e) {
						return ai(t, "toString", {
							configurable: !0,
							enumerable: !1,
							value: Cl(e),
							writable: !0
						})
					} : Dl;

				function Da(t) {
					return sr(pl(t))
				}

				function Pa(t, e, n) {
					var a = -1,
						o = t.length;
					e < 0 && (e = -e > o ? 0 : o + e), (n = n > o ? o : n) < 0 && (n += o), o = e > n ? 0 : n - e >>> 0, e >>>= 0;
					for (var r = i(o); ++a < o;) r[a] = t[a + e];
					return r
				}

				function La(t, e) {
					var i;
					return Gn(t, function(t, n, a) {
						return !(i = e(t, n, a))
					}), !!i
				}

				function xa(t, e, i) {
					var n = 0,
						a = null == t ? n : t.length;
					if ("number" == typeof e && e == e && a <= G) {
						for (; n < a;) {
							var o = n + a >>> 1,
								r = t[o];
							null !== r && !Us(r) && (i ? r <= e : r < e) ? n = o + 1 : a = o
						}
						return a
					}
					return Ma(t, e, Dl, i)
				}

				function Ma(t, e, i, n) {
					e = i(e);
					for (var a = 0, r = null == t ? 0 : t.length, s = e != e, l = null === e, c = Us(e), h = e === o; a < r;) {
						var u = Bi((a + r) / 2),
							p = i(t[u]),
							d = p !== o,
							g = null === p,
							f = p == p,
							y = Us(p);
						if (s) var m = n || f;
						else m = h ? f && (n || d) : l ? f && d && (n || !g) : c ? f && d && !g && (n || !y) : !g && !y && (n ? p <= e : p < e);
						m ? a = u + 1 : r = u
					}
					return Wi(r, B)
				}

				function Ua(t, e) {
					for (var i = -1, n = t.length, a = 0, o = []; ++i < n;) {
						var r = t[i],
							s = e ? e(r) : r;
						if (!i || !ps(s, l)) {
							var l = s;
							o[a++] = 0 === r ? 0 : r
						}
					}
					return o
				}

				function Na(t) {
					return "number" == typeof t ? t : Us(t) ? R : +t
				}

				function Ra(t) {
					if ("string" == typeof t) return t;
					if (ys(t)) return $e(t, Ra) + "";
					if (Us(t)) return pn ? pn.call(t) : "";
					var e = t + "";
					return "0" == e && 1 / t == -M ? "-0" : e
				}

				function ka(t, e, i) {
					var n = -1,
						a = Ze,
						o = t.length,
						s = !0,
						l = [],
						c = l;
					if (i) s = !1, a = Je;
					else if (o >= r) {
						var h = e ? null : Io(t);
						if (h) return Di(h);
						s = !1, a = _i, c = new bn
					} else c = e ? [] : l;
					t: for (; ++n < o;) {
						var u = t[n],
							p = e ? e(u) : u;
						if (u = i || 0 !== u ? u : 0, s && p == p) {
							for (var d = c.length; d--;)
								if (c[d] === p) continue t;
							e && c.push(p), l.push(u)
						} else a(c, p, i) || (c !== l && c.push(p), l.push(u))
					}
					return l
				}

				function Ba(t, e) {
					return null == (t = er(t, e = Ka(e, t))) || delete t[cr(Or(e))]
				}

				function Ga(t, e, i, n) {
					return Ca(t, e, i(Xn(t, e)), n)
				}

				function Va(t, e, i, n) {
					for (var a = t.length, o = n ? a : -1;
						(n ? o-- : ++o < a) && e(t[o], o, t););
					return i ? Pa(t, n ? 0 : o, n ? o + 1 : a) : Pa(t, n ? o + 1 : 0, n ? a : o)
				}

				function Fa(t, e) {
					var i = t;
					return i instanceof mn && (i = i.value()), ei(e, function(t, e) {
						return e.func.apply(e.thisArg, ti([t], e.args))
					}, i)
				}

				function ja(t, e, n) {
					var a = t.length;
					if (a < 2) return a ? ka(t[0]) : [];
					for (var o = -1, r = i(a); ++o < a;)
						for (var s = t[o], l = -1; ++l < a;) l != o && (r[o] = Bn(r[o] || s, t[l], e, n));
					return ka(zn(r, 1), e, n)
				}

				function Ha(t, e, i) {
					for (var n = -1, a = t.length, r = e.length, s = {}; ++n < a;) {
						var l = n < r ? e[n] : o;
						i(s, t[n], l)
					}
					return s
				}

				function za(t) {
					return vs(t) ? t : []
				}

				function Wa(t) {
					return "function" == typeof t ? t : Dl
				}

				function Ka(t, e) {
					return ys(t) ? t : qo(t, e) ? [t] : lr(zs(t))
				}
				var Ya = Ia;

				function qa(t, e, i) {
					var n = t.length;
					return i = i === o ? n : i, !e && i >= n ? t : Pa(t, e, i)
				}
				var Qa = pi || function(t) {
					return Me.clearTimeout(t)
				};

				function Xa(t, e) {
					if (e) return t.slice();
					var i = t.length,
						n = Oe ? Oe(i) : new t.constructor(i);
					return t.copy(n), n
				}

				function Za(t) {
					var e = new t.constructor(t.byteLength);
					return new Ee(e).set(new Ee(t)), e
				}

				function Ja(t, e) {
					var i = e ? Za(t.buffer) : t.buffer;
					return new t.constructor(i, t.byteOffset, t.length)
				}

				function $a(t, e) {
					if (t !== e) {
						var i = t !== o,
							n = null === t,
							a = t == t,
							r = Us(t),
							s = e !== o,
							l = null === e,
							c = e == e,
							h = Us(e);
						if (!l && !h && !r && t > e || r && s && c && !l && !h || n && s && c || !i && c || !a) return 1;
						if (!n && !r && !h && t < e || h && i && a && !n && !r || l && i && a || !s && a || !c) return -1
					}
					return 0
				}

				function to(t, e, n, a) {
					for (var o = -1, r = t.length, s = n.length, l = -1, c = e.length, h = zi(r - s, 0), u = i(c + h), p = !a; ++l < c;) u[l] = e[l];
					for (; ++o < s;)(p || o < r) && (u[n[o]] = t[o]);
					for (; h--;) u[l++] = t[o++];
					return u
				}

				function eo(t, e, n, a) {
					for (var o = -1, r = t.length, s = -1, l = n.length, c = -1, h = e.length, u = zi(r - l, 0), p = i(u + h), d = !a; ++o < u;) p[o] = t[o];
					for (var g = o; ++c < h;) p[g + c] = e[c];
					for (; ++s < l;)(d || o < r) && (p[g + n[s]] = t[o++]);
					return p
				}

				function io(t, e) {
					var n = -1,
						a = t.length;
					for (e || (e = i(a)); ++n < a;) e[n] = t[n];
					return e
				}

				function no(t, e, i, n) {
					var a = !i;
					i || (i = {});
					for (var r = -1, s = e.length; ++r < s;) {
						var l = e[r],
							c = n ? n(i[l], t[l], l, i, t) : o;
						c === o && (c = t[l]), a ? xn(i, l, c) : wn(i, l, c)
					}
					return i
				}

				function ao(t, e) {
					return function(i, n) {
						var a = ys(i) ? Ke : Pn,
							o = e ? e() : {};
						return a(i, t, Ro(n, 2), o)
					}
				}

				function oo(t) {
					return Ia(function(e, i) {
						var n = -1,
							a = i.length,
							r = a > 1 ? i[a - 1] : o,
							s = a > 2 ? i[2] : o;
						for (r = t.length > 3 && "function" == typeof r ? (a--, r) : o, s && Yo(i[0], i[1], s) && (r = a < 3 ? o : r, a = 1), e = te(e); ++n < a;) {
							var l = i[n];
							l && t(e, l, n, r)
						}
						return e
					})
				}

				function ro(t, e) {
					return function(i, n) {
						if (null == i) return i;
						if (!_s(i)) return t(i, n);
						for (var a = i.length, o = e ? a : -1, r = te(i);
							(e ? o-- : ++o < a) && !1 !== n(r[o], o, r););
						return i
					}
				}

				function so(t) {
					return function(e, i, n) {
						for (var a = -1, o = te(e), r = n(e), s = r.length; s--;) {
							var l = r[t ? s : ++a];
							if (!1 === i(o[l], l, o)) break
						}
						return e
					}
				}

				function lo(t) {
					return function(e) {
						var i = Ti(e = zs(e)) ? xi(e) : o,
							n = i ? i[0] : e.charAt(0),
							a = i ? qa(i, 1).join("") : e.slice(1);
						return n[t]() + a
					}
				}

				function co(t) {
					return function(e) {
						return ei(Il(fl(e).replace(_e, "")), t, "")
					}
				}

				function ho(t) {
					return function() {
						var e = arguments;
						switch (e.length) {
							case 0:
								return new t;
							case 1:
								return new t(e[0]);
							case 2:
								return new t(e[0], e[1]);
							case 3:
								return new t(e[0], e[1], e[2]);
							case 4:
								return new t(e[0], e[1], e[2], e[3]);
							case 5:
								return new t(e[0], e[1], e[2], e[3], e[4]);
							case 6:
								return new t(e[0], e[1], e[2], e[3], e[4], e[5]);
							case 7:
								return new t(e[0], e[1], e[2], e[3], e[4], e[5], e[6])
						}
						var i = gn(t.prototype),
							n = t.apply(i, e);
						return Cs(n) ? n : i
					}
				}

				function uo(t) {
					return function(e, i, n) {
						var a = te(e);
						if (!_s(e)) {
							var r = Ro(i, 3);
							e = nl(e), i = function(t) {
								return r(a[t], t, a)
							}
						}
						var s = t(e, i, n);
						return s > -1 ? a[r ? e[s] : s] : o
					}
				}

				function po(t) {
					return Po(function(e) {
						var i = e.length,
							n = i,
							a = yn.prototype.thru;
						for (t && e.reverse(); n--;) {
							var r = e[n];
							if ("function" != typeof r) throw new ne(l);
							if (a && !s && "wrapper" == Uo(r)) var s = new yn([], !0)
						}
						for (n = s ? n : i; ++n < i;) {
							var c = Uo(r = e[n]),
								h = "wrapper" == c ? Mo(r) : o;
							s = h && Qo(h[0]) && h[1] == (T | E | O | A) && !h[4].length && 1 == h[9] ? s[Uo(h[0])].apply(s, h[3]) : 1 == r.length && Qo(r) ? s[c]() : s.thru(r)
						}
						return function() {
							var t = arguments,
								n = t[0];
							if (s && 1 == t.length && ys(n)) return s.plant(n).value();
							for (var a = 0, o = i ? e[a].apply(this, t) : n; ++a < i;) o = e[a].call(this, o);
							return o
						}
					})
				}

				function go(t, e, n, a, r, s, l, c, h, u) {
					var p = e & T,
						d = e & m,
						g = e & _,
						f = e & (E | b),
						y = e & C,
						v = g ? o : ho(t);
					return function m() {
						for (var _ = arguments.length, E = i(_), b = _; b--;) E[b] = arguments[b];
						if (f) var O = No(m),
							I = function(t, e) {
								for (var i = t.length, n = 0; i--;) t[i] === e && ++n;
								return n
							}(E, O);
						if (a && (E = to(E, a, r, f)), s && (E = eo(E, s, l, f)), _ -= I, f && _ < u) {
							var T = Si(E, O);
							return bo(t, e, go, m.placeholder, n, E, T, c, h, u - _)
						}
						var A = d ? n : this,
							C = g ? A[t] : t;
						return _ = E.length, c ? E = function(t, e) {
							for (var i = t.length, n = Wi(e.length, i), a = io(t); n--;) {
								var r = e[n];
								t[n] = Ko(r, i) ? a[r] : o
							}
							return t
						}(E, c) : y && _ > 1 && E.reverse(), p && h < _ && (E.length = h), this && this !== Me && this instanceof m && (C = v || ho(C)), C.apply(A, E)
					}
				}

				function fo(t, e) {
					return function(i, n) {
						return function(t, e, i, n) {
							return Yn(t, function(t, a, o) {
								e(n, i(t), a, o)
							}), n
						}(i, t, e(n), {})
					}
				}

				function yo(t, e) {
					return function(i, n) {
						var a;
						if (i === o && n === o) return e;
						if (i !== o && (a = i), n !== o) {
							if (a === o) return n;
							"string" == typeof i || "string" == typeof n ? (i = Ra(i), n = Ra(n)) : (i = Na(i), n = Na(n)), a = t(i, n)
						}
						return a
					}
				}

				function mo(t) {
					return Po(function(e) {
						return e = $e(e, yi(Ro())), Ia(function(i) {
							var n = this;
							return t(e, function(t) {
								return We(t, n, i)
							})
						})
					})
				}

				function _o(t, e) {
					var i = (e = e === o ? " " : Ra(e)).length;
					if (i < 2) return i ? Oa(e, t) : e;
					var n = Oa(e, ki(t / Li(e)));
					return Ti(e) ? qa(xi(n), 0, t).join("") : n.slice(0, t)
				}

				function vo(t) {
					return function(e, n, a) {
						return a && "number" != typeof a && Yo(e, n, a) && (n = a = o), e = Gs(e), n === o ? (n = e, e = 0) : n = Gs(n),
							function(t, e, n, a) {
								for (var o = -1, r = zi(ki((e - t) / (n || 1)), 0), s = i(r); r--;) s[a ? r : ++o] = t, t += n;
								return s
							}(e, n, a = a === o ? e < n ? 1 : -1 : Gs(a), t)
					}
				}

				function Eo(t) {
					return function(e, i) {
						return "string" == typeof e && "string" == typeof i || (e = js(e), i = js(i)), t(e, i)
					}
				}

				function bo(t, e, i, n, a, r, s, l, c, h) {
					var u = e & E;
					e |= u ? O : I, (e &= ~(u ? I : O)) & v || (e &= ~(m | _));
					var p = [t, e, a, u ? r : o, u ? s : o, u ? o : r, u ? o : s, l, c, h],
						d = i.apply(o, p);
					return Qo(t) && ir(d, p), d.placeholder = n, or(d, t, e)
				}

				function Oo(t) {
					var e = $t[t];
					return function(t, i) {
						if (t = js(t), i = null == i ? 0 : Wi(Vs(i), 292)) {
							var n = (zs(t) + "e").split("e");
							return +((n = (zs(e(n[0] + "e" + (+n[1] + i))) + "e").split("e"))[0] + "e" + (+n[1] - i))
						}
						return e(t)
					}
				}
				var Io = $i && 1 / Di(new $i([, -0]))[1] == M ? function(t) {
					return new $i(t)
				} : Ul;

				function To(t) {
					return function(e) {
						var i = jo(e);
						return i == X ? Ai(e) : i == it ? Pi(e) : function(t, e) {
							return $e(e, function(e) {
								return [e, t[e]]
							})
						}(e, t(e))
					}
				}

				function Ao(t, e, n, a, r, s, c, h) {
					var p = e & _;
					if (!p && "function" != typeof t) throw new ne(l);
					var d = a ? a.length : 0;
					if (d || (e &= ~(O | I), a = r = o), c = c === o ? c : zi(Vs(c), 0), h = h === o ? h : Vs(h), d -= r ? r.length : 0, e & I) {
						var g = a,
							f = r;
						a = r = o
					}
					var y = p ? o : Mo(t),
						C = [t, e, n, a, r, g, f, s, c, h];
					if (y && function(t, e) {
							var i = t[1],
								n = e[1],
								a = i | n,
								o = a < (m | _ | T),
								r = n == T && i == E || n == T && i == A && t[7].length <= e[8] || n == (T | A) && e[7].length <= e[8] && i == E;
							if (!o && !r) return t;
							n & m && (t[2] = e[2], a |= i & m ? 0 : v);
							var s = e[3];
							if (s) {
								var l = t[3];
								t[3] = l ? to(l, s, e[4]) : s, t[4] = l ? Si(t[3], u) : e[4]
							}(s = e[5]) && (l = t[5], t[5] = l ? eo(l, s, e[6]) : s, t[6] = l ? Si(t[5], u) : e[6]), (s = e[7]) && (t[7] = s), n & T && (t[8] = null == t[8] ? e[8] : Wi(t[8], e[8])), null == t[9] && (t[9] = e[9]), t[0] = e[0], t[1] = a
						}(C, y), t = C[0], e = C[1], n = C[2], a = C[3], r = C[4], !(h = C[9] = C[9] === o ? p ? 0 : t.length : zi(C[9] - d, 0)) && e & (E | b) && (e &= ~(E | b)), e && e != m) S = e == E || e == b ? function(t, e, n) {
						var a = ho(t);
						return function r() {
							for (var s = arguments.length, l = i(s), c = s, h = No(r); c--;) l[c] = arguments[c];
							var u = s < 3 && l[0] !== h && l[s - 1] !== h ? [] : Si(l, h);
							return (s -= u.length) < n ? bo(t, e, go, r.placeholder, o, l, u, o, o, n - s) : We(this && this !== Me && this instanceof r ? a : t, this, l)
						}
					}(t, e, h) : e != O && e != (m | O) || r.length ? go.apply(o, C) : function(t, e, n, a) {
						var o = e & m,
							r = ho(t);
						return function e() {
							for (var s = -1, l = arguments.length, c = -1, h = a.length, u = i(h + l), p = this && this !== Me && this instanceof e ? r : t; ++c < h;) u[c] = a[c];
							for (; l--;) u[c++] = arguments[++s];
							return We(p, o ? n : this, u)
						}
					}(t, e, n, a);
					else var S = function(t, e, i) {
						var n = e & m,
							a = ho(t);
						return function e() {
							return (this && this !== Me && this instanceof e ? a : t).apply(n ? i : this, arguments)
						}
					}(t, e, n);
					return or((y ? Sa : ir)(S, C), t, e)
				}

				function Co(t, e, i, n) {
					return t === o || ps(t, re[i]) && !ce.call(n, i) ? e : t
				}

				function So(t, e, i, n, a, r) {
					return Cs(t) && Cs(e) && (r.set(e, t), fa(t, e, o, So, r), r.delete(e)), t
				}

				function wo(t) {
					return Ps(t) ? o : t
				}

				function Do(t, e, i, n, a, r) {
					var s = i & f,
						l = t.length,
						c = e.length;
					if (l != c && !(s && c > l)) return !1;
					var h = r.get(t);
					if (h && r.get(e)) return h == e;
					var u = -1,
						p = !0,
						d = i & y ? new bn : o;
					for (r.set(t, e), r.set(e, t); ++u < l;) {
						var g = t[u],
							m = e[u];
						if (n) var _ = s ? n(m, g, u, e, t, r) : n(g, m, u, t, e, r);
						if (_ !== o) {
							if (_) continue;
							p = !1;
							break
						}
						if (d) {
							if (!ni(e, function(t, e) {
									if (!_i(d, e) && (g === t || a(g, t, i, n, r))) return d.push(e)
								})) {
								p = !1;
								break
							}
						} else if (g !== m && !a(g, m, i, n, r)) {
							p = !1;
							break
						}
					}
					return r.delete(t), r.delete(e), p
				}

				function Po(t) {
					return ar(tr(t, o, mr), t + "")
				}

				function Lo(t) {
					return Zn(t, nl, Vo)
				}

				function xo(t) {
					return Zn(t, al, Fo)
				}
				var Mo = nn ? function(t) {
					return nn.get(t)
				} : Ul;

				function Uo(t) {
					for (var e = t.name + "", i = an[e], n = ce.call(an, e) ? i.length : 0; n--;) {
						var a = i[n],
							o = a.func;
						if (null == o || o == t) return a.name
					}
					return e
				}

				function No(t) {
					return (ce.call(dn, "placeholder") ? dn : t).placeholder
				}

				function Ro() {
					var t = dn.iteratee || Pl;
					return t = t === Pl ? la : t, arguments.length ? t(arguments[0], arguments[1]) : t
				}

				function ko(t, e) {
					var i = t.__data__;
					return function(t) {
						var e = typeof t;
						return "string" == e || "number" == e || "symbol" == e || "boolean" == e ? "__proto__" !== t : null === t
					}(e) ? i["string" == typeof e ? "string" : "hash"] : i.map
				}

				function Bo(t) {
					for (var e = nl(t), i = e.length; i--;) {
						var n = e[i],
							a = t[n];
						e[i] = [n, a, Jo(a)]
					}
					return e
				}

				function Go(t, e) {
					var i = function(t, e) {
						return null == t ? o : t[e]
					}(t, e);
					return sa(i) ? i : o
				}
				var Vo = Gi ? function(t) {
						return null == t ? [] : (t = te(t), Xe(Gi(t), function(e) {
							return xe.call(t, e)
						}))
					} : Fl,
					Fo = Gi ? function(t) {
						for (var e = []; t;) ti(e, Vo(t)), t = we(t);
						return e
					} : Fl,
					jo = Jn;

				function Ho(t, e, i) {
					for (var n = -1, a = (e = Ka(e, t)).length, o = !1; ++n < a;) {
						var r = cr(e[n]);
						if (!(o = null != t && i(t, r))) break;
						t = t[r]
					}
					return o || ++n != a ? o : !!(a = null == t ? 0 : t.length) && As(a) && Ko(r, a) && (ys(t) || fs(t))
				}

				function zo(t) {
					return "function" != typeof t.constructor || Zo(t) ? {} : gn(we(t))
				}

				function Wo(t) {
					return ys(t) || fs(t) || !!(Ne && t && t[Ne])
				}

				function Ko(t, e) {
					var i = typeof t;
					return !!(e = null == e ? U : e) && ("number" == i || "symbol" != i && qt.test(t)) && t > -1 && t % 1 == 0 && t < e
				}

				function Yo(t, e, i) {
					if (!Cs(i)) return !1;
					var n = typeof e;
					return !!("number" == n ? _s(i) && Ko(e, i.length) : "string" == n && e in i) && ps(i[e], t)
				}

				function qo(t, e) {
					if (ys(t)) return !1;
					var i = typeof t;
					return !("number" != i && "symbol" != i && "boolean" != i && null != t && !Us(t)) || Pt.test(t) || !Dt.test(t) || null != e && t in te(e)
				}

				function Qo(t) {
					var e = Uo(t),
						i = dn[e];
					if ("function" != typeof i || !(e in mn.prototype)) return !1;
					if (t === i) return !0;
					var n = Mo(i);
					return !!n && t === n[0]
				}(Xi && jo(new Xi(new ArrayBuffer(1))) != ct || Zi && jo(new Zi) != X || Ji && "[object Promise]" != jo(Ji.resolve()) || $i && jo(new $i) != it || tn && jo(new tn) != rt) && (jo = function(t) {
					var e = Jn(t),
						i = e == $ ? t.constructor : o,
						n = i ? hr(i) : "";
					if (n) switch (n) {
						case on:
							return ct;
						case rn:
							return X;
						case sn:
							return "[object Promise]";
						case ln:
							return it;
						case cn:
							return rt
					}
					return e
				});
				var Xo = se ? Is : jl;

				function Zo(t) {
					var e = t && t.constructor;
					return t === ("function" == typeof e && e.prototype || re)
				}

				function Jo(t) {
					return t == t && !Cs(t)
				}

				function $o(t, e) {
					return function(i) {
						return null != i && i[t] === e && (e !== o || t in te(i))
					}
				}

				function tr(t, e, n) {
					return e = zi(e === o ? t.length - 1 : e, 0),
						function() {
							for (var a = arguments, o = -1, r = zi(a.length - e, 0), s = i(r); ++o < r;) s[o] = a[e + o];
							o = -1;
							for (var l = i(e + 1); ++o < e;) l[o] = a[o];
							return l[e] = n(s), We(t, this, l)
						}
				}

				function er(t, e) {
					return e.length < 2 ? t : Xn(t, Pa(e, 0, -1))
				}
				var ir = rr(Sa),
					nr = Ri || function(t, e) {
						return Me.setTimeout(t, e)
					},
					ar = rr(wa);

				function or(t, e, i) {
					var n = e + "";
					return ar(t, function(t, e) {
						var i = e.length;
						if (!i) return t;
						var n = i - 1;
						return e[n] = (i > 1 ? "& " : "") + e[n], e = e.join(i > 2 ? ", " : " "), t.replace(kt, "{\n/* [wrapped with " + e + "] */\n")
					}(n, function(t, e) {
						return Ye(V, function(i) {
							var n = "_." + i[0];
							e & i[1] && !Ze(t, n) && t.push(n)
						}), t.sort()
					}(function(t) {
						var e = t.match(Bt);
						return e ? e[1].split(Gt) : []
					}(n), i)))
				}

				function rr(t) {
					var e = 0,
						i = 0;
					return function() {
						var n = Ki(),
							a = P - (n - i);
						if (i = n, a > 0) {
							if (++e >= D) return arguments[0]
						} else e = 0;
						return t.apply(o, arguments)
					}
				}

				function sr(t, e) {
					var i = -1,
						n = t.length,
						a = n - 1;
					for (e = e === o ? n : e; ++i < e;) {
						var r = ba(i, a),
							s = t[r];
						t[r] = t[i], t[i] = s
					}
					return t.length = e, t
				}
				var lr = function(t) {
					var e = rs(t, function(t) {
							return i.size === h && i.clear(), t
						}),
						i = e.cache;
					return e
				}(function(t) {
					var e = [];
					return 46 === t.charCodeAt(0) && e.push(""), t.replace(Lt, function(t, i, n, a) {
						e.push(n ? a.replace(Ft, "$1") : i || t)
					}), e
				});

				function cr(t) {
					if ("string" == typeof t || Us(t)) return t;
					var e = t + "";
					return "0" == e && 1 / t == -M ? "-0" : e
				}

				function hr(t) {
					if (null != t) {
						try {
							return le.call(t)
						} catch (t) {}
						try {
							return t + ""
						} catch (t) {}
					}
					return ""
				}

				function ur(t) {
					if (t instanceof mn) return t.clone();
					var e = new yn(t.__wrapped__, t.__chain__);
					return e.__actions__ = io(t.__actions__), e.__index__ = t.__index__, e.__values__ = t.__values__, e
				}
				var pr = Ia(function(t, e) {
						return vs(t) ? Bn(t, zn(e, 1, vs, !0)) : []
					}),
					dr = Ia(function(t, e) {
						var i = Or(e);
						return vs(i) && (i = o), vs(t) ? Bn(t, zn(e, 1, vs, !0), Ro(i, 2)) : []
					}),
					gr = Ia(function(t, e) {
						var i = Or(e);
						return vs(i) && (i = o), vs(t) ? Bn(t, zn(e, 1, vs, !0), o, i) : []
					});

				function fr(t, e, i) {
					var n = null == t ? 0 : t.length;
					if (!n) return -1;
					var a = null == i ? 0 : Vs(i);
					return a < 0 && (a = zi(n + a, 0)), ri(t, Ro(e, 3), a)
				}

				function yr(t, e, i) {
					var n = null == t ? 0 : t.length;
					if (!n) return -1;
					var a = n - 1;
					return i !== o && (a = Vs(i), a = i < 0 ? zi(n + a, 0) : Wi(a, n - 1)), ri(t, Ro(e, 3), a, !0)
				}

				function mr(t) {
					return null != t && t.length ? zn(t, 1) : []
				}

				function _r(t) {
					return t && t.length ? t[0] : o
				}
				var vr = Ia(function(t) {
						var e = $e(t, za);
						return e.length && e[0] === t[0] ? ia(e) : []
					}),
					Er = Ia(function(t) {
						var e = Or(t),
							i = $e(t, za);
						return e === Or(i) ? e = o : i.pop(), i.length && i[0] === t[0] ? ia(i, Ro(e, 2)) : []
					}),
					br = Ia(function(t) {
						var e = Or(t),
							i = $e(t, za);
						return (e = "function" == typeof e ? e : o) && i.pop(), i.length && i[0] === t[0] ? ia(i, o, e) : []
					});

				function Or(t) {
					var e = null == t ? 0 : t.length;
					return e ? t[e - 1] : o
				}
				var Ir = Ia(Tr);

				function Tr(t, e) {
					return t && t.length && e && e.length ? va(t, e) : t
				}
				var Ar = Po(function(t, e) {
					var i = null == t ? 0 : t.length,
						n = Mn(t, e);
					return Ea(t, $e(e, function(t) {
						return Ko(t, i) ? +t : t
					}).sort($a)), n
				});

				function Cr(t) {
					return null == t ? t : Qi.call(t)
				}
				var Sr = Ia(function(t) {
						return ka(zn(t, 1, vs, !0))
					}),
					wr = Ia(function(t) {
						var e = Or(t);
						return vs(e) && (e = o), ka(zn(t, 1, vs, !0), Ro(e, 2))
					}),
					Dr = Ia(function(t) {
						var e = Or(t);
						return e = "function" == typeof e ? e : o, ka(zn(t, 1, vs, !0), o, e)
					});

				function Pr(t) {
					if (!t || !t.length) return [];
					var e = 0;
					return t = Xe(t, function(t) {
						if (vs(t)) return e = zi(t.length, e), !0
					}), fi(e, function(e) {
						return $e(t, ui(e))
					})
				}

				function Lr(t, e) {
					if (!t || !t.length) return [];
					var i = Pr(t);
					return null == e ? i : $e(i, function(t) {
						return We(e, o, t)
					})
				}
				var xr = Ia(function(t, e) {
						return vs(t) ? Bn(t, e) : []
					}),
					Mr = Ia(function(t) {
						return ja(Xe(t, vs))
					}),
					Ur = Ia(function(t) {
						var e = Or(t);
						return vs(e) && (e = o), ja(Xe(t, vs), Ro(e, 2))
					}),
					Nr = Ia(function(t) {
						var e = Or(t);
						return e = "function" == typeof e ? e : o, ja(Xe(t, vs), o, e)
					}),
					Rr = Ia(Pr);
				var kr = Ia(function(t) {
					var e = t.length,
						i = e > 1 ? t[e - 1] : o;
					return Lr(t, i = "function" == typeof i ? (t.pop(), i) : o)
				});

				function Br(t) {
					var e = dn(t);
					return e.__chain__ = !0, e
				}

				function Gr(t, e) {
					return e(t)
				}
				var Vr = Po(function(t) {
					var e = t.length,
						i = e ? t[0] : 0,
						n = this.__wrapped__,
						a = function(e) {
							return Mn(e, t)
						};
					return !(e > 1 || this.__actions__.length) && n instanceof mn && Ko(i) ? ((n = n.slice(i, +i + (e ? 1 : 0))).__actions__.push({
						func: Gr,
						args: [a],
						thisArg: o
					}), new yn(n, this.__chain__).thru(function(t) {
						return e && !t.length && t.push(o), t
					})) : this.thru(a)
				});
				var Fr = ao(function(t, e, i) {
					ce.call(t, i) ? ++t[i] : xn(t, i, 1)
				});
				var jr = uo(fr),
					Hr = uo(yr);

				function zr(t, e) {
					return (ys(t) ? Ye : Gn)(t, Ro(e, 3))
				}

				function Wr(t, e) {
					return (ys(t) ? qe : Vn)(t, Ro(e, 3))
				}
				var Kr = ao(function(t, e, i) {
					ce.call(t, i) ? t[i].push(e) : xn(t, i, [e])
				});
				var Yr = Ia(function(t, e, n) {
						var a = -1,
							o = "function" == typeof e,
							r = _s(t) ? i(t.length) : [];
						return Gn(t, function(t) {
							r[++a] = o ? We(e, t, n) : na(t, e, n)
						}), r
					}),
					qr = ao(function(t, e, i) {
						xn(t, i, e)
					});

				function Qr(t, e) {
					return (ys(t) ? $e : pa)(t, Ro(e, 3))
				}
				var Xr = ao(function(t, e, i) {
					t[i ? 0 : 1].push(e)
				}, function() {
					return [
						[],
						[]
					]
				});
				var Zr = Ia(function(t, e) {
						if (null == t) return [];
						var i = e.length;
						return i > 1 && Yo(t, e[0], e[1]) ? e = [] : i > 2 && Yo(e[0], e[1], e[2]) && (e = [e[0]]), ma(t, zn(e, 1), [])
					}),
					Jr = Ni || function() {
						return Me.Date.now()
					};

				function $r(t, e, i) {
					return e = i ? o : e, e = t && null == e ? t.length : e, Ao(t, T, o, o, o, o, e)
				}

				function ts(t, e) {
					var i;
					if ("function" != typeof e) throw new ne(l);
					return t = Vs(t),
						function() {
							return --t > 0 && (i = e.apply(this, arguments)), t <= 1 && (e = o), i
						}
				}
				var es = Ia(function(t, e, i) {
						var n = m;
						if (i.length) {
							var a = Si(i, No(es));
							n |= O
						}
						return Ao(t, n, e, i, a)
					}),
					is = Ia(function(t, e, i) {
						var n = m | _;
						if (i.length) {
							var a = Si(i, No(is));
							n |= O
						}
						return Ao(e, n, t, i, a)
					});

				function ns(t, e, i) {
					var n, a, r, s, c, h, u = 0,
						p = !1,
						d = !1,
						g = !0;
					if ("function" != typeof t) throw new ne(l);

					function f(e) {
						var i = n,
							r = a;
						return n = a = o, u = e, s = t.apply(r, i)
					}

					function y(t) {
						var i = t - h;
						return h === o || i >= e || i < 0 || d && t - u >= r
					}

					function m() {
						var t = Jr();
						if (y(t)) return _(t);
						c = nr(m, function(t) {
							var i = e - (t - h);
							return d ? Wi(i, r - (t - u)) : i
						}(t))
					}

					function _(t) {
						return c = o, g && n ? f(t) : (n = a = o, s)
					}

					function v() {
						var t = Jr(),
							i = y(t);
						if (n = arguments, a = this, h = t, i) {
							if (c === o) return function(t) {
								return u = t, c = nr(m, e), p ? f(t) : s
							}(h);
							if (d) return c = nr(m, e), f(h)
						}
						return c === o && (c = nr(m, e)), s
					}
					return e = js(e) || 0, Cs(i) && (p = !!i.leading, r = (d = "maxWait" in i) ? zi(js(i.maxWait) || 0, e) : r, g = "trailing" in i ? !!i.trailing : g), v.cancel = function() {
						c !== o && Qa(c), u = 0, n = h = a = c = o
					}, v.flush = function() {
						return c === o ? s : _(Jr())
					}, v
				}
				var as = Ia(function(t, e) {
						return kn(t, 1, e)
					}),
					os = Ia(function(t, e, i) {
						return kn(t, js(e) || 0, i)
					});

				function rs(t, e) {
					if ("function" != typeof t || null != e && "function" != typeof e) throw new ne(l);
					var i = function() {
						var n = arguments,
							a = e ? e.apply(this, n) : n[0],
							o = i.cache;
						if (o.has(a)) return o.get(a);
						var r = t.apply(this, n);
						return i.cache = o.set(a, r) || o, r
					};
					return i.cache = new(rs.Cache || En), i
				}

				function ss(t) {
					if ("function" != typeof t) throw new ne(l);
					return function() {
						var e = arguments;
						switch (e.length) {
							case 0:
								return !t.call(this);
							case 1:
								return !t.call(this, e[0]);
							case 2:
								return !t.call(this, e[0], e[1]);
							case 3:
								return !t.call(this, e[0], e[1], e[2])
						}
						return !t.apply(this, e)
					}
				}
				rs.Cache = En;
				var ls = Ya(function(t, e) {
						var i = (e = 1 == e.length && ys(e[0]) ? $e(e[0], yi(Ro())) : $e(zn(e, 1), yi(Ro()))).length;
						return Ia(function(n) {
							for (var a = -1, o = Wi(n.length, i); ++a < o;) n[a] = e[a].call(this, n[a]);
							return We(t, this, n)
						})
					}),
					cs = Ia(function(t, e) {
						var i = Si(e, No(cs));
						return Ao(t, O, o, e, i)
					}),
					hs = Ia(function(t, e) {
						var i = Si(e, No(hs));
						return Ao(t, I, o, e, i)
					}),
					us = Po(function(t, e) {
						return Ao(t, A, o, o, o, e)
					});

				function ps(t, e) {
					return t === e || t != t && e != e
				}
				var ds = Eo($n),
					gs = Eo(function(t, e) {
						return t >= e
					}),
					fs = aa(function() {
						return arguments
					}()) ? aa : function(t) {
						return Ss(t) && ce.call(t, "callee") && !xe.call(t, "callee")
					},
					ys = i.isArray,
					ms = Ge ? yi(Ge) : function(t) {
						return Ss(t) && Jn(t) == lt
					};

				function _s(t) {
					return null != t && As(t.length) && !Is(t)
				}

				function vs(t) {
					return Ss(t) && _s(t)
				}
				var Es = Vi || jl,
					bs = Ve ? yi(Ve) : function(t) {
						return Ss(t) && Jn(t) == W
					};

				function Os(t) {
					if (!Ss(t)) return !1;
					var e = Jn(t);
					return e == Y || e == K || "string" == typeof t.message && "string" == typeof t.name && !Ps(t)
				}

				function Is(t) {
					if (!Cs(t)) return !1;
					var e = Jn(t);
					return e == q || e == Q || e == H || e == tt
				}

				function Ts(t) {
					return "number" == typeof t && t == Vs(t)
				}

				function As(t) {
					return "number" == typeof t && t > -1 && t % 1 == 0 && t <= U
				}

				function Cs(t) {
					var e = typeof t;
					return null != t && ("object" == e || "function" == e)
				}

				function Ss(t) {
					return null != t && "object" == typeof t
				}
				var ws = Fe ? yi(Fe) : function(t) {
					return Ss(t) && jo(t) == X
				};

				function Ds(t) {
					return "number" == typeof t || Ss(t) && Jn(t) == Z
				}

				function Ps(t) {
					if (!Ss(t) || Jn(t) != $) return !1;
					var e = we(t);
					if (null === e) return !0;
					var i = ce.call(e, "constructor") && e.constructor;
					return "function" == typeof i && i instanceof i && le.call(i) == de
				}
				var Ls = je ? yi(je) : function(t) {
					return Ss(t) && Jn(t) == et
				};
				var xs = He ? yi(He) : function(t) {
					return Ss(t) && jo(t) == it
				};

				function Ms(t) {
					return "string" == typeof t || !ys(t) && Ss(t) && Jn(t) == nt
				}

				function Us(t) {
					return "symbol" == typeof t || Ss(t) && Jn(t) == at
				}
				var Ns = ze ? yi(ze) : function(t) {
					return Ss(t) && As(t.length) && !!Ce[Jn(t)]
				};
				var Rs = Eo(ua),
					ks = Eo(function(t, e) {
						return t <= e
					});

				function Bs(t) {
					if (!t) return [];
					if (_s(t)) return Ms(t) ? xi(t) : io(t);
					if (ke && t[ke]) return function(t) {
						for (var e, i = []; !(e = t.next()).done;) i.push(e.value);
						return i
					}(t[ke]());
					var e = jo(t);
					return (e == X ? Ai : e == it ? Di : pl)(t)
				}

				function Gs(t) {
					return t ? (t = js(t)) === M || t === -M ? (t < 0 ? -1 : 1) * N : t == t ? t : 0 : 0 === t ? t : 0
				}

				function Vs(t) {
					var e = Gs(t),
						i = e % 1;
					return e == e ? i ? e - i : e : 0
				}

				function Fs(t) {
					return t ? Un(Vs(t), 0, k) : 0
				}

				function js(t) {
					if ("number" == typeof t) return t;
					if (Us(t)) return R;
					if (Cs(t)) {
						var e = "function" == typeof t.valueOf ? t.valueOf() : t;
						t = Cs(e) ? e + "" : e
					}
					if ("string" != typeof t) return 0 === t ? t : +t;
					t = t.replace(Ut, "");
					var i = Wt.test(t);
					return i || Yt.test(t) ? Pe(t.slice(2), i ? 2 : 8) : zt.test(t) ? R : +t
				}

				function Hs(t) {
					return no(t, al(t))
				}

				function zs(t) {
					return null == t ? "" : Ra(t)
				}
				var Ws = oo(function(t, e) {
						if (Zo(e) || _s(e)) no(e, nl(e), t);
						else
							for (var i in e) ce.call(e, i) && wn(t, i, e[i])
					}),
					Ks = oo(function(t, e) {
						no(e, al(e), t)
					}),
					Ys = oo(function(t, e, i, n) {
						no(e, al(e), t, n)
					}),
					qs = oo(function(t, e, i, n) {
						no(e, nl(e), t, n)
					}),
					Qs = Po(Mn);
				var Xs = Ia(function(t, e) {
						t = te(t);
						var i = -1,
							n = e.length,
							a = n > 2 ? e[2] : o;
						for (a && Yo(e[0], e[1], a) && (n = 1); ++i < n;)
							for (var r = e[i], s = al(r), l = -1, c = s.length; ++l < c;) {
								var h = s[l],
									u = t[h];
								(u === o || ps(u, re[h]) && !ce.call(t, h)) && (t[h] = r[h])
							}
						return t
					}),
					Zs = Ia(function(t) {
						return t.push(o, So), We(rl, o, t)
					});

				function Js(t, e, i) {
					var n = null == t ? o : Xn(t, e);
					return n === o ? i : n
				}

				function $s(t, e) {
					return null != t && Ho(t, e, ea)
				}
				var tl = fo(function(t, e, i) {
						null != e && "function" != typeof e.toString && (e = pe.call(e)), t[e] = i
					}, Cl(Dl)),
					el = fo(function(t, e, i) {
						null != e && "function" != typeof e.toString && (e = pe.call(e)), ce.call(t, e) ? t[e].push(i) : t[e] = [i]
					}, Ro),
					il = Ia(na);

				function nl(t) {
					return _s(t) ? In(t) : ca(t)
				}

				function al(t) {
					return _s(t) ? In(t, !0) : ha(t)
				}
				var ol = oo(function(t, e, i) {
						fa(t, e, i)
					}),
					rl = oo(function(t, e, i, n) {
						fa(t, e, i, n)
					}),
					sl = Po(function(t, e) {
						var i = {};
						if (null == t) return i;
						var n = !1;
						e = $e(e, function(e) {
							return e = Ka(e, t), n || (n = e.length > 1), e
						}), no(t, xo(t), i), n && (i = Nn(i, p | d | g, wo));
						for (var a = e.length; a--;) Ba(i, e[a]);
						return i
					});
				var ll = Po(function(t, e) {
					return null == t ? {} : function(t, e) {
						return _a(t, e, function(e, i) {
							return $s(t, i)
						})
					}(t, e)
				});

				function cl(t, e) {
					if (null == t) return {};
					var i = $e(xo(t), function(t) {
						return [t]
					});
					return e = Ro(e), _a(t, i, function(t, i) {
						return e(t, i[0])
					})
				}
				var hl = To(nl),
					ul = To(al);

				function pl(t) {
					return null == t ? [] : mi(t, nl(t))
				}
				var dl = co(function(t, e, i) {
					return e = e.toLowerCase(), t + (i ? gl(e) : e)
				});

				function gl(t) {
					return Ol(zs(t).toLowerCase())
				}

				function fl(t) {
					return (t = zs(t)) && t.replace(Qt, bi).replace(ve, "")
				}
				var yl = co(function(t, e, i) {
						return t + (i ? "-" : "") + e.toLowerCase()
					}),
					ml = co(function(t, e, i) {
						return t + (i ? " " : "") + e.toLowerCase()
					}),
					_l = lo("toLowerCase");
				var vl = co(function(t, e, i) {
					return t + (i ? "_" : "") + e.toLowerCase()
				});
				var El = co(function(t, e, i) {
					return t + (i ? " " : "") + Ol(e)
				});
				var bl = co(function(t, e, i) {
						return t + (i ? " " : "") + e.toUpperCase()
					}),
					Ol = lo("toUpperCase");

				function Il(t, e, i) {
					return t = zs(t), (e = i ? o : e) === o ? function(t) {
						return Ie.test(t)
					}(t) ? function(t) {
						return t.match(be) || []
					}(t) : function(t) {
						return t.match(Vt) || []
					}(t) : t.match(e) || []
				}
				var Tl = Ia(function(t, e) {
						try {
							return We(t, o, e)
						} catch (t) {
							return Os(t) ? t : new a(t)
						}
					}),
					Al = Po(function(t, e) {
						return Ye(e, function(e) {
							e = cr(e), xn(t, e, es(t[e], t))
						}), t
					});

				function Cl(t) {
					return function() {
						return t
					}
				}
				var Sl = po(),
					wl = po(!0);

				function Dl(t) {
					return t
				}

				function Pl(t) {
					return la("function" == typeof t ? t : Nn(t, p))
				}
				var Ll = Ia(function(t, e) {
						return function(i) {
							return na(i, t, e)
						}
					}),
					xl = Ia(function(t, e) {
						return function(i) {
							return na(t, i, e)
						}
					});

				function Ml(t, e, i) {
					var n = nl(e),
						a = Qn(e, n);
					null != i || Cs(e) && (a.length || !n.length) || (i = e, e = t, t = this, a = Qn(e, nl(e)));
					var o = !(Cs(i) && "chain" in i && !i.chain),
						r = Is(t);
					return Ye(a, function(i) {
						var n = e[i];
						t[i] = n, r && (t.prototype[i] = function() {
							var e = this.__chain__;
							if (o || e) {
								var i = t(this.__wrapped__);
								return (i.__actions__ = io(this.__actions__)).push({
									func: n,
									args: arguments,
									thisArg: t
								}), i.__chain__ = e, i
							}
							return n.apply(t, ti([this.value()], arguments))
						})
					}), t
				}

				function Ul() {}
				var Nl = mo($e),
					Rl = mo(Qe),
					kl = mo(ni);

				function Bl(t) {
					return qo(t) ? ui(cr(t)) : function(t) {
						return function(e) {
							return Xn(e, t)
						}
					}(t)
				}
				var Gl = vo(),
					Vl = vo(!0);

				function Fl() {
					return []
				}

				function jl() {
					return !1
				}
				var Hl = yo(function(t, e) {
						return t + e
					}, 0),
					zl = Oo("ceil"),
					Wl = yo(function(t, e) {
						return t / e
					}, 1),
					Kl = Oo("floor");
				var Yl = yo(function(t, e) {
						return t * e
					}, 1),
					ql = Oo("round"),
					Ql = yo(function(t, e) {
						return t - e
					}, 0);
				return dn.after = function(t, e) {
					if ("function" != typeof e) throw new ne(l);
					return t = Vs(t),
						function() {
							if (--t < 1) return e.apply(this, arguments)
						}
				}, dn.ary = $r, dn.assign = Ws, dn.assignIn = Ks, dn.assignInWith = Ys, dn.assignWith = qs, dn.at = Qs, dn.before = ts, dn.bind = es, dn.bindAll = Al, dn.bindKey = is, dn.castArray = function() {
					if (!arguments.length) return [];
					var t = arguments[0];
					return ys(t) ? t : [t]
				}, dn.chain = Br, dn.chunk = function(t, e, n) {
					e = (n ? Yo(t, e, n) : e === o) ? 1 : zi(Vs(e), 0);
					var a = null == t ? 0 : t.length;
					if (!a || e < 1) return [];
					for (var r = 0, s = 0, l = i(ki(a / e)); r < a;) l[s++] = Pa(t, r, r += e);
					return l
				}, dn.compact = function(t) {
					for (var e = -1, i = null == t ? 0 : t.length, n = 0, a = []; ++e < i;) {
						var o = t[e];
						o && (a[n++] = o)
					}
					return a
				}, dn.concat = function() {
					var t = arguments.length;
					if (!t) return [];
					for (var e = i(t - 1), n = arguments[0], a = t; a--;) e[a - 1] = arguments[a];
					return ti(ys(n) ? io(n) : [n], zn(e, 1))
				}, dn.cond = function(t) {
					var e = null == t ? 0 : t.length,
						i = Ro();
					return t = e ? $e(t, function(t) {
						if ("function" != typeof t[1]) throw new ne(l);
						return [i(t[0]), t[1]]
					}) : [], Ia(function(i) {
						for (var n = -1; ++n < e;) {
							var a = t[n];
							if (We(a[0], this, i)) return We(a[1], this, i)
						}
					})
				}, dn.conforms = function(t) {
					return function(t) {
						var e = nl(t);
						return function(i) {
							return Rn(i, t, e)
						}
					}(Nn(t, p))
				}, dn.constant = Cl, dn.countBy = Fr, dn.create = function(t, e) {
					var i = gn(t);
					return null == e ? i : Ln(i, e)
				}, dn.curry = function t(e, i, n) {
					var a = Ao(e, E, o, o, o, o, o, i = n ? o : i);
					return a.placeholder = t.placeholder, a
				}, dn.curryRight = function t(e, i, n) {
					var a = Ao(e, b, o, o, o, o, o, i = n ? o : i);
					return a.placeholder = t.placeholder, a
				}, dn.debounce = ns, dn.defaults = Xs, dn.defaultsDeep = Zs, dn.defer = as, dn.delay = os, dn.difference = pr, dn.differenceBy = dr, dn.differenceWith = gr, dn.drop = function(t, e, i) {
					var n = null == t ? 0 : t.length;
					return n ? Pa(t, (e = i || e === o ? 1 : Vs(e)) < 0 ? 0 : e, n) : []
				}, dn.dropRight = function(t, e, i) {
					var n = null == t ? 0 : t.length;
					return n ? Pa(t, 0, (e = n - (e = i || e === o ? 1 : Vs(e))) < 0 ? 0 : e) : []
				}, dn.dropRightWhile = function(t, e) {
					return t && t.length ? Va(t, Ro(e, 3), !0, !0) : []
				}, dn.dropWhile = function(t, e) {
					return t && t.length ? Va(t, Ro(e, 3), !0) : []
				}, dn.fill = function(t, e, i, n) {
					var a = null == t ? 0 : t.length;
					return a ? (i && "number" != typeof i && Yo(t, e, i) && (i = 0, n = a), function(t, e, i, n) {
						var a = t.length;
						for ((i = Vs(i)) < 0 && (i = -i > a ? 0 : a + i), (n = n === o || n > a ? a : Vs(n)) < 0 && (n += a), n = i > n ? 0 : Fs(n); i < n;) t[i++] = e;
						return t
					}(t, e, i, n)) : []
				}, dn.filter = function(t, e) {
					return (ys(t) ? Xe : Hn)(t, Ro(e, 3))
				}, dn.flatMap = function(t, e) {
					return zn(Qr(t, e), 1)
				}, dn.flatMapDeep = function(t, e) {
					return zn(Qr(t, e), M)
				}, dn.flatMapDepth = function(t, e, i) {
					return i = i === o ? 1 : Vs(i), zn(Qr(t, e), i)
				}, dn.flatten = mr, dn.flattenDeep = function(t) {
					return null != t && t.length ? zn(t, M) : []
				}, dn.flattenDepth = function(t, e) {
					return null != t && t.length ? zn(t, e = e === o ? 1 : Vs(e)) : []
				}, dn.flip = function(t) {
					return Ao(t, C)
				}, dn.flow = Sl, dn.flowRight = wl, dn.fromPairs = function(t) {
					for (var e = -1, i = null == t ? 0 : t.length, n = {}; ++e < i;) {
						var a = t[e];
						n[a[0]] = a[1]
					}
					return n
				}, dn.functions = function(t) {
					return null == t ? [] : Qn(t, nl(t))
				}, dn.functionsIn = function(t) {
					return null == t ? [] : Qn(t, al(t))
				}, dn.groupBy = Kr, dn.initial = function(t) {
					return null != t && t.length ? Pa(t, 0, -1) : []
				}, dn.intersection = vr, dn.intersectionBy = Er, dn.intersectionWith = br, dn.invert = tl, dn.invertBy = el, dn.invokeMap = Yr, dn.iteratee = Pl, dn.keyBy = qr, dn.keys = nl, dn.keysIn = al, dn.map = Qr, dn.mapKeys = function(t, e) {
					var i = {};
					return e = Ro(e, 3), Yn(t, function(t, n, a) {
						xn(i, e(t, n, a), t)
					}), i
				}, dn.mapValues = function(t, e) {
					var i = {};
					return e = Ro(e, 3), Yn(t, function(t, n, a) {
						xn(i, n, e(t, n, a))
					}), i
				}, dn.matches = function(t) {
					return da(Nn(t, p))
				}, dn.matchesProperty = function(t, e) {
					return ga(t, Nn(e, p))
				}, dn.memoize = rs, dn.merge = ol, dn.mergeWith = rl, dn.method = Ll, dn.methodOf = xl, dn.mixin = Ml, dn.negate = ss, dn.nthArg = function(t) {
					return t = Vs(t), Ia(function(e) {
						return ya(e, t)
					})
				}, dn.omit = sl, dn.omitBy = function(t, e) {
					return cl(t, ss(Ro(e)))
				}, dn.once = function(t) {
					return ts(2, t)
				}, dn.orderBy = function(t, e, i, n) {
					return null == t ? [] : (ys(e) || (e = null == e ? [] : [e]), ys(i = n ? o : i) || (i = null == i ? [] : [i]), ma(t, e, i))
				}, dn.over = Nl, dn.overArgs = ls, dn.overEvery = Rl, dn.overSome = kl, dn.partial = cs, dn.partialRight = hs, dn.partition = Xr, dn.pick = ll, dn.pickBy = cl, dn.property = Bl, dn.propertyOf = function(t) {
					return function(e) {
						return null == t ? o : Xn(t, e)
					}
				}, dn.pull = Ir, dn.pullAll = Tr, dn.pullAllBy = function(t, e, i) {
					return t && t.length && e && e.length ? va(t, e, Ro(i, 2)) : t
				}, dn.pullAllWith = function(t, e, i) {
					return t && t.length && e && e.length ? va(t, e, o, i) : t
				}, dn.pullAt = Ar, dn.range = Gl, dn.rangeRight = Vl, dn.rearg = us, dn.reject = function(t, e) {
					return (ys(t) ? Xe : Hn)(t, ss(Ro(e, 3)))
				}, dn.remove = function(t, e) {
					var i = [];
					if (!t || !t.length) return i;
					var n = -1,
						a = [],
						o = t.length;
					for (e = Ro(e, 3); ++n < o;) {
						var r = t[n];
						e(r, n, t) && (i.push(r), a.push(n))
					}
					return Ea(t, a), i
				}, dn.rest = function(t, e) {
					if ("function" != typeof t) throw new ne(l);
					return Ia(t, e = e === o ? e : Vs(e))
				}, dn.reverse = Cr, dn.sampleSize = function(t, e, i) {
					return e = (i ? Yo(t, e, i) : e === o) ? 1 : Vs(e), (ys(t) ? An : Aa)(t, e)
				}, dn.set = function(t, e, i) {
					return null == t ? t : Ca(t, e, i)
				}, dn.setWith = function(t, e, i, n) {
					return n = "function" == typeof n ? n : o, null == t ? t : Ca(t, e, i, n)
				}, dn.shuffle = function(t) {
					return (ys(t) ? Cn : Da)(t)
				}, dn.slice = function(t, e, i) {
					var n = null == t ? 0 : t.length;
					return n ? (i && "number" != typeof i && Yo(t, e, i) ? (e = 0, i = n) : (e = null == e ? 0 : Vs(e), i = i === o ? n : Vs(i)), Pa(t, e, i)) : []
				}, dn.sortBy = Zr, dn.sortedUniq = function(t) {
					return t && t.length ? Ua(t) : []
				}, dn.sortedUniqBy = function(t, e) {
					return t && t.length ? Ua(t, Ro(e, 2)) : []
				}, dn.split = function(t, e, i) {
					return i && "number" != typeof i && Yo(t, e, i) && (e = i = o), (i = i === o ? k : i >>> 0) ? (t = zs(t)) && ("string" == typeof e || null != e && !Ls(e)) && !(e = Ra(e)) && Ti(t) ? qa(xi(t), 0, i) : t.split(e, i) : []
				}, dn.spread = function(t, e) {
					if ("function" != typeof t) throw new ne(l);
					return e = null == e ? 0 : zi(Vs(e), 0), Ia(function(i) {
						var n = i[e],
							a = qa(i, 0, e);
						return n && ti(a, n), We(t, this, a)
					})
				}, dn.tail = function(t) {
					var e = null == t ? 0 : t.length;
					return e ? Pa(t, 1, e) : []
				}, dn.take = function(t, e, i) {
					return t && t.length ? Pa(t, 0, (e = i || e === o ? 1 : Vs(e)) < 0 ? 0 : e) : []
				}, dn.takeRight = function(t, e, i) {
					var n = null == t ? 0 : t.length;
					return n ? Pa(t, (e = n - (e = i || e === o ? 1 : Vs(e))) < 0 ? 0 : e, n) : []
				}, dn.takeRightWhile = function(t, e) {
					return t && t.length ? Va(t, Ro(e, 3), !1, !0) : []
				}, dn.takeWhile = function(t, e) {
					return t && t.length ? Va(t, Ro(e, 3)) : []
				}, dn.tap = function(t, e) {
					return e(t), t
				}, dn.throttle = function(t, e, i) {
					var n = !0,
						a = !0;
					if ("function" != typeof t) throw new ne(l);
					return Cs(i) && (n = "leading" in i ? !!i.leading : n, a = "trailing" in i ? !!i.trailing : a), ns(t, e, {
						leading: n,
						maxWait: e,
						trailing: a
					})
				}, dn.thru = Gr, dn.toArray = Bs, dn.toPairs = hl, dn.toPairsIn = ul, dn.toPath = function(t) {
					return ys(t) ? $e(t, cr) : Us(t) ? [t] : io(lr(zs(t)))
				}, dn.toPlainObject = Hs, dn.transform = function(t, e, i) {
					var n = ys(t),
						a = n || Es(t) || Ns(t);
					if (e = Ro(e, 4), null == i) {
						var o = t && t.constructor;
						i = a ? n ? new o : [] : Cs(t) && Is(o) ? gn(we(t)) : {}
					}
					return (a ? Ye : Yn)(t, function(t, n, a) {
						return e(i, t, n, a)
					}), i
				}, dn.unary = function(t) {
					return $r(t, 1)
				}, dn.union = Sr, dn.unionBy = wr, dn.unionWith = Dr, dn.uniq = function(t) {
					return t && t.length ? ka(t) : []
				}, dn.uniqBy = function(t, e) {
					return t && t.length ? ka(t, Ro(e, 2)) : []
				}, dn.uniqWith = function(t, e) {
					return e = "function" == typeof e ? e : o, t && t.length ? ka(t, o, e) : []
				}, dn.unset = function(t, e) {
					return null == t || Ba(t, e)
				}, dn.unzip = Pr, dn.unzipWith = Lr, dn.update = function(t, e, i) {
					return null == t ? t : Ga(t, e, Wa(i))
				}, dn.updateWith = function(t, e, i, n) {
					return n = "function" == typeof n ? n : o, null == t ? t : Ga(t, e, Wa(i), n)
				}, dn.values = pl, dn.valuesIn = function(t) {
					return null == t ? [] : mi(t, al(t))
				}, dn.without = xr, dn.words = Il, dn.wrap = function(t, e) {
					return cs(Wa(e), t)
				}, dn.xor = Mr, dn.xorBy = Ur, dn.xorWith = Nr, dn.zip = Rr, dn.zipObject = function(t, e) {
					return Ha(t || [], e || [], wn)
				}, dn.zipObjectDeep = function(t, e) {
					return Ha(t || [], e || [], Ca)
				}, dn.zipWith = kr, dn.entries = hl, dn.entriesIn = ul, dn.extend = Ks, dn.extendWith = Ys, Ml(dn, dn), dn.add = Hl, dn.attempt = Tl, dn.camelCase = dl, dn.capitalize = gl, dn.ceil = zl, dn.clamp = function(t, e, i) {
					return i === o && (i = e, e = o), i !== o && (i = (i = js(i)) == i ? i : 0), e !== o && (e = (e = js(e)) == e ? e : 0), Un(js(t), e, i)
				}, dn.clone = function(t) {
					return Nn(t, g)
				}, dn.cloneDeep = function(t) {
					return Nn(t, p | g)
				}, dn.cloneDeepWith = function(t, e) {
					return Nn(t, p | g, e = "function" == typeof e ? e : o)
				}, dn.cloneWith = function(t, e) {
					return Nn(t, g, e = "function" == typeof e ? e : o)
				}, dn.conformsTo = function(t, e) {
					return null == e || Rn(t, e, nl(e))
				}, dn.deburr = fl, dn.defaultTo = function(t, e) {
					return null == t || t != t ? e : t
				}, dn.divide = Wl, dn.endsWith = function(t, e, i) {
					t = zs(t), e = Ra(e);
					var n = t.length,
						a = i = i === o ? n : Un(Vs(i), 0, n);
					return (i -= e.length) >= 0 && t.slice(i, a) == e
				}, dn.eq = ps, dn.escape = function(t) {
					return (t = zs(t)) && At.test(t) ? t.replace(It, Oi) : t
				}, dn.escapeRegExp = function(t) {
					return (t = zs(t)) && Mt.test(t) ? t.replace(xt, "\\$&") : t
				}, dn.every = function(t, e, i) {
					var n = ys(t) ? Qe : Fn;
					return i && Yo(t, e, i) && (e = o), n(t, Ro(e, 3))
				}, dn.find = jr, dn.findIndex = fr, dn.findKey = function(t, e) {
					return oi(t, Ro(e, 3), Yn)
				}, dn.findLast = Hr, dn.findLastIndex = yr, dn.findLastKey = function(t, e) {
					return oi(t, Ro(e, 3), qn)
				}, dn.floor = Kl, dn.forEach = zr, dn.forEachRight = Wr, dn.forIn = function(t, e) {
					return null == t ? t : Wn(t, Ro(e, 3), al)
				}, dn.forInRight = function(t, e) {
					return null == t ? t : Kn(t, Ro(e, 3), al)
				}, dn.forOwn = function(t, e) {
					return t && Yn(t, Ro(e, 3))
				}, dn.forOwnRight = function(t, e) {
					return t && qn(t, Ro(e, 3))
				}, dn.get = Js, dn.gt = ds, dn.gte = gs, dn.has = function(t, e) {
					return null != t && Ho(t, e, ta)
				}, dn.hasIn = $s, dn.head = _r, dn.identity = Dl, dn.includes = function(t, e, i, n) {
					t = _s(t) ? t : pl(t), i = i && !n ? Vs(i) : 0;
					var a = t.length;
					return i < 0 && (i = zi(a + i, 0)), Ms(t) ? i <= a && t.indexOf(e, i) > -1 : !!a && si(t, e, i) > -1
				}, dn.indexOf = function(t, e, i) {
					var n = null == t ? 0 : t.length;
					if (!n) return -1;
					var a = null == i ? 0 : Vs(i);
					return a < 0 && (a = zi(n + a, 0)), si(t, e, a)
				}, dn.inRange = function(t, e, i) {
					return e = Gs(e), i === o ? (i = e, e = 0) : i = Gs(i),
						function(t, e, i) {
							return t >= Wi(e, i) && t < zi(e, i)
						}(t = js(t), e, i)
				}, dn.invoke = il, dn.isArguments = fs, dn.isArray = ys, dn.isArrayBuffer = ms, dn.isArrayLike = _s, dn.isArrayLikeObject = vs, dn.isBoolean = function(t) {
					return !0 === t || !1 === t || Ss(t) && Jn(t) == z
				}, dn.isBuffer = Es, dn.isDate = bs, dn.isElement = function(t) {
					return Ss(t) && 1 === t.nodeType && !Ps(t)
				}, dn.isEmpty = function(t) {
					if (null == t) return !0;
					if (_s(t) && (ys(t) || "string" == typeof t || "function" == typeof t.splice || Es(t) || Ns(t) || fs(t))) return !t.length;
					var e = jo(t);
					if (e == X || e == it) return !t.size;
					if (Zo(t)) return !ca(t).length;
					for (var i in t)
						if (ce.call(t, i)) return !1;
					return !0
				}, dn.isEqual = function(t, e) {
					return oa(t, e)
				}, dn.isEqualWith = function(t, e, i) {
					var n = (i = "function" == typeof i ? i : o) ? i(t, e) : o;
					return n === o ? oa(t, e, o, i) : !!n
				}, dn.isError = Os, dn.isFinite = function(t) {
					return "number" == typeof t && Fi(t)
				}, dn.isFunction = Is, dn.isInteger = Ts, dn.isLength = As, dn.isMap = ws, dn.isMatch = function(t, e) {
					return t === e || ra(t, e, Bo(e))
				}, dn.isMatchWith = function(t, e, i) {
					return i = "function" == typeof i ? i : o, ra(t, e, Bo(e), i)
				}, dn.isNaN = function(t) {
					return Ds(t) && t != +t
				}, dn.isNative = function(t) {
					if (Xo(t)) throw new a(s);
					return sa(t)
				}, dn.isNil = function(t) {
					return null == t
				}, dn.isNull = function(t) {
					return null === t
				}, dn.isNumber = Ds, dn.isObject = Cs, dn.isObjectLike = Ss, dn.isPlainObject = Ps, dn.isRegExp = Ls, dn.isSafeInteger = function(t) {
					return Ts(t) && t >= -U && t <= U
				}, dn.isSet = xs, dn.isString = Ms, dn.isSymbol = Us, dn.isTypedArray = Ns, dn.isUndefined = function(t) {
					return t === o
				}, dn.isWeakMap = function(t) {
					return Ss(t) && jo(t) == rt
				}, dn.isWeakSet = function(t) {
					return Ss(t) && Jn(t) == st
				}, dn.join = function(t, e) {
					return null == t ? "" : ji.call(t, e)
				}, dn.kebabCase = yl, dn.last = Or, dn.lastIndexOf = function(t, e, i) {
					var n = null == t ? 0 : t.length;
					if (!n) return -1;
					var a = n;
					return i !== o && (a = (a = Vs(i)) < 0 ? zi(n + a, 0) : Wi(a, n - 1)), e == e ? function(t, e, i) {
						for (var n = i + 1; n--;)
							if (t[n] === e) return n;
						return n
					}(t, e, a) : ri(t, ci, a, !0)
				}, dn.lowerCase = ml, dn.lowerFirst = _l, dn.lt = Rs, dn.lte = ks, dn.max = function(t) {
					return t && t.length ? jn(t, Dl, $n) : o
				}, dn.maxBy = function(t, e) {
					return t && t.length ? jn(t, Ro(e, 2), $n) : o
				}, dn.mean = function(t) {
					return hi(t, Dl)
				}, dn.meanBy = function(t, e) {
					return hi(t, Ro(e, 2))
				}, dn.min = function(t) {
					return t && t.length ? jn(t, Dl, ua) : o
				}, dn.minBy = function(t, e) {
					return t && t.length ? jn(t, Ro(e, 2), ua) : o
				}, dn.stubArray = Fl, dn.stubFalse = jl, dn.stubObject = function() {
					return {}
				}, dn.stubString = function() {
					return ""
				}, dn.stubTrue = function() {
					return !0
				}, dn.multiply = Yl, dn.nth = function(t, e) {
					return t && t.length ? ya(t, Vs(e)) : o
				}, dn.noConflict = function() {
					return Me._ === this && (Me._ = ge), this
				}, dn.noop = Ul, dn.now = Jr, dn.pad = function(t, e, i) {
					t = zs(t);
					var n = (e = Vs(e)) ? Li(t) : 0;
					if (!e || n >= e) return t;
					var a = (e - n) / 2;
					return _o(Bi(a), i) + t + _o(ki(a), i)
				}, dn.padEnd = function(t, e, i) {
					t = zs(t);
					var n = (e = Vs(e)) ? Li(t) : 0;
					return e && n < e ? t + _o(e - n, i) : t
				}, dn.padStart = function(t, e, i) {
					t = zs(t);
					var n = (e = Vs(e)) ? Li(t) : 0;
					return e && n < e ? _o(e - n, i) + t : t
				}, dn.parseInt = function(t, e, i) {
					return i || null == e ? e = 0 : e && (e = +e), Yi(zs(t).replace(Nt, ""), e || 0)
				}, dn.random = function(t, e, i) {
					if (i && "boolean" != typeof i && Yo(t, e, i) && (e = i = o), i === o && ("boolean" == typeof e ? (i = e, e = o) : "boolean" == typeof t && (i = t, t = o)), t === o && e === o ? (t = 0, e = 1) : (t = Gs(t), e === o ? (e = t, t = 0) : e = Gs(e)), t > e) {
						var n = t;
						t = e, e = n
					}
					if (i || t % 1 || e % 1) {
						var a = qi();
						return Wi(t + a * (e - t + De("1e-" + ((a + "").length - 1))), e)
					}
					return ba(t, e)
				}, dn.reduce = function(t, e, i) {
					var n = ys(t) ? ei : di,
						a = arguments.length < 3;
					return n(t, Ro(e, 4), i, a, Gn)
				}, dn.reduceRight = function(t, e, i) {
					var n = ys(t) ? ii : di,
						a = arguments.length < 3;
					return n(t, Ro(e, 4), i, a, Vn)
				}, dn.repeat = function(t, e, i) {
					return e = (i ? Yo(t, e, i) : e === o) ? 1 : Vs(e), Oa(zs(t), e)
				}, dn.replace = function() {
					var t = arguments,
						e = zs(t[0]);
					return t.length < 3 ? e : e.replace(t[1], t[2])
				}, dn.result = function(t, e, i) {
					var n = -1,
						a = (e = Ka(e, t)).length;
					for (a || (a = 1, t = o); ++n < a;) {
						var r = null == t ? o : t[cr(e[n])];
						r === o && (n = a, r = i), t = Is(r) ? r.call(t) : r
					}
					return t
				}, dn.round = ql, dn.runInContext = t, dn.sample = function(t) {
					return (ys(t) ? Tn : Ta)(t)
				}, dn.size = function(t) {
					if (null == t) return 0;
					if (_s(t)) return Ms(t) ? Li(t) : t.length;
					var e = jo(t);
					return e == X || e == it ? t.size : ca(t).length
				}, dn.snakeCase = vl, dn.some = function(t, e, i) {
					var n = ys(t) ? ni : La;
					return i && Yo(t, e, i) && (e = o), n(t, Ro(e, 3))
				}, dn.sortedIndex = function(t, e) {
					return xa(t, e)
				}, dn.sortedIndexBy = function(t, e, i) {
					return Ma(t, e, Ro(i, 2))
				}, dn.sortedIndexOf = function(t, e) {
					var i = null == t ? 0 : t.length;
					if (i) {
						var n = xa(t, e);
						if (n < i && ps(t[n], e)) return n
					}
					return -1
				}, dn.sortedLastIndex = function(t, e) {
					return xa(t, e, !0)
				}, dn.sortedLastIndexBy = function(t, e, i) {
					return Ma(t, e, Ro(i, 2), !0)
				}, dn.sortedLastIndexOf = function(t, e) {
					if (null != t && t.length) {
						var i = xa(t, e, !0) - 1;
						if (ps(t[i], e)) return i
					}
					return -1
				}, dn.startCase = El, dn.startsWith = function(t, e, i) {
					return t = zs(t), i = null == i ? 0 : Un(Vs(i), 0, t.length), e = Ra(e), t.slice(i, i + e.length) == e
				}, dn.subtract = Ql, dn.sum = function(t) {
					return t && t.length ? gi(t, Dl) : 0
				}, dn.sumBy = function(t, e) {
					return t && t.length ? gi(t, Ro(e, 2)) : 0
				}, dn.template = function(t, e, i) {
					var n = dn.templateSettings;
					i && Yo(t, e, i) && (e = o), t = zs(t), e = Ys({}, e, n, Co);
					var a, r, s = Ys({}, e.imports, n.imports, Co),
						l = nl(s),
						c = mi(s, l),
						h = 0,
						u = e.interpolate || Xt,
						p = "__p += '",
						d = ee((e.escape || Xt).source + "|" + u.source + "|" + (u === wt ? jt : Xt).source + "|" + (e.evaluate || Xt).source + "|$", "g"),
						g = "//# sourceURL=" + ("sourceURL" in e ? e.sourceURL : "lodash.templateSources[" + ++Ae + "]") + "\n";
					t.replace(d, function(e, i, n, o, s, l) {
						return n || (n = o), p += t.slice(h, l).replace(Zt, Ii), i && (a = !0, p += "' +\n__e(" + i + ") +\n'"), s && (r = !0, p += "';\n" + s + ";\n__p += '"), n && (p += "' +\n((__t = (" + n + ")) == null ? '' : __t) +\n'"), h = l + e.length, e
					}), p += "';\n";
					var f = e.variable;
					f || (p = "with (obj) {\n" + p + "\n}\n"), p = (r ? p.replace(vt, "") : p).replace(Et, "$1").replace(bt, "$1;"), p = "function(" + (f || "obj") + ") {\n" + (f ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (a ? ", __e = _.escape" : "") + (r ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + p + "return __p\n}";
					var y = Tl(function() {
						return Jt(l, g + "return " + p).apply(o, c)
					});
					if (y.source = p, Os(y)) throw y;
					return y
				}, dn.times = function(t, e) {
					if ((t = Vs(t)) < 1 || t > U) return [];
					var i = k,
						n = Wi(t, k);
					e = Ro(e), t -= k;
					for (var a = fi(n, e); ++i < t;) e(i);
					return a
				}, dn.toFinite = Gs, dn.toInteger = Vs, dn.toLength = Fs, dn.toLower = function(t) {
					return zs(t).toLowerCase()
				}, dn.toNumber = js, dn.toSafeInteger = function(t) {
					return t ? Un(Vs(t), -U, U) : 0 === t ? t : 0
				}, dn.toString = zs, dn.toUpper = function(t) {
					return zs(t).toUpperCase()
				}, dn.trim = function(t, e, i) {
					if ((t = zs(t)) && (i || e === o)) return t.replace(Ut, "");
					if (!t || !(e = Ra(e))) return t;
					var n = xi(t),
						a = xi(e);
					return qa(n, vi(n, a), Ei(n, a) + 1).join("")
				}, dn.trimEnd = function(t, e, i) {
					if ((t = zs(t)) && (i || e === o)) return t.replace(Rt, "");
					if (!t || !(e = Ra(e))) return t;
					var n = xi(t);
					return qa(n, 0, Ei(n, xi(e)) + 1).join("")
				}, dn.trimStart = function(t, e, i) {
					if ((t = zs(t)) && (i || e === o)) return t.replace(Nt, "");
					if (!t || !(e = Ra(e))) return t;
					var n = xi(t);
					return qa(n, vi(n, xi(e))).join("")
				}, dn.truncate = function(t, e) {
					var i = S,
						n = w;
					if (Cs(e)) {
						var a = "separator" in e ? e.separator : a;
						i = "length" in e ? Vs(e.length) : i, n = "omission" in e ? Ra(e.omission) : n
					}
					var r = (t = zs(t)).length;
					if (Ti(t)) {
						var s = xi(t);
						r = s.length
					}
					if (i >= r) return t;
					var l = i - Li(n);
					if (l < 1) return n;
					var c = s ? qa(s, 0, l).join("") : t.slice(0, l);
					if (a === o) return c + n;
					if (s && (l += c.length - l), Ls(a)) {
						if (t.slice(l).search(a)) {
							var h, u = c;
							for (a.global || (a = ee(a.source, zs(Ht.exec(a)) + "g")), a.lastIndex = 0; h = a.exec(u);) var p = h.index;
							c = c.slice(0, p === o ? l : p)
						}
					} else if (t.indexOf(Ra(a), l) != l) {
						var d = c.lastIndexOf(a);
						d > -1 && (c = c.slice(0, d))
					}
					return c + n
				}, dn.unescape = function(t) {
					return (t = zs(t)) && Tt.test(t) ? t.replace(Ot, Mi) : t
				}, dn.uniqueId = function(t) {
					var e = ++he;
					return zs(t) + e
				}, dn.upperCase = bl, dn.upperFirst = Ol, dn.each = zr, dn.eachRight = Wr, dn.first = _r, Ml(dn, function() {
					var t = {};
					return Yn(dn, function(e, i) {
						ce.call(dn.prototype, i) || (t[i] = e)
					}), t
				}(), {
					chain: !1
				}), dn.VERSION = "4.17.10", Ye(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(t) {
					dn[t].placeholder = dn
				}), Ye(["drop", "take"], function(t, e) {
					mn.prototype[t] = function(i) {
						i = i === o ? 1 : zi(Vs(i), 0);
						var n = this.__filtered__ && !e ? new mn(this) : this.clone();
						return n.__filtered__ ? n.__takeCount__ = Wi(i, n.__takeCount__) : n.__views__.push({
							size: Wi(i, k),
							type: t + (n.__dir__ < 0 ? "Right" : "")
						}), n
					}, mn.prototype[t + "Right"] = function(e) {
						return this.reverse()[t](e).reverse()
					}
				}), Ye(["filter", "map", "takeWhile"], function(t, e) {
					var i = e + 1,
						n = i == L || 3 == i;
					mn.prototype[t] = function(t) {
						var e = this.clone();
						return e.__iteratees__.push({
							iteratee: Ro(t, 3),
							type: i
						}), e.__filtered__ = e.__filtered__ || n, e
					}
				}), Ye(["head", "last"], function(t, e) {
					var i = "take" + (e ? "Right" : "");
					mn.prototype[t] = function() {
						return this[i](1).value()[0]
					}
				}), Ye(["initial", "tail"], function(t, e) {
					var i = "drop" + (e ? "" : "Right");
					mn.prototype[t] = function() {
						return this.__filtered__ ? new mn(this) : this[i](1)
					}
				}), mn.prototype.compact = function() {
					return this.filter(Dl)
				}, mn.prototype.find = function(t) {
					return this.filter(t).head()
				}, mn.prototype.findLast = function(t) {
					return this.reverse().find(t)
				}, mn.prototype.invokeMap = Ia(function(t, e) {
					return "function" == typeof t ? new mn(this) : this.map(function(i) {
						return na(i, t, e)
					})
				}), mn.prototype.reject = function(t) {
					return this.filter(ss(Ro(t)))
				}, mn.prototype.slice = function(t, e) {
					t = Vs(t);
					var i = this;
					return i.__filtered__ && (t > 0 || e < 0) ? new mn(i) : (t < 0 ? i = i.takeRight(-t) : t && (i = i.drop(t)), e !== o && (i = (e = Vs(e)) < 0 ? i.dropRight(-e) : i.take(e - t)), i)
				}, mn.prototype.takeRightWhile = function(t) {
					return this.reverse().takeWhile(t).reverse()
				}, mn.prototype.toArray = function() {
					return this.take(k)
				}, Yn(mn.prototype, function(t, e) {
					var i = /^(?:filter|find|map|reject)|While$/.test(e),
						n = /^(?:head|last)$/.test(e),
						a = dn[n ? "take" + ("last" == e ? "Right" : "") : e],
						r = n || /^find/.test(e);
					a && (dn.prototype[e] = function() {
						var e = this.__wrapped__,
							s = n ? [1] : arguments,
							l = e instanceof mn,
							c = s[0],
							h = l || ys(e),
							u = function(t) {
								var e = a.apply(dn, ti([t], s));
								return n && p ? e[0] : e
							};
						h && i && "function" == typeof c && 1 != c.length && (l = h = !1);
						var p = this.__chain__,
							d = !!this.__actions__.length,
							g = r && !p,
							f = l && !d;
						if (!r && h) {
							e = f ? e : new mn(this);
							var y = t.apply(e, s);
							return y.__actions__.push({
								func: Gr,
								args: [u],
								thisArg: o
							}), new yn(y, p)
						}
						return g && f ? t.apply(this, s) : (y = this.thru(u), g ? n ? y.value()[0] : y.value() : y)
					})
				}), Ye(["pop", "push", "shift", "sort", "splice", "unshift"], function(t) {
					var e = ae[t],
						i = /^(?:push|sort|unshift)$/.test(t) ? "tap" : "thru",
						n = /^(?:pop|shift)$/.test(t);
					dn.prototype[t] = function() {
						var t = arguments;
						if (n && !this.__chain__) {
							var a = this.value();
							return e.apply(ys(a) ? a : [], t)
						}
						return this[i](function(i) {
							return e.apply(ys(i) ? i : [], t)
						})
					}
				}), Yn(mn.prototype, function(t, e) {
					var i = dn[e];
					if (i) {
						var n = i.name + "";
						(an[n] || (an[n] = [])).push({
							name: e,
							func: i
						})
					}
				}), an[go(o, _).name] = [{
					name: "wrapper",
					func: o
				}], mn.prototype.clone = function() {
					var t = new mn(this.__wrapped__);
					return t.__actions__ = io(this.__actions__), t.__dir__ = this.__dir__, t.__filtered__ = this.__filtered__, t.__iteratees__ = io(this.__iteratees__), t.__takeCount__ = this.__takeCount__, t.__views__ = io(this.__views__), t
				}, mn.prototype.reverse = function() {
					if (this.__filtered__) {
						var t = new mn(this);
						t.__dir__ = -1, t.__filtered__ = !0
					} else(t = this.clone()).__dir__ *= -1;
					return t
				}, mn.prototype.value = function() {
					var t = this.__wrapped__.value(),
						e = this.__dir__,
						i = ys(t),
						n = e < 0,
						a = i ? t.length : 0,
						o = function(t, e, i) {
							for (var n = -1, a = i.length; ++n < a;) {
								var o = i[n],
									r = o.size;
								switch (o.type) {
									case "drop":
										t += r;
										break;
									case "dropRight":
										e -= r;
										break;
									case "take":
										e = Wi(e, t + r);
										break;
									case "takeRight":
										t = zi(t, e - r)
								}
							}
							return {
								start: t,
								end: e
							}
						}(0, a, this.__views__),
						r = o.start,
						s = o.end,
						l = s - r,
						c = n ? s : r - 1,
						h = this.__iteratees__,
						u = h.length,
						p = 0,
						d = Wi(l, this.__takeCount__);
					if (!i || !n && a == l && d == l) return Fa(t, this.__actions__);
					var g = [];
					t: for (; l-- && p < d;) {
						for (var f = -1, y = t[c += e]; ++f < u;) {
							var m = h[f],
								_ = m.iteratee,
								v = m.type,
								E = _(y);
							if (v == x) y = E;
							else if (!E) {
								if (v == L) continue t;
								break t
							}
						}
						g[p++] = y
					}
					return g
				}, dn.prototype.at = Vr, dn.prototype.chain = function() {
					return Br(this)
				}, dn.prototype.commit = function() {
					return new yn(this.value(), this.__chain__)
				}, dn.prototype.next = function() {
					this.__values__ === o && (this.__values__ = Bs(this.value()));
					var t = this.__index__ >= this.__values__.length;
					return {
						done: t,
						value: t ? o : this.__values__[this.__index__++]
					}
				}, dn.prototype.plant = function(t) {
					for (var e, i = this; i instanceof fn;) {
						var n = ur(i);
						n.__index__ = 0, n.__values__ = o, e ? a.__wrapped__ = n : e = n;
						var a = n;
						i = i.__wrapped__
					}
					return a.__wrapped__ = t, e
				}, dn.prototype.reverse = function() {
					var t = this.__wrapped__;
					if (t instanceof mn) {
						var e = t;
						return this.__actions__.length && (e = new mn(this)), (e = e.reverse()).__actions__.push({
							func: Gr,
							args: [Cr],
							thisArg: o
						}), new yn(e, this.__chain__)
					}
					return this.thru(Cr)
				}, dn.prototype.toJSON = dn.prototype.valueOf = dn.prototype.value = function() {
					return Fa(this.__wrapped__, this.__actions__)
				}, dn.prototype.first = dn.prototype.head, ke && (dn.prototype[ke] = function() {
					return this
				}), dn
			}();
			Me._ = Ui, (a = function() {
				return Ui
			}.call(e, i, e, n)) === o || (n.exports = a)
		}).call(this)
	}).call(this, i(39), i(146)(t))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(0),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				if (t.prototype.setup.call(this, e, i, n), o.Util.isValid(this.monsterCoords)) {
					var r = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NO_CATCHING_MONSTER_ON_ISLAND");
					if (this.zone.hasDailyQuestExpired() || this.zone.isDailyQuestComplete()) this.defaultMonsterSetup(e, i, r);
					else if (0 === this.zone.getState("dailyQuest").questId)
						if (this.zone.getState("dailyQuest").questState[this.mapId]) this.defaultMonsterSetup(e, i, r);
						else
							for (var s = this.zone.getMonsterId(), l = Math.floor(this.game.seededRandom.frac(this.zone.getState("dailyQuest").dateId) * this.mapId) % this.monsterCoords.length, c = {
									randDir: !0,
									encounter: this.zone.getMonsterList(),
									catchOverrideMessage: r
								}, h = {
									randDir: !0,
									encounter: [s],
									catchOverrideMessage: r,
									highlight: !0,
									dailyQuest: this.mapId,
									zoneID: this.zone.ID,
									drops: [{
										type: "currency",
										ID: 9,
										N: 2
									}]
								}, u = !1, p = 0; p < this.monsterCoords.length; p++) p !== l ? (u = o.Util.isValid(this.mapMonsters[p + 1]) && o.Util.isValid(this.mapMonsters[p + 1].data) && o.Util.isValid(this.mapMonsters[p + 1].data.ID) && this.mapMonsters[p + 1].data.ID === s.ID, this.addMonster(e, i, p + 1, this.monsterCoords[p].x, this.monsterCoords[p].y, !1, c, !1, null, u)) : this.addMonster(e, i, p + 1, this.monsterCoords[p].x, this.monsterCoords[p].y, !0, h, !1, null, !0)
				}
			}, e.prototype.start = function(e, i, n) {
				t.prototype.start.call(this, e, i, n);
				var a = this.game.prodigy.event.create();
				if (o.Util.isValid(this.zone.getState("questCompleteDialogue")) && !1 === this.zone.getState("questCompleteDialogue") && this.zone.isDailyQuestComplete()) {
					var r = this.zone.ID.replace("_", "-");
					this.game.prodigy.network.sendAnalytics(r + "-quests", "quests-completed-MVP", "Events"), a.text(41, "noot"), a.function(this.zone.setState.bind(this.zone, "questCompleteDialogue", !0)), a.start()
				} else o.Util.isValid(this.zone.getState("questExpiredDialogue")) && !1 === this.zone.getState("questExpiredDialogue") && !1 === this.zone.getState("handedOverQuest") && this.zone.hasDailyQuestExpired() && (a.text(166, "noot"), a.function(this.zone.setState.bind(this.zone, "questExpiredDialogue", !0)), a.start())
			}, e.prototype.defaultMonsterSetup = function(t, e, i) {
				for (var n = {
						randDir: !0,
						encounter: this.zone.getMonsterList(),
						catchOverrideMessage: i
					}, a = 0; a < this.monsterCoords.length; a++) this.addMonster(t, e, a + 1, this.monsterCoords[a].x, this.monsterCoords[a].y, !1, n)
			}, e
		}(i(10).Map);
	e.ActivityZoneMap = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n, a = i(6),
		o = i(2),
		r = i(843),
		s = i(0);
	! function(t) {
		t[t.DEFAULT = 0] = "DEFAULT", t[t.ACHIEVEMENTS = 1] = "ACHIEVEMENTS", t[t.ITEMRARE = 2] = "ITEMRARE", t[t.MEMBERSHIP = 3] = "MEMBERSHIP", t[t.STOREPURCHASE = 4] = "STOREPURCHASE", t[t.MEMBERBOX = 5] = "MEMBERBOX", t[t.PARENTREWARD = 6] = "PARENTREWARD", t[t.ITEMGENERIC = 7] = "ITEMGENERIC", t[t.LAMPLIGHTPURCHASE = 8] = "LAMPLIGHTPURCHASE", t[t.ITEMWHEEL = 9] = "ITEMWHEEL"
	}(n = e.NotificationType || (e.NotificationType = {}));
	var l = function() {
		function t(t) {
			this.game = null, this.isPlaying = !1, this.currentNotification = null, this.notificationQueue = [], this.friendNotificationQueue = [], this.notificationSocialLogin = !1, this.dialogueOpen = !1, this.getFeedDate = null, this.notificationTimer = null, this.friendNotificationTimer = null, this.timerOverride = !1, this.fetchTimeout = 15e4, this.game = t, this.isPlaying = !1
		}
		return t.prototype.initNotificationTemplate = function(t, e, i) {
			void 0 === e && (e = []), void 0 === i && (i = {});
			var n = o.Items.getItem("gameFeed", t);
			n.metadata = i, s.Util.isValid(n) && this.createUserFeed(t, n, e)
		}, t.prototype.initMemberNotification = function() {
			var t = o.Items.getItem("gameFeed", n.MEMBERSHIP);
			t.metadata = {}, this.game.prodigy.network.getUserFeed(n.MEMBERSHIP.toString(), [this.game.prodigy.player.userID], 0, 1, null, this.shouldShareMembership.bind(this, t), null)
		}, t.prototype.shouldShareMembership = function(t, e) {
			var i = new Date("October 15, 2018 00:00:00"),
				a = this.game.prodigy.player;
			if (new Date(a.memberStartDate) > i) {
				var o = new Date(a.lastVisited);
				o = new Date(o.getFullYear(), o.getMonth(), o.getDate()), new Date(a.memberStartDate) <= o && (0 === e.events.length || a.memberStartDate > e.events[0].createdDate) && s.Util.isValid(t) && this.createUserFeed(n.MEMBERSHIP, t, [])
			}
		}, t.prototype.createUserFeed = function(t, e, i) {
			e.metadata.locationSelectionType = this.game.prodigy.player.locationSelectionType, this.game.prodigy.network.createUserFeed(t, e.metadata, i, e.data.autoShare.toString(), this.createUserFeedSuccess.bind(this, e), this.createUserFeedFailure.bind(this))
		}, t.prototype.createUserFeedSuccess = function(t, e) {
			var i = this.game.prodigy.friendsListNetworkHandler.friendsList.length,
				o = this.game.prodigy.friendsListNetworkHandler.classList.length;
			t.ID !== n.LAMPLIGHTPURCHASE && t.ID !== n.STOREPURCHASE || (this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_complete", {
				meta: JSON.stringify({
					name: "step3",
					type: "social_closing_loop",
					item: "item" === t.data.category ? e.jsonMapping[0] : null
				})
			}), this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("social_closing_loop", "step3", void 0, void 0, void 0, void 0, !0, !1, "item" === t.data.category ? e.jsonMapping[0] : void 0).broadcast()), this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_social", {
				meta: JSON.stringify({
					name: "game_social",
					type: "feed",
					action: "generated",
					source: "toast",
					num_friends: i,
					num_classmates: o,
					category: t.data.category
				})
			}), this.broadcastSocialFeedEvent("generated", e, "toast"), this.pushNotification({
				notificationConfig: t,
				notificationFeedObject: e,
				callback: this.shareNotification.bind(this, e, "toaster")
			})
		}, t.prototype.createUserFeedFailure = function() {
			this.isPlaying = !1, this.currentNotification = null
		}, t.prototype.pushNotification = function(t) {
			this.notificationQueue.length < 3 && !t.notificationConfig.data.autoShare && this.notificationQueue.unshift(t)
		}, t.prototype.startTimer = function(e) {
			void 0 === e && (e = !1), this.timerOverride && !e || (this.timerOverride = !1, this.stopTimer(), this.notificationTimer = this.game.time.events.add(t.toasterTimeout, this.playNextNotification, this))
		}, t.prototype.stopTimer = function() {
			this.game.time.events.remove(this.notificationTimer), this.notificationTimer = null
		}, t.prototype.playNextNotification = function() {
			this.isPlaying || 0 !== this.game.prodigy.open.menus.length || 0 !== this.game.prodigy.open.renderMenus.length || null !== this.game.prodigy.open.chatMenu || this.dialogueOpen || (this.notificationQueue.length > 0 ? this.playNotification(this.notificationQueue.shift()) : this.friendNotificationQueue.length > 0 && this.playNotification(this.friendNotificationQueue.shift())), this.startTimer()
		}, t.prototype.clearNotifications = function(t) {
			void 0 === t && (t = !1), s.Util.isValid(this.currentNotification) && (this.currentNotification.forceClose(), this.notificationPlayed()), s.Util.isValid(this.notificationTimer) && (this.timerOverride = t, this.stopTimer())
		}, t.prototype.playNotification = function(t) {
			!this.isPlaying && this.game.prodigy.player.hasCompletedTutorial() ? (this.isPlaying = !0, this.currentNotification = new r.NotificationCell(this.game, this.menuLayer, t, t.callback, null), this.currentNotification.preprocess()) : this.pushNotification(t)
		}, t.prototype.notificationPlayed = function() {
			this.isPlaying = !1, this.currentNotification = null
		}, t.prototype.startFriendTimer = function() {
			this.stopFriendTimer(), this.friendNotificationTimer = this.game.time.events.add(this.fetchTimeout, this.getSocialNotifications, this, 3)
		}, t.prototype.stopFriendTimer = function() {
			this.game.time.events.remove(this.friendNotificationTimer), this.friendNotificationTimer = null
		}, t.prototype.getSocialNotifications = function(t) {
			var e = s.Util.getFriendAndClassmateIds(this.game);
			e.length > 0 && this.notificationQueue.length < 3 && (s.Util.isValid(this.getFeedDate) || (this.getFeedDate = new Date), this.game.prodigy.network.getUserFeed("", e, 0, t - this.notificationQueue.length, this.getFeedDate.toISOString(), this.getUserFeedSuccess.bind(this), this.getUserFeedFailure.bind(this)))
		}, t.prototype.getUserFeedSuccess = function(t) {
			var e = s.Util.isValid(t.events) ? t.events : [];
			t.fetchTimeout > 0 && (this.fetchTimeout = 1e3 * t.fetchTimeout);
			for (var i = 0; i < e.length; i++) {
				var n = {
					notificationConfig: o.Items.getItem("gameFeed", t.events[i].feedTypeID),
					notificationFeedObject: t.events[i],
					callback: this.likeNotification.bind(this, e[i], "toast")
				};
				n.notificationConfig.metadata = {
					userID: e[i].userID,
					isLike: !0
				}, this.friendNotificationQueue.push(n), this.getFeedDate = new Date
			}
			s.Util.getFriendAndClassmateIds(this.game).length > 0 && this.startFriendTimer()
		}, t.prototype.getUserFeedFailure = function() {
			s.Util.getFriendAndClassmateIds(this.game).length > 0 && this.startFriendTimer()
		}, t.prototype.playNootDialogue = function(t) {
			void 0 === t && (t = !1);
			var e = [{
					s: 0,
					d: 1
				}, {
					s: 6,
					d: 1
				}, {
					s: 16,
					d: 1
				}, {
					s: 4,
					d: 1
				}],
				i = t ? e.length : e.length - 2,
				n = Math.floor(Math.random() * i);
			this.game.prodigy.load.assets(["voice-10-85"], this.game.prodigy.audio.playVoice.bind(this.game.prodigy.audio, "voice-10-85", null, e[n].s, e[n].d))
		}, t.prototype.shareNotification = function(t, e) {
			this.playNootDialogue(!0), this.shareUserFeed(t, e), this.broadcastSocialFeedEvent("share", t, e)
		}, t.prototype.shareUserFeed = function(t, e) {
			this.game.prodigy.network.shareUserFeed(t.id, this.shareUserFeedSuccess.bind(this, t, e), null)
		}, t.prototype.shareUserFeedSuccess = function(t, e) {
			var i = o.Items.getItem("gameFeed", t.feedTypeID);
			t.feedTypeID !== n.LAMPLIGHTPURCHASE && t.feedTypeID !== n.STOREPURCHASE || (this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_complete", {
				meta: JSON.stringify({
					name: "step4",
					type: "social_closing_loop",
					item: "item" === i.data.category ? t.mapping[0] : null
				})
			}), this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("social_closing_loop", "step4", void 0, void 0, void 0, void 0, !0, !1, "item" === i.data.category ? t.mapping[0] : void 0).broadcast());
			var r = this.game.prodigy.friendsListNetworkHandler.friendsList.length,
				s = this.game.prodigy.friendsListNetworkHandler.classList.length;
			this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_social", {
				meta: JSON.stringify({
					name: "game_social",
					type: "feed",
					action: "share",
					source: e,
					num_friends: r,
					num_classmates: s,
					category: i.data.category
				})
			})
		}, t.prototype.deleteNotification = function(t, e) {
			this.deleteUserFeed(t, e)
		}, t.prototype.deleteUserFeed = function(t, e) {
			this.game.prodigy.network.deleteUserFeed(t.id, this.deleteUserFeedSuccess.bind(this, t, e), null)
		}, t.prototype.deleteUserFeedSuccess = function(t, e) {
			var i = o.Items.getItem("gameFeed", t.feedTypeID);
			this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_social", {
				meta: JSON.stringify({
					name: "game_social",
					type: "feed-delete",
					action: "share",
					source: e,
					num_friends: this.game.prodigy.friendsListNetworkHandler.friendsList.length,
					num_classmates: this.game.prodigy.friendsListNetworkHandler.classList.length,
					category: i.data.category
				})
			})
		}, t.prototype.likeNotification = function(t, e) {
			this.playNootDialogue(), this.likeUserFeed(t, e), this.broadcastSocialFeedEvent("like", t, e)
		}, t.prototype.likeUserFeed = function(t, e) {
			this.game.prodigy.network.likeUserFeed(t.id, this.likeUserFeedSuccess.bind(this, t, e), null)
		}, t.prototype.likeUserFeedSuccess = function(t, e) {
			var i = o.Items.getItem("gameFeed", t.feedTypeID),
				n = this.game.prodigy.friendsListNetworkHandler.friendsList.length,
				r = this.game.prodigy.friendsListNetworkHandler.classList.length;
			this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_social", {
				meta: JSON.stringify({
					name: "game_social",
					type: "feed",
					action: "like",
					source: e,
					num_friends: n,
					num_classmates: r,
					category: i.data.category,
					filter: t.group,
					rarity: "item" === i.data.category ? o.Items.getItem(t.mapping[0].type, t.mapping[0].ID).data.rarity : null
				})
			})
		}, t.prototype.broadcastSocialFeedEvent = function(t, e, i) {
			var n = this.game.prodigy.friendsListNetworkHandler.friendsList.length,
				o = this.game.prodigy.friendsListNetworkHandler.classList.length,
				r = this.game.prodigy.player.isMember ? "converted" : void 0,
				s = "toaster" === i ? "toast" : i;
			this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.GameSocialDataFactory).create("feed", t, s, n, o, null, r, e.id).broadcast()
		}, t.toasterTimeout = 3e3, t
	}();
	e.NotificationController = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__assign || Object.assign || function(t) {
			for (var e, i = 1, n = arguments.length; i < n; i++)
				for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
			return t
		},
		a = this && this.__awaiter || function(t, e, i, n) {
			return new(i || (i = Promise))(function(a, o) {
				function r(t) {
					try {
						l(n.next(t))
					} catch (t) {
						o(t)
					}
				}

				function s(t) {
					try {
						l(n.throw(t))
					} catch (t) {
						o(t)
					}
				}

				function l(t) {
					t.done ? a(t.value) : new i(function(e) {
						e(t.value)
					}).then(r, s)
				}
				l((n = n.apply(t, e || [])).next())
			})
		},
		o = this && this.__generator || function(t, e) {
			var i, n, a, o, r = {
				label: 0,
				sent: function() {
					if (1 & a[0]) throw a[1];
					return a[1]
				},
				trys: [],
				ops: []
			};
			return o = {
				next: s(0),
				throw: s(1),
				return: s(2)
			}, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
				return this
			}), o;

			function s(o) {
				return function(s) {
					return function(o) {
						if (i) throw new TypeError("Generator is already executing.");
						for (; r;) try {
							if (i = 1, n && (a = n[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(a = a.call(n, o[1])).done) return a;
							switch (n = 0, a && (o = [0, a.value]), o[0]) {
								case 0:
								case 1:
									a = o;
									break;
								case 4:
									return r.label++, {
										value: o[1],
										done: !1
									};
								case 5:
									r.label++, n = o[1], o = [0];
									continue;
								case 7:
									o = r.ops.pop(), r.trys.pop();
									continue;
								default:
									if (!(a = (a = r.trys).length > 0 && a[a.length - 1]) && (6 === o[0] || 2 === o[0])) {
										r = 0;
										continue
									}
									if (3 === o[0] && (!a || o[1] > a[0] && o[1] < a[3])) {
										r.label = o[1];
										break
									}
									if (6 === o[0] && r.label < a[1]) {
										r.label = a[1], a = o;
										break
									}
									if (a && r.label < a[2]) {
										r.label = a[2], r.ops.push(o);
										break
									}
									a[2] && r.ops.pop(), r.trys.pop();
									continue
							}
							o = e.call(t, r)
						} catch (t) {
							o = [6, t], n = 0
						} finally {
							i = a = 0
						}
						if (5 & o[0]) throw o[1];
						return {
							value: o[0] ? o[1] : void 0,
							done: !0
						}
					}([o, s])
				}
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var r = i(1),
		s = i(11),
		l = i(79),
		c = i(867),
		h = i(6),
		u = i(4),
		p = i(5),
		d = i(279),
		g = i(263),
		f = i(782),
		y = i(23),
		m = i(0),
		_ = i(260),
		v = function() {
			function t(t, e, i) {
				var n = this;
				this.api = null, this.game = null, this.loggedIn = !1, this.player = null, this.offlineTimer = -1, this.offlineMessage = null, this.open = null, this.socketConnected = !0, this.tokenTTL = null, this.timeManager = null, this.updateCharacterInterval = null, this.inactiveTimer = null, this.updateFailedTime = null, this.zone = null, this.loginTimer = null, this.saveCallback = null, this.forceUpdate = !1, this.saving = !1, this.processPlayer = !1, this.processFriendsList = !1, this.lastUpdate = null, this.hasFailedUpdate = !1, this.isActivityDialogOpen = !1, this.expiredToken = !1, this.player = null, this.game = t, this.open = new d.MenuFactory(t), this.timeManager = i, this.api = new _.APIClient({
					clientVersion: this.game.clientVersion
				}, {
					503: function() {
						n.initGoingOffline()
					}
				}, e, e.get(h.EProdigyInjectionIdentifiers.HttpClient), e.get(h.EProdigyInjectionIdentifiers.JWTAuthenticationProvider), e.get(h.EProdigyInjectionIdentifiers.LegacyAuthenticationProvider)), this.api.setErrorHandler(this.onError.bind(this)), setInterval(this.updateCharacter.bind(this), 3e3)
			}
			return t.prototype.getKey = function() {
				return this.api.getUserToken()
			}, t.openWebsite = function(t, e) {
				void 0 === e && (e = !0);
				try {
					var i = "https://" + t;
					e ? window.open(i) : y.Device.isNativeApp() && y.Device.nativeAppVersion() > 1 ? window.postMessage(JSON.stringify({
						type: "OPEN_URL_IN_BROWSER",
						payload: i
					}), "*") : window.location.href = i
				} catch (t) {}
			}, t.prototype.getErrorMessage = function(t, e) {
				var i = this.game.prodigy.gameContainer.get(r.GameIdentifiers.LocalizationService);
				return m.Util.isValid(t) && m.Util.isValid(e) ? i.getText(e[t]) : m.Util.isValid(e) ? i.getText(e[0]) : i.getText("NETWORK_ERROR")
			}, t.prototype.sendAnalytics = function(t, e, i) {
				if (m.Util.isValid(this.player) && this.loggedIn) {
					var n = i;
					m.Util.isValid(i) || (n = this.player.isMember ? "Member-Events" : "Non-Member-Events", this.player.isMember && 1 === this.player.data.nm && (n = "New-Member-Events")), r.Logger.log("GAQ " + n + ", " + t + ", " + e, r.LogLevel.Verbose);
					try {
						_gaq.push(["_trackEvent", "" + n, "" + t, "" + e])
					} catch (t) {}
				} else r.Logger.log("GAQ " + i + ", " + t + ", " + e, r.LogLevel.Verbose)
			}, t.prototype.sendToyEvent = function(t, e, i) {
				try {
					var n = {
						stage: e,
						type: t
					};
					m.Util.isValid(i) && (n.toy_id = i), this.game.prodigy.gameContainer.get(h.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("toy-event", n)
				} catch (t) {}
			}, t.prototype.sendZoneEvent = function(t, e) {
				void 0 === e && (e = "");
				try {
					var i = this.game.prodigy.world.getCurrentMap();
					if (m.Util.isValid(i)) {
						var n = i.split("-");
						2 === n.length && (this.game.prodigy.gameContainer.get(h.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("zone-event", {
							type: t,
							zoneName: n[0],
							mapName: n[1],
							metadata: e
						}), this.game.prodigy.gameContainer.get(h.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).create(t, n[0], n[1], "" !== e ? e : null).broadcast())
					}
				} catch (t) {}
			}, t.prototype.sendItemChangeEvent = function(t, e) {
				try {
					var i = this.game.prodigy.world.getCurrentMap();
					if (m.Util.isValid(i)) {
						var n = i.split("-");
						2 === n.length && this.game.prodigy.gameContainer.get(h.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("item-change-event", {
							type: t,
							zoneName: n[0],
							mapName: n[1],
							itemType: e.type,
							itemID: e.ID,
							itemN: m.Util.isValid(e.N) ? e.N : 1
						})
					}
				} catch (t) {}
			}, t.prototype.sendGiftBoxEvent = function() {
				try {
					this.game.prodigy.gameContainer.get(h.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("item-change-event", {
						name: "open-gift-box"
					})
				} catch (t) {
					r.Logger.log(t.message, r.LogLevel.Error)
				}
			}, t.prototype.sendConversionFunnelEvent = function(t, e, i) {
				if (void 0 === i && (i = ""), !y.Device.isNativeApp()) try {
					this.game.prodigy.gameContainer.get(h.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("conversion-funnel-event", {
						funnelName: t,
						stageTag: e,
						selectedPlayingFromHome: this.game.prodigy.player.locationSelectionType === u.GameConstants.get("GameConstants.LocationSelection.HOME"),
						metadata: i
					}), this.game.prodigy.gameContainer.get(h.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("conversion-funnel-event", t).broadcast()
				} catch (t) {}
			}, t.prototype.sendBattleStartTypeEvent = function(t) {
				this.game.prodigy.gameContainer.get(h.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("battle-start-type", {
					battleType: t,
					seasonID: s(this.game.prodigy.pvpNetworkHandler, "seasonID", null),
					points: s(this.game.prodigy.pvpNetworkHandler, "userRank.points", 0),
					grade: this.game.prodigy.player.grade,
					level: this.game.prodigy.player.getLevel()
				}), this.game.prodigy.battle.battleStats.type = t
			}, t.prototype.onError = function(t, e) {
				r.Logger.log("FAIL : " + t + ", " + e, r.LogLevel.Verbose), null === this.updateFailedTime && this.loggedIn && m.Util.isValid(t) && -1 !== t.indexOf("update") && (this.updateFailedTime = (new Date).getTime(), r.Logger.log("logout countdown", r.LogLevel.Verbose))
			}, t.prototype.getCharData = function(t, e, i, n) {
				void 0 === i && (i = function() {}), void 0 === n && (n = function() {}), this.api.getUser(t, e, {
					200: i,
					401: n,
					206: n,
					503: n,
					340: n,
					0: n,
					500: n
				})
			}, t.prototype.initGoingOffline = function() {
				-1 === this.offlineTimer && this.loggedIn && (this.offlineTimer = (new Date).getTime() + 7e4, this.offlineMessage = "NETWORK_GOING_OFFLINE")
			}, t.prototype.getWorldList = function(t, e) {
				this.api.getWorldList({
					200: t,
					400: e,
					500: e,
					503: e,
					0: e
				})
			}, t.prototype.startMatchmaking = function(t, e, i, n, a, o) {
				this.api.startMatchmaking(t, e, i, {
					200: n,
					400: a,
					500: a,
					0: a,
					503: o
				})
			}, t.prototype.quitMatchmaking = function(t, e) {
				this.api.quitMatchmaking({
					200: t,
					400: e,
					500: e,
					0: e
				})
			}, t.prototype.joinMultiplayerServer = function(t, e, i, n, a) {
				var o = this.onDisconnect.bind(this, n);
				this.api.joinMultiplayerServer(t.id, e, {
					200: this.joinSuccess.bind(this, t, i),
					400: o,
					500: o,
					0: o,
					503: o,
					409: o,
					504: o,
					502: a
				}, this.onMessage.bind(this), this.onPlayerList.bind(this), this.onDisconnect.bind(this, null), this.onPlayerJoined.bind(this), this.onPlayerLeft.bind(this))
			}, t.prototype.joinZone = function(t) {
				this.zone = t, this.loggedIn && this.api.joinZone(t.zoneName)
			}, t.prototype.leaveZone = function() {
				this.zone = null, this.loggedIn && this.api.leaveZone()
			}, t.prototype.setZone = function(t) {
				this.zone = t
			}, t.prototype.verifyClassCode = function(t, e, i) {
				this.api.verifyClassCode(t, {
					200: e,
					400: i,
					500: i,
					0: i,
					404: i,
					503: i,
					504: i
				})
			}, t.prototype.attachClassCode = function(t, e, i) {
				this.api.attachStudentUsingClassCode(t, {
					200: e,
					400: i,
					500: i,
					0: i,
					404: i,
					503: i,
					504: i
				})
			}, t.prototype.emitMessage = function(e) {
				if (!this.canUseMP()) return !1;
				t.emitMessageCount++, m.Util.isValid(e.action) && m.Util.isValid(e.data) && r.Logger.log("[" + t.emitMessageCount + "] emitMessage called action: " + e.action, r.LogLevel.Verbose);
				var i = t.MESSAGE_SCHEMAS[e.action];
				return m.Util.isValid(i) && t.compressMessage(e, i), this.api.emitMessage(e, {
					200: function() {}
				})
			}, t.prototype.onMessage = function(e) {
				if (this.canUseMP()) {
					var i = t.MESSAGE_SCHEMAS[e.action];
					m.Util.isValid(i) && t.decompressMessage(e, i), this.game.prodigy.messageListener.onMessage(e), m.Util.isValid(this.zone) && m.Util.isValid(this.zone.onMessage) && this.zone.onMessage(e)
				}
			}, t.prototype.getFriendsList = function(t, e) {
				u.GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (r.Logger.log("Test get friend list", r.LogLevel.Verbose), this.game.time.events.add(1e3, t.bind(this, {
					data: [{
						userID: 5339281,
						status: 0
					}, {
						userID: 5339282,
						status: 1
					}, {
						userID: 5339279,
						status: 1
					}],
					meta: {
						friendsCap: 20,
						totalFriends: 3
					}
				}), this)) : this.api.getFriendList({
					200: t,
					400: e,
					401: e,
					404: e,
					406: e,
					409: e,
					423: e,
					500: e,
					503: e,
					0: e
				})
			}, t.prototype.getTotalFriendRequests = function(t, e) {
				u.GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (r.Logger.log("Test get total friend requests", r.LogLevel.Verbose), this.game.time.events.add(2, t.bind(this, {
					data: {
						pendingRequests: 1
					},
					meta: {
						friendsCap: 20,
						totalFriends: 3
					}
				}), this)) : this.api.getTotalFriendRequests({
					200: t,
					400: e,
					401: e,
					404: e,
					406: e,
					409: e,
					423: e,
					500: e,
					503: e,
					0: e
				})
			}, t.prototype.getFriendRequestList = function(t, e, i, n) {
				u.GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (r.Logger.log("Test get friend request list", r.LogLevel.Verbose), this.game.time.events.add(2, i.bind(this, {
					data: [{
						userID: 15263772
					}],
					meta: {
						friendsCap: 20,
						totalFriends: 3
					}
				}), this)) : this.api.getFriendRequestList(t, e, {
					200: i,
					400: n,
					401: n,
					404: n,
					406: n,
					409: n,
					423: n,
					500: n,
					503: n,
					0: n
				})
			}, t.prototype.sendFriendRequest = function(t, e, i) {
				u.GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (r.Logger.log("Test send friend request", r.LogLevel.Verbose), this.game.time.events.add(2, e.bind(this, t), this)) : this.api.sendFriendRequest(t, {
					200: e,
					400: i,
					401: i,
					404: i,
					406: i,
					409: i,
					423: i,
					500: i,
					503: i,
					0: i
				})
			}, t.prototype.cancelFriendRequest = function(t, e, i) {
				u.GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (r.Logger.log("Test cancel friend request", r.LogLevel.Verbose), this.game.time.events.add(2, e.bind(this, t), this)) : this.api.cancelFriendRequest(t, {
					200: e,
					400: i,
					401: i,
					404: i,
					406: i,
					409: i,
					423: i,
					500: i,
					503: i,
					0: i
				})
			}, t.prototype.acceptFriendRequest = function(t, e, i) {
				u.GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (r.Logger.log("Test accept friend request", r.LogLevel.Verbose), this.game.time.events.add(2, e.bind(this, t), this)) : this.api.acceptFriendRequest(t, {
					200: e,
					400: i,
					401: i,
					404: i,
					406: i,
					409: i,
					423: i,
					500: i,
					503: i,
					0: i
				})
			}, t.prototype.rejectFriendRequest = function(t, e, i) {
				u.GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (r.Logger.log("Test reject friend request", r.LogLevel.Verbose), this.game.time.events.add(2, e.bind(this, t), this)) : this.api.rejectFriendRequest(t, {
					200: e,
					400: i,
					401: i,
					404: i,
					406: i,
					409: i,
					423: i,
					500: i,
					503: i,
					0: i
				})
			}, t.prototype.removeFriend = function(t, e, i) {
				u.GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (r.Logger.log("Test remove friend", r.LogLevel.Verbose), this.game.time.events.add(2, e.bind(this, t), this)) : this.api.removeFriend(t, {
					200: e,
					400: i,
					401: i,
					404: i,
					406: i,
					409: i,
					423: i,
					500: i,
					503: i,
					0: i
				})
			}, t.prototype.getUserClass = function(t, e, i) {
				this.api.getUserClass(t, {
					200: e,
					400: i,
					401: i,
					404: i,
					406: i,
					409: i,
					423: i,
					500: i,
					503: i,
					0: i
				})
			}, t.prototype.getTotalMail = function(t, e) {
				u.GameConstants.get("GameConstants.Mailer.TEST_MAIL") ? (r.Logger.log("Test get total mail", r.LogLevel.Verbose), this.game.time.events.add(2, t.bind(this, f.TestMail.DATA.length), this)) : this.api.getTotalMail(this.game.prodigy.player.getRegisterDate(), this.game.prodigy.player.isMember, this.game.prodigy.player.memberStartDate, this.game.prodigy.player.memberEndDate, {
					200: t,
					400: e,
					409: e,
					500: e,
					502: e,
					503: e,
					0: e
				})
			}, t.prototype.getAllMail = function(t, e, i, n) {
				u.GameConstants.get("GameConstants.Mailer.TEST_MAIL") ? this.game.time.events.add(2, i.bind(this, f.TestMail.DATA.slice(t * e, e)), this) : this.api.getAllMail(this.game.prodigy.player.getRegisterDate(), this.game.prodigy.player.isMember, this.game.prodigy.player.memberStartDate, this.game.prodigy.player.memberEndDate, t, e, {
					200: i,
					400: n,
					409: n,
					500: n,
					502: n,
					503: n,
					0: n
				})
			}, t.prototype.markAsRead = function(t, e, i, n) {
				if (u.GameConstants.get("GameConstants.Mailer.TEST_MAIL")) {
					f.TestMail.TOTAL_MAIL = {
						totalUnread: 0
					};
					for (var a = 0; a < f.TestMail.DATA.length; a++) {
						f.TestMail.DATA[a].isOpened || f.TestMail.TOTAL_MAIL.totalUnread++
					}
					this.game.time.events.add(2, i.bind(this), this)
				} else this.api.openMail(t, e, {
					200: i,
					400: n,
					409: n,
					500: n,
					502: n,
					503: n,
					0: n
				})
			}, t.prototype.deleteMail = function(t, e, i) {
				if (u.GameConstants.get("GameConstants.Mailer.TEST_MAIL")) {
					for (var n = 0; n < f.TestMail.DATA.length; n++)
						if (f.TestMail.DATA[n].id === t) {
							f.TestMail.DATA.splice(n, 1);
							break
						} f.TestMail.TOTAL_MAIL = {
						totalUnread: 0
					};
					for (n = 0; n < f.TestMail.DATA.length; n++) {
						f.TestMail.DATA[n].isOpened || f.TestMail.TOTAL_MAIL.totalUnread++
					}
					this.game.time.events.add(2, e.bind(this), this)
				} else this.api.deleteMail(t, {
					200: e,
					400: i,
					409: i,
					500: i,
					502: i,
					503: i,
					0: i
				})
			}, t.prototype.getTitans = function(t, e) {
				this.api.getTitans({
					200: t,
					400: e,
					409: e,
					500: e,
					502: e,
					503: e,
					0: e
				})
			}, t.prototype.getTitan = function(t, e, i) {
				this.api.getTitan(t, {
					200: e,
					400: i,
					409: i,
					500: i,
					502: i,
					503: i,
					0: i
				})
			}, t.prototype.hitTitan = function(t, e, i) {
				this.api.hitTitan(t, {
					200: e,
					400: i,
					409: i,
					500: i,
					502: i,
					503: i,
					0: i
				})
			}, t.prototype.getTitanUserData = function(t, e) {
				this.api.getTitanUserData({
					200: t,
					400: e,
					409: e,
					500: e,
					502: e,
					503: e,
					0: e
				})
			}, t.prototype.createUserFeed = function(t, e, i, n, a, o) {
				this.api.createUserFeed(t, JSON.stringify(e), JSON.stringify(i), n, {
					200: a,
					400: o,
					409: o,
					500: o,
					502: o,
					503: o,
					0: o
				}, JSON.stringify(i))
			}, t.prototype.getUserFeed = function(t, e, i, n, a, o, r) {
				this.api.getUserFeed(t, m.Util.isValid(e) ? e.toString() : null, i, n, a, {
					200: o,
					400: r,
					409: r,
					500: r,
					502: r,
					503: r,
					0: r
				})
			}, t.prototype.likeUserFeed = function(t, e, i) {
				this.api.likeUserFeed(t, {
					200: e,
					400: i,
					409: i,
					500: i,
					502: i,
					503: i,
					0: i
				})
			}, t.prototype.shareUserFeed = function(t, e, i) {
				this.api.shareUserFeed(t, {
					200: e,
					400: i,
					409: i,
					500: i,
					502: i,
					503: i,
					0: i
				})
			}, t.prototype.deleteUserFeed = function(t, e, i) {
				this.api.deleteUserFeed(t, {
					200: e,
					400: i,
					409: i,
					500: i,
					502: i,
					503: i,
					0: i
				})
			}, t.prototype.getGiftBoxes = function(t, e) {
				this.api.getGiftBoxes({
					200: t,
					400: e,
					401: e,
					403: e,
					409: e,
					500: e,
					503: e,
					0: e
				})
			}, t.prototype.updateGiftBox = function(t, e, i, n) {
				this.api.updateGiftBox(t, e, {
					200: i,
					400: n,
					401: n,
					403: n,
					409: n,
					500: n,
					503: n,
					0: n
				})
			}, t.prototype.addGiftBox = function(t, e, i) {
				this.api.addGiftBox(t, {
					200: e,
					400: i,
					401: i,
					403: i,
					409: i,
					500: i,
					503: i,
					0: i
				})
			}, t.prototype.initUserLeaderboard = function(t, e) {
				this.api.initUserLeaderboard({
					200: t,
					400: e,
					401: e,
					403: e,
					409: e,
					500: e,
					503: e,
					0: e
				})
			}, t.prototype.updateUserLeaderboard = function(t, e, i) {
				this.api.updateUserLeaderboard(this.game.prodigy.pvpNetworkHandler.seasonID, t, {
					200: e,
					400: i,
					401: i,
					403: i,
					409: i,
					500: i,
					503: i,
					0: i
				})
			}, t.prototype.getClassLeaderboard = function(t, e, i, n) {
				this.api.getClassLeaderboard(t, e, 30, {
					200: i,
					400: n,
					500: n,
					503: n,
					0: n
				})
			}, t.prototype.getSeasonLeaderboard = function(t, e, i, n) {
				this.api.getSeasonLeaderboard(this.game.prodigy.pvpNetworkHandler.seasonID, t, e, {
					200: i,
					400: n,
					500: n,
					503: n,
					0: n
				})
			}, t.prototype.getUserLeaderboard = function(t, e) {
				this.api.getUserLeaderboard(this.game.prodigy.pvpNetworkHandler.seasonID, {
					200: t,
					400: e,
					500: e,
					503: e,
					0: e
				})
			}, t.prototype.getUserRank = function(t, e, i) {
				this.api.getUserRank(t, this.game.prodigy.pvpNetworkHandler.seasonID, {
					200: e,
					400: i,
					500: i,
					503: i,
					0: i
				})
			}, t.prototype.completeAssignment = function(t) {
				this.api.completeAssignment(t, {
					200: function() {}
				})
			}, t.prototype.answerQuestion = function(t) {
				var e = n({}, t, {
					isMember: this.game.prodigy.player.isMember,
					playLocation: this.player.locationSelectionType,
					sessionID: this.api.getUserToken()
				});
				this.api.saveAnswer(e, {
					200: function() {}
				})
			}, t.prototype.updatePlanStudent = function(t) {
				this.api.updatePlanStudent(t.id, t.currentSkillId, t.hasFailed, {
					200: function() {}
				})
			}, t.prototype.updateStrandBasedPlacementTest = function(t) {
				var e = t.placementTestInstanceId;
				this.api.updateStrandBasedPlacementTest(e, t, {
					200: null
				})
			}, t.prototype.finishPlacement = function(t, e) {
				this.api.updatePlacementTest(t, e, {
					200: function() {}
				})
			}, t.prototype.updateUser = function(t, e) {
				this.api.updateUser(t, {
					200: e,
					400: e,
					500: e,
					401: e,
					0: e
				})
			}, t.prototype.loadEducation = function(t) {
				return a(this, void 0, void 0, function() {
					return o(this, function(e) {
						return this.loggedIn ? [2, this.api.loadEducation(t)] : [2, Promise.resolve(null)]
					})
				})
			}, t.prototype.createPlayer = function(t, e, i, n, a) {
				this.api.create(t, e, i, {
					200: a,
					400: this.processCreate.bind(this, !0, n),
					426: this.processCreate.bind(this, "versionError", n),
					500: this.processCreate.bind(this, !0, n),
					503: this.processCreate.bind(this, "disabled", n),
					0: this.processCreate.bind(this, !0, n)
				})
			}, t.prototype.createPlayerWithGoogle = function(t, e, i, n, a) {
				this.api.create(t, e, i, {
					200: a,
					400: this.processCreate.bind(this, !0, n),
					426: this.processCreate.bind(this, "versionError", n),
					500: this.processCreate.bind(this, !0, n),
					503: this.processCreate.bind(this, "disabled", n),
					0: this.processCreate.bind(this, !0, n)
				})
			}, t.prototype.createCharacter = function(t, e, i, n) {
				this.api.createCharacter(t, e, {
					200: n,
					400: i,
					500: i,
					503: i,
					0: i
				})
			}, t.prototype.adminLogin = function(t, e, i, n, a, o, r) {
				var s = this;
				if (void 0 === r && (r = 0), this.player = n, null !== this.loginTimer && (window.clearInterval(this.loginTimer), this.loginTimer = null), r + 1 > 5) a();
				else {
					var l = this.adminLogin.bind(this, t, e, i, n, a, o, r);
					this.api.adminLogin(t, e, i, {
						401: this.processLogin.bind(this, !1, a, l),
						403: this.processLogin.bind(this, !1, a, l),
						206: function(t) {
							s.processAdminLogin(t, o)
						},
						200: function(t) {
							s.processAdminLogin(t, o)
						},
						503: this.processLogin.bind(this, !1, a, l),
						340: this.processLogin.bind(this, !1, a, l),
						0: this.processLogin.bind(this, !1, a, l),
						500: this.processLogin.bind(this, !1, a, l)
					})
				}
			}, t.prototype.login = function(t, e, i, n, a, o) {
				if (void 0 === o && (o = 0), this.player = i, this.expiredToken = !1, this.isActivityDialogOpen = !1, null !== this.loginTimer && (window.clearInterval(this.loginTimer), this.loginTimer = null), o + 1 > 5) a();
				else {
					var r = this.login.bind(this, t, e, i, a, n, o);
					this.api.login({
						username: t,
						password: e
					}, {
						400: this.processLogin.bind(this, !1, a, r),
						401: this.processLogin.bind(this, !1, a, r),
						426: this.processLogin.bind(this, "versionError", a, r),
						206: this.processLogin.bind(this, !0, n, r),
						200: this.processLogin.bind(this, !0, n, r),
						503: this.processLogin.bind(this, !1, a, r),
						340: this.processLogin.bind(this, !1, a, r),
						0: this.processLogin.bind(this, !1, a, r),
						500: this.processLogin.bind(this, !1, a, r)
					})
				}
			}, t.prototype.loginWithGoogle = function(t, e, i, n) {
				this.player = e, this.api.login({
					idToken: t
				}, {
					400: this.processLogin.bind(this, !1, i, null),
					401: this.processLogin.bind(this, !1, i, null),
					404: this.processLogin.bind(this, !1, i, null),
					426: this.processLogin.bind(this, "versionError", i, null),
					206: this.processLogin.bind(this, !0, n, null),
					200: this.processLogin.bind(this, !0, n, null),
					503: this.processLogin.bind(this, !1, i, null),
					340: this.processLogin.bind(this, !1, i, null),
					0: this.processLogin.bind(this, !1, i, null),
					500: this.processLogin.bind(this, !1, i, null)
				})
			}, t.prototype.logout = function(t) {
				void 0 === t && (t = !1), this.loggedIn = !1, this.api.logout({
					200: function() {}
				});
				var e = this.game.prodigy.gameContainer;
				if (e.get(h.EProdigyInjectionIdentifiers.JWTAuthenticationProvider).setToken(null), e.get(h.EProdigyInjectionIdentifiers.LegacyAuthenticationProvider).setToken(null), !t) {
					var i = m.Util.removeParamsFromUrl(window.location.href, ["action", "idToken", "email"]);
					i.length === window.location.href.length ? window.location.reload() : window.location.href = i
				}
			}, t.prototype.setSaveCallback = function(t, e) {
				this.saveCallback = t, this.forceUpdate = e
			}, t.prototype.updateCharacter = function() {
				var t = this;
				if (!(this.saving || this.expiredToken || this.api.httpClient.showingTokenExpiredPopup))
					if (this.forceUpdate || this.loggedIn && m.Util.isValid(this.player) && m.Util.isValid(this.zone)) {
						if (m.Util.isValid(this.updateFailedTime) && null === this.offlineTimer && ((new Date).getTime() - this.updateFailedTime) / 1e3 > u.GameConstants.get("GameConstants.Inactivity.CANNOT_CONNECT_TIMER_SECONDS") && (this.offlineTimer = (new Date).getTime() + u.GameConstants.get("GameConstants.Inactivity.NETWORK_BOOT_TIMER_SECONDS"), this.offlineMessage = "NETWORK_CANNOT_CONNECT"), null !== this.offlineTimer) {
							var e = this.offlineTimer - (new Date).getTime();
							e < 0 ? this.logout() : this.zone.showMessage(this.game.prodigy.gameContainer.get(r.GameIdentifiers.LocalizationService).getText(this.offlineMessage, Math.floor(e / 1e3)), 5e3)
						}
						if (this.player.saveEnabled) {
							var i = this.player.getUpdatedData(this.processPlayer);
							this.processFriendsList && this.game.prodigy.friendsListNetworkHandler.getTotalFriendRequests(), this.processPlayer = !1, this.processFriendsList = !1;
							var n = !m.Util.isEmptyObject(i);
							if (n || m.Util.isValid(this.lastUpdate) && !((new Date).getTime() - this.lastUpdate > 3e4) || (n = !0), n && (u.GameConstants.get("GameConstants.Debug.AUTOSAVE_ENABLED") || (n = !1)), this.saving = n, n) {
								var a = this.timeManager.getLocalTimeMs();
								if (a > this.tokenTTL) {
									clearInterval(this.updateCharacterInterval), this.expiredToken = !0;
									var o = this.game.prodigy.gameContainer.get(r.GameIdentifiers.LocalizationService);
									this.game.prodigy.open.message(o.getText("TOKEN_EXPIRE_MESSAGE"), function() {
										t.logout()
									}, null, o.getText("MESSAGE_TITLE_UH_OH"))
								} else this.tokenTTL = a + u.GameConstants.get("GameConstants.Build.TOKEN_TTL"), this.api.updateCharacter(i, this.onUpdateCharacterSuccess.bind(this), this.onUpdateCharacterFailure.bind(this))
							} else null !== this.saveCallback && (this.saveCallback(), this.saveCallback = null)
						} else null !== this.saveCallback && (this.saveCallback(), this.saveCallback = null)
					} else m.Util.isValid(this.saveCallback) && (this.saveCallback(), delete this.saveCallback)
			}, t.prototype.onUpdateCharacterSuccess = function(t) {
				this.processUpdate(!0, !1, this.saveCallback), r.Logger.log("Character saved successfully to server.", r.LogLevel.Verbose)
			}, t.prototype.onUpdateCharacterFailure = function(t) {
				var e = l([409, 503], t.statusCode);
				this.processUpdate(!1, e, null)
			}, t.prototype.startInactiveTimer = function() {
				this.stopInactiveTimer(), this.loggedIn && (this.game.input.onDown.add(this.startInactiveTimer.bind(this), this), this.inactiveTimer = window.setTimeout(this.showInactiveDialog.bind(this), 1e3 * u.GameConstants.get("GameConstants.Inactivity.DIALOG_TIMER_SECONDS")))
			}, t.prototype.stopInactiveTimer = function() {
				null !== this.inactiveTimer && (this.game.input.onDown.removeAll(this), clearTimeout(this.inactiveTimer), this.inactiveTimer = null)
			}, t.prototype.showInactiveDialog = function() {
				var t = this;
				if (!this.isActivityDialogOpen && !this.expiredToken && !this.api.httpClient.showingTokenExpiredPopup) {
					this.isActivityDialogOpen = !0;
					var e = new g.MessageBox(this.game);
					e.preprocess(this.game.prodigy.gameContainer.get(r.GameIdentifiers.LocalizationService).getText("INACTIVITY_MESSAGE")), e.queuePostCreateCallback(e.setOkay.bind(e, this.game.prodigy.gameContainer.get(r.GameIdentifiers.LocalizationService).getText("INACTIVITY_BUTTON"), null)), e.setCloseCallback(function() {
						t.onInactivityPopupButtonPress()
					}), this.game.add.existing(e)
				}
				this.inactiveTimer = window.setTimeout(this.logout.bind(this), 1e3 * u.GameConstants.get("GameConstants.Inactivity.LOG_OUT_TIMER_SECONDS"))
			}, t.prototype.onInactivityPopupButtonPress = function() {
				this.isActivityDialogOpen = !1, this.startInactiveTimer()
			}, t.prototype.onPlayerList = function(t) {
				r.Logger.log("playerList " + t, r.LogLevel.Verbose), this.canUseMP() && m.Util.isValid(this.zone) && m.Util.isValid(this.zone.onPlayerList) && this.zone.onPlayerList(t)
			}, t.prototype.onDisconnect = function(t, e) {
				r.Logger.log("disconnect " + e, r.LogLevel.Verbose), this.socketConnected = !1, m.Util.isValid(t) && t()
			}, t.prototype.onPlayerJoined = function(t) {
				r.Logger.log("join " + t, r.LogLevel.Verbose), this.canUseMP() && m.Util.isValid(this.zone) && m.Util.isValid(this.zone.onPlayerJoined) && this.zone.onPlayerJoined(t)
			}, t.prototype.onPlayerLeft = function(t) {
				r.Logger.log("left " + t, r.LogLevel.Verbose), this.canUseMP() && m.Util.isValid(this.zone) && m.Util.isValid(this.zone.onPlayerLeft) && this.zone.onPlayerLeft(t)
			}, t.prototype.canUseMP = function() {
				return this.loggedIn && this.socketConnected && null !== this.zone
			}, t.prototype.joinSuccess = function(t, e) {
				this.game.prodigy.player.world = t, this.socketConnected = !0, e()
			}, t.prototype.getUserClassCodes = function(t) {
				this.api.getUserClassCodes({
					200: function(e) {
						t(e)
					}
				})
			}, t.compressMessage = function(t, e) {
				for (var i = [], n = 0; n < e.length; n++) {
					for (var a = e[n].split("."), o = t.data, r = 0; r < a.length; r++) {
						var s = a[r];
						if (!o.hasOwnProperty(s)) {
							i.push(null), o = null;
							break
						}
						if (o = o[s], !m.Util.isValid(o)) {
							i.push(null);
							break
						}
					}
					m.Util.isValid(o) && i.push(o)
				}
				t.data = LZString.compressToUTF16(JSON.stringify(i))
			}, t.decompressMessage = function(t, e) {
				for (var i = JSON.parse(LZString.decompressFromUTF16(t.data)), n = {}, a = 0; a < e.length && a < i.length; a++) {
					var o = i[a];
					if (m.Util.isValid(o)) {
						for (var r = e[a].split("."), s = r[0], l = n, c = 0; c < r.length; c++) s = r[c], l.hasOwnProperty(s) || (l[s] = {}), c + 1 < r.length && (l = l[s]);
						l[s] = o
					}
				}
				t.data = n
			}, t.prototype.processCreate = function(t, e) {
				"versionError" !== t ? "disabled" !== t ? e() : this.disabled() : this.versionError()
			}, t.prototype.processLogin = function(t, e, i, n, a) {
				if ("versionError" !== t)
					if (null !== t || !m.Util.isValid(i) || 0 !== a && 500 !== a && 340 !== a) {
						if (t) {
							this.loggedIn = !0, this.offlineTimer = null, this.updateFailedTime = null, this.player.init(n.character), this.game.broadcaster.broadcast(p.EGameObjEvents.PlayerInitialized, null, []);
							var o = this.game.prodigy.gameContainer;
							this.tokenTTL = this.timeManager.getServerTimeMs() + u.GameConstants.get("GameConstants.Build.TOKEN_TTL");
							var r = this.game.prodigy.gameContainer;
							r.get(h.EProdigyInjectionIdentifiers.LegacyAuthenticationProvider).setToken(this.api.getUserToken()), r.get(h.EProdigyInjectionIdentifiers.JWTAuthenticationProvider).setToken(n.token), o.get(h.EProdigyInjectionIdentifiers.LoggedInPlayer).initialize(this.player, this.api.getUserToken()), o.rebind(h.EProdigyInjectionIdentifiers.AnalyticsService).to(c.AuthenticatedAnalyticsService).inSingletonScope(), m.Util.isSchoolHours() ? (this.sendAnalytics("School", "", "Login-Events"), o.get(h.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("login", {
								loginFrom: "school"
							})) : (this.sendAnalytics("Home", "", "Login-Events"), o.get(h.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("login", {
								loginFrom: "home"
							}))
						}
						m.Util.isValid(e) && e(n, a)
					} else this.loginTimer = window.setInterval(i, 1e3);
				else this.versionError()
			}, t.prototype.versionError = function() {
				var t = this.game.prodigy.gameContainer.get(r.GameIdentifiers.LocalizationService);
				this.open.messageBoxOkay(t.getText("NETWORK_OUT_OF_DATE"), t.getText("BUTTON_OKAY_UPPERCASE"), function() {
					window.location.reload()
				})
			}, t.prototype.disabled = function() {
				var t = this.game.prodigy.gameContainer.get(r.GameIdentifiers.LocalizationService);
				this.open.messageBoxOkay(t.getText("NETWORK_TRY_LATER"), t.getText("BUTTON_OKAY_UPPERCASE"), window.location.reload.bind(window.location))
			}, t.prototype.processUpdate = function(t, e, i) {
				this.saving = !1, this.sendAnalytics("Player-Alive", "", "Login-Events"), t || (!m.Util.isValid(this.updateFailedTime) && this.loggedIn && (this.updateFailedTime = (new Date).getTime()), e && null === this.offlineTimer && this.loggedIn && (this.offlineMessage = "NETWORK_LOGGED_IN_ELSEWHERE", this.offlineTimer = (new Date).getTime() + 5e3), r.Logger.log("network update fail", r.LogLevel.Verbose), this.hasFailedUpdate = !0), t && (this.forceUpdate = null, i === this.saveCallback && (this.saveCallback = null), m.Util.isValid(i) && i(), this.updateFailedTime = null, this.lastUpdate = (new Date).getTime(), this.processFriendsList = this.hasFailedUpdate, this.hasFailedUpdate = !1), this.processPlayer = !t
			}, t.prototype.processAdminLogin = function(t, e) {
				var i = this,
					n = _.APIClient.ENVIRONMENT_URL_ROOTS[m.Util.getEnvironment()];
				this.game.prodigy.gameContainer.get(h.EProdigyInjectionIdentifiers.HttpClient).get(n + "game-api/jwt/" + t.userID + "?token=" + t.authToken, null).then(function(n) {
					i.processLogin(!0, e, null, {
						character: t,
						token: n.data.token
					}, 200)
				})
			}, t.VERBOSE_ANALYTICS = !1, t.emitMessageCount = 0, t.MESSAGE_SCHEMAS = {
				info: ["userID", "target.x", "target.y", "appearance.name", "appearance.name.first", "appearance.name.middle", "appearance.name.last", "appearance.name.nick", "appearance.gender", "appearance.hair.style", "appearance.hair.color", "appearance.skinColor", "appearance.eyeColor", "appearance.face", "isMember", "equipment.boots", "equipment.follow", "equipment.hat", "equipment.outfit", "equipment.weapon", "data.level", "data.win", "data.loss", "data.gold", "data.tower", "data.stars", "data.hp", "data.allowsHouseVisitors", "data.versionID", "data.playerTransformation.transformType", "data.playerTransformation.transformID", "mount.mountID"],
				catapult: []
			}, t
		}();
	e.NetworkManager = v
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		a = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		o = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var r = i(86),
		s = i(1),
		l = i(9),
		c = i(359),
		h = i(85),
		u = i(65),
		p = i(0),
		d = i(2),
		g = function() {
			function t(t) {
				this.data = null, this.gender = null, this.localizer = null, this.localizer = t
			}
			return e = t, t.prototype.init = function(t, e) {
				this.data = t, this.gender = e
			}, t.prototype.getName = function() {
				return this.validateNameData(), null === this.data.getNickname() ? this.getFullName() : d.Items.getItem("nickname", this.data.getNickname()).data.value.replace("{first}", d.Items.getItem("name", this.data.getFirstName()).data.value).replace("{middle}", d.Items.getItem("name", this.data.getMiddleName()).data.value).replace("{last}", d.Items.getItem("name", this.data.getLastName()).data.value)
			}, t.prototype.getNameWithoutNickname = function() {
				return this.validateNameData(), this.getFullName()
			}, t.prototype.getFirstName = function() {
				this.validateNameData();
				var t = this.data.getFirstName();
				return t > 0 ? d.Items.getItem("name", t).data.value : this.localizer.getText("NAME_APPRENTICE")
			}, t.prototype.generateRandomName = function() {
				this.data = new r.NameData, this.data.setFirstName(e.getRandomFirstName(this.gender)), this.data.setMiddleName(e.getRandomMiddleName()), this.data.setLastName(e.getRandomLastName())
			}, t.prototype.getFullName = function() {
				if (p.Util.isValid(this.data.getFirstName())) {
					var t = d.Items.getItem("name", this.data.getFirstName()).data.value;
					if (p.Util.isValid(this.data.getMiddleName()) && p.Util.isValid(null === this.data.getLastName())) {
						var e = "" + d.Items.getItem("name", this.data.getMiddleName()).data.value + d.Items.getItem("name", this.data.getLastName()).data.value;
						return t + " " + c(e)
					}
					return t
				}
				return this.localizer.getText("NAME_APPRENTICE")
			}, t.prototype.validateNameData = function() {
				var t = this;
				if (this.data && this.data.isValid()) {
					p.Util.isValid(this.data.getFirstName()) && 0 === d.Items.getItemsWithFilter("name", function(e) {
						return 0 === e.data.type && e.ID === t.data.getFirstName()
					}).length && this.data.setFirstName(e.getRandomFirstName(this.gender));
					var i = this.data.getMiddleName(),
						n = this.data.getLastName(),
						a = this.data.getNickname();
					null === i || null === n ? (this.data.setMiddleName(null), this.data.setLastName(null), this.data.setNickname(null)) : (0 === d.Items.getItemsWithFilter("name", function(t) {
						return 1 === t.data.type && t.ID === i
					}).length && this.data.setMiddleName(e.getRandomMiddleName()), 0 === d.Items.getItemsWithFilter("name", function(t) {
						return 2 === t.data.type && t.ID === n
					}).length && this.data.setLastName(e.getRandomLastName()), p.Util.isValid(a) && 0 === d.Items.getItemsWithFilter("nickname", function(t) {
						return t.ID === a
					}).length && this.data.setNickname(null))
				} else this.generateRandomName()
			}, t.getRandomFirstName = function(t) {
				return h(u(d.Items.data.name, function(e) {
					return e.data.gender === ("female" === t ? 1 : 2) && 0 === e.data.type
				})).ID
			}, t.getRandomMiddleName = function() {
				return h(u(d.Items.data.name, function(t) {
					return 1 === t.data.type
				})).ID
			}, t.getRandomLastName = function() {
				return h(u(d.Items.data.name, function(t) {
					return 2 === t.data.type
				})).ID
			}, t = e = n([l.injectable(), o(0, l.inject(s.GameIdentifiers.LocalizationService)), a("design:paramtypes", [s.BaseLocalizer])], t);
			var e
		}();
	e.DataNameResolver = g
}, function(t, e, i) {
	var n = i(386),
		a = i(206),
		o = i(50);
	t.exports = function(t) {
		return o(t) ? n(t) : a(t)
	}
}, function(t, e, i) {
	var n = i(89),
		a = i(1137),
		o = i(1136),
		r = "[object Null]",
		s = "[object Undefined]",
		l = n ? n.toStringTag : void 0;
	t.exports = function(t) {
		return null == t ? void 0 === t ? s : r : l && l in Object(t) ? a(t) : o(t)
	}
}, function(t, e, i) {
	var n = i(1138),
		a = i(1133);
	t.exports = function(t, e) {
		var i = a(t, e);
		return n(i) ? i : void 0
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t() {}
		return t.isDefined = function(t) {
			return null !== t && void 0 !== t
		}, t
	}();
	e.Utils = n
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t(t, e) {
			this.game = t, this.eventData = e
		}
		return t.prototype.broadcast = function() {
			this.game.prodigy.eventBroadcaster.broadcast(this.eventData)
		}, t
	}();
	e.GameEventBroadcastWrapper = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		a = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		o = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var r = i(9),
		s = i(59),
		l = i(6),
		c = i(31),
		h = function() {
			function t(t, e) {
				this.gameEventDataBuilder = t, this.game = e
			}
			return t.prototype.getGame = function() {
				return this.game
			}, t.prototype.buildBaseEvent = function(t, e, i) {
				return void 0 === e && (e = !0), void 0 === i && (i = !1), this.gameEventDataBuilder.buildEvent(t, e, i)
			}, t = n([r.injectable(), o(0, r.inject(l.EProdigyInjectionIdentifiers.EventBuilder)), o(1, r.inject(l.EProdigyInjectionIdentifiers.Game)), a("design:paramtypes", [s.GameEventDataBuilder, c.ProdigyGame])], t)
		}();
	e.GameDataFactoryBase = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = i(4),
		s = i(15),
		l = i(2),
		c = i(29),
		h = i(0),
		u = i(20),
		p = i(34),
		d = function(t) {
			function e(i, n, r, s, l) {
				var c = t.call(this, i, n, 0, 0, i.prodigy.textureMenu) || this;
				if (c.currentConfigIndex = 0, c.analyticEvents = {}, c.membershipParentOpen = !1, c.gearIcons = [], c.onClose = s, e.callback = c.finishUpgrade.bind(c), c.currentConfigIndex = null, h.Util.isValid(l) && (c.analyticEvents = l), h.Util.isValid(r))
					for (var u = 0; u < e.featureIconConfigs.length; u++)
						if (r === e.featureIconConfigs[u]) {
							c.currentConfigIndex = u;
							break
						} h.Util.isValid(c.analyticEvents.upgradeButtonClick) && (h.Util.isValid(c.analyticEvents.upgradeButtonClick.action) || (a.Logger.log("MemberPanelAd - analyticEvents.upgradeButtonClick was provided but action property was missing.  Defaulting to action='upgradeButtonClick'", a.LogLevel.Error), c.analyticEvents.upgradeButtonClick.action = "upgradeButtonClick")), c.analyticEvents.conversionFunnelName = h.Util.isValid(c.analyticEvents.conversionFunnelName) ? c.analyticEvents.conversionFunnelName : "", c.analyticEvents.conversionFunnelMetadata = h.Util.isValid(c.analyticEvents.conversionFunnelMetadata) ? c.analyticEvents.conversionFunnelMetadata : "", c.create();
				try {
					var p = h.Util.isValid(c.currentConfigIndex) ? e.featureIconConfigs[c.currentConfigIndex].trackingEvent : "unknown";
					c.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("member-ad", {
						status: "open",
						type: "new",
						feature: p
					}), c.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).create("member-ad", "conversion", "membership", p).broadcast()
				} catch (t) {
					a.Logger.log("Exception was caught sending ad open event:\n" + t, a.LogLevel.Warning)
				}
				return c
			}
			return n(e, t), e.reconcileConfig = function(t) {
				var i = t;
				return t === e.DEFAULT ? i = e.MEMBER_CHESTS : t === e.PREMIUM_ITEM ? i = e.MEMBER_CHESTS : t === e.BIGGER_ROSTER ? i = e.MEMBER_PETS : t === e.NICKNAME && (i = e.MEMBER_CHESTS), i
			}, e.prototype.create = function() {
				t.prototype.create.call(this), this.addTransparent(), this.gearIcons = this.generateGearIcons(6, null), this.startLoad(["atlas-128"], this.onAssetsLoaded.bind(this))
			}, e.prototype.onAssetsLoaded = function() {
				var t = this,
					e = 0,
					i = 502,
					n = 734,
					a = 37,
					o = 0,
					r = 333,
					s = 113,
					l = 143,
					c = 542,
					u = 163,
					p = this.game.prodigy.create.element(this, 0, 0);
				p.setRenderState(!0);
				var d = this.game.prodigy.create.sprite(0, 0, "atlas-128", "popup-box");
				p.add(d);
				var g = h.Util.getCenteredXY(d.width, d.height, 0, 0, this.width, this.height);
				d.x = g.x, d.y = g.y;
				var f = this.generateFeatureIcons(3, this, this.currentConfigIndex);
				if (h.Util.centerItemsWithinContainer(f, {
						x: d.x + s,
						y: d.y + l,
						width: c,
						height: u
					}, !1), !this.game.prodigy.player.hasMembership()) {
					var y = this.game.prodigy.create.button(this, 0, 0, "atlas-128", "member-button", this.onMembershipButtonClick.bind(this, "MemberButton"));
					g = h.Util.getCenteredXY(y.width, y.height, this.x, this.y, this.width, this.height), y.x = g.x + e, y.y = d.y + i
				}
				var m = this.game.prodigy.create.button(this, 0, 0, "atlas-128", "exit-button", this.close.bind(this));
				m.x = d.x + n, m.y = d.y + a;
				var _ = this.game.prodigy.create.element(this, 0, 0),
					v = this.game.prodigy.create.sprite(0, 0, "atlas-128", "gear-box");
				_.add(v), g = h.Util.getCenteredXY(v.width, v.height, 0, 0, this.width, this.height), v.x = g.x + o, v.y = d.y + r, v.inputEnabled = !0, v.events.onInputDown.add(this.onMembershipButtonClick.bind(this, "GearPanel")), h.Util.centerItemsWithinContainer(this.gearIcons, v, !1, {
					x: 0,
					y: 24
				}, {
					width: 90,
					height: 90
				}), this.gearIcons.forEach(function(e) {
					t.add(e)
				}, this);
				var E = [];
				(E = E.concat(f).concat(this.gearIcons)).forEach(function(e, i) {
					t.game.add.tween(e).to({
						y: e.y - 20
					}, 125, Phaser.Easing.Quadratic.InOut, !0, 125 * i, 0, !0)
				}, this), this.process()
			}, e.prototype.getFilteredIconArray = function() {
				var t = this;
				return e.featureIconConfigs.filter(function(e) {
					return !h.Util.isValid(e.splitTestDefinition) || h.Util.inTestGroups.apply(t, [t.game.prodigy.player, e.splitTestDefinition])
				})
			}, e.prototype.generateFeatureIcons = function(t, i, n) {
				for (var a = this.getFilteredIconArray().map(function(t, e) {
						return e
					}), o = [], r = 0; r < t; r++) {
					var s = 0,
						l = a[s = 0 === r && h.Util.isValid(n) ? n : c.Random.integerInRange(0, a.length - r)],
						u = e.featureIconConfigs[l],
						p = this.game.prodigy.create.button(i, 0, 0, "atlas-128", u.frameName, this.onMembershipButtonClick.bind(this, u.trackingEvent));
					o.push(p);
					var d = a.length - (r + 1);
					a[s] = a[d], a[d] = l
				}
				return h.Util.isValid(this.analyticEvents.upgradeButtonClick) && this.game.prodigy.network.sendAnalytics(this.analyticEvents.upgradeButtonClick.action, this.analyticEvents.upgradeButtonClick.value, this.analyticEvents.upgradeButtonClick.category), this.process(), o
			}, e.prototype.generateGearIcons = function(t, e) {
				var i, n, a = null,
					o = [],
					r = [{
						category: "boots",
						count: 0
					}, {
						category: "hat",
						count: 0
					}, {
						category: "outfit",
						count: 0
					}, {
						category: "weapon",
						count: 0
					}],
					s = [];
				for (i = 0; i < r.length; i++) {
					var u = l.Items.data[r[i].category];
					for (n = 0; n < u.length; n++)(a = u[n]).category = r[i].category, h.Util.isValid(a.data) && h.Util.isValid(a.data.member) && 1 === a.data.member && (!h.Util.isValid(a.data.memberAd) || a.data.memberAd > 0) && (s.push(a), r[i].count++)
				}
				for (i = 0; i < t; i++) {
					var d = c.Random.integerInRange(0, s.length - i);
					a = s[d], o.push(this.game.prodigy.create.item(e, 0, 0, {
						ID: a.ID,
						type: a.category
					}, p.EItemInfoMode.IconNoBackground));
					var g = s.length - (i + 1);
					s[d] = s[g], s[g] = a
				}
				return o
			}, e.prototype.onMembershipButtonClick = function(t) {
				if (!this.game.prodigy.player.hasMembership()) {
					try {
						this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("member-ad", {
							status: "convert",
							type: "new",
							feature: t
						}), this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).create("member-ad", "conversion", "membership", t).broadcast()
					} catch (t) {}
					this.game.prodigy.network.sendAnalytics("Purchase-Membership-Click", t), this.game.prodigy.network.sendConversionFunnelEvent(this.analyticEvents.conversionFunnelName, u.EFunnelEventIDs.StageClickMembership, this.analyticEvents.conversionFunnelMetadata), this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create(this.analyticEvents.conversionFunnelName, u.EFunnelEventIDs.StageClickMembership).broadcast(), this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).create("membership", "conversion", "member-ad", t).broadcast(), h.Util.isValid(this.analyticEvents.upgradeButtonClick) && this.game.prodigy.network.sendAnalytics(this.analyticEvents.upgradeButtonClick.action, this.analyticEvents.upgradeButtonClick.value, this.analyticEvents.upgradeButtonClick.category);
					var e = this.game.prodigy.player,
						i = h.Util.isValid(e.locationSelectionType) && e.locationSelectionType === r.default.get("GameConstants.LocationSelection.SCHOOL");
					this.membershipParentOpen || (this.membershipParentOpen = !0, this.game.prodigy.open.membershipParent(this, !i, null, null, this.analyticEvents))
				}
			}, e.prototype.finishUpgrade = function(t) {
				var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				if (this.game.prodigy.network.startInactiveTimer(), t) {
					var i = null;
					this.game.prodigy.player.setMembership(), i = 0 === this.game.prodigy.player.backpack.hasItem("mount", 1) ? this.game.prodigy.player.rewardMembershipPrizes.bind(this) : this.close.bind(this), this.game.prodigy.open.message(e.getText("MEMBER_AD_SUCCESS_BODY"), i, null, e.getText("MEMBER_AD_SUCCESS_TITLE"));
					try {
						this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("new-member", {}), this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).create("new-member", "upgrade", "finished").broadcast()
					} catch (t) {}
				} else this.game.prodigy.open.message(e.getText("MEMBER_AD_PURCHASE_FAILED_BODY"))
			}, e.callback = null, e.DEFAULT = {
				frameName: "icons/iconbox-TEST",
				trackingEvent: "Feature-MemberChests"
			}, e.MEMBER_CHESTS = {
				frameName: "icons/member-chests",
				trackingEvent: "Feature-MemberChests"
			}, e.BUDDIES = {
				frameName: "icons/cute-and-cool-buddies",
				trackingEvent: "Feature-Buddies"
			}, e.HOUSE_ITEMS = {
				frameName: "icons/special-house-furniture",
				trackingEvent: "Feature-HouseItems"
			}, e.NEW_HOUSE = {
				frameName: "icons/new-house",
				trackingEvent: "Feature-NewHouse"
			}, e.MORE_GOLD = {
				frameName: "icons/more-gold",
				trackingEvent: "Feature-MoreGold"
			}, e.MORE_EXP = {
				frameName: "icons/level-faster",
				trackingEvent: "Feature-LevelFaster"
			}, e.WHEEL_SPIN = {
				frameName: "icons/more-spins",
				trackingEvent: "Feature-MoreSpins"
			}, e.MEMBER_PETS = {
				frameName: "icons/catch-more-pets",
				trackingEvent: "Feature-MorePets"
			}, e.CATCH = {
				frameName: "icons/second-catch",
				trackingEvent: "Feature-SecondCatchChance"
			}, e.BOOSTS = {
				frameName: "icons/minigame-boosts",
				trackingEvent: "Feature-MinigameBoosts"
			}, e.STYLE = {
				frameName: "icons/cool-new-styles",
				trackingEvent: "Feature-NewStyles"
			}, e.CLOUD_MOUNT = {
				frameName: "icons/cloud-mount",
				trackingEvent: "Feature-CloudMount"
			}, e.TOWER = {
				frameName: "icons/climb-the-dark-tower",
				trackingEvent: "Feature-DarkTower"
			}, e.VISIT_HOUSE = {
				frameName: "icons/friends-visit-house",
				trackingEvent: "Feature-VisitHouse"
			}, e.POTIONS = {
				frameName: "icons/potions",
				trackingEvent: "Feature-PowerfulPotions"
			}, e.DANCE = {
				frameName: "icons/dab-dance",
				trackingEvent: "Feature-Dab"
			}, e.PREMIUM_ITEM = {
				frameName: "icons/iconbox-TEST",
				trackingEvent: "PremiumItems"
			}, e.BIGGER_ROSTER = {
				frameName: "icons/iconbox-TEST",
				trackingEvent: "BiggerRoster"
			}, e.NICKNAME = {
				frameName: "icons/iconbox-TEST",
				trackingEvent: "Nickname"
			}, e.EVOLVE_PETS = {
				frameName: "icons/evolve-pets",
				trackingEvent: "Nickname"
			}, e.featureIconConfigs = [e.MEMBER_CHESTS, e.TOWER, e.BUDDIES, e.MORE_GOLD, e.MORE_EXP, e.WHEEL_SPIN, e.MEMBER_PETS, e.CATCH, e.BOOSTS, e.STYLE, e.CLOUD_MOUNT, e.VISIT_HOUSE, e.HOUSE_ITEMS, e.NEW_HOUSE, e.POTIONS, e.DANCE, e.EVOLVE_PETS], e
		}(s.RenderMenu);
	e.MemberAd = d
}, function(t, e, i) {
	var n = i(189),
		a = i(50),
		o = i(339),
		r = i(103),
		s = i(129),
		l = Math.max;
	t.exports = function(t, e, i, c) {
		t = a(t) ? t : s(t), i = i && !c ? r(i) : 0;
		var h = t.length;
		return i < 0 && (i = l(h + i, 0)), o(t) ? i <= h && t.indexOf(e, i) > -1 : !!h && n(t, e, i) > -1
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(931),
		r = i(11),
		s = i(930),
		l = i(913),
		c = i(12),
		h = i(0),
		u = i(292),
		p = i(293),
		d = i(912),
		g = function(t) {
			function e(i, n, a, o) {
				var r = t.call(this, i, n, 32, e.configModifiers, ["atlas-167"]) || this;
				return r.attackButtonList = [], r.onSpellCast = new Phaser.Signal, r.onTeamSwitch = new Phaser.Signal, r.onTeamForceSwitch = new Phaser.Signal, r.onEpicAttack = new Phaser.Signal, r.onCatchClick = new Phaser.Signal, r.onHide = new Phaser.Signal, r.onItemClick = new Phaser.Signal, r.turn = 1, r.pageNames = ["pageSwap", "pageAttack", "pageEpics"], r.buttonPageNames = ["buttonPageSwitch", "buttonPageAttack", "buttonPageEpics"], r.epicArray = [125, 126, 127, 128, 129, 130, 131, 132, 133], r.game = i, r.playerTeam = a, r.enemyTeam = o, r.tutorial = new l.BattleTutorial(r.game, r), r.queuePostCreateCallback(r.fillEpicMenu.bind(r), r.setupButtons.bind(r), r.refresh.bind(r), r.setTabsActive.bind(r, !0), r.initTutorial.bind(r), r.handleTutorial.bind(r)), r
			}
			return n(e, t), e.prototype.setTabsActive = function(t) {
				this.buttonPageAttack.setActive(t), this.buttonPageEpics.setActive(t && this.canEpicAttack()), this.buttonPageSwitch.setActive(t && this.canSwitch()), this.buttonPageItems.setActive(t && this.areItemsEnabled()), this.resolveTabTextColors()
			}, e.prototype.resolveTabTextColors = function() {
				this.itemsNavText.applyTint(this.buttonPageItems.isActive ? 16777215 : 5789784), this.attackNavText.applyTint(this.buttonPageAttack.isActive ? 16777215 : 5789784), this.epicNavText.applyTint(this.buttonPageEpics.isActive ? 16777215 : 5789784), this.switchNavText.applyTint(this.buttonPageSwitch.isActive ? 16777215 : 5789784)
			}, e.prototype.setAttackButtonsActive = function(t) {
				for (var e = 0; e < this.attackButtonList.length; e++) this.attackButtonList[e].getUIElement().setActive(t)
			}, e.prototype.open = function() {
				this.refresh(), this.visible = !0, this.scale.setTo(1), this.turn++, this.handleTutorial()
			}, e.prototype.hide = function() {
				this.visible = !1, this.scale.setTo(0), this.onHide.dispatch()
			}, e.prototype.setNavButtonsVisible = function(t) {
				this.navButtons.visible = t
			}, e.prototype.refresh = function() {
				this.fillSwitchMenu(), this.fillSpellMenu(), this.determineRescueButtonState(), this.setNavButtonsVisible(!0), this.playerTeam.getCurrentSource().isKnockedOut() ? this.playerTeam.getTeamSize() > 1 ? (this.setActivePage("pageSwap"), this.setNavButtonsVisible(!1)) : a.Logger.log("Error: Attempting to show pageSwap screen with teamsize less than 2.", a.LogLevel.Verbose) : this.setActivePage("pageAttack"), this.buttonPageItems.setActive(this.areItemsEnabled()), this.buttonPageSwitch.setActive(this.canSwitch()), this.resolveTabTextColors()
			}, e.prototype.getAttackButtons = function() {
				return o(this.attackButtonList)
			}, e.prototype.getSingleShotButton = function() {
				return this.attackButtonList[2]
			}, e.prototype.getAoeButton = function() {
				return this.attackButtonList[3]
			}, e.prototype.getRescueButton = function() {
				return this.rescueButton
			}, e.prototype.setActivePage = function(t) {
				for (var e = 0; e < this.pageNames.length; e++) this[this.pageNames[e]].visible = this.pageNames[e] === t, this[this.pageNames[e]].visible ? (this.navButtonsAbove.add(this[this.buttonPageNames[e]]), this[this.buttonPageNames[e]].setDisableInput(!0)) : (this.navButtons.add(this[this.buttonPageNames[e]]), this[this.buttonPageNames[e]].setDisableInput(!1))
			}, e.prototype.setupButtons = function() {
				this.buttonPageAttack.onClickCallback = this.setActivePage.bind(this, "pageAttack"), this.buttonPageEpics.onClickCallback = this.setActivePage.bind(this, "pageEpics"), this.buttonPageSwitch.onClickCallback = this.setActivePage.bind(this, "pageSwap"), this.game.state.getCurrentState() === this.game.state.states.PVP ? this.buttonPageItems.onClickCallback = this.openPotionsAlternate.bind(this) : this.buttonPageItems.onClickCallback = this.openPotionsMenu.bind(this), this.getRescueButton().onDownCallback = this.catchClicked.bind(this)
			}, e.prototype.openPotionsMenu = function() {
				this.game.prodigy.open.battlePotionSelect(this)
			}, e.prototype.openPotionsAlternate = function() {
				this.onItemClick.dispatch()
			}, e.prototype.fillSwitchMenu = function() {
				this.fillSwitchMenuCard(1), this.fillSwitchMenuCard(2)
			}, e.prototype.fillSwitchMenuCard = function(t) {
				var e = 1 === t ? "Left" : "Right",
					i = this["creatureDisplay" + e],
					n = this["creatureBacking" + e],
					a = this["creatureName" + e],
					o = this["creatureLevel" + e],
					r = this["swapContents" + e],
					s = this["xpBar" + e],
					l = this["hpBar" + e];
				if (h.Util.isValid(this.playerTeam.team[t])) {
					r.visible = !0;
					var u = this.playerTeam.team[t].getSource(),
						p = h.Util.convertLegacyElements(this.playerTeam.team[t].getSource().getElement());
					i.setFrameName("backing/backing-bookmark-left-" + p), n.setImageFrameName("backing/backing-orb-" + p), a.setText(u.getFirstName()), o.setText("Lvl. " + u.getLevel());
					var d = u.getCurrentHearts();
					l.getActiveTrack().visible = d > 0;
					var g = d / u.getMaxHearts(),
						f = u.getPercentToLevel();
					l.setPercentCompleteOffset(g <= 0 ? 0 : Phaser.Math.clamp(g, .07, 1), -10), s.setPercentCompleteOffset(f <= 0 ? 0 : Phaser.Math.clamp(f, .07, 1), -10), this.playerTeam.team[t].source instanceof c.Player ? this.loadPlayerIcon(n, this.switch.bind(this, t)) : this.loadPetIcon(n, this.playerTeam.team[t].getSource()), this.fillSwitchCardAttacks(this["attackInfoList" + e], this.playerTeam.team[t].getSource().getCurrentBamSpells()), this["creatureSwapButton" + e].setActive(!u.isKnockedOut())
				} else r.visible = !1, i.setFrameName("backing/backing-bookmark-left-empty");
				h.Util.isValid(this["creatureSwapButton" + e].onClickCallback) || (this["creatureSwapButton" + e].onClickCallback = this.switch.bind(this, t))
			}, e.prototype.loadPetIcon = function(t, e) {
				var i = e.getID();
				return h.Util.isValid(t.creatureIcon) && (t.creatureIcon.destroy(), t.creatureIcon = null), t.creatureIcon = this.game.prodigy.create.sprite(65, 65, "icon-pet-" + i, null, new Phaser.Point(.5, .5), function(i) {
					t.add(i), i.tint = e.isKnockedOut() ? 5789784 : 16777215
				}), t.creatureIcon
			}, e.prototype.loadPlayerIcon = function(t, e) {
				h.Util.isValid(t.creatureIcon) && (t.creatureIcon.destroy(), t.creatureIcon = null);
				var i = this.game.prodigy.create.player(t, this.game.prodigy.player, 1, 70, 135, !0, !0, !1);
				return t.creatureIcon = i, i.reload(function() {
					if (i.standStill(), i.isInTransformedMode) try {
						i.transformedPet.sprites.children[0].animations.stop(), i.transformedPet.showName(), i.y -= i.transformedPet.height / 4
					} catch (t) {
						a.Logger.log(t, a.LogLevel.Verbose)
					}
					i.clickCallback = e
				}), t.creatureIcon
			}, e.prototype.fillSwitchCardAttacks = function(t, e) {
				t.removeBetween(2, void 0, !0);
				for (var i = 0; i < e.length; i++) e[i].locked || new d.BamSpellInfo(this.instantiateTemplate("spellDisplay", t), e[i].ID)
			}, e.prototype.fillEpicMenu = function() {
				for (var t = 0; t < this.epicArray.length; t++) {
					new u.BamEpicButton(this.instantiateTemplate("epicAttackButton", t <= 4 ? this.leftEpics : this.rightEpics), this.epicArray[t], this.game.prodigy.player.kennel.hasPet(this.epicArray[t])).onClick.add(this.epicCastSpellClicked.bind(this))
				}
			}, e.prototype.fillSpellMenu = function() {
				for (var t = this, e = 0; e < this.attackButtonList.length; e++) this.attackButtonList[e].destroy();
				this.attackButtonList = [];
				var i = this.playerTeam.getCurrentSource().getCurrentBamSpells();
				if (this.playerTeam.getCurrent().source instanceof c.Player) {
					var n = this.playerTeam.team[0].source.getEquipmentSpell("weapon"),
						a = this.playerTeam.team[0].source.getEquipmentSpell("spellRelic");
					this.attackButtonList.push(new p.BamSpellButton(this.game, this.playerTeam, this.instantiateTemplate("spellButton", this.spellTopRight), n, !1)), this.attackButtonList.push(new p.BamSpellButton(this.game, this.playerTeam, this.instantiateTemplate("spellButton", this.spellBottomRight), a, !1))
				} else this.attackButtonList.push(new p.BamSpellButton(this.game, this.playerTeam, this.instantiateTemplate("spellButton", this.spellTopRight), i[2], !1)), this.attackButtonList.push(new p.BamSpellButton(this.game, this.playerTeam, this.instantiateTemplate("spellButton", this.spellBottomRight), i[3], !1));
				this.attackButtonList.push(new p.BamSpellButton(this.game, this.playerTeam, this.instantiateTemplate("spellButton", this.spellTopLeft), i[0], !0)), this.attackButtonList.push(new p.BamSpellButton(this.game, this.playerTeam, this.instantiateTemplate("spellButton", this.spellBottomLeft), i[1], !0));
				for (e = 0; e < this.attackButtonList.length; e++) this.attackButtonList[e].spellCast.add(this.spellCastClicked.bind(this)), this.attackButtonList[e].spellBlocked.add(function(e) {
					t.tutorial.handleSpellBlocked(e)
				})
			}, e.prototype.switch = function(t) {
				t > this.playerTeam.getTeamSize() - 1 || this.playerTeam.team[t].getSource().isKnockedOut() || (this.playerTeam.getCurrentSource().isKnockedOut() ? this.onTeamForceSwitch.dispatch(t) : this.onTeamSwitch.dispatch(t), this.hide())
			}, e.prototype.spellCastClicked = function(t, e) {
				this.playerTeam.changeEnergy(-1 * e), this.onSpellCast.dispatch(t, e), this.hide()
			}, e.prototype.epicCastSpellClicked = function(t, e) {
				this.game.state.getCurrentState() === this.game.state.states.PVP ? (this.hide(), this.onEpicAttack.dispatch(t)) : this.game.state.states.Battle.combatManager.canCastEpic() && e ? (this.hide(), this.onEpicAttack.dispatch(t)) : e ? h.Util.isValid(this.game.state.states.Battle.mods.epicArena) ? this.game.prodigy.open.message(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("EPICS_ERROR_ONCE_PER_CHALLENGE")) : this.game.prodigy.open.message(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("EPICS_ERROR_ONCE_PER_BATTLE")) : this.game.prodigy.open.buyToy(t.epicId)
			}, e.prototype.determineRescueButtonState = function() {
				var t = this.playerTeam.getCurrentSource(),
					e = this.enemyTeam.getCurrentSource();
				this.getRescueButton().visible = s.Rescue.canClick(this.game.prodigy.player, t, this.enemyTeam);
				var i = e.catchAttempt < 2 || s.Rescue.isFree(this.game.prodigy.player);
				this.getRescueButton().setActive(i, i ? 16777215 : 8947848)
			}, e.prototype.catchClicked = function() {
				var t = this;
				if (this.getRescueButton().visible) {
					var e = new s.Rescue(this.game, this.playerTeam.getCurrent(), this.enemyTeam.getCurrent());
					e.onQuestionOpen.add(function() {
						t.hide()
					}), this.onCatchClick.dispatch(e)
				}
			}, e.prototype.initTutorial = function() {
				this.tutorial.init(this.enemyTeam)
			}, e.prototype.handleTutorial = function() {
				this.game.state.getCurrentState() !== this.game.state.states.PVP && this.tutorial.playFromQueue()
			}, e.prototype.areItemsEnabled = function() {
				return e.canUseItems && this.game.prodigy.player.backpack.getBattleItems().length > 0
			}, e.prototype.canSwitch = function() {
				return this.playerTeam.getTeamSize() > 1 && !this.isSwitchDisabledInDarkTower()
			}, e.prototype.isSwitchDisabledInDarkTower = function() {
				return h.Util.isValid(this.game.state.getCurrentState().mods) && this.game.state.getCurrentState().mods.switchDisabled
			}, e.prototype.canEpicAttack = function() {
				var t = this.game.state.getCurrentState().mods;
				return !r(t, "epicAttacksDisabled", !1)
			}, e.canUseItems = !0, e
		}(i(13).Menu);
	e.Bam = g
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(2),
		s = i(0),
		l = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i) || this;
				return n.isActive = !0, n.onDestroy.add(n.handleDestroy.bind(n)), n
			}
			return n(e, t), e.prototype.populate = function(e) {
				t.prototype.populate.call(this, e);
				var i = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				s.Util.isValid(e.textKey) && (e.text = i.getText(e.textKey)), s.Util.isValid(e.forceUpperCase) && e.forceUpperCase && (e.text = e.text.toUpperCase()), this.text = this.game.add.text(0, 0, e.text), this.text.wordWrap = !!s.Util.isValid(e.wordWrap) && e.wordWrap, this.text.wordWrapWidth = s.Util.isValid(e.wordWrapWidth) ? e.wordWrapWidth : this.width, this.text.align = s.Util.isValid(e.align) ? e.align : "center", this.text.lineSpacing = s.Util.isValid(e.lineSpacing) ? e.lineSpacing : 0, this.text.setTextBounds(0, 0, this.width, this.height), this.text.boundsAlignH = s.Util.isValid(e.boundsAlignH) ? e.boundsAlignH : "left", this.text.boundsAlignV = s.Util.isValid(e.boundsAlignV) ? e.boundsAlignV : "top";
				var n = s.Util.isValid(e.style) ? r.Items.getItem("fontStyle", e.style) : r.Items.getItem("fontStyle", 1);
				if (s.Util.isValid(n)) {
					var o = n.data;
					for (var l in o) this.text[l] = o[l];
					s.Util.isValid(o.gradientFill) && o.gradientFill.length > 1 ? this.createGradient(this.text, o) : s.Util.isValid(e.color) && (this.text.fill = e.color)
				}
				s.Util.isValid(e.fontSize) && (this.text.fontSize = e.fontSize), this.add(this.text)
			}, e.prototype.createGradient = function(t, e) {
				for (var i = t.context.createLinearGradient(0, 0, 0, t.height), n = t.precalculateWordWrap(t.text).length, a = e.gradientFill.length, o = 1 / ((a - 1) * n), r = 0, s = 0; s < n; s++) {
					for (var l = 0; l < a; l++) i.addColorStop(r, e.gradientFill[l]), r += o;
					r -= o
				}
				t.fill = i
			}, e.prototype.setText = function(t) {
				this.text.setText(t, !0)
			}, e.prototype.handleDestroy = function() {
				o.GameConstants.get("GameConstants.Build.DEBUG") && s.Util.isValid(this.name) && this.game.prodigy.automation.removeAllTriggers(this)
			}, e.prototype.applyTint = function(t) {
				this.text.tint = t
			}, e
		}(i(27).UIElement);
	e.WebFontText = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = i(0),
		r = function(t) {
			function e(e, i, n, r, s, l, c, h, u, p) {
				void 0 === s && (s = 0), void 0 === l && (l = null);
				var d = this,
					g = "atlas-18",
					f = "empty",
					y = e.prodigy.load.isFileLoaded(r);
				y ? (g = r, f = s) : p && (f = "icon-loading"), (d = t.call(this, e, i, n, g, f) || this).forcedWidth = h, d.forcedHeight = u, d.onTextureLoaded = c, d.loadingTween = null;
				var m = !1;
				return y ? (d.checkSpriteDimension(), m = !0, o.Util.isValid(l) && d.anchor.setTo(l.x, l.y)) : (o.Util.isValid(p) && p && (d.anchor.setTo(.5, .5), d.x += 40, d.y += 40, d.loadingTween = d.game.add.tween(d).to({
					angle: 360
				}, 2e3, Phaser.Easing.Linear.None, !0, 0, a.GameConstants.MAX_SAFE_INTEGER, !1)), d.checkSpriteDimension(), e.prodigy.load.assets(r, d.onSourceAssetLoaded.bind(d, i, n, r, s, l))), m && d.checkCallback(), d
			}
			return n(e, t), e.prototype.setActive = function(t) {
				this.tint = t ? 16777215 : 5789784
			}, e.prototype.loadNewTexture = function(t, e, i, n) {
				void 0 === e && (e = 0), void 0 === i && (i = null), void 0 === n && (n = !1), o.Util.isValid(this.loadingTween) && (this.loadingTween.stop(), this.loadingTween = null, this.anchor.setTo(0, 0), this.x -= 40, this.y -= 40, this.angle = 0), this.game.prodigy.load.isFileLoaded(t) ? this.onSourceAssetLoaded(this.x, this.y, t, e, i) : (n ? (this.loadTexture("atlas-18", "icon-loading"), this.anchor.setTo(.5, .5), this.x += 40, this.y += 40, this.loadingTween = this.game.add.tween(this).to({
					angle: 360
				}, 2e3, Phaser.Easing.Linear.None, !0, 0, a.GameConstants.MAX_SAFE_INTEGER, !1)) : this.loadTexture("atlas-18", "empty"), this.game.prodigy.load.assets(t, this.onSourceAssetLoaded.bind(this, this.x, this.y, t, e, i)))
			}, e.prototype.checkSpriteDimension = function() {
				o.Util.isValid(this.forcedWidth) && (this.width = this.forcedWidth), o.Util.isValid(this.forcedHeight) && (this.height = this.forcedHeight)
			}, e.prototype.rotateMiddleBased = function(t) {
				this.middleRotatedAngle = t, this.anchor.set(.5, .5), this.angle = this.middleRotatedAngle
			}, e.prototype.onSourceAssetLoaded = function(t, e, i, n, a) {
				if (void 0 === a && (a = null), o.Util.isValid(this.game)) {
					if (o.Util.isValid(this.loadingTween) && (this.loadingTween.stop(), this.loadingTween = null, this.anchor.setTo(0, 0), this.x -= 40, this.y -= 40, this.angle = 0), this.key = i, this.components.Animation && (this.animations = new Phaser.AnimationManager(this)), this.components.LoadTexture && null !== this.key) {
						var r = n;
						0 === i.indexOf("icon-") && (r = 0), this.loadTexture(i, r)
					}
					this.components.FixedToCamera && (this.cameraOffset = new Phaser.Point(t, e)), o.Util.isValid(this.middleRotatedAngle) ? this.rotateMiddleBased(this.middleRotatedAngle) : o.Util.isValid(a) && this.anchor.setTo(a.x, a.y), this.checkSpriteDimension(), 16777215 !== this.tint && (this.tintedTexture = PIXI.CanvasTinter.getTintedTexture(this, this.tint)), this.checkCallback()
				}
			}, e.prototype.checkCallback = function() {
				o.Util.isValid(this.onTextureLoaded) && this.onTextureLoaded(this)
			}, e
		}(Phaser.Sprite);
	e.Sprite = r
}, function(t, e, i) {
	var n = i(347),
		a = i(194);
	t.exports = function(t, e, i, o) {
		var r = !i;
		i || (i = {});
		for (var s = -1, l = e.length; ++s < l;) {
			var c = e[s],
				h = o ? o(i[c], t[c], c, i, t) : void 0;
			void 0 === h && (h = t[c]), r ? a(i, c, h) : n(i, c, h)
		}
		return i
	}
}, function(t, e, i) {
	var n = i(111),
		a = i(50),
		o = i(135),
		r = i(52);
	t.exports = function(t, e, i) {
		if (!r(i)) return !1;
		var s = typeof e;
		return !!("number" == s ? a(i) && o(e, i.length) : "string" == s && e in i) && n(i[e], t)
	}
}, function(t, e, i) {
	var n = i(357),
		a = i(1069),
		o = i(18);
	t.exports = function(t) {
		return (o(t) ? n : a)(t)
	}
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(377)), n(i(1093)), n(i(1092)), n(i(1091)), n(i(1088)), n(i(131)), n(i(1087)), n(i(1085)), n(i(105)), n(i(1084)), n(i(1081)), n(i(1080)), n(i(1077))
}, function(t, e) {
	t.exports = function(t) {
		return t
	}
}, function(t, e, i) {
	var n = i(1109),
		a = i(217),
		o = i(1108),
		r = i(384),
		s = i(1107),
		l = i(73),
		c = i(394),
		h = c(n),
		u = c(a),
		p = c(o),
		d = c(r),
		g = c(s),
		f = l;
	(n && "[object DataView]" != f(new n(new ArrayBuffer(1))) || a && "[object Map]" != f(new a) || o && "[object Promise]" != f(o.resolve()) || r && "[object Set]" != f(new r) || s && "[object WeakMap]" != f(new s)) && (f = function(t) {
		var e = l(t),
			i = "[object Object]" == e ? t.constructor : void 0,
			n = i ? c(i) : "";
		if (n) switch (n) {
			case h:
				return "[object DataView]";
			case u:
				return "[object Map]";
			case p:
				return "[object Promise]";
			case d:
				return "[object Set]";
			case g:
				return "[object WeakMap]"
		}
		return e
	}), t.exports = f
}, function(t, e, i) {
	var n = i(53).Symbol;
	t.exports = n
}, function(t, e, i) {
	var n, a = i(1191),
		o = i(411),
		r = i(1190),
		s = i(1189),
		l = i(1188);
	"undefined" != typeof ArrayBuffer && (n = i(1187));
	var c = "undefined" != typeof navigator && /Android/i.test(navigator.userAgent),
		h = "undefined" != typeof navigator && /PhantomJS/i.test(navigator.userAgent),
		u = c || h;
	e.protocol = 3;
	var p = e.packets = {
			open: 0,
			close: 1,
			ping: 2,
			pong: 3,
			message: 4,
			upgrade: 5,
			noop: 6
		},
		d = a(p),
		g = {
			type: "error",
			data: "parser error"
		},
		f = i(1186);

	function y(t, e, i) {
		for (var n = new Array(t.length), a = s(t.length, i), o = function(t, i, a) {
				e(i, function(e, i) {
					n[t] = i, a(e, n)
				})
			}, r = 0; r < t.length; r++) o(r, t[r], a)
	}
	e.encodePacket = function(t, i, n, a) {
		"function" == typeof i && (a = i, i = !1), "function" == typeof n && (a = n, n = null);
		var o = void 0 === t.data ? void 0 : t.data.buffer || t.data;
		if ("undefined" != typeof ArrayBuffer && o instanceof ArrayBuffer) return function(t, i, n) {
			if (!i) return e.encodeBase64Packet(t, n);
			var a = t.data,
				o = new Uint8Array(a),
				r = new Uint8Array(1 + a.byteLength);
			r[0] = p[t.type];
			for (var s = 0; s < o.length; s++) r[s + 1] = o[s];
			return n(r.buffer)
		}(t, i, a);
		if (void 0 !== f && o instanceof f) return function(t, i, n) {
			if (!i) return e.encodeBase64Packet(t, n);
			if (u) return function(t, i, n) {
				if (!i) return e.encodeBase64Packet(t, n);
				var a = new FileReader;
				return a.onload = function() {
					e.encodePacket({
						type: t.type,
						data: a.result
					}, i, !0, n)
				}, a.readAsArrayBuffer(t.data)
			}(t, i, n);
			var a = new Uint8Array(1);
			a[0] = p[t.type];
			var o = new f([a.buffer, t.data]);
			return n(o)
		}(t, i, a);
		if (o && o.base64) return function(t, i) {
			var n = "b" + e.packets[t.type] + t.data.data;
			return i(n)
		}(t, a);
		var r = p[t.type];
		return void 0 !== t.data && (r += n ? l.encode(String(t.data), {
			strict: !1
		}) : String(t.data)), a("" + r)
	}, e.encodeBase64Packet = function(t, i) {
		var n, a = "b" + e.packets[t.type];
		if (void 0 !== f && t.data instanceof f) {
			var o = new FileReader;
			return o.onload = function() {
				var t = o.result.split(",")[1];
				i(a + t)
			}, o.readAsDataURL(t.data)
		}
		try {
			n = String.fromCharCode.apply(null, new Uint8Array(t.data))
		} catch (e) {
			for (var r = new Uint8Array(t.data), s = new Array(r.length), l = 0; l < r.length; l++) s[l] = r[l];
			n = String.fromCharCode.apply(null, s)
		}
		return a += btoa(n), i(a)
	}, e.decodePacket = function(t, i, n) {
		if (void 0 === t) return g;
		if ("string" == typeof t) {
			if ("b" === t.charAt(0)) return e.decodeBase64Packet(t.substr(1), i);
			if (n && !1 === (t = function(t) {
					try {
						t = l.decode(t, {
							strict: !1
						})
					} catch (t) {
						return !1
					}
					return t
				}(t))) return g;
			var a = t.charAt(0);
			return Number(a) == a && d[a] ? t.length > 1 ? {
				type: d[a],
				data: t.substring(1)
			} : {
				type: d[a]
			} : g
		}
		a = new Uint8Array(t)[0];
		var o = r(t, 1);
		return f && "blob" === i && (o = new f([o])), {
			type: d[a],
			data: o
		}
	}, e.decodeBase64Packet = function(t, e) {
		var i = d[t.charAt(0)];
		if (!n) return {
			type: i,
			data: {
				base64: !0,
				data: t.substr(1)
			}
		};
		var a = n.decode(t.substr(1));
		return "blob" === e && f && (a = new f([a])), {
			type: i,
			data: a
		}
	}, e.encodePayload = function(t, i, n) {
		"function" == typeof i && (n = i, i = null);
		var a = o(t);
		if (i && a) return f && !u ? e.encodePayloadAsBlob(t, n) : e.encodePayloadAsArrayBuffer(t, n);
		if (!t.length) return n("0:");
		y(t, function(t, n) {
			e.encodePacket(t, !!a && i, !1, function(t) {
				n(null, function(t) {
					return t.length + ":" + t
				}(t))
			})
		}, function(t, e) {
			return n(e.join(""))
		})
	}, e.decodePayload = function(t, i, n) {
		if ("string" != typeof t) return e.decodePayloadAsBinary(t, i, n);
		var a;
		if ("function" == typeof i && (n = i, i = null), "" === t) return n(g, 0, 1);
		for (var o, r, s = "", l = 0, c = t.length; l < c; l++) {
			var h = t.charAt(l);
			if (":" === h) {
				if ("" === s || s != (o = Number(s))) return n(g, 0, 1);
				if (s != (r = t.substr(l + 1, o)).length) return n(g, 0, 1);
				if (r.length) {
					if (a = e.decodePacket(r, i, !1), g.type === a.type && g.data === a.data) return n(g, 0, 1);
					if (!1 === n(a, l + o, c)) return
				}
				l += o, s = ""
			} else s += h
		}
		return "" !== s ? n(g, 0, 1) : void 0
	}, e.encodePayloadAsArrayBuffer = function(t, i) {
		if (!t.length) return i(new ArrayBuffer(0));
		y(t, function(t, i) {
			e.encodePacket(t, !0, !0, function(t) {
				return i(null, t)
			})
		}, function(t, e) {
			var n = e.reduce(function(t, e) {
					var i;
					return t + (i = "string" == typeof e ? e.length : e.byteLength).toString().length + i + 2
				}, 0),
				a = new Uint8Array(n),
				o = 0;
			return e.forEach(function(t) {
				var e = "string" == typeof t,
					i = t;
				if (e) {
					for (var n = new Uint8Array(t.length), r = 0; r < t.length; r++) n[r] = t.charCodeAt(r);
					i = n.buffer
				}
				a[o++] = e ? 0 : 1;
				var s = i.byteLength.toString();
				for (r = 0; r < s.length; r++) a[o++] = parseInt(s[r]);
				a[o++] = 255;
				for (n = new Uint8Array(i), r = 0; r < n.length; r++) a[o++] = n[r]
			}), i(a.buffer)
		})
	}, e.encodePayloadAsBlob = function(t, i) {
		y(t, function(t, i) {
			e.encodePacket(t, !0, !0, function(t) {
				var e = new Uint8Array(1);
				if (e[0] = 1, "string" == typeof t) {
					for (var n = new Uint8Array(t.length), a = 0; a < t.length; a++) n[a] = t.charCodeAt(a);
					t = n.buffer, e[0] = 0
				}
				var o = (t instanceof ArrayBuffer ? t.byteLength : t.size).toString(),
					r = new Uint8Array(o.length + 1);
				for (a = 0; a < o.length; a++) r[a] = parseInt(o[a]);
				if (r[o.length] = 255, f) {
					var s = new f([e.buffer, r.buffer, t]);
					i(null, s)
				}
			})
		}, function(t, e) {
			return i(new f(e))
		})
	}, e.decodePayloadAsBinary = function(t, i, n) {
		"function" == typeof i && (n = i, i = null);
		for (var a = t, o = []; a.byteLength > 0;) {
			for (var s = new Uint8Array(a), l = 0 === s[0], c = "", h = 1; 255 !== s[h]; h++) {
				if (c.length > 310) return n(g, 0, 1);
				c += s[h]
			}
			a = r(a, 2 + c.length), c = parseInt(c);
			var u = r(a, 0, c);
			if (l) try {
				u = String.fromCharCode.apply(null, new Uint8Array(u))
			} catch (t) {
				var p = new Uint8Array(u);
				u = "";
				for (h = 0; h < p.length; h++) u += String.fromCharCode(p[h])
			}
			o.push(u), a = r(a, c)
		}
		var d = o.length;
		o.forEach(function(t, a) {
			n(e.decodePacket(t, i, !0), a, d)
		})
	}
}, function(t, e, i) {
	function n(t) {
		if (t) return function(t) {
			for (var e in n.prototype) t[e] = n.prototype[e];
			return t
		}(t)
	}
	t.exports = n, n.prototype.on = n.prototype.addEventListener = function(t, e) {
		return this._callbacks = this._callbacks || {}, (this._callbacks["$" + t] = this._callbacks["$" + t] || []).push(e), this
	}, n.prototype.once = function(t, e) {
		function i() {
			this.off(t, i), e.apply(this, arguments)
		}
		return i.fn = e, this.on(t, i), this
	}, n.prototype.off = n.prototype.removeListener = n.prototype.removeAllListeners = n.prototype.removeEventListener = function(t, e) {
		if (this._callbacks = this._callbacks || {}, 0 == arguments.length) return this._callbacks = {}, this;
		var i, n = this._callbacks["$" + t];
		if (!n) return this;
		if (1 == arguments.length) return delete this._callbacks["$" + t], this;
		for (var a = 0; a < n.length; a++)
			if ((i = n[a]) === e || i.fn === e) {
				n.splice(a, 1);
				break
			} return this
	}, n.prototype.emit = function(t) {
		this._callbacks = this._callbacks || {};
		var e = [].slice.call(arguments, 1),
			i = this._callbacks["$" + t];
		if (i)
			for (var n = 0, a = (i = i.slice(0)).length; n < a; ++n) i[n].apply(this, e);
		return this
	}, n.prototype.listeners = function(t) {
		return this._callbacks = this._callbacks || {}, this._callbacks["$" + t] || []
	}, n.prototype.hasListeners = function(t) {
		return !!this.listeners(t).length
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			t[t.Verbose = 0] = "Verbose", t[t.Warning = 1] = "Warning", t[t.Error = 2] = "Error"
		}(e.LogLevel || (e.LogLevel = {}))
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		return function(t) {
			this.game = t
		}
	}();
	e.NetworkHandler = n
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), e.ParentLinkBenefitsConfig = {
		ANALYTICS_SOURCE_BADGE: "Parental-Benefits-Badge",
		ANALYTICS_SOURCE_SETTINGS: "Parental-Benefits-Settings",
		ANALYTICS_SOURCE_LOGIN: "Parental-Benefits-Login",
		XP_BONUS: {
			frameName: "icons/small-star-boost",
			trackingEvent: "XPBonus-Icon-Click"
		},
		BUDDY: {
			frameName: "icons/get-fox-buddy",
			trackingEvent: "Buddy-Icon-Click"
		},
		APPLES: {
			frameName: "icons/get-free-apples",
			trackingEvent: "Apples-Icon-Click"
		},
		TRACKING_EVENT_MOBILE: "Mobile-Message-Displayed",
		TRACKING_EVENT_SIGN_UP: "Signup-Button-Click",
		TRACKING_EVENT_PLAY_ONLY: "Signup-Button-Play",
		TRACKING_EVENT_LINK_PARENT: "Signup-Button-LinkParent",
		TRACKING_EVENT_POPUP_SHOWN: "Popup-Shown",
		TRACKING_EVENT_SCHOOL_HOURS: "School-Hours-Message-Displayed",
		TRACKING_EVENT_RECEIVED_REWARDS: "Parent-Benefits-Rewards-Received",
		MESSAGE_MOBILE: "PARENT_LINK_MOBILE_MESSAGE",
		MESSAGE_POST_CLICK: "PARENT_LINK_POST_CLICK",
		MESSAGE_SCHOOL_HOURS: "PARENT_LINK_SCHOOL_HOURS",
		ATLAS: "atlas-132",
		DESCRIPTION_TEXT_BG_HEIGHT_PERCENT: .25,
		REWARD_ICONS_BG_HEIGHT_PERCENT: .5,
		LINK_ACCOUNT_BG_HEIGHT_PERCENT: .88,
		CLOSE_BTN_OFFSET: {
			x: -10,
			y: 10
		},
		BODY_TEXT_OFFSET: {
			x: 40,
			y: 0
		},
		ICON_TWEEN_TIME_MS: 125,
		ICON_TWEEN_DELAY_MS: 125,
		ICON_TWEEN_AMOUNT_Y: 20,
		SUCCESS_POPUP_CONFIG: {
			headerText: "PARENTAL_LINK_TITLE_SUCCESS",
			bodyText: "PARENT_LINK_SUCCESS_BODY",
			showCloseButton: !1
		},
		INFO_POPUP_CONFIG: {
			headerText: "PARENTAL_LINK_TITLE",
			bodyText: "PARENT_LINK_INFO_BODY",
			showCloseButton: !0
		},
		AT_SCHOOL_POPUP_CONFIG: {
			headerText: "PARENTAL_LINK_TITLE",
			bodyText: "PARENTAL_LINK_CONTENT_SCHOOL",
			showCloseButton: !0
		},
		INFO_POPUP_SETTINGS_CONFIG: {
			headerText: "PARENTAL_LINK_TITLE",
			bodyText: "PARENT_LINK_INFO_BODY",
			showCloseButton: !0
		}
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(7),
		o = i(22),
		r = i(0),
		s = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i) || this;
				return a.data = n, a.visible = !1, a.backBtn = a.game.prodigy.create.textButton(a, 180, 160, {
					icon: "back",
					size: o.TextButton.TALL
				}, function() {
					a.back()
				}), a.nextBtn = a.game.prodigy.create.textButton(a, 1e3, 160, {
					icon: "next",
					size: o.TextButton.TALL
				}, function() {
					a.next()
				}), a.counter = 11, a
			}
			return n(e, t), e.prototype.init = function(t, e) {
				this.backCallback = t, this.nextCallback = e, this.backBtn.visible = r.Util.isValid(t), this.nextBtn.visible = r.Util.isValid(e)
			}, e.prototype.open = function(t) {
				this.visible = !0
			}, e.prototype.close = function() {
				this.visible = !1, r.Util.isValid(this.dialogue) && this.dialogue.close()
			}, e.prototype.back = function() {
				r.Util.isValid(this.backCallback) && (this.close(), this.backCallback())
			}, e.prototype.next = function() {
				r.Util.isValid(this.nextCallback) && (this.nextCallback(), this.close())
			}, e
		}(a.Element);
	e.RegisterPage = s
}, function(t, e, i) {
	var n = i(869),
		a = i(868),
		o = i(18);
	t.exports = function(t) {
		return (o(t) ? n : a)(t)
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(96),
		r = i(6),
		s = i(4),
		l = i(2),
		c = i(23),
		h = i(0),
		u = i(70),
		p = i(34),
		d = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i) || this;
				return n.petImage = null, n.currencyLabel = null, n.itemContainer = null, n.buyButtonIcon = null, n.epicNameLabel = null, n.epicElementSprite = null, n.buyNowButton = null, n.storeID = 16, e.prodigy.network.sendToyEvent("toy-store", 4), n.create(), n.onItemPurchased.add(function() {
					n.currencyLabel.setText("" + n.game.prodigy.player.backpack.hasItem("currency", 3))
				}), n.onItemRecieved.add(function() {
					n.setMode(n.page)
				}), n
			}
			return n(e, t), e.prototype.create = function() {
				var e = this;
				this.addTransparent(), this.createBaseSetup(29, 16, "shine2", null, null, !0);
				var i = this.game.prodigy.create.element(this, 20, 0);
				i.setRenderState(!0), i.add(new Phaser.TileSprite(this.game, 51, 100, 1138, 40, "atlas-161", "orange-top")), i.add(new Phaser.TileSprite(this.game, 51, 140, 1138, 40, "atlas-161", "orange-mid")), i.add(new Phaser.TileSprite(this.game, 51, 180, 1138, 40, "atlas-161", "orange-top2")), this.spinner = this.add(this.game.prodigy.create.sprite(640, 360, "atlas-18", "loading")), this.spinner.anchor.setTo(.5, .5), this.game.add.tween(this.spinner).to({
					angle: 360
				}, 2e3, Phaser.Easing.Linear.None, !0, 0, s.GameConstants.MAX_SAFE_INTEGER, !1), t.prototype.create.call(this), this.startLoad(["atlas-98"], function() {
					i.add(e.game.prodigy.create.sprite(55, 74, "atlas-98", "logo")), e.process()
				}), this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.StoreService).getStore(16).then(this.onGetStoreSuccess.bind(this)).catch(this.onGetStoreFailure.bind(this))
			}, e.prototype.onGetStoreSuccess = function(t) {
				h.Util.isValid(this.game) && (this.storeData = t, this.storeData.setPages(o(this.storeData.getPages())), this.spinner.destroy(), this.spinner = null, this.setupTabs(), this.setupItemPanel(), this.setupEpicDescription(), this.setMode(0))
			}, e.prototype.onGetStoreFailure = function(t) {
				t instanceof Error && a.Logger.log(t.message, a.LogLevel.Error);
				var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.game.prodigy.open.message(e.getText("STORE_OPEN_FAILED_MESSAGE"), this.close.bind(this), null, e.getText("STORE_OPEN_FAILED_TITLE"))
			}, e.prototype.setupTabs = function() {
				for (var t = this, e = this.storeData.getPages(), i = function(i) {
						var a = e[i].getButton();
						n.buttons.push(n.game.prodigy.create.advButton(n, 102 * i + 283, 110, {
							top: a.getTopText(),
							bot: a.getBottomText(),
							icon: {
								iconAtlas: a.getItemType() + "-" + a.getItemID()
							}
						}, function() {
							t.setMode(i)
						}))
					}, n = this, a = 0; a < e.length; a++) i(a)
			}, e.prototype.setupItemPanel = function() {
				var t = this.game.prodigy.create.panel(this, 780, 240, 10, 9, "orange");
				t.add(new Phaser.TileSprite(this.game, 0, 30, 400, 60, "atlas-161", "overlay-small")).alpha = .15, this.game.prodigy.create.font(t, 30, 45, "[mail-leaf] ", {
					size: 40
				}), this.currencyLabel = this.game.prodigy.create.font(t, 65, 32, "" + this.game.prodigy.player.backpack.hasItem("currency", 3), {
					size: 40
				}), this.itemContainer = this.game.prodigy.create.element(this, 60, 240)
			}, e.prototype.setupEpicDescription = function() {
				var t = this,
					i = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					n = l.Items.getItem("singleImage", this.storeData.getPages()[this.page].getButton().getItemID()).metadata.petID,
					o = l.Items.getItem("pet", n).data;
				this.epicNameLabel = this.game.prodigy.create.font(this, 480, 280, o.name, {
					size: 36,
					fontID: 9
				}), this.epicElementSprite = this.add(this.game.prodigy.create.sprite(410, 269, "atlas-21", "icon-bar-" + o.element)), this.buyNowButton = this.game.prodigy.create.panelButton(this, 240, 530, 9, 2, "button", function() {
					e.openWebsite(t.game, "buy-toy-now", void 0, n)
				}), this.game.prodigy.create.font(this.buyNowButton.content, 100, 15, i.getText("BUY_TOY_BUY_NOW"), {
					width: 250,
					size: 36,
					fontID: 9,
					align: "center"
				}), this.buyButtonIcon = this.buyNowButton.content.add(this.game.prodigy.icon.createFromData({
					type: "pet",
					ID: n
				}, 10, -10)), this.game.prodigy.create.font(this, 369, 340, i.getText("BUY_TOY_ASK_PARENT"), {
					size: 16,
					width: 370
				})
			}, e.prototype.setMode = function(e) {
				var i = this;
				t.prototype.setMode.call(this, e), this.page = e, this.itemContainer.removeAll(!0);
				for (var n = this.storeData.getPages()[e], a = function(t) {
						var e = n.getStoreItems()[t],
							a = e.getCost()[0];
						o.game.prodigy.create.item(o.itemContainer, t % 2 * 180 + 750, 130, {
							ID: e.getID(),
							type: e.getType(),
							cost: {
								ID: a.getID(),
								type: a.getType(),
								N: a.getAmount()
							}
						}, p.EItemInfoMode.Store, function() {
							i.itemClicked(e)
						})
					}, o = this, r = 0; r < n.getStoreItems().length; r++) a(r);
				this.updateSelectedEpicData()
			}, e.prototype.updateSelectedEpicData = function() {
				var t = this;
				h.Util.isValid(this.petImage) && (this.game.tweens.removeFrom(this.petImage), this.petImage.destroy());
				var i = l.Items.getItem("singleImage", this.storeData.getPages()[this.page].getButton().getItemID()).metadata.petID;
				this.petImage = this.add(this.game.prodigy.create.animatedSprite(0, 0, "atlas-98", [i + "_1", "" + i], new Phaser.Point(.5, .5), [.715, 1], [{
					x: 235,
					y: 399
				}, {
					x: 245,
					y: 385
				}]));
				var n = this.game.add.tween(this.petImage).to({
						alpha: 1
					}, 2800, Phaser.Easing.Quadratic.In),
					a = this.game.add.tween(this.petImage).to({
						alpha: 0
					}, 1e3, Phaser.Easing.Quadratic.In),
					o = this.game.add.tween(this.petImage).to({
						frameNumber: 1
					}, 1, Phaser.Easing.Linear.None),
					r = this.game.add.tween(this.petImage).to({
						alpha: 1
					}, 1e3, Phaser.Easing.Quadratic.In),
					s = this.game.add.tween(this.petImage).to({
						alpha: 1
					}, 2800, Phaser.Easing.Quadratic.In),
					c = this.game.add.tween(this.petImage).to({
						alpha: 0
					}, 1e3, Phaser.Easing.Quadratic.In),
					u = this.game.add.tween(this.petImage).to({
						frameNumber: 0
					}, 1, Phaser.Easing.Linear.None),
					p = this.game.add.tween(this.petImage).to({
						alpha: 1
					}, 1e3, Phaser.Easing.Quadratic.In);
				n.chain(a), a.chain(o), o.chain(r), r.chain(s), s.chain(c), c.chain(u), u.chain(p), p.chain(n), n.start();
				var d = l.Items.getItem("pet", i).data;
				this.epicNameLabel.setText(d.name), this.epicElementSprite.loadNewTexture("atlas-21", "icon-bar-" + d.element, null), this.buyButtonIcon.loadNewTexture("icon-pet-" + i, 0, null), this.buyNowButton.callback = function() {
					e.openWebsite(t.game, "buy-toy-now", void 0, i)
				}
			}, e.prototype.close = function() {
				h.Util.isValid(this.petImage) && this.game.tweens.removeFrom(this.petImage), t.prototype.close.call(this)
			}, e.openWebsite = function(t, e, i, n) {
				if (void 0 === i && (i = !1), void 0 === n && (n = -1), c.Device.iPadMini() || c.Device.isTablet() || c.Device.isNativeApp()) t.prodigy.open.message(t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUY_TOY_REQUIRE_COMPUTER_MESSAGE"));
				else try {
					t.prodigy.network.sendToyEvent(e, 5, n);
					var o = t.prodigy.player,
						r = h.Util.isValid(o.classIDs) && o.classIDs.length > 0 ? o.classIDs[o.classIDs.length - 1] % 4 : 4,
						s = "www.prodigygame.com/toys/#",
						l = "";
					switch (n) {
						case 125:
							l = "/toys/big-hex";
							break;
						case 126:
							l = "/toys/florafox";
							break;
						case 127:
							l = "/toys/arctursus";
							break;
						case 128:
							l = "/toys/diveodile";
							break;
						case 129:
							l = "/toys/magmischief";
							break;
						case 130:
							l = "/toys/chillnchar";
							break;
						case 131:
							l = "/toys/tidus";
							break;
						case 132:
							l = "/toys/luma";
							break;
						case 133:
							l = "/toys/eclipse";
							break;
						default:
							l = ""
					}
					i ? u.NetworkManager.openWebsite("" + s + l + "?id=" + t.prodigy.player.userID + "&epoch=" + (new Date).valueOf() + "&version=" + e + "&token=" + t.prodigy.network.api.getUserToken() + "&uTest=" + o.userID % 10 + "&cTest=" + r + "&vid=1#toys") : u.NetworkManager.openWebsite("" + s + l + "?id=" + t.prodigy.player.userID + "&epoch=" + (new Date).valueOf() + "&version=" + e + "&token=" + t.prodigy.network.api.getUserToken() + "&uTest=" + o.userID % 10 + "&cTest=" + r)
				} catch (t) {
					a.Logger.log(t, a.LogLevel.Verbose)
				}
			}, e
		}(i(266).StoreBase);
	e.ToyStore = d
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = i(7),
		r = i(0),
		s = function(t) {
			function e(e, i, n, o, s, l, c) {
				void 0 === c && (c = !1);
				var h = t.call(this, e, i, n, o) || this;
				return h.clickCallback = l, h.npcSprite = h.game.prodigy.create.sprite(0, 0, "atlas-" + s.atlasID, 0), h.npcSprite.animations.add("stand", ["npc_0", "npc_1", "npc_2", "npc_3", "npc_4", "npc_5", "npc_6", "npc_7"], 10, !0, !1), h.npcSprite.animations.play("stand"), h.npcSprite.inputEnabled = !0, h.npcSprite.anchor.setTo(.5, 1), h.npcSprite.events.onInputDown.add(h.onNPCClick.bind(h), h), c && (h.npcSprite.scale.x = -1), h.add(h.npcSprite), r.Util.isValid(s) && r.Util.isValid(s.indicator) && (h.indicator = h.game.prodigy.create.sprite(0, -(h.npcSprite.height - 10), "atlas-21", s.indicator), h.indicator.anchor.setTo(.5, 1), h.add(h.indicator), h.game.add.tween(h.indicator).to({
					y: h.indicator.y - 50
				}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, a.GameConstants.MAX_SAFE_INTEGER, !0)), h.game.prodigy.create.nameFont(h, 0, 0 - h.npcSprite.height - 20, s.name), h
			}
			return n(e, t), e.prototype.onNPCClick = function() {
				r.Util.isValid(this.clickCallback) && this.clickCallback()
			}, e
		}(o.Element);
	e.QuestNPC = s
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			t[t.Local = 0] = "Local", t[t.QABox = 1] = "QABox", t[t.Dev = 2] = "Dev", t[t.Staging = 3] = "Staging", t[t.Production = 4] = "Production"
		}(e.EEnvironment || (e.EEnvironment = {}))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return n(e, t), e.prototype.auditSchema = function(t) {
			return this.convertSchemaToData(t).audit()
		}, e.prototype.auditData = function(t) {
			return t.audit()
		}, e.prototype.serialize = function(t) {
			return t.isValid() ? this.convertDataToSchema(t) : null
		}, e.prototype.deserialize = function(t) {
			var e = this.convertSchemaToData(t);
			return e.isValid() ? e : null
		}, e
	}(i(332).DataFactory);
	e.Factory = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(979),
		o = i(978),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this) || this;
				return n.name = null, n.version = -1, n.validation = new o.Validation, n.name = e, n.version = i, n.defineValidation(), n
			}
			return n(e, t), e.prototype.getEventName = function() {
				return this.name
			}, e.prototype.getSchemaVersion = function() {
				return this.version
			}, e.prototype.audit = function() {
				return this.validation.runValidation()
			}, e.prototype.addValidation = function(t) {
				return this.validation.addRule(t), this
			}, e.prototype.isValid = function() {
				return this.audit().isValid
			}, e
		}(a.Data);
	e.Event = r
}, function(t, e, i) {
	var n = i(206),
		a = i(88),
		o = i(50),
		r = i(339),
		s = i(1032),
		l = "[object Map]",
		c = "[object Set]";
	t.exports = function(t) {
		if (null == t) return 0;
		if (o(t)) return r(t) ? s(t) : t.length;
		var e = a(t);
		return e == l || e == c ? t.size : n(t).length
	}
}, function(t, e, i) {
	var n = i(191);
	t.exports = function(t) {
		var e = n(t),
			i = e % 1;
		return e == e ? i ? e - i : e : 0
	}
}, function(t, e, i) {
	var n = i(386),
		a = i(1050),
		o = i(50);
	t.exports = function(t) {
		return o(t) ? n(t, !0) : a(t)
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			t.StoreDataProvider = "StoreDataProvider", t.CacheExpirationStrategy = "CacheExpirationStrategy", t.CacheStorageStrategy = "CacheStorageStrategy", t.VoucherDataProvider = "VoucherDataProvider"
		}(e.EInjectionIdentifiers || (e.EInjectionIdentifiers = {}))
}, function(t, e, i) {
	var n = i(379),
		a = i(1094)(n);
	t.exports = a
}, function(t, e, i) {
	var n = i(66),
		a = 1 / 0;
	t.exports = function(t) {
		if ("string" == typeof t || n(t)) return t;
		var e = t + "";
		return "0" == e && 1 / t == -a ? "-0" : e
	}
}, function(t, e) {
	t.exports = function(t) {
		return function(e) {
			return t(e)
		}
	}
}, function(t, e, i) {
	(function(t) {
		var n = i(53),
			a = i(1112),
			o = "object" == typeof e && e && !e.nodeType && e,
			r = o && "object" == typeof t && t && !t.nodeType && t,
			s = r && r.exports === o ? n.Buffer : void 0,
			l = (s ? s.isBuffer : void 0) || a;
		t.exports = l
	}).call(this, i(146)(t))
}, function(t, e, i) {
	var n = i(1113),
		a = i(51),
		o = Object.prototype,
		r = o.hasOwnProperty,
		s = o.propertyIsEnumerable,
		l = n(function() {
			return arguments
		}()) ? n : function(t) {
			return a(t) && r.call(t, "callee") && !s.call(t, "callee")
		};
	t.exports = l
}, function(t, e) {
	t.exports = function(t, e) {
		return t === e || t != t && e != e
	}
}, function(t, e) {
	t.exports = function(t, e) {
		for (var i = -1, n = null == t ? 0 : t.length, a = Array(n); ++i < n;) a[i] = e(t[i], i, t);
		return a
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
		var a, o = arguments.length,
			r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
		else
			for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
		return o > 3 && r && Object.defineProperty(e, i, r), r
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(9),
		o = i(147),
		r = i(75),
		s = function() {
			function t() {
				this.gameObject = null, this.onActiveChanged = new Phaser.Signal, this.onDestroy = new o.Signal, this.isActive = !0
			}
			return Object.defineProperty(t.prototype, "GameObject", {
				get: function() {
					return this.gameObject
				},
				set: function(t) {
					!r.Utils.isDefined(this.gameObject) && r.Utils.isDefined(t) && (this.gameObject = t)
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(t.prototype, "IsActiveInHierarchy", {
				get: function() {
					return this.Active && null !== this.GameObject && this.GameObject.IsActiveInHierarchy
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(t.prototype, "OnDestroy", {
				get: function() {
					return this.onDestroy
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(t.prototype, "Active", {
				get: function() {
					return this.isActive
				},
				set: function(t) {
					this.isActive = t, this.onActiveChanged.dispatch()
				},
				enumerable: !0,
				configurable: !0
			}), t.prototype.create = function() {}, t.prototype.update = function() {}, t.prototype.destroy = function() {
				this.onDestroy.dispatch(this), this.onDestroy.dispose(), this.gameObject = null
			}, t.prototype.hasUniqueInstance = function() {
				return !1
			}, t.prototype.setActive = function(t) {
				this.isActive = t
			}, t = n([a.injectable()], t)
		}();
	e.Component = s
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		return function() {}
	}();
	e.BaseData = n
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(92),
		a = function() {
			function t() {}
			return t.log = function(e, i) {
				i >= this.minimumLogLevel && (this.shouldColorCodeLogs ? console.log("%c[" + n.LogLevel[i].toUpperCase() + "]%c " + e, t.getLogStyle(i), "color: #000; background-color: #FFF; padding: 0") : console.log("[" + n.LogLevel[i].toUpperCase() + "] " + e))
			}, t.setLogLevel = function(t) {
				this.minimumLogLevel = t
			}, t.setColoredLogsEnabled = function(t) {
				this.shouldColorCodeLogs = t
			}, t.getLogStyle = function(t) {
				switch (t) {
					case n.LogLevel.Verbose:
						return "background: #009688; color: #EEEEEE; padding: 2px";
					case n.LogLevel.Warning:
						return "background: #FEEFB3; color: #9F6000; padding: 2px";
					case n.LogLevel.Error:
						return "background: #FFD2D2; color: #D8000C; padding: 2px";
					default:
						return ""
				}
			}, t.minimumLogLevel = n.LogLevel.Verbose, t.shouldColorCodeLogs = !1, t
		}();
	e.Logger = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(7),
		o = i(0),
		r = function(t) {
			function e(e, i, n, a, o, r, s, l) {
				var c = t.call(this, e, i, n, a) || this;
				return c.SPRITE_ALIAS = {
					slurpy: 88,
					bok: 62
				}, c.npcTag = o, c.onComplete = l, c.updateCallback = s, c
			}
			return n(e, t), e.prototype.setup = function(t, e, i) {
				this.npc = this.add(this.game.prodigy.create.sprite(0, 0, "atlas-" + this.SPRITE_ALIAS[e], 0)), this.npc.animations.add("stand", ["npc_0", "npc_1", "npc_2", "npc_3", "npc_4", "npc_5", "npc_6", "npc_7"], 10, !0, !1), this.npc.animations.play("stand"), this.npc.inputEnabled = !0, this.npc.anchor.setTo(.5, 1), this.npc.events.onInputDown.add(this.process.bind(this, t, null, !0), this), i && (this.npc.scale.x = -1), this.game.prodigy.create.nameFont(this, 0, 0 - this.npc.height - 20, e.charAt(0).toUpperCase() + e.slice(1))
			}, e.prototype.process = function(t, e, i) {
				var n;
				if (!o.Util.isValid(t.getQuestState())) return t.startQuest(1), (n = this.queueEventText(t, "onStart", 1)).function(this.updateCallback), n.start(), null;
				var a = t.getQuestState().ID,
					r = t.getQuest(a);
				t.isQuestComplete(a) && !r.chain ? ((n = this.queueEventText(t, "onComplete", a)).enableSave(!1), o.Util.isValid(r.reward) && n.reward(r.reward, "quest-event-reward"), n.function(t.completeQuest.bind(t, a)), n.enableSave(!0), n.function(this.updateCallback), n.start()) : !t.isQuestStarted(a) && o.Util.isValid(r) ? ((n = this.queueEventText(t, "onStart", a)).function(t.startQuest.bind(t, a)), n.function(this.updateCallback), n.start()) : i && o.Util.isValid(r) ? this.queueEventText(t, "onStart", a).start() : i && this.onComplete()
			}, e.prototype.queueEventText = function(t, e, i) {
				var n = t.getQuest(i),
					a = this.game.prodigy.event.create();
				if (o.Util.isValid(n[e]))
					for (var r = 0; r < n[e].length; r++) a.text(n[e][r], this.npcTag);
				return a
			}, e.prototype.flip = function(t) {
				this.npc.scale.x = t ? -1 : 1
			}, e
		}(a.Element);
	e.QuestEvent = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(19),
		r = i(122),
		s = i(33),
		l = i(0),
		c = function(t) {
			function e(e, i, n, a, o, r, l, c) {
				void 0 === c && (c = !0);
				var h = this,
					u = new s.NPC(e);
				return u.init({
					name: "NPC_NAME_PIPPET"
				}), (h = t.call(this, e, i, u, null, n, a) || this).tweens = [], h.user = o, h.path = r, h.mods = {
					boss: {
						element: "shadow",
						attacks: [73],
						name: "Pippet",
						tag: "pippet",
						pippetBattle: !0
					},
					drops: [{
						type: "currency",
						ID: 3,
						N: 1
					}],
					difficulty: 3
				}, h.canEncounter = c, h.setup(), h
			}
			return n(e, t), e.prototype.setup = function() {
				var t = "atlas-82",
					e = -20,
					i = -60;
				this.sprite = this.game.prodigy.create.element(this.sprites, 0, 0), this.torso = this.sprite.add(this.game.prodigy.create.sprite(e, i, t, "torso")), this.head = this.sprite.add(this.game.prodigy.create.sprite(-53, -122, t, "head-0")), this.face = this.sprite.add(this.game.prodigy.create.sprite(-13, -91, t, "face-0")), this.handL = this.sprite.add(this.game.prodigy.create.sprite(-47, -55, t, "hand-l-0")), this.handR = this.sprite.add(this.game.prodigy.create.sprite(28, i, t, "hand-r-0")), this.sprite.add(this.game.prodigy.create.sprite(-33, -24, t, "feet")), this.walkTween = [], this.walkTween.push(new o.TweenController(this.head)), this.walkTween[0].set("frameName", ["head-0", "head-0", "head-0", "head-1", "head-2", "head-0"], 133, 9999), this.walkTween.push(new o.TweenController(this.head)), this.walkTween[1].set("y", [this.head.y, this.head.y, this.head.y + 1, this.head.y + 3, this.head.y + 2, this.head.y + 1], 133, 9999), this.walkTween.push(new o.TweenController(this.face)), this.walkTween[2].set("frameName", ["face-0", "face-0", "face-2", "face-0", "face-1", "face-1"], 133, 9999), this.walkTween.push(new o.TweenController(this.face)), this.walkTween[3].set("y", [this.face.y, this.face.y, this.face.y + 1, this.face.y + 3, this.face.y + 2, this.face.y + 1], 133, 9999), this.walkTween.push(new o.TweenController(this.torso)), this.walkTween[4].set("y", [this.torso.y, this.torso.y, this.torso.y, this.torso.y + 1, this.torso.y + 1, this.torso.y], 133, 9999), this.walkTween.push(new o.TweenController(this.handL)), this.walkTween[5].set("frameName", ["hand-l-0", "hand-l-0", "hand-l-0", "hand-l-1", "hand-l-2", "hand-l-1"], 133, 9999), this.walkTween.push(new o.TweenController(this.handL)), this.walkTween[6].set("y", [this.handL.y, this.handL.y, this.handL.y, this.handL.y + 1, this.handL.y + 1, this.handL.y + 1], 133, 9999), this.walkTween.push(new o.TweenController(this.handR)), this.walkTween[7].set("frameName", ["hand-r-0", "hand-r-0", "hand-r-0", "hand-r-1", "hand-r-2", "hand-r-1"], 133, 9999), this.walkTween.push(new o.TweenController(this.handR)), this.walkTween[8].set("y", [this.handR.y, this.handR.y, this.handR.y, this.handR.y + 2, this.handR.y + 2, this.handR.y + 2], 133, 9999), this.stand()
			}, e.prototype.process = function(t, e) {
				this.zone = t, this.map = e
			}, e.prototype.update = function() {
				t.prototype.update.call(this);
				for (var e = 0; e < this.tweens.length; e++) this.tweens[e].update();
				if (this.canEncounter) {
					var i = Phaser.Math.distanceSq(this.x, this.y, this.user.x, this.user.y) < 4e4,
						n = !1;
					l.Util.isValid(this.game.prodigy.world.pippetEncounterDaily) && (n = this.game.prodigy.world.pippetEncounterDaily.isComplete());
					var a = this.path.isPathBlocked(this.x, this.y, this.user.x, this.user.y),
						o = this.visible && !this.user.evtProc && i && !a;
					this.started || !n && !o || this.alert()
				}
			}, e.prototype.alert = function() {
				this.started = !0, this.user.setPath([]), this.user.x = Math.floor(this.user.x), this.user.y = Math.floor(this.user.y), this.game.prodigy.network.emitMessage({
					action: "move",
					data: {
						userID: this.game.prodigy.player.userID,
						path: [{
							x: this.user.x,
							y: this.user.y
						}]
					}
				});
				var t = this.game.prodigy.event.create();
				t.function(this.faceToward.bind(this, this.user.x)), this.game.prodigy.world.pippetEncounterDaily.isComplete() ? this.completeDailyCutscene(t) : this.startDailyCutscene(t), t.start()
			}, e.prototype.startDailyCutscene = function(t) {
				var e = this;
				t.function(this.chat.bind(this, 1, 150, !0)), t.function(this.faceToward.bind(this, this.user.x)), t.delay(1e3), t.function(function() {
					e.chatBubble.destroy(), e.endChat()
				}), t.delay(300), t.text(this.game.prodigy.world.pippetEncounterSpawn.dialogue, "pippet"), t.sound(19, "monster"), t.function(this.startBattle.bind(this))
			}, e.prototype.completeDailyCutscene = function(t) {
				var e = this;
				t.text(r.PippetEncounter.data.completeDialogue, "pippet"), t.function(this.stopAnimations.bind(this)), t.function(function() {
					e.nameText.setActive(!1)
				}), t.set(this.pivot, "y", .5 * -this.height), t.set(this, "y", this.y - .5 * this.height), t.tween(this.scale, {
					x: 0,
					y: 0
				}, 1e3, Phaser.Easing.Linear.None, !0), t.tween(this, {
					x: 640,
					y: -200,
					rotation: 360
				}, 1e3, Phaser.Easing.Linear.None), t.set(this.game.prodigy.world, "pippetEncounterSpawn", null), t.set(this, "visible", !1)
			}, e.prototype.startBattle = function() {
				var t = this.game,
					e = this.map.getLocation(),
					i = {
						x: this.user.x,
						y: this.user.y
					};
				this.mods.screen = this.map.battleBG, this.game.prodigy.network.sendAnalytics("random-pippet-battles", "pippet-initiate-class-percent", "Events"), this.game.prodigy.network.sendBattleStartTypeEvent("PippetBattle"), this.zone.getBattle(this.map, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMBAT_PIPPET_BATTLE"), this.mods, function() {
					t.prodigy.world.pippetEncounterDaily.complete(), t.prodigy.world.teleport(e, i.x, i.y)
				})()
			}, e.prototype.walk = function() {
				this.stand();
				this.hopTween = this.game.add.tween(this.sprite.position), this.hopTween.to({
					y: -50
				}, 150, Phaser.Easing.Linear.None, !0, 0, -1, !0), this.nameHop = this.game.add.tween(this.nameText.GameObject.position), this.nameHop.to({
					y: this.nameText.GameObject.position.y + -50
				}, 150, Phaser.Easing.Linear.None, !0, 0, -1, !0)
			}, e.prototype.stand = function() {
				this.tweens = this.walkTween;
				for (var t = 0; t < this.tweens.length; t++) this.tweens[t].start();
				l.Util.isDefined(this.hopTween) && this.hopTween.repeat(0), l.Util.isDefined(this.nameHop) && this.nameHop.repeat(0)
			}, e.prototype.stopAnimations = function() {
				this.tweens = [], l.Util.isDefined(this.hopTween) && (this.hopTween.stop(), this.hopTween = null), l.Util.isDefined(this.nameHop) && (this.nameHop.stop(), this.nameHop = null)
			}, e
		}(i(17).CreatureContainer);
	e.Pippet = c
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(0),
		a = function() {
			function t(t, e, i) {
				this.assets = [], this.locations = [], this.overrideNames = {}, this.festivalName = "", this.game = t, this.assets = e, this.locations = i
			}
			return t.prototype.getOverrideName = function(t) {
				return this.overrideNames[t]
			}, t.prototype.active = function(t) {
				for (var e = 0; e < this.locations.length; e++) {
					if (this.locations[e] === t) return this.game.prodigy.player.backpack.hasItem("key", 13) > 0
				}
				return !1
			}, t.prototype.getButtons = function() {
				return []
			}, t.prototype.getAssets = function(t) {
				return n.Util.isValid(this.getOverrideName(t)) ? this.assets.concat(this.getOverrideName(t)) : this.assets
			}, t.prototype.init = function(t) {
				return {}
			}, t.prototype.applySkin = function(t) {}, t
		}();
	e.Skin = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(338),
		r = i(79),
		s = i(4),
		l = i(69),
		c = i(7),
		h = i(2),
		u = i(16),
		p = i(29),
		d = i(0),
		g = i(20),
		f = function(t) {
			function e(i, n, o, r, s) {
				var l = t.call(this, i, n, 0, 25) || this;
				l.soundTimeoutInterval = null, l.player = o, l.screen = r, l.assetID = s, l.data = h.Items.getItem("prizeWheel", s).data, l.wasVisible = d.Util.isValid(l.screen.questProgress) && l.screen.questProgress.visible, l.wasVisible && (l.screen.questProgress.visible = !1), l.wheelItems = e.getWheelItems(l.game, l.assetID);
				var c = {
					yes: l.trySpin.bind(l),
					no: l.close.bind(l),
					text: i.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(l.data.askSpinDialogue),
					anim: 4
				};
				l.showDialogue([c]);
				var u = l.game.world.centerX,
					p = l.game.world.centerY - 80;
				l.add(l.game.prodigy.create.sprite(u + l.data.wheelTopOffset.x, p + l.data.wheelTopOffset.y, l.data.atlas, l.data.wheelTop)), l.wheel = l.game.prodigy.create.element(l, u, p), l.wheel.angle = 18, l.wheel.add(l.game.prodigy.create.sprite(0, 0, l.data.atlas, l.data.wheelSprite)).anchor.setTo(.5, .5);
				for (var g = null, f = 0; f < l.wheelItems.length; f++) {
					var y = l.game.prodigy.create.element(l.wheel, 0, 0);
					y.scale.setTo(.7, .7);
					var m = (36 * f - (l.wheel.angle - 12)) * (Math.PI / 180);
					g = l.game.prodigy.icon.createIcon(0, 0, l.game.prodigy.icon.iconKey(l.wheelItems[f].item), {
						x: .5,
						y: .5
					}), l.game.prodigy.load.isFileLoaded(l.game.prodigy.icon.iconKey(l.wheelItems[f].item)) ? l.correctIconPostLoad(g, m) : g.onTextureLoaded = l.correctIconPostLoad.bind(l, g, m), g.x = -(.5 * g.width * Math.cos(m) - 2.5 * g.height * Math.sin(m)), g.y = -(.5 * g.width * Math.sin(m) + 2.5 * g.height * Math.cos(m)), y.add(g)
				}
				return l.add(l.game.prodigy.create.sprite(u - 250 + 236, p - 220, l.data.atlas, l.data.wheelPointer)), l
			}
			return n(e, t), e.getWheelItems = function(t, e, i) {
				for (var n = d.Util.isValid(i) ? i : d.Util.getDateTime() + e, a = [], r = [], s = h.Items.getItem("prizeWheel", e).data, l = 0; l < s.slots.length; l++) {
					var c, u = s.slots[l],
						g = p.Random.weightedArrayElement(u.itemPools, n).index,
						f = s.itemPools[g];
					f = o(f, r), c = t.seededRandom.pick(f, n), a.push({
						item: c,
						weight: u.weight
					}), r.push(c)
				}
				return a
			}, e.prototype.showDialogue = function(t) {
				this.dialogueController = this.game.prodigy.dialogue.create();
				for (var e = 0; e < t.length; e++) d.Util.isValid(t[e].textKey) && (t[e].text = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(t[e].textKey)), this.dialogueController.setText(t[e]);
				this.dialogueController.start("stache", !1)
			}, e.prototype.correctIconPostLoad = function(t, e) {
				t.x += .5 * t.width, t.y += .5 * t.height, t.angle = e * (180 / Math.PI)
			}, e.prototype.trySpin = function() {
				var t = null;
				if (this.player.data["numSpins" + this.assetID] > 0 && (t = {
						conversionFunnelName: g.EFunnelEventIDs.FunnelSecondWheelSpin
					}, this.game.prodigy.network.sendConversionFunnelEvent(t.conversionFunnelName, g.EFunnelEventIDs.StageClickSpinAgain), this.game.prodigy.network.sendAnalytics("Second-Wheel-Spin")), this.player.canSpin(this.assetID)) {
					var e = {
						text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(this.data.spinningDialogue),
						anim: 4,
						hideNext: !0
					};
					this.showDialogue([e]), this.startSpin()
				} else {
					if ((e = []).push({
							text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(this.data.outOfSpinsDialogue),
							anim: 1
						}), !this.player.hasMembership()) {
						var i = 1 === this.assetID ? u.MembershipInfo.WHEEL_SPIN : u.MembershipInfo.TWILIGHT_WHEEL;
						e.push({
							callback: this.game.prodigy.open.membershipInfo.bind(this.game.prodigy.open, null, t, i)
						})
					}
					e.push({
						callback: this.close.bind(this)
					}), this.showDialogue(e)
				}
			}, e.prototype.close = function() {
				this.wasVisible && (this.screen.questProgress.visible = !0), this.destroy()
			}, e.prototype.startSpin = function() {
				var t = s.GameConstants.get("GameConstants.Features.Wheel.SPIN_TIME");
				s.GameConstants.get("GameConstants.Build.DEBUG") && e.DEBUG_SPIN_TIME_MS > 0 && (t = e.DEBUG_SPIN_TIME_MS);
				var i = d.Util.isValid(this.selectedIndex) ? this.selectedIndex : 0;
				this.selectedIndex = this.wheelItems.indexOf(p.Random.weightedArrayElement(this.wheelItems)), this.playSound(t, 100);
				var n = this.wheel.angle + 2880 + -36 * (this.selectedIndex - i);
				this.game.add.tween(this.wheel).to({
					angle: n
				}, t, Phaser.Easing.Cubic.Out).start().onComplete.addOnce(this.endSpin, this), this.player.spinWheel(this.assetID)
			}, e.prototype.playSound = function(t, e) {
				if (!(t <= 0)) {
					this.game.prodigy.audio.playSFX(19, "tick");
					var i = e + 9e-7 * Math.pow(e, 3);
					this.soundTimeoutInterval = window.setTimeout(this.playSound.bind(this, t - i, i), e)
				}
			}, e.prototype.endSpin = function() {
				if (r(["hat", "outfit", "weapon", "boots", "follow", "dorm"], this.wheelItems[this.selectedIndex].item.type)) {
					var t = this.wheelItems[this.selectedIndex].item;
					this.game.prodigy.notifications.initNotificationTemplate(l.NotificationType.ITEMWHEEL, [{
						ID: t.ID,
						type: t.type
					}, {
						ID: -1,
						type: "",
						value: "wheel-of-wonder" === this.data.eventType ? "Wheel of Wonder" : "Twilight Wheel"
					}], {
						zone: this.game.prodigy.world.getCurrentMap()
					})
				}
				var e = (new Date).getHours();
				this.game.prodigy.network.sendAnalytics("Wheel-Spin-Completed-Control", e.toString()), this.dialogueController.close(), this.game.prodigy.open.gotItem([this.wheelItems[this.selectedIndex].item], this.tryAgain.bind(this), null, this.data.eventType)
			}, e.prototype.tryAgain = function() {
				var t = {
					yes: this.trySpin.bind(this),
					no: this.close.bind(this),
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(this.data.spinAgainDialogue),
					anim: 4
				};
				this.showDialogue([t])
			}, e.prototype.destroy = function(e, i) {
				t.prototype.destroy.call(this, e, i), null !== this.soundTimeoutInterval && (clearTimeout(this.soundTimeoutInterval), this.soundTimeoutInterval = null)
			}, e.DEBUG_SPIN_TIME_MS = -1, e
		}(c.Element);
	e.Wheel = f
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(0),
		a = function() {
			function t(t) {
				this.seed = t, this.currentSeed = t
			}
			return t.prototype.next = function() {
				return this.currentSeed = this.currentSeed + t.CONSTANT, this.generate(this.currentSeed)
			}, t.prototype.jumpFromStart = function(e) {
				for (var i = 0, n = 0; n <= e; n++) i = this.generate(this.seed + n * t.CONSTANT);
				return i
			}, t.prototype.jump = function(t) {
				for (var e = this.generate(), i = 0; i < t; i++) e = this.next();
				return e
			}, t.prototype.generate = function(t) {
				return (9301 * (n.Util.isValid(t) ? t : this.seed) + 49297) % 233280 / 233280
			}, t.CONSTANT = 2949751391065249e4, t
		}();
	e.SeededRandomGenerator = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(11),
		o = i(4),
		r = i(46),
		s = i(2),
		l = i(35),
		c = i(0),
		h = function(t) {
			function e(e, i, n, r, s, h, u, p, d, g, f, y, m) {
				var _ = t.call(this, e, i, new l.Monster(e, {
					ID: p.monsterData.ID,
					nickname: p.monsterData.nickname
				}), 1, n, r, null, y) || this;
				if (c.Util.isValid(_.monsterData) || (_.monsterData = p.monsterData), _.unique = d || !1, _.onEnc = g, _.encountered = !1, _.ID = u, _.user = s, _.path = h, _.screen = m, c.Util.isValid(p.range) || (p.range = 4e4 * o.GameConstants.get("GameConstants.Debug.SCALE_ENCOUNTER_DISTANCE")), o.GameConstants.get("GameConstants.Debug.MONSTER_RADIUS_VISIBLE") && c.Util.isValid(_.screen)) {
					var v = e.add.graphics(0, 0);
					v.beginFill(16711680, .5), v.drawCircle(n, r, 2 * Math.sqrt(p.range)), _.screen.above.add(v)
				}
				return p.ignorePathfindingForAlert = a(p, "ignorePathfindingForAlert", !1), p.unique = d, _.mods = p, p.randDir && Math.random() < .5 && _.flip(), _.mods.encounter = [_.monsterData], f && (_.alpha = .5, _.respawnTimer = (new Date).getTime() + 1e4), _.reload(), _.visible = !1, _
			}
			return n(e, t), e.prototype.process = function(t) {
				this.zone = t;
				var e = !1;
				this.highlight(!1), this.visible = !0, c.Util.isValid(this.mods.highlight) && this.mods.highlight && this.highlight(!0, -40, -90);
				var i = t.getQuestState();
				if (c.Util.isValid(i) && c.Util.isValid(i.req)) {
					this.unique && 1 === i.state[this.ID] && (this.visible = !1);
					var n = c.Util.isValid(i.req.U) && i.req.U;
					if ("pet" === i.req.type && i.req.N > 0 && this.source.getID() === i.req.ID && this.unique === n) e = !0;
					else if ("item" === i.req.type && this.game.prodigy.player.backpack.hasItem("item", i.req.ID) < i.req.N) {
						if (c.Util.isValid(this.mods.drops))
							for (var a = 0; a < this.mods.drops.length; a++) {
								"item" === (o = this.mods.drops[a]).type && o.ID === i.req.ID && (e = !0)
							}
						if (c.Util.isValid(this.monsterData.drops))
							for (a = 0; a < this.monsterData.drops.length; a++) {
								var o;
								"item" === (o = this.monsterData.drops[a]).type && o.ID === i.req.ID && (e = !0)
							}
					}
					e && this.highlight(!0, -40, -90)
				}
			}, e.prototype.update = function() {
				t.prototype.update.call(this), this.respawnTimer < (new Date).getTime() && (delete this.respawnTimer, this.alpha = 1), this.checkPlayerInRange()
			}, e.prototype.checkPlayerInRange = function() {
				var t = Phaser.Math.distanceSq(this.x, this.y, this.user.x, this.user.y);
				!this.visible || c.Util.isValid(this.respawnTimer) || this.started || this.user.evtProc || !(t < this.mods.range) || !this.mods.ignorePathfindingForAlert && this.path.isPathBlocked(this.x, this.y, this.user.x, this.user.y) || this.alert()
			}, e.prototype.alert = function() {
				this.started = !0, this.encountered = !0, this.highlight(!1), this.game.prodigy.audio.pauseBGM(), this.game.prodigy.audio.playSFX(19, "monster"), this.user.evtProc = !0, this.chat(1, 80), this.user.setPath([]), this.user.x = Math.floor(this.user.x), this.user.y = Math.floor(this.user.y), this.game.input.enabled = !1, this.game.prodigy.network.emitMessage({
					action: "move",
					data: {
						userID: this.game.prodigy.player.userID,
						path: [{
							x: this.user.x,
							y: this.user.y
						}]
					}
				}), this.hop(300, this.engage.bind(this))
			}, e.prototype.engage = function() {
				this.setPath([{
					x: this.user.x,
					y: this.user.y
				}], this.startBattle.bind(this))
			}, e.prototype.onEndBattle = function(t, e, i, n, a, o, r, s) {
				o && (e.defeatMonster(n, a, r), c.Util.isDefined(s) && s()), o ? t.prodigy.world.teleport(i, this.x, this.y) : t.prodigy.world.teleport(i)
			}, e.prototype.startBattle = function() {
				if (this.game.input.enabled = !0, c.Util.isValid(this.zone.currency) && c.Util.isValid(this.mods) && (c.Util.isValid(this.mods.drops) || (this.mods.drops = []), 1 === this.zone.currency ? this.mods.drops.push({
						type: "gold",
						N: 50
					}) : this.mods.drops.push({
						type: "currency",
						ID: this.zone.currency,
						N: 20
					})), o.GameConstants.get("GameConstants.Debug.AUTO_RESOLVE_BATTLES_ENABLED")) {
					this.user.evtProc = !1;
					var t = this.game.prodigy.event.create();
					if (t.explode(this.x - 80, this.y - 80, 160, 160, 1, !1, !0), t.function(this.setVisible.bind(this, !1)), t.reward(s.Items.getRandomizedDropsFromCreatures(this.mods.drops, this.source, !(c.Util.isValid(this.mods) && this.mods.dropsDisabled))), t.function(this.zone.defeatMonster.bind(this.zone, this.source.getID(), this.ID, this.unique)), c.Util.isValid(this.onEnc) && t.function(this.onEnc), c.Util.isValid(this.screen)) {
						var e = this.screen.events.indexOf(this);
						e > -1 && this.screen.events.splice(e, 1), t.function(this.screen.process.bind(this.screen))
					}
					t.function(this.destroy.bind(this)), t.start()
				} else "archives" === this.zone.ID ? this.game.prodigy.network.sendBattleStartTypeEvent("ArchivesMonsterEncounter") : this.game.prodigy.network.sendBattleStartTypeEvent("RandomMonsterEncounter"), this.game.prodigy.battle.start(this.mods, this.onEndBattle.bind(this, this.game, this.zone, this.mods.onEnd, this.source.getID(), this.ID, !1, this.unique, this.onEnc), this.onEndBattle.bind(this, this.game, this.zone, this.mods.onEnd, this.source.getID(), this.ID, !0, this.unique, this.onEnc), null, this.mods.onFaint)
			}, e.prototype.setVisible = function(t) {
				this.visible = t
			}, e.prototype.patrol = function(t) {
				this.encountered || this.setPath(t, this.patrol.bind(this, t))
			}, e
		}(r.MonsterContainer);
	e.MonsterEvent = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(i, n) {
			return t.call(this, i, n, e.data.stateName, e.data.questId, e.data.defaultValue, e.data.completeDialogue) || this
		}
		return n(e, t), e.prototype.getSpawn = function() {
			var t = (new Date).getDate();
			return this.game.seededRandom.pick(e.data.spawns, t)
		}, e.data = {
			stateName: "world-dailyQuests-0",
			questId: 0,
			defaultValue: 0,
			completeValue: 1,
			completeDialogue: 8,
			bonusStars: 10,
			spawns: [{
				location: "forest-B7",
				dialogue: 3
			}, {
				location: "skywatch-B1",
				dialogue: 5
			}, {
				location: "bonfire_spire-C1",
				dialogue: 6
			}, {
				location: "shipwreck_shore-C12",
				dialogue: 7
			}, {
				location: "shipwreck_shore-C11",
				dialogue: 7
			}]
		}, e
	}(i(899).Daily);
	e.PippetEncounter = a
}, function(t, e, i) {
	var n = i(200);
	t.exports = function(t, e) {
		var i = -1,
			a = t.length,
			o = a - 1;
		for (e = void 0 === e ? a : e; ++i < e;) {
			var r = n(i, o),
				s = t[r];
			t[r] = t[i], t[i] = s
		}
		return t.length = e, t
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(5),
		o = i(29),
		r = i(0),
		s = function() {
			function t(t) {
				this.game = t
			}
			return t.prototype.setSource = function(t) {
				this.screen = t
			}, t.prototype.bountyComplete = function(t, e) {
				var i = this.screen.menus.add(new Phaser.TileSprite(this.game, 0, 280, 1280, 200, "atlas-161", "bounty-runner"));
				i.alpha = 0, i.height = 200;
				var a = this.screen.menus.add(this.game.prodigy.create.sprite(640, 250, "atlas-19", "emblem-bounty"));
				a.anchor.setTo(.5, .5), a.scale.x = a.scale.y = 2, a.alpha = 0;
				var o = "" + t,
					s = this.game.prodigy.create.font(this.screen.menus, 520, 175, o, {
						size: 80,
						width: 240,
						align: "center"
					});
				s.alpha = 0;
				var l = this.game.prodigy.create.font(this.screen.menus, 1280, 330, this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText("EFFECT_BOUNTY_COMPLETE"), {
					size: 80,
					width: 1280,
					align: "center"
				});
				this.game.add.tween(a).to({
					alpha: 1
				}, 200, Phaser.Easing.Quadratic.In).to({}, 4100, Phaser.Easing.Linear.None).to({
					alpha: 0
				}, 250, Phaser.Easing.Quadratic.Out).start(), this.game.add.tween(a.scale).to({
					x: 1,
					y: 1
				}, 200, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(s).to({
					alpha: 1
				}, 200, Phaser.Easing.Quadratic.In).to({}, 4100, Phaser.Easing.Linear.None).to({
					alpha: 0
				}, 250, Phaser.Easing.Quadratic.Out).start();
				var c = this.game.add.tween(i);
				c.to({}, 100, Phaser.Easing.Linear.None), c.to({
					alpha: .9
				}, 250, Phaser.Easing.Quadratic.In), c.to({}, 4e3, Phaser.Easing.Linear.None), c.to({
					alpha: 0
				}, 250, Phaser.Easing.Quadratic.Out), c.start(), this.game.add.tween(l).to({}, 100, Phaser.Easing.Linear.None).to({
					x: 25
				}, 250, Phaser.Easing.Quadratic.Out).to({
					x: -25
				}, 4e3, Phaser.Easing.Linear.None).to({
					x: -1280
				}, 250, Phaser.Easing.Quadratic.Out).start(), r.Util.isValid(e) && (c.onComplete.add(this.cleanup.bind(this, [i, l, a]), this), c.onComplete.add(e, this))
			}, t.prototype.cleanup = function(t) {
				for (var e = 0; e < t.length; e++) t[e].destroy()
			}, t.prototype.fire = function(t, e, i, n, a, o, s) {
				for (var l = o ? Math.ceil(i / 120) : Math.ceil(i / 100), c = o ? Math.ceil(n / 120) : Math.ceil(n / 100), h = [], u = 0; u < l; u++)
					for (var p = 0; p < c; p++) h.push(this.screen.menus.add(this.game.prodigy.create.sprite(t + 80 * u + 40, e + 80 * p + 40, "atlas-122", o ? "fire-ball-small" : "fire-ball")));
				for (u = 0; u < l - 1; u++)
					for (p = 0; p < c - 1; p++) h.push(this.screen.menus.add(this.game.prodigy.create.sprite(t + 80 * u + 80, e + 80 * p + 80, "atlas-122", o ? "fire-ball-small" : "fire-ball")));
				for (u = 0; u < h.length; u++) {
					var d = h[u];
					d.anchor.setTo(.5, .5), d.scale.x = d.scale.y = 0;
					var g = this.game.add.tween(d),
						f = this.game.add.tween(d.scale),
						y = Math.floor(1e3 / h.length) * u + 10;
					0 === u && (y = 1e3), g.to({}, y, Phaser.Easing.Linear.None), f.to({}, y, Phaser.Easing.Linear.None);
					var m = Math.floor((d.x - t - Math.floor(80 * l / 2)) / 2);
					for (p = 0; p < a; p++) 0 === u && this.game.time.events.add(1e3 * p, this.game.prodigy.audio.playSFX.bind(this.game.prodigy.audio, 18, "dig")), g.to({
						x: d.x,
						y: d.y,
						alpha: 1
					}, 10, Phaser.Easing.Linear.None), g.to({
						x: d.x + m,
						y: d.y - 50,
						alpha: 1
					}, 1e3, Phaser.Easing.Linear.None), f.to({
						x: .5,
						y: .5
					}, 10, Phaser.Easing.Linear.None), f.to({
						x: 1.4,
						y: 1.4
					}, 1e3, Phaser.Easing.Quadratic.Out);
					g.to({
						alpha: 0
					}, 10, Phaser.Easing.Linear.None), 0 === u && r.Util.isValid(s) && g.onComplete.addOnce(s), 0 === u && g.onComplete.addOnce(this.cleanup.bind(this, h), this), g.start(), f.start()
				}
			}, t.prototype.flashText = function(e, i, n, a, o, s) {
				void 0 === n && (n = t.MIDDLE), void 0 === a && (a = t.MEDIUM), void 0 === o && (o = 2700), void 0 === s && (s = !1);
				var l = this.screen.menus.add(new Phaser.TileSprite(this.game, 0, n - 20, 1280, 200, "atlas-161", "dialogue"));
				l.alpha = 0, l.height = 200 / a;
				var c = this.game.prodigy.create.font(this.screen.menus, 1280, n, e, {
					size: 80 / a,
					width: 1280,
					align: "center"
				});
				c.y = n + Math.floor((l.height - c.height) / (4 * a));
				var h = this.game.add.tween(l);
				h.to({
					alpha: .5
				}, 250, Phaser.Easing.Quadratic.In), h.to({}, o, Phaser.Easing.Linear.None), h.to({
					alpha: 0
				}, 250, Phaser.Easing.Quadratic.Out), h.start();
				var u = this.game.add.tween(c);
				return s ? (c.x = 0, u.to({
					alpha: 1
				}, 125, Phaser.Easing.Quadratic.In), u.to({}, o, Phaser.Easing.Linear.None), u.to({
					alpha: 0
				}, 125, Phaser.Easing.Quadratic.Out), u.start()) : (u.to({
					x: 25
				}, 250, Phaser.Easing.Quadratic.Out), u.to({
					x: -25
				}, o, Phaser.Easing.Linear.None), u.to({
					x: -1280
				}, 250, Phaser.Easing.Quadratic.Out), u.start()), h.onComplete.add(this.cleanup.bind(this, [l, c]), this), r.Util.isValid(i) && h.onComplete.add(i, this), h
			}, t.prototype.characterText = function(t, e, i, n, a, o) {
				var s = this.game.prodigy.create.font(this.screen.overlay, e, i, t, r.Util.isValid(a) ? a : {
					size: 40
				});
				s.y -= 150, s.setCenterAnchor(), s.scale.setTo(0, 0);
				var l = this.game.add.tween(s.scale).to({
						y: 1,
						x: 1
					}, 800, Phaser.Easing.Elastic.InOut),
					c = this.game.add.tween(s).to({
						y: "-100"
					}, 1600, Phaser.Easing.Quadratic.Out).to({
						alpha: 0
					}, 200, Phaser.Easing.Quadratic.Out);
				return c.onComplete.add(function() {
					s.destroy(), r.Util.isValid(o) && o()
				}), r.Util.isValid(n) && (c.delay(n), l.delay(n)), c.start(), l.start(), c
			}, t.prototype.characterImage = function(t, e, i) {
				t.y -= 150, t.anchor.setTo(.5, .5), t.scale.setTo(0, 0), this.game.broadcaster.broadcast(a.EScreenEvents.AddChild, this.game, [t, "overlay"]);
				var n = this.game.add.tween(t.scale).to({
						y: 1,
						x: 1
					}, 800, Phaser.Easing.Elastic.InOut),
					o = this.game.add.tween(t).to({
						y: "-100"
					}, 1600, Phaser.Easing.Quadratic.Out).to({
						alpha: 0
					}, 200, Phaser.Easing.Quadratic.Out);
				o.onComplete.add(function() {
					t.destroy(), r.Util.isValid(i) && i()
				}), r.Util.isValid(e) && (o.delay(e), n.delay(e)), o.start(), n.start()
			}, t.prototype.explode = function(t, e, i, n, a, s, l) {
				for (var c, h, u = Math.ceil(i / 80), p = Math.ceil(n / 80), d = [], g = 0; g < u; g++)
					for (var f = 0; f < p; f++) h = "", l && (h = (c = o.Random.integerInRange(0, 3)) < 1 ? "-blue" : c < 2 ? "-green" : "-red"), d.push(this.screen.menus.add(this.game.prodigy.create.sprite(t + 80 * g + 40, e + 80 * f + 40, "atlas-19", "smoke" + h)));
				for (g = 0; g < u - 1; g++)
					for (f = 0; f < p - 1; f++) h = "", l && (h = (c = o.Random.integerInRange(0, 3)) < 1 ? "-blue" : c < 2 ? "-green" : "-red"), d.push(this.screen.menus.add(this.game.prodigy.create.sprite(t + 80 * g + 80, e + 80 * f + 80, "atlas-19", "smoke" + h)));
				for (g = 0; g < d.length; g++) {
					var y = d[g];
					y.anchor.setTo(.5, .5), y.scale.x = y.scale.y = 0, y.angle = Math.floor(1e3 * Math.random());
					var m = this.game.add.tween(y),
						_ = this.game.add.tween(y.scale),
						v = Math.floor(1e3 / d.length) * g + 10;
					0 === g && (v = 1e3), m.to({}, v, Phaser.Easing.Linear.None), _.to({}, v, Phaser.Easing.Linear.None);
					var E = Math.floor((y.x - t - Math.floor(80 * u / 2)) / 2);
					for (f = 0; f < a; f++) 0 === g && this.game.time.events.add(1e3 * f, this.game.prodigy.audio.playSFX.bind(this.game.prodigy.audio, 18, "dig")), m.to({
						x: y.x,
						y: y.y,
						alpha: 1,
						angle: y.angle
					}, 10, Phaser.Easing.Linear.None), m.to({
						x: y.x + E,
						y: y.y - 50,
						alpha: 1,
						angle: y.angle + 100
					}, 1e3, Phaser.Easing.Linear.None), _.to({
						x: .5,
						y: .5
					}, 10, Phaser.Easing.Linear.None), _.to({
						x: 1.4,
						y: 1.4
					}, 1e3, Phaser.Easing.Quadratic.Out);
					m.to({
						alpha: 0
					}, 10, Phaser.Easing.Linear.None), 0 === g && r.Util.isValid(s) && m.onComplete.addOnce(s), 0 === g && m.onComplete.addOnce(this.cleanup.bind(this, d), this), m.start(), _.start()
				}
			}, t.prototype.shake = function(t, e, i, n, a) {
				void 0 === i && (i = 10), void 0 === n && (n = "v"), void 0 === a && (a = null);
				for (var o = [], s = [this.screen.background, this.screen.content, this.screen.foreground], l = Math.floor(e / 50), c = 0; c < l; c++)
					for (var h = this.game.rnd.integerInRange(-i, i), u = this.game.rnd.integerInRange(-i, i), p = 0; p < s.length; p++) 0 === c && (o[p] = this.game.add.tween(s[p]), r.Util.isValid(a) && 0 === p && o[p].onComplete.add(a)), o[p].to({
						x: "v" === n ? 0 : h,
						y: "h" === n ? 0 : u
					}, 50, Phaser.Easing.Linear.None), c === l - 1 && (o[p].to({
						x: 0,
						y: 0
					}, 100, Phaser.Easing.Linear.None), o[p].delay(t), o[p].start())
			}, t.prototype.firework = function(t, e, i, n, a) {
				var o = this;
				void 0 === a && (a = 0);
				var s = r.Util.isValid(n) ? n : this.screen.foreground,
					l = 75 * Math.random() + 25,
					c = Math.random(),
					h = 100 * c - 50,
					u = Math.random() + 1,
					p = s.add(this.game.prodigy.create.sprite(t - 20, e + 100, "atlas-19", "rocket")),
					d = s.add(this.game.prodigy.create.sprite(t + h, e - l, "atlas-19", "fireworks"));
				p.anchor.setTo(.5, .5), d.anchor.setTo(.5, .5), d.angle = 360 * Math.random(), d.scale.x = 0, d.scale.y = 0;
				var g = this.game.add.tween(p).to({
					y: e - l
				}, 500, Phaser.Easing.Quadratic.Out, !0, a);
				this.game.add.tween(p).to({
					x: t + h
				}, 500, Phaser.Easing.Quadratic.Out, !0, a), this.game.add.tween(p).to({
					angle: 35 * (2 * c - 1)
				}, 500, Phaser.Easing.Linear.None, !0), this.game.add.tween(d.scale).to({
					x: u,
					y: u
				}, 500, Phaser.Easing.Back.Out, !0, a + 500);
				var f = this.game.add.tween(d).to({
					alpha: 0
				}, 1e3, Phaser.Easing.Linear.None, !0, a + 1e3);
				g.onComplete.addOnce(function() {
					o.game.prodigy.audio.playSFX(18, "dig")
				}, this), g.onComplete.addOnce(function() {
					p.destroy()
				}), f.onComplete.addOnce(function() {
					d.destroy()
				}), r.Util.isValid(i) && f.onComplete.add(i)
			}, t.prototype.confetti = function(t, e, i) {
				var n = Math.random() + 1,
					a = this.screen.foreground.add(this.game.prodigy.create.sprite(t - 20, e + 100, "atlas-19", "confetti1"));
				a.animations.add("confetti", ["confetti1", "confetti2", "confetti3", "confetti4"], 10, !0, !1), a.anchor.setTo(.5, .5), a.scale.x = .1, a.scale.y = .1, a.animations.play("confetti");
				var o = this.game.add.tween(a).to({
					y: "-25"
				}, 500, Phaser.Easing.Linear.None, !0, 0);
				this.game.add.tween(a.scale).to({
					x: n,
					y: n
				}, 500, Phaser.Easing.Quadratic.In, !0, 0);
				var s = this.game.add.tween(a).to({
						y: "+100"
					}, 2e3, Phaser.Easing.Sinusoidal.Out, !1, 250),
					l = this.game.add.tween(a).to({
						alpha: 0
					}, 1e3, Phaser.Easing.Linear.None, !0, 2500);
				this.game.prodigy.audio.playSFX(18, "dig"), o.chain(s), l.onComplete.addOnce(function() {
					a.destroy()
				}), r.Util.isValid(i) && l.onComplete.add(i)
			}, t.prototype.portalEffect = function(t, e, i) {
				var n = this.screen.background.add(this.game.prodigy.create.sprite(t - 110, e - 160, "atlas-19", "portal1-b")),
					a = this.screen.foreground.add(this.game.prodigy.create.sprite(t - 110, e - 160, "atlas-19", "portal1"));
				a.animations.add("portalF", ["portal1", "portal2", "portal3", "portal4", "portal5", "portal6", "portal7", "portal8", "portal9"], 7, !0, !1), n.animations.add("portalB", ["portal1-b", "portal2-b", "portal3-b", "portal4-b", "portal5-b", "portal6-b", "portal7-b", "portal8-b", "portal9-b"], 7, !0, !1), n.animations.play("portalB"), a.animations.play("portalF"), this.game.add.tween(n).to({
					alpha: 1
				}, 800, Phaser.Easing.Linear.None, !0, 1).onComplete.addOnce(function() {
					r.Util.isValid(i) && i(), n.destroy(), a.destroy()
				})
			}, t.prototype.goldWork = function(t, e, i) {
				for (var n = 75 * Math.random() + 25, a = Math.random(), o = 100 * a - 50, r = Math.floor(3 * Math.random() + 1), s = [], l = 1; l < r + 1; l++) s.push(this.screen.addClickableEvent(t + 100 * l + a, e - 100 * l + a, 80, 80)), s[l - 1].img = s[l - 1].add(new Phaser.Image(this.game, 0, 0, "atlas-21", "gold"));
				var c = this.screen.foreground.add(this.game.prodigy.create.sprite(t - 20, e + 100, "atlas-19", "rocket"));
				c.anchor.setTo(.5, .5);
				var h = this.game.add.tween(c).to({
					y: e - n
				}, 500, Phaser.Easing.Quadratic.Out, !0, 0);
				this.game.add.tween(c).to({
					x: t + o
				}, 500, Phaser.Easing.Quadratic.Out, !0, 0);
				var u = this.game.add.tween(c).to({
					angle: 35 * (2 * a - 1)
				}, 500, Phaser.Easing.Linear.None, !0);
				h.onComplete.addOnce(function() {
					c.destroy()
				}), u.onComplete.add(i)
			}, t.prototype.fadeFlyingImage = function(t, e, i, n) {
				var o = this.game.prodigy.create.sprite(t, e, i, n);
				o.anchor.setTo(.5, .5), this.game.broadcaster.broadcast(a.EScreenEvents.AddChild, this.game, [o, "overlay"]);
				var r = this.game.add.tween(o).to({
					y: o.y - 100
				}, 1300, Phaser.Easing.Quadratic.Out).to({
					alpha: 0
				}, 200, Phaser.Easing.Quadratic.Out);
				r.onComplete.add(function() {
					o.kill()
				}, o), r.start()
			}, t.prototype.spellLearned = function(t, e, i) {
				for (var n = this, a = !1, o = function(t, o) {
						e.add(o), o.anchor.setTo(3, 3), o.angle = 60 * t;
						var s = n.game.add.tween(o).to({
							angle: "+1000"
						}, 3500, Phaser.Easing.Linear.None).to({
							alpha: 0
						}, 500, Phaser.Easing.Linear.None);
						s.onComplete.add(function() {
							o.destroy(), r.Util.isValid(i) && !a && (a = !0, i())
						}), s.start(), n.game.add.tween(o.anchor).to({
							x: .5,
							y: .5
						}, 1500, Phaser.Easing.Linear.None).delay(2e3).to({
							x: 5,
							y: 5
						}, 500, Phaser.Easing.Linear.None).start()
					}, s = 0; s < 6; s++) this.game.prodigy.icon.createFromData(t, e.width / 2, e.height / 2, null, o.bind(this, s))
			}, t.prototype.resizeContainer = function(t, e, i) {
				void 0 === e && (e = 0), void 0 === i && (i = 800), this.game.add.tween(t.scale).to({
					x: e,
					y: e
				}, i, Phaser.Easing.Linear.None, !0)
			}, t.PVP = 230, t.MIDDLE = 300, t.BOTTOM = 500, t.BASE = 600, t.TOP = 100, t.SMALL = 2, t.MEDIUM = 1, t
		}();
	e.EffectFactory = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(11),
		r = i(4),
		s = i(19),
		l = i(5),
		c = i(2),
		h = i(0),
		u = function(t) {
			function e(i, n, a, o, s, c, u, p, d, g) {
				var f = t.call(this, i, n, a, o, s, c) || this;
				return f.clickEnabled = !0, f.digSetup = !1, f.showHandIK = !1, f.animState = "", f.lastSmoothing = null, f.isMainPlayer = !1, f.hideHat = !1, f.animStates = null, f.anchorOffsetY = 0, f.fixedIKPositions = null, f.tweenAnimations = {}, f.data = {}, f.outfitTag = null, f.hatTag = null, f.hairTag = null, f.faceTag = null, f.weaponTag = null, f.bootsTag = null, f.hairMetadata = null, f.hatMetadata = null, f.outfitMetadata = null, f.faceMetadata = null, f.weaponMetadata = null, f.bootsMetadata = null, f.flagsToComplete = 0, f.rightArm = null, f.leftArm = null, f.shirt = null, f.legs = null, f.hat = null, f.weapon = null, f.neck = null, f.head = null, f.eyes = null, f.hair = null, f.collisionHead = null, f.collisionBody = null, f.clickCallback = null, f.forceWeaponVisual = !1, f.hideMount = p, f.headOnly = u, f.isMainPlayer = !!h.Util.isValid(d) && d, f.hideHat = !!h.Util.isValid(g) && g, h.Util.isValid(e.smoothOverride) && (f.lastSmoothing = e.smoothOverride), f.animStates = {
					STAND: "stand",
					WALK: "walk",
					DIG: "dig",
					ATTACK: "attack",
					ATTACK_BIG: "attackBig",
					STAND_FLOAT: "standFloat",
					WALK_FLOAT: "walkFloat",
					FLOAT_DIG: "floatDig",
					ATTACK_FLOAT: "attackFloat",
					SETUP: "setup",
					STATIC: "static"
				}, f.anchorOffsetY = o > 1 ? 0 : -12, f.fixedIKPositions = {
					head: {
						x: 1,
						y: f.anchorOffsetY - 43
					},
					neck: {
						x: -5,
						y: f.anchorOffsetY - 14
					}
				}, r.GameConstants.get("GameConstants.Build.DEBUG") && (f.game.prodigy.automation.addTrigger({
					ID: "autoclick-" + f.source.getName(),
					context: f,
					callback: function() {
						return {
							x: f.worldPosition.x,
							y: f.worldPosition.y
						}
					}
				}), f.game.broadcaster.addAppListener(l.EDebugEvents.AutoClick, f.onDebugAutoClick.bind(f), f)), f
			}
			return n(e, t), e.overrideSmoothing = function(t) {
				e.smoothOverride = t
			}, e.prototype.forceOutfit = function(t) {
				this.digSetup = 39 === t
			}, e.prototype.startLoad = function() {
				t.prototype.startLoad.call(this), this.loading = !0, this.game.input.enabled = !0, this.postStartLoad()
			}, e.prototype.postStartLoad = function() {
				this.setup()
			}, e.prototype.setupAssetsToLoad = function() {
				c.Items.doesExist("outfit", this.data.outfit) || (this.data.outfit = 1);
				var t = this.source.appearance.getGender();
				if (this.outfitTag = t + "-outfit-" + this.data.outfit, this.hatTag = "player-hat-" + this.data.hat, this.hairTag = "player-hair-" + this.data.hair.style, this.faceTag = "player-face-" + this.data.face, this.weaponTag = "player-weapon-" + this.data.weapon, this.bootsTag = "player-boot-" + this.data.boots, this.hairMetadata = c.Items.getItemMetadata("hair", this.data.hair.style), this.hatMetadata = h.Util.isValid(this.data.hat) ? c.Items.getItemMetadata("hat", this.data.hat) : null, this.outfitMetadata = c.Items.getItemMetadata("outfit", this.data.outfit).assets[t], this.faceMetadata = c.Items.getItemMetadata("face", this.data.face), this.weaponMetadata = h.Util.isValid(this.data.weapon) ? c.Items.getItemMetadata("weapon", this.data.weapon) : null, this.bootsMetadata = h.Util.isValid(this.data.boots) ? c.Items.getItemMetadata("boots", this.data.boots) : null, h.Util.isValid(this.hatMetadata) && h.Util.isValid(this.hatMetadata.hairHide) && this.hatMetadata.hideReplace >= 0 && !this.hideHat)
					for (var e = 0; e < this.hatMetadata.hairHide.length; e++)
						if (-1 === this.hatMetadata.hairHide[e] || this.data.hair.style === this.hatMetadata.hairHide[e]) {
							this.hairTag = "player-hair-" + this.hatMetadata.hideReplace, this.hairMetadata = c.Items.getItemMetadata("hair", this.hatMetadata.hideReplace);
							break
						} var i = {
					"player-head-1": {
						type: "singleImage",
						v: 5
					},
					"player-neck-1": {
						type: "singleImage",
						v: 1
					}
				};
				i[this.hairTag] = this.hairMetadata, i[this.faceTag] = this.faceMetadata, h.Util.isValid(this.data.weapon) && (i[this.weaponTag] = this.weaponMetadata), h.Util.isValid(this.data.hat) && !this.hideHat && (i[this.hatTag] = this.hatMetadata), h.Util.isValid(this.data.boots) && (i[this.bootsTag] = this.bootsMetadata), this.game.prodigy.assets.appendAssets(i)
			}, e.prototype.setup = function(t, e) {
				this.visible = !1, this.setData(), this.setupAssetsToLoad(), this.flagsToComplete = 8, this.cleanup(), this.rightArm = this.game.prodigy.create.sprite(this.outfitMetadata.rightArm.x, this.outfitMetadata.rightArm.y + this.anchorOffsetY, this.outfitTag, "rightArm_0", null, this.updateRightArm.bind(this)), this.leftArm = this.game.prodigy.create.sprite(this.outfitMetadata.leftArm.x, this.outfitMetadata.leftArm.y + this.anchorOffsetY, this.outfitTag, "leftArm_0", null, this.updateLeftArm.bind(this)), this.shirt = this.game.prodigy.create.sprite(this.outfitMetadata.shirt.x, this.outfitMetadata.shirt.y + this.anchorOffsetY, this.outfitTag, "outfit", null, this.updateShirt.bind(this)), this.legs = this.game.prodigy.create.sprite(this.outfitMetadata.legs.x, this.outfitMetadata.legs.y + this.anchorOffsetY, this.outfitTag, "legs_0", null, this.updateLegs.bind(this)), h.Util.isValid(this.data.hat) && h.Util.isValid(this.hatMetadata) && !this.hideHat ? (this.flagsToComplete++, this.hat = this.game.prodigy.create.sprite(this.hatMetadata.x, this.hatMetadata.y + this.anchorOffsetY, this.hatTag, null, null, this.updateHat.bind(this))) : this.hat = null, (this.setScale > 1 || this.forceWeaponVisual) && h.Util.isValid(this.data.weapon) || this.digSetup ? (this.flagsToComplete++, this.weapon = this.game.prodigy.create.sprite(this.leftArm.x + this.outfitMetadata.leftArm.handIK.x, this.leftArm.y + this.outfitMetadata.leftArm.handIK.y, this.weaponTag, null, null, this.updateWeapon.bind(this))) : this.weapon = null, this.game.prodigy.colorReplaceController.checkColorAsset("player-head-1", [{
					color: this.data.skinColor,
					itemColor: "skinColor"
				}], this.updateHead.bind(this)), this.game.prodigy.colorReplaceController.checkColorAsset("player-neck-1", [{
					color: this.data.skinColor,
					itemColor: "skinColor"
				}], this.updateNeck.bind(this)), this.game.prodigy.colorReplaceController.checkColorAsset(this.faceTag, [{
					color: this.data.faceColor,
					itemColor: "faceColor"
				}, {
					color: this.data.eyeColor,
					itemColor: "eyeColor",
					base: [
						[85, 85, 85]
					]
				}], this.updateFace.bind(this)), this.game.prodigy.colorReplaceController.checkColorAsset(this.hairTag, [{
					color: this.data.hair.color,
					itemColor: "hairColor"
				}], this.updateHair.bind(this))
			}, e.prototype.cleanup = function() {
				this.sprites.removeAll(!0)
			}, e.prototype.mountSprites = function() {
				var t = 1 === this.setScale;
				h.Util.isValid(e.smoothOverride) && (t = e.smoothOverride), this.headOnly || this.sprites.add(this.leftArm), this.headOnly || this.digSetup || h.Util.isValid(this.weapon) && (this.sprites.add(this.weapon), this.weapon.smoothed = t), this.headOnly || this.sprites.add(this.neck), this.sprites.add(this.head), this.head.addChild(this.eyes), this.head.addChild(this.hair), this.headOnly || (this.sprites.add(this.legs), this.sprites.add(this.shirt), this.sprites.add(this.rightArm)), h.Util.isValid(this.hat) && !this.hideHat && (this.sprites.add(this.hat), this.hat.smoothed = t), !this.headOnly && this.digSetup && h.Util.isValid(this.weapon) && (this.sprites.add(this.weapon), this.weapon.smoothed = t), this.neck.smoothed = t, this.head.smoothed = t, this.hair.smoothed = t, this.eyes.smoothed = t, this.leftArm.smoothed = t, this.rightArm.smoothed = t, this.shirt.smoothed = t, this.legs.smoothed = t, this.sprites.scale.setTo(this.sprites.scale.x < 0 ? -this.setScale : this.setScale, this.setScale), this.setupCollisionBlock(), this.x = Math.round(this.x), this.y = Math.round(this.y)
			}, e.prototype.onLoadComplete = function() {
				this.flagsToComplete--, this.flagsToComplete > 0 || !h.Util.isValid(this.game) || (this.mountSprites(), this.setupAnimations(), this.handlePostSprites(), 116 === this.source.equipment.getOutfit() ? this.sprites.alpha = .1 : this.sprites.alpha = 1, h.Util.isValid(this.loadedCallback) && this.loadedCallback(), this.complete = !0, this.loading = !1, this.visible = !0, h.Util.isValid(this.game) && this.game.broadcaster.broadcast(l.ECreatureEvents.PlayerLoaded, this.game, [this]))
			}, e.prototype.handlePostSprites = function() {
				this.stand()
			}, e.prototype.updateRightArm = function(t) {
				h.Util.isValid(this.outfitMetadata) && h.Util.isValid(this.outfitMetadata.rightArm.pivot) ? (t.anchor.x = this.outfitMetadata.rightArm.pivot.x / t.width, t.anchor.y = this.outfitMetadata.rightArm.pivot.y / t.height) : (t.anchor.x = .625, t.anchor.y = .35), this.onLoadComplete()
			}, e.prototype.updateLeftArm = function(t) {
				if (h.Util.isValid(this.outfitMetadata) && h.Util.isValid(this.outfitMetadata.leftArm.pivot) ? (t.anchor.x = this.outfitMetadata.leftArm.pivot.x / t.width, t.anchor.y = this.outfitMetadata.leftArm.pivot.y / t.height) : (t.anchor.x = .3125, t.anchor.y = .35), this.showHandIK && h.Util.isValid(this.game)) {
					var e = this.game.prodigy.create.sprite(this.outfitMetadata.leftArm.handIK.x, this.outfitMetadata.leftArm.handIK.y, "atlas-21", "empty");
					e.anchor.set(.5, .5), e.scale.set(.1), t.addChild(e)
				}
				this.onLoadComplete()
			}, e.prototype.updateShirt = function(t) {
				h.Util.has(this, "outfitMetadata.shirt.pivot") ? (t.anchor.x = this.outfitMetadata.shirt.pivot.x / t.width, t.anchor.y = this.outfitMetadata.shirt.pivot.y / t.height) : (t.anchor.x = 62 / 96, t.anchor.y = .5), this.onLoadComplete()
			}, e.prototype.updateLegs = function(t) {
				h.Util.has(this, "outfitMetadata.legs.pivot") ? (t.anchor.x = this.outfitMetadata.legs.pivot.x / t.width, t.anchor.y = this.outfitMetadata.legs.pivot.y / t.width) : (t.anchor.x = .5, t.anchor.y = .2), this.onLoadComplete()
			}, e.prototype.updateHair = function() {
				if (h.Util.isValid(this.game)) {
					if (this.hair = this.game.prodigy.create.sprite(this.hairMetadata.x, this.hairMetadata.y, this.hairTag + "-" + this.data.hair.color), h.Util.isValid(this.hairMetadata) && h.Util.isValid(this.hairMetadata.pivot) ? (this.hair.anchor.x = this.hairMetadata.pivot.x / this.hair.width, this.hair.anchor.y = this.hairMetadata.pivot.y / this.hair.height) : (this.hair.anchor.x = 64 / 112, this.hair.anchor.y = 36 / 112), h.Util.isValid(this.hatMetadata) && -1 === this.hatMetadata.hideReplace && this.hatMetadata.hairHide.length > 0 && !this.hideHat)
						for (var t = 0; t < this.hatMetadata.hairHide.length; t++)
							if (-1 === this.hatMetadata.hairHide[t] || this.hatMetadata.hairHide[t] === this.data.hair.style) {
								this.hair.visible = !1;
								break
							} this.onLoadComplete()
				}
			}, e.prototype.updateHat = function(t) {
				h.Util.isValid(this.hatMetadata) && h.Util.isValid(this.hatMetadata.pivot) ? (t.anchor.x = this.hatMetadata.pivot.x / t.width, t.anchor.y = this.hatMetadata.pivot.y / t.height) : (t.anchor.x = 71 / 128, t.anchor.y = .4375), this.onLoadComplete()
			}, e.prototype.updateFace = function() {
				h.Util.isValid(this.game) && (this.eyes = this.game.prodigy.create.sprite(0, 0, "player-face-" + this.data.face + "-" + this.data.faceColor + "-" + this.data.eyeColor), this.eyes.anchor.set(26 / 48, 21 / 32), this.onLoadComplete())
			}, e.prototype.updateHead = function() {
				h.Util.isValid(this.game) && (this.game.broadcaster.addAppListener(l.EDebugEvents.AutoClickScene, this.onDebugAutoClick.bind(this), this), this.game.broadcaster.addAppListener(l.EDebugEvents.AutoClickList, this.onDebugAutoClickList.bind(this), this), this.head = this.game.prodigy.create.sprite(this.fixedIKPositions.head.x, this.fixedIKPositions.head.y, "player-head-1-" + this.data.skinColor), this.head.anchor.set(31 / 52, 37 / 49), this.onLoadComplete())
			}, e.prototype.setupCollisionBlock = function() {
				h.Util.isValid(this.game) && (this.collisionHead = this.sprites.add(this.game.prodigy.create.sprite(-40, -100, "atlas-18", "empty")), this.collisionHead.width = 70, this.collisionHead.height = 60, this.collisionHead.inputEnabled = !0, this.collisionHead.alpha = .5, this.collisionHead.events.onInputDown.add(this.playerClicked.bind(this)), this.collisionBody = this.sprites.add(this.game.prodigy.create.sprite(-30, -41, "atlas-18", "empty")), this.collisionBody.width = 50, this.collisionBody.height = 40, this.collisionBody.inputEnabled = !0, this.collisionBody.alpha = .5, this.collisionBody.events.onInputDown.add(this.playerClicked.bind(this)))
			}, e.prototype.updateNeck = function() {
				h.Util.isValid(this.game) && (this.neck = this.game.prodigy.create.sprite(this.fixedIKPositions.neck.x, this.fixedIKPositions.neck.y, "player-neck-1-" + this.data.skinColor), this.neck.anchor.x = 5 / 6, this.neck.anchor.y = 2, this.neck.angle = 0, this.onLoadComplete())
			}, e.prototype.updateWeapon = function(t) {
				h.Util.isValid(this.weaponMetadata) ? (t.anchor.x = 0 !== o(this.weaponMetadata, "anchor.x", 0) ? this.weaponMetadata.anchor.x : .5, t.anchor.y = 0 !== o(this.weaponMetadata, "anchor.y", 0) ? this.weaponMetadata.anchor.y : .85, t.angle = h.Util.isValid(this.weaponMetadata.angle) ? this.weaponMetadata.angle : 45) : (t.anchor.x = .5, t.anchor.y = .85, t.angle = 45), this.onLoadComplete()
			}, e.prototype.randomSetup = function() {
				this.source.appearance.setGender(Math.random() > .5 ? "male" : "female"), this.source.equipment.setOutfit(Math.floor(56 * Math.random() + 1)), this.source.equipment.setHat(Math.random() > .4 ? Math.floor(56 * Math.random() + 1) : null), this.source.equipment.setWeapon(Math.floor(56 * Math.random() + 1)), this.source.appearance.setHair(Math.floor(15 * Math.random()) + 1, Math.floor(21 * Math.random()) + 1), this.source.appearance.setEyeColor(Math.floor(15 * Math.random()) + 1), this.source.appearance.setFace(Math.floor(15 * Math.random()) + 1), this.source.appearance.setSkinColor(Math.floor(5 * Math.random()) + 1)
			}, e.prototype.setData = function() {
				this.data = {
					hair: this.source.appearance.getHair(),
					eyeColor: this.source.appearance.getEyeColor(),
					face: this.source.appearance.getFace(),
					skinColor: this.source.appearance.getSkinColor(),
					weapon: this.digSetup ? 96 : this.source.equipment.getWeapon(),
					hat: this.source.equipment.getHat(),
					boots: this.source.equipment.getBoots(),
					outfit: h.Util.isValid(this.source.equipment.getOutfit()) ? this.source.equipment.getOutfit() : 1
				}, this.data.faceColor = c.Items.getItemMetadata("skinColor", this.data.skinColor).faceColor
			}, e.prototype.playerClicked = function() {
				h.Util.isValid(this.clickCallback) && this.clickEnabled && this.clickCallback()
			}, e.prototype.onDebugAutoClick = function(t) {
				h.Util.isValid(this.clickCallback) && t === "player_" + this.x + "_" + this.y && this.clickCallback()
			}, e.prototype.onDebugAutoClickList = function() {
				a.Logger.log("Scene Tag: player_" + this.x + "_" + this.y, a.LogLevel.Verbose)
			}, e.prototype.stopListeners = function() {
				t.prototype.stopListeners.call(this), r.GameConstants.get("GameConstants.Build.DEBUG") && (this.game.prodigy.automation.removeAllTriggers(this), this.game.broadcaster.removeAppListener(l.EDebugEvents.AutoClickScene, this, this.game), this.game.broadcaster.removeAppListener(l.EDebugEvents.AutoClickList, this, this.game))
			}, e.prototype.damaged = function() {
				this.game.add.tween(this).to({
					alpha: .5
				}, 100, Phaser.Easing.Quadratic.InOut, !0, 0, r.GameConstants.MAX_SAFE_INTEGER).start(), this.speed = 0
			}, e.prototype.setupAnimations = function() {
				if (!this.headOnly) {
					this.tweenAnimations = {};
					var t = [],
						e = 0,
						n = i(918);
					for (var a in n)
						for (var o in this.tweenAnimations[a] = [], n[a])
							if (h.Util.isValid(this[o]))
								for (var l in n[a][o]) {
									t = [];
									var c = l,
										u = new s.TweenController(this[o]);
									for (e = 0; e < n[a][o][l].frames.length; e++) "x" === l || "y" === l || "angle" === l ? "walk" === a && "legs" === o && "y" === l ? t.push(n[a][o][l].frames[e] + this[o][l] + ("male" === this.source.appearance.getGender() ? 2 : 4)) : t.push(n[a][o][l].frames[e] + this[o][l]) : "xScale" === l ? (c = "x", t.push(n[a][o][l].frames[e])) : "yScale" === l ? (c = "y", t.push(n[a][o][l].frames[e])) : "images/right-arm" === n[a][o][l].frames[e] ? t.push("rightArm_0") : t.push(o + "_" + n[a][o][l].frames[e]);
									if ("xScale" !== l && "yScale" !== l || (u = new s.TweenController(this[o].scale)), u.set(c, t, n[a][o][l].interval, n[a].loop ? r.GameConstants.MAX_SAFE_INTEGER : 1), this.tweenAnimations[a].push(u), "head" === o) {
										for (var p = ["hat"], d = l, g = !1, f = 0; f < p.length; f++)
											if (!1 === n[a].hasOwnProperty(p[f]) && this[p[f]]) {
												if (t = [], "x" !== l || !g)
													for (e = 0; e < n[a][o][l].frames.length; e++) "x" === l || "y" === l || "angle" === l ? t.push(n[a][o][l].frames[e] + this[p[f]][l]) : "xScale" === l ? (d = "x", t.push(n[a][o][l].frames[e])) : "yScale" === l && (d = "y", t.push(n[a][o][l].frames[e]));
												var y = new s.TweenController(this[p[f]]);
												if ("yScale" === l) {
													var m = new s.TweenController(this[p[f]].scale);
													m.set(d, t, n[a][o][l].interval, n[a].loop ? r.GameConstants.MAX_SAFE_INTEGER : 1), this.tweenAnimations[a].push(m)
												} else if ("xScale" === l) {
													var _ = new s.TweenController(this[p[f]].scale);
													if (_.set(d, t, n[a][o][l].interval, n[a].loop ? r.GameConstants.MAX_SAFE_INTEGER : 1), this.tweenAnimations[a].push(_), t.length > 1) {
														for (var v = [], E = this[p[f]].x, b = 0; b < t.length; b++) - 1 === t[b] ? v.push(-1 * E + n[a][o].x.frames[b] / 2 - 2) : h.Util.isValid(n[a][o].x) && h.Util.isValid(n[a][o].x.frames) && h.Util.isValid(h.Util.isValid(n[a][o].x.frames[b])) ? v.push(E + n[a][o].x.frames[b]) : v.push(E);
														var O = new s.TweenController(this[p[f]]);
														O.set("x", v, n[a][o][l].interval, n[a].loop ? r.GameConstants.MAX_SAFE_INTEGER : 1), g || (g = !0, this.tweenAnimations[a].push(O))
													}
												} else y.set(d, t, n[a][o][l].interval, n[a].loop ? r.GameConstants.MAX_SAFE_INTEGER : 1), this.tweenAnimations[a].push(y)
											}
									} else if ("shirt" === o)
										for (p = ["neck"], f = 0; f < p.length; f++)
											if (!1 === n[a].hasOwnProperty(p[f]) && this[p[f]]) {
												for (t = [], e = 0; e < n[a][o][l].frames.length; e++) "x" !== l && "y" !== l && "angle" !== l || t.push(n[a][o][l].frames[e] + this[p[f]][l]);
												(y = new s.TweenController(this[p[f]])).set(l, t, n[a][o][l].interval, n[a].loop ? r.GameConstants.MAX_SAFE_INTEGER : 1), this.tweenAnimations[a].push(y)
											}
								} else if ("character" === o)
									for (var l in n[a][o]) {
										u = new s.TweenController(this.sprites), c = l;
										for (t = [], e = 0; e < n[a][o][l].frames.length; e++) "x" === l ? t.push(n[a][o][l].frames[e]) : "y" === l ? t.push(n[a][o][l].frames[e]) : "xScale" === l ? (c = "x", t.push(n[a][o][l].frames[e])) : "yScale" === l && (c = "y", t.push(n[a][o][l].frames[e]));
										"xScale" !== l && "yScale" !== l || (u = new s.TweenController(this.sprites.scale)), u.set(c, t, n[a][o][l].interval, n[a].loop ? r.GameConstants.MAX_SAFE_INTEGER : 1), this.tweenAnimations[a].push(u)
									}
				}
			}, e.prototype.setNewAnimationState = function(t, e, i) {
				if (!(this.animState === t && t === this.animStates.WALK || this.headOnly)) {
					h.Util.isValid(this.game) && this.game.broadcaster.broadcast(l.EPlayerContainerEvents.NewAnimationStateSet, this, [t]), this.animState = t;
					var n = (new Date).getTime();
					if (this.tweenAnimations.hasOwnProperty(this.animState))
						for (var a = 0; a < this.tweenAnimations[this.animState].length; a++) this.tweenAnimations[this.animState][a].start(n, 0 === a ? e : null, i)
				}
			}, e.prototype.walk = function() {
				this.sprites.x = 0, this.sprites.y = 0, this.setNewAnimationState(this.animStates.WALK, null)
			}, e.prototype.stand = function() {
				this.x = Math.round(this.x), this.y = Math.round(this.y), this.setNewAnimationState(this.animStates.STAND, null, !0)
			}, e.prototype.standStill = function() {
				this.setNewAnimationState(this.animStates.STATIC)
			}, e.prototype.moonwalk = function() {
				this.setNewAnimationState(this.animStates.WALK)
			}, e.prototype.dig = function(t, e) {
				this.setNewAnimationState(this.animStates.DIG, this.stand.bind(this), !0), setTimeout(e, 1e3)
			}, e.prototype.attack = function() {
				this.setNewAnimationState(this.animStates.ATTACK, this.stand.bind(this), !0)
			}, e.prototype.dance = function(t, e) {
				this.stopTweens(), this.shouldResetArmsOnDance() && h.Util.isValid(this.rightArm) && h.Util.isValid(this.leftArm) && (this.rightArm.angle = 0, this.leftArm.angle = 0);
				var i = t;
				this.tweenAnimations.hasOwnProperty("" + t + e) && (i = "" + t + e), this.setNewAnimationState(i, this.stand.bind(this), !0)
			}, e.prototype.shouldResetArmsOnDance = function() {
				return !0
			}, e.prototype.update = function() {
				t.prototype.update.call(this);
				var i = (new Date).getTime();
				if (h.Util.isValid(this.locomotion) && this.locomotion.update(), h.Util.isValid(this.tweenAnimations) && "" !== this.animState && h.Util.isValid(this.tweenAnimations[this.animState]))
					for (var n = 0; n < this.tweenAnimations[this.animState].length; n++) this.tweenAnimations[this.animState][n].update(i);
				this.lastSmoothing !== e.smoothOverride && (this.lastSmoothing = e.smoothOverride, this.reload())
			}, e.smoothOverride = null, e
		}(i(17).CreatureContainer);
	e.CharacterContainer = u
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return n(e, t), e
	}(i(57).Boss);
	e.TitanBoss = a
}, function(t, e, i) {
	var n = i(341),
		a = i(54),
		o = i(103),
		r = Math.max;
	t.exports = function(t, e, i) {
		var s = null == t ? 0 : t.length;
		if (!s) return -1;
		var l = null == i ? 0 : o(i);
		return l < 0 && (l = r(s + l, 0)), n(t, a(e, 3), l)
	}
}, function(t, e) {
	t.exports = function(t, e) {
		var i = -1,
			n = t.length;
		for (e || (e = Array(n)); ++i < n;) e[i] = t[i];
		return e
	}
}, function(t, e, i) {
	var n = i(1068),
		a = i(72);
	t.exports = function(t) {
		return null == t ? [] : n(t, a(t))
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
		var a, o = arguments.length,
			r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
		else
			for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
		return o > 3 && r && Object.defineProperty(e, i, r), r
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(9),
		o = function() {
			function t() {}
			return e = t, t.prototype.deserializeCollection = function(t) {
				return e.deserializeCollection(t, this.deserialize)
			}, t.prototype.serializeCollection = function(t) {
				return e.serializeCollection(t, this.serialize)
			}, t.deserializeCollection = function(t, e) {
				for (var i = [], n = 0; n < t.length; n++) i.push(e(t[n]));
				return i
			}, t.serializeCollection = function(t, e) {
				for (var i = [], n = 0; n < t.length; n++) i.push(e(t[n]));
				return i
			}, t = e = n([a.injectable()], t);
			var e
		}();
	e.DataFactory = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		a = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		o = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var r = i(9),
		s = i(105),
		l = function() {
			function t(t) {
				this.storageExpiration = null, this.storageExpiration = t
			}
			return t.prototype.getValue = function(t) {
				return this.hasValue(t) && !this.storageExpiration.hasExpired(t) ? this.retrieveValueFromStorage(t) : null
			}, t.prototype.invalidate = function() {
				this.storageExpiration.invalidate()
			}, t.prototype.storeValue = function(t, e) {
				this.storageExpiration.cacheItem(t), this.storeValueInStorage(t, e)
			}, t = n([r.injectable(), o(0, r.inject(s.EInjectionIdentifiers.CacheExpirationStrategy)), a("design:paramtypes", [Object])], t)
		}();
	e.CacheStorage = l
}, function(t, e, i) {
	var n = i(1101);
	t.exports = function(t) {
		return null == t ? "" : n(t)
	}
}, function(t, e) {
	var i = Object.prototype;
	t.exports = function(t) {
		var e = t && t.constructor;
		return t === ("function" == typeof e && e.prototype || i)
	}
}, function(t, e, i) {
	var n = i(1111),
		a = i(108),
		o = i(207),
		r = o && o.isTypedArray,
		s = r ? a(r) : n;
	t.exports = s
}, function(t, e) {
	var i = 9007199254740991,
		n = /^(?:0|[1-9]\d*)$/;
	t.exports = function(t, e) {
		var a = typeof t;
		return !!(e = null == e ? i : e) && ("number" == a || "symbol" != a && n.test(t)) && t > -1 && t % 1 == 0 && t < e
	}
}, function(t, e, i) {
	var n = i(1124);
	t.exports = function(t, e) {
		var i = t.__data__;
		return n(e) ? i["string" == typeof e ? "string" : "hash"] : i.map
	}
}, function(t, e, i) {
	var n = i(74)(Object, "create");
	t.exports = n
}, function(t, e, i) {
	var n = i(111);
	t.exports = function(t, e) {
		for (var i = t.length; i--;)
			if (n(t[i][0], e)) return i;
		return -1
	}
}, function(t, e, i) {
	var n = i(1148),
		a = i(1147),
		o = i(1146),
		r = i(1145),
		s = i(1144);

	function l(t) {
		var e = -1,
			i = null == t ? 0 : t.length;
		for (this.clear(); ++e < i;) {
			var n = t[e];
			this.set(n[0], n[1])
		}
	}
	l.prototype.clear = n, l.prototype.delete = a, l.prototype.get = o, l.prototype.has = r, l.prototype.set = s, t.exports = l
}, function(t, e, i) {
	var n = i(139),
		a = i(1143),
		o = i(1142),
		r = i(1141),
		s = i(1140),
		l = i(1139);

	function c(t) {
		var e = this.__data__ = new n(t);
		this.size = e.size
	}
	c.prototype.clear = a, c.prototype.delete = o, c.prototype.get = r, c.prototype.has = s, c.prototype.set = l, t.exports = c
}, function(t, e, i) {
	var n = i(112),
		a = i(54),
		o = i(380),
		r = i(18);
	t.exports = function(t, e) {
		return (r(t) ? n : o)(t, a(e, 3))
	}
}, function(t, e, i) {
	(function(n) {
		function a() {
			var t;
			try {
				t = e.storage.debug
			} catch (t) {}
			return !t && void 0 !== n && "env" in n && (t = n.env.DEBUG), t
		}(e = t.exports = i(1185)).log = function() {
			return "object" == typeof console && console.log && Function.prototype.apply.call(console.log, console, arguments)
		}, e.formatArgs = function(t) {
			var i = this.useColors;
			if (t[0] = (i ? "%c" : "") + this.namespace + (i ? " %c" : " ") + t[0] + (i ? "%c " : " ") + "+" + e.humanize(this.diff), !i) return;
			var n = "color: " + this.color;
			t.splice(1, 0, n, "color: inherit");
			var a = 0,
				o = 0;
			t[0].replace(/%[a-zA-Z%]/g, function(t) {
				"%%" !== t && "%c" === t && (o = ++a)
			}), t.splice(o, 0, n)
		}, e.save = function(t) {
			try {
				null == t ? e.storage.removeItem("debug") : e.storage.debug = t
			} catch (t) {}
		}, e.load = a, e.useColors = function() {
			if ("undefined" != typeof window && window.process && "renderer" === window.process.type) return !0;
			if ("undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) return !1;
			return "undefined" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || "undefined" != typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)
		}, e.storage = "undefined" != typeof chrome && void 0 !== chrome.storage ? chrome.storage.local : function() {
			try {
				return window.localStorage
			} catch (t) {}
		}(), e.colors = ["#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33"], e.formatters.j = function(t) {
			try {
				return JSON.stringify(t)
			} catch (t) {
				return "[UnexpectedJSONParseError]: " + t.message
			}
		}, e.enable(a())
	}).call(this, i(225))
}, function(t, e) {
	t.exports = function(t, e) {
		var i = function() {};
		i.prototype = e.prototype, t.prototype = new i, t.prototype.constructor = t
	}
}, function(t, e) {
	e.encode = function(t) {
		var e = "";
		for (var i in t) t.hasOwnProperty(i) && (e.length && (e += "&"), e += encodeURIComponent(i) + "=" + encodeURIComponent(t[i]));
		return e
	}, e.decode = function(t) {
		for (var e = {}, i = t.split("&"), n = 0, a = i.length; n < a; n++) {
			var o = i[n].split("=");
			e[decodeURIComponent(o[0])] = decodeURIComponent(o[1])
		}
		return e
	}
}, function(t, e, i) {
	(function(n) {
		function a() {
			var t;
			try {
				t = e.storage.debug
			} catch (t) {}
			return !t && void 0 !== n && "env" in n && (t = n.env.DEBUG), t
		}(e = t.exports = i(1203)).log = function() {
			return "object" == typeof console && console.log && Function.prototype.apply.call(console.log, console, arguments)
		}, e.formatArgs = function(t) {
			var i = this.useColors;
			if (t[0] = (i ? "%c" : "") + this.namespace + (i ? " %c" : " ") + t[0] + (i ? "%c " : " ") + "+" + e.humanize(this.diff), !i) return;
			var n = "color: " + this.color;
			t.splice(1, 0, n, "color: inherit");
			var a = 0,
				o = 0;
			t[0].replace(/%[a-zA-Z%]/g, function(t) {
				"%%" !== t && "%c" === t && (o = ++a)
			}), t.splice(o, 0, n)
		}, e.save = function(t) {
			try {
				null == t ? e.storage.removeItem("debug") : e.storage.debug = t
			} catch (t) {}
		}, e.load = a, e.useColors = function() {
			if ("undefined" != typeof window && window.process && "renderer" === window.process.type) return !0;
			return "undefined" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || "undefined" != typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)
		}, e.storage = "undefined" != typeof chrome && void 0 !== chrome.storage ? chrome.storage.local : function() {
			try {
				return window.localStorage
			} catch (t) {}
		}(), e.colors = ["lightseagreen", "forestgreen", "goldenrod", "dodgerblue", "darkorchid", "crimson"], e.formatters.j = function(t) {
			try {
				return JSON.stringify(t)
			} catch (t) {
				return "[UnexpectedJSONParseError]: " + t.message
			}
		}, e.enable(a())
	}).call(this, i(225))
}, function(t, e) {
	t.exports = function(t) {
		return t.webpackPolyfill || (t.deprecate = function() {}, t.paths = [], t.children || (t.children = []), Object.defineProperty(t, "loaded", {
			enumerable: !0,
			get: function() {
				return t.l
			}
		}), Object.defineProperty(t, "id", {
			enumerable: !0,
			get: function() {
				return t.i
			}
		}), t.webpackPolyfill = 1), t
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(9);
	o.decorate(o.injectable(), Phaser.Signal);
	var r = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return n(e, t), e = a([o.injectable()], e)
	}(Phaser.Signal);
	e.Signal = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(41),
		r = i(6),
		s = i(233),
		l = i(5),
		c = i(2),
		h = i(180),
		u = i(44),
		p = i(0),
		d = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, "Titan", "MAP_TITAN_GROUNDS", n.entry.x, n.entry.y, [n.map], i.concat("spine-2", "atlas-41", "atlas-140", "spine-19", "spine-20", "singleImage-44", "sfx-27", "sfx-28")) || this;
				return a.catapultBattle = !1, a.finishedBattle = !1, a.catapultQueue = 0, a.isCatapultAnimating = !1, a.titanHealthBar = null, a.titanAsset = null, a.titanMapData = null, a.impactContainer = null, a.impactSpine = null, a.catapultContainer = null, a.catapultSpine = null, a.cannonBall = null, a.catapultTweenX = null, a.catapultTweenY = null, a.titanSpine = null, a.spineContainer = null, a.collisionBlock = null, a.titanMapData = n, a
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.titanHealthBar = null, this.catapultQueue = 0, this.isCatapultAnimating = !1, this.game.broadcaster.addAppListener(l.ETitanEvents.GotTitan, this.startTitanBattle.bind(this), this, "Titan"), this.game.broadcaster.addAppListener(l.ETitanEvents.GotTitans, this.gotTitanCallback.bind(this), this, "Titan"), p.Util.isValid(e.prodigy.titansNetworkHandler.titan) ? this.gotTitanCallback() : e.prodigy.titansNetworkHandler.getTitans()
			}, e.prototype.cleanup = function() {
				t.prototype.cleanup.call(this), this.game.broadcaster.removeAppListener(l.ETitanEvents.GotTitan, this, "Titan"), this.game.broadcaster.removeAppListener(l.ETitanEvents.GotTitans, this, "Titan"), this.game.broadcaster.removeAppListener(l.ETitanEvents.Catapult, this, "Catapult")
			}, e.prototype.process = function(e, i, n) {
				t.prototype.process.call(this, e, i, n), p.Util.isValid(this.screen.questProgress) && (this.screen.questProgress.visible = !1)
			}, e.prototype.gotTitanCallback = function() {
				if (this.game.broadcaster.removeAppListener(l.ETitanEvents.GotTitans, this, "Titan"), this.game.prodigy.titansNetworkHandler.isTitanAlive()) {
					var t = this.game.prodigy.titansNetworkHandler.titan.assetID;
					this.titanAsset = c.Items.getItem("titan", t).data;
					var e = this.game.prodigy.world.currentZone;
					"water" === this.titanAsset.element ? this.titanAsset.spellList = [81, 83, 74, 86] : "earth" === this.titanAsset.element && (this.titanAsset.spellList = [67, 68, 70, 74]), -1 !== e.indexOf(this.titanAsset.zone) && (this.game.prodigy.load.assets(["default-titan-" + t], this.titanLoadComplete.bind(this)), this.renderMapElements())
				}
			}, e.prototype.titanLoadComplete = function() {
				var t = this;
				this.renderTitan(), this.playCutscene(this.game), this.renderHealthBar();
				var e = this.titanMapData.titan.x + this.titanMapData.titan.impactOffset.x,
					i = this.titanMapData.titan.y + this.titanMapData.titan.impactOffset.y;
				this.impactContainer = this.game.prodigy.create.element(this.screen.content, e, i), this.impactSpine = this.game.add.spine(0, 0, "spine-20"), this.impactContainer.add(this.impactSpine), this.impactContainer.visible = !1, this.catapultContainer = this.game.prodigy.create.element(this.screen.content, this.titanMapData.catapult.x, this.titanMapData.catapult.y), this.catapultSpine = this.game.add.spine(0, 0, "spine-19"), this.catapultContainer.add(this.catapultSpine), this.setupCollisionBlock(this.catapultSpine, this.onCatapultClick.bind(this)), this.cannonBallStartPos = {
					x: this.titanMapData.catapult.x - 35,
					y: this.titanMapData.catapult.y - 175
				}, this.cannonBall = this.game.prodigy.create.sprite(this.cannonBallStartPos.x, this.cannonBallStartPos.y, "singleImage-44"), this.cannonBall.visible = !1, this.screen.above.add(this.cannonBall), this.catapultTweenX = this.game.add.tween(this.cannonBall.position), this.catapultTweenX.to({
					x: this.impactContainer.x
				}, 600, Phaser.Easing.Linear.None, !1, 867), this.catapultTweenX.onStart.add(function() {
					t.cannonBall.visible = !0
				}), this.catapultTweenX.onComplete.add(function() {
					t.cannonBall.visible = !1, t.playImpact()
				}), this.catapultTweenY = this.game.add.tween(this.cannonBall.position), this.catapultTweenY.to({
					y: this.impactContainer.y - this.titanMapData.catapult.arcHeight
				}, 300, Phaser.Easing.Quadratic.Out, !1, 867), this.catapultTweenY.to({
					y: this.impactContainer.y
				}, 300, Phaser.Easing.Quadratic.In, !1), this.game.broadcaster.addAppListener(l.ETitanEvents.Catapult, this.onShootCatapult.bind(this), this, "Catapult"), this.catapultBattle && (this.catapultBattle = !1, this.game.broadcaster.broadcast(l.ETitanEvents.Catapult, "Catapult"), this.game.prodigy.network.emitMessage({
					action: "catapult"
				})), this.finishedBattle || this.sendGameComplete("Titan-Map-Entered"), this.finishedBattle = !1
			}, e.prototype.playCutscene = function(t) {
				var e = t.prodigy.player.data.titanID,
					i = t.prodigy.titansNetworkHandler.titan;
				!p.Util.isValid(i) || p.Util.isValid(e) && e === i.id || (t.prodigy.player.data.titanID = t.prodigy.titansNetworkHandler.titan.id, t.prodigy.world.playScene(this.titanMapData.cutscene))
			}, e.prototype.renderMapElements = function() {
				new s.Harvey(this.game, this.screen, this.titanMapData.harvey.x, this.titanMapData.harvey.y, !0);
				var t = this.screen.content.add(this.game.prodigy.create.sprite(this.titanMapData.sign.x, this.titanMapData.sign.y, "atlas-140", "harveySign"));
				t.anchor.x = .5, t.anchor.y = 1, t.inputEnabled = !0, t.events.onInputDown.add(this.onSignClicked.bind(this))
			}, e.prototype.renderTitan = function() {
				var t = this.game.prodigy.titansNetworkHandler.titan.assetID;
				this.spineContainer = this.game.prodigy.create.element(this.screen.content, this.titanMapData.titan.x, this.titanMapData.titan.y), this.titanSpine = this.game.add.spine(0, 0, "default-titan-" + t), this.titanSpine.setAnimationByName(0, "idle", !0), this.spineContainer.add(this.titanSpine), this.setupCollisionBlock(this.spineContainer, this.onTitanClicked.bind(this))
			}, e.prototype.renderHealthBar = function() {
				if (!p.Util.isValid(this.titanHealthBar)) {
					for (var t = new u.UIParser(this.game).createUIElements([{
							type: "UIElement",
							name: "healthBarContainer",
							relativeWidth: 1,
							relativeHeight: 1,
							children: [{
								type: "Slider",
								name: "healthSlider",
								relativeY: -.4,
								anchorX: .6,
								anchorY: 1,
								relativeWidth: .85,
								height: 80,
								atlasName: "atlas-144",
								activeTrackBaseFrameName: "scroll-tracks/red-large-fill",
								inactiveTrackBaseFrameName: "scroll-tracks/red-large-track",
								showHead: !1,
								isVertical: !1,
								isInteractive: !1
							}]
						}], this.spineContainer), e = 0; e < t.length; e++)
						if (t[e] instanceof h.Slider) {
							this.titanHealthBar = t[e];
							break
						} this.game.prodigy.create.nameFont(this.spineContainer, -25, -265, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("TITAN_HEARTS"))
				}
				if (p.Util.isValid(this.game.prodigy.titansNetworkHandler.titan.health)) {
					var i = this.titanAsset.maxHealth,
						n = this.game.prodigy.titansNetworkHandler.titan.health / i;
					n < 1 && (n = Math.min(Math.max(n, .04), .96)), this.titanHealthBar.setPercentComplete(n)
				} else this.titanHealthBar.setPercentComplete(0)
			}, e.prototype.setupCollisionBlock = function(t, e) {
				this.collisionBlock = t.add(this.game.prodigy.create.sprite(-.5 * t.width, -t.height, "atlas-18", "empty")), this.collisionBlock.width = t.width, this.collisionBlock.height = t.height, this.collisionBlock.inputEnabled = !0, this.collisionBlock.events.onInputDown.add(e)
			}, e.prototype.onSignClicked = function() {
				this.game.prodigy.open.titanProgress(!1)
			}, e.prototype.onCatapultClick = function() {
				this.sendGameComplete("Titan-Catapult-Clicked"), this.game.prodigy.player.hasMembership() ? this.moveToCatapult() : this.game.prodigy.open.membershipInfo(null, null, null, !1, "titanCatapult")
			}, e.prototype.onShootCatapult = function() {
				this.catapultQueue++, this.isCatapultAnimating || this.shootCatapult()
			}, e.prototype.shootCatapult = function() {
				var t = this;
				if (this.catapultQueue > 0) {
					this.catapultQueue--, this.isCatapultAnimating = !0, this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).create("titan-catapult-used", "progression", "titan").broadcast(), this.catapultSpine.setToSetupPose(), this.catapultSpine.setAnimationByName(0, "shoot", !1), this.cannonBall.x = this.cannonBallStartPos.x, this.cannonBall.y = this.cannonBallStartPos.y, this.catapultTweenX.start(), this.catapultTweenY.start();
					var e = this.game.add.tween(this);
					e.to(null, 300), e.onComplete.add(function() {
						t.game.prodigy.audio.playSFX(27, "launch")
					}), e.start()
				}
			}, e.prototype.playImpact = function() {
				var t = this;
				this.impactContainer.visible = !0, this.impactSpine.setToSetupPose(), this.impactSpine.setAnimationByName(0, "animation", !1), this.impactSpine.onComplete.addOnce(function() {
					t.isCatapultAnimating = !1, t.shootCatapult()
				}), this.game.prodigy.audio.playSFX(28, "hit"), this.game.prodigy.effects.shake(0, 300, 10, "v"), this.titanSpine.setAnimationByName(0, "attack", !1), this.titanSpine.onComplete.addOnce(function() {
					t.titanSpine.setAnimationByName(0, "idle", !0)
				})
			}, e.prototype.onTitanClicked = function() {
				this.sendGameComplete("Titan-Clicked"), this.moveToTitan()
			}, e.prototype.moveToTitan = function() {
				var t = this;
				this.screen.path.findPath(this.screen.user.x, this.screen.user.y, this.titanMapData.titan.x - 300, this.titanMapData.titan.y, function(e) {
					p.Util.isValid(e) && t.screen.user.setPath(e, t.callNetworkToStartBattle.bind(t))
				})
			}, e.prototype.moveToCatapult = function() {
				var t = this;
				this.screen.path.findPath(this.screen.user.x, this.screen.user.y, this.titanMapData.catapult.x + 110, this.titanMapData.catapult.y, function(e) {
					p.Util.isValid(e) && t.screen.user.setPath(e, t.startCatapultBattle.bind(t))
				})
			}, e.prototype.titanDeadKick = function() {
				var t = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.game.prodigy.open.message(t.getText("TITAN_DEFEATED_MESSAGE"), this.titanDeadTeleport.bind(this), null, t.getText("TITAN_DEFEATED_TITLE"))
			}, e.prototype.titanDeadTeleport = function() {
				this.game.prodigy.world.teleport("lamplight-B3")
			}, e.prototype.callNetworkToStartBattle = function() {
				this.game.prodigy.titansNetworkHandler.getTitan(this.game.prodigy.titansNetworkHandler.titan.id)
			}, e.prototype.startCatapultBattle = function() {
				this.catapultBattle = !0, this.callNetworkToStartBattle()
			}, e.prototype.startTitanBattle = function() {
				if (this.game.prodigy.titansNetworkHandler.isTitanAlive()) {
					this.game.prodigy.network.sendBattleStartTypeEvent("TitanBattle");
					var t = [{
						ID: 11,
						type: "currency"
					}];
					this.catapultBattle && t.push({
						ID: 11,
						type: "currency"
					}), this.zone.getBattle(this, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMBAT_TITAN_BATTLE"), {
						boss: {
							level: this.game.prodigy.player.kennel.getAvgTeamLv(),
							element: this.titanAsset.element,
							attacks: this.titanAsset.spellList,
							name: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NPC_NAME_TITAN_BARRIER"),
							starBonus: 0,
							tag: "titan",
							showHP: !0,
							maxHP: this.getTitanHP(),
							catapult: this.catapultBattle,
							ID: this.game.prodigy.titansNetworkHandler.titan.assetID
						},
						drops: t,
						difficulty: this.titanAsset.difficulty
					}, this.endBattle.bind(this, this.game, !0), this.endBattle.bind(this, this.game, !1))()
				} else this.titanDeadKick()
			}, e.prototype.endBattle = function(t, e) {
				this.finishedBattle = !0, this.catapultBattle ? (e || (this.catapultBattle = !1), t.prodigy.world.teleport(this.titanMapData.map, this.titanMapData.catapult.x + 110, this.titanMapData.catapult.y)) : t.prodigy.world.teleport(this.titanMapData.map, this.titanMapData.entry.x, this.titanMapData.entry.y)
			}, e.prototype.getTitanHP = function() {
				return o.CombatFormulas.getHPFromParams(this.game.prodigy.player.getLevel(), 6)
			}, e.prototype.sendGameComplete = function(t) {
				this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("Titan-Member-Bonus", t).broadcast()
			}, e
		}(i(10).Map);
	e.TitanMap = d
}, function(t) {
	t.exports = {
		ACCOUNT_LOCATION_TITLE_CANADA: "[canada] Canada",
		ACCOUNT_LOCATION_ONTARIO: "ontario",
		ACCOUNT_LOCATION_TITLE_USA: "[us] USA",
		ACCOUNT_LOCATION_COLORADO: "colorado",
		ACCOUNT_LOCATION_NEW_YORK: "new york",
		ACCOUNT_LOCATION_TENNESSEE: "tennessee",
		ACCOUNT_LOCATION_VIRGINIA: "virginia",
		ACCOUNT_LOCATION_FLORIDA: "florida",
		ACCOUNT_LOCATION_TEXAS: "texas",
		ACCOUNT_LOCATION_TITLE_OTHER: "Other",
		ACCOUNT_LOCATION_ENGLAND: "england",
		ACCOUNT_LOCATION_AUSTRALIA: "australia",
		ACCOUNT_LOCATION_INDIA: "india",
		ACCOUNT_LOCATION_OTHER: "other",
		ACCOUNT_CREATE_PRIVACY_POLICY: "+Privacy Policy",
		ACCOUNT_CREATE_USERNAME: "username:",
		ACCOUNT_CREATE_PASSWORD: "password:",
		SURVEY_YES: "Yes.",
		SURVEY_NO: "No.",
		SURVEY_YES_EXCLAMATION: "Yes!",
		SURVEY_WIZARD_QUESTION: "How many characters or wizards do you have?",
		SURVEY_MEMBERSHIP_ANSWER_1: "1",
		SURVEY_MEMBERSHIP_ANSWER_2: "2",
		SURVEY_MEMBERSHIP_ANSWER_3: "3",
		SURVEY_MEMBERSHIP_ANSWER_MORE: "More than 3",
		BUTTON_NEXT: "next",
		BUTTON_NEXT_CAPITAL: "Next",
		BUTTON_BACK: "back",
		BUTTON_CLOSE: "close",
		BUTTON_CANCEL: "cancel",
		BUTTON_CANCEL_UPPERCASE: "CANCEL",
		BUTTON_YES: "yes",
		BUTTON_YES_UPPERCASE: "YES",
		BUTTON_NO: "no",
		BUTTON_NO_UPPERCASE: "NO",
		BUTTON_OKAY_EXCLAMATION: "okay!",
		BUTTON_OKAY: "okay",
		BUTTON_OK_EXCLAMATION: "ok!",
		BUTTON_OK_UPPERCASE: "OK",
		BUTTON_OKAY_UPPERCASE: "OKAY",
		BUTTON_OKAY_CAPITAL: "Okay",
		BUTTON_APPLY: "apply",
		BUTTON_CLICK_HERE: "Click here!",
		BUTTON_GO_BACK: "GO BACK",
		MINI_GAME_BUTTON_START: "Start!",
		MINI_GAME_BUTTON_HOW_TO: "How to Play",
		MINI_GAME_BUTTON_CANCEL: "Cancel",
		MINI_GAME_NOT_ENOUGH_GOLD: "Uh oh! You don't have enough gold!",
		DANCE_DANCE_START: "DANCE!",
		DANCE_DANCE_READY: "READY?",
		DANCE_DANCE_SPEED_UP: "Speed Up!",
		DANCE_DANCE_SUCCESS: "Dance Complete!",
		DANCE_DANCE_FAILED: "Dance Failed",
		DANCE_DANCE_INSTRUCTIONS_0: "This game is all about showing your moves and leveling up your TEK-Y4!",
		DANCE_DANCE_INSTRUCTIONS_1: "When a dance move is shown up top, select the matching dance card below before the timer runs out.",
		DANCE_DANCE_INSTRUCTIONS_2: "But look out! The timer speeds up over time! For each correct dance move, you earn gears to level up!",
		DANCE_DANCE_UH_OH: "Uh oh",
		DANCE_DANCE_NEW_HIGH_SCORE: "Looks like we have a new HIGH SCORE!",
		DANCE_DANCE_EARNED_GEARS: "Great moves! Let's see how many gears you earned!",
		DANCE_DANCE_LOWER_DIFFICULTY: "Oh dear...you got too many poses wrong. Perhaps try again on a lower difficulty?",
		DANCE_DANCE_TRY_AGAIN: "Oh dear...you got too many poses wrong. Try again another time!",
		DANCE_DANCE_LEVEL_UP_UNDER_5: "You leveled up your TEK-Y4! Now he can try the level {0} challenge and earn even more gears!",
		DANCE_DANCE_LEVEL_UP_UNDER_10: "You leveled up your TEK-Y4! Get him to level 10, and there will be a fantastic reward!",
		DANCE_DANCE_LEVEL_UP_MAX: "You leveled up your TEK-Y4 to the maximum level!",
		DANCE_DANCE_REWARD: "I almost forgot...here's your reward!",
		DANCE_DANCE_TRY_NEW_DIFFICULTY: "Good job! Level up your TEK-Y4 to try new difficulties, get more gear and cool rewards!",
		DANCE_DANCE_MAX_LEVEL: "Your TEK-Y4 is at the highest level! Try again to beat your friends' high scores!",
		DANCE_DANCE_GET_ROBOT_0: "Welcome to the Dance Stage! Ready to show everyone what your TEK-Y4 robot can do?",
		DANCE_DANCE_GET_ROBOT_1: "OH! You don't have a TEK-Y4? Well now, only the TEK-Y4 dancing robot can use the stage...",
		DANCE_DANCE_GET_ROBOT_2: "Here, you can have this one!",
		DANCE_DANCE_GET_ROBOT_3: "It's just a little TEK-Y4, so it hasn't learned how to dance yet. It'll be your job to teach it some moves!",
		DANCE_DANCE_BUTTON_GO: "GO!",
		DANCE_DANCE_BUTTON_BACK: "Back",
		DANCE_DANCE_READY_TO_START: "Ready to start robo-dancing? \n\nIt will cost you [gold] 200.",
		DANCE_DANCE_BEST_SCORE: "my best ",
		DANCE_DANCE_CHOOSE_DIFFICULTY: "Choose Difficulty",
		DANCE_DANCE_HIGHER_LEVEL: "Higher levels = more gears!",
		DANCE_DANCE_MESSAGE_LEVEL_BODY: "Your TEK-Y4 needs to be a higher level! Try a lower difficulty to earn gears and level up!",
		DYNO_DIG_START: "START DIGGING!",
		DYNO_DIG_TIMES_UP: "TIME'S UP!",
		DYNO_DIG_INSTRUCTIONS_0: "This game is all about digging up fossils!",
		DYNO_DIG_INSTRUCTIONS_1: "To find fossils, just click around the dig site to start digging.",
		DYNO_DIG_INSTRUCTIONS_2: "Your shovel will tell you how close to the fossil you are! \nCold means you're far away. \nHot means you're close!",
		DYNO_DIG_INSTRUCTIONS_3: "When you find something, the shovel button will pop up. Keep clicking it to dig up your new find!",
		DYNO_DIG_INSTRUCTIONS_4: "Once you dig it up, you can start looking for the next item!",
		DYNO_DIG_INSTRUCTIONS_5: "You have 90 seconds to dig up as many fossils as you can.",
		DYNO_DIG_EXTEND_TIME: "Ponduberous! Since you got so many items, I'll give you another 15 seconds!",
		DYNO_DIG_TIMES_UP_REWARD: "Time's up! Now let's see what items you dug up!",
		DYNO_DIG_TIMES_UP_TRY_AGAIN: "Time's up! Come back to try again sometime!",
		DYNO_DIG_FOUND_FOSSIL: "Looks like you got a fossil! Be sure to visit the museum to see your progress - maybe you completed a skeleton!",
		DYNO_DIG_START_NO_SHOVEL: "You want to start digging? First you'll need a shovel!",
		DYNO_DIG_START_NO_MORE_FOSSILS: "The museum is full, so we don't need any fossils, but do you want to dig anyways? \nIt will cost you [gold] 200",
		DYNO_DIG_READY_TO_START: "Ready to start digging for fossils? \n\nIt will cost you [gold] 300.",
		DYNO_DIG_DISTANCE_DIG: "DIG DIG DIG!",
		DYNO_DIG_DISTANCE_HOT: "Hot!",
		DYNO_DIG_DISTANCE_WARM: "Warm...",
		DYNO_DIG_DISTANCE_COLD: "Cold",
		DYNO_DIG_DISTANCE_ICE_COLD: "Ice cold!",
		DYNO_DIG_TITLE: "Dyno Dig",
		DYNO_DIG_ITEMS_RECOVERED: "Items recovered : {0}",
		DYNO_DIG_FOUND_ITEM: "YOU FOUND SOMETHING!",
		BOOST_MENU_BUTTON_NONE: "none",
		BOOST_MENU_TITLE: "Choose Your Boost!",
		BOOST_DESCRIPTION_MORE_GEARS: "More gears",
		BOOST_DESCRIPTION_SLOW_TIME: "Slow time",
		BOOST_DESCRIPTION_MULTIPLIER: "Multiplier",
		BOOST_DESCRIPTION_MORE_FOSSILS: "More fossils!",
		BOOST_DESCRIPTION_WALK_FASTER: "Walk faster!",
		BOOST_DESCRIPTION_DIG_FASTER: "Dig faster!",
		CHOOSE_PET_BUTTON: "Choose {0}",
		COLISEUM_BUTTON_CHALLENGE: "challenge!",
		COLISEUM_PROMPT_CHALLENGE: "Do you want to challenge {0}?",
		COLISEUM_REWARD: "Reward",
		COLISEUM_PROMPT_REQUIRE_LEVEL: "You must be at least level {0} to challenge {1}.",
		COLISEUM_PROMPT_REQUIRE_DEFEAT_PLURAL: "You must defeat the previous wizards to challenge {0}.",
		COLISEUM_PROMPT_REQUIRE_DEFEAT_SINGLE: "You must defeat the previous wizard to challenge {0}.",
		COLISEUM_PROMPT_REQUIRE_LEVEL_DEFEAT_PLURAL: "You must be at least level {0} and you must defeat the previous wizards to challenge {1}.",
		COLISEUM_PROMPT_REQUIRE_LEVEL_DEFEAT_SINGLE: "You must be at least level {0} and you must defeat the previous wizard to challenge {1}.",
		COLISEUM_OPPONENT_NEW_GIRL_TITLE: "The New Girl",
		COLISEUM_OPPONENT_NEW_GIRL_NAME: "Gina",
		COLISEUM_OPPONENT_NEW_GIRL_DESCRIPTION: "Gina arrived at the Academy a few weeks ago. She doesn't know many spells, but she can't wait to test them out on new challengers.",
		COLISEUM_OPPONENT_COPYCAT_TITLE: "The Copycat",
		COLISEUM_OPPONENT_COPYCAT_NAME: "Cameron",
		COLISEUM_OPPONENT_COPYCAT_DESCRIPTION: "When Cameron first came to the Academy, he challenged Crios and was beaten by his powerful fire spells. Now, Cameron has chosen fire as his new element.",
		COLISEUM_OPPONENT_VETERAN_TITLE: "The Veteran Wizard",
		COLISEUM_OPPONENT_VETERAN_NAME: "Mila",
		COLISEUM_OPPONENT_VETERAN_DESCRIPTION: "Mila didn't get her outfit from the Academy... in fact, she came here dressed like this. She's been casting spells for years, and uses all of them to defeat challengers.",
		COLISEUM_OPPONENT_NAMELESS_TITLE: "The Nameless",
		COLISEUM_OPPONENT_NAMELESS_NAME: "Benjamyn",
		COLISEUM_OPPONENT_NAMELESS_DESCRIPTION: "There are plenty of Bens at the Academy, but only one Benjamyn. Most students say his name is REALLY spelled 'Benjamin' and think he just changed it to be different. Interesting fact: It's really spelled Binjumun.",
		COLISEUM_OPPONENT_SWEETHEART_TITLE: "The Sweetheart",
		COLISEUM_OPPONENT_SWEETHEART_NAME: "Fuchsia",
		COLISEUM_OPPONENT_SWEETHEART_DESCRIPTION: "Pink is Fuchsia's favorite color, which is obvious to anyone who sees her. She doesn't know many spells, mostly because she spends too much time with her pet Peppermint.",
		COLISEUM_OPPONENT_LOUDMOUTH_TITLE: "The Loudmouth",
		COLISEUM_OPPONENT_LOUDMOUTH_NAME: "Bannard",
		COLISEUM_OPPONENT_LOUDMOUTH_DESCRIPTION: "Most students avoid Bannard, but not because he's too tough. In fact, he's a pretty normal student, except for the fact that he talks really loud... in fact, students can hear him coming from a mile away.",
		COLISEUM_OPPONENT_METALHEAD_TITLE: "The Metalhead",
		COLISEUM_OPPONENT_METALHEAD_NAME: "Leena",
		COLISEUM_OPPONENT_METALHEAD_DESCRIPTION: "Leena was raised in a small mining town in the mountains of the northern regions. Her appreciation of the rare rocks and ores that come from the planet have earned her her nickname, but it isn't earth spells that she's been practicing...",
		COLISEUM_OPPONENT_ADVENTURER_TITLE: "The Adventurer",
		COLISEUM_OPPONENT_ADVENTURER_NAME: "Finneas",
		COLISEUM_OPPONENT_ADVENTURER_DESCRIPTION: "Finn has a wild thirst for adventure, travel, and new challenges. He is a gifted student, but many teachers wish he would spend more time in the classroom and less out exploring the wilderness.",
		COLISEUM_OPPONENT_ENIGMA_TITLE: "The Enigma",
		COLISEUM_OPPONENT_ENIGMA_NAME: "Djinna",
		COLISEUM_OPPONENT_ENIGMA_DESCRIPTION: "One of the stranger students at the Academy, Djinna comes and goes as she pleases, often disappearing for days at a time. There is a rumor going around that she's not a student at all, but a spirit who watches over the Academy.",
		COLISEUM_OPPONENT_FOREST_SPRITE_TITLE: "The Forest Sprite",
		COLISEUM_OPPONENT_FOREST_SPRITE_NAME: "Jess",
		COLISEUM_OPPONENT_FOREST_SPRITE_DESCRIPTION: "Jess loves nature and everything about it. His respect for nature is second only to his twin sister, who taught him all she knows. He will accept any challenge to prove himself worthy of her teachings.",
		COLISEUM_OPPONENT_FOREST_GUARDIAN_TITLE: "The Forest Guardian",
		COLISEUM_OPPONENT_FOREST_GUARDIAN_NAME: "Flora",
		COLISEUM_OPPONENT_FOREST_GUARDIAN_DESCRIPTION: "The forests of the Academy are full of life, and Flora loves being a part of it. She spends her time in the forest, using earth spells to rejuvenate the plant life. Every once in a while, she'll return to the Academy, looking for new challengers.",
		COLISEUM_OPPONENT_CAROLER_TITLE: "The Caroler",
		COLISEUM_OPPONENT_CAROLER_NAME: "Nick",
		COLISEUM_OPPONENT_CAROLER_DESCRIPTION: "A lot of students at the Academy like the holiday season, but no one loves it as much as Nick. Nick sings festive carols all year long, even in the middle of July.",
		COLISEUM_OPPONENT_PET_ENTHUSIAST_TITLE: "The Pet Enthusiast",
		COLISEUM_OPPONENT_PET_ENTHUSIAST_NAME: "Lillian",
		COLISEUM_OPPONENT_PET_ENTHUSIAST_DESCRIPTION: "Lillian knows everything there is to know about pets, from their favorite activity to their favorite flavor of yogurt. She hopes to one day befriend every kind of pet and earn the title of 'Pet Master'.",
		COLISEUM_OPPONENT_BEASTMASTER_TITLE: "The Beastmaster",
		COLISEUM_OPPONENT_BEASTMASTER_NAME: "Korathius",
		COLISEUM_OPPONENT_BEASTMASTER_DESCRIPTION: "It is not real fur that Korathius wears, though his outfit correctly symbolizes his power and respect for all beasts. He never enters combat without a pet, though he instead refers to them as his 'brothers'.",
		COLISEUM_OPPONENT_TIMED_TRAVELLER_TITLE: "The Timed Traveller",
		COLISEUM_OPPONENT_TIMED_TRAVELLER_NAME: "Jen",
		COLISEUM_OPPONENT_TIMED_TRAVELLER_DESCRIPTION: "Many students dream of travelling the world, and Jen is no different. What separates her from the other students is that she's actually done it, in only 79 days!",
		COLISEUM_OPPONENT_CURIOUS_ONE_TITLE: "The Curious One",
		COLISEUM_OPPONENT_CURIOUS_ONE_NAME: "George",
		COLISEUM_OPPONENT_CURIOUS_ONE_DESCRIPTION: "George has a blooming curiosity for anything and everything. He loves playing with gadgets and gizmos, and often tries to invent his own... with varying degrees of success.",
		COLISEUM_OPPONENT_ICE_QUEEN_TITLE: "The Ice Queen",
		COLISEUM_OPPONENT_ICE_QUEEN_NAME: "Aurora",
		COLISEUM_OPPONENT_ICE_QUEEN_DESCRIPTION: "Students come to the Academy by many means, but Aurora's tale takes the cake. She arrived at the Academy floating on an iceberg, telling of her long journey across the sea. True or not, there is truth in her power over the spells of ice.",
		COLISEUM_OPPONENT_EMERALD_KNIGHT_TITLE: "The Emerald Knight",
		COLISEUM_OPPONENT_EMERALD_KNIGHT_NAME: "Ziang",
		COLISEUM_OPPONENT_EMERALD_KNIGHT_DESCRIPTION: "One night, Ziang disappeared into the mountains alone. For days, students could hear the sounds of battle, and a green glow filled the sky. He returned wearing a mysterious emerald armor, which he claims he took from a Dragon.",
		COLISEUM_OPPONENT_WELL_ROUNDED_TITLE: "The Well Rounded",
		COLISEUM_OPPONENT_WELL_ROUNDED_NAME: "Nova",
		COLISEUM_OPPONENT_WELL_ROUNDED_DESCRIPTION: "Few students stand out the way Nova does. She is friendly, smart and generally fun to be around. She practices hard, and helps others when they ask. She'll accept your challenge, of course, and she'll even shake your hand when she beats you.",
		COLISEUM_OPPONENT_PRODIGY_TITLE: "The Prodigy",
		COLISEUM_OPPONENT_PRODIGY_NAME: "Crios",
		COLISEUM_OPPONENT_PRODIGY_DESCRIPTION: "Crios is by far the most gifted student the Academy has ever seen. He has never lost a duel, and at least 20 students a year leave because of him. And now he challenges you.",
		EMAIL_PROMPT_LATER: "do later",
		EMAIL_PROMPT_SUBMIT: "submit!",
		EMAIL_PROMPT_TITLE: "Parent Email Link!",
		EMAIL_PROMPT_ERROR: "Oops, that didn't work. Would you like to try a different email address?",
		EMAIL_PROMPT_GET_GOLD: "Enter your parent or guardian's email below to link your account to it, and get 500 gold!",
		EMAIL_PROMPT_GET_APPLES: "Enter your parent or guardian's email below to link your account to it, and get 4 apples!",
		EMAIL_PROMPT_MESSAGE_TITLE: "Link Successful",
		EMAIL_PROMPT_MESSAGE_BODY: "Great job! Now ask your parent or guardian to check their email for a message from Prodigy!",
		EMAIL_PROMPT_FAIL_MESSAGE_BODY: "Looks like we weren't able to link your account to your parent or guardian's email.\n\nWould you like to retry submitting it?",
		FRIENDS_LIST_BUTTON_REQUESTS: "friend requests",
		FRIENDS_LIST_SENT_MESSAGE_TITLE: "Friend Request Sent",
		FRIENDS_LIST_SENT_MESSAGE_BODY: "You have sent this player a request to become friends!",
		FRIENDS_LIST_CANCEL_MESSAGE_TITLE: "Friend Request Cancelled",
		FRIENDS_LIST_CANCEL_MESSAGE_BODY: "You have cancelled your friend request with this player.",
		FRIENDS_LIST_FULL_MESSAGE_BODY: "You can't add any more friends because your friends list is full!",
		FRIENDS_LIST_ERROR_MESSAGE_BODY: "Oops! Sorry, we cannot show your Friends List right now. We are working on it. Please try again later.",
		GOT_ITEM_YOU_GOT_SOMETHING: "You got something!",
		GOT_ITEM_YOU_GOT_PET: "You got a new pet!",
		GOT_ITEM_YOU_GOT_FURNITURE: "You got furniture for your house!",
		GOT_ITEM_MOVED_HOUSE: "You've moved to a new house! I'll clean up all your furniture for you.",
		GOT_ITEM_BOUNTY_POINTS: "You earned bounty points!",
		GOT_ITEM_GOLD: "You got gold!",
		GOT_ITEM_SPELL: "You learned a new spell!",
		GOT_ITEM_GENERIC: "Wow! A new {0}. Would you like to put it on?",
		GOT_ITEM_BOOTS: "Wow! A new pair of {0}. Would you like to put it on?",
		GOT_ITEM_FOLLOW: "Wow! A new buddy! Would you like them to follow you?",
		GOT_ITEM_GIFT_BOX: "You got a Conjure Cube!",
		GOT_ITEM_LOOK: "You got a new look!",
		GOT_ITEM_OTHER: "You got an item!",
		HOUSE_BUTTON_VISIT: "Visit",
		ITEM_BUTTON_HIDE: "hide",
		ITEM_BUTTON_REMOVE: "remove",
		ITEM_BUTTON_SHOW: "show",
		ITEM_BUTTON_WEAR: "wear",
		ITEM_BUTTON_USE: "use",
		ITEM_BUTTON_BUY: "Buy",
		LEADER_PROMPT_CHECK_IT_OUT: "check it out!",
		LEADER_PROMPT_LOADING: "Loading...",
		LEADER_PROMPT_HEY_THERE: "Hey There!",
		LEADER_PROMPT_PLAY_HOME: "You can play prodigy at home!\n\nJust go to prodigygame.com and click PLAY!",
		MEMBER_PROMPT_BUY_NOW: "buy now!",
		MEMBER_PROMPT_REWARD_GOLD: "Here's your reward of 2000 gold!",
		MEMBER_PROMPT_JOIN_GOLD: "Join now and get 2000 GOLD!",
		MEMBER_PROMPT_BECOME_MEMBER: "Become a Member Today!",
		MEMBER_PROMPT_MEMBERSHIP: "You Have a Membership!",
		NAME_CHANGE_BUTTON_DONE: "I'm Done!",
		PETS_BUTTON_SET_FREE: "Set Free",
		POUCH_BUTTON_SEARCH: "search",
		QUESTS_BUTTON_START_QUEST: "Start Quest",
		SERVERS_BUTTON_PLAY_OFFLINE: "play offline",
		SERVERS_BUTTON_MORE_WORLDS: "more worlds",
		SERVERS_BUTTON_MY_WORLDS: "my worlds",
		SERVERS_BUTTON_BACK_TO_WORLDS: "back to worlds",
		SURVEY_BUTTON_DONE: "Done!",
		SYSTEM_BUTTON_SMALL_SCREEN: "Small Screen",
		SYSTEM_BUTTON_MEDIUM_SCREEN: "Medium Screen",
		SYSTEM_BUTTON_LARGE_SCREEN: "Large Screen",
		CHARACTER_SELECT_UPDATE: "update",
		CHARACTER_SELECT_LEARN: "learn more!",
		CHARACTER_SELECT_NEW_TEACHER: "New Teacher?",
		CHARACTER_SELECT_ADD_CHARACTER: "Click the button below to add your character to your new class!",
		CHARACTER_SELECT_TOYS: "Collect the new Prodigy Dragon toys! Click to learn more!",
		CHARACTER_SELECT_ENTER_CLASS: "Enter your teacher's class code",
		CHARACTER_SELECT_NO_CLASS_CODE: "Teachers: Don't have a class code? Click here!",
		CHARACTER_SELECT_NEW_CLASS_TITLE: "success!",
		CHARACTER_SELECT_NEW_CLASS_BODY: "You were added to a new class!",
		CHARACTER_SELECT_ERROR_INVALID_CLASS_CODE: "That class code is not valid",
		CHARACTER_SELECT_ERROR_NO_CLASS_CODE: "Please enter a class code",
		CHARACTER_CREATE_SKIN_COLOR: "Skin Color",
		CHARACTER_CREATE_EYE_COLOR: "Eye Color",
		CHARACTER_CREATE_HAIR_COLOR: "Hair Color",
		CHARACTER_CREATE_HAIR_STYLE: "Hair Style",
		STORE_PROMPT_WELCOME: "Welcome to {0}! \nWant to see what I have for sale?",
		STORE_PROMPT_WELCOME_API: "Welcome to my store! \nWant to see what I have for sale?",
		STORE_PROMPT_NEED_GOLD: "Need gold? Become a member and get",
		STORE_PROMPT_UNLOCK_ALL: "Want to unlock all items?",
		STORE_NAME_DYNO: "Sky-High Values",
		STORE_CLOSE_TIMER: "until the shop closes!",
		PARENT_LINK_POST_CLICK: "If you successfully linked a parent account, you will receive your rewards the next time you log in.",
		PARENT_LINK_SCHOOL_HOURS: "To receive these benefits, ask your parent to create a parent account and link it to yours.",
		PARENT_LINK_MOBILE_MESSAGE: "Visit www.prodigygame.com to link a parent account for great in-game rewards!",
		PARENT_LINK_SUCCESS_BODY: "Congratulations on linking a parent account! Please enjoy these great rewards!",
		PARENT_LINK_INFO_BODY: "Have your parent or guardian link their account to your player account and receive awesome stuff!",
		PARENT_LINK_AT_SCHOOL_BODY: "You can get these amazing rewards! Just have your parent or guardian link their account to your account after school.",
		DIALOGUE_NOOT_0: "Look out below!",
		DIALOGUE_NOOT_1: "Ouch!\n...\nAnother happy landing!",
		DIALOGUE_NOOT_2: "I'm Noot, and I'll be your fairy guide! All new wizards need a guide, and I'm ALL YOURS!",
		DIALOGUE_NOOT_3: "This is a wizard battle! The goal is to reduce your opponent's hearts to zero by casting spells.",
		DIALOGUE_NOOT_4: "It's okay, try again! The scarecrow won't fight back, so practice away!",
		DIALOGUE_NOOT_5: "When you cast a spell, your opponent loses hearts! When they have no hearts left, you win!",
		DIALOGUE_NOOT_6: "Don't know how to walk, huh? Click the ground to walk, and follow me to the edge of the map!",
		DIALOGUE_NOOT_7: "I think you're ready for the next lesson...follow me!",
		DIALOGUE_NOOT_8: "To cast a spell, just choose one!",
		DIALOGUE_NOOT_9: "Uh oh! Your hearts are low! At times like this, it might be best to change team members!",
		DIALOGUE_NOOT_10: "Just click the Switch button and choose another teammate.",
		DIALOGUE_NOOT_11: "Your opponent is getting tired! Now's the time to try to rescue it!",
		DIALOGUE_NOOT_12: "Just click the Rescue button when you want to rescue a new pet!",
		DIALOGUE_NOOT_13: "All you have to do is click this button when the arrow is pointing to the green area! Give it a try!",
		DIALOGUE_NOOT_14: "I think it's time you got a pet of your own! Choose a pet to join you on your adventures!",
		DIALOGUE_NOOT_15: "This is your backpack! All the items you collect are stored here!",
		DIALOGUE_NOOT_16: "To equip an item, click on one of your items and select 'wear'.",
		DIALOGUE_NOOT_17: "To unequip an item, click on an equipped item here. Looking good!",
		DIALOGUE_NOOT_18: "To travel to a new area, just click the area's icon!",
		DIALOGUE_NOOT_19: "This is where you select your battle team!",
		DIALOGUE_NOOT_20: "First click one of your pets in the boxes here...",
		DIALOGUE_NOOT_21: "Then, click an open slot on your team. You can do this to remove pets from your team too!",
		DIALOGUE_NOOT_22: "Oh no! You ran out of hearts... You must be exhausted!",
		DIALOGUE_NOOT_23: "Don't worry, I'll heal you and your pets! But I'll have to charge you [gold] 100...",
		DIALOGUE_NOOT_24: "Let's keep going! There's still so much to explore!",
		DIALOGUE_NOOT_25: "Uh oh! A monster is blocking our path!",
		DIALOGUE_NOOT_26: "The Academy is full of monsters, and monsters love a good wizard battle! Click on the monster to challenge it!",
		DIALOGUE_NOOT_27: "Pets are very useful - they level up and cast spells just like you! They can also help you in battle!",
		DIALOGUE_NOOT_28: "But before we go anywhere, you need to know how to defend yourself from monsters!",
		DIALOGUE_NOOT_29: "Oh no! It looks like a monster broke the bridge! How will we get across now?",
		DIALOGUE_NOOT_30: "Oh, nice! It looks like there are some pieces nearby...go collect them and we can rebuild the bridge ourselves!",
		DIALOGUE_NOOT_31: "Just click on the items around the map to pick them up...but watch out for monsters!",
		DIALOGUE_NOOT_32: "Great job! Now step back and watch this!",
		DIALOGUE_NOOT_33: "TADA! Not bad, huh? Okay, follow me!",
		DIALOGUE_NOOT_34: "In battle, monsters also cast spells. The first to defeat the other wins the battle!",
		DIALOGUE_NOOT_35: "Well, that's all I have left to teach you, but your wizard quest has only just begun!",
		DIALOGUE_NOOT_36: "Follow the path to the left to meet the first master wizard, Flora!",
		DIALOGUE_NOOT_37: "Don't you worry, though, because I'll always be here to help you out!",
		DIALOGUE_NOOT_38: "Do you want to heal you and your pets?",
		DIALOGUE_NOOT_39: "Oh dear! Try again!",
		DIALOGUE_NOOT_40: "Whoa, great job!",
		DIALOGUE_NOOT_41: "All finished! Let's head back, okay?",
		DIALOGUE_NOOT_42: "To become a true PRODIGY, you must travel all over the island and meet the master wizards!",
		DIALOGUE_NOOT_43: "Each master will teach you new spells, and award you a gemstone for completing their trials!",
		DIALOGUE_NOOT_44: "First, ask your teacher for your class code, and enter it here!",
		DIALOGUE_NOOT_45: "Now, enter your first and last name!",
		DIALOGUE_NOOT_46: "Create a password for your account! Remember to enter it twice!",
		DIALOGUE_NOOT_47: "Where do you live?",
		DIALOGUE_NOOT_48: "What grade are you in?",
		DIALOGUE_NOOT_49: "What does your wizard look like?",
		DIALOGUE_NOOT_50: "What is your wizard's name?",
		DIALOGUE_NOOT_51: "Here is your login information. Be sure to write these down!",
		DIALOGUE_NOOT_52: "Uh oh! Something went wrong...do you want to try again?",
		DIALOGUE_NOOT_53: "There's the healstone! When you're low on health, just click it to heal you and your pets!",
		DIALOGUE_NOOT_54: "There are the Sprikes! In battle, monsters drop items, and some items are used for quests!",
		DIALOGUE_NOOT_55: "Defeat the Sprikes until one of them drops some evidence for Flora!",
		DIALOGUE_NOOT_56: "Um...I think we found the TripTrop Trio!",
		DIALOGUE_NOOT_57: "Whew, that wasn't so bad...good job!",
		DIALOGUE_NOOT_58: "See that gate? It leads to the icy Shiverchill Mountains... but you need the Firefly Gem to open it!",
		DIALOGUE_NOOT_59: "WOW! That must be Gerald! I guess he's sleeping...thank goodness! We should probably tell Flora.",
		DIALOGUE_NOOT_60: "Oh no! A monster stole the flute! We'd better go tell Flora...",
		DIALOGUE_NOOT_61: "All we have to do is play this flute? Piece of cake, I used to take lessons!",
		DIALOGUE_NOOT_62: "Pftfbpfffppfbt!",
		DIALOGUE_NOOT_63: "What? I never said I was any good at it!",
		DIALOGUE_NOOT_64: "You opened the gate and got your first gemstone! Well done!",
		DIALOGUE_NOOT_65: "Next stop, Shiverchill Mountains!",
		DIALOGUE_NOOT_66: "Enter your parent's email if you're playing at home!",
		DIALOGUE_NOOT_67: "It looks like all the furnaces are out...no wonder it's so cold!",
		DIALOGUE_NOOT_68: "Whoa...what was that about?",
		DIALOGUE_NOOT_69: "We'd better tell Bok about this...",
		DIALOGUE_NOOT_70: "What the...this is NOT a shovel! We'd better go tell Bok.",
		DIALOGUE_NOOT_71: "Wait, those weren't the monsters?",
		DIALOGUE_NOOT_72: "Hmmm...well, you wouldn't happen to know where we could find some power crystals, would you?",
		DIALOGUE_NOOT_73: "Ummm...I think that's the REAL monster!",
		DIALOGUE_NOOT_74: "I'll bet that's the throne room, but it looks like the entrance is still frozen...",
		DIALOGUE_NOOT_75: "Look there! It's another power crystal...we can light another furnace!",
		DIALOGUE_NOOT_76: "Or maybe not? I guess the wyrm is still around...",
		DIALOGUE_NOOT_77: "Hey look! The furnace melted some of the ice!",
		DIALOGUE_NOOT_78: "You got your second gemstone and opened the second gate! Well done!",
		DIALOGUE_NOOT_79: "Next stop, Skywatch!",
		DIALOGUE_NOOT_80: "Welcome to Lamplight, the most magical town on the island and home of the Academy!",
		DIALOGUE_NOOT_81: "This is a great little town. I'm sure you'll find yourself right at home.",
		DIALOGUE_NOOT_82: "Let's go on a quick tour around town, shall we? There's so much to see!",
		DIALOGUE_NOOT_83: "Here is the Coliseum. Inside you can face the best wizards around, and earn great rewards!",
		DIALOGUE_NOOT_84: "But you should probably level up a bit first...some are pretty tricky! Let's keep moving!",
		DIALOGUE_NOOT_85: "This is the Shopping District - most of the shops in Lamplight are here.",
		DIALOGUE_NOOT_86: "Here is the Equipment Store. They sell wands, outfits and hats.",
		DIALOGUE_NOOT_87: "This is the Stylist Shop, where wizards can change their appearance! Let's continue, shall we?",
		DIALOGUE_NOOT_88: "This is the Town Square, the heart of Lamplight!",
		DIALOGUE_NOOT_89: "Many special events and festivals are hosted here...be sure to check in often!",
		DIALOGUE_NOOT_90: "All right! Only one more stop to go.",
		DIALOGUE_NOOT_91: "Down that way is the eastern gate, which leads to the Academy...",
		DIALOGUE_NOOT_92: "Unfortunately, it's been closed down ever since the Wardens disappeared... Maybe someday you'll get to see it for yourself!",
		DIALOGUE_NOOT_93: "Anyways, that's it for the tour! Come back often...the town changes all the time!",
		DIALOGUE_NOOT_94: "Great job! Be sure to talk to Boardy in Lamplight to get your reward.",
		DIALOGUE_NOOT_95: "That monster has the device! We'd better catch it!",
		DIALOGUE_NOOT_96: "HAHA! We've got you now!",
		DIALOGUE_NOOT_97: "Look, a note! It says that Broccolina is trimming the Bean-o-vator... Let's go find her.",
		DIALOGUE_NOOT_98: "What is THAT?!",
		DIALOGUE_NOOT_99: "Uh oh, those vines look too strong for our Vine Pruner. We should tell Benni and Broccolina about this!",
		DIALOGUE_NOOT_100: "We'd better help him out!",
		DIALOGUE_NOOT_101: "You got your third gemstone and opened the third gate! Well done!",
		DIALOGUE_NOOT_102: "Next stop, Bonfire Spire!",
		DIALOGUE_NOOT_103: "Uh, I think that's our cue to leave - fast!",
		DIALOGUE_NOOT_104: "Hey! Where do you think you're going!?",
		DIALOGUE_NOOT_105: "We get tricked a lot, don't we?",
		DIALOGUE_NOOT_106: "Sigh... Here we go again.",
		DIALOGUE_NOOT_107: "Well, actually, we didn't cook it.",
		DIALOGUE_NOOT_108: "Your Majesty, I present to you your new chef! Slurpy!",
		DIALOGUE_NOOT_109: "You got your fourth gemstone and opened the fourth gate! Well done!",
		DIALOGUE_NOOT_110: "Next stop, Barnacle Cove!",
		DIALOGUE_NOOT_111: "Let's head back, okay?",
		DIALOGUE_NOOT_112: "Oh no! Looks like we'll need to slip by Cebollini to get to the pot.",
		DIALOGUE_NOOT_113: "If you step into his circle of vision, he'll catch you and kick you out!",
		DIALOGUE_NOOT_114: "Hey, look there! There's a cauldron you can use to hide.",
		DIALOGUE_NOOT_115: "Press the button above your head to hide!",
		DIALOGUE_NOOT_116: "Walk around to take off the cauldron.",
		DIALOGUE_NOOT_117: "Now, enter your first name and last-name initial!",
		DIALOGUE_NOOT_118: "Hello?",
		DIALOGUE_NOOT_119: "Hey, listen!",
		DIALOGUE_NOOT_120: "You're going to be late for your first day of classes at the Academy!",
		DIALOGUE_NOOT_121: "Whoa! Hold up!",
		DIALOGUE_NOOT_122: "The name's Noot. I help bring new students to the Academy on their first day of class!",
		DIALOGUE_NOOT_123: "Who might you be?",
		DIALOGUE_NOOT_124: "Nice to meet you!",
		DIALOGUE_NOOT_125: "Let's head over.",
		DIALOGUE_NOOT_126: "Hey look, a monster! Monsters can be found everywhere, but they're pretty tame.",
		DIALOGUE_NOOT_127: "Uh...this one seems a bit grumpy. Looks like it wants to battle!",
		DIALOGUE_NOOT_128: "Since you're new at this, I'll shield you from spells for now!",
		DIALOGUE_NOOT_129: "Something really DID seem odd about that monster. Let's hurry up and get to the Academy.",
		DIALOGUE_NOOT_130: "By the way, if you're ever not sure what to do, just follow the magical guide hand I've created!",
		DIALOGUE_NOOT_131: "Click on the hand now!",
		DIALOGUE_NOOT_132: "Welcome to Lamplight Town! This place is just FULL of interesting people to meet and things to do!",
		DIALOGUE_NOOT_133: "Now, before we go further, you'll need to choose your very own pet!",
		DIALOGUE_NOOT_134: "Every wizard that studies at the Academy chooses a pet to train with.",
		DIALOGUE_NOOT_135: "These are the Academy's starter pets. Every student of the Academy has one.",
		DIALOGUE_NOOT_136: "Some pets even change to stronger forms if you train them enough!",
		DIALOGUE_NOOT_137: "Whoa, what has gotten into these pets?!",
		DIALOGUE_NOOT_138: "Choose which one you'd like to train!",
		DIALOGUE_NOOT_139: "Seems like this one is a bit too grouchy too. I think you'll have to battle it first!",
		DIALOGUE_NOOT_140: "When you train a pet, it becomes smarter and learns new spells. Just like you!",
		DIALOGUE_NOOT_141: "Another monster that wants to battle us? We need to scare it away before it causes trouble around here.",
		DIALOGUE_NOOT_142: "Come oooon, we have to get going!",
		DIALOGUE_NOOT_143: "Whew! We MADE IT! Well, it's time for you to get to class.",
		DIALOGUE_NOOT_144: "I have to go help other wizards find their way here, AND find out what's going on with all the monsters nearby, but I'm sure I'll see you around!",
		DIALOGUE_NOOT_145: "Do you feel that?",
		DIALOGUE_NOOT_146: "I...can sense something. A presence I've not felt since...",
		DIALOGUE_NOOT_147: "What WAS that?! Whoa...I don't feel so good...",
		DIALOGUE_NOOT_148: "AND WHERE DID THE WARDEN KEYSTONES GO?!",
		DIALOGUE_NOOT_149: "Without the Warden Keystones on their pedestals...",
		DIALOGUE_NOOT_150: "Oh no! It's the Puppet Master! This IS NOT good!",
		DIALOGUE_NOOT_151: "The name's Noot, and this here is my pal.",
		DIALOGUE_NOOT_152: "With the help of the power of the Wardens, we're going to put a stop to the Order's evil plans, once and for all!",
		DIALOGUE_NOOT_153: "I think it's time for us to get outta here...",
		DIALOGUE_NOOT_154: "I have a little secret I was keeping from the Puppet Master: the Warden Keystones can't be destroyed!",
		DIALOGUE_NOOT_155: "All that blast did was scatter them around the island.",
		DIALOGUE_NOOT_156: "Once we collect them all, we should be able to defeat the Puppet Master!",
		DIALOGUE_NOOT_157: "The Puppet Master must be the one who cast the mind spells on the monsters...",
		DIALOGUE_NOOT_158: "But thanks to you, the town is safe once again!",
		DIALOGUE_NOOT_159: "I think you've earned your wizard name. What shall you be known as?",
		DIALOGUE_NOOT_160: "It's PERFECT!",
		DIALOGUE_NOOT_161: "Let's start the search for the Warden Keystones in Firefly Forest!",
		DIALOGUE_NOOT_162: "Open your map, it shows all the areas on the island!",
		DIALOGUE_NOOT_163: "One last thing. That shadow blast drained most of my magic, so I can't block spells for you anymore.",
		DIALOGUE_NOOT_164: "With the Wardens weakened, it's up to us to stop the evil Order of Influence and save the Academy!",
		DIALOGUE_NOOT_165: "Okay, follow me!",
		DIALOGUE_NOOT_166: "Uh oh, the quest you were working on has ended. Let's go talk to Swoopy and get another quest!",
		DIALOGUE_NOOT_167: "Hello! I'm Noot, pleasure to meet you.",
		DIALOGUE_NOOT_168: "Eve sent us. She said that the local people saw an ancient monster swimming around here.",
		DIALOGUE_NOOT_169: "Do you know anything about that?",
		DIALOGUE_NOOT_170: "Let's search the nearby areas Jelly Jim mentioned.",
		DIALOGUE_NOOT_171: "What IS this stuff? Oh no, I don't think we can go any further. Maybe Eve will know what to do.",
		DIALOGUE_NOOT_172: "Whoa... what is that tunnel in the sand from?! That does NOT look normal. And it's HUGE!",
		DIALOGUE_NOOT_173: "Let's go back and tell Eve about this right away!",
		DIALOGUE_NOOT_174: "Looks like the door's locked. Let's finish our tasks, then we can try to get it open later.",
		DIALOGUE_NOOT_175: "Let's go take that photo!",
		DIALOGUE_NOOT_176: "The door's locked. Let's let Eve know.",
		DIALOGUE_NOOT_177: "Are you playing from home or from school?",
		DIALOGUE_NOOT_178: "This wizard will become more powerful than you could possibly imagine!",
		DIALOGUE_NOOT_179: "Stopping a Titan won't be easy. It will be up to you and all the wizards in the world to bring it down by weakening it in Wizard Battles.",
		DIALOGUE_NOOT_180: "Select the Titan when you want to battle it.",
		DIALOGUE_NOOT_181: "In Titan battles, you first need to break through the Titan's barrier. Once its barrier breaks, it will lose some hearts.",
		DIALOGUE_NOOT_182: "Once this is done enough times by you and other wizards, it will be defeated!",
		DIALOGUE_NOOT_183: "You aren't alone in this fight. Get help from other wizards!",
		DIALOGUE_NOOT_184: "",
		DIALOGUE_NOOT_185: "",
		DIALOGUE_NOOT_186: "",
		DIALOGUE_NOOT_187: "",
		DIALOGUE_NOOT_188: "",
		DIALOGUE_NOOT_189: "",
		DIALOGUE_NOOT_190: "",
		DIALOGUE_NOOT_191: "Look at this stuff! Isn't it neat?!",
		DIALOGUE_NOOT_192: "Wow! You got some awesome stuff!",
		DIALOGUE_NOOT_193: "Wow! You got some cool stuff!",
		DIALOGUE_NOOT_194: "Wow! You got some neat stuff!",
		DIALOGUE_NOOT_195: "Whoa! That's some awesome stuff!",
		DIALOGUE_NOOT_196: "You just got some really cool stuff!",
		DIALOGUE_NOOT_197: "Isn't being a member awesome!?!",
		DIALOGUE_NOOT_198: "Choose which one you'd like to train!",
		DIALOGUE_NOOT_199: "Let's keep going!",
		DIALOGUE_NOOT_200: "Sometimes, you'll get a Spell Power Bonus when you try to cast a spell.",
		DIALOGUE_NOOT_201: "The Cast Spell button will show boost arrows on it when you do.",
		DIALOGUE_NOOT_202: "The more arrows there are on the Cast Spell button, the bigger the power bonus!",
		DIALOGUE_NOOT_203: "Did you see that? A spell just got charged with a little energy!",
		DIALOGUE_NOOT_204: "Each time your turn starts, all your spells get some energy.",
		DIALOGUE_NOOT_205: "Once you have enough energy, you'll be able to use MORE POWERFUL spells!",
		DIALOGUE_NOOT_206: "You've got enough energy to cast an Area Spell!",
		DIALOGUE_NOOT_207: "Area Spells allow you to hit everyone on your opponent's team in one blast!",
		DIALOGUE_NOOT_208: "They cost a lot of energy though, so make sure you cast it correctly!",
		DIALOGUE_NOOT_209: "Whoops. You don't have enough energy to cast that spell. Wait until it's charged to cast it!",
		DIALOGUE_NOOT_210: "You need to level up more before that spell becomes available!",
		DIALOGUE_NOOT_211: "Equip a wand with a spell attached to it to be able to use its spell in battle.",
		DIALOGUE_NOOT_212: "Equip a Relic in order to use its spell in battle.",
		DIALOGUE_NOOT_213: "Oh WOW! Your team's energy is FULLY CHARGED!",
		DIALOGUE_NOOT_214: "Press the All Out Attack button to get your whole battle team to jump in, and give it all they've got!",
		DIALOGUE_NOOT_215: "WOW! Nice one!",
		DIALOGUE_NOOT_216: "All Out Attacks can defeat almost any team you come up against in one shot!",
		DIALOGUE_NOOT_217: "To add a monster to your team, you need to  break the Puppet Master's spell over them.",
		DIALOGUE_NOOT_218: "Just tap the Rescue button to try to break the spell.",
		DIALOGUE_NOOT_219: "You did it!",
		DIALOGUE_NOOT_220: "If you want to skip choosing which spell to use each turn, press the Auto Attack button!",
		DIALOGUE_NOOT_221: "Can't do that right now. Follow the guide hand!",
		DIALOGUE_NOOT_222: "This is where the letter said the portal would be, but I don't see any.",
		DIALOGUE_NOOT_223: "Uh oh, I sense someone coming. Quick, let's hide!",
		DIALOGUE_NOOT_224: "There it is!",
		DIALOGUE_NOOT_225: "Stay here, I'm going to make sure it's safe to go through.",
		DIALOGUE_NOOT_226: "The coast is clear! Come on!",
		DIALOGUE_NOOT_227: "Gale! Am I glad to see you. I've brought a new friend to help defeat the Puppet Master!",
		DIALOGUE_NOOT_228: "Don't blame yourself, Gale. It's not your fault.",
		DIALOGUE_NOOT_229: "Of course!",
		DIALOGUE_NOOT_230: "All right, looks like it's up to us to investigate the Archives. When you're ready, just click on the stairs!",
		DIALOGUE_NOOT_231: "I just received a letter!",
		DIALOGUE_NOOT_232: "It's... from the Academy's Keeper!",
		DIALOGUE_NOOT_233: "He says there's a portal that just opened up near the Academy building that leads inside.",
		DIALOGUE_NOOT_234: "We can get back in!",
		DIALOGUE_NOOT_235: "Let's head on over there as soon as we can.",
		DIALOGUE_FLORA_0: "Well hello there! The name's Flora - master wizard of Firefly Forest!",
		DIALOGUE_FLORA_1: "Complete my trials to learn earth spells. Complete them all to earn the Firefly Gem!",
		DIALOGUE_FLORA_2: "But first, I have an itty bitty favor to ask...",
		DIALOGUE_FLORA_3: "Can you go rescue my friend? He's been surrounded by monsters!",
		DIALOGUE_FLORA_4: "Quick question - what does every wizard need?",
		DIALOGUE_FLORA_5: "A wand, silly! I'm fresh out of wands, but I think there's a special one in a chest in the forest!",
		DIALOGUE_FLORA_6: "Or you can always buy one from the store!",
		DIALOGUE_FLORA_7: "Oh! You got one!",
		DIALOGUE_FLORA_8: "Challenge some Saplettes for your next trial!",
		DIALOGUE_FLORA_9: "After a few battles, your hearts get low and you need to heal.",
		DIALOGUE_FLORA_10: "And while you're there, challenge some Saplettes for your next trial!",
		DIALOGUE_FLORA_11: "To become a true Prodigy, you must learn spells! And the best way to learn new spells is by helping people!",
		DIALOGUE_FLORA_12: "Firefly Forest has a problem...vandals! Someone's been littering at the crossroads!",
		DIALOGUE_FLORA_13: "Do me a favor and help clean it up, okay?",
		DIALOGUE_FLORA_14: "The paper you picked up seems to be part of a note... but it's written in 'monster'.",
		DIALOGUE_FLORA_15: "Try bringing it to the traveller in the northern woods!",
		DIALOGUE_FLORA_16: "The note says 'don't tell Flora' \n...HEY! I'M FLORA!",
		DIALOGUE_FLORA_17: "So, those Sprikes are up to something secret, huh? Defeat a few until they drop some evidence!",
		DIALOGUE_FLORA_18: "Hmmm, this is a Mandrake... \nMandrakes are the best spies in the whole forest!",
		DIALOGUE_FLORA_19: "Collect more for me and bring them in for questioning...maybe they can tell us more!",
		DIALOGUE_FLORA_20: "Be sure to look around...they may be in more than one place!",
		DIALOGUE_FLORA_21: "According to the Mandrakes, the TripTrop Trio ordered the Sprikes to steal something from me.",
		DIALOGUE_FLORA_22: "This forest is mischievious! \n...and confusing!",
		DIALOGUE_FLORA_23: "Track down the TripTrop Trio, defeat them, and bring back what they stole!",
		DIALOGUE_FLORA_24: "So, they stole my flute? And they BROKE IT?! THE NERVE!",
		DIALOGUE_FLORA_25: "This can only mean one thing... \nCan you head into the forest to find my Golem, Gerald?",
		DIALOGUE_FLORA_26: "WHAT?! That boulder-brain is asleep again?!",
		DIALOGUE_FLORA_27: "Monsters lull Gerald to sleep all the time...I guess he's a bit loud when he walks around.",
		DIALOGUE_FLORA_28: "We can wake him up, but first we need to fix my broken flute!",
		DIALOGUE_FLORA_29: "Easy Peasy! Just bring it to the 'magic stump' in the woods!",
		DIALOGUE_FLORA_30: "WHAT?! It's been stolen again?!",
		DIALOGUE_FLORA_31: "That's the last straw! Now I'm REAL MAD, and nobody wants to mess with an angry forest fairy!",
		DIALOGUE_FLORA_32: "Go find that monster and bring back my flute! He could be anywhere!",
		DIALOGUE_FLORA_33: "Now that we have the flute, it's time for your final challenge!",
		DIALOGUE_FLORA_34: "Take this to Gerald and wake him up! Careful, though...he can get REAL grumpy!",
		DIALOGUE_FLORA_35: "Wow! You did it! As promised, here is the Firefly Gem!",
		DIALOGUE_FLORA_36: "You're ready to head into Shiverchill Mountains, where you'll meet your second master, Bok!",
		DIALOGUE_FLORA_37: "Just take the gem to the gate and open it!",
		DIALOGUE_FLORA_38: "Just follow the arrows!",
		DIALOGUE_FLORA_39: "Well done!",
		DIALOGUE_BOK_0: "Hahaha! Bok knew you could do it!",
		DIALOGUE_BOK_1: "Slip say it time you learn new spell. Bok agree - you the best!",
		DIALOGUE_BOK_2: "Hoot hoot!",
		DIALOGUE_BOK_3: "Welcome to Bok cave! New wizard seek gem, learn spells? You come to right place!",
		DIALOGUE_BOK_4: "Bok teach wizard, but first we have problem...IT FREEZING IN HERE!",
		DIALOGUE_BOK_5: "Need to check on furnaces, but room full of chilly monsters...",
		DIALOGUE_BOK_6: "But you wizard! Wizard strong! Head to furnace room...first door on right.",
		DIALOGUE_BOK_7: "Furnaces ALL broken? Bok use power crystal to light furnace, but last crystal stolen...",
		DIALOGUE_BOK_8: "What?! Bok tell Slip to hide crystal...it not Bok fault it stolen!",
		DIALOGUE_BOK_9: "Go to treasure room and find chilly monster that stole Bok crystal!",
		DIALOGUE_BOK_10: "Now that wizard have crystal, time to light furnace!",
		DIALOGUE_BOK_11: "Go to furnace room and light furnace. Bok counting on wizard!",
		DIALOGUE_BOK_12: "Wizard do good, but much of mountain still frozen. Need more crystals, Bok think.",
		DIALOGUE_BOK_13: "Crystals rare, but Bok used to find them in caves. Go explore caves, see what can find!",
		DIALOGUE_BOK_14: "You find miner? BOK NOT LIKE MINERS ONE BIT!",
		DIALOGUE_BOK_15: "Before miners, Bok king of mountain. Then miners come with scary wizard, chase Bok to this cave.",
		DIALOGUE_BOK_16: "Slip right...miners good at finding crystals. Okay, Bok help...take key to chest - shovel there.",
		DIALOGUE_BOK_17: "Wizard can find chest in mines...but be careful! Shovel prized possession, passed to Bok from dear mother.",
		DIALOGUE_BOK_18: "Wizard say shovel is spoon? That mean Bok been using real shovel as spoon for WEEKS!",
		DIALOGUE_BOK_19: "NO LAUGHING, SLIP!",
		DIALOGUE_BOK_20: "Now you have real shovel, go help miner and get crystal for Bok!",
		DIALOGUE_BOK_21: "All miner say is that power crystal in mines? BOK ALREADY KNOW THAT!",
		DIALOGUE_BOK_22: "Head into mines, and find that crystal!",
		DIALOGUE_BOK_23: "Giant ice wyrm? That must be what cause all these cavequakes...",
		DIALOGUE_BOK_24: "Well, it sound like you defeat it, so back to plan - head back into mines!",
		DIALOGUE_BOK_25: "What? Oh, Slip want you to defeat ghosties in mines first...",
		DIALOGUE_BOK_26: "Okay, no more delay! Head to mines, ghosties or not, and bring back power crystal!",
		DIALOGUE_BOK_27: "With two furnaces on, Bok throne room should be open, and Bok can be king of mountain again!",
		DIALOGUE_BOK_28: "But before I go, check throne room for Bok, make sure it safe.",
		DIALOGUE_BOK_29: "Throne room still frozen? And wyrm eat last power crystal? This not good...",
		DIALOGUE_BOK_30: "Okay, Bok have plan!",
		DIALOGUE_BOK_31: "BOK HAVE GOOD PLANS SOMETIMES! LOTS OF TIMES!",
		DIALOGUE_BOK_32: "Monster eat crystals, so wizard go collect lots of crystals!",
		DIALOGUE_BOK_33: "Lure monster, defeat, and get crystal! Off you go, hero wizard!",
		DIALOGUE_BOK_34: "You have crystals, now it time to face the ice wyrm...good luck!",
		DIALOGUE_BOK_35: "Slip wish you luck too!",
		DIALOGUE_BOK_36: "For this, wizard deserve the Shiverchill Gem!",
		DIALOGUE_BOK_37: "...But, Bok leave in throne room. As final test, go to throne room and pick up reward!",
		DIALOGUE_BOK_38: "Well, that all Bok have to teach! Now it time for wizard to face new journey!",
		DIALOGUE_BOK_39: "Bring gem to gate at top of mountain, open, and find Benni, the next master!",
		DIALOGUE_MERCHANT_0: "Boy, have I got some deals for you!",
		DIALOGUE_MERCHANT_1: "Oh dear...I'm in quite a pickle now!",
		DIALOGUE_MERCHANT_2: "Those monsters almost got away with my loot!!",
		DIALOGUE_MERCHANT_3: "What have we here? A note written by monsters, huh? Let me read it...",
		DIALOGUE_MERCHANT_4: "It says... \n'Big plans happening, don't tell Flora!'",
		DIALOGUE_MERCHANT_5: "Well it looks like it was written by a Sprike - strange little monsters, they are!",
		DIALOGUE_MERCHANT_6: "Well hello there, young one!",
		DIALOGUE_MERCHANT_7: "You there, help! The earthquake trapped me under some rubble!",
		DIALOGUE_MERCHANT_8: "Please find something to dig me out before the monster comes back!",
		DIALOGUE_MERCHANT_9: "Thank goodness you came before the monster returned!",
		DIALOGUE_MERCHANT_10: "Goodness no! I speak of the ice demon lurking in the mountains! Scary stuff, it is!",
		DIALOGUE_MERCHANT_11: "I was trying to escape with the other miners, but I got trapped here!",
		DIALOGUE_MERCHANT_12: "Power crystals, huh? There might be one or two left in the mines...",
		DIALOGUE_MERCHANT_13: "Thanks for all your hard work completing bounties. Here is your reward!",
		DIALOGUE_MERCHANT_14: "Do you want to open the Arena Rewards shop?",
		DIALOGUE_MERCHANT_15: "Are you ready to take part in the ARENA? Face the toughest wizards around the world and work your way to the top!",
		DIALOGUE_MERCHANT_16: "You cannot take part in the Arena in Offline Mode!",
		DIALOGUE_MERCHANT_17: "Do you want to open the Bounty Rewards shop?",
		DIALOGUE_MERCHANT_18: "Collect fireflies for me.",
		DIALOGUE_MERCHANT_19: "Your next reward is at 5.",
		DIALOGUE_MERCHANT_20: "Your next reward is at 10.",
		DIALOGUE_MERCHANT_21: "Your next reward is at 25.",
		DIALOGUE_MERCHANT_22: "Your next reward is at 50.",
		DIALOGUE_MERCHANT_23: "Your next reward is at 75.",
		DIALOGUE_MERCHANT_24: "Your next reward is at 99.",
		DIALOGUE_MERCHANT_25: "1 more to go!",
		DIALOGUE_MERCHANT_26: "Congrats, here is your reward!",
		DIALOGUE_MERCHANT_27: "Collect Ice Crystals for me.",
		DIALOGUE_MERCHANT_28: "A few of them should appear every day. Explore the forest to find them!",
		DIALOGUE_MERCHANT_29: "They are really tricky to catch while they are moving, so wait until they stop to rest.",
		DIALOGUE_MERCHANT_30: "A few frozen blocks of ice should appear every day. Explore the mountains to find them!",
		DIALOGUE_MERCHANT_31: "Once you have them, take them to any lit furnace to thaw them out.",
		DIALOGUE_MERCHANT_32: "If you happen to find any Ice Crystals, bring them to me for rewards.",
		DIALOGUE_MERCHANT_33: "Hold on! There is something else you can help me with.",
		DIALOGUE_MERCHANT_34: "Would you be able to collect fireflies for me? They appear every day. Explore the forest to find them!",
		DIALOGUE_MERCHANT_35: "If you don't mind, there is another task you can help me with.",
		DIALOGUE_MERCHANT_36: "That's all that I need. Thanks so much for your help!",
		DIALOGUE_MERCHANT_37: "Thank you so very much for taking care of those brutes! I was simply TERRIFIED.",
		DIALOGUE_MERCHANT_38: "Please take this wizard hat. It will help protect you on your travels!",
		DIALOGUE_MERCHANT_39: "South of here, a monster stole a wand from the magic shop! Defeat it, and you may keep the wand as your prize!",
		DIALOGUE_WINTERFEST_0: "Open the present to get your daily gift!",
		DIALOGUE_WINTERFEST_1: "You've already gotten your gift for today. Come back tomorrow.",
		DIALOGUE_BENNI_0: "You helped me out... Thanks, I guess.",
		DIALOGUE_BENNI_1: "Wow, what a champ!",
		DIALOGUE_BENNI_2: "We're lookin' at a COMPLETE shutdown here, and it's all because of your STUPID PLANTS!",
		DIALOGUE_BENNI_3: "At least they're smarter than YOU, bolt-head!",
		DIALOGUE_BENNI_4: "Um...hello?",
		DIALOGUE_BENNI_5: "Just do your JOB and trim those vines before GRAMPS finds out!",
		DIALOGUE_BENNI_6: "I WOULD if I COULD, squirt! The greenhouse is full of monsters again!",
		DIALOGUE_BENNI_7: "Let's head to that greenhouse and help them out...Maybe then they'll stop fighting!",
		DIALOGUE_BENNI_8: "Now you can get back to WORK!",
		DIALOGUE_BENNI_9: "I didn't see you there! The name's Benni, and this is my sister Broccolina!",
		DIALOGUE_BENNI_10: "This is SKYWATCH, home of the famous Grand Weather Factory! I take care of the machines that make the weather, and my sister takes care of the plants.",
		DIALOGUE_BENNI_11: "Since you're a wizard, we could sure use your help!",
		DIALOGUE_BENNI_12: "Head to my place and pick up my Weather O Meter! I need it to take some readings around Skywatch.",
		DIALOGUE_BENNI_13: "That monster chewed my Weather O Meter to BITS! Guess we'll have to do this the old-fashioned way!",
		DIALOGUE_BENNI_14: "I'll have to check the machines manually, but I'll need my sister first.",
		DIALOGUE_BENNI_15: "Check the greenhouse for me. She's always there murkin' around.",
		DIALOGUE_BENNI_16: "Well, now that we have your trimmers, you can fix up the trolley to the rest of Skywatch!",
		DIALOGUE_BENNI_17: "But...the monsters...",
		DIALOGUE_BENNI_18: "Quit being a baby, Broc! Okay wizard, time to help out again! First, trim the vines covering the trolley, then check on the Wind Machine for me, okay?",
		DIALOGUE_BENNI_19: "Oh no! Those nasty clouds have clogged up the machines AGAIN!",
		DIALOGUE_BENNI_20: "They seem to come back a lot... But don't worry, we just need to upgrade the trimmer...",
		DIALOGUE_BENNI_21: "Hmmm, not a bad idea. The parts are in the factory, but it's locked and gramps has hidden the key again.",
		DIALOGUE_BENNI_22: "Look for clues around Skywatch... They'll tell us where to find the key!",
		DIALOGUE_BENNI_23: "Ugh! Gramps hid it at the entrance of the factory! I KNEW it would be there!",
		DIALOGUE_BENNI_24: "He ALWAYS hides it in there...",
		DIALOGUE_BENNI_25: "Head to the factory and collect spare parts! The monsters there should have plenty!",
		DIALOGUE_BENNI_26: "Voila! You now have the power of the Vinecinerator 2000!",
		DIALOGUE_BENNI_27: "This should to the trick.",
		DIALOGUE_BENNI_28: "First stop, the Snow Machine! Go teach that cloud a lesson and clear those vines!",
		DIALOGUE_BENNI_29: "The Rain Machine is next...",
		DIALOGUE_BENNI_30: "Last up, the Wind Machine! You got this, wiz!",
		DIALOGUE_BENNI_31: "It's time for you to meet GRAMPS! Tell him about those nasty clouds!",
		DIALOGUE_BENNI_32: "He's the Cloudmaster General. He'll know what to do.",
		DIALOGUE_BENNI_33: "He sits around all day in the factory in that stupid massage chair...",
		DIALOGUE_BENNI_34: "Uh...you want the key...? Benni...?",
		DIALOGUE_BENNI_35: "See, we had the key, but, uh...we...uh...broke it.",
		DIALOGUE_BENNI_36: "I'm pretty sure the pieces are around here...somewhere...",
		DIALOGUE_BENNI_37: "So it seems gramps wants you to head to the Cumulus Room...strange, he ALWAYS sends wizards there...",
		DIALOGUE_BENNI_38: "He never lets US go in there...",
		DIALOGUE_BENNI_39: "Gramps, what are YOU doing out here?!",
		DIALOGUE_BENNI_40: "And when was the last time you took a bath...?",
		DIALOGUE_BENNI_41: "This wizard here is a TRUE hero! And the hero of Skywatch always gets a deserving reward!",
		DIALOGUE_BENNI_42: "It's time for our goodbyes, friend! Take that gem and head through the Cumulus Room to the gate.",
		DIALOGUE_BENNI_43: "Things are about to get REAL spicy for you!",
		DIALOGUE_BENNI_44: "Did you just make a JOKE, sis!?",
		DIALOGUE_BENNI_45: "Wow! Ya did it!",
		DIALOGUE_BENNI_46: "I'd say it's time for you to learn a new spell!",
		DIALOGUE_BROCCOLINA_0: "Oh, hi there. Benni wants my help again? Huh. Figures...",
		DIALOGUE_BROCCOLINA_1: "I'll meet you topside.",
		DIALOGUE_EUGENE_0: "You pesky robots! Leave me be!",
		DIALOGUE_EUGENE_1: "My now, a wizard, are ya? Pleasure to meetcha!",
		DIALOGUE_EUGENE_2: "The name is Eugene Gramps, otherwise known as the all-powerful Cloudmaster! Um...",
		DIALOGUE_EUGENE_3: "Cloudmaster GENERAL!",
		DIALOGUE_EUGENE_4: "So, I bet them clouds have my grandkids runnin' wild, huh?",
		DIALOGUE_EUGENE_5: "Every time those two scamps get arguin', I send out my clouds. Thing is, they never realize it's me what does it! Hehehehehe!",
		DIALOGUE_EUGENE_6: "Tell Benni to give you the Master Key... It's time for the finale of my little prank!",
		DIALOGUE_CEBOLLINI_0: "What is this!? Get out of here - I am creating art!",
		DIALOGUE_CEBOLLINI_1: "Yes, Madame, I live to cook!",
		DIALOGUE_CEBOLLINI_2: "But Madame... I assure you...",
		DIALOGUE_CEBOLLINI_3: "WHAT?! FIRED?! ME!? This is an outrage!",
		DIALOGUE_CEBOLLINI_4: "You have not heard the last of Chef Cebollini Carpaccio!",
		DIALOGUE_CEBOLLINI_5: "What do you think you are doing?!",
		DIALOGUE_CEBOLLINI_6: "Bringing a dish to my Queen!? Usurper! Fiend! This is MY job!",
		DIALOGUE_CEBOLLINI_7: "If I cannot feed the Queen, then SHE WILL NOT EAT!",
		DIALOGUE_CEBOLLINI_8: "What? How did you get over here? You are slime-less!",
		DIALOGUE_CEBOLLINI_9: "No matter! This dish will never see the light of day! En garde!",
		DIALOGUE_CEBOLLINI_10: "Always start battle with an appetizer!",
		DIALOGUE_CEBOLLINI_11: "Still hungry? Time for the main course!",
		DIALOGUE_CEBOLLINI_12: "There is always room for dessert!",
		DIALOGUE_CEBOLLINI_13: "I must admit, you have not just bested me in battle...but also in the kitchen. Your cooking, it is exquisite!",
		DIALOGUE_CEBOLLINI_14: "That dish of yours... I must have your recipe!",
		DIALOGUE_CEBOLLINI_15: "Then you must bring the chef to the Queen! She will demand such talent in her kitchen!",
		DIALOGUE_CEBOLLINI_16: "'Tis no joke, Madame. Here is but a taste of talent!",
		DIALOGUE_CEBOLLINI_17: "Ahem! I think what he is trying to say is that Slurpy wants to become my new apprentice in the Royal Kitchen.",
		DIALOGUE_CEBOLLINI_18: "Of course, I would need my job back...",
		DIALOGUE_CEBOLLINI_19: "But of course! Never in my life, Madame!",
		DIALOGUE_SLIME_QUEEN_0: "OOOOOOOH look at this! It smells divine, Cebollini, as always!",
		DIALOGUE_SLIME_QUEEN_1: "...",
		DIALOGUE_SLIME_QUEEN_2: "WHAT IS THIS, CEBOLLINI!? RAISINS?",
		DIALOGUE_SLIME_QUEEN_3: "You have broken the ROYAL RULE! NO RAISINS IN THE QUEEN'S DISHES!",
		DIALOGUE_SLIME_QUEEN_4: "You have left me no choice, Cebollini... You are FIRED!",
		DIALOGUE_SLIME_QUEEN_5: "What? This little slimeling? Is this a joke?",
		DIALOGUE_SLIME_QUEEN_6: "Cebollini?!",
		DIALOGUE_SLIME_QUEEN_7: "MMMMMMMMM! Why, Cebollini, this is even better than YOUR turnip stew!",
		DIALOGUE_SLIME_QUEEN_8: "It is decided, then. Slurpy, you will become the new Royal Chef!",
		DIALOGUE_SLIME_QUEEN_9: "Well, I... haven't eaten in hours and... as long as you don't break the ROYAL RULE again...",
		DIALOGUE_SLIME_QUEEN_10: "Guard! Inform this wizard that I will not be addressing their presence!",
		DIALOGUE_SLIME_GUARD_0: "Let the Royal Dinner commence!",
		DIALOGUE_SLIME_GUARD_1: "You want to cook a meal for the Queen? Not a bad idea.",
		DIALOGUE_SLIME_GUARD_2: "Her screaming is starting to get on my nerves...",
		DIALOGUE_SLIME_GUARD_3: "She loves turnips, can't go wrong there.",
		DIALOGUE_SLIME_GUARD_4: "I'd give anything for a pair of earplugs...or ears.",
		DIALOGUE_SLIME_GUARD_5: "The Queen will not pay attention to you... I suggest you move along.",
		DIALOGUE_SLIME_WORKER_0: "Dear me... This is an unfortunate situation.",
		DIALOGUE_SLIME_WORKER_1: "Oh my, thank you for your help! Here, please take this small token of my appreciation!",
		DIALOGUE_SLURPY_0: "Valiant effort, my wizard sidekick!",
		DIALOGUE_SLURPY_1: "I bestow upon thee the gift of fire!",
		DIALOGUE_SLURPY_2: "Oh, hello there! You're not a slime; what are you doing in a volcano, silly?",
		DIALOGUE_SLURPY_3: "Slurpy the Valiant, at your service! I'm on a super important quest, and I could sure use a sidekick!",
		DIALOGUE_SLURPY_4: "Buuuuut we need to get to the bottom of the volcano, and you'll have to drain the lava.",
		DIALOGUE_SLURPY_5: "Head to the right and find a lever there. All the best quests have levers, right?",
		DIALOGUE_SLURPY_6: "That takes care of the first lever. Now find the next one.",
		DIALOGUE_SLURPY_7: "GO FORTH, brave wizard, you know what to do!",
		DIALOGUE_SLURPY_8: "The plot thickens! Slurpy the Brave has found the ULTIMATE INGREDIENT, while you were off levering. All we gotta do is add it to the Chef's food!",
		DIALOGUE_SLURPY_9: "We're close now, wizard, just one lever left! Head to Outer Slimeburbia and give it a pull!",
		DIALOGUE_SLURPY_10: "We reach the end of our quest - Slurpy the Gallant and his faithful wizard companion, against all odds, drained the lava to the final level!",
		DIALOGUE_SLURPY_11: "Only one more obstacle in their path...",
		DIALOGUE_SLURPY_12: "I... uh... forgot I left my ingredient somewhere in Slime Shanty... Help?",
		DIALOGUE_SLURPY_13: "It's almost time for the Royal Dinner! Take the ingredient to the Royal Kitchen and put it in the Royal Stew.",
		DIALOGUE_SLURPY_14: "Watch out for the Chef, though. He's kind of a grump...",
		DIALOGUE_SLURPY_15: "Well, we did it! Now all there is to do is attend the Royal Dinner and take allll the credit!",
		DIALOGUE_SLURPY_16: "You'll have to go for me, though... Kids aren't allowed there; Dad says the Queen has no table manners...",
		DIALOGUE_SLURPY_17: "We broke a ROYAL RULE? I didn't know she didn't like raisins... They don't tell kids ANYTHING!",
		DIALOGUE_SLURPY_18: "Oh no! What are we gonna do? Without her dinner, the Queen is gonna be REAL angry!",
		DIALOGUE_SLURPY_19: "Looks like another quest for Slurpy the Wise and his loyal companion!",
		DIALOGUE_SLURPY_20: "I got a plan, and it's a good one!",
		DIALOGUE_SLURPY_21: "Head to the 3 levers and collect my cooking supplies; I always leave them there!",
		DIALOGUE_SLURPY_22: "I'll bet you didn't know I could cook, huh? Yup, there's more to Slurpy than meets the eye!",
		DIALOGUE_SLURPY_23: "But I need to know what the Queen actually LIKES... I know! Go talk to her guards, Mike and Hank!",
		DIALOGUE_SLURPY_24: "If they don't know, nobody will!",
		DIALOGUE_SLURPY_25: "Oh no, not turnips! They're super rare here, and the Royal Collectors are the only ones allowed to pick them.",
		DIALOGUE_SLURPY_26: "I only need a couple... Maybe you can convince them to give you some?",
		DIALOGUE_SLURPY_27: "Well, it took lots of effort, but I'd say this quest is nearly complete! Slurpy the Great and his wizard will save the Kingdom with Turnip Stew!",
		DIALOGUE_SLURPY_28: "Now, all you have to do is bring it to her... Easy as Turnip Pie!",
		DIALOGUE_SLURPY_29: "This is stupid! Why couldn't the Royal Chef make his OWN food for the Queen?",
		DIALOGUE_SLURPY_30: "...",
		DIALOGUE_SLURPY_31: "Oh, right. Well, I guess it WAS kinda your fault he got fired.",
		DIALOGUE_SLURPY_32: "But either way, we need to get that dish back! If only you could walk across lava...",
		DIALOGUE_SLURPY_33: "Hey! All you have to do is find the Boots of Hotwalk! They're in a chest, but legends say that only a fire monster has the key.",
		DIALOGUE_SLURPY_34: "So, head out there and defeat the fire monsters!",
		DIALOGUE_SLURPY_35: "Yup! That's the key alright!",
		DIALOGUE_SLURPY_36: "Now, the chest should be pretty easy to find. The hard part is the 'Guardian'.",
		DIALOGUE_SLURPY_37: "That's what we call the guy who guards it. Clever, huh? Don't worry, should be a piece of cake for a wizard!",
		DIALOGUE_SLURPY_38: "Well, it's time for revenge! Slurpy the Fab and his almost-equally fab wizard friend against the fiendish Chef!",
		DIALOGUE_SLURPY_39: "Now THAT'S a quest, right?",
		DIALOGUE_SLURPY_40: "Of course, you'll be going alone. I got more important things to do. Like planning, and stuff.",
		DIALOGUE_SLURPY_41: "The Chef wants ME to meet the Queen?! Wow... What an honor!",
		DIALOGUE_SLURPY_42: "I hope he's still not mad about the whole 'getting fired' thing.",
		DIALOGUE_SLURPY_43: "WHAT!? But I only know how to make one dish...",
		DIALOGUE_SLURPY_44: "This is way too much pressure!",
		DIALOGUE_SLURPY_45: "Maybe if I study as the Chef's apprentice, I can learn more about being a chef before I have a lot of responsibility.",
		DIALOGUE_SLURPY_46: "Thanks for your help!",
		DIALOGUE_SLURPY_47: "And now that you've proven you're worthy, I can give you this: the Bonfire Gem!",
		DIALOGUE_SLURPY_48: "Well, I can finally say it for real this time... QUEST COMPLETE!",
		DIALOGUE_SLURPY_49: "We did it, friend! I couldn't have done it without you! Now, it's time for you to move on. There are other quests out there for you to discover!",
		DIALOGUE_PUPPET_MASTER_0: "It is finally done. With the Warden Keystones destroyed, no one will EVER be able to enter the Academy and fill their minds with knowledge.",
		DIALOGUE_PUPPET_MASTER_1: "And without knowledge, they will not be able to resist our mind illusions!",
		DIALOGUE_PUPPET_MASTER_2: "You seem to know me, but I have no idea who YOU are.",
		DIALOGUE_PUPPET_MASTER_3: "Bold words. Unfortunately for you, the shadow blast that destroyed the Warden Keystones also drained power from the 6 Wardens themselves.",
		DIALOGUE_PUPPET_MASTER_4: "Now, nothing stands in our way.",
		DIALOGUE_PUPPET_MASTER_5: "Are...you...KIDDING ME?! HOW DID WE MISS ONE?!",
		DIALOGUE_PUPPET_MASTER_6: "WHY CAN'T I GET MY WAY!?!?!",
		DIALOGUE_PUPPET_MASTER_7: "COME ON! How is this even possible?!",
		DIALOGUE_PUPPET_MASTER_8: "...That sounds like a good idea.",
		DIALOGUE_PUPPET_MASTER_9: "Now then, we must make plans for our next steps.",
		DIALOGUE_PUPPET_MASTER_10: "So, you've gotten quite a lot smarter since our last encounter. No wonder our mind illusions aren't working on you...",
		DIALOGUE_PUPPET_MASTER_11: "No matter how strong any one wizard is, they cannot defeat our Titan. This magic has survived for thousands of years, and it won't fail now!",
		DIALOGUE_PUPPET_MASTER_12: "Good luck! YOU'RE GOING TO NEED IT! Hahahahaha!",
		DIALOGUE_PUPPET_MASTER_13: "If our mind illusions won't work, we'll just have to put a stop to your efforts the old fashioned way.",
		DIALOGUE_PUPPET_MASTER_14: "This magic has survived for thousands of years. It won't fail now.",
		DIALOGUE_PIPPIT_0: "6 Wardens? Uh, master, there were only 5 in there...",
		DIALOGUE_PIPPIT_1: "It was a great try though, master, really. Why, no one else in the Order's history has come this close to total victory!",
		DIALOGUE_PIPPIT_2: "Hey there, I have an idea. How about we calm down and figure out a new plan! That sound like a good idea?",
		DIALOGUE_PIPPIT_3: "Master says we need to stop you from becoming powerful. I will do as Master commands!",
		DIALOGUE_PIPPIT_4: "These mountains seem like a perfect hiding place for a Warden. Don't you think?",
		DIALOGUE_PIPPIT_5: "You know where the final Warden is, don't you? Tell me!",
		DIALOGUE_PIPPIT_6: "The less you learn, the stronger our mind illusions get. Let's see what you know!",
		DIALOGUE_PIPPIT_7: "The Order of Influence was defeated here long ago. We won't lose again!",
		DIALOGUE_PIPPIT_8: "You've beaten me this time, but if you stop learning, our mind illusions will overpower you!",
		DIALOGUE_PIPPIT_9: "The less you learn, the stronger our mind illusions get. Let's see what you know!",
		DIALOGUE_JULIA_GHOULIA_0: "Why hello again! Looking to purchase some spooky specials?",
		DIALOGUE_JULIA_GHOULIA_1: "Welcome to Pumpkinfest!",
		DIALOGUE_JULIA_GHOULIA_2: "Until October 31st, you can purchase Pumpkinfest items from my shop with candy corn cash.",
		DIALOGUE_JULIA_GHOULIA_3: "Candy corn cash can be earned from wizard battles during the festival.",
		DIALOGUE_JULIA_GHOULIA_4: "You can also get a LOT of candy corn by rescuing pumpkins. If you find a pumpkin in Lamplight Town that isn't lit, click or tap it.",
		DIALOGUE_JULIA_GHOULIA_5: "If you can defeat the monster that has taken it over, you will get a bunch more candy corn!",
		DIALOGUE_MAMA_STAR_0: "Why hello again! Did you find the fallen star in town tonight?",
		DIALOGUE_MAMA_STAR_1: "Hi there! You can buy Starlight Festival items from my shop right now, but the only way to buy them is by spending Star Shards.",
		DIALOGUE_MAMA_STAR_2: "You can get Star Shards from wizard battles, and find a fallen star in the town to get even more!",
		DIALOGUE_MAMA_STAR_3: "Why hello there! I'm Mama Star! Welcome to the Starlight Festival!",
		DIALOGUE_MAMA_STAR_4: "You can purchase Starlight Festival items from my shop with Star Shards.",
		DIALOGUE_MAMA_STAR_5: "Star Shards can be earned from wizard battles during the festival.",
		DIALOGUE_MAMA_STAR_6: "You can also get a LOT of Star Shards by finding fallen stars. If you find a fallen star in Lamplight Town, click or tap it.",
		DIALOGUE_MAMA_STAR_7: "If you can defeat the monster that is trying to capture it, you will get a bunch more Star Shards!",
		DIALOGUE_MAMA_STAR_8: "Why hello there! I'm Mama Star! Welcome to the Starlight Festival!",
		DIALOGUE_MAMA_STAR_9: "You may be wonderin' why Lamplight Town seems to be in twilight?",
		DIALOGUE_MAMA_STAR_10: "No need to worry darlin', it is all good news! A flight of Epic Dragons are due to arrive in our lands real soon.",
		DIALOGUE_MAMA_STAR_11: "To celebrate their coming I have stocked up on wondrous Dragon themed treasures, treasures that I will sell to you in exchange for Dragon Flies.",
		DIALOGUE_MAMA_STAR_12: "During this festival, you can earn Dragon Flies in wizard battles, or by rescuing fallen stars right here in Lamplight Town.",
		DIALOGUE_MAMA_STAR_13: "Heck, sometimes you can catch em flying wild all over the world.",
		DIALOGUE_MAMA_STAR_14: "Hi there! You can buy Starlight Festival items from my shop right now, but only with Dragon Flies.",
		DIALOGUE_MAMA_STAR_15: "You can get Dragon Flies from wizard battles anywhere in the world. Rescue a fallen star in Lamplight Town to get even more!",
		DIALOGUE_MAMA_STAR_16: "And if you keep your eyes open, you might be able to catch wild ones fluttering about.",
		DIALOGUE_TOY_0: "Welcome to Wandering Wares! We specialize in ancient artifacts for powerful wizards, but I'm not interested in gold!",
		DIALOGUE_TOY_1: "If you find old copper coins, I'll gladly trade for them.",
		DIALOGUE_TOY_2: "Onto the next area, shall we?",
		DIALOGUE_TOY_3: "This is Arctursus, the arctic powerhouse! The air around Arctursus is always cold - the tips of his fur are made from ice that can't melt!",
		DIALOGUE_TOY_4: "Florafox here is guardian of the forests! The bulb on her tail produces a pollen that can heal any plant, no matter how withered it is!",
		DIALOGUE_TOY_5: "Don't forget Big Hex, master of mech! This mechano-man is so tough, his static electricity won't let his enemies near him!",
		DIALOGUE_TOY_6: "Here's Magmischief, the mischievous magma-loving monster! This sneaky guy loves the heat, but that just makes him cool!",
		DIALOGUE_TOY_7: "There's Diveodile, the ocean lord! He can swim faster than a sailboat, and create whirlpools with the smallest flick of his tail!",
		DIALOGUE_TOY_8: "Want to try your hand at the Epic Arena? Use your Epic to challenge hordes of enemies and gain awesome rewards!",
		DIALOGUE_TOY_9: "Well, now that you've met the Epics, you can see their potential! Just imagine how strong they would be on YOUR team!",
		DIALOGUE_TOY_10: "Welcome to the Epics Subspace! This is a world where the Epics live, while resting in their statue forms.",
		DIALOGUE_TOY_11: "It's up to wizards like you to rescue them! When you do, they will join you on your quests!",
		DIALOGUE_TOY_12: "Come back soon to challenge the Epic Arena!",
		DIALOGUE_TOY_13: "Here you can visit the new Dragons, or the other Epics.",
		DIALOGUE_TOY_14: "Chill & Char are inseparable! Their combo of ice and fire make them a great choice for all kinds of enemies!",
		DIALOGUE_TOY_15: "Tidus is rarely seen on land! His power surges upward from the deepest depths of the sea!",
		DIALOGUE_TOY_16: "Luma is a small but powerful dragon. Her spells are powered by the sun, making her almost unstoppable during the day.",
		DIALOGUE_TOY_17: "Here is Eclipse, master of twilight. His giant wings gather energy as he soars through the night sky.",
		DIALOGUE_HOWARD_CORNELIUS_0: "Ice to see you again, wizard. I have lots of cool trinkets on sale!",
		DIALOGUE_HOWARD_CORNELIUS_1: "Do you have any Magic Snowflakes for Hanz?",
		DIALOGUE_HOWARD_CORNELIUS_2: "Let me tell you, he won't chill out until he gets some.",
		DIALOGUE_HOWARD_CORNELIUS_3: "Ice to meet you young wizard! What a fantastically chilly day it is today!",
		DIALOGUE_HOWARD_CORNELIUS_4: "Hanz and I have brought a lot of cool items with us. We're super excited to be bringing Winterfest cheer to Lamplight Town!",
		DIALOGUE_HOWARD_CORNELIUS_5: "You got any Magic Snowflakes? Hanz absolutely loves munching on them.",
		DIALOGUE_SIR_VEY_0: "Good day, wizard! Unfortunately, I don't have any questions right now, but be sure to come back soon, and I might have something new to ask you!",
		DIALOGUE_SIR_VEY_1: "Greetings, wizard! I have a quick question for you. If you answer it, you shall be rewarded for your assistance!",
		DIALOGUE_MOZZA_ELLE_0: "This place feels cozy. What do you think?",
		DIALOGUE_MOZZA_ELLE_1: 'This place is very "you!"',
		DIALOGUE_MOZZA_ELLE_2: "This house is not too big, or too small. It's just right!",
		DIALOGUE_MOZZA_ELLE_3: "You won't run out of room in here any time soon!",
		DIALOGUE_MOZZA_ELLE_4: "This place is so big, you might even get lost in it!",
		DIALOGUE_MOZZA_ELLE_5: "This would make for a cool clubhouse!",
		DIALOGUE_MOZZA_ELLE_6: "Wow! What a great place to relax in.",
		DIALOGUE_MOZZA_ELLE_7: "This place is cool!",
		DIALOGUE_MOZZA_ELLE_8: "You could really chill out in here.",
		DIALOGUE_MOZZA_ELLE_9: "This type of house is very popular among wizards who study Fire magic.",
		DIALOGUE_MOZZA_ELLE_10: "I bet you'd feel warm in here even in the middle of Winterfest!",
		DIALOGUE_MOZZA_ELLE_11: "So, what do you think?",
		DIALOGUE_POTION_0: "Hey there, how's it goin'?!",
		DIALOGUE_POTION_1: "I'm Scientist Slimerella, great to meetcha!",
		DIALOGUE_POTION_2: "I've come to town all the way from Bonfire Spire to sell rare and powerful potions I created using my science skills.",
		DIALOGUE_POTION_3: "Here, have a free sample!",
		DIALOGUE_POTION_4: "Now let me show you what else I've got!",
		DIALOGUE_POTION_5: "Feel free to come back any time!",
		DIALOGUE_POTION_6: "Check out what I got in stock - you'll find some pretty awesome stuff in there!",
		DIALOGUE_POTION_7: "Science for the win! Yeah!",
		DIALOGUE_SWOOPY_0: "The Puppet Master's goons have destroyed our village and taken our wood! Can you help us get it back?",
		DIALOGUE_SWOOPY_1: "Complete as many daily quests here as you can before the real adventure begins later this year!",
		DIALOGUE_SWOOPY_2: "Take one of the two paths behind me to complete today's quest!",
		DIALOGUE_SWOOPY_3: "You completed today's quest. Thanks for getting some of our wood back!",
		DIALOGUE_SWOOPY_4: "Don't forget to come back tomorrow!",
		DIALOGUE_EVE_0: "You did it! Way to go, kid!",
		DIALOGUE_EVE_1: "Hey, you!",
		DIALOGUE_EVE_2: "The name's Eve, pleasure to meet you! You must be the Prodigy-in-training that everyone's talking about.",
		DIALOGUE_EVE_3: "This means that if you pass my test, I'll give you my Warden Keystone, just like the other Guardians on the island.",
		DIALOGUE_EVE_4: "You'll be one step closer to stopping the Puppet Master!",
		DIALOGUE_EVE_5: "Ever since the Puppet Master returned, the sea people have reported spotting an ancient monster lurking just off the coast.",
		DIALOGUE_EVE_6: "I want you to find out if this monster is real, and if so, defeat it.",
		DIALOGUE_EVE_7: "But first things first - you'll have to spend some time underwater if you're gonna complete this challenge.",
		DIALOGUE_EVE_8: "In order to do that, you'll need to locate a Breathing Bubble so you can go underwater.",
		DIALOGUE_EVE_9: "Just head east, then north. You should find one near the wreckage. Bring it back here and I'll get it working for you.",
		DIALOGUE_EVE_10: "Allllllright! Now the adventure can REALLY begin!",
		DIALOGUE_EVE_11: "There's an archaeologist around these parts. Goes by the name Jelly Jim.",
		DIALOGUE_EVE_12: "He spends so much time in the water, there's NO WAY he'd miss a giant monster, if there is one.",
		DIALOGUE_EVE_13: "Go chat with him, and see if he knows anything about it.",
		DIALOGUE_EVE_14: "We ran into some black goop while trying to search for the monster.",
		DIALOGUE_EVE_15: "Without knowing for sure what we're dealing with, we won't know HOW to deal with it.",
		DIALOGUE_EVE_16: "Can you grab a sample of the black goop for me to check out?",
		DIALOGUE_EVE_17: "I think you can handle this now. The Order of Influence better watch out!",
		DIALOGUE_EVE_18: "Yup, that's definitely monster ink. Just as I thought.",
		DIALOGUE_EVE_19: "You're going to need a Sonic Blaster to get through that stuff.",
		DIALOGUE_EVE_20: "Fortunately, any sailor worth their sea salt carried one with them, for situations just like this one.",
		DIALOGUE_EVE_21: "You should be able to find one in the wreckage of the ships!",
		DIALOGUE_EVE_22: "Caaaaan you just give us yours?",
		DIALOGUE_EVE_23: "This is your trial, not mine. Sorry kiddo, you'll just have to find one yourself!",
		DIALOGUE_EVE_24: "Once you find it, bring it back to me, and I'll make sure it's in working order.",
		DIALOGUE_EVE_25: "I know you can do it!",
		DIALOGUE_EVE_26: "Allllright! The next task ahead of you is to clear out that ink with the Sonic Blaster. Give it your best shot!",
		DIALOGUE_EVE_27: "Keep your guard up, kiddo. If the Puppet Master's behind this, who knows what's lurking in that ink...",
		DIALOGUE_EVE_28: "Not only am I a pretty good pirate, but I'm also a keen tracker - I could track a falcon on a cloudy day!",
		DIALOGUE_EVE_29: "It sounds like the ancient creature IS real after all, based on the description of that tunnel.",
		DIALOGUE_EVE_30: "If you bring me back more details about it, I'll be able to figure out exactly what we're going up against!",
		DIALOGUE_EVE_31: "Talk to Jelly Jim. He'll be able to think of a way to do that.",
		DIALOGUE_EVE_32: "Woooowie. According to the tunnel, this monster is HUGE!",
		DIALOGUE_EVE_33: "Just to make sure we know as much about this beast as possible before taking it on, see if you can find anything else it may have left behind.",
		DIALOGUE_EVE_34: "The more we know about it, the better.",
		DIALOGUE_EVE_35: "Uh oh. It's not just big, but it's got tough skin to boot! These scales are super sturdy.",
		DIALOGUE_EVE_36: "I had heard stories about the power of the beast my grandpappy battled, but I didn't ACTUALLY believe it was this strong...",
		DIALOGUE_EVE_37: "You've gotta toughen yourself up if you're gonna go toe-to-tentacle with a beast like that. Battle strong monsters to make sure you're ready.",
		DIALOGUE_EVE_38: "Looks like you're tough enough now!",
		DIALOGUE_EVE_39: "Now that you're ready, I can tell you where I think the beast is.",
		DIALOGUE_EVE_40: "The ink, the tunnel, the scales - they were all found around the wreckage of the pirate ship Antilles. The beast MUST be hiding there.",
		DIALOGUE_EVE_41: "It's time to show the Puppet Master's monster who's boss. Good luck.",
		DIALOGUE_EVE_42: "Sounds like that door needs a key. Check the ship wreckage, it shouldn't be too far from there.",
		DIALOGUE_EVE_43: "This is it, kid. Good luck.",
		DIALOGUE_EVE_44: "Here's the Shipwreck Gem, you've earned it!",
		DIALOGUE_EVE_45: "Well kid, best be movin' along. I've got things under control here now.",
		DIALOGUE_EVE_46: "I heard the Warden Keystones can't be placed on the pedestals yet. I'm not sure why, but don't worry - I'm sure they'll work soon.",
		DIALOGUE_EVE_47: "And the Academy will be free for everyone once again!",
		DIALOGUE_JELLY_JIM_0: "Well hello there! My name's Jelly Jim. What brings you to these parts?",
		DIALOGUE_JELLY_JIM_1: "Now that I think about it, I do recall seeing some sort of large, terrible creature floating around. Just the other day in fact.",
		DIALOGUE_JELLY_JIM_2: "It looked like it could have been the old sea monster that the evil Order of Influence used here a long time ago against the pirates.",
		DIALOGUE_JELLY_JIM_3: "Whatever I saw was close by, no doubt.",
		DIALOGUE_JELLY_JIM_4: "Oh, and one last thing. Here is some gold to help you on your journey. Best of luck!",
		DIALOGUE_JELLY_JIM_5: "Why hello again, friend! Grand to see you. What can I help you with?",
		DIALOGUE_JELLY_JIM_6: "You want to show Eve something you found down here? Well, an underwater camera would be perfect for that!",
		DIALOGUE_JELLY_JIM_7: "Well, I'll be off on other adventures soon. If you see me, could you stop by and say hello? That would be splendid!",
		DIALOGUE_HARVEY_0: "So, you're joining the battle against the Titan, are you?",
		DIALOGUE_HARVEY_1: "As you battle it, Titan Shards will break off. Bring them to me, and I can remove the Shadow Magic from them. I'll sell you powerful armor in return.",
		DIALOGUE_HARVEY_2: "Battle the Titan to earn Titan Shards.",
		DIALOGUE_HARVEY_3: "Win lots of battles against the Titan to get a BUNCH of Titan Shards, once it's defeated by wizards around the world.",
		DIALOGUE_HARVEY_4: "Check my sign for more details.",
		DIALOGUE_PROFESSOR_SCOOG_0: "Ponduberous! You certainly are helpful, young chap!",
		DIALOGUE_PROFESSOR_SCOOG_1: "Let's get to it, then! Ready to help OINC?",
		DIALOGUE_PROFESSOR_SCOOG_2: "Well now, what have we here? A young explorer in training, perhaps?",
		DIALOGUE_PROFESSOR_SCOOG_3: "Oh, but where are my manners? I, my young friend, am Professor Scoog...perhaps you've heard of me?",
		DIALOGUE_PROFESSOR_SCOOG_4: "...no?",
		DIALOGUE_PROFESSOR_SCOOG_5: "Hm, well that's quite alright. I am the leader of the Oasis Institute of Natural Creatures! Or, OINC, for short.",
		DIALOGUE_PROFESSOR_SCOOG_6: "Right now we're in the middle of a very important dig, and we sure could use your help!",
		DIALOGUE_PROFESSOR_SCOOG_7: "First, let's see what you're made of! We've been overrun by Scallys the last few days...makes it hard to dig. Go challenge a few for me, will you?",
		DIALOGUE_PROFESSOR_SCOOG_8: "You did it, young wizard! As a token of my gratitude, take this shovel!",
		DIALOGUE_PROFESSOR_SCOOG_9: "The shovel will allow you to help us dig for fossils! To do so, just click the spinning star nearby!",
		DIALOGUE_PROFESSOR_SCOOG_10: "Now then, OINC has chosen this site for its greatest quest - the search for Dynos!",
		DIALOGUE_PROFESSOR_SCOOG_11: "Dynos are monsters that are long extinct, and have left their fossilized remains here in the oasis.",
		DIALOGUE_PROFESSOR_SCOOG_12: "We want to learn more about them, so we work hard to dig them up!",
		DIALOGUE_PROFESSOR_SCOOG_13: "Now that you have a shovel, you can help! Try digging for a Terrosaur bone, or challenge some monsters who carry them.",
		DIALOGUE_PROFESSOR_SCOOG_14: "While you were away, a monster came and STOLE MY HAT! Be a dear and go fetch it for me, will you?",
		DIALOGUE_PROFESSOR_SCOOG_15: "THAT'S IT! Ah, my lucky hat...though truth is, I do have quite a few lucky hats...",
		DIALOGUE_PROFESSOR_SCOOG_16: "...",
		DIALOGUE_PROFESSOR_SCOOG_17: "WHAT!?!?!",
		DIALOGUE_PROFESSOR_SCOOG_18: "YOU SAW A DYNO?!?! PONDUBEROUS!",
		DIALOGUE_PROFESSOR_SCOOG_19: "You know what? Keep the hat! Consider yourself an honorary member of OINC!",
		DIALOGUE_PROFESSOR_SCOOG_20: "A real dyno! Oh my...we have much to do! First, we must ensure that these Dynos are safe!",
		DIALOGUE_PROFESSOR_SCOOG_21: "Defeat a few fire monsters for me...fire monsters in a dry forest are BAD NEWS!",
		DIALOGUE_PROFESSOR_SCOOG_22: "Well now, I think it is time to find our new dyno friends! First, let's see if you can track down some Terromites! Let's see how they battle!",
		DIALOGUE_PROFESSOR_SCOOG_23: "Oh, and bring back anything they might be carrying!",
		DIALOGUE_PROFESSOR_SCOOG_24: "OH NO! This item you brought me is an animal tag...this can only mean one thing...",
		DIALOGUE_PROFESSOR_SCOOG_25: "This animal tag proves that someone has been mistreating these Dynos...and only one man would do such a thing...",
		DIALOGUE_PROFESSOR_SCOOG_26: "PROFESSOR MOOG!",
		DIALOGUE_PROFESSOR_SCOOG_27: "Moog is a despicable dastardly deviant, who believes that monsters are meant to be kept in cages. Preposterous!",
		DIALOGUE_PROFESSOR_SCOOG_28: "We must help the Dynos! Go out there and remove all the tags you can find!",
		DIALOGUE_PROFESSOR_SCOOG_29: "Good work! Here's a new shovel...it will help you dig faster when looking for fossils!",
		DIALOGUE_PROFESSOR_SCOOG_30: "We've slowed down Moog for now, but his men are probably out there right now, capturing these Dynos...",
		DIALOGUE_PROFESSOR_SCOOG_31: "I have an idea! Go find Moog's men, and challenge them. Perhaps one of them will have a written copy of Moog's evil scheme.",
		DIALOGUE_PROFESSOR_SCOOG_32: "Moog is dastardly, but he isn't the sharpest tool in the shed...",
		DIALOGUE_PROFESSOR_SCOOG_33: "According to this novel, Moog plans to capture the Dynos and put them in some kind of dyno theme park...",
		DIALOGUE_PROFESSOR_SCOOG_34: "...",
		DIALOGUE_PROFESSOR_SCOOG_35: "That's not very original at all.",
		DIALOGUE_PROFESSOR_SCOOG_36: "Regardless, we must stop him at all costs! Go out there and find his head assistant, Spokes. If you defeat him, maybe he and his men will leave.",
		DIALOGUE_PROFESSOR_SCOOG_37: "It looks like Spokes and his men have left...for now. But they will be back, I assure you!",
		DIALOGUE_PROFESSOR_SCOOG_38: "For now, we have other matters. A new dyno has been stealing equipment from the dig site...see if you can bring it back.",
		DIALOGUE_PROFESSOR_SCOOG_39: "Ponduberous! That's 3 Dynos you've found now, alive and well! Oh, how I would love to study them in their natural habitat.",
		DIALOGUE_PROFESSOR_SCOOG_40: "Alas, the world of science must wait. With Moog still out there, the Dynos will never be safe.",
		DIALOGUE_PROFESSOR_SCOOG_41: "According to his novel, he next plans to steal dyno eggs. The audacity!",
		DIALOGUE_PROFESSOR_SCOOG_42: "We must act quickly! Go out there, face his egg collectors, and bring back the eggs!",
		DIALOGUE_PROFESSOR_SCOOG_43: "You're doing great work, my friend! We're stopping Moog at every turn!",
		DIALOGUE_PROFESSOR_SCOOG_44: "But all is not well in the natural world. Some pterrotell have been attacking anyone who comes near...perhaps something has them spooked?",
		DIALOGUE_PROFESSOR_SCOOG_45: "Find and challenge them for me...perhaps the battle will sooth these Dynos.",
		DIALOGUE_PROFESSOR_SCOOG_46: "OH NO! It looks like one of Moog's men have captured a team of Dynos!",
		DIALOGUE_PROFESSOR_SCOOG_47: "You'd better defeat him and release those poor Dynos!",
		DIALOGUE_PROFESSOR_SCOOG_48: "Enough is enough! It's time to get rid of Moog once and for all!",
		DIALOGUE_PROFESSOR_SCOOG_49: "I have a theory about Dynos...I believe that a large group of Dynos is run by a single dyno, which I call the Primo Dyno.",
		DIALOGUE_PROFESSOR_SCOOG_50: "This dyno would be big! And mean! And scary! Scary enough to frighten off Moog forever!",
		DIALOGUE_PROFESSOR_SCOOG_51: "So, I say we track down this Primo Dyno! First, you'll need to find the nest. Defeat a few Dynos, and they should lead us there.",
		DIALOGUE_PROFESSOR_SCOOG_52: "Good! I think we know where the nest is! No sign of the Primo Dyno, so we may have to lure it back somehow...",
		DIALOGUE_PROFESSOR_SCOOG_53: "I know! The digging equipment! The loud noises must have disrupted the Dynos...that's why they were stealing it!",
		DIALOGUE_PROFESSOR_SCOOG_54: "I'll turn on the equipment now...you may have to defeat a few larger Dynos before the Primo Dyno gets here...",
		DIALOGUE_PROFESSOR_SCOOG_55: "I hear something coming! It must be the Primo Dyno!",
		DIALOGUE_PROFESSOR_SCOOG_56: "...what's that on his back...?",
		DIALOGUE_PROFESSOR_SCOOG_57: "No...IT CAN'T BE!",
		DIALOGUE_PROFESSOR_SCOOG_58: "PROFESSOR MOOG!",
		DIALOGUE_PROFESSOR_SCOOG_59: "You did it!",
		DIALOGUE_PROFESSOR_SCOOG_60: "It appears that Professor Moog wasn't riding the Primo Dyno after all...he was a captive himself! Oh, the irony!",
		DIALOGUE_PROFESSOR_SCOOG_61: "Well my friend, I don't think Moog will be bothering these Dynos anymore, and we have you to thank!",
		DIALOGUE_PROFESSOR_SCOOG_62: "Here, take this shovel - it's the strongest one we have! As a member of OINC, keep up the digging! Who knows what you might find!",
		DIALOGUE_BOOMBOX_0: "We have a winner!",
		DIALOGUE_BOOMBOX_1: "Are you ready for your next challenger?",
		DIALOGUE_BOOMBOX_2: "Welcome to the Robolympics!",
		DIALOGUE_BOOMBOX_3: "Today we have 3 tough teams for you to face, but if you beat them all, there's a FANTASTIC prize!",
		DIALOGUE_BOOMBOX_4: "Today's prize is...{0}",
		DIALOGUE_BOOMBOX_5: "Did you rescue any new robots? If not, come back tomorrow to train with and rescue a new one!",
		DIALOGUE_BOOMBOX_6: "Today's winner is...",
		DIALOGUE_BOOMBOX_7: "{0}!",
		DIALOGUE_BOOMBOX_8: "As promised, here is your grand prize!",
		DIALOGUE_MIRA_REWARD: "Hey, you're doing great! Here's a little reward...",
		DIALOGUE_MIRA_DEFEAT_0: "Wow...You beat me...I'm speechless...",
		DIALOGUE_MIRA_DEFEAT_1: "I can't believe I lost to a wizard from the Academy...I thought I was the strongest!",
		DIALOGUE_MIRA_DEFEAT_2: "Well then! It looks like I was wrong about you...and about the Academy! You really are the best of the best!",
		DIALOGUE_MIRA_DEFEAT_3: "Here...please accept this new robe as a gift from me. And tell all your friends to come here as well!",
		DIALOGUE_MIRA_DEFEAT_4: "I'd love to meet as many wizards as possible...especially if they're as strong as you!",
		DIALOGUE_MIRA_0: "Oh no! Only members can access the tower right now!",
		DIALOGUE_MIRA_1: "Hello there, young one...welcome to the Dark Tower.",
		DIALOGUE_MIRA_2: "The name's Mira, and this tower was once the home to a powerful wizard, who built it to test the power of other wizards.",
		DIALOGUE_MIRA_3: "It is said that whoever can conquer every floor and make it to the top is a true wizard.",
		DIALOGUE_MIRA_4: "But there is a catch! The battles here are harder, and once you leave the tower, you must start over.",
		DIALOGUE_MIRA_5: "However, if you defeat the opponents on every 5th floor, you can return to that floor if you leave.",
		DIALOGUE_MIRA_6: "Well hello there! If it isn't mister fancy wizard?",
		DIALOGUE_MIRA_7: "You already beat my tower...but come back someday... I may have more challenges for you!",
		DIALOGUE_MIRA_8: "Oh no....you don't have enough gold!",
		DIALOGUE_MIRA_9: "Here's your first boss...there is one on every fifth floor. Let's see how well you do!",
		DIALOGUE_MIRA_10: "The wizard of this tower was once a student at the Academy, just like you...",
		DIALOGUE_MIRA_11: "But the wizard was MUCH stronger! WAAAAAY stronger!",
		DIALOGUE_MIRA_12: "The wizard practiced alone, not wanting any help from the other Academy students.",
		DIALOGUE_MIRA_13: "He didn't want to waste time on them - they would only hold him back.",
		DIALOGUE_MIRA_14: "So the wizard left the Academy a long long time ago...to train alone.",
		DIALOGUE_MIRA_15: "He came here and built this tower using his awesome power! What a guy!",
		DIALOGUE_MIRA_16: "You made it to floor 25! One quarter of the way there...not bad, but not great.",
		DIALOGUE_MIRA_17: "For years and years the wizard trained here alone. He mastered all the elements, learned all the spells.",
		DIALOGUE_MIRA_18: "...But the wizard didn't need any help from the dumb Academy to do it!",
		DIALOGUE_MIRA_19: "One day, the wizard decided he was done training - he was already the best wizard ever!",
		DIALOGUE_MIRA_20: "So he decided to challenge the other wizards at the Academy, to prove he was the best.",
		DIALOGUE_MIRA_21: "No wizard could match him, and so the wizard created this super-cool test to challenge wizards instead!",
		DIALOGUE_MIRA_22: "He called it the 'Really Really Hard Test of Trials'!",
		DIALOGUE_MIRA_23: "For this test, the wizard summoned the strongest monsters possible to challenge wizards at each floor.",
		DIALOGUE_MIRA_24: "These monsters are the bosses of this tower. Here's another one now!",
		DIALOGUE_MIRA_25: "Floor 50 already....you've come all this way to challenge the strongest, have you?",
		DIALOGUE_MIRA_26: "If so, then you must first challenge the father of all dragons...Grandoff!",
		DIALOGUE_MIRA_27: "You are certainly something special...are you sure you're from the Academy?",
		DIALOGUE_MIRA_28: "The test you are on now...this is the very same test created by the wizard himself.",
		DIALOGUE_MIRA_29: "Many wizards from the Academy tried it, but they ALL failed!",
		DIALOGUE_MIRA_30: "For each new student that tried the test and failed, the wizard added a new floor...and a new challenge.",
		DIALOGUE_MIRA_31: "When no more floors could be added, the wizard made the challenges harder and harder.",
		DIALOGUE_MIRA_32: "Eventually, it became obvious that no wizards would be able to climb the tower.",
		DIALOGUE_MIRA_33: "So the legendary wizard disappeared, and the tower began to crumble.",
		DIALOGUE_MIRA_34: "The wizard has not been seen since, but students from the Academy still try to climb the tower.",
		DIALOGUE_MIRA_35: "He hoped that someday a student would be strong enough to challenge him, and so he would return to accept the challenge.",
		DIALOGUE_MIRA_36: "Things have been easy up until now...I think it's time to step things up!",
		DIALOGUE_MIRA_37: "You're still going? I'm...impressed!",
		DIALOGUE_MIRA_38: "This can't be...no wizards have ever made it this far...",
		DIALOGUE_MIRA_39: "...Who are you...?",
		DIALOGUE_MIRA_40: "No...you will NOT make it to the top of this tower!",
		DIALOGUE_MIRA_41: "Face your next challenge...it will be your last here!",
		DIALOGUE_MIRA_42: "Astounding. You have made it to the top of my tower...",
		DIALOGUE_MIRA_43: "And so you have earned the greatest of rewards...you must challenge the legendary wizard herself...",
		DIALOGUE_MIRA_44: "ME! THE GREAT AND POWERFUL MIRA SHADE!",
		DIALOGUE_MIRA_45: "HAHAHA! It was me all along! You should see the look on your face right now!",
		DIALOGUE_MIRA_46: "Come, wizard! It's time for you to face the strongest wizard of all time!",
		DIALOGUE_DON_ZORRO_0: "Only Foxes should have our Magic Eggs! I, the great Don Zorro of the noble Fox Knights, refuse to let these sneaky rabbits get one single egg.",
		DIALOGUE_DON_ZORRO_1: "Excuse me!? How dare you speak to me in that way. You should be grateful that we Knights don't run you right out of town.",
		DIALOGUE_DON_ZORRO_2: "Hah! We'll see about that. Not even the Puppet Master stands a chance against the great Don Zorro!",
		DIALOGUE_DON_ZORRO_3: "And don't think riffraff like bunnies are welcome into Fort Fox! Only friends of the Foxes are allowed past our guard.",
		DIALOGUE_DON_ZORRO_4: "Here Wizard, take a Fox cap. Wear it if you want to get in...",
		DIALOGUE_DON_ZORRO_5: "Well well, what do we have here? I am the magnificent Don Zorro, captain of the Fox forces.",
		DIALOGUE_DON_ZORRO_6: "You have permission to admire me while I tell you of our tale.",
		DIALOGUE_DON_ZORRO_7: "Every spring the sneaky bunnies seek to steal the Magic Eggs that rightfully should go to us Foxes. What impudence!",
		DIALOGUE_DON_ZORRO_8: "Bring ME any Eggs you find while fighting monsters out in the world.",
		DIALOGUE_DON_ZORRO_9: "You look brave, so I will give you a quest. Search for a clutch of Magic Eggs that spawns someplace in Lamplight Town.",
		DIALOGUE_DON_ZORRO_10: "But the Puppet Master also wants the Magic Eggs, and you may have to thrash his minions to get the eggs.",
		DIALOGUE_DON_ZORRO_11: "I am willing to trade some of our wondrous Fox items to whoever brings me Magic Eggs. Yes, even you. Here, look upon our fine goods!",
		DIALOGUE_DON_ZORRO_12: "Who approaches the brave Don Zorro, champion of the Foxes? Oh, it is just you.",
		DIALOGUE_DON_ZORRO_13: "Did you defeat any Puppet Master minions in Lamplight, or monsters in the wide world? Ahem...you HAVE brought us Magic Eggs, correct?",
		DIALOGUE_DON_ZORRO_14: "Then look at our store full of fine fox goods, and see if you can look more like...ME!",
		DIALOGUE_HARRIET_0: "YOUR Magic Eggs? Hah! You crack me up. The Forest Bunny Bandits don't take orders from anyone. You got that foxy?",
		DIALOGUE_HARRIET_1: "Ooo, I'm scared. Well you can tell your fuzzy orange servants that I, Harriet Hood, will never let you get your dirty paws on all the Magic Eggs.",
		DIALOGUE_HARRIET_2: "Blah blah blah. Look Wizard, here is a Bunny Cap. Wear it when you come see us. Only Bunny Bandit buddies are allowed into The Burrow.",
		DIALOGUE_HARRIET_3: "The name's Harriet Hood. Welcome to The Burrow. You've made the right decision coming here.",
		DIALOGUE_HARRIET_4: "I'm sorry that you had to listen to that crazy Fox. No one takes what rightfully belongs to us, the Bunny Bandits!",
		DIALOGUE_HARRIET_5: "Those sly Foxes are always meddling in our business, taking all the Magic Eggs they can find. No need to worry though, we have YOU on our side!",
		DIALOGUE_HARRIET_6: "Listen, you can do me a favor by collecting Magic Eggs from monsters out in the world and bringing them here, to me.",
		DIALOGUE_HARRIET_7: "And a little birdy told me that once a day a pile of Magic Eggs spawns someplace in Lamplight Town.",
		DIALOGUE_HARRIET_8: "The Puppet Master also wants the Magic Eggs, so you may have to fight for them.",
		DIALOGUE_HARRIET_9: "In exchange for the Eggs, I promise you some of our best wares, which we came by totally honestly. What do you say?",
		DIALOGUE_HARRIET_10: "Look who we have here. I told the other buddies we could count on you. We CAN count on you right?",
		DIALOGUE_HARRIET_11: "All you gotta do is just keep fighting monsters and collecting OUR Magic Eggs. I heard there was a bundle somewhere in Lamplight today.",
		DIALOGUE_HARRIET_12: "Enough chit-chat. if you brought something we want, maybe we have something you want?",
		DIALOGUE_VERNA_0: "HALT! Who do you think you are? Only those who show loyalty to the noble Foxes may enter.  Don't you have a Fox hat of some kind?",
		DIALOGUE_VERNA_1: "You need to be wearing a Fox hat like this!",
		DIALOGUE_VERNA_2: "Halt! No Bunny buddies allowed! Only Foxes past this point!",
		DIALOGUE_VERNA_3: "Welcome fellow Fox! Boo to the Bunnies!",
		DIALOGUE_BARGO_0: "Hold up bub, you don't look like a Bandit. What are you trying to pull?",
		DIALOGUE_BARGO_1: "Don't you have some Bunny swag?  You wanna get in with the bunnies, you need to look like a bunny.",
		DIALOGUE_BARGO_2: "You need to be wearing a Bunny hat like this!",
		DIALOGUE_BARGO_3: "Heyo Holdup!!! Listen Foxface, just turn your long tail around and scram. You get my drift?",
		DIALOGUE_BARGO_4: "Hey there good bunny buddy! Hop right in, fresh carrots on the table.",
		DIALOGUE_GALE_0: "Noot! Is that you?!",
		DIALOGUE_GALE_1: "So you got my letter! Where did you find this wizard? How powerful are they?",
		DIALOGUE_GALE_2: "Oh, where are my manners, I forgot to introduce myself.",
		DIALOGUE_GALE_3: "I'm Gale, the Keeper of the Academy.",
		DIALOGUE_GALE_4: "Well, I was. I don't know if I can call myself that anymore with what has happened.",
		DIALOGUE_GALE_5: "I suppose it's my fault that we're in this mess.",
		DIALOGUE_GALE_6: "Thank you, Noot.",
		DIALOGUE_GALE_7: "Actually, since you're here, there IS something you could help me with, if you're up to the task.",
		DIALOGUE_GALE_8: "Good to hear.",
		DIALOGUE_GALE_9: "The Academy's Archives contain valuable pages of information that wizards need to study.",
		DIALOGUE_GALE_10: "However, the Puppet Master has cast a powerful spell mixing up all of the Archive's rooms and making them a mess!",
		DIALOGUE_GALE_11: "I would go to retrieve the pages myself, but the mess and confusion makes my head spin. So I need you to go down instead.",
		DIALOGUE_GALE_12: "Any pages you come across, please bring them back to the Academy's merchant. He will reward you in turn for your help.",
		DIALOGUE_GALE_13: "Oh, and one last thing! Here is an amulet that will let you warp into the Academy.",
		DIALOGUE_GALE_14: "Best of luck. I'm counting on you.",
		DIALOGUE_GALE_15: "Sorry, I still haven't found out how to break that lock yet.",
		DIALOGUE_GALE_16: "Don't worry, I'll keep researching.",
		TECH_START_0: "Ladies and gentlemen...it looks like we have a new competitor!",
		TECH_START_1: "The name's Boombox! Come on over here, shortstuff!",
		TECH_COMPLETED: "Come back tomorrow for new opponents and prizes!",
		HINT_0: "Low on hearts? Try switching to one of your pets in battle.",
		HINT_1: "Lost on a quest? Follow the white hand to your next goal!",
		HINT_2: "When you're low on hearts, find a healstone to heal you and your pets!",
		HINT_3: "Want to change your team? Open the Pet Menu from the Main Menu.",
		HINT_4: "Your hearts are fully restored when you level up!",
		HINT_5: "Want a new look? Head to the Stylist in Lamplight Town.",
		HINT_6: "The latest and greatest equipment can be bought at the Item Shop in Lamplight Town.",
		HINT_7: "You can fast-travel to any zone by opening the Map from the Main Menu.",
		HINT_8: "Be sure to return to Prodigy every so often...new content is added all the time!",
		HINT_9: "Become a World Champion by challenging other wizards in the Arena!",
		HINT_10: "Earn stars to level up...the strongest wizards are Level 100!",
		HINT_11: "Want to play with your friends? Make sure you select the same world as they do!",
		HINT_12: "Check your achievement progress by opening the Awards Menu from the Main Menu.",
		HINT_13: "Complete bounties from the Bounty Board in Lamplight Town to earn awesome rewards!",
		HINT_14: "Rumor has it that there is a powerful wizard at the top of the Dark Tower...",
		HINT_15: "Need more gold? Head out and battle monsters!",
		HINT_16: "Keep your team at its best! Level up your pets alongside your wizard.",
		HINT_17: "Show off your latest rewards and outfits in Lamplight Town!",
		HINT_18: "Want to see what other wizards are wearing? Just click on them!",
		HINT_19: "Pets can be rescued when their hearts are low, but make sure not to defeat them by accident!",
		HINT_20: "You learn new spells by leveling up, but can also learn them from completing quests.",
		HINT_21: "Explore each zone thoroughly...there are secrets hidden everywhere!",
		HINT_22: "Can't beat a boss or another wizard? Level up your team and try again!",
		HINT_23: "Practice makes perfect! If you get a question wrong, try using a hint for the next one!",
		HINT_24: "The Academy in Lamplight Town floats in the sky, just out of reach.",
		HINT_25: "Merchants are found all over the island. Some offer new items, others offer quests!",
		HINT_26: "Want to change your equipment? Open up the Backpack from the Main Menu!",
		MUSEUM_INTRO: "Welcome to the Museum! Be sure to bring all your newly-discovered fossils.",
		MUSEUM_CRAFT_FOSSILS_0: "Ponduberous! You collected enough fossils to create the {0}! \nLet's see what it looks like!",
		MUSEUM_CRAFT_FOSSILS_1: "WOW! That looks great!",
		MUSEUM_COLLECTED_ALL_FOSSILS: "Ponduberous! You collected all the fossils and completed all the skeletons! Take this as a reward!",
		ARENA_CONFIRM_TRAINING: "Do you want to train in the arena?",
		ARENA_CHALLENGE_WIZARDS: "[mail-star] Challenge other wizards around the world and earn rewards from the shop!",
		ARENA_EARN_BRONZE: "Earn a score of [arena]100 or more to reach Bronze Rank!",
		ARENA_MY_SCORE: "My Score {{0}",
		ARENA_MUST_BE_IN_CLASS: "You must be in a class to view the leaderboard",
		ARENA_FIND_CHALLENGER: "Find Challenger",
		ARENA_RANK_UP_FASTER: "Rank Up  Faster!",
		ARENA_TITLE: "THE ARENA",
		ARENA_LEADERBOARD_WORLD_TOP_PLAYER: "Top Player in the World",
		ARENA_LEADERBOARD_TOP_PLAYERS: "Top Arena Players",
		ARENA_OFFLINE_MESSAGE: "Cannot take part in the Arena in Offline Mode.",
		ARENA_CHECK_INTERNET_MESSAGE: "Cannot take part in the Arena when offline. Please check your Internet connection.",
		ARENA_DOWN_MESSAGE: "Arena battles are currently down as we make them even better. Please check back later.",
		LEADERBOARD_ERROR_LOADING_BOARD: "There was an error loading the leaderboard...try again later",
		LEADERBOARD_ERROR_TEMPORARILY_UNAVAILABLE: "Oops! Sorry, we cannot show the Leaderboard right now. We are working on it. Please try again later.",
		LEADERBOARD_ERROR_LOADING_PLAYER: "Error loading player info",
		LEADERBOARD_NOT_APPLICABLE: "N/A",
		LEADERBOARD_RANK_1: "You're at rank 1! Keep leveling to make sure your friends don't catch up!",
		LEADERBOARD_NOT_RANKED: "You're not on the leaderboard yet...get to level {0} or higher!",
		LEADERBOARD_RANK_UP: "You're at rank {0}! Get to level {1} to go up a rank!",
		LEADERBOARD_CHECK_FRIENDS: "Check out the leaderboard and see where your friends are!",
		WONDER_WHEEL_PROMPT_SPIN: "Hello there! Do you want to spin the Wheel of Wonder?",
		WONDER_WHEEL_SPIN: "Let's spin that wheel!",
		WONDER_WHEEL_SPIN_TOMORROW: "Sorry, you'll have to come back tomorrow to spin again!",
		WONDER_WHEEL_SPIN_AGAIN: "Fantastic! Want to spin again?",
		TWILIGHT_WHEEL_COME_BACK_LATER: "Please come back between 4pm and 11pm to spin the Twilight Wheel for great prizes!",
		TWILIGHT_WHEEL_SPIN: "Hi there! Do you want to Spin the Twilight Wheel?",
		TWILIGHT_WHEEL_WATCH_SPIN: "Watch that wheel spin!",
		TWILIGHT_WHEEL_SPIN_AGAIN: "Fantastic! Want to spin again?",
		TWILIGHT_WHEEL_COME_BACK_TOMORROW: "Please come back tomorrow between 4pm and 11pm to spin the Twilight Wheel again for great prizes!",
		TOWER_CHANCE_WHEEL: "Chance Wheel Time!",
		TOWER_CHANCE_LOSE_HEARTS: "Lose {0} hearts...",
		TOWER_CHANCE_GAIN_HEARTS: "Gain {0} hearts!",
		TOWER_CHANCE_DAMAGE_INCREASED: "Damage increase!",
		TOWER_CHANCE_DAMAGE_REDUCED: "Damage reduced...",
		TOWER_CHANCE_DOUBLE_STARS: "Double stars!",
		TOWER_CHANCE_DISABLE_SWITCHING: "Switching disabled!",
		TOWER_PROMPT_MUST_DEFEAT: "Before you can move on, you must defeat the challenger on this floor. Click on the orb in the room to begin!",
		TOWER_NEXT_CHALLENGER: "The next challenge awaits!",
		TOWER_ALL_DEFEATED: "You already beat my tower...but come back someday... I may have more challenges for you!",
		TOWER_PROMPT_LEAVE: "If you leave now, you'll have to start back at floor {0}. Are you sure you want to leave?",
		TOWER_PROMPT_START: "Do you want to start climbing the tower from floor {0}?",
		TOWER_PROMPT_START_GOLD: "Do you want to continue climbing the tower from floor {0}? \n\nIt will cost you [gold] 500.",
		BATTLE_INTRO: "BATTLE",
		PVP_INTRO: "Player vs. Player!",
		PVP_SELECT_ACTION: "Select your action",
		PVP_TIME_REMAINING: "Time left",
		PVP_WAITING_ON_PLAYER: "Waiting on player",
		PVP_ARENA_POINTS: "{Arena Points",
		PVP_PLAYERNAME: "[mail-star] Playername",
		PVP_WIN_LOSS: "win/loss - 0/0",
		PVP_RANK_UP: "You ranked up to {0}!",
		PVP_RANK_DOWN: "You ranked down to {0}...",
		PVP_VERSUS_SHORT: "VS.",
		PVP_DISCONNECT_WARNING_TITLE: "You Deserted...",
		PVP_DISCONNECT_WARNING_BODY: "You closed the browser or got disconnected from an arena battle. Be a good sport and finish your battles!",
		PVP_FINDING_MATCH_TITLE: "Finding Challenger",
		PVP_FINDING_MATCH_BODY: "Searching for a good match based on your current level... please wait. \n\n(It could take up to a minute or more.) \n\nTime waiting: XTIMERX",
		PVP_CONNECTING_NOW: "Match found! Connecting now...",
		CLASS_CODE_PROMPT_TEACHER_CLICK_0: "Teachers: click here",
		CLASS_CODE_PROMPT_TEACHER_CLICK_1: "to get a class code!",
		CLASS_CODE_PLAYING_AT_HOME: "Playing at home?",
		CLASS_CODE_PLAYING_AT_SCHOOL: "Playing at school?",
		BOUNTY_BOARD_BOUNTY_TITLE: "Bounty Note",
		BOUNTY_BOARD_COMPLETED_TURN_IN: "You have completed this bounty. Talk to Boardy to turn it in for a reward!",
		BOUNTY_BOARD_COMPLETED: "This bounty has been completed. Come back tomorrow for a new one!",
		BOUNTY_BOARD_GO_TO_LAMPLIGHT: "Head to the bounty board in Lamplight Town and accept a new bounty!",
		BOUNTY_BOARD_UNLOCK_MESSAGE: "Reach Firefly Forest to unlock the bounty board!",
		BOUNTY_BOARD_MEMBER_BUTTON_TOP: "Member",
		BOUNTY_BOARD_MEMBER_BUTTON_BOT: "Bounty",
		BOUNTY_BOARD_BUTTON_TOP: "Accept",
		BOUNTY_BOARD_BUTTON_BOT: "Bounty",
		BOUNTY_DEFEAT_MONSTER_TEXT_0_AN: "Defeat {0}, an {1} at {2} in {3}.",
		BOUNTY_DEFEAT_MONSTER_TEXT_0_A: "Defeat {0}, a {1} at {2} in {3}.",
		BOUNTY_DEFEAT_MONSTER_TEXT_1: "{0} is causing trouble in {1}. Stop him at {2}.",
		BOUNTY_DEFEAT_MONSTER_TEXT_2: "{0} has finally come out of hiding. Find her at {1} in {2}.",
		BOUNTY_DEFEAT_MONSTER_TEXT_3: "{0} has appeared at {1} in {2}.",
		BOUNTY_DEFEAT_MONSTER_TEXT_4: "{0} has appeared at {1} in {2}. Get him before he vanishes!",
		BOUNTY_POINTS_5: "5 Bounty Pts.",
		BOUNTY_POINTS_20: "20 Bounty Pts.",
		BOUNTY_POINTS_50: "50 Bounty Pts.",
		BOUNTY_POINTS_100: "100 Bounty Pts.",
		BOUNTIES_INCREASE_RANK: "Get bounties and defeat monsters to increase your rank!",
		CHEST_OPEN_MULTI: "open a chest!",
		CHEST_OPEN_SINGLE: "open the chest!",
		ITEM_HEAL_HP: "Heals {0}% hearts",
		ITEM_MAX: "MAX",
		ITEM_CURRENT: "CURRENT",
		ITEM_OWNED: "OWNED",
		ITEM_FREE: "FREE",
		RANKS_UNRANKED: "Unranked",
		RANKS_BRONZE: "Bronze",
		RANKS_SILVER: "Silver",
		RANKS_GOLD: "Gold",
		RANKS_PLATINUM: "Platinum",
		RANKS_DIAMOND: "Diamond",
		RANKS_RANK_WRAPPER: "{0} Rank",
		BATTLE_REQUEST_NAME: "{0} (lvl {1})",
		BATTLE_REQUEST_ACCEPT: "Accept challenge?",
		LEADERBOARD_CLASS_TOP: "Class Leader",
		LEADERBOARD_CATCH_UP: "Catch Up to Your Class!",
		LEADERBOARD_CLASS_LEADERS: "Your Class Leaders",
		LEADERBOARD_CLASS_ERROR_LOADING: "There was an error loading your class...try again later",
		LEADERBOARD_CLASS_LEVEL_SHORT: "lvl {0}",
		LEADERBOARD_CLASS_LEVEL_LONG: "Level {0}",
		QUEST_JOB_COMPLETE: "Job Complete!",
		QUEST_PROGRESS_DEFEAT_MORE: "Defeat {0} more",
		QUEST_FOLLOW_PATH: "Follow Path",
		QUEST_PROGRESS_COLLECT_MORE: "Collect {0} more",
		QUEST_CLEAR: "Clear the {0}",
		QUEST_TODAY: "Today's Quest",
		QUEST_COMPLETE: "Quest Complete!",
		EFFECT_BOUNTY_COMPLETE: "Bounty Complete!",
		EFFECT_ATTACK_POWERFUL: "Powerful!",
		EFFECT_ATTACK_WEAK: "Weak...",
		ATTACK_SELECT_ATTACK: "Attack",
		ATTACK_SELECT_LEVEL: "Lvl. {0}",
		ATTACK_SELECT_ACTIONS: "actions",
		ATTACK_SELECT_CAPTURE: "capture?",
		ATTACK_SELECT_ESCAPE: "escape?",
		ATTACK_SELECT_MY_TEAM: "my team",
		ATTACK_SELECT_EPIC_SPELLS: "epic spells",
		ATTACK_SELECT_SPELLS: "spells",
		ATTACK_SELECT_ELEMENTS: "elements",
		EPIC_ARENA_BATTLE_SELECT: "EPICS ARENA BATTLE SELECT",
		EPIC_ARENA_CHALLENGE: "Challenge {0}",
		EPIC_ARENA_BUY_TOY: "buy toy",
		BUY_TOY_BUY_NOW: "buy toy now!",
		BUY_TOY_MESSAGE: "If you want to play this game, you need",
		BUY_TOY_EPIC_ATTACK: "To do this POWERFUL Epic attack, you need this Epic!",
		BUY_TOY_ASK_PARENT: "When you get an Epic, you get a REAL TOY, AND a POWERFUL level 20 pet to join your team!\n\n Ask your parents to help you get them on your team today!",
		BUY_TOY_REQUIRE_COMPUTER_MESSAGE: "Unfortunately, you cannot purchase toys from a mobile device at this time. \n\nPlease log into the game from the website on a computer to do so. We apologize for the inconvenience.",
		EPIC_NOT_READY_MESSAGE: "This Epic pet is not ready for battle right now.",
		EPIC_ATTACK_MESSAGE_TITLE: "epic attacks!",
		TOY_UNLOCK_JOINED: "{0} joined you!",
		TOY_UNLOCK_USE: "Use the Pets Menu to battle with him!",
		PLAYER_CARD_HEARTS: "[mail-heart] Hearts",
		PLAYER_CARD_STARS: "[mail-star] Stars",
		PLAYER_CARD_MAX: "MAX",
		PLAYER_CARD_GOLD: "[mail-gold] Gold",
		PLAYER_CARD_TOWER: "[mail-tower] Tower",
		PLAYER_CARD_FLOOR: "Floor {0}",
		PLAYER_CARD_ARENA: "[mail-challenge] Arena",
		PLAYER_CARD_WIN_LOSS: "[mail-challenge] W / L",
		PLAYER_CARD_CHANGE_STYLE_BUTTON_TOP: "Change",
		PLAYER_CARD_CHANGE_STYLE_BUTTON_BOT: "Style",
		PLAYER_CARD_GO_TO_HOUSE_BUTTON_TOP: "Go To",
		PLAYER_CARD_GO_TO_HOUSE_BUTTON_BOT: "House",
		PLAYER_CARD_VISIT_HOUSE_BUTTON_TOP: "Visit",
		PLAYER_CARD_VISIT_HOUSE_BUTTON_BOT: "House",
		PLAYER_CARD_GEAR_BUTTON_TOP: "View",
		PLAYER_CARD_GEAR_BUTTON_BOT: "Gear",
		PLAYER_CARD_KEY_ITEMS_BUTTON_TOP: "Key",
		PLAYER_CARD_KEY_ITEMS_BUTTON_BOT: "Items",
		PLAYER_CARD_GEMS_BUTTON_BOT: "Gems",
		PLAYER_CARD_STATS_BUTTON_TOP: "View",
		PLAYER_CARD_STATS_BUTTON_BOT: "Stats",
		PLAYER_CARD_BATTLE_BUTTON_TOP: "Battle!",
		PLAYER_CARD_CONFIRM_REMOVE_TITLE: "Removing Friend",
		PLAYER_CARD_CONFIRM_REMOVE_BODY: "Are you sure you want to remove {0} from your friends list?",
		PLAYER_CARD_REMOVE_FRIEND_TOP: "Remove",
		PLAYER_CARD_REMOVE_FRIEND_BOT: "Friend",
		PLAYER_CARD_CANCEL_FRIEND_TOP: "Cancel",
		PLAYER_CARD_CANCEL_FRIEND_BOT: "Request",
		PLAYER_CARD_ADD_FRIEND_TOP: "Friend",
		PLAYER_CARD_ADD_FRIEND_BOT: "Request",
		SPELLBOOK_TITLE: "My Spellbook",
		SPELLBOOK_DESCRIPTION: "Here are the spells you will see in battle.\n\nClick on a card to switch a spell.",
		CHOOSE_SPELL_TITLE: "Choose a Spell",
		DAILY_LOGIN_BONUS_TITLE: "Daily Login\nBonus!",
		DAILY_LOGIN_COME_BACK: "Come back tomorrow to get the next prize!",
		DAILY_LOGIN_DAY: "Day {0}",
		EPICS_ERROR_TOO_POWERFUL: "Epic attacks are too powerful for the Wizard Battle Arena!",
		EPICS_ERROR_ONCE_PER_CHALLENGE: "Oops! You can only use an Epic attack once per challenge set in the Epic Arena!",
		EPICS_ERROR_ONCE_PER_BATTLE: "You can only use one Epic attack per battle!",
		NO_CATCHING_MONSTER_ON_ISLAND: "Oops! You can't rescue any monsters on this island.",
		ADD_FRIEND_PROMPT_USERNAME: "Enter your friend's username here!",
		FRIEND_REQUESTS_TITLE: "FRIEND REQUESTS",
		FRIEND_REQUEST_ADD_FRIEND: "Add friend?",
		FRIENDS_LIST_TITLE: "FRIENDS LIST",
		FRIENDS_LIST_COUNTER: "{0}/{1} Friends",
		FRIENDS_LIST_WAITING: "Waiting: ",
		FRIENDS_LIST_CONFIRM_CANCEL_BODY: "Are you sure you want to cancel this friend request?",
		FRIENDS_LIST_CONFIRM_CANCEL_TITLE: "Removing Friend Request",
		LOADING_LOWERCASE: "loading",
		LOADING_CAPITALIZE: "Loading",
		MAILBOX_DELETE_MESSAGE: "Are you sure you want to delete? It may contain something cool!",
		NAME_CHANGE_NAME_WIZARD: "Name Your Wizard",
		NAME_CHANGE_CHOOSE_TITLE: "Choose your Title",
		NAME_CHANGE_CHANGE_TO: "Change my name to...",
		NAME_CHANGE_REVERT_CHANGE: "Change back to original",
		NICKNAME_REQUIRE_MEMBERSHIP: "You need to become a member to unlock!",
		NICKNAME_REQUIRE_TECH_GOBBLER: "You need to rescue a Tech Gobbler to unlock!",
		NICKNAME_REQUIRE_ROBOLYMPICS: "You need to win the Ribbon from the Robolympics to unlock!",
		NICKNAME_REQUIRE_ROBOT_SET: "You need to buy the Robot set to unlock!",
		NICKNAME_REQUIRE_PIRATE_SET: "You need to buy the Pirate set to unlock!",
		NICKNAME_REQUIRE_SHIPWRECK_COMPLETE: "You need to complete the Shipwreck Shore quest to unlock!",
		NICKNAME_REQUIRE_CATCH_MIMIC: "You need to rescue a Mimic to unlock!",
		PETS_I_OWN: "Prodigy Pets I Own",
		PETS_MY_TEAM: "My Team",
		PETS_DESCRIPTION: "Description",
		PETS_DONT_OWN: "- you do not have this pet -",
		PETS_TYPE: "TYPE: {0}",
		PETS_LIFE: "LIFE: {0}",
		PETS_POWER: "POWER: {0}",
		PETS_GROWTH: "GROWTH: {0}",
		PETS_CONFIRM_LEAVE: "Are you sure you want to leave your pet? You will lose them forever.",
		PLAY_HOME_ENJOY_EVERYWHERE: "ENJOY PRODIGY EVERYWHERE!",
		PLAY_HOME_CONTINUE_ADVENTURE: "You can always continue your adventure at school AND at home! Just remember your username and password for wherever you wish to play!",
		PLAY_HOME_WRITE_DOWN_CREDENTIALS: "Here they are one more time, in case you forgot to write them down!",
		PLAY_HOME_DISPLAY_USERNAME: "Username: {0}",
		PLAY_HOME_DISPLAY_PASSWORD: "Password: {0}",
		POTION_USE_ALREADY_ONE: "There is already a potion in effect. Are you sure you want to use another one instead?",
		POTION_USE_UNSPORTSMAN: "Using items against fellow wizards is quite unsportsmanlike!",
		POTION_USE_ONLY_WILD: "Sorry, you can only use items in battles against wild monsters.",
		POUCH_CHOOSE_FOLLOW: "Choose your buddy",
		POUCH_CHOOSE_HAT: "Choose your hat",
		POUCH_CHOOSE_OUTFIT: "Choose your outfit",
		POUCH_CHOOSE_BOOTS: "Choose your boots",
		POUCH_CHOOSE_RING: "Choose your ring",
		POUCH_CHOOSE_SPELL: "Choose your spell",
		POUCH_CHOOSE_WEAPON: "Choose your wand",
		POUCH_CHOOSE_SPELLRELIC: "Choose your relic",
		POUCH_SEARCH_FAILED: "No items containing your search were found",
		RANK_STORE_NOT_REACHED: "You have not reached this rank yet!",
		RANK_STORE_THIS_RANK: "this",
		RANK_STORE_HIGHER_BOUNTY_MESSAGE: "You need to reach {0} Bounty Points to unlock this item!",
		RANK_STORE_HIGHER_RANK_MESSAGE: "You need to reach {0} rank to unlock this item!",
		RATING_PROMPT: "How would you rate Prodigy?",
		SERVER_CHOOSE_WORLD_TITLE: "CHOOSE YOUR WORLD",
		SERVER_PICK_SAME_WORLD: "Pick the same world as your friends to play together!",
		SERVER_LOADING_LIST: "Loading world list...",
		SERVER_WIZARDS_ONLINE: " = wizards online",
		SERVER_CONNECTING_MESSAGE: "Connecting to {0}...",
		SERVER_ERROR_WORLD_FULL: "This world is full. Please select another world",
		SERVER_ERROR_WORLD_SELECTED_FULL: "The world you selected is full. Please try another.",
		SERVER_ERROR_FAILED_LOAD: "Could not load world list. Check your connection and try again.",
		SERVER_ERROR_FALLBACK: "Could not connect to world. Try again, or select another world.",
		SLOT_MACHINE_BONUS_STARS: "Bonus stars",
		SLOT_MACHINE_BONUS_DAMAGE: "Damage bonus",
		SLOT_MACHINE_REDUCE_DAMAGE: "Damage reduced",
		SLOT_MACHINE_HEAL_HP: "Heal HP",
		SLOT_MACHINE_DRAIN: "Drain",
		SLOT_MACHINE_BONUS_GOLD: "Bonus gold",
		SLOT_MACHINE_EVASION_UP: "Evasion up",
		STARTUP_TITLE: "Welcome to Prodigy!",
		STYLIST_TITLE: "STYLIST",
		STYLIST_BUY_LOOK: "Click to buy this look!",
		STYLIST_HAIR_COLOR: "Hair Color",
		STYLIST_MESSAGE_NEED_MORE_GOLD_BODY: "You need [gold]{0} to style your wizard. You only have [gold]{1}.",
		STYLIST_CONFIRM_MESSAGE_BODY: "Are you sure you want to style your wizard for {0} gold? \nThis will change your wizard's appearance.",
		STYLIST_CHOOSE_HAIR_STYLE: "CHOOSE HAIR STYLE",
		STYLIST_CHOOSE_HAIR_COLOR: "CHOOSE HAIR COLOR",
		STYLIST_CHOOSE_EYE_COLOR: "CHOOSE EYE COLOR",
		SETTINGS_TITLE: "OPTIONS",
		SETTINGS_SOUND: "Sound",
		SETTINGS_NETWORK: "Network",
		SETTINGS_GRAPHICS: "Graphics",
		SETTINGS_PARENT: "Parent",
		SETTINGS_ACCOUNT: "Account",
		SETTINGS_OTHER: "Other",
		SETTINGS_SAVE: "Save Character",
		SETTINGS_EPICS: "Get All Epics",
		SETTINGS_MEMBER: "Toggle Membership",
		SETTINGS_SOUND_VOLUME: "Sound Volume",
		SETTINGS_MUSIC_VOLUME: "Music Volume",
		SETTINGS_VOICE_VOLUME: "Voice Volume",
		SETTINGS_YOUR_WORLD: "Your world is: {0}",
		SETTINGS_OFFLINE: "You are playing in Offline Mode.",
		SETTINGS_LOGOUT: "Log Out",
		SETTINGS_RESTORE_DEFAULTS: "Restore Defaults",
		CUTSCENE_SKIP: "skip",
		PET_MENU_MY_TEAM: "MY PET TEAM",
		PET_MENU_BESTIARY: "PRODIGY BESTIARY",
		LOGIN_PASSWORD_HELP: "Forgot your username or password?",
		LOGIN_PASSWORD_HELP_CONTENT: "If you forgot your username or password, ask your teacher or parent for help.",
		LOGIN_PRIVACY_POLICY: "Privacy Policy",
		LOGIN_WEBSITE: "Website",
		LOGIN_LOGGING_IN: "Logging in...",
		LOGIN_LOGGING_IN_GOOGLE: "Logging in with Google...",
		LOGIN_LOADING_SKILLS: "Loading skills...",
		LOGIN_LOADING_WORLDS: "Loading worlds...",
		LOGIN_USERNAME: "username",
		LOGIN_PASSWORD: "password",
		COMBAT_WON: "YOU WON!",
		COMBAT_LOST: "YOU LOST...",
		COMBAT_DRAW: "DRAW!",
		COMBAT_TITAN_HIT: "TITAN HIT!",
		COMBAT_WIZARD_BATTLE: "Wizard Battle!",
		COMBAT_BOSS_TIME: "Boss Time!",
		COMBAT_BOSS_BATTLE: "Boss Battle!",
		COMBAT_BOUNTY_BATTLE: "Bounty Battle!",
		COMBAT_MINION_BATTLE: "Minion Battle!",
		COMBAT_PIPPET_BATTLE: "Pippet Battle!",
		COMBAT_TITAN_BATTLE: "Titan Battle!",
		COMBAT_DEFEAT_GUARDIAN: "Defeat the Guardian!",
		COMBAT_WEATHER_METER: "Recover the Weather O Meter!",
		COMBAT_SNOWBALL_FIGHT: "Snowball Fight!!",
		COMBAT_CLOUD_FIGHT: "Cloud Battle!",
		COMBAT_TRIPTROP_TRIO: "TripTrop Trio!",
		COMBAT_DEFEAT_AMBUSHERS: "Defeat the Ambushers!",
		COMBAT_SAVE_EUGENE: "Save Eugene!",
		COMBAT_SCARY_WORM: "Scary Wyrm Battle!",
		COMBAT_ATTACK_USED: "{0} used {1}",
		COMBAT_RAN_AWAY: "YOU RAN AWAY...",
		COMBAT_RUN_FAILED: "YOU COULDN'T RUN",
		COMBAT_CATCH_NON_WIZARD: "Only wizards can break the Puppet Master's spell!",
		COMBAT_CATCH_TOO_MANY_MESSAGE_BODY: "You have too many pets! You must release some before you can rescue any more...",
		COMBAT_CATCH_GOLD_MESSAGE_BODY: "You need [{0}]{1} to rescue this pet. You only have [{0}]{2}.",
		COMBAT_CATCH_CONFIRM: "Try to break mind-illusion spell over monster and add it to your team for [{0}]{1}?",
		COMBAT_FREE_CATCH_CONFIRM: "Try to break mind-illusion spell over monster and add it to your team?",
		COMBAT_CAST_BONUS_HIT: "Spell Power Bonus",
		CREATURE_IS_EVOLVING: "{0} is evolving into...",
		CREATURE_TRYING_TO_EVOLVE: "{0} is Trying to Evolve!",
		EVOLVE_STOP: "STOP EVOLVING",
		EVOLVE_NOW: "EVOLVE NOW!",
		DO_NOT_EVOLVE: "DO NOT EVOLVE",
		EVOLVE_LATER: "LATER",
		CREATURE_STOPPED_EVOLVING: "{0} stopped evolving!",
		SHIVERCHILL_FURNACE_LIT: "This furnace is already lit!",
		SHIVERCHILL_FURNACE_IN_ORDER: "You must light the furnaces in order!",
		SHIVERCHILL_FURNACE_FUEL: "This furnace needs some kind of fuel source...",
		SKYWATCH_REQUIRE_MASTER_KEY: "The door is locked. You require the Master Key.",
		SKYWATCH_REQUIRE_FACTORY_KEY: "The door is locked. You require the Factory Key.",
		CHEST_LOCKED_MESSAGE: "This chest is locked!\n\nYou need a [icon-{0}-{1}] to open it!",
		SEND_GIFT_FEATURE_SOON_MESSAGE_TITLE: "Send Gift",
		SEND_GIFT_FEATURE_SOON_MESSAGE_BODY: "This feature is coming soon!",
		MESSAGE_TITLE_UH_OH: "Uh oh!",
		MESSAGE_TITLE_OOPS: "Oops!",
		HOUSE_EDITOR_TITLE: "DESIGN-A-HOUSE",
		HOUSE_EDITOR_CONFIRM_PACK_UP: "Do you want to store all of your furniture? \n\nTo place it back in your room, just choose one of the above categories and select it from the bottom storage menu!",
		MOVE_HOUSE_CONFIRM: "Would you like to move here? The movers will put all of your items back in your inventory, and you won't be able to use your current house until you buy it again and move back.",
		HOUSE_VISITING_LOCKED: "Wizards can no longer visit your house.",
		HOUSE_VISITING_UNLOCKED: "Wizards can visit your house now!",
		HOUSE_PREVIEW_PURCHASE_MESSAGE: "Would you like to buy this house, or go back to your own?",
		COMING_SOON_MESSAGE: "Coming soon!",
		MEMBER_AD_VISIT_SITE_BODY: "Visit the Prodigy website to purchase a membership!",
		MEMBER_AD_ERROR_BODY: "There was an error contacting our server. Please try again later.",
		MEMBER_AD_SUCCESS_BODY: "Your membership will be applied after the next loading screen, however you may need to log out for the change to take effect.",
		MEMBER_AD_SUCCESS_TITLE: "SUCCESS!",
		MEMBER_AD_PURCHASE_FAILED_BODY: "Your purchase did not go through.",
		PURCHASING_MESSAGE_HAVE_ITEM_BODY: "You already have this item!",
		PURCHASING_MESSAGE_NEED_MORE_GOLD_BODY: "You need [gold]{0} for this item. You only have [gold]{1}.",
		PURCHASING_MESSAGE_NEED_MORE_CURRENCY_BODY: "You need [{0}]{1} for this item.\n\nYou only have [{0}]{2}.",
		PURCHASING_MESSAGE_TOO_MANY_ITEMS_BODY: "You already have too many of this item!",
		PURCHASING_MESSAGE_ALREADY_LIVE_BODY: "You already own this house!",
		PURCHASING_MESSAGE_ALREADY_LOOK_BODY: "You already look like this!",
		PURCHASING_MESSAGE_HAVE_PET_BODY: "You already have this pet!",
		PURCHASING_MESSAGE_TOO_MANY_PETS_BODY: "You have too many pets! You must release some in order to buy a new one.",
		WORLD_MAP_CONFIRM_TRAVEL: "{0}\n\nDo you want to travel here?",
		WORLD_MAP_ACADEMY_LEVEL_LOCKED: "There doesn't seem to be a way into the Academy right now! Try reaching level 15 first, and complete a battle.",
		WORLD_MAP_ZONE_LOCKED: "Choose one of the highlighted zones to travel to. You can come back here later.",
		WINTERFEST_CONFIRM_TRAVEL: "Do you want to travel to town and take part in Winterfest?",
		WINTERFEST_SIGN_TITLE: "Event Daily Task",
		WINTERFEST_SIGN_MESSAGE: "Every day during Winterfest, one of the Puppet Master's scouts tries to sneak into Lamplight Town, by disguising themselves as a snowman.\n\nFind the snowman and defeat the monster inside. If you do, you'll collect a bunch of Magic Snowflakes!",
		PUMPKINFEST_CONFIRM_TRAVEL: "Do you want to travel to town and take part in Pumpkinfest?",
		PUMPKINFEST_SIGN_TITLE: "Pumpkinfest Daily Task",
		PUMPKINFEST_SIGN_MESSAGE: "Each day, some tricksters are putting out the light of a pumpkin somewhere in Lamplight Town.\n\nIf you find that pumpkin, click on it, and defeat the trickster. You will receive a big prize of candy corn cash if you do!",
		STARLIGHT_CONFIRM_TRAVEL: "Do you want to travel to town and take part in the Starlight Festival?",
		STARLIGHT_MESSAGE_RETURN_LATER: "Come back after 3:00 pm to participate in the Starlight Festival.\n\nStar Shards can only be collected from wizard battles after that time!",
		STARLIGHT_SIGN_TITLE: "Starlight Festival Daily Task",
		STARLIGHT_SIGN_MESSAGE: "Once a day, a star falls somewhere into Lamplight Town. You must find and save it from the Puppet Master's evil forces! If you do, you'll collect a bunch of Star Shards!",
		SPRINGFEST_CONFIRM_TRAVEL: "Do you want to travel to town and take part in the Springfest?",
		SPRINGFEST_SIGN_TITLE: "Springfest Daily Task",
		SPRINGFEST_SIGN_MESSAGE: "Minions of the Puppet Master are searching for a clutch of Magic Eggs in Lamplight Town. Foxes and Bunnies agree you need to find those Eggs before the Puppet Master does!",
		LAMPLIGHT_DOOR_COMING_SOON_TITLE: "Locked!",
		LAMPLIGHT_DOOR_COMING_SOON_MESSAGE: 'A message on the door says "Coming Soon!"',
		BACKPACK_BUTTON_HATS: "Hats",
		BACKPACK_BUTTON_OUTFITS: "Outfits",
		BACKPACK_BUTTON_WANDS: "Wands",
		BACKPACK_BUTTON_BOOTS: "Boots",
		BACKPACK_BUTTON_BUDDIES: "Buddies",
		BACKPACK_BUTTON_ITEMS: "Items",
		BACKPACK_BUTTON_CURRENCY: "Currency",
		BACKPACK_BUTTON_RELICS: "Relics",
		SOCIAL_MENU_SEASON_DETAILS_TOP: "Season",
		SOCIAL_MENU_SEASON_DETAILS_BOT: "Details",
		SOCIAL_MENU_SEASON_LEADERS_TOP: "Season",
		SOCIAL_MENU_SEASON_LEADERS_BOT: "Leaders",
		SOCIAL_MENU_SEASON_CLASS_LEADERS_TOP: "Class",
		SOCIAL_MENU_SEASON_CLASS_LEADERS_BOT: "Leaders",
		SOCIAL_MENU_BATTLE_REQUESTS_BUTTON_TOP: "Battle",
		SOCIAL_MENU_BATTLE_REQUESTS_BUTTON_BOT: "Requests",
		SOCIAL_MENU_BOUNTIES_BUTTON_BOT: "Bounties",
		SOCIAL_MENU_AWARDS_BUTTON_BOT: "Awards",
		SOCIAL_MENU_BADGES_BUTTON_BOT: "Badges",
		WORLD_LAMPLIGHT_TOWN_CLASS_MODE: "The Puppet Master has locked Lamplight Town during school time. Play Prodigy after school to explore this fun town!",
		WORLD_YOUR_HOUSE_CLASS_MODE: "The Puppet Master has locked your house during school time. Come back after school to decorate your house!",
		WORLD_DYNO_DIG_OASIS_CLASS_MODE: "The Puppet Master has locked Dyno Dig Oasis during school time. Play Prodigy at home to build your fossil collection!",
		AWARDS_TITLE: "AWARDS",
		ACHIEVEMENT_UNLOCKED_TITLE: "Achievement Unlocked!",
		ACHIEVEMENT_GROUP_GENERAL: "General",
		ACHIEVEMENT_GROUP_BATTLE: "Battle",
		ACHIEVEMENT_GROUP_PVP: "PvP",
		ACHIEVEMENT_GROUP_LAMPLIGHT: "Lamplight Town",
		ACHIEVEMENT_GROUP_FIREFLY: "Firefly Forest",
		ACHIEVEMENT_GROUP_SHIVERCHILL: "Shiverchill Mountains",
		ACHIEVEMENT_GROUP_SKYWATCH: "Skywatch",
		ACHIEVEMENT_GROUP_BONFIRE: "Bonfire Spire",
		ACHIEVEMENT_GROUP_SHIPWRECK: "Shipwreck Shore",
		ACHIEVEMENT_GROUP_EDUCATION: "Education",
		ACHIEVEMENT_GROUP_EXPLORATION: "Exploration",
		ACHIEVEMENT_NEWBIE_NAME: "Newbie",
		ACHIEVEMENT_NEWBIE_DESC: "Complete the tutorial",
		ACHIEVEMENT_COIN_COLLECT_NAME: "Coin Collector",
		ACHIEVEMENT_COIN_COLLECT_DESC: "Earn [X] gold",
		ACHIEVEMENT_SHOPAHOLIC_NAME: "Shopaholic",
		ACHIEVEMENT_SHOPAHOLIC_DESC: "Spend [X] gold",
		ACHIEVEMENT_RUNWAY_MODEL_NAME: "Runway Model",
		ACHIEVEMENT_RUNWAY_MODEL_DESC: "Collect [X] different equipment items",
		ACHIEVEMENT_PACKRAT_NAME: "Packrat",
		ACHIEVEMENT_PACKRAT_DESC: "Collect [X] different collectable items",
		ACHIEVEMENT_ANTIQUARIAN_NAME: "Antiquarian",
		ACHIEVEMENT_ANTIQUARIAN_DESC: "Collect [X] different house items",
		ACHIEVEMENT_DECORATOR_NAME: "Interior Decorator",
		ACHIEVEMENT_DECORATOR_DESC: "Place [X] items in your house",
		ACHIEVEMENT_CATCH_PET_NAME: "Catch'm",
		ACHIEVEMENT_CATCH_PET_DESC: "Collect [X] pets",
		ACHIEVEMENT_PRODIGY_NAME: "Prodigy",
		ACHIEVEMENT_PRODIGY_DESC: "Reach level [X]",
		ACHIEVEMENT_SPELLMASTER_NAME: "Relicmaster",
		ACHIEVEMENT_SPELLMASTER_DESC: "Obtain [X] relics",
		ACHIEVEMENT_MONSTER_HUNTER_NAME: "Monster Hunter",
		ACHIEVEMENT_MONSTER_HUNTER_DESC: "Defeat [X] monsters",
		ACHIEVEMENT_CHALLENGER_NAME: "Supreme Challenger",
		ACHIEVEMENT_CHALLENGER_DESC: "Win [X] Arena matches",
		ACHIEVEMENT_CHAMP_NAME: "The Champ",
		ACHIEVEMENT_CHAMP_DESC: "Get [X] points in the Arena",
		ACHIEVEMENT_TOURIST_NAME: "Tourist",
		ACHIEVEMENT_TOURIST_DESC: "Complete the tour of Lamplight Town",
		ACHIEVEMENT_FOREST_QUESTS_NAME: "Forestwalker",
		ACHIEVEMENT_FOREST_QUESTS_DESC: "Complete all quests in Firefly Forest",
		ACHIEVEMENT_FOREST_SET_NAME: "Forest Model",
		ACHIEVEMENT_FOREST_SET_DESC: "Purchase the full Firefly Outfit set",
		ACHIEVEMENT_FOREST_CHESTS_NAME: "Forest Explorer",
		ACHIEVEMENT_FOREST_CHESTS_DESC: "Open all chests in Firefly Forest",
		ACHIEVEMENT_FOREST_DEFEAT_WIZARDS_NAME: "Forest Champion",
		ACHIEVEMENT_FOREST_DEFEAT_WIZARDS_DESC: "Defeat all wizards in Firefly Forest",
		ACHIEVEMENT_SHIVERCHILL_QUESTS_NAME: "Iceclimber",
		ACHIEVEMENT_SHIVERCHILL_QUESTS_DESC: "Complete all quests in Shiverchill Mountains",
		ACHIEVEMENT_SHIVERCHILL_SET_NAME: "Mountaineer",
		ACHIEVEMENT_SHIVERCHILL_SET_DESC: "Purchase the full Shiverchill Outfit set",
		ACHIEVEMENT_SHIVERCHILL_CHESTS_NAME: "Mountain Explorer",
		ACHIEVEMENT_SHIVERCHILL_CHESTS_DESC: "Open all chests in Shiverchill Mountains",
		ACHIEVEMENT_SHIVERCHILL_DEFEAT_WIZARDS_NAME: "Mountain Champion",
		ACHIEVEMENT_SHIVERCHILL_DEFEAT_WIZARDS_DESC: "Defeat all wizards in Shiverchill Mountains",
		ACHIEVEMENT_TURN_UP_HEAT_NAME: "Turn Up the Heat",
		ACHIEVEMENT_TURN_UP_HEAT_DESC: "Light all of Bok's furnaces",
		ACHIEVEMENT_SKYWATCH_QUESTS_NAME: "Cloud Catcher",
		ACHIEVEMENT_SKYWATCH_QUESTS_DESC: "Complete all quests in Skywatch",
		ACHIEVEMENT_SKYWATCH_SET_NAME: "Air Ace",
		ACHIEVEMENT_SKYWATCH_SET_DESC: "Purchase the full Skywatch Outfit set",
		ACHIEVEMENT_SKYWATCH_CHESTS_NAME: "Skylarking",
		ACHIEVEMENT_SKYWATCH_CHESTS_DESC: "Open all chests in Skywatch",
		ACHIEVEMENT_SKYWATCH_DEFEAT_WIZARDS_NAME: "Champion of the Clouds",
		ACHIEVEMENT_SKYWATCH_DEFEAT_WIZARDS_DESC: "Defeat all wizards in Skywatch",
		ACHIEVEMENT_BONFIRE_QUESTS_NAME: "Master Chef",
		ACHIEVEMENT_BONFIRE_QUESTS_DESC: "Complete all quests in Bonfire Spire",
		ACHIEVEMENT_BONFIRE_SET_NAME: "Fire Fashion",
		ACHIEVEMENT_BONFIRE_SET_DESC: "Purchase the full Bonfire Spire Outfit set",
		ACHIEVEMENT_BONFIRE_CHESTS_NAME: "Volcanic Spelunker",
		ACHIEVEMENT_BONFIRE_CHESTS_DESC: "Open all chests in Bonfire Spire",
		ACHIEVEMENT_BONFIRE_DEFEAT_WIZARDS_NAME: "Magma Master",
		ACHIEVEMENT_BONFIRE_DEFEAT_WIZARDS_DESC: "Defeat all wizards in Bonfire Spire",
		ACHIEVEMENT_SHIPWRECK_QUESTS_NAME: "Check, Matey!",
		ACHIEVEMENT_SHIPWRECK_QUESTS_DESC: "Complete all quests in Shipwreck Shore",
		ACHIEVEMENT_SHIPWRECK_SET_NAME: "Inconceivable!",
		ACHIEVEMENT_SHIPWRECK_SET_DESC: "Collect all pieces of the Dire Pirate armor",
		ACHIEVEMENT_SHIPWRECK_CHESTS_NAME: "Treasure Hunter",
		ACHIEVEMENT_SHIPWRECK_CHESTS_DESC: "Open all chests in Shipwreck Shore",
		ACHIEVEMENT_SHIPWRECK_DEFEAT_WIZARDS_NAME: "Water Wizard",
		ACHIEVEMENT_SHIPWRECK_DEFEAT_WIZARDS_DESC: "Defeat all wizards in Shipwreck Shore",
		ACHIEVEMENT_SHIPWRECK_CLEAR_INK_NAME: "Ink-be-Gone",
		ACHIEVEMENT_SHIPWRECK_CLEAR_INK_DESC: "Clear all ink in Shipwreck Shore",
		ACHIEVEMENT_QUESTIONNAIRE_NAME: "Questionnaire",
		ACHIEVEMENT_QUESTIONNAIRE_DESC: "Answer [X] questions correctly",
		ACHIEVEMENT_SEQUENCING_NAME: "Sequencing",
		ACHIEVEMENT_SEQUENCING_DESC: "Answer [X] questions correctly in a row",
		ACHIEVEMENT_MASTER_SKILLS_NAME: "Don't Stop Me Now",
		ACHIEVEMENT_MASTER_SKILLS_DESC: "Master [X] skills",
		ACHIEVEMENT_TOWER_FLOORS_NAME: "Stairmaster",
		ACHIEVEMENT_TOWER_FLOORS_DESC: "Reach floor [X] of the Dark Tower",
		ACHIEVEMENT_COLISEUM_DEFEAT_NAME: "The Fall of Crios",
		ACHIEVEMENT_COLISEUM_DEFEAT_DESC: "Defeat [X] Coliseum opponents",
		ACHIEVEMENT_FINISHED: "Finished!",
		ACHIEVEMENT_COMPLETED: "Completed!",
		CHAT_ALL_RIGHT: "all right",
		CHAT_ALL_GOOD: "all good",
		CHAT_ABRACADABRA: "abracadabra!",
		CHAT_ANIMALS: "animals!",
		CHAT_ARE_YOU_COMING: "are you coming?",
		CHAT_ARE_YOU_LEAVING: "are you leaving?",
		CHAT_ARE_YOU_STAYING: "are you staying?",
		CHAT_ARE_YOU_HAVING_FUN: "are you having fun?",
		CHAT_BAD: "bad",
		CHAT_BUSY: "busy",
		CHAT_BYE: "bye",
		CHAT_BYE_BYE: "bye bye",
		CHAT_BORING: "boring",
		CHAT_BOUGHT_IT: "bought it",
		CHAT_BUT: "but...",
		CHAT_BARELY: "barely",
		CHAT_BECAUSE: "because",
		CHAT_CANT_RIGHT_NOW: "can't right now",
		CHAT_CHECK_IT_OUT: "check it out",
		CHAT_COME_OVER_HERE: "come over here",
		CHAT_CRUD: "crud",
		CHAT_DO_YOU_HAVE_A_MIN: "do you have a minute?",
		CHAT_DO_YOU_HAVE: "do you have...",
		CHAT_DID_YOU_SEE_THAT: "did you see that?",
		CHAT_DID_YOU_CATCH: "did you rescue...",
		CHAT_DONT_BOTHER: "don't bother",
		CHAT_DUDE: "dude",
		CHAT_DEPENDS: "depends",
		CHAT_EVERYONE_LOOK: "everyone look!",
		CHAT_ELEMENTARY: "elementary",
		CHAT_FOLLOW_ME: "follow me",
		CHAT_FRIENDS: "friends?",
		CHAT_FORGET_IT: "forget it",
		CHAT_FUN: "fun!",
		CHAT_FOUND_YOU: "found you!",
		CHAT_FOUND_IT: "found it!",
		CHAT_FUNDERFUL: "funderful",
		CHAT_FREAKY: "freaky",
		CHAT_GO_AWAY: "go away",
		CHAT_GOOD: "good",
		CHAT_GOODBYE: "goodbye",
		CHAT_GREETINGS: "greetings!",
		CHAT_GOOD_MORNING: "good morning",
		CHAT_GOOD_NIGHT: "good night",
		CHAT_GOOD_AFTERNOON: "good afternoon",
		CHAT_GOOD_TO_KNOW: "good to know",
		CHAT_GHOSTS: "ghosts!",
		CHAT_GREAT: "great!",
		CHAT_GUESS_AGAIN: "guess again",
		CHAT_GUESS: "guess",
		CHAT_GOLLY: "golly",
		CHAT_GOT_TO_GO: "got to go",
		CHAT_HI: "hi",
		CHAT_HELLO: "hello",
		CHAT_HELLO_THERE: "hello there!",
		CHAT_HEY: "hey",
		CHAT_HOW_ARE_YOU: "how are you?",
		CHAT_HOW: "how?",
		CHAT_HAPPY: "happy",
		CHAT_HELP_ME: "help me",
		CHAT_I_CAUGHT_A: "i rescued a...",
		CHAT_I_GOT_A: "i got a...",
		CHAT_I_HAVE_TO_GO: "i have to go",
		CHAT_I_HAVE_TO_LEAVE: "i have to leave",
		CHAT_I_LEVELED_UP: "i leveled up!",
		CHAT_I_LOVE_PRODIGY: "i love Prodigy!",
		CHAT_I_LIKE_YOUR_HAIR: "i like your hair",
		CHAT_I_LIKE_YOUR_OUTFIT: "i like your outfit",
		CHAT_I_LIKE_YOUR_HAT: "i like your hat",
		CHAT_I_LIKE_YOUR_WAND: "i like your wand",
		CHAT_I_LIKE_YOU_PET: "i like your pet",
		CHAT_I_LIKE_THIS_PLACE: "i like this place",
		CHAT_I_DONT_LIKE_IT_HERE: "i don't like it here",
		CHAT_I_LIKE_IT_HERE: "i like it here",
		CHAT_ITS_SPOOKY_HERE: "it's spooky here",
		CHAT_ITS_SUPER_RARE: "it's super rare!",
		CHAT_ITS_TIME: "it's time",
		CHAT_IM_RICH: "i'm rich!",
		CHAT_JUST_KIDDING: "just kidding!",
		CHAT_JUST_YOU_WAIT: "just you wait",
		CHAT_JOKING: "joking!",
		CHAT_JEALOUS: "jealous?",
		CHAT_KEEP_GOING: "keep going",
		CHAT_KEEP_IT_UP: "keep it up!",
		CHAT_KEEP_WALKING: "keep walking",
		CHAT_LEAVE_ME_ALONE: "leave me alone",
		CHAT_LOOK: "look",
		CHAT_LOOK_AT_THIS: "look at this!",
		CHAT_LOVE_IT: "love it!",
		CHAT_LETS_GO: "let's go!",
		CHAT_LETS_BATTLE: "let's battle!",
		CHAT_LET_ME_SEE: "let me see",
		CHAT_LOCKED: "locked!",
		CHAT_MY_FAVOURITE_IS: "my favorite is...",
		CHAT_MY_FAVOURITE_ITEM_IS: "my favorite item is...",
		CHAT_MY_FAVOURITE_PET_IS: "my favorite pet is...",
		CHAT_MAYBE: "maybe",
		CHAT_MAKE_ME: "make me",
		CHAT_MADE_IT: "made it!",
		CHAT_MANY_THANKS: "many thanks!",
		CHAT_MADE_TONS_OF_GOLD: "made tons of gold!",
		CHAT_NEAT: "neat",
		CHAT_NO: "no",
		CHAT_NOT_RIGHT_NOW: "not right now",
		CHAT_NOT_TODAY: "not today",
		CHAT_NEVER_MIND: "never mind",
		CHAT_NAH: "nah",
		CHAT_NO_CAN_DO: "no can do",
		CHAT_NEVER: "never",
		CHAT_NOW_QUESTION: "now?",
		CHAT_NOW: "now",
		CHAT_NO_WAY: "nooooo way!",
		CHAT_OVER: "over",
		CHAT_OVER_HERE: "over here",
		CHAT_ONE_OF_THESE_IS: "one of these is a...",
		CHAT_OKAY: "okay",
		CHAT_OMINOUS: "ominous",
		CHAT_PUYOY: "puyoy!",
		CHAT_PERHAPS: "perhaps",
		CHAT_PARTY_TIME: "party time!",
		CHAT_PRETTY_COOL: "pretty cool...",
		CHAT_PRACTICE: "practice!",
		CHAT_QUACK_QUACK: "quack quack",
		CHAT_QUITE: "quite",
		CHAT_QUIET: "quiet!",
		CHAT_RIGHT: "right",
		CHAT_RIGHT_BEHIND_YOU: "right behind you",
		CHAT_RIBBIT: "ribbit!",
		CHAT_RIGHT_OVER_HERE: "right over here",
		CHAT_RIGHT_THERE: "right there",
		CHAT_SEE_YOU_LATER: "see you later",
		CHAT_SEE_YA: "see ya",
		CHAT_SEE: "see?",
		CHAT_SORRY: "sorry",
		CHAT_SAFE_AND_SOUND: "safe and sound!",
		CHAT_SHHH: "shhhhh!",
		CHAT_SOUNDS_LIKE: "sounds like...",
		CHAT_SEEMS_LIKE_IT: "seems like it",
		CHAT_SOMEONE_SAID_SO: "someone said so",
		CHAT_SOMEDAY: "someday...",
		CHAT_THANK_YOU: "thank you",
		CHAT_THERE_YOU_ARE: "there you are",
		CHAT_THINK_ABOUT_IT: "think about it",
		CHAT_TIME_FOR_BED: "time for bed",
		CHAT_TIME_FOR_DINNER: "time for dinner!",
		CHAT_TIME_FOR_LUNCH: "time for lunch!",
		CHAT_TIME_FOR_SUPPER: "time for supper!",
		CHAT_TIME_TO_GET_UP: "time to get up",
		CHAT_TIME_TO_GO: "time to go",
		CHAT_TERRIBLE: "terrible",
		CHAT_TELL_YOU_WHAT: "tell you what...",
		CHAT_VERY_GOOD: "very good",
		CHAT_WHATS_UP: "what's up?",
		CHAT_WHO: "who?",
		CHAT_WHO_ARE_YOU: "who are you?",
		CHAT_WHY: "why?",
		CHAT_WHAT: "what?",
		CHAT_WHERE: "where?",
		CHAT_YES: "yes",
		CHAT_YOU_COMING: "you coming?",
		CHAT_YOU_LOOK_COOL: "you look cool!",
		CHAT_YOU_STILL_THERE: "you still there?",
		CHAT_YOLO: "yolo!",
		CHAT_YOURE_WELCOME: "you're welcome",
		CHAT_ZZZ: "zzz",
		CHAT_DRAGONS: "dragons!!!",
		CHAT_DRAGONS_COMING: "dragons are coming!",
		CHAT_DRAGONS_HERE: "dragons are here!",
		CHAT_DRAGONS_COOL: "dragons are COOL!",
		CHAT_DRAGONS_WANT: "i want a Dragon.",
		CHAT_DRAGONS_SEEN: "have you seen the Dragons?",
		CHAT_CHILL_CHAR_COOL: "chill & Char are cool!",
		CHAT_TIDUS_COOL: "tidus is cool!",
		CHAT_ECLIPSE_COOL: "eclipse is cool!",
		CHAT_LUMA_COOL: "luma is cool!",
		CHAT_CHILL_CHAR_FAVOURITE: "chill & Char are my favorite.",
		CHAT_TIDUS_FAVOURITE: "tidus is my favorite.",
		CHAT_ECLIPSE_FAVOURITE: "eclipse is my favorite.",
		CHAT_LUMA_FAVOURITE: "luma is my favorite.",
		CHAT_DRAGONS_LIKE: "i like Dragons.",
		CHAT_ABRACA_DAB_RA: "abracaDABra",
		CHAT_FEEL_LIKE_DANCING: "i feel like DANCING!",
		CHAT_LETS_DANCE: "let's Dance!",
		CHAT_SHOW_FUNNY_FACE: "show me your funny face",
		CHAT_ASK_PARENTS: "i always ask my parents",
		CHAT_PARENTS_BEST: "my parents are the best",
		CHAT_MEMBER_AWESOME: "being a member is the best",
		CHAT_TEACHER_AWESOME: "my teacher is awesome",
		CHAT_BUNNIES_ARE_BEST: "Bunnies are the best!",
		CHAT_I_LIKE_BUNNIES: "I like Bunnies",
		CHAT_GO_BUNNY_BANDITS: "Go Bunny Bandits!",
		CHAT_DO_YOU_LIKE_BUNNIES: "Do you like bunnies?",
		CHAT_HIPPITY_HOP: "Hippity-Hop",
		CHAT_HOP_HOP: "Hop, hop, hop",
		CHAT_HARRIET_HOOD_RULES: "Harriet Hood rules!",
		CHAT_FOXES_ARE_BEST: "Foxes are the best!",
		CHAT_I_LIKE_FOXES: "I like Foxes",
		CHAT_GO_FOX_KNIGHTS: "Go Fox Knights!",
		CHAT_DO_YOU_LIKE_FOXES: "Do you like foxes?",
		CHAT_WHAT_DOES_FOX_SAY: "What does the fox say?",
		CHAT_DON_ZORRO_FANTASTICO: "Don Zorro is fantastico",
		NPC_NAME_GUARD_SLIME: "Guard Slime",
		NPC_NAME_QUEEN_GOO_LIA: "Queen Goo-lia",
		NPC_NAME_HOWARD_CORNELIUS: "Howard Cornelius",
		NPC_NAME_MAMA_STAR: "Mama Star",
		NPC_NAME_MOZZA_ELLE: "Mozza Ella",
		NPC_NAME_SCIENTIST_SLIME: "Scientist Slimerella",
		NPC_NAME_SIR_VEY: "Sir Vey",
		NPC_NAME_SWOOPY: "Swoopy",
		NPC_NAME_TOY_MERCHANT: "Toy Merchant",
		NPC_NAME_ARENA_CALLER: "Arena Caller",
		NPC_NAME_ARENA_MERCHANT: "Arena Merchant",
		NPC_NAME_BROCCOLINA: "Broccolina",
		NPC_NAME_EUGENE: "Eugene",
		NPC_NAME_EVE: "Eve",
		NPC_NAME_CEBOLLINI: "Cebollini",
		NPC_NAME_WORKER_SLIME: "Worker Slime",
		NPC_NAME_SCOOG: "Scoog",
		NPC_NAME_MERCHANT: "Merchant",
		NPC_NAME_MARY_FIRE: "Mary Fire",
		NPC_NAME_BLAZE: "Blaze",
		NPC_NAME_GUARDIAN: "Guardian",
		NPC_NAME_PROFESSOR_SCOOG: "Professor Scoog",
		NPC_NAME_LUMINITE: "Bone-carrying Luminite",
		NPC_NAME_MOOG_ASSISTANT: "Moog's Assistant",
		NPC_NAME_ASSISTANT_SPOKES: "Assistant Spokes",
		NPC_NAME_EGG_COLLECTOR: "Egg Collector",
		NPC_NAME_MOOGS_HENCHMAN: "Moog's Henchman",
		NPC_NAME_ROCKSY: "Rocksy",
		NPC_NAME_STAMPSY: "Stampsy",
		NPC_NAME_CRABBSY: "Crabbsy",
		NPC_NAME_PRIMO_AND_MOOG: "Primo and Moog",
		NPC_NAME_LUCKY_JACK: "Lucky Jack",
		NPC_NAME_WOODSMAN_MIKE: "Woodsman Mike",
		NPC_NAME_CALEB_FORESTMASTER: "Caleb Forestmaster",
		NPC_NAME_MILLY: "Milly",
		NPC_NAME_FOREST_THIEF: "Forest Thief",
		NPC_NAME_GERALD: "Gerald",
		NPC_NAME_TRIPTROP_TED: "TripTrop Ted",
		NPC_NAME_TRIPTROP_TOM: "TripTrop Tom",
		NPC_NAME_TRIPTROP_TAK: "TripTrop Tak",
		NPC_NAME_CLANKBOOT: "Clankboot",
		NPC_NAME_IVIRA: "Ivira of the Greenwood",
		NPC_NAME_FIRIA: "Firia the Chandragon",
		NPC_NAME_RUTHERFORD: "Rutherford Aguafencer",
		NPC_NAME_GEROME: "Gerome of the North",
		NPC_NAME_ICE_WORM: "Ice Wyrm",
		NPC_NAME_CHILLY: "Chilly",
		NPC_NAME_FROSTY: "Frosty",
		NPC_NAME_FREEZY: "Freezy",
		NPC_NAME_UNKNOWN: "???",
		NPC_NAME_MARY_MOSS: "Mary Moss",
		NPC_NAME_BARRY_BOSS: "Barry Boss",
		NPC_NAME_FROSTY_STORM: "Frosty Storm",
		NPC_NAME_STORMY_STORM: "Stormy Storm",
		NPC_NAME_THIEF: "Thief",
		NPC_NAME_RAINY_STORM: "Rainy Storm",
		NPC_NAME_SANDY_STORM: "Sandy Storm",
		NPC_NAME_MIRA_SHADE: "Mira Shade",
		NPC_NAME_BENNI: "Benni",
		NPC_NAME_FLORA: "Flora",
		NPC_NAME_SLURPY: "Slurpy",
		NPC_NAME_HARVEY: "Harvey",
		NPC_NAME_PIPPET: "Pippet",
		NPC_NAME_PUPPETMASTER: "The Puppet Master",
		NPC_NAME_CHESTER_COPPERPAN: "Chester Copperpan",
		NPC_NAME_LOTNEY_CHUNK: "Lotney Chunk",
		NPC_NAME_OLD_ONE: "Old One",
		NPC_NAME_TITAN_BARRIER: "Titan Barrier",
		NPC_NAME_SHOPKEEPER_FIGG: "Shopkeeper Figg",
		NPC_NAME_BOARDY: "Boardy",
		NPC_NAME_JELLY_JIM: "Jelly Jim",
		NPC_NAME_WHEELER: "Wheeler",
		NPC_NAME_SPINNER: "Spinner",
		NPC_NAME_DON_ZORRO: "Don Zorro",
		NPC_NAME_VERNA: "Verna",
		NPC_NAME_BARGO: "Bargo",
		NPC_NAME_HANK: "Hank",
		NPC_NAME_MIKE: "Mike",
		NPC_NAME_HARRIET_HOOD: "Harriet Hood",
		NPC_NAME_GALE: "Gale",
		NPC_NAME_ACADEMY_MERCHANT: "Academy Merchant",
		NPC_NAME_JULIA_GHOULIA: "Julia Ghoulia",
		NPC_NAME_MINER: "Miner",
		WORLD_FIREFLY_FOREST: "Firefly Forest",
		WORLD_FIREFLY_FOREST_DESC: "Help Flora reclaim her forest from pesky monsters, thieves, and a sleeping giant. Learn Earth spells and earn the Warden Keystone of Firefly Forest!",
		WORLD_SHIVERCHILL_MOUNTAINS: "Shiverchill Mountains",
		WORLD_SHIVERCHILL_MOUNTAINS_DESC: "Bok needs your help! His mountain is frozen over and only a wizard can help reclaim his throne! Learn Ice spells and earn the Warden Keystone of Shiverchill Mountains!",
		WORLD_SKYWATCH: "Skywatch",
		WORLD_SKYWATCH_DESC: "Benni and Broccolina are in need of a wizard to help them get Skywatch back under control. Learn Storm spells and earn the Warden Keystone of Skywatch!",
		WORLD_DYNO_DIG_OASIS: "Dyno Dig Oasis",
		WORLD_DYNO_DIG_OASIS_DESC: "Professor Scoog is in need of a wizard just like you! Encounter extinct monsters and dig up fossils!",
		WORLD_EPICS_SUBSPACE: "Epics Subspace",
		WORLD_EPICS_SUBSPACE_DESC: "A mysterious portal that leads to the realm of the fabled Epics, the most powerful pets in history!",
		WORLD_BONFIRE_SPIRE: "Bonfire Spire",
		WORLD_BONFIRE_SPIRE_DESC: "Slurpy is in need of a wizard just like you! Help him to learn how to cook, learn Fire spells, and earn the Warden Keystone of Bonfire Spire!",
		WORLD_SHIPWRECK_SHORE: "Shipwreck Shore",
		WORLD_SHIPWRECK_SHORE_DESC: "Defeat the Puppet Master's sea beast, a monster from the old war against the Order of Influence; learn Water spells; and earn the Warden Keystone of Shipwreck Shore!",
		WORLD_DARK_TOWER: "Dark Tower",
		WORLD_DARK_TOWER_DESC: "The Dark Tower is home to Mira, who has a challenge for wizards like you! Climb to the top and earn a powerful prize!",
		WORLD_LAMPLIGHT_TOWN: "Lamplight Town",
		WORLD_LAMPLIGHT_TOWN_DESC: "Home of the famous Academy, the town has all sorts of wonderful things for wizards to do!",
		WORLD_THE_ACADEMY: "The Academy",
		WORLD_THE_ACADEMY_DESC: "The Academy floats above Lamplight Town...",
		WORLD_YOUR_HOUSE: "Your House",
		WORLD_YOUR_HOUSE_DESC: "This is your house! Customize it any way you like, and show it off to your friends!",
		WORLD_LOST_ISLAND: "The Lost Island",
		WORLD_LOST_ISLAND_DESC: "A mysterious island has appeared, and adorable critters on it need your help! Who knows what adventures await you here?",
		TITLE_LOGIN: "Login",
		TEXTBOX_TITLE_CLASS_CODE: "Class Code:",
		TEXTBOX_TITLE_PARENT_EMAIL: "Parent Email:",
		TEXTBOX_TITLE_FIRST_NAME: "First Name:",
		TEXTBOX_TITLE_LAST_NAME: "Last Name:",
		TEXTBOX_TITLE_LAST_NAME_INITIAL: "Last-Name Initial:",
		TEXTBOX_TITLE_PASSWORD: "Password:",
		TEXTBOX_TITLE_REENTER_PASSWORD: "Re-enter password:",
		TEXTBOX_TITLE_USERNAME: "Username:",
		PASSWORD_ERROR_TOO_SHORT: "Password is too short\n (4 to 10 letters)",
		PASSWORD_ERROR_TOO_LONG: "Password is too long\n (4 to 10 letters)",
		PASSWORD_ERROR_NO_SPACES: "Password cannot contain spaces",
		PASSWORD_ERROR_NO_MATCH: "Passwords match: no",
		PASSWORD_ERROR_MATCHES: "Passwords match: yes",
		CURRENCY_GOLD_COINS: "Gold Coins",
		CURRENCY_BOUNTY_POINTS: "Bounty Points",
		TIMER_FORMAT: "{0}d {1}h {2}m",
		TIMER_FORMAT_DAYS: "{0} days",
		MAP_ACADEMY_GREATHALL: "Academy - Great Hall",
		MAP_ACADEMY_ARCHIVES: "Academy - Archives",
		MAP_ACTIVITY_NORTHWEST: "Northwest Area",
		MAP_ACTIVITY_WESTERN_SHORE: "Western Shore",
		MAP_ACTIVITY_SWING_BRIDGE: "Swing Bridge",
		MAP_ACTIVITY_ISLAND_CENTER: "Island Center",
		MAP_ACTIVITY_CENTRAL_VILLAGE: "Central Village",
		MAP_ACTIVITY_NORTHEAST: "Northeast Area",
		MAP_ACTIVITY_RIVER_BRIDGE: "River Bridge",
		MAP_BONFIRE_SPIRE_VOLCANO_ENTRANCE: "Volcano Entrance",
		MAP_BONFIRE_SPIRE_ROYAL_KITCHEN: "Royal Kitchen",
		MAP_BONFIRE_SPIRE_GARDEN_GETAWAY: "Garden Getaway",
		MAP_BONFIRE_SPIRE_THRONE_ROOM: "Throne Room",
		MAP_BONFIRE_SPIRE_OUTER_SLIMEBURBIA: "Outer Slimeburbia",
		MAP_BONFIRE_SPIRE_PALM_TERRACE: "Palm Terrace",
		MAP_BONFIRE_SPIRE_THRONE_ROOM_ENTRANCE: "Throne Room: Entrance",
		MAP_BONFIRE_SPIRE_LAVA_PITS: "Lava Pits",
		MAP_BONFIRE_SPIRE_SLIME_SHANTY: "Slime Shanty",
		MAP_BONFIRE_SPIRE_PALM_PATH: "Palm Path",
		MAP_BONFIRE_SPIRE_RED_HOT_RIVER: "Red-Hot River",
		MAP_BONFIRE_SPIRE_VOLCANO_JUNCTION: "Volcanic Junction",
		MAP_BONFIRE_SPIRE_VOLCANO_VILLAGE: "Volcano Village",
		MAP_BONFIRE_SPIRE_PITFALL_TERRACE: "Pitfall Terrace",
		MAP_BONFIRE_SPIRE_VOLCANIC_CAVERN: "Volcanic Cavern",
		MAP_BONFIRE_SPIRE_FIREWATCH_ROAD: "Firewatch Road",
		MAP_BONFIRE_SPIRE_VOLCANIC_SANCTUM: "Volcanic Sanctum",
		MAP_BONFIRE_SPIRE_MOLTEN_ENCLAVE: "Molten Enclave",
		MAP_BONFIRE_SPIRE_FIERY_ALCOVE: "Fiery Alcove",
		MAP_DYNO_DIG_OASIS: "Dyno Dig Oasis",
		MAP_DYNO_DIG_MUSEUM: "Museum",
		MAP_FOREST_THE_OLD_ROAD: "The Old Road",
		MAP_FOREST_STONEFISH_BEACH: "Stonefish Beach",
		MAP_FOREST_BIG_TREE: "The Big Tree",
		MAP_FOREST_OLD_ROAD_REMAINS: "Old Road Remains",
		MAP_FOREST_FIREFLY_CROSSING: "Firefly Crossing",
		MAP_FOREST_CROSSROADS: "The Crossroads",
		MAP_FOREST_GRASSY_CLEARING: "Grassy Clearing",
		MAP_FOREST_FISHERMANS_POND: "Fisherman's Pond",
		MAP_FOREST_FIREFLY_CLEARING: "Firefly Clearing",
		MAP_FOREST_MOUNTAIN_GATE: "Mountain Gate",
		MAP_FOREST_MOUNTAIN_PASS: "Mountain Pass",
		MAP_HOUSE_PALLET_PASS: "Pallet Pass",
		MAP_HOUSE_STARTER_HOUSE: "Starter House",
		MAP_HOUSE_EXTERIOR: "Front Yard",
		MAP_LAMPLIGHT_MARKET: "Market",
		MAP_LAMPLIGHT_COLISEUM: "Coliseum",
		MAP_LAMPLIGHT_HISTORY_DISTRICT: "History District",
		MAP_LAMPLIGHT_SOUTHERN_DOCK: "Southern Dock",
		MAP_LAMPLIGHT_LOWER_INTERSECTION: "Lower Intersection",
		MAP_LAMPLIGHT_TOWN_SQUARE: "Town Square",
		MAP_LAMPLIGHT_OUTSKIRTS: "Lamplight Outskirts",
		MAP_LAMPLIGHT_ACADEMY_CROSSROADS: "Academy Crossroads",
		MAP_LAMPLIGHT_ACADEMY_ENTRANCE: "Academy Entrance",
		MAP_LAMPLIGHT_NORTHWEST_COURT: "Northwest Court",
		MAP_LAMPLIGHT_VENDORS_PLAZA: "Vendor's Plaza",
		MAP_LAMPLIGHT_PET_PARK: "Pet Park",
		MAP_LAMPLIGHT_BURROW: "The Burrow",
		MAP_LAMPLIGHT_FORT_FOX: "Fort Fox",
		MAP_SHIVERCHILL_FURNACE_ROOM: "Furnace Room",
		MAP_SHIVERCHILL_HIDDEN_ROOM: "Hidden Room",
		MAP_SHIVERCHILL_MOUNTAIN_PASS: "Mountain Pass",
		MAP_SHIVERCHILL_RUINED_PASSAGE: "Ruined Passage",
		MAP_SHIVERCHILL_RUINED_STEPS: "Ruined Steps",
		MAP_SHIVERCHILL_ROYAL_PASSAGE: "Royal Passage",
		MAP_SHIVERCHILL_GATE: "Shiverchill Gate",
		MAP_SHIVERCHILL_BORDERLAND: "Borderland",
		MAP_SHIVERCHILL_BOKS_CAVE: "Bok's Cave",
		MAP_SHIVERCHILL_TREASURE_ROOM: "Treasure Room",
		MAP_SHIVERCHILL_RUINED_ENTRANCE: "Ruined Entrance",
		MAP_SHIVERCHILL_RAIL_RUINS: "Rail Ruins",
		MAP_SHIVERCHILL_MOUNTAIN_VALLEY: "Mountain Valley",
		MAP_SHIVERCHILL_WORMS_REST: "Wyrm's Rest",
		MAP_SHIVERCHILL_FROZEN_PASS: "Frozen Pass",
		MAP_SHIVERCHILL_THE_CHASM: "The Chasm",
		MAP_SHIPWRECK_SHORE_FAR_BEACH: "Far Beach",
		MAP_SHIPWRECK_SHORE_SEAWEED_SKYSCRAPERS: "Seaweed Skyscrapers",
		MAP_SHIPWRECK_SHORE_SECRET_SHORE_SPACE: "Secret Shore Space",
		MAP_SHIPWRECK_SHORE_SECLUDED_SHORE: "Secluded Shore",
		MAP_SHIPWRECK_SHORE_UNDERWATER_ALCOVE: "Underwater Alcove",
		MAP_SHIPWRECK_SHORE_LOWER_DECK_HALL: "Lower Deck Hall",
		MAP_SHIPWRECK_SHORE_CROWS_NEST: "Crow's Nest",
		MAP_SHIPWRECK_SHORE_UPPER_DECK: "Upper Deck",
		MAP_SHIPWRECK_SHORE_CARGO_HOLD: "Cargo Hold",
		MAP_SHIPWRECK_SHORE_LOWER_DECK: "Lower Deck",
		MAP_SHIPWRECK_SHORE_SECOND_SHIP_RAMP: "Second Ship Ramp",
		MAP_SHIPWRECK_SHORE_BROKEN_SHIP_BED: "Broken Ship Bed",
		MAP_SHIPWRECK_SHORE_SEAWEED_SANCTUARY: "Seaweed Sanctuary",
		MAP_SHIPWRECK_SHORE_SECRET_SHORE: "Secret Shore",
		MAP_SHIPWRECK_SHORE_SHORELINE: "Shoreline",
		MAP_SHIPWRECK_SHORE_SUNKEN_SECRET: "Sunken Secret",
		MAP_SHIPWRECK_SHORE_CAPNS_QUARTERS: "Cap'n's Quarters",
		MAP_SHIPWRECK_SHORE_SAND_CITY: "Sand City",
		MAP_SHIPWRECK_SHORE_DEEP_WATER: "Deep Water",
		MAP_SHIPWRECK_SHORE_SAND_TOWN: "Sand Town",
		MAP_SHIPWRECK_SHORE_DIVE_DOCK: "Dive Dock",
		MAP_SHIPWRECK_SHORE_DESOLATE_DECK: "Desolate Deck",
		MAP_SHIPWRECK_SHORE_BROKEN_BOWSPRIT: "Broken Bowsprit",
		MAP_SKYWATCH_LOWER_BEANOVATOR: "Lower Bean-o-vator",
		MAP_SKYWATCH_UPPER_BEANOVATOR: "Upper Bean-o-vator",
		MAP_SKYWATCH_END_CHAMBER: "End Chamber",
		MAP_SKYWATCH_BLAST_DOORS: "Blast Doors",
		MAP_SKYWATCH_OLD_MANS_ROOM: "Factory: Old Man's Room",
		MAP_SKYWATCH_MAIN_HALL: "Factory: Main Hall",
		MAP_SKYWATCH_WIND_TUNNEL: "The Wind Tunnel",
		MAP_SKYWATCH_BREEZY_PASS: "Breezy Pass",
		MAP_SKYWATCH_FACTORY_ENTRANCE: "Factory Entrance",
		MAP_SKYWATCH_FACTORY_MAIN_HALL: "Factory: Main Hall",
		MAP_SKYWATCH_SKY_SHOWER: "Sky Shower",
		MAP_SKYWATCH_CLOUDY_PASS: "Cloudy Pass",
		MAP_SKYWATCH_INNER_SCREWBALL_SHACK: "The Screwball Shack: Inner",
		MAP_SKYWATCH_SCREWBALL_SHACK: "The Screwball Shack",
		MAP_SKYWATCH_GREAT_GRATERS: "The Great Graters",
		MAP_SKYWATCH_GARDENERS_HUT_INNER: "Gardener's Hut: Inner",
		MAP_SKYWATCH_GARDENERS_HUT_EXTERIOR: "Gardener's Hut: Exterior",
		MAP_SKYWATCH_OUTSKIRTS: "Skywatch Outskirts",
		MAP_TITAN_GROUNDS: "Titan Grounds",
		MAP_TOY_ZONE_DRAGONS_LAIR: "Dragon Lair",
		MAP_TOY_ZONE_MYSTIC_ROTUNDA: "Mystic Rotunda",
		MAP_TOY_ZONE_EPIC_ZONE: "Epic Zone",
		MAP_DARK_TOWER_ENTRANCE: "Dark Tower Entrance",
		MAP_DARK_TOWER_FLOOR: "Dark Tower Floor ",
		MAP_DARK_TOWER_SHOWDOWN: "Dark Tower Showdown",
		QUESTS_DINO_NAME_0: "Welcome to OINC",
		QUESTS_DINO_DESC_0: "Scallys are causing problems for OINC, challenge a few of them to help out",
		QUESTS_DINO_NAME_1: "Can You Dig It?",
		QUESTS_DINO_DESC_1: "The Professor wants you to bring him a Terrosaur bone",
		QUESTS_DINO_NAME_2: "Hats Off",
		QUESTS_DINO_DESC_2: "Find the monster with the Professor's hat and defeat it",
		QUESTS_DINO_NAME_3: "Getting Hot in Here",
		QUESTS_DINO_DESC_3: "Defeat fire monsters to save the oasis from roasting",
		QUESTS_DINO_NAME_4: "Learning Experience",
		QUESTS_DINO_DESC_4: "Find and defeat Terromites to learn about their behaviour",
		QUESTS_DINO_NAME_5: "TAG! You're it!",
		QUESTS_DINO_DESC_5: "Collect tags from Dynos",
		QUESTS_DINO_NAME_6: "Moog's Evil Scheme - A Novel",
		QUESTS_DINO_DESC_6: "Track down Moog's men and take a copy of his evil scheme",
		QUESTS_DINO_NAME_7: "Spoke Too Soon",
		QUESTS_DINO_DESC_7: "Find and defeat Moog's head assistant, Spokes",
		QUESTS_DINO_NAME_8: "Crabwalking",
		QUESTS_DINO_DESC_8: "Find the Dynos that are stealing equipment from Scoog",
		QUESTS_DINO_NAME_9: "Egg Hunt",
		QUESTS_DINO_DESC_9: "Collect the eggs from Moog's egg collectors",
		QUESTS_DINO_NAME_10: "The Ptrouble with Pterrotells",
		QUESTS_DINO_DESC_10: "Defeat pterrotells for Moog, and discover what has them so cranky",
		QUESTS_DINO_NAME_11: "Dyno Force Four",
		QUESTS_DINO_DESC_11: "Defeat Moog's henchman and his Dynos!",
		QUESTS_DINO_NAME_12: "Nesting Grounds",
		QUESTS_DINO_DESC_12: "Defeat different Dynos, and follow them to the nest",
		QUESTS_DINO_NAME_13: "The Bigger They Are...",
		QUESTS_DINO_DESC_13: "Defeat the incoming Dynos!",
		QUESTS_DINO_NAME_14: "Prehistoric Panic",
		QUESTS_DINO_DESC_14: "It's Professor Moog and the Primo Dyno! Defeat them!",
		QUESTS_BONFIRE_SPIRE_PULL_LEVER: "Pull the Lever",
		QUESTS_BONFIRE_SPIRE_ADD_INGREDIENT: "Add Ingredient",
		QUESTS_BONFIRE_SPIRE_ATTEND_DINNER: "Attend Dinner",
		QUESTS_BONFIRE_SPIRE_TALK_TO_GUARDS: "Talk to Guards",
		QUESTS_BONFIRE_SPIRE_SAVE_GATHERERS: "Save Gatherers",
		QUESTS_BONFIRE_SPIRE_OFFER_DISH: "Offer the Dish",
		QUESTS_BONFIRE_SPIRE_FIND_KEY: "Find the Key",
		QUESTS_BONFIRE_SPIRE_UNLOCK_CHEST: "Unlock the Chest",
		QUESTS_BONFIRE_SPIRE_DEFEAT_CHEF: "Defeat the Chef!",
		QUESTS_BONFIRE_SPIRE_TALK_TO_QUEEN: "Talk to Queen",
		QUESTS_FOREST_TALK_TO_MERCHANT: "Talk to Merchant",
		QUESTS_FOREST_DEFEAT_THE_TRIO: "Defeat the Trio!",
		QUESTS_FOREST_FIND_GERALD: "Find Gerald",
		QUESTS_FOREST_FIX_FLUTE: "Fix the Flute",
		QUESTS_FOREST_WAKE_GERALD: "Wake up Gerald",
		QUESTS_SHIVERCHILL_ACTIVATE_FURNACE: "Activate Furnace",
		QUESTS_SHIVERCHILL_EXPLORE_CAVES: "Explore Caves",
		QUESTS_SHIVERCHILL_FIND_SHOVEL: "Find the Shovel",
		QUESTS_SHIVERCHILL_HELP_MINER: "Help the Miner",
		QUESTS_SHIVERCHILL_UNKNOWN: "???",
		QUESTS_SHIVERCHILL_CHECK_THRONE: "Check Throne",
		QUESTS_SHIVERCHILL_DEFEAT_ICE_WORM: "Defeat Ice Wyrm",
		QUESTS_SKYWATCH_GET_DEVICE: "Get the Device",
		QUESTS_SKYWATCH_FIND_BROCCOLINA: "Find Broccolina",
		QUESTS_SKYWATCH_TRIM_VINES: "Trim the Vines",
		QUESTS_SKYWATCH_INSPECT_MACHINE: "Inspect Machine",
		QUESTS_SKYWATCH_GET_KEY: "Get the Key",
		QUESTS_SKYWATCH_FIND_EUGENE: "Find Eugene",
		QUESTS_SKYWATCH_DEFEAT_BOSS: "Defeat the Boss",
		QUESTS_ACTIVITY_ZONE_DAILY_SINGLE: "Defeat 6 {0}",
		QUESTS_ACTIVITY_ZONE_DAILY_PLURAL: "Defeat 6 {0}s",
		QUESTS_SHIPWRECK_TAKE_PHOTO: "Take Picture",
		QUESTS_SHIPWRECK_LOOK_AROUND: "Look Around",
		QUESTS_SHIPWRECK_FIND_JIM: "Find Jelly Jim",
		QUESTS_SHIPWRECK_CLEAR_INK: "Clear all ink",
		QUESTS_SHIPWRECK_OPEN_DOOR: "Open the Door",
		QUESTS_SHIPWRECK_DEFEAT_BOSS: "Defeat Boss",
		GOOGLE_AUTH_FAIL_DEFAULT: "Signing in with Google was unsuccessful",
		GOOGLE_AUTH_POPUP_BLOCKED: "Your browser is blocking popups. To sign in with Google, please allow popups and try again.",
		GOOGLE_AUTH_USE_BROWSER_INSTEAD: "Google sign-in only works in the browser version of Prodigy. Would you like to open Prodigy in the browser?",
		GOOGLE_AUTH_PROMPT_BROWSER: "Prompting for browser version...",
		GOOGLE_AUTH_CREATING_ACCOUNT: "Creating Account...",
		MORPH_END_MESSAGE: "Would you like to end your Morph?",
		MORPH_START_NEW: "Would you like to end your current Morph and use this new one?",
		INK_BLOT_BLOCKED_MESSAGE: "Blocked by the Old One's Ink Blot spell! Wait a few turns, or switch team members to remove its effects.",
		INK_BLOT_BLOCKED_TITLE: "Ink Blocked!",
		WORLD_MAP_FOREST_QUEST_0: "Save Flora's friend, the merchant, from bullies!",
		WORLD_MAP_FOREST_QUEST_1: "Find a wand in Firefly Forest.",
		WORLD_MAP_FOREST_QUEST_2: "Continue Flora's trials in the Forest by defeating Saplettes.",
		WORLD_MAP_FOREST_QUEST_3: "Clean up the mess that vandals created in the Forest!",
		WORLD_MAP_FOREST_QUEST_4: "Bring the note you found to the traveler in the woods, so that it can be translated.",
		WORLD_MAP_FOREST_QUEST_5: "Get a Mandrake from the sneaky Sprikes!",
		WORLD_MAP_FOREST_QUEST_6: "Bring in Mandrakes for questioning. Get to the bottom of the plot against Flora!",
		WORLD_MAP_FOREST_QUEST_7: "Find and defeat the TripTrop Trio to get back what they stole from Flora.",
		WORLD_MAP_FOREST_QUEST_8: "Find Flora's golem, Gerald.",
		WORLD_MAP_FOREST_QUEST_9: "Find the magic tree stump, and using it, repair Flora's flute.",
		WORLD_MAP_FOREST_QUEST_10: "Defeat the Neek that stole Flora's flute once again!",
		WORLD_MAP_FOREST_QUEST_11: "Wake up Gerald the Golem, and defeat him!",
		WORLD_MAP_SHIVERCHILL_QUEST_0: "Defeat the monsters that have captured the furnace room!",
		WORLD_MAP_SHIVERCHILL_QUEST_1: "Defeat the ice monsters that have stolen the furnace fuel.",
		WORLD_MAP_SHIVERCHILL_QUEST_2: "Light a furnace with the fuel you got back from those icy thieves!",
		WORLD_MAP_SHIVERCHILL_QUEST_3: "Look for more crystals to light the remaining furnaces of Shiverchill.",
		WORLD_MAP_SHIVERCHILL_QUEST_4: "Find the chest that holds Bok's shovel.",
		WORLD_MAP_SHIVERCHILL_QUEST_5: "Save the miner!",
		WORLD_MAP_SHIVERCHILL_QUEST_6: "Find another power crystal in the mines.",
		WORLD_MAP_SHIVERCHILL_QUEST_7: "Hunt down and defeat the spooky Cloakers in the mines.",
		WORLD_MAP_SHIVERCHILL_QUEST_8: "Find the power crystal in the Ruins.",
		WORLD_MAP_SHIVERCHILL_QUEST_9: "Use the fuel you've collected to turn on the next furnace!",
		WORLD_MAP_SHIVERCHILL_QUEST_10: "Check to make sure the Throne Room is safe for Bok!",
		WORLD_MAP_SHIVERCHILL_QUEST_11: "Collect lots of junk crystals so you can lure the evil Ice Worm out!",
		WORLD_MAP_SHIVERCHILL_QUEST_12: "Defeat the Ice Worm to stop the cavequakes, AND get another power crystal!",
		WORLD_MAP_SHIVERCHILL_QUEST_13: "Light the third furnace with the crystal you got from the giant Ice Worm!",
		WORLD_MAP_SHIVERCHILL_QUEST_14: "Collect your reward for your heroic deeds in the Throne Room",
		WORLD_MAP_SKYWATCH_QUEST_0: "Clear out the monsters in the Greenhouse so Benni can get back to work!",
		WORLD_MAP_SKYWATCH_QUEST_1: "Go and collect the Weather O Meter so Benni can take some readings around Skywatch.",
		WORLD_MAP_SKYWATCH_QUEST_2: "Find Broccolina for Benni.",
		WORLD_MAP_SKYWATCH_QUEST_3: "Clear the trolleys of any vines and inspect the Wind Machine for Benni.",
		WORLD_MAP_SKYWATCH_QUEST_4: "Find clues to identify the whereabouts of the Factory Key.",
		WORLD_MAP_SKYWATCH_QUEST_5: "Get the Factory Key.",
		WORLD_MAP_SKYWATCH_QUEST_6: "Head to the factory and collect spare parts for the Vine Pruner.",
		WORLD_MAP_SKYWATCH_QUEST_7: "Defeat the Water Cloud at the Snow Machine!",
		WORLD_MAP_SKYWATCH_QUEST_8: "Defeat the Earth Cloud at the Rain Machine!",
		WORLD_MAP_SKYWATCH_QUEST_9: "Defeat the Ice Cloud at the Wind Machine!",
		WORLD_MAP_SKYWATCH_QUEST_10: "Seek out the Cloudmaster for guidance on how to deal with those pesky Elemental Clouds.",
		WORLD_MAP_SKYWATCH_QUEST_11: "Find pieces of the broken key.",
		WORLD_MAP_SKYWATCH_QUEST_12: "Head to the Cumulus Room and save Skywatch",
		WORLD_MAP_BONFIRE_QUEST_0: "Help Slurpy out by pulling the first lever to drain lava.",
		WORLD_MAP_BONFIRE_QUEST_1: "Help Slurpy out by pulling the second lever to drain lava.",
		WORLD_MAP_BONFIRE_QUEST_2: "Help Slurpy out by pulling the third lever to drain lava.",
		WORLD_MAP_BONFIRE_QUEST_3: "Find Slurpy's special ingredient.",
		WORLD_MAP_BONFIRE_QUEST_4: "Sneak Slurpy's special ingredient into the Chef's pot.",
		WORLD_MAP_BONFIRE_QUEST_5: "Attend the Royal Dinner in Slurpy's place.",
		WORLD_MAP_BONFIRE_QUEST_6: "Collect Slurpy's cooking supplies.",
		WORLD_MAP_BONFIRE_QUEST_7: "Talk to the Queen's guards, Mike and Hank, to find out the Queen's favorite food.",
		WORLD_MAP_BONFIRE_QUEST_8: "Find turnips for Slurpy's next dish.",
		WORLD_MAP_BONFIRE_QUEST_9: "Deliver Slurpy's new dish to the Queen.",
		WORLD_MAP_BONFIRE_QUEST_10: "Find the key that will unlock the chest holding the magical Boots of Hotwalk!",
		WORLD_MAP_BONFIRE_QUEST_11: "Defeat the guardian of the chest of the Boots of Hotwalk.",
		WORLD_MAP_BONFIRE_QUEST_12: "Use the Boots of Hotwalk to get to the Chef, and defeat him!",
		WORLD_MAP_BONFIRE_QUEST_13: "Help the Chef get his job back.",
		WORLD_MAP_SHIPWRECK_QUEST_0: "Find a Breathing Bubble, so you can go underwater!",
		WORLD_MAP_SHIPWRECK_QUEST_1: "Search for the mysterious undersea monster.",
		WORLD_MAP_SHIPWRECK_QUEST_2: "Find and collect a sample of ink for Eve.",
		WORLD_MAP_SHIPWRECK_QUEST_3: "Find a Sonic Blaster to break through the ink.",
		WORLD_MAP_SHIPWRECK_QUEST_4: "Clear ink out of your path through Shipwreck Shore.",
		WORLD_MAP_SHIPWRECK_QUEST_5: "Take pictures of the mysterious monster's tunnel for Eve.",
		WORLD_MAP_SHIPWRECK_QUEST_6: "Collect scales from the boss monster.",
		WORLD_MAP_SHIPWRECK_QUEST_7: "Train to get tough against underwater monsters.",
		WORLD_MAP_SHIPWRECK_QUEST_8: "Pursue the underwater boss.",
		WORLD_MAP_SHIPWRECK_QUEST_9: "Find the key for the Captain's Quarters.",
		WORLD_MAP_SHIPWRECK_QUEST_10: "Defeat the Old One.",
		SO_SLEEPY: "So Sleepy...",
		TITAN_DEFEATED_MESSAGE: "The Titan has been defeated, for now!\nThe Puppet Master is hard at work, summoning it back once again. Keep an eye on the island map for signs of the Titan's return...",
		TITAN_DEFEATED_TITLE: "Titan Defeated!",
		TITAN_HEARTS: "Titan Hearts",
		NETWORK_ALL_GOOD: "All Good!",
		NETWORK_INCORRECT_USERNAME_PASSWORD: "Incorrect Username Or Password",
		NETWORK_FORBIDDEN: "Access is Forbidden!",
		NETWORK_OFFLINE: "Prodigy Is Temporarily Offline.",
		NETWORK_ERROR: "There was an error with your request",
		NETWORK_OUT_OF_DATE: "Your game seems to be out-of-date! Press OKAY to reload.",
		NETWORK_TRY_LATER: "Uh oh! It looks like you'll have to try again later.",
		NETWORK_CANNOT_CONNECT: "Cannot connect to Prodigy...you will be logged off in {0} seconds",
		NETWORK_LOGGED_IN_ELSEWHERE: "You have logged in elsewhere...you will be logged off in ",
		NETWORK_GOING_OFFLINE: "Prodigy is going offline, and you will be logged off in {0} seconds",
		NETWORK_ERROR_SKILLS: "There was an error loading your skills. Please try again.",
		INACTIVITY_MESSAGE: "You have been inactive for a while. If you do nothing, you will be logged out soon.",
		INACTIVITY_BUTTON: "I'm Here",
		ARENA_STORE_SILVER_BUTTON_TOP: "Silver",
		ARENA_STORE_SILVER_BUTTON_BOT: "Rank",
		ARENA_STORE_GOLD_BUTTON_TOP: "Gold",
		ARENA_STORE_GOLD_BUTTON_BOT: "Rank",
		ARENA_STORE_PLATINUM_BUTTON_TOP: "Platinum",
		ARENA_STORE_PLATINUM_BUTTON_BOT: "Rank",
		ARENA_STORE_DIAMOND_BUTTON_TOP: "Diamond",
		ARENA_STORE_DIAMOND_BUTTON_BOT: "Rank",
		PVP_PRIZES_TITLE: "SEASON PRIZES",
		PVP_PRIZES_DISCLAIMER: "All earned prizes will appear in your mailbox the following Monday.",
		PVP_PRIZES_RANK_REQUIREMENT: "Leaderboard Top {0}",
		PVP_PRIZES_POINTS_REQUIREMENT: "[arena]{0}",
		PVP_PRIZE_ACHIEVED_POPUP_MESSAGE: "Congratulations! You've earned an Arena prize!\n\n\nCome back next Monday to collect it from your mailbox!",
		PVP_PRIZE_ACHIEVED_POPUP_BUTTON_TEXT: "OKAY",
		SEASON_DETAILS_TAB_TOP: "Season",
		SEASON_DETAILS_TAB_BOTTOM: "Details",
		SEASON_DETAILS_PRIZE_BUTTON: "View Season Prizes",
		SEASON_DETAILS_CHALLENGE_BUTTON_FIND: "find",
		SEASON_DETAILS_CHALLENGE_BUTTON_CHALLENGER: "challenger",
		SEASON_DETAILS_SEASON_ENDS: "Ends in: {0}",
		SEASON_DETAILS_POINTS_TITLE: "My Points: {{0}",
		SEASON_DETAILS_NEXT_PRIZE: "Next Prize",
		SEASON_DETAILS_POINTS: "[arena]{0}",
		SEASON_DETAILS_EARN_BONUS: "Earn {0} bonus points for completing {1} matches in {2}",
		SEASON_DETAILS_REACH_TOP: "Finish in the top {0} players to earn this season's grand prize!",
		SEASON_DETAILS_WEEKLY_EARNED: "Weekly bonus earned! A new bonus will be available next Monday.",
		SEASON_TOP_PLAYERS: "This season's top 1000 players will receive: {0}",
		SEASON_TO_TOP: "To Top 1000: [arena]{0}",
		SEASON_NEXT_RANK: "Next Rank: [arena]{0}",
		SEASON_YOUR_POINTS: "Your Points: [arena]{0}",
		SEASON_YOUR_RANK: "Your Rank: {0}",
		SEASON_YOUR_RANK_TITLE: "Your Rank",
		UI_MAIL_WELCOME: "WELCOME",
		UI_MAIL_CHECK_IT_OUT: "CHECK IT OUT!",
		UI_TAXI_REGULAR_FARE: "Regular Fare",
		UI_TAXI_PAY_HALF: "Pay Half!",
		UI_TITAN_BATTLES_INFO: "The more battles you win against the Titan, the bigger the reward you get when it's defeated.",
		UI_TITAN_APPEAR_INFO: "Once in a while, a Titan will appear somewhere on the island, pointed out by a special notification",
		UI_TITAN_SHARDS_INFO: "Battle the Titan to earn Titan Shards. Once it's defeated, you can get a bunch more. You can't do it alone though. It is SO strong, that MANY wizards around the world will need to work together to defeat it!",
		UI_TITAN_REWARDS_TITLE: "TITAN BATTLE REWARDS",
		UI_MAIL_NO_MAIL: "You have no mail",
		UI_MAIL_YOUR_MAIL: "YOUR MAIL",
		UI_ZONE_CHECK_BACK: "Keep checking out this area for its unique items and interesting challenges!",
		UI_ZONE_NO_FRIENDS: "Add players as friends to see how well you do against them!",
		UI_ZONE_NO_CLASSMATES: "Sorry, you are not part of a valid Class, so you don't have any Classmates! Check with your teacher to get the Class code.",
		UI_ZONE_PLAY: "PLAY",
		UI_ZONE_SHIPWRECK_SHORE: "SHIPWRECK SHORE",
		UI_ZONE_FIREFLY_FOREST: "FIREFLY FOREST",
		UI_ZONE_BONFIRE_SPIRE: "BONFIRE SPIRE",
		UI_ZONE_SHIVERCHILL: "SHIVERCHILL MOUNTAINS",
		UI_ZONE_SKYWATCH: "SKYWATCH",
		UI_PVP_PRIZES: "PVP SEASON PRIZES",
		UI_PVP_PRIZES_DESC: "All earned prizes will appear in your mailbox the following Monday.",
		UI_PVP_COOL_ARMOR: "Really Cool Armor",
		UI_PVP_1000_POINTS: "1000 Points",
		UI_PVP_GRAND_PRIZE: "Grand Prize",
		UI_RESULTS_TITLE: "RESULTS",
		UI_NO_FEED_ALL: "The Wizard Watch is where you can see what your friends and classmates are doing. Check back later to see what they're up to!",
		UI_NO_FEED_ME: "This is where you can see your own activity. Share your adventures with your friends and classmates!",
		UI_NO_FEED_FRIENDS: "This is where you will find only your friends' and classmates' activity. Befriend some Wizards and be sure to give them a thumbs-up when they share their adventures with you!",
		UI_FEED_TITLE: "Wizard Watch",
		UI_FEED_All: "All",
		UI_FEED_ME: "Me",
		UI_FEED_FRIEND: "Friends",
		UI_FEED_LASTNIGHT: "What you missed last night",
		UI_FEED_TODAY: "What's going on today",
		UI_FEED_NO_TODAY: "No news yet!",
		UI_FEED_OLD: "What happened a while ago",
		UI_FEED_MY_SHARES: "My shares",
		UI_FEED_SHARED: "Shared!",
		UI_FEED_SHARE: "Share",
		UI_FEED_SHARE_FRIENDS: "Share with friends",
		UI_FEED_NO_SHARES: "You have no new events to share. Keep playing at home to share even more with friends!",
		UI_FEED_CAUGHT_UP: "You are all caught up!",
		UI_FEED_CHECK_OUT: "Check it out!",
		DYNO_DIG_SHOP_WELCOME: "Welcome to Dyno Dig Shop! \nWant to see what I have for sale?",
		COMBAT_CANT_EAT_RIGHT_NOW: "{0} can't eat right now.",
		COMBAT_YOU: "You",
		MEMBERSHIP_CONGRATULATIONS: "CONGRATULATIONS!",
		MEMBERSHIP_CLOUD_MOUNT: "As a Member, you have been given a Cloud Mount. Enjoy floating around on a big fluffy cloud. Thank you for being a Prodigy Member!",
		MEMBERSHIP_MOUNT_EQUIP: "Don't forget to equip your Cloud Mount through your backpack by turning the Cloud Mount switch to 'ON'.",
		MEMBERSHIP_GET_MOUNT: "MEMBER CLOUD MOUNT!",
		MEMBERSHIP_GET_MOUNT_BODY: "Become a Prodigy Member to get a Cloud Mount. Float around on your very own fluffy cloud!",
		MEMBERSHIP_MONTHLY_BOX_TITLE: "MONTHLY MEMBERSHIP BOX",
		MEMBERSHIP_MONTHLY_BOX_DESCRIPTION: "Members get Membership Boxes with awesome Member items every month!",
		MEMBERSHIP_BECOME_MEMBER: "Become a Member and get this month's box TODAY!",
		MEMBERSHIP_GET_MONTHLY_BOX: "You have been given this month's Membership Box with awesome Member items. It will be in your Mail very soon!",
		MEMBERSHIP_TITAN_CATAPULT_TITLE: "A New Way To Fight A Titan!",
		MEMBERSHIP_TITAN_CATAPULT_BODY_0: "Become a Prodigy Member to use",
		MEMBERSHIP_TITAN_CATAPULT_BODY_1: "the",
		MEMBERSHIP_TITAN_CATAPULT_BODY_2: "Catapult",
		MEMBERSHIP_TITAN_CATAPULT_BODY_3: "and get double the Titan Shards.",
		MEMBERSHIP_TITAN_CATAPULT_GRAPHIC_0: "Double the",
		MEMBERSHIP_TITAN_CATAPULT_GRAPHIC_1: "Titan Shards!",
		MEMBERSHIP_LEARN_MORE: "Learn More",
		PLAY_AT_HOME_PLACEHOLDER: "THIS IS A PLACEHOLDER TEXT",
		PLAY_AT_HOME_TITLE: "Explore Prodigy at Home!",
		PLAY_AT_HOME_MEMBER_HUD: "Members get amazing things! Play Prodigy after school and discover all the awesome things that you can do!",
		PLAY_AT_HOME_NOT_MEMBER_HUD: "Members get amazing things! Play Prodigy at home and ask your parent about Membership!",
		PLAY_AT_HOME_BUY_ITEM: "Become a Member to buy Member items. Play Prodigy at home to discover even more awesome items!",
		PLAY_AT_HOME_PREMIUM_ITEM: "Become a Member to wear Member items.Play Prodigy at home to discover and collect more items!",
		PLAY_AT_HOME_MORE_GOLD: "Members get more gold to spend on awesome items. Save up more gold by playing after school!",
		PLAY_AT_HOME_MEMBER_CHESTS: "Become a Member to open Member Chests. Battle even more monsters for rewards after school!",
		PLAY_AT_HOME_MORE_EXP: "Get all the Stars in the Star Jar by becoming a Member! Play Prodigy after school to fill up your Star Jar even more!",
		PLAY_AT_HOME_WHEEL_SPIN: "Become a Member and get a second spin on the Wheel of Wonder. Come back after school to spin the Twilight Wheel!",
		PLAY_AT_HOME_TWILIGHT_WHEEL: "Become a Member and get a second spin on the Twilight Wheel. Come back tomorrow for another spin!",
		PLAY_AT_HOME_EVOLVE_PETS: "You can evolve your pets by becoming a Member. Train your pets after school and watch them level up!",
		PLAY_AT_HOME_DANCE: "Members can dance the Dab! Play and dance with many other Wizards after school!",
		PLAY_AT_HOME_MEMBER_BOUNTY: "Become a Member to take on Member Bounty Missions. Play Prodigy at home to complete more missions!",
		PLAY_AT_HOME_NICKNAME: "Members can choose Member names. Play Prodigy at home and ask your parent about Membership!",
		PLAY_AT_HOME_MEMBER_PETS: "Become a Member to rescue more pets. Play Prodigy after school to level up your pet team!",
		PLAY_AT_HOME_TOWER: "Become a Member to battle in the Dark Tower. Play Prodigy at home and ask your parent about Membership!",
		PLAY_AT_HOME_MORE_EXP_CLASS_LEADERS: "Become a Member to get more Stars and level up faster. Play Prodigy at home to rank higher on your Class Leaderboard!",
		PARENTAL_LINK_TITLE: "Parent Account Rewards",
		PARENTAL_LINK_TITLE_SUCCESS: "Parent Account Linked!",
		PARENTAL_LINK_CONTENT: "Have your parent or guardian link their account to your account to get this awesome stuff!",
		PARENTAL_LINK_CONTENT_SCHOOL: "After school, have your parent or guardian link their account to your account to get this awesome stuff!",
		PARENTAL_LINK_BUTTON: "Link a Parent Account!",
		PARENTAL_LINK_BUTTON_SUCCESS: "Okay!",
		PARENTAL_LINK_SKIP: "Skip",
		PARENTAL_LINK_PLAY: "Play",
		PARENTAL_POPUP_MESSAGE: "If you have linked a Parent Account,\nlog in again to get your rewards!",
		PARENTAL_POPUP_LOGIN: "Log In",
		PARENTAL_POPUP_BACK: "Back",
		MAIL_UNAVAILABLE: "Oops! Sorry, we cannot show your Mail right now. We are working on it. Please try again later.",
		STORE_NAME_FIREFLY: "Firefly Outfitters",
		STORE_MACHINE_SHOP: "The Machine Shop",
		STORE_SNOWDAY_SALES: "Snowday Sales",
		STORE_SKY_HIGH: "Sky-High Values",
		STORE_HOT_HOT_THREADS: "Hot Hot Threads",
		STORE_OCEAN_OUTFITTERS: "Ocean Outfitters",
		STORE_OPEN_FAILED_TITLE: "Store Closed",
		STORE_OPEN_FAILED_MESSAGE: "This store is currently unavailable. Please try again later.",
		FRIENDS_LIST_UNAVAILABLE: "Oops! Sorry, we cannot show your Friends List right now. We are working on it. Please try again later.",
		MEMBER_STARS_EARNED: "{0} MEMBER STARS EARNED",
		MAX_STARS_EARNED: "MAX STARS EARNED",
		WORTH: "Worth",
		WIZARD_LEVELS: "Wizard Levels!",
		WIZARD_LEVEL: "Wizard Level!",
		JAR_EXPIRED: "MEMBER STARS DISAPPEARED!",
		JAR_BECOME_MEMBER: "Become a Member to get them before they disappear next time!",
		STARS_IN_JAR_COUNT: "Stars In Jar",
		MONTH_NAME_1: "January",
		MONTH_NAME_2: "February",
		MONTH_NAME_3: "March",
		MONTH_NAME_4: "April",
		MONTH_NAME_5: "May",
		MONTH_NAME_6: "June",
		MONTH_NAME_7: "July",
		MONTH_NAME_8: "August",
		MONTH_NAME_9: "September",
		MONTH_NAME_10: "October",
		MONTH_NAME_11: "November",
		MONTH_NAME_12: "December",
		SEASON_COMPLETED_TITLE: "Season Complete",
		SEASON_COMPLETED: "The current season is over. Check back soon for a new one!",
		TRIAL_MEMBERSHIP_SUCESS_TITLE: "Congratulations!",
		TRIAL_MEMBERSHIP_SUCESS_BODY: "You now have a trial membership until you reach level 10\n\nEnjoy!\n\nYour membership will be applied after the next loading screen. During this trial you will not receive a cloud mount or the monthly member gift box.",
		TRIAL_MEMBERSHIP_AUTO_BODY: "As a new wizard, you get to be a member until you reach",
		TRIAL_MEMBERSHIP_AUTO_FOOTER: "Make sure to explore all the cool things you can do as a member!",
		TRIAL_MEMBERSHIP_AUTO_TITLE: "You'll start as a member!",
		TRIAL_MEMBERSHIP_AUTO_LEVEL: "LEVEL 10!",
		SUMMARY_POPUP_EVOLUTION: "EVOLUTION!",
		SUMMARY_POPUP_NEW_HEARTS: "MORE HEARTS!",
		SUMMARY_POPUP_NEW_SPELL: "SPELL LEARNED!",
		SUMMARY_POPUP_SPELL_UNLOCKED: "{0} unlocked {1}!",
		SUMMARY_POPUP_SPELL_EVOLVED: "{0} evolved into {1}!",
		SUMMARY_POPUP_HEARTS_EARNED: "{0} gained {1} hearts!",
		SUMMARY_BATTLE_STARS_EARNED: "YOU GOT\n{0} BATTLE STARS EACH!",
		SUMMARY_BATTLE_STARS_EARNED_SINGULAR: "YOU GOT\n{0} BATTLE STARS!",
		OPEN_CHEST: "OPEN CHEST",
		GAINED_MEMBER_STARS: "GAINED\n{0}\nMEMBER STARS",
		BATTLE_STATUS_LEVEL: "Level {0}",
		BATTLE_STATUS_ALL_OUT_ATTACK: "ALL OUT ATTACK!",
		GAINED_MEMBER_STARS_EACH: "GAINED\n{0}\nMEMBER STARS EACH",
		MEMBERS_COLLECT_MORE_XP: "MEMBERS GET MORE STARS!",
		COUNTDOWN_SECONDS_LEFT: "SECONDS\nLEFT!",
		COUNTDOWN_MINUTES_LEFT: "MINUTES\nLEFT!",
		COUNTDOWN_HOURS_LEFT: "HOURS\nLEFT!",
		COUNTDOWN_DAYS_LEFT: "DAYS\nLEFT!",
		COUNTDOWN_SECOND_LEFT: "SECOND\nLEFT!",
		COUNTDOWN_MINUTE_LEFT: "MINUTE\nLEFT!",
		COUNTDOWN_HOUR_LEFT: "HOUR\nLEFT!",
		COUNTDOWN_DAY_LEFT: "DAY\nLEFT!",
		EXPLAIN_MEMBERSHIP_STUDENT_BODY_1: "Adventure the way only members can: ride an exclusive cloud mount, unlock member-only chests and explore the infamous dark tower!",
		EXPLAIN_MEMBERSHIP_STUDENT_BODY_2: "Members have more ways to get ahead like faster leveling with bonus stars, room to rescue 100 pets, mini-game power ups, and extra spins on the Wheel of Wonder!",
		EXPLAIN_MEMBERSHIP_STUDENT_BODY_3: "Members get to express themselves in all kinds of ways! Wear the coolest and craziest gear, style your character's look, and decorate the biggest houses with exclusive items.",
		EXPLAIN_MEMBERSHIP_STUDENT_BODY_4: "Only members get fun extras like monthly gift boxes filled with one-of-a-kind items, along with unique buddies, potions and morph marbles to use on your quest!",
		EXPLAIN_MEMBERSHIP_STUDENT_TITLE_1: "Explore like a member",
		EXPLAIN_MEMBERSHIP_STUDENT_TITLE_2: "Progress like a member",
		EXPLAIN_MEMBERSHIP_STUDENT_TITLE_3: "Express like a member",
		EXPLAIN_MEMBERSHIP_STUDENT_TITLE_4: "Have fun like a member",
		EXPLAIN_MEMBERSHIP_PARENT_TITLE_1: "Members get more",
		EXPLAIN_MEMBERSHIP_PARENT_BODY_0: "* They master more math!\n* Do more questions!\n* Play and learn longer!\n* Play more from home!\n* Achieve higher levels!",
		EXPLAIN_MEMBERSHIP_PARENT_BODY_1: "Expand the world of Prodigy by adding new stuff to earn and collect! With so much more to do, members answer 125% more questions on average than non-members. its the best way to have more fun and boost learning!",
		EXPLAIN_MEMBERSHIP_PARENT_BODY_HIGHLIGHT: "members answer 125% more questions",
		EXPLAIN_MEMBERSHIP_PARENT_FOOTER: "Get help from a parent and",
		MEMBERSHIP_AWESOME_GEAR: "Awesome Gear!",
		LVL: "Lvl .",
		MEMBERSHIP_AMAZING_THINGS: "Members Get Amazing Things!",
		NAME_APPRENTICE: "Apprentice",
		TOKEN_EXPIRE_MESSAGE: "You've been inactive for too long. Please sign in again.",
		LEVEL_LOCK_PURCHASE: "Whoops! You can only try to purchase the {0} when you are at least level {1}!",
		LEVEL_LOCK_EQUIP: "Whoops! You can only equip the {0} when you are at least level {1}!",
		SPELL: "Spell:",
		RANGE: "Range:",
		"CLASS_CODE-CONTENT": "If you are playing at school, ask your teacher for your class code.",
		CLASS_CODE_TITLE: "Class code: ",
		CLASS_CODE_ERROR: "Oops, we can't find that class.",
		CLASS_CODE_CORRECT: "We found your class!",
		CLASS_CODE_TEACHER: "Teachers: get your class code",
		CLASS_CODE_CONTINUE: "Continue",
		PARENT_EMAIL_CONTENT: "Have your parent link their account to yours to continue.\n You will get these amazing rewards!",
		PARENT_EMAIL_TEXT: "Get your parent and click here:",
		PARENT_EMAIL_BUTTON: "Link a Parent Account!",
		PARENT_EMAIL_MSG_CONTENT: "Once you've linked a Parent Account, log in again to get your rewards!",
		PARENT_EMAIL_MSG_BUTTON: "Log in",
		ARCHIVES_ENTRANCE_WELCOME: "Enter the Archives to find lost Pages!",
		ARCHIVES_ENTRANCE_LOCKOUT: "Oh no! You have already entered the Archives recently.",
		ARCHIVES_ENTRANCE_TIMER: "Come back in {0} minutes to enter again!",
		ARCHIVES_EXIT_TITLE: "Are you sure you want you leave\nthe Archives?",
		ARCHIVES_EXIT_PAGES: "Golden Pages found:",
		ARCHIVES_EXIT_WARNING: "If you leave without all 5 Golden Pages, you won't get a\nprize and you will have to start again!",
		ARCHIVES_EXIT_WARNING_COLLECTED: "You must leave through the portal or you won't get a\nprize and you will have to start again!",
		ARCHIVES_PRIZES_MESSAGE: "Collect Golden Pages each day and you will be awarded one of these prizes!\nDuplicate items will be turned into pages.",
		REDEEM_VOUCHER_CONTENT: "Enter your code below to redeem your reward!",
		REDEEM_VOUCHER_BUTTON: "Use Code",
		CODE_INCORRECT_LENGTH_ERROR: "Your code needs to be 7 characters.",
		CODE_INVALID_ERROR: "Whoops, that code is invalid or has already been used!",
		CODE_UNKNOWN_ERROR: "An error has occured. Please try again later.",
		ENTER_CODE_LABEL: "Code:",
		OPEN_URL_IN_APP: "Oops! You can't check out the video through the app. Please try again from a desktop computer.",
		CLASS_CODE_SELECT_TITLE: "Select your class",
		CLASS_CODE_SELECT_JOIN: "Join new class",
		CLASS_CODE_SELECT_PLAY: "Play!",
		CLASS_CODE_SELECT_CONTENT: "You are not in a class.",
		GREAT_HALL_KEYSTONES_POPUP: "Something is wrong with the keystone pedestals! Maybe you should check back later..."
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(7),
		o = i(0),
		r = function(t) {
			function e(e, i, n, a, o, r, s, l, c) {
				void 0 === c && (c = 0);
				var h = t.call(this, e, i, n, a) || this,
					u = h.add(new Phaser.Image(e, 0, 0, "atlas-18", "overlay-light"));
				return u.width = o, u.height = r, u.inputEnabled = !0, u.alpha = c, h.onProcess = l, h.onClick = s, u.events.onInputDown.add(h.clicked.bind(h)), h
			}
			return n(e, t), e.prototype.clicked = function(t, e) {
				o.Util.isValid(this.onClick) && this.onClick(this)
			}, e.prototype.process = function(t, e) {
				o.Util.isValid(this.onProcess) && this.onProcess(t, e)
			}, e
		}(a.Element);
	e.ClickableEvent = r
}, function(t) {
	t.exports = {
		seed: 0,
		gridWidth: 7,
		gridHeight: 7,
		minCritPathLength: 5,
		maxCritPathLength: 10,
		monsterIDs: [90, 92, 87, 122, 66, 69, 72, 63, 22, 98, 80, 83, 86, 120, 107, 11],
		minEncounters: 2,
		maxEncounters: 3,
		monsterDrops: [{
			ID: 19,
			type: "currency",
			N: 5
		}],
		goldenPages: 5,
		minPages: 5,
		maxPages: 10,
		extraPaths: {
			minLength: 1,
			maxLength: 1,
			minPaths: 2,
			maxPaths: 3
		},
		monsterRooms: [{
			tilemap: "m1",
			fsm: 58
		}, {
			tilemap: "m2",
			fsm: 59
		}, {
			tilemap: "m3",
			fsm: 60
		}, {
			tilemap: "m4",
			fsm: 61
		}, {
			tilemap: "m5",
			fsm: 62
		}, {
			tilemap: "m6",
			fsm: 63
		}, {
			tilemap: "m7",
			fsm: 64
		}, {
			tilemap: "m8",
			fsm: 65
		}, {
			tilemap: "m9",
			fsm: 66
		}],
		normalRooms: [{
			tilemap: "1",
			fsm: 68
		}, {
			tilemap: "2",
			fsm: 69
		}, {
			tilemap: "3",
			fsm: 70
		}, {
			tilemap: "4",
			fsm: 71
		}, {
			tilemap: "5",
			fsm: 72
		}, {
			tilemap: "6",
			fsm: 73
		}],
		endRoom: {
			tilemap: "end",
			fsm: 75
		}
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(19),
		o = i(33),
		r = function(t) {
			function e(e, i, n, a) {
				var r = this,
					s = new o.NPC(e);
				return s.init({
					name: "NPC_NAME_PUPPETMASTER"
				}), (r = t.call(this, e, i, s, 1, n, a) || this).nameText.GameObject.position.set(0, -250), r.setup(), r
			}
			return n(e, t), e.prototype.setup = function() {
				var t = "atlas-83",
					e = -61,
					i = -150;
				this.sprite = this.game.prodigy.create.element(this.sprites, 0, 0), this.armR = this.sprite.add(this.game.prodigy.create.sprite(-73, -124, t, "arm-right")), this.handR = this.sprite.add(this.game.prodigy.create.sprite(-83, -138, t, "hand-1")), this.body = this.sprite.add(this.game.prodigy.create.sprite(e, i, t, "body-0")), this.armL = this.sprite.add(this.game.prodigy.create.sprite(9, -132, t, "arm-left")), this.handL = this.sprite.add(this.game.prodigy.create.sprite(62, -132, t, "hand-0")), this.fingersL = this.sprite.add(this.game.prodigy.create.sprite(44, -163, t, "fingers-0")), this.head = this.sprite.add(this.game.prodigy.create.sprite(-41, -186, t, "head")), this.staff = this.sprite.add(this.game.prodigy.create.sprite(-114, -220, t, "staff-0")), this.walkTween = [], this.walkTween.push(new a.TweenController(this.head)), this.walkTween[0].set("y", [this.head.y, this.head.y - 2, this.head.y - 3, this.head.y - 2], 200, 9999), this.walkTween.push(new a.TweenController(this.body)), this.walkTween[1].set("frameName", ["body-0", "body-1", "body-2", "body-3"], 200, 9999), this.walkTween.push(new a.TweenController(this.body)), this.walkTween[2].set("y", [this.body.y, this.body.y - 4, this.body.y - 4, this.body.y - 2], 200, 9999), this.walkTween.push(new a.TweenController(this.armR)), this.walkTween[3].set("y", [this.armR.y, this.armR.y - 5, this.armR.y - 5, this.armR.y - 2], 200, 9999), this.walkTween.push(new a.TweenController(this.armR)), this.walkTween[4].set("x", [this.armR.x, this.armR.x + 1, this.armR.x, this.armR.x - 1], 200, 9999), this.walkTween.push(new a.TweenController(this.handR)), this.walkTween[5].set("y", [this.handR.y, this.handR.y - 3, this.handR.y - 3, this.handR.y - 1], 200, 9999), this.walkTween.push(new a.TweenController(this.handR)), this.walkTween[6].set("x", [this.handR.x, this.handR.x - 2, this.handR.x - 3, this.handR.x - 2], 200, 9999), this.walkTween.push(new a.TweenController(this.staff)), this.walkTween[7].set("y", [this.staff.y, this.staff.y - 3, this.staff.y - 4, this.staff.y - 3], 200, 9999), this.walkTween.push(new a.TweenController(this.armL)), this.walkTween[8].set("y", [this.armL.y, this.armL.y - 4, this.armL.y - 3, this.armL.y - 1], 200, 9999), this.walkTween.push(new a.TweenController(this.armL)), this.walkTween[9].set("x", [this.armL.x, this.armL.x - 1, this.armL.x - 1, this.armL.x - 1], 200, 9999), this.walkTween.push(new a.TweenController(this.handL)), this.walkTween[10].set("y", [this.handL.y, this.handL.y - 2, this.handL.y - 1, this.handL.y + 1], 200, 9999), this.walkTween.push(new a.TweenController(this.handL)), this.walkTween[11].set("x", [this.handL.x, this.handL.x - 1, this.handL.x - 1, this.handL.x], 200, 9999), this.walkTween.push(new a.TweenController(this.fingersL)), this.walkTween[12].set("frameName", ["fingers-0", "fingers-1", "fingers-2", "fingers-1"], 200, 9999), this.walkTween.push(new a.TweenController(this.fingersL)), this.walkTween[13].set("y", [this.fingersL.y, this.fingersL.y - 1, this.fingersL.y, this.fingersL.y + 1], 200, 9999), this.walkTween.push(new a.TweenController(this.fingersL)), this.walkTween[11].set("x", [this.fingersL.x, this.fingersL.x + 1, this.fingersL.x + 1, this.fingersL.x], 200, 9999), this.stand()
			}, e.prototype.walk = function() {
				this.stand()
			}, e.prototype.update = function() {
				t.prototype.update.call(this);
				for (var e = 0; e < this.walkTween.length; e++) this.walkTween[e].update()
			}, e.prototype.stand = function() {
				for (var t = 0; t < this.walkTween.length; t++) this.walkTween[t].start()
			}, e
		}(i(17).CreatureContainer);
	e.PuppetMaster = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, "GH1", "MAP_ACADEMY_GREATHALL", 640, 500, ["academy-GH2"], i.concat(["spine-68", "spine-69", "spine-71", "spine-73", "spine-78"])) || this
		}
		return n(e, t), e.prototype.setup = function(i, n, a) {
			var o = this;
			t.prototype.setup.call(this, i, n, a), this.addAreaEvent(i, n, {
				x: 640,
				y: 655,
				w: 1110,
				h: 150,
				rect: !0
			}, "academy-GH2", 640, 100), e.addEffects(i, n);
			var r = i.add.spine(640, 250, "spine-78");
			r.setToSetupPose(), r.setAnimationByName(0, "animation2", !0), n.content.add(r);
			var s = this.game.prodigy.create.sprite(r.x, r.y - 20, "atlas-18", "empty", {
				x: .5,
				y: .5
			}, null, 500, 140);
			s.events.onInputUp.add(function() {
				var t = o.game.prodigy.dialogue.create();
				t.setText(15), t.setText(16), t.start("gale")
			}), s.inputEnabled = !0, this.screen.content.add(s)
		}, e.addEffects = function(t, e) {
			var i = 265,
				n = 420,
				a = 1015,
				o = 420,
				r = t.add.spine(419, 212, "spine-68");
			r.setToSetupPose(), r.setAnimationByName(0, "animation", !0);
			var s = t.add.spine(861, 212, "spine-68");
			s.setToSetupPose(), s.setAnimationByName(0, "animation", !0), e.foreground.add(r), e.foreground.add(s);
			var l = t.add.spine(i, n, "spine-71");
			l.setToSetupPose(), l.setAnimationByName(0, "animation", !0), l.scale.x = -1;
			var c = t.add.spine(a, o, "spine-71");
			c.setToSetupPose(), c.setAnimationByName(0, "animation", !0), e.foreground.add(l), e.foreground.add(c);
			var h = t.add.spine(i, n, "spine-73");
			h.setToSetupPose(), h.setAnimationByName(0, "animation", !0), h.scale.x = -1;
			var u = t.add.spine(a, o, "spine-73");
			u.setToSetupPose(), u.setAnimationByName(0, "animation", !0), e.background.add(h), e.background.add(u)
		}, e
	}(i(10).Map);
	e.AcademyGH1 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		a = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		o = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		},
		r = this && this.__awaiter || function(t, e, i, n) {
			return new(i || (i = Promise))(function(a, o) {
				function r(t) {
					try {
						l(n.next(t))
					} catch (t) {
						o(t)
					}
				}

				function s(t) {
					try {
						l(n.throw(t))
					} catch (t) {
						o(t)
					}
				}

				function l(t) {
					t.done ? a(t.value) : new i(function(e) {
						e(t.value)
					}).then(r, s)
				}
				l((n = n.apply(t, e || [])).next())
			})
		},
		s = this && this.__generator || function(t, e) {
			var i, n, a, o, r = {
				label: 0,
				sent: function() {
					if (1 & a[0]) throw a[1];
					return a[1]
				},
				trys: [],
				ops: []
			};
			return o = {
				next: s(0),
				throw: s(1),
				return: s(2)
			}, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
				return this
			}), o;

			function s(o) {
				return function(s) {
					return function(o) {
						if (i) throw new TypeError("Generator is already executing.");
						for (; r;) try {
							if (i = 1, n && (a = n[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(a = a.call(n, o[1])).done) return a;
							switch (n = 0, a && (o = [0, a.value]), o[0]) {
								case 0:
								case 1:
									a = o;
									break;
								case 4:
									return r.label++, {
										value: o[1],
										done: !1
									};
								case 5:
									r.label++, n = o[1], o = [0];
									continue;
								case 7:
									o = r.ops.pop(), r.trys.pop();
									continue;
								default:
									if (!(a = (a = r.trys).length > 0 && a[a.length - 1]) && (6 === o[0] || 2 === o[0])) {
										r = 0;
										continue
									}
									if (3 === o[0] && (!a || o[1] > a[0] && o[1] < a[3])) {
										r.label = o[1];
										break
									}
									if (6 === o[0] && r.label < a[1]) {
										r.label = a[1], a = o;
										break
									}
									if (a && r.label < a[2]) {
										r.label = a[2], r.ops.push(o);
										break
									}
									a[2] && r.ops.pop(), r.trys.pop();
									continue
							}
							o = e.call(t, r)
						} catch (t) {
							o = [6, t], n = 0
						} finally {
							i = a = 0
						}
						if (5 & o[0]) throw o[1];
						return {
							value: o[0] ? o[1] : void 0,
							done: !0
						}
					}([o, s])
				}
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var l = i(9),
		c = i(6),
		h = i(31),
		u = function() {
			function t(t) {
				this.game = t
			}
			return t.prototype.setToken = function(t) {
				this.token = t
			}, t.prototype.getToken = function() {
				return this.token
			}, t.prototype.getAuthenticationData = function() {
				return r(this, void 0, void 0, function() {
					var t;
					return s(this, function(e) {
						return (t = {}).userID = this.game.prodigy.player.userID, t.token = this.token, [2, Promise.resolve(t)]
					})
				})
			}, t = n([l.injectable(), o(0, l.inject(c.EProdigyInjectionIdentifiers.Game)), a("design:paramtypes", [h.ProdigyGame])], t)
		}();
	e.LegacyAuthProvider = u
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(19),
		s = i(5),
		l = i(0),
		c = function(t) {
			function e(e, i, n, a, c, h, u, p, d, g, f, y) {
				void 0 === g && (g = !1);
				var m = t.call(this, e, i, n, a) || this;
				return m.sprite = null, m.active = !0, m.callback = null, m.animatedSprite = null, m.animatedSpritePos = null, m.animTween = null, m.sfxID = null, m.sfxClip = null, m.spriteOverlay = null, m.spriteOverlayX = 0, m.spriteOverlayY = 0, m.callback = u, m.sprite = m.game.prodigy.create.sprite(0, 0, c, h, null, m.onSpriteLoaded.bind(m), f, y), m.add(m.sprite), l.Util.isValid(p) && l.Util.isValid(d) && (m.animatedSprite = m.game.prodigy.create.sprite(d.x, d.y, c, p[0]), m.animatedSpritePos = d, m.add(m.animatedSprite), m.animTween = new r.TweenController(m.animatedSprite), m.animTween.set("frameName", p, 200, 9999), m.animTween.start()), m.sprite.inputEnabled = !0, m.sprite.events.onInputDown.add(m.onDown, m), g || (m.sprite.events.onInputUp.add(m.onUp, m), m.sprite.events.onInputOver.add(m.onOver, m)), m.sprite.events.onInputOut.add(m.onOut, m), o.GameConstants.get("GameConstants.Build.DEBUG") && l.Util.isValid(h) && (m.game.prodigy.automation.addTrigger({
					ID: "autoclick-" + h,
					context: m,
					callback: function() {
						return {
							x: m.worldPosition.x + .5 * m.sprite.width,
							y: m.worldPosition.y + .5 * m.sprite.height
						}
					}
				}), m.game.broadcaster.addAppListener(s.EDebugEvents.AutoClick, m.onDebugAutoClick.bind(m), m)), m.sfxID = 18, m.sfxClip = "pop", m.onDestroy.add(m.handleDestroy.bind(m)), m
			}
			return n(e, t), e.prototype.update = function() {
				t.prototype.update.call(this), l.Util.isValid(this.animTween) && this.animTween.update()
			}, e.prototype.setActive = function() {
				this.active = !0, this.sprite.tint = 16777215
			}, e.prototype.setInactive = function(t) {
				void 0 === t && (t = 5789784), this.active = !1, this.sprite.tint = t, this.sprite.y = 0, l.Util.isValid(this.animatedSprite) && (this.animatedSprite.y = this.animatedSpritePos.y), l.Util.isValid(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY)
			}, e.prototype.select = function() {
				this.sprite.tint = 7447253
			}, e.prototype.deselect = function() {
				this.active = !0, this.sprite.tint = 16777215, this.sprite.y = 0, l.Util.isValid(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY), l.Util.isValid(this.animatedSprite) && (this.animatedSprite.y = this.animatedSpritePos.y)
			}, e.prototype.isActive = function() {
				return this.active
			}, e.prototype.addOverlay = function(t, e, i, n) {
				l.Util.isValid(this.spriteOverlay) && this.spriteOverlay.destroy(), this.spriteOverlayX = t, this.spriteOverlayY = e, this.spriteOverlay = this.game.prodigy.create.sprite(t, e, i, n), this.add(this.spriteOverlay)
			}, e.prototype.onDown = function() {
				this.active && (this.game.prodigy.audio.playSFX(this.sfxID, this.sfxClip), l.Util.isValid(this.callback) && this.callback(), this.sprite.y = 0, l.Util.isValid(this.animatedSprite) && (this.animatedSprite.y = this.animatedSpritePos.y), l.Util.isValid(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY))
			}, e.prototype.handleDestroy = function() {
				o.GameConstants.get("GameConstants.Build.DEBUG") && l.Util.isValid(this.sprite.frameName) && (this.game.prodigy.automation.removeAllTriggers(this), this.game.broadcaster.removeAppListener(s.EDebugEvents.AutoClick, this))
			}, e.prototype.onUp = function() {
				this.active && this.sprite.input.pointerOver() && (this.sprite.y = -3, l.Util.isValid(this.animatedSprite) && (this.animatedSprite.y = this.animatedSpritePos.y - 3), l.Util.isValid(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY - 3))
			}, e.prototype.onOver = function() {
				this.active && (this.sprite.y = -3, l.Util.isValid(this.animatedSprite) && (this.animatedSprite.y = this.animatedSpritePos.y - 3), l.Util.isValid(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY - 3))
			}, e.prototype.onOut = function() {
				this.active && (this.sprite.y = 0, l.Util.isValid(this.animatedSprite) && (this.animatedSprite.y = this.animatedSpritePos.y), l.Util.isValid(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY))
			}, e.prototype.onSpriteLoaded = function() {
				l.Util.isValid(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY, this.spriteOverlay.x = this.spriteOverlayX)
			}, e.prototype.onDebugAutoClick = function(t) {
				l.Util.isValid(this.sprite.frameName) && (l.Util.isValid(t) ? t === this.sprite.frameName && this.onDown() : a.Logger.log("Button Tag: " + this.sprite.frameName, a.LogLevel.Verbose))
			}, e
		}(i(7).Element);
	e.Button = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(48),
		o = i(56),
		r = i(61),
		s = i(2),
		l = i(0),
		c = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this) || this;
				return o.canRevert = null, o.orientation = 0, o.assetData = null, o.assetMetadata = null, o.editable = !1, o.itemID = n, o.orientation = a, o.parentHouse = i, o.onItemDrag = new Phaser.Signal, o.onItemDropped = new Phaser.Signal, o.onItemMoved = new Phaser.Signal, o.onItemInputDown = new Phaser.Signal, o
			}
			return n(e, t), e.prototype.create = function() {
				t.prototype.create.call(this), this.updateItemData()
			}, e.prototype.setItemID = function(t) {
				this.itemID !== t && (this.itemID = t, this.updateItemData())
			}, e.prototype.updateItemData = function() {
				this.assetData = s.Items.getItem("dorm", this.itemID).data, this.assetMetadata = s.Items.getItem("dorm", this.itemID).metadata, this.updateSprite()
			}, e.prototype.getAssetName = function() {
				return l.Util.isValid(this.assetData) ? this.getOrientation() + "-dorm-" + this.itemID : ""
			}, e.prototype.isAnimated = function() {
				if (l.Util.isValid(this.assetMetadata)) {
					var t = this.getOrientation();
					return l.Util.isValid(this.assetMetadata.assets[t]) && l.Util.isValid(this.assetMetadata.assets[t].animations) && l.Util.isValid(this.assetMetadata.assets[t].animations.idle)
				}
				return !1
			}, e.prototype.canRotate = function() {
				return l.Util.isValid(this.assetData) && this.assetData.r > 0
			}, e.prototype.getScaleX = function() {
				return l.Util.isValid(this.assetData) && this.assetData.r > 0 && this.orientation > 1 ? -1 : 1
			}, e.prototype.updateSprite = function() {
				var t = this.gameObject.findComponent(o.Renderer);
				l.Util.isValid(t) ? t.setAsset(this.getOrientation() + "-dorm-" + this.itemID, this.assetMetadata.assets[this.getOrientation()]) : t = this.initRenderInterface(), t.setScale(this.getScaleX(), 1), t.hasAnimations() && t.playAnimation("idle", !0, Math.random() * t.getAnimationLength("idle"))
			}, e.prototype.initRenderInterface = function() {
				var t = r.RenderFactory.createRenderer(this.getOrientation() + "-dorm-" + this.itemID, this.assetMetadata.assets[this.getOrientation()]);
				return this.gameObject.addComponent(t), t.setAnchor(.5, 0), t.resetAfterDrag = !0, t
			}, e.prototype.rotateItem = function() {
				this.editable && this.canRotate() && (this.orientation += 1, this.orientation > 3 && (this.orientation = 0), this.updateSprite())
			}, e.prototype.setEditable = function(t) {
				void 0 === t && (t = !0), this.editable !== t && (this.editable = t, this.editable ? this.registerInputHandlers() : this.unregisterInputHandlers())
			}, e.prototype.registerInputHandlers = function() {
				var t = this.getRenderer();
				t.setInputEnabled(), t.enableDragging(!0, !0, 20, 20);
				var e = t.getEvents();
				l.Util.isValid(e) && (e.onDragStart.add(this.dragStarted, this), e.onDragUpdate.add(this.dragUpdated, this), e.onDragStop.add(this.dragStopped, this), e.onInputDown.add(this.itemFocused, this))
			}, e.prototype.unregisterInputHandlers = function() {
				var t = this.getRenderer();
				t.setInputEnabled(!1), t.disableDragging();
				var e = t.getEvents();
				l.Util.isValid(e) && (e.onDragStart.remove(this.dragStarted, this), e.onDragUpdate.remove(this.dragUpdated, this), e.onDragStop.remove(this.dragStopped, this), e.onInputDown.remove(this.itemFocused, this))
			}, e.prototype.getRenderer = function() {
				return this.gameObject.findComponent(o.Renderer)
			}, e.prototype.dragStarted = function() {
				this.gameObject.game.add.existing(this.gameObject), this.onItemDrag.dispatch()
			}, e.prototype.dragUpdated = function() {
				l.Util.isValid(this.parentHouse) && this.getRenderer().setAlpha(this.parentHouse.canPlaceItem(this) ? 1 : .5)
			}, e.prototype.dragStopped = function() {
				if (l.Util.isValid(this.parentHouse) ? this.parentHouse.content.add(this.gameObject) : this.gameObject.game.add.existing(this.gameObject), !l.Util.isValid(this.parentHouse) || this.parentHouse.canPlaceItem(this)) {
					var t = this.getRenderer().getWorld();
					this.onItemDropped.dispatch(this, t.x, t.y), this.onItemMoved.dispatch(this, this.gameObject.x, this.gameObject.y, t.x, t.y), this.canRevert = !0
				} else if (this.canRevert) {
					var e = this.getRenderer();
					t = e.getWorld();
					this.onItemDropped.dispatch(this, t.x, t.y), e.resetToOrigin(), e.setAlpha(1)
				} else this.gameObject.destroy()
			}, e.prototype.itemFocused = function() {
				this.onItemInputDown.dispatch()
			}, e.prototype.getOrientation = function() {
				return this.assetData.r > 0 && 1 == (1 & this.orientation) ? "horizontal" : "vertical"
			}, e
		}(a.Component);
	e.HouseItem = c
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(0),
		a = function() {
			function t() {}
			return t.getApiRootUrl = function() {
				var t = n.Util.getEnvironment();
				return "production" === t ? "https://api.prodigygame.com/" : "staging" === t ? "https://api.prodigygame.org/" : "local" === t ? "/" : "https://api.prodigygame.net/"
			}, t
		}();
	e.UrlRootProvider = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(0),
		r = function(t) {
			function e(e, i, n, o, r) {
				var s = t.call(this, e, i, r, {
					isModal: !1
				}, ["sfx-32"]) || this;
				return s.currentCreature = n, s.originalCreatureCopy = o, s.queuePostCreateCallback(s.openTween.bind(s), function() {
					s.okayButton.onUpCallback = s.closeTween.bind(s), s.resultsTitle.setText(s.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(s.getBannerLocKey()))
				}), s
			}
			return n(e, t), e.prototype.create = function() {
				this.isRequired() ? (t.prototype.create.call(this), this.background.visible = !1, o.Util.isValid(this.onCreateCallback) && this.onCreateCallback()) : this.close()
			}, e.prototype.setOnCreateCallback = function(t) {
				this.onCreateCallback = t
			}, e.prototype.openTween = function() {
				if (o.Util.isValid(this.uiRoot)) {
					var t = this.uiRoot;
					t.pivot.x = t.width / 2, t.pivot.y = t.height / 2, t.x += t.pivot.x, t.y += t.pivot.y, t.scale.x = .1, t.scale.y = .1, t.alpha = 0, this.game.add.tween(t.scale).to({
						x: 1,
						y: 1
					}, 200, Phaser.Easing.Back.Out, !0).frameBased = !1, this.game.add.tween(t).to({
						alpha: 1
					}, 120, "Linear", !0).frameBased = !1
				}
			}, e.prototype.closeTween = function() {
				if (o.Util.isValid(this.uiRoot)) {
					this.okayButton.setActive(!1);
					var t = this.game.add.tween(this.uiRoot).to({
						alpha: 0
					}, 200, "Linear", !0);
					t.frameBased = !1, t.onComplete.add(this.close.bind(this))
				}
			}, e.prototype.setActionText = function(t) {
				this.actionText.setText(t), this.game.add.tween(this.actionText).from({
					x: this.actionText.x + 20,
					alpha: 0
				}, 300, Phaser.Easing.Quadratic.Out, !0)
			}, e
		}(i(13).Menu);
	e.SummaryPopup = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(49),
		a = i(0),
		o = function() {
			function t(t) {
				this.game = t, a.Util.isValid(this.game.prodigy.player.data.storedMemberStars) || (this.game.prodigy.player.data.storedMemberStars = 0), a.Util.isValid(this.game.prodigy.player.data.memberStarsExpirationDate) || (this.game.prodigy.player.data.memberStarsExpirationDate = this.getNextExpirationDate().getTime())
			}
			return t.prototype.getNextExpirationDate = function() {
				var t = new Date,
					e = new Date;
				return 0 !== t.getDay() && e.setDate(t.getDate() + (7 - t.getDay())), e.setSeconds(59), e.setMinutes(59), e.setHours(23), e.setMilliseconds(0), e
			}, t.prototype.hasExpired = function() {
				return this.getNextExpirationDate().getTime() > this.game.prodigy.player.data.memberStarsExpirationDate && this.getNumberOfStoredStars() > 0
			}, t.prototype.giveStoredMemberStars = function(t) {
				this.game.prodigy.player.data.storedMemberStars += t, this.game.prodigy.player.data.memberStarsExpirationDate = this.getNextExpirationDate().getTime()
			}, t.prototype.obtainStoredMemberStars = function(t) {
				void 0 === t && (t = null);
				var e = this.game.prodigy.player.data.storedMemberStars;
				return this.game.prodigy.player.data.storedMemberStars = 0, e
			}, t.prototype.doLoseStars = function() {
				return !!this.hasExpired() && (this.game.prodigy.player.data.storedMemberStars = 0, this.game.prodigy.player.data.memberStarsExpirationDate = this.getNextExpirationDate().getTime(), !0)
			}, t.prototype.getNumberOfLevels = function(t) {
				var e = this.game.prodigy.player.getStars(),
					i = this.game.prodigy.player.getLevel(),
					a = this.game.prodigy.player.data.storedMemberStars / t;
				return n.Creature.levelFromStars(e + a) - i
			}, t.prototype.getNumberOfStoredStars = function() {
				var t = 0;
				return a.Util.isValid(this.game.prodigy.player.data.storedMemberStars) && (t = this.game.prodigy.player.data.storedMemberStars), t
			}, t.prototype.getStarJarTier = function() {
				return this.calculateStarJarTier(this.getNumberOfStoredStars())
			}, t.prototype.calculateStarJarTier = function(t) {
				return t > 90 ? 4 : t > 60 ? 3 : t > 30 ? 2 : t > 1 ? 1 : 0
			}, t.prototype.updateExpirationDate = function() {
				this.game.prodigy.player.data.memberStarsExpirationDate = this.getNextExpirationDate().getTime()
			}, t
		}();
	e.MemberStarController = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a, o = i(1),
		r = i(827),
		s = i(826),
		l = i(825),
		c = i(268),
		h = i(824),
		u = i(823),
		p = i(15),
		d = i(822),
		g = i(14),
		f = i(0);
	! function(t) {
		t[t.SeasonDetails = 0] = "SeasonDetails", t[t.SeasonLeaders = 1] = "SeasonLeaders", t[t.ClassLeaders = 2] = "ClassLeaders", t[t.BattleRequests = 3] = "BattleRequests", t[t.Bounties = 4] = "Bounties", t[t.Achievements = 5] = "Achievements", t[t.BadgesMenu = 6] = "BadgesMenu"
	}(a = e.ESocialMenuType || (e.ESocialMenuType = {}));
	var y = function(t) {
		function e(e, i, n) {
			var a = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
			return a.mailCount = 0, a.content = null, a.shieldElement = null, a.mailCount = a.game.prodigy.mail.getMailCount(), a.createMenu(n), a
		}
		return n(e, t), e.prototype.createMenu = function(t) {
			this.addTransparent();
			var e = t,
				i = this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService),
				n = [{
					icon: "challenge",
					top: i.getText("SOCIAL_MENU_SEASON_DETAILS_TOP"),
					bot: i.getText("SOCIAL_MENU_SEASON_DETAILS_BOT")
				}, {
					icon: "challenge",
					top: i.getText("SOCIAL_MENU_SEASON_LEADERS_TOP"),
					bot: i.getText("SOCIAL_MENU_SEASON_LEADERS_BOT")
				}, {
					icon: "leaderboard",
					top: i.getText("SOCIAL_MENU_SEASON_CLASS_LEADERS_TOP"),
					bot: i.getText("SOCIAL_MENU_SEASON_CLASS_LEADERS_BOT")
				}],
				r = 40;
			this.mailCount > 0 && (n.push({
				icon: "battle-request",
				top: i.getText("SOCIAL_MENU_BATTLE_REQUESTS_BUTTON_TOP"),
				bot: i.getText("SOCIAL_MENU_BATTLE_REQUESTS_BUTTON_BOT"),
				hasIndicator: !0
			}), e = a.BattleRequests, r = -10), n = n.concat([{
				icon: "bounty",
				top: "",
				bot: i.getText("SOCIAL_MENU_BOUNTIES_BUTTON_BOT")
			}, {
				icon: "award",
				top: "",
				bot: i.getText("SOCIAL_MENU_AWARDS_BUTTON_BOT")
			}, {
				icon: "badge",
				top: "",
				bot: i.getText("SOCIAL_MENU_BADGES_BUTTON_BOT"),
				hasIndicator: !0
			}]), this.createBaseSetup(30, 16, "bases/backgroundwood", "", n, !0, null, {
				closeButton: {
					key: "atlas-144",
					frameName: "buttons/close",
					offset: {
						x: -20,
						y: -23
					}
				},
				banner: {
					atlasID: 148,
					frameName: "banner/banner",
					width: 28
				},
				buttons: {
					iconOffset: {
						x: 60,
						y: 0
					},
					offset: {
						x: r + 120,
						y: 0
					}
				}
			}).children[2].visible = !1, this.shieldElement = this.game.prodigy.create.element(this, 0, 0), this.shieldElement.setRenderState(!1);
			var s = this.game.prodigy.create.sprite(150, 25, "atlas-151", "pvp-shield", null);
			this.game.prodigy.create.font(s, 30, 87, i.getText("AWARDS_TITLE"), {
				width: 140,
				align: "center",
				size: 16
			}), this.shieldElement.add(s), this.create(), this.setMode(e);
			for (var l = 0; l < n.length; l++) {
				var c = n[l];
				if (c.hasIndicator) {
					var h = this.game.prodigy.create.indicator(0, 0),
						u = this.buttons[l].sprite;
					u.addChild(h), this.buttons[l].indicator = h, h.visible = !1;
					var p = f.Util.getCenteredXY(h.width, 0, u.x, 0, u.width, 0);
					h.x = p.x, h.y = u.y - h.height, h.addTween(), h.visible = "battle-request" === c.icon && this.mailCount > 0 || "badge" === c.icon && !this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(g.Breadcrumbs.FEATURE_BADGES, g.Breadcrumbs.BREADCRUMB_CLICKED_BADGES_BUTTON)
				}
			}
			this.game.prodigy.mail.addUpdateCallback(this.updateMailIndicator.bind(this))
		}, e.prototype.updateMailIndicator = function(t) {
			for (var e = 0; e < this.buttons.length; e++) {
				var i = this.buttons[e];
				"battle-request" === i.data.icon && f.Util.isValid(i.indicator) && (i.indicator.visible = t > 0)
			}
		}, e.prototype.setMode = function(e) {
			t.prototype.setMode.call(this, e), f.Util.isValid(this.content) && (this.content instanceof d.BadgesMenu ? this.content.close() : this.content.destroy(), this.content = null);
			var i = this.mailCount > 0,
				n = i ? 0 : 1;
			e === a.SeasonDetails ? this.content = new h.SeasonDetails(this.game, this, 80, 200) : e === a.SeasonLeaders ? this.content = new u.SeasonLeaders(this.game, this, 80, 200) : i && e === a.BattleRequests ? this.content = new s.BattleRequestsPanel(this.game, this, 80, 200) : e + n === a.Bounties ? this.content = new l.BountiesPanel(this.game, this, 80, 200) : e + n === a.Achievements ? this.content = new r.AchievementsPanel(this.game, this, 80, 200) : e + n === a.BadgesMenu ? this.content = new d.BadgesMenu(this.game, this) : e === a.ClassLeaders && (this.content = new c.ClassLeadersPanel(this.game, this, 80, 200)), this.page = e, e >= a.BattleRequests && (this.page += n)
		}, e.prototype.close = function() {
			f.Util.isValid(this.content) && this.content instanceof d.BadgesMenu && this.content.close(), t.prototype.close.call(this)
		}, e
	}(p.RenderMenu);
	e.Social = y
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(11),
		r = i(4),
		s = i(15),
		l = i(5),
		c = i(2),
		h = i(14),
		u = i(0),
		p = i(97),
		d = function(t) {
			function e(i, n, o, r) {
				void 0 === o && (o = !1), void 0 === r && (r = []);
				var s = t.call(this, i, n, 0, 0, i.prodigy.textureMenu) || this;
				s.disableClose = o, s.forceLock = r, s.game.prodigy.network.sendToyEvent("open-map", 4);
				for (var l = function(t) {
						var n = e.BUTTONS_CONFIG[t];
						if (!u.Util.isValid(n.localized) || !n.localized) {
							u.Util.isValid(n.lockKey) && Object.defineProperty(n, "lock", {
								get: function() {
									return i.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(n.lockKey)
								}
							}), Object.defineProperty(n, "name", {
								get: function() {
									return i.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(n.nameKey)
								}
							}), Object.defineProperty(n, "summary", {
								get: function() {
									return i.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(n.summaryKey)
								}
							}), n.msg = {};
							var o = function(t) {
								var e = Number(t);
								Object.defineProperty(n.msg, t, {
									get: function() {
										return i.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(n.msgKeys[e])
									}
								})
							};
							for (var r in n.msgKeys) o(r);
							n.localized = !0
						}
					}, c = 0; c < e.BUTTONS_CONFIG.length; c++) l(c);
				return s.create(), s
			}
			return n(e, t), e.prototype.create = function() {
				t.prototype.create.call(this), this.addTransparent(), this.mapPanel = this.game.prodigy.create.panel(this, 180, 60, 23, 15, "shine2"), this.mapPanel.setRenderState(!0), this.map = this.game.prodigy.create.element(this, this.mapPanel.x, this.mapPanel.y), this.disableClose || this.game.prodigy.create.button(this.map, 1060 - this.mapPanel.x, 50 - this.mapPanel.y, "atlas-21", "close", this.close.bind(this)), this.startLoad(["atlas-27"], this.showContent.bind(this)), u.Util.isValid(this.titanAsset) || this.game.broadcaster.addAppListener(l.ETitanEvents.GotTitans, this.gotTitanCallback.bind(this), this, "Titan"), this.onClose = this.closeWorldMap.bind(this)
			}, e.prototype.closeWorldMap = function() {
				this.game.broadcaster.removeAppListener(l.ETitanEvents.GotTitans, this, "Titan")
			}, e.prototype.showContent = function() {
				this.mapPanel.add(this.game.prodigy.create.sprite(20, 20, "atlas-27", "map")), this.process();
				for (var t = 0; t < e.BUTTONS_CONFIG.length; t++) {
					var i = e.BUTTONS_CONFIG[t],
						n = !1;
					(u.Util.isValid(i.item) && 0 === this.game.prodigy.player.backpack.hasItem(i.item.type, i.item.ID) || this.forceLock.indexOf(i.nameKey) > -1 || o(i, "minLevel", 0) > this.game.prodigy.player.getLevel() || u.Util.isValid(i.isLocked) && i.isLocked(this.game)) && (n = !0);
					var a = void 0;
					if ((a = u.Util.isValid(i.animatedSprites) ? this.game.prodigy.create.button(this.map, i.x + 20, i.y + 20, "atlas-27", i.map, this.openLocation.bind(this, i, n), i.animatedSprites, i.animatedSpritePos) : this.game.prodigy.create.button(this.map, i.x + 20, i.y + 20, "atlas-27", i.map, this.openLocation.bind(this, i, n))).sprite.input.pixelPerfectOver = !0, a.sprite.input.pixelPerfectClick = !0, n && (a.sprite.tint = 5592405), u.Util.isValid(i.isNew) && i.isNew(this.game) && !n) {
						var s = this.map.add(this.game.prodigy.create.sprite(i.iconX - this.map.x, i.iconY - this.map.y, "atlas-21", "exclamation"));
						s.inputEnabled = !0, s.events = a.sprite.events, s.anchor.setTo(.5, .5), this.game.add.tween(s).to({
							y: s.y - 10
						}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, r.GameConstants.MAX_SAFE_INTEGER, !0)
					}
				}
				var c = this.game.prodigy.player;
				if (c.tutorial.getMenuValue(14) < 1) {
					c.tutorial.setMenuValue(14, 0, 1);
					var h = this.game.prodigy.dialogue.create();
					h.setText(18), h.start("noot")
				}!u.Util.isValid(this.titanAsset) && this.forceLock.indexOf("DISABLE_TITAN") < 0 && this.game.prodigy.titansNetworkHandler.getTitans(), this.game.broadcaster.broadcast(l.EFriendsListEvents.GetTotalFriendRequests, "FriendsList", [!1])
			}, e.prototype.openLocation = function(t, e) {
				if (e) !this.disableClose && "WORLD_THE_ACADEMY" !== t.nameKey && this.game.prodigy.classModeController.isClassMode() ? this.game.prodigy.open.classModeMessage(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(t.classCodeKey), null, null, t.name, t.classModeFrame, {
					isModal: !0
				}) : this.game.prodigy.open.message(t.lock, null, t.icon, t.name, null, {
					isModal: !1
				});
				else if (u.Util.isValid(t.tag)) {
					var i = "";
					u.Util.isValid(this.titanAsset) && (i = this.titanAsset.zone + "-Titan"), this.game.prodigy.open.zoneProgress(t, this.goTo.bind(this, t.target, t.clickEventName), this.goTo.bind(this, i, t.clickEventName))
				} else this.game.prodigy.open.messageBox(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("WORLD_MAP_CONFIRM_TRAVEL", t.summary), this.goTo.bind(this, t.target, t.clickEventName), null, t.icon, t.name, null, {
					isModal: !1
				})
			}, e.prototype.goTo = function(t, e) {
				u.Util.isValid(e) && this.game.broadcaster.broadcast(e, "UI"), this.game.broadcaster.removeAppListener(l.ETitanEvents.GotTitans, this, "Titan");
				var i = this.game.prodigy.world.getCurrentMap();
				if (u.Util.isValid(i) && i.indexOf("-") >= 0 && "archives" === i.split("-")[0]) {
					var n = this.game.prodigy.world.zones.archives;
					n.resetCooldown(), n.consumeGoldenPages()
				}
				"Dorm" === t ? (this.game.state.states[t].player = this.game.prodigy.player, this.game.prodigy.start(t)) : "Portal" === t ? p.ToyStore.openWebsite(this.game, "portal-btn") : t.indexOf("-") > 0 ? (this.game.prodigy.player.hasCompletedTutorial() || (this.game.prodigy.world.getZone("house").completeQuest(1), this.game.prodigy.player.onTutorialComplete()), this.game.prodigy.world.teleport(t)) : this.game.prodigy.start(t)
			}, e.prototype.gotTitanCallback = function(t) {
				if (u.Util.isValid(t.assetID)) {
					var i = c.Items.getItem("titan", t.assetID);
					if (u.Util.isValid(i)) {
						this.titanAsset = i.data;
						for (var n = void 0, a = 0; a < e.BUTTONS_CONFIG.length; a++)
							if (this.titanAsset.zone === e.BUTTONS_CONFIG[a].zone) {
								n = e.BUTTONS_CONFIG[a];
								break
							} if (u.Util.isValid(n)) {
							var o = this.game.prodigy.create.sprite(n.iconX - this.map.x - 40, n.iconY - this.map.y, "atlas-145", "titan-notification");
							this.map.add(o), o.inputEnabled = !0, o.events.onInputDown.add(this.openLocation.bind(this, n, !1)), o.anchor.setTo(.5, .5), this.game.add.tween(o).to({
								y: o.y - 10
							}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, r.GameConstants.MAX_SAFE_INTEGER, !0)
						}
					}
				}
				this.game.broadcaster.removeAppListener(l.ETitanEvents.GotTitans, this, "Titan")
			}, e.getZoneData = function(t) {
				return e.BUTTONS_CONFIG.find(function(e) {
					return e.zone === t
				})
			}, e.BUTTONS_CONFIG = [{
				nameKey: "WORLD_FIREFLY_FOREST",
				zone: "forest",
				tag: "forest",
				atlasID: 146,
				x: 170,
				y: 285,
				map: "btn-firefly",
				target: "forest-C8",
				summaryKey: "WORLD_FIREFLY_FOREST_DESC",
				lockKey: "WORLD_MAP_ZONE_LOCKED",
				msgKeys: {
					1: "WORLD_MAP_FOREST_QUEST_0",
					2: "WORLD_MAP_FOREST_QUEST_1",
					3: "WORLD_MAP_FOREST_QUEST_2",
					4: "WORLD_MAP_FOREST_QUEST_3",
					5: "WORLD_MAP_FOREST_QUEST_4",
					6: "WORLD_MAP_FOREST_QUEST_5",
					7: "WORLD_MAP_FOREST_QUEST_6",
					8: "WORLD_MAP_FOREST_QUEST_7",
					9: "WORLD_MAP_FOREST_QUEST_8",
					10: "WORLD_MAP_FOREST_QUEST_9",
					11: "WORLD_MAP_FOREST_QUEST_10",
					12: "WORLD_MAP_FOREST_QUEST_11"
				},
				iconX: 466,
				iconY: 419,
				isNew: function(t) {
					return !u.Util.isValid(t.prodigy.player.state.get("zone-forest"))
				}
			}, {
				nameKey: "WORLD_SHIVERCHILL_MOUNTAINS",
				zone: "shiverchill",
				tag: "shiverchill",
				atlasID: 149,
				x: 12,
				y: 76,
				map: "btn-shiverchill",
				target: "shiverchill-A10",
				summaryKey: "WORLD_SHIVERCHILL_MOUNTAINS_DESC",
				lockKey: "WORLD_MAP_ZONE_LOCKED",
				msgKeys: {
					1: "WORLD_MAP_SHIVERCHILL_QUEST_0",
					2: "WORLD_MAP_SHIVERCHILL_QUEST_1",
					3: "WORLD_MAP_SHIVERCHILL_QUEST_2",
					4: "WORLD_MAP_SHIVERCHILL_QUEST_3",
					5: "WORLD_MAP_SHIVERCHILL_QUEST_4",
					6: "WORLD_MAP_SHIVERCHILL_QUEST_5",
					7: "WORLD_MAP_SHIVERCHILL_QUEST_6",
					8: "WORLD_MAP_SHIVERCHILL_QUEST_7",
					9: "WORLD_MAP_SHIVERCHILL_QUEST_8",
					10: "WORLD_MAP_SHIVERCHILL_QUEST_9",
					11: "WORLD_MAP_SHIVERCHILL_QUEST_10",
					12: "WORLD_MAP_SHIVERCHILL_QUEST_11",
					13: "WORLD_MAP_SHIVERCHILL_QUEST_12",
					14: "WORLD_MAP_SHIVERCHILL_QUEST_13",
					15: "WORLD_MAP_SHIVERCHILL_QUEST_14"
				},
				iconX: 340,
				iconY: 260,
				isNew: function(t) {
					return !u.Util.isValid(t.prodigy.player.state.get("zone-shiverchill"))
				}
			}, {
				nameKey: "WORLD_SKYWATCH",
				zone: "skywatch",
				tag: "skywatch",
				atlasID: 150,
				x: 141,
				y: 16,
				map: "btn-skywatch",
				target: "skywatch-A1",
				summaryKey: "WORLD_SKYWATCH_DESC",
				lockKey: "WORLD_MAP_ZONE_LOCKED",
				msgKeys: {
					1: "WORLD_MAP_SKYWATCH_QUEST_0",
					2: "WORLD_MAP_SKYWATCH_QUEST_1",
					3: "WORLD_MAP_SKYWATCH_QUEST_2",
					4: "WORLD_MAP_SKYWATCH_QUEST_3",
					5: "WORLD_MAP_SKYWATCH_QUEST_4",
					6: "WORLD_MAP_SKYWATCH_QUEST_5",
					7: "WORLD_MAP_SKYWATCH_QUEST_6",
					8: "WORLD_MAP_SKYWATCH_QUEST_7",
					9: "WORLD_MAP_SKYWATCH_QUEST_8",
					10: "WORLD_MAP_SKYWATCH_QUEST_9",
					11: "WORLD_MAP_SKYWATCH_QUEST_10",
					12: "WORLD_MAP_SKYWATCH_QUEST_11",
					13: "WORLD_MAP_SKYWATCH_QUEST_12"
				},
				iconX: 562,
				iconY: 163,
				isNew: function(t) {
					return !u.Util.isValid(t.prodigy.player.state.get("zone-skywatch"))
				}
			}, {
				nameKey: "WORLD_DYNO_DIG_OASIS",
				zone: "dyno",
				x: 43,
				y: 347,
				map: "btn-dyno",
				target: "dyno-A0",
				summaryKey: "WORLD_DYNO_DIG_OASIS_DESC",
				lockKey: "WORLD_MAP_ZONE_LOCKED",
				classCodeKey: "WORLD_DYNO_DIG_OASIS_CLASS_MODE",
				classModeFrame: "popup-travel-dinodig",
				iconX: 287,
				iconY: 481,
				isNew: function(t) {
					return !1
				}
			}, {
				nameKey: "WORLD_EPICS_SUBSPACE",
				x: 670,
				y: 19,
				map: "btn-portal",
				target: "toyzone-B1",
				summaryKey: "WORLD_EPICS_SUBSPACE_DESC",
				lockKey: "WORLD_MAP_ZONE_LOCKED",
				iconX: 940,
				iconY: 150,
				animatedSprites: ["tz-1", "tz-2", "tz-3", "tz-4"],
				animatedSpritePos: {
					x: 31,
					y: -16
				},
				isNew: function(t) {
					try {
						return !u.Util.isValid(t.prodigy.player.state.get("zone-toyzone-0"))
					} catch (t) {
						return !0
					}
				}
			}, {
				nameKey: "WORLD_BONFIRE_SPIRE",
				zone: "bonfire_spire",
				tag: "bonfire",
				atlasID: 147,
				x: 546,
				y: 86,
				map: "btn-bonfire",
				target: "bonfire_spire-B1",
				summaryKey: "WORLD_BONFIRE_SPIRE_DESC",
				lockKey: "WORLD_MAP_ZONE_LOCKED",
				msgKeys: {
					1: "WORLD_MAP_BONFIRE_QUEST_0",
					2: "WORLD_MAP_BONFIRE_QUEST_1",
					3: "WORLD_MAP_BONFIRE_QUEST_2",
					4: "WORLD_MAP_BONFIRE_QUEST_3",
					5: "WORLD_MAP_BONFIRE_QUEST_4",
					6: "WORLD_MAP_BONFIRE_QUEST_5",
					7: "WORLD_MAP_BONFIRE_QUEST_6",
					8: "WORLD_MAP_BONFIRE_QUEST_7",
					9: "WORLD_MAP_BONFIRE_QUEST_8",
					10: "WORLD_MAP_BONFIRE_QUEST_9",
					11: "WORLD_MAP_BONFIRE_QUEST_10",
					12: "WORLD_MAP_BONFIRE_QUEST_11",
					13: "WORLD_MAP_BONFIRE_QUEST_12",
					14: "WORLD_MAP_BONFIRE_QUEST_13"
				},
				iconX: 836,
				iconY: 232,
				isNew: function(t) {
					return !u.Util.isValid(t.prodigy.player.state.get("zone-bonfire_spire"))
				}
			}, {
				nameKey: "WORLD_SHIPWRECK_SHORE",
				zone: "shipwreck_shore",
				tag: "shipwreck",
				atlasID: 148,
				x: 717,
				y: 102,
				map: "btn-pirate",
				icon: "zone-water",
				target: "shipwreck_shore-B12",
				summaryKey: "WORLD_SHIPWRECK_SHORE_DESC",
				lockKey: "WORLD_MAP_ZONE_LOCKED",
				msgKeys: {
					1: "WORLD_MAP_SHIPWRECK_QUEST_0",
					2: "WORLD_MAP_SHIPWRECK_QUEST_1",
					3: "WORLD_MAP_SHIPWRECK_QUEST_2",
					4: "WORLD_MAP_SHIPWRECK_QUEST_3",
					5: "WORLD_MAP_SHIPWRECK_QUEST_4",
					6: "WORLD_MAP_SHIPWRECK_QUEST_5",
					7: "WORLD_MAP_SHIPWRECK_QUEST_6",
					8: "WORLD_MAP_SHIPWRECK_QUEST_7",
					9: "WORLD_MAP_SHIPWRECK_QUEST_8",
					10: "WORLD_MAP_SHIPWRECK_QUEST_9",
					11: "WORLD_MAP_SHIPWRECK_QUEST_10"
				},
				iconX: 1004,
				iconY: 289,
				isNew: function(t) {
					return !u.Util.isValid(t.prodigy.player.state.get("zone-shipwreck_shore"))
				}
			}, {
				nameKey: "WORLD_DARK_TOWER",
				x: 598,
				y: 242,
				map: "btn-tower",
				target: "darktower-A1",
				summaryKey: "WORLD_DARK_TOWER_DESC",
				lockKey: "WORLD_MAP_ZONE_LOCKED",
				iconX: 886,
				iconY: 483,
				isNew: function(t) {
					return 0 === t.prodigy.player.getTowerProgress()
				}
			}, {
				nameKey: "WORLD_LAMPLIGHT_TOWN",
				zone: "lamplight",
				x: 315,
				y: 395,
				map: "btn-town",
				target: "lamplight-B3",
				summaryKey: "WORLD_LAMPLIGHT_TOWN_DESC",
				classCodeKey: "WORLD_LAMPLIGHT_TOWN_CLASS_MODE",
				classModeFrame: "popup-travel-lamplight",
				lockKey: "WORLD_MAP_ZONE_LOCKED",
				iconX: 641,
				iconY: 558,
				isNew: function(t) {
					return !u.Util.isValid(t.prodigy.player.state.get("zone-lamplight"))
				}
			}, {
				nameKey: "WORLD_THE_ACADEMY",
				x: 343,
				y: 134,
				map: "btn-academy",
				target: "academy-GH3",
				summaryKey: "WORLD_THE_ACADEMY_DESC",
				lockKey: "WORLD_MAP_ACADEMY_LEVEL_LOCKED",
				minLevel: 15,
				iconX: 680,
				iconY: 320,
				isNew: function(t) {
					return t.prodigy.player.backpack.hasItem("key", 22) <= 0
				},
				isLocked: function(t) {
					return !t.prodigy.breadcrumbManager.isBreadcrumbComplete(h.Breadcrumbs.BREADCRUMB_UNLOCK_ACADEMY, h.Breadcrumbs.BREADCRUMB_UNLOCK_ACADEMY_NOOT_DIALOGUE) && t.prodigy.player.backpack.hasItem("key", 22) <= 0
				}
			}, {
				nameKey: "WORLD_YOUR_HOUSE",
				zone: "house",
				x: 200,
				y: 498,
				map: "btn-house",
				target: "house-suburbs",
				summaryKey: "WORLD_YOUR_HOUSE_DESC",
				lockKey: "WORLD_MAP_ZONE_LOCKED",
				classCodeKey: "WORLD_YOUR_HOUSE_CLASS_MODE",
				classModeFrame: "popup-travel-home",
				clickEventName: l.EHouseEvents.ClickedHouseIcon,
				iconX: 420,
				iconY: 558,
				isNew: function(t) {
					return t.prodigy.player.hasCompletedTutorial() && !(t.prodigy.breadcrumbManager.isBreadcrumbComplete(h.Breadcrumbs.FEATURE_HOUSE_VISITING, h.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE) && t.prodigy.breadcrumbManager.isBreadcrumbComplete(h.Breadcrumbs.FEATURE_HOUSE_MOVING, h.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE))
				}
			}, {
				nameKey: "WORLD_LOST_ISLAND",
				x: 740,
				y: 275,
				map: "btn-activity",
				target: "activity_zone-B3",
				summaryKey: "WORLD_LOST_ISLAND_DESC",
				lockKey: "WORLD_MAP_ZONE_LOCKED",
				iconX: 1008,
				iconY: 394,
				isNew: function(t) {
					return !u.Util.isValid(t.prodigy.player.state.get("zone-activity_zone"))
				}
			}], e
		}(s.RenderMenu);
	e.WorldMap = d
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(299),
		o = i(198),
		r = i(871),
		s = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				return i.appearance = new r.WizardAppearance, i
			}
			return n(e, t), e.prototype.init = function(e) {
				return !!t.prototype.init.call(this, e) && (this.name = this.game.prodigy.gameContainer.resolve(a.LocalizedNameResolver), this.name.init(this.appearance.getName()), !0)
			}, e
		}(o.Character);
	e.Wizard = s
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(875),
		a = i(11),
		o = i(873),
		r = i(334),
		s = i(41),
		l = i(6),
		c = i(4),
		h = i(47),
		u = i(46),
		p = i(318),
		d = i(2),
		g = i(315),
		f = i(57),
		y = i(173),
		m = i(172),
		_ = i(297),
		v = i(296),
		E = i(171),
		b = i(170),
		O = i(126),
		I = i(35),
		T = i(12),
		A = i(0),
		C = i(1),
		S = i(162),
		w = function() {
			function t(t) {
				this.game = null, this.battleStats = null, this.game = t, this.battleStats = new p.BattleStats
			}
			return t.prototype.start = function(e, i, a, o, r, c) {
				void 0 === c && (c = null);
				var h = this.game.state.states.Battle,
					u = n({}, t.MOD_DEFAULTS, e),
					d = A.Util.isValid(c) ? c : this.getTeam(this.game.prodigy.player),
					g = this.game.prodigy.gameContainer.get(l.EProdigyInjectionIdentifiers.TimeManager);
				this.battleStats.startTime = g.getLocalTimeMs(), this.battleStats.endTime = p.BattleStats.INVALID_TIME, this.battleStats.energy = this.game.prodigy.player.getEnergy();
				var f = this.game.prodigy.player.getLevel(),
					y = A.Util.isValid(e.difficulty) ? e.difficulty : 5;
				f = Math.max(1, s.CombatFormulas.getEnemyLevel(this.game.prodigy.player.getLevel(), y)), h.teamB = this.initBattle(u, f), h.teamA = d, h.drops = u.drops, h.mods = u, h.runAwayCallback = i, h.victoryCallback = a, h.defeatCallback = o, h.defeatZone = A.Util.isValid(r) ? r : "house", h.screenName = u.screen, this.game.prodigy.start("Battle", {
					assets: t.getAssets(h.screenName, h.teamA, h.teamB)
				}), this.game.prodigy.network.sendZoneEvent("battle-start")
			}, t.prototype.startEpicArena = function(t, e, i) {
				var n = this;
				this.game.prodigy.player.healTeamMember(c.GameConstants.MAX_SAFE_INTEGER, t, null);
				var a = "";
				switch (t) {
					case 125:
						a = "battle-skywatch-inside";
						break;
					case 133:
						a = "battle-skywatch-outside";
						break;
					case 126:
						a = "battle-forest-outside";
						break;
					case 127:
						a = "battle-shiverchill-inside";
						break;
					case 128:
					case 131:
						a = "battle-shipwreck-underwater";
						break;
					case 132:
						a = "battle-skywatch-outside";
						break;
					case 129:
						a = "battle-bonfire-inside";
						break;
					default:
						a = "battle-bonfire-outside"
				}
				for (var o = {
						catch: !1,
						run: !1,
						screen: a,
						epicArena: 1,
						switchDisabled: !0,
						invincible: !1,
						starMod: 1,
						challengeLevel: e,
						getAllRewards: i,
						difficulty: 1
					}, r = [], s = this.game.prodigy.player.kennel.getPets(), l = 0; l < s.length; l++)
					if (s[l].ID === t) {
						r.push(new I.Monster(this.game, s[l]));
						break
					} return 0 === r.length || r[0].getCurrentHearts() <= 0 ? (C.Logger.log("The player do not have an valid EPIC to start this battle!", C.LogLevel.Error), !1) : (this.start(o, function() {
					n.endEpicArena(t, !0)
				}, function() {
					n.endEpicArena(t)
				}, function() {
					n.endEpicArena(t, !1)
				}, "epicId", r), !0)
			}, t.prototype.chooseAction = function(t, e, i, n, a, o, r, l) {
				var h = e.source.getCurrentBamSpells();
				if (h.length <= 0) return C.Logger.log("Enemy " + e.name + " has no spells. Skipping turn.", C.LogLevel.Warning), void l();
				if (Math.random() < t / 10) {
					for (var u = null, p = this.battleScore(e, i, !0, t), g = 0; g < n.getTeamSize(); g++)
						if (n.team[g] !== e && !n.isDefeated(n.team[g])) {
							var f = this.battleScore(n.team[g], i, !1);
							p < f && (u = g, p = f)
						} if (A.Util.isValid(u)) return void r(l, u)
				}
				if (c.GameConstants.get("GameConstants.Battle.ALWAYS_SWITCH")) {
					if (!n.isDefeated(n.team[1])) return void r(l, 1);
					if (!n.isDefeated(n.team[2])) return void r(l, 2)
				}
				var y = [],
					m = [];
				for (g = 0; g < h.length; g++) {
					var _ = d.Items.getItem("spell", h[g].ID).data;
					"native" === h[g].type && ("aoe" === _.targetType ? h[g].locked || m.push(h[g].ID) : y.push(h[g].ID))
				}
				var v = y[Phaser.Math.between(0, y.length - 1)],
					E = c.GameConstants.get("GameConstants.Battle.ALWAYS_CAST");
				if (E > -1 ? v = E : Math.random() <= t / 10 && n.getCurrentEnergy() >= 3 && m.length > 0 && (n.changeEnergy(-3), v = m[Phaser.Math.between(0, m.length - 1)]), !A.Util.isValid(v)) return C.Logger.log("Invalid attack, skipping turn", C.LogLevel.Warning), void l();
				o(e, a, l, v, s.CombatFormulas.rollMissChance(t, e.getSource().modifiers.miss))
			}, t.prototype.getBattleLevel = function(t) {
				void 0 === t && (t = null);
				var e = 0;
				if (A.Util.isValid(t))
					for (var i = 0; i < t.length; i++) e += t[i].getLevel();
				return Math.floor(e / t.length)
			}, t.prototype.getTeam = function(t) {
				return t.kennel.getTeam().filter(function(t) {
					return A.Util.isValid(t)
				})
			}, t.prototype.battleScore = function(t, e, i, n) {
				var a = s.CombatFormulas.getBestAttack(t.getSource().getAttacks(), t.getSource(), e.getSource(), 1 - n),
					o = s.CombatFormulas.getBestAttack(e.getSource().getAttacks(), e.getSource(), t.getSource(), 1 - n),
					r = s.CombatFormulas.calculateDamage(t.getSource(), e.getSource(), a, {}).damage;
				if (0 === r) return Number.NEGATIVE_INFINITY;
				var l = s.CombatFormulas.calculateDamage(e.getSource(), t.getSource(), o, {}).damage;
				if (0 === l) return Number.POSITIVE_INFINITY;
				var c = t.source.getMaxHearts();
				return i || (c = Math.max(c - l, 0)), c / l - t.source.getMaxHearts() / r
			}, t.prototype.chooseRandomMonster = function(t) {
				for (var e = 0, i = 0; i < t.length; i++) e += 1 / Math.max(1, A.Util.isValid(t[i].R) ? t[i].R : g.Monsters.getEncounterRate(t[i].ID));
				var n = Math.random() * e;
				e = 0;
				for (i = 0; i < t.length; i++)
					if (n < (e += 1 / Math.max(1, A.Util.isValid(t[i].R) ? t[i].R : g.Monsters.getEncounterRate(t[i].ID)))) return A.Util.copyObject(t[i]);
				return C.Logger.log("Returned a Peeko - this shouldn't happen", C.LogLevel.Warning), {
					ID: 1
				}
			}, t.prototype.initBattle = function(t, e) {
				var i, n = [],
					o = !A.Util.isValid(t.maxTeamSize),
					r = !A.Util.isValid(t.minTeamSize);
				if (r || (t.minTeamSize = Phaser.Math.clamp(t.minTeamSize, 1, 3)), o || (t.maxTeamSize = Phaser.Math.clamp(t.maxTeamSize, 1, 3)), i = r && o ? 1 : o ? t.minTeamSize : r ? t.maxTeamSize : t.minTeamSize >= t.maxTeamSize ? t.minTeamSize : this.game.rnd.integerInRange(t.minTeamSize, t.maxTeamSize), A.Util.isValid(t.boss)) {
					var l = A.Util.isValid(t.boss.levelOffset) ? t.boss.levelOffset : 0;
					t.boss.level = e + l, A.Util.isValid(t.boss.maxHP) || (t.boss.maxHP = 2 * s.CombatFormulas.getHPFromParams(e, 5));
					var c = {
						forest: _.ForestBoss,
						shiverchill: v.IceWyrmBoss,
						skywatch: m.CloudBoss,
						bonfire: y.BonfireBoss,
						shipwreck: E.OldOneBoss,
						pippet: b.PippetBoss,
						titan: O.TitanBoss
					};
					A.Util.isValid(t.boss.tag) ? ("bonfire" === t.boss.tag && (t.boss.maxHP = 3.25 * s.CombatFormulas.getHPFromParams(e, 5)), n.push(new c[t.boss.tag](this.game, t.boss))) : n.push(new f.Boss(this.game, t.boss));
					for (var h = 0; h < i - 1; h++) {
						var u = this.initBackupEnemy(t.boss.bench, t, e);
						A.Util.isValid(u) && n.push(u)
					}
				} else {
					var p = this.initMainEnemy(t, e);
					A.Util.isValid(p) && n.push(p);
					for (h = 0; h < i - 1; h++) {
						var d = a(t, "bench", p.source.bench);
						u = this.initBackupEnemy(d, t, e);
						A.Util.isValid(u) && n.push(u)
					}
				}
				if (A.Util.isValid(t.pets))
					for (h = 0; h < t.pets.length; h++) {
						var g = t.pets[h];
						A.Util.isValid(g.level) && !t.scale || (g.level = e), n.push(new I.Monster(this.game, g))
					}
				n.length > 3 && (n.length = 3);
				var T = n.length;
				if (A.Util.isValid(t.opponent))
					for (h = 0; h < t.opponent.length && h < 3; h++) t.scale && (A.Util.isValid(t.opponent[h].data) || (t.opponent[h].data = {}), t.opponent[h].data.level = e), T >= 3 ? n[T - h] = this.initWizardOpponent(t.opponent[h]) : (n.push(this.initWizardOpponent(t.opponent[h])), T += 1);
				if (A.Util.isValid(t.teamModifiers))
					for (h = 0; h < n.length; h++)
						for (var C in t.teamModifiers) n[h].updateModifier(C, t.teamModifiers[C]);
				return n
			}, t.prototype.initMainEnemy = function(t, e) {
				var i = null,
					n = e;
				if (A.Util.isValid(t.encounter) && t.encounter.length > 0) {
					var a = t.encounter[0];
					i = {
						ID: a.ID,
						level: a.level,
						drops: A.Util.isValid(a.drops) ? a.drops : [],
						nickname: a.nickname
					}
				} else {
					if (!(A.Util.isValid(t.pets) && t.pets.length > 0)) return null;
					i = {
						ID: t.pets[0].ID,
						level: t.pets[0].level
					}, t.pets.shift()
				}
				return A.Util.isValid(i.level) && !t.scale && (n = i.level), this.initEnemy(i, t, n)
			}, t.prototype.initBackupEnemy = function(t, e, i) {
				if (!A.Util.isValid(t)) return null;
				for (var n = Math.random() * o(t, function(t) {
						return t.weight
					}), a = 0, r = 0; r < t.length; r++)
					if (n < (a += t[r].weight)) return this.initEnemy({
						ID: t[r].petID
					}, e, i)
			}, t.prototype.initEnemy = function(t, e, i) {
				var n = i;
				A.Util.isValid(e.level) && (n = e.level), n = Phaser.Math.clamp(n, A.Util.isValid(e.minLevel) ? e.minLevel : 1, A.Util.isValid(e.maxLevel) ? e.maxLevel : 100);
				var a = new I.Monster(this.game, t);
				return a.generate(n, 0), a
			}, t.getAssets = function(t, e, i) {
				for (var n = [t, "atlas-167", "bgm-2", "bgm-1"], a = 0; a < e.length; a++) e[a] instanceof T.Player || (e[a] instanceof I.Monster ? n = n.concat(u.MonsterContainer.getAssets(e[a])) : e[a] instanceof f.Boss && (n = n.concat(h.BossContainer.getAssets(e[a])))), n = n.concat(e[a].getSpellAssets());
				for (a = 0; a < i.length; a++) i[a] instanceof T.Player || (i[a] instanceof I.Monster ? n = n.concat(u.MonsterContainer.getAssets(i[a])) : i[a] instanceof f.Boss && (n = n.concat(h.BossContainer.getAssets(i[a])))), n = n.concat(i[a].getSpellAssets());
				return n = r(n)
			}, t.prototype.initWizardOpponent = function(t) {
				var e = new S.Wizard(this.game);
				return e.init(t), e
			}, t.prototype.endEpicArena = function(t, e) {
				var i = this;
				void 0 === e && (e = !1);
				var n = "toyzone-B1";
				switch (t) {
					case 125:
					case 126:
					case 127:
					case 128:
					case 129:
						n = "toyzone-B2";
						break;
					case 130:
					case 131:
					case 132:
					case 133:
						n = "toyzone-A1"
				}
				for (var a = {
						x: void 0,
						y: void 0
					}, o = n.split("-"), r = this.game.prodigy.world.zones[o[0]].maps[o[1]], s = 0; s < r.TOY_SPAWN_DATA.length; ++s)
					if (r.TOY_SPAWN_DATA[s].ID === t) {
						a = r.TOY_SPAWN_DATA[s].path;
						break
					} e ? this.game.prodigy.world.teleport(n, a.x, a.y) : this.game.prodigy.player.healTeamMember(c.GameConstants.MAX_SAFE_INTEGER, t, function() {
					i.game.prodigy.world.teleport(n, a.x, a.y)
				})
			}, t.MOD_DEFAULTS = {
				invincible: !1,
				scale: !1,
				run: !0,
				difficulty: 3,
				dropsDisabled: !1,
				starMod: 1,
				catch: !0,
				switchDisabled: !1,
				itemUsed: !1,
				drops: [],
				encounter: null,
				opponent: null,
				boss: null,
				pets: null,
				dmgMod: 0,
				events: [],
				intro: null,
				allowMember: !0,
				level: null,
				unique: !1,
				potionMode: !0
			}, t
		}();
	e.BattleController = w
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
		var a, o = arguments.length,
			r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
		else
			for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
		return o > 3 && r && Object.defineProperty(e, i, r), r
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(9),
		o = function() {
			function t() {
				this.player = null, this.authToken = null
			}
			return t.prototype.initialize = function(t, e) {
				this.player = t, this.authToken = e
			}, t.prototype.getPlayer = function() {
				return this.player
			}, t.prototype.getAuthToken = function() {
				return this.authToken
			}, t = n([a.injectable()], t)
		}();
	e.LoggedInPlayerDataProvider = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		a = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		o = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var r = i(9),
		s = i(6),
		l = i(99),
		c = function() {
			function t(t) {
				this.environmentProvider = null, this.environmentProvider = t
			}
			return t.prototype.getAPIRootUrl = function() {
				switch (this.environmentProvider.getCurrentEnvironment()) {
					case l.EEnvironment.Production:
						return "https://api.prodigygame.com/";
					case l.EEnvironment.Staging:
						return "https://api.prodigygame.org/";
					case l.EEnvironment.Dev:
						return "https://api.prodigygame.net/";
					default:
						return "/"
				}
			}, t.prototype.getRootUrl = function() {
				switch (this.environmentProvider.getCurrentEnvironment()) {
					case l.EEnvironment.Production:
						return "https://www.prodigygame.com/";
					case l.EEnvironment.Staging:
						return "https://www.prodigygame.org/";
					case l.EEnvironment.Dev:
						return "https://www.prodigygame.net/";
					default:
						return "/"
				}
			}, t.prototype.getCDNRootUrl = function() {
				return "https://cdn.prodigygame.com"
			}, t = n([r.injectable(), o(0, r.inject(s.EProdigyInjectionIdentifiers.EnvironmentProvider)), a("design:paramtypes", [Object])], t)
		}();
	e.URLProvider = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		a = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(9),
		r = function() {
			function t() {
				this.uuid = "";
				var t = (new Date).getTime();
				"undefined" != typeof performance && "function" == typeof performance.now && (t += performance.now()), this.uuid = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(e) {
					var i = (t + 16 * Math.random()) % 16 | 0;
					return t = Math.floor(t / 16), ("x" === e ? i : 3 & i | 8).toString(16)
				})
			}
			return t.prototype.getUUID = function() {
				return this.uuid
			}, t = n([o.injectable(), a("design:paramtypes", [])], t)
		}();
	e.UUIDProvider = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(32),
		r = i(888),
		s = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				i.store = {
					items: [{
						ID: 41,
						type: "hat"
					}, {
						ID: 67,
						type: "weapon"
					}, {
						ID: 37,
						type: "outfit"
					}, {
						ID: 15,
						type: "pet"
					}, {
						ID: 35,
						type: "pet"
					}]
				}, Object.defineProperty(i.store, "name", {
					get: function() {
						return e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("STORE_NAME_DYNO")
					}
				}), i.name = "Dyno", i.ID = "dyno", i.bgmID = 3, i.battleBG = "battle-shipwreck-outside", i.onFaint = "dyno-A0", i.questHub = "dyno-A0", i.states = ["daily"];
				return i.maps = {
					A0: new r.DynoA0(i, ["tileset-generic", "tileset-outsidesnow", "atlas-91", "tileset-town", "atlas-122", "tileset-volcano", "battle-shipwreck-outside", "tileset-generic-new", "tileset-ship-exterior", "tileset-water-new"])
				}, i
			}
			return n(e, t), e.AUDIO = [{
				tag: "voice-9",
				s: 0,
				d: 3
			}, {
				tag: "voice-9",
				s: 3,
				d: 2
			}, {
				tag: "voice-9",
				s: 5,
				d: 2
			}, {
				tag: "voice-9",
				s: 7,
				d: 2
			}, {
				tag: "voice-9",
				s: 9,
				d: 2
			}, {
				tag: "voice-9",
				s: 11,
				d: 3
			}], e.DATA = {
				ID: 6,
				tag: "dyno-A0",
				zoneName: "zone-dino",
				atlas: "atlas-114",
				icon: "icon-fossil-1",
				shopkeeperTag: "atlas-53",
				shopkeeperFrame: "face_0",
				scaleX: .89,
				scaleY: .89,
				battle: {
					screen: "bg-battle-dino",
					encounter: [{
						ID: 105
					}, {
						ID: 106
					}, {
						ID: 107
					}, {
						ID: 108
					}, {
						ID: 109
					}, {
						ID: 110
					}, {
						ID: 111
					}, {
						ID: 112
					}]
				},
				quests: []
			}, e
		}(o.Zone);
	e.DynoZone = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(98),
		s = i(82),
		l = i(60),
		c = i(2),
		h = i(282),
		u = i(0),
		p = i(167),
		d = i(886),
		g = function(t) {
			function e(e) {
				var i = t.call(this, e, "game-dino", "atlas-15", ["atlas-15", "bgm-5", "atlas-84", "reduced-outfit-male-39", "reduced-outfit-female-39", "sfx-12"]) || this;
				return i.area = [
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
				], i.digging = !1, i.walkSpeed = 1, i.fossilOff = 0, i.power = 0, i.targetDigs = 0, i.digs = 0, i
			}
			return n(e, t), e.prototype.create = function() {
				t.prototype.create.call(this), this.game.prodigy.audio.pauseBGM(), this.game.prodigy.player.saveEnabled = !1
			}, e.prototype.screenSetup = function() {
				t.prototype.screenSetup.call(this), this.path = new h.Pathfinder(this.area), this.bg = this.game.prodigy.create.sprite(0, 0, "atlas-15", "bg"), this.bg.inputEnabled = !0, this.bg.events.onInputDown.add(this.listener, this), this.background.add(this.bg), this.npc = new r.QuestNPC(this.game, this.content, 130, 640, {
					atlas: "scoog",
					atlasID: 84,
					name: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NPC_NAME_SCOOG")
				}), this.playerContainer = this.game.prodigy.create.player(this.content, this.game.prodigy.player, 1, 600, 350, !1, !0), this.playerContainer.forceOutfit(39), this.playerContainer.setup(null, !0), this.playerContainer.hideName();
				for (var e = 0; e < this.playerContainer.sprites.children.length; e++) this.playerContainer.sprites.children[e] instanceof s.Sprite && (this.playerContainer.sprites.children[e].inputEnabled = !0, this.playerContainer.sprites.children[e].events.onInputDown.add(this.listener, this));
				this.content.add(this.game.prodigy.create.sprite(694, 32, "atlas-15", "platform")), this.digBtn = this.game.prodigy.create.element(this.content, this.playerContainer.x - 40, this.playerContainer.y - 160);
				var i = this.digBtn.add(this.game.prodigy.create.sprite(0, 0, "atlas-21", "icon-base"));
				i.inputEnabled = !0, i.events.onInputDown.add(this.dig.bind(this), this);
				var n = this.digBtn.add(this.game.prodigy.create.sprite(0, 0, "icon-key-1"));
				this.game.add.tween(n).to({
					y: -10
				}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0), this.digBtn.visible = !1, this.timer = this.game.prodigy.create.timer(this.foreground, 15, 15), this.timer.setTime(9e4), this.timer.setMsg(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_ITEMS_RECOVERED", 0)), this.botPanel = this.game.prodigy.create.panel(this.foreground, 965, 605, 6, 2), this.botPanel.alpha = .8, this.rewards = [], this.setNextDig(), this.menu = new d.DinoDigMenu(this.game, this.content, this.showBoosts.bind(this), this.showInstructions.bind(this), this.toDino.bind(this)), this.showUI(!1), this.digging = !1
			}, e.prototype.listener = function() {
				if (this.playGame && !this.digging) {
					if (this.game.input.x === this.playerContainer.x && this.game.input.y === this.playerContainer.y) return;
					this.path.findPath(this.playerContainer.x, this.playerContainer.y, this.game.input.x, this.game.input.y, this.onPathFound.bind(this))
				}
			}, e.prototype.shutdown = function() {
				t.prototype.shutdown.call(this);
				try {
					this.bg.destroy(), this.bg = null
				} catch (t) {}
				try {
					this.playerContainer.destroy(), this.playerContainer = null
				} catch (t) {}
			}, e.prototype.showUI = function(t) {
				this.npc.visible = this.playerContainer.visible = this.timer.visible = this.botPanel.visible = t, this.menu.visible = !t
			}, e.prototype.onPathFound = function(t) {
				if (u.Util.isValid(t)) {
					var e = Math.floor(t[0].x / 20),
						i = Math.floor(t[0].y / 20);
					this.digBtn.visible = !1, 1 === this.area[i][e] && this.playerContainer.setPath(t, this.askDig.bind(this, !0, e, i), this.walkSpeed)
				}
			}, e.prototype.showInstructions = function() {
				this.showUI(!0);
				var t = this.game.prodigy.dialogue.create();
				t.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_INSTRUCTIONS_0"),
					face: 0,
					anim: 4
				}), t.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_INSTRUCTIONS_1"),
					face: 2
				}), t.setText({
					callback: this.dig.bind(this)
				}), t.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_INSTRUCTIONS_2"),
					face: 0
				}), t.setText({
					callback: this.showDigButton.bind(this)
				}), t.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_INSTRUCTIONS_3"),
					face: 0
				}), t.setText({
					callback: this.dig.bind(this)
				}), t.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_INSTRUCTIONS_4"),
					face: 1
				}), t.setText({
					callback: this.timer.blink.bind(this.timer)
				}), t.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_INSTRUCTIONS_5"),
					face: 1,
					anim: 2
				}), t.setText({
					callback: this.showUI.bind(this, !1)
				}), t.start("scoog")
			}, e.prototype.showDigButton = function() {
				this.digBtn.visible = !0
			}, e.prototype.showBoosts = function() {
				var t = e.getNewFossils(this.game.prodigy.player.backpack);
				this.showUI(!0);
				var i = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					n = [{
						icon: {
							type: "boots",
							ID: 7
						},
						d: i.getText("BOOST_DESCRIPTION_WALK_FASTER")
					}, t.length > 0 ? {
						icon: {
							type: "fossil",
							ID: 1
						},
						d: i.getText("BOOST_DESCRIPTION_MORE_FOSSILS")
					} : null, {
						icon: {
							type: "key",
							ID: 1
						},
						d: i.getText("BOOST_DESCRIPTION_DIG_FASTER")
					}];
				this.game.prodigy.open.boostSelect(n, this.startGame.bind(this))
			}, e.getNewFossils = function(t) {
				for (var e = [], i = c.Items.getCategoryItems("fossil"), n = t.getBackpackItemsByType("fossil"), a = 0; a < i.length; a++) {
					var o = i[a];
					if (!(t.hasItem("fossil", o.ID + 12) > 0)) {
						for (var r = o.data.count, s = 0; s < n.length; s++)
							if (n[s].ID === o.ID) {
								r -= u.Util.isValid(n[s].N) ? n[s].N : 1;
								break
							} for (s = 0; s < r; s++) e.push(o.ID)
					}
				}
				return e
			}, e.prototype.startGame = function(t) {
				this.walkSpeed = 0 === t ? 1.5 : 1, this.fossilOff = 1 === t ? .1 : 0, this.power = 2 === t ? 2 : 0, this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_START"), this.begin.bind(this))
			}, e.prototype.begin = function() {
				this.playGame = !0, this.timer.start(9e4, this.endGame.bind(this)), this.game.prodigy.audio.playBGM(5, !0)
			}, e.prototype.setNextItem = function() {
				var t = Math.random();
				if (t < .2) this.item = {
					type: "gold",
					N: 10
				}, this.targetDigs = 3;
				else if (t < .33) this.item = {
					type: "gold",
					N: 25
				}, this.targetDigs = 4;
				else if (t < this.fossilOff + .66) {
					var i = e.getNewFossils(this.game.prodigy.player.backpack);
					i.length <= 0 ? (this.item = {
						type: "gold",
						N: 50
					}, this.targetDigs = 5) : (this.item = {
						type: "fossil",
						ID: i[Math.floor(Math.random() * i.length)]
					}, this.targetDigs = 8)
				} else {
					for (var n = []; n.length <= 0;) n = c.Items.getItemDrops();
					this.item = n[0];
					var a = this.item.type;
					this.targetDigs = "outfit" === a ? 10 : "weapon" === a ? 12 : "item" === a ? 5 : 8
				}
				this.targetDigs -= this.power
			}, e.prototype.setNextDig = function() {
				for (this.setNextItem(), this.targetCoords = {
						x: 0,
						y: 0
					}; 1 !== this.area[this.targetCoords.y][this.targetCoords.x];) this.targetCoords.x = Math.floor(64 * Math.random()), this.targetCoords.y = Math.floor(36 * Math.random())
			}, e.prototype.askDig = function(t, e, i) {
				t && (this.digX = e, this.digY = i, this.dig())
			}, e.prototype.dig = function() {
				this.game.prodigy.audio.playSFX(18, "dig");
				var t, e = 100;
				u.Util.isValid(this.digX) && (e = Phaser.Math.distance(this.digX, this.digY, this.targetCoords.x, this.targetCoords.y)), this.digging || (this.digging = !0, e < 3 && (this.timer.setMsg(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_FOUND_ITEM")), (t = this.game.prodigy.create.sprite(20 * this.digX, 20 * this.digY, "atlas-15", "hole1")).visible = !0, this.background.add(t), this.digs = 0)), e < 3 && u.Util.isValid(t) && (t.frameName = "hole" + Math.max(1, Math.floor(this.digs / this.targetDigs * 3) + 1));
				var i = "";
				i = e < 3 ? this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_DISTANCE_DIG") : e < 5 ? this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_DISTANCE_HOT") : e < 8 ? this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_DISTANCE_WARM") : e < 15 ? this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_DISTANCE_COLD") : this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_DISTANCE_ICE_COLD"), u.Util.isValid(this.text) && this.text.destroy(), this.text = this.game.prodigy.create.font(this.foreground, this.playerContainer.x - 100, this.playerContainer.y - 100, i, {
					width: 200,
					align: "center"
				}), this.game.add.tween(this.text).to({
					y: this.playerContainer.y - 200,
					alpha: 0
				}, 2e3, Phaser.Easing.Quadratic.Out).start();
				var n = this.game.prodigy.player.backpack.getKeyItemData(1, "lvl"),
					o = 2 === n ? 12 : 3 === n ? 16 : 8;
				this.playerContainer.dig(o, this.digEnd.bind(this, e)), this.digBtn.visible = !1
			}, e.prototype.digEnd = function(t) {
				if (t < 3 && this.timer.isInProgress())
					if (this.digs++, this.digs >= this.targetDigs) {
						this.game.prodigy.audio.playSFX(18, "heart"), this.rewards.push(this.item), this.timer.setMsg(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_ITEMS_RECOVERED", this.rewards.length));
						var e = this.game.prodigy.icon.createFromData(this.item, 20 * this.digX + 10, 20 * this.digY + 10, {
							x: 0,
							y: 0
						});
						this.foreground.add(e), e.scale.x = e.scale.y = 0;
						var i = (this.rewards.length - 1) % 5 * 60 + 995,
							n = 50 * Math.floor((this.rewards.length - 1) / 5) + 630;
						this.game.add.tween(e.scale).to({
							x: 1.2,
							y: 1.2
						}, 1e3, Phaser.Easing.Quadratic.Out).to({
							x: .8,
							y: .8
						}, 1e3, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(e).to({
							x: i,
							y: n
						}, 2e3, Phaser.Easing.Quadratic.Out).start(), this.rewards.length % 3 == 0 && this.extendTime(), this.digging = !1, this.setNextDig()
					} else this.digBtn.x = this.playerContainer.x - 40, this.digBtn.y = this.playerContainer.y < 160 ? this.playerContainer.y : this.playerContainer.y - 160, this.digBtn.visible = !0;
				else this.digging = !1
			}, e.prototype.extendTime = function() {
				this.timer.add(15e3), this.timer.pause();
				var t = this.game.prodigy.dialogue.create();
				t.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_EXTEND_TIME"),
					face: 1,
					anim: 4,
					audio: p.DynoZone.AUDIO[1]
				}), t.setText({
					callback: this.resumeTimer.bind(this)
				}), t.start("scoog")
			}, e.prototype.resumeTimer = function() {
				this.timer.resume()
			}, e.prototype.endGame = function() {
				this.game.prodigy.audio.playSFX(12, "bell"), this.game.prodigy.audio.pauseBGM(), this.digBtn.visible = !1, this.playGame = !1, this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_TIMES_UP"), this.end.bind(this))
			}, e.prototype.end = function() {
				var t = this.game.prodigy.dialogue.create();
				this.rewards.length > 0 ? (t.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_TIMES_UP_REWARD"),
					face: 1,
					anim: 2
				}), t.setText({
					callback: this.game.prodigy.open.gotItem.bind(this.game.prodigy.open, this.rewards, this.examineResults.bind(this), null, "dino-dig")
				})) : (t.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_TIMES_UP_TRY_AGAIN"),
					face: 2
				}), t.setText({
					callback: this.toDino.bind(this)
				})), t.start("scoog")
			}, e.prototype.examineResults = function() {
				for (var t = !1, e = 0; e < this.rewards.length; e++) "fossil" === this.rewards[e].type && (t = !0);
				var i = this.game.prodigy.dialogue.create();
				t ? (i.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_FOUND_FOSSIL"),
					face: 1,
					anim: 2,
					audio: p.DynoZone.AUDIO[1]
				}), i.setText({
					callback: this.toDino.bind(this)
				}), i.start("scoog")) : this.toDino()
			}, e.prototype.toDino = function() {
				u.Util.isValid(this.screenData.playerPosition) ? this.game.prodigy.world.teleport("dyno-A0", this.screenData.playerPosition.x, this.screenData.playerPosition.y) : this.game.prodigy.world.teleport("dyno-A0", 790, 240)
			}, e
		}(l.Screen);
	e.DinoDig = g
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.position = new Phaser.Point, e.requestedHeight = 0, e.requestedWidth = 0, e.updateRate = 0, e.elapsed = 0, e.createdUI = !1, e
		}
		return n(e, t), e.prototype.update = function() {
			this.elapsed += this.gameObject.game.time.elapsed, this.elapsed >= this.updateRate && (this.elapsed = 0, this.updateUI())
		}, e.prototype.onLayout = function() {
			this.createdUI || this.createUI(), this.elapsed = this.updateRate
		}, e.prototype.onRemovedFromLayout = function() {
			this.createdUI && this.cleanUpUI()
		}, e.prototype.createUI = function() {
			this.createdUI = !0
		}, e.prototype.cleanUpUI = function() {
			this.createdUI = !1
		}, e
	}(i(48).Component);
	e.DebugValueRenderer = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(41),
		o = i(0),
		r = i(2),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.chooseAction = function(t, e, i, n, r) {
				var s = t / 10,
					l = e.source.source.attacks,
					c = a.CombatFormulas.getBestAttack(l, e.getSource(), i.getCurrentSource(), 1 - s);
				o.Util.isValid(c) ? n(e, i, r, c, Math.random() < .25 - .25 * t) : r()
			}, e.prototype.getDrops = function() {
				return r.Items.getItemDrops().concat([{
					type: "gold",
					N: 100
				}])
			}, e
		}(i(57).Boss);
	e.PippetBoss = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(41),
		o = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.chooseAction = function(t, e, i, n, o) {
				var r = t / 10,
					s = e.source.source.attacks;
				if (s.length <= 0) o();
				else {
					var l = .25 - .25 * t;
					n(e, i, o, a.CombatFormulas.getBestAttack(s, this, i.getCurrentSource(), 1 - r), Math.random() < l)
				}
			}, e.prototype.getDrops = function() {
				return [{
					type: "gold",
					N: 100
				}, {
					type: "currency",
					ID: 14,
					N: 20
				}]
			}, e
		}(i(57).Boss);
	e.OldOneBoss = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(41),
		o = i(0),
		r = i(2),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.chooseAction = function(t, e, i, n, s) {
				var l = e,
					c = t / 10;
				l.updateClouds();
				for (var h = {
						fire: 0,
						ice: 0,
						water: 0,
						plant: 0,
						storm: 0,
						astral: 0
					}, u = i.getCurrentSource().getCurrentBamSpells(), p = 0; p < u.length; p++) h[r.Items.getItem("spell", u[p].ID).data.element]++;
				var d = "wizard",
					g = 0;
				for (var f in h) h[f] > g && (d = f, g = u[f]);
				if ("fire" === d) l.waterMode();
				else if ("ice" === d) {
					(y = Math.random()) < .34 ? l.earthMode() : y < .67 ? l.iceMode() : l.waterMode()
				} else if ("plant" === d) {
					(y = Math.random()) < .34 ? l.earthMode() : y < .67 ? l.iceMode() : l.stormMode()
				} else if ("storm" === d) l.iceMode();
				else if ("water" === d) Math.random() < .5 ? l.earthMode() : l.stormMode();
				else {
					var y;
					(y = Math.random()) < .25 ? l.earthMode() : y < .5 ? l.iceMode() : y < .75 ? l.waterMode() : l.stormMode()
				}
				var m = l.attacks;
				if (m.length <= 0) s();
				else {
					var _ = a.CombatFormulas.getBestAttack(m, this, i.getCurrentSource(), 1 - c);
					o.Util.isValid(_) ? n(e, i, s, _, Math.random() < .25 - .25 * c) : s()
				}
			}, e
		}(i(57).Boss);
	e.CloudBoss = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(41),
		o = i(0),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.chooseAction = function(t, e, i, n, r) {
				var s, l = e,
					c = t / 10;
				if (e.source.getCurrentHearts() / e.source.getMaxHearts() < .67 && "soup" === l.foodMode) return (s = this.game.prodigy.event.create()).function(l.startEntree.bind(e)), e.setDoneCallback(r.bind(this)), void s.start();
				if (e.source.getCurrentHearts() / e.source.getMaxHearts() < .34 && "burger" === l.foodMode) return (s = this.game.prodigy.event.create()).function(l.startDessert.bind(e)), e.setDoneCallback(r.bind(this)), void s.start();
				var h = e.source.source.attacks;
				if (h.length <= 0) r();
				else {
					var u = a.CombatFormulas.getBestAttack(h, this, i.getCurrentSource(), 1 - c);
					if (o.Util.isValid(u)) {
						var p = .25 - .25 * c;
						n(e, i, r, u, Math.random() < p)
					} else r()
				}
			}, e
		}(i(57).Boss);
	e.BonfireBoss = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = i(2),
		r = i(29),
		s = i(0),
		l = i(48),
		c = i(56),
		h = function(t) {
			function e(e, i, n, a) {
				var r = t.call(this) || this;
				return r.emitter = null, r.particleEffectData = null, r.particleAsset = null, r.renderer = null, r.renderType = Phaser.ParticleStorm.SPRITE_BATCH, r.particleStorm = null, r.timeFactory = null, r.burstTimer = null, r.burstEvent = null, r.sortTargets = [], r.particleEffectData = e, r.particleStorm = i, r.timeFactory = n, r.particleAsset = o.Items.getItem("particleEffect", e.ID), s.Util.isValid(a) && (r.renderType = a), r
			}
			return n(e, t), e.prototype.create = function() {
				t.prototype.create.call(this), this.renderer = this.gameObject.findComponent(c.Renderer), this.emitter = this.particleStorm.createEmitter(this.renderType, this.particleAsset.data.force), this.emitter.addToWorld(null === this.gameObject.parent ? void 0 : this.gameObject.parent), s.Util.isValid(this.particleStorm.getData(this.particleEffectData.ID.toString())) || this.particleStorm.addData(this.particleEffectData.ID.toString(), this.particleAsset.data.particle), s.Util.isValid(this.emitter.renderer) && Object.defineProperty(this.emitter.renderer.display, "y", {
					get: this.getEmitterY.bind(this)
				}), s.Util.isValid(this.particleEffectData.autoStart) && !this.particleEffectData.autoStart || this.emitParticles();
				var e = this.particleAsset.data.emitter;
				s.Util.isValid(e.burstFrequency) && e.repeat > -1 && this.setupBursts()
			}, e.prototype.setupBursts = function() {
				var t = this.particleAsset.data.emitter,
					e = this.getBurstDelay();
				this.burstTimer = this.timeFactory.create(!0), s.Util.isValid(t.burstRepeat) && -1 !== t.burstRepeat ? this.burstEvent = this.burstTimer.repeat(e, t.burstRepeat, this.emitBurst, this) : this.burstEvent = this.burstTimer.loop(e, this.emitBurst, this), this.burstTimer.start()
			}, e.prototype.createEmitterConfig = function(t, e) {
				var i = JSON.parse(JSON.stringify(t));
				return s.Util.isValid(e) && (i.zone = this.createParticleZone(e)), i
			}, e.prototype.createParticleZone = function(t) {
				return "LINE_ZONE" === t.type ? this.gameObject.game.particleStorm.createLineZone(t.x1, t.y1, t.x2, t.y2) : null
			}, e.prototype.update = function() {
				var t = this.emitter.timer.events[0];
				if (s.Util.isValid(t)) {
					var e = this.getEmitterPosition();
					t.args[1] = e.x, t.args[2] = e.y, s.Util.isValid(this.renderer) && (this.emitter.emitterScale = this.renderer.getScale())
				}
			}, e.prototype.destroy = function() {
				s.Util.isValid(this.burstTimer) && this.burstTimer.destroy(), this.emitter.paused = !0, this.emitter.parent.removeEmitter(this.emitter), this.emitter.destroy()
			}, e.prototype.getEmitterPosition = function() {
				var t = {
					x: 1,
					y: 1
				};
				return s.Util.isValid(this.renderer) && (t = this.renderer.getScale()), {
					x: this.gameObject.x + this.particleEffectData.x * t.x,
					y: this.gameObject.y + this.particleEffectData.y * t.y
				}
			}, e.prototype.emitBurst = function() {
				"number" != typeof this.particleAsset.data.emitter.burstTimer && (this.burstEvent.delay = this.getBurstDelay()), this.emitParticles()
			}, e.prototype.emitParticles = function() {
				var t = this.getEmitterPosition();
				this.emitter.emit(this.particleEffectData.ID.toString(), t.x, t.y, this.createEmitterConfig(this.particleAsset.data.emitter, this.particleEffectData.zone))
			}, e.prototype.getBurstDelay = function() {
				var t = this.particleAsset.data.emitter.burstFrequency;
				return "number" == typeof t ? t : r.Random.realInRange(t.min, t.max)
			}, e.prototype.getEmitterY = function() {
				if (!s.Util.isValid(this.particleEffectData.inFront) || this.particleEffectData.inFront) {
					if (this.sortTargets.length > 0) {
						for (var t = this.sortTargets[0].y, e = 1; e < this.sortTargets.length; ++e) this.sortTargets[e].y > t && (t = this.sortTargets[e].y);
						return t + 1
					}
					return a.GameConstants.MAX_SAFE_INTEGER
				}
				if (this.sortTargets.length > 0) {
					var i = this.sortTargets[0].y;
					for (e = 1; e < this.sortTargets.length; ++e) this.sortTargets[e].y < i && (i = this.sortTargets[e].y);
					return i - 1
				}
				return -a.GameConstants.MAX_SAFE_INTEGER
			}, e
		}(l.Component);
	e.ParticleEmitter = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(5),
		r = i(40),
		s = i(61),
		l = i(915),
		c = i(2),
		h = i(35),
		u = i(0),
		p = i(125),
		d = i(46),
		g = function(t) {
			function e(e, i, n, a, r, s, l, c, h, u, p) {
				void 0 === p && (p = !1);
				var d = t.call(this, e, i, n, a, r, s, l, c, h, u) || this;
				return d.disableTransform = !1, d.transformID = null, d.transforming = !1, d.transformationTimer = null, d.isInTransformedMode = !1, d.showTransformationEffect = !1, d.transformedPet = null, d.transformationCompleted = !1, d.transformedObject = null, d.transformedBuddy = null, d.activeMount = null, d.petWalkTrigger = !1, d.buddyWalkTrigger = !1, d.timerForPlayerDataUpdate = 0, d.smoke = null, d.updateTime = null, d.membershipSprite = null, d.disableTransform = p, d.isMainPlayer && d.game.broadcaster.addAppListener(o.EUIEvents.MountTogglePressed, d.toggleMount.bind(d), d, "mount"), d
			}
			return n(e, t), e.prototype.showName = function(e) {
				if (void 0 === e && (e = null), t.prototype.showName.call(this, e), this.source.hasMembership()) {
					u.Util.isValid(this.membershipSprite) || (this.membershipSprite = this.game.prodigy.create.sprite(0, 0, "atlas-169", "misc/membership-icon-small", new Phaser.Point(.5, .5)), this.add(this.membershipSprite)), this.nameText.GameObject.x = 0;
					this.membershipSprite.x = this.nameText.GameObject.x - .5 * this.nameText.TextWidth - 2, this.membershipSprite.y = this.nameText.GameObject.y + .5 * this.nameText.TextHeight + -2, this.nameText.GameObject.x += .5 * this.membershipSprite.width, this.membershipSprite.visible = !0
				} else u.Util.isValid(this.membershipSprite) && (this.membershipSprite.visible = !1), this.nameText.GameObject.x = 0
			}, e.prototype.hideName = function() {
				t.prototype.hideName.call(this), u.Util.isValid(this.membershipSprite) && (this.membershipSprite.visible = !1)
			}, e.prototype.startLoad = function() {
				this.transforming = this.transformID !== this.source.transformID, this.transformID = this.source.transformID, t.prototype.startLoad.call(this)
			}, e.prototype.postStartLoad = function() {
				var e = this;
				if (u.Util.isValid(this.transformationTimer) && (this.transformationTimer.destroy(), this.transformationTimer = null), this.showTransformationEffect) {
					this.game.broadcaster.broadcast(o.EPlayerLocomotionEvents.StopPlayer), this.showTransformationEffect = !1, this.showTransformationSmoke(function() {
						u.Util.isValid(e.game) && t.prototype.postStartLoad.call(e)
					}.bind(this))
				} else t.prototype.postStartLoad.call(this)
			}, e.prototype.showTransformationSmoke = function(t) {
				var e = this,
					i = this.game.prodigy.event.create();
				this.isMainPlayer && i.enableInput(!1), this.isInTransformedMode || (this.setNewAnimationState(this.animStates.ATTACK, this.stand.bind(this), !0), i.delay(900)), i.function(function() {
					if (u.Util.isValid(e.game) && u.Util.isValid(e.parent)) {
						var t = s.RenderFactory.createRenderer("spine-13", {
							type: "spine",
							anchor: {
								x: 0,
								y: 0
							}
						});
						new r.GameObject(e.game, e.parent, [t], e.x, e.y), t.playAnimation("spine-smoke-2", !1)
					}
				}.bind(this)), i.delay(700), i.function(t), this.isMainPlayer && i.enableInput(!0), i.start()
			}, e.prototype.showSmoke = function() {
				u.Util.isValid(this.smoke) && this.smoke.destroy(), this.smoke = this.game.prodigy.create.element(this, 0, 0);
				for (var t = 0; t < 10; t++) {
					var e = this.game.prodigy.create.sprite(0, 0, "atlas-21", "smoke");
					e.scale.x = e.scale.y = .5 * this.setScale, e.anchor.setTo(.5, .5);
					var i = Math.floor(60 * Math.random() - 30),
						n = Math.floor(50 * Math.random() - 50) * this.setScale;
					this.game.add.tween(e).to({
						y: n.toString(),
						x: i.toString(),
						angle: Math.floor(200 * Math.random() - 100),
						alpha: 0
					}, Math.floor(1e3 * Math.random()) + 500, Phaser.Easing.Quadratic.Out).start(), this.smoke.add(e)
				}
			}, e.prototype.setup = function(e, i) {
				t.prototype.setup.call(this, e, i), u.Util.isValid(this.source.data.playerTransformation) && this.source.data.playerTransformation.transformID > -1 && !this.disableTransform ? (this.flagsToComplete++, this.setTransformationContainer(this.source.data.playerTransformation.transformType, this.source.data.playerTransformation.transformID), this.transformationCompleted = !0, this.isInTransformedMode = !0) : (this.transformedPet = null, this.transformedObject = null, this.transformedBuddy = null, this.isInTransformedMode = !1)
			}, e.prototype.cleanup = function() {
				this.destroyMount(), t.prototype.cleanup.call(this)
			}, e.prototype.mountSprites = function() {
				t.prototype.mountSprites.call(this);
				var e = 1 === this.setScale;
				u.Util.isValid(p.CharacterContainer.smoothOverride) && (e = p.CharacterContainer.smoothOverride), u.Util.isValid(this.transformedObject) && (this.sprites.add(this.transformedObject), this.transformedObject.smoothed = e), u.Util.isValid(this.transformedBuddy) && this.sprites.add(this.transformedBuddy)
			}, e.prototype.handlePostSprites = function() {
				u.Util.isValid(this.source.data.playerTransformation) && this.source.data.playerTransformation.transformID > -1 && this.showTransformationContainer(this.source.data.playerTransformation.transformType), this.transforming && this.showSmoke(), this.stand();
				var t = this.source.mount.getMountID();
				!this.hideMount && u.Util.isValid(t) ? this.createMountByID(t) : this.destroyMount()
			}, e.prototype.setData = function() {
				this.data = {
					hair: this.source.appearance.getHair(),
					eyeColor: this.source.appearance.getEyeColor(),
					face: this.source.appearance.getFace(),
					skinColor: this.source.appearance.getSkinColor(),
					weapon: this.digSetup ? 96 : this.source.equipment.getWeapon(),
					hat: this.source.equipment.getHat(),
					outfit: u.Util.isValid(this.source.equipment.getOutfit()) ? this.source.equipment.getOutfit() : 1,
					boots: this.source.equipment.getBoots(),
					mountID: this.source.mount.getMountID()
				}, this.data.faceColor = c.Items.getItemMetadata("skinColor", this.data.skinColor).faceColor
			}, e.prototype.broadcastPlayerFullInfo = function(t) {
				if (u.Util.isValid(this.locomotion)) {
					var e = {
						action: "info",
						data: {
							userID: this.source.userID,
							target: this.locomotion.target,
							appearance: this.source.appearance.getData(),
							isMember: this.source.hasMembership() ? 1 : 0,
							equipment: this.source.equipment.getData(),
							data: this.source.data,
							mount: this.source.mount.getMountData()
						}
					};
					u.Util.isValid(t) && (e.target = t), this.game.prodigy.network.emitMessage(e)
				}
			}, e.prototype.walk = function() {
				this.sprites.x = 0, this.sprites.y = 0, this.isMounted() ? this.activeMount.startParticles() : (this.setNewAnimationState(this.animStates.WALK, null), u.Util.isValid(this.transformedPet) ? this.petWalkTrigger = !0 : u.Util.isValid(this.transformedBuddy) && (this.buddyWalkTrigger = !0))
			}, e.prototype.stand = function() {
				this.x = Math.round(this.x), this.y = Math.round(this.y), this.isMounted() ? this.activeMount.stopParticles() : (this.setNewAnimationState(this.animStates.STAND, null, !0), u.Util.isValid(this.transformedPet) ? this.transformedPet.stand() : u.Util.isValid(this.transformedBuddy) && this.transformedBuddy.complete && this.transformedBuddy.stand())
			}, e.prototype.attack = function() {
				t.prototype.attack.call(this), u.Util.isValid(this.transformedPet) && this.transformedPet.attack()
			}, e.prototype.shouldResetArmsOnDance = function() {
				return !this.isMounted()
			}, e.prototype.isMounted = function() {
				return u.Util.isValid(this.activeMount)
			}, e.prototype.toggleMount = function() {
				if (this.isMounted()) this.unmount();
				else {
					var t = this.source.mount.getMountID();
					if (!u.Util.isValid(t)) {
						var e = this.source.backpack.getBackpackItemsByType("mount");
						e.length > 0 && (t = e[0].ID)
					}
					this.mount(t)
				}
				this.game.prodigy.player.appearanceChanged = !0
			}, e.prototype.mount = function(t) {
				u.Util.isValid(t) && (u.Util.isValid(this.activeMount) && !this.hideMount && this.doesMountIDMatchCurrentMountID(t) || this.unmount(), this.createMountByID(t), this.source.mount.setMountData({
					mountID: t
				}))
			}, e.prototype.doesMountIDMatchCurrentMountID = function(t) {
				return t === this.activeMount.id
			}, e.prototype.unmount = function() {
				this.isMounted() && (this.destroyMount(), this.float(!1), this.stand(), this.source.mount.clearMountID())
			}, e.prototype.createMountByID = function(t) {
				this.isMounted() && !this.doesMountIDMatchCurrentMountID(t) && this.destroyMount(), this.isMounted() || (this.float(!0), this.activeMount = new l.MountRenderer(this.game, this, t), this.sprites.add(this.activeMount.mountAboveGameObject), this.sprites.addAt(this.activeMount.mountBelowGameObject, 0))
			}, e.prototype.destroyMount = function() {
				this.isMounted() && (this.activeMount.destroy(), this.activeMount = null)
			}, e.prototype.setTransformationContainer = function(t, e) {
				var i = this,
					n = 0;
				if (this.headOnly && (n = -15), "pet" === t) {
					var a = function() {
						i.onLoadComplete(), i.transformedPet.sprites.scale.setTo(1 / i.setScale)
					};
					this.transformedPet = new d.MonsterContainer(this.game, this.sprites, new h.Monster(this.game, {
						ID: e
					}), this.setScale, 0, n, !1), this.transformedPet.reload(a.bind(this))
				} else if ("dorm" === t) {
					a = function(t) {
						i.transformedObject = t, i.transformedObject.anchor.setTo(.5, 1), i.transformedObject.y = i.headOnly ? -t.height / 2 : 0, i.onLoadComplete()
					};
					this.game.prodigy.create.sprite(0, n, "vertical-dorm-" + e, "", null, a.bind(this))
				} else if ("follow" === t) {
					a = function() {
						i.onLoadComplete(), i.transformedBuddy.sprites.scale.setTo(1 / i.setScale), i.transformedBuddy.x = 0, i.transformedBuddy.y = i.headOnly ? -50 : 0
					};
					this.transformedBuddy = this.game.prodigy.create.follow(this.sprites, e, 1, null, null), this.transformedBuddy.reload(a.bind(this))
				}
			}, e.prototype.showTransformationContainer = function(t) {
				this.sprites.setAll("visible", !1), u.Util.isValid(this.collisionHead) && (this.collisionHead.visible = !0), u.Util.isValid(this.collisionHead) && (this.collisionBody.visible = !0), u.Util.isValid(this.transformedPet) && "pet" === t && (this.transformedPet.visible = !0), u.Util.isValid(this.transformedObject) && "dorm" === t && (this.transformedObject.visible = !0), u.Util.isValid(this.transformedBuddy) && "follow" === t && (this.transformedBuddy.visible = !0)
			}, e.prototype.transformToItem = function(t, e, i, n) {
				this.isMainPlayer ? (this.game.prodigy.network.emitMessage({
					action: "transform",
					data: {
						userID: this.source.userID,
						transformType: t,
						transformID: e,
						showEffect: i
					}
				}), this.game.prodigy.player.transformPlayer(t, e, n)) : (u.Util.isValid(this.source.data.playerTransformation) || (this.source.data.playerTransformation = {}), this.source.data.playerTransformation.transformType = t, this.source.data.playerTransformation.transformID = e, this.source.data.playerTransformation.maxTime = 0, this.source.data.playerTransformation.timeRemaining = 0), this.showTransformationEffect = i, u.Util.isValid(this.game) && this.reload()
			}, e.prototype.resetItemTransformation = function(t) {
				this.isMainPlayer ? (this.game.prodigy.network.emitMessage({
					action: "transform",
					data: {
						userID: this.source.userID,
						showEffect: t
					}
				}), this.game.prodigy.player.transformPlayer(-1)) : (u.Util.isValid(this.source.data.playerTransformation) || (this.source.data.playerTransformation = {}), this.source.data.playerTransformation.transformID = -1, this.source.data.playerTransformation.maxTime = 0, this.source.data.playerTransformation.timeRemaining = 0), this.transformationCompleted = !1, this.showTransformationEffect = t, u.Util.isValid(this.game) && this.reload(), u.Util.isValid(this.transformationTimer) && (this.transformationTimer.endTimer(), this.transformationTimer = null)
			}, e.prototype.update = function() {
				var e;
				(this.isMounted() && this.activeMount.update(), t.prototype.update.call(this), u.Util.isValid(this.source.emoteID) && (this.emote(this.source.emoteID), this.source.emoteID = null), u.Util.isValid(this.source.chatID) && (this.startChat(this.source.chatID), this.source.chatID = null), u.Util.isValid(this.source.danceID) && (this.dance(this.source.danceID, this.game.prodigy.player.appearance.getGender()), this.source.danceID = null), this.source.firework) && ("object" == typeof this.source.firework && this.game.prodigy.network.emitMessage(this.source.firework), (e = this.game.prodigy.event.create()).firework(this.x + 20, this.y - 200), e.start(), delete this.source.firework);
				this.source.confetti && ("object" == typeof this.source.confetti && this.game.prodigy.network.emitMessage(this.source.confetti), (e = this.game.prodigy.event.create()).confetti(this.x + 20, this.y - 200), e.start(), delete this.source.confetti);
				this.source.goldwork && ("object" == typeof this.source.goldwork && this.game.prodigy.network.emitMessage(this.source.goldwork), (e = this.game.prodigy.event.create()).goldwork(this.x + 20, this.y - 200), e.start(), delete this.source.goldwork);
				u.Util.isValid(this.updateTime) || (this.updateTime = (new Date).getTime()), this.petWalkTrigger && u.Util.isValid(this.transformedPet) && !this.transformedPet.loading ? (this.transformedPet.walk(), this.petWalkTrigger = !1) : this.buddyWalkTrigger && u.Util.isValid(this.transformedBuddy) && !this.transformedBuddy.loading && (this.transformedBuddy.walk(), this.buddyWalkTrigger = !1);
				var i = this.game.state.states.TileScreen,
					n = u.Util.isValid(i) && i.isMapScreen && i.complete;
				if (this.isMainPlayer && this.isTransformationTimerDefined() && this.transformationCompleted && n)
					if (this.getRemainingTransformationTime() > 0) {
						var o = (new Date).getTime() - this.updateTime;
						this.game.prodigy.player.data.playerTransformation.timeRemaining -= o, this.timerForPlayerDataUpdate += o, this.timerForPlayerDataUpdate >= 3e4 && (this.game.prodigy.player.updated = !0, this.timerForPlayerDataUpdate = 0);
						var r = this.game.prodigy.player.data.playerTransformation.maxTime;
						if (!u.Util.isValid(this.transformationTimer)) {
							var s = [];
							u.Util.isValid(i.menuBar) && u.Util.isValid(i.menuBar.conjureCubeButton) && s.push(i.menuBar.conjureCubeButton), this.transformationTimer = this.game.prodigy.create.countdownTimer(i.above, this.game.width - 100, 100, {
								maxTime: r,
								timeDelta: 15e3,
								hideElements: s,
								storedTime: r - this.getRemainingTransformationTime(),
								clickMessage: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MORPH_END_MESSAGE")
							}, this.resetItemTransformation.bind(this, !0))
						}
						this.transformationTimer.updateTimerValue(r - this.getRemainingTransformationTime())
					} else this.game.prodigy.player.data.playerTransformation.transformID > -1 && (this.resetItemTransformation(!0), this.timerForPlayerDataUpdate = 0);
				this.updateTime = (new Date).getTime()
			}, e.prototype.destroy = function() {
				this.isMainPlayer && this.game.broadcaster.removeAppListener(o.EUIEvents.MountTogglePressed, this, "mount"), this.isMounted() && this.destroyMount(), t.prototype.destroy.call(this)
			}, e.prototype.isTransformationTimerDefined = function() {
				return u.Util.isValid(this.source.data.playerTransformation) && u.Util.isValid(this.source.data.playerTransformation.timeRemaining)
			}, e.prototype.getRemainingTransformationTime = function() {
				return this.isTransformationTimerDefined() ? this.source.data.playerTransformation.timeRemaining : 0
			}, e
		}(p.CharacterContainer);
	e.PlayerContainer = g
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i, n, a, o) {
			return n.modifiers.barrier = !0, t.call(this, e, i, n, a, o) || this
		}
		return n(e, t), e.prototype.setup = function() {
			this.game.prodigy.load.assets("sfx-7");
			var t = this.game.prodigy.create.element(this.sprites, 0, 0);
			this.spine = this.game.add.spine(100, -100, "default-titan-" + this.source.source.ID), this.spine.smoothed = !1, this.idle(), t.add(this.spine), t.scale.x = 1.75, t.scale.y = 1.75, this.complete = !0, this.loading = !1
		}, e.prototype.idle = function() {
			this.spine.setAnimationByName(0, "idle", !0), this.spine.setToSetupPose()
		}, e.prototype.attack = function() {
			this.spine.setAnimationByName(0, "attack", !1), this.spine.addAnimationByName(0, "idle", !0), this.spine.setToSetupPose()
		}, e.prototype.retreat = function() {
			this.spine.setAnimationByName(0, "knockout", !1)
		}, e
	}(i(47).BossContainer);
	e.TitanContainer = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(79),
		a = i(65),
		o = i(47),
		r = i(298),
		s = i(917),
		l = i(916),
		c = i(176),
		h = i(46),
		u = i(175),
		p = i(5),
		d = i(57),
		g = i(173),
		f = i(172),
		y = i(297),
		m = i(296),
		_ = i(171),
		v = i(170),
		E = i(126),
		b = i(198),
		O = i(35),
		I = i(12),
		T = i(0),
		A = function() {
			function t(e, i, a, o, r, h, u, p, A) {
				this.team = [], this.enableComboAnimations = !0, this.verticalTeamOffset = 110, this.bossTeam = !1, this.offScreenX = 0, this.offScreenY = 0, this.onScreenX = 0, this.onScreenY = 0, this.y = 0, this.currentEnergy = 0, this.maxEnergy = 10, this.playerEnergySource = null, this.onEnergyChangeStart = new Phaser.Signal, this.onCurrentMemberSwitch = new Phaser.Signal, this.onCurrentMemberHPChange = new Phaser.Signal, this.onMoveCreatureOut = new Phaser.Signal, this.onMoveCreatureIn = new Phaser.Signal, this.game = e, this.presortTeam(a);
				for (var C = h, S = h, w = i, D = function(i) {
						if (i >= t.MAX_TEAM_COUNT) return "break";
						if (1 === i ? (S = C - P.verticalTeamOffset, w = P.game.state.getCurrentState().groupBack) : 2 === i ? (S = C + P.verticalTeamOffset, w = P.game.state.getCurrentState().groupFront) : (S = C, w = P.game.state.getCurrentState().groupMiddle), a[i] instanceof I.Player) {
							var h = 1,
								u = a[i];
							u.isPlayerTransformed() && "pet" === u.data.playerTransformation.transformType && (h = 2);
							var p = e.prodigy.create.player(w, a[i], h, r, S);
							P.team.push(p), p.forceWeaponVisual = !0, P.team[i].loadedCallback = function() {
								T.Util.isValid(p.transformedPet) && T.Util.isValid(p.transformedPet.battleScale) && (p.sprites.scale.x = p.transformedPet.battleScale, p.sprites.scale.y = p.transformedPet.battleScale, p.setScale = 1), p.hideName(), p.createHealthBar().getOverlay().scale.x = o ? 1 : -1
							}
						} else if (a[i] instanceof b.Character) {
							var D = e.prodigy.create.character(w, a[i], 1, r, S);
							P.team.push(D), D.forceWeaponVisual = !0, P.team[i].loadedCallback = function() {
								D.hideName(), D.createHealthBar().getOverlay().scale.x = o ? 1 : -1
							}
						} else if (a[i] instanceof O.Monster) {
							var L = e.prodigy.create.monster(w, a[i], 2, r, S, !1);
							L.loadedCallback = function(t) {
								n([130, 131, 132, 133], t.source.data.ID) && (t.battleScale = 1), t.sprites.scale.x = t.battleScale, t.sprites.scale.y = t.battleScale, t.width = Math.round(t.width), t.height = Math.round(t.height), t.hideName(), t.createHealthBar().getOverlay().scale.x = o ? 1 : -1, A && t.getSource().assignRandomSpells()
							}, P.team.push(L)
						} else if (a[i] instanceof f.CloudBoss) P.team.push(e.prodigy.create.cloudBoss(w, a[i], r, S, a[i].source.element)), P.bossTeam = !0;
						else if (a[i] instanceof g.BonfireBoss) {
							var x = e.prodigy.create.bonfireBoss(w, a[i], r, S);
							P.bossTeam = !0, x.scale.x = .75, x.scale.y = .75, P.team.push(x)
						} else if (a[i] instanceof _.OldOneBoss) {
							var M = new s.OldOneContainer(e, w, a[i], r - 400, S);
							M.flip(), P.team.push(M), P.bossTeam = !0
						} else if (a[i] instanceof v.PippetBoss) {
							var U = new l.PippetContainer(e, w, a[i], r - 400, S);
							U.scale.x = .5, U.scale.y = .5, P.team.push(U), P.bossTeam = !0
						} else if (a[i] instanceof y.ForestBoss) P.team.push(e.prodigy.create.forestBoss(w, a[i], r, S)), P.bossTeam = !0;
						else if (a[i] instanceof E.TitanBoss) {
							var N = new c.TitanContainer(e, w, a[i], r, S);
							N.flip(), P.team.push(N), P.bossTeam = !0
						} else if (a[i] instanceof m.IceWyrmBoss) P.team.push(e.prodigy.create.shiverchillBoss(w, a[i], r - 350, S)), P.bossTeam = !0;
						else if (a[i] instanceof d.Boss) {
							x = e.prodigy.create.boss(w, a[i], r, S);
							P.team.push(x), P.bossTeam = !0, T.Util.isValid(a[i].source.spriteOffsetY) && (x.sprites.y += a[i].source.spriteOffsetY), T.Util.isValid(a[i].source.spriteOffsetX) && (x.sprites.x += a[i].source.spriteOffsetX), T.Util.isValid(a[i].source.battleScale) && (x.sprites.scale.x = a[i].source.battleScale, x.sprites.scale.y = a[i].source.battleScale)
						}
						P.team[i].startLoad(), P.team[i].flip(), P.team[i].pairs = [], P.team[i].visible = !1, P.team[i].getSource().isOpponent = A, P.team[i].getSource().starsEarned = 0, P.bossTeam && P.team[i].createHealthBar(), T.Util.isValid(P.getCurrent()) || a[i].isKnockedOut() || (P.swapCurrent(i), P.getCurrent().visible = !0)
					}, P = this, L = 0; L < a.length; L++) {
					if ("break" === D(L)) break
				}
				this.playerControlled = o, this.offScreenX = r, this.offScreenY = S, this.onScreenX = u, this.onScreenY = p, this.playerEnergySource = t.findFirstPlayer(this.team), this.registerSignals()
			}
			return t.findFirstPlayer = function(t) {
				var e = t.find(function(t) {
					return t instanceof u.PlayerContainer
				});
				return T.Util.isValid(e) ? e.source : null
			}, t.prototype.getCurrentEnergy = function() {
				return this.currentEnergy
			}, t.prototype.getMaxEnergy = function() {
				return this.maxEnergy
			}, t.prototype.changeEnergy = function(t) {
				this.currentEnergy = Math.min(this.currentEnergy + t, this.maxEnergy), t < 0 && (this.game.prodigy.battle.battleStats.energyCost -= t), this.onEnergyChangeStart.dispatch(this.currentEnergy), this.updatePlayerEnergy()
			}, t.prototype.setEnergy = function(t) {
				this.currentEnergy = Math.min(t, this.maxEnergy), this.onEnergyChangeStart.dispatch(this.currentEnergy), this.updatePlayerEnergy()
			}, t.prototype.updatePlayerEnergy = function() {
				T.Util.isValid(this.playerEnergySource) && this.playerEnergySource.setEnergy(this.getCurrentEnergy())
			}, t.prototype.registerSignals = function() {
				for (var t = 0; t < this.team.length; t++) {
					this.team[t].getSource().onHPChange.add(this.onTeamMemberHPChange, this)
				}
			}, t.prototype.unregisterSignals = function() {
				for (var t = 0; t < this.team.length; t++) {
					this.team[t].getSource().onHPChange.remove(this.onTeamMemberHPChange, this)
				}
				this.onEnergyChangeStart.removeAll(), this.onCurrentMemberSwitch.removeAll(), this.onCurrentMemberHPChange.removeAll(), this.onMoveCreatureOut.removeAll(), this.onMoveCreatureIn.removeAll()
			}, t.prototype.onTeamMemberHPChange = function(t, e) {
				t === this.getCurrent().source && this.onCurrentMemberHPChange.dispatch(t, e)
			}, t.prototype.getTeamSize = function() {
				return Math.min(t.MAX_TEAM_COUNT, this.team.length)
			}, t.prototype.isIdInBattle = function(t) {
				for (var e = 0; e < this.getTeamSize(); e++)
					if (this.team[e] instanceof h.MonsterContainer && this.team[e].source.data.ID === t && !this.team[e].getSource().isKnockedOut()) return !0;
				return !1
			}, t.prototype.getContainerOfTeamId = function(t) {
				for (var e = 0; e < this.getTeamSize(); e++)
					if (this.team[e] instanceof h.MonsterContainer && this.team[e].source.data.ID === t && !this.team[e].getSource().isKnockedOut()) return this.team[e];
				return null
			}, t.prototype.moveTeamIn = function() {
				for (var e = 0; e < this.getTeamSize(); e++)
					if (!this.team[e].complete) return void this.game.time.events.add(10, this.moveTeamIn.bind(this));
				var i = this.onRightSide() ? 130 : -130;
				for (e = 0; e < this.getTeamSize() && !(e >= t.MAX_TEAM_COUNT); e++)
					if (!this.team[e].getSource().isKnockedOut()) {
						var n = this.team[e];
						n instanceof o.BossContainer ? (n.x = this.onScreenX, n.y = this.onScreenY, n.setPath([{
							x: this.onScreenX,
							y: this.getCurrent().y
						}]), n.visible = !0) : (n.visible = !0, n.speed = 10, this.team[e].setPath([{
							x: this.onScreenX + (1 === e || 2 === e ? i : 0),
							y: this.team[e].y
						}]))
					} this.enableComboAnimations && (this.game.broadcaster.broadcast(p.EBattleEvents.PvpComboMeterMoveIn, this, []), this.enableComboAnimations = !1), this.onCurrentMemberSwitch.dispatch(this.getCurrent().source)
			}, t.prototype.onRightSide = function() {
				return this.offScreenX >= 1280
			}, t.prototype.movePlayerIn = function(t, e) {
				T.Util.isValid(e) && (e.complete ? (this.team[0] = e, this.getCurrent().visible = !0, this.getCurrent().speed = 10, this.onCurrentMemberSwitch.dispatch(this.getCurrent().source), this.enableComboAnimations && (this.game.broadcaster.broadcast(p.EBattleEvents.PvpComboMeterMoveIn, this, []), this.enableComboAnimations = !1), this.getCurrent() instanceof o.BossContainer ? (this.getCurrent().x = this.onScreenX, this.getCurrent().y = this.onScreenY, this.getCurrent().setPath([{
					x: this.onScreenX,
					y: this.getCurrent().y
				}], t)) : (this.getCurrent().speed = 10, this.getCurrent().setPath([{
					x: this.onScreenX,
					y: this.getCurrent().y
				}], t)), this.onMoveCreatureIn.dispatch()) : this.game.time.events.add(10, this.movePlayerIn.bind(this, t, e)))
			}, t.prototype.movePlayerOut = function(t, e) {
				e.speed = 30, e.setPath([{
					x: this.offScreenX + (this.offScreenX < 0 ? -40 : 40),
					y: e.y
				}], t, 4), e === this.getCurrent() && this.onMoveCreatureOut.dispatch()
			}, t.prototype.swapPlayerIn = function(t, e) {
				var i = this.team[t];
				this.jumpAnimation(i, this.onScreenX, this.onScreenY, e), this.swapCurrent(t), this.onCurrentMemberSwitch.dispatch(this.getCurrent().source)
			}, t.prototype.swapPlayerOut = function(t, e) {
				this.jumpAnimation(this.getCurrent(), t, e)
			}, t.prototype.swapCurrent = function(t) {
				var e = this.getCurrent();
				this.team[0] = this.team[t], this.team[t] = e
			}, t.prototype.jumpAnimation = function(t, e, i, n) {
				var a = Math.min(t.y, i) - 75;
				this.game.add.tween(t).to({
					x: e
				}, 500, Phaser.Easing.Linear.None, !0);
				var o = this.game.add.tween(t).to({
					y: i
				}, 250, Phaser.Easing.Quadratic.In, !1);
				o.onComplete.add(function() {
					t.parent.sort("y", Phaser.Group.SORT_ASCENDING)
				}), T.Util.isValid(n) && o.onComplete.add(n), this.game.add.tween(t).to({
					y: a
				}, 250, Phaser.Easing.Quadratic.Out, !0).chain(o)
			}, t.prototype.fakeSwap = function(t, e, i) {
				this.jumpAnimation(t, e.x, e.y), this.jumpAnimation(e, t.x, t.y, i)
			}, t.prototype.swapPlayersHop = function(t, e) {
				var i = this.team[e];
				if (T.Util.isValid(this.getCurrent()) && !this.isDefeated(this.getCurrent())) {
					var n = i.parent;
					this.getCurrent().parent.add(i), n.add(this.getCurrent()), this.swapPlayerOut(i.x, i.y), this.swapPlayerIn(e, t)
				} else T.Util.isValid(this.game.state.getCurrentState().groupMiddle) && this.game.state.getCurrentState().groupMiddle.add(i), this.swapPlayerIn(e, t);
				this.onCurrentMemberSwitch.dispatch(this.getCurrent().source)
			}, t.prototype.failRun = function(e) {
				var i = this,
					n = function(e, n) {
						for (var a = 0; a < i.getTeamSize() && !(a >= t.MAX_TEAM_COUNT); a++) {
							var o = i.team[a];
							o.speed = 10, 0 === a ? o.setPath([{
								x: o.x + 200,
								y: null
							}], n) : o.setPath([{
								x: o.x + 200,
								y: null
							}])
						}
					};
				this.game.prodigy.audio.playSFX(8, "run"), this.getCurrent().speed = 40;
				for (var a = 0; a < this.getTeamSize() && !(a >= t.MAX_TEAM_COUNT); a++) 0 === a ? this.team[a].setPath([{
					x: this.team[a].x - 200,
					y: null
				}], n.bind(this, this.team[a], e), 4) : this.team[a].setPath([{
					x: this.team[a].x - 200,
					y: null
				}], n.bind(this, this.team[a]), 4)
			}, t.prototype.runAway = function(t, e) {
				if (void 0 === t && (t = this.getCurrent()), !t.captured)
					if (t.ran = !0, this.bossTeam) {
						var i = this.game.add.tween(t).to({
							alpha: 0
						}, 500, Phaser.Easing.Linear.None);
						i.onComplete.add(function() {
							T.Util.isValid(e) && e()
						}), i.start()
					} else this.game.prodigy.audio.playSFX(8, "run"), t.speed = 40, t.flip(), t.moonwalk(), this.game.time.events.add(500, this.movePlayerOut.bind(this, e, t), this)
			}, t.prototype.rescue = function(t) {
				var e = this;
				this.getCurrent().captured = !0, this.getCurrent().doPuppetBreakAnimation(function() {
					e.game.state.states.Battle.groupFront.add(e.getCurrent()), e.game.prodigy.audio.playSFX(8, "run"), e.getCurrent().speed = 40, e.getCurrent().moonwalk(), e.game.add.tween(e.getCurrent()).to({
						x: e.getCurrent().x + 20
					}, 1500, Phaser.Easing.Linear.None, !0).onComplete.add(function() {
						e.getCurrent().speed = 30, e.getCurrent().setPath([{
							x: -100,
							y: e.onScreenY + e.verticalTeamOffset + e.getCurrent().height / 4
						}, {
							x: 380,
							y: e.onScreenY + e.verticalTeamOffset + e.getCurrent().height / 4
						}], t, 4)
					}, e)
				})
			}, t.prototype.runAwayTeam = function(e) {
				if (!T.Util.isValid(this.getCurrent().captured))
					if (this.bossTeam) this.game.add.tween(this.getCurrent()).to({
						alpha: 0
					}, 500, Phaser.Easing.Linear.None).start();
					else {
						this.game.prodigy.audio.playSFX(8, "run");
						for (var i = 0; i < this.getTeamSize() && !(i >= t.MAX_TEAM_COUNT); i++) this.team[i].speed = 40, this.team[i].flip(), this.team[i].moonwalk(), this.team[i].ran = !0, this.game.time.events.add(500, this.movePlayerOut.bind(this, null, this.team[i]), this);
						T.Util.isValid(e) && this.game.time.events.add(500, e, this)
					}
			}, t.prototype.runAwayDefeated = function(t) {
				for (var e = this.getUnRun(), i = !1, n = 0; n < e.length; n++) this.runAway(e[n], i ? null : t), i || (i = !0)
			}, t.prototype.pairOpponent = function(t) {
				T.Util.inArray(this.getCurrent().pairs, t) || this.getCurrent().pairs.push(t)
			}, t.prototype.getNextId = function() {
				for (var t, e = 0; e < this.getTeamSize(); e++)
					if (t = this.team[e], T.Util.isValid(t) && !this.isDefeated(t)) return e;
				return 0
			}, t.prototype.chooseNextCandidate = function(t) {
				for (var e = null, i = null, n = 0; n < this.getTeamSize(); n++) {
					var a = this.team[n];
					if (T.Util.isValid(a) && !this.isDefeated(a)) {
						var o = this.game.prodigy.battle.battleScore(a, t, !0, 1);
						(!T.Util.isValid(i) || o > i) && (e = n, i = o)
					}
				}
				return e
			}, t.prototype.getDrops = function() {
				for (var t = [], e = 0; e < this.getTeamSize(); e++) this.team[e].getSource().isKnockedOut() && !this.team[e].captured && (t = t.concat(this.team[e].getSource().getDrops()));
				return t
			}, t.prototype.isDefeated = function(t) {
				if (T.Util.isValid(t)) return t.getSource().isKnockedOut() || T.Util.isValid(t.captured) && t.captured;
				for (var e = 0; e < this.getTeamSize(); e++)
					if (!this.isDefeated(this.team[e])) return !1;
				return !0
			}, t.prototype.getDefeated = function() {
				for (var t = [], e = 0; e < this.getTeamSize(); e++) this.team[e].getSource().isKnockedOut() && !this.team[e].captured && t.push(this.team[e].source);
				return t
			}, t.prototype.getUnRun = function() {
				return a(this.team, function(t) {
					return t.getSource().isKnockedOut() && !t.captured && !t.ran
				})
			}, t.prototype.getCurrent = function() {
				return this.team[0]
			}, t.prototype.getCurrentSource = function() {
				return this.getCurrent().source
			}, t.prototype.getLiving = function() {
				for (var t = [], e = 0; e < this.getTeamSize(); e++) this.isDefeated(this.team[e]) || t.push(this.team[e].getSource());
				return t
			}, t.prototype.isBoss = function(t) {
				if (T.Util.isValid(t)) return t instanceof o.BossContainer || t instanceof r.ForestContainer;
				for (var e = 0; e < this.getTeamSize(); e++)
					if (this.isBoss(this.team[e])) return !0;
				return !1
			}, t.prototype.showHearts = function() {
				for (var t = 0; t < this.getTeamSize(); t++)
					if (this.isBoss(this.team[t]) && !this.team[t].getSource().source.showHP) return !1;
				return !0
			}, t.prototype.forcePlayerToActive = function(t) {
				if (this.getCurrent() instanceof u.PlayerContainer) T.Util.isValid(t) && t();
				else
					for (var e = 0; e < this.team.length; e++)
						if (this.team[e] instanceof u.PlayerContainer) {
							this.team[e].sprites.scale.x *= this.team[e].sprites.scale.x, this.swapPlayersHop(t, e);
							break
						}
			}, t.prototype.presortTeam = function(t) {
				if (T.Util.isValid(t[0]) && t[0].isKnockedOut()) {
					var e = T.Util.isValid(t[1]) && !t[1].isKnockedOut() ? 1 : 2,
						i = t[0];
					t[0] = t[e], t[e] = i
				}
			}, t.MAX_TEAM_COUNT = 3, t
		}();
	e.Team = A
}, function(t, e) {
	t.exports = function(t, e, i) {
		return t == t && (void 0 !== i && (t = t <= i ? t : i), void 0 !== e && (t = t >= e ? t : e)), t
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(6),
		o = i(7),
		r = i(5),
		s = i(16),
		l = i(0),
		c = i(20),
		h = function(t) {
			function e(i, n, a, o) {
				var r = t.call(this, i, n) || this;
				return r.memberStarsEarned = 0, r.hearts = 0, r.source = null, r.spell = null, r.scopeApp = null, r.totalStars = 0, r.closing = !1, r.backgound = null, r.getStarsBtn = null, r.jarClicker = null, r.closeBtn = null, r.nextButton = null, r.autoCloseTimer = null, r.type = o.type, r.memberStarsEarned = o.memberStarsEarned, r.hearts = o.hearts, r.source = o.source, r.spell = o.spell, r.totalStars = o.totalStars, r.x = 448, r.y = 122, r.scopeApp = a, r.setupBackground(), r.setupTitle(), r.setupBlockOne(), r.setupBlockTwo(), r.setupNextButton(), r.initListeners(), i.add.tween(r).from({
					y: 720
				}, 700, Phaser.Easing.Back.Out, !0), e.onBattleBaseOpen.dispatch(r.type), r.type === e.SUMMARY && r.enableAutoClose(), r
			}
			return n(e, t), e.prototype.setupBackground = function() {
				this.add(this.backgound)
			}, e.prototype.initListeners = function() {
				var t = this;
				this.game.broadcaster.addAppListener(r.ECreatureEvents.EvolveStart, function() {
					t.visible = !1
				}, this, this.game), this.game.broadcaster.addAppListener(r.ECreatureEvents.EvolveEnd, function() {
					t.visible = !0
				}, this, this.game)
			}, e.prototype.setupTitle = function() {
				this.type === e.SUMMARY ? this.add(this.game.prodigy.create.sprite(125, 12, "atlas-17", "text-battle-summary")) : this.add(this.game.prodigy.create.sprite(112, 30, "atlas-17", "text-well-done"))
			}, e.prototype.setupBlockOne = function() {
				this.type === e.SUMMARY ? (this.add(this.game.prodigy.create.sprite(155, 120, "atlas-17", "text-stars-collected")), this.add(this.game.prodigy.create.sprite(145, 162, "atlas-19", "user-star")), this.game.prodigy.create.font(this, 175, 168, "" + this.totalStars, {
					size: 2,
					fontID: 12,
					width: 70,
					align: "center"
				})) : this.type === e.LEVEL_UP ? l.Util.isValid(this.hearts) ? (this.add(this.game.prodigy.create.sprite(152, 120, "atlas-17", "icon-heart")), this.game.prodigy.create.font(this, 127, 135, "+" + this.hearts, {
					size: 30,
					width: 126,
					align: "center",
					fontID: 10
				})) : (this.add(this.game.prodigy.create.sprite(151, 120, "atlas-17", "icon-star")), this.game.prodigy.create.font(this, 129, 150, "" + this.source.getLevel(), {
					size: 2,
					width: 126,
					align: "center",
					fontID: 12
				}).alpha = .5) : this.type === e.SPELL && this.add(this.game.prodigy.create.sprite(152, 120, "atlas-21", "icon-bar-large-" + this.spell.data.element))
			}, e.prototype.setupBlockTwo = function() {
				var t = null;
				if (this.type === e.SUMMARY) {
					this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_complete", {
						type: "NonMember-ControlStar",
						name: "NonMember-SummarySeen"
					}), this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("NonMember-ControlStar", "NonMember-SummarySeen").broadcast();
					var i = this.game.prodigy.player.hasMembership() ? this.memberStarsEarned : 0;
					this.add(this.game.prodigy.create.sprite(88, 240, "atlas-17", "text-member-stars-collected"));
					var n = this.add(this.game.prodigy.create.sprite(125, 0 === i ? 265 : 290, "atlas-19", "member-star")),
						o = this.game.prodigy.create.font(this, 55, 0 === i ? 270 : 295, i + "/" + this.memberStarsEarned, {
							size: 2,
							fontID: 12
						});
					n.x = e.CENTER - .5 * (n.width + o.width + 10), o.x = e.CENTER - .5 * (n.width + o.width + 10) + n.width + 10, 0 === i && (this.getStarsBtn = this.game.prodigy.create.button(this, e.CENTER, 337, "atlas-17", "btn-get-them-now-green-red", this.onMembershipClick.bind(this)), this.getStarsBtn.sprite.anchor.set(.5, .5))
				} else this.type === e.LEVEL_UP ? (t = this.game.prodigy.create.font(this, 93, 260, this.source.getName(), {
					size: 16,
					width: 200,
					align: "center",
					fontID: 8
				}), this.add(this.game.prodigy.create.sprite(130, t.y + t.height + 15, "atlas-17", "text-leveled-up"))) : this.type === e.SPELL && (t = this.game.prodigy.create.font(this, 93, 240, this.source.getName(), {
					size: 16,
					width: 200,
					align: "center",
					fontID: 8
				}), this.add(this.game.prodigy.create.sprite(95, t.y + t.height + 10, "atlas-17", "text-learned-a-new-spell")), this.game.prodigy.create.font(this, 93, t.y + t.height + 35, this.spell.data.name, {
					size: 20,
					width: 200,
					align: "center",
					fontID: 8
				}))
			}, e.prototype.setupNextButton = function() {
				if (this.nextButton = this.game.prodigy.create.button(this, e.CENTER - 83, 410, "atlas-17", "btn-next", this.onClose.bind(this)), this.type === e.SUMMARY && !this.game.prodigy.player.hasMembership()) {
					this.nextButton.alpha = 0, this.nextButton.y = 430, this.nextButton.active = !1;
					var t = this.game.prodigy.event.create();
					t.delay(3e3), t.tween(this.nextButton, {
						alpha: 1,
						y: 410
					}, 300, Phaser.Easing.Quadratic.In), t.set(this.nextButton, "active", !0), t.start()
				}
			}, e.prototype.removeAutoClose = function() {
				l.Util.isValid(this.autoCloseTimer) && (this.game.time.events.remove(this.autoCloseTimer), this.autoCloseTimer = null)
			}, e.prototype.enableAutoClose = function() {
				l.Util.isValid(this.autoCloseTimer) || (this.autoCloseTimer = this.game.time.events.add(3e4, this.onClose.bind(this), this))
			}, e.prototype.onMembershipClick = function() {
				var t = {
					conversionFunnelName: "NonMember-ControlStar",
					conversionStage: "Member-Converted"
				};
				this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_complete", {
					type: "NonMember-ControlStar",
					name: "Member-Click"
				}), this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("NonMember-ControlStar", "Member-Click").broadcast(), this.game.prodigy.network.sendConversionFunnelEvent(t.conversionFunnelName, c.EFunnelEventIDs.StageClickStars, t.conversionFunnelMetadata), this.game.prodigy.open.membershipInfo(this.enableAutoClose.bind(this), t, s.MembershipInfo.MORE_EXP), this.removeAutoClose()
			}, e.prototype.onClose = function() {
				if (!this.closing) {
					this.closing = !0, l.Util.isValid(this.closeBtn) && l.Util.isValid(this.closeBtn.setInactive) && this.closeBtn.setInactive(), this.game.broadcaster.removeAppListener(r.ECreatureEvents.EvolveStart, this, this.game), this.game.broadcaster.removeAppListener(r.ECreatureEvents.EvolveEnd, this, this.game), l.Util.isValid(this.autoCloseTimer) && this.game.time.events.remove(this.autoCloseTimer), l.Util.isValid(this.nextButton) && (this.nextButton.setInactive(16777215), l.Util.isValid(this.jarClicker) && (this.jarClicker.input.enabled = !1)), l.Util.isValid(this.getStarsBtn) && this.getStarsBtn.setInactive(16777215);
					var t = this.type === e.SUMMARY ? 500 : 700;
					this.game.add.tween(this).to({
						y: 720
					}, t, Phaser.Easing.Back.In, !0).onComplete.add(this.onCloseComplete, this)
				}
			}, e.prototype.onCloseComplete = function() {
				e.onBattleBaseClose.dispatch(this.type), this.game.broadcaster.broadcast(r.EBattleEvents.PopupClosed, this.scopeApp, null), this.game.prodigy.open.close(this), this.destroy()
			}, e.CENTER = 192, e.SUMMARY = 0, e.LEVEL_UP = 1, e.SPELL = 2, e.onBattleBaseOpen = new Phaser.Signal, e.onBattleBaseClose = new Phaser.Signal, e
		}(o.Element);
	e.BattleBase = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(307),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i) || this;
				return n.maxThumbPositionOffset = 0, n.onScrollChangeCallback = null, n
			}
			return n(e, t), e.prototype.populate = function(e) {
				this.thumbFrameName = o.Util.isValid(e.thumbFrameName) ? e.thumbFrameName : "", this.activeTrackBaseFrameName = o.Util.isValid(e.activeTrackBaseFrameName) ? e.activeTrackBaseFrameName : "", this.inactiveTrackBaseFrameName = o.Util.isValid(e.inactiveTrackBaseFrameName) ? e.inactiveTrackBaseFrameName : "", this.endCapAtlasID = o.Util.isValid(e.endCapAtlasID) ? e.endCapAtlasID : "", this.endCapFrameName = o.Util.isValid(e.endCapFrameName) ? e.endCapFrameName : "", this.arrowFrameName = o.Util.isValid(e.arrowFrameName) ? e.arrowFrameName : "", this.isVertical = !!o.Util.isValid(e.isVertical) && e.isVertical, this.atlasID = o.Util.isValid(e.atlasID) ? e.atlasID : 144, this.clickPercentageMovement = o.Util.isValid(e.clickPercentageMovement) ? e.clickPercentageMovement : .05, this.isInteractive = !o.Util.isValid(e.isInteractive) || e.isInteractive, this.hideInactive = !!o.Util.isValid(e.hideInactive) && e.hideInactive, this.showHead = !!o.Util.isValid(e.showHead) && e.showHead, this.thumbAnchor = o.Util.isValid(e.thumbAnchor) ? e.thumbAnchor : {
					x: 0,
					y: 0
				};
				var i = o.Util.isValid(e.trackPadding) ? e.trackPadding : 0;
				t.prototype.populate.call(this, e);
				var n = {
						width: 0,
						height: 0
					},
					a = 1,
					r = this.game.cache.getFrameData("atlas-" + this.atlasID);
				if (o.Util.isValid(r)) {
					var s = r.getFrameByName(this.arrowFrameName);
					o.Util.isValid(s) && (n.width = s.width, n.height = s.height), s = r.getFrameByName(this.activeTrackBaseFrameName + "-middle"), o.Util.isValid(s) && (a = s.height)
				}
				o.Util.isValid(e.children) || (e.children = [], n.width > 0 && n.height > 0 && e.children.push({
					type: "Button",
					name: "lessButton",
					anchorX: this.isVertical ? .5 : 0,
					anchorY: this.isVertical ? 1 : .5,
					relativeX: this.isVertical ? .5 : 0,
					relativeY: this.isVertical ? 1 : .5,
					width: n.width,
					height: n.height,
					children: [{
						type: "Graphic",
						name: "lessButtonGraphic",
						atlasID: this.atlasID,
						frameName: this.arrowFrameName
					}]
				}, {
					type: "Button",
					name: "moreButton",
					anchorX: this.isVertical ? .5 : 1,
					anchorY: this.isVertical ? 0 : .5,
					relativeX: this.isVertical ? .5 : 1,
					relativeY: this.isVertical ? 0 : .5,
					width: n.width,
					height: n.height,
					children: [{
						type: "Graphic",
						name: "moreButtonGraphic",
						atlasID: this.atlasID,
						frameName: this.arrowFrameName
					}]
				}), e.children.push({
					type: "SlicedGraphic",
					name: "inactiveTrack",
					anchorX: this.isVertical ? .5 : 0,
					anchorY: this.isVertical ? 0 : .5,
					x: this.isVertical ? 0 : n.width + i,
					y: this.isVertical ? n.height + i : null,
					relativeX: this.isVertical ? .5 : null,
					relativeY: this.isVertical ? null : .5,
					sliceType: "threeScale",
					isVertical: this.isVertical,
					atlasID: this.atlasID,
					baseFrameName: this.inactiveTrackBaseFrameName,
					width: this.isVertical ? a : this.width - 2 * (n.width + i),
					height: this.isVertical ? this.height - 2 * (n.height + i) : a
				}, {
					type: "SlicedGraphic",
					name: "activeTrack",
					anchorX: this.isVertical ? .5 : 0,
					anchorY: this.isVertical ? 0 : .5,
					x: this.isVertical ? 0 : n.width + i,
					y: this.isVertical ? n.height + i : 0,
					relativeX: this.isVertical ? .5 : null,
					relativeY: this.isVertical ? null : .5,
					sliceType: "threeScale",
					isVertical: this.isVertical,
					atlasID: this.atlasID,
					baseFrameName: this.activeTrackBaseFrameName,
					width: this.isVertical ? a : this.width - 2 * (n.width + i),
					height: this.isVertical ? this.height - 2 * (n.height + i) : a
				}))
			}, e.prototype.postPopulate = function() {
				if (this.activeTrack = this.iterate("name", "activeTrack", Phaser.Group.RETURN_CHILD), this.inactiveTrack = this.iterate("name", "inactiveTrack", Phaser.Group.RETURN_CHILD), this.isInteractive) {
					this.setupButtons();
					var t = this.add(this.game.prodigy.create.sprite(0, 0, "atlas-18", "empty"));
					t.width = this.activeTrack.width, t.height = this.activeTrack.height, t.x = this.activeTrack.x, t.y = this.activeTrack.y, t.inputEnabled = !0, t.events.onInputDown.add(this.onTrackClick.bind(this))
				}
				if (this.hideInactive && (this.inactiveTrack.visible = !1), this.thumbSprite = this.game.prodigy.create.sprite(0, 0, "atlas-" + this.atlasID, this.thumbFrameName, this.thumbAnchor), this.thumbSprite.name = "thumbSprite", "" === this.thumbFrameName && (this.thumbSprite = this.game.prodigy.create.sprite(0, 0, "atlas-18", "empty")), this.thumbSprite.y = o.Util.getCenteredXY(0, this.thumbSprite.height, 0, this.activeTrack.y, 0, this.activeTrack.height).y, "" !== this.endCapAtlasID) {
					var e = this.getMaxThumbPosition();
					this.add(this.game.prodigy.create.sprite(e.x, e.y, "atlas-" + this.endCapAtlasID, this.endCapFrameName))
				}
				this.add(this.thumbSprite), this.showHead && (this.playerHead = this.game.prodigy.create.player(this.thumbSprite, this.game.prodigy.player, 1, 25, 105, !0, !0), this.playerHead.startLoad()), this.clampThumbWithinTrack();
				var i = this.getMinThumbPosition(),
					n = this.getMaxThumbPosition(),
					r = new Phaser.Rectangle(this.isVertical ? n.x : i.x, this.isVertical ? n.y : i.y, this.isVertical ? this.thumbSprite.width : this.activeTrack.width + this.thumbSprite.width, this.isVertical ? this.activeTrack.height + this.thumbSprite.height : this.thumbSprite.height),
					s = a.DrawUtil.createBox(this.game, 0, 0, this.activeTrack.width, this.activeTrack.height, 0, 1);
				this.thumbSprite.addChild(s), s.x = this.isVertical ? this.activeTrack.x - this.thumbSprite.x : -this.activeTrack.width, s.y = this.isVertical ? 0 : this.activeTrack.y - this.thumbSprite.y, s.x += this.isVertical ? 0 : .5 * this.thumbSprite.width, s.y += this.isVertical ? .5 * this.thumbSprite.height : 0, this.activeTrack.mask = s, this.isInteractive && (this.thumbSprite.inputEnabled = !0, this.thumbSprite.input.enableDrag(), this.thumbSprite.input.boundsRect = r, this.thumbSprite.events.onDragStop.add(this.onDragStop, this))
			}, e.prototype.getActiveTrack = function() {
				return this.activeTrack
			}, e.prototype.setupButtons = function() {
				var t = this,
					e = this.iterate("name", "lessButton", Phaser.Group.RETURN_CHILD),
					i = this.iterate("name", "moreButton", Phaser.Group.RETURN_CHILD);
				o.Util.isValid(e) && (e.iterate("name", "lessButtonGraphic", Phaser.Group.RETURN_CHILD).flipHorizontally(), e.onClickCallback = function() {
					t.onLessButtonClick()
				});
				o.Util.isValid(i) && (i.onClickCallback = function() {
					t.onMoreButtonClick()
				})
			}, e.prototype.setPercentComplete = function(t, e) {
				void 0 === e && (e = !1), this.setPercentCompleteOffset(t, 0, e)
			}, e.prototype.setPercentCompleteOffset = function(t, e, i) {
				void 0 === i && (i = !1), this.maxThumbPositionOffset = e;
				var n = this.isVertical ? this.getMinThumbPosition().y : this.getMinThumbPosition().x,
					a = this.isVertical ? this.getMaxThumbPosition().y : this.getMaxThumbPosition().x,
					o = Phaser.Math.linear(n, a, t);
				this.thumbSprite.x = this.isVertical ? this.thumbSprite.x : o, this.thumbSprite.y = this.isVertical ? o : this.thumbSprite.y, this.clampThumbWithinTrack(), this.thumbSprite.alpha = t > 0 || this.showHead ? 1 : 0, i || this.onScrollChange()
			}, e.prototype.getPositionAtPercent = function(t) {
				var e = this.isVertical ? this.getMinThumbPosition().y : this.getMinThumbPosition().x,
					i = this.isVertical ? this.getMaxThumbPosition().y : this.getMaxThumbPosition().x;
				return Phaser.Math.linear(e, i, t)
			}, e.prototype.adjustThumbPosition = function(t, e) {
				this.thumbSprite.x += t, this.thumbSprite.y += e, this.clampThumbWithinTrack()
			}, e.prototype.clampThumbWithinTrack = function() {
				var t = this.getMaxThumbPosition(!0),
					e = this.getMinThumbPosition();
				this.thumbSprite.x = Phaser.Math.clamp(this.thumbSprite.x, e.x, t.x), this.thumbSprite.y = Phaser.Math.clamp(this.thumbSprite.y, t.y, e.y)
			}, e.prototype.onDragStop = function() {
				this.onScrollChange()
			}, e.prototype.onTrackClick = function(t, e) {
				var i = this.isVertical ? e.y : e.x,
					n = this.isVertical ? t.world.y : t.world.x,
					a = this.isVertical ? t.y : t.x,
					o = this.isVertical ? t.height : t.width,
					r = this.isVertical ? this.thumbSprite.height : this.thumbSprite.width,
					s = (i - n) / o,
					l = Math.floor(a + o * s - .5 * r);
				this.isVertical ? this.thumbSprite.y = l : this.thumbSprite.x = l, this.clampThumbWithinTrack(), this.onScrollChange()
			}, e.prototype.onMoreButtonClick = function() {
				this.adjustThumbPosition(this.isVertical ? 0 : this.activeTrack.width * this.clickPercentageMovement, this.isVertical ? -this.activeTrack.height * this.clickPercentageMovement : 0), this.onScrollChange()
			}, e.prototype.onLessButtonClick = function() {
				this.adjustThumbPosition(this.isVertical ? 0 : -this.activeTrack.width * this.clickPercentageMovement, this.isVertical ? this.activeTrack.height * this.clickPercentageMovement : 0), this.onScrollChange()
			}, e.prototype.onScrollChange = function() {
				o.Util.isValid(this.onScrollChangeCallback) && this.onScrollChangeCallback(this.getPercentageComplete())
			}, e.prototype.getPercentageComplete = function() {
				var t = this.isVertical ? this.thumbSprite.y : this.thumbSprite.x,
					e = this.isVertical ? this.getMinThumbPosition().y : this.getMinThumbPosition().x,
					i = (this.isVertical ? this.getMaxThumbPosition().y : this.getMaxThumbPosition().x) - e,
					n = 1;
				return 0 !== i && (n = (t - e) / i), n
			}, e.prototype.getMaxThumbPosition = function(t) {
				var e, i;
				return void 0 === t && (t = !1), this.isVertical ? (e = o.Util.getCenteredXY(this.thumbSprite.width, 0, this.activeTrack.x, 0, this.activeTrack.width, 0).x, i = this.activeTrack.y - .5 * this.thumbSprite.height) : (e = this.activeTrack.x + this.activeTrack.width - .5 * this.thumbSprite.width, i = o.Util.getCenteredXY(0, this.thumbSprite.height, 0, this.activeTrack.y, 0, this.activeTrack.height).y), t || (e += this.maxThumbPositionOffset, i += this.maxThumbPositionOffset), {
					x: e,
					y: i
				}
			}, e.prototype.getMinThumbPosition = function() {
				var t = 0,
					e = 0;
				return this.isVertical ? (t = o.Util.getCenteredXY(this.thumbSprite.width, 0, this.activeTrack.x, 0, this.activeTrack.width, 0).x, e = this.activeTrack.y + this.activeTrack.height - .5 * this.thumbSprite.height) : (t = this.activeTrack.x - .5 * this.thumbSprite.width, e = o.Util.getCenteredXY(0, this.thumbSprite.height, 0, this.activeTrack.y, 0, this.activeTrack.height).y), {
					x: t,
					y: e
				}
			}, e.prototype.setActive3SlicedImage = function(t) {
				this.activeTrack.images[0].frameName = t + "-left", this.activeTrack.images[1].frameName = t + "-right", this.activeTrack.images[2].frameName = t + "-middle"
			}, e
		}(i(27).UIElement);
	e.Slider = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i) || this
		}
		return n(e, t), e.prototype.createImage = function(t, e) {}, e
	}(i(27).UIElement);
	e.GraphicBase = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(2),
		o = i(27),
		r = i(44),
		s = function(t) {
			function e(e, i, n, a) {
				void 0 === a && (a = []);
				var o = t.call(this, e, n) || this;
				return o.uiJsonId = i, o.onLoadComplete = new Phaser.Signal, null !== i && e.prodigy.load.assets(a, o.render.bind(o)), o
			}
			return n(e, t), e.prototype.getUiElement = function(t) {
				for (var e = null, i = 0; i < this.uiElements.length; i++)
					if (this.uiElements[i].name === t) {
						e = this.uiElements[i];
						break
					} return e
			}, e.prototype.addOnLoadCallback = function(t) {
				this.loadComplete ? t() : this.onLoadComplete.add(t)
			}, e.prototype.buildAssetList = function(t, e) {
				return void 0 === t && (t = []), t.concat(e)
			}, e.prototype.render = function() {
				this.createUIElements(), this.loadComplete = !0, this.onLoadComplete.dispatch(this)
			}, e.prototype.createUIElements = function() {
				var t = a.Items.getItem("ui", this.uiJsonId).data,
					e = new r.UIParser(this.game);
				this.uiElements = e.createUIElements(t.elements, this)
			}, e
		}(o.UIElement);
	e.Overlay = s
}, function(t, e, i) {
	var n;
	/*!
	 * jQuery JavaScript Library v3.3.1
	 * https://jquery.com/
	 *
	 * Includes Sizzle.js
	 * https://sizzlejs.com/
	 *
	 * Copyright JS Foundation and other contributors
	 * Released under the MIT license
	 * https://jquery.org/license
	 *
	 * Date: 2018-01-20T17:24Z
	 */
	/*!
	 * jQuery JavaScript Library v3.3.1
	 * https://jquery.com/
	 *
	 * Includes Sizzle.js
	 * https://sizzlejs.com/
	 *
	 * Copyright JS Foundation and other contributors
	 * Released under the MIT license
	 * https://jquery.org/license
	 *
	 * Date: 2018-01-20T17:24Z
	 */
	! function(e, i) {
		"use strict";
		"object" == typeof t && "object" == typeof t.exports ? t.exports = e.document ? i(e, !0) : function(t) {
			if (!t.document) throw new Error("jQuery requires a window with a document");
			return i(t)
		} : i(e)
	}("undefined" != typeof window ? window : this, function(i, a) {
		"use strict";
		var o = [],
			r = i.document,
			s = Object.getPrototypeOf,
			l = o.slice,
			c = o.concat,
			h = o.push,
			u = o.indexOf,
			p = {},
			d = p.toString,
			g = p.hasOwnProperty,
			f = g.toString,
			y = f.call(Object),
			m = {},
			_ = function(t) {
				return "function" == typeof t && "number" != typeof t.nodeType
			},
			v = function(t) {
				return null != t && t === t.window
			},
			E = {
				type: !0,
				src: !0,
				noModule: !0
			};

		function b(t, e, i) {
			var n, a = (e = e || r).createElement("script");
			if (a.text = t, i)
				for (n in E) i[n] && (a[n] = i[n]);
			e.head.appendChild(a).parentNode.removeChild(a)
		}

		function O(t) {
			return null == t ? t + "" : "object" == typeof t || "function" == typeof t ? p[d.call(t)] || "object" : typeof t
		}
		var I = function(t, e) {
				return new I.fn.init(t, e)
			},
			T = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;

		function A(t) {
			var e = !!t && "length" in t && t.length,
				i = O(t);
			return !_(t) && !v(t) && ("array" === i || 0 === e || "number" == typeof e && e > 0 && e - 1 in t)
		}
		I.fn = I.prototype = {
			jquery: "3.3.1",
			constructor: I,
			length: 0,
			toArray: function() {
				return l.call(this)
			},
			get: function(t) {
				return null == t ? l.call(this) : t < 0 ? this[t + this.length] : this[t]
			},
			pushStack: function(t) {
				var e = I.merge(this.constructor(), t);
				return e.prevObject = this, e
			},
			each: function(t) {
				return I.each(this, t)
			},
			map: function(t) {
				return this.pushStack(I.map(this, function(e, i) {
					return t.call(e, i, e)
				}))
			},
			slice: function() {
				return this.pushStack(l.apply(this, arguments))
			},
			first: function() {
				return this.eq(0)
			},
			last: function() {
				return this.eq(-1)
			},
			eq: function(t) {
				var e = this.length,
					i = +t + (t < 0 ? e : 0);
				return this.pushStack(i >= 0 && i < e ? [this[i]] : [])
			},
			end: function() {
				return this.prevObject || this.constructor()
			},
			push: h,
			sort: o.sort,
			splice: o.splice
		}, I.extend = I.fn.extend = function() {
			var t, e, i, n, a, o, r = arguments[0] || {},
				s = 1,
				l = arguments.length,
				c = !1;
			for ("boolean" == typeof r && (c = r, r = arguments[s] || {}, s++), "object" == typeof r || _(r) || (r = {}), s === l && (r = this, s--); s < l; s++)
				if (null != (t = arguments[s]))
					for (e in t) i = r[e], r !== (n = t[e]) && (c && n && (I.isPlainObject(n) || (a = Array.isArray(n))) ? (a ? (a = !1, o = i && Array.isArray(i) ? i : []) : o = i && I.isPlainObject(i) ? i : {}, r[e] = I.extend(c, o, n)) : void 0 !== n && (r[e] = n));
			return r
		}, I.extend({
			expando: "jQuery" + ("3.3.1" + Math.random()).replace(/\D/g, ""),
			isReady: !0,
			error: function(t) {
				throw new Error(t)
			},
			noop: function() {},
			isPlainObject: function(t) {
				var e, i;
				return !(!t || "[object Object]" !== d.call(t)) && (!(e = s(t)) || "function" == typeof(i = g.call(e, "constructor") && e.constructor) && f.call(i) === y)
			},
			isEmptyObject: function(t) {
				var e;
				for (e in t) return !1;
				return !0
			},
			globalEval: function(t) {
				b(t)
			},
			each: function(t, e) {
				var i, n = 0;
				if (A(t))
					for (i = t.length; n < i && !1 !== e.call(t[n], n, t[n]); n++);
				else
					for (n in t)
						if (!1 === e.call(t[n], n, t[n])) break;
				return t
			},
			trim: function(t) {
				return null == t ? "" : (t + "").replace(T, "")
			},
			makeArray: function(t, e) {
				var i = e || [];
				return null != t && (A(Object(t)) ? I.merge(i, "string" == typeof t ? [t] : t) : h.call(i, t)), i
			},
			inArray: function(t, e, i) {
				return null == e ? -1 : u.call(e, t, i)
			},
			merge: function(t, e) {
				for (var i = +e.length, n = 0, a = t.length; n < i; n++) t[a++] = e[n];
				return t.length = a, t
			},
			grep: function(t, e, i) {
				for (var n = [], a = 0, o = t.length, r = !i; a < o; a++) !e(t[a], a) !== r && n.push(t[a]);
				return n
			},
			map: function(t, e, i) {
				var n, a, o = 0,
					r = [];
				if (A(t))
					for (n = t.length; o < n; o++) null != (a = e(t[o], o, i)) && r.push(a);
				else
					for (o in t) null != (a = e(t[o], o, i)) && r.push(a);
				return c.apply([], r)
			},
			guid: 1,
			support: m
		}), "function" == typeof Symbol && (I.fn[Symbol.iterator] = o[Symbol.iterator]), I.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(t, e) {
			p["[object " + e + "]"] = e.toLowerCase()
		});
		var C =
			/*!
			 * Sizzle CSS Selector Engine v2.3.3
			 * https://sizzlejs.com/
			 *
			 * Copyright jQuery Foundation and other contributors
			 * Released under the MIT license
			 * http://jquery.org/license
			 *
			 * Date: 2016-08-08
			 */
			function(t) {
				var e, i, n, a, o, r, s, l, c, h, u, p, d, g, f, y, m, _, v, E = "sizzle" + 1 * new Date,
					b = t.document,
					O = 0,
					I = 0,
					T = rt(),
					A = rt(),
					C = rt(),
					S = function(t, e) {
						return t === e && (u = !0), 0
					},
					w = {}.hasOwnProperty,
					D = [],
					P = D.pop,
					L = D.push,
					x = D.push,
					M = D.slice,
					U = function(t, e) {
						for (var i = 0, n = t.length; i < n; i++)
							if (t[i] === e) return i;
						return -1
					},
					N = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
					R = "[\\x20\\t\\r\\n\\f]",
					k = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+",
					B = "\\[" + R + "*(" + k + ")(?:" + R + "*([*^$|!~]?=)" + R + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + k + "))|)" + R + "*\\]",
					G = ":(" + k + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + B + ")*)|.*)\\)|)",
					V = new RegExp(R + "+", "g"),
					F = new RegExp("^" + R + "+|((?:^|[^\\\\])(?:\\\\.)*)" + R + "+$", "g"),
					j = new RegExp("^" + R + "*," + R + "*"),
					H = new RegExp("^" + R + "*([>+~]|" + R + ")" + R + "*"),
					z = new RegExp("=" + R + "*([^\\]'\"]*?)" + R + "*\\]", "g"),
					W = new RegExp(G),
					K = new RegExp("^" + k + "$"),
					Y = {
						ID: new RegExp("^#(" + k + ")"),
						CLASS: new RegExp("^\\.(" + k + ")"),
						TAG: new RegExp("^(" + k + "|[*])"),
						ATTR: new RegExp("^" + B),
						PSEUDO: new RegExp("^" + G),
						CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + R + "*(even|odd|(([+-]|)(\\d*)n|)" + R + "*(?:([+-]|)" + R + "*(\\d+)|))" + R + "*\\)|)", "i"),
						bool: new RegExp("^(?:" + N + ")$", "i"),
						needsContext: new RegExp("^" + R + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + R + "*((?:-\\d)?\\d*)" + R + "*\\)|)(?=[^-]|$)", "i")
					},
					q = /^(?:input|select|textarea|button)$/i,
					Q = /^h\d$/i,
					X = /^[^{]+\{\s*\[native \w/,
					Z = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
					J = /[+~]/,
					$ = new RegExp("\\\\([\\da-f]{1,6}" + R + "?|(" + R + ")|.)", "ig"),
					tt = function(t, e, i) {
						var n = "0x" + e - 65536;
						return n != n || i ? e : n < 0 ? String.fromCharCode(n + 65536) : String.fromCharCode(n >> 10 | 55296, 1023 & n | 56320)
					},
					et = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
					it = function(t, e) {
						return e ? "\0" === t ? "" : t.slice(0, -1) + "\\" + t.charCodeAt(t.length - 1).toString(16) + " " : "\\" + t
					},
					nt = function() {
						p()
					},
					at = _t(function(t) {
						return !0 === t.disabled && ("form" in t || "label" in t)
					}, {
						dir: "parentNode",
						next: "legend"
					});
				try {
					x.apply(D = M.call(b.childNodes), b.childNodes), D[b.childNodes.length].nodeType
				} catch (t) {
					x = {
						apply: D.length ? function(t, e) {
							L.apply(t, M.call(e))
						} : function(t, e) {
							for (var i = t.length, n = 0; t[i++] = e[n++];);
							t.length = i - 1
						}
					}
				}

				function ot(t, e, n, a) {
					var o, s, c, h, u, g, m, _ = e && e.ownerDocument,
						O = e ? e.nodeType : 9;
					if (n = n || [], "string" != typeof t || !t || 1 !== O && 9 !== O && 11 !== O) return n;
					if (!a && ((e ? e.ownerDocument || e : b) !== d && p(e), e = e || d, f)) {
						if (11 !== O && (u = Z.exec(t)))
							if (o = u[1]) {
								if (9 === O) {
									if (!(c = e.getElementById(o))) return n;
									if (c.id === o) return n.push(c), n
								} else if (_ && (c = _.getElementById(o)) && v(e, c) && c.id === o) return n.push(c), n
							} else {
								if (u[2]) return x.apply(n, e.getElementsByTagName(t)), n;
								if ((o = u[3]) && i.getElementsByClassName && e.getElementsByClassName) return x.apply(n, e.getElementsByClassName(o)), n
							} if (i.qsa && !C[t + " "] && (!y || !y.test(t))) {
							if (1 !== O) _ = e, m = t;
							else if ("object" !== e.nodeName.toLowerCase()) {
								for ((h = e.getAttribute("id")) ? h = h.replace(et, it) : e.setAttribute("id", h = E), s = (g = r(t)).length; s--;) g[s] = "#" + h + " " + mt(g[s]);
								m = g.join(","), _ = J.test(t) && ft(e.parentNode) || e
							}
							if (m) try {
								return x.apply(n, _.querySelectorAll(m)), n
							} catch (t) {} finally {
								h === E && e.removeAttribute("id")
							}
						}
					}
					return l(t.replace(F, "$1"), e, n, a)
				}

				function rt() {
					var t = [];
					return function e(i, a) {
						return t.push(i + " ") > n.cacheLength && delete e[t.shift()], e[i + " "] = a
					}
				}

				function st(t) {
					return t[E] = !0, t
				}

				function lt(t) {
					var e = d.createElement("fieldset");
					try {
						return !!t(e)
					} catch (t) {
						return !1
					} finally {
						e.parentNode && e.parentNode.removeChild(e), e = null
					}
				}

				function ct(t, e) {
					for (var i = t.split("|"), a = i.length; a--;) n.attrHandle[i[a]] = e
				}

				function ht(t, e) {
					var i = e && t,
						n = i && 1 === t.nodeType && 1 === e.nodeType && t.sourceIndex - e.sourceIndex;
					if (n) return n;
					if (i)
						for (; i = i.nextSibling;)
							if (i === e) return -1;
					return t ? 1 : -1
				}

				function ut(t) {
					return function(e) {
						return "input" === e.nodeName.toLowerCase() && e.type === t
					}
				}

				function pt(t) {
					return function(e) {
						var i = e.nodeName.toLowerCase();
						return ("input" === i || "button" === i) && e.type === t
					}
				}

				function dt(t) {
					return function(e) {
						return "form" in e ? e.parentNode && !1 === e.disabled ? "label" in e ? "label" in e.parentNode ? e.parentNode.disabled === t : e.disabled === t : e.isDisabled === t || e.isDisabled !== !t && at(e) === t : e.disabled === t : "label" in e && e.disabled === t
					}
				}

				function gt(t) {
					return st(function(e) {
						return e = +e, st(function(i, n) {
							for (var a, o = t([], i.length, e), r = o.length; r--;) i[a = o[r]] && (i[a] = !(n[a] = i[a]))
						})
					})
				}

				function ft(t) {
					return t && void 0 !== t.getElementsByTagName && t
				}
				for (e in i = ot.support = {}, o = ot.isXML = function(t) {
						var e = t && (t.ownerDocument || t).documentElement;
						return !!e && "HTML" !== e.nodeName
					}, p = ot.setDocument = function(t) {
						var e, a, r = t ? t.ownerDocument || t : b;
						return r !== d && 9 === r.nodeType && r.documentElement ? (g = (d = r).documentElement, f = !o(d), b !== d && (a = d.defaultView) && a.top !== a && (a.addEventListener ? a.addEventListener("unload", nt, !1) : a.attachEvent && a.attachEvent("onunload", nt)), i.attributes = lt(function(t) {
							return t.className = "i", !t.getAttribute("className")
						}), i.getElementsByTagName = lt(function(t) {
							return t.appendChild(d.createComment("")), !t.getElementsByTagName("*").length
						}), i.getElementsByClassName = X.test(d.getElementsByClassName), i.getById = lt(function(t) {
							return g.appendChild(t).id = E, !d.getElementsByName || !d.getElementsByName(E).length
						}), i.getById ? (n.filter.ID = function(t) {
							var e = t.replace($, tt);
							return function(t) {
								return t.getAttribute("id") === e
							}
						}, n.find.ID = function(t, e) {
							if (void 0 !== e.getElementById && f) {
								var i = e.getElementById(t);
								return i ? [i] : []
							}
						}) : (n.filter.ID = function(t) {
							var e = t.replace($, tt);
							return function(t) {
								var i = void 0 !== t.getAttributeNode && t.getAttributeNode("id");
								return i && i.value === e
							}
						}, n.find.ID = function(t, e) {
							if (void 0 !== e.getElementById && f) {
								var i, n, a, o = e.getElementById(t);
								if (o) {
									if ((i = o.getAttributeNode("id")) && i.value === t) return [o];
									for (a = e.getElementsByName(t), n = 0; o = a[n++];)
										if ((i = o.getAttributeNode("id")) && i.value === t) return [o]
								}
								return []
							}
						}), n.find.TAG = i.getElementsByTagName ? function(t, e) {
							return void 0 !== e.getElementsByTagName ? e.getElementsByTagName(t) : i.qsa ? e.querySelectorAll(t) : void 0
						} : function(t, e) {
							var i, n = [],
								a = 0,
								o = e.getElementsByTagName(t);
							if ("*" === t) {
								for (; i = o[a++];) 1 === i.nodeType && n.push(i);
								return n
							}
							return o
						}, n.find.CLASS = i.getElementsByClassName && function(t, e) {
							if (void 0 !== e.getElementsByClassName && f) return e.getElementsByClassName(t)
						}, m = [], y = [], (i.qsa = X.test(d.querySelectorAll)) && (lt(function(t) {
							g.appendChild(t).innerHTML = "<a id='" + E + "'></a><select id='" + E + "-\r\\' msallowcapture=''><option selected=''></option></select>", t.querySelectorAll("[msallowcapture^='']").length && y.push("[*^$]=" + R + "*(?:''|\"\")"), t.querySelectorAll("[selected]").length || y.push("\\[" + R + "*(?:value|" + N + ")"), t.querySelectorAll("[id~=" + E + "-]").length || y.push("~="), t.querySelectorAll(":checked").length || y.push(":checked"), t.querySelectorAll("a#" + E + "+*").length || y.push(".#.+[+~]")
						}), lt(function(t) {
							t.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
							var e = d.createElement("input");
							e.setAttribute("type", "hidden"), t.appendChild(e).setAttribute("name", "D"), t.querySelectorAll("[name=d]").length && y.push("name" + R + "*[*^$|!~]?="), 2 !== t.querySelectorAll(":enabled").length && y.push(":enabled", ":disabled"), g.appendChild(t).disabled = !0, 2 !== t.querySelectorAll(":disabled").length && y.push(":enabled", ":disabled"), t.querySelectorAll("*,:x"), y.push(",.*:")
						})), (i.matchesSelector = X.test(_ = g.matches || g.webkitMatchesSelector || g.mozMatchesSelector || g.oMatchesSelector || g.msMatchesSelector)) && lt(function(t) {
							i.disconnectedMatch = _.call(t, "*"), _.call(t, "[s!='']:x"), m.push("!=", G)
						}), y = y.length && new RegExp(y.join("|")), m = m.length && new RegExp(m.join("|")), e = X.test(g.compareDocumentPosition), v = e || X.test(g.contains) ? function(t, e) {
							var i = 9 === t.nodeType ? t.documentElement : t,
								n = e && e.parentNode;
							return t === n || !(!n || 1 !== n.nodeType || !(i.contains ? i.contains(n) : t.compareDocumentPosition && 16 & t.compareDocumentPosition(n)))
						} : function(t, e) {
							if (e)
								for (; e = e.parentNode;)
									if (e === t) return !0;
							return !1
						}, S = e ? function(t, e) {
							if (t === e) return u = !0, 0;
							var n = !t.compareDocumentPosition - !e.compareDocumentPosition;
							return n || (1 & (n = (t.ownerDocument || t) === (e.ownerDocument || e) ? t.compareDocumentPosition(e) : 1) || !i.sortDetached && e.compareDocumentPosition(t) === n ? t === d || t.ownerDocument === b && v(b, t) ? -1 : e === d || e.ownerDocument === b && v(b, e) ? 1 : h ? U(h, t) - U(h, e) : 0 : 4 & n ? -1 : 1)
						} : function(t, e) {
							if (t === e) return u = !0, 0;
							var i, n = 0,
								a = t.parentNode,
								o = e.parentNode,
								r = [t],
								s = [e];
							if (!a || !o) return t === d ? -1 : e === d ? 1 : a ? -1 : o ? 1 : h ? U(h, t) - U(h, e) : 0;
							if (a === o) return ht(t, e);
							for (i = t; i = i.parentNode;) r.unshift(i);
							for (i = e; i = i.parentNode;) s.unshift(i);
							for (; r[n] === s[n];) n++;
							return n ? ht(r[n], s[n]) : r[n] === b ? -1 : s[n] === b ? 1 : 0
						}, d) : d
					}, ot.matches = function(t, e) {
						return ot(t, null, null, e)
					}, ot.matchesSelector = function(t, e) {
						if ((t.ownerDocument || t) !== d && p(t), e = e.replace(z, "='$1']"), i.matchesSelector && f && !C[e + " "] && (!m || !m.test(e)) && (!y || !y.test(e))) try {
							var n = _.call(t, e);
							if (n || i.disconnectedMatch || t.document && 11 !== t.document.nodeType) return n
						} catch (t) {}
						return ot(e, d, null, [t]).length > 0
					}, ot.contains = function(t, e) {
						return (t.ownerDocument || t) !== d && p(t), v(t, e)
					}, ot.attr = function(t, e) {
						(t.ownerDocument || t) !== d && p(t);
						var a = n.attrHandle[e.toLowerCase()],
							o = a && w.call(n.attrHandle, e.toLowerCase()) ? a(t, e, !f) : void 0;
						return void 0 !== o ? o : i.attributes || !f ? t.getAttribute(e) : (o = t.getAttributeNode(e)) && o.specified ? o.value : null
					}, ot.escape = function(t) {
						return (t + "").replace(et, it)
					}, ot.error = function(t) {
						throw new Error("Syntax error, unrecognized expression: " + t)
					}, ot.uniqueSort = function(t) {
						var e, n = [],
							a = 0,
							o = 0;
						if (u = !i.detectDuplicates, h = !i.sortStable && t.slice(0), t.sort(S), u) {
							for (; e = t[o++];) e === t[o] && (a = n.push(o));
							for (; a--;) t.splice(n[a], 1)
						}
						return h = null, t
					}, a = ot.getText = function(t) {
						var e, i = "",
							n = 0,
							o = t.nodeType;
						if (o) {
							if (1 === o || 9 === o || 11 === o) {
								if ("string" == typeof t.textContent) return t.textContent;
								for (t = t.firstChild; t; t = t.nextSibling) i += a(t)
							} else if (3 === o || 4 === o) return t.nodeValue
						} else
							for (; e = t[n++];) i += a(e);
						return i
					}, (n = ot.selectors = {
						cacheLength: 50,
						createPseudo: st,
						match: Y,
						attrHandle: {},
						find: {},
						relative: {
							">": {
								dir: "parentNode",
								first: !0
							},
							" ": {
								dir: "parentNode"
							},
							"+": {
								dir: "previousSibling",
								first: !0
							},
							"~": {
								dir: "previousSibling"
							}
						},
						preFilter: {
							ATTR: function(t) {
								return t[1] = t[1].replace($, tt), t[3] = (t[3] || t[4] || t[5] || "").replace($, tt), "~=" === t[2] && (t[3] = " " + t[3] + " "), t.slice(0, 4)
							},
							CHILD: function(t) {
								return t[1] = t[1].toLowerCase(), "nth" === t[1].slice(0, 3) ? (t[3] || ot.error(t[0]), t[4] = +(t[4] ? t[5] + (t[6] || 1) : 2 * ("even" === t[3] || "odd" === t[3])), t[5] = +(t[7] + t[8] || "odd" === t[3])) : t[3] && ot.error(t[0]), t
							},
							PSEUDO: function(t) {
								var e, i = !t[6] && t[2];
								return Y.CHILD.test(t[0]) ? null : (t[3] ? t[2] = t[4] || t[5] || "" : i && W.test(i) && (e = r(i, !0)) && (e = i.indexOf(")", i.length - e) - i.length) && (t[0] = t[0].slice(0, e), t[2] = i.slice(0, e)), t.slice(0, 3))
							}
						},
						filter: {
							TAG: function(t) {
								var e = t.replace($, tt).toLowerCase();
								return "*" === t ? function() {
									return !0
								} : function(t) {
									return t.nodeName && t.nodeName.toLowerCase() === e
								}
							},
							CLASS: function(t) {
								var e = T[t + " "];
								return e || (e = new RegExp("(^|" + R + ")" + t + "(" + R + "|$)")) && T(t, function(t) {
									return e.test("string" == typeof t.className && t.className || void 0 !== t.getAttribute && t.getAttribute("class") || "")
								})
							},
							ATTR: function(t, e, i) {
								return function(n) {
									var a = ot.attr(n, t);
									return null == a ? "!=" === e : !e || (a += "", "=" === e ? a === i : "!=" === e ? a !== i : "^=" === e ? i && 0 === a.indexOf(i) : "*=" === e ? i && a.indexOf(i) > -1 : "$=" === e ? i && a.slice(-i.length) === i : "~=" === e ? (" " + a.replace(V, " ") + " ").indexOf(i) > -1 : "|=" === e && (a === i || a.slice(0, i.length + 1) === i + "-"))
								}
							},
							CHILD: function(t, e, i, n, a) {
								var o = "nth" !== t.slice(0, 3),
									r = "last" !== t.slice(-4),
									s = "of-type" === e;
								return 1 === n && 0 === a ? function(t) {
									return !!t.parentNode
								} : function(e, i, l) {
									var c, h, u, p, d, g, f = o !== r ? "nextSibling" : "previousSibling",
										y = e.parentNode,
										m = s && e.nodeName.toLowerCase(),
										_ = !l && !s,
										v = !1;
									if (y) {
										if (o) {
											for (; f;) {
												for (p = e; p = p[f];)
													if (s ? p.nodeName.toLowerCase() === m : 1 === p.nodeType) return !1;
												g = f = "only" === t && !g && "nextSibling"
											}
											return !0
										}
										if (g = [r ? y.firstChild : y.lastChild], r && _) {
											for (v = (d = (c = (h = (u = (p = y)[E] || (p[E] = {}))[p.uniqueID] || (u[p.uniqueID] = {}))[t] || [])[0] === O && c[1]) && c[2], p = d && y.childNodes[d]; p = ++d && p && p[f] || (v = d = 0) || g.pop();)
												if (1 === p.nodeType && ++v && p === e) {
													h[t] = [O, d, v];
													break
												}
										} else if (_ && (v = d = (c = (h = (u = (p = e)[E] || (p[E] = {}))[p.uniqueID] || (u[p.uniqueID] = {}))[t] || [])[0] === O && c[1]), !1 === v)
											for (;
												(p = ++d && p && p[f] || (v = d = 0) || g.pop()) && ((s ? p.nodeName.toLowerCase() !== m : 1 !== p.nodeType) || !++v || (_ && ((h = (u = p[E] || (p[E] = {}))[p.uniqueID] || (u[p.uniqueID] = {}))[t] = [O, v]), p !== e)););
										return (v -= a) === n || v % n == 0 && v / n >= 0
									}
								}
							},
							PSEUDO: function(t, e) {
								var i, a = n.pseudos[t] || n.setFilters[t.toLowerCase()] || ot.error("unsupported pseudo: " + t);
								return a[E] ? a(e) : a.length > 1 ? (i = [t, t, "", e], n.setFilters.hasOwnProperty(t.toLowerCase()) ? st(function(t, i) {
									for (var n, o = a(t, e), r = o.length; r--;) t[n = U(t, o[r])] = !(i[n] = o[r])
								}) : function(t) {
									return a(t, 0, i)
								}) : a
							}
						},
						pseudos: {
							not: st(function(t) {
								var e = [],
									i = [],
									n = s(t.replace(F, "$1"));
								return n[E] ? st(function(t, e, i, a) {
									for (var o, r = n(t, null, a, []), s = t.length; s--;)(o = r[s]) && (t[s] = !(e[s] = o))
								}) : function(t, a, o) {
									return e[0] = t, n(e, null, o, i), e[0] = null, !i.pop()
								}
							}),
							has: st(function(t) {
								return function(e) {
									return ot(t, e).length > 0
								}
							}),
							contains: st(function(t) {
								return t = t.replace($, tt),
									function(e) {
										return (e.textContent || e.innerText || a(e)).indexOf(t) > -1
									}
							}),
							lang: st(function(t) {
								return K.test(t || "") || ot.error("unsupported lang: " + t), t = t.replace($, tt).toLowerCase(),
									function(e) {
										var i;
										do {
											if (i = f ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang")) return (i = i.toLowerCase()) === t || 0 === i.indexOf(t + "-")
										} while ((e = e.parentNode) && 1 === e.nodeType);
										return !1
									}
							}),
							target: function(e) {
								var i = t.location && t.location.hash;
								return i && i.slice(1) === e.id
							},
							root: function(t) {
								return t === g
							},
							focus: function(t) {
								return t === d.activeElement && (!d.hasFocus || d.hasFocus()) && !!(t.type || t.href || ~t.tabIndex)
							},
							enabled: dt(!1),
							disabled: dt(!0),
							checked: function(t) {
								var e = t.nodeName.toLowerCase();
								return "input" === e && !!t.checked || "option" === e && !!t.selected
							},
							selected: function(t) {
								return t.parentNode && t.parentNode.selectedIndex, !0 === t.selected
							},
							empty: function(t) {
								for (t = t.firstChild; t; t = t.nextSibling)
									if (t.nodeType < 6) return !1;
								return !0
							},
							parent: function(t) {
								return !n.pseudos.empty(t)
							},
							header: function(t) {
								return Q.test(t.nodeName)
							},
							input: function(t) {
								return q.test(t.nodeName)
							},
							button: function(t) {
								var e = t.nodeName.toLowerCase();
								return "input" === e && "button" === t.type || "button" === e
							},
							text: function(t) {
								var e;
								return "input" === t.nodeName.toLowerCase() && "text" === t.type && (null == (e = t.getAttribute("type")) || "text" === e.toLowerCase())
							},
							first: gt(function() {
								return [0]
							}),
							last: gt(function(t, e) {
								return [e - 1]
							}),
							eq: gt(function(t, e, i) {
								return [i < 0 ? i + e : i]
							}),
							even: gt(function(t, e) {
								for (var i = 0; i < e; i += 2) t.push(i);
								return t
							}),
							odd: gt(function(t, e) {
								for (var i = 1; i < e; i += 2) t.push(i);
								return t
							}),
							lt: gt(function(t, e, i) {
								for (var n = i < 0 ? i + e : i; --n >= 0;) t.push(n);
								return t
							}),
							gt: gt(function(t, e, i) {
								for (var n = i < 0 ? i + e : i; ++n < e;) t.push(n);
								return t
							})
						}
					}).pseudos.nth = n.pseudos.eq, {
						radio: !0,
						checkbox: !0,
						file: !0,
						password: !0,
						image: !0
					}) n.pseudos[e] = ut(e);
				for (e in {
						submit: !0,
						reset: !0
					}) n.pseudos[e] = pt(e);

				function yt() {}

				function mt(t) {
					for (var e = 0, i = t.length, n = ""; e < i; e++) n += t[e].value;
					return n
				}

				function _t(t, e, i) {
					var n = e.dir,
						a = e.next,
						o = a || n,
						r = i && "parentNode" === o,
						s = I++;
					return e.first ? function(e, i, a) {
						for (; e = e[n];)
							if (1 === e.nodeType || r) return t(e, i, a);
						return !1
					} : function(e, i, l) {
						var c, h, u, p = [O, s];
						if (l) {
							for (; e = e[n];)
								if ((1 === e.nodeType || r) && t(e, i, l)) return !0
						} else
							for (; e = e[n];)
								if (1 === e.nodeType || r)
									if (h = (u = e[E] || (e[E] = {}))[e.uniqueID] || (u[e.uniqueID] = {}), a && a === e.nodeName.toLowerCase()) e = e[n] || e;
									else {
										if ((c = h[o]) && c[0] === O && c[1] === s) return p[2] = c[2];
										if (h[o] = p, p[2] = t(e, i, l)) return !0
									} return !1
					}
				}

				function vt(t) {
					return t.length > 1 ? function(e, i, n) {
						for (var a = t.length; a--;)
							if (!t[a](e, i, n)) return !1;
						return !0
					} : t[0]
				}

				function Et(t, e, i, n, a) {
					for (var o, r = [], s = 0, l = t.length, c = null != e; s < l; s++)(o = t[s]) && (i && !i(o, n, a) || (r.push(o), c && e.push(s)));
					return r
				}

				function bt(t, e, i, n, a, o) {
					return n && !n[E] && (n = bt(n)), a && !a[E] && (a = bt(a, o)), st(function(o, r, s, l) {
						var c, h, u, p = [],
							d = [],
							g = r.length,
							f = o || function(t, e, i) {
								for (var n = 0, a = e.length; n < a; n++) ot(t, e[n], i);
								return i
							}(e || "*", s.nodeType ? [s] : s, []),
							y = !t || !o && e ? f : Et(f, p, t, s, l),
							m = i ? a || (o ? t : g || n) ? [] : r : y;
						if (i && i(y, m, s, l), n)
							for (c = Et(m, d), n(c, [], s, l), h = c.length; h--;)(u = c[h]) && (m[d[h]] = !(y[d[h]] = u));
						if (o) {
							if (a || t) {
								if (a) {
									for (c = [], h = m.length; h--;)(u = m[h]) && c.push(y[h] = u);
									a(null, m = [], c, l)
								}
								for (h = m.length; h--;)(u = m[h]) && (c = a ? U(o, u) : p[h]) > -1 && (o[c] = !(r[c] = u))
							}
						} else m = Et(m === r ? m.splice(g, m.length) : m), a ? a(null, r, m, l) : x.apply(r, m)
					})
				}

				function Ot(t) {
					for (var e, i, a, o = t.length, r = n.relative[t[0].type], s = r || n.relative[" "], l = r ? 1 : 0, h = _t(function(t) {
							return t === e
						}, s, !0), u = _t(function(t) {
							return U(e, t) > -1
						}, s, !0), p = [function(t, i, n) {
							var a = !r && (n || i !== c) || ((e = i).nodeType ? h(t, i, n) : u(t, i, n));
							return e = null, a
						}]; l < o; l++)
						if (i = n.relative[t[l].type]) p = [_t(vt(p), i)];
						else {
							if ((i = n.filter[t[l].type].apply(null, t[l].matches))[E]) {
								for (a = ++l; a < o && !n.relative[t[a].type]; a++);
								return bt(l > 1 && vt(p), l > 1 && mt(t.slice(0, l - 1).concat({
									value: " " === t[l - 2].type ? "*" : ""
								})).replace(F, "$1"), i, l < a && Ot(t.slice(l, a)), a < o && Ot(t = t.slice(a)), a < o && mt(t))
							}
							p.push(i)
						} return vt(p)
				}
				return yt.prototype = n.filters = n.pseudos, n.setFilters = new yt, r = ot.tokenize = function(t, e) {
					var i, a, o, r, s, l, c, h = A[t + " "];
					if (h) return e ? 0 : h.slice(0);
					for (s = t, l = [], c = n.preFilter; s;) {
						for (r in i && !(a = j.exec(s)) || (a && (s = s.slice(a[0].length) || s), l.push(o = [])), i = !1, (a = H.exec(s)) && (i = a.shift(), o.push({
								value: i,
								type: a[0].replace(F, " ")
							}), s = s.slice(i.length)), n.filter) !(a = Y[r].exec(s)) || c[r] && !(a = c[r](a)) || (i = a.shift(), o.push({
							value: i,
							type: r,
							matches: a
						}), s = s.slice(i.length));
						if (!i) break
					}
					return e ? s.length : s ? ot.error(t) : A(t, l).slice(0)
				}, s = ot.compile = function(t, e) {
					var i, a = [],
						o = [],
						s = C[t + " "];
					if (!s) {
						for (e || (e = r(t)), i = e.length; i--;)(s = Ot(e[i]))[E] ? a.push(s) : o.push(s);
						(s = C(t, function(t, e) {
							var i = e.length > 0,
								a = t.length > 0,
								o = function(o, r, s, l, h) {
									var u, g, y, m = 0,
										_ = "0",
										v = o && [],
										E = [],
										b = c,
										I = o || a && n.find.TAG("*", h),
										T = O += null == b ? 1 : Math.random() || .1,
										A = I.length;
									for (h && (c = r === d || r || h); _ !== A && null != (u = I[_]); _++) {
										if (a && u) {
											for (g = 0, r || u.ownerDocument === d || (p(u), s = !f); y = t[g++];)
												if (y(u, r || d, s)) {
													l.push(u);
													break
												} h && (O = T)
										}
										i && ((u = !y && u) && m--, o && v.push(u))
									}
									if (m += _, i && _ !== m) {
										for (g = 0; y = e[g++];) y(v, E, r, s);
										if (o) {
											if (m > 0)
												for (; _--;) v[_] || E[_] || (E[_] = P.call(l));
											E = Et(E)
										}
										x.apply(l, E), h && !o && E.length > 0 && m + e.length > 1 && ot.uniqueSort(l)
									}
									return h && (O = T, c = b), v
								};
							return i ? st(o) : o
						}(o, a))).selector = t
					}
					return s
				}, l = ot.select = function(t, e, i, a) {
					var o, l, c, h, u, p = "function" == typeof t && t,
						d = !a && r(t = p.selector || t);
					if (i = i || [], 1 === d.length) {
						if ((l = d[0] = d[0].slice(0)).length > 2 && "ID" === (c = l[0]).type && 9 === e.nodeType && f && n.relative[l[1].type]) {
							if (!(e = (n.find.ID(c.matches[0].replace($, tt), e) || [])[0])) return i;
							p && (e = e.parentNode), t = t.slice(l.shift().value.length)
						}
						for (o = Y.needsContext.test(t) ? 0 : l.length; o-- && (c = l[o], !n.relative[h = c.type]);)
							if ((u = n.find[h]) && (a = u(c.matches[0].replace($, tt), J.test(l[0].type) && ft(e.parentNode) || e))) {
								if (l.splice(o, 1), !(t = a.length && mt(l))) return x.apply(i, a), i;
								break
							}
					}
					return (p || s(t, d))(a, e, !f, i, !e || J.test(t) && ft(e.parentNode) || e), i
				}, i.sortStable = E.split("").sort(S).join("") === E, i.detectDuplicates = !!u, p(), i.sortDetached = lt(function(t) {
					return 1 & t.compareDocumentPosition(d.createElement("fieldset"))
				}), lt(function(t) {
					return t.innerHTML = "<a href='#'></a>", "#" === t.firstChild.getAttribute("href")
				}) || ct("type|href|height|width", function(t, e, i) {
					if (!i) return t.getAttribute(e, "type" === e.toLowerCase() ? 1 : 2)
				}), i.attributes && lt(function(t) {
					return t.innerHTML = "<input/>", t.firstChild.setAttribute("value", ""), "" === t.firstChild.getAttribute("value")
				}) || ct("value", function(t, e, i) {
					if (!i && "input" === t.nodeName.toLowerCase()) return t.defaultValue
				}), lt(function(t) {
					return null == t.getAttribute("disabled")
				}) || ct(N, function(t, e, i) {
					var n;
					if (!i) return !0 === t[e] ? e.toLowerCase() : (n = t.getAttributeNode(e)) && n.specified ? n.value : null
				}), ot
			}(i);
		I.find = C, I.expr = C.selectors, I.expr[":"] = I.expr.pseudos, I.uniqueSort = I.unique = C.uniqueSort, I.text = C.getText, I.isXMLDoc = C.isXML, I.contains = C.contains, I.escapeSelector = C.escape;
		var S = function(t, e, i) {
				for (var n = [], a = void 0 !== i;
					(t = t[e]) && 9 !== t.nodeType;)
					if (1 === t.nodeType) {
						if (a && I(t).is(i)) break;
						n.push(t)
					} return n
			},
			w = function(t, e) {
				for (var i = []; t; t = t.nextSibling) 1 === t.nodeType && t !== e && i.push(t);
				return i
			},
			D = I.expr.match.needsContext;

		function P(t, e) {
			return t.nodeName && t.nodeName.toLowerCase() === e.toLowerCase()
		}
		var L = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;

		function x(t, e, i) {
			return _(e) ? I.grep(t, function(t, n) {
				return !!e.call(t, n, t) !== i
			}) : e.nodeType ? I.grep(t, function(t) {
				return t === e !== i
			}) : "string" != typeof e ? I.grep(t, function(t) {
				return u.call(e, t) > -1 !== i
			}) : I.filter(e, t, i)
		}
		I.filter = function(t, e, i) {
			var n = e[0];
			return i && (t = ":not(" + t + ")"), 1 === e.length && 1 === n.nodeType ? I.find.matchesSelector(n, t) ? [n] : [] : I.find.matches(t, I.grep(e, function(t) {
				return 1 === t.nodeType
			}))
		}, I.fn.extend({
			find: function(t) {
				var e, i, n = this.length,
					a = this;
				if ("string" != typeof t) return this.pushStack(I(t).filter(function() {
					for (e = 0; e < n; e++)
						if (I.contains(a[e], this)) return !0
				}));
				for (i = this.pushStack([]), e = 0; e < n; e++) I.find(t, a[e], i);
				return n > 1 ? I.uniqueSort(i) : i
			},
			filter: function(t) {
				return this.pushStack(x(this, t || [], !1))
			},
			not: function(t) {
				return this.pushStack(x(this, t || [], !0))
			},
			is: function(t) {
				return !!x(this, "string" == typeof t && D.test(t) ? I(t) : t || [], !1).length
			}
		});
		var M, U = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;
		(I.fn.init = function(t, e, i) {
			var n, a;
			if (!t) return this;
			if (i = i || M, "string" == typeof t) {
				if (!(n = "<" === t[0] && ">" === t[t.length - 1] && t.length >= 3 ? [null, t, null] : U.exec(t)) || !n[1] && e) return !e || e.jquery ? (e || i).find(t) : this.constructor(e).find(t);
				if (n[1]) {
					if (e = e instanceof I ? e[0] : e, I.merge(this, I.parseHTML(n[1], e && e.nodeType ? e.ownerDocument || e : r, !0)), L.test(n[1]) && I.isPlainObject(e))
						for (n in e) _(this[n]) ? this[n](e[n]) : this.attr(n, e[n]);
					return this
				}
				return (a = r.getElementById(n[2])) && (this[0] = a, this.length = 1), this
			}
			return t.nodeType ? (this[0] = t, this.length = 1, this) : _(t) ? void 0 !== i.ready ? i.ready(t) : t(I) : I.makeArray(t, this)
		}).prototype = I.fn, M = I(r);
		var N = /^(?:parents|prev(?:Until|All))/,
			R = {
				children: !0,
				contents: !0,
				next: !0,
				prev: !0
			};

		function k(t, e) {
			for (;
				(t = t[e]) && 1 !== t.nodeType;);
			return t
		}
		I.fn.extend({
			has: function(t) {
				var e = I(t, this),
					i = e.length;
				return this.filter(function() {
					for (var t = 0; t < i; t++)
						if (I.contains(this, e[t])) return !0
				})
			},
			closest: function(t, e) {
				var i, n = 0,
					a = this.length,
					o = [],
					r = "string" != typeof t && I(t);
				if (!D.test(t))
					for (; n < a; n++)
						for (i = this[n]; i && i !== e; i = i.parentNode)
							if (i.nodeType < 11 && (r ? r.index(i) > -1 : 1 === i.nodeType && I.find.matchesSelector(i, t))) {
								o.push(i);
								break
							} return this.pushStack(o.length > 1 ? I.uniqueSort(o) : o)
			},
			index: function(t) {
				return t ? "string" == typeof t ? u.call(I(t), this[0]) : u.call(this, t.jquery ? t[0] : t) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
			},
			add: function(t, e) {
				return this.pushStack(I.uniqueSort(I.merge(this.get(), I(t, e))))
			},
			addBack: function(t) {
				return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
			}
		}), I.each({
			parent: function(t) {
				var e = t.parentNode;
				return e && 11 !== e.nodeType ? e : null
			},
			parents: function(t) {
				return S(t, "parentNode")
			},
			parentsUntil: function(t, e, i) {
				return S(t, "parentNode", i)
			},
			next: function(t) {
				return k(t, "nextSibling")
			},
			prev: function(t) {
				return k(t, "previousSibling")
			},
			nextAll: function(t) {
				return S(t, "nextSibling")
			},
			prevAll: function(t) {
				return S(t, "previousSibling")
			},
			nextUntil: function(t, e, i) {
				return S(t, "nextSibling", i)
			},
			prevUntil: function(t, e, i) {
				return S(t, "previousSibling", i)
			},
			siblings: function(t) {
				return w((t.parentNode || {}).firstChild, t)
			},
			children: function(t) {
				return w(t.firstChild)
			},
			contents: function(t) {
				return P(t, "iframe") ? t.contentDocument : (P(t, "template") && (t = t.content || t), I.merge([], t.childNodes))
			}
		}, function(t, e) {
			I.fn[t] = function(i, n) {
				var a = I.map(this, e, i);
				return "Until" !== t.slice(-5) && (n = i), n && "string" == typeof n && (a = I.filter(n, a)), this.length > 1 && (R[t] || I.uniqueSort(a), N.test(t) && a.reverse()), this.pushStack(a)
			}
		});
		var B = /[^\x20\t\r\n\f]+/g;

		function G(t) {
			return t
		}

		function V(t) {
			throw t
		}

		function F(t, e, i, n) {
			var a;
			try {
				t && _(a = t.promise) ? a.call(t).done(e).fail(i) : t && _(a = t.then) ? a.call(t, e, i) : e.apply(void 0, [t].slice(n))
			} catch (t) {
				i.apply(void 0, [t])
			}
		}
		I.Callbacks = function(t) {
			t = "string" == typeof t ? function(t) {
				var e = {};
				return I.each(t.match(B) || [], function(t, i) {
					e[i] = !0
				}), e
			}(t) : I.extend({}, t);
			var e, i, n, a, o = [],
				r = [],
				s = -1,
				l = function() {
					for (a = a || t.once, n = e = !0; r.length; s = -1)
						for (i = r.shift(); ++s < o.length;) !1 === o[s].apply(i[0], i[1]) && t.stopOnFalse && (s = o.length, i = !1);
					t.memory || (i = !1), e = !1, a && (o = i ? [] : "")
				},
				c = {
					add: function() {
						return o && (i && !e && (s = o.length - 1, r.push(i)), function e(i) {
							I.each(i, function(i, n) {
								_(n) ? t.unique && c.has(n) || o.push(n) : n && n.length && "string" !== O(n) && e(n)
							})
						}(arguments), i && !e && l()), this
					},
					remove: function() {
						return I.each(arguments, function(t, e) {
							for (var i;
								(i = I.inArray(e, o, i)) > -1;) o.splice(i, 1), i <= s && s--
						}), this
					},
					has: function(t) {
						return t ? I.inArray(t, o) > -1 : o.length > 0
					},
					empty: function() {
						return o && (o = []), this
					},
					disable: function() {
						return a = r = [], o = i = "", this
					},
					disabled: function() {
						return !o
					},
					lock: function() {
						return a = r = [], i || e || (o = i = ""), this
					},
					locked: function() {
						return !!a
					},
					fireWith: function(t, i) {
						return a || (i = [t, (i = i || []).slice ? i.slice() : i], r.push(i), e || l()), this
					},
					fire: function() {
						return c.fireWith(this, arguments), this
					},
					fired: function() {
						return !!n
					}
				};
			return c
		}, I.extend({
			Deferred: function(t) {
				var e = [
						["notify", "progress", I.Callbacks("memory"), I.Callbacks("memory"), 2],
						["resolve", "done", I.Callbacks("once memory"), I.Callbacks("once memory"), 0, "resolved"],
						["reject", "fail", I.Callbacks("once memory"), I.Callbacks("once memory"), 1, "rejected"]
					],
					n = "pending",
					a = {
						state: function() {
							return n
						},
						always: function() {
							return o.done(arguments).fail(arguments), this
						},
						catch: function(t) {
							return a.then(null, t)
						},
						pipe: function() {
							var t = arguments;
							return I.Deferred(function(i) {
								I.each(e, function(e, n) {
									var a = _(t[n[4]]) && t[n[4]];
									o[n[1]](function() {
										var t = a && a.apply(this, arguments);
										t && _(t.promise) ? t.promise().progress(i.notify).done(i.resolve).fail(i.reject) : i[n[0] + "With"](this, a ? [t] : arguments)
									})
								}), t = null
							}).promise()
						},
						then: function(t, n, a) {
							var o = 0;

							function r(t, e, n, a) {
								return function() {
									var s = this,
										l = arguments,
										c = function() {
											var i, c;
											if (!(t < o)) {
												if ((i = n.apply(s, l)) === e.promise()) throw new TypeError("Thenable self-resolution");
												c = i && ("object" == typeof i || "function" == typeof i) && i.then, _(c) ? a ? c.call(i, r(o, e, G, a), r(o, e, V, a)) : (o++, c.call(i, r(o, e, G, a), r(o, e, V, a), r(o, e, G, e.notifyWith))) : (n !== G && (s = void 0, l = [i]), (a || e.resolveWith)(s, l))
											}
										},
										h = a ? c : function() {
											try {
												c()
											} catch (i) {
												I.Deferred.exceptionHook && I.Deferred.exceptionHook(i, h.stackTrace), t + 1 >= o && (n !== V && (s = void 0, l = [i]), e.rejectWith(s, l))
											}
										};
									t ? h() : (I.Deferred.getStackHook && (h.stackTrace = I.Deferred.getStackHook()), i.setTimeout(h))
								}
							}
							return I.Deferred(function(i) {
								e[0][3].add(r(0, i, _(a) ? a : G, i.notifyWith)), e[1][3].add(r(0, i, _(t) ? t : G)), e[2][3].add(r(0, i, _(n) ? n : V))
							}).promise()
						},
						promise: function(t) {
							return null != t ? I.extend(t, a) : a
						}
					},
					o = {};
				return I.each(e, function(t, i) {
					var r = i[2],
						s = i[5];
					a[i[1]] = r.add, s && r.add(function() {
						n = s
					}, e[3 - t][2].disable, e[3 - t][3].disable, e[0][2].lock, e[0][3].lock), r.add(i[3].fire), o[i[0]] = function() {
						return o[i[0] + "With"](this === o ? void 0 : this, arguments), this
					}, o[i[0] + "With"] = r.fireWith
				}), a.promise(o), t && t.call(o, o), o
			},
			when: function(t) {
				var e = arguments.length,
					i = e,
					n = Array(i),
					a = l.call(arguments),
					o = I.Deferred(),
					r = function(t) {
						return function(i) {
							n[t] = this, a[t] = arguments.length > 1 ? l.call(arguments) : i, --e || o.resolveWith(n, a)
						}
					};
				if (e <= 1 && (F(t, o.done(r(i)).resolve, o.reject, !e), "pending" === o.state() || _(a[i] && a[i].then))) return o.then();
				for (; i--;) F(a[i], r(i), o.reject);
				return o.promise()
			}
		});
		var j = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
		I.Deferred.exceptionHook = function(t, e) {
			i.console && i.console.warn && t && j.test(t.name) && i.console.warn("jQuery.Deferred exception: " + t.message, t.stack, e)
		}, I.readyException = function(t) {
			i.setTimeout(function() {
				throw t
			})
		};
		var H = I.Deferred();

		function z() {
			r.removeEventListener("DOMContentLoaded", z), i.removeEventListener("load", z), I.ready()
		}
		I.fn.ready = function(t) {
			return H.then(t).catch(function(t) {
				I.readyException(t)
			}), this
		}, I.extend({
			isReady: !1,
			readyWait: 1,
			ready: function(t) {
				(!0 === t ? --I.readyWait : I.isReady) || (I.isReady = !0, !0 !== t && --I.readyWait > 0 || H.resolveWith(r, [I]))
			}
		}), I.ready.then = H.then, "complete" === r.readyState || "loading" !== r.readyState && !r.documentElement.doScroll ? i.setTimeout(I.ready) : (r.addEventListener("DOMContentLoaded", z), i.addEventListener("load", z));
		var W = function(t, e, i, n, a, o, r) {
				var s = 0,
					l = t.length,
					c = null == i;
				if ("object" === O(i))
					for (s in a = !0, i) W(t, e, s, i[s], !0, o, r);
				else if (void 0 !== n && (a = !0, _(n) || (r = !0), c && (r ? (e.call(t, n), e = null) : (c = e, e = function(t, e, i) {
						return c.call(I(t), i)
					})), e))
					for (; s < l; s++) e(t[s], i, r ? n : n.call(t[s], s, e(t[s], i)));
				return a ? t : c ? e.call(t) : l ? e(t[0], i) : o
			},
			K = /^-ms-/,
			Y = /-([a-z])/g;

		function q(t, e) {
			return e.toUpperCase()
		}

		function Q(t) {
			return t.replace(K, "ms-").replace(Y, q)
		}
		var X = function(t) {
			return 1 === t.nodeType || 9 === t.nodeType || !+t.nodeType
		};

		function Z() {
			this.expando = I.expando + Z.uid++
		}
		Z.uid = 1, Z.prototype = {
			cache: function(t) {
				var e = t[this.expando];
				return e || (e = {}, X(t) && (t.nodeType ? t[this.expando] = e : Object.defineProperty(t, this.expando, {
					value: e,
					configurable: !0
				}))), e
			},
			set: function(t, e, i) {
				var n, a = this.cache(t);
				if ("string" == typeof e) a[Q(e)] = i;
				else
					for (n in e) a[Q(n)] = e[n];
				return a
			},
			get: function(t, e) {
				return void 0 === e ? this.cache(t) : t[this.expando] && t[this.expando][Q(e)]
			},
			access: function(t, e, i) {
				return void 0 === e || e && "string" == typeof e && void 0 === i ? this.get(t, e) : (this.set(t, e, i), void 0 !== i ? i : e)
			},
			remove: function(t, e) {
				var i, n = t[this.expando];
				if (void 0 !== n) {
					if (void 0 !== e) {
						i = (e = Array.isArray(e) ? e.map(Q) : (e = Q(e)) in n ? [e] : e.match(B) || []).length;
						for (; i--;) delete n[e[i]]
					}(void 0 === e || I.isEmptyObject(n)) && (t.nodeType ? t[this.expando] = void 0 : delete t[this.expando])
				}
			},
			hasData: function(t) {
				var e = t[this.expando];
				return void 0 !== e && !I.isEmptyObject(e)
			}
		};
		var J = new Z,
			$ = new Z,
			tt = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
			et = /[A-Z]/g;

		function it(t, e, i) {
			var n;
			if (void 0 === i && 1 === t.nodeType)
				if (n = "data-" + e.replace(et, "-$&").toLowerCase(), "string" == typeof(i = t.getAttribute(n))) {
					try {
						i = function(t) {
							return "true" === t || "false" !== t && ("null" === t ? null : t === +t + "" ? +t : tt.test(t) ? JSON.parse(t) : t)
						}(i)
					} catch (t) {}
					$.set(t, e, i)
				} else i = void 0;
			return i
		}
		I.extend({
			hasData: function(t) {
				return $.hasData(t) || J.hasData(t)
			},
			data: function(t, e, i) {
				return $.access(t, e, i)
			},
			removeData: function(t, e) {
				$.remove(t, e)
			},
			_data: function(t, e, i) {
				return J.access(t, e, i)
			},
			_removeData: function(t, e) {
				J.remove(t, e)
			}
		}), I.fn.extend({
			data: function(t, e) {
				var i, n, a, o = this[0],
					r = o && o.attributes;
				if (void 0 === t) {
					if (this.length && (a = $.get(o), 1 === o.nodeType && !J.get(o, "hasDataAttrs"))) {
						for (i = r.length; i--;) r[i] && 0 === (n = r[i].name).indexOf("data-") && (n = Q(n.slice(5)), it(o, n, a[n]));
						J.set(o, "hasDataAttrs", !0)
					}
					return a
				}
				return "object" == typeof t ? this.each(function() {
					$.set(this, t)
				}) : W(this, function(e) {
					var i;
					if (o && void 0 === e) return void 0 !== (i = $.get(o, t)) ? i : void 0 !== (i = it(o, t)) ? i : void 0;
					this.each(function() {
						$.set(this, t, e)
					})
				}, null, e, arguments.length > 1, null, !0)
			},
			removeData: function(t) {
				return this.each(function() {
					$.remove(this, t)
				})
			}
		}), I.extend({
			queue: function(t, e, i) {
				var n;
				if (t) return e = (e || "fx") + "queue", n = J.get(t, e), i && (!n || Array.isArray(i) ? n = J.access(t, e, I.makeArray(i)) : n.push(i)), n || []
			},
			dequeue: function(t, e) {
				e = e || "fx";
				var i = I.queue(t, e),
					n = i.length,
					a = i.shift(),
					o = I._queueHooks(t, e);
				"inprogress" === a && (a = i.shift(), n--), a && ("fx" === e && i.unshift("inprogress"), delete o.stop, a.call(t, function() {
					I.dequeue(t, e)
				}, o)), !n && o && o.empty.fire()
			},
			_queueHooks: function(t, e) {
				var i = e + "queueHooks";
				return J.get(t, i) || J.access(t, i, {
					empty: I.Callbacks("once memory").add(function() {
						J.remove(t, [e + "queue", i])
					})
				})
			}
		}), I.fn.extend({
			queue: function(t, e) {
				var i = 2;
				return "string" != typeof t && (e = t, t = "fx", i--), arguments.length < i ? I.queue(this[0], t) : void 0 === e ? this : this.each(function() {
					var i = I.queue(this, t, e);
					I._queueHooks(this, t), "fx" === t && "inprogress" !== i[0] && I.dequeue(this, t)
				})
			},
			dequeue: function(t) {
				return this.each(function() {
					I.dequeue(this, t)
				})
			},
			clearQueue: function(t) {
				return this.queue(t || "fx", [])
			},
			promise: function(t, e) {
				var i, n = 1,
					a = I.Deferred(),
					o = this,
					r = this.length,
					s = function() {
						--n || a.resolveWith(o, [o])
					};
				for ("string" != typeof t && (e = t, t = void 0), t = t || "fx"; r--;)(i = J.get(o[r], t + "queueHooks")) && i.empty && (n++, i.empty.add(s));
				return s(), a.promise(e)
			}
		});
		var nt = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
			at = new RegExp("^(?:([+-])=|)(" + nt + ")([a-z%]*)$", "i"),
			ot = ["Top", "Right", "Bottom", "Left"],
			rt = function(t, e) {
				return "none" === (t = e || t).style.display || "" === t.style.display && I.contains(t.ownerDocument, t) && "none" === I.css(t, "display")
			},
			st = function(t, e, i, n) {
				var a, o, r = {};
				for (o in e) r[o] = t.style[o], t.style[o] = e[o];
				for (o in a = i.apply(t, n || []), e) t.style[o] = r[o];
				return a
			};

		function lt(t, e, i, n) {
			var a, o, r = 20,
				s = n ? function() {
					return n.cur()
				} : function() {
					return I.css(t, e, "")
				},
				l = s(),
				c = i && i[3] || (I.cssNumber[e] ? "" : "px"),
				h = (I.cssNumber[e] || "px" !== c && +l) && at.exec(I.css(t, e));
			if (h && h[3] !== c) {
				for (l /= 2, c = c || h[3], h = +l || 1; r--;) I.style(t, e, h + c), (1 - o) * (1 - (o = s() / l || .5)) <= 0 && (r = 0), h /= o;
				h *= 2, I.style(t, e, h + c), i = i || []
			}
			return i && (h = +h || +l || 0, a = i[1] ? h + (i[1] + 1) * i[2] : +i[2], n && (n.unit = c, n.start = h, n.end = a)), a
		}
		var ct = {};

		function ht(t) {
			var e, i = t.ownerDocument,
				n = t.nodeName,
				a = ct[n];
			return a || (e = i.body.appendChild(i.createElement(n)), a = I.css(e, "display"), e.parentNode.removeChild(e), "none" === a && (a = "block"), ct[n] = a, a)
		}

		function ut(t, e) {
			for (var i, n, a = [], o = 0, r = t.length; o < r; o++)(n = t[o]).style && (i = n.style.display, e ? ("none" === i && (a[o] = J.get(n, "display") || null, a[o] || (n.style.display = "")), "" === n.style.display && rt(n) && (a[o] = ht(n))) : "none" !== i && (a[o] = "none", J.set(n, "display", i)));
			for (o = 0; o < r; o++) null != a[o] && (t[o].style.display = a[o]);
			return t
		}
		I.fn.extend({
			show: function() {
				return ut(this, !0)
			},
			hide: function() {
				return ut(this)
			},
			toggle: function(t) {
				return "boolean" == typeof t ? t ? this.show() : this.hide() : this.each(function() {
					rt(this) ? I(this).show() : I(this).hide()
				})
			}
		});
		var pt = /^(?:checkbox|radio)$/i,
			dt = /<([a-z][^\/\0>\x20\t\r\n\f]+)/i,
			gt = /^$|^module$|\/(?:java|ecma)script/i,
			ft = {
				option: [1, "<select multiple='multiple'>", "</select>"],
				thead: [1, "<table>", "</table>"],
				col: [2, "<table><colgroup>", "</colgroup></table>"],
				tr: [2, "<table><tbody>", "</tbody></table>"],
				td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
				_default: [0, "", ""]
			};

		function yt(t, e) {
			var i;
			return i = void 0 !== t.getElementsByTagName ? t.getElementsByTagName(e || "*") : void 0 !== t.querySelectorAll ? t.querySelectorAll(e || "*") : [], void 0 === e || e && P(t, e) ? I.merge([t], i) : i
		}

		function mt(t, e) {
			for (var i = 0, n = t.length; i < n; i++) J.set(t[i], "globalEval", !e || J.get(e[i], "globalEval"))
		}
		ft.optgroup = ft.option, ft.tbody = ft.tfoot = ft.colgroup = ft.caption = ft.thead, ft.th = ft.td;
		var _t = /<|&#?\w+;/;

		function vt(t, e, i, n, a) {
			for (var o, r, s, l, c, h, u = e.createDocumentFragment(), p = [], d = 0, g = t.length; d < g; d++)
				if ((o = t[d]) || 0 === o)
					if ("object" === O(o)) I.merge(p, o.nodeType ? [o] : o);
					else if (_t.test(o)) {
				for (r = r || u.appendChild(e.createElement("div")), s = (dt.exec(o) || ["", ""])[1].toLowerCase(), l = ft[s] || ft._default, r.innerHTML = l[1] + I.htmlPrefilter(o) + l[2], h = l[0]; h--;) r = r.lastChild;
				I.merge(p, r.childNodes), (r = u.firstChild).textContent = ""
			} else p.push(e.createTextNode(o));
			for (u.textContent = "", d = 0; o = p[d++];)
				if (n && I.inArray(o, n) > -1) a && a.push(o);
				else if (c = I.contains(o.ownerDocument, o), r = yt(u.appendChild(o), "script"), c && mt(r), i)
				for (h = 0; o = r[h++];) gt.test(o.type || "") && i.push(o);
			return u
		}! function() {
			var t = r.createDocumentFragment().appendChild(r.createElement("div")),
				e = r.createElement("input");
			e.setAttribute("type", "radio"), e.setAttribute("checked", "checked"), e.setAttribute("name", "t"), t.appendChild(e), m.checkClone = t.cloneNode(!0).cloneNode(!0).lastChild.checked, t.innerHTML = "<textarea>x</textarea>", m.noCloneChecked = !!t.cloneNode(!0).lastChild.defaultValue
		}();
		var Et = r.documentElement,
			bt = /^key/,
			Ot = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
			It = /^([^.]*)(?:\.(.+)|)/;

		function Tt() {
			return !0
		}

		function At() {
			return !1
		}

		function Ct() {
			try {
				return r.activeElement
			} catch (t) {}
		}

		function St(t, e, i, n, a, o) {
			var r, s;
			if ("object" == typeof e) {
				for (s in "string" != typeof i && (n = n || i, i = void 0), e) St(t, s, i, n, e[s], o);
				return t
			}
			if (null == n && null == a ? (a = i, n = i = void 0) : null == a && ("string" == typeof i ? (a = n, n = void 0) : (a = n, n = i, i = void 0)), !1 === a) a = At;
			else if (!a) return t;
			return 1 === o && (r = a, (a = function(t) {
				return I().off(t), r.apply(this, arguments)
			}).guid = r.guid || (r.guid = I.guid++)), t.each(function() {
				I.event.add(this, e, a, n, i)
			})
		}
		I.event = {
			global: {},
			add: function(t, e, i, n, a) {
				var o, r, s, l, c, h, u, p, d, g, f, y = J.get(t);
				if (y)
					for (i.handler && (i = (o = i).handler, a = o.selector), a && I.find.matchesSelector(Et, a), i.guid || (i.guid = I.guid++), (l = y.events) || (l = y.events = {}), (r = y.handle) || (r = y.handle = function(e) {
							return void 0 !== I && I.event.triggered !== e.type ? I.event.dispatch.apply(t, arguments) : void 0
						}), c = (e = (e || "").match(B) || [""]).length; c--;) d = f = (s = It.exec(e[c]) || [])[1], g = (s[2] || "").split(".").sort(), d && (u = I.event.special[d] || {}, d = (a ? u.delegateType : u.bindType) || d, u = I.event.special[d] || {}, h = I.extend({
						type: d,
						origType: f,
						data: n,
						handler: i,
						guid: i.guid,
						selector: a,
						needsContext: a && I.expr.match.needsContext.test(a),
						namespace: g.join(".")
					}, o), (p = l[d]) || ((p = l[d] = []).delegateCount = 0, u.setup && !1 !== u.setup.call(t, n, g, r) || t.addEventListener && t.addEventListener(d, r)), u.add && (u.add.call(t, h), h.handler.guid || (h.handler.guid = i.guid)), a ? p.splice(p.delegateCount++, 0, h) : p.push(h), I.event.global[d] = !0)
			},
			remove: function(t, e, i, n, a) {
				var o, r, s, l, c, h, u, p, d, g, f, y = J.hasData(t) && J.get(t);
				if (y && (l = y.events)) {
					for (c = (e = (e || "").match(B) || [""]).length; c--;)
						if (d = f = (s = It.exec(e[c]) || [])[1], g = (s[2] || "").split(".").sort(), d) {
							for (u = I.event.special[d] || {}, p = l[d = (n ? u.delegateType : u.bindType) || d] || [], s = s[2] && new RegExp("(^|\\.)" + g.join("\\.(?:.*\\.|)") + "(\\.|$)"), r = o = p.length; o--;) h = p[o], !a && f !== h.origType || i && i.guid !== h.guid || s && !s.test(h.namespace) || n && n !== h.selector && ("**" !== n || !h.selector) || (p.splice(o, 1), h.selector && p.delegateCount--, u.remove && u.remove.call(t, h));
							r && !p.length && (u.teardown && !1 !== u.teardown.call(t, g, y.handle) || I.removeEvent(t, d, y.handle), delete l[d])
						} else
							for (d in l) I.event.remove(t, d + e[c], i, n, !0);
					I.isEmptyObject(l) && J.remove(t, "handle events")
				}
			},
			dispatch: function(t) {
				var e, i, n, a, o, r, s = I.event.fix(t),
					l = new Array(arguments.length),
					c = (J.get(this, "events") || {})[s.type] || [],
					h = I.event.special[s.type] || {};
				for (l[0] = s, e = 1; e < arguments.length; e++) l[e] = arguments[e];
				if (s.delegateTarget = this, !h.preDispatch || !1 !== h.preDispatch.call(this, s)) {
					for (r = I.event.handlers.call(this, s, c), e = 0;
						(a = r[e++]) && !s.isPropagationStopped();)
						for (s.currentTarget = a.elem, i = 0;
							(o = a.handlers[i++]) && !s.isImmediatePropagationStopped();) s.rnamespace && !s.rnamespace.test(o.namespace) || (s.handleObj = o, s.data = o.data, void 0 !== (n = ((I.event.special[o.origType] || {}).handle || o.handler).apply(a.elem, l)) && !1 === (s.result = n) && (s.preventDefault(), s.stopPropagation()));
					return h.postDispatch && h.postDispatch.call(this, s), s.result
				}
			},
			handlers: function(t, e) {
				var i, n, a, o, r, s = [],
					l = e.delegateCount,
					c = t.target;
				if (l && c.nodeType && !("click" === t.type && t.button >= 1))
					for (; c !== this; c = c.parentNode || this)
						if (1 === c.nodeType && ("click" !== t.type || !0 !== c.disabled)) {
							for (o = [], r = {}, i = 0; i < l; i++) void 0 === r[a = (n = e[i]).selector + " "] && (r[a] = n.needsContext ? I(a, this).index(c) > -1 : I.find(a, this, null, [c]).length), r[a] && o.push(n);
							o.length && s.push({
								elem: c,
								handlers: o
							})
						} return c = this, l < e.length && s.push({
					elem: c,
					handlers: e.slice(l)
				}), s
			},
			addProp: function(t, e) {
				Object.defineProperty(I.Event.prototype, t, {
					enumerable: !0,
					configurable: !0,
					get: _(e) ? function() {
						if (this.originalEvent) return e(this.originalEvent)
					} : function() {
						if (this.originalEvent) return this.originalEvent[t]
					},
					set: function(e) {
						Object.defineProperty(this, t, {
							enumerable: !0,
							configurable: !0,
							writable: !0,
							value: e
						})
					}
				})
			},
			fix: function(t) {
				return t[I.expando] ? t : new I.Event(t)
			},
			special: {
				load: {
					noBubble: !0
				},
				focus: {
					trigger: function() {
						if (this !== Ct() && this.focus) return this.focus(), !1
					},
					delegateType: "focusin"
				},
				blur: {
					trigger: function() {
						if (this === Ct() && this.blur) return this.blur(), !1
					},
					delegateType: "focusout"
				},
				click: {
					trigger: function() {
						if ("checkbox" === this.type && this.click && P(this, "input")) return this.click(), !1
					},
					_default: function(t) {
						return P(t.target, "a")
					}
				},
				beforeunload: {
					postDispatch: function(t) {
						void 0 !== t.result && t.originalEvent && (t.originalEvent.returnValue = t.result)
					}
				}
			}
		}, I.removeEvent = function(t, e, i) {
			t.removeEventListener && t.removeEventListener(e, i)
		}, I.Event = function(t, e) {
			if (!(this instanceof I.Event)) return new I.Event(t, e);
			t && t.type ? (this.originalEvent = t, this.type = t.type, this.isDefaultPrevented = t.defaultPrevented || void 0 === t.defaultPrevented && !1 === t.returnValue ? Tt : At, this.target = t.target && 3 === t.target.nodeType ? t.target.parentNode : t.target, this.currentTarget = t.currentTarget, this.relatedTarget = t.relatedTarget) : this.type = t, e && I.extend(this, e), this.timeStamp = t && t.timeStamp || Date.now(), this[I.expando] = !0
		}, I.Event.prototype = {
			constructor: I.Event,
			isDefaultPrevented: At,
			isPropagationStopped: At,
			isImmediatePropagationStopped: At,
			isSimulated: !1,
			preventDefault: function() {
				var t = this.originalEvent;
				this.isDefaultPrevented = Tt, t && !this.isSimulated && t.preventDefault()
			},
			stopPropagation: function() {
				var t = this.originalEvent;
				this.isPropagationStopped = Tt, t && !this.isSimulated && t.stopPropagation()
			},
			stopImmediatePropagation: function() {
				var t = this.originalEvent;
				this.isImmediatePropagationStopped = Tt, t && !this.isSimulated && t.stopImmediatePropagation(), this.stopPropagation()
			}
		}, I.each({
			altKey: !0,
			bubbles: !0,
			cancelable: !0,
			changedTouches: !0,
			ctrlKey: !0,
			detail: !0,
			eventPhase: !0,
			metaKey: !0,
			pageX: !0,
			pageY: !0,
			shiftKey: !0,
			view: !0,
			char: !0,
			charCode: !0,
			key: !0,
			keyCode: !0,
			button: !0,
			buttons: !0,
			clientX: !0,
			clientY: !0,
			offsetX: !0,
			offsetY: !0,
			pointerId: !0,
			pointerType: !0,
			screenX: !0,
			screenY: !0,
			targetTouches: !0,
			toElement: !0,
			touches: !0,
			which: function(t) {
				var e = t.button;
				return null == t.which && bt.test(t.type) ? null != t.charCode ? t.charCode : t.keyCode : !t.which && void 0 !== e && Ot.test(t.type) ? 1 & e ? 1 : 2 & e ? 3 : 4 & e ? 2 : 0 : t.which
			}
		}, I.event.addProp), I.each({
			mouseenter: "mouseover",
			mouseleave: "mouseout",
			pointerenter: "pointerover",
			pointerleave: "pointerout"
		}, function(t, e) {
			I.event.special[t] = {
				delegateType: e,
				bindType: e,
				handle: function(t) {
					var i, n = t.relatedTarget,
						a = t.handleObj;
					return n && (n === this || I.contains(this, n)) || (t.type = a.origType, i = a.handler.apply(this, arguments), t.type = e), i
				}
			}
		}), I.fn.extend({
			on: function(t, e, i, n) {
				return St(this, t, e, i, n)
			},
			one: function(t, e, i, n) {
				return St(this, t, e, i, n, 1)
			},
			off: function(t, e, i) {
				var n, a;
				if (t && t.preventDefault && t.handleObj) return n = t.handleObj, I(t.delegateTarget).off(n.namespace ? n.origType + "." + n.namespace : n.origType, n.selector, n.handler), this;
				if ("object" == typeof t) {
					for (a in t) this.off(a, e, t[a]);
					return this
				}
				return !1 !== e && "function" != typeof e || (i = e, e = void 0), !1 === i && (i = At), this.each(function() {
					I.event.remove(this, t, i, e)
				})
			}
		});
		var wt = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,
			Dt = /<script|<style|<link/i,
			Pt = /checked\s*(?:[^=]|=\s*.checked.)/i,
			Lt = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;

		function xt(t, e) {
			return P(t, "table") && P(11 !== e.nodeType ? e : e.firstChild, "tr") && I(t).children("tbody")[0] || t
		}

		function Mt(t) {
			return t.type = (null !== t.getAttribute("type")) + "/" + t.type, t
		}

		function Ut(t) {
			return "true/" === (t.type || "").slice(0, 5) ? t.type = t.type.slice(5) : t.removeAttribute("type"), t
		}

		function Nt(t, e) {
			var i, n, a, o, r, s, l, c;
			if (1 === e.nodeType) {
				if (J.hasData(t) && (o = J.access(t), r = J.set(e, o), c = o.events))
					for (a in delete r.handle, r.events = {}, c)
						for (i = 0, n = c[a].length; i < n; i++) I.event.add(e, a, c[a][i]);
				$.hasData(t) && (s = $.access(t), l = I.extend({}, s), $.set(e, l))
			}
		}

		function Rt(t, e) {
			var i = e.nodeName.toLowerCase();
			"input" === i && pt.test(t.type) ? e.checked = t.checked : "input" !== i && "textarea" !== i || (e.defaultValue = t.defaultValue)
		}

		function kt(t, e, i, n) {
			e = c.apply([], e);
			var a, o, r, s, l, h, u = 0,
				p = t.length,
				d = p - 1,
				g = e[0],
				f = _(g);
			if (f || p > 1 && "string" == typeof g && !m.checkClone && Pt.test(g)) return t.each(function(a) {
				var o = t.eq(a);
				f && (e[0] = g.call(this, a, o.html())), kt(o, e, i, n)
			});
			if (p && (o = (a = vt(e, t[0].ownerDocument, !1, t, n)).firstChild, 1 === a.childNodes.length && (a = o), o || n)) {
				for (s = (r = I.map(yt(a, "script"), Mt)).length; u < p; u++) l = a, u !== d && (l = I.clone(l, !0, !0), s && I.merge(r, yt(l, "script"))), i.call(t[u], l, u);
				if (s)
					for (h = r[r.length - 1].ownerDocument, I.map(r, Ut), u = 0; u < s; u++) l = r[u], gt.test(l.type || "") && !J.access(l, "globalEval") && I.contains(h, l) && (l.src && "module" !== (l.type || "").toLowerCase() ? I._evalUrl && I._evalUrl(l.src) : b(l.textContent.replace(Lt, ""), h, l))
			}
			return t
		}

		function Bt(t, e, i) {
			for (var n, a = e ? I.filter(e, t) : t, o = 0; null != (n = a[o]); o++) i || 1 !== n.nodeType || I.cleanData(yt(n)), n.parentNode && (i && I.contains(n.ownerDocument, n) && mt(yt(n, "script")), n.parentNode.removeChild(n));
			return t
		}
		I.extend({
			htmlPrefilter: function(t) {
				return t.replace(wt, "<$1></$2>")
			},
			clone: function(t, e, i) {
				var n, a, o, r, s = t.cloneNode(!0),
					l = I.contains(t.ownerDocument, t);
				if (!(m.noCloneChecked || 1 !== t.nodeType && 11 !== t.nodeType || I.isXMLDoc(t)))
					for (r = yt(s), n = 0, a = (o = yt(t)).length; n < a; n++) Rt(o[n], r[n]);
				if (e)
					if (i)
						for (o = o || yt(t), r = r || yt(s), n = 0, a = o.length; n < a; n++) Nt(o[n], r[n]);
					else Nt(t, s);
				return (r = yt(s, "script")).length > 0 && mt(r, !l && yt(t, "script")), s
			},
			cleanData: function(t) {
				for (var e, i, n, a = I.event.special, o = 0; void 0 !== (i = t[o]); o++)
					if (X(i)) {
						if (e = i[J.expando]) {
							if (e.events)
								for (n in e.events) a[n] ? I.event.remove(i, n) : I.removeEvent(i, n, e.handle);
							i[J.expando] = void 0
						}
						i[$.expando] && (i[$.expando] = void 0)
					}
			}
		}), I.fn.extend({
			detach: function(t) {
				return Bt(this, t, !0)
			},
			remove: function(t) {
				return Bt(this, t)
			},
			text: function(t) {
				return W(this, function(t) {
					return void 0 === t ? I.text(this) : this.empty().each(function() {
						1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = t)
					})
				}, null, t, arguments.length)
			},
			append: function() {
				return kt(this, arguments, function(t) {
					1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || xt(this, t).appendChild(t)
				})
			},
			prepend: function() {
				return kt(this, arguments, function(t) {
					if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
						var e = xt(this, t);
						e.insertBefore(t, e.firstChild)
					}
				})
			},
			before: function() {
				return kt(this, arguments, function(t) {
					this.parentNode && this.parentNode.insertBefore(t, this)
				})
			},
			after: function() {
				return kt(this, arguments, function(t) {
					this.parentNode && this.parentNode.insertBefore(t, this.nextSibling)
				})
			},
			empty: function() {
				for (var t, e = 0; null != (t = this[e]); e++) 1 === t.nodeType && (I.cleanData(yt(t, !1)), t.textContent = "");
				return this
			},
			clone: function(t, e) {
				return t = null != t && t, e = null == e ? t : e, this.map(function() {
					return I.clone(this, t, e)
				})
			},
			html: function(t) {
				return W(this, function(t) {
					var e = this[0] || {},
						i = 0,
						n = this.length;
					if (void 0 === t && 1 === e.nodeType) return e.innerHTML;
					if ("string" == typeof t && !Dt.test(t) && !ft[(dt.exec(t) || ["", ""])[1].toLowerCase()]) {
						t = I.htmlPrefilter(t);
						try {
							for (; i < n; i++) 1 === (e = this[i] || {}).nodeType && (I.cleanData(yt(e, !1)), e.innerHTML = t);
							e = 0
						} catch (t) {}
					}
					e && this.empty().append(t)
				}, null, t, arguments.length)
			},
			replaceWith: function() {
				var t = [];
				return kt(this, arguments, function(e) {
					var i = this.parentNode;
					I.inArray(this, t) < 0 && (I.cleanData(yt(this)), i && i.replaceChild(e, this))
				}, t)
			}
		}), I.each({
			appendTo: "append",
			prependTo: "prepend",
			insertBefore: "before",
			insertAfter: "after",
			replaceAll: "replaceWith"
		}, function(t, e) {
			I.fn[t] = function(t) {
				for (var i, n = [], a = I(t), o = a.length - 1, r = 0; r <= o; r++) i = r === o ? this : this.clone(!0), I(a[r])[e](i), h.apply(n, i.get());
				return this.pushStack(n)
			}
		});
		var Gt = new RegExp("^(" + nt + ")(?!px)[a-z%]+$", "i"),
			Vt = function(t) {
				var e = t.ownerDocument.defaultView;
				return e && e.opener || (e = i), e.getComputedStyle(t)
			},
			Ft = new RegExp(ot.join("|"), "i");

		function jt(t, e, i) {
			var n, a, o, r, s = t.style;
			return (i = i || Vt(t)) && ("" !== (r = i.getPropertyValue(e) || i[e]) || I.contains(t.ownerDocument, t) || (r = I.style(t, e)), !m.pixelBoxStyles() && Gt.test(r) && Ft.test(e) && (n = s.width, a = s.minWidth, o = s.maxWidth, s.minWidth = s.maxWidth = s.width = r, r = i.width, s.width = n, s.minWidth = a, s.maxWidth = o)), void 0 !== r ? r + "" : r
		}

		function Ht(t, e) {
			return {
				get: function() {
					if (!t()) return (this.get = e).apply(this, arguments);
					delete this.get
				}
			}
		}! function() {
			function t() {
				if (h) {
					c.style.cssText = "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0", h.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%", Et.appendChild(c).appendChild(h);
					var t = i.getComputedStyle(h);
					n = "1%" !== t.top, l = 12 === e(t.marginLeft), h.style.right = "60%", s = 36 === e(t.right), a = 36 === e(t.width), h.style.position = "absolute", o = 36 === h.offsetWidth || "absolute", Et.removeChild(c), h = null
				}
			}

			function e(t) {
				return Math.round(parseFloat(t))
			}
			var n, a, o, s, l, c = r.createElement("div"),
				h = r.createElement("div");
			h.style && (h.style.backgroundClip = "content-box", h.cloneNode(!0).style.backgroundClip = "", m.clearCloneStyle = "content-box" === h.style.backgroundClip, I.extend(m, {
				boxSizingReliable: function() {
					return t(), a
				},
				pixelBoxStyles: function() {
					return t(), s
				},
				pixelPosition: function() {
					return t(), n
				},
				reliableMarginLeft: function() {
					return t(), l
				},
				scrollboxSize: function() {
					return t(), o
				}
			}))
		}();
		var zt = /^(none|table(?!-c[ea]).+)/,
			Wt = /^--/,
			Kt = {
				position: "absolute",
				visibility: "hidden",
				display: "block"
			},
			Yt = {
				letterSpacing: "0",
				fontWeight: "400"
			},
			qt = ["Webkit", "Moz", "ms"],
			Qt = r.createElement("div").style;

		function Xt(t) {
			var e = I.cssProps[t];
			return e || (e = I.cssProps[t] = function(t) {
				if (t in Qt) return t;
				for (var e = t[0].toUpperCase() + t.slice(1), i = qt.length; i--;)
					if ((t = qt[i] + e) in Qt) return t
			}(t) || t), e
		}

		function Zt(t, e, i) {
			var n = at.exec(e);
			return n ? Math.max(0, n[2] - (i || 0)) + (n[3] || "px") : e
		}

		function Jt(t, e, i, n, a, o) {
			var r = "width" === e ? 1 : 0,
				s = 0,
				l = 0;
			if (i === (n ? "border" : "content")) return 0;
			for (; r < 4; r += 2) "margin" === i && (l += I.css(t, i + ot[r], !0, a)), n ? ("content" === i && (l -= I.css(t, "padding" + ot[r], !0, a)), "margin" !== i && (l -= I.css(t, "border" + ot[r] + "Width", !0, a))) : (l += I.css(t, "padding" + ot[r], !0, a), "padding" !== i ? l += I.css(t, "border" + ot[r] + "Width", !0, a) : s += I.css(t, "border" + ot[r] + "Width", !0, a));
			return !n && o >= 0 && (l += Math.max(0, Math.ceil(t["offset" + e[0].toUpperCase() + e.slice(1)] - o - l - s - .5))), l
		}

		function $t(t, e, i) {
			var n = Vt(t),
				a = jt(t, e, n),
				o = "border-box" === I.css(t, "boxSizing", !1, n),
				r = o;
			if (Gt.test(a)) {
				if (!i) return a;
				a = "auto"
			}
			return r = r && (m.boxSizingReliable() || a === t.style[e]), ("auto" === a || !parseFloat(a) && "inline" === I.css(t, "display", !1, n)) && (a = t["offset" + e[0].toUpperCase() + e.slice(1)], r = !0), (a = parseFloat(a) || 0) + Jt(t, e, i || (o ? "border" : "content"), r, n, a) + "px"
		}

		function te(t, e, i, n, a) {
			return new te.prototype.init(t, e, i, n, a)
		}
		I.extend({
			cssHooks: {
				opacity: {
					get: function(t, e) {
						if (e) {
							var i = jt(t, "opacity");
							return "" === i ? "1" : i
						}
					}
				}
			},
			cssNumber: {
				animationIterationCount: !0,
				columnCount: !0,
				fillOpacity: !0,
				flexGrow: !0,
				flexShrink: !0,
				fontWeight: !0,
				lineHeight: !0,
				opacity: !0,
				order: !0,
				orphans: !0,
				widows: !0,
				zIndex: !0,
				zoom: !0
			},
			cssProps: {},
			style: function(t, e, i, n) {
				if (t && 3 !== t.nodeType && 8 !== t.nodeType && t.style) {
					var a, o, r, s = Q(e),
						l = Wt.test(e),
						c = t.style;
					if (l || (e = Xt(s)), r = I.cssHooks[e] || I.cssHooks[s], void 0 === i) return r && "get" in r && void 0 !== (a = r.get(t, !1, n)) ? a : c[e];
					"string" === (o = typeof i) && (a = at.exec(i)) && a[1] && (i = lt(t, e, a), o = "number"), null != i && i == i && ("number" === o && (i += a && a[3] || (I.cssNumber[s] ? "" : "px")), m.clearCloneStyle || "" !== i || 0 !== e.indexOf("background") || (c[e] = "inherit"), r && "set" in r && void 0 === (i = r.set(t, i, n)) || (l ? c.setProperty(e, i) : c[e] = i))
				}
			},
			css: function(t, e, i, n) {
				var a, o, r, s = Q(e);
				return Wt.test(e) || (e = Xt(s)), (r = I.cssHooks[e] || I.cssHooks[s]) && "get" in r && (a = r.get(t, !0, i)), void 0 === a && (a = jt(t, e, n)), "normal" === a && e in Yt && (a = Yt[e]), "" === i || i ? (o = parseFloat(a), !0 === i || isFinite(o) ? o || 0 : a) : a
			}
		}), I.each(["height", "width"], function(t, e) {
			I.cssHooks[e] = {
				get: function(t, i, n) {
					if (i) return !zt.test(I.css(t, "display")) || t.getClientRects().length && t.getBoundingClientRect().width ? $t(t, e, n) : st(t, Kt, function() {
						return $t(t, e, n)
					})
				},
				set: function(t, i, n) {
					var a, o = Vt(t),
						r = "border-box" === I.css(t, "boxSizing", !1, o),
						s = n && Jt(t, e, n, r, o);
					return r && m.scrollboxSize() === o.position && (s -= Math.ceil(t["offset" + e[0].toUpperCase() + e.slice(1)] - parseFloat(o[e]) - Jt(t, e, "border", !1, o) - .5)), s && (a = at.exec(i)) && "px" !== (a[3] || "px") && (t.style[e] = i, i = I.css(t, e)), Zt(0, i, s)
				}
			}
		}), I.cssHooks.marginLeft = Ht(m.reliableMarginLeft, function(t, e) {
			if (e) return (parseFloat(jt(t, "marginLeft")) || t.getBoundingClientRect().left - st(t, {
				marginLeft: 0
			}, function() {
				return t.getBoundingClientRect().left
			})) + "px"
		}), I.each({
			margin: "",
			padding: "",
			border: "Width"
		}, function(t, e) {
			I.cssHooks[t + e] = {
				expand: function(i) {
					for (var n = 0, a = {}, o = "string" == typeof i ? i.split(" ") : [i]; n < 4; n++) a[t + ot[n] + e] = o[n] || o[n - 2] || o[0];
					return a
				}
			}, "margin" !== t && (I.cssHooks[t + e].set = Zt)
		}), I.fn.extend({
			css: function(t, e) {
				return W(this, function(t, e, i) {
					var n, a, o = {},
						r = 0;
					if (Array.isArray(e)) {
						for (n = Vt(t), a = e.length; r < a; r++) o[e[r]] = I.css(t, e[r], !1, n);
						return o
					}
					return void 0 !== i ? I.style(t, e, i) : I.css(t, e)
				}, t, e, arguments.length > 1)
			}
		}), I.Tween = te, te.prototype = {
			constructor: te,
			init: function(t, e, i, n, a, o) {
				this.elem = t, this.prop = i, this.easing = a || I.easing._default, this.options = e, this.start = this.now = this.cur(), this.end = n, this.unit = o || (I.cssNumber[i] ? "" : "px")
			},
			cur: function() {
				var t = te.propHooks[this.prop];
				return t && t.get ? t.get(this) : te.propHooks._default.get(this)
			},
			run: function(t) {
				var e, i = te.propHooks[this.prop];
				return this.options.duration ? this.pos = e = I.easing[this.easing](t, this.options.duration * t, 0, 1, this.options.duration) : this.pos = e = t, this.now = (this.end - this.start) * e + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), i && i.set ? i.set(this) : te.propHooks._default.set(this), this
			}
		}, te.prototype.init.prototype = te.prototype, te.propHooks = {
			_default: {
				get: function(t) {
					var e;
					return 1 !== t.elem.nodeType || null != t.elem[t.prop] && null == t.elem.style[t.prop] ? t.elem[t.prop] : (e = I.css(t.elem, t.prop, "")) && "auto" !== e ? e : 0
				},
				set: function(t) {
					I.fx.step[t.prop] ? I.fx.step[t.prop](t) : 1 !== t.elem.nodeType || null == t.elem.style[I.cssProps[t.prop]] && !I.cssHooks[t.prop] ? t.elem[t.prop] = t.now : I.style(t.elem, t.prop, t.now + t.unit)
				}
			}
		}, te.propHooks.scrollTop = te.propHooks.scrollLeft = {
			set: function(t) {
				t.elem.nodeType && t.elem.parentNode && (t.elem[t.prop] = t.now)
			}
		}, I.easing = {
			linear: function(t) {
				return t
			},
			swing: function(t) {
				return .5 - Math.cos(t * Math.PI) / 2
			},
			_default: "swing"
		}, I.fx = te.prototype.init, I.fx.step = {};
		var ee, ie, ne = /^(?:toggle|show|hide)$/,
			ae = /queueHooks$/;

		function oe() {
			ie && (!1 === r.hidden && i.requestAnimationFrame ? i.requestAnimationFrame(oe) : i.setTimeout(oe, I.fx.interval), I.fx.tick())
		}

		function re() {
			return i.setTimeout(function() {
				ee = void 0
			}), ee = Date.now()
		}

		function se(t, e) {
			var i, n = 0,
				a = {
					height: t
				};
			for (e = e ? 1 : 0; n < 4; n += 2 - e) a["margin" + (i = ot[n])] = a["padding" + i] = t;
			return e && (a.opacity = a.width = t), a
		}

		function le(t, e, i) {
			for (var n, a = (ce.tweeners[e] || []).concat(ce.tweeners["*"]), o = 0, r = a.length; o < r; o++)
				if (n = a[o].call(i, e, t)) return n
		}

		function ce(t, e, i) {
			var n, a, o = 0,
				r = ce.prefilters.length,
				s = I.Deferred().always(function() {
					delete l.elem
				}),
				l = function() {
					if (a) return !1;
					for (var e = ee || re(), i = Math.max(0, c.startTime + c.duration - e), n = 1 - (i / c.duration || 0), o = 0, r = c.tweens.length; o < r; o++) c.tweens[o].run(n);
					return s.notifyWith(t, [c, n, i]), n < 1 && r ? i : (r || s.notifyWith(t, [c, 1, 0]), s.resolveWith(t, [c]), !1)
				},
				c = s.promise({
					elem: t,
					props: I.extend({}, e),
					opts: I.extend(!0, {
						specialEasing: {},
						easing: I.easing._default
					}, i),
					originalProperties: e,
					originalOptions: i,
					startTime: ee || re(),
					duration: i.duration,
					tweens: [],
					createTween: function(e, i) {
						var n = I.Tween(t, c.opts, e, i, c.opts.specialEasing[e] || c.opts.easing);
						return c.tweens.push(n), n
					},
					stop: function(e) {
						var i = 0,
							n = e ? c.tweens.length : 0;
						if (a) return this;
						for (a = !0; i < n; i++) c.tweens[i].run(1);
						return e ? (s.notifyWith(t, [c, 1, 0]), s.resolveWith(t, [c, e])) : s.rejectWith(t, [c, e]), this
					}
				}),
				h = c.props;
			for (! function(t, e) {
					var i, n, a, o, r;
					for (i in t)
						if (a = e[n = Q(i)], o = t[i], Array.isArray(o) && (a = o[1], o = t[i] = o[0]), i !== n && (t[n] = o, delete t[i]), (r = I.cssHooks[n]) && "expand" in r)
							for (i in o = r.expand(o), delete t[n], o) i in t || (t[i] = o[i], e[i] = a);
						else e[n] = a
				}(h, c.opts.specialEasing); o < r; o++)
				if (n = ce.prefilters[o].call(c, t, h, c.opts)) return _(n.stop) && (I._queueHooks(c.elem, c.opts.queue).stop = n.stop.bind(n)), n;
			return I.map(h, le, c), _(c.opts.start) && c.opts.start.call(t, c), c.progress(c.opts.progress).done(c.opts.done, c.opts.complete).fail(c.opts.fail).always(c.opts.always), I.fx.timer(I.extend(l, {
				elem: t,
				anim: c,
				queue: c.opts.queue
			})), c
		}
		I.Animation = I.extend(ce, {
				tweeners: {
					"*": [function(t, e) {
						var i = this.createTween(t, e);
						return lt(i.elem, t, at.exec(e), i), i
					}]
				},
				tweener: function(t, e) {
					_(t) ? (e = t, t = ["*"]) : t = t.match(B);
					for (var i, n = 0, a = t.length; n < a; n++) i = t[n], ce.tweeners[i] = ce.tweeners[i] || [], ce.tweeners[i].unshift(e)
				},
				prefilters: [function(t, e, i) {
					var n, a, o, r, s, l, c, h, u = "width" in e || "height" in e,
						p = this,
						d = {},
						g = t.style,
						f = t.nodeType && rt(t),
						y = J.get(t, "fxshow");
					for (n in i.queue || (null == (r = I._queueHooks(t, "fx")).unqueued && (r.unqueued = 0, s = r.empty.fire, r.empty.fire = function() {
							r.unqueued || s()
						}), r.unqueued++, p.always(function() {
							p.always(function() {
								r.unqueued--, I.queue(t, "fx").length || r.empty.fire()
							})
						})), e)
						if (a = e[n], ne.test(a)) {
							if (delete e[n], o = o || "toggle" === a, a === (f ? "hide" : "show")) {
								if ("show" !== a || !y || void 0 === y[n]) continue;
								f = !0
							}
							d[n] = y && y[n] || I.style(t, n)
						} if ((l = !I.isEmptyObject(e)) || !I.isEmptyObject(d))
						for (n in u && 1 === t.nodeType && (i.overflow = [g.overflow, g.overflowX, g.overflowY], null == (c = y && y.display) && (c = J.get(t, "display")), "none" === (h = I.css(t, "display")) && (c ? h = c : (ut([t], !0), c = t.style.display || c, h = I.css(t, "display"), ut([t]))), ("inline" === h || "inline-block" === h && null != c) && "none" === I.css(t, "float") && (l || (p.done(function() {
								g.display = c
							}), null == c && (h = g.display, c = "none" === h ? "" : h)), g.display = "inline-block")), i.overflow && (g.overflow = "hidden", p.always(function() {
								g.overflow = i.overflow[0], g.overflowX = i.overflow[1], g.overflowY = i.overflow[2]
							})), l = !1, d) l || (y ? "hidden" in y && (f = y.hidden) : y = J.access(t, "fxshow", {
							display: c
						}), o && (y.hidden = !f), f && ut([t], !0), p.done(function() {
							for (n in f || ut([t]), J.remove(t, "fxshow"), d) I.style(t, n, d[n])
						})), l = le(f ? y[n] : 0, n, p), n in y || (y[n] = l.start, f && (l.end = l.start, l.start = 0))
				}],
				prefilter: function(t, e) {
					e ? ce.prefilters.unshift(t) : ce.prefilters.push(t)
				}
			}), I.speed = function(t, e, i) {
				var n = t && "object" == typeof t ? I.extend({}, t) : {
					complete: i || !i && e || _(t) && t,
					duration: t,
					easing: i && e || e && !_(e) && e
				};
				return I.fx.off ? n.duration = 0 : "number" != typeof n.duration && (n.duration in I.fx.speeds ? n.duration = I.fx.speeds[n.duration] : n.duration = I.fx.speeds._default), null != n.queue && !0 !== n.queue || (n.queue = "fx"), n.old = n.complete, n.complete = function() {
					_(n.old) && n.old.call(this), n.queue && I.dequeue(this, n.queue)
				}, n
			}, I.fn.extend({
				fadeTo: function(t, e, i, n) {
					return this.filter(rt).css("opacity", 0).show().end().animate({
						opacity: e
					}, t, i, n)
				},
				animate: function(t, e, i, n) {
					var a = I.isEmptyObject(t),
						o = I.speed(e, i, n),
						r = function() {
							var e = ce(this, I.extend({}, t), o);
							(a || J.get(this, "finish")) && e.stop(!0)
						};
					return r.finish = r, a || !1 === o.queue ? this.each(r) : this.queue(o.queue, r)
				},
				stop: function(t, e, i) {
					var n = function(t) {
						var e = t.stop;
						delete t.stop, e(i)
					};
					return "string" != typeof t && (i = e, e = t, t = void 0), e && !1 !== t && this.queue(t || "fx", []), this.each(function() {
						var e = !0,
							a = null != t && t + "queueHooks",
							o = I.timers,
							r = J.get(this);
						if (a) r[a] && r[a].stop && n(r[a]);
						else
							for (a in r) r[a] && r[a].stop && ae.test(a) && n(r[a]);
						for (a = o.length; a--;) o[a].elem !== this || null != t && o[a].queue !== t || (o[a].anim.stop(i), e = !1, o.splice(a, 1));
						!e && i || I.dequeue(this, t)
					})
				},
				finish: function(t) {
					return !1 !== t && (t = t || "fx"), this.each(function() {
						var e, i = J.get(this),
							n = i[t + "queue"],
							a = i[t + "queueHooks"],
							o = I.timers,
							r = n ? n.length : 0;
						for (i.finish = !0, I.queue(this, t, []), a && a.stop && a.stop.call(this, !0), e = o.length; e--;) o[e].elem === this && o[e].queue === t && (o[e].anim.stop(!0), o.splice(e, 1));
						for (e = 0; e < r; e++) n[e] && n[e].finish && n[e].finish.call(this);
						delete i.finish
					})
				}
			}), I.each(["toggle", "show", "hide"], function(t, e) {
				var i = I.fn[e];
				I.fn[e] = function(t, n, a) {
					return null == t || "boolean" == typeof t ? i.apply(this, arguments) : this.animate(se(e, !0), t, n, a)
				}
			}), I.each({
				slideDown: se("show"),
				slideUp: se("hide"),
				slideToggle: se("toggle"),
				fadeIn: {
					opacity: "show"
				},
				fadeOut: {
					opacity: "hide"
				},
				fadeToggle: {
					opacity: "toggle"
				}
			}, function(t, e) {
				I.fn[t] = function(t, i, n) {
					return this.animate(e, t, i, n)
				}
			}), I.timers = [], I.fx.tick = function() {
				var t, e = 0,
					i = I.timers;
				for (ee = Date.now(); e < i.length; e++)(t = i[e])() || i[e] !== t || i.splice(e--, 1);
				i.length || I.fx.stop(), ee = void 0
			}, I.fx.timer = function(t) {
				I.timers.push(t), I.fx.start()
			}, I.fx.interval = 13, I.fx.start = function() {
				ie || (ie = !0, oe())
			}, I.fx.stop = function() {
				ie = null
			}, I.fx.speeds = {
				slow: 600,
				fast: 200,
				_default: 400
			}, I.fn.delay = function(t, e) {
				return t = I.fx && I.fx.speeds[t] || t, e = e || "fx", this.queue(e, function(e, n) {
					var a = i.setTimeout(e, t);
					n.stop = function() {
						i.clearTimeout(a)
					}
				})
			},
			function() {
				var t = r.createElement("input"),
					e = r.createElement("select").appendChild(r.createElement("option"));
				t.type = "checkbox", m.checkOn = "" !== t.value, m.optSelected = e.selected, (t = r.createElement("input")).value = "t", t.type = "radio", m.radioValue = "t" === t.value
			}();
		var he, ue = I.expr.attrHandle;
		I.fn.extend({
			attr: function(t, e) {
				return W(this, I.attr, t, e, arguments.length > 1)
			},
			removeAttr: function(t) {
				return this.each(function() {
					I.removeAttr(this, t)
				})
			}
		}), I.extend({
			attr: function(t, e, i) {
				var n, a, o = t.nodeType;
				if (3 !== o && 8 !== o && 2 !== o) return void 0 === t.getAttribute ? I.prop(t, e, i) : (1 === o && I.isXMLDoc(t) || (a = I.attrHooks[e.toLowerCase()] || (I.expr.match.bool.test(e) ? he : void 0)), void 0 !== i ? null === i ? void I.removeAttr(t, e) : a && "set" in a && void 0 !== (n = a.set(t, i, e)) ? n : (t.setAttribute(e, i + ""), i) : a && "get" in a && null !== (n = a.get(t, e)) ? n : null == (n = I.find.attr(t, e)) ? void 0 : n)
			},
			attrHooks: {
				type: {
					set: function(t, e) {
						if (!m.radioValue && "radio" === e && P(t, "input")) {
							var i = t.value;
							return t.setAttribute("type", e), i && (t.value = i), e
						}
					}
				}
			},
			removeAttr: function(t, e) {
				var i, n = 0,
					a = e && e.match(B);
				if (a && 1 === t.nodeType)
					for (; i = a[n++];) t.removeAttribute(i)
			}
		}), he = {
			set: function(t, e, i) {
				return !1 === e ? I.removeAttr(t, i) : t.setAttribute(i, i), i
			}
		}, I.each(I.expr.match.bool.source.match(/\w+/g), function(t, e) {
			var i = ue[e] || I.find.attr;
			ue[e] = function(t, e, n) {
				var a, o, r = e.toLowerCase();
				return n || (o = ue[r], ue[r] = a, a = null != i(t, e, n) ? r : null, ue[r] = o), a
			}
		});
		var pe = /^(?:input|select|textarea|button)$/i,
			de = /^(?:a|area)$/i;

		function ge(t) {
			return (t.match(B) || []).join(" ")
		}

		function fe(t) {
			return t.getAttribute && t.getAttribute("class") || ""
		}

		function ye(t) {
			return Array.isArray(t) ? t : "string" == typeof t && t.match(B) || []
		}
		I.fn.extend({
			prop: function(t, e) {
				return W(this, I.prop, t, e, arguments.length > 1)
			},
			removeProp: function(t) {
				return this.each(function() {
					delete this[I.propFix[t] || t]
				})
			}
		}), I.extend({
			prop: function(t, e, i) {
				var n, a, o = t.nodeType;
				if (3 !== o && 8 !== o && 2 !== o) return 1 === o && I.isXMLDoc(t) || (e = I.propFix[e] || e, a = I.propHooks[e]), void 0 !== i ? a && "set" in a && void 0 !== (n = a.set(t, i, e)) ? n : t[e] = i : a && "get" in a && null !== (n = a.get(t, e)) ? n : t[e]
			},
			propHooks: {
				tabIndex: {
					get: function(t) {
						var e = I.find.attr(t, "tabindex");
						return e ? parseInt(e, 10) : pe.test(t.nodeName) || de.test(t.nodeName) && t.href ? 0 : -1
					}
				}
			},
			propFix: {
				for: "htmlFor",
				class: "className"
			}
		}), m.optSelected || (I.propHooks.selected = {
			get: function(t) {
				var e = t.parentNode;
				return e && e.parentNode && e.parentNode.selectedIndex, null
			},
			set: function(t) {
				var e = t.parentNode;
				e && (e.selectedIndex, e.parentNode && e.parentNode.selectedIndex)
			}
		}), I.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
			I.propFix[this.toLowerCase()] = this
		}), I.fn.extend({
			addClass: function(t) {
				var e, i, n, a, o, r, s, l = 0;
				if (_(t)) return this.each(function(e) {
					I(this).addClass(t.call(this, e, fe(this)))
				});
				if ((e = ye(t)).length)
					for (; i = this[l++];)
						if (a = fe(i), n = 1 === i.nodeType && " " + ge(a) + " ") {
							for (r = 0; o = e[r++];) n.indexOf(" " + o + " ") < 0 && (n += o + " ");
							a !== (s = ge(n)) && i.setAttribute("class", s)
						} return this
			},
			removeClass: function(t) {
				var e, i, n, a, o, r, s, l = 0;
				if (_(t)) return this.each(function(e) {
					I(this).removeClass(t.call(this, e, fe(this)))
				});
				if (!arguments.length) return this.attr("class", "");
				if ((e = ye(t)).length)
					for (; i = this[l++];)
						if (a = fe(i), n = 1 === i.nodeType && " " + ge(a) + " ") {
							for (r = 0; o = e[r++];)
								for (; n.indexOf(" " + o + " ") > -1;) n = n.replace(" " + o + " ", " ");
							a !== (s = ge(n)) && i.setAttribute("class", s)
						} return this
			},
			toggleClass: function(t, e) {
				var i = typeof t,
					n = "string" === i || Array.isArray(t);
				return "boolean" == typeof e && n ? e ? this.addClass(t) : this.removeClass(t) : _(t) ? this.each(function(i) {
					I(this).toggleClass(t.call(this, i, fe(this), e), e)
				}) : this.each(function() {
					var e, a, o, r;
					if (n)
						for (a = 0, o = I(this), r = ye(t); e = r[a++];) o.hasClass(e) ? o.removeClass(e) : o.addClass(e);
					else void 0 !== t && "boolean" !== i || ((e = fe(this)) && J.set(this, "__className__", e), this.setAttribute && this.setAttribute("class", e || !1 === t ? "" : J.get(this, "__className__") || ""))
				})
			},
			hasClass: function(t) {
				var e, i, n = 0;
				for (e = " " + t + " "; i = this[n++];)
					if (1 === i.nodeType && (" " + ge(fe(i)) + " ").indexOf(e) > -1) return !0;
				return !1
			}
		});
		var me = /\r/g;
		I.fn.extend({
			val: function(t) {
				var e, i, n, a = this[0];
				return arguments.length ? (n = _(t), this.each(function(i) {
					var a;
					1 === this.nodeType && (null == (a = n ? t.call(this, i, I(this).val()) : t) ? a = "" : "number" == typeof a ? a += "" : Array.isArray(a) && (a = I.map(a, function(t) {
						return null == t ? "" : t + ""
					})), (e = I.valHooks[this.type] || I.valHooks[this.nodeName.toLowerCase()]) && "set" in e && void 0 !== e.set(this, a, "value") || (this.value = a))
				})) : a ? (e = I.valHooks[a.type] || I.valHooks[a.nodeName.toLowerCase()]) && "get" in e && void 0 !== (i = e.get(a, "value")) ? i : "string" == typeof(i = a.value) ? i.replace(me, "") : null == i ? "" : i : void 0
			}
		}), I.extend({
			valHooks: {
				option: {
					get: function(t) {
						var e = I.find.attr(t, "value");
						return null != e ? e : ge(I.text(t))
					}
				},
				select: {
					get: function(t) {
						var e, i, n, a = t.options,
							o = t.selectedIndex,
							r = "select-one" === t.type,
							s = r ? null : [],
							l = r ? o + 1 : a.length;
						for (n = o < 0 ? l : r ? o : 0; n < l; n++)
							if (((i = a[n]).selected || n === o) && !i.disabled && (!i.parentNode.disabled || !P(i.parentNode, "optgroup"))) {
								if (e = I(i).val(), r) return e;
								s.push(e)
							} return s
					},
					set: function(t, e) {
						for (var i, n, a = t.options, o = I.makeArray(e), r = a.length; r--;)((n = a[r]).selected = I.inArray(I.valHooks.option.get(n), o) > -1) && (i = !0);
						return i || (t.selectedIndex = -1), o
					}
				}
			}
		}), I.each(["radio", "checkbox"], function() {
			I.valHooks[this] = {
				set: function(t, e) {
					if (Array.isArray(e)) return t.checked = I.inArray(I(t).val(), e) > -1
				}
			}, m.checkOn || (I.valHooks[this].get = function(t) {
				return null === t.getAttribute("value") ? "on" : t.value
			})
		}), m.focusin = "onfocusin" in i;
		var _e = /^(?:focusinfocus|focusoutblur)$/,
			ve = function(t) {
				t.stopPropagation()
			};
		I.extend(I.event, {
			trigger: function(t, e, n, a) {
				var o, s, l, c, h, u, p, d, f = [n || r],
					y = g.call(t, "type") ? t.type : t,
					m = g.call(t, "namespace") ? t.namespace.split(".") : [];
				if (s = d = l = n = n || r, 3 !== n.nodeType && 8 !== n.nodeType && !_e.test(y + I.event.triggered) && (y.indexOf(".") > -1 && (y = (m = y.split(".")).shift(), m.sort()), h = y.indexOf(":") < 0 && "on" + y, (t = t[I.expando] ? t : new I.Event(y, "object" == typeof t && t)).isTrigger = a ? 2 : 3, t.namespace = m.join("."), t.rnamespace = t.namespace ? new RegExp("(^|\\.)" + m.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, t.result = void 0, t.target || (t.target = n), e = null == e ? [t] : I.makeArray(e, [t]), p = I.event.special[y] || {}, a || !p.trigger || !1 !== p.trigger.apply(n, e))) {
					if (!a && !p.noBubble && !v(n)) {
						for (c = p.delegateType || y, _e.test(c + y) || (s = s.parentNode); s; s = s.parentNode) f.push(s), l = s;
						l === (n.ownerDocument || r) && f.push(l.defaultView || l.parentWindow || i)
					}
					for (o = 0;
						(s = f[o++]) && !t.isPropagationStopped();) d = s, t.type = o > 1 ? c : p.bindType || y, (u = (J.get(s, "events") || {})[t.type] && J.get(s, "handle")) && u.apply(s, e), (u = h && s[h]) && u.apply && X(s) && (t.result = u.apply(s, e), !1 === t.result && t.preventDefault());
					return t.type = y, a || t.isDefaultPrevented() || p._default && !1 !== p._default.apply(f.pop(), e) || !X(n) || h && _(n[y]) && !v(n) && ((l = n[h]) && (n[h] = null), I.event.triggered = y, t.isPropagationStopped() && d.addEventListener(y, ve), n[y](), t.isPropagationStopped() && d.removeEventListener(y, ve), I.event.triggered = void 0, l && (n[h] = l)), t.result
				}
			},
			simulate: function(t, e, i) {
				var n = I.extend(new I.Event, i, {
					type: t,
					isSimulated: !0
				});
				I.event.trigger(n, null, e)
			}
		}), I.fn.extend({
			trigger: function(t, e) {
				return this.each(function() {
					I.event.trigger(t, e, this)
				})
			},
			triggerHandler: function(t, e) {
				var i = this[0];
				if (i) return I.event.trigger(t, e, i, !0)
			}
		}), m.focusin || I.each({
			focus: "focusin",
			blur: "focusout"
		}, function(t, e) {
			var i = function(t) {
				I.event.simulate(e, t.target, I.event.fix(t))
			};
			I.event.special[e] = {
				setup: function() {
					var n = this.ownerDocument || this,
						a = J.access(n, e);
					a || n.addEventListener(t, i, !0), J.access(n, e, (a || 0) + 1)
				},
				teardown: function() {
					var n = this.ownerDocument || this,
						a = J.access(n, e) - 1;
					a ? J.access(n, e, a) : (n.removeEventListener(t, i, !0), J.remove(n, e))
				}
			}
		});
		var Ee = i.location,
			be = Date.now(),
			Oe = /\?/;
		I.parseXML = function(t) {
			var e;
			if (!t || "string" != typeof t) return null;
			try {
				e = (new i.DOMParser).parseFromString(t, "text/xml")
			} catch (t) {
				e = void 0
			}
			return e && !e.getElementsByTagName("parsererror").length || I.error("Invalid XML: " + t), e
		};
		var Ie = /\[\]$/,
			Te = /\r?\n/g,
			Ae = /^(?:submit|button|image|reset|file)$/i,
			Ce = /^(?:input|select|textarea|keygen)/i;

		function Se(t, e, i, n) {
			var a;
			if (Array.isArray(e)) I.each(e, function(e, a) {
				i || Ie.test(t) ? n(t, a) : Se(t + "[" + ("object" == typeof a && null != a ? e : "") + "]", a, i, n)
			});
			else if (i || "object" !== O(e)) n(t, e);
			else
				for (a in e) Se(t + "[" + a + "]", e[a], i, n)
		}
		I.param = function(t, e) {
			var i, n = [],
				a = function(t, e) {
					var i = _(e) ? e() : e;
					n[n.length] = encodeURIComponent(t) + "=" + encodeURIComponent(null == i ? "" : i)
				};
			if (Array.isArray(t) || t.jquery && !I.isPlainObject(t)) I.each(t, function() {
				a(this.name, this.value)
			});
			else
				for (i in t) Se(i, t[i], e, a);
			return n.join("&")
		}, I.fn.extend({
			serialize: function() {
				return I.param(this.serializeArray())
			},
			serializeArray: function() {
				return this.map(function() {
					var t = I.prop(this, "elements");
					return t ? I.makeArray(t) : this
				}).filter(function() {
					var t = this.type;
					return this.name && !I(this).is(":disabled") && Ce.test(this.nodeName) && !Ae.test(t) && (this.checked || !pt.test(t))
				}).map(function(t, e) {
					var i = I(this).val();
					return null == i ? null : Array.isArray(i) ? I.map(i, function(t) {
						return {
							name: e.name,
							value: t.replace(Te, "\r\n")
						}
					}) : {
						name: e.name,
						value: i.replace(Te, "\r\n")
					}
				}).get()
			}
		});
		var we = /%20/g,
			De = /#.*$/,
			Pe = /([?&])_=[^&]*/,
			Le = /^(.*?):[ \t]*([^\r\n]*)$/gm,
			xe = /^(?:GET|HEAD)$/,
			Me = /^\/\//,
			Ue = {},
			Ne = {},
			Re = "*/".concat("*"),
			ke = r.createElement("a");

		function Be(t) {
			return function(e, i) {
				"string" != typeof e && (i = e, e = "*");
				var n, a = 0,
					o = e.toLowerCase().match(B) || [];
				if (_(i))
					for (; n = o[a++];) "+" === n[0] ? (n = n.slice(1) || "*", (t[n] = t[n] || []).unshift(i)) : (t[n] = t[n] || []).push(i)
			}
		}

		function Ge(t, e, i, n) {
			var a = {},
				o = t === Ne;

			function r(s) {
				var l;
				return a[s] = !0, I.each(t[s] || [], function(t, s) {
					var c = s(e, i, n);
					return "string" != typeof c || o || a[c] ? o ? !(l = c) : void 0 : (e.dataTypes.unshift(c), r(c), !1)
				}), l
			}
			return r(e.dataTypes[0]) || !a["*"] && r("*")
		}

		function Ve(t, e) {
			var i, n, a = I.ajaxSettings.flatOptions || {};
			for (i in e) void 0 !== e[i] && ((a[i] ? t : n || (n = {}))[i] = e[i]);
			return n && I.extend(!0, t, n), t
		}
		ke.href = Ee.href, I.extend({
			active: 0,
			lastModified: {},
			etag: {},
			ajaxSettings: {
				url: Ee.href,
				type: "GET",
				isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ee.protocol),
				global: !0,
				processData: !0,
				async: !0,
				contentType: "application/x-www-form-urlencoded; charset=UTF-8",
				accepts: {
					"*": Re,
					text: "text/plain",
					html: "text/html",
					xml: "application/xml, text/xml",
					json: "application/json, text/javascript"
				},
				contents: {
					xml: /\bxml\b/,
					html: /\bhtml/,
					json: /\bjson\b/
				},
				responseFields: {
					xml: "responseXML",
					text: "responseText",
					json: "responseJSON"
				},
				converters: {
					"* text": String,
					"text html": !0,
					"text json": JSON.parse,
					"text xml": I.parseXML
				},
				flatOptions: {
					url: !0,
					context: !0
				}
			},
			ajaxSetup: function(t, e) {
				return e ? Ve(Ve(t, I.ajaxSettings), e) : Ve(I.ajaxSettings, t)
			},
			ajaxPrefilter: Be(Ue),
			ajaxTransport: Be(Ne),
			ajax: function(t, e) {
				"object" == typeof t && (e = t, t = void 0), e = e || {};
				var n, a, o, s, l, c, h, u, p, d, g = I.ajaxSetup({}, e),
					f = g.context || g,
					y = g.context && (f.nodeType || f.jquery) ? I(f) : I.event,
					m = I.Deferred(),
					_ = I.Callbacks("once memory"),
					v = g.statusCode || {},
					E = {},
					b = {},
					O = "canceled",
					T = {
						readyState: 0,
						getResponseHeader: function(t) {
							var e;
							if (h) {
								if (!s)
									for (s = {}; e = Le.exec(o);) s[e[1].toLowerCase()] = e[2];
								e = s[t.toLowerCase()]
							}
							return null == e ? null : e
						},
						getAllResponseHeaders: function() {
							return h ? o : null
						},
						setRequestHeader: function(t, e) {
							return null == h && (t = b[t.toLowerCase()] = b[t.toLowerCase()] || t, E[t] = e), this
						},
						overrideMimeType: function(t) {
							return null == h && (g.mimeType = t), this
						},
						statusCode: function(t) {
							var e;
							if (t)
								if (h) T.always(t[T.status]);
								else
									for (e in t) v[e] = [v[e], t[e]];
							return this
						},
						abort: function(t) {
							var e = t || O;
							return n && n.abort(e), A(0, e), this
						}
					};
				if (m.promise(T), g.url = ((t || g.url || Ee.href) + "").replace(Me, Ee.protocol + "//"), g.type = e.method || e.type || g.method || g.type, g.dataTypes = (g.dataType || "*").toLowerCase().match(B) || [""], null == g.crossDomain) {
					c = r.createElement("a");
					try {
						c.href = g.url, c.href = c.href, g.crossDomain = ke.protocol + "//" + ke.host != c.protocol + "//" + c.host
					} catch (t) {
						g.crossDomain = !0
					}
				}
				if (g.data && g.processData && "string" != typeof g.data && (g.data = I.param(g.data, g.traditional)), Ge(Ue, g, e, T), h) return T;
				for (p in (u = I.event && g.global) && 0 == I.active++ && I.event.trigger("ajaxStart"), g.type = g.type.toUpperCase(), g.hasContent = !xe.test(g.type), a = g.url.replace(De, ""), g.hasContent ? g.data && g.processData && 0 === (g.contentType || "").indexOf("application/x-www-form-urlencoded") && (g.data = g.data.replace(we, "+")) : (d = g.url.slice(a.length), g.data && (g.processData || "string" == typeof g.data) && (a += (Oe.test(a) ? "&" : "?") + g.data, delete g.data), !1 === g.cache && (a = a.replace(Pe, "$1"), d = (Oe.test(a) ? "&" : "?") + "_=" + be++ + d), g.url = a + d), g.ifModified && (I.lastModified[a] && T.setRequestHeader("If-Modified-Since", I.lastModified[a]), I.etag[a] && T.setRequestHeader("If-None-Match", I.etag[a])), (g.data && g.hasContent && !1 !== g.contentType || e.contentType) && T.setRequestHeader("Content-Type", g.contentType), T.setRequestHeader("Accept", g.dataTypes[0] && g.accepts[g.dataTypes[0]] ? g.accepts[g.dataTypes[0]] + ("*" !== g.dataTypes[0] ? ", " + Re + "; q=0.01" : "") : g.accepts["*"]), g.headers) T.setRequestHeader(p, g.headers[p]);
				if (g.beforeSend && (!1 === g.beforeSend.call(f, T, g) || h)) return T.abort();
				if (O = "abort", _.add(g.complete), T.done(g.success), T.fail(g.error), n = Ge(Ne, g, e, T)) {
					if (T.readyState = 1, u && y.trigger("ajaxSend", [T, g]), h) return T;
					g.async && g.timeout > 0 && (l = i.setTimeout(function() {
						T.abort("timeout")
					}, g.timeout));
					try {
						h = !1, n.send(E, A)
					} catch (t) {
						if (h) throw t;
						A(-1, t)
					}
				} else A(-1, "No Transport");

				function A(t, e, r, s) {
					var c, p, d, E, b, O = e;
					h || (h = !0, l && i.clearTimeout(l), n = void 0, o = s || "", T.readyState = t > 0 ? 4 : 0, c = t >= 200 && t < 300 || 304 === t, r && (E = function(t, e, i) {
						for (var n, a, o, r, s = t.contents, l = t.dataTypes;
							"*" === l[0];) l.shift(), void 0 === n && (n = t.mimeType || e.getResponseHeader("Content-Type"));
						if (n)
							for (a in s)
								if (s[a] && s[a].test(n)) {
									l.unshift(a);
									break
								} if (l[0] in i) o = l[0];
						else {
							for (a in i) {
								if (!l[0] || t.converters[a + " " + l[0]]) {
									o = a;
									break
								}
								r || (r = a)
							}
							o = o || r
						}
						if (o) return o !== l[0] && l.unshift(o), i[o]
					}(g, T, r)), E = function(t, e, i, n) {
						var a, o, r, s, l, c = {},
							h = t.dataTypes.slice();
						if (h[1])
							for (r in t.converters) c[r.toLowerCase()] = t.converters[r];
						for (o = h.shift(); o;)
							if (t.responseFields[o] && (i[t.responseFields[o]] = e), !l && n && t.dataFilter && (e = t.dataFilter(e, t.dataType)), l = o, o = h.shift())
								if ("*" === o) o = l;
								else if ("*" !== l && l !== o) {
							if (!(r = c[l + " " + o] || c["* " + o]))
								for (a in c)
									if ((s = a.split(" "))[1] === o && (r = c[l + " " + s[0]] || c["* " + s[0]])) {
										!0 === r ? r = c[a] : !0 !== c[a] && (o = s[0], h.unshift(s[1]));
										break
									} if (!0 !== r)
								if (r && t.throws) e = r(e);
								else try {
									e = r(e)
								} catch (t) {
									return {
										state: "parsererror",
										error: r ? t : "No conversion from " + l + " to " + o
									}
								}
						}
						return {
							state: "success",
							data: e
						}
					}(g, E, T, c), c ? (g.ifModified && ((b = T.getResponseHeader("Last-Modified")) && (I.lastModified[a] = b), (b = T.getResponseHeader("etag")) && (I.etag[a] = b)), 204 === t || "HEAD" === g.type ? O = "nocontent" : 304 === t ? O = "notmodified" : (O = E.state, p = E.data, c = !(d = E.error))) : (d = O, !t && O || (O = "error", t < 0 && (t = 0))), T.status = t, T.statusText = (e || O) + "", c ? m.resolveWith(f, [p, O, T]) : m.rejectWith(f, [T, O, d]), T.statusCode(v), v = void 0, u && y.trigger(c ? "ajaxSuccess" : "ajaxError", [T, g, c ? p : d]), _.fireWith(f, [T, O]), u && (y.trigger("ajaxComplete", [T, g]), --I.active || I.event.trigger("ajaxStop")))
				}
				return T
			},
			getJSON: function(t, e, i) {
				return I.get(t, e, i, "json")
			},
			getScript: function(t, e) {
				return I.get(t, void 0, e, "script")
			}
		}), I.each(["get", "post"], function(t, e) {
			I[e] = function(t, i, n, a) {
				return _(i) && (a = a || n, n = i, i = void 0), I.ajax(I.extend({
					url: t,
					type: e,
					dataType: a,
					data: i,
					success: n
				}, I.isPlainObject(t) && t))
			}
		}), I._evalUrl = function(t) {
			return I.ajax({
				url: t,
				type: "GET",
				dataType: "script",
				cache: !0,
				async: !1,
				global: !1,
				throws: !0
			})
		}, I.fn.extend({
			wrapAll: function(t) {
				var e;
				return this[0] && (_(t) && (t = t.call(this[0])), e = I(t, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && e.insertBefore(this[0]), e.map(function() {
					for (var t = this; t.firstElementChild;) t = t.firstElementChild;
					return t
				}).append(this)), this
			},
			wrapInner: function(t) {
				return _(t) ? this.each(function(e) {
					I(this).wrapInner(t.call(this, e))
				}) : this.each(function() {
					var e = I(this),
						i = e.contents();
					i.length ? i.wrapAll(t) : e.append(t)
				})
			},
			wrap: function(t) {
				var e = _(t);
				return this.each(function(i) {
					I(this).wrapAll(e ? t.call(this, i) : t)
				})
			},
			unwrap: function(t) {
				return this.parent(t).not("body").each(function() {
					I(this).replaceWith(this.childNodes)
				}), this
			}
		}), I.expr.pseudos.hidden = function(t) {
			return !I.expr.pseudos.visible(t)
		}, I.expr.pseudos.visible = function(t) {
			return !!(t.offsetWidth || t.offsetHeight || t.getClientRects().length)
		}, I.ajaxSettings.xhr = function() {
			try {
				return new i.XMLHttpRequest
			} catch (t) {}
		};
		var Fe = {
				0: 200,
				1223: 204
			},
			je = I.ajaxSettings.xhr();
		m.cors = !!je && "withCredentials" in je, m.ajax = je = !!je, I.ajaxTransport(function(t) {
			var e, n;
			if (m.cors || je && !t.crossDomain) return {
				send: function(a, o) {
					var r, s = t.xhr();
					if (s.open(t.type, t.url, t.async, t.username, t.password), t.xhrFields)
						for (r in t.xhrFields) s[r] = t.xhrFields[r];
					for (r in t.mimeType && s.overrideMimeType && s.overrideMimeType(t.mimeType), t.crossDomain || a["X-Requested-With"] || (a["X-Requested-With"] = "XMLHttpRequest"), a) s.setRequestHeader(r, a[r]);
					e = function(t) {
						return function() {
							e && (e = n = s.onload = s.onerror = s.onabort = s.ontimeout = s.onreadystatechange = null, "abort" === t ? s.abort() : "error" === t ? "number" != typeof s.status ? o(0, "error") : o(s.status, s.statusText) : o(Fe[s.status] || s.status, s.statusText, "text" !== (s.responseType || "text") || "string" != typeof s.responseText ? {
								binary: s.response
							} : {
								text: s.responseText
							}, s.getAllResponseHeaders()))
						}
					}, s.onload = e(), n = s.onerror = s.ontimeout = e("error"), void 0 !== s.onabort ? s.onabort = n : s.onreadystatechange = function() {
						4 === s.readyState && i.setTimeout(function() {
							e && n()
						})
					}, e = e("abort");
					try {
						s.send(t.hasContent && t.data || null)
					} catch (t) {
						if (e) throw t
					}
				},
				abort: function() {
					e && e()
				}
			}
		}), I.ajaxPrefilter(function(t) {
			t.crossDomain && (t.contents.script = !1)
		}), I.ajaxSetup({
			accepts: {
				script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
			},
			contents: {
				script: /\b(?:java|ecma)script\b/
			},
			converters: {
				"text script": function(t) {
					return I.globalEval(t), t
				}
			}
		}), I.ajaxPrefilter("script", function(t) {
			void 0 === t.cache && (t.cache = !1), t.crossDomain && (t.type = "GET")
		}), I.ajaxTransport("script", function(t) {
			var e, i;
			if (t.crossDomain) return {
				send: function(n, a) {
					e = I("<script>").prop({
						charset: t.scriptCharset,
						src: t.url
					}).on("load error", i = function(t) {
						e.remove(), i = null, t && a("error" === t.type ? 404 : 200, t.type)
					}), r.head.appendChild(e[0])
				},
				abort: function() {
					i && i()
				}
			}
		});
		var He = [],
			ze = /(=)\?(?=&|$)|\?\?/;
		I.ajaxSetup({
			jsonp: "callback",
			jsonpCallback: function() {
				var t = He.pop() || I.expando + "_" + be++;
				return this[t] = !0, t
			}
		}), I.ajaxPrefilter("json jsonp", function(t, e, n) {
			var a, o, r, s = !1 !== t.jsonp && (ze.test(t.url) ? "url" : "string" == typeof t.data && 0 === (t.contentType || "").indexOf("application/x-www-form-urlencoded") && ze.test(t.data) && "data");
			if (s || "jsonp" === t.dataTypes[0]) return a = t.jsonpCallback = _(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback, s ? t[s] = t[s].replace(ze, "$1" + a) : !1 !== t.jsonp && (t.url += (Oe.test(t.url) ? "&" : "?") + t.jsonp + "=" + a), t.converters["script json"] = function() {
				return r || I.error(a + " was not called"), r[0]
			}, t.dataTypes[0] = "json", o = i[a], i[a] = function() {
				r = arguments
			}, n.always(function() {
				void 0 === o ? I(i).removeProp(a) : i[a] = o, t[a] && (t.jsonpCallback = e.jsonpCallback, He.push(a)), r && _(o) && o(r[0]), r = o = void 0
			}), "script"
		}), m.createHTMLDocument = function() {
			var t = r.implementation.createHTMLDocument("").body;
			return t.innerHTML = "<form></form><form></form>", 2 === t.childNodes.length
		}(), I.parseHTML = function(t, e, i) {
			return "string" != typeof t ? [] : ("boolean" == typeof e && (i = e, e = !1), e || (m.createHTMLDocument ? ((n = (e = r.implementation.createHTMLDocument("")).createElement("base")).href = r.location.href, e.head.appendChild(n)) : e = r), a = L.exec(t), o = !i && [], a ? [e.createElement(a[1])] : (a = vt([t], e, o), o && o.length && I(o).remove(), I.merge([], a.childNodes)));
			var n, a, o
		}, I.fn.load = function(t, e, i) {
			var n, a, o, r = this,
				s = t.indexOf(" ");
			return s > -1 && (n = ge(t.slice(s)), t = t.slice(0, s)), _(e) ? (i = e, e = void 0) : e && "object" == typeof e && (a = "POST"), r.length > 0 && I.ajax({
				url: t,
				type: a || "GET",
				dataType: "html",
				data: e
			}).done(function(t) {
				o = arguments, r.html(n ? I("<div>").append(I.parseHTML(t)).find(n) : t)
			}).always(i && function(t, e) {
				r.each(function() {
					i.apply(this, o || [t.responseText, e, t])
				})
			}), this
		}, I.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(t, e) {
			I.fn[e] = function(t) {
				return this.on(e, t)
			}
		}), I.expr.pseudos.animated = function(t) {
			return I.grep(I.timers, function(e) {
				return t === e.elem
			}).length
		}, I.offset = {
			setOffset: function(t, e, i) {
				var n, a, o, r, s, l, c = I.css(t, "position"),
					h = I(t),
					u = {};
				"static" === c && (t.style.position = "relative"), s = h.offset(), o = I.css(t, "top"), l = I.css(t, "left"), ("absolute" === c || "fixed" === c) && (o + l).indexOf("auto") > -1 ? (r = (n = h.position()).top, a = n.left) : (r = parseFloat(o) || 0, a = parseFloat(l) || 0), _(e) && (e = e.call(t, i, I.extend({}, s))), null != e.top && (u.top = e.top - s.top + r), null != e.left && (u.left = e.left - s.left + a), "using" in e ? e.using.call(t, u) : h.css(u)
			}
		}, I.fn.extend({
			offset: function(t) {
				if (arguments.length) return void 0 === t ? this : this.each(function(e) {
					I.offset.setOffset(this, t, e)
				});
				var e, i, n = this[0];
				return n ? n.getClientRects().length ? (e = n.getBoundingClientRect(), i = n.ownerDocument.defaultView, {
					top: e.top + i.pageYOffset,
					left: e.left + i.pageXOffset
				}) : {
					top: 0,
					left: 0
				} : void 0
			},
			position: function() {
				if (this[0]) {
					var t, e, i, n = this[0],
						a = {
							top: 0,
							left: 0
						};
					if ("fixed" === I.css(n, "position")) e = n.getBoundingClientRect();
					else {
						for (e = this.offset(), i = n.ownerDocument, t = n.offsetParent || i.documentElement; t && (t === i.body || t === i.documentElement) && "static" === I.css(t, "position");) t = t.parentNode;
						t && t !== n && 1 === t.nodeType && ((a = I(t).offset()).top += I.css(t, "borderTopWidth", !0), a.left += I.css(t, "borderLeftWidth", !0))
					}
					return {
						top: e.top - a.top - I.css(n, "marginTop", !0),
						left: e.left - a.left - I.css(n, "marginLeft", !0)
					}
				}
			},
			offsetParent: function() {
				return this.map(function() {
					for (var t = this.offsetParent; t && "static" === I.css(t, "position");) t = t.offsetParent;
					return t || Et
				})
			}
		}), I.each({
			scrollLeft: "pageXOffset",
			scrollTop: "pageYOffset"
		}, function(t, e) {
			var i = "pageYOffset" === e;
			I.fn[t] = function(n) {
				return W(this, function(t, n, a) {
					var o;
					if (v(t) ? o = t : 9 === t.nodeType && (o = t.defaultView), void 0 === a) return o ? o[e] : t[n];
					o ? o.scrollTo(i ? o.pageXOffset : a, i ? a : o.pageYOffset) : t[n] = a
				}, t, n, arguments.length)
			}
		}), I.each(["top", "left"], function(t, e) {
			I.cssHooks[e] = Ht(m.pixelPosition, function(t, i) {
				if (i) return i = jt(t, e), Gt.test(i) ? I(t).position()[e] + "px" : i
			})
		}), I.each({
			Height: "height",
			Width: "width"
		}, function(t, e) {
			I.each({
				padding: "inner" + t,
				content: e,
				"": "outer" + t
			}, function(i, n) {
				I.fn[n] = function(a, o) {
					var r = arguments.length && (i || "boolean" != typeof a),
						s = i || (!0 === a || !0 === o ? "margin" : "border");
					return W(this, function(e, i, a) {
						var o;
						return v(e) ? 0 === n.indexOf("outer") ? e["inner" + t] : e.document.documentElement["client" + t] : 9 === e.nodeType ? (o = e.documentElement, Math.max(e.body["scroll" + t], o["scroll" + t], e.body["offset" + t], o["offset" + t], o["client" + t])) : void 0 === a ? I.css(e, i, s) : I.style(e, i, a, s)
					}, e, r ? a : void 0, r)
				}
			})
		}), I.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function(t, e) {
			I.fn[e] = function(t, i) {
				return arguments.length > 0 ? this.on(e, null, t, i) : this.trigger(e)
			}
		}), I.fn.extend({
			hover: function(t, e) {
				return this.mouseenter(t).mouseleave(e || t)
			}
		}), I.fn.extend({
			bind: function(t, e, i) {
				return this.on(t, null, e, i)
			},
			unbind: function(t, e) {
				return this.off(t, null, e)
			},
			delegate: function(t, e, i, n) {
				return this.on(e, t, i, n)
			},
			undelegate: function(t, e, i) {
				return 1 === arguments.length ? this.off(t, "**") : this.off(e, t || "**", i)
			}
		}), I.proxy = function(t, e) {
			var i, n, a;
			if ("string" == typeof e && (i = t[e], e = t, t = i), _(t)) return n = l.call(arguments, 2), (a = function() {
				return t.apply(e || this, n.concat(l.call(arguments)))
			}).guid = t.guid = t.guid || I.guid++, a
		}, I.holdReady = function(t) {
			t ? I.readyWait++ : I.ready(!0)
		}, I.isArray = Array.isArray, I.parseJSON = JSON.parse, I.nodeName = P, I.isFunction = _, I.isWindow = v, I.camelCase = Q, I.type = O, I.now = Date.now, I.isNumeric = function(t) {
			var e = I.type(t);
			return ("number" === e || "string" === e) && !isNaN(t - parseFloat(t))
		}, void 0 === (n = function() {
			return I
		}.apply(e, [])) || (t.exports = n);
		var We = i.jQuery,
			Ke = i.$;
		return I.noConflict = function(t) {
			return i.$ === I && (i.$ = Ke), t && i.jQuery === I && (i.jQuery = We), I
		}, a || (i.jQuery = i.$ = I), I
	})
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return n(e, t), e.prototype.commonSchemaToData = function(t, e) {
			return e.setUUID(t.uuid), e.setTimestamp(t.timestamp), e.setClientVersion(t.client_version), void 0 !== t.meta.referral_origin && e.setReferralOrigin(t.meta.referral_origin), void 0 !== t.meta.referrer && e.setReferrer(t.meta.referrer), void 0 !== t.meta.utm_campaign && e.setUtmCampaign(t.meta.utm_campaign), void 0 !== t.meta.utm_content && e.setUtmContent(t.meta.utm_content), void 0 !== t.meta.utm_medium && e.setUtmMedium(t.meta.utm_medium), void 0 !== t.meta.utm_source && e.setUtmSource(t.meta.utm_source), void 0 !== t.meta.device_platform && e.setDevicePlatform(t.meta.device_platform), void 0 !== t.meta.device_os && e.setDeviceOs(t.meta.device_os), void 0 !== t.meta.device_height && e.setDeviceHeight(t.meta.device_height), void 0 !== t.meta.device_width && e.setDeviceWidth(t.meta.device_width), void 0 !== t.meta.frame_rate && e.setFrameRate(t.meta.frame_rate), void 0 !== t.meta.browser && e.setBrowser(t.meta.browser), void 0 !== t.meta.browser_version && e.setBrowserVersion(t.meta.browser_version), void 0 !== t.meta.custom && e.setCustom(t.meta.custom), e
		}, e.prototype.commonDataToSchema = function(t) {
			return {
				name: t.getEventName(),
				version: t.getSchemaVersion(),
				uuid: t.getUUID(),
				timestamp: t.getTimestamp(),
				client_version: t.getClientVersion(),
				meta: {
					referral_origin: t.getReferralOrigin(),
					referrer: t.getReferrer(),
					utm_campaign: t.getUtmCampaign(),
					utm_content: t.getUtmContent(),
					utm_medium: t.getUtmMedium(),
					utm_source: t.getUtmSource(),
					device_width: t.getDeviceWidth(),
					device_height: t.getDeviceHeight(),
					device_platform: t.getDevicePlatform(),
					device_os: t.getDeviceOs(),
					frame_rate: t.getFrameRate(),
					browser: t.getBrowser(),
					browser_version: t.getBrowserVersion(),
					custom: t.getCustom()
				}
			}
		}, e
	}(i(100).Factory);
	e.AnonymousEventFactory = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e) {
			var i = t.call(this, e, 3) || this;
			return i.uuid = null, i.timestamp = null, i.clientVersion = null, i.referralOrigin = null, i.referrer = null, i.utmCampaign = null, i.utmContent = null, i.utmMedium = null, i.utmSource = null, i.deviceWidth = null, i.deviceHeight = null, i.devicePlatform = null, i.deviceOs = null, i.frameRate = null, i.browser = null, i.browserVersion = null, i.custom = null, i
		}
		return n(e, t), e.prototype.setUUID = function(t) {
			this.uuid = t
		}, e.prototype.getUUID = function() {
			return this.uuid
		}, e.prototype.setTimestamp = function(t) {
			this.timestamp = t
		}, e.prototype.getTimestamp = function() {
			return this.timestamp
		}, e.prototype.setClientVersion = function(t) {
			this.clientVersion = t
		}, e.prototype.getClientVersion = function() {
			return this.clientVersion
		}, e.prototype.setReferralOrigin = function(t) {
			this.referralOrigin = t
		}, e.prototype.getReferralOrigin = function() {
			return this.referralOrigin
		}, e.prototype.setReferrer = function(t) {
			this.referrer = t
		}, e.prototype.getReferrer = function() {
			return this.referrer
		}, e.prototype.setUtmCampaign = function(t) {
			this.utmCampaign = t
		}, e.prototype.getUtmCampaign = function() {
			return this.utmCampaign
		}, e.prototype.setUtmContent = function(t) {
			this.utmContent = t
		}, e.prototype.getUtmContent = function() {
			return this.utmContent
		}, e.prototype.setUtmMedium = function(t) {
			this.utmMedium = t
		}, e.prototype.getUtmMedium = function() {
			return this.utmMedium
		}, e.prototype.setUtmSource = function(t) {
			this.utmSource = t
		}, e.prototype.getUtmSource = function() {
			return this.utmSource
		}, e.prototype.setDeviceWidth = function(t) {
			this.deviceWidth = t
		}, e.prototype.getDeviceWidth = function() {
			return this.deviceWidth
		}, e.prototype.setDeviceHeight = function(t) {
			this.deviceHeight = t
		}, e.prototype.getDeviceHeight = function() {
			return this.deviceHeight
		}, e.prototype.setDevicePlatform = function(t) {
			this.devicePlatform = t
		}, e.prototype.getDevicePlatform = function() {
			return this.devicePlatform
		}, e.prototype.setDeviceOs = function(t) {
			this.deviceOs = t
		}, e.prototype.getDeviceOs = function() {
			return this.deviceOs
		}, e.prototype.setFrameRate = function(t) {
			this.frameRate = t
		}, e.prototype.getFrameRate = function() {
			return this.frameRate
		}, e.prototype.setBrowser = function(t) {
			this.browser = t
		}, e.prototype.getBrowser = function() {
			return this.browser
		}, e.prototype.setBrowserVersion = function(t) {
			this.browserVersion = t
		}, e.prototype.getBrowserVersion = function() {
			return this.browserVersion
		}, e.prototype.setCustom = function(t) {
			this.custom = t
		}, e.prototype.getCustom = function() {
			return this.custom
		}, e.prototype.defineValidation = function() {
			var t = this;
			this.addValidation({
				name: "name",
				value: function() {
					return t.getEventName()
				},
				comparator: function(t) {
					return t.length > 1
				},
				isOptional: !1
			}).addValidation({
				name: "version",
				value: function() {
					return t.getSchemaVersion()
				},
				comparator: function(t) {
					return 3 === t
				},
				isOptional: !1
			}).addValidation({
				name: "uuid",
				value: function() {
					return t.getUUID()
				},
				comparator: function(t) {
					return t.length > 1
				},
				isOptional: !1
			}).addValidation({
				name: "timestamp",
				value: function() {
					return t.getTimestamp()
				},
				comparator: function(t) {
					return t > 1
				},
				isOptional: !1
			}).addValidation({
				name: "clientVersion",
				value: function() {
					return t.getClientVersion()
				},
				comparator: function(t) {
					return t.length > 1
				},
				isOptional: !1
			}), this.addValidation({
				name: "meta.referral_origin",
				value: function() {
					return t.getReferralOrigin()
				},
				comparator: function(t) {
					return t.length > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.referrer",
				value: function() {
					return t.getReferrer()
				},
				comparator: function(t) {
					return t.length > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.utm_campaign",
				value: function() {
					return t.getUtmCampaign()
				},
				comparator: function(t) {
					return t.length > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.utm_content",
				value: function() {
					return t.getUtmContent()
				},
				comparator: function(t) {
					return t.length > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.utm_medium",
				value: function() {
					return t.getUtmMedium()
				},
				comparator: function(t) {
					return t.length > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.utm_source",
				value: function() {
					return t.getUtmSource()
				},
				comparator: function(t) {
					return t.length > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.device_width",
				value: function() {
					return t.getDeviceWidth()
				},
				comparator: function(t) {
					return t > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.device_height",
				value: function() {
					return t.getDeviceHeight()
				},
				comparator: function(t) {
					return t > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.device_platform",
				value: function() {
					return t.getDevicePlatform()
				},
				comparator: function(t) {
					return t.length > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.device_os",
				value: function() {
					return t.getDeviceOs()
				},
				comparator: function(t) {
					return t.length > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.frame_rate",
				value: function() {
					return t.getFrameRate()
				},
				comparator: function(t) {
					return t > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.browser",
				value: function() {
					return t.getBrowser()
				},
				comparator: function(t) {
					return t.length > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.browser_version",
				value: function() {
					return t.getBrowserVersion()
				},
				comparator: function(t) {
					return t.length > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.custom",
				value: function() {
					return t.getCustom()
				},
				comparator: function(t) {
					return "object" == typeof t
				},
				isOptional: !0
			})
		}, e
	}(i(101).Event);
	e.AnonymousEventData = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return n(e, t), e.prototype.shuffle = function(t) {
			for (var e = t.length - 1, i = e; i > 0; i--) {
				var n = Math.floor(this.frac() * (e + 1)),
					a = t[n];
				t[n] = t[i], t[i] = a
			}
			return t
		}, e
	}(Phaser.RandomDataGenerator);
	e.ProdigyRandomDataGenerator = a
}, function(t, e, i) {
	var n = i(54),
		a = i(992);
	t.exports = function(t, e) {
		var i = [];
		if (!t || !t.length) return i;
		var o = -1,
			r = [],
			s = t.length;
		for (e = n(e, 3); ++o < s;) {
			var l = t[o];
			e(l, o, t) && (i.push(l), r.push(o))
		}
		return a(t, r), i
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n, a = i(1),
		o = i(187),
		r = i(127),
		s = i(65),
		l = i(0);
	! function(t) {
		t[t.North = 0] = "North", t[t.East = 1] = "East", t[t.South = 2] = "South", t[t.West = 3] = "West"
	}(n = e.DungeonDirection || (e.DungeonDirection = {}));
	var c = function() {
		function t(t, e) {
			this.config = null, this.randomDataGenerator = null, this.config = t, this.randomDataGenerator = e, this.randomDataGenerator.sow([t.seed])
		}
		return t.prototype.createLayout = function() {
			a.Logger.log("Creating dungeon from seed: " + this.config.seed, a.LogLevel.Verbose);
			for (var t = {
					seed: this.config.seed,
					mapConfigs: [],
					start: null
				}, e = 0; e < this.config.gridWidth; e++) {
				t.mapConfigs[e] = [];
				for (var i = 0; i < this.config.gridHeight; i++) t.mapConfigs[e][i] = null
			}
			var n = this.randomDataGenerator.integerInRange(this.config.minCritPathLength, this.config.maxCritPathLength);
			this.addCriticalPath(n, t);
			var o = this.randomDataGenerator.integerInRange(this.config.minEncounters, this.config.maxEncounters);
			this.addMonsters(o, t);
			var r = this.randomDataGenerator.integerInRange(this.config.extraPaths.minPaths, this.config.extraPaths.maxPaths);
			this.addExtraPaths(r, t), this.addGoldenPages(this.config.goldenPages, t);
			var s = this.randomDataGenerator.integerInRange(this.config.minPages, this.config.maxPages);
			return this.addPages(s, t), this.assignRoomTilemaps(t), t
		}, t.prototype.addCriticalPath = function(t, e) {
			var i = Math.floor(this.config.gridWidth / 2),
				n = Math.floor(this.config.gridHeight / 2);
			e.start = this.addRoomsToPath(i, n, e, t, 0, !0), l.Util.isValid(e.start) ? e.start.components.push({
				type: "exit",
				id: 0
			}) : a.Logger.log("Could not add Critical Path", a.LogLevel.Verbose)
		}, t.prototype.addRoomsToPath = function(t, e, i, a, o, r) {
			if (void 0 === r && (r = !1), o >= a) return null;
			if (t >= this.config.gridWidth || e >= this.config.gridHeight || t < 0 || e < 0) return null;
			if (l.Util.isValid(i.mapConfigs[t][e])) return null;
			var s = {
				x: t,
				y: e,
				tilemap: null,
				initFsm: null,
				connections: [],
				components: []
			};
			i.mapConfigs[t][e] = s;
			var c = o + 1;
			if (c >= a) return r && s.components.push({
				type: "exit",
				id: 1
			}), s;
			var h = this.randomDataGenerator.integerInRange(0, 3);
			0 === h && r && 1 === c && (h = this.randomDataGenerator.integerInRange(1, 3));
			var u = null,
				p = h;
			do {
				var d = {
					x: t,
					y: e
				};
				switch (h) {
					case n.North:
						d.y--;
						break;
					case n.East:
						d.x++;
						break;
					case n.South:
						d.y++;
						break;
					case n.West:
						d.x--
				}
				if (u = this.addRoomsToPath(d.x, d.y, i, a, c, r), l.Util.isValid(u)) return this.connectRooms(u, s), s;
				h = (h + 1) % 4
			} while (h !== p);
			return i.mapConfigs[t][e] = null, null
		}, t.prototype.addMonsters = function(e, i) {
			for (var n = t.getAllRooms(i, !1), a = function(t) {
					var e = r.randomDataGenerator.integerInRange(0, n.length - 1),
						i = r.randomDataGenerator.integerInRange(0, r.config.monsterIDs.length - 1);
					n[e].components.push({
						type: "monster",
						id: r.config.monsterIDs[i],
						drops: r.config.monsterDrops
					}), o(n, function(t) {
						return t === n[e]
					})
				}, r = this, s = 0; s < e && s < n.length; s++) a()
		}, t.prototype.addExtraPaths = function(e, i) {
			var n = t.getAllRooms(i, !1);
			this.randomDataGenerator.shuffle(n);
			for (var s = 0, c = function() {
					for (var t = [], a = 0; s < e && a < n.length; a++) {
						var c = n[a],
							u = h.findRandomEmptyAdjacentRoom(c, i);
						if (l.Util.isValid(u)) {
							var p = h.randomDataGenerator.integerInRange(h.config.extraPaths.minLength, h.config.extraPaths.maxLength),
								d = h.addRoomsToPath(u.x, u.y, i, p, 0);
							l.Util.isValid(d) && (h.connectRooms(c, d), s++)
						} else t.push(c)
					}
					o(n, function(e) {
						return r(t, e) >= 0
					})
				}, h = this; n.length > 0 && s < e;) c();
			s !== e && a.Logger.log("Could create all extra paths. Target: " + e + ", Created: " + s, a.LogLevel.Warning)
		}, t.prototype.addGoldenPages = function(e, i) {
			var n = t.getAllRooms(i, !1);
			this.randomDataGenerator.shuffle(n);
			for (var a = o(n, function(t) {
					return r(t.components, function(t) {
						return "monster" === t.type
					}) >= 0
				}), s = 0; s < e && s < a.length;) a[s].components.push({
				type: "currency",
				id: 18,
				quantity: 1
			}), s++;
			for (; s < e && s - a.length < n.length;) n[s - a.length].components.push({
				type: "currency",
				id: 18,
				quantity: 1
			}), s++
		}, t.prototype.addPages = function(e, i) {
			var n = t.getAllRooms(i);
			this.randomDataGenerator.shuffle(n);
			for (var a = 0; a < e && a < n.length; a++) {
				var o = 1;
				a < e - 1 && a < n.length - 1 && this.randomDataGenerator.frac() > .5 && (o = 2, a++), n[a].components.push({
					type: "currency",
					id: 19,
					quantity: o
				})
			}
		}, t.prototype.assignRoomTilemaps = function(e) {
			var i = t.getAllRooms(e),
				n = this.config.normalRooms.slice(),
				a = this.config.monsterRooms.slice();
			this.randomDataGenerator.shuffle(n), this.randomDataGenerator.shuffle(a);
			for (var o = 0; o < i.length; o++) {
				var s = i[o];
				if (r(s.components, function(t) {
						return "exit" === t.type && 1 === t.id
					}) >= 0) s.tilemap = this.config.endRoom.tilemap, s.initFsm = this.config.endRoom.fsm;
				else {
					var c, h = n;
					r(s.components, function(t) {
						return "currency" === t.type && 18 === t.id
					}) >= 0 && (h = a), c = h.shift(), s.tilemap = c.tilemap, l.Util.isValid(c.fsm) && (s.initFsm = c.fsm), 0 === n.length && (n = this.config.normalRooms.slice(), this.randomDataGenerator.shuffle(n)), 0 === a.length && (a = this.config.monsterRooms.slice(), this.randomDataGenerator.shuffle(a))
				}
			}
		}, t.getAllRooms = function(t, e) {
			void 0 === e && (e = !0);
			for (var i = [], n = 0; n < t.mapConfigs.length; n++) i = i.concat(s(t.mapConfigs[n], function(t) {
				return l.Util.isValid(t)
			}));
			return e || (i = s(i, function(t) {
				return r(t.components, function(t) {
					return "exit" === t.type
				}) < 0
			})), i
		}, t.prototype.findRandomEmptyAdjacentRoom = function(t, e) {
			var i = this.randomDataGenerator.integerInRange(0, 3),
				n = i;
			do {
				var a = {
					x: t.x,
					y: t.y
				};
				switch (i) {
					case 0:
						a.y--;
						break;
					case 1:
						a.x++;
						break;
					case 2:
						a.y++;
						break;
					case 3:
						a.x--
				}
				if (a.x < this.config.gridWidth && a.y < this.config.gridHeight && a.x >= 0 && a.y >= 0 && !l.Util.isValid(e.mapConfigs[a.x][a.y])) return a;
				i = (i + 1) % 4
			} while (i !== n);
			return null
		}, t.prototype.connectRooms = function(t, e) {
			var i = 0,
				n = 0;
			t.x < e.x ? (i = 1, n = 3) : t.x > e.x ? (i = 3, n = 1) : t.y > e.y ? (i = 0, n = 2) : t.y < e.y && (i = 2, n = 0), t.connections.push({
				map: e,
				direction: i
			}), e.connections.push({
				map: t,
				direction: n
			})
		}, t.drawLayout = function(e, i) {
			for (var n = t.getAllRooms(e), a = 0; a < n.length; a++) {
				var o = n[a],
					s = 70 * o.x + 50,
					l = 70 * o.y + 50;
				i.strokeStyle = "#000000", i.lineWidth = 4;
				for (var c = 0; c < o.connections.length; c++) {
					var h = 0,
						u = 0,
						p = 0,
						d = 0;
					switch (o.connections[c].direction) {
						case 0:
							u = l, p = h = s + 25, d = l - 20;
							break;
						case 1:
							p = (h = s + 50) + 20, d = u = l + 25;
							break;
						case 2:
							u = l + 50, p = h = s + 25, d = l + 20;
							break;
						case 3:
							p = (h = s) - 20, d = u = l + 25
					}
					i.beginPath(), i.moveTo(h, u), i.lineTo(p, d), i.stroke()
				}
				r(o.components, function(t) {
					return "exit" === t.type && 0 === t.id
				}) >= 0 ? i.fillStyle = "#00FF00" : r(o.components, function(t) {
					return "exit" === t.type && 1 === t.id
				}) >= 0 ? i.fillStyle = "#FF0000" : r(o.components, function(t) {
					return "monster" === t.type
				}) >= 0 ? i.fillStyle = "#0000FF" : i.fillStyle = "#000000", i.fillRect(s, l, 50, 50);
				for (var g = 0; g < o.components.length; g++)
					if ("currency" === o.components[g].type)
						if (18 === o.components[g].id) {
							var f = 10;
							i.fillStyle = "#ffcc00", i.fillRect(s + 25 - f / 2, l + 25 - f / 2, f, f)
						} else if (19 === o.components[g].id) {
					i.fillStyle = "#FFFFFF";
					for (f = 5, c = 0; c < o.components[g].quantity; c++) i.fillRect(s + f + 2 * f * c, l + f, f, f)
				}
			}
		}, t.openDebugMap = function(e) {
			var i = '<!DOCTYPE html>\n        <html lang="en">\n        <head>\n        <title>Dungeon Map</title>\n        </head>\n        <body>\n        <p id="seed">Seed: ' + e.seed + '</p>\n        <canvas id="myCanvas" width="600" height="600" style="border:1px solid #d3d3d3;"/>\n        </body>\n        </html>',
				n = window.open("", "_blank", "height=610,width=610");
			n.document.write(i);
			var a = n.document.getElementById("myCanvas");
			n.console.log(e), t.drawLayout(e, a.getContext("2d"))
		}, t
	}();
	e.DungeonGenerator = c
}, function(t, e, i) {
	var n = i(341),
		a = i(1027),
		o = i(1026);
	t.exports = function(t, e, i) {
		return e == e ? o(t, e, i) : n(t, a, i)
	}
}, function(t, e, i) {
	var n = i(52),
		a = i(66),
		o = NaN,
		r = /^\s+|\s+$/g,
		s = /^[-+]0x[0-9a-f]+$/i,
		l = /^0b[01]+$/i,
		c = /^0o[0-7]+$/i,
		h = parseInt;
	t.exports = function(t) {
		if ("number" == typeof t) return t;
		if (a(t)) return o;
		if (n(t)) {
			var e = "function" == typeof t.valueOf ? t.valueOf() : t;
			t = n(e) ? e + "" : e
		}
		if ("string" != typeof t) return 0 === t ? t : +t;
		t = t.replace(r, "");
		var i = l.test(t);
		return i || c.test(t) ? h(t.slice(2), i ? 2 : 8) : s.test(t) ? o : +t
	}
}, function(t, e, i) {
	var n = i(190),
		a = 1 / 0,
		o = 1.7976931348623157e308;
	t.exports = function(t) {
		return t ? (t = n(t)) === a || t === -a ? (t < 0 ? -1 : 1) * o : t == t ? t : 0 : 0 === t ? t : 0
	}
}, function(t, e, i) {
	var n = i(391);
	t.exports = function(t) {
		var e = new t.constructor(t.byteLength);
		return new n(e).set(new n(t)), e
	}
}, function(t, e, i) {
	var n = i(385)(Object.getPrototypeOf, Object);
	t.exports = n
}, function(t, e, i) {
	var n = i(351);
	t.exports = function(t, e, i) {
		"__proto__" == e && n ? n(t, e, {
			configurable: !0,
			enumerable: !0,
			value: i,
			writable: !0
		}) : t[e] = i
	}
}, function(t, e, i) {
	var n = i(349),
		a = 1,
		o = 4;
	t.exports = function(t) {
		return n(t, a | o)
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(11),
		a = i(0),
		o = i(2),
		r = function() {
			function t() {
				this.gender = null, this.hairColor = null, this.hairStyle = null, this.skinColor = null, this.eyeColor = null, this.face = null
			}
			return t.prototype.init = function(t) {
				this.gender = t.gender, a.Util.isValid(t.hair) && a.Util.isValid(t.hair.style) || (t.hair = {
					style: "male" === t.gender ? 16 : 1,
					color: 1
				}, a.Util.isValid(t.hairStyle) && (t.hair.style = t.hairStyle), a.Util.isValid(t.hairColor) && (t.hair.color = t.hairColor)), this.hairColor = n(t, "hair.color", 1), this.hairStyle = n(t, "hair.style", "male" === this.gender ? 16 : 1), this.skinColor = t.skinColor, this.eyeColor = t.eyeColor, this.face = t.face
			}, t.prototype.getGender = function() {
				return this.gender
			}, t.prototype.setGender = function(t) {
				"male" !== t && "female" !== t || (this.gender = t)
			}, t.prototype.getHair = function() {
				return o.Items.doesExist("hair", this.hairStyle) && o.Items.doesExist("hairColor", this.hairColor) ? {
					style: this.hairStyle,
					color: this.hairColor
				} : {
					style: "male" === this.gender ? 16 : 1,
					color: 1
				}
			}, t.prototype.setHair = function(t, e) {
				this.getHair(), a.Util.isValid(t) && o.Items.doesExist("hair", t) && t !== this.hairStyle && (this.hairStyle = t), a.Util.isValid(e) && o.Items.doesExist("hairColor", e) && e !== this.hairColor && (this.hairColor = e)
			}, t.prototype.getFace = function() {
				return a.Util.isValid(this.face) && o.Items.doesExist("face", this.face) || (this.face = "male" === this.gender ? 4 : 12), this.face
			}, t.prototype.setFace = function(t) {
				o.Items.doesExist("face", t) && this.face !== t && (this.face = t)
			}, t.prototype.getEyeColor = function() {
				return o.Items.doesExist("eyeColor", this.eyeColor) ? this.eyeColor : 1
			}, t.prototype.setEyeColor = function(t) {
				o.Items.doesExist("eyeColor", t) && (this.eyeColor = t)
			}, t.prototype.getSkinColor = function() {
				return o.Items.doesExist("skinColor", this.skinColor) ? this.skinColor : 1
			}, t.prototype.setSkinColor = function(t) {
				o.Items.doesExist("skinColor", t) && (this.skinColor = t)
			}, t
		}();
	e.CharacterAppearance = r
}, function(t, e, i) {
	var n = i(87),
		a = i(1061),
		o = i(1059);
	t.exports = function(t, e) {
		return o(a(t, e, n), t + "")
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(355),
		o = i(0),
		r = i(2),
		s = i(196),
		l = i(350),
		c = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				return i.appearance = null, i.equipment = null, i.appearance = new s.CharacterAppearance, i.equipment = new l.CharacterEquipment, i
			}
			return n(e, t), e.prototype.init = function(e) {
				return !!t.prototype.init.call(this, e) && (o.Util.isValid(e.appearance) && this.appearance.init(e.appearance), o.Util.isValid(e.equipment) && this.equipment.init(e.equipment), o.Util.isValid(e.data) && o.Util.isValid(e.data.level) && (this.data.level = e.data.level), !0)
			}, e.prototype.getBamSpells = function(t) {
				void 0 === t && (t = this.getLevel());
				var i = [this.getNativeSpell(49, e.getSingleShotEvolutions(), "native", t), this.getNativeSpell(52, e.getAoeEvolutions(), "foreign", t)];
				return this.getEquipmentSpell("weapon").ID > 0 && i.push(this.getEquipmentSpell("weapon")), this.getEquipmentSpell("spellRelic").ID > 0 && i.push(this.getEquipmentSpell("spellRelic")), i
			}, e.prototype.getStatPower = function() {
				return 5
			}, e.prototype.getStatHealth = function() {
				return 5
			}, e.getSingleShotEvolutions = function() {
				return [0, 15, 30]
			}, e.getAoeEvolutions = function() {
				return [3, 20, 35]
			}, e.prototype.getEquipmentSpell = function(t) {
				var e = this.equipment.getEquipment(t);
				if (o.Util.isValid(e) && e > 0) {
					var i = r.Items.getItem(t, e);
					if (o.Util.isValid(i) && o.Util.isValid(i.data) && o.Util.isValid(i.data.spellID)) return {
						ID: i.data.spellID,
						type: t,
						locked: !1
					}
				}
				return {
					ID: 0,
					type: t,
					locked: !0
				}
			}, e.prototype.getNativeSpell = function(t, e, i, n) {
				return {
					ID: a.SpellUtil.getSpellDataAtLevel(n, t, e).ID,
					locked: n < e[0],
					type: i,
					unlockLevel: e[0]
				}
			}, e
		}(i(49).Creature);
	e.Character = c
}, function(t, e, i) {
	var n = i(206),
		a = i(88),
		o = i(110),
		r = i(18),
		s = i(50),
		l = i(109),
		c = i(133),
		h = i(134),
		u = "[object Map]",
		p = "[object Set]",
		d = Object.prototype.hasOwnProperty;
	t.exports = function(t) {
		if (null == t) return !0;
		if (s(t) && (r(t) || "string" == typeof t || "function" == typeof t.splice || l(t) || h(t) || o(t))) return !t.length;
		var e = a(t);
		if (e == u || e == p) return !t.size;
		if (c(t)) return !n(t).length;
		for (var i in t)
			if (d.call(t, i)) return !1;
		return !0
	}
}, function(t, e) {
	var i = Math.floor,
		n = Math.random;
	t.exports = function(t, e) {
		return t + i(n() * (e - t + 1))
	}
}, function(t, e) {
	var i = RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");
	t.exports = function(t) {
		return i.test(t)
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
		var a, o = arguments.length,
			r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
		else
			for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
		return o > 3 && r && Object.defineProperty(e, i, r), r
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(9),
		o = function() {
			function t() {}
			return t = n([a.injectable()], t)
		}();
	e.Service = o
}, function(t, e, i) {
	var n = i(18),
		a = i(66),
		o = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
		r = /^\w*$/;
	t.exports = function(t, e) {
		if (n(t)) return !1;
		var i = typeof t;
		return !("number" != i && "symbol" != i && "boolean" != i && null != t && !a(t)) || r.test(t) || !o.test(t) || null != e && t in Object(e)
	}
}, function(t, e, i) {
	var n = i(18),
		a = i(203),
		o = i(1104),
		r = i(132);
	t.exports = function(t, e) {
		return n(t) ? t : a(t, e) ? [t] : o(r(t))
	}
}, function(t, e, i) {
	var n = i(204),
		a = i(107);
	t.exports = function(t, e) {
		for (var i = 0, o = (e = n(e, t)).length; null != t && i < o;) t = t[a(e[i++])];
		return i && i == o ? t : void 0
	}
}, function(t, e, i) {
	var n = i(133),
		a = i(1110),
		o = Object.prototype.hasOwnProperty;
	t.exports = function(t) {
		if (!n(t)) return a(t);
		var e = [];
		for (var i in Object(t)) o.call(t, i) && "constructor" != i && e.push(i);
		return e
	}
}, function(t, e, i) {
	(function(t) {
		var n = i(395),
			a = "object" == typeof e && e && !e.nodeType && e,
			o = a && "object" == typeof t && t && !t.nodeType && t,
			r = o && o.exports === a && n.process,
			s = function() {
				try {
					var t = o && o.require && o.require("util").types;
					return t || r && r.binding && r.binding("util")
				} catch (t) {}
			}();
		t.exports = s
	}).call(this, i(146)(t))
}, function(t, e) {
	var i = 9007199254740991;
	t.exports = function(t) {
		return "number" == typeof t && t > -1 && t % 1 == 0 && t <= i
	}
}, function(t, e, i) {
	var n = i(388),
		a = i(387),
		o = Object.prototype.propertyIsEnumerable,
		r = Object.getOwnPropertySymbols,
		s = r ? function(t) {
			return null == t ? [] : (t = Object(t), n(r(t), function(e) {
				return o.call(t, e)
			}))
		} : a;
	t.exports = s
}, function(t, e) {
	t.exports = function(t, e) {
		for (var i = -1, n = e.length, a = t.length; ++i < n;) t[a + i] = e[i];
		return t
	}
}, function(t, e) {
	t.exports = function(t) {
		var e = -1,
			i = Array(t.size);
		return t.forEach(function(t) {
			i[++e] = t
		}), i
	}
}, function(t, e) {
	t.exports = function(t, e) {
		return t.has(e)
	}
}, function(t, e, i) {
	var n = i(215),
		a = i(1119),
		o = i(1118);

	function r(t) {
		var e = -1,
			i = null == t ? 0 : t.length;
		for (this.__data__ = new n; ++e < i;) this.add(t[e])
	}
	r.prototype.add = r.prototype.push = a, r.prototype.has = o, t.exports = r
}, function(t, e, i) {
	var n = i(1120),
		a = i(51);
	t.exports = function t(e, i, o, r, s) {
		return e === i || (null == e || null == i || !a(e) && !a(i) ? e != e && i != i : n(e, i, o, r, t, s))
	}
}, function(t, e, i) {
	var n = i(1132),
		a = i(1125),
		o = i(1123),
		r = i(1122),
		s = i(1121);

	function l(t) {
		var e = -1,
			i = null == t ? 0 : t.length;
		for (this.clear(); ++e < i;) {
			var n = t[e];
			this.set(n[0], n[1])
		}
	}
	l.prototype.clear = n, l.prototype.delete = a, l.prototype.get = o, l.prototype.has = r, l.prototype.set = s, t.exports = l
}, function(t, e, i) {
	var n = i(73),
		a = i(52),
		o = "[object AsyncFunction]",
		r = "[object Function]",
		s = "[object GeneratorFunction]",
		l = "[object Proxy]";
	t.exports = function(t) {
		if (!a(t)) return !1;
		var e = n(t);
		return e == r || e == s || e == o || e == l
	}
}, function(t, e, i) {
	var n = i(74)(i(53), "Map");
	t.exports = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(113),
		o = i(396),
		r = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e.container = new o.InversifyContainer, e.installers = [], e
			}
			return n(e, t), Object.defineProperty(e.prototype, "ParentContainer", {
				get: function() {
					return null !== this.GameObject && this.GameObject.Parent ? this.GameObject.Parent.findComponentInParent(e) : null
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "Container", {
				get: function() {
					return this.container
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "Installers", {
				get: function() {
					return this.installers
				},
				enumerable: !0,
				configurable: !0
			}), e.prototype.runInstallers = function() {
				for (var t = 0; t < this.Installers.length; ++t) this.Installers[t].install(this.Container)
			}, e.prototype.getInjectedValue = function(t) {
				var e = this.Container.get(t);
				return null === e && null !== this.ParentContainer ? this.ParentContainer.getInjectedValue(t) : e
			}, e.prototype.destroy = function() {
				for (var e = 0; e < this.installers.length; ++e) this.installers[e].cleanup();
				t.prototype.destroy.call(this)
			}, e
		}(a.Component);
	e.GameObjectContext = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), e.INJECTION_PARAMETER_METADATA_KEY = "INJECTION_PARAMS"
}, function(t, e, i) {
	var n = i(90),
		a = i(91);

	function o(t) {
		this.path = t.path, this.hostname = t.hostname, this.port = t.port, this.secure = t.secure, this.query = t.query, this.timestampParam = t.timestampParam, this.timestampRequests = t.timestampRequests, this.readyState = "", this.agent = t.agent || !1, this.socket = t.socket, this.enablesXDR = t.enablesXDR, this.pfx = t.pfx, this.key = t.key, this.passphrase = t.passphrase, this.cert = t.cert, this.ca = t.ca, this.ciphers = t.ciphers, this.rejectUnauthorized = t.rejectUnauthorized, this.forceNode = t.forceNode, this.extraHeaders = t.extraHeaders, this.localAddress = t.localAddress
	}
	t.exports = o, a(o.prototype), o.prototype.onError = function(t, e) {
		var i = new Error(t);
		return i.type = "TransportError", i.description = e, this.emit("error", i), this
	}, o.prototype.open = function() {
		return "closed" !== this.readyState && "" !== this.readyState || (this.readyState = "opening", this.doOpen()), this
	}, o.prototype.close = function() {
		return "opening" !== this.readyState && "open" !== this.readyState || (this.doClose(), this.onClose()), this
	}, o.prototype.send = function(t) {
		if ("open" !== this.readyState) throw new Error("Transport not open");
		this.write(t)
	}, o.prototype.onOpen = function() {
		this.readyState = "open", this.writable = !0, this.emit("open")
	}, o.prototype.onData = function(t) {
		var e = n.decodePacket(t, this.socket.binaryType);
		this.onPacket(e)
	}, o.prototype.onPacket = function(t) {
		this.emit("packet", t)
	}, o.prototype.onClose = function() {
		this.readyState = "closed", this.emit("close")
	}
}, function(t, e, i) {
	(function(e) {
		var n = i(1193);
		t.exports = function(t) {
			var i = t.xdomain,
				a = t.xscheme,
				o = t.enablesXDR;
			try {
				if ("undefined" != typeof XMLHttpRequest && (!i || n)) return new XMLHttpRequest
			} catch (t) {}
			try {
				if ("undefined" != typeof XDomainRequest && !a && o) return new XDomainRequest
			} catch (t) {}
			if (!i) try {
				return new(e[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")
			} catch (t) {}
		}
	}).call(this, i(39))
}, function(t, e) {
	var i = {}.toString;
	t.exports = Array.isArray || function(t) {
		return "[object Array]" == i.call(t)
	}
}, function(t, e, i) {
	var n = i(1202)("socket.io-parser"),
		a = i(91),
		o = i(411),
		r = i(1196),
		s = i(222),
		l = i(410);

	function c() {}

	function h(t) {
		var i = "" + t.type;
		return e.BINARY_EVENT !== t.type && e.BINARY_ACK !== t.type || (i += t.attachments + "-"), t.nsp && "/" !== t.nsp && (i += t.nsp + ","), null != t.id && (i += t.id), null != t.data && (i += JSON.stringify(t.data)), n("encoded %j as %s", t, i), i
	}

	function u() {
		this.reconstructor = null
	}

	function p(t) {
		this.reconPack = t, this.buffers = []
	}

	function d(t) {
		return {
			type: e.ERROR,
			data: "parser error: " + t
		}
	}
	e.protocol = 4, e.types = ["CONNECT", "DISCONNECT", "EVENT", "ACK", "ERROR", "BINARY_EVENT", "BINARY_ACK"], e.CONNECT = 0, e.DISCONNECT = 1, e.EVENT = 2, e.ACK = 3, e.ERROR = 4, e.BINARY_EVENT = 5, e.BINARY_ACK = 6, e.Encoder = c, e.Decoder = u, c.prototype.encode = function(t, i) {
		(t.type !== e.EVENT && t.type !== e.ACK || !o(t.data) || (t.type = t.type === e.EVENT ? e.BINARY_EVENT : e.BINARY_ACK), n("encoding packet %j", t), e.BINARY_EVENT === t.type || e.BINARY_ACK === t.type) ? function(t, e) {
			r.removeBlobs(t, function(t) {
				var i = r.deconstructPacket(t),
					n = h(i.packet),
					a = i.buffers;
				a.unshift(n), e(a)
			})
		}(t, i) : i([h(t)])
	}, a(u.prototype), u.prototype.add = function(t) {
		var i;
		if ("string" == typeof t) i = function(t) {
			var i = 0,
				a = {
					type: Number(t.charAt(0))
				};
			if (null == e.types[a.type]) return d("unknown packet type " + a.type);
			if (e.BINARY_EVENT === a.type || e.BINARY_ACK === a.type) {
				for (var o = "";
					"-" !== t.charAt(++i) && (o += t.charAt(i), i != t.length););
				if (o != Number(o) || "-" !== t.charAt(i)) throw new Error("Illegal attachments");
				a.attachments = Number(o)
			}
			if ("/" === t.charAt(i + 1))
				for (a.nsp = ""; ++i;) {
					var r = t.charAt(i);
					if ("," === r) break;
					if (a.nsp += r, i === t.length) break
				} else a.nsp = "/";
			var l = t.charAt(i + 1);
			if ("" !== l && Number(l) == l) {
				for (a.id = ""; ++i;) {
					var r = t.charAt(i);
					if (null == r || Number(r) != r) {
						--i;
						break
					}
					if (a.id += t.charAt(i), i === t.length) break
				}
				a.id = Number(a.id)
			}
			if (t.charAt(++i)) {
				var c = function(t) {
						try {
							return JSON.parse(t)
						} catch (t) {
							return !1
						}
					}(t.substr(i)),
					h = !1 !== c && (a.type === e.ERROR || s(c));
				if (!h) return d("invalid payload");
				a.data = c
			}
			return n("decoded %s as %j", t, a), a
		}(t), e.BINARY_EVENT === i.type || e.BINARY_ACK === i.type ? (this.reconstructor = new p(i), 0 === this.reconstructor.reconPack.attachments && this.emit("decoded", i)) : this.emit("decoded", i);
		else {
			if (!l(t) && !t.base64) throw new Error("Unknown type: " + t);
			if (!this.reconstructor) throw new Error("got binary data when not reconstructing a packet");
			(i = this.reconstructor.takeBinaryData(t)) && (this.reconstructor = null, this.emit("decoded", i))
		}
	}, u.prototype.destroy = function() {
		this.reconstructor && this.reconstructor.finishedReconstruction()
	}, p.prototype.takeBinaryData = function(t) {
		if (this.buffers.push(t), this.buffers.length === this.reconPack.attachments) {
			var e = r.reconstructPacket(this.reconPack, this.buffers);
			return this.finishedReconstruction(), e
		}
		return null
	}, p.prototype.finishedReconstruction = function() {
		this.reconPack = null, this.buffers = []
	}
}, function(t, e) {
	var i = 1e3,
		n = 60 * i,
		a = 60 * n,
		o = 24 * a,
		r = 365.25 * o;

	function s(t, e, i) {
		if (!(t < e)) return t < 1.5 * e ? Math.floor(t / e) + " " + i : Math.ceil(t / e) + " " + i + "s"
	}
	t.exports = function(t, e) {
		e = e || {};
		var l = typeof t;
		if ("string" === l && t.length > 0) return function(t) {
			if ((t = String(t)).length > 100) return;
			var e = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);
			if (!e) return;
			var s = parseFloat(e[1]);
			switch ((e[2] || "ms").toLowerCase()) {
				case "years":
				case "year":
				case "yrs":
				case "yr":
				case "y":
					return s * r;
				case "days":
				case "day":
				case "d":
					return s * o;
				case "hours":
				case "hour":
				case "hrs":
				case "hr":
				case "h":
					return s * a;
				case "minutes":
				case "minute":
				case "mins":
				case "min":
				case "m":
					return s * n;
				case "seconds":
				case "second":
				case "secs":
				case "sec":
				case "s":
					return s * i;
				case "milliseconds":
				case "millisecond":
				case "msecs":
				case "msec":
				case "ms":
					return s;
				default:
					return
			}
		}(t);
		if ("number" === l && !1 === isNaN(t)) return e.long ? function(t) {
			return s(t, o, "day") || s(t, a, "hour") || s(t, n, "minute") || s(t, i, "second") || t + " ms"
		}(t) : function(t) {
			if (t >= o) return Math.round(t / o) + "d";
			if (t >= a) return Math.round(t / a) + "h";
			if (t >= n) return Math.round(t / n) + "m";
			if (t >= i) return Math.round(t / i) + "s";
			return t + "ms"
		}(t);
		throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(t))
	}
}, function(t, e) {
	var i, n, a = t.exports = {};

	function o() {
		throw new Error("setTimeout has not been defined")
	}

	function r() {
		throw new Error("clearTimeout has not been defined")
	}

	function s(t) {
		if (i === setTimeout) return setTimeout(t, 0);
		if ((i === o || !i) && setTimeout) return i = setTimeout, setTimeout(t, 0);
		try {
			return i(t, 0)
		} catch (e) {
			try {
				return i.call(null, t, 0)
			} catch (e) {
				return i.call(this, t, 0)
			}
		}
	}! function() {
		try {
			i = "function" == typeof setTimeout ? setTimeout : o
		} catch (t) {
			i = o
		}
		try {
			n = "function" == typeof clearTimeout ? clearTimeout : r
		} catch (t) {
			n = r
		}
	}();
	var l, c = [],
		h = !1,
		u = -1;

	function p() {
		h && l && (h = !1, l.length ? c = l.concat(c) : u = -1, c.length && d())
	}

	function d() {
		if (!h) {
			var t = s(p);
			h = !0;
			for (var e = c.length; e;) {
				for (l = c, c = []; ++u < e;) l && l[u].run();
				u = -1, e = c.length
			}
			l = null, h = !1,
				function(t) {
					if (n === clearTimeout) return clearTimeout(t);
					if ((n === r || !n) && clearTimeout) return n = clearTimeout, clearTimeout(t);
					try {
						n(t)
					} catch (e) {
						try {
							return n.call(null, t)
						} catch (e) {
							return n.call(this, t)
						}
					}
				}(t)
		}
	}

	function g(t, e) {
		this.fun = t, this.array = e
	}

	function f() {}
	a.nextTick = function(t) {
		var e = new Array(arguments.length - 1);
		if (arguments.length > 1)
			for (var i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
		c.push(new g(t, e)), 1 !== c.length || h || s(d)
	}, g.prototype.run = function() {
		this.fun.apply(null, this.array)
	}, a.title = "browser", a.browser = !0, a.env = {}, a.argv = [], a.version = "", a.versions = {}, a.on = f, a.addListener = f, a.once = f, a.off = f, a.removeListener = f, a.removeAllListeners = f, a.emit = f, a.prependListener = f, a.prependOnceListener = f, a.listeners = function(t) {
		return []
	}, a.binding = function(t) {
		throw new Error("process.binding is not supported")
	}, a.cwd = function() {
		return "/"
	}, a.chdir = function(t) {
		throw new Error("process.chdir is not supported")
	}, a.umask = function() {
		return 0
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), e.Actions = {}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
		var a, o = arguments.length,
			r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
		else
			for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
		return o > 3 && r && Object.defineProperty(e, i, r), r
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(9),
		o = i(147),
		r = i(75),
		s = function() {
			function t() {
				this.fsmFactories = null, this.data = null, this.variables = null, this.currentState = null, this.onComplete = new o.Signal
			}
			return Object.defineProperty(t.prototype, "OnComplete", {
				get: function() {
					return this.onComplete
				},
				enumerable: !0,
				configurable: !0
			}), t.prototype.init = function(t, e, i) {
				this.fsmFactories = t, this.data = e, this.variables = i
			}, t.prototype.execute = function(t) {
				void 0 === t && (t = !1), this.currentState || this.executeNext(t)
			}, t.prototype.executeWithData = function(t, e) {
				var i = this;
				this.currentState = t;
				var n = this.fsmFactories.createState(t, this.variables);
				n.OnComplete.addOnce(function() {
					i.onStateCompleted(e)
				}, this), n.execute(e)
			}, t.prototype.executeWithName = function(t, e) {
				for (var i = 0; i < this.data.States.length; i++) {
					var n = this.data.States[i];
					if (n.Name === t) {
						this.executeWithData(n, e);
						break
					}
				}
			}, t.prototype.executeNext = function(t) {
				var e = this.data.States.indexOf(this.currentState) + 1;
				e < this.data.States.length ? this.executeWithData(this.data.States[e], t) : (this.currentState = null, this.OnComplete.dispatch())
			}, t.prototype.onStateCompleted = function(t) {
				if (this.currentState.Transitions.length > 0) {
					for (var e = 0; e < this.currentState.Transitions.length; e++) {
						var i = this.currentState.Transitions[e];
						if (i.Conditions.length > 0) {
							for (var n = !0, a = 0; a < i.Conditions.length; a++) {
								var o = i.Conditions[a];
								if (!this.fsmFactories.createCondition(o, this.variables).test()) {
									n = !1;
									break
								}
							}
							if (!n) continue
						}
						return void this.executeWithName(i.State, t)
					}
					this.executeNext(t)
				} else this.executeNext(t)
			}, t.parseVariable = function(t, e) {
				if (r.Utils.isDefined(t)) {
					if ("string" == typeof t) {
						var i = t;
						return t.length > 1 && "$" === t.charAt(0) && (i = this.findVariable(t.substr(1), e)), i
					}
					if (t.constructor === Array) {
						i = [];
						for (var n = 0; n < t.length; n++) i.push(this.parseVariable(t[n], e));
						return i
					}
					if ("object" == typeof t && t.constructor === Object) {
						i = {};
						for (var a in t) i[a] = this.parseVariable(t[a], e);
						return i
					}
					return t
				}
				return null
			}, t.findVariable = function(t, e) {
				return e.hasOwnProperty(t) ? e[t] : null
			}, t = n([a.injectable()], t)
		}();
	e.StateMachine = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(9),
		r = i(115),
		s = i(92),
		l = i(75),
		c = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.getText = function(t) {
				for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
				if (l.Utils.isDefined(this.dataSource)) {
					var n = this.dataSource.getValue(t);
					if (l.Utils.isDefined(n)) {
						for (var a = 0; a < e.length; a++) n = n.split("{" + a + "}").join(e[a].toString());
						return n
					}
				}
				return r.Logger.log("Localized value was not found in language data for key [" + t + "].", s.LogLevel.Error), t
			}, e = a([o.injectable()], e)
		}(i(419).BaseLocalizer);
	e.Localizer = c
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			t.IFSMController = "IFSMController", t.FSMFactories = "FSMFactories", t.FSMDataProvider = "FSMDataProvider", t.FSMService = "FSMService", t.LocalizationData = "LocalizationData", t.LocalizationService = "LocalizationService", t.LoggerService = "LoggerService"
		}(e.GameIdentifiers || (e.GameIdentifiers = {}))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(5),
		s = i(248),
		l = i(0),
		c = function(t) {
			function e(e) {
				var i = t.call(this) || this;
				return i.game = e, i.resetData(), i
			}
			return n(e, t), e.prototype.startLoading = function(t) {
				for (var e in void 0 === t && (t = {}), o.GameConstants.get("GameConstants.Debug.DEBUG_LOADING_SETTINGS") ? this.debugResetData() : this.resetData(), t) this.data[e] = t[e];
				this.game.state.start("Loading")
			}, e.prototype.resetData = function() {
				this.data = {
					title: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("LOADING_CAPITALIZE"),
					time: 3e3,
					fadeIn: !1,
					fadeOut: !1,
					callback: null,
					assets: [],
					target: "Login",
					save: !0
				}
			}, e.prototype.debugResetData = function() {
				this.data = {
					title: "",
					time: 0,
					fadeIn: !0,
					fadeOut: !0,
					callback: null,
					assets: [],
					target: "",
					save: !0
				}
			}, e.prototype.create = function() {
				if (this.startTime = (new Date).getTime(), this.complete = !1, this.isLoaded = !1, this.element = this.game.prodigy.create.element(void 0), this.element.add(new Phaser.TileSprite(this.game, 0, 0, e.BG_WIDTH, e.BG_HEIGHT, "atlas-161", "load")), this.data.time > 1e3) {
					this.game.prodigy.create.panel(this.element, 160, 340, 24, 5, "shine"), this.element.add(new Phaser.TileSprite(this.game, 171, 380, e.BG_WIDTH - 320 - 22, 40, "atlas-161", "blue-top")), this.element.add(new Phaser.TileSprite(this.game, 171, 420, e.BG_WIDTH - 320 - 22, 40, "atlas-161", "blue-mid")), this.element.add(new Phaser.TileSprite(this.game, 171, 460, e.BG_WIDTH - 320 - 22, 40, "atlas-161", "blue-top2")), this.element.add(this.game.prodigy.create.sprite(590, 310, "atlas-18", "award-frame"));
					var t = this.game.prodigy.create.font(this.element, 200, 400, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(s.Hints.getRandomHint("none").textKey), {
						fontID: 9,
						width: e.BG_WIDTH - 400,
						align: "center",
						size: 36
					});
					t.y = Math.floor((80 - t.height) / 2) + 400, this.game.prodigy.create.panel(this.element, 440, 560, 10, 2, "shine");
					var i = this.game.prodigy.create.font(this.element, 440, 560, this.data.title, {
						fontID: 10,
						width: 400,
						align: "center",
						size: 20
					});
					i.y = Math.floor((80 - i.height) / 2) + 560;
					var n = this.game.prodigy.create.player(this.element, this.game.prodigy.player, 1, e.BG_HALF_WIDTH, e.BG_HALF_HEIGHT);
					n.reload(n.walk.bind(n))
				}
				this.start()
			}, e.prototype.start = function() {
				this.game.broadcaster.removeAppListener(r.ELoadingEvents.WorkerLoadComplete, this, "loading");
				var t = l.Util.isValid(this.data.assets) ? this.data.assets : [];
				this.game.prodigy.load.assets(t, this.loaded.bind(this)), this.game.prodigy.network.loggedIn && this.data.save && (this.game.prodigy.player.saveEnabled = !0)
			}, e.prototype.loaded = function(t, e) {
				l.Util.isValid(this.game) && (this.isLoaded = e)
			}, e.prototype.update = function() {
				t.prototype.update.call(this, this.game), this.isLoadingComplete() && this.completed()
			}, e.prototype.completed = function() {
				this.complete = !0, l.Util.isValid(this.data.callback) && this.data.callback(), this.game.state.states[this.data.target].fadeInSet = this.data.fadeIn, this.game.state.start(this.data.target)
			}, e.prototype.isLoadingComplete = function() {
				return !this.complete && (new Date).getTime() - this.startTime >= this.data.time && this.isLoaded
			}, e.BG_WIDTH = 1280, e.BG_HEIGHT = 720, e.BG_HALF_WIDTH = .5 * e.BG_WIDTH, e.BG_HALF_HEIGHT = .5 * e.BG_HEIGHT, e
		}(Phaser.State);
	e.Loading = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(19),
		o = function(t) {
			function e(e, i, n, o, r) {
				var s = t.call(this, e, i.content, o, r) || this;
				s.vanishTween = null, s.activeTween = null, s.updateEnabled = !0, s.inputEnabled = !0;
				var l = s.add(s.game.prodigy.create.sprite(0, 0, "atlas-120", "squeak-1"));
				l.anchor.setTo(.5, 1), l.inputEnabled = !0, l.events.onInputDown.add(s.onClicked.bind(s, i), s);
				var c = new a.TweenController(l);
				return c.set("frameName", ["squeak-1", "squeak-2", "squeak-3", "squeak-2", "squeak-1", "squeak-1", "squeak-1", "squeak-1", "squeak-1", "squeak-1", "squeak-2", "squeak-3", "squeak-2", "squeak-1"], 100, 9999), s.vanishTween = new a.TweenController(l), s.vanishTween.set("frameName", ["squeak-4", "squeak-5", "squeak-6", "squeak-7"], 100, 9999), s.vanishTween.end(s.onEnd.bind(s, n)), s.activeTween = c, s.activeTween.start(), s.updateEnabled = !0, s
			}
			return n(e, t), e.prototype.update = function() {
				t.prototype.update.call(this), this.updateEnabled && this.activeTween.update()
			}, e.prototype.onClicked = function(t) {
				var e = this;
				if (this.inputEnabled) {
					this.game.prodigy.audio.playSFX(20, "squeak", null);
					var i = this.game.prodigy.event.create();
					i.validPath(t.user, t.path, this.x + (t.user.x < this.x ? -50 : 50), this.y + 20), i.function(function() {
						e.activeTween = e.vanishTween, e.activeTween.start()
					}), i.start()
				}
			}, e.prototype.onEnd = function(t) {
				t.setState("squeak", 4), this.visible = !1, this.updateEnabled = !1
			}, e
		}(i(7).Element);
	e.Squeak = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(156),
		r = i(2),
		s = i(0),
		l = function(t) {
			function e(e, i, n, a, o) {
				var r = t.call(this, e, n, "", i.houses[n].entryPoint.x, i.houses[n].entryPoint.y, a, o.concat(i.assets)) || this;
				return r.content = null, r.houseItems = [], r.player = null, r.houseData = null, r.houseTag = null, r.houseData = i.houses[n], r.houseTag = r.houseData.tag, r
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), this.content = i.content, this.game = e, {}
			}, e.prototype.setOwner = function(t) {
				this.player = t, this.zoneName = "house-" + this.player.userID
			}, e.prototype.cleanup = function() {
				this.houseItems = [], t.prototype.cleanup.call(this)
			}, e.prototype.loadHouseItems = function(t) {
				for (var e = 0; e < t.length; ++e) {
					var i = t[e],
						n = this.game.prodigy.create.houseItem(this.content, i.ID, 10 * Math.round(.1 * i.x), 10 * Math.round(.1 * i.y), i.r, this);
					n.findComponent(o.HouseItem).canRevert = !0, this.houseItems.push(n)
				}
			}, e.prototype.addHouseItem = function(t) {
				this.houseItems.push(t)
			}, e.prototype.removeHouseItem = function(t) {
				var e = this.houseItems.indexOf(t);
				e > -1 && this.houseItems.splice(e, 1)
			}, e.prototype.canPlaceItem = function(t) {
				var e = t.getRenderer();
				if (!this.isValidSpace(e.getWorld(), e.getWidth(), e.getHeight())) return !1;
				for (var i = 0; i < this.houseItems.length; ++i) {
					var n = this.houseItems[i].findComponent(o.HouseItem);
					if (t !== n && this.checkOverlap(e, n.getRenderer())) return !1
				}
				return !0
			}, e.prototype.isValidSpace = function(t, e, i) {
				if (!s.Util.isValid(t) || !s.Util.isValid(e) || !s.Util.isValid(i)) return !1;
				var n = Math.floor(t.x / 20),
					a = Math.floor(t.y / 20),
					o = Math.floor(e / 20),
					r = a + 1,
					l = a + Math.floor(i / 20) - 1,
					c = Math.ceil(n + .5 * o - 1 + (o > 0 ? 1 : 0)),
					h = Math.floor(n - .5 * o - (o > 0 ? 1 : 0));
				return !(h > 64 || l > 32) && !(c < 0 || r < 0) && (1 === this.screen.area[r][c] && 1 === this.screen.area[r][h] || 6 === this.screen.area[r][c] && 6 === this.screen.area[r][h]) && (1 === this.screen.area[l][c] && 1 === this.screen.area[l][h] || 6 === this.screen.area[l][c] && 6 === this.screen.area[l][h])
			}, e.prototype.checkOverlap = function(t, e) {
				if (t.getWorld().y > e.getWorld().y) return !1;
				var i = t.getBounds(),
					n = e.getBounds();
				return i.x += 2, i.y += 2, i.width -= 4, i.height -= 4, n.x += 2, n.y += 2, n.width -= 4, n.height -= 4, Phaser.Rectangle.intersects(i, n)
			}, e.prototype.getName = function() {
				for (var t = r.Items.getCategoryItems("dormbg"), e = 0; e < t.length; e++)
					if (t[e].data.tag === this.houseTag) return r.Items.data.dormbg[e].data.name;
				return this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MAP_HOUSE_STARTER_HOUSE")
			}, e
		}(i(10).Map);
	e.HouseMapBase = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = i(33),
		r = i(14),
		s = i(0),
		l = i(148),
		c = function(t) {
			function e(e, i, n, a, r) {
				var s = this,
					l = new o.NPC(e);
				return l.init({
					name: "NPC_NAME_HARVEY"
				}), (s = t.call(this, e, i.content, l, null, n, a) || this).screen = i, s.sessionTalk = !1, s.hasCart = r, s.setup(), s
			}
			return n(e, t), e.prototype.setup = function() {
				var t = this.game.prodigy.create.element(this.sprites, 0, 0);
				if (this.harveySpine = this.game.add.spine(-5, 0, "spine-2"), this.harveySpine.setAnimationByName(0, "idle", !0), t.add(this.harveySpine), this.hasCart) {
					var e = this.game.prodigy.create.sprite(20, -110, "atlas-140", "harvey-cart");
					t.add(e)
				}
				this.setIndicator("store"), this.setupCollisionBlock(t), this.showName(), this.nameText.GameObject.y = -100
			}, e.prototype.setIndicator = function(t) {
				s.Util.isValid(this.indicator) || (this.indicator = this.game.prodigy.create.sprite(-5, -100, "atlas-21", t), this.indicator.anchor.setTo(.5, 1), this.indicator.inputEnabled = !0, this.indicator.events.onInputDown.add(this.onClicked.bind(this)), this.add(this.indicator), this.game.add.tween(this.indicator).to({
					y: this.indicator.y - 25
				}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, a.GameConstants.MAX_SAFE_INTEGER, !0)), this.indicator.frameName = t
			}, e.prototype.setupCollisionBlock = function(t) {
				var e = 0;
				this.hasCart && (e = 80), this.collisionBlock = t.add(this.game.prodigy.create.sprite(-.5 * t.width + e, -t.height, "atlas-18", "empty")), this.collisionBlock.width = t.width, this.collisionBlock.height = t.height, this.collisionBlock.inputEnabled = !0, this.collisionBlock.events.onInputDown.add(this.onClicked.bind(this))
			}, e.prototype.onClicked = function() {
				var t = this,
					e = this.game.prodigy.event.create();
				this.screen.data instanceof l.TitanMap && (this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(r.Breadcrumbs.BREADCRUMB_TITAN_INTRO, r.Breadcrumbs.BREADCRUMB_TITAN_HARVEY_TALKED) ? this.sessionTalk || (this.sessionTalk = !0, e.text(2, "harvey"), e.text(3, "harvey"), e.text(4, "harvey")) : (this.game.prodigy.breadcrumbManager.completeBreadcrumb(r.Breadcrumbs.BREADCRUMB_TITAN_INTRO, r.Breadcrumbs.BREADCRUMB_TITAN_HARVEY_TALKED), e.text(0, "harvey"), e.text(1, "harvey"))), e.function(function() {
					t.game.prodigy.open.store(21)
				}), e.start()
			}, e.prototype.update = function() {
				t.prototype.update.call(this)
			}, e
		}(i(17).CreatureContainer);
	e.Harvey = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(239),
		o = i(152),
		r = i(5),
		s = i(2),
		l = i(14),
		c = i(0),
		h = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "titan", i.concat(["atlas-81", "sfx-21", "atlas-83", "atlas-140"])) || this;
				return n.titanMap = "", n.spineContainer = null, n.master = null, n.noot = null, n.titanSpine = null, n.loadingData.time = 1, n.loadingData.fadeIn = !1, n.loadingData.fadeOut = !1, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), i.user.x = 250, i.user.y = 400, i.user.hideName(), this.master = new o.PuppetMaster(e, i.content, 800, 300), this.spineContainer = this.game.prodigy.create.element(i.content, 1100, 400), this.noot = i.addNPC(180, 320, "atlas-81"), this.noot.float(!0), this.noot.walkSpeed = 2, this.noot.visible = !0, this.game.broadcaster.addAppListener(r.ETitanEvents.GotTitans, this.gotTitanCallback.bind(this), this, "Titan"), c.Util.isValid(this.game.prodigy.titansNetworkHandler.titan) ? this.gotTitanCallback(this.game.prodigy.titansNetworkHandler.titan) : this.game.prodigy.titansNetworkHandler.getTitans()
			}, e.prototype.start = function(e, i) {
				var n = this;
				t.prototype.start.call(this, e, i);
				var a = e.prodigy.event.create();
				if (a.enableInput(!1), a.function(this.enterScene.bind(this, e, i)), a.delay(2e3), e.prodigy.breadcrumbManager.isBreadcrumbComplete(l.Breadcrumbs.BREADCRUMB_TITAN_INTRO, l.Breadcrumbs.BREADCRUMB_TITAN_WATCHED_INTRO)) {
					a.enableInput(!0), a.text(13, "puppetmaster"), a.enableInput(!1), a.sound(21, "cloud");
					for (var o = 500, r = 12, s = 0; s < r; s++) a.function(this.sandCloud.bind(this, e, i, 1100, 375, o)), a.delay(200);
					a.function(function() {
						n.enterTitan(e)
					}), a.delay(100), a.enableInput(!0), a.text(14, "puppetmaster"), a.enableInput(!1), a.functionCallback(this.exitMaster.bind(this, e, i, 1480, -200)), a.enableInput(!0)
				} else {
					a.enableInput(!0), a.text(10, "puppetmaster"), a.enableInput(!1), a.validPath(this.noot, i.path, 380, 290), a.hop(this.noot, 200, 0, 100), a.hop(this.noot, 200, 0, 100), a.enableInput(!0), a.text(178, "noot"), a.enableInput(!1), a.enableInput(!0), a.text(11, "puppetmaster"), a.enableInput(!1), a.sound(21, "cloud");
					for (o = 500, r = 12, s = 0; s < r; s++) a.function(this.sandCloud.bind(this, e, i, 1100, 375, o)), a.delay(200);
					a.function(function() {
						n.enterTitan(e)
					}), a.delay(100), a.enableInput(!0), a.text(12, "puppetmaster"), a.enableInput(!1), a.functionCallback(this.exitMaster.bind(this, e, i, 1480, -200)), a.validPath(this.noot, i.path, 380, 320), a.enableInput(!0), a.text(179, "noot"), a.text(180, "noot"), a.text(181, "noot"), a.text(182, "noot"), a.text(183, "noot")
				}
				a.function(this.end.bind(this, e, i, !0)), a.start()
			}, e.prototype.end = function(t) {
				t.prodigy.breadcrumbManager.completeBreadcrumb(l.Breadcrumbs.BREADCRUMB_TITAN_INTRO, l.Breadcrumbs.BREADCRUMB_TITAN_WATCHED_INTRO), t.prodigy.world.teleport(this.titanMap)
			}, e.prototype.sandCloud = function(t, e, i, n, o) {
				for (var r = new Phaser.Circle(i, n, o), s = 0; s < 8; s++) {
					var l = r.circumferencePoint(a(1, 360), !0),
						c = t.prodigy.create.sprite(i + a(0, 30), n + a(0, 30), "atlas-140", "purple-cloud");
					e.foreground.add(c), c.anchor.setTo(.5, .5), t.add.tween(c).to({
						x: l.x,
						y: l.y
					}, 9e3, Phaser.Easing.Circular.Out, !0, 0, 0, !1);
					var h = a(1e3, 1500),
						u = 0 === a(0, 2) ? -1 : 1;
					t.add.tween(c).to({
						angle: 360 * u
					}, h, Phaser.Easing.Linear.None, !0, 0, h, !1), t.add.tween(c).to({
						alpha: 0
					}, 3e3, Phaser.Easing.Cubic.In, !0, 0, 0, !1).onComplete.add(function(t) {
						t.destroy()
					}, this)
				}
			}, e.prototype.enterTitan = function(t) {
				t.add.tween(this.spineContainer).to({
					alpha: 1
				}, 200, Phaser.Easing.Linear.None, !0, 0, 0, !1)
			}, e.prototype.exitMaster = function(t, e, i, n, a) {
				t.add.tween(this.master).to({
					x: i,
					y: n
				}, 1e3, Phaser.Easing.Linear.None).start().onComplete.add(a)
			}, e.prototype.gotTitanCallback = function(t) {
				var e = s.Items.getItem("titan", t.assetID).data;
				this.titanMap = e.zone + "-Titan", this.game.broadcaster.removeAppListener(r.ETitanEvents.GotTitans, this, "Titan"), this.titanSpine = this.game.add.spine(0, 0, "default-titan-" + t.assetID), this.titanSpine.setAnimationByName(0, "idle", !0), this.spineContainer.add(this.titanSpine), this.spineContainer.alpha = 0
			}, e
		}(i(36).Scene);
	e.TitanIntro = h
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(0),
		o = function() {
			function t(t, e) {
				this.htmlWindow = '<!DOCTYPE html>\n<html lang="en">\n<head>\n<title>Prodigy UI JSON Editor</title>\n<style type="text/css" media="screen">\n    #editor { \n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n    }\n</style>\n</head>\n<body>\n\n<div id="editor">put json here</div>    \n<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.3.3/ace.js" type="text/javascript" charset="utf-8"><\/script>\n<script>\n    var editor = ace.edit("editor");\n    editor.setTheme("ace/theme/monokai");\n    editor.session.setMode("ace/mode/json");\nwindow.document["getEditor"] = function () {\nreturn editor;\n}\n<\/script>\n</body>\n</html>', this.game = t, this.loadAssets(e), this.buildEditorWindow()
			}
			return t.prototype.buildEditorWindow = function() {
				var t = this;
				a.Util.isValid(this.uiPreviewEditorWindow) ? this.uiPreviewEditorWindow.focus() : (this.uiPreviewEditorWindow = window.open("", "editor", "height=700,width=780"), this.uiPreviewEditorWindow.document.write(this.htmlWindow), setTimeout(function() {
					t.aceEditor = t.uiPreviewEditorWindow.document.getEditor(), t.aceEditor.on("change", t.reload.bind(t))
				}, 1e3), this.uiPreviewEditorWindow.addEventListener("beforeunload", function(e) {
					t.uiPreviewEditorWindow = null
				}, !1))
			}, t.prototype.reload = function() {}, t.prototype.loadAssets = function(t) {
				a.Util.isValid(t) && t.length > 0 && this.game.prodigy.load.assets(t, null)
			}, t.prototype.getAceEditorJSON = function() {
				try {
					var t = this.aceEditor.getValue();
					return JSON.parse(t)
				} catch (t) {
					return void n.Logger.log(t, n.LogLevel.Error)
				}
			}, t
		}();
	e.LiveJSONEditor = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__assign || Object.assign || function(t) {
		for (var e, i = 1, n = arguments.length; i < n; i++)
			for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
		return t
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = i(4),
		s = i(5),
		l = i(290),
		c = i(179),
		h = i(78),
		u = i(160),
		p = i(161),
		d = i(2),
		g = i(35),
		f = i(12),
		y = i(94),
		m = i(0),
		_ = function() {
			function t() {
				this.game = null
			}
			return t.prototype.setup = function(e) {
				if (this.game = e, t.onApplyDebugOptions.add(this.applyDebugOptions.bind(this, this.game)), t.onEnableDebugCalls.add(this.enableDebugCalls.bind(this, this.game)), window.setLogLevel = r.GameConstants.setLogLevel.bind(r.GameConstants), m.Util.isValid(window.enableDebug) || (window.enableDebug = function(i, n) {
						void 0 === n && (n = !1);
						var a = CryptoJS.MD5(i),
							s = e.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.FeatureFlagProvider).getValue("debugPassword");
						null !== s && a.toString(CryptoJS.enc.Base64) === s && (r.GameConstants.enableGameConstant("GameConstants.Build.DEBUG", !0), r.GameConstants.enableGameConstant("GameConstants.Build.SHOW_FPS", n), t.onApplyDebugOptions.dispatch(), t.onEnableDebugCalls.dispatch())
					}), r.GameConstants.get("GameConstants.Build.DEBUG")) {
					this.enableDebugCalls(this.game);
					var i = r.GameConstants.get("GameConstants.Debug.AUTO_LOGIN");
					if (i.length > 0) {
						var n = e.state.states.Login;
						n.username = i[0], n.password = i[1], n.login(), e.state.onStateChange.add(this.callApplyDebug.bind(this, e), this)
					} else this.applyDebugOptions(this.game)
				}
			}, t.prototype.callApplyDebug = function(t, e) {
				if ("CharSelect" === e || "CharCreate" === e) {
					if (t.time.events.add(500, this.applyDebugOptions, this), r.GameConstants.get("GameConstants.Build.DEBUG")) {
						var i = r.GameConstants.get("GameConstants.Debug.AUTO_LOGIN");
						i.length > 2 && "true" === i[2] && t.time.events.add(550, this.tp.bind(this, t.prodigy.player.data.zone), this)
					}
					t.state.onStateChange.removeAll(this)
				}
			}, t.prototype.applyDebugOptions = function(t) {}, t.prototype.enableDebugCalls = function(t) {}, t.prototype.setState = function(t, e, i) {
				this.game.prodigy.world.getZone(t).setState(e, i)
			}, t.prototype.deleteState = function(t) {
				delete this.game.prodigy.player.state.data.zone[t]
			}, t.prototype.player = function() {
				return this.game.prodigy.player
			}, t.prototype.savePlayer = function() {
				var t = ["player", "game"],
					e = {
						savedPlayer: this.game.prodigy.player,
						meta: {
							loadPosition: this.game.broadcaster.broadcast(s.EPlayerLocomotionEvents.GetTarget, this.game, [!0])
						}
					},
					i = JSON.stringify(e, function(e, i) {
						if (!(t.indexOf(e) > -1)) return i;
						a.Logger.log(e, a.LogLevel.Verbose)
					}),
					n = document.createElement("a");
				n.download = this.game.prodigy.player.getNameWithoutNickname() + ".json", n.href = "data:," + i, n.click()
			}, t.prototype.loadPlayer = function(t) {
				var e = this,
					i = function(t) {
						a.Logger.log("LOADED PLAYER DATA", a.LogLevel.Verbose);
						var i = JSON.parse(t),
							n = function(t, e) {
								for (var i in e) "object" == typeof e[i] && "data" !== i && m.Util.isValid(t[i]) ? t[i] = n(t[i], e[i]) : t[i] = e[i];
								return t
							};
						e.game.prodigy.player = n(e.game.prodigy.player, i.savedPlayer), m.Util.isValid(i.meta.loadPosition) ? e.tp(i.savedPlayer.data.zone, i.meta.loadPosition.x, i.meta.loadPosition.y) : e.tp(i.savedPlayer.data.zone)
					};
				if (m.Util.isValid(t)) i(t);
				else {
					var n = document.createElement("input");
					n.type = "file", n.addEventListener("change", function(t) {
						t.stopPropagation(), t.preventDefault();
						var e = t.target.files,
							n = new FileReader,
							a = e[0];
						n.onload = function(t) {
							i(t.target.result)
						}, n.readAsText(a)
					}, !1), n.click()
				}
			}, t.prototype.getGame = function() {
				return this.game
			}, t.prototype.getCurrentState = function() {
				return this.game.state.getCurrentState()
			}, t.prototype.showHierarchy = function() {
				return this.game.world.children
			}, t.prototype.findByName = function(t) {
				return this.recursiveFind(this.game.world, t)
			}, t.prototype.recursiveFind = function(t, e) {
				var i = [];
				if (m.Util.isValid(t.name) && t.name.toLowerCase().indexOf(e.toLowerCase()) > -1 && i.push(t), m.Util.isValid(t.children))
					for (var n = 0; n < t.children.length; n++) i = i.concat(this.recursiveFind(t.children[n], e));
				return i
			}, t.prototype.showDebugValue = function(t) {
				var e = this.game.broadcaster.broadcast(s.EScreenEvents.GetLayer, this.game, ["debugLayout"]);
				if (m.Util.isValid(e)) {
					var i = l[t];
					m.Util.isValid(i) && (r.GameConstants.get("GameConstants.Build.SHOW_DEBUG_VALUES").push(t), e.addRenderer(new i))
				}
			}, t.prototype.hideDebugValue = function(t) {
				var e = this.game.broadcaster.broadcast(s.EScreenEvents.GetLayer, this.game, ["debugLayout"]);
				if (m.Util.isValid(e)) {
					var i = l[t];
					if (m.Util.isValid(i)) {
						var n = r.GameConstants.get("GameConstants.Build.SHOW_DEBUG_VALUES"),
							a = n.indexOf(t);
						a > -1 && n.splice(a, 1), e.removeRenderer(e.findRendererByType(i))
					}
				}
			}, t.prototype.openMenu = function(t) {
				var e = this.getMenus();
				if (e.hasOwnProperty(t)) {
					var i = Array.prototype.slice.call(arguments, 2);
					0 === i.length && (i = e[t]), this.game.prodigy.open[t].apply(this.game.prodigy.open, i)
				} else a.Logger.log("Menu is not supported", a.LogLevel.Error)
			}, t.prototype.getMenus = function() {
				var t = this;
				return function() {
					var e = function() {},
						i = function() {
							var e = new f.Player(t.game);
							return e.init(t.game.prodigy.player.data), t.game.prodigy.create.player(null, e)
						},
						a = {
							chat: [],
							toyStore: [],
							nameChange: [!0],
							advancedNameChange: [!0, null, !0],
							achievement: [
								[t.game.prodigy.achievements.getData(1)]
							],
							toyUnlock: [],
							rating: [],
							choosePet: [1],
							createAccount: [],
							server: [
								[{
									id: "1",
									full: 0,
									name: "Server 1",
									meta: {
										tag: "fire"
									}
								}, {
									id: "2",
									full: 0,
									name: "Server 2",
									meta: {
										tag: "earth"
									}
								}, {
									id: "3",
									full: 100,
									name: "Server 3",
									meta: {
										tag: "air"
									}
								}, {
									id: "4",
									full: 0,
									name: "Server 4",
									meta: {
										tag: "water"
									}
								}, {
									id: "5",
									full: 75,
									name: "Server 5",
									meta: {
										tag: "wizard"
									}
								}, {
									id: "6",
									full: 0,
									name: "Server 6",
									meta: {
										tag: "zone-ice"
									}
								}], null, !1
							],
							serverSelectMode: [
								[{
									id: "1",
									full: 0,
									name: "Server 1",
									meta: {
										tag: "fire"
									}
								}, {
									id: "2",
									full: 0,
									name: "Server 2",
									meta: {
										tag: "earth"
									}
								}, {
									id: "3",
									full: 100,
									name: "Server 3",
									meta: {
										tag: "air"
									}
								}, {
									id: "4",
									full: 0,
									name: "Server 4",
									meta: {
										tag: "water"
									}
								}, {
									id: "5",
									full: 75,
									name: "Server 5",
									meta: {
										tag: "wizard"
									}
								}, {
									id: "6",
									full: 0,
									name: "Server 6",
									meta: {
										tag: "zone-ice"
									}
								}], e
							],
							houseEditorMenu: [null, t.game.state.states.TileScreen],
							catch: [null, e],
							battle: [i(), null, i()],
							memberPrompt: [],
							playAtHomePrompt: [],
							parentalLinkInfoPrompt: [y.ParentLinkBenefitsConfig.ANALYTICS_SOURCE_SETTINGS],
							parentalLinkSuccessPrompt: [],
							parentalLinkAtSchoolPrompt: [],
							mailerOpenMail: [{
								data: {
									id: 1,
									message: "This is test mail",
									subject: "TEST",
									attachments: []
								}
							}],
							friendRequests: [e],
							itemInfo: [n({}, d.Items.getItem("hat", 1), {
								cost: [{
									type: "currency",
									ID: 1,
									N: 50
								}]
							}), e, "buy"],
							houseItemInfo: [n({}, d.Items.getItem("dormbg", 2), {
								cost: [{
									type: "currency",
									ID: 1,
									N: 50
								}]
							}), e, "buy"],
							bountyBoard: [],
							social: [u.ESocialMenuType.ClassLeaders],
							boostSelect: [
								[{
									icon: {
										type: "item",
										ID: 47
									},
									d: "More gears"
								}, {
									icon: {
										type: "fossil",
										ID: 1
									},
									d: "Slow time"
								}, {
									icon: "star2",
									d: "Multiplier"
								}], e
							],
							card: [t.game.prodigy.player, !0, !0],
							arena: [],
							stylist: [],
							membership: [h.MemberAd.NICKNAME],
							darkTowerMemberGate: [],
							nicknamer: [
								[{
									pre: "Buccaneer ",
									req: [{
										rtype: "item",
										type: "outfit",
										ID: 36
									}, {
										rtype: "item",
										type: "hat",
										ID: 40
									}, {
										rtype: "item",
										type: "weapon",
										ID: 65
									}],
									fail: "You need to buy the Pirate set to unlock!"
								}, {
									pre: "Captain ",
									req: [{
										rtype: "quest",
										zone: "shipwreck_shore",
										Q: 11
									}],
									fail: "You need to complete the Shipwreck Shore quest to unlock!"
								}, {
									pre: "Treasure Hunter ",
									req: [{
										rtype: "pet",
										ID: 98
									}],
									fail: "You need to catch a Mimic to unlock!"
								}, {
									pre: "First-mate ",
									member: !0,
									fail: "You need to become a member to unlock!"
								}, {
									post: "beard the Pirate",
									member: !0,
									fail: "You need to become a member to unlock!"
								}]
							],
							gotItem: [
								[{
									type: "gold",
									N: 10
								}]
							],
							message: ["Message box body", e, null, "Title"],
							alert: ["Alert body", e, null, "Title"],
							messageBox: ["Message box yes/no body", e, e, null, "Title"],
							messageBoxGeneric: ["Message box generic body", e, e, e, null, null, 7, {
								modifyProperty: [{
									element: "yesText",
									property: "text",
									value: "400"
								}, {
									element: "membershipGraphic",
									property: "visible",
									value: !1
								}, {
									element: "houseGraphic",
									property: "atlasName",
									value: d.Items.getIconAtlas({
										type: "dormbg",
										ID: 12
									})
								}, {
									element: "houseGraphic",
									property: "frameName",
									value: d.Items.getIconFrame({
										type: "dormbg",
										ID: 12
									})
								}]
							}],
							messageBoxOkay: ["Okay message body", "OK", e, null, "Title"],
							zoneProgress: [p.WorldMap.BUTTONS_CONFIG[0], e, e],
							titanProgress: [!0],
							character: [],
							backpack: [],
							pouch: ["hat", e, !0],
							settings: [],
							map: [],
							store: [1],
							stylistStore: [19],
							buyToy: [133, !1],
							epicBoostMachine: [133, !1],
							battleSummary: [null, {
								totalStars: 50,
								memberStarsEarned: 0
							}],
							battleLevel: [t.game.prodigy.player, {
								type: c.BattleBase.LEVEL_UP,
								source: t.game.prodigy.player
							}],
							battlePotionSelect: [],
							confirmPotionUse: [d.Items.getItem("item", 102), t.game.prodigy.player],
							potionPvpPopup: [],
							epicErrorMessage: ["You can only use one Epic attack per battle!", {
								showClose: !1
							}],
							questDescription: [t.game.prodigy.world.zones.activity_zone.getDailyQuestData(0), e],
							pvpPrizes: [],
							membershipInfo: [],
							resultsMenu: [t.game.prodigy.player.kennel.getTeam(), {
									baseXP: 100,
									memberXP: 50,
									parentLinkXP: 0,
									pippetXP: 0
								},
								[{
									type: "gold",
									N: 50
								}]
							],
							evolutionSummary: [new g.Monster(t.game, {
								ID: 1,
								hp: 500,
								isPVPTeam: !0,
								level: 16,
								nickname: null,
								stars: 2e3,
								team: 1
							}), new g.Monster(t.game, {
								ID: 1,
								hp: 500,
								isPVPTeam: !0,
								level: 1,
								nickname: null,
								stars: 0,
								team: 1
							})],
							spellSummary: [new g.Monster(t.game, {
								ID: 2,
								hp: 500,
								isPVPTeam: !0,
								level: 50,
								nickname: null,
								stars: 3500,
								team: 1
							}), new g.Monster(t.game, {
								ID: 1,
								hp: 500,
								isPVPTeam: !0,
								level: 1,
								nickname: null,
								stars: 0,
								team: 1
							})],
							heartSummary: [new g.Monster(t.game, {
								ID: 2,
								hp: 500,
								isPVPTeam: !0,
								level: 50,
								nickname: null,
								stars: 3500,
								team: 1
							}), new g.Monster(t.game, {
								ID: 1,
								hp: 500,
								isPVPTeam: !0,
								level: 1,
								nickname: null,
								stars: 0,
								team: 1
							})],
							archivesEntranceMenu: [36e5, 1535122880776],
							archivesExitMenu: [5, 3],
							archivesPrizesMenu: [3],
							archivesRoulette: [3],
							voucherRedemption: []
						};
					return function() {
						return a
					}
				}()()
			}, t.prototype.closeMenus = function() {
				this.game.prodigy.open.menuCloseAll()
			}, t.prototype.tp = function(t, e, i, n) {
				"archives" === t ? this.game.prodigy.world.zones.archives.enterDungeon() : this.game.prodigy.world.teleport(t, e, i, null, {
					callback: n
				})
			}, t.onEnableDebugCalls = new Phaser.Signal, t.onApplyDebugOptions = new Phaser.Signal, t
		}();
	e.Debug = _
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(26),
		o = i(1),
		r = i(102),
		s = i(141),
		l = i(626),
		c = i(6),
		h = i(4),
		u = i(98),
		p = i(69),
		d = i(5),
		g = i(625),
		f = i(97),
		y = i(2),
		m = i(12),
		_ = i(262),
		v = i(282),
		E = i(0),
		b = function(t) {
			function e(i, n, a) {
				void 0 === a && (a = []);
				var o = t.call(this, i, n.zoneName, n.atlas, a.concat(["bgm-3"])) || this;
				return o.showMenu = !0, o.tileSize = 20, o.hideHex = !1, o.playersInfo = {}, o.playerList = {}, o.clickAreas = [], o.walkEnabled = !0, o.saveTag = "", o.startX = 500, o.startY = 300, o.pendingPlayers = null, o.pendingCoordinates = new Map, o.frameUntilAddNextPlayer = -e.FRAMES_BETWEEN_ADDING_PLAYERS, o.hasBroadcastedInfo = !1, o
			}
			return n(e, t), e.prototype.onDebugAutoClick = function(t) {
				if (E.Util.isValid(t) && t.indexOf("map_") >= 0) {
					var e = t.split("_");
					this.listener(null, {
						x: parseInt(e[1]),
						y: parseInt(e[2])
					})
				}
			}, e.prototype.shutdown = function() {
				t.prototype.shutdown.call(this);
				try {
					for (var e in this.game.broadcaster.removeAppListener(d.EFriendsListEvents.GotFriendsListAppearance, this, "FriendsList"), this.playerList) this.playerList.hasOwnProperty(e) && this.playerList[e].destroy();
					this.playerList = {}, this.user.destroy(), this.user = null
				} catch (t) {}
			}, e.prototype.create = function(e) {
				if (this.walkEnabled = !0, this.clickAreas = [], this.saveTag = e, E.Util.isValid(this.saveTag) && this.game.prodigy.player.setZone(this.saveTag), this.game.prodigy.player.saveEnabled = !0, this.path = new v.Pathfinder(this.area), this.createBackground(), this.user = this.game.prodigy.create.player(this.content, this.game.prodigy.player, 1, this.startX, this.startY, !1, !1, !0), this.user.enableLocomotion(this, this.user), this.user.reload(), this.user.showName(), this.user.clickCallback = this.game.prodigy.open.card.bind(this.game.prodigy.open, this.game.prodigy.player), this.game.prodigy.user = this.user, this.addFollow(this.game.prodigy.player.userID, this.game.prodigy.player.equipment.getFollow()), this.showMenu && (this.menuBar = new g.Menu(this.game, this.menus), -1 === this.zoneName.indexOf("scene-"))) {
					this.game.broadcaster.broadcast(d.ENetworkHandlerEvents.Setup, "NetworkHandlers", []), this.game.broadcaster.broadcast(d.EMailerEvents.GetTotalMail, "ProdigyMailerButton", []), this.game.broadcaster.broadcast(d.EFriendsListEvents.GetTotalFriendRequests, "FriendsList");
					var i = this.game.prodigy.gameContainer,
						n = i.get(c.EProdigyInjectionIdentifiers.EventBuilder).buildEvent(a.GameEvent.V3.SessionLengthData, !0, !1);
					n.setSessionLength(0), i.get(c.EProdigyInjectionIdentifiers.AnalyticsService).updateSessionState(n)
				}
				t.prototype.create.call(this), h.GameConstants.get("GameConstants.Build.DEBUG") && this.game.broadcaster.addAppListener(d.EDebugEvents.AutoClickScene, this.onDebugAutoClick.bind(this), this)
			}, e.prototype.createBackground = function() {
				this.bg = this.game.prodigy.create.sprite(0, 0, this.screenName, "bg"), this.bg.inputEnabled = !0, this.bg.events.onInputDown.add(this.listener.bind(this), this), this.background.add(this.bg)
			}, e.prototype.screenSetup = function() {
				E.Util.isValid(this.bgmID) && (this.game.prodigy.audio.playBGM(this.bgmID, !0), this.game.prodigy.audio.resumeBGM()), this.game.prodigy.network.joinZone(this), t.prototype.screenSetup.call(this)
			}, e.prototype.start = function() {
				this.user.evtProc = !1, t.prototype.start.call(this)
			}, e.prototype.processPopups = function(t) {
				var e = this;
				if (h.GameConstants.get("GameConstants.Debug.POPUPS_ENABLED") && !this.game.prodigy.notifications.dialogueOpen) {
					var i = this.game.prodigy.achievements.process();
					if (_.ParentalLink.isSuccessRequired(this.game.prodigy.player)) return void this.game.prodigy.open.parentalLinkSuccessPrompt(t);
					if (this.game.prodigy.player.hasCompletedTutorial() && !(this.game.prodigy.player.memberPrompt || !this.game.prodigy.player.hasMembership() && E.Util.isSchoolHours() || this.game.prodigy.player.hasMembership() && this.game.prodigy.player.backpack.hasItem("mount", 1) > 0) && (this.game.prodigy.player.locationSelectionType !== h.GameConstants.get("GameConstants.LocationSelection.SCHOOL") || this.game.prodigy.player.hasMembership() && 0 === this.game.prodigy.player.backpack.hasItem("mount", 1))) return void(this.game.prodigy.player.rewardMembershipPrizes(t) || this.game.prodigy.open.membershipInfo(t));
					if (i.length > 0)
						for (var o = 0; o < i.length; o++) this.game.prodigy.player.achievements.complete(i[o].ID), this.game.prodigy.player.achievements.complete(i[o].ID), this.game.prodigy.notifications.initNotificationTemplate(p.NotificationType.ACHIEVEMENTS, [{
							ID: i[o].ID,
							type: "achievement",
							value: i[o].data.name
						}], i[o].metadata), this.game.prodigy.notifications.playNextNotification(), this.game.prodigy.notifications.getSocialNotifications(3);
					else {
						if (this.game.prodigy.player.justLeveled && this.game.prodigy.player.getLevel() >= 10) return this.game.prodigy.player.justLeveled = !1, void this.game.prodigy.open.rating(t);
						this.game.prodigy.player.hasCompletedTutorial() && (this.game.prodigy.notifications.playNextNotification(), this.game.prodigy.notifications.getSocialNotifications(3))
					}
				}
				E.Util.isValid(t) && t()
			}, e.prototype.onMessage = function(t) {
				E.Util.isValid(this.game) && ("challenge" === t.action && this.game.prodigy.mail.add(t), "change" === t.action && this.updatePlayer(t.data), "move" === t.action && this.movePlayer(t.data), "info" === t.action && this.onPlayerFullInfo(t.data), "chat" === t.action && this.chatPlayer(t.data), "emit" === t.action && this.playerEffect(t.data), "transform" === t.action && this.transformPlayer(t.data), "catapult" === t.action && this.game.broadcaster.broadcast(d.ETitanEvents.Catapult, "Catapult"))
			}, e.prototype.onPlayerFullInfo = function(t) {
				t.userID !== this.game.prodigy.player.userID && E.Util.isValid(t) && E.Util.isValid(this.content) && (this.playersInfo[t.userID] = t, E.Util.isValid(this.playerList[t.userID]) ? (this.updatePlayer(this.playersInfo[t.userID]), this.movePlayer(this.playersInfo[t.userID])) : null === this.pendingPlayers || 0 === this.pendingPlayers.length ? (this.addPlayer(this.playersInfo[t.userID]), this.movePlayer(this.playersInfo[t.userID])) : this.pendingCoordinates[t.userID] = t)
			}, e.prototype.setFakePlayer = function(t) {
				this.playersInfo[t.userID] = t
			}, e.prototype.onPlayerList = function(t) {
				E.Util.isValid(this.game) && (this.pendingPlayers = t, this.hasBroadcastedInfo = !1, o.Logger.log("Pending players are of size: " + this.pendingPlayers.length, o.LogLevel.Verbose))
			}, e.prototype.onPlayerJoined = function(t) {
				E.Util.isValid(this.content) && t !== this.game.prodigy.player.userID && (E.Util.isValid(this.playersInfo[t]) && (null === this.pendingPlayers || 0 === this.pendingPlayers.length ? (this.addPlayer(this.playersInfo[t]), E.Util.isValid(this.pendingCoordinates[t]) && this.movePlayer(this.pendingCoordinates[t])) : (this.pendingPlayers.push(t), this.hasBroadcastedInfo = !1)), E.Util.isValid(this.user) && this.user.broadcastPlayerFullInfo(t))
			}, e.prototype.onPlayerLeft = function(t) {
				this.removePlayer(t)
			}, e.prototype.removePlayer = function(t) {
				E.Util.isValid(this.playerList[t]) && E.Util.isValid(this.content) && (this.removeFollow(t), this.content.remove(this.playerList[t], !0), this.playerList[t].destroy(), delete this.playerList[t])
			}, e.prototype.canAddUsersToScreen = function() {
				var t = r(this.playerList),
					e = this.game.prodigy.getAverageFPS();
				return e < h.GameConstants.get("GameConstants.Build.ADD_PLAYER_FPS_THRESHOLD_LIMIT") ? h.GameConstants.setMaxPlayerLimit(Math.max(t, h.GameConstants.get("GameConstants.Build.MAX_ON_SCREEN_FPS_LIMITED"))) : e > h.GameConstants.get("GameConstants.Build.ADD_PLAYER_FPS_THRESHOLD_RENABLE") && h.GameConstants.resetMaxPlayerLimit(), t < h.GameConstants.getMaxPlayerLimit()
			}, e.prototype.addPlayer = function(t) {
				if (!E.Util.isValid(this.playerList[t.userID])) {
					var e = s(this.game.prodigy.friendsListNetworkHandler.friendsList.concat(this.game.prodigy.friendsListNetworkHandler.classList), "userID");
					if (this.canAddUsersToScreen() || -1 !== l(e, t.userID)) {
						o.Logger.log("Player to be added " + t.userID + " and alwaysShowPlayers has size " + e.length + ".", o.LogLevel.Verbose);
						var i = new m.Player(this.game);
						i.init(t);
						var n = this.game.prodigy.create.player(this.content, i, 1, -100, -100);
						n.enableLocomotion(this, n), E.Util.isValid(t.mount) && n.mount(t.mount.mountID), n.reload(), n.showName(), n.clickCallback = this.game.prodigy.open.card.bind(this.game.prodigy.open, i), this.playerList[t.userID] = n, this.addFollow(i.userID, i.equipment.getFollow()), this.game.broadcaster.broadcast(d.EWalkableScreenEvents.PlayerAdded, this.game, [n])
					} else o.Logger.log("FPS is too low or player cap has been reached. Player will not be added. " + t.userID + " and alwaysShowPlayers has size " + e.length, o.LogLevel.Verbose)
				}
			}, e.prototype.updatePlayer = function(t) {
				if (E.Util.isValid(this.playerList) && E.Util.isValid(this.playerList[t.userID])) {
					var e = this.playerList[t.userID],
						i = e.getSource();
					i.appearance.init(t.appearance), i.equipment.init(t.equipment), i.name.init(i.appearance.getName(), i.appearance.getGender()), E.Util.isValid(t.data) && (e.source.data.allowsHouseVisitors = t.data.allowsHouseVisitors), E.Util.isValid(t.mount) && (E.Util.isValid(t.mount.mountID) ? e.mount(t.mount.mountID) : e.unmount()), e.showName(), e.clickCallback = this.game.prodigy.open.card.bind(this.game.prodigy.open, e.source), E.Util.isValid(t.equipment) && this.addFollow(t.userID, t.equipment.follow), e.reload(), this.game.broadcaster.broadcast(d.EWalkableScreenEvents.PlayerUpdate, this.game, [e])
				}
			}, e.prototype.playerEffect = function(t) {
				E.Util.isValid(this.playerList) && E.Util.isValid(this.playerList[t.userID]) && this.playerList[t.userID].source.fx(t.type)
			}, e.prototype.movePlayer = function(t) {
				E.Util.isValid(this.playerList) && E.Util.isValid(this.playerList[t.userID]) && E.Util.isValid(t.target) && this.playerList[t.userID].setNewTarget(t.target.x, t.target.y)
			}, e.prototype.chatPlayer = function(t) {
				if (E.Util.isValid(this.playerList) && E.Util.isValid(this.playerList[t.userID])) {
					var e = this.playerList[t.userID];
					E.Util.isValid(t.emoteID) ? e.emote(t.emoteID) : E.Util.isValid(t.chatID) ? e.startChat(t.chatID) : E.Util.isValid(t.danceID) && e.dance(t.danceID, e.source.appearance.getGender())
				}
			}, e.prototype.transformPlayer = function(t) {
				E.Util.isValid(this.playerList) && E.Util.isValid(this.playerList[t.userID]) && (t.hasOwnProperty("transformID") ? this.playerList[t.userID].transformToItem(t.transformType, t.transformID, E.Util.isValid(t.showEffect) && t.showEffect) : this.playerList[t.userID].resetItemTransformation(E.Util.isValid(t.showEffect) && t.showEffect))
			}, e.prototype.removeFollow = function(t) {
				var e = t === this.game.prodigy.player.userID ? this.user : this.playerList[t];
				E.Util.isValid(e) && E.Util.isValid(e.follow) && (this.content.remove(e.follow, !0), delete e.follow)
			}, e.prototype.addFollow = function(t, e) {
				var i = this;
				if (!E.Util.isValid(this.content)) return null;
				var n = t === this.game.prodigy.player.userID ? this.user : this.playerList[t];
				if (E.Util.isValid(n) && (this.removeFollow(t), E.Util.isValid(e))) {
					var a = y.Items.getItem("follow", e).metadata,
						o = -1,
						r = null;
					E.Util.isValid(a) && E.Util.isValid(a.petID) && (o = a.petID), n !== this.user && (r = function() {
						f.ToyStore.openWebsite(i.game, "follow", !1, o)
					}), o >= 125 && t !== this.game.prodigy.player.userID && this.game.prodigy.network.sendToyEvent("toy-walk", 4, o);
					var s = this.game.prodigy.create.follow(this.content, e, 1, n, r);
					E.Util.isValid(s.reload) && s.reload(), n.follow = s
				}
			}, e.prototype.groupInsertionSort = function(t, e) {
				for (var i = 0; i < t.length; i++) {
					var n = t.children[i].y,
						a = t.children[i],
						o = void 0;
					if (e === Phaser.Group.SORT_ASCENDING)
						for (o = i - 1; o > -1 && t.children[o].y > n; o--) t.children[o + 1] = t.children[o];
					else
						for (o = i - 1; o > -1 && t.children[o].y < n; o--) t.children[o + 1] = t.children[o];
					t.children[o + 1] = a
				}
			}, e.prototype.screenUpdate = function() {
				if (t.prototype.screenUpdate.call(this), null !== this.pendingPlayers && this.pendingPlayers.length > 0)
					if (this.frameUntilAddNextPlayer > e.FRAMES_BETWEEN_ADDING_PLAYERS) {
						this.frameUntilAddNextPlayer = 0;
						var i = this.pendingPlayers.pop();
						i !== this.game.prodigy.player.userID && E.Util.isValid(this.playersInfo[i]) && (this.addPlayer(this.playersInfo[i]), E.Util.isValid(this.pendingCoordinates[i]) && this.movePlayer(this.pendingCoordinates[i])), E.Util.isValid(this.user) && !this.hasBroadcastedInfo && (this.user.broadcastPlayerFullInfo(), this.hasBroadcastedInfo = !0)
					} else this.frameUntilAddNextPlayer++;
				0 === this.game.prodigy.open.menus.length && 0 === this.game.prodigy.open.renderMenus.length && null === this.game.prodigy.open.chatMenu && null === this.game.prodigy.notifications.notificationTimer && this.game.prodigy.notifications.startTimer(), this.groupInsertionSort(this.content, Phaser.Group.SORT_ASCENDING), this.game.prodigy.player.appearanceChanged && (this.game.prodigy.player.appearanceChanged = !1, this.user.reload(), this.user.showName(), this.addFollow(this.game.prodigy.player.userID, this.hideHex ? null : this.game.prodigy.player.equipment.getFollow()), this.game.prodigy.network.emitMessage({
					action: "change",
					data: {
						userID: this.game.prodigy.player.userID,
						appearance: this.game.prodigy.player.appearance.getData(),
						equipment: this.game.prodigy.player.equipment.getData(),
						mount: this.game.prodigy.player.mount.getMountData()
					}
				}))
			}, e.prototype.listener = function(t, e) {
				if (this.walkEnabled) {
					for (var i = E.Util.isValid(e) ? e.x : Math.round(this.game.input.x), n = E.Util.isValid(e) ? e.y : Math.round(this.game.input.y), a = 0; a < this.clickAreas.length; a++) {
						var o = this.clickAreas[a];
						if (i >= o.x && i <= o.x + o.w && n >= o.y && n <= o.y + o.h) return void o.callback()
					}
					this.game.broadcaster.broadcast(d.EPlayerLocomotionEvents.MovePlayer, null, [i, n]) && this.addPathingIcon(i, n)
				}
			}, e.prototype.addPathingIcon = function(t, e) {
				var i = this.game.prodigy.create.sprite(t, e, "atlas-21", "star-small");
				i.scale.setTo(0, 0), i.anchor.setTo(.5, .5), this.content.add(i), this.game.add.tween(i).to({
					alpha: 0
				}, 600, Phaser.Easing.Cubic.In, !0), this.game.add.tween(i.scale).to({
					x: 1,
					y: 1
				}, 600, Phaser.Easing.Linear.None, !0).onComplete.add(function() {
					i.destroy()
				})
			}, e.prototype.createStoreNPC = function(t, e, i, n, a) {
				var r = this,
					s = this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService);
				return new u.QuestNPC(this.game, this.content, t, e, {
					atlasID: 76,
					name: s.getText("NPC_NAME_MERCHANT"),
					indicator: "store"
				}, function() {
					var t = r.game.prodigy.dialogue.create();
					t.setText({
						text: s.getText("STORE_PROMPT_WELCOME", n),
						face: 0,
						yes: r.game.prodigy.open.store.bind(r.game.prodigy.open, i)
					}), t.start("merchant")
				}, a)
			}, e.FRAMES_BETWEEN_ADDING_PLAYERS = 10, e
		}(i(60).Screen);
	e.WalkableScreen = b
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(11),
		r = i(4),
		s = i(117),
		l = i(3),
		c = i(645),
		h = i(644),
		u = i(643),
		p = i(150),
		d = i(642),
		g = i(641),
		f = i(640),
		y = i(639),
		m = i(638),
		_ = i(121),
		v = i(637),
		E = i(636),
		b = i(635),
		O = i(252),
		I = i(634),
		T = i(633),
		A = i(632),
		C = i(631),
		S = i(630),
		w = i(629),
		D = i(116),
		P = i(628),
		L = i(627),
		x = i(2),
		M = i(33),
		U = i(0),
		N = function(t) {
			function e(e) {
				return t.call(this, e, {}) || this
			}
			return n(e, t), e.prototype.shutdown = function() {
				try {
					U.Util.isValid(this.previousZone) && this.previousZone.cleanup(), U.Util.isValid(this.previousMapData) && this.previousMapData.cleanup()
				} catch (t) {
					a.Logger.log("Error destroying TileScreen.", a.LogLevel.Error)
				}
				r.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this), t.prototype.shutdown.call(this)
			}, e.prototype.initMap = function(t, e, i, n) {
				this.previousMapData = this.data, this.previousZone = this.zone, this.data = t, this.zone = e, this.zoneName = t.zoneName, this.startX = U.Util.isValid(i) ? i : t.x, this.startY = U.Util.isValid(n) ? n : t.y, this.isMapScreen = !0
			}, e.prototype.initScene = function(t, e) {
				this.data = t, this.zone = e, this.zoneName = "scene-" + this.game.prodigy.player.userID, this.isMapScreen = !1
			}, e.prototype.create = function() {
				t.prototype.create.call(this, this.zoneName)
			}, e.prototype.screenSetup = function() {
				this.events = [], this.clickAreas = [];
				var e = this.game.prodigy.create.element(this.background, 0, 0),
					i = this.game.prodigy.create.element(this.foreground, 0, 0);
				this.user.evtProc = !0, this.zone.init(this.game, this, this.data);
				var n = this.game.prodigy.skin.init(this);
				U.Util.isValid(n) && U.Util.isValid(n.bgmID) && (this.zone.bgmID = n.bgmID), this.area = this.data.init(this.game, e, i, this), this.path.init(this.area, this.tileSize);
				var a = this.zone.setup(this.game, this, this.data);
				a && a.quit || (this.data.setup(this.game, this, a), this.isMapScreen && (this.questProgress = new P.QuestProgressEvent(this.game, this.menus, this.user)), this.game.prodigy.textureBelow.clear(), this.game.prodigy.textureBelow.renderXY(e, 0, 0, !0), this.below.add(new Phaser.Image(this.game, 0, 0, this.game.prodigy.textureBelow)), this.game.prodigy.textureAbove.clear(), this.game.prodigy.textureAbove.renderXY(i, 0, 0, !0), this.above.add(new Phaser.Image(this.game, 0, 0, this.game.prodigy.textureAbove)), this.data.processAnimations(this.game, this), e.destroy(), i.destroy(), this.data.processDynamicLayers(this.game, this), t.prototype.screenSetup.call(this))
			}, e.prototype.start = function(e, i) {
				if (void 0 === e && (e = !1), void 0 === i && (i = !1), e) {
					if (!i && this.isMapScreen) return t.prototype.start.call(this), void this.processPopups(this.start.bind(this, !0, !0));
					this.user.evtProc = !1, this.zone.start(this.game, this, this.data), this.data.start(this.game, this), this.process(), this.game.prodigy.skin.applySkin(this), t.prototype.start.call(this)
				} else this.fadeIn()
			}, e.prototype.createBackground = function() {
				var t = this.background.add(this.game.prodigy.create.sprite(0, 0, null));
				t.width = 1280, t.height = 720, t.inputEnabled = !0, t.events.onInputDown.add(this.listener.bind(this), this), this.below = this.game.prodigy.create.element(this.background, 0, 0), this.above = this.game.prodigy.create.element(this.foreground, 0, 0), this.floor = this.game.prodigy.create.element(this.background, 0, 0)
			}, e.prototype.screenUpdate = function() {
				t.prototype.screenUpdate.call(this), U.Util.isValid(this.data) && (U.Util.isValid(this.zone) && this.zone.update(this.game, this, this.data), this.data.update(this.game))
			}, e.prototype.addEvent = function(t, e) {
				r.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.addTrigger({
					ID: "autoclick-mapEvent-" + e,
					context: this,
					callback: function() {
						return {
							x: t.x,
							y: t.y
						}
					}
				})
			}, e.prototype.addAreaEvent = function(t, i, n, a, o) {
				var s = new l.AreaEvent(this.game, this.floor, t, this.user, this.path, i, n, a, o);
				return this.events.push(s), this.addEvent(s, "areaEvent"), (a || r.GameConstants.get("GameConstants.Build.DEBUG") && e.DEBUG_DRAW_AREA_EVENTS) && this.above.add(s.getOverlay()), s
			}, e.prototype.addQuestNPC = function(t, e, i, n, a) {
				var o = new D.QuestEvent(this.game, this.content, t, e, i, n, this.process.bind(this), a);
				return o.setup(this.zone, i, n), this.events.push(o), this.addEvent(o, i), o
			}, e.prototype.addConstructedQuestNPC = function(t, e, i, n, a) {
				var o;
				switch (i) {
					case "benni":
						(o = new C.BenniEvent(this.game, this.content, t, e, i, n, this.process.bind(this), a)).setup(this.zone, i, n);
						break;
					case "flora":
						(o = new w.FloraEvent(this.game, this.content, t, e, i, n, this.process.bind(this), a)).setup(this.zone, i, n);
						break;
					case "eve":
						(o = new S.EveEvent(this.game, this.content, t, e, i, n, this.process.bind(this), a)).setup(this.zone, i, n)
				}
				return this.events.push(o), this.addEvent(o, i), o
			}, e.prototype.addClickableEvent = function(t, e, i, n, a, o, r, s) {
				var l = new p.ClickableEvent(this.game, s || this.content, t, e, i, n, a, o, r);
				return this.events.push(l), this.addEvent(l, "clickable"), l
			}, e.prototype.addClickableMoveEvent = function(t, e, i, n, a, o, r, s, l, c) {
				var h = this,
					u = {
						moveToX: a,
						moveToY: o,
						addPathingIconFunction: function(t, e) {
							h.addPathingIcon(t, e)
						}
					},
					p = new d.ClickableMoveEvent(this.game, c || this.content, t, e, i, n, u, r, s, l);
				return this.events.push(p), this.addEvent(p, "clickableMove"), p
			}, e.prototype.addClickableArea = function(t, e, i, n, a) {
				var o = {
					x: t,
					y: e,
					w: i,
					h: n,
					callback: a
				};
				this.clickAreas.push(o), this.addEvent(o, "clickArea")
			}, e.prototype.addFireflyEvent = function(t, e, i, n, a, o, r) {
				var s = new f.FireflyEvent(this.game, this.foreground, t, e, i, n, a, o, r);
				return this.events.push(s), this.addEvent(s, "firefly"), s
			}, e.prototype.addChest = function(t, e, i, n, a, o) {
				var r = new u.ChestEvent(this.game, this.content, e, i, this.user, this.path, t, n, a, this.process.bind(this), o);
				return this.events.push(r), this.addEvent(r, "chest"), r
			}, e.prototype.addMimic = function(t, e, i, n, a, o) {
				var r = new m.MimicEvent(this.game, this.content, e, i, this.user, this.path, t, n, a, o);
				return this.events.push(r), this.addEvent(r, "mimic"), r
			}, e.prototype.addCollect = function(t, e, i, n) {
				var a = new g.CollectEvent(this.game, this.content, e, i, this.user, this.path, t, n, this.processAddCollect.bind(this, t));
				return this.events.push(a), this.addEvent(a, "collect"), a
			}, e.prototype.processAddCollect = function(t) {
				this.preprocess();
				for (var e = 0; e < this.events.length; e++) this.events[e].ID === t && this.events.splice(e, 1);
				this.process(!1)
			}, e.prototype.addMonster = function(t, e, i, n, a, r, s, l) {
				a.minLevel = this.zone.minLevel, a.maxLevel = this.zone.maxLevel, a.monsterData = this.game.prodigy.battle.chooseRandomMonster(a.encounter);
				var c = x.Items.getItem("pet", a.monsterData.ID),
					h = null;
				return h = "spine" === o(c, "metadata.assets.default.type", null) ? new v.MonsterSpineEvent(this.game, this.content, e, i, this.user, this.path, t, a, n, r, s, l, this) : new _.MonsterEvent(this.game, this.content, e, i, this.user, this.path, t, a, n, r, s, l, this), this.events.push(h), this.addEvent(h, "monster"), h
			}, e.prototype.addPippet = function(t, e, i) {
				var n = new s.Pippet(this.game, this.content, e, i, this.user, this.path, t);
				return this.events.push(n), this.addEvent(n, "pippet"), n
			}, e.prototype.addBounty = function(t, e, i, n, a, o, r) {
				a.minLevel = this.zone.minLevel, a.maxLevel = this.zone.maxLevel;
				var s = new h.BountyEvent(this.game, this.content, e, i, this.user, this.path, t, a, n, o, r);
				return this.events.push(s), this.addEvent(s, "bounty"), s
			}, e.prototype.addWizard = function(t, e, i, n) {
				var a = this.zone.getState(i);
				if (!(U.Util.isValid(a) && 0 !== a || !r.GameConstants.get("GameConstants.Debug.WIZARDS_ENABLED"))) {
					var o = new L.WizardEvent(this.game, this.content, t, e, this.user, this.path, i, n, this);
					return o.reload(), this.events.push(o), this.addEvent(o, "wizard"), o
				}
				return null
			}, e.prototype.addNPC = function(t, e, i, n, a, o) {
				var r = new M.NPC(this.game);
				r.init({
					name: a
				});
				var s = new E.NPCEvent(this.game, o || this.content, t, e, i, n, r);
				return this.events.push(s), this.addEvent(s, i), s
			}, e.prototype.addGnome = function(t, e, i, n, a, o) {
				var r = new M.NPC(this.game);
				r.init({
					name: i
				});
				var s = new y.GnomeEvent(this.game, this.content, this.user, this.path, t, e, r, n, a, o);
				return this.events.push(s), this.addEvent(s, i), s
			}, e.prototype.addConstructedNPC = function(t, e, i, n, o, r) {
				var s, l = new M.NPC(this.game);
				switch (l.init({
						name: o
					}), i) {
					case "atlas-153":
						s = new T.JellyJimEvent(this.game, this.content, t, e, i, l);
						break;
					case "atlas-64":
						s = new b.BroccolinaEvent(this.game, this.content, t, e, i, n, l);
						break;
					case "atlas-68":
						s = new I.EugeneEvent(this.game, this.content, t, e, i, n, l);
						break;
					case "atlas-65":
						s = new O.CebolliniEvent(this.game, r || this.content, t, e, i, n, l);
						break;
					case "atlas-87":
					case "npc-sprite-worker-slime-red":
						s = new A.WorkerSlimeEvent(this.game, this.content, t, e, i, n, l);
						break;
					default:
						a.Logger.log("Add Constructed NPC failed: Tag not found", a.LogLevel.Error)
				}
				return this.events.push(s), this.addEvent(s, i), s
			}, e.prototype.addBlock = function(t, e, i) {
				var n = new c.BlockEvent(this.game, i.content ? this.content : this.background, t, e, this.path, i);
				return this.events.push(n), this.addEvent(n, "block"), n
			}, e.prototype.preprocess = function() {
				var t = this.zone.getQuestState(),
					e = U.Util.isValid(t) ? this.zone.getQuest(t.ID) : null,
					i = U.Util.isValid(e) && this.zone.isQuestComplete(t.ID),
					n = U.Util.isValid(e) && this.zone.isQuestStarted(t.ID),
					a = [],
					o = [];
				n && (o = i && !e.chain && U.Util.isValid(this.zone.questHub) ? [this.zone.questHub] : this.zone.getRemainingQuestAreas(t.ID));
				for (var r = 0; r < o.length; r++) a.push({
					event: null,
					distance: 9999999
				});
				for (r = 0; r < this.events.length; r++)
					if (U.Util.isValid(this.events[r].process) && !this.events[r].isBlocked)
						if (n && this.events[r] instanceof l.AreaEvent && o.length > 0)
							for (var s = 0; s < o.length; s++) {
								var c = this.events[r].process(this.zone, this.data, o[s]);
								c < a[s].distance && U.Util.isValid(c) && (a[s].distance = c, a[s].event = this.events[r])
							} else this.events[r].process(this.zone, this.data);
				a.sort(function(t, e) {
					return t.distance - e.distance
				});
				var h = 9999999;
				for (r = 0; r < a.length && !(a[r].distance > h); r++) h = a[r].distance, U.Util.isValid(a[r].event) && U.Util.isValid(a[r].event.setClosest) && a[r].distance > 1 && a[r].event.setClosest()
			}, e.prototype.process = function(t) {
				void 0 === t && (t = !1), t || this.preprocess();
				var e = this.data.zoneName,
					i = U.Util.isValid(this.data.zoneName) && e.indexOf("house") > -1 && -1 === e.indexOf("exit") && (e.indexOf(this.game.prodigy.player.userID.toString()) > -1 || e.indexOf("undefined") > -1);
				this.menuBar.open(0, i), this.isMapScreen && this.questProgress.process(this.zone, this.data), this.zone.process(this.game, this, this.data), this.data.process(this.game, this, this.zone)
			}, e.prototype.showCollisions = function(t) {
				if (U.Util.isValid(this.menus) && (this.menus.removeAll(!0), t)) {
					for (var e = new Phaser.Group(this.game), i = 0; i < 64; i++)
						for (var n = 0; n < 36; n++)
							if (!this.path.isNodeOpen(i, n)) {
								var a = e.add(this.game.prodigy.create.sprite(20 * i, 20 * n, "atlas-18", "overlay-light"));
								a.width = 20, a.height = 20, a.alpha = .2, a.tint = 12255232
							} this.game.prodigy.textureMenu.clear(), this.game.prodigy.textureMenu.renderXY(e, 0, 0, !0), this.menus.add(new Phaser.Image(this.game, 0, 0, this.game.prodigy.textureMenu)), e.destroy()
				}
			}, e.DEBUG_DRAW_AREA_EVENTS = !1, e
		}(i(237).WalkableScreen);
	e.TileScreen = N
}, function(t, e, i) {
	var n = i(200),
		a = i(84),
		o = i(191),
		r = parseFloat,
		s = Math.min,
		l = Math.random;
	t.exports = function(t, e, i) {
		if (i && "boolean" != typeof i && a(t, e, i) && (e = i = void 0), void 0 === i && ("boolean" == typeof e ? (i = e, e = void 0) : "boolean" == typeof t && (i = t, t = void 0)), void 0 === t && void 0 === e ? (t = 0, e = 1) : (t = o(t), void 0 === e ? (e = t, t = 0) : e = o(e)), t > e) {
			var c = t;
			t = e, e = c
		}
		if (i || t % 1 || e % 1) {
			var h = l();
			return s(t + h * (e - t + r("1e-" + ((h + "").length - 1))), e)
		}
		return n(t, e)
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(86),
		o = i(1),
		r = i(96),
		s = i(648),
		l = i(195),
		c = i(239),
		h = i(85),
		u = i(284),
		p = i(285),
		d = i(6),
		g = i(4),
		f = i(17),
		y = i(268),
		m = i(159),
		_ = i(122),
		v = i(5),
		E = i(274),
		b = i(238),
		O = i(249),
		I = i(2),
		T = i(49),
		A = i(35),
		C = i(12),
		S = i(333),
		w = i(271),
		D = i(70),
		P = i(244),
		L = i(119),
		x = i(14),
		M = i(236),
		U = i(188),
		N = i(610),
		R = i(609),
		k = i(186),
		B = i(29),
		G = i(0),
		V = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.attackDamageCache = {}, e.bountyOverrides = {}, e.fakePlayers = {}, e.addPlayerTimer = null, e.updatePlayerTimer = null, e.hatSwitchEvent = null, e.generatedRandomPlayers = [], e.stressTests = {
					playerContainers: [],
					emitters: []
				}, e
			}
			return n(e, t), e.prototype.setup = function(e) {
				t.prototype.setup.call(this, e), window.setLogLevel = g.GameConstants.setLogLevel.bind(g.GameConstants)
			}, e.prototype.applyDebugOptions = function(t) {
				g.GameConstants.get("GameConstants.Build.MUTE_BGM") && this.mute(), g.GameConstants.get("GameConstants.Build.KILL_GORE") && this.killGore(), g.GameConstants.get("GameConstants.Build.EASY_MODE") && this.easyMode();
				var e = g.GameConstants.get("GameConstants.Build.TELEPORT");
				"" !== e && this.tp(e);
				var i = g.GameConstants.get("GameConstants.Build.ITEM_TYPE");
				i.length > 0 && this.getItemType(i[0], i[1], i.length > 2 ? i[2] : 1), g.GameConstants.get("GameConstants.Build.MEMBERSHIP") && this.setMembership();
				var n = g.GameConstants.get("GameConstants.Debug.GET_PET");
				if (n.length > 0 && (this.getPet(n[0], n[1], n[2], n[3]), n[4] && (t.prodigy.player.kennel.setTeam(t.prodigy.player.kennel.data[0], 0), t.prodigy.player.kennel.setTeam(t.prodigy.player.data, 1))), g.GameConstants.get("GameConstants.Debug.SET_LEVEL") > 0) {
					var a = T.Creature.starsToLevel(g.GameConstants.get("GameConstants.Debug.SET_LEVEL"));
					this.addStars(a - 10)
				}
				g.GameConstants.get("GameConstants.Debug.GET_GOLD") > 0 && this.getGold(g.GameConstants.get("GameConstants.Debug.GET_GOLD")), g.GameConstants.get("GameConstants.Debug.GET_SPELL") > 0 && this.getSpell(g.GameConstants.get("GameConstants.Debug.GET_SPELL")), g.GameConstants.get("GameConstants.Debug.FAST_GAME_SPEED") > 0 && this.setGameSpeed(g.GameConstants.get("GameConstants.Debug.FAST_GAME_SPEED")), g.GameConstants.get("GameConstants.Debug.FSM_LOGGING") && this.enableFSMLogging(!0)
			}, e.prototype.enableDebugCalls = function(t) {
				g.GameConstants.get("GameConstants.Build.DEBUG") && (window.enableGameConstant = g.GameConstants.enableGameConstant.bind(g.GameConstants), window.enableAutosave = g.GameConstants.enableGameConstant.bind(g.GameConstants, "GameConstants.Debug.AUTOSAVE_ENABLED"), window.enablePopups = g.GameConstants.enableGameConstant.bind(g.GameConstants, "GameConstants.Debug.POPUPS_ENABLED"), window.enablePlayerCards = g.GameConstants.enableGameConstant.bind(g.GameConstants, "GameConstants.Debug.PLAYER_CARDS_ENABLED"), window.enableWarpMode = g.GameConstants.enableGameConstant.bind(g.GameConstants, "GameConstants.Debug.WARP_MODE_ENABLED"), window.enableMonsters = g.GameConstants.enableGameConstant.bind(g.GameConstants, "GameConstants.Debug.MONSTERS_ENABLED"), window.enableWizards = g.GameConstants.enableGameConstant.bind(g.GameConstants, "GameConstants.Debug.WIZARDS_ENABLED"), window.enableGodMode = g.GameConstants.enableGameConstant.bind(g.GameConstants, "GameConstants.Debug.GOD_MODE_ENABLED"), window.enableEducation = g.GameConstants.enableGameConstant.bind(g.GameConstants, "GameConstants.Debug.EDUCATION_ENABLED"), window.enableAutoResolveBattles = g.GameConstants.enableGameConstant.bind(g.GameConstants, "GameConstants.Debug.AUTO_RESOLVE_BATTLES_ENABLED"), window.enableAutoResolveTowerBattles = g.GameConstants.enableGameConstant.bind(g.GameConstants, "GameConstants.Debug.AUTO_RESOLVE_TOWER_BATTLES_ENABLED"), window.scaleEncounterDistance = g.GameConstants.scaleEncounterDistance.bind(g.GameConstants), window.setRespawnTime = g.GameConstants.setRespawnTime.bind(g.GameConstants), window.getKeyItems = this.getKeyItems.bind(this), window.playScene = this.playScene.bind(this), window.debugMap = this.debugMap.bind(this), window.setState = this.setState.bind(this), window.deleteState = this.deleteState.bind(this), window.setEmail = this.setParentEmail.bind(this), window.addStars = this.addStars.bind(this), window.tpTowerFloor = this.tpTowerFloor.bind(this), window.tp = this.tp.bind(this), window.inspect = this.inspect.bind(this), window.showLayer = this.showLayer.bind(this), window.showCollisions = this.showCollisions.bind(this), window.answer = this.answer.bind(this), window.drDino = this.drDino.bind(this), window.grabBag = this.grabBag.bind(this), window.getItem = this.getItem.bind(this), window.getItemType = this.getItemType.bind(this), window.getCurrency = this.getCurrency.bind(this), window.getPet = this.getPet.bind(this), window.getAllPets = this.getAllPets.bind(this), window.getBounty = this.getBounty.bind(this), window.getSpell = this.getSpell.bind(this), window.removeSpell = this.removeSpell.bind(this), window.getGold = this.getGold.bind(this), window.bookWorm = this.bookWorm.bind(this), window.smallLoan = this.smallLoan.bind(this), window.setAchievementData = this.setAchievementData.bind(this), window.mute = this.mute.bind(this), window.testVoice = this.testVoice.bind(this), window.testEventDaily = this.testEventDaily.bind(this), window.changeEventDay = this.changeEventDay.bind(this), window.resetBreadcrumbFeature = this.resetBreadcrumbFeature.bind(this), window.resetAllBreadcrumbs = this.resetAllBreadcrumbs.bind(this), window.resetHouseVisitingBreadcrumbs = this.resetHouseVisitingBreadcrumbs.bind(this), window.resetHouseMovingBreadcrumbs = this.resetHouseMovingBreadcrumbs.bind(this), window.resetDabBreadcrumbs = this.resetDabBreadcrumbs.bind(this), window.currentBGM = this.currentBGM.bind(this), window.setRoulette = this.setRoulette.bind(this), window.addFriend = this.addFriend.bind(this), window.removeFriend = this.removeFriend.bind(this), window.getFriendsList = this.getFriendsList.bind(this), window.triggerFailure = this.triggerFailure.bind(this), window.getDefaultFakeFriendData = this.getDefaultFakeFriendData.bind(this), window.addFakeFriend = this.addFakeFriend.bind(this), window.removeFakeFriend = this.removeFakeFriend.bind(this), window.removeAllFakeFriends = this.removeAllFakeFriends.bind(this), window.getAllPotions = this.getAllPotions.bind(this), window.resetSurvey = this.resetSurvey.bind(this), window.forceDrops = this.forceDrops.bind(this), window.getAllZoneDrops = this.getAllZoneDrops.bind(this), window.startPippetBattle = this.startPippetBattle.bind(this), window.setAttackOverride = this.setAttackOverride.bind(this), window.setEscapeChance = this.setEscapeChance.bind(this), window.setLevel = this.setLevel.bind(this), window.skipBonusChance = this.skipBonusChance.bind(this), window.getCubes = this.getCubes.bind(this), window.openCubes = this.openCubes.bind(this), window.startBattle = this.startBattle.bind(this), window.automateHatSwitching = this.automateHatSwitching.bind(this), window.player = this.player.bind(this), window.setMembership = this.setMembership.bind(this), window.skipMembershipWebsite = this.skipMembershipWebsite.bind(this), window.killGore = this.killGore.bind(this), window.greedIsGood = this.greedIsGood.bind(this), window.greedIsOkay = this.greedIsOkay.bind(this), window.setAttackBaseDamage = this.setAttackBaseDamage.bind(this), window.easyMode = this.easyMode.bind(this), window.hardMode = this.hardMode.bind(this), window.getEpic = this.getEpic.bind(this), window.savePlayer = this.savePlayer.bind(this), window.loadPlayer = this.loadPlayer.bind(this), window.autoClick = this.autoClick.bind(this), window.autoClickUI = this.autoClickUI.bind(this), window.autoClickScene = this.autoClickScene.bind(this), window.autoClickList = this.autoClickList.bind(this), window.getGame = this.getGame.bind(this), window.getCurrentState = this.getCurrentState.bind(this), window.showHierarchy = this.showHierarchy.bind(this), window.findByName = this.findByName.bind(this), window.setEpicArena = this.setEpicArena.bind(this), window.trigger = this.trigger.bind(this), window.setNextEpicArenaRound = this.setNextEpicArenaRound.bind(this), window.showAreaEvents = this.showAreaEvents.bind(this), window.showBounties = this.showAllBounties.bind(this), window.setClientVersion = this.setClientVersion.bind(this), window.testRandom = this.testRandom.bind(this), window.setSplitTestLane = this.setSplitTestLane.bind(this), window.enableVerboseMetrics = this.enableVerboseMetrics.bind(this), window.changeDayLength = this.changeDayLength.bind(this), window.forceActivityZoneMonsterId = this.forceActivityZoneMonsterId.bind(this), window.enableDynamicLayer = this.enableDynamicLayer.bind(this), window.drawUIElementBounds = this.drawUIElementBounds.bind(this), window.openUIViewer = this.openUIViewer.bind(this), window.setGameSpeed = this.setGameSpeed.bind(this), window.setFeedLimit = this.setFeedLimit.bind(this), window.showDebugValue = this.showDebugValue.bind(this), window.hideDebugValue = this.hideDebugValue.bind(this), window.enableDebugLocalization = this.enableDebugLocalization.bind(this), window.enableVerboseLocalization = this.enableVerboseLocalization.bind(this), window.stressTestParticles = this.stressTestParticles.bind(this), window.stressTestPlayerContainers = this.stressTestPlayerContainers.bind(this), window.snow = this.snow.bind(this), window.enableParticles = this.enableParticles.bind(this), window.spawnBuddyParticle = this.spawnBuddyParticle.bind(this), window.getCurrentDailyLocation = this.getCurrentDailyLocation.bind(this), window.unlockColiseumOpponent = this.unlockColiseumOpponent.bind(this), window.lockColiseumOpponent = this.lockColiseumOpponent.bind(this), window.setMyArenaLeaderboardScore = this.setMyArenaLeaderboardScore.bind(this), window.setClassLeaderboardScore = this.setClassLeaderboardScore.bind(this), window.resetPrizeWheelSpins = this.resetPrizeWheelSpins.bind(this), window.setCustomBounty = this.setCustomBounty.bind(this), window.clearCustomBounty = this.clearCustomBounty.bind(this), window.openMenu = this.openMenu.bind(this), window.closeMenus = this.closeMenus.bind(this), window.resetRegisterDate = this.resetRegisterDate.bind(this), window.setCritChance = this.setCritChance.bind(this), window.setNFactor = this.setNFactor.bind(this), window.transform = this.transform.bind(this), window.timerMenu = this.timerMenu.bind(this), window.generateRandomPlayers = this.generateRandomPlayers.bind(this), window.transformGeneratedPlayers = this.transformGeneratedPlayers.bind(this), window.completeMatchmakingBattle = this.completeMatchmakingBattle.bind(this), window.startPointsTicker = this.startPointsTicker.bind(this), window.resetUserRank = this.resetUserRank.bind(this), window.setUserRank = this.setUserRank.bind(this), window.showInactivityDialog = this.showInactivityDialog.bind(this), window.setBootOutTimersInSeconds = this.setBootOutTimersInSeconds.bind(this), window.parade = this.parade.bind(this), window.escapeBattle = this.escapeBattle.bind(this), window.resetMembershipReward = this.resetMembershipReward.bind(this), window.getSplitTestLane = this.getSplitTestLane.bind(this), window.getSplitTestGroup = this.getSplitTestGroup.bind(this), window.setUnlimitedWheelSpins = this.setUnlimitedWheelSpins.bind(this), window.setWheelSpinDuration = this.setWheelSpinDuration.bind(this), window.maintainAspectRatio = this.maintainAspectRatio.bind(this), window.enableSkynet = this.enableSkynet.bind(this), window.disableSkynet = this.disableSkynet.bind(this), window.logChatPhrases = this.logChatPhrases.bind(this), window.setCharacterCreationDate = this.setCharacterCreationDate.bind(this), window.clearStoreCache = this.clearStoreCache.bind(this), window.setStoreExpireTime = this.setStoreCacheExpirationTime.bind(this), window.setMemberStarsTimeout = this.setMemberStarsTimeout.bind(this), window.getMemberStarsTimeout = this.getMemberStarsTimeout.bind(this), window.createNotification = this.createNotification.bind(this), window.editUiJson = this.editUiJson.bind(this), window.editFsmJSON = this.editFsmJSON.bind(this), window.setMonsterRadiusVisible = this.setMonsterRadiusVisible.bind(this), window.restartTutorial = this.restartTutorial.bind(this), window.startSessionCamRecording = this.startSessionCamRecording.bind(this, t), window.stopSessionCamRecording = this.stopSessionCamRecording.bind(this, t), window.alwaysSwitch = this.alwaysSwitch.bind(this), window.alwaysCast = this.alwaysCast.bind(this), window.fixPetStars = this.fixPetStars.bind(this, t), window.setBattleEnergy = this.setBattleEnergy.bind(this), window.setBattleHealth = this.setBattleHealth.bind(this), window.setEnemySpells = this.setEnemySpells.bind(this), window.syncLevelToStars = this.syncLevelToStars.bind(this), window.createDungeons = this.createDungeons.bind(this, t), window.tpArchives = this.tpArchives.bind(this, t), window.openArchivesMap = this.openArchivesMap.bind(this, t), window.printMousePositionOnClick = this.printMousePositionOnClick.bind(this, t), window.goToArchivesEnd = this.goToArchivesEnd.bind(this, t), window.resetArchiveRuns = this.resetArchiveRuns.bind(this, t), window.enterArchives = this.enterArchives.bind(this, t), window.spinPrizeWheel = this.spinPrizeWheel.bind(this, t), window.setClassSelect = this.setClassSelect.bind(this), window.enableFSMLogging = this.enableFSMLogging.bind(this, t), window.setFPS = this.setFPS.bind(this))
			}, e.prototype.playScene = function(t, e) {
				this.game.prodigy.world.playScene(t + "-" + e)
			}, e.prototype.debugMap = function(t, e) {
				g.GameConstants.enableGameConstant("GameConstants.Debug.PLAYER_CARDS_ENABLED", !e), g.GameConstants.enableGameConstant("GameConstants.Debug.POPUPS_ENABLED", !e), g.GameConstants.enableGameConstant("GameConstants.Debug.WIZARDS_ENABLED", !e), g.GameConstants.enableGameConstant("GameConstants.Debug.MONSTERS_ENABLED", !e), this.tp(t)
			}, e.prototype.setParentEmail = function(t) {
				this.game.prodigy.player.setParentEmail(t)
			}, e.prototype.addStars = function(t) {
				this.game.prodigy.player.addStars(t, null, null, !0)
			}, e.prototype.setMembership = function() {
				this.game.prodigy.player.setMembership()
			}, e.prototype.skipMembershipWebsite = function(t, e) {
				void 0 === t && (t = !0), void 0 === e && (e = !0), g.GameConstants.enableGameConstant("GameConstants.Debug.SKIP_MEMBERSHIP_WEBSITE", t), g.GameConstants.enableGameConstant("GameConstants.Debug.GIVES_MEMBERSHIP_AFTER_SKIP_WEBSITE", e), o.Logger.log("Skip the membership website: " + t, o.LogLevel.Verbose), o.Logger.log("Give membership after skipping website: " + e, o.LogLevel.Verbose)
			}, e.prototype.tpTowerFloor = function(t) {
				var e = t < 100 ? "A2" : "A3";
				this.game.prodigy.world.zones.darktower.maps[e].floor = t, this.game.prodigy.world.zones.darktower.maps[e].updateZoneNameFromCurrentFloor(), this.game.prodigy.world.zones.darktower.maps[e].cleared = !1, this.game.prodigy.world.teleport("darktower-" + e, 260, 550)
			}, e.prototype.easyMode = function(t) {
				void 0 === t && (t = !0), t && g.GameConstants.enableGameConstant("GameConstants.Debug.AUTO_ANSWER_CORRECTLY", !0), g.GameConstants.enableGameConstant("GameConstants.Debug.EDUCATION_ENABLED", !t), g.GameConstants.enableGameConstant("GameConstants.Debug.AUTO_ANSWER_CORRECT_PERCENT", 1)
			}, e.prototype.hardMode = function(t) {
				g.GameConstants.enableGameConstant("GameConstants.Debug.EDUCATION_ENABLED", !t), t ? g.GameConstants.enableGameConstant("GameConstants.Debug.AUTO_ANSWER_CORRECT_PERCENT", 0) : g.GameConstants.enableGameConstant("GameConstants.Debug.AUTO_ANSWER_CORRECT_PERCENT", 1)
			}, e.prototype.inspect = function(t) {
				G.Util.isValid(t) && "" !== t ? o.Logger.log(this.game.prodigy.player[t].data, o.LogLevel.Verbose) : o.Logger.log(JSON.stringify(this.game.prodigy.player.data), o.LogLevel.Verbose)
			}, e.prototype.showLayer = function(t, e) {
				this.game.state.states.TileScreen[t].visible = e
			}, e.prototype.showCollisions = function(t) {
				g.GameConstants.enableGameConstant("GameConstants.Debug.SHOW_COLLISIONS", t), this.game.state.states.TileScreen.showCollisions(t)
			}, e.prototype.answer = function() {
				this.game.prodigy.education.question()
			}, e.prototype.killGore = function(t) {
				void 0 === t && (t = !0), g.GameConstants.enableGameConstant("GameConstants.Build.KILL_GORE", t)
			}, e.prototype.setAttackBaseDamage = function(t, e) {
				var i = I.Items.getItem("spell", t).data;
				G.Util.isValid(this.attackDamageCache[t]) || (this.attackDamageCache[t] = i.damage), i.damage = e
			}, e.prototype.drDino = function() {
				for (var t = 13; t < 25; t++) this.game.prodigy.player.backpack.add("fossil", t)
			}, e.prototype.grabBag = function() {
				for (var t = 1; t < 29 * Math.random(); t++) this.game.prodigy.player.backpack.add("boots", Math.floor(28 * Math.random() + 1));
				for (t = 1; t < 55 * Math.random(); t++) this.game.prodigy.player.backpack.add("outfit", Math.floor(54 * Math.random() + 1));
				for (t = 1; t < 80 * Math.random(); t++) this.game.prodigy.player.backpack.add("weapon", Math.floor(79 * Math.random() + 1));
				for (t = 1; t < 64 * Math.random(); t++) this.game.prodigy.player.backpack.add("hat", Math.floor(63 * Math.random() + 1));
				for (t = 1; t < 78 * Math.random(); t++) this.game.prodigy.player.backpack.add("item", Math.floor(77 * Math.random() + 1));
				for (t = 1; t < 21 * Math.random(); t++) this.game.prodigy.player.backpack.add("relic", Math.floor(20 * Math.random() + 1));
				for (t = 1; t < 72 * Math.random(); t++) this.game.prodigy.player.backpack.add("dorm", Math.floor(71 * Math.random() + 1));
				for (t = 1; t < 25 * Math.random(); t++) this.game.prodigy.player.backpack.add("fossil", Math.floor(24 * Math.random() + 1))
			}, e.prototype.getItemType = function(t, e, i) {
				void 0 === i && (i = 1);
				var n = [{
					type: t,
					ID: e,
					N: i
				}];
				this.game.prodigy.open.gotItem(n)
			}, e.prototype.getCurrency = function(t, e) {
				var i = [];
				i.push({
					type: "currency",
					ID: t,
					N: e
				}), this.game.prodigy.open.gotItem(i)
			}, e.prototype.getKeyItems = function() {
				this.game.prodigy.player.backpack.add("key", 1), this.game.prodigy.player.backpack.add("key", 2), this.game.prodigy.player.backpack.add("key", 3), this.game.prodigy.player.backpack.add("key", 4), this.game.prodigy.player.backpack.add("key", 8), this.game.prodigy.player.backpack.add("key", 9), this.game.prodigy.player.backpack.add("key", 10), this.game.prodigy.player.backpack.add("key", 11), this.game.prodigy.player.backpack.add("key", 12), this.game.prodigy.player.backpack.add("key", 13)
			}, e.prototype.getItem = function() {
				var t = [],
					e = [{
						type: "hat",
						ID: 63
					}, {
						type: "outfit",
						ID: 54
					}, {
						type: "weapon",
						ID: 79
					}, {
						type: "boots",
						ID: 28
					}, {
						type: "relic",
						ID: 10
					}],
					i = Math.floor(5 * Math.random()),
					n = e[i].type,
					a = Math.floor(2 * Math.random());
				Math.floor(2 * Math.random()) > 0 && t.push({
					type: n,
					ID: Math.floor(Math.random() * e[i].ID + 1)
				});
				for (var o = 0; o < Math.floor(5 * Math.random()); o++) t.push({
					type: "item",
					ID: Math.floor(77 * Math.random() + 1)
				});
				if (a > 0)
					for (o = 0; o < Math.floor(5 * Math.random()); o++) t.push({
						type: "gold",
						N: 100
					});
				0 === t.length ? this.getItem() : this.game.prodigy.open.gotItem(t)
			}, e.prototype.getPet = function(t, e, i, n) {
				var a = G.Util.isValid(t) ? t : Math.floor(Math.random() * I.Items.getItemCount("pet") + 1),
					o = G.Util.isValid(e) ? e : Math.floor(99 * Math.random() + 1),
					r = G.Util.isValid(i) ? i : g.GameConstants.MAX_SAFE_INTEGER,
					s = G.Util.isValid(n) ? n : T.Creature.starsToLevel(e);
				this.game.prodigy.open.gotItem([{
					type: "pet",
					ID: a,
					data: {
						ID: a,
						newHP: r,
						newStars: s,
						newLevel: o
					}
				}])
			}, e.prototype.getAllPets = function(t, e, i) {
				for (var n = I.Items.data.pet, a = 0; a < n.length; a++) {
					var o = n[a];
					G.Util.isValid(o) && this.getPet(o.ID, t, e, i)
				}
			}, e.prototype.getEpic = function(t) {
				var e = G.Util.isValid(t) ? t : 125;
				e > 133 || e < 125 || (this.getPet(e, 20), this.player().backpack.add("follow", I.Items.getItem("pet", e).data.unlockFollow))
			}, e.prototype.getBounty = function() {
				this.game.prodigy.open.gotItem([{
					type: "bounty",
					N: 100
				}]), this.game.prodigy.player.addBountyScore(100)
			}, e.prototype.getSpell = function(t) {
				this.game.prodigy.open.gotItem([{
					type: "spell",
					ID: G.Util.isValid(t) ? t : Math.floor(35 * Math.random() + 1)
				}])
			}, e.prototype.removeSpell = function(t) {
				for (var e = this.game.prodigy.player.data.spells, i = -1, n = 0; n < e.length; n++) e[n] === t && (i = n); - 1 !== i && (this.game.prodigy.player.data.spells.splice(i, 1), this.game.prodigy.player.updated = !0)
			}, e.prototype.getGold = function(t) {
				var e = [];
				e.push({
					type: "gold",
					N: t
				}), this.game.prodigy.open.gotItem(e)
			}, e.prototype.smallLoan = function(t) {
				void 0 === t && (t = 1e6), this.game.prodigy.player.changeGold(t)
			}, e.prototype.bookWorm = function() {
				G.Util.isValid(this.game.prodigy.player.data.spells) || (this.game.prodigy.player.data.spells = []);
				for (var t = 1; t < 37; t++) 31 !== t && this.game.prodigy.player.data.spells.push(t)
			}, e.prototype.setAchievementData = function(t, e) {
				this.game.prodigy.player.achievements.increment(t, e)
			}, e.prototype.mute = function(t) {
				void 0 === t && (t = !0), this.game.prodigy.audio.setMute(t)
			}, e.prototype.greedIsGood = function() {
				this.mute(), this.bookWorm(), this.smallLoan(), this.killGore(), this.easyMode(!0)
			}, e.prototype.greedIsOkay = function() {
				this.killGore(), this.easyMode(!0), this.game.prodigy.player.isMember = !0
			}, e.prototype.testVoice = function(t, e, i) {
				for (var n = this.game.prodigy.event.create(), a = e; a <= i; a++) n.text(a, t);
				n.start()
			}, e.prototype.testEventDaily = function(t) {
				for (var e = null, i = null, n = 0; n < this.game.prodigy.skin.active.length; ++n)
					if (this.game.prodigy.skin.active[n] instanceof O.GameFestival) {
						for (var a = (e = this.game.prodigy.skin.active[n]).dailyPlacements, o = 0; o < a.length; ++o)
							if (G.Util.isValid(a[o][t])) {
								i = a[o];
								break
							} break
					} if (G.Util.isValid(i)) {
					var r = new Date;
					this.game.prodigy.player.data[e.daily].date = {
						d: r.getUTCDate(),
						m: r.getUTCMonth(),
						y: r.getUTCFullYear()
					}, this.game.prodigy.player.data[e.daily].isComplete = 0, this.game.prodigy.player.data[e.daily].dailyLocation = i, this.tp(t)
				}
			}, e.prototype.changeEventDay = function() {
				for (var t = null, e = 0; e < this.game.prodigy.skin.active.length; ++e)
					if (this.game.prodigy.skin.active[e] instanceof O.GameFestival) {
						t = this.game.prodigy.skin.active[e];
						break
					} if (G.Util.isValid(t)) {
					var i = new Date;
					this.game.prodigy.player.data[t.daily].date = {
						d: i.getUTCDate() + 1,
						m: i.getUTCMonth(),
						y: i.getUTCFullYear()
					}, this.game.prodigy.player.updated = !0
				}
			}, e.prototype.getCurrentDailyLocation = function() {
				for (var t = null, e = 0; e < this.game.prodigy.skin.active.length; ++e)
					if (this.game.prodigy.skin.active[e] instanceof O.GameFestival) {
						t = this.game.prodigy.skin.active[e];
						break
					} if (G.Util.isValid(t))
					for (var i in this.game.prodigy.player.data[t.daily].dailyLocation) this.game.prodigy.player.data[t.daily].dailyLocation.hasOwnProperty(i) && 0 === i.indexOf("lamplight") && o.Logger.log(i, o.LogLevel.Verbose)
			}, e.prototype.resetBreadcrumbFeature = function(t) {
				this.game.prodigy.breadcrumbManager.resetBreadcrumbs(x.Breadcrumbs[t])
			}, e.prototype.resetAllBreadcrumbs = function() {
				for (var t in this.game.prodigy.breadcrumbManager.breadcrumbConfig.features) this.resetBreadcrumbFeature(t)
			}, e.prototype.resetHouseVisitingBreadcrumbs = function() {
				this.resetBreadcrumbFeature("FEATURE_HOUSE_VISITING")
			}, e.prototype.resetHouseMovingBreadcrumbs = function() {
				this.resetBreadcrumbFeature("FEATURE_HOUSE_MOVING")
			}, e.prototype.resetDabBreadcrumbs = function() {
				this.resetBreadcrumbFeature("BREADCRUMB_CLICKED_DAB")
			}, e.prototype.currentBGM = function() {
				o.Logger.log("Current BGM: " + this.game.prodigy.audio.currentBgm.key, o.LogLevel.Verbose)
			}, e.prototype.setRoulette = function(t) {
				e.ROULETTE = t
			}, e.prototype.autoClick = function(t) {
				this.game.broadcaster.broadcast(v.EDebugEvents.AutoClick, this.game, [t])
			}, e.prototype.autoClickUI = function(t) {
				this.game.broadcaster.broadcast(v.EDebugEvents.AutoClickUI, this.game, [t])
			}, e.prototype.autoClickScene = function(t) {
				this.game.broadcaster.broadcast(v.EDebugEvents.AutoClickScene, this.game, [t])
			}, e.prototype.autoClickList = function() {
				this.game.broadcaster.broadcast(v.EDebugEvents.AutoClickList, this.game)
			}, e.prototype.trigger = function(t, e) {
				return this.game.prodigy.automation.trigger(t, e)
			}, e.prototype.resetSurvey = function() {
				this.game.prodigy.player.data.survey = 0
			}, e.prototype.forceDrops = function(t) {
				g.GameConstants.setDrops(this.game, t)
			}, e.prototype.getAllZoneDrops = function(t) {
				var e = [];
				"shipwreck_shore" === t && (e = [{
					type: "hat",
					ID: 39
				}, {
					type: "hat",
					ID: 40
				}, {
					type: "hat",
					ID: 76
				}, {
					type: "hat",
					ID: 77
				}, {
					type: "hat",
					ID: 78
				}, {
					type: "hat",
					ID: 79
				}, {
					type: "hat",
					ID: 80
				}, {
					type: "hat",
					ID: 81
				}, {
					type: "outfit",
					ID: 4
				}, {
					type: "outfit",
					ID: 35
				}, {
					type: "outfit",
					ID: 36
				}, {
					type: "outfit",
					ID: 57
				}, {
					type: "outfit",
					ID: 58
				}, {
					type: "outfit",
					ID: 59
				}, {
					type: "outfit",
					ID: 60
				}, {
					type: "outfit",
					ID: 61
				}, {
					type: "outfit",
					ID: 62
				}, {
					type: "boots",
					ID: 3
				}, {
					type: "boots",
					ID: 29
				}, {
					type: "boots",
					ID: 30
				}, {
					type: "boots",
					ID: 31
				}, {
					type: "boots",
					ID: 32
				}, {
					type: "boots",
					ID: 33
				}, {
					type: "weapon",
					ID: 19
				}, {
					type: "weapon",
					ID: 65
				}, {
					type: "weapon",
					ID: 66
				}, {
					type: "weapon",
					ID: 92
				}, {
					type: "weapon",
					ID: 93
				}, {
					type: "weapon",
					ID: 94
				}, {
					type: "weapon",
					ID: 95
				}, {
					type: "follow",
					ID: 130
				}, {
					type: "follow",
					ID: 131
				}, {
					type: "follow",
					ID: 132
				}, {
					type: "follow",
					ID: 133
				}, {
					type: "key",
					ID: 14
				}, {
					type: "key",
					ID: 15
				}, {
					type: "key",
					ID: 16
				}, {
					type: "key",
					ID: 17
				}, {
					type: "item",
					ID: 112
				}, {
					type: "item",
					ID: 113
				}, {
					type: "item",
					ID: 114
				}, {
					type: "spell",
					ID: 7
				}, {
					type: "spell",
					ID: 8
				}, {
					type: "spell",
					ID: 9
				}]);
				var i = G.Util.filterDuplicateKeys(this.game, e);
				i.length > 0 && this.game.prodigy.open.gotItem(i, null)
			}, e.prototype.startPippetBattle = function(t) {
				for (var e = null, i = 0; i < _.PippetEncounter.data.spawns.length; i++)(e = _.PippetEncounter.data.spawns[i]).location === t && (this.game.prodigy.world.pippetEncounterDaily.init(), this.game.prodigy.world.pippetEncounterSpawn = e, this.tp(t))
			}, e.prototype.setAttackOverride = function(t) {
				g.GameConstants.setAttackOverride(t)
			}, e.prototype.setEscapeChance = function(t) {
				g.GameConstants.setEscapeChance(t)
			}, e.prototype.getGame = function() {
				return this.game
			}, e.prototype.addFriend = function(t) {
				this.game.prodigy.friendsListNetworkHandler.sendFriendRequest(t)
			}, e.prototype.removeFriend = function(t) {
				this.game.prodigy.friendsListNetworkHandler.removeFriend(t)
			}, e.prototype.getFriendsList = function() {
				o.Logger.log(JSON.stringify(this.game.prodigy.friendsListNetworkHandler.friendsList), o.LogLevel.Verbose)
			}, e.prototype.getDefaultFakeFriendData = function(t) {
				void 0 === t && (t = !0);
				var e = {
					userID: 123,
					status: 1,
					appearance: {
						face: 1,
						hair: {
							color: 1,
							style: 1
						},
						eyeColor: 1,
						gender: "female",
						skinColor: 1,
						name: {
							first: 1,
							last: 1,
							middle: 1,
							nick: 0,
							version: 1
						}
					},
					isMember: 1,
					data: {
						hp: 123,
						allowsHouseVisitors: !1,
						gold: 123,
						loss: 1,
						tower: 0,
						level: 1,
						stars: 0,
						team: 0
					},
					equipment: {
						follow: 1
					}
				};
				return t && o.Logger.log(e.toString(), o.LogLevel.Verbose), e
			}, e.prototype.addFakeFriend = function(t) {
				void 0 === t && (t = null);
				var e = this.game.prodigy.friendsListNetworkHandler,
					i = G.Util.isValid(t) ? t : this.getDefaultFakeFriendData(!1);
				i.isFake = !0, e.totalFriends++, e.friendsList.push(i)
			}, e.prototype.removeFakeFriend = function(t, e) {
				void 0 === e && (e = !1);
				for (var i = this.game.prodigy.friendsListNetworkHandler, n = null, a = 0, r = 0; r < i.friendsList.length; r++) n = i.friendsList[r], (e || n.userID === t) && n.isFake && (i.friendsList.splice(r, 1), i.totalFriends--, r--, a++);
				o.Logger.log("Util.removeFakeFriend - number of fake friends removed: " + a, o.LogLevel.Verbose)
			}, e.prototype.removeAllFakeFriends = function() {
				this.removeFakeFriend(0, !0)
			}, e.prototype.triggerFailure = function() {
				this.game.prodigy.friendsListNetworkHandler.networkCallFailure(null, 0)
			}, e.prototype.getAllPotions = function(t) {
				void 0 === t && (t = 1);
				for (var e = [], i = 96; i <= 111; i++) e.push({
					type: "item",
					ID: i,
					N: t
				});
				this.game.prodigy.open.gotItem(e)
			}, e.prototype.setEpicArena = function(t, e, i) {
				G.Util.isValid(t) && G.Util.isValid(e) && G.Util.isValid(i) && (E.EpicBoostMenu.FORCED_RESULT = [t, e, i])
			}, e.prototype.showAreaEvents = function(t) {
				b.TileScreen.DEBUG_DRAW_AREA_EVENTS = t
			}, e.prototype.setClientVersion = function(t) {
				this.game.prodigy.network.api.clientVersion = t
			}, e.prototype.resetPrizeWheelSpins = function(t, e) {
				delete t.prodigy.player.data["spinDate" + e], delete t.prodigy.player.data["numSpins" + e], t.prodigy.player.updated = !0
			}, e.prototype.testRandom = function(t, e, i) {
				for (var n = 0, a = 0; a < t; a++) r(s(e))[0] === i && n++;
				o.Logger.log("Randomized " + i + " " + n + " times.", o.LogLevel.Verbose)
			}, e.prototype.setSplitTestLane = function(t) {
				g.GameConstants.setSplitTestLane(t)
			}, e.prototype.enableVerboseMetrics = function(t) {
				G.Util.isValid(t) ? D.NetworkManager.VERBOSE_ANALYTICS = t : o.Logger.log("enableVerboseMetrics expects a boolean parameter. No action taken.", o.LogLevel.Error)
			}, e.prototype.changeDayLength = function(t) {
				G.Util.isValid(t) ? G.Util.DEBUG_DAY_LENGTH = t : G.Util.DEBUG_DAY_LENGTH = 864e5
			}, e.prototype.forceActivityZoneMonsterId = function(t) {
				G.Util.isValid(t) ? (P.ActivityZone.FORCE_MONSTER_TYPE = !0, P.ActivityZone.MONSTER_ID = t) : P.ActivityZone.FORCE_MONSTER_TYPE = !1
			}, e.prototype.drawUIElementBounds = function(t) {
				for (var e = null, i = 0; i < this.game.prodigy.open.renderMenus.length; i++)(e = this.game.prodigy.open.renderMenus[i]).debugDrawUIElementBounds(t && e.visible)
			}, e.prototype.openUIViewer = function() {
				this.game.prodigy.open.uiViewer()
			}, e.prototype.showAllBounties = function(t) {
				this.game.prodigy.world.getZone(t).debugBounties = !0
			}, e.prototype.getCubes = function(t) {
				for (var e = 0; e < t; e++) this.game.prodigy.giftBoxController.receiveGiftBox(null, I.Items.getItem("giftBox", 1))
			}, e.prototype.openCubes = function() {
				this.game.prodigy.giftBoxController.giftBoxesToOpen.length > 0 && this.game.prodigy.open.conjureCube(null)
			}, e.prototype.setLevel = function(t, e) {
				void 0 === e && (e = !1), this.game.prodigy.player.data.level = 1, this.game.prodigy.player.data.stars = 0;
				for (var i = 1; i < t; i++) {
					var n = this.game.prodigy.player.getStarsToLevel();
					e && i === t - 1 && (n -= 10), this.game.prodigy.player.addStars(n)
				}
			}, e.prototype.skipBonusChance = function() {
				E.EpicBoostMenu.SKIP_BONUS_CHANCE = !0
			}, e.prototype.enableDynamicLayer = function(t, e, i) {
				this.game.broadcaster.broadcast(v.EMapEvents.EnableDynamicLayer, null, [this.game, t, e, i])
			}, e.prototype.setFeedLimit = function(t) {
				g.GameConstants.setFeedLimit(t)
			}, e.prototype.setGameSpeed = function(t) {
				if (g.GameConstants.setGameSpeed(t), !G.Util.isValid(e.TWEEN_FUNCTIONS_OVERRIDDEN) || !e.TWEEN_FUNCTIONS_OVERRIDDEN) {
					var i = Phaser.TweenManager.prototype.add;
					Phaser.TweenManager.prototype.add = function(t) {
						return t.timeScale = g.GameConstants.get("GameConstants.Debug.GAME_SPEED"), i.call(this, t)
					};
					var n = Phaser.Timer.prototype.add;
					Phaser.Timer.prototype.add = function(t, e, i) {
						for (var a = [], o = 3; o < arguments.length; o++) a[o - 3] = arguments[o];
						return n.call(this, t / g.GameConstants.get("GameConstants.Debug.GAME_SPEED"), e, i)
					};
					var a = Phaser.Tween.prototype.delay;
					Phaser.Tween.prototype.delay = function(t, e) {
						return a.call(this, t / g.GameConstants.get("GameConstants.Debug.GAME_SPEED"), e)
					}, e.TWEEN_FUNCTIONS_OVERRIDDEN = !0
				}
				for (var o = this.game.tweens.getAll(), r = 0; r < o.length; r++) o[r].timeScale = t
			}, e.prototype.startBattle = function(t, e, i) {
				var n = this;
				void 0 === t && (t = 1), void 0 === e && (e = 5), void 0 === i && (i = "singleImage-5");
				(function(t, e, i, a) {
					n.game.prodigy.world.teleport(e, i, a)
				}).bind(this, this.game, this.game.prodigy.world.currentZone, this.game.prodigy.user.x, this.game.prodigy.user.y);
				var a = [];
				if (t instanceof Array)
					for (var o = 0; o < t.length; ++o) a.push({
						ID: t[o]
					});
				else a.push({
					ID: t
				});
				this.game.prodigy.battle.start({
					pets: a,
					level: e,
					screen: i
				}, function() {
					n.game.prodigy.world.teleport("")
				}, function() {
					n.game.prodigy.world.teleport("")
				}, function() {
					n.game.prodigy.world.teleport("")
				})
			}, e.prototype.automateHatSwitching = function(t) {
				var e = this;
				this.hatSwitchEvent && this.game.time.events.remove(this.hatSwitchEvent);
				var i = function(n) {
					I.Items.getItem("hat", n).data ? (e.game.prodigy.player.equipment.setHat(n), e.hatSwitchEvent = e.game.time.events.add(t, function() {
						i(n + 1)
					})) : e.game.prodigy.player.equipment.setHat(0), e.game.prodigy.user.reload()
				};
				i(1)
			}, e.prototype.setNextEpicArenaRound = function(t) {
				var e = this.game.state.states.Battle;
				"Battle" === this.game.state.current && G.Util.isValid(e.mods.epicArena) ? e.mods.epicArena = t - 1 : o.Logger.log("Not in epic arena!", o.LogLevel.Verbose)
			}, e.prototype.enableVerboseLocalization = function(t) {
				var e = this.game.prodigy.gameContainer;
				e.unbind(o.GameIdentifiers.LocalizationService), t ? e.bind(o.GameIdentifiers.LocalizationService).to(o.VerboseLocalizer).inSingletonScope() : e.bind(o.GameIdentifiers.LocalizationService).to(o.Localizer).inSingletonScope(), e.get(o.GameIdentifiers.LocalizationService).setDataSource(new o.LocalLanguageDataCollection(i(149)))
			}, e.prototype.enableDebugLocalization = function(t, e) {
				void 0 === e && (e = "*");
				var n = this.game.prodigy.gameContainer;
				n.unbind(o.GameIdentifiers.LocalizationService), t ? n.bind(o.GameIdentifiers.LocalizationService).to(o.DebugLocalizer).inSingletonScope() : n.bind(o.GameIdentifiers.LocalizationService).to(o.Localizer).inSingletonScope(), this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).setDataSource(new o.LocalLanguageDataCollection(i(149)))
			}, e.prototype.stressTestParticles = function(t, i) {
				this.stressTestPlayerContainers(e.PARTICLE_STRESS_TEST_COMMON.users, i), this.clearEmitters();
				var n = t.particle;
				n.image = e.PARTICLE_STRESS_TEST_COMMON.image, n.frame = e.PARTICLE_STRESS_TEST_COMMON.frame;
				var a = t.emitter;
				a.repeat = e.PARTICLE_STRESS_TEST_COMMON.emitterRepeat;
				var o = this.game.particleStorm,
					r = null;
				o.clearData("basic"), o.addData("basic", n);
				for (var s = 0; s < this.stressTests.playerContainers.length; s++)(r = o.createEmitter(Phaser.ParticleStorm.SPRITE_BATCH, G.Util.isValid(a.force) ? a.force : new Phaser.Point(0, 0))).addToWorld(this.stressTests.playerContainers[s]), r.emit("basic", 50, -100, {
					repeat: a.repeat,
					frequency: a.frequency
				}), this.stressTests.emitters.push(r)
			}, e.prototype.stressTestPlayerContainers = function(t, e) {
				void 0 === e && (e = !0);
				for (var i = this.stressTests.playerContainers, n = 0; n < i.length; n++) i[n].destroy();
				for (var a = this.game.add.group(this.game.broadcaster.broadcast(v.EScreenEvents.GetLayer, this.game, ["content"])), o = t; o-- > 0;) {
					var r = new C.Player(this.game);
					e ? r.createRandom() : (r.appearance = new S.PlayerAppearance(this.game.prodigy.gameContainer.get(d.EProdigyInjectionIdentifiers.PlayerService)), r.appearance.init({
						name: {
							first: 1,
							middle: 1,
							last: 1,
							nick: 0,
							version: 1
						},
						gender: "male",
						hair: {
							style: 0,
							color: 1
						},
						skinColor: 1,
						eyeColor: 1,
						face: 4
					}));
					var s = o % 16 * 80 + 40,
						l = 100 * Math.floor(o / 16) + 100,
						c = this.game.prodigy.create.player(a, r, 1, s, l);
					c.reload(c.walk.bind(c)), this.stressTests.playerContainers.push(c)
				}
			}, e.prototype.snow = function() {
				this.clearEmitters(), this.dynamicSnow("SMALL_SNOW"), this.dynamicSnow("BIG_SNOW")
			}, e.prototype.dynamicSnow = function(t) {
				var i = this.game.particleStorm,
					n = i.createEmitter(Phaser.ParticleStorm.SPRITE_BATCH),
					a = l(e.PARTICLE_STRESS_TEST_DATA[t].emitter);
				a.zone = i.createLineZone(-200, 0, 1280, 0), i.clearData(t), i.addData(t, e.PARTICLE_STRESS_TEST_DATA[t].particle), n.addToWorld(), n.emit(t, 0, 0, a), this.stressTests.emitters.push(n)
			}, e.prototype.clearEmitters = function() {
				for (var t = this.stressTests.emitters, e = null, i = 0; i < t.length; i++)(e = t[i]).paused = !0, this.game.particleStorm.removeEmitter(e), e.destroy()
			}, e.prototype.enableParticles = function(t) {
				for (var e = this.stressTests.emitters, i = 0; i < e.length; i++) e[i].paused = !t
			}, e.prototype.spawnBuddyParticle = function(t, e, i, n, a) {
				void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === a && (a = !0);
				var o = this.game.prodigy.user;
				G.Util.isValid(o.follow) && (o.follow.destroy(), o.follow = null);
				var r = this.game.broadcaster.broadcast(v.EScreenEvents.GetLayer, this.game, ["content"]);
				this.game.particleStorm.clearData(String(g.GameConstants.MAX_SAFE_INTEGER)), I.Items.itemMap["particleEffect-" + g.GameConstants.MAX_SAFE_INTEGER] = {
					data: e
				}, I.Items.itemMap["follow-" + t].data.particleEffects = [{
					ID: g.GameConstants.MAX_SAFE_INTEGER,
					x: i,
					y: n,
					inFront: a
				}];
				var s = this.game.prodigy.create.follow(r, t, 1, o, null);
				s instanceof f.CreatureContainer && s.reload(), o.follow = s
			}, e.prototype.unlockColiseumOpponent = function(t) {
				var e = 5 * t,
					i = T.Creature.starsToLevel(e - 1),
					n = G.Util.isValid(this.game.prodigy.player.data.stars) ? this.game.prodigy.player.data.stars : 0;
				i > n && this.game.prodigy.player.addStars(i - n), t > this.game.prodigy.player.getColiseum() && (this.game.prodigy.player.setColiseum(t), this.game.prodigy.player.updated = !0)
			}, e.prototype.lockColiseumOpponent = function(t) {
				t < this.game.prodigy.player.getColiseum() && (this.game.prodigy.player.setColiseum(t), this.game.prodigy.player.updated = !0)
			}, e.prototype.setMyArenaLeaderboardScore = function(t, e) {}, e.prototype.setClassLeaderboardScore = function(t, e) {
				var i = this.updateLeaderboardData(y.ClassLeadersPanel, t, "level", e);
				G.Util.isValid(i) && i.setPage(i.page)
			}, e.prototype.updateLeaderboardData = function(t, e, i, n) {
				var a = this.game.broadcaster.broadcast(v.EDebugEvents.GetUIElement, this.game, [t]);
				if (G.Util.isValid(a)) {
					a.leaders[e - 1].data[i] = n, a.leaders.sort(function(t, e) {
						return t.data[i] === e.data[i] ? 0 : t.data[i] < e.data[i] ? 1 : -1
					});
					for (var o = 0; o < a.leaders.length; ++o) a.leaders[o].place = o + 1
				}
				return a
			}, e.prototype.setCustomBounty = function(t, e) {
				if (t > -1 && t < 3 && (this.bountyOverrides[t] = e, G.Util.isValid(e.preName) && "string" == typeof e.preName && (e.preName = this.game.prodigy.bounty.preName.indexOf(e.preName)), G.Util.isValid(e.postName) && "string" == typeof e.postName && (e.postName = this.game.prodigy.bounty.postName.indexOf(e.postName)), G.Util.isValid(e.title) && "string" == typeof e.title && (e.title = this.game.prodigy.bounty.titleName.indexOf(e.title)), G.Util.isValid(e.monster) && (G.Util.isValid(e.zone) ? e.monster = this.game.prodigy.world.zones[e.zone].monsters.indexOf(e.monster) : delete e.monster), G.Util.isValid(e.map) && (G.Util.isValid(e.zone) || delete e.map), G.Util.isValid(e.reward) && (e.reward = this.game.prodigy.bounty.reward.indexOf(e.reward)), G.Util.isValid(e.location)))
					if (G.Util.isValid(e.zone) && G.Util.isValid(e.map)) {
						var i = this.game.prodigy.world.zones[e.zone].maps[e.map];
						e.location >= i.coord.length && delete e.location
					} else delete e.location
			}, e.prototype.clearCustomBounty = function(t) {
				delete this.bountyOverrides[t]
			}, e.prototype.resetRegisterDate = function() {
				this.game.prodigy.player.registerDate = new Date(0)
			}, e.prototype.setCritChance = function(t) {
				void 0 === t && (t = null);
				var e = t;
				e > 1 && (e = 1), g.GameConstants.setCrit(e)
			}, e.prototype.setNFactor = function(t, e) {
				void 0 === e && (e = 2), t ? g.GameConstants.setNFactor(e) : g.GameConstants.setNFactor(null)
			}, e.prototype.completeMatchmakingBattle = function(t) {
				void 0 === t && (t = u.EPVPEndMode.Win), new p.PVPManager(this.game).showResults(t)
			}, e.prototype.startPointsTicker = function(t, e, i) {
				void 0 === t && (t = u.EPVPEndMode.Win), void 0 === e && (e = 0), void 0 === i && (i = 0), new p.PVPManager(this.game).startPointsTicker(t, e, i)
			}, e.prototype.resetUserRank = function() {
				g.GameConstants.overrideUserRank(null), g.GameConstants.overrideUserPoints(null)
			}, e.prototype.setUserRank = function(t, e, i, n) {
				g.GameConstants.overrideUserRank({
					points: t,
					rank: e,
					toNextRank: i,
					toBaseRank: n
				}), g.GameConstants.overrideUserPoints(t)
			}, e.prototype.showInactivityDialog = function(t) {
				g.GameConstants.enableGameConstant(g.GameConstants.Inactivity.LOG_OUT_TIMER_SECONDS, t), this.game.prodigy.network.showInactiveDialog()
			}, e.prototype.setBootOutTimersInSeconds = function(t, e) {
				g.GameConstants.enableGameConstant(g.GameConstants.Inactivity.NETWORK_BOOT_TIMER_SECONDS, e), g.GameConstants.enableGameConstant(g.GameConstants.Inactivity.CANNOT_CONNECT_TIMER_SECONDS, t)
			}, e.prototype.parade = function(t, e, i, n) {
				var a = this;
				void 0 === t && (t = 5e3), void 0 === e && (e = 1e3), void 0 === i && (i = 0), void 0 === n && (n = 0);
				for (var o = I.Items.data.pet, r = this.game.broadcaster.broadcast(v.EScreenEvents.GetLayer, this.game, ["content"]), s = Math.max(0, i), l = G.Util.isValid(n) ? o.length : Math.min(o.length, n), c = function(e) {
						if (G.Util.isValid(o[e])) {
							var i = o[e].ID,
								n = a.game.prodigy.create.monster(r, new A.Monster(a.game, {
									ID: o[e].ID
								}), [130, 131, 132, 133].indexOf(i) >= 0 ? 1 : 2, -200, 360);
							n.loadedCallback = function(e) {
								G.Util.isValid(e.battleScale) ? (e.scale.x = .5, e.scale.y = .5) : (e.sprites.scale.x = e.battleScale, e.sprites.scale.y = e.battleScale), a.game.add.tween(e).to({
									x: 1600
								}, t, Phaser.Easing.Linear.None, !0).onComplete.add(e.destroy.bind(e)), e.showName(e.source.data.ID + " " + e.source.source.name), e.walk()
							}.bind(a), n.startLoad()
						}
					}, h = s; h <= l; h++) setTimeout(c.bind(this, h), e * (h - s))
			}, e.prototype.transform = function(t, e, i, n) {
				"player" === e ? this.game.prodigy.user.resetItemTransformation(i) : this.game.prodigy.user.transformToItem(t, e, i, n)
			}, e.prototype.timerMenu = function(t, e) {
				for (var i, n, a, o = this.game.state.states.TileScreen, r = 0; r < e; r++) {
					n = 100 * (i = r % 12) + 90, a = 100 * ((r - i) / 12) + 70, this.game.prodigy.create.countdownTimer(o.above, n, a, {
						maxTime: t,
						timeDelta: 15e3
					}, null).autoUpdateTimer(!0)
				}
			}, e.prototype.generateRandomPlayers = function(t, e) {
				if (G.Util.isValid(this.generatedRandomPlayers))
					for (var i = 0; i < this.generatedRandomPlayers.length; i++) this.generatedRandomPlayers[i].destroy();
				this.generatedRandomPlayers = [];
				var n, a, o, r = this.game.state.states.TileScreen;
				for (i = 0; i < t; i++) {
					e ? (a = 1280 * Math.random(), o = 720 * Math.random()) : (a = 100 * (n = i % 12) + 90, o = 100 * ((i - n) / 12) + 70);
					var s = new C.Player(this.game),
						l = this.game.prodigy.create.player(r.content, s, 1, a, o);
					l.randomSetup(), l.reload(), this.generatedRandomPlayers.push(l)
				}
			}, e.prototype.transformGeneratedPlayers = function(t, e, i) {
				var n = !G.Util.isValid(t);
				if (G.Util.isValid(this.generatedRandomPlayers))
					for (var a = 0; a < this.generatedRandomPlayers.length; a++) {
						var o = t,
							r = e,
							s = i;
						if (n) {
							var l = Math.floor(6 * Math.random()) + 117,
								c = I.Items.getItem("item", l).data;
							o = c.effect.transform, r = c.effect.ID, s = c.effect.time
						}
						this.generatedRandomPlayers[a].transformToItem(o, r, !0, s)
					}
			}, e.prototype.resetMembershipReward = function(t) {
				delete this.game.prodigy.player.data.reward, this.game.prodigy.player.backpack.data.mount = [], this.game.prodigy.player.memberPrompt = !1, this.game.prodigy.player.updated = !0, this.game.prodigy.player.backpack.updated = !0, t && (o.Logger.log("Logging out in 5 seconds...", o.LogLevel.Verbose), setTimeout(this.game.prodigy.network.logout.bind(this.game.prodigy.network), 5e3))
			}, e.prototype.escapeBattle = function() {
				this.game.state.callbackContext.runAwayCallback()
			}, e.prototype.getWheelResult = function(t, e, i) {
				var n = B.Random.weightedArrayElement(t).item,
					a = n.type,
					o = I.Items.getItem(n.type, n.ID);
				if (G.Util.isValid(e[a]) || (e[a] = {}), "currency" === a) G.Util.isValid(e[a][o.ID]) || (e[a][o.ID] = 0), e[a][o.ID]++;
				else if (G.Util.isValid(o.data)) {
					var r = "rarity-" + o.data.rarity,
						s = "id-" + o.ID;
					G.Util.isValid(e[a][r]) || (e[a][r] = {}, e[a][r].total = 0), !G.Util.isValid(e[a][r][s]) && i && (e[a][r][s] = 0), e[a][r].total++, i && e[a][r][s]++
				} else G.Util.isValid(e[a].total) || (e[a].total = 0), e[a].total++
			}, e.prototype.getSplitTestLane = function(t, e, i) {
				void 0 === i && (i = G.SplitTestType.UserID);
				var n = this.game.prodigy.player,
					a = null;
				switch (i) {
					case G.SplitTestType.UserID:
						a = n.userID;
						break;
					case G.SplitTestType.ClassID:
						a = G.Util.getLatestClassID(n.owners, n.playerTeachers, n.playerParents);
						break;
					case G.SplitTestType.Grade:
						a = n.grade;
						break;
					default:
						return o.Logger.log("Invalid type " + i, o.LogLevel.Error), -1
				}
				var r = Math.floor(a / t % e);
				return o.Logger.log("Lane " + r, o.LogLevel.Verbose), r
			}, e.prototype.getSplitTestGroup = function(t, e, i) {
				switch (void 0 === i && (i = G.SplitTestType.UserID), this.getSplitTestLane(t, e, i)) {
					case 0:
					case 1:
						o.Logger.log("CONTROL", o.LogLevel.Verbose);
						break;
					case 2:
					case 3:
						o.Logger.log("Group 1", o.LogLevel.Verbose);
						break;
					case 4:
					case 5:
						o.Logger.log("Group 2", o.LogLevel.Verbose);
						break;
					case 6:
					case 7:
						o.Logger.log("Group 3", o.LogLevel.Verbose);
						break;
					case 8:
					case 9:
						o.Logger.log("Group 4", o.LogLevel.Verbose)
				}
			}, e.prototype.setUnlimitedWheelSpins = function(t) {
				g.GameConstants.setUnlimitedWheelSpins(t)
			}, e.prototype.setWheelSpinDuration = function(t) {
				g.GameConstants.setWheelSpinDuration(t)
			}, e.prototype.maintainAspectRatio = function(t) {
				void 0 === t && (t = !0), g.GameConstants.setMaintainAspectRatio(t), this.game.scale.scaleMode = g.GameConstants.get("GameConstants.Build.SCALE_MODE"), this.game.scale.refresh()
			}, e.prototype.logChatPhrases = function() {
				for (var t = this.game.prodigy.chat.getPhrases(), e = 0; e < t.length; e++) o.Logger.log(t[e], o.LogLevel.Verbose)
			}, e.prototype.setCharacterCreationDate = function(t, e, i, n, a) {
				void 0 === n && (n = 0), void 0 === a && (a = 0), g.GameConstants.setCharacterCreationDate(t, e, i, n, a)
			}, e.prototype.setStoreCacheExpirationTime = function(t) {
				this.game.prodigy.gameContainer.get(a.EInjectionIdentifiers.CacheExpirationStrategy).setExpiryTimeInSeconds(t)
			}, e.prototype.clearStoreCache = function() {
				this.game.prodigy.gameContainer.get(d.EProdigyInjectionIdentifiers.StoreService).invalidateCache()
			}, e.prototype.enableSkynet = function(t, e) {
				this.addPlayerTimer = this.game.time.events.repeat(1e3 * t, e, this.createFakePlayer, this, this.game), this.updatePlayerTimer = this.game.time.events.loop(3e3, this.updatePlayers, this, this.game)
			}, e.prototype.disableSkynet = function() {
				for (var t in this.game.time.events.remove(this.addPlayerTimer), this.game.time.events.remove(this.updatePlayerTimer), this.fakePlayers) this.game.state.states.TileScreen.removePlayer(parseInt(t));
				this.fakePlayers = {}
			}, e.prototype.addFakePlayers = function(t) {
				for (var e = [], i = 0; i < t; i++) {
					var n = this.createFakePlayer(!1);
					e[i] = n
				}
				this.game.state.states.TileScreen.onPlayerList(e), this.updatePlayerTimer = this.game.time.events.loop(50, this.updatePlayers, this, this.game)
			}, e.prototype.createFakePlayer = function(t) {
				void 0 === t && (t = !0);
				for (var e = c(1e6, 1e9); void 0 !== this.fakePlayers[e];) e = c(1e6, 1e9);
				var i = c(1, !0) >= .5 ? "male" : "female",
					n = {
						userID: e,
						target: {
							x: -1,
							y: -1
						},
						appearance: {
							name: {
								first: h(I.Items.getItemsWithFilter("name", function(t) {
									return 0 === t.data.type
								})).ID,
								middle: h(I.Items.getItemsWithFilter("name", function(t) {
									return 1 === t.data.type
								})).ID,
								last: h(I.Items.getItemsWithFilter("name", function(t) {
									return 2 === t.data.type
								})).ID,
								nick: 0,
								version: 1
							},
							gender: i,
							hair: {
								style: h(I.Items.data.hair).ID,
								color: h(I.Items.data.hairColor).ID
							},
							skinColor: h(I.Items.data.skinColor).ID,
							eyeColor: h(I.Items.data.eyeColor).ID,
							face: h(I.Items.data.face).ID
						},
						isMember: c(1, !0) >= .5 ? 1 : 0,
						equipment: {
							hat: h(I.Items.data.hat).ID,
							weapon: h(I.Items.data.weapon).ID
						},
						data: {
							level: c(1, 100),
							gold: c(0, 1e4),
							stars: c(0, 3e3),
							hp: c(0, 300),
							allowsHouseVisitors: !1,
							versionID: 15,
							nm: 1
						}
					};
				return this.fakePlayers[e] = n, t ? this.game.state.states.TileScreen.addPlayer(n) : this.game.state.states.TileScreen.setFakePlayer(n), e
			}, e.prototype.updatePlayers = function() {
				for (var t in this.fakePlayers)(-1 === this.fakePlayers[t].target.x || c(1, !0) > .5) && (this.fakePlayers[t].target = {
					x: c(5, 55),
					y: c(5, 30)
				}, this.game.state.states.TileScreen.movePlayer(this.fakePlayers[t]))
			}, e.prototype.setMemberStarsTimeout = function() {
				var t = new m.MemberStarController(this.game);
				return this.game.prodigy.player.data.memberStarsExpirationDate = t.getNextExpirationDate().getTime(), o.Logger.log("I set the member star jar timeout to: " + this.game.prodigy.player.data.memberStarsExpirationDate, o.LogLevel.Verbose), this.getMemberStarsTimeout()
			}, e.prototype.getMemberStarsTimeout = function() {
				return new Date(this.game.prodigy.player.data.memberStarsExpirationDate)
			}, e.prototype.createNotification = function(t, e, i) {
				void 0 === i && (i = {}), this.game.prodigy.notifications.initNotificationTemplate(t, e, i)
			}, e.prototype.startSessionCamRecording = function(t, e) {
				t.prodigy.gameContainer.get(d.EProdigyInjectionIdentifiers.SessionRecorder).startRecording(e)
			}, e.prototype.stopSessionCamRecording = function(t, e) {
				t.prodigy.gameContainer.get(d.EProdigyInjectionIdentifiers.SessionRecorder).stopRecording()
			}, e.prototype.editUiJson = function(t) {
				new R.LiveUIPreview(this.game, this.game.world, t)
			}, e.prototype.editFsmJSON = function(t) {
				new N.LiveFSMEditor(this.game, t)
			}, e.prototype.setMonsterRadiusVisible = function(t) {
				g.GameConstants.setMonsterRadiusVisible(t)
			}, e.prototype.restartTutorial = function() {
				this.game.prodigy.player.resetAccount(), this.tp("house")
			}, e.prototype.alwaysSwitch = function(t) {
				g.GameConstants.enableGameConstant(g.GameConstants.Battle.ALWAYS_SWITCH, t)
			}, e.prototype.alwaysCast = function(t, e) {
				g.GameConstants.setAlwaysCast(t ? e : -1)
			}, e.prototype.fixPetStars = function() {
				for (var t = 0; t < this.game.prodigy.player.kennel.data.length; t++) this.game.prodigy.player.kennel.data[t].stars = w.StarConverter.convertLegacyStarsToModern(this.game.prodigy.player.kennel.data[t].stars);
				this.game.prodigy.player.kennel.updated = !0, this.game.prodigy.player.updated = !0
			}, e.prototype.setBattleEnergy = function(t, e) {
				if ("Battle" === this.game.state.current) {
					var i = this.game.state.states.Battle;
					(!G.Util.isValid(e) || e ? i.teams[0] : i.teams[1]).setEnergy(t)
				} else o.Logger.log("This command only works during battle", o.LogLevel.Verbose)
			}, e.prototype.setBattleHealth = function(t, e, i) {
				if ("Battle" === this.game.state.current) {
					var n = this.game.state.states.Battle,
						a = !G.Util.isValid(i) || i ? n.teams[0] : n.teams[1];
					if (t < a.team.length) {
						var r = a.team[t].getSource(),
							s = e - r.getCurrentHearts();
						r.changeCurrentHearts(s)
					} else o.Logger.log("Tried to set health for team member " + t + ", but the team size is " + a.team.length + ".  No health added.", o.LogLevel.Verbose)
				} else o.Logger.log("This command only works during battle", o.LogLevel.Verbose)
			}, e.prototype.setEnemySpells = function(t, e) {
				if ("Battle" === this.game.state.current) {
					var i = this.game.state.states.Battle.teams[1];
					if (t < i.team.length) {
						var n = i.team[t].getSource();
						G.Util.isValid(e.foreign1) && (n.data.foreignSpells[0] = e.foreign1), G.Util.isValid(e.foreign2) && (n.data.foreignSpells[0] = e.foreign2)
					} else o.Logger.log("team member #" + t + " out of bounds. No spells set.", o.LogLevel.Verbose)
				} else o.Logger.log("This command only works during battle", o.LogLevel.Verbose)
			}, e.prototype.syncLevelToStars = function() {
				for (var t = 0; t < this.game.prodigy.player.kennel.data.length; t++) this.game.prodigy.player.kennel.data[t].level = T.Creature.levelFromStars(this.game.prodigy.player.kennel.data[t].stars);
				this.game.prodigy.player.data.level = T.Creature.levelFromStars(this.game.prodigy.player.getStars()), this.game.prodigy.player.kennel.updated = !0, this.game.prodigy.player.updated = !0
			}, e.prototype.createDungeons = function(t, e, n, a, o) {
				void 0 === a && (a = !0), void 0 === o && (o = "ArchivesConfig.json");
				var r = i(608)("./" + o);
				G.Util.isValid(n) && (r.seed = n);
				for (var s = new U.DungeonGenerator(r, new k.ProdigyRandomDataGenerator([0])), l = 0; l < e; l++) {
					var c = s.createLayout();
					a && U.DungeonGenerator.openDebugMap(c)
				}
			}, e.prototype.tpArchives = function(t, e) {
				void 0 === e && (e = "m5");
				var n = i(151),
					a = t.prodigy.world.zones.archives;
				a.collectedItems = null;
				var o = {
					x: 3,
					y: 3,
					tilemap: e,
					initFsm: null,
					connections: [],
					components: []
				};
				if (o.connections = [{
						direction: 0,
						map: o
					}, {
						direction: 1,
						map: o
					}, {
						direction: 2,
						map: o
					}, {
						direction: 3,
						map: o
					}], "m" === e[0] && (o.components.push({
						type: "monster",
						id: r(n.monsterIDs)[0]
					}), o.components.push({
						type: "currency",
						id: 18,
						quantity: 1
					})), o.components.push({
						type: "currency",
						id: 19,
						quantity: 2
					}), "end" === o.tilemap) o.initFsm = n.endRoom.fsm;
				else {
					for (var s = 0; s < n.monsterRooms.length; s++)
						if (n.monsterRooms[s].tilemap === e) {
							o.initFsm = n.monsterRooms[s].fsm;
							break
						} if (!G.Util.isValid(o.initFsm))
						for (var l = 0; l < n.normalRooms.length; l++)
							if (n.normalRooms[l].tilemap === e) {
								o.initFsm = n.normalRooms[l].fsm;
								break
							}
				}
				a.teleportInDungeon(o, 640, 280)
			}, e.prototype.openArchivesMap = function(t) {
				var e = t.prodigy.world.zones.archives;
				U.DungeonGenerator.openDebugMap(e.dungeonLayout)
			}, e.prototype.printMousePositionOnClick = function(t) {
				t.input.onUp.add(function() {
					o.Logger.log(JSON.stringify(t.input.mousePointer.position), o.LogLevel.Verbose)
				})
			}, e.prototype.goToArchivesEnd = function(t) {
				t.prodigy.world.zones.archives.goToEnd()
			}, e.prototype.resetArchiveRuns = function(t, e) {
				void 0 === e && (e = !1), e ? delete t.prodigy.player.data.lastArchiveRun : t.prodigy.player.data.lastArchiveRun = 0, t.prodigy.player.updated = !0
			}, e.prototype.enterArchives = function(t, e) {
				var i = t.prodigy.world.zones.archives;
				i.enterDungeon(e), U.DungeonGenerator.openDebugMap(i.dungeonLayout)
			}, e.prototype.spinPrizeWheel = function(t, e, i, n) {
				for (var a = {}, r = 0; r < i; r++) {
					var s = new Date,
						l = new Date(s.getUTCFullYear(), s.getUTCMonth(), s.getUTCDay() + r).getTime(),
						c = L.Wheel.getWheelItems(t, e, l);
					this.getWheelResult(c, a, n)
				}
				o.Logger.log(JSON.stringify(a), o.LogLevel.Verbose)
			}, e.prototype.setClassSelect = function(t) {
				this.game.prodigy.player.overrideClassSelect = t
			}, e.prototype.enableFSMLogging = function(t) {
				this.game.prodigy.gameContainer.unbind(o.GameIdentifiers.IFSMController), t ? this.game.prodigy.gameContainer.bind(o.GameIdentifiers.IFSMController).to(o.LogFSMController).inSingletonScope() : this.game.prodigy.gameContainer.bind(o.GameIdentifiers.IFSMController).to(o.FSMController).inSingletonScope()
			}, e.prototype.setFPS = function(t) {
				this.game.time.desiredFps = Phaser.Math.clamp(t, 1, 60)
			}, e.ROULETTE = -1, e.TWEEN_FUNCTIONS_OVERRIDDEN = !1, e.PARTICLE_STRESS_TEST_COMMON = {
				users: 50,
				image: "atlas-160",
				frame: "particle",
				emitterRepeat: -1
			}, e.PARTICLE_STRESS_TEST_DATA = {
				SMALL_SNOW: {
					particle: {
						image: "atlas-10",
						frame: "42-16",
						lifespan: 8e3,
						vy: {
							min: 2,
							max: 2
						},
						vx: {
							min: .5,
							max: 1
						},
						rotation: {
							value: 0,
							delta: {
								min: -2,
								max: 2
							}
						}
					},
					emitter: {
						repeat: -1,
						frequency: 50
					}
				},
				BIG_SNOW: {
					particle: {
						image: "atlas-10",
						frame: "42-30",
						lifespan: 5e3,
						vy: {
							min: 3,
							max: 3
						},
						vx: {
							min: .25,
							max: .75
						},
						rotation: {
							value: 0,
							delta: {
								min: -3,
								max: 3
							}
						}
					},
					emitter: {
						repeat: -1,
						frequency: 150
					}
				},
				LOW_LIFESPAN_ALL_OFF: {
					particle: {
						lifespan: 1e3,
						vx: {
							min: -1,
							max: 1
						},
						vy: {
							min: -1,
							max: 1
						}
					},
					emitter: {
						frequency: 50
					}
				},
				MED_LIFESPAN_ALL_OFF: {
					particle: {
						lifespan: 2e3,
						vx: {
							min: -1,
							max: 1
						},
						vy: {
							min: -1,
							max: 1
						}
					},
					emitter: {
						frequency: 50
					}
				},
				HIGH_LIFESPAN_ALL_OFF: {
					particle: {
						lifespan: 4e3,
						vx: {
							min: -1,
							max: 1
						},
						vy: {
							min: -1,
							max: 1
						}
					},
					emitter: {
						frequency: 50
					}
				},
				MED_FREQUENCY_ALL_OFF: {
					particle: {
						lifespan: 1e3,
						vx: {
							min: -1,
							max: 1
						},
						vy: {
							min: -1,
							max: 1
						}
					},
					emitter: {
						frequency: 100
					}
				},
				HIGH_FREQUENCY_ALL_OFF: {
					particle: {
						lifespan: 1e3,
						vx: {
							min: -1,
							max: 1
						},
						vy: {
							min: -1,
							max: 1
						}
					},
					emitter: {
						frequency: 500
					}
				},
				SCALE_ONLY: {
					particle: {
						lifespan: 1e3,
						vx: {
							min: -1,
							max: 1
						},
						vy: {
							min: -1,
							max: 1
						},
						scale: {
							min: .8,
							max: 1.3
						}
					},
					emitter: {
						frequency: 50
					}
				},
				SCALE_INTERPOLATE_ONLY: {
					particle: {
						lifespan: 1e3,
						vx: {
							min: -1,
							max: 1
						},
						vy: {
							min: -1,
							max: 1
						},
						scale: {
							value: 2,
							control: Phaser.ParticleStorm.Graph.CONTROL_LINEAR
						}
					},
					emitter: {
						frequency: 50
					}
				},
				ROTATION_ONLY: {
					particle: {
						lifespan: 1e3,
						vx: {
							min: -1,
							max: 1
						},
						vy: {
							min: -1,
							max: 1
						},
						rotation: {
							initial: 0,
							value: 360
						}
					},
					emitter: {
						frequency: 50
					}
				},
				FORCE_ONLY: {
					particle: {
						lifespan: 1e3,
						vx: {
							min: -1,
							max: 1
						},
						vy: {
							min: -1,
							max: 1
						}
					},
					emitter: {
						frequency: 50,
						force: new Phaser.Point(1, 0)
					}
				},
				ALPHA_ON_ONLY: {
					particle: {
						lifespan: 1e3,
						vx: {
							min: -1,
							max: 1
						},
						vy: {
							min: -1,
							max: 1
						},
						alpha: {
							min: .2,
							max: .8
						}
					},
					emitter: {
						frequency: 50
					}
				},
				ALPHA_INTERPOLATE_ONLY: {
					particle: {
						lifespan: 1e3,
						vx: {
							min: -1,
							max: 1
						},
						vy: {
							min: -1,
							max: 1
						},
						alpha: {
							value: 1,
							control: Phaser.ParticleStorm.Graph.CONTROL_LINEAR
						}
					},
					emitter: {
						frequency: 50
					}
				}
			}, e
		}(M.Debug);
	e.DebugMisc = V
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || Object.assign || function(t) {
			for (var e, i = 1, n = arguments.length; i < n; i++)
				for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
			return t
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = i(11),
		s = i(4),
		l = i(98),
		c = i(3),
		h = i(5),
		u = i(2),
		p = i(16),
		d = i(0),
		g = i(20),
		f = i(10),
		y = i(242),
		m = i(649),
		_ = function(t) {
			function e(e, i, n, a, o, r, s) {
				var l = t.call(this, e, i, n, a, o, r, s) || this;
				return l.floor = void 0, l.cleared = !1, l.ball = null, l.mods = null, l
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				var o = this.floor % 5 == 0;
				return this.enableLayerID(0, o), this.enableLayerID(1, !o), this.enableLayerID(2, o && !this.cleared), this.enableLayerID(3, !o && !this.cleared), this.enableLayerID(4, o && this.cleared), this.enableLayerID(5, !o && this.cleared), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.cleanup = function() {
				this.stopListeners(), t.prototype.cleanup.call(this)
			}, e.prototype.setup = function(e, i, n) {
				var r = this;
				void 0 === n && (n = {}), t.prototype.setup.call(this, e, i, n), this.initListeners(), this.zone.bgmID = 4, i.menuBar.open(0, !1);
				var h = this.isOnTopFloorAndNotComplete();
				if (this.cleared) {
					for (var u = !1, p = 0; p < y.DarktowerZone.REWARDS.length; p++) {
						var d = y.DarktowerZone.REWARDS[p];
						if (d.floor === this.floor) {
							for (var g = this.game.prodigy.dialogue.create(), f = 0; f < d.text.length; f++) g.setText(a({}, d.text[f], {
								text: e.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText(d.text[f].textKey)
							}));
							100 === this.floor && (h = !1), g.setText({
								callback: this.game.prodigy.open.gotItem.bind(this.game.prodigy.open, d.reward, function() {
									r.onFloorComplete()
								}, null, "dark-tower")
							}), g.start("mira"), u = !0
						}
					}
					u || this.onFloorComplete(), this.floor < 100 && this.addAreaEvent(e, i, {
						x: 900,
						y: 200,
						w: 120,
						h: 80
					}, null, null, null, function() {
						r.toFloor(r.floor + 1)
					}, c.EAreaEventAngle.UP)
				} else if (this.floor < 100) {
					this.ball = this.game.prodigy.create.sprite(640, 360, "atlas-124", "orb"), this.ball.alpha = .5, this.ball.inputEnabled = !0, this.ball.anchor.setTo(.5, 1), this.ball.events.onInputDown.add(this.battle.bind(this, i, this.ball), this), i.content.add(this.ball), this.game.add.tween(this.ball).to({
						y: this.ball.y + 10
					}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, s.GameConstants.MAX_SAFE_INTEGER, !0);
					var m = this.game.prodigy.create.font(i.content, 590, 295, "" + this.floor, {
						size: 40,
						width: 100,
						align: "center"
					});
					this.game.add.tween(m).to({
						y: m.y + 10
					}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, s.GameConstants.MAX_SAFE_INTEGER, !0);
					var _ = this.game.prodigy.create.sprite(847, 65, "atlas-124", "barrier"),
						v = this.game.prodigy.create.sprite(953, 65, "atlas-124", "barrier");
					v.scale.x = -1, _.inputEnabled = !0, _.events.onInputDown.add(function() {
						r.blockDoor()
					}), _.alpha = .8, this.game.add.tween(_).to({
						alpha: .3
					}, 1500, Phaser.Easing.Linear.None, !0, 0, 1e4, !0), i.background.add(_), v.inputEnabled = !0, v.events.onInputDown.add(function() {
						r.blockDoor()
					}), v.alpha = .8, this.game.add.tween(v).to({
						alpha: .3
					}, 1500, Phaser.Easing.Linear.None, !0, 0, 1e4, !0), i.background.add(v)
				}
				if (this.floor % 5 == 0) {
					var E = {
						x: 810,
						y: 600
					};
					if (this.floor < 100) {
						var b = this.cleared ? "-noglow" : "",
							O = i.content.add(this.game.prodigy.create.sprite(400, 400, "atlas-124", "statue" + b)),
							I = i.content.add(this.game.prodigy.create.sprite(880, 400, "atlas-124", "statue" + b));
						O.anchor.setTo(.5, 1), I.anchor.setTo(.5, 1), O.scale.x = -1, E = {
							x: 750,
							y: 310
						}
					}
					new l.QuestNPC(this.game, i.content, E.x, E.y, {
						name: this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("NPC_NAME_MIRA_SHADE"),
						atlas: "mira",
						atlasID: 77
					}, function() {
						r.onMiraClick(i)
					}).highlight(h, -80, -150)
				}
			}, e.prototype.toBase = function() {
				var t = this,
					e = this.game.prodigy.player.getTowerProgress();
				if ((e = e - e % 5 + 1) < 100) {
					var i = this.game.prodigy.dialogue.create();
					i.setText({
						text: this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("TOWER_PROMPT_LEAVE", e),
						face: 3,
						anim: 1,
						audio: y.DarktowerZone.AUDIO[1],
						yes: function() {
							t.game.prodigy.world.teleport("darktower-A1", 850, 380)
						}
					}), i.start("mira")
				} else this.game.prodigy.world.teleport("darktower-A1", 850, 380)
			}, e.prototype.updateZoneNameFromCurrentFloor = function() {
				this.zoneName = "darktower-" + (this.floor < 100 ? "A2-" : "A3-") + "-" + this.floor
			}, e.prototype.initListeners = function() {
				s.GameConstants.get("GameConstants.Build.DEBUG") && (this.game.broadcaster.addAppListener(h.EDebugEvents.AutoClickScene, this.onDebugAutoClick.bind(this), this), this.game.broadcaster.addAppListener(h.EDebugEvents.AutoClickList, this.onDebugAutoClickList.bind(this), this))
			}, e.prototype.stopListeners = function() {
				s.GameConstants.get("GameConstants.Build.DEBUG") && (this.game.broadcaster.removeAppListener(h.EDebugEvents.AutoClickScene, this, this.game), this.game.broadcaster.removeAppListener(h.EDebugEvents.AutoClickList, this, this.game))
			}, e.prototype.onDebugAutoClick = function(t) {
				"orb" === t && d.Util.isValid(this.ball) && this.battle(this.screen, this.ball)
			}, e.prototype.onDebugAutoClickList = function() {
				o.Logger.log("orb", o.LogLevel.Verbose)
			}, e.prototype.isOnTopFloorAndNotComplete = function() {
				return 100 === this.floor && this.game.prodigy.player.getTowerProgress() < 100
			}, e.prototype.onMiraClick = function(t) {
				this.isOnTopFloorAndNotComplete() ? this.battle(t) : this.npcDialogue()
			}, e.prototype.onFloorComplete = function() {
				var t = this;
				if (this.game.prodigy.player.completeTower(this.floor), this.game.prodigy.player.isBlockedByDarkTowerMemberGate()) {
					var e = {
						conversionFunnelName: g.EFunnelEventIDs.FunnelEnterDarkTower,
						conversionFunnelMetadata: "previewEnd"
					};
					this.game.prodigy.network.sendConversionFunnelEvent(e.conversionFunnelName, g.EFunnelEventIDs.StageEnterTower, e.conversionFunnelMetadata), this.game.prodigy.open.membershipInfo(function() {
						t.game.prodigy.player.isBlockedByDarkTowerMemberGate() && t.game.prodigy.world.teleport("darktower-A1", 200, 400)
					}, e, p.MembershipInfo.TOWER)
				}
			}, e.prototype.blockDoor = function() {
				var t = this.game.prodigy.dialogue.create();
				t.setText({
					text: this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("TOWER_PROMPT_MUST_DEFEAT"),
					face: 3,
					anim: 1,
					audio: y.DarktowerZone.AUDIO[1]
				}), t.start("mira")
			}, e.prototype.setPlayerAsOpponent = function(t) {
				var e = this.game.prodigy.player,
					i = {
						level: r(this.game.prodigy.player.data, "level", 100).toString()
					},
					n = d.Util.copyObject(e.appearance.getData());
				n.name = e.getName();
				var a = {
					data: i,
					appearance: n,
					equipment: e.equipment.getData()
				};
				t.wizards = [a], t.pets = [];
				for (var o = this.game.prodigy.player.kennel.getTeam(), s = 0; s < o.length; s++)
					if (d.Util.isValid(o[s])) {
						var l = o[s].getID(),
							c = o[s].getLevel();
						d.Util.isValid(u.Items.getItem("pet", l)) && t.pets.push({
							ID: l,
							level: c
						})
					}
			}, e.prototype.npcDialogue = function() {
				var t = this.game.prodigy.dialogue.create(),
					e = this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService);
				this.game.prodigy.player.getTowerProgress() < 100 ? t.setText({
					text: e.getText("TOWER_NEXT_CHALLENGER"),
					face: 3,
					anim: 4,
					audio: y.DarktowerZone.AUDIO[2]
				}) : t.setText({
					text: e.getText("TOWER_ALL_DEFEATED"),
					face: 0
				}), t.start("mira")
			}, e.prototype.battle = function(t, e) {
				d.Util.isValid(e) && (e.inputEnabled = !1);
				var i = y.DarktowerZone.OPPONENTS[this.floor - 1],
					n = Math.min(Math.floor(this.floor / 20 + 5), 10);
				if (90 === this.floor && this.setPlayerAsOpponent(i), this.mods = {
						boss: d.Util.copyObject(i.boss),
						screen: this.battleBG,
						opponent: d.Util.copyObject(i.wizards),
						catch: !1,
						pets: d.Util.copyObject(i.pets),
						difficulty: n,
						towerFloor: this.floor
					}, d.Util.isValid(this.mods.boss) && d.Util.isValid(this.mods.boss.nameKey) && (this.mods.boss.name = this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText(this.mods.boss.nameKey)), this.floor % 5 != 0) new m.Roulette(this.game, t, t.above, this.mods, this.startBattle.bind(this));
				else {
					t.user.setValidPath(t.path, t.user.x, t.user.y);
					var r = y.DarktowerZone.DIALOGUE[Math.floor(this.floor / 5 - 1)];
					if (d.Util.isValid(r)) {
						for (var s = this.game.prodigy.dialogue.create(), l = 0; l < r.length; l++) s.setText(a({}, r[l], {
							text: this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText(r[l].textKey)
						}));
						s.setText({
							callback: this.startBattle.bind(this)
						}), s.start("mira")
					} else this.startBattle()
				}
			}, e.prototype.startBattle = function() {
				var t = this,
					e = "";
				this.floor < 10 ? e = "00" : this.floor < 100 && (e = "0"), this.game.prodigy.network.sendAnalytics("Dark-Tower-Battle", "Floor" + e + this.floor + "-BattleStarted", "Events");
				var i = function(e) {
					var i = t.floor < 100 ? "A2" : "A3";
					t.zone.maps[i].cleared = !0, t.game.prodigy.world.teleport("darktower-" + i, e.x, e.y)
				};
				s.GameConstants.get("GameConstants.Debug.AUTO_RESOLVE_TOWER_BATTLES_ENABLED") ? i(this.screen.user.position) : (this.game.prodigy.network.sendBattleStartTypeEvent("DarkTowerBattle"), this.game.prodigy.battle.start(this.mods, function() {
					t.game.prodigy.world.teleport("darktower-A1", 200, 400)
				}, i.bind(this, this.screen.user.position), null, "darktower-A1"))
			}, e.prototype.toFloor = function(t) {
				if (t > 100) this.toBase();
				else {
					var e = t < 100 ? "A2" : "A3";
					this.zone.maps[e].floor = t, this.zone.maps[e].updateZoneNameFromCurrentFloor(), this.zone.maps[e].cleared = !1, this.game.prodigy.world.teleport("darktower-" + e, 260, 550)
				}
			}, e
		}(f.Map);
	e.DarktowerMap = _
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = i(32),
		r = i(651),
		s = i(650),
		l = i(607),
		c = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				i.name = "Dark Tower", i.ID = "darktower", i.battleBG = "battle-tower-inside", i.onFaint = "darktower-A1", i.questHub = "darktower-A1", i.states = [];
				var n = ["tileset-darktower", "npc-forest-new", "tileset-generic-new", "tileset-collisions", "tileset-forest-new", "atlas-77", "bgm-4"];
				return i.maps = {
					A1: new r.DarktowerA1(i, n),
					A2: new s.DarktowerA2(i, n),
					A3: new l.DarktowerA3(i, n)
				}, i
			}
			return n(e, t), e.prototype.teleport = function(e, i, n, o, r) {
				void 0 === r && (r = {}), a.Util.isValid(this.maps[e].floor) ? t.prototype.teleport.call(this, e, 260, 550, o, r) : "A1" !== e ? t.prototype.teleport.call(this, "A1", 200, 400, o, r) : t.prototype.teleport.call(this, "A1", i, n, o, r)
			}, e.AUDIO = [{
				tag: "voice-2",
				s: 0,
				d: 1
			}, {
				tag: "voice-2",
				s: 1,
				d: 1
			}, {
				tag: "voice-2",
				s: 2,
				d: 1
			}, {
				tag: "voice-2",
				s: 3,
				d: 1
			}, {
				tag: "voice-2",
				s: 4,
				d: 2
			}, {
				tag: "voice-2",
				s: 6,
				d: 1
			}, {
				tag: "voice-2",
				s: 7,
				d: 2
			}, {
				tag: "voice-2",
				s: 9,
				d: 1
			}], e.REWARDS = [{
				floor: 10,
				reward: [{
					type: "gold",
					N: 500
				}],
				text: [{
					textKey: "DIALOGUE_MIRA_REWARD",
					face: 0,
					audio: e.AUDIO[6]
				}]
			}, {
				floor: 20,
				reward: [{
					type: "gold",
					N: 500
				}],
				text: [{
					textKey: "DIALOGUE_MIRA_REWARD",
					face: 0,
					audio: e.AUDIO[6]
				}]
			}, {
				floor: 30,
				reward: [{
					type: "gold",
					N: 500
				}],
				text: [{
					textKey: "DIALOGUE_MIRA_REWARD",
					face: 0,
					audio: e.AUDIO[6]
				}]
			}, {
				floor: 40,
				reward: [{
					type: "gold",
					N: 500
				}],
				text: [{
					textKey: "DIALOGUE_MIRA_REWARD",
					face: 0,
					audio: e.AUDIO[6]
				}]
			}, {
				floor: 50,
				reward: [{
					type: "gold",
					N: 1e3
				}],
				text: [{
					textKey: "DIALOGUE_MIRA_REWARD",
					face: 0,
					audio: e.AUDIO[6]
				}]
			}, {
				floor: 60,
				reward: [{
					type: "gold",
					N: 500
				}],
				text: [{
					textKey: "DIALOGUE_MIRA_REWARD",
					face: 0,
					audio: e.AUDIO[6]
				}]
			}, {
				floor: 70,
				reward: [{
					type: "gold",
					N: 500
				}],
				text: [{
					textKey: "DIALOGUE_MIRA_REWARD",
					face: 0,
					audio: e.AUDIO[6]
				}]
			}, {
				floor: 80,
				reward: [{
					type: "gold",
					N: 500
				}],
				text: [{
					textKey: "DIALOGUE_MIRA_REWARD",
					face: 0,
					audio: e.AUDIO[6]
				}]
			}, {
				floor: 90,
				reward: [{
					type: "gold",
					N: 500
				}],
				text: [{
					textKey: "DIALOGUE_MIRA_REWARD",
					face: 0,
					audio: e.AUDIO[6]
				}]
			}, {
				floor: 100,
				reward: [{
					type: "outfit",
					ID: 38
				}, {
					type: "hat",
					ID: 42
				}, {
					type: "weapon",
					ID: 68
				}],
				text: [{
					textKey: "DIALOGUE_MIRA_DEFEAT_0",
					face: 3,
					audio: e.AUDIO[3]
				}, {
					textKey: "DIALOGUE_MIRA_DEFEAT_1",
					face: 3
				}, {
					textKey: "DIALOGUE_MIRA_DEFEAT_2",
					face: 1,
					audio: e.AUDIO[6]
				}, {
					textKey: "DIALOGUE_MIRA_DEFEAT_3",
					face: 2
				}, {
					textKey: "DIALOGUE_MIRA_DEFEAT_4",
					face: 1,
					audio: e.AUDIO[0]
				}]
			}], e.DIALOGUE = [
				[{
					textKey: "DIALOGUE_MIRA_9",
					face: 0,
					audio: e.AUDIO[2]
				}],
				[{
					textKey: "DIALOGUE_MIRA_10",
					face: 2
				}, {
					textKey: "DIALOGUE_MIRA_11",
					face: 1,
					audio: e.AUDIO[0]
				}],
				[{
					textKey: "DIALOGUE_MIRA_12",
					face: 0
				}, {
					textKey: "DIALOGUE_MIRA_13",
					face: 0,
					audio: e.AUDIO[0]
				}],
				[{
					textKey: "DIALOGUE_MIRA_14",
					face: 2
				}, {
					textKey: "DIALOGUE_MIRA_15",
					face: 1
				}],
				[{
					textKey: "DIALOGUE_MIRA_16",
					face: 0,
					audio: e.AUDIO[6]
				}],
				[{
					textKey: "DIALOGUE_MIRA_17",
					face: 2
				}, {
					textKey: "DIALOGUE_MIRA_18",
					face: 1,
					audio: e.AUDIO[0]
				}],
				[{
					textKey: "DIALOGUE_MIRA_19",
					face: 2
				}, {
					textKey: "DIALOGUE_MIRA_20",
					face: 2,
					audio: e.AUDIO[0]
				}],
				[{
					textKey: "DIALOGUE_MIRA_21",
					face: 1
				}, {
					textKey: "DIALOGUE_MIRA_22",
					face: 2,
					audio: e.AUDIO[1]
				}],
				[{
					textKey: "DIALOGUE_MIRA_23",
					face: 2
				}, {
					textKey: "DIALOGUE_MIRA_24",
					face: 0
				}],
				[{
					textKey: "DIALOGUE_MIRA_25",
					face: 2,
					audio: e.AUDIO[1]
				}, {
					textKey: "DIALOGUE_MIRA_26",
					face: 0,
					audio: e.AUDIO[2]
				}],
				[{
					textKey: "DIALOGUE_MIRA_27",
					face: 3,
					audio: e.AUDIO[3]
				}],
				[{
					textKey: "DIALOGUE_MIRA_28",
					face: 2
				}, {
					textKey: "DIALOGUE_MIRA_29",
					face: 1,
					audio: e.AUDIO[0]
				}],
				[{
					textKey: "DIALOGUE_MIRA_30",
					face: 2
				}, {
					textKey: "DIALOGUE_MIRA_31",
					face: 2
				}],
				[{
					textKey: "DIALOGUE_MIRA_32",
					face: 2
				}, {
					textKey: "DIALOGUE_MIRA_33",
					face: 2
				}],
				[{
					textKey: "DIALOGUE_MIRA_34",
					face: 2
				}, {
					textKey: "DIALOGUE_MIRA_35",
					face: 1
				}],
				[{
					textKey: "DIALOGUE_MIRA_36",
					face: 1,
					audio: e.AUDIO[2]
				}],
				[{
					textKey: "DIALOGUE_MIRA_37",
					face: 0,
					audio: e.AUDIO[1]
				}],
				[{
					textKey: "DIALOGUE_MIRA_38",
					face: 3
				}, {
					textKey: "DIALOGUE_MIRA_39",
					face: 3,
					audio: e.AUDIO[3]
				}],
				[{
					textKey: "DIALOGUE_MIRA_40",
					face: 3
				}, {
					textKey: "DIALOGUE_MIRA_41",
					face: 3,
					audio: e.AUDIO[2]
				}],
				[{
					textKey: "DIALOGUE_MIRA_42",
					face: 3,
					audio: e.AUDIO[1]
				}, {
					textKey: "DIALOGUE_MIRA_43",
					face: 3
				}, {
					textKey: "DIALOGUE_MIRA_44",
					face: 0,
					audio: e.AUDIO[7]
				}, {
					textKey: "DIALOGUE_MIRA_45",
					face: 1,
					audio: e.AUDIO[0]
				}, {
					textKey: "DIALOGUE_MIRA_46",
					face: 3,
					audio: e.AUDIO[2]
				}]
			], e.OPPONENTS = [{
				pets: [{
					ID: 99,
					level: 5
				}]
			}, {
				pets: [{
					ID: 102,
					level: 5
				}]
			}, {
				pets: [{
					ID: 100,
					level: 5
				}]
			}, {
				pets: [{
					ID: 103,
					level: 5
				}]
			}, {
				pets: [{
					ID: 101,
					level: 5
				}, {
					ID: 104,
					level: 5
				}]
			}, {
				pets: [{
					ID: 31,
					level: 10
				}]
			}, {
				pets: [{
					ID: 55,
					level: 10
				}]
			}, {
				pets: [{
					ID: 60,
					level: 10
				}]
			}, {
				pets: [{
					ID: 29,
					level: 10
				}]
			}, {
				pets: [{
					ID: 92,
					level: 10
				}, {
					ID: 93,
					level: 10
				}]
			}, {
				pets: [{
					ID: 27,
					level: 15
				}]
			}, {
				pets: [{
					ID: 45,
					level: 15
				}]
			}, {
				pets: [{
					ID: 48,
					level: 15
				}]
			}, {
				pets: [{
					ID: 96,
					level: 15
				}]
			}, {
				pets: [{
					ID: 28,
					level: 15
				}, {
					ID: 49,
					level: 15
				}]
			}, {
				pets: [{
					ID: 4,
					level: 20
				}]
			}, {
				pets: [{
					ID: 10,
					level: 20
				}]
			}, {
				pets: [{
					ID: 5,
					level: 20
				}]
			}, {
				pets: [{
					ID: 11,
					level: 20
				}]
			}, {
				pets: [{
					ID: 6,
					level: 20
				}, {
					ID: 12,
					level: 20
				}]
			}, {
				pets: [{
					ID: 1,
					level: 25
				}]
			}, {
				pets: [{
					ID: 52,
					level: 25
				}]
			}, {
				pets: [{
					ID: 2,
					level: 25
				}]
			}, {
				pets: [{
					ID: 53,
					level: 25
				}]
			}, {
				pets: [{
					ID: 3,
					level: 25
				}, {
					ID: 54,
					level: 25
				}]
			}, {
				pets: [{
					ID: 78,
					level: 30
				}]
			}, {
				pets: [{
					ID: 46,
					level: 30
				}]
			}, {
				pets: [{
					ID: 40,
					level: 30
				}]
			}, {
				pets: [{
					ID: 79,
					level: 30
				}]
			}, {
				pets: [{
					ID: 80,
					level: 30
				}, {
					ID: 47,
					level: 30
				}, {
					ID: 50,
					level: 30
				}]
			}, {
				pets: [{
					ID: 94,
					level: 35
				}]
			}, {
				pets: [{
					ID: 85,
					level: 35
				}]
			}, {
				pets: [{
					ID: 82,
					level: 35
				}]
			}, {
				pets: [{
					ID: 76,
					level: 35
				}]
			}, {
				pets: [{
					ID: 35,
					level: 35
				}, {
					ID: 36,
					level: 35
				}, {
					ID: 37,
					level: 35
				}]
			}, {
				pets: [{
					ID: 87,
					level: 40
				}]
			}, {
				pets: [{
					ID: 99,
					level: 40
				}]
			}, {
				pets: [{
					ID: 94,
					level: 40
				}]
			}, {
				pets: [{
					ID: 102,
					level: 40
				}]
			}, {
				pets: [{
					ID: 95,
					level: 40
				}, {
					ID: 80,
					level: 40
				}, {
					ID: 23,
					level: 40
				}]
			}, {
				pets: [{
					ID: 16,
					level: 45
				}]
			}, {
				pets: [{
					ID: 47,
					level: 45
				}]
			}, {
				pets: [{
					ID: 40,
					level: 45
				}]
			}, {
				pets: [{
					ID: 80,
					level: 45
				}]
			}, {
				pets: [{
					ID: 62,
					level: 45
				}, {
					ID: 26,
					level: 45
				}, {
					ID: 44,
					level: 45
				}]
			}, {
				pets: [{
					ID: 63,
					level: 50
				}]
			}, {
				pets: [{
					ID: 66,
					level: 50
				}]
			}, {
				pets: [{
					ID: 69,
					level: 50
				}]
			}, {
				pets: [{
					ID: 72,
					level: 50
				}]
			}, {
				boss: {
					ID: 1,
					level: 50,
					element: "fire",
					attacks: [56, 57, 59, 60],
					maxHP: 12e3,
					name: "Grandoff",
					spriteOffsetY: 80,
					battleOffsetX: 80,
					starBonus: 40,
					difficulty: 3
				}
			}, {
				pets: [{
					ID: 23,
					level: 55
				}]
			}, {
				pets: [{
					ID: 46,
					level: 56
				}]
			}, {
				pets: [{
					ID: 23,
					level: 57
				}]
			}, {
				pets: [{
					ID: 46,
					level: 58
				}]
			}, {
				pets: [{
					ID: 46,
					level: 60
				}, {
					ID: 23,
					level: 60
				}, {
					ID: 47,
					level: 60
				}]
			}, {
				pets: [{
					ID: 75,
					level: 65
				}]
			}, {
				pets: [{
					ID: 78,
					level: 66
				}]
			}, {
				pets: [{
					ID: 81,
					level: 67
				}]
			}, {
				pets: [{
					ID: 84,
					level: 68
				}]
			}, {
				pets: [{
					ID: 80,
					level: 70
				}, {
					ID: 83,
					level: 70
				}, {
					ID: 86,
					level: 70
				}]
			}, {
				pets: [{
					ID: 43,
					level: 75
				}]
			}, {
				pets: [{
					ID: 12,
					level: 76
				}]
			}, {
				pets: [{
					ID: 54,
					level: 77
				}]
			}, {
				pets: [{
					ID: 6,
					level: 78
				}]
			}, {
				pets: [{
					ID: 58,
					level: 80
				}, {
					ID: 25,
					level: 80
				}, {
					ID: 61,
					level: 80
				}]
			}, {
				pets: [{
					ID: 75,
					level: 85
				}]
			}, {
				pets: [{
					ID: 78,
					level: 86
				}]
			}, {
				pets: [{
					ID: 81,
					level: 87
				}]
			}, {
				pets: [{
					ID: 84,
					level: 88
				}]
			}, {
				pets: [{
					ID: 31,
					level: 90
				}, {
					ID: 33,
					level: 90
				}, {
					ID: 31,
					level: 90
				}]
			}, {
				pets: [{
					ID: 63,
					level: 50
				}, {
					ID: 64,
					level: 85
				}]
			}, {
				pets: [{
					ID: 66,
					level: 55
				}, {
					ID: 67,
					level: 85
				}]
			}, {
				pets: [{
					ID: 69,
					level: 60
				}, {
					ID: 70,
					level: 85
				}]
			}, {
				pets: [{
					ID: 72,
					level: 65
				}, {
					ID: 73,
					level: 85
				}]
			}, {
				pets: [{
					ID: 2,
					level: 95
				}, {
					ID: 5,
					level: 95
				}, {
					ID: 8,
					level: 95
				}, {
					ID: 11,
					level: 95
				}]
			}, {
				pets: [{
					ID: 1,
					level: 95
				}]
			}, {
				pets: [{
					ID: 4,
					level: 96
				}]
			}, {
				pets: [{
					ID: 7,
					level: 97
				}]
			}, {
				pets: [{
					ID: 10,
					level: 98
				}]
			}, {
				wizards: [{
					data: {
						level: 50
					},
					appearance: {
						name: "Frozine",
						gender: "female",
						hair: {
							style: 11,
							color: 9
						},
						skinColor: 1,
						eyeColor: 13
					},
					equipment: {
						hat: 37,
						outfit: 33,
						weapon: 63
					}
				}, {
					data: {
						level: 50
					},
					appearance: {
						name: "Thundane",
						gender: "male",
						hair: {
							style: 19,
							color: 16
						},
						skinColor: 2,
						eyeColor: 9
					},
					equipment: {
						hat: 8,
						outfit: 24,
						weapon: 23
					}
				}, {
					data: {
						level: 50
					},
					appearance: {
						name: "Sprout",
						gender: "female",
						hair: {
							style: 7,
							color: 8
						},
						skinColor: 3,
						eyeColor: 6
					},
					equipment: {
						hat: 33,
						outfit: 29,
						weapon: 24
					}
				}, {
					data: {
						level: 50
					},
					appearance: {
						name: "Charcole",
						gender: "male",
						hair: {
							style: 18,
							color: 6
						},
						skinColor: 2,
						eyeColor: 3
					},
					equipment: {
						hat: 11,
						outfit: 8,
						weapon: 64
					}
				}, {
					data: {
						level: 50
					},
					appearance: {
						name: "Pounce",
						gender: "male",
						hair: {
							style: 23,
							color: 5
						},
						skinColor: 4,
						eyeColor: 14
					},
					equipment: {
						hat: 32,
						outfit: 31,
						weapon: 60
					}
				}]
			}, {
				pets: [{
					ID: 38,
					level: 100
				}]
			}, {
				pets: [{
					ID: 87,
					level: 100
				}]
			}, {
				pets: [{
					ID: 39,
					level: 100
				}]
			}, {
				pets: [{
					ID: 72,
					level: 100
				}]
			}, {
				pets: [{
					ID: 43,
					level: 100
				}, {
					ID: 26,
					level: 100,
					evolve: [{
						ID: 25,
						lvl: 53
					}]
				}, {
					ID: 44,
					level: 100,
					evolve: [{
						ID: 43,
						lvl: 43
					}]
				}, {
					ID: 61,
					level: 100
				}]
			}, {
				pets: [{
					ID: 57,
					level: 100
				}]
			}, {
				pets: [{
					ID: 61,
					level: 100
				}]
			}, {
				pets: [{
					ID: 15,
					level: 100
				}]
			}, {
				pets: [{
					ID: 98,
					level: 100
				}]
			}, {}, {
				pets: [{
					ID: 49,
					level: 100
				}]
			}, {
				pets: [{
					ID: 50,
					level: 100
				}]
			}, {
				pets: [{
					ID: 54,
					level: 100
				}]
			}, {
				pets: [{
					ID: 39,
					level: 100,
					evolve: [{
						ID: 38,
						lvl: 50
					}]
				}]
			}, {
				pets: [{
					ID: 97,
					level: 100
				}, {
					ID: 89,
					level: 100,
					evolve: [{
						ID: 87,
						lvl: 50
					}, {
						ID: 88,
						lvl: 55
					}]
				}, {
					ID: 12,
					level: 100,
					evolve: [{
						ID: 11,
						lvl: 55
					}]
				}, {
					ID: 42,
					level: 100,
					evolve: [{
						ID: 40,
						lvl: 58
					}, {
						ID: 41,
						lvl: 60
					}]
				}]
			}, {
				pets: [{
					ID: 63,
					level: 50
				}, {
					ID: 66,
					level: 50
				}, {
					ID: 69,
					level: 50
				}, {
					ID: 72,
					level: 50
				}]
			}, {
				pets: [{
					ID: 64,
					level: 75
				}, {
					ID: 67,
					level: 75
				}, {
					ID: 70,
					level: 75
				}, {
					ID: 73,
					level: 75
				}]
			}, {
				pets: [{
					ID: 65,
					level: 100
				}, {
					ID: 68,
					level: 100
				}, {
					ID: 71,
					level: 100
				}, {
					ID: 74,
					level: 100
				}]
			}, {
				pets: [{
					ID: 63,
					level: 50
				}, {
					ID: 66,
					level: 50
				}, {
					ID: 69,
					level: 50
				}, {
					ID: 72,
					level: 50
				}]
			}, {
				boss: {
					ID: 2,
					level: 100,
					element: "wizard",
					attacks: [49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86],
					maxHP: 25e3,
					name: "Mira Shade",
					spriteOffsetY: 200,
					spriteOffsetX: 130,
					difficulty: 3
				}
			}], e
		}(o.Zone);
	e.DarktowerZone = c
}, function(t) {
	t.exports = {
		seed: 0,
		gridWidth: 7,
		gridHeight: 7,
		minCritPathLength: 7,
		maxCritPathLength: 7,
		monsterIDs: [90, 92, 87, 122, 66, 69, 72, 63, 22, 98, 80, 83, 86, 120, 107, 11],
		minEncounters: 2,
		maxEncounters: 2,
		monsterDrops: [{
			ID: 19,
			type: "currency",
			N: 5
		}],
		goldenPages: 5,
		minPages: 5,
		maxPages: 10,
		extraPaths: {
			minLength: 1,
			maxLength: 1,
			minPaths: 0,
			maxPaths: 0
		},
		monsterRooms: [{
			tilemap: "m1",
			fsm: 58
		}, {
			tilemap: "m2",
			fsm: 59
		}, {
			tilemap: "m3",
			fsm: 60
		}, {
			tilemap: "m4",
			fsm: 61
		}, {
			tilemap: "m5",
			fsm: 62
		}, {
			tilemap: "m6",
			fsm: 63
		}, {
			tilemap: "m7",
			fsm: 64
		}, {
			tilemap: "m8",
			fsm: 65
		}, {
			tilemap: "m9",
			fsm: 66
		}],
		normalRooms: [{
			tilemap: "1",
			fsm: 68
		}, {
			tilemap: "2",
			fsm: 69
		}, {
			tilemap: "3",
			fsm: 70
		}, {
			tilemap: "4",
			fsm: 71
		}, {
			tilemap: "5",
			fsm: 72
		}, {
			tilemap: "6",
			fsm: 73
		}],
		endRoom: {
			tilemap: "end",
			fsm: 75
		}
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(2),
		s = i(0),
		l = i(32),
		c = i(695),
		h = i(694),
		u = i(693),
		p = i(692),
		d = i(691),
		g = i(689),
		f = i(688),
		y = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				i.name = "Activity_Zone", i.ID = "activity_zone", i.battleBG = "battle-forest-generic", i.onFaint = "activity_zone-B3", i.questHub = "activity_zone-B3", i.states = ["firstVisit", "dailyQuest", "questCompleteDialogue", "questExpiredDialogue", "handedOverQuest", "chest1"], i.monsterIds = [{
					ID: 19
				}, {
					ID: 21
				}, {
					ID: 22
				}, {
					ID: 34
				}, {
					ID: 36
				}, {
					ID: 37
				}, {
					ID: 41
				}, {
					ID: 53
				}, {
					ID: 54
				}, {
					ID: 58
				}, {
					ID: 60
				}, {
					ID: 64
				}, {
					ID: 65
				}, {
					ID: 67
				}, {
					ID: 70
				}, {
					ID: 71
				}, {
					ID: 75
				}, {
					ID: 82
				}, {
					ID: 88
				}, {
					ID: 93
				}];
				var n = ["tileset-firefly-new", "tileset-forest-new", "tileset-generic-new", "tileset-collisions", "tileset-activityzone"];
				return i.maps = {
					A1: new c.ActivityZoneA1(i, n),
					A2: new h.ActivityZoneA2(i, n),
					B1: new u.ActivityZoneB1(i, n),
					B2: new p.ActivityZoneB2(i, n),
					B3: new d.ActivityZoneB3(i, n),
					C1: new g.ActivityZoneC1(i, n),
					C2: new f.ActivityZoneC2(i, n)
				}, i
			}
			return n(e, t), e.prototype.getDailyQuestData = function(t) {
				if (0 === t) {
					var e = this.getMonsterId(),
						i = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(22 === e.ID ? "QUESTS_ACTIVITY_ZONE_DAILY_SINGLE" : "QUESTS_ACTIVITY_ZONE_DAILY_PLURAL", r.Items.getItem("pet", e.ID).data.name),
						n = "default-pet-" + e.ID,
						o = this.game.prodigy.assets.getImageBounds(n),
						l = this.game.prodigy.assets.getImagePivots(n);
					return {
						description: i,
						source: n,
						frame: null,
						xOffset: s.Util.isValid(l[0]) ? -l[0] : -o[0],
						yOffset: -o[3]
					}
				}
				return null
			}, e.prototype.getMonsterId = function() {
				var t;
				if (o.GameConstants.get("GameConstants.Build.DEBUG") && e.FORCE_MONSTER_TYPE) t = this.monsterIds[e.MONSTER_ID % this.monsterIds.length];
				else {
					var i = this.hasDailyQuestExpired() || this.isDailyQuestComplete() || !s.Util.isValid(this.getState("dailyQuest")) ? s.Util.getDateId() : this.getState("dailyQuest").dateId;
					t = this.monsterIds[Math.floor(this.game.seededRandom.frac(i) * this.monsterIds.length)]
				}
				return t
			}, e.prototype.getDailyQuestDescription = function(t) {
				return 0 === t ? {
					type: "pet",
					ID: this.getMonsterId().ID,
					N: this.getRemainingQuestObjectives()
				} : {}
			}, e.prototype.getMonsterList = function() {
				if (this.hasDailyQuestExpired() || this.isDailyQuestComplete() && this.getState("handedOverQuest")) return this.monsterIds;
				for (var t = s.Util.copyObject(this.monsterIds), e = this.getMonsterId(), i = 0; i < t.length; i++)
					if (e.ID === t[i].ID) return t.splice(i, 1), t
			}, e.prototype.onNpcClicked = function(t) {
				var e = this.game.prodigy.event.create();
				this.game.prodigy.network.sendAnalytics("activity-zone-npc", "speak-npc-MVP", "Events"), this.isDailyQuestComplete() ? (e.text(3, "swoopy"), e.text(4, "swoopy"), e.function(this.activityEndQuest.bind(this, t))) : this.hasDailyQuestExpired() ? (e.text(0, "swoopy"), e.text(1, "swoopy"), e.function(this.game.prodigy.open.questDescription.bind(this.game.prodigy.open, this.getDailyQuestData(0), this.activityStartQuest.bind(this, t)))) : e.text(2, "swoopy"), e.start()
			}, e.prototype.activityStartQuest = function(t) {
				this.startNewDailyQuest(0, 6), this.setState("questCompleteDialogue", !1), this.setState("questExpiredDialogue", !1), this.setState("handedOverQuest", !1), s.Util.isValid(t) && t.process(!0)
			}, e.prototype.activityEndQuest = function(t) {
				this.setState("handedOverQuest", !0), s.Util.isValid(t) && t.process(!0)
			}, e.FORCE_MONSTER_TYPE = !1, e.MONSTER_ID = 0, e
		}(l.Zone);
	e.ActivityZone = y
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(33),
		o = function(t) {
			function e(e, i, n, o) {
				var r = this,
					s = new a.NPC(e);
				return s.init({
					name: "NPC_NAME_GALE"
				}), (r = t.call(this, e, i.content, s, null, n, o) || this).setup(), r
			}
			return n(e, t), e.prototype.setup = function() {
				var t = this.game.prodigy.create.element(this.sprites, 0, 0);
				this.galeSpine = this.game.add.spine(0, 0, "spine-83"), this.galeSpine.setAnimationByName(0, "animation", !0), t.add(this.galeSpine), this.setupCollisionBlock(t), this.showName(), this.nameText.GameObject.y = -85, this.galeSpine.scale.x = -1, this.flip()
			}, e.prototype.setupCollisionBlock = function(t) {
				this.collisionBlock = t.add(this.game.prodigy.create.sprite(-.5 * t.width + 0, -t.height, "atlas-18", "empty")), this.collisionBlock.width = t.width, this.collisionBlock.height = t.height, this.collisionBlock.inputEnabled = !0, this.collisionBlock.events.onInputDown.add(this.onClicked.bind(this))
			}, e.prototype.onClicked = function() {
				var t = this.game.prodigy.event.create();
				t.text(14, "gale"), t.start()
			}, e
		}(i(17).CreatureContainer);
	e.Gale = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(33),
		o = function(t) {
			function e(e, i, n, o) {
				var r = this,
					s = new a.NPC(e);
				return s.init({
					name: "NPC_NAME_ACADEMY_MERCHANT"
				}), (r = t.call(this, e, i.content, s, null, n, o) || this).setup(), r
			}
			return n(e, t), e.prototype.setup = function() {
				var t = this.game.prodigy.create.element(this.sprites, 0, 0);
				this.merchantSpine = this.game.add.spine(-5, 0, "spine-84"), this.merchantSpine.setAnimationByName(0, "animation", !0), t.add(this.merchantSpine), this.setupCollisionBlock(t), this.showName(), this.nameText.GameObject.y = -85
			}, e.prototype.setupCollisionBlock = function(t) {
				this.collisionBlock = t.add(this.game.prodigy.create.sprite(-.5 * t.width + 0, -t.height, "atlas-18", "empty")), this.collisionBlock.width = t.width, this.collisionBlock.height = t.height, this.collisionBlock.inputEnabled = !0, this.collisionBlock.events.onInputDown.add(this.onClicked.bind(this))
			}, e.prototype.onClicked = function() {
				var t = this,
					e = this.game.prodigy.event.create();
				e.function(function() {
					t.game.prodigy.open.store(35)
				}), e.start()
			}, e
		}(i(17).CreatureContainer);
	e.AcademyMerchant = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, "GH2", "MAP_ACADEMY_GREATHALL", 640, 570, ["academy-GH3", "academy-GH1"], i.concat(["spine-65", "spine-69", "spine-72", "spine-73", "spine-74"])) || this
			}
			return n(e, t), e.prototype.setup = function(i, n, o) {
				var r = this;
				t.prototype.setup.call(this, i, n, o), this.addAreaEvent(i, n, {
					x: 640,
					y: 40,
					w: 1110,
					h: 80,
					rect: !0
				}, "academy-GH1", 640, 560), this.addAreaEvent(i, n, {
					x: 640,
					y: 655,
					w: 1110,
					h: 130,
					rect: !0
				}, "academy-GH3", 640, 100);
				var s = this.game.add.spine(640, 403, "spine-65");
				s.setToSetupPose();
				var l = s.setAnimationByName(0, "tutorial");
				l.time = l.endTime, this.screen.content.add(s);
				var c = this.game.prodigy.create.sprite(s.x, s.y - 20, "atlas-18", "empty", {
					x: .5,
					y: .5
				}, null, 260, 220);
				c.events.onInputUp.add(function() {
					var t = r.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
						e = t.getText("GREAT_HALL_KEYSTONES_POPUP"),
						i = t.getText("BUTTON_OKAY_UPPERCASE");
					r.game.prodigy.open.messageBoxOkay(e, i, null)
				}), c.inputEnabled = !0, this.screen.content.add(c), e.addEffects(i, n)
			}, e.addEffects = function(t, e) {
				var i = t.add.spine(160, 600, "spine-72");
				i.setToSetupPose(), i.setAnimationByName(0, "animation", !0);
				var n = t.add.spine(1120, 600, "spine-72");
				n.setToSetupPose(), n.setAnimationByName(0, "animation", !0), e.foreground.add(i), e.foreground.add(n);
				var a = t.add.spine(160, 600, "spine-74");
				a.setToSetupPose(), a.setAnimationByName(0, "animation", !0);
				var o = t.add.spine(1120, 600, "spine-74");
				o.setToSetupPose(), o.setAnimationByName(0, "animation", !0), e.background.add(a), e.background.add(o)
			}, e
		}(i(10).Map);
	e.AcademyGH2 = o
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t() {}
		return t.getRandomHint = function(e) {
			return t.data[e][Math.floor(Math.random() * t.data[e].length)]
		}, t.data = {
			none: [{
				textKey: "HINT_0"
			}, {
				textKey: "HINT_1"
			}, {
				textKey: "HINT_3"
			}, {
				textKey: "HINT_4"
			}, {
				textKey: "HINT_5"
			}, {
				textKey: "HINT_6"
			}, {
				textKey: "HINT_7"
			}, {
				textKey: "HINT_8"
			}, {
				textKey: "HINT_9"
			}, {
				textKey: "HINT_10"
			}, {
				textKey: "HINT_11"
			}, {
				textKey: "HINT_12"
			}, {
				textKey: "HINT_13"
			}, {
				textKey: "HINT_14"
			}, {
				textKey: "HINT_15"
			}, {
				textKey: "HINT_16"
			}, {
				textKey: "HINT_17"
			}, {
				textKey: "HINT_18"
			}, {
				textKey: "HINT_19"
			}, {
				textKey: "HINT_20"
			}, {
				textKey: "HINT_21"
			}, {
				textKey: "HINT_22"
			}, {
				textKey: "HINT_23"
			}, {
				textKey: "HINT_24"
			}, {
				textKey: "HINT_25"
			}, {
				textKey: "HINT_26"
			}]
		}, t
	}();
	e.Hints = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i, n) || this;
				return a.festivalName = "", a.dailyPlacements = [], a.daily = "daily", a.dailyMonsters = [], a.dailyDrops = [], a.canDoDaily = !1, a.festivalHub = "lamplight-B3", a.battleTPCoordinates = [640, 320], a.dailyEventSize = new Phaser.Point(40, 40), a.dailyHighlighterOffset = new Phaser.Point(-40, 0), a
			}
			return n(e, t), e.prototype.init = function(e) {
				var i = this.game.prodigy.player.canDoDaily(this.daily, this.resetDaily.bind(this, this.game.prodigy.player)),
					n = this.game.prodigy.player.data[this.daily];
				return this.canDoDaily = i && a.Util.isValid(n) && a.Util.isValid(n.dailyLocation) && a.Util.isValid(n.dailyLocation[e.saveTag]), t.prototype.init.call(this, e)
			}, e.prototype.setIntroState = function(t, e, i) {
				void 0 === i && (i = ""), t.data[this.daily]["intro" + i] = e, t.updated = !0
			}, e.prototype.signOnInputDown = function(t, e, i, n, o) {
				var r = this.game.prodigy.player.data[this.daily];
				a.Util.isValid(r) && 1 === r.isComplete && 1 !== this.game.prodigy.player.eventSignClicked && 1 !== r.signClickedAndDailyCompleted && (this.game.prodigy.network.sendAnalytics("Sign-Clicked-And-Daily-Completed"), r.signClickedAndDailyCompleted = 1), this.game.prodigy.player.eventSignClicked = 1, this.game.prodigy.open.message(t, e, i, n, null, o)
			}, e.prototype.placeDaily = function(t, e) {
				var i = this.game.prodigy.player.data[this.daily].dailyLocation;
				if (a.Util.isValid(i) && a.Util.isValid(i[e])) {
					var n = null;
					if (this.canDoDaily) {
						var o = i[e][0],
							r = i[e][1];
						n = this.game.prodigy.create.element(t.foreground, o, r), t.addClickableEvent(o, r, this.dailyEventSize.x, this.dailyEventSize.y, this.revealDailyMonster.bind(this, t, e), null, 0, null), n.highlight(!0, this.dailyHighlighterOffset.x, this.dailyHighlighterOffset.y), n.arrow.frameName = "exclamation", n.add(n.game.prodigy.create.sprite(-14, 0, "atlas-21", "eggpile"))
					}
				}
			}, e.prototype.resetDaily = function(t) {
				t.data[this.daily].monsterID = this.dailyMonsters[Math.floor(Math.random() * this.dailyMonsters.length)], t.data[this.daily].dailyLocation = this.dailyPlacements[Math.floor(Math.random() * this.dailyPlacements.length)]
			}, e.prototype.revealDailyMonster = function(t, e, i) {
				var n = i || [0, 0],
					a = this.game.prodigy.player.data[this.daily].dailyLocation[e],
					o = this.game.prodigy.event.create();
				this.battleTPCoordinates = [a[0] + n[0], a[1] + n[1]], o.validPath(t.user, t.path, this.battleTPCoordinates[0], this.battleTPCoordinates[1]), o.function(t.user.faceToward.bind(t.user, a[0])), o.enableInput(!1), o.function(t.user.chat.bind(t.user, 1)), o.delay(2e3), o.enableInput(!0), o.function(this.startDailyBattle.bind(this, e)), o.start()
			}, e.prototype.startDailyBattle = function(t) {
				var e = {
					drops: this.dailyDrops,
					dropsDisabled: !0,
					allowMember: !1,
					run: !0,
					catch: !1,
					screen: "battle-lamplight-outside",
					invincible: !1,
					pets: [{
						ID: this.game.prodigy.player.data[this.daily].monsterID
					}]
				};
				this.game.prodigy.network.sendBattleStartTypeEvent("SpecialEventBattle"), this.game.prodigy.battle.start(e, this.runaway.bind(this, t), this.dailyBattleComplete.bind(this, t), null, this.festivalHub)
			}, e.prototype.runaway = function(t) {
				this.game.prodigy.world.teleport(t, this.battleTPCoordinates[0], this.battleTPCoordinates[1])
			}, e.prototype.dailyBattleComplete = function(t) {
				var e = this.game.prodigy.player.data[this.daily];
				a.Util.isValid(e.totalCompleted) ? e.totalCompleted++ : (e.totalCompleted = 1, 1 === this.game.prodigy.player.eventSignClicked && (this.game.prodigy.network.sendAnalytics("Sign-Clicked-And-Daily-Completed"), e.signClickedAndDailyCompleted = 1)), this.game.prodigy.network.sendAnalytics(this.festivalName.replace(/ /g, "-") + "-Daily", "Complete", "Events"), this.game.prodigy.player.completeDaily(this.daily, 1), this.game.prodigy.world.teleport(t, this.battleTPCoordinates[0], this.battleTPCoordinates[1])
			}, e.prototype.openStore = function(t) {
				a.Util.isValid(t) && this.game.prodigy.open.store(t, null, this.purchasedEventItem.bind(this))
			}, e.prototype.purchasedEventItem = function() {
				var t = this.game.prodigy.player.data[this.daily];
				a.Util.isValid(t.purchasedEventItems) ? t.purchasedEventItems++ : t.purchasedEventItems = 1, t.boughtEventItem++
			}, e.prototype.teleportToEvent = function(t) {
				this.game.prodigy.world.teleport(a.Util.isValid(t) ? t : this.festivalHub)
			}, e
		}(i(118).Skin);
	e.GameFestival = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		a = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		o = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var r = i(9),
		s = i(6),
		l = i(31),
		c = function() {
			function t(t) {
				this.game = t
			}
			return t.prototype.onEventReceived = function(t) {
				this.game.prodigy.gameContainer.get(s.EProdigyInjectionIdentifiers.AnalyticsService).sendAnalytic(t)
			}, t.prototype.getGame = function() {
				return this.game
			}, t = n([r.injectable(), o(0, r.inject(s.EProdigyInjectionIdentifiers.Game)), a("design:paramtypes", [l.ProdigyGame])], t)
		}();
	e.AnalyticsReceiverBase = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(48),
		o = i(56),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this) || this;
				return n.player = null, n.stepsBehind = 0, n.isIdling = !1, n.coords = [], n.renderer = null, n.player = e, n.stepsBehind = i, n
			}
			return n(e, t), e.prototype.create = function() {
				t.prototype.create.call(this), this.renderer = this.gameObject.findComponent(o.Renderer), this.renderer.setAnchor(.5, 0)
			}, e.prototype.update = function() {
				t.prototype.update.call(this);
				var e = this.coords[this.coords.length - 1],
					i = Math.round(this.player.x),
					n = Math.round(this.player.y);
				if (0 !== this.coords.length && e.x === this.player.x && e.y === this.player.y || this.coords.push({
						x: i,
						y: n
					}), this.coords.length > this.stepsBehind) {
					var a = this.coords[0];
					this.gameObject.position.x < a.x ? this.gameObject.scale.x = 1 : this.gameObject.position.x > a.x && (this.gameObject.scale.x = -1), this.isIdling && (this.renderer.playAnimation("walk", !0), this.isIdling = !1), this.gameObject.position.set(a.x, a.y), this.coords.splice(0, 1)
				} else this.isIdling || (this.renderer.playAnimation("idle", !0), this.isIdling = !0)
			}, e
		}(a.Component);
	e.Follow = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i, n, a, o, r, s) {
			var l = t.call(this, e, i, s, null, n, a) || this;
			return l.body = l.add(e.prodigy.create.sprite(-35, 0, "atlas-65", "mini")), l.body.anchor.setTo(0, 1), l.body.animations.add("stand", ["mini", "mini1", "mini2", "mini3", "mini2", "mini1"], 10, !0, !1), l.body.animations.play("stand"), l.sprites.add(l.body), l.nameText.GameObject.y += 40, l.showName(), l
		}
		return n(e, t), e.prototype.bossStart = function(t) {
			this.rightArm = this.add(t.prodigy.create.sprite(50, -30, "atlas-65", "hand_1")), this.body = this.add(t.prodigy.create.sprite(-40, -90, "atlas-65", "body")), this.head = this.add(t.prodigy.create.sprite(-20, -45, "atlas-65", "face_1")), this.hat = this.add(t.prodigy.create.sprite(-55, -135, "atlas-65", "hat_0")), this.leftArm = this.add(t.prodigy.create.sprite(-50, -30, "atlas-65", "hand_2")), this.sprites.add(this.rightArm), this.sprites.add(this.body), this.sprites.add(this.head), this.sprites.add(this.hat), this.sprites.add(this.leftArm), t.add.tween(this.head).to({
				y: "-1"
			}, 200, Phaser.Easing.Linear.None).to({
				y: "+2"
			}, 500, Phaser.Easing.Linear.None).to({
				y: this.head.y
			}, 400, Phaser.Easing.Linear.None).loop().start(), t.add.tween(this.hat).to({
				y: "-1"
			}, 200, Phaser.Easing.Linear.None).to({
				y: "+2"
			}, 500, Phaser.Easing.Linear.None).to({
				y: this.hat.y
			}, 400, Phaser.Easing.Linear.None).loop().start(), t.add.tween(this.leftArm).to({
				y: "+2"
			}, 800, Phaser.Easing.Linear.None).delay(600).to({
				y: this.leftArm.y
			}, 800, Phaser.Easing.Linear.None).loop().start(), this.rightArm.frameName = "spatula_0", this.rightArm.y = this.rightArm.y - 60, this.rightArm.x = this.rightArm.x - 15
		}, e.prototype.entreeStart = function() {
			this.rightArm.frameName = "spatula_1", this.rightArm.x = this.rightArm.x + 15, this.hat.frameName = "hat_1"
		}, e.prototype.dessertStart = function() {
			this.hat.frameName = "hat_2", this.hat.x = this.hat.x - 20, this.hat.y = this.hat.y - 5, this.head.frameName = "face_2"
		}, e
	}(i(17).CreatureContainer);
	e.CebolliniEvent = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		a = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		o = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var r = i(9),
		s = i(6),
		l = function() {
			function t(t) {
				this.httpClient = null, this.httpClient = t
			}
			return t.ENVIRONMENT_URLS = {
				local: "https://" + window.location.host + "/",
				dev: "https://www.prodigygame.net/",
				staging: "https://www.prodigygame.org/",
				production: "https://www.prodigygame.com/"
			}, t = n([r.injectable(), o(0, r.inject(s.EProdigyInjectionIdentifiers.HttpClient)), a("design:paramtypes", [Object])], t)
		}();
	e.HttpDataProvider = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
		var a, o = arguments.length,
			r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
		else
			for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
		return o > 3 && r && Object.defineProperty(e, i, r), r
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(9),
		r = function() {
			function t() {
				this.isServerDeltaSet = !1, this.serverTimeDeltaMs = 0
			}
			return t.prototype.setServerTime = function(t) {
				var e = this.getLocalTimeMs();
				this.serverTimeDeltaMs = t - e, this.isServerDeltaSet = !0
			}, t.prototype.getServerTimeMs = function() {
				return this.isServerDeltaSet || a.Logger.log("Server time has not been set yet.", a.LogLevel.Warning), this.getLocalTimeMs() + this.serverTimeDeltaMs
			}, t.prototype.getLocalTimeMs = function() {
				return Date.now()
			}, t.prototype.getServerTimeDeltaMs = function() {
				return this.serverTimeDeltaMs
			}, t = n([o.injectable()], t)
		}();
	e.TimeManager = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		a = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		o = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		},
		r = this && this.__awaiter || function(t, e, i, n) {
			return new(i || (i = Promise))(function(a, o) {
				function r(t) {
					try {
						l(n.next(t))
					} catch (t) {
						o(t)
					}
				}

				function s(t) {
					try {
						l(n.throw(t))
					} catch (t) {
						o(t)
					}
				}

				function l(t) {
					t.done ? a(t.value) : new i(function(e) {
						e(t.value)
					}).then(r, s)
				}
				l((n = n.apply(t, e || [])).next())
			})
		},
		s = this && this.__generator || function(t, e) {
			var i, n, a, o, r = {
				label: 0,
				sent: function() {
					if (1 & a[0]) throw a[1];
					return a[1]
				},
				trys: [],
				ops: []
			};
			return o = {
				next: s(0),
				throw: s(1),
				return: s(2)
			}, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
				return this
			}), o;

			function s(o) {
				return function(s) {
					return function(o) {
						if (i) throw new TypeError("Generator is already executing.");
						for (; r;) try {
							if (i = 1, n && (a = n[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(a = a.call(n, o[1])).done) return a;
							switch (n = 0, a && (o = [0, a.value]), o[0]) {
								case 0:
								case 1:
									a = o;
									break;
								case 4:
									return r.label++, {
										value: o[1],
										done: !1
									};
								case 5:
									r.label++, n = o[1], o = [0];
									continue;
								case 7:
									o = r.ops.pop(), r.trys.pop();
									continue;
								default:
									if (!(a = (a = r.trys).length > 0 && a[a.length - 1]) && (6 === o[0] || 2 === o[0])) {
										r = 0;
										continue
									}
									if (3 === o[0] && (!a || o[1] > a[0] && o[1] < a[3])) {
										r.label = o[1];
										break
									}
									if (6 === o[0] && r.label < a[1]) {
										r.label = a[1], a = o;
										break
									}
									if (a && r.label < a[2]) {
										r.label = a[2], r.ops.push(o);
										break
									}
									a[2] && r.ops.pop(), r.trys.pop();
									continue
							}
							o = e.call(t, r)
						} catch (t) {
							o = [6, t], n = 0
						} finally {
							i = a = 0
						}
						if (5 & o[0]) throw o[1];
						return {
							value: o[0] ? o[1] : void 0,
							done: !0
						}
					}([o, s])
				}
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var l = i(1),
		c = i(9),
		h = i(767),
		u = i(256),
		p = i(6),
		d = i(31),
		g = i(0),
		f = i(260),
		y = i(254),
		m = function() {
			function t(t, e, i) {
				this.timeManager = null, this.httpClient = null, this.timeManager = t, this.httpClient = e, this.game = i
			}
			return e = t, t.prototype.setToken = function(t) {
				if (g.Util.isValid(t)) {
					var e = h.read(t);
					h.validate(e) ? (h.keep(e), this.timeManager.setServerTime(1e3 * e.claim.iat), l.Logger.log("JWT token set with expiry time in seconds since epoch: " + e.claim.exp + ".", l.LogLevel.Verbose)) : l.Logger.log("A token was received but was invalid.", l.LogLevel.Error)
				} else h.forget()
			}, t.prototype.getAuthenticationData = function() {
				return r(this, void 0, void 0, function() {
					var t, i, n;
					return s(this, function(a) {
						switch (a.label) {
							case 0:
								return (t = h.remember()) ? (i = t.claim.exp, this.timeManager.getServerTimeMs() / 1e3 > i - e.TOKEN_EXPIRY_OFFSET_S ? (l.Logger.log("JWT token has or will expire soon", l.LogLevel.Verbose), [4, this.renewToken()]) : [3, 2]) : [3, 3];
							case 1:
								if (!1 === a.sent()) return [2, Promise.reject(new Error("JWT token failed to renew!"))];
								a.label = 2;
							case 2:
								return n = (n = h.get()).substr(7), [2, Promise.resolve({
									jwt: n
								})];
							case 3:
								return l.Logger.log("No JWT token in local storage for authentication", l.LogLevel.Verbose), [2, Promise.reject(new Error("No JWT token in local storage for authentication"))]
						}
					})
				})
			}, t.prototype.renewToken = function() {
				return r(this, void 0, void 0, function() {
					var t, e, i, n, a, o;
					return s(this, function(r) {
						switch (r.label) {
							case 0:
								t = f.APIClient.ENVIRONMENT_URL_ROOTS[g.Util.getEnvironment()], e = this.game.prodigy.player.userID, i = t + "game-api/jwt/" + e + "?token=" + this.game.prodigy.network.api.getUserToken(), r.label = 1;
							case 1:
								return r.trys.push([1, 3, , 4]), [4, this.httpClient.get(i)];
							case 2:
								return n = r.sent(), a = n.data.token, this.setToken(a), [2, Promise.resolve(!0)];
							case 3:
								return o = r.sent(), l.Logger.log(o, l.LogLevel.Error), [3, 4];
							case 4:
								return [2, Promise.resolve(!1)]
						}
					})
				})
			}, t.TOKEN_EXPIRY_OFFSET_S = 600, t = e = n([c.injectable(), o(0, c.inject(p.EProdigyInjectionIdentifiers.TimeManager)), o(1, c.inject(p.EProdigyInjectionIdentifiers.HttpClient)), o(2, c.inject(p.EProdigyInjectionIdentifiers.Game)), a("design:paramtypes", [y.TimeManager, u.FetchLibraryHttpClient, d.ProdigyGame])], t);
			var e
		}();
	e.JWTAuthProvider = m
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		a = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		o = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		},
		r = this && this.__awaiter || function(t, e, i, n) {
			return new(i || (i = Promise))(function(a, o) {
				function r(t) {
					try {
						l(n.next(t))
					} catch (t) {
						o(t)
					}
				}

				function s(t) {
					try {
						l(n.throw(t))
					} catch (t) {
						o(t)
					}
				}

				function l(t) {
					t.done ? a(t.value) : new i(function(e) {
						e(t.value)
					}).then(r, s)
				}
				l((n = n.apply(t, e || [])).next())
			})
		},
		s = this && this.__generator || function(t, e) {
			var i, n, a, o, r = {
				label: 0,
				sent: function() {
					if (1 & a[0]) throw a[1];
					return a[1]
				},
				trys: [],
				ops: []
			};
			return o = {
				next: s(0),
				throw: s(1),
				return: s(2)
			}, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
				return this
			}), o;

			function s(o) {
				return function(s) {
					return function(o) {
						if (i) throw new TypeError("Generator is already executing.");
						for (; r;) try {
							if (i = 1, n && (a = n[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(a = a.call(n, o[1])).done) return a;
							switch (n = 0, a && (o = [0, a.value]), o[0]) {
								case 0:
								case 1:
									a = o;
									break;
								case 4:
									return r.label++, {
										value: o[1],
										done: !1
									};
								case 5:
									r.label++, n = o[1], o = [0];
									continue;
								case 7:
									o = r.ops.pop(), r.trys.pop();
									continue;
								default:
									if (!(a = (a = r.trys).length > 0 && a[a.length - 1]) && (6 === o[0] || 2 === o[0])) {
										r = 0;
										continue
									}
									if (3 === o[0] && (!a || o[1] > a[0] && o[1] < a[3])) {
										r.label = o[1];
										break
									}
									if (6 === o[0] && r.label < a[1]) {
										r.label = a[1], a = o;
										break
									}
									if (a && r.label < a[2]) {
										r.label = a[2], r.ops.push(o);
										break
									}
									a[2] && r.ops.pop(), r.trys.pop();
									continue
							}
							o = e.call(t, r)
						} catch (t) {
							o = [6, t], n = 0
						} finally {
							i = a = 0
						}
						if (5 & o[0]) throw o[1];
						return {
							value: o[0] ? o[1] : void 0,
							done: !0
						}
					}([o, s])
				}
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var l = i(1),
		c = i(9),
		h = i(259),
		u = i(199),
		p = i(771),
		d = i(6),
		g = i(31),
		f = i(0),
		y = i(255),
		m = i(765),
		_ = function() {
			function t(t) {
				this.showingTokenExpiredPopup = !1, this.game = t
			}
			return e = t, t.prototype.get = function(t, i, n, a) {
				return void 0 === i && (i = null), void 0 === n && (n = null), void 0 === a && (a = 1e4), r(this, void 0, void 0, function() {
					var o = this;
					return s(this, function(c) {
						return [2, new Promise(function(c, d) {
							return r(o, void 0, void 0, function() {
								var o, r, g, f, y, _, v, E, b;
								return s(this, function(s) {
									switch (s.label) {
										case 0:
											if (o = {
													method: "GET"
												}, r = h({}, n), null === i) return [3, 4];
											s.label = 1;
										case 1:
											return s.trys.push([1, 3, , 4]), [4, i.getAuthenticationData()];
										case 2:
											return g = s.sent(), h(r, g), [3, 4];
										case 3:
											return f = s.sent(), l.Logger.log("This request to " + t + " failed: " + f.errorMessage, l.LogLevel.Warning), [3, 4];
										case 4:
											y = t, u(r) || (y = y + "?" + p.stringify(r)), s.label = 5;
										case 5:
											return s.trys.push([5, 8, , 9]), _ = c, v = this.processRequestResponse, E = [y], [4, e.sendRequest(y, o, a)];
										case 6:
											return [4, v.apply(this, E.concat([s.sent()]))];
										case 7:
											return _.apply(void 0, [s.sent()]), [3, 9];
										case 8:
											return b = s.sent(), this.handleError(t, i, b), b instanceof m.HttpDataProviderFailure ? d(b) : d(new m.HttpDataProviderFailure(0, "An unknown error occurred")), [3, 9];
										case 9:
											return [2]
									}
								})
							})
						})]
					})
				})
			}, t.prototype.post = function(t, i, n, a) {
				return void 0 === i && (i = null), void 0 === n && (n = null), void 0 === a && (a = 1e4), r(this, void 0, void 0, function() {
					var o = this;
					return s(this, function(c) {
						return [2, new Promise(function(c, u) {
							return r(o, void 0, void 0, function() {
								var o, r, p, d, g, f, y, m;
								return s(this, function(s) {
									switch (s.label) {
										case 0:
											if (o = {
													method: "POST",
													headers: new Headers({
														"Content-Type": "application/json"
													})
												}, r = h({}, n), null === i) return [3, 4];
											s.label = 1;
										case 1:
											return s.trys.push([1, 3, , 4]), [4, i.getAuthenticationData()];
										case 2:
											return p = s.sent(), h(r, p), [3, 4];
										case 3:
											return d = s.sent(), l.Logger.log("Request to " + t + " failed: " + d.errorMessage, l.LogLevel.Error), [3, 4];
										case 4:
											o.body = JSON.stringify(r), s.label = 5;
										case 5:
											return s.trys.push([5, 8, , 9]), g = c, f = this.processRequestResponse, y = [t], [4, e.sendRequest(t, o, a)];
										case 6:
											return [4, f.apply(this, y.concat([s.sent()]))];
										case 7:
											return g.apply(void 0, [s.sent()]), [3, 9];
										case 8:
											return m = s.sent(), this.handleError(t, i, m), u(m), [3, 9];
										case 9:
											return [2]
									}
								})
							})
						})]
					})
				})
			}, t.prototype.handleError = function(t, e, i) {
				if (i instanceof m.HttpDataProviderFailure) {
					if (e instanceof y.JWTAuthProvider && 401 === i.statusCode && !this.showingTokenExpiredPopup) {
						var n = this.game.prodigy.gameContainer.get(l.GameIdentifiers.LocalizationService);
						this.game.prodigy.open.message(n.getText("TOKEN_EXPIRE_MESSAGE"), this.handleErrorCallback.bind(this), null, n.getText("MESSAGE_TITLE_UH_OH")), this.showingTokenExpiredPopup = !0
					}
					l.Logger.log("Request to " + t + " failed: " + i.errorMessage, l.LogLevel.Warning)
				} else l.Logger.log("Request to " + t + " failed: " + i.message, l.LogLevel.Warning)
			}, t.prototype.handleErrorCallback = function() {
				this.showingTokenExpiredPopup = !1, this.game.prodigy.network.logout()
			}, t.sendRequest = function(t, e, i) {
				return void 0 === i && (i = 1e4), r(this, void 0, void 0, function() {
					return s(this, function(n) {
						return [2, new Promise(function(n, a) {
							setTimeout(function() {
								a(new m.HttpDataProviderFailure(0, "Failed to connect to over HTTP"))
							}, i), fetch(t, {
								method: e.method,
								body: e.body,
								headers: f.Util.isValid(e.headers) ? e.headers : []
							}).then(function(t) {
								n(t)
							}).catch(function(t) {
								a(t)
							})
						})]
					})
				})
			}, t.prototype.processRequestResponse = function(t, e) {
				return r(this, void 0, void 0, function() {
					var i;
					return s(this, function(n) {
						switch (n.label) {
							case 0:
								return f.Util.isValid(e) ? e.status >= 200 && e.status <= 299 ? (l.Logger.log("Request to " + t + " succeeded with status " + e.status, l.LogLevel.Verbose), 204 !== e.status ? [3, 1] : [2, Promise.resolve(null)]) : [3, 5] : [3, 7];
							case 1:
								return n.trys.push([1, 3, , 4]), [4, e.json()];
							case 2:
								return [2, n.sent()];
							case 3:
								return n.sent(), [2, Promise.resolve(null)];
							case 4:
								return [3, 6];
							case 5:
								switch (i = "", e.status) {
									case 500:
										i = "An internal server error occurred";
										break;
									case 503:
										i = "The API is currently in maintenance mode";
										break;
									default:
										i = "Unexpected response code " + e.status + " was returned when connecting to " + t
								}
								throw l.Logger.log("Request to " + t + " failed: " + i, l.LogLevel.Warning), new m.HttpDataProviderFailure(e.status, i);
							case 6:
								return [3, 8];
							case 7:
								throw new m.HttpDataProviderFailure(0, "Failed to connect to over HTTP");
							case 8:
								return [2]
						}
					})
				})
			}, t.prototype.onLogin = function() {
				this.showingTokenExpiredPopup = !1
			}, t = e = n([c.injectable(), o(0, c.inject(d.EProdigyInjectionIdentifiers.Game)), a("design:paramtypes", [g.ProdigyGame])], t);
			var e
		}();
	e.FetchLibraryHttpClient = _
}, function(t, e) {
	t.exports = function(t, e) {
		return "__proto__" == e ? void 0 : t[e]
	}
}, function(t, e, i) {
	var n = i(194),
		a = i(111);
	t.exports = function(t, e, i) {
		(void 0 === i || a(t[e], i)) && (void 0 !== i || e in t) || n(t, e, i)
	}
}, function(t, e, i) {
	var n = i(781),
		a = i(280)(function(t, e, i) {
			n(t, e, i)
		});
	t.exports = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__awaiter || function(t, e, i, n) {
			return new(i || (i = Promise))(function(a, o) {
				function r(t) {
					try {
						l(n.next(t))
					} catch (t) {
						o(t)
					}
				}

				function s(t) {
					try {
						l(n.throw(t))
					} catch (t) {
						o(t)
					}
				}

				function l(t) {
					t.done ? a(t.value) : new i(function(e) {
						e(t.value)
					}).then(r, s)
				}
				l((n = n.apply(t, e || [])).next())
			})
		},
		a = this && this.__generator || function(t, e) {
			var i, n, a, o, r = {
				label: 0,
				sent: function() {
					if (1 & a[0]) throw a[1];
					return a[1]
				},
				trys: [],
				ops: []
			};
			return o = {
				next: s(0),
				throw: s(1),
				return: s(2)
			}, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
				return this
			}), o;

			function s(o) {
				return function(s) {
					return function(o) {
						if (i) throw new TypeError("Generator is already executing.");
						for (; r;) try {
							if (i = 1, n && (a = n[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(a = a.call(n, o[1])).done) return a;
							switch (n = 0, a && (o = [0, a.value]), o[0]) {
								case 0:
								case 1:
									a = o;
									break;
								case 4:
									return r.label++, {
										value: o[1],
										done: !1
									};
								case 5:
									r.label++, n = o[1], o = [0];
									continue;
								case 7:
									o = r.ops.pop(), r.trys.pop();
									continue;
								default:
									if (!(a = (a = r.trys).length > 0 && a[a.length - 1]) && (6 === o[0] || 2 === o[0])) {
										r = 0;
										continue
									}
									if (3 === o[0] && (!a || o[1] > a[0] && o[1] < a[3])) {
										r.label = o[1];
										break
									}
									if (6 === o[0] && r.label < a[1]) {
										r.label = a[1], a = o;
										break
									}
									if (a && r.label < a[2]) {
										r.label = a[2], r.ops.push(o);
										break
									}
									a[2] && r.ops.pop(), r.trys.pop();
									continue
							}
							o = e.call(t, r)
						} catch (t) {
							o = [6, t], n = 0
						} finally {
							i = a = 0
						}
						if (5 & o[0]) throw o[1];
						return {
							value: o[0] ? o[1] : void 0,
							done: !0
						}
					}([o, s])
				}
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = i(259),
		s = i(6),
		l = i(157),
		c = i(0),
		h = function() {
			function t(e, i, n, a, r, s) {
				if (this.userID = null, this.uniqueKey = null, this.genericAjaxError = function() {}, this.defaultSettings = null, this.defaultHandlers = {}, this.wasSocketConnected = !1, this.worldID = 0, this.gameContainer = null, this.socket = null, this.zone = null, this.clientVersion = null, this.httpClient = null, this.jwtAuthProvider = null, this.legacyAuthProvider = null, this.gameContainer = n, this.clientVersion = e.clientVersion, this.httpClient = a, this.defaultSettings = t.getDefaultSettings(), this.httpClient = a, this.jwtAuthProvider = r, this.legacyAuthProvider = s, null !== e)
					for (var l in e) void 0 !== e[l] && (this.defaultSettings[l] = e[l]);
				if (this.defaultHandlers[500] = function() {
						o.Logger.log("Something happened with the webservice...", o.LogLevel.Error)
					}, this.defaultHandlers[404] = function() {
						o.Logger.log("The data you are attempting to access does not exist.", o.LogLevel.Verbose)
					}, null !== i)
					for (var c = Object.keys(i), h = c.length, u = 0; u < h; ++u) void 0 !== i[c[u]] && (this.defaultHandlers[c[u]] = i[c[u]])
			}
			return t.prototype.setErrorHandler = function(t) {
				this.genericAjaxError = t
			}, t.prototype.getUserToken = function() {
				return this.uniqueKey
			}, t.prototype.request = function(t, e, i, n, a, r) {
				var s = this;
				void 0 === i && (i = {}), void 0 === n && (n = {}), void 0 === a && (a = ""), void 0 === r && (r = {}), i["auth-key"] = this.uniqueKey, i.token = this.uniqueKey;
				var l = {
					url: e,
					data: i,
					timeout: 3e4,
					type: t,
					success: n[200],
					crossDomain: !0,
					error: function(t) {
						"Service Unavailable" === t.responseText && (t.status = 503), void 0 !== n[t.status] ? "function" == typeof n[t.status] ? n[t.status](a, t.status) : o.Logger.log("APIClient Error: handler " + t.status + " is not a function", o.LogLevel.Error) : s.genericAjaxError(a, t.status)
					}
				};
				r.ignoreHeaders && (l.headers = null), $.ajax(l)
			}, t.prototype.get = function(t, e, i, n) {
				"/status" === t ? this.request("get", "" + this.defaultSettings.root + t.substr(1), e, i, n) : this.request("get", "" + this.defaultSettings.root + this.defaultSettings.version + t, e, i, n)
			}, t.prototype.post = function(t, e, i, n) {
				this.request("post", "" + this.defaultSettings.root + this.defaultSettings.version + t, e, i, n)
			}, t.verifyHandlers = function(t, e, i) {
				for (var n = e.length, a = 0; a < n; ++a)
					if (void 0 === t[e[a]]) return o.Logger.log("Missing method for " + i + " statusCode: " + e[a], o.LogLevel.Error), null;
				return t
			}, t.prototype.assignHandlers = function(e, i, n) {
				for (var a = r({}, this.defaultHandlers), o = Object.keys(e), s = o.length, l = 0; l < s; ++l) a[o[l]] = e[o[l]];
				return void 0 !== i ? t.verifyHandlers(a, i, n) : null
			}, t.prototype.joinMultiplayerServer = function(t, e, i, n, a, r, l, h) {
				var u = this;
				this.wasSocketConnected = !1, this.worldID = t;
				var p = this.assignHandlers(i, ["200", "503"], "Join multiplayer Server");
				if (null !== p) {
					var d = this.userID,
						g = this.uniqueKey;
					if (void 0 === d || void 0 === g) return o.Logger.log("missing user id or token", o.LogLevel.Verbose), !1;
					var f = !1,
						y = this.gameContainer.get(s.EProdigyInjectionIdentifiers.FeatureFlagProvider).getMultiplayerClusterForWorld(t),
						m = y.url;
					/^https:\/\//.test(m) && (f = !0);
					var _ = {
							userId: d,
							worldId: t,
							serverId: y.ID,
							userToken: g
						},
						v = {
							"force new connection": !0,
							reconnection: !0,
							transports: ["websocket", "xhr-polling", "jsonp-polling", "htmlfile"],
							reconnectionDelay: 1e4,
							reconnectionDelayMax: 15e3,
							reconnectionAttempts: 10,
							secure: f,
							query: _,
							path: c.Util.isValid(y.path) ? y.path : null
						};
					return this.socket = io.connect(m, v), this.socket.on("connect", function() {
						o.Logger.log("client connected", o.LogLevel.Verbose), u.wasSocketConnected = !0
					}), this.socket.on("connect", p[200]), this.socket.on("connect_error", function(t) {
						o.Logger.log("connect_error", o.LogLevel.Verbose), o.Logger.log(t, o.LogLevel.Error), u.wasSocketConnected || (u.socket.disconnect(), u.socket = null)
					}), this.socket.on("error", function(t) {
						c.Util.isValid(t) && o.Logger.log(t, o.LogLevel.Error);
						var e = t;
						c.Util.isValid(e.code) && c.Util.isValid(p[e.code]) && p[e.code]()
					}), this.socket.on("connect_error", p[503]), this.socket.on("reconnect_attempt", function() {
						c.Util.isValid(u.zone) ? _.zone = u.zone : c.Util.isValid(_.zone) || delete _.zone, u.socket.io.opts.query = _
					}), this.socket.on("message", function(t) {
						n(t)
					}), this.socket.on("playerJoined", function(t) {
						o.Logger.log("player Joined - playerId: " + t, o.LogLevel.Verbose), l(t)
					}), this.socket.on("playerLeft", function(t) {
						o.Logger.log("player Left - playerId: " + t, o.LogLevel.Verbose), h(t)
					}), this.socket.on("playerList", function(t) {
						o.Logger.log("player list received", o.LogLevel.Verbose), a(t)
					}), this.socket.on("disconnect", function() {
						o.Logger.log("Disconnected from multiplayer server", o.LogLevel.Verbose), r()
					}), !0
				}
				return !1
			}, t.prototype.emitMessage = function(t, e) {
				return null !== this.assignHandlers(e, ["200"], "emit message") && null !== this.socket && (this.socket.emit("message", t), !0)
			}, t.prototype.getWorldList = function(t) {
				var e = this.assignHandlers(t, ["200", "400", "500", "503"], "get world list");
				if (null !== e) {
					var i = this.defaultSettings.url.multiplayer + "worlds";
					return this.request("get", i, {}, e, "getWorldList", {
						ignoreHeaders: !0
					}), !0
				}
				return !1
			}, t.prototype.login = function(t, e) {
				var i = this;
				if (null !== this.uniqueKey && null !== this.userID) return !1;
				this.httpClient.onLogin();
				var n = this.assignHandlers(e, ["200", "400", "401", "404", "426"], "login");
				if (null !== n) {
					var a = n[200];
					return n[200] = function(t) {
						i.uniqueKey = t.character.authToken, i.userID = t.character.userID, a(t)
					}, null !== this.clientVersion && (t.clientVersion = this.clientVersion), this.request("post", this.defaultSettings.root + "v4/login", t, n, "login"), !0
				}
				return !1
			}, t.prototype.adminLogin = function(t, e, i, n) {
				var a = this,
					o = this.assignHandlers(n, ["200", "401", "404"], "Admin Login");
				if (null !== o) {
					var r = this.defaultSettings.root + "v2/admin/user/info",
						s = o[200];
					return o[200] = function(t) {
						a.uniqueKey = t.authToken, a.userID = t.userID, s(t)
					}, this.request("get", r, {
						userId: t,
						sessionToken: e,
						key: i
					}, o, "adminLogin", {
						ignoreHeaders: !0
					}), !0
				}
				return !1
			}, t.prototype.verifyClassCode = function(t, e) {
				var i = this.assignHandlers(e, ["200", "400", "404", "500"], "verifyClassCode");
				return null !== i && (this.request("post", this.defaultSettings.root + "v1/classCode/" + t, {}, i, "verify-class-code"), !0)
			}, t.prototype.attachStudentUsingClassCode = function(t, e) {
				var i = this.assignHandlers(e, ["200"], "attachStudentUsingClassCode");
				return null !== i && (this.request("post", this.defaultSettings.root + "v1/users/" + this.userID + "/teacher", {
					classCode: t
				}, i, "attachStudentUsingCassCode"), !0)
			}, t.prototype.create = function(t, e, i, n) {
				i.first_name = t, i.last_name = e, null !== this.clientVersion && (i.clientVersion = this.clientVersion);
				var a = this.assignHandlers(n, ["200", "400", "426", "500"], "create");
				return null !== a && (this.request("post", this.defaultSettings.root + "v2/users", i, a, "create"), !0)
			}, t.prototype.createCharacter = function(t, e, i) {
				var n = this.assignHandlers(i, ["200"], "createCharacter");
				return null !== n && (this.request("post", this.defaultSettings.root + "v2/characters/" + t, {
					data: JSON.stringify(e)
				}, n, "createCharacter"), !0)
			}, t.prototype.updateUser = function(t, e) {
				var i = this.assignHandlers(e, ["200", "401"], "update user properties");
				return t.clientVersion = this.clientVersion, null !== i && (this.request("patch", this.defaultSettings.root + "v2/users/" + this.userID, t, i, "update"), !0)
			}, t.prototype.setParentEmail = function(t, e) {
				var i = this.assignHandlers(e, ["200", "401", "500"], "update user parent email");
				return null !== i && (this.request("patch", this.defaultSettings.root + "v2/users/" + this.userID, {
					parentEmail: t
				}, i, "updateParentEmail"), !0)
			}, t.prototype.logout = function(t) {
				this.uniqueKey = null, this.userID = null, null !== this.socket && (this.socket.disconnect(), this.socket = null), t[200] && t[200]()
			}, t.prototype.updateCharacter = function(t, e, i) {
				if (c.Util.isValid(e) && c.Util.isValid(i) && !this.httpClient.showingTokenExpiredPopup && !this.httpClient.game.prodigy.network.expiredToken) {
					var n = this.defaultSettings.root + "v3/characters/" + this.userID,
						a = {
							data: JSON.stringify(t)
						};
					return this.httpClient.post(n, this.jwtAuthProvider, a).then(e.bind(this)).catch(i.bind(this)), !0
				}
				return !1
			}, t.prototype.leaveZone = function() {
				null !== this.socket && (this.zone = null, this.socket.emit("leaveZone"))
			}, t.prototype.joinZone = function(t) {
				null !== this.socket && (this.zone = t, this.socket.emit("joinZone", t))
			}, t.prototype.loadEducation = function(t) {
				return n(this, void 0, void 0, function() {
					var e, i, n, o, r, s, l;
					return a(this, function(a) {
						switch (a.label) {
							case 0:
								return e = this.defaultSettings.url.education + "v1/users/" + this.userID, i = this.defaultSettings.url.assignments + "v1/user/" + this.userID + "/assignments/active", n = this.defaultSettings.url.web + "v1/students/" + this.userID + "/parent-goal", [4, Promise.all([this.httpClient.get(e, this.legacyAuthProvider, {
									classIDs: t.join(",")
								}, 5e3), this.httpClient.get(i, this.legacyAuthProvider, null, 5e3).catch(function(t) {
									return []
								}), this.httpClient.get(n, this.legacyAuthProvider, null, 5e3).catch(function(t) {
									return {
										goalId: null
									}
								})])];
							case 1:
								return o = a.sent(), r = o[0], s = o[1], l = o[2], c.Util.isValid(r) && (c.Util.isValid(s) && (r.homework = s), c.Util.isValid(l) && (r.goalId = l.goalId)), [2, r]
						}
					})
				})
			}, t.prototype.updateStrandBasedPlacementTest = function(t, e, i) {
				var n = this.assignHandlers(i, ["200"], "update strand-based placement test");
				if (n) {
					var a = this.defaultSettings.url.education + "v2/placement-tests/instance/" + t + "/" + this.userID;
					return e.token = this.uniqueKey, e.userID = this.userID, this.request("post", a, e, n, "updateStrandBasedPlacementTest"), !0
				}
				return !1
			}, t.prototype.updatePlanStudent = function(t, e, i, n) {
				var a = this.assignHandlers(n, ["200"], "fail plan"),
					o = {
						token: this.uniqueKey,
						userID: this.userID
					};
				return void 0 !== e && (o.currentSkillId = e), void 0 !== i && (o.hasFailed = i ? 1 : 0), null !== a && (this.request("post", this.defaultSettings.url.planner + "v1/plans/" + t + "/users/" + this.userID, o, a, "updatePlanStudent"), !0)
			}, t.prototype.updatePlacementTest = function(t, e, i) {
				var n = this.assignHandlers(i, ["200"], "update placement test");
				return null !== n && (this.request("post", this.defaultSettings.url.account + "v2/users/" + this.userID + "/education/" + t + "/placement-test", {
					ownerIDs: e
				}, n, "upgradePlacementTest"), !0)
			}, t.prototype.saveAnswer = function(t, e) {
				var i = this.assignHandlers(e, ["200"], "save answer");
				return null !== i && (this.request("post", this.defaultSettings.root + "v1/users/" + this.userID + "/answers", t, i, "saveAnswer"), !0)
			}, t.prototype.getUserClass = function(t, e) {
				var i = this.assignHandlers(e, ["200"], "get user class");
				return null !== i && (this.request("get", this.defaultSettings.url.account + "v2/user/" + this.userID + "/class/" + t, {}, i, "getUserClass"), !0)
			}, t.prototype.getClassLeaderboard = function(t, e, i, n) {
				var a = this.assignHandlers(n, ["200"], "get leaderboard");
				return null !== a && (this.request("get", this.defaultSettings.url.leaderboard + "class/" + t, {
					limit: i,
					storeDataInPlayerList: !0,
					seasonID: e
				}, a, "leaderboard", {
					ignoreHeaders: !0
				}), !0)
			}, t.prototype.getSeasonLeaderboard = function(t, e, i, n) {
				void 0 === e && (e = 0), void 0 === i && (i = 30), void 0 === n && (n = {});
				var a = this.assignHandlers(n, ["200"], "get season leaderboard");
				return null !== a && (this.request("get", this.defaultSettings.url.leaderboard + "season/" + t, {
					page: e,
					limit: i
				}, a, "leaderboard", {
					ignoreHeaders: !0
				}), !0)
			}, t.prototype.getUserLeaderboard = function(t, e) {
				var i = this.assignHandlers(e, ["200"], "get user leaderboard");
				return null !== i && (this.request("get", this.defaultSettings.url.leaderboard + "season/" + t + "/user/" + this.userID, {}, i, "leaderboard", {
					ignoreHeaders: !0
				}), !0)
			}, t.prototype.getUserRank = function(t, e, i) {
				var n = this.assignHandlers(i, ["200"], "get user rank");
				return null !== n && (this.request("get", this.defaultSettings.url.leaderboard + "season/" + e + "/user/" + t + "/rank", {}, n, "leaderboard", {
					ignoreHeaders: !0
				}), !0)
			}, t.prototype.updateUserLeaderboard = function(t, e, i) {
				var n = this.assignHandlers(i, ["200"], "update user leaderboard");
				return null !== n && (this.request("post", this.defaultSettings.url.leaderboard + "season/" + t + "/user/" + this.userID + "/pvp", {
					seasonID: t,
					action: e
				}, n, "updateUserLeaderboard"), !0)
			}, t.prototype.initUserLeaderboard = function(t) {
				var e = this.assignHandlers(t, ["200"], "init user leaderboard");
				return null !== e && (this.request("get", this.defaultSettings.url.leaderboard + "user/" + this.userID + "/init", {}, e, "initUserLeaderboard"), !0)
			}, t.prototype.getUserFeed = function(t, e, i, n, a, o) {
				void 0 === t && (t = null), void 0 === e && (e = null), void 0 === i && (i = 0), void 0 === n && (n = 30), void 0 === a && (a = null);
				var r = this.assignHandlers(o, ["200"], "get user feed");
				if (null !== r) {
					var s = this.defaultSettings.url.gameFeed + "v2/user/" + this.userID + "/view";
					return c.Util.isValid(e) && (s = s + "?targetUserID=" + e), this.request("get", s, {
						feedTypeID: t,
						offset: i,
						limit: n,
						startDate: a
					}, r, "getUserFeed"), !0
				}
				return !1
			}, t.prototype.createUserFeed = function(t, e, i, n, a, o) {
				void 0 === t && (t = null), void 0 === e && (e = "{}"), void 0 === i && (i = ""), void 0 === n && (n = "false"), void 0 === o && (o = "");
				var r = this.assignHandlers(a, ["200"], "create user feed");
				return null !== r && (this.request("post", this.defaultSettings.url.gameFeed + "v1/user/" + this.userID + "/feed", {
					feedTypeID: t,
					metaData: e,
					jsonMapping: o,
					shared: n
				}, r, "createUserFeed"), !0)
			}, t.prototype.likeUserFeed = function(t, e) {
				var i = this.assignHandlers(e, ["200"], "like user feed");
				return null !== i && (this.request("post", this.defaultSettings.url.gameFeed + "v1/user/" + this.userID + "/feed/" + t + "/like", {}, i, "likeUserFeed"), !0)
			}, t.prototype.shareUserFeed = function(t, e) {
				var i = this.assignHandlers(e, ["200"], "share user feed");
				return null !== i && (this.request("post", this.defaultSettings.url.gameFeed + "v1/user/" + this.userID + "/feed/" + t + "/share", {}, i, "shareUserFeed"), !0)
			}, t.prototype.getUserLikes = function(t, e) {
				var i = this.assignHandlers(e, ["200"], "get user likes");
				return null !== i && (this.request("get", this.defaultSettings.url.gameFeed + "v1/user/" + this.userID + "/feed/" + t + "/likes", {}, i, "getUserLikes"), !0)
			}, t.prototype.deleteUserFeed = function(t, e) {
				var i = this.assignHandlers(e, ["200"], "delete user feed");
				return null !== i && (this.request("delete", this.defaultSettings.url.gameFeed + "v1/user/" + this.userID + "/feed/" + t, {}, i, "deleteUserFeed"), !0)
			}, t.prototype.openMail = function(t, e, i) {
				var n = this.assignHandlers(i, ["200"], "Mark mail as read");
				return null !== n && (this.request("post", this.defaultSettings.url.mailer + "v2/mail/" + t, {
					id: t,
					rawData: e,
					userID: this.userID
				}, n, "openMail"), !0)
			}, t.prototype.getAllMail = function(t, e, i, n, a, o, r) {
				void 0 === t && (t = null);
				var s = this.assignHandlers(r, ["200"], "get user mails"),
					l = c.Util.isValid(t) ? t.toISOString().substring(0, 10) : null,
					h = c.Util.isValid(i) ? i.substring(0, 10) : "2010-01-01",
					u = c.Util.isValid(n) ? n.substring(0, 10) : null;
				return null !== s && (this.request("get", this.defaultSettings.url.mailer + "v2/mail", {
					offset: a,
					limit: o,
					isMember: e,
					memberStartDate: h,
					memberEndDate: u,
					userID: this.userID,
					userRegisterDate: l
				}, s, "getAllMail"), !0)
			}, t.prototype.deleteMail = function(t, e) {
				var i = this.assignHandlers(e, ["200"], "delete mail");
				return null !== i && (this.request("delete", this.defaultSettings.url.mailer + "v2/mail/" + t, {
					id: t,
					type: "broadcast",
					userID: this.userID
				}, i, "deleteMessage"), !0)
			}, t.prototype.getTotalMail = function(t, e, i, n, a) {
				var o = this.assignHandlers(a, ["200"], "get user mail counts"),
					r = c.Util.isValid(t) ? t.toISOString().substring(0, 10) : null,
					s = c.Util.isValid(i) ? i.substring(0, 10) : "2010-01-01",
					l = c.Util.isValid(n) ? n.substring(0, 10) : null;
				return null !== o && (this.request("get", this.defaultSettings.url.mailer + "v2/mail/count", {
					type: "broadcast",
					userID: this.userID,
					isMember: e,
					userRegisterDate: r,
					memberStartDate: s,
					memberEndDate: l
				}, o, "getMailCounts"), !0)
			}, t.prototype.getUser = function(t, e, i) {
				var n = this.assignHandlers(i, ["200"], "getUserData");
				return null !== n && (this.request("get", this.defaultSettings.root + "v2/characters/" + t + "?fields=" + e.join(","), {}, n, "getUser", {
					ignoreHeaders: !0
				}), !0)
			}, t.prototype.getTitans = function(t) {
				var e = this.assignHandlers(t, ["200"], "get titans");
				return null !== e && (this.request("get", this.defaultSettings.url.titan + "v1/titans", {
					userID: this.userID
				}, e, "getTitans"), !0)
			}, t.prototype.getTitan = function(t, e) {
				var i = this.assignHandlers(e, ["200"], "get titans");
				return null !== i && (this.request("get", this.defaultSettings.url.titan + "v1/titan/" + t, {
					userID: this.userID
				}, i, "getTitan"), !0)
			}, t.prototype.hitTitan = function(t, e) {
				var i = this.assignHandlers(e, ["200"], "get titans");
				return null !== i && (this.request("post", this.defaultSettings.url.titan + "v1/titan/" + t + "/hit", {
					userID: this.userID,
					hits: 1
				}, i, "hitTitan"), !0)
			}, t.prototype.getTitanUserData = function(t) {
				var e = this.assignHandlers(t, ["200"], "get titan user data");
				return null !== e && (this.request("get", this.defaultSettings.url.titan + "v1/titan/user/" + this.userID, {}, e, "getTitanUserData"), !0)
			}, t.prototype.startMatchmaking = function(t, e, i, n) {
				var a = this.assignHandlers(n, ["200", "503"], "startMatchmaking");
				return null !== a && (this.request("post", this.defaultSettings.url.matchmaking + "begin", {
					userID: this.userID,
					level: t,
					score: e,
					playerData: i,
					serverId: this.gameContainer.get(s.EProdigyInjectionIdentifiers.FeatureFlagProvider).getMultiplayerClusterForWorld(this.worldID).ID,
					token: this.uniqueKey
				}, a, "startMatchmaking"), !0)
			}, t.prototype.quitMatchmaking = function(t) {
				var e = this.assignHandlers(t, ["200"], "quitMatchmaking");
				return null !== e && (this.request("post", this.defaultSettings.url.matchmaking + "end", {
					userID: this.userID,
					token: this.uniqueKey
				}, e, "quitMatchmaking"), !0)
			}, t.prototype.getFriendList = function(t) {
				var e = this.assignHandlers(t, ["200", "400", "401", "404", "406", "409", "423", "500", "503"], "getFriendList");
				return null !== e && (this.request("get", this.defaultSettings.url.friend + "v1/friend/" + this.userID, {
					token: this.uniqueKey,
					offset: 0,
					limit: 0
				}, e, "getFriendList"), !0)
			}, t.prototype.getTotalFriendRequests = function(t) {
				var e = this.assignHandlers(t, ["200", "400", "401", "404", "406", "409", "423", "500", "503"], "getTotalFriendRequests");
				return null !== e && (this.request("get", this.defaultSettings.url.friend + "v1/friend/" + this.userID + "/countFriendRequest", {
					token: this.uniqueKey
				}, e, "getTotalFriendRequests"), !0)
			}, t.prototype.getFriendRequestList = function(t, e, i) {
				var n = this.assignHandlers(i, ["200", "400", "401", "404", "406", "409", "423", "500", "503"], "getFriendRequestList");
				return null !== n && (this.request("get", this.defaultSettings.url.friend + "v1/friend/" + this.userID + "/request", {
					token: this.uniqueKey,
					offset: t,
					limit: e
				}, n, "getFriendRequestList"), !0)
			}, t.prototype.sendFriendRequest = function(t, e) {
				var i = this.assignHandlers(e, ["200", "400", "401", "404", "406", "409", "423", "500", "503"], "sendFriendRequest");
				return null !== i && (this.request("post", this.defaultSettings.url.friend + "v1/friend/" + this.userID + "/add/" + t, {
					token: this.uniqueKey
				}, i, "sendFriendRequest"), !0)
			}, t.prototype.cancelFriendRequest = function(t, e) {
				var i = this.assignHandlers(e, ["200", "400", "401", "404", "406", "409", "423", "500", "503"], "cancelFriendRequest");
				return null !== i && (this.request("delete", this.defaultSettings.url.friend + "v1/friend/" + this.userID + "/cancel/" + t, {
					token: this.uniqueKey
				}, i, "cancelFriendRequest"), !0)
			}, t.prototype.acceptFriendRequest = function(t, e) {
				var i = this.assignHandlers(e, ["200", "400", "401", "404", "406", "409", "423", "500", "503"], "acceptFriendRequest");
				return null !== i && (this.request("post", this.defaultSettings.url.friend + "v1/friend/" + this.userID + "/accept/" + t, {
					token: this.uniqueKey
				}, i, "acceptFriendRequest"), !0)
			}, t.prototype.rejectFriendRequest = function(t, e) {
				var i = this.assignHandlers(e, ["200", "400", "401", "404", "406", "409", "423", "500", "503"], "rejectFriendRequest");
				return null !== i && (this.request("delete", this.defaultSettings.url.friend + "v1/friend/" + this.userID + "/reject/" + t, {
					token: this.uniqueKey
				}, i, "rejectFriendRequest"), !0)
			}, t.prototype.removeFriend = function(t, e) {
				var i = this.assignHandlers(e, ["200", "400", "401", "404", "406", "409", "423", "500", "503"], "removeFriend");
				return null !== i && (this.request("delete", this.defaultSettings.url.friend + "v1/friend/" + this.userID + "/remove/" + t, {
					token: this.uniqueKey
				}, i, "removeFriend"), !0)
			}, t.prototype.getGiftBoxes = function(t) {
				var e = this.assignHandlers(t, ["200", "400", "401", "403", "409", "500", "503"], "getGiftBoxes");
				return null !== e && (this.request("get", this.defaultSettings.root + "v1/users/" + this.userID + "/giftboxes", {
					token: this.uniqueKey,
					userID: this.userID
				}, e, "getGiftBoxes"), !0)
			}, t.prototype.updateGiftBox = function(t, e, i) {
				var n = this.assignHandlers(i, ["200", "400", "401", "403", "409", "500", "503"], "updateGiftBox");
				return null !== n && (this.request("post", this.defaultSettings.root + "v1/users/" + this.userID + "/giftbox/" + t, {
					token: this.uniqueKey,
					giftBoxData: JSON.stringify(e),
					userID: this.userID
				}, n, "updateGiftBox"), !0)
			}, t.prototype.addGiftBox = function(t, e) {
				var i = this.assignHandlers(e, ["200", "400", "401", "403", "409", "500", "503"], "addGiftBox");
				return null !== i && (this.request("post", this.defaultSettings.root + "v1/users/" + this.userID + "/giftboxes", {
					token: this.uniqueKey,
					userID: this.userID,
					giftBoxID: t
				}, i, "addGiftBox"), !0)
			}, t.prototype.trackEvent = function(t, e, i) {
				void 0 === i && (i = "v2");
				var n = this.assignHandlers(e, ["200"], "trackEvent");
				return null !== n && (this.request("post", "" + this.defaultSettings.url.events + i + "/game-events", {
					userID: this.userID,
					token: this.uniqueKey,
					events: t
				}, n, "trackEvent"), !0)
			}, t.prototype.completeAssignment = function(t, e) {
				var i = this.assignHandlers(e, ["200"], "completeStudentAssignment");
				return null !== i && (this.request("post", this.defaultSettings.url.assignments + "v1/users/" + this.userID + "/assignments/" + t, {
					token: this.uniqueKey,
					userID: this.userID
				}, i, "completeStudentAssignment"), !1)
			}, t.prototype.getUserClassCodes = function(t) {
				var e = this.assignHandlers(t, ["200"], "getUserClassCodes");
				return null !== e && (this.request("get", this.defaultSettings.url.account + "v1/user/" + this.userID + "/classes", {
					token: this.uniqueKey,
					userID: this.userID
				}, e, "getUserClassCodes"), !0)
			}, t.getDefaultSettings = function() {
				var t = l.UrlRootProvider.getApiRootUrl();
				return {
					version: "v1",
					root: t + "game-api/",
					url: {
						leaderboard: t + "leaderboard-api/",
						account: t + "account-api/",
						matchmaking: t + "matchmaking-api/",
						multiplayer: t + "multiplayer-api/",
						friend: t + "friend-api/",
						mailer: t + "game-mailer-api/",
						planner: t + "planner-api/",
						assignments: t + "assignment-api/",
						education: t + "education-api/",
						events: t + "events-api/",
						titan: t + "titan-api/",
						web: t + "web-api/",
						gameFeed: t + "game-feed-api/"
					}
				}
			}, t.ENVIRONMENT_URL_ROOTS = {
				local: "/",
				dev: "https://api.prodigygame.net/",
				staging: "https://api.prodigygame.org/",
				production: "https://api.prodigygame.com/"
			}, t
		}();
	e.APIClient = h
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(0),
		a = function() {
			function t(t) {
				this.game = null, this.splitTestData = null, this.game = t, this.splitTestData = {
					test: [
						[1], 4e4, 2
					],
					nFactor: [
						[1, 2], 1e3, 3
					]
				}
			}
			return t.prototype.isInSplitTest = function(t) {
				if (!n.Util.isValid(t) || "" === t) return !0;
				if (n.Util.isValid(this.splitTestData[t])) {
					var e = [this.game.prodigy.player];
					return n.Util.inTestGroups.apply(this, e.concat(this.splitTestData[t]))
				}
				return !1
			}, t
		}();
	e.MailerSplitTests = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = i(4),
		s = i(23),
		l = i(0),
		c = i(70),
		h = i(13),
		u = i(94),
		p = function(t) {
			function e(e, i, n, o, r, s) {
				void 0 === o && (o = u.ParentLinkBenefitsConfig.ANALYTICS_SOURCE_LOGIN);
				var l = t.call(this, e, i, 26) || this;
				return l.popupConfig = null, l.onRewardIconClickCallback = null, l.onContinueCallback = null, l.onCloseCallback = null, e.prodigy.player.parentalLink = !0, l.analyticsSource = o, l.onContinueCallback = s, l.onCloseCallback = r, l.popupConfig = n, l.localization = l.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService), l.popupConfig === u.ParentLinkBenefitsConfig.INFO_POPUP_CONFIG || l.popupConfig === u.ParentLinkBenefitsConfig.INFO_POPUP_SETTINGS_CONFIG ? l.onRewardIconClickCallback = l.onLinkParentAccountClick : l.onRewardIconClickCallback = null, t.prototype.queuePostCreateCallback.call(l, function() {
					l.setupMenu()
				}), l
			}
			return n(e, t), e.prototype.setupMenu = function() {
				var t = this,
					e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				switch (this.game.prodigy.network.sendAnalytics(this.analyticsSource, u.ParentLinkBenefitsConfig.TRACKING_EVENT_POPUP_SHOWN), this.popupConfig) {
					case u.ParentLinkBenefitsConfig.INFO_POPUP_CONFIG:
						var i = this.instantiateTemplate("atHomeContainer", this.findUIElement("buttonTemplateContainer"));
						i.playAtHomeButton.onClickCallback = function() {
							t.onContinueClick(u.ParentLinkBenefitsConfig.TRACKING_EVENT_PLAY_ONLY)
						}, i.linkAccountButton.onClickCallback = function() {
							t.onLinkParentAccountClick(u.ParentLinkBenefitsConfig.TRACKING_EVENT_LINK_PARENT)
						};
						break;
					case u.ParentLinkBenefitsConfig.AT_SCHOOL_POPUP_CONFIG:
						this.instantiateTemplate("atSchoolContainer", this.findUIElement("buttonTemplateContainer")).playAtSchoolButton.onClickCallback = function() {
							t.onContinueClick()
						};
						break;
					case u.ParentLinkBenefitsConfig.SUCCESS_POPUP_CONFIG:
						this.instantiateTemplate("successContainer", this.findUIElement("buttonTemplateContainer")).okayButton.onClickCallback = function() {
							t.onOkayClick()
						};
						break;
					case u.ParentLinkBenefitsConfig.INFO_POPUP_SETTINGS_CONFIG:
						this.instantiateTemplate("settingsContainer", this.findUIElement("buttonTemplateContainer")).settingsLinkAccountButton.onClickCallback = function() {
							t.onLinkParentAccountClick(u.ParentLinkBenefitsConfig.TRACKING_EVENT_LINK_PARENT)
						}
				}
				this.popupConfig.showCloseButton && (this.findUIElement("closeButton").visible = !0, this.findUIElement("closeButton").onClickCallback = function() {
					l.Util.isValid(t.onCloseCallback) && t.onCloseCallback(), t.close()
				}), this.findUIElement("bannerText").setText(e.getText(this.popupConfig.headerText)), this.findUIElement("contentText").setText(e.getText(this.popupConfig.bodyText)), this.renderFeatureIcons(0, this.findUIElement("woodBackground"))
			}, e.prototype.renderFeatureIcons = function(t, i, n, a) {
				var o = this;
				void 0 === n && (n = 3), void 0 === a && (a = 40);
				for (var r = function(n) {
						var r = e.featureIconConfigs[n],
							c = l.Util.isValid(s.onRewardIconClickCallback) ? function() {
								o.onRewardIconClickCallback(r.trackingEvent)
							} : null,
							h = s.game.prodigy.create.button(i, (a + 170) * (n - t) + 80, 205, u.ParentLinkBenefitsConfig.ATLAS, r.frameName, c);
						s.popupConfig === u.ParentLinkBenefitsConfig.AT_SCHOOL_POPUP_CONFIG && (h.active = !1)
					}, s = this, c = t; c < t + n; c++) r(c)
			}, e.prototype.onOkayClick = function() {
				var t = this;
				0 === this.game.prodigy.player.backpack.hasItem("follow", 34) ? this.game.prodigy.open.gotItem([{
					type: "follow",
					ID: 34,
					N: 1
				}, {
					type: "item",
					ID: 1,
					N: 10
				}], function() {
					t.game.prodigy.network.sendAnalytics(u.ParentLinkBenefitsConfig.TRACKING_EVENT_RECEIVED_REWARDS), t.close()
				}, null, "parental-link") : this.close()
			}, e.prototype.onLinkParentAccountClick = function(t) {
				if (s.Device.isNativeApp() || s.Device.isIOS() && !s.Device.isChrome() && !s.Device.isChromium()) this.game.prodigy.network.sendAnalytics(this.analyticsSource, u.ParentLinkBenefitsConfig.TRACKING_EVENT_MOBILE), this.game.prodigy.open.message(this.localization.getText(u.ParentLinkBenefitsConfig.MESSAGE_MOBILE));
				else if (this.popupConfig === u.ParentLinkBenefitsConfig.INFO_POPUP_SETTINGS_CONFIG && this.game.prodigy.player.locationSelectionType === r.default.get("GameConstants.LocationSelection.SCHOOL")) this.game.prodigy.open.message(this.localization.getText(u.ParentLinkBenefitsConfig.MESSAGE_SCHOOL_HOURS));
				else {
					this.game.prodigy.network.sendAnalytics(this.analyticsSource, t);
					var e = null;
					switch (l.Util.getEnvironment()) {
						case "local":
							e = window.location.hostname;
							break;
						case "dev":
							e = "www.prodigygame.net";
							break;
						case "staging":
							e = "www.prodigygame.org";
							break;
						case "production":
							e = "www.prodigygame.com";
							break;
						default:
							return
					}
					c.NetworkManager.openWebsite(e + "/#start-now?usertype=parent&utm_source=student-referral&utm_medium=register-prompt"), this.popupConfig === u.ParentLinkBenefitsConfig.INFO_POPUP_SETTINGS_CONFIG && this.game.prodigy.player.locationSelectionType === r.default.get("GameConstants.LocationSelection.HOME") ? this.game.prodigy.open.message(this.localization.getText(u.ParentLinkBenefitsConfig.MESSAGE_POST_CLICK)) : this.game.prodigy.open.parentalLoginPopup()
				}
				this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).create("link-parent", t, "account").broadcast(), this.popupConfig !== u.ParentLinkBenefitsConfig.INFO_POPUP_SETTINGS_CONFIG && (this.game.prodigy.player.data.atHomeTimestamp = l.Util.getDateTime())
			}, e.prototype.onContinueClick = function(t) {
				void 0 === t && (t = null), this.popupConfig === u.ParentLinkBenefitsConfig.INFO_POPUP_CONFIG && this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).create("link-parent", t, "account").broadcast(), l.Util.isValid(this.onContinueCallback) && this.onContinueCallback(), this.popupConfig === u.ParentLinkBenefitsConfig.AT_SCHOOL_POPUP_CONFIG ? this.game.prodigy.player.data.atSchoolTimestamp = l.Util.getDateTime() : this.game.prodigy.player.data.atHomeTimestamp = l.Util.getDateTime(), this.close()
			}, e.isInfoRequired = function(t) {
				return !1
			}, e.isSuccessRequired = function(t) {
				return t.hasValidatedParentEmail() && t.hasCompletedTutorial() && t.backpack.hasItem("follow", 34) <= 0
			}, e.featureIconConfigs = [u.ParentLinkBenefitsConfig.XP_BONUS, u.ParentLinkBenefitsConfig.BUDDY, u.ParentLinkBenefitsConfig.APPLES], e
		}(h.Menu);
	e.ParentalLink = p
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(0),
		r = function(t) {
			function e(e, i, n, a) {
				var r = t.call(this, e, i, o.Util.isValid(n) ? n : 3, a) || this;
				return r.timer = null, r.contentText = null, r.okayButton = null, r.okayText = null, r.yesButton = null, r.noButton = null, r.closeButton = null, r
			}
			return n(e, t), e.prototype.preprocess = function(t, e, i) {
				void 0 === e && (e = null), void 0 === i && (i = null);
				var n = e;
				(!o.Util.isValid(e) || "pumpkin" !== e && "star-shard-small" !== e && "snowflake-small" !== e) && (n = null);
				var a = o.Util.isValid(n) ? "[" + e + "] " + i : i;
				this.updateConfigModifierProperty("titleBanner", "text", a), this.updateConfigModifierProperty("titleBanner", "visible", o.Util.isValid(i)), this.updateConfigModifierProperty("contentText", "text", t), this.queuePostCreateCallback(this.setTimerText.bind(this, t), this.openTween.bind(this))
			}, e.prototype.close = function(e) {
				o.Util.isValid(this.timer) && window.clearInterval(this.timer), t.prototype.close.call(this), o.Util.isValid(e) && e()
			}, e.prototype.setOkay = function(t, e) {
				var i = this;
				void 0 === t && (t = null), this.okayButton.visible = !0, this.okayText.setText(o.Util.isValid(t) ? t : this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUTTON_OKAY_UPPERCASE")), this.okayButton.onClickCallback = function() {
					i.close(e)
				}
			}, e.prototype.setConfirm = function(t, e) {
				var i = this;
				this.yesButton.visible = !0, this.yesButton.onClickCallback = function() {
					i.close(t)
				}, this.noButton.visible = !0, this.noButton.onClickCallback = function() {
					i.close(e)
				}
			}, e.prototype.setConfirmGeneric = function(t, e, i) {
				var n = this;
				this.yesButton.visible = !0, this.yesButton.onClickCallback = function() {
					n.close(t)
				}, this.noButton.visible = !0, this.noButton.onClickCallback = function() {
					n.close(e)
				}, this.closeButton.visible = !0, this.closeButton.onClickCallback = function() {
					n.close(i)
				}
			}, e.prototype.setTimerText = function(t) {
				o.Util.isValid(this.timer) && window.clearInterval(this.timer), o.Util.isValid(t) && this.setText(t, (new Date).getTime())
			}, e.prototype.setText = function(t, e) {
				if (o.Util.isValid(this.game))
					if (o.Util.isValid(this.contentText))
						if (t.indexOf("XTIMERX") >= 0) {
							var i = (new Date).getTime(),
								n = o.Util.processTime(i - e);
							this.contentText.setText(t.replace("XTIMERX", n)), this.timer = window.setTimeout(this.setText.bind(this, t, e), 500)
						} else this.contentText.setText(t);
				else a.Logger.log("ERROR: Attempting to set text before finished loading message.", a.LogLevel.Error)
			}, e.prototype.setCloseButton = function(t, e) {
				var i = this;
				void 0 === e && (e = null), this.closeButton.visible = t, this.closeButton.onClickCallback = function() {
					i.close(e)
				}
			}, e
		}(i(13).Menu);
	e.MessageBox = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(7),
		o = i(0),
		r = function(t) {
			function e(e, i, n, a, r, s, l) {
				void 0 === s && (s = 2), void 0 === l && (l = !1);
				var c = t.call(this, e, i, n, a) || this;
				return o.Util.isValid(l) && l && c.add(c.game.prodigy.create.sprite(0, 0, "atlas-19", "char-container")), o.Util.isValid(c.user) && c.user.destroy(), c.user = c.game.prodigy.create.player(c, r, s, 174, 230), c.user.reload(), c
			}
			return n(e, t), e
		}(a.Element);
	e.UserEquipment = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(11),
		a = i(2),
		o = function() {
			function t() {}
			return t.byOwned = function(t, e) {
				return e.slice().sort(function(i, n) {
					var a = t({
							ID: i.getID(),
							type: i.getType()
						}) ? 1 : 0,
						o = t({
							ID: n.getID(),
							type: n.getType()
						}) ? 1 : 0;
					return a !== o ? a - o : e.indexOf(i) - e.indexOf(n)
				})
			}, t.byGender = function(t, e) {
				return e.slice().sort(function(i, o) {
					var r = n(a.Items.getItem(i.getType(), i.getID()), "gender", 0),
						s = n(a.Items.getItem(o.getType(), o.getID()), "gender", 0);
					return r === s ? e.indexOf(i) - e.indexOf(o) : r === t ? -1 : s === t ? 1 : 0 === r ? -1 : 1
				})
			}, t
		}();
	e.StoreItemSort = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(11),
		r = i(79),
		s = i(6),
		l = i(69),
		c = i(15),
		h = i(2),
		u = i(16),
		p = i(0),
		d = i(20),
		g = i(34),
		f = i(78),
		y = function(t) {
			function e(e, i, n, a) {
				void 0 === n && (n = null), void 0 === a && (a = null);
				var o = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
				return o.onItemRecieved = new Phaser.Signal, o.onItemPurchased = new Phaser.Signal, o.purchaseConfirmationConfig = null, o.defaultMemberAd = null, o.storeData = null, o.storeID = -1, o.purchaseConfirmationConfig = n, o.defaultMemberAd = a, o
			}
			return n(e, t), e.prototype.getStore = function() {
				return this.storeData
			}, e.prototype.itemClicked = function(t) {
				if (this.game.prodigy.player.isItemOwned({
						ID: t.getID(),
						type: t.getType()
					})) this.showOwnedMessage(t);
				else if ("pet" === t.getType() && this.game.prodigy.player.kennel.isFull()) this.game.prodigy.open.message(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("PURCHASING_MESSAGE_TOO_MANY_PETS_BODY"), null, null, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MESSAGE_TITLE_UH_OH"));
				else {
					var e = h.Items.getItem(t.getType(), t.getID()).data;
					1 !== o(e, "member", 0) || this.game.prodigy.player.isMember || this.game.prodigy.network.sendConversionFunnelEvent(d.EFunnelEventIDs.FunnelBuyMemberItem, d.EFunnelEventIDs.StageClickItem, t.getType() + "-" + t.getID()), "dormbg" === t.getType() ? this.game.prodigy.open.houseItemInfo(t, this.onBuyCardClosed.bind(this, t, e), g.EItemInfoMode.Buy) : this.game.prodigy.open.itemInfo(t, this.onBuyCardClosed.bind(this, t, e), g.EItemInfoMode.Buy)
				}
			}, e.prototype.showOwnedMessage = function(t) {
				var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					i = "",
					n = e.getText("MESSAGE_TITLE_UH_OH");
				switch (t.getType()) {
					case "dorm":
						i = e.getText("PURCHASING_MESSAGE_TOO_MANY_ITEMS_BODY");
						break;
					case "dormbg":
						i = e.getText("PURCHASING_MESSAGE_ALREADY_LIVE_BODY"), n = null;
						break;
					case "gender":
					case "hair":
					case "face":
					case "eyeColor":
					case "skinColor":
					case "hairColor":
						i = e.getText("PURCHASING_MESSAGE_ALREADY_LOOK_BODY");
						break;
					case "pet":
						i = e.getText("PURCHASING_MESSAGE_HAVE_PET_BODY");
						break;
					default:
						i = e.getText("PURCHASING_MESSAGE_HAVE_ITEM_BODY")
				}
				this.game.prodigy.open.message(i, null, null, n)
			}, e.prototype.onBuyCardClosed = function(t, e, i) {
				if (i) {
					var n = t.getCost()[0];
					if (this.sendBuyAnalytics(t, e), this.meetsMembershipRequirement(t, e) && this.meetsCurrencyRequirement(n) && this.meetsLevelRequirements(e)) {
						var a = null;
						a = p.Util.isValid(this.purchaseConfirmationConfig) ? this.game.prodigy.open.messageBox.bind(this.game.prodigy.open, this.purchaseConfirmationConfig.message, this.buyItem.bind(this, t, e, n)) : this.buyItem.bind(this, t, e, n), "gender" === t.getType() ? this.game.prodigy.open.advancedNameChange(!0, a, !0) : a()
					}
				}
			}, e.prototype.buyItem = function(t, e, i) {
				var n = this;
				"currency" === i.getType() && 1 === i.getID() ? this.game.prodigy.player.changeGold(-i.getAmount()) : this.game.prodigy.player.backpack.consume(i.getType(), i.getID(), i.getAmount());
				var a = e;
				p.Util.isValid(e.data) && (a = e.data), "pet" === t.getType() && (a = {
					ID: t.getID()
				}), this.game.prodigy.open.gotItem([{
					ID: t.getID(),
					type: t.getType(),
					N: 1,
					data: a
				}], function() {
					n.onItemRecieved.dispatch()
				}, null, "store");
				var o = this.getStore().getName(),
					c = 1 === a.member ? "M" : "NM";
				this.game.prodigy.network.sendAnalytics("ShopPurchase-" + o, t.getType() + "-" + t.getID() + "-" + c), this.game.prodigy.gameContainer.get(s.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_sink", {
					type: i.getType(),
					id: i.getID(),
					amount: i.getAmount(),
					sink_type: t.getType(),
					sink_id: t.getID(),
					name: e.name,
					source: o
				}, !0);
				r([1, 2, 3, 5, 6, 7, 8, 10, 16, 17, 18, 19, 21, 23], this.storeID) && r(["hat", "outfit", "weapon", "boots", "follow", "dorm"], t.getType()) && (this.storeID <= 3 ? this.game.prodigy.notifications.initNotificationTemplate(l.NotificationType.LAMPLIGHTPURCHASE, [{
					ID: t.getID(),
					type: t.getType()
				}], {
					zone: this.game.prodigy.world.getCurrentMap()
				}) : 21 === this.storeID ? this.game.prodigy.notifications.initNotificationTemplate(l.NotificationType.STOREPURCHASE, [{
					ID: t.getID(),
					type: t.getType()
				}, {
					ID: this.storeID,
					type: "store",
					value: "Harvey's Titan Gear"
				}], {
					zone: this.game.prodigy.world.getCurrentMap()
				}) : 23 === this.storeID ? this.game.prodigy.notifications.initNotificationTemplate(l.NotificationType.STOREPURCHASE, [{
					ID: t.getID(),
					type: t.getType()
				}, {
					ID: this.storeID,
					type: "store",
					value: "Dyno Dig"
				}], {
					zone: this.game.prodigy.world.getCurrentMap()
				}) : this.game.prodigy.notifications.initNotificationTemplate(l.NotificationType.STOREPURCHASE, [{
					ID: t.getID(),
					type: t.getType()
				}, {
					ID: this.storeID,
					type: "store",
					value: o
				}], {
					zone: this.game.prodigy.world.getZone(this.game.prodigy.world.getCurrentMap().split("-")[0]).questHub
				})), this.game.prodigy.network.sendItemChangeEvent("spend-item", {
					type: i.getType(),
					ID: i.getID(),
					N: -i.getAmount()
				}), this.onItemPurchased.dispatch(t)
			}, e.prototype.meetsMembershipRequirement = function(t, e) {
				if (!this.game.prodigy.player.isMember) {
					if ("pet" === t.getType() && this.game.prodigy.player.kennel.hasMaxNonMemberPets()) return this.game.prodigy.open.membershipInfo(null, {}, f.MemberAd.MEMBER_PETS), !1;
					if (1 === o(e, "member", 0)) return this.game.prodigy.open.membershipInfo(null, {
						conversionFunnelName: d.EFunnelEventIDs.FunnelBuyMemberItem,
						conversionFunnelMetadata: t.getType() + "-" + t.getID()
					}, this.getMemberAdName(t.getType())), !1
				}
				return !0
			}, e.prototype.meetsLevelRequirements = function(t) {
				var e = this;
				if (p.Util.isValid(t.lockLevel) && this.game.prodigy.player.getLevel() < t.lockLevel) {
					var i = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("LEVEL_LOCK_PURCHASE", t.name, t.lockLevel);
					return this.game.prodigy.open.message(i).onClose = function() {
						e.game.prodigy.player.hasMembership() || e.game.prodigy.open.membershipInfo(null, {}, u.MembershipInfo.MORE_EXP)
					}, !1
				}
				return !0
			}, e.prototype.sendBuyAnalytics = function(t, e) {
				if (p.Util.isValid(e.member) && 1 === e.member && ("pet" === t.getType() ? this.game.prodigy.network.sendAnalytics("Buy-Member-Pet", e.name) : this.game.prodigy.network.sendAnalytics("Buy-Member-Item", e.name), !this.game.prodigy.player.isMember)) {
					var i = {};
					"pet" === t.getType() && this.game.prodigy.player.kennel.hasMaxNonMemberPets() || (i = {
						conversionFunnelName: d.EFunnelEventIDs.FunnelBuyMemberItem,
						conversionFunnelMetadata: t.getType() + "-" + t.getID()
					}), this.game.prodigy.network.sendConversionFunnelEvent(i.conversionFunnelName, d.EFunnelEventIDs.StageClickBuy, i.conversionFunnelMetadata)
				}
			}, e.prototype.meetsCurrencyRequirement = function(t) {
				var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					i = this.game.prodigy.player;
				if ("currency" === t.getType() && 1 === t.getID()) {
					if (i.getGold() < t.getAmount()) return i.isMember ? this.game.prodigy.open.message(e.getText("PURCHASING_MESSAGE_NEED_MORE_GOLD_BODY", t.getAmount(), p.Util.numberToString(i.getGold())), null, "gold", e.getText("MESSAGE_TITLE_UH_OH")) : this.game.prodigy.open.membershipInfo(null, null, u.MembershipInfo.MORE_GOLD), !1
				} else if (i.backpack.hasItem(t.getType(), t.getID()) < t.getAmount()) {
					var n = h.Items.getItem(t.getType(), t.getID()).data.icon,
						o = i.backpack.hasItem(t.getType(), t.getID());
					return this.game.prodigy.open.message(e.getText("PURCHASING_MESSAGE_NEED_MORE_CURRENCY_BODY", n, t.getAmount(), o), null, "gold", e.getText("MESSAGE_TITLE_UH_OH")), !1
				}
				return !0
			}, e.prototype.getMemberAdName = function(t) {
				var e = u.MembershipInfo.MORPH_MARBLE;
				return "follow" === t ? e = u.MembershipInfo.BUDDIES : -1 !== ["hat", "outfit", "weapon", "boots", "gender", "hairColor", "eyeColor", "skinColor", "hair", "face"].indexOf(t) ? e = u.MembershipInfo.STYLE : "dorm" === t ? e = u.MembershipInfo.HOUSE_ITEMS : "dormbg" === t ? e = u.MembershipInfo.NEW_HOUSE : "potion" === t ? e = u.MembershipInfo.POTIONS : p.Util.isValid(this.defaultMemberAd) && (e = this.defaultMemberAd), e
			}, e
		}(c.RenderMenu);
	e.StoreBase = y
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = i(4),
		s = i(2),
		l = i(16),
		c = i(29),
		h = i(0),
		u = i(34),
		p = i(78),
		d = i(266),
		g = i(265),
		f = function(t) {
			function e(e, i, n, a, o, r, s, l, c) {
				void 0 === a && (a = null), void 0 === o && (o = null), void 0 === r && (r = null), void 0 === s && (s = null), void 0 === l && (l = {}), void 0 === c && (c = {});
				var u = t.call(this, e, i, r, s) || this;
				return u.storeID = -1, u.buttons = [], u.currencyLabel = null, u.cards = null, u.scrollbar = null, u.onBuy = null, u.storeID = n, u.analyticEvents = l, u.onClose = a, u.onBuy = o, u.storeSortOrder = c, u.onItemRecieved.add(function() {
					u.scrollbar.process()
				}), u.onItemPurchased.add(function(t) {
					u.updatePlayerCurrency(), h.Util.isValid(u.onBuy) && u.onBuy(t)
				}), u.create(), u
			}
			return n(e, t), e.prototype.create = function() {
				this.addTransparent(), h.Util.isValid(this.analyticEvents.onCreateEvent) && this.game.prodigy.network.sendAnalytics(h.Util.isValid(this.analyticEvents.onCreateEvent.action) ? this.analyticEvents.onCreateEvent.action : "", h.Util.isValid(this.analyticEvents.onCreateEvent.label) ? this.analyticEvents.onCreateEvent.label : "", this.analyticEvents.onCreateEvent.category), this.createBaseSetup(30, 16, "shine", null, null, !0, null);
				var e = this.game.prodigy.create.element(this, 0, 0);
				e.setRenderState(!0), e.add(new Phaser.TileSprite(this.game, 51, 240, 1178, 40, "atlas-161", "blue-top")), e.add(new Phaser.TileSprite(this.game, 51, 280, 1178, 300, "atlas-161", "blue-mid")), e.add(new Phaser.TileSprite(this.game, 51, 580, 1178, 40, "atlas-161", "blue-top2")), this.spinner = this.add(this.game.prodigy.create.sprite(640, 360, "atlas-18", "loading")), this.spinner.anchor.setTo(.5, .5), this.game.add.tween(this.spinner).to({
					angle: 360
				}, 2e3, Phaser.Easing.Linear.None, !0, 0, r.GameConstants.MAX_SAFE_INTEGER, !1), t.prototype.create.call(this), this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.StoreService).getStore(this.storeID).then(this.onGetStoreSuccess.bind(this)).catch(this.onGetStoreFailure.bind(this))
			}, e.prototype.createItemCards = function(t, e) {
				var i = this;
				this.cards.removeAll(!0);
				for (var n = function(n) {
						var o = t[n],
							r = n - e;
						if (n >= t.length) a.game.prodigy.create.panel(a.cards, r % 4 * 180, 220 * Math.floor(.25 * r), 4, 5, "empty");
						else {
							var s = o.getCost()[0];
							a.game.prodigy.create.item(a.cards, r % 4 * 180, 220 * Math.floor(.25 * r), {
								ID: o.getID(),
								type: o.getType(),
								cost: {
									ID: s.getID(),
									type: s.getType(),
									N: s.getAmount()
								}
							}, u.EItemInfoMode.Store, function() {
								i.itemClicked(o)
							})
						}
					}, a = this, o = e; o < e + 8; o++) n(o)
			}, e.prototype.getItemsForPage = function(t) {
				var e = this.storeData.getPages()[t].getStoreItems();
				return h.Util.isValid(this.storeSortOrder[t]) ? this.storeSortOrder[t](e) : g.StoreItemSort.byOwned(this.game.prodigy.player.isItemOwned.bind(this.game.prodigy.player), e)
			}, e.prototype.setMode = function(e) {
				t.prototype.setMode.call(this, e);
				var i = this.getItemsForPage(e);
				this.scrollbar.reset(i.length - 4, 4, -1, this.createItemCards.bind(this, i)), this.scrollbar.process(), this.page = e
			}, e.prototype.setupInfoPanel = function() {
				this.setupMemberAd(this.defaultMemberAd)
			}, e.prototype.onGetStoreSuccess = function(t) {
				h.Util.isValid(this.game) && (this.storeData = t, this.spinner.destroy(), this.spinner = null, this.setupTabs(), this.setupStoreMerchant(), this.setupCurrencyDisplay(), this.setupInfoPanel(), this.cards = this.game.prodigy.create.element(this, 430, 220), this.scrollbar = this.game.prodigy.create.slider(this, this.cards.x + 540 + 180, 240, 380, !0, !0), this.updatePlayerCurrency(), this.setMode(0))
			}, e.prototype.onGetStoreFailure = function(t) {
				t instanceof Error && a.Logger.log(t.message, a.LogLevel.Error);
				var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.game.prodigy.open.message(e.getText("STORE_OPEN_FAILED_MESSAGE"), this.close.bind(this), null, e.getText("STORE_OPEN_FAILED_TITLE"))
			}, e.prototype.setupStoreMerchant = function() {
				var t = this.storeData.getMerchantAvatar(),
					e = this.add(this.game.prodigy.create.sprite(t.getPosition().x, t.getPosition().y, t.getAssetTag(), t.getAssetFrame()));
				e.scale.x = t.getScale().x, e.scale.y = t.getScale().y
			}, e.prototype.setupTabs = function() {
				for (var t = this.storeData.getPages(), e = this.game.prodigy.create.panel(this, 80, 80, 3 * t.length + 6, 2, "banner"), i = 0; i < t.length; i++) {
					var n = t[i].getButton();
					this.buttons.push(this.game.prodigy.create.advButton(this, e.x + 200 + 120 * i, e.y - 10, {
						top: n.getTopText(),
						bot: n.getBottomText(),
						icon: {
							iconAtlas: n.getItemType() + "-" + n.getItemID()
						}
					}, this.setMode.bind(this, i)))
				}
			}, e.prototype.setupCurrencyDisplay = function() {
				var t = this.game.prodigy.create.panel(this, 80, 280, 8, 2, "white");
				this.currencyLabel = this.game.prodigy.create.font(t, 0, 10, "", {
					size: 40,
					align: "center",
					width: 320,
					iconOffsetY: 13
				})
			}, e.prototype.updatePlayerCurrency = function() {
				var t = "",
					e = 0,
					i = this.storeData.getStoreCurrencyID(),
					n = this.storeData.getStoreCurrencyType();
				"currency" === n && 1 !== i ? (t = s.Items.getItem(n, i).data.icon, e = this.game.prodigy.player.backpack.hasItem(n, i)) : (t = "mail-gold", e = h.Util.numberToString(this.game.prodigy.player.getGold())), this.currencyLabel.setText("[" + t + "] " + e)
			}, e.prototype.setupMemberAd = function(t) {
				if (void 0 === t && (t = null), !this.game.prodigy.player.isMember) {
					var i = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
						n = h.Util.isValid(t) ? t : p.MemberAd.PREMIUM_ITEM,
						o = this.game.prodigy.create.panel(this, 80, 380, 8, 5, "member");
					o.setClickable(function(t, e, i) {
						t.prodigy.open.membershipInfo(null, e, l.MembershipInfo.BUY_ITEM), t.prodigy.network.sendAnalytics(i)
					}.bind(this, this.game, n, "getAllItemsBtn")), this.game.prodigy.create.font(o, 10, 10, i.getText("STORE_PROMPT_UNLOCK_ALL"), {
						align: "center",
						width: 300
					}), this.game.prodigy.create.font(o, 10, 140, i.getText("BUTTON_CLICK_HERE"), {
						align: "center",
						width: 300,
						fontID: 9,
						size: 36
					});
					var r = o.add(this.game.prodigy.create.sprite(7, 75, "atlas-18", "overlay-small"));
					r.width = 306, r.height = 50, r.alpha = .2;
					for (var s = []; s.length < 3;) {
						var u = c.Random.integerInRange(0, e.memberAdItems.length); - 1 === s.indexOf(u) && (s[s.length] = u)
					}
					this.game.prodigy.create.font(o, 0, 60, "[single-image:" + e.memberAdItems[s[0]] + "] [single-image:" + e.memberAdItems[s[1]] + "] [single-image:" + e.memberAdItems[s[2]] + "]", {
						align: "center",
						width: 320,
						fontID: 9,
						size: 36
					})
				}
			}, e.memberAdItems = ["icon-follow-144", "icon-follow-146", "icon-follow-139", "icon-follow-140", "icon-follow-131", "icon-hat-74", "icon-hat-100", "icon-hat-119", "icon-hat-114", "icon-hat-116", "icon-hat-79", "icon-outfit-93", "icon-outfit-86", "icon-outfit-91", "icon-outfit-59", "icon-dorm-34", "icon-dorm-22", "icon-dorm-132", "icon-dorm-40", "icon-dorm-39", "icon-dorm-60", "icon-dorm-65", "icon-weapon-116", "icon-weapon-114", "icon-weapon-95", "icon-boots-40", "icon-boots-36", "icon-boots-37", "icon-boots-30"], e
		}(d.StoreBase);
	e.Store = f
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || Object.assign || function(t) {
			for (var e, i = 1, n = arguments.length; i < n; i++)
				for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
			return t
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = i(102),
		s = i(6),
		l = i(7),
		c = i(12),
		h = i(71),
		u = i(16),
		p = i(44),
		d = i(0),
		g = function(t) {
			function e(e, i, n, a) {
				var s = t.call(this, e, i, n - 40, a) || this;
				return s.leadersPerPage = 7, s.page = 0, s.classLeaderPanel = null, s.classLeaderboardPanel = null, s.classLeaderboardCharacters = null, s.characterIcons = [], s.topPlayer = null, s.topPlayerName = null, s.topPlayerStat = null, s.classLeaderboardError = null, s.leaderboardSlider = null, s.leaders = null, s.topPlayerId = null, d.Util.isValid(s.game.prodigy.pvpNetworkHandler.seasonID) ? r(s.game.prodigy.player.classIDs) > 0 ? s.game.prodigy.pvpNetworkHandler.getClassLeaderboard(s.game.prodigy.player.classIDs.join(","), function(t) {
					s.loadWizardsComplete("data.level", !0, t)
				}, function() {
					s.addErrorBanner(s.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("LEADERBOARD_ERROR_TEMPORARILY_UNAVAILABLE"))
				}) : s.loadWizardsComplete("data.level") : s.game.prodigy.pvpNetworkHandler.isInitialized ? s.addErrorBanner(s.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("SEASON_COMPLETED")) : s.addErrorBanner(s.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("LEADERBOARD_ERROR_TEMPORARILY_UNAVAILABLE")), s.registerGetElementListener(), s
			}
			return n(e, t), e.prototype.addErrorBanner = function(t) {
				new p.UIParser(this.game).createUIElements([{
					type: "SlicedGraphic",
					anchorX: 0,
					anchorY: 0,
					x: 290,
					y: 100,
					width: 620,
					height: 200,
					atlasName: "ui-shared",
					baseFrameName: "bases/matte",
					sliceType: "nineScale",
					children: [{
						type: "Text",
						name: "titleText",
						anchorX: 0,
						anchorY: 0,
						x: 20,
						y: 20,
						width: 580,
						height: 160,
						text: t.toUpperCase(),
						font: "black",
						fontSize: 20,
						horizontalAlignment: "center",
						verticalAlignment: "center"
					}]
				}], this)
			}, e.prototype.renderClassLeaderContainer = function() {
				this.classLeaderPanel = this.game.prodigy.create.panel(this, 32, 20, 14, 8, "bases/matte"), this.game.prodigy.create.panel(this.classLeaderPanel, 40, -23, 12, 0, "banners/tag"), this.game.prodigy.create.panel(this.classLeaderPanel, 20, -5, 1, 0, "banners/rope-horiz"), this.game.prodigy.create.panel(this.classLeaderPanel, 500, -5, 1, 0, "banners/rope-horiz"), this.game.prodigy.create.font(this.classLeaderPanel, 0, -20, this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("LEADERBOARD_CLASS_TOP"), {
					fontID: 9,
					size: 36,
					width: 560,
					align: "center"
				});
				var t = this.game.prodigy.create.sprite(0, 220, "atlas-18", "overlay-light", null, null, 560, 60);
				t.alpha = .25, this.classLeaderPanel.add(t), this.topPlayerName = this.game.prodigy.create.font(this.classLeaderPanel, 20, 250, "", {
					size: 20,
					align: "right",
					width: 480
				}), this.topPlayerStat = this.game.prodigy.create.font(this.classLeaderPanel, 20, 220, "", {
					size: 20,
					align: "right",
					width: 480
				})
			}, e.prototype.renderClassLeaderboardContainer = function() {
				if (this.classLeaderboardPanel = this.game.prodigy.create.panel(this, this.classLeaderPanel.x + 574, this.classLeaderPanel.y, 14, 10, "bases/matte"), this.game.prodigy.create.panel(this.classLeaderboardPanel, 40, -23, 12, 0, "banners/tag"), this.game.prodigy.create.panel(this.classLeaderboardPanel, 20, -5, 1, 0, "banners/rope-horiz"), this.game.prodigy.create.panel(this.classLeaderboardPanel, 500, -5, 1, 0, "banners/rope-horiz"), this.game.prodigy.create.font(this.classLeaderboardPanel, 0, -20, this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("LEADERBOARD_CLASS_LEADERS"), {
						fontID: 9,
						size: 36,
						width: 560,
						align: "center"
					}), this.classLeaderboardError = this.game.prodigy.create.font(this.classLeaderboardPanel, 20, 100, this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("ARENA_MUST_BE_IN_CLASS"), {
						size: 20,
						width: 532,
						align: "center"
					}), this.classLeaderboardError.visible = !1, r(this.game.prodigy.player.classIDs) > 0) {
					this.classLeaderboardCharacters = this.game.prodigy.create.element(this.classLeaderboardPanel), this.characterIcons = [];
					for (var t = 0; t < this.leadersPerPage; t++) this.characterIcons.push(this.createIcon(this.classLeaderboardCharacters, 25, 45 * t + 63));
					this.leaderboardSlider = this.game.prodigy.create.slider(this.classLeaderboardPanel, 485, 63, 310, !0, !0)
				}
			}, e.prototype.createIcon = function(t, e, i) {
				var n = this,
					a = this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService),
					r = this.game.prodigy.create.element(t, e, i),
					s = this.game.prodigy.create.panel(r, 0, 0, 11.5, 1, "lb"),
					l = this.game.prodigy.create.panel(r, 0, 0, 11.5, 1, "lb-green"),
					c = {
						icon: r,
						highlight: l,
						placeText: this.game.prodigy.create.font(r, 10, 0, "", {
							width: 50,
							align: "center",
							size: 30
						}),
						playerName: this.game.prodigy.create.font(r, 70, 10, a.getText("PVP_PLAYERNAME"), {
							size: 16,
							width: 350,
							align: "left"
						}),
						typeText: this.game.prodigy.create.font(r, 60, 8, a.getText("PVP_WIN_LOSS"), {
							size: 20,
							width: 350,
							align: "right"
						})
					};
				return s.setClickable(function() {
					n.openCard(c)
				}), l.setClickable(function() {
					n.openCard(c)
				}), l.visible = !1, this.setIconData(c, null), c
			}, e.prototype.setIconData = function(t, e) {
				if (d.Util.isValid(e)) {
					var i = e.place,
						n = 1 === e.isMember ? "@ " : "",
						o = this.game.prodigy.gameContainer.get(s.EProdigyInjectionIdentifiers.PlayerService).getPlayer(a({}, e, {
							version: 1
						})),
						r = this.game.prodigy.gameContainer.resolve(h.DataNameResolver);
					r.init(d.Util.isValid(o) ? o.getAppearance().getName() : null, this.game.prodigy.player.appearance.getGender()), t.placeText.setText("" + i), t.typeText.setText("[arena]" + e.points);
					var l = r.getNameWithoutNickname();
					l.length > 18 && (l = l.substring(0, 18) + "..."), t.playerName.setText("" + n + l);
					var c = d.Util.isValid(e.userID) ? e.userID : parseInt(e.id);
					t.highlight.visible = c === this.game.prodigy.player.userID, t.data = e
				} else d.Util.isValid(t) && delete t.data;
				t.icon.visible = d.Util.isValid(e)
			}, e.prototype.openCard = function(t) {
				var e = null;
				(d.Util.isValid(t.data.userID) ? t.data.userID : parseInt(t.data.id)) === this.game.prodigy.player.userID ? e = this.game.prodigy.player : (e = new c.Player(this.game)).init(t.data), this.game.prodigy.open.card(e, !0)
			}, e.prototype.loadWizardsComplete = function(t, e, i) {
				if (d.Util.isValid(this.game)) {
					if (this.renderClassLeaderContainer(), !this.game.prodigy.player.hasMembership()) {
						var n = this.game.prodigy.create.panelButton(this, this.classLeaderPanel.x, this.classLeaderPanel.y + 334, 14, 2, "base/matte", this.game.prodigy.open.membershipInfo.bind(this.game.prodigy.open, null, {}, u.MembershipInfo.MORE_EXP_CLASS_LEADERS), {
							atlasID: 149
						});
						this.game.prodigy.create.font(n.content, 0, 20, this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("LEADERBOARD_CATCH_UP"), {
							fontID: 9,
							size: 36,
							width: 560,
							align: "center"
						})
					}
					if (this.renderClassLeaderboardContainer(), !e || !d.Util.isValid(i) || i.playerList.length <= 0) return this.classLeaderboardError.visible = !0, d.Util.isValid(this.classLeaderboardCharacters) && d.Util.isValid(this.leaderboardSlider) && (this.classLeaderboardCharacters.visible = this.leaderboardSlider.visible = !1), void(r(this.game.prodigy.player.classIDs) > 0 ? this.classLeaderboardError.setText(this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("LEADERBOARD_CLASS_ERROR_LOADING")) : this.classLeaderboardError.setText(this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("ARENA_MUST_BE_IN_CLASS")));
					this.classLeaderboardError.visible = !1, this.classLeaderboardCharacters.visible = !0, this.leaderboardSlider.visible = !0, this.leaders = i.playerList, this.leaders.length > 0 && this.getPlayerListData(this.leaders)
				}
			}, e.prototype.getPlayerListData = function(t) {
				var e = this;
				this.topPlayerId = parseInt(t[0].id);
				var i = d.Util.joinByProperty(t, "id");
				this.game.prodigy.network.getCharData(i, ["appearance", "isMember", "equipment", "data"], function(t) {
					e.onGetPlayerListDataSuccess(t)
				})
			}, e.prototype.onGetPlayerListDataSuccess = function(t) {
				var i = this;
				if (d.Util.isValid(this.game)) {
					d.Util.isValid(t[this.leaders[0].id]) ? this.renderClassLeader(t[this.topPlayerId], this.leaders[0].points) : this.topPlayerName.setText(this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("LEADERBOARD_ERROR_LOADING_PLAYER"));
					for (var n = 0, a = 0; a < this.leaders.length; a++)
						for (var s in t)
							if (parseInt(this.leaders[a].id) === parseInt(s)) {
								if (this.leaders[a] = {
										userID: 0,
										data: t[s],
										isMember: 0,
										points: d.Util.isValid(this.leaders[a].points) ? this.leaders[a].points : this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("LEADERBOARD_NOT_APPLICABLE")
									}, !d.Util.isValid(t[s].data)) {
									this.leaders.splice(a, 1), a--;
									break
								}
								var l = t[s].data;
								for (var c in l) "stars" !== c && (this.leaders[a].data[c] = l[c]);
								this.leaders[a].appearance = t[s].appearance, this.leaders[a].equipment = t[s].equipment, this.leaders[a].isMember = d.Util.isValid(t[s].isMember) ? t[s].isMember : 0, this.leaders[a].place = n + 1, this.leaders[a].userID = parseInt(s), n++
							} r(this.game.prodigy.player.classIDs) > 0 && n > 0 && this.leaderboardSlider.reset(this.leaders.length, this.leadersPerPage, e.getPlayerPlace(this.leaders, this.game.prodigy.player), function(t) {
						i.setPage(t)
					})
				}
			}, e.prototype.renderClassLeader = function(t, e) {
				var i = new c.Player(this.game);
				i.init(t), d.Util.isValid(this.topPlayer) && this.topPlayer.destroy(), this.topPlayer = this.game.prodigy.create.player(this.classLeaderPanel, i, 2, 135, 270, !1, !0), this.topPlayer.reload();
				var n = 1 === t.isMember ? "@ " : "",
					a = d.Util.trimText(i.getName(), 25, !0);
				this.topPlayerName.setText("" + n + a), this.topPlayerStat.setText("[arena]" + e)
			}, e.prototype.setPage = function(t) {
				if (d.Util.isValid(this.leaders)) {
					this.page = Math.round(t);
					for (var e = 0; e < this.leadersPerPage; e++) this.setIconData(this.characterIcons[e], this.leaders[this.page + e])
				}
			}, e.getPlayerPlace = function(t, e) {
				for (var i = 0; i < t.length; i++) {
					if ((d.Util.isValid(t[i].userID) ? t[i].userID : parseInt(t[i].id)) === e.userID) return i + 1
				}
				return 31
			}, e
		}(l.Element);
	e.ClassLeadersPanel = g
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = i(58),
		s = i(5),
		l = i(0),
		c = i(62),
		h = i(81),
		u = function(t) {
			function e(e, i, n, o, l) {
				void 0 === l && (l = !1);
				var c = t.call(this, e, i, 28, {
					isModal: !1,
					backgroundAlpha: 0
				}, ["atlas-169"]) || this;
				return c.addTransparent(), c.localization = c.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService), c.codeField = r.InputField.createInputField(c.game, c, "classcodeg", "", .5 * c.width - .5 * r.InputField.WIDTH_MEDIUM, .45 * c.height, r.InputField.WIDTH_MEDIUM, r.InputField.HEIGHT_MEDIUM), c.codeField.setLabel(c, c.localization.getText("TEXTBOX_TITLE_CLASS_CODE")), c.codeField.highlight(!1, 180, -35), c.onClassCodeSuccess = n, c.onCloseCallback = o, c.game.broadcaster.addAppListener(s.EWebEvents.POST_MESSAGE_RECEIVED, function(t, e) {
					"class-code-entry" === e.name && c.setCode(e.classCode)
				}, c, c.game), t.prototype.queuePostCreateCallback.call(c, function() {
					c.setupMenu()
				}), l && (c.background.alpha = 0), c
			}
			return n(e, t), e.prototype.setupMenu = function() {
				this.classCodeStatus = {
					classCode: "",
					isValid: !1
				}, this.teacherClassCodeBtn = this.findElement(c.Button, "teacherClassCode"), this.teacherClassCodeBtn.onClickCallback = this.getCode.bind(this), this.confirmBtn = this.findElement(c.Button, "nextBtn"), this.confirmBtn.onClickCallback = this.submitClassCode.bind(this), this.confirmBtn.setActive(!1), this.closeBtn = this.findElement(c.Button, "closeButton"), this.closeBtn.onClickCallback = this.close.bind(this), this.errorMSG = this.findElement(h.WebFontText, "errorCode")
			}, e.prototype.close = function() {
				l.Util.isValid(this.onCloseCallback) && (this.onCloseCallback(), this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_session_start", {
					success: !1,
					error: "no_classCode_attached"
				})), this.codeField.hide(0), this.game.broadcaster.removeAppListener(s.EWebEvents.POST_MESSAGE_RECEIVED, this, this.game), t.prototype.close.call(this)
			}, e.prototype.update = function() {
				if (t.prototype.update.call(this), l.Util.isValid(this.confirmBtn)) {
					var e = this.codeField.getValue().toUpperCase();
					this.codeField.setValue(e), l.Util.isValid(e) && 6 === e.length ? (e === this.classCodeStatus.classCode && this.classCodeStatus.isValid && !this.confirmBtn.isActive ? (this.confirmBtn.setActive(!0), this.codeField.highlight(!1), this.errorMSG.setText(this.localization.getText("CLASS_CODE_CORRECT")), this.errorMSG.text.fill = "#008000") : this.validating || e === this.classCodeStatus.classCode || (this.confirmBtn.setActive(!1), this.validateCode(e), this.errorMSG.setText(this.localization.getText("CLASS_CODE_ERROR")), this.errorMSG.text.fill = "#FF0000"), this.errorMSG.visible = !0) : (this.confirmBtn.setActive(!1), this.codeField.highlight(!1), this.errorMSG.visible = !1)
				}
			}, e.prototype.getCode = function() {
				this.codeField.clearEvents(!1), this.game.input.keyboard.clearCaptures(), prodigyWeb.getClassCode.open()
			}, e.prototype.setCode = function(t) {
				this.codeField.clearEvents(!0), this.game.input.keyboard.addKeyCapture([Phaser.Keyboard.BACKSPACE]), this.codeField.setValue(t)
			}, e.prototype.validateCode = function(t) {
				var e = this;
				this.classCodeStatus = {
					classCode: t,
					isValid: !1
				}, this.validating = !0, this.game.prodigy.network.verifyClassCode(t, function() {
					e.validationComplete(!0, t)
				}, function() {
					e.validationComplete(!1, t)
				})
			}, e.prototype.validationComplete = function(t, e) {
				this.validating = !1, this.classCodeStatus.isValid = t
			}, e.prototype.submitClassCode = function() {
				var t = this;
				if (this.classCodeStatus.isValid) {
					var e = this.codeField.getValue();
					this.game.prodigy.network.attachClassCode(e, function() {
						t.classCodeAttach(!0)
					}, function() {
						t.classCodeAttach(!1)
					})
				}
			}, e.prototype.classCodeAttach = function(t) {
				t && l.Util.isValid(this.onClassCodeSuccess) ? (this.game.prodigy.player.isClassCodeAttached = !0, this.onCloseCallback = null, this.close(), this.onClassCodeSuccess()) : this.errorMSG.visible = !0
			}, e
		}(i(13).Menu);
	e.ClassCode = u
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = i(4),
		s = i(15),
		l = i(22),
		c = i(81),
		h = i(0),
		u = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
				return a.onClose = n, a.create(), a
			}
			return n(e, t), e.prototype.create = function() {
				this.addTransparent();
				var e = this.game.prodigy.create.element(this, 0, 0);
				this.popupViewProperties = {
					tileWidth: 25,
					tileHeight: 16,
					margin: 0,
					padding: 30,
					tileSize: 40,
					contentTileTop: 3
				}, this.popupViewProperties.top = .5 * (18 - this.popupViewProperties.tileHeight) * this.popupViewProperties.tileSize, this.popupViewProperties.left = .5 * (32 - this.popupViewProperties.tileWidth) * this.popupViewProperties.tileSize, this.popupViewProperties.width = this.popupViewProperties.tileWidth * this.popupViewProperties.tileSize, this.popupViewProperties.height = this.popupViewProperties.tileHeight * this.popupViewProperties.tileSize;
				var i = this.renderBackground(e, this.popupViewProperties),
					n = {
						top: 120,
						left: 11,
						tileSize: this.popupViewProperties.tileSize
					};
				n.tileHeight = this.popupViewProperties.tileHeight - n.top / this.popupViewProperties.tileSize - 1, n.width = this.popupViewProperties.width - 2 * n.left, this.renderContent(i, n);
				var a = {
					top: 20,
					left: 120,
					padding: 18,
					tileSize: this.popupViewProperties.tileSize
				};
				a.tileWidth = this.popupViewProperties.tileWidth - a.left / a.tileSize * 2, this.renderTitle(i, a);
				var o = {
					top: this.popupViewProperties.contentTileTop * this.popupViewProperties.tileSize + 20,
					left: 80,
					padding: 10,
					tileHeight: 7,
					tileSize: this.popupViewProperties.tileSize
				};
				o.tileWidth = this.popupViewProperties.tileWidth - 2 * o.left / o.tileSize;
				var r = this.renderMessage(i, o),
					s = {
						left: 120,
						padding: 10,
						tileHeight: 3,
						tileSize: this.popupViewProperties.tileSize
					};
				s.top = (o.tileHeight - s.tileHeight - .5) * s.tileSize, s.tileWidth = (r.width - 2 * s.left) / s.tileSize, this.renderCredentials(r, s);
				var l = {
					top: i.height,
					left: .5 * i.width,
					padding: 10
				};
				this.game.prodigy.loading(!0), this.game.prodigy.load.assets(["atlas-99"], this.renderImages.bind(this, i, l)), t.prototype.create.call(this)
			}, e.prototype.renderBackground = function(t, e) {
				return this.game.prodigy.create.panel(t, e.left, e.top, e.tileWidth, e.tileHeight, "shine")
			}, e.prototype.renderContent = function(t, e) {
				t.add(new Phaser.TileSprite(this.game, e.left, e.top, e.width, e.tileSize, "atlas-161", "blue-top")), t.add(new Phaser.TileSprite(this.game, e.left, e.top + e.tileSize, e.width, (e.tileHeight - 2) * e.tileSize, "atlas-161", "blue-mid")), t.add(new Phaser.TileSprite(this.game, e.left, e.top + (e.tileHeight - 1) * e.tileSize, e.width, e.tileSize, "atlas-161", "blue-top2"))
			}, e.prototype.renderTitle = function(t, e) {
				var i = this.game.prodigy.create.panel(t, e.left, e.top, e.tileWidth, 2, "banner");
				this.game.prodigy.create.font(i, 0, e.padding, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("PLAY_HOME_ENJOY_EVERYWHERE"), {
					size: 36,
					width: e.tileWidth * e.tileSize,
					fontID: 9,
					align: "center",
					lineHeight: 38
				})
			}, e.prototype.renderMessage = function(t, e) {
				var i = this.game.prodigy.create.panel(t, e.left, e.top, e.tileWidth, e.tileHeight, "white"),
					n = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					o = this.game.prodigy.create.font(i, e.padding, e.padding, n.getText("PLAY_HOME_CONTINUE_ADVENTURE"), {
						size: 16,
						width: i.width - 2 * e.padding,
						fontID: 8,
						align: "center",
						lineHeight: 38
					});
				return this.game.prodigy.create.font(i, e.padding, o.y + o.height + 3 * e.padding, n.getText("PLAY_HOME_WRITE_DOWN_CREDENTIALS"), {
					size: 16,
					width: i.width - 2 * e.padding,
					fontID: 8,
					align: "center",
					lineHeight: 38
				}), i
			}, e.prototype.renderCredentials = function(t, e) {
				var i = this.game.prodigy.create.panel(t, e.left, e.top, e.tileWidth, e.tileHeight, "blue"),
					n = this.game.prodigy.player.username,
					a = this.game.prodigy.player.password;
				this.addCredentialItem(i, "PLAY_HOME_DISPLAY_USERNAME", n, 20 * e.tileWidth, 34), this.addCredentialItem(i, "PLAY_HOME_DISPLAY_PASSWORD", a, 20 * e.tileWidth, 88)
			}, e.prototype.addCredentialItem = function(t, e, i, n, o) {
				var r = {
						style: 9,
						fontSize: 36,
						relativeHeight: .5,
						relativeWidth: 1,
						x: n,
						y: o,
						boundsAlignV: "middle",
						boundsAlignH: "center",
						align: "center",
						color: "#ffffff",
						forceUpperCase: !1
					},
					s = new c.WebFontText(this.game, t);
				s.populate(r), s.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(e, i))
			}, e.prototype.renderImages = function(t, e) {
				this.game.prodigy.loading(!1), t.add(this.game.prodigy.create.sprite(e.left, e.top - e.padding, "atlas-99", "after-hours-mail-notice-image", new Phaser.Point(.5, 1))), this.renderCommands(t)
			}, e.prototype.renderCommands = function(t) {
				var e = {
						top: this.popupViewProperties.height,
						left: .5 * this.popupViewProperties.width,
						margin: 3
					},
					i = this.game.prodigy.create.textButton(t, e.left, e.top, {
						text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUTTON_OKAY_EXCLAMATION"),
						size: l.TextButton.MED
					}, this.close.bind(this));
				i.x -= .5 * i.width, i.y -= i.height + .5 * e.margin
			}, e.prototype.close = function() {
				this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("tutorial_2", "house_account_info").broadcast(), t.prototype.close.call(this)
			}, e.isRequired = function(t) {
				return r.default.get("GameConstants.Features.SplitTests.PLAY_AT_HOME") && h.Util.isValid(t.username) && h.Util.isValid(t.password)
			}, e
		}(s.RenderMenu);
	e.PlayAtHome = u
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(41),
		a = i(0),
		o = function() {
			function t() {}
			return t.convertLegacyStarsToModern = function(t) {
				if (!a.Util.isValid(t)) return 0;
				var e = this.legacyLevelFromStars(t),
					i = this.legacyStarsToLevel(e - 1),
					o = (t - i) / (this.legacyStarsToLevel(e) - i),
					r = n.CombatFormulas.xpRequiredForLevel(e),
					s = n.CombatFormulas.xpRequiredForLevel(e + 1);
				return Math.floor(a.Util.clampedLerp(r, s, o))
			}, t.legacyStarsToLevel = function(t) {
				if (t < 1) return 0;
				for (var e = 0, i = 1; i <= t; i++) e += this.legacyEnemiesPerLevel(i);
				return 100 * e
			}, t.legacyLevelFromStars = function(t) {
				for (var e = 1; e <= 100; e++)
					if (t < this.legacyStarsToLevel(e)) return e;
				return 100
			}, t.legacyEnemiesPerLevel = function(t) {
				return Math.max(0, Math.floor(Math.pow(1.7, .085 * t) + .8))
			}, t
		}();
	e.StarConverter = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(86),
		o = i(1),
		r = i(11),
		s = i(79),
		l = i(65),
		c = i(295),
		h = i(6),
		u = i(4),
		p = i(5),
		d = i(14),
		g = i(271),
		f = i(0),
		y = i(2),
		m = i(71),
		_ = i(356),
		v = i(49),
		E = i(35),
		b = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e.saveEnabled = !1, e.curriculumTreeID = null, e.parentEmail = null, e.registerDate = null, e.owners = [], e.classIDs = null, e.playerParents = [], e.playerTeachers = [], e.battleCounter = 0, e.memberStartDate = null, e.memberEndDate = null, e.memberPrompt = !1, e.locationSelectionType = "none", e.username = null, e.password = null, e.grade = null, e.world = null, e.eventSignClicked = 0, e.earlyBirdLastChance = !1, e.spellStreak = 0, e.parentalLink = !1, e.isClassCodeAttached = !1, e.overrideClassSelect = !1, e.updated = !1, e.lastVisited = null, e.memberShareDate = null, e
			}
			return n(e, t), e.prototype.getUpdatedData = function(t) {
				void 0 === t && (t = !1);
				var e = {};
				return (this.equipment.updated || t) && (e.equipment = this.equipment.getDataAndClear(), f.Util.deleteFieldsWithNullsOrEmptyStrings(e.equipment, !0)), (this.tutorial.updated || t) && (e.tutorial = this.tutorial.getDataAndClear(), f.Util.deleteFieldsWithNullsOrEmptyStrings(e.tutorial, !0)), (this.appearance.updated || t) && (e.appearance = this.appearance.getDataAndClear(), f.Util.deleteFieldsWithNullsOrEmptyStrings(e.appearance, !0)), (this.kennel.updated || t) && (e.pets = this.kennel.getDataAndClear(), f.Util.deleteFieldsWithNullsOrEmptyStrings(e.pets, !0)), (this.quests.updated || t) && (e.quests = this.quests.getDataAndClear(), f.Util.deleteFieldsWithNullsOrEmptyStrings(e.quests, !0)), (this.house.updated || t) && (e.house = this.house.getDataAndClear(), f.Util.deleteFieldsWithNullsOrEmptyStrings(e.house, !0)), (this.updated || t) && (e.data = this.getDataAndClear(), f.Util.deleteFieldsWithNullsOrEmptyStrings(e.data, !0)), (this.backpack.updated || t) && (e.inventory = this.backpack.getDataAndClear(), f.Util.deleteFieldsWithNullsOrEmptyStrings(e.inventory, !0)), (this.state.updated || t) && (e.state = this.state.getDataAndClear(), f.Util.deleteFieldsWithNullsOrEmptyStrings(e.state, !0)), (this.achievements.updated || t) && (e.achievements = this.achievements.getDataAndClear(), f.Util.deleteFieldsWithNullsOrEmptyStrings(e.achievements, !0)), e
			}, e.prototype.getDataAndClear = function() {
				return this.updated = !1, t.prototype.getDataAndClear.call(this)
			}, e.prototype.init = function(e) {
				if (t.prototype.init.call(this, e)) {
					if (f.Util.isValid(e.curriculumTreeID) && (this.curriculumTreeID = e.curriculumTreeID), this.parentEmail = f.Util.isValid(e.parentEmail) ? e.parentEmail : "", this.registerDate = f.Util.isValid(e.registerDate) ? new Date(e.registerDate) : null, f.Util.isValid(e.classIDs)) {
						this.owners = e.classIDs, this.classIDs = [];
						for (var i = 0; i < e.classIDs.length; i++) this.classIDs.push(e.classIDs[i].id)
					}
					if (this.playerParents = [], this.playerTeachers = [], f.Util.isValid(e.ownerIDs))
						for (i = 0; i < e.ownerIDs.length; i++) {
							var n = e.ownerIDs[i];
							"parent" === n.type ? this.playerParents.push(n) : "teacher" === n.type && this.playerTeachers.push(n)
						}
					return this.checkVersion(), !0
				}
				return !1
			}, e.prototype.transformPlayer = function(e, i, n) {
				void 0 === n && (n = 0), t.prototype.transformPlayer.call(this, e, i, n), this.updated = !0
			}, e.prototype.getLatestClassIDLegacy = function() {
				return f.Util.isValid(this.classIDs) && this.classIDs.length > 0 ? this.classIDs[this.classIDs.length - 1] : 0
			}, e.prototype.getEnergy = function() {
				return f.Util.isValid(this.data.energy) ? this.data.energy : 0
			}, e.prototype.setEnergy = function(e) {
				t.prototype.setEnergy.call(this, e), this.updated = !0
			}, e.prototype.changeEnergy = function(t) {
				f.Util.isValid(this.data.energy) || (this.data.energy = 0), this.data.energy += t, this.updated = !0
			}, e.prototype.getRegisterDate = function() {
				return f.Util.isValid(this.registerDate) && "string" == typeof this.registerDate && (this.registerDate = f.Util.isValid(this.registerDate) ? new Date(this.registerDate) : null), this.registerDate
			}, e.prototype.setParentEmail = function(t) {
				this.parentEmail = t, this.battleCounter = 0, this.updated = !0
			}, e.prototype.setSurvey = function(t) {
				this.getPlayerData().survey = t, this.updated = !0
			}, e.prototype.hasValidatedParentEmail = function() {
				return !0
			}, e.prototype.getSpellStreak = function() {
				return this.spellStreak
			}, e.prototype.getSurvey = function() {
				return f.Util.isValid(this.getPlayerData().survey) ? this.getPlayerData().survey : 0
			}, e.prototype.getBountyScore = function() {
				return f.Util.isValid(this.getPlayerData().bountyScore) ? this.getPlayerData().bountyScore : 0
			}, e.prototype.addBountyScore = function(t) {
				this.getPlayerData().bountyScore = this.getBountyScore() + t, this.updated = !0
			}, e.prototype.heal = function() {
				this.changeCurrentHearts(u.GameConstants.MAX_SAFE_INTEGER);
				for (var t = this.kennel.getPets(), e = 0; e < t.length; e++) delete t[e].hp;
				this.kennel.updated = !0
			}, e.prototype.castSpell = function(t) {
				f.Util.isValid(this.spellStreak) || (this.spellStreak = 0), t ? (this.achievements.increment("qC", 1), this.spellStreak++) : this.spellStreak = 0
			}, e.prototype.getPlayerClass = function() {
				var t = this.data;
				return f.Util.isValid(t) && f.Util.isValid(t.defaultClass) ? t.defaultClass : ""
			}, e.prototype.setPlayerClass = function(t) {
				this.data.defaultClass = t
			}, e.prototype.addSpell = function(t) {
				var e = this.data;
				f.Util.isValid(e.spells) || (e.spells = []), f.Util.inArray(e.spells, t) || (e.spells.push(t), f.Util.isValid(e.spellbook) && !f.Util.inArray(e.spellbook, t) && e.spellbook.length < 6 && e.spellbook.push(t)), this.updated = !0
			}, e.prototype.setMembership = function(e) {
				t.prototype.setMembership.call(this, e), f.Util.isValid(e) ? (e.userID === this.game.prodigy.player.userID && (this.lastVisited = e.lastVisited, this.game.prodigy.notifications.initMemberNotification()), f.Util.isValid(e.memberStartDate) ? this.memberStartDate = e.memberStartDate : this.memberStartDate = (new Date).toISOString(), f.Util.isValid(e.memberEndDate) ? this.memberEndDate = e.memberEndDate : this.memberEndDate = null) : (this.memberStartDate = (new Date).toISOString(), this.memberEndDate = null), this.memberPrompt = !1, this.updated = !0, this.isMember && (f.Util.isValid(this.getPlayerData().nm) ? this.getPlayerData().nm = 2 : (f.Util.isValid(this.getPlayerData().startDate) && this.getPlayerData().startDate < (new Date).getTime() && (this.getPlayerData().daysToConvert = ((new Date).getTime() - this.getPlayerData().startDate) / 864e5), this.getPlayerData().nm = 1, this.updated = !0), this.backpack.unlockAllItems())
			}, e.prototype.getArenaPoints = function() {
				var t = this.game.prodigy.pvpNetworkHandler;
				return f.Util.isValid(t.userRank) && f.Util.isValid(t.userRank.points) ? t.userRank.points : 0
			}, e.prototype.healTeam = function(t) {
				this.changeCurrentHearts(t);
				for (var e = this.kennel.getPets(), i = 0; i < e.length; i++) {
					var n = new E.Monster(this.game, e[i]);
					f.Util.isValid(e[i].hp) && (e[i].hp + t > n.getMaxHearts() ? delete e[i].hp : e[i].hp = e[i].hp + t)
				}
				this.kennel.updated = !0
			}, e.prototype.healTeamMember = function(t, e, i) {
				void 0 === i && (i = null);
				for (var n = this.kennel.getPets(), a = 0; a < n.length; a++)
					if (n[a].ID === e) {
						var o = new E.Monster(this.game, n[a]);
						f.Util.isValid(n[a].hp) && (n[a].hp + t > o.getMaxHearts() ? n[a].hp = o.getMaxHearts() : n[a].hp = n[a].hp + t);
						break
					} this.kennel.updated = !0, f.Util.isValid(i) && i()
			}, e.prototype.setZone = function(t) {
				f.Util.isValid(t) && t.indexOf("scene") > -1 || (this.getPlayerData().zone = t, this.updated = !0)
			}, e.prototype.changeGold = function(t, e) {
				void 0 === e && (e = null), f.Util.isValid(e) && this.game.prodigy.network.sendItemChangeEvent(e, {
					type: "gold",
					ID: -1,
					N: t
				}), t > 0 ? this.achievements.increment("gE", t) : t < 0 && this.achievements.increment("gS", Math.min(Math.max(this.getPlayerData().gold, 0), Math.abs(t))), this.getPlayerData().gold = this.getGold() + t, this.getPlayerData().gold < 0 && delete this.getPlayerData().gold, this.getPlayerData().gold > u.GameConstants.MAX_SAFE_INTEGER && (this.getPlayerData().gold = 1e9), this.updated = !0
			}, e.prototype.equip = function(t, e) {
				switch (e) {
					case "follow":
						this.equipment.setFollow(t);
						break;
					case "hat":
						this.equipment.setHat(t);
						break;
					case "outfit":
						this.equipment.setOutfit(t);
						break;
					case "weapon":
						this.equipment.setWeapon(t);
						break;
					case "spellRelic":
						this.equipment.setSpellRelic(t);
						break;
					case "boots":
						this.equipment.setBoots(t);
						break;
					default:
						return o.Logger.log("Unrecognized equipment type " + e + ".", o.LogLevel.Warning), !1
				}
				return this.game.broadcaster.broadcast(p.EPlayerContainerEvents.PlayerEquipmentEquip, this.game, [e, t]), !0
			}, e.prototype.unEquip = function(t) {
				switch (t) {
					case "follow":
						this.equipment.setFollow(null);
						break;
					case "hat":
						this.equipment.setHat(null);
						break;
					case "outfit":
						this.equipment.setOutfit(null);
						break;
					case "weapon":
						this.equipment.setWeapon(null);
						break;
					case "spellRelic":
						this.equipment.setSpellRelic(null);
						break;
					case "boots":
						this.equipment.setBoots(null);
						break;
					default:
						return o.Logger.log("Unrecognized equipment type " + t + ".", o.LogLevel.Warning), !1
				}
				return this.game.broadcaster.broadcast(p.EPlayerContainerEvents.PlayerEquipmentUnequip, this.game, [t]), !0
			}, e.prototype.setDailyDate = function(t) {
				var e = new Date;
				this.getPlayerData()[t].date = {
					d: e.getUTCDate(),
					m: e.getUTCMonth(),
					y: e.getUTCFullYear()
				}, this.updated = !0
			}, e.prototype.canDoDaily = function(t, e) {
				var i = this.getPlayerData()[t],
					n = f.Util.isValid(i) ? i.date : null;
				return f.Util.isValid(i) ? f.Util.isValid(n) && f.Util.isDateToday(new Date(n.y, n.m, n.d)) || this.resetDaily(t, e) : (this.getPlayerData()[t] = {}, this.resetDaily(t, e)), 0 === this.getPlayerData()[t].isComplete
			}, e.prototype.completeDaily = function(t, e) {
				this.getPlayerData()[t].isComplete = e, this.updated = !0
			}, e.prototype.setSpinDate = function(t) {
				this.getPlayerData()["spinDate" + t] = f.Util.getDateTime(), this.updated = !0
			}, e.prototype.spinWheel = function(t) {
				this.getPlayerData()["numSpins" + t]++, this.updated = !0
			}, e.prototype.canSpin = function(t) {
				return f.Util.isValid(this.getPlayerData()["numSpins" + t]) ? this.getPlayerData()["spinDate" + t] !== f.Util.getDateTime() ? (this.setSpinDate(t), this.getPlayerData()["numSpins" + t] = 0, !0) : 0 === this.getPlayerData()["numSpins" + t] || 1 === this.getPlayerData()["numSpins" + t] && this.hasMembership() || u.GameConstants.get("GameConstants.Debug.UNLIMITED_WHEEL_SPINS") : (this.setSpinDate(t), this.getPlayerData()["numSpins" + t] = 0, !0)
			}, e.prototype.setColiseum = function(t) {
				this.getPlayerData().arena = t
			}, e.prototype.getColiseum = function() {
				return f.Util.isValid(this.getPlayerData().arena) ? this.getPlayerData().arena : 0
			}, e.prototype.getTeamScore = function() {
				return this.kennel.getTeamScore()
			}, e.prototype.addWin = function() {
				this.getPlayerData().win = this.getWins() + 1, this.updated = !0
			}, e.prototype.addLoss = function() {
				this.getPlayerData().loss = this.getLosses() + 1, this.updated = !0
			}, e.prototype.processDeserter = function() {
				return !!f.Util.isValid(this.getPlayerData().deserter) && (delete this.getPlayerData().deserter, this.updated = !0, !0)
			}, e.prototype.completeTower = function(t) {
				t > this.getTowerProgress() && (this.getPlayerData().tower = t, this.game.prodigy.gameContainer.get(h.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("dark_tower", t.toString()).broadcast()), this.updated = !0
			}, e.prototype.isBlockedByDarkTowerMemberGate = function() {
				var t = this.getTowerProgress();
				return !this.hasMembership() && t < 100 && t >= u.GameConstants.get("GameConstants.Tower.MAX_FREE_MEMBER_FLOOR")
			}, e.prototype.swapSpells = function(t, e) {
				if (f.Util.isValid(t) && f.Util.isValid(e)) {
					f.Util.isValid(this.getPlayerData().spellbook) || (this.getPlayerData().spellbook = this.getAllAttacks().slice(0, 6));
					for (var i = 0; i < this.getPlayerData().spellbook.length; i++) this.getPlayerData().spellbook[i] !== t ? this.getPlayerData().spellbook[i] === e && (this.getPlayerData().spellbook[i] = t) : this.getPlayerData().spellbook[i] = e;
					this.updated = !0
				}
			}, e.prototype.hasCompletedTutorial = function() {
				var t = r(this.game.prodigy.world.zones, "house", null);
				return f.Util.isValid(t) && r(t.getQuestState(), "ID", 0) > 1
			}, e.prototype.setAllowsHouseVisitors = function(t) {
				this.getPlayerData().allowsHouseVisitors = t, this.updated = !0
			}, e.prototype.setBGMVolume = function(t) {
				this.getSettings().bgmVolume = t, this.updated = !0
			}, e.prototype.setSFXVolume = function(t) {
				this.getSettings().sfxVolume = t, this.updated = !0
			}, e.prototype.setVoiceVolume = function(t) {
				this.getSettings().voiceVolume = t, this.updated = !0
			}, e.prototype.getSettings = function() {
				return f.Util.isValid(this.getPlayerData().settings) || (this.getPlayerData().settings = {
					bgmVolume: u.GameConstants.get("GameConstants.Audio.DEFAULT_MUSIC_VOLUME"),
					sfxVolume: u.GameConstants.get("GameConstants.Audio.DEFAULT_SOUND_VOLUME"),
					voiceVolume: u.GameConstants.get("GameConstants.Audio.DEFAULT_VOICE_VOLUME")
				}, this.updated = !0), this.getPlayerData().settings
			}, e.prototype.rewardMembershipPrizes = function(t) {
				var e = this;
				return !(!this.game.prodigy.player.isMember || 0 !== this.game.prodigy.player.backpack.hasItem("mount", 1)) && (this.game.prodigy.open.membershipInfo(function() {
					e.game.prodigy.gameContainer.get(h.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("new-member", {
						startDate: r(e.game.prodigy.player.data, "startDate", -1),
						daysToConvert: r(e.game.prodigy.player.data, "daysToConvert", -1)
					}), e.game.prodigy.gameContainer.get(h.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).create("new-member", r(e.game.prodigy.player.data, "startDate", -1), r(e.game.prodigy.player.data, "daysToConvert", -1)).broadcast(), e.game.prodigy.open.gotItem([{
						type: "mount",
						ID: 1
					}], t)
				}, null, null, !0), !0)
			}, e.prototype.onTutorialComplete = function() {
				this.game.prodigy.player.backpack.addKeyItem(13, void 0), this.game.prodigy.pvpNetworkHandler.initUserLeaderboard()
			}, e.prototype.isItemOwned = function(t) {
				var e = this.backpack.hasItem(t.type, t.ID) > 0;
				if ("dorm" === t.type) e = this.house.getOwned(t.ID) >= 9;
				else if ("dormbg" === t.type) {
					var i = y.Items.getItem("dormbg", t.ID).data;
					e = f.Util.isValid(i) && i.tag === this.house.getCurrentHouseTag()
				} else "pet" === t.type ? e = this.kennel.hasPet(t.ID) : "item" === t.type ? e = this.backpack.hasItem(t.type, t.ID) >= 99 : "gender" === t.type ? e = ("male" === this.appearance.getGender() ? 1 : 2) === t.ID : "hair" === t.type ? e = this.appearance.getHair().style === t.ID : "eyeColor" === t.type ? e = this.appearance.getEyeColor() === t.ID : "skinColor" === t.type ? e = this.appearance.getSkinColor() === t.ID : "hairColor" === t.type ? e = this.appearance.getHair().color === t.ID : "face" === t.type && (e = this.appearance.getFace() === t.ID);
				return e
			}, e.prototype.hasHouseItem = function(t) {
				return "dorm" === t.type && this.house.getOwned(t.ID) > 0
			}, e.prototype.anyPetsAboveLevel = function(t) {
				for (var e = this.kennel.getPets(), i = 0; i < e.length; i++)
					if (e[i].level > t) return !0;
				return !1
			}, e.prototype.getDrops = function() {
				var t = [{
					type: "gold",
					N: 100
				}];
				return t = t.concat(y.Items.getItemDrops())
			}, e.prototype.checkVersion = function() {
				var t = this,
					e = f.Util.isValid(this.getPlayerData().versionID) ? this.getPlayerData().versionID : 0;
				if (e < 1 && (f.Util.isValid(this.state.data.zone) && f.Util.isValid(this.state.data.zone.lamplight) && delete this.state.data.zone.lamplight, f.Util.isValid(this.state.data.zone) && f.Util.isValid(this.state.data.zone.house) && delete this.state.data.zone.house, this.state.updated = !0), e < 2 && this.kennel.hasPet(125) && this.backpack.add("follow", 125), e < 3) {
					var i = this.state.get("zone-forest-quest-ID");
					f.Util.isValid(i) && i >= 12 && this.state.set("zone-forest-quest", {
						ID: 13
					}), i = this.state.get("zone-shiverchill-quest-ID"), f.Util.isValid(i) && i >= 15 && this.state.set("zone-shiverchill-quest", {
						ID: 16
					}), i = this.state.get("zone-skywatch-quest-ID"), f.Util.isValid(i) && i >= 13 && this.state.set("zone-skywatch-quest", {
						ID: 14
					}), i = this.state.get("zone-bonfire_spire-quest-ID"), f.Util.isValid(i) && i >= 14 && this.state.set("zone-bonfire_spire-quest", {
						ID: 15
					})
				}
				if (e < 4) {
					f.Util.isValid(this.getPlayerData().stars) || (this.getPlayerData().stars = 0), this.getPlayerData().stars = 10 * this.getPlayerData().stars, this.changeCurrentHearts(u.GameConstants.MAX_SAFE_INTEGER);
					for (var n = this.kennel.getPets(), l = 0; l < n.length; l++) n[l].hp = u.GameConstants.MAX_SAFE_INTEGER, f.Util.isValid(n[l].stars) || (n[l].stars = 0), f.Util.isValid(n[l].level) || (n[l].level = 1), 0 === n[l].stars ? n[l].stars = v.Creature.starsToLevel(n[l].level) : n[l].stars = 10 * n[l].stars
				}
				if (e < 6 && (this.backpack.hasItem("weapon", 1e3) > 0 && this.backpack.consume("weapon", 1e3, 1), 1e3 === this.equipment.getWeapon() && this.equipment.setWeapon(0)), e < 9) {
					var c = this.backpack.hasItem("weapon", 1e3);
					c > 0 && this.backpack.consume("weapon", 1e3, c), 1e3 === this.equipment.getWeapon() && this.equipment.setWeapon(0), (c = this.backpack.hasItem("weapon", 96)) > 0 && this.backpack.consume("weapon", 96, c), 96 === this.equipment.getWeapon() && this.equipment.setWeapon(0)
				}
				if (e < 10 || e < 14) {
					var h = f.Util.isValid(Number.MAX_SAFE_INTEGER) ? Number.MAX_SAFE_INTEGER : 9007199254740991;
					if (f.Util.isValid(this.getPlayerData().playerTransformation) && (f.Util.isValid(this.getPlayerData().playerTransformation.maxTime) && this.getPlayerData().playerTransformation.maxTime === h || f.Util.isValid(this.getPlayerData().playerTransformation.timeRemaining) && this.getPlayerData().playerTransformation.timeRemaining === h)) {
						var p = this.getMaxTimeForCurrentMorphMarbleEffect();
						this.getPlayerData().playerTransformation.maxTime = p, this.getPlayerData().playerTransformation.timeRemaining = p
					}
				}
				if (e < 11 && f.Util.isValid(this.getPlayerData().playerTransformation) && f.Util.isValid(this.getPlayerData().playerTransformation.transformID) && this.getPlayerData().playerTransformation.transformID > -1 && !f.Util.isValid(this.getPlayerData().playerTransformation.timeRemaining)) {
					p = this.getMaxTimeForCurrentMorphMarbleEffect();
					this.getPlayerData().playerTransformation.maxTime = p, this.getPlayerData().playerTransformation.timeRemaining = p
				}
				if (e < 12) {
					var _ = this.game.prodigy.world.getZone("house");
					_.getState("hasClickedPlayerCardVisit") && this.game.prodigy.breadcrumbManager.completeBreadcrumb(d.Breadcrumbs.FEATURE_HOUSE_VISITING, d.Breadcrumbs.BREADCRUMB_CLICKED_CARD_VISIT_BUTTON), _.getState("hasClickedWorldMap") && this.game.prodigy.breadcrumbManager.completeBreadcrumb(d.Breadcrumbs.FEATURE_HOUSE_VISITING, d.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON), _.getState("hasClickedLockButton") && this.game.prodigy.breadcrumbManager.completeBreadcrumb(d.Breadcrumbs.FEATURE_HOUSE_VISITING, d.Breadcrumbs.BREADCRUMB_CLICKED_HOUSE_LOCK_BUTTON);
					var b = _.getState("houseMovingBreadcrumbs");
					f.Util.isValid(b) && (b >= 0 && this.game.prodigy.breadcrumbManager.completeBreadcrumb(d.Breadcrumbs.FEATURE_HOUSE_MOVING, d.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON), b >= 1 && this.game.prodigy.breadcrumbManager.completeBreadcrumb(d.Breadcrumbs.FEATURE_HOUSE_MOVING, d.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE), b >= 2 && this.game.prodigy.breadcrumbManager.completeBreadcrumb(d.Breadcrumbs.FEATURE_HOUSE_MOVING, d.Breadcrumbs.BREADCRUMB_CLICKED_HOUSE_MOVE_BUTTON)), f.Util.safeDeleteObjectProperty(this.getPlayerData(), "arenaRank"), f.Util.safeDeleteObjectProperty(this.getPlayerData(), "arenaScore"), f.Util.isValid(this.achievements) && delete this.achievements.data.progress[13]
				}
				if (e < 13 && f.Util.safeDeleteObjectProperty(this.getPlayerData(), "reward"), e < 15 && f.Util.isValid(this.kennel.data)) {
					var O, I = [],
						T = function(t) {
							var e = A.kennel.data[t];
							if (!f.Util.isValid(e.ID) && f.Util.isValid(e.name)) {
								var i = 0,
									n = y.Items.data.pet.find(function(t) {
										return e.name === t.data.name
									});
								if (null !== n && (i = n.ID), i > 0) {
									for (var a = !0, o = 0; o < I.length; o++)
										if (i === I[o]) {
											A.kennel.data.splice(t, 1), t--, a = !1;
											break
										} a && (I.push(i), A.kennel.data[t] = {
										ID: i,
										stars: 0,
										level: 1
									}), A.kennel.updated = !0
								}
							}
							O = t
						},
						A = this;
					for (l = 0; l < this.kennel.data.length; l++) T(l), l = O
				}
				if (e < 16 && (delete this.state.data.useOldTutorialPath, !this.hasCompletedTutorial())) {
					delete this.getPlayerData().zone, delete this.state.data.zone.house, delete this.state.data.zone.lamplight;
					var C = [1, 4, 7, 10];
					this.kennel.data = this.kennel.data.filter(function(t) {
						return !s(C, t.ID)
					})
				}
				if (e < 17 && this.game.prodigy.world.getZone("lamplight").isOnSequence(1, 3) && (this.getPlayerData().zone = "lamplight-B0"), e < 18 && (delete this.getPlayerData().spinDate, delete this.getPlayerData().numSpins), e < 19 && this.hasCompletedTutorial() && (null === this.appearance.getName() && this.appearance.setName(new a.NameData), f.Util.isValid(this.appearance.getName().getFirstName()) || (this.appearance.getName().setFirstName(m.DataNameResolver.getRandomFirstName(this.appearance.getGender())), this.appearance.updated = !0), f.Util.isValid(this.appearance.getName().getMiddleName()) && f.Util.isValid(this.appearance.getName().getLastName()) || (this.appearance.getName().setMiddleName(m.DataNameResolver.getRandomMiddleName()), this.appearance.getName().setLastName(m.DataNameResolver.getRandomLastName()), this.appearance.updated = !0)), e < 20) {
					var S = this.state.get("zone-lamplight");
					r(this.data, "isNewTutorial", !1) && (S = this.state.get("zone-house")), r(S, "quest.ID", 0) >= 2 && f.Util.isValid(this.backpack) && this.backpack.hasItem("key", 13) > 0 || (this.state.data.tutorial = {}, this.state.data.zone = {}, this.state.data.world = {}, this.state.data.breadcrumbs = {}, this.state.updated = !0, this.backpack.data.key = [], this.backpack.updated = !0), delete this.data.isNewTutorial
				}
				if (e < 21) {
					var w = {
						bonfire_spire: [{
							questID: 5,
							relicID: 1
						}, {
							questID: 11,
							relicID: 2
						}, {
							questID: 14,
							relicID: 3
						}],
						shiverchill: [{
							questID: 3,
							relicID: 4
						}, {
							questID: 10,
							relicID: 5
						}, {
							questID: 14,
							relicID: 6
						}],
						skywatch: [{
							questID: 4,
							relicID: 7
						}, {
							questID: 10,
							relicID: 8
						}, {
							questID: 13,
							relicID: 9
						}],
						shipwreck_shore: [{
							questID: 3,
							relicID: 10
						}, {
							questID: 7,
							relicID: 11
						}, {
							questID: 11,
							relicID: 12
						}],
						forest: [{
							questID: 4,
							relicID: 13
						}, {
							questID: 8,
							relicID: 14
						}, {
							questID: 12,
							relicID: 15
						}]
					};
					Object.keys(w).forEach(function(e) {
						for (var i = 0; i < w[e].length; i++) w[e][i].questID <= t.state.getCompletedQuests(e) && t.backpack.hasItem("spellRelic", w[e][i].relicID) <= 0 && (f.Util.isValid(t.backpack.data.spellRelic) || (t.backpack.data.spellRelic = []), t.backpack.data.spellRelic.push({
							ID: w[e][i].relicID
						}))
					}), this.data.stars = g.StarConverter.convertLegacyStarsToModern(this.getStars());
					for (l = 0; l < this.kennel.data.length; l++) this.kennel.data[l].stars = g.StarConverter.convertLegacyStarsToModern(this.kennel.data[l].stars);
					if (this.healTeam(u.GameConstants.MAX_SAFE_INTEGER), this.equipment.unequipLevelLockedItems(), f.Util.isDefined(this.kennel.data))
						for (l = 0; l < this.kennel.data.length; l++) {
							var D = this.kennel.data[l];
							f.Util.isValid(D.levelCaught) || (D.levelCaught = D.level), f.Util.isValid(D.lockedSpells) || new E.Monster(this.game, D).assignRandomSpells()
						}
					var P = this.data.storedMemberStars;
					f.Util.isValid(P) || (P = 0), P = Math.round(.1 * P), this.data.storedMemberStars = P, this.kennel.updated = !0, this.backpack.updated = !0, this.updated = !0
				}
				if (e < 22 && (delete this.data.dailyLoginBonus, this.updated = !0), e < 23 && (this.hasCompletedTutorial() || (this.game.prodigy.player.resetAccount(), this.game.prodigy.world.teleport("house"))), 45690944 === this.userID) {
					o.Logger.log("SessionCam Activated! SessionCam Client Integration v6.0", o.LogLevel.Verbose);
					var L = document.createElement("SCRIPT");
					L.type = "text/javascript", L.src = "//d2oh4tlt9mrke9.cloudfront.net/Record/js/sessioncam.recorder.js", document.getElementsByTagName("head")[0].appendChild(L)
				}
				e < 23 && (this.getPlayerData().versionID = 23, this.updated = !0)
			}, e.prototype.getMaxTimeForCurrentMorphMarbleEffect = function() {
				if (f.Util.isValid(this.getPlayerData().playerTransformation.transformType) && f.Util.isValid(this.getPlayerData().playerTransformation.transformID) && this.getPlayerData().playerTransformation.transformID > -1)
					for (var t = 117; t <= 122; t++) {
						var e = y.Items.getItem("item", t).data;
						if (f.Util.isValid(e.effect) && f.Util.isValid(e.effect.transform) && e.effect.transform === this.getPlayerData().playerTransformation.transformType && f.Util.isValid(e.effect.ID) && e.effect.ID === this.getPlayerData().playerTransformation.transformID) return f.Util.isValid(e.effect.time) ? e.effect.time : 0
					}
				return 0
			}, e.prototype.resetDaily = function(t, e) {
				this.setDailyDate(t), this.getPlayerData()[t].isComplete = 0, f.Util.isValid(e) && e()
			}, e.prototype.addAssets = function(t) {
				for (var e = 0; e < t.length; ++e) this.addAsset(t[e])
			}, e.prototype.addAsset = function(t) {
				var e = t.getType();
				s(["pet", "hat", "outfit", "weapon", "follow"], e) ? "pet" === e ? this.kennel.add(t.getID(), null, v.Creature.starsToLevel(20), 20, null) : "follow" === e ? (this.backpack.add("follow", t.getID()), f.Util.isValid(this.game.prodigy.player.equipment.getFollow()) || this.equipment.setFollow(t.getID())) : this.backpack.add(t.getType(), t.getID(), !1, t.getQuantity()) : o.Logger.log("Trying to add an asset of type '" + t.getType() + "' which is not supported", o.LogLevel.Warning)
			}, e.prototype.addStars = function(e, i, n, a) {
				if (void 0 === i && (i = !1), void 0 === n && (n = !1), void 0 === a && (a = !1), i) {
					var o = Math.round(e);
					return this.hasValidatedParentEmail() && this.hasCompletedTutorial() && (o *= u.GameConstants.get("GameConstants.Battle.VALID_PARENT_EMAIL_STARS_PERCENTAGE")), this.starsToProcess += o, !1
				}
				t.prototype.addStars.call(this, e, i, n, a)
			}, e.prototype.resetAccount = function() {
				var t = this;
				this.data.level = 1, this.data.stars = 0, this.data.storedMemberStars = 0, this.updated = !0, this.tutorial.setData({
					zones: {},
					menus: {}
				}), this.tutorial.updated = !0, this.backpack = new _.Backpack, this.kennel.data = l(this.kennel.data, function(t) {
					return t.ID <= 133 && t.ID >= 125
				}), c(this.kennel.data, function(e) {
					t.backpack.add("follow", y.Items.getItem("pet", e.ID).data.unlockFollow)
				}), this.backpack.updated = !0, this.kennel.updated = !0, this.appearance.setName(new a.NameData), this.name.init(this.appearance.getName(), this.appearance.getGender()), this.equipment.clearData(), this.game.prodigy.player.state.data.tutorial = {}, this.game.prodigy.player.state.data.zone = {}, this.game.prodigy.player.state.data.world = {}, this.game.prodigy.player.state.data.breadcrumbs = {}, this.game.prodigy.player.state.updated = !0
			}, e
		}(i(12).Player);
	e.ActivePlayer = b
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(15),
		r = i(22),
		s = i(2),
		l = i(12),
		c = i(80),
		h = i(16),
		u = i(0),
		p = i(20),
		d = i(34),
		g = function(t) {
			function e(e, i, n, a, o) {
				void 0 === o && (o = d.EItemInfoMode.View);
				var r = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
				return r.item = null, r.mode = d.EItemInfoMode.View, r.callback = null, r.panel = null, r.item = n, r.mode = o, r.onClose = a, r.callback = a, r.create(), r
			}
			return n(e, t), e.prototype.create = function() {
				var e = this;
				this.addTransparent(), this.panel = this.game.prodigy.create.panel(this, 230, 100, 21, 12, "shine"), this.panel.setRenderState(!0), this.game.prodigy.create.button(this, this.panel.x + 800, this.panel.y - 10, "atlas-21", "close", this.close.bind(this));
				var i = null,
					n = null;
				this.mode === d.EItemInfoMode.Buy ? (i = this.game.prodigy.create.item(this, 270, 140, {
					ID: this.item.getID(),
					type: this.item.getType()
				}, d.EItemInfoMode.Info), n = s.Items.getItem(this.item.getType(), this.item.getID()).data) : (i = this.game.prodigy.create.item(this, 270, 140, {
					ID: this.item.ID,
					type: this.item.type
				}, d.EItemInfoMode.Info), n = s.Items.getItem(this.item.type, this.item.ID).data);
				var o = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				if (this.mode === d.EItemInfoMode.Buy) this.createBuyModeUI(i, n);
				else if (this.mode === d.EItemInfoMode.Equip) {
					var l = "",
						c = this.item;
					if (1 !== c.L || this.game.prodigy.player.hasMembership() || (l = "[membership] "), "hat" === c.type || "weapon" === c.type || "outfit" === c.type || "boots" === c.type || "follow" === c.type || "back" === c.type || "spellRelic" === c.type) this.game.prodigy.player.equipment.getEquipment(c.type) === c.ID ? (l = "follow" === c.type ? o.getText("ITEM_BUTTON_HIDE") : o.getText("ITEM_BUTTON_REMOVE"), this.game.prodigy.create.textButton(this, 290, 435, {
						text: l,
						size: r.TextButton.SMALL
					}, function() {
						e.unequipItem()
					})) : ("follow" === c.type ? l += o.getText("ITEM_BUTTON_SHOW") : l += o.getText("ITEM_BUTTON_WEAR"), this.game.prodigy.create.textButton(this, 290, 435, {
						text: l,
						size: r.TextButton.SMALL
					}, function() {
						e.equipItem()
					}));
					else if (u.Util.isValid(n.effect) && (n.effect.fx || n.effect.transform)) {
						var h = function() {
							e.use(n)
						};
						u.Util.isValid(n.effect.transform) && (h = function() {
							e.checkTransformation(n)
						}), this.game.prodigy.create.textButton(this, 290, 435, {
							text: o.getText("ITEM_BUTTON_USE"),
							icon: "up",
							size: r.TextButton.SMALL
						}, h)
					}
				} else if (this.mode === d.EItemInfoMode.Item) {
					l = "";
					1 !== this.item.L || this.game.prodigy.player.hasMembership() || (l = "[membership] "), l += o.getText("ITEM_BUTTON_USE"), this.game.prodigy.create.textButton(this, 290, 435, {
						text: l,
						size: r.TextButton.SMALL
					}, function() {
						e.useItem(e.item)
					})
				}
				t.prototype.create.call(this)
			}, e.prototype.createBuyModeUI = function(t, e) {
				var i = this,
					n = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("ITEM_BUTTON_BUY"),
					o = "[mail-gold] ",
					l = this.item.getCost()[0];
				"currency" === l.getType() && 1 === l.getID() || (o = "[" + s.Items.getItem(l.getType(), l.getID()).data.icon + "] "), this.game.prodigy.create.font(this, 290, 385, "" + o + l.getAmount(), {
					align: "center",
					width: 200,
					size: 30,
					iconOffsetY: 6
				}), 1 !== e.member || this.game.prodigy.player.hasMembership() || (n = "[membership] " + n), this.game.prodigy.create.textButton(this, 290, 435, {
					text: n,
					size: r.TextButton.SMALL
				}, function() {
					i.close(!0)
				})
			}, e.prototype.use = function(t) {
				var e = !1;
				t.effect.fx && (this.game.prodigy.player.fx(t.effect.fx, !0), e = !0), this.game.prodigy.player.backpack.consume(this.item.type, this.item.ID), this.close(e)
			}, e.prototype.checkTransformation = function(t) {
				var e = this;
				u.Util.isValid(t.effect) && u.Util.isValid(t.effect.transform) && (this.game.prodigy.player.isPlayerTransformed() ? this.game.prodigy.open.messageBox(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MORPH_START_NEW"), function() {
					e.useTransformation(t)
				}) : this.useTransformation(t))
			}, e.prototype.useTransformation = function(t) {
				this.game.prodigy.user.transformToItem(t.effect.transform, t.effect.ID, !0, t.effect.time), this.game.prodigy.player.backpack.consume(this.item.type, this.item.ID), this.close(!0)
			}, e.prototype.useItem = function(t) {
				var e = s.Items.getItem(this.item.type, this.item.ID).data,
					i = this.game.state.states.Battle.teams[0].getCurrent();
				1 !== t.L || this.game.prodigy.player.hasMembership() ? u.Util.isValid(i.potionIcon) && "potion" === e.type ? this.game.prodigy.open.confirmPotionUse(this) : this.confirmItemUse() : this.game.prodigy.open.membershipInfo(null, {}, h.MembershipInfo.POTIONS)
			}, e.prototype.confirmItemUse = function() {
				var t = this.game.state.states.Battle,
					e = t.teams[0].getCurrent(),
					i = s.Items.getItem(this.item.type, this.item.ID).data;
				this.callback(!0);
				var n = !0,
					o = this.game.prodigy.event.create();
				if ("potion" === i.type) u.Util.isValid(e.potionIcon) && (e.potionIcon.destroy(), e.potionIcon = null), u.Util.isValid(e.potencyIcon) && (e.potencyIcon.destroy(), e.potencyIcon = null), e.source.updateModifier("potion", this.item.ID), o.explode(275, 400, 100, 100, 1, !1, !0), o.function(this.addPotionIcon.bind(this, this.game, i, t));
				else if (i.effect.hpPercent)
					if (e.source.getCurrentHearts() >= e.source.getMaxHearts()) {
						var r = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
							h = r.getText("COMBAT_YOU");
						e.source instanceof l.Player || (h = u.Util.isValid(e.source.data.nickname) ? e.source.data.nickname : e.source.source.name), this.game.prodigy.open.message(r.getText("COMBAT_CANT_EAT_RIGHT_NOW", h), function() {
							t.combatManager.playerTurn(), c.Bam.canUseItems = !0
						}, null, null), n = !1
					} else o.function(function() {
						e.source.changeCurrentHeartsPercent(i.effect.hpPercent)
					}), o.sound(18, "heart"), o.delay(200), o.sound(18, "heart"), o.delay(200), o.sound(18, "heart");
				n && (o.function(function() {
					t.combatManager.playerTurn()
				}), this.game.prodigy.player.backpack.consume(this.item.type, this.item.ID), t.mods.itemUsed = n), o.start(), this.close()
			}, e.prototype.addPotionIcon = function(t, e, i) {
				var n = i.teams[0].getCurrent();
				n.potionIcon = n.sprites.add(t.prodigy.create.sprite(-20, 0, "atlas-21", "potion-buff-" + e.element)), 2 === e.potency && (n.potencyIcon = n.sprites.add(t.prodigy.create.sprite(30, 10, "atlas-21", "bonus-arrow")))
			}, e.prototype.equipItem = function() {
				var t = this,
					e = s.Items.getItem(this.item.type, this.item.ID).data,
					i = u.Util.isValid(e.lockLevel) && this.game.prodigy.player.getLevel() < e.lockLevel;
				if (1 !== this.item.L || i)
					if (i) {
						var n = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("LEVEL_LOCK_EQUIP", e.name, e.lockLevel);
						this.game.prodigy.open.message(n).onClose = function() {
							t.game.prodigy.player.hasMembership() || t.game.prodigy.open.membershipInfo(null, {}, h.MembershipInfo.MORE_EXP)
						}
					} else this.game.prodigy.player.equip(this.item.ID, this.item.type) ? (this.game.prodigy.player.appearanceChanged = !0, this.game.prodigy.audio.playSFX(18, "whoosh"), this.close()) : this.close();
				else {
					var o = {
						conversionFunnelName: p.EFunnelEventIDs.FunnelEquipBackpackLockedItem,
						conversionFunnelMetadata: this.item.type + "-" + this.item.ID
					};
					this.game.prodigy.network.sendConversionFunnelEvent(o.conversionFunnelName, p.EFunnelEventIDs.StageEquipItem, o.conversionFunnelMetadata), this.game.prodigy.open.membershipInfo(null, o, h.MembershipInfo.PREMIUM_ITEM)
				}
			}, e.prototype.unequipItem = function() {
				this.game.prodigy.player.unEquip(this.item.type) && (this.game.prodigy.player.appearanceChanged = !0, this.game.prodigy.audio.playSFX(18, "blop")), this.close()
			}, e
		}(o.RenderMenu);
	e.ItemInfo = g
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(7),
		s = i(5),
		l = i(0),
		c = function(t) {
			function e(e, i, n, o, r, s) {
				var c = t.call(this, e, i, n, o) || this;
				c.EFFECT = [{
					id: 5,
					nameKey: "SLOT_MACHINE_HEAL_HP",
					icon: "slot-add-hp",
					icon2: "slot-add-10percent",
					bonus: 1
				}, {
					id: 6,
					nameKey: "SLOT_MACHINE_HEAL_HP",
					icon: "slot-add-hp",
					icon2: "slot-add-20percent",
					bonus: 2
				}, {
					id: 7,
					nameKey: "SLOT_MACHINE_HEAL_HP",
					icon: "slot-add-hp",
					icon2: "slot-add-30percent",
					bonus: 3
				}, {
					id: 8,
					nameKey: "SLOT_MACHINE_DRAIN",
					icon: "slot-lose-hp",
					icon2: "slot-lose-10percent",
					bonus: -1
				}, {
					id: 9,
					nameKey: "SLOT_MACHINE_DRAIN",
					icon: "slot-lose-hp",
					icon2: "slot-lose-20percent",
					bonus: -2
				}, {
					id: 10,
					nameKey: "SLOT_MACHINE_BONUS_STARS",
					icon: "slot-add-stars",
					icon2: "slot-add-10percent",
					bonus: 1
				}, {
					id: 10,
					nameKey: "SLOT_MACHINE_BONUS_STARS",
					icon: "slot-add-stars",
					icon2: "slot-add-10percent",
					bonus: 1
				}, {
					id: 11,
					nameKey: "SLOT_MACHINE_BONUS_STARS",
					icon: "slot-add-stars",
					icon2: "slot-add-20percent",
					bonus: 2
				}, {
					id: 11,
					nameKey: "SLOT_MACHINE_BONUS_STARS",
					icon: "slot-add-stars",
					icon2: "slot-add-20percent",
					bonus: 2
				}, {
					id: 12,
					nameKey: "SLOT_MACHINE_BONUS_STARS",
					icon: "slot-add-stars",
					icon2: "slot-add-30percent",
					bonus: 3
				}, {
					id: 12,
					nameKey: "SLOT_MACHINE_BONUS_STARS",
					icon: "slot-add-stars",
					icon2: "slot-add-30percent",
					bonus: 3
				}, {
					id: 13,
					nameKey: "SLOT_MACHINE_BONUS_DAMAGE",
					icon: "slot-add-damage",
					icon2: "slot-add-20percent",
					bonus: 2
				}, {
					id: 13,
					nameKey: "SLOT_MACHINE_BONUS_DAMAGE",
					icon: "slot-add-damage",
					icon2: "slot-add-20percent",
					bonus: 2
				}, {
					id: 14,
					nameKey: "SLOT_MACHINE_REDUCE_DAMAGE",
					icon: "slot-lose-damage",
					icon2: "slot-lose-10percent",
					bonus: -1
				}, {
					id: 15,
					nameKey: "SLOT_MACHINE_BONUS_GOLD",
					icon: "slot-add-gold",
					icon2: "slot-add-10percent",
					bonus: 1
				}, {
					id: 15,
					nameKey: "SLOT_MACHINE_BONUS_GOLD",
					icon: "slot-add-gold",
					icon2: "slot-add-10percent",
					bonus: 1
				}, {
					id: 16,
					nameKey: "SLOT_MACHINE_EVASION_UP",
					icon: "slot-add-agility",
					icon2: "slot-add-10percent",
					bonus: 1
				}], c.HEAL_EFFECT = [{
					id: 5,
					nameKey: "SLOT_MACHINE_HEAL_HP",
					icon: "slot-add-hp",
					icon2: "slot-add-10percent",
					bonus: 1
				}, {
					id: 6,
					nameKey: "SLOT_MACHINE_HEAL_HP",
					icon: "slot-add-hp",
					icon2: "slot-add-20percent",
					bonus: 2
				}, {
					id: 6,
					nameKey: "SLOT_MACHINE_HEAL_HP",
					icon: "slot-add-hp",
					icon2: "slot-add-20percent",
					bonus: 2
				}, {
					id: 6,
					nameKey: "SLOT_MACHINE_HEAL_HP",
					icon: "slot-add-hp",
					icon2: "slot-add-20percent",
					bonus: 2
				}, {
					id: 7,
					nameKey: "SLOT_MACHINE_HEAL_HP",
					icon: "slot-add-hp",
					icon2: "slot-add-30percent",
					bonus: 3
				}], c.spinning = !1, c.bonusIds = [], c.guaranteeHeart = s, c.game.prodigy.load.assets(["atlas-100"], c.setup.bind(c));
				var h = c.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				if (!l.Util.isValid(c.EFFECT[0].name))
					for (var u = function(t) {
							Object.defineProperty(t, "name", {
								get: function() {
									return h.getText(t.nameKey)
								}
							})
						}, p = 0, d = c.EFFECT; p < d.length; p++) {
						u(d[p])
					}
				if (!l.Util.isValid(c.EFFECT[0].name))
					for (var g = function(t) {
							Object.defineProperty(t, "name", {
								get: function() {
									return h.getText(t.nameKey)
								}
							})
						}, f = 0, y = c.EFFECT; f < y.length; f++) {
						g(y[f])
					}
				return c
			}
			return n(e, t), e.prototype.setup = function() {
				this.game.prodigy.notifications.clearNotifications(!0);
				var t = [];
				o.GameConstants.get("GameConstants.Build.DEBUG") && 3 === e.FORCED_RESULT.length ? (t.push(this.getEffectFromId(e.FORCED_RESULT[0])), t.push(this.getEffectFromId(e.FORCED_RESULT[1])), t.push(this.getEffectFromId(e.FORCED_RESULT[2]))) : (t.push(Phaser.ArrayUtils.getRandomItem(this.EFFECT)), t.push(Phaser.ArrayUtils.getRandomItem(this.EFFECT)), t.push(Phaser.ArrayUtils.getRandomItem(this.guaranteeHeart ? this.HEAL_EFFECT : this.EFFECT)));
				var i = 10,
					n = 10,
					a = 10,
					r = 20;
				this.bonusIds = [t[0].id, t[1].id, t[2].id], this.slotDoorTop = [], this.slotDoorBottom = [], this.msg = [], this.sprites = this.game.prodigy.create.element(this, 0, 0), this.bg = this.game.prodigy.create.element(this.sprites, 0, 0), this.fg = this.game.prodigy.create.element(this.sprites, 0, 0), this.bgRect = this.game.add.graphics(0, 0, this.bg), this.bgRect.beginFill(16777215, 1), this.bgRect.drawRect(20, 120, 400, 140), this.bgRect.endFill(), this.fg.add(this.game.prodigy.create.sprite(-25, 1, "atlas-100", "tz-interface-base")), this.startBtn = this.game.prodigy.create.button(this.fg, 275, 321, "atlas-100", "tz-start-up", this.startSpinning.bind(this), null, null, !1), this.quitBtn = this.game.prodigy.create.button(this.fg, 86, 321, "atlas-100", "tz-quit-up", this.quit.bind(this), null, null, !1);
				for (var s = 0; s < 3; s++) this.bg.add(this.game.prodigy.create.sprite(140 * s + 35 + i, n + 141, "atlas-100", t[s].icon)), l.Util.isValid(t[s].icon2) && this.bg.add(this.game.prodigy.create.sprite(140 * s + 35 + a, r + 141, "atlas-100", t[s].icon2)), this.slotDoorTop.push(this.bg.add(this.game.prodigy.create.sprite(140 * s + 33, 141, "atlas-100", "tz-door-top"))), this.slotDoorBottom.push(this.bg.add(this.game.prodigy.create.sprite(140 * s + 33, 195, "atlas-100", "tz-door-bottom"))), this.msg.push(this.game.prodigy.create.font(this.fg, 142 * s - 28, 270, t[s].name, {
					width: 230,
					align: "center",
					size: 20
				})), this.msg[s].alpha = 0;
				this.game.add.tween(this).from({
					y: 720
				}, 700, Phaser.Easing.Back.Out, !0)
			}, e.prototype.startSpinning = function() {
				if (this.startBtn.active = !1, this.quitBtn.active = !1, !this.spinning) {
					this.spinning = !0, this.startBtn.sprite.frameName = "tz-start-down";
					var t = this.game.prodigy.event.create();
					if (!e.SKIP_BONUS_CHANCE)
						for (var i = 0; i < 3; i++) t.animation(this.game.prodigy.animation.shake.bind(this.game.prodigy.animation, this.sprites, 10, 0, -10, 0, 120, 0, Phaser.Easing.Quadratic.Out, !0)), t.animation(this.game.prodigy.animation.translate.bind(this.game.prodigy.animation, this.slotDoorTop[i], this.slotDoorTop[i].x, 83, 800, 120, Phaser.Easing.Quadratic.Out, !0)), t.animation(this.game.prodigy.animation.translate.bind(this.game.prodigy.animation, this.slotDoorBottom[i], this.slotDoorBottom[i].x, 252, 800, 0, Phaser.Easing.Quadratic.Out, !0)), t.delay(800), t.tween(this.msg[i], {
							alpha: 1
						}, 1, Phaser.Easing.Quadratic.Out, !1), t.tween(this.msg[i], {
							alpha: 0
						}, 1200, Phaser.Easing.Quadratic.In, !1);
					t.function(this.applyBonus.bind(this)), t.start()
				}
			}, e.prototype.quit = function() {
				1 === this.quitBtn.alpha && (this.quitBtn.x = 277, this.quitBtn.y = 288, this.quitBtn.sprite.frameName = "tz-quit-down", this.game.broadcaster.broadcast(s.EBattleEvents.EndBattle, null, ["run"]), this.close())
			}, e.prototype.close = function() {
				this.game.prodigy.notifications.startTimer(!0), this.game.add.tween(this).to({
					y: 720
				}, 700, Phaser.Easing.Back.In, !0).onComplete.add(this.onCloseComplete, this)
			}, e.prototype.onCloseComplete = function() {
				this.game.prodigy.open.close(this), this.destroy()
			}, e.prototype.applyBonus = function() {
				this.game.broadcaster.broadcast(s.EBattleEvents.ApplySlotBonus, null, [this.bonusIds]), this.close()
			}, e.prototype.getEffectFromId = function(t) {
				for (var e = 0; e < this.EFFECT.length; e++)
					if (this.EFFECT[e].id === t) return this.EFFECT[e]
			}, e.FORCED_RESULT = [], e.SKIP_BONUS_CHANCE = !1, e
		}(r.Element);
	e.EpicBoostMenu = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(55),
		r = i(22),
		s = i(35),
		l = i(162),
		c = i(0),
		h = function(t) {
			function e(i, n, o) {
				var r = t.call(this, i, n, 8) || this;
				if (r.player = null, r.index = 0, r.opponentName = null, r.opponentTitle = null, r.description = null, r.itemIcon = null, r.defeat = null, r.scrollRightButton = null, r.scrollLeftButton = null, r.challengeButton = null, r.data = null, r.opponent = null, r.petV = null, r.playerV = null, r.locked = !1, r.player = o, !c.Util.isValid(e.data[0].title))
					for (var s = function(t) {
							Object.defineProperty(t, "title", {
								get: function() {
									return i.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(t.titleKey)
								}
							}), Object.defineProperty(t, "description", {
								get: function() {
									return i.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(t.descriptionKey)
								}
							})
						}, l = 0, h = e.data; l < h.length; l++) {
						s(h[l])
					}
				return r.setup(), r
			}
			return n(e, t), e.prototype.menuSetup = function() {
				t.prototype.menuSetup.call(this);
				var i = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.index = 0, this.add(this.game.prodigy.create.sprite(120, 140, "atlas-19", "char-container")), this.game.prodigy.create.panel(this, 560, 140, 12, 6), this.game.prodigy.create.panel(this, 860, 480, 6, 2), this.opponentName = this.game.prodigy.create.font(this, 610, 150, "", {
					size: 40
				}), this.opponentTitle = this.game.prodigy.create.font(this, 610, 180, "", {
					width: 500,
					align: "right"
				}), this.description = this.game.prodigy.create.font(this, 590, 230, "", {
					size: 20,
					width: 540
				}), this.game.prodigy.create.font(this, 880, 490, i.getText("COLISEUM_REWARD"), {
					size: 30
				}), this.itemIcon = this.game.prodigy.icon.createWithQuantity(this, 1020, 470, "icon-item-26", 1), this.defeat = this.game.prodigy.create.sprite(270, 460, "atlas-21", "yes"), this.add(this.defeat), this.scrollRightButton = this.game.prodigy.create.button(this, 374, 430, "atlas-21", "next", this.shift.bind(this, 1)), this.scrollLeftButton = this.game.prodigy.create.button(this, 164, 430, "atlas-21", "back", this.shift.bind(this, -1)), this.challengeButton = this.game.prodigy.create.textButton(this, 710, 410, {
					text: i.getText("COLISEUM_BUTTON_CHALLENGE"),
					icon: {
						type: "weapon",
						ID: 4
					},
					size: r.TextButton.MED
				}, this.challenge.bind(this)), this.showFrame("leaderboard", i.getText("ARENA_TITLE"), []);
				var n = this.game.prodigy.create.textButton(this, 0, 0, {
					icon: "close",
					text: i.getText("BUTTON_CLOSE")
				}, this.close.bind(this));
				this.showBtns([], [n]), this.index = Math.min(this.game.prodigy.player.getColiseum(), e.data.length - 1), this.shift(0), this.setupComplete = !0
			}, e.prototype.shift = function(t) {
				this.index += t, this.scrollLeftButton.setActive(), this.scrollRightButton.setActive(), this.index <= 0 && (this.index = 0, this.scrollLeftButton.setInactive()), this.index >= e.data.length - 1 && (this.index = e.data.length - 1, this.scrollRightButton.setInactive()), this.changeOpponent()
			}, e.prototype.changeOpponent = function() {
				this.data = e.data[this.index], this.opponent = new l.Wizard(this.game), this.opponent.init(this.data.opponent), c.Util.isValid(this.petV) && this.petV.destroy(), this.data.pets.length > 0 && (this.petV = this.game.prodigy.create.monster(this, new s.Monster(this.game, this.data.pets[0]), 2, 250, 390), this.petV.reload()), c.Util.isValid(this.playerV) && this.playerV.destroy(), this.playerV = this.game.prodigy.create.character(this, this.opponent, 2, 350, 390), this.data.pets.length <= 0 && (this.playerV.x -= 55), this.playerV.reload();
				var t = this.data.drops[0];
				"gold" === t.type ? this.itemIcon.setValue("icon-item-26", null, t.N) : this.itemIcon.setValue(this.game.prodigy.icon.iconKey(t), null, 1);
				var i = "";
				if (this.index > Math.floor(this.player.getLevel() / 5) || this.index > this.game.prodigy.player.getColiseum()) {
					var n = !1,
						o = !1;
					this.index > Math.floor(this.player.getLevel() / 5) && (n = !0), this.index > this.game.prodigy.player.getColiseum() && (o = !0), i = n && o ? 1 === this.index ? this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COLISEUM_PROMPT_REQUIRE_LEVEL_DEFEAT_SINGLE", 5 * this.index, this.opponent.getName()) : this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COLISEUM_PROMPT_REQUIRE_LEVEL_DEFEAT_PLURAL", 5 * this.index, this.opponent.getName()) : n ? this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COLISEUM_PROMPT_REQUIRE_LEVEL", 5 * this.index, this.opponent.getName()) : 1 === this.index ? this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COLISEUM_PROMPT_REQUIRE_DEFEAT_SINGLE", this.opponent.getName()) : this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COLISEUM_PROMPT_REQUIRE_DEFEAT_PLURAL", this.opponent.getName()), this.locked = !0, this.challengeButton.visible = !0, this.challengeButton.setInactive(), this.defeat.visible = !1
				} else this.index < this.game.prodigy.player.getColiseum() ? (i = this.data.description, this.locked = !0, this.challengeButton.visible = !1, this.challengeButton.setInactive(), this.defeat.visible = !0) : (this.locked = !1, i = this.data.description, this.challengeButton.visible = !0, this.challengeButton.setActive(), this.defeat.visible = !1);
				this.opponentName.setText(this.opponent.getName()), this.opponentTitle.setText("- " + this.data.title + " -"), this.description.setText(i)
			}, e.prototype.challenge = function() {
				if (!this.locked) {
					var t = this.game.prodigy.dialogue.create(),
						i = e.dialogue[1];
					i.text = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COLISEUM_PROMPT_CHALLENGE", this.opponent.getName()), i.yes = this.startBattle.bind(this, this.index, !0), t.setText(i), t.start("clankboot")
				}
			}, e.prototype.startBattle = function(t, i) {
				if (i) {
					var n = function(t, e) {
						c.Util.isValid(e) && e > t.prodigy.player.getColiseum() && t.prodigy.player.setColiseum(e), t.prodigy.world.teleport("lamplight-coliseum")
					};
					delete e.data[t].opponent.data.hp;
					var a = e.data[t].pets;
					if (c.Util.isValid(a))
						for (var o = 0; o < a.length; o++) delete a[o].hp;
					var r = {
						screen: "battle-coliseum-outside",
						opponent: [e.data[t].opponent],
						drops: e.data[t].drops,
						catch: !1,
						pets: a,
						difficulty: 6,
						dropsDisabled: !0
					};
					this.game.prodigy.network.sendBattleStartTypeEvent("ClankbootBattle"), this.game.prodigy.battle.start(r, n.bind(this, this.game), n.bind(this, this.game, t + 1), null, "lamplight-coliseum")
				}
			}, e.dialogue = [{
				textKey: "ARENA_CONFIRM_TRAINING",
				face: 0,
				anim: 4,
				audio: {
					tag: "voice-3",
					s: 0,
					d: 1
				}
			}, {
				face: 0,
				text: "",
				audio: {
					tag: "voice-3",
					s: 0,
					d: 1
				}
			}], e.data = [{
				opponent: {
					data: {
						level: 5
					},
					appearance: {
						name: "COLISEUM_OPPONENT_NEW_GIRL_NAME",
						gender: "female",
						hair: {
							style: 5,
							color: 3
						},
						skinColor: 3,
						eyeColor: 5
					},
					equipment: {
						weapon: 1
					}
				},
				titleKey: "COLISEUM_OPPONENT_NEW_GIRL_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_NEW_GIRL_DESCRIPTION",
				pets: [],
				drops: [{
					type: "gold",
					N: 500
				}]
			}, {
				opponent: {
					data: {
						level: 10
					},
					appearance: {
						name: "COLISEUM_OPPONENT_COPYCAT_NAME",
						gender: "male",
						hair: {
							style: 19,
							color: 6
						},
						skinColor: 5,
						eyeColor: 4
					},
					equipment: {
						outfit: 4,
						weapon: 12
					}
				},
				titleKey: "COLISEUM_OPPONENT_COPYCAT_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_COPYCAT_DESCRIPTION",
				pets: [{
					ID: 94,
					level: 10
				}],
				drops: [{
					ID: 12,
					type: "hat"
				}]
			}, {
				opponent: {
					data: {
						level: 15
					},
					appearance: {
						name: "COLISEUM_OPPONENT_VETERAN_NAME",
						gender: "female",
						hair: {
							style: 14,
							color: 1
						},
						skinColor: 4,
						eyeColor: 1
					},
					equipment: {
						hat: 4,
						outfit: 2,
						weapon: 2
					}
				},
				titleKey: "COLISEUM_OPPONENT_VETERAN_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_VETERAN_DESCRIPTION",
				pets: [{
					ID: 1,
					level: 15
				}],
				drops: [{
					type: "gold",
					N: 500
				}]
			}, {
				opponent: {
					data: {
						level: 20
					},
					appearance: {
						name: "COLISEUM_OPPONENT_NAMELESS_NAME",
						gender: "male",
						hair: {
							style: 16,
							color: 4
						},
						skinColor: 3,
						eyeColor: 8
					},
					equipment: {
						outfit: 17,
						weapon: 36
					}
				},
				titleKey: "COLISEUM_OPPONENT_NAMELESS_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_NAMELESS_DESCRIPTION",
				pets: [{
					ID: 16,
					level: 20
				}],
				drops: [{
					type: "boots",
					ID: 26
				}]
			}, {
				opponent: {
					data: {
						level: 25
					},
					appearance: {
						name: "COLISEUM_OPPONENT_SWEETHEART_NAME",
						gender: "female",
						hair: {
							style: 15,
							color: 12
						},
						skinColor: 1,
						eyeColor: 10
					},
					equipment: {
						outfit: 20,
						weapon: 3
					}
				},
				titleKey: "COLISEUM_OPPONENT_SWEETHEART_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_SWEETHEART_DESCRIPTION",
				pets: [{
					ID: 35,
					level: 25
				}],
				drops: [{
					type: "gold",
					N: 500
				}]
			}, {
				opponent: {
					data: {
						level: 30
					},
					appearance: {
						name: "COLISEUM_OPPONENT_LOUDMOUTH_NAME",
						gender: "male",
						hair: {
							style: 19,
							color: 2
						},
						skinColor: 1,
						eyeColor: 7
					},
					equipment: {
						hat: 5,
						outfit: 30,
						weapon: 61
					}
				},
				titleKey: "COLISEUM_OPPONENT_LOUDMOUTH_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_LOUDMOUTH_DESCRIPTION",
				pets: [{
					ID: 19,
					level: 30
				}],
				drops: [{
					type: "gold",
					N: 500
				}]
			}, {
				opponent: {
					data: {
						level: 35
					},
					appearance: {
						name: "COLISEUM_OPPONENT_METALHEAD_NAME",
						gender: "female",
						hair: {
							style: 1,
							color: 3
						},
						skinColor: 2,
						eyeColor: 7
					},
					equipment: {
						outfit: 31,
						weapon: 52
					}
				},
				titleKey: "COLISEUM_OPPONENT_METALHEAD_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_METALHEAD_DESCRIPTION",
				pets: [{
					ID: 88,
					level: 35
				}],
				drops: [{
					type: "gold",
					N: 500
				}]
			}, {
				opponent: {
					data: {
						level: 40
					},
					appearance: {
						name: "COLISEUM_OPPONENT_ADVENTURER_NAME",
						gender: "male",
						hair: {
							style: 17,
							color: 16
						},
						skinColor: 4,
						eyeColor: 2
					},
					equipment: {
						hat: 16,
						outfit: 16,
						weapon: 38
					}
				},
				titleKey: "COLISEUM_OPPONENT_ADVENTURER_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_ADVENTURER_DESCRIPTION",
				pets: [{
					ID: 29,
					level: 40
				}, {
					ID: 14,
					level: 40
				}],
				drops: [{
					type: "hat",
					ID: 36
				}]
			}, {
				opponent: {
					data: {
						level: 45
					},
					appearance: {
						name: "COLISEUM_OPPONENT_ENIGMA_NAME",
						gender: "female",
						hair: {
							style: 7,
							color: 11
						},
						skinColor: 5,
						eyeColor: 15
					},
					equipment: {
						outfit: 1,
						weapon: 7
					}
				},
				titleKey: "COLISEUM_OPPONENT_ENIGMA_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_ENIGMA_DESCRIPTION",
				pets: [{
					ID: 99,
					level: 45
				}, {
					ID: 101,
					level: 45
				}],
				drops: [{
					type: "gold",
					N: 500
				}]
			}, {
				opponent: {
					data: {
						level: 50
					},
					appearance: {
						name: "COLISEUM_OPPONENT_FOREST_SPRITE_NAME",
						gender: "male",
						hair: {
							style: 21,
							color: 8
						},
						skinColor: 1,
						eyeColor: 1
					},
					equipment: {
						outfit: 29,
						weapon: 15
					}
				},
				titleKey: "COLISEUM_OPPONENT_FOREST_SPRITE_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_FOREST_SPRITE_DESCRIPTION",
				pets: [{
					ID: 59,
					level: 50
				}, {
					ID: 52,
					level: 50
				}],
				drops: [{
					type: "gold",
					N: 500
				}]
			}, {
				opponent: {
					data: {
						level: 55
					},
					appearance: {
						name: "COLISEUM_OPPONENT_FOREST_GUARDIAN_NAME",
						gender: "female",
						hair: {
							style: 11,
							color: 7
						},
						skinColor: 1,
						eyeColor: 2
					},
					equipment: {
						outfit: 3,
						weapon: 8
					}
				},
				titleKey: "COLISEUM_OPPONENT_FOREST_GUARDIAN_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_FOREST_GUARDIAN_DESCRIPTION",
				pets: [{
					ID: 60,
					level: 55
				}, {
					ID: 53,
					level: 55
				}],
				drops: [{
					type: "gold",
					N: 500
				}]
			}, {
				opponent: {
					data: {
						level: 60
					},
					appearance: {
						name: "COLISEUM_OPPONENT_CAROLER_NAME",
						gender: "male",
						hair: {
							style: 23,
							color: 5
						},
						skinColor: 2,
						eyeColor: 2
					},
					equipment: {
						hat: 24,
						outfit: 25,
						weapon: 25
					}
				},
				titleKey: "COLISEUM_OPPONENT_CAROLER_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_CAROLER_DESCRIPTION",
				pets: [{
					ID: 27,
					level: 60
				}, {
					ID: 28,
					level: 60
				}],
				drops: [{
					type: "gold",
					N: 500
				}]
			}, {
				opponent: {
					data: {
						level: 65
					},
					appearance: {
						name: "COLISEUM_OPPONENT_PET_ENTHUSIAST_NAME",
						gender: "female",
						hair: {
							style: 13,
							color: 5
						},
						skinColor: 1,
						eyeColor: 8
					},
					equipment: {
						outfit: 1,
						weapon: 2
					}
				},
				titleKey: "COLISEUM_OPPONENT_PET_ENTHUSIAST_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_PET_ENTHUSIAST_DESCRIPTION",
				pets: [{
					ID: 25,
					level: 65
				}, {
					ID: 26,
					level: 65
				}],
				drops: [{
					type: "gold",
					N: 500
				}]
			}, {
				opponent: {
					data: {
						level: 70
					},
					appearance: {
						name: "COLISEUM_OPPONENT_BEASTMASTER_NAME",
						gender: "male",
						hair: {
							style: 16,
							color: 5
						},
						skinColor: 1,
						eyeColor: 7
					},
					equipment: {
						hat: 32,
						outfit: 31,
						weapon: 59
					}
				},
				titleKey: "COLISEUM_OPPONENT_BEASTMASTER_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_BEASTMASTER_DESCRIPTION",
				pets: [{
					ID: 21,
					level: 70
				}, {
					ID: 22,
					level: 70
				}],
				drops: [{
					type: "outfit",
					ID: 32
				}]
			}, {
				opponent: {
					data: {
						level: 75
					},
					appearance: {
						name: "COLISEUM_OPPONENT_TIMED_TRAVELLER_NAME",
						gender: "female",
						hair: {
							style: 14,
							color: 16
						},
						skinColor: 4,
						eyeColor: 10
					},
					equipment: {
						outfit: 35,
						weapon: 53
					}
				},
				titleKey: "COLISEUM_OPPONENT_TIMED_TRAVELLER_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_TIMED_TRAVELLER_DESCRIPTION",
				pets: [{
					ID: 55,
					level: 75
				}, {
					ID: 58,
					level: 75
				}],
				drops: [{
					type: "gold",
					N: 500
				}]
			}, {
				opponent: {
					data: {
						level: 80
					},
					appearance: {
						name: "COLISEUM_OPPONENT_CURIOUS_ONE_NAME",
						gender: "male",
						hair: {
							style: 23,
							color: 6
						},
						skinColor: 2,
						eyeColor: 2
					},
					equipment: {
						hat: 9,
						outfit: 2,
						weapon: 10
					}
				},
				titleKey: "COLISEUM_OPPONENT_CURIOUS_ONE_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_CURIOUS_ONE_DESCRIPTION",
				pets: [{
					ID: 63,
					level: 80
				}, {
					ID: 89,
					level: 80
				}],
				drops: [{
					type: "gold",
					N: 500
				}]
			}, {
				opponent: {
					data: {
						level: 85
					},
					appearance: {
						name: "COLISEUM_OPPONENT_ICE_QUEEN_NAME",
						gender: "female",
						hair: {
							style: 1,
							color: 14
						},
						skinColor: 1,
						eyeColor: 13
					},
					equipment: {
						hat: 10,
						outfit: 6,
						weapon: 20
					}
				},
				titleKey: "COLISEUM_OPPONENT_ICE_QUEEN_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_ICE_QUEEN_DESCRIPTION",
				pets: [{
					ID: 40,
					level: 85
				}, {
					ID: 50,
					level: 85
				}],
				drops: [{
					type: "gold",
					N: 500
				}]
			}, {
				opponent: {
					data: {
						level: 90
					},
					appearance: {
						name: "COLISEUM_OPPONENT_EMERALD_KNIGHT_NAME",
						gender: "male",
						hair: {
							style: 19,
							color: 11
						},
						skinColor: 2,
						eyeColor: 6
					},
					equipment: {
						hat: 31,
						outfit: 7,
						weapon: 58
					}
				},
				titleKey: "COLISEUM_OPPONENT_EMERALD_KNIGHT_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_EMERALD_KNIGHT_DESCRIPTION",
				pets: [{
					ID: 93,
					level: 90
				}, {
					ID: 91,
					level: 90
				}],
				drops: [{
					type: "gold",
					N: 500
				}]
			}, {
				opponent: {
					data: {
						level: 95
					},
					appearance: {
						name: "COLISEUM_OPPONENT_WELL_ROUNDED_NAME",
						gender: "female",
						hair: {
							style: 3,
							color: 2
						},
						skinColor: 1,
						eyeColor: 1
					},
					equipment: {
						hat: 8,
						outfit: 5,
						weapon: 23
					}
				},
				titleKey: "COLISEUM_OPPONENT_WELL_ROUNDED_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_WELL_ROUNDED_DESCRIPTION",
				pets: [{
					ID: 86,
					level: 95
				}, {
					ID: 42,
					level: 95
				}],
				drops: [{
					type: "gold",
					N: 500
				}]
			}, {
				opponent: {
					data: {
						level: 100
					},
					appearance: {
						name: "COLISEUM_OPPONENT_PRODIGY_NAME",
						gender: "male",
						hair: {
							style: 17,
							color: 6
						},
						skinColor: 2,
						eyeColor: 10
					},
					equipment: {
						outfit: 8,
						weapon: 22
					}
				},
				titleKey: "COLISEUM_OPPONENT_PRODIGY_TITLE",
				descriptionKey: "COLISEUM_OPPONENT_PRODIGY_DESCRIPTION",
				pets: [{
					ID: 96,
					level: 100
				}, {
					ID: 97,
					level: 100
				}],
				drops: [{
					type: "weapon",
					ID: 62
				}]
			}], e
		}(o.LegacyMenu);
	e.Coliseum = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(7),
		r = i(2),
		s = i(16),
		l = function(t) {
			function e(e, i, n, a, o, r, s) {
				void 0 === s && (s = !1);
				var l = t.call(this, e, i, n, a) || this;
				if (l.ID = r, 0 === l.game.prodigy.player.backpack.hasItem("item", l.ID + 84) && l.game.prodigy.player.state.get("world-bounties")[l.ID] > 0) l.mode = s ? "empty" : "preaccept";
				else if (l.game.prodigy.player.backpack.hasItem("item", l.ID + 84) > 0)
					for (var c = l.game.prodigy.bounty.getBounties(), h = 0; h < c.length; h++) c[h].ID - 84 === l.ID && (l.mode = 1 === c[h].complete ? "preturnin" : "precomplete");
				else l.mode = "turnedin";
				return l.setup(o), l
			}
			return n(e, t), e.prototype.setup = function(t) {
				var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				if ("precomplete" === this.mode || "preturnin" === this.mode || "preaccept" === this.mode) {
					this.game.prodigy.create.panel(this, 0, 0, 7, 11, "paper");
					var i = this.game.prodigy.bounty.getMode(t),
						n = this.game.prodigy.bounty.getReward(t),
						o = "";
					if ("pet" === i) {
						"precomplete" === this.mode || "preaccept" === this.mode ? (o = this.getText(t), "preaccept" === this.mode && (n > 2 && !this.game.prodigy.player.hasMembership() ? this.game.prodigy.create.advButton(this, 150, 310, {
							icon: "membership",
							top: e.getText("BOUNTY_BOARD_MEMBER_BUTTON_TOP"),
							bot: e.getText("BOUNTY_BOARD_MEMBER_BUTTON_BOT")
						}, this.openMessage.bind(this)) : this.game.prodigy.create.advButton(this, 150, 310, {
							icon: "yes",
							top: e.getText("BOUNTY_BOARD_BUTTON_TOP"),
							bot: e.getText("BOUNTY_BOARD_BUTTON_BOT")
						}, this.accept.bind(this, this.ID + 84, this.game.prodigy.player.state.get("world-bounties")[this.ID], this.ID)))) : o = e.getText("BOUNTY_BOARD_COMPLETED_TURN_IN");
						var r = this.game.prodigy.bounty.getMonster(t);
						this.add(this.game.prodigy.create.sprite("preaccept" === this.mode ? 30 : 90, 310, "atlas-18", "empty-icon")), this.add(this.game.prodigy.icon.createFromData({
							type: "pet",
							ID: r
						}, "preaccept" === this.mode ? 40 : 100, 317))
					}
					this.add(this.game.prodigy.create.sprite(5, 5, "atlas-21", "bounty")), this.game.prodigy.create.font(this, 22, 18, "" + n, {
						size: 40,
						width: 40,
						align: "center"
					}), this.game.prodigy.create.font(this, 20, 110, o, {
						size: 20,
						width: 245
					}), this.game.prodigy.create.font(this, 85, 26, e.getText("BOUNTY_BOARD_BOUNTY_TITLE"), {
						size: 20,
						width: 245
					})
				} else this.game.prodigy.create.panel(this, 0, 0, 7, 11, "empty"), "turnedin" === this.mode ? this.game.prodigy.create.font(this, 20, 120, e.getText("BOUNTY_BOARD_COMPLETED_TURN_IN"), {
					size: 20,
					width: 250
				}) : "empty" === this.mode && this.game.prodigy.create.font(this, 20, 120, e.getText("BOUNTY_BOARD_GO_TO_LAMPLIGHT"), {
					size: 20,
					width: 250,
					align: "center"
				})
			}, e.prototype.getText = function(t) {
				var e = this.game.prodigy.bounty.getMonster(t),
					i = this.game.prodigy.bounty.getZoneName(t),
					n = this.game.prodigy.bounty.getMap(t),
					o = this.game.prodigy.bounty.getName(t),
					s = this.game.prodigy.bounty.getText(t),
					l = this.game.prodigy.world.zones[i].name,
					c = this.game.prodigy.world.zones[i].maps[n].name,
					h = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					u = "";
				if (0 === s) {
					var p = r.Items.getItemData("pet", e).name;
					u = h.getText(this.getArticleKey(p), o, p, c, l)
				} else u = h.getText("BOUNTY_DEFEAT_MONSTER_TEXT_" + s, o, l, c);
				return u
			}, e.prototype.accept = function(t, e) {
				0 === this.game.prodigy.player.backpack.hasItem("item", t) && this.game.prodigy.open.gotItem([{
					ID: t,
					type: "item",
					N: 1,
					lvl: this.game.prodigy.bounty.getReward({
						seed: e
					}),
					data: {
						seed: e
					}
				}], null, null, "collect-bounty-note")
			}, e.prototype.getArticleKey = function(t) {
				return "BOUNTY_DEFEAT_MONSTER_TEXT_0_" + ("A" === t[0] || "E" === t[0] || "I" === t[0] || "O" === t[0] || "U" === t[0] ? "AN" : "A")
			}, e.prototype.openMessage = function() {
				this.game.prodigy.open.membershipInfo(null, null, s.MembershipInfo.MEMBER_BOUNTY)
			}, e
		}(o.Element);
	e.BountyContainer = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(859),
		r = i(85),
		s = i(359),
		l = i(4),
		c = i(15),
		h = i(22),
		u = i(2),
		p = i(0),
		d = function(t) {
			function e(e, i, n, a, o) {
				void 0 === o && (o = !1);
				var r = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
				return r.content = null, r.nameText = null, r.bar = null, r.closeBtn = null, r.btns = null, r.selectedBtn = null, r.names = [], r.reverseGender = !1, r.reverseGender = o, r.content = r.game.prodigy.create.element(r), r.onClose = a, r.page = 0, n ? r.create() : r.createAdvanced(), r.onDestroy.add(function() {
					r.handleDestroy()
				}), r
			}
			return n(e, t), e.prototype.selectNamesList = function() {
				var t = "female" === this.game.prodigy.player.appearance.getGender() ? 1 : 2;
				this.names = o(u.Items.getItemsWithFilter("name", function(e) {
					return 0 === e.data.type && e.data.gender === t
				}), ["data.value"])
			}, e.prototype.create = function() {
				var e = this;
				this.selectNamesList(), this.addTransparent();
				var i = this.game.prodigy.create.element(this.background, 320, 150),
					n = this.game.prodigy.create.element(i, 0, 0);
				this.game.prodigy.create.panel(n, 0, 0, 16, 10, "shine"), n.add(new Phaser.TileSprite(this.game, 11, 80, 618, 40, "atlas-161", "blue-top")), n.add(new Phaser.TileSprite(this.game, 11, 120, 618, 200, "atlas-161", "blue-mid")), n.add(new Phaser.TileSprite(this.game, 11, 320, 618, 40, "atlas-161", "blue-top2"));
				var o = this.game.prodigy.create.panel(n, 40, -20, 14, 2, "banner");
				t.prototype.create.call(this), this.nameText = this.game.prodigy.create.font(this, i.x + o.x, i.y + o.y + 15, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NAME_CHANGE_NAME_WIZARD"), {
					width: o.width,
					align: "center",
					size: 36,
					fontID: 9
				}), this.bar = this.game.prodigy.create.slider(this, i.x + 30, i.y + 80 + 20, 240, !0, !0), this.closeBtn = this.game.prodigy.create.textButton(this, 490, i.y + 400 - 25, {
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NAME_CHANGE_BUTTON_DONE"),
					icon: "yes",
					size: h.TextButton.MED
				}, function() {
					e.close()
				}), this.closeBtn.setInactive(), this.content = this.game.prodigy.create.element(this, this.bar.x + 70, this.bar.y);
				var r = null;
				l.GameConstants.get("GameConstants.Build.DEBUG") && (r = function(t) {
					return {
						x: t.worldPosition.x + .5 * t.totalWidth,
						y: t.worldPosition.y + .5 * t.totalHeight
					}
				}), this.btns = [];
				for (var s = function(t) {
						var e = c.game.prodigy.create.panel(c.content, t % 2 * 260, 40 * Math.floor(t / 2), 6, 1, "lb");
						e.text = c.game.prodigy.create.font(e, 0, 5, "", {
							width: 240,
							align: "center",
							size: 20
						}), e.setClickable(c.setName.bind(c, t), null, c.onNameOver.bind(c, e), c.onNameOut.bind(c, e)), c.btns.push(e), l.GameConstants.get("GameConstants.Build.DEBUG") && c.game.prodigy.automation.addTrigger({
							ID: "autoclick-name-" + t,
							context: c,
							callback: function() {
								r(e)
							}
						})
					}, c = this, u = 0; u < 12; u++) s(u);
				this.bar.reset(Math.ceil(this.names.length / 12), 1, 0, function(t) {
					e.setPage(t)
				})
			}, e.prototype.handleDestroy = function() {
				l.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this)
			}, e.prototype.setPage = function(t) {
				this.setName(null), p.Util.isValid(this.selectedBtn) && this.selectedBtn.changePanel("lb"), this.selectedBtn = null, this.page = t;
				for (var e = 0; e < 12; e++) {
					var i = this.btns[e];
					12 * t + e >= this.names.length ? i.visible = !1 : (i.text.setText(this.names[12 * t + e].data.value), i.visible = !0)
				}
			}, e.prototype.setName = function(t) {
				if (p.Util.isValid(t)) {
					this.onNameDown(t);
					var e = this.btns[t];
					this.game.prodigy.player.appearance.getName().setFirstName(this.names[12 * this.page + t].ID), this.game.prodigy.player.appearance.updated = !0, this.nameText.setText(e.text.text), this.closeBtn.setActive()
				} else this.nameText.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NAME_CHANGE_NAME_WIZARD")), this.closeBtn.setInactive()
			}, e.prototype.createAdvanced = function() {
				var e = this;
				this.addTransparent();
				var i = this.game.prodigy.create.element(this.background, 320, 150),
					n = this.game.prodigy.create.element(i, 0, 0);
				this.game.prodigy.create.panel(n, 0, 0, 16, 10, "shine"), n.add(new Phaser.TileSprite(this.game, 11, 80, 618, 40, "atlas-161", "blue-top")), n.add(new Phaser.TileSprite(this.game, 11, 120, 618, 200, "atlas-161", "blue-mid")), n.add(new Phaser.TileSprite(this.game, 11, 320, 618, 40, "atlas-161", "blue-top2"));
				var o = this.game.prodigy.create.panel(n, 40, -20, 14, 2, "banner");
				t.prototype.create.call(this);
				var r = this.game.prodigy.player.getFirstName();
				this.nameText = this.game.prodigy.create.font(this, i.x + o.x, i.y + o.y + 18, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NAME_CHANGE_CHOOSE_TITLE"), {
					width: o.width,
					align: "center",
					size: 30
				}), this.closeBtn = this.game.prodigy.create.textButton(this, 490, i.y + 400 - 25, {
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NAME_CHANGE_BUTTON_DONE"),
					icon: "yes",
					size: h.TextButton.MED
				}, function() {
					e.close()
				}), this.closeBtn.setInactive(), this.content = this.game.prodigy.create.element(this, i.x + 120, i.y + 80 + 20);
				var s = null;
				l.GameConstants.get("GameConstants.Build.DEBUG") && (s = function(t) {
					return {
						x: t.worldPosition.x + .5 * t.totalWidth,
						y: t.worldPosition.y + .5 * t.totalHeight
					}
				}), this.btns = [];
				for (var c = function(t) {
						var e = u.game.prodigy.create.panel(u.content, 0, 40 * t, 12, 1, "lb");
						e.text = u.game.prodigy.create.font(e, 0, 5, "", {
							width: 480,
							align: "center",
							size: 20
						}), e.setClickable(u.setLongName.bind(u, t), null, u.onNameOver.bind(u, e), u.onNameOut.bind(u, e)), u.btns.push(e), l.GameConstants.get("GameConstants.Build.DEBUG") && u.game.prodigy.automation.addTrigger({
							ID: "autoclick-name-" + t,
							context: u,
							callback: function() {
								s(e)
							}
						})
					}, u = this, p = 0; p < 6; p++) c(p);
				this.game.prodigy.create.button(this, i.x + 30, i.y + 80 + 20, "atlas-21", "dice", function() {
					e.randomNames(r)
				}), this.randomNames(r)
			}, e.prototype.randomNames = function(t) {
				this.setName(null), p.Util.isValid(this.selectedBtn) && this.selectedBtn.changePanel("lb"), this.selectedBtn = null;
				var e = [],
					i = 0;
				this.names = [];
				for (var n = 0; n < 6; n++)
					do {
						var a = r(u.Items.getItemsWithFilter("name", function(t) {
								return 1 === t.data.type
							})),
							o = r(u.Items.getItemsWithFilter("name", function(t) {
								return 2 === t.data.type
							})),
							l = s("" + a.data.value + o.data.value);
						this.btns[n].text.setText(t + " " + l), e.indexOf(l) < 0 && (e.push(l), this.names.push({
							middle: a.ID,
							last: o.ID
						}), ++i)
					} while (i === n)
			}, e.prototype.setLongName = function(t) {
				this.onNameDown(t), this.game.prodigy.player.appearance.getName().setMiddleName(this.names[t].middle), this.game.prodigy.player.appearance.getName().setLastName(this.names[t].last), this.game.prodigy.player.appearance.updated = !0, this.nameText.setText(this.btns[t].text.text), this.closeBtn.setActive()
			}, e.prototype.onNameDown = function(t) {
				p.Util.isValid(this.selectedBtn) && this.selectedBtn.changePanel("lb"), this.selectedBtn = this.btns[t], this.btns[t].changePanel("lb-green")
			}, e.prototype.onNameOver = function(t) {
				t.changePanel("lb-green")
			}, e.prototype.onNameOut = function(t) {
				t !== this.selectedBtn && t.changePanel("lb")
			}, e
		}(c.RenderMenu);
	e.NameChange = d
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(22),
		o = i(0),
		r = function(t) {
			function e(i, n, o, r) {
				var s = t.call(this, i, n, o) || this;
				s.panel = s.game.prodigy.create.panel(s, 415, 115), s.gradeButtons = [];
				for (var l = e.MIN_GRADE; l <= e.MAX_GRADE; l++) {
					var c = s.game.prodigy.create.textButton(s, (l - 1) % 4 * 105 + 440, 125 * Math.floor((l - 1) / 4) + 150, {
						text: "" + l,
						icon: "star",
						size: a.TextButton.GRADE
					}, s.selectGrade.bind(s, l));
					c.text.x -= 25, c.text.y += 40, c.icon.x += 5, c.icon.y += 20, c.icon.alpha = .25, c.deselect(), s.gradeButtons.push(c)
				}
				return s.closeCallback = r, s
			}
			return n(e, t), e.prototype.open = function() {
				t.prototype.open.call(this), this.gradeButtons[6].visible = 4 !== this.data.country, this.gradeButtons[7].visible = 4 !== this.data.country, o.Util.isValid(this.selectedGradeButton) && this.selectedGradeButton.deselect(), this.selectGrade(this.data.grade), this.dialogue = this.game.prodigy.dialogue.create(), this.dialogue.setText(48), this.dialogue.start("noot", !0)
			}, e.prototype.selectGrade = function(t) {
				o.Util.isValid(this.selectedGradeButton) && this.selectedGradeButton.deselect(), this.selectedGradeButton = this.gradeButtons[t - 1], o.Util.isValid(this.selectedGradeButton) && this.selectedGradeButton.visible ? (this.selectedGradeButton.select(), this.data.grade = Phaser.Math.clamp(t, e.MIN_GRADE, e.MAX_GRADE), this.nextBtn.setActive(), this.nextBtn.highlight(!0), this.panel.highlight(!1)) : (this.selectedGradeButton = null, this.data.grade = null, this.nextBtn.setInactive(), this.nextBtn.highlight(!1), this.panel.highlight(!0, 180, -10))
			}, e.prototype.close = function() {
				this.closeCallback(), t.prototype.close.call(this)
			}, e.MIN_GRADE = 1, e.MAX_GRADE = 8, e
		}(i(95).RegisterPage);
	e.GradePage = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__assign || Object.assign || function(t) {
		for (var e, i = 1, n = arguments.length; i < n; i++)
			for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
		return t
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(866),
		r = i(4),
		s = i(15),
		l = i(865),
		c = i(860),
		h = i(858),
		u = i(179),
		p = i(857),
		d = i(856),
		g = i(855),
		f = i(854),
		y = i(853),
		m = i(852),
		_ = i(850),
		v = i(275),
		E = i(274),
		b = i(849),
		O = i(845),
		I = i(844),
		T = i(842),
		A = i(841),
		C = i(273),
		S = i(78),
		w = i(277),
		D = i(840),
		P = i(839),
		L = i(270),
		x = i(836),
		M = i(835),
		U = i(834),
		N = i(833),
		R = i(832),
		k = i(831),
		B = i(829),
		G = i(160),
		V = i(821),
		F = i(267),
		j = i(265),
		H = i(97),
		z = i(820),
		W = i(819),
		K = i(161),
		Y = i(2),
		q = i(817),
		Q = i(816),
		X = i(815),
		Z = i(814),
		J = i(813),
		$ = i(812),
		tt = i(16),
		et = i(301),
		it = i(811),
		nt = i(263),
		at = i(810),
		ot = i(262),
		rt = i(808),
		st = i(94),
		lt = i(807),
		ct = i(806),
		ht = i(799),
		ut = i(798),
		pt = i(797),
		dt = i(796),
		gt = i(795),
		ft = i(791),
		yt = i(790),
		mt = i(789),
		_t = i(787),
		vt = i(786),
		Et = i(23),
		bt = i(0),
		Ot = i(785),
		It = function() {
			function t(t) {
				this.chatMenu = null, this.menus = [], this.renderMenus = [], this.game = null, this.game = t
			}
			return t.prototype.cleanup = function() {
				this.renderMenus = [], this.menus = [], this.chatMenu = null
			}, t.prototype.setActiveRenderMenu = function(t) {
				if (void 0 === t && (t = null), bt.Util.isValid(t)) {
					for (var e = 0; e < this.renderMenus.length; e++) this.renderMenus[e].setActive(!1);
					this.renderMenus.push(t)
				} else this.renderMenus.splice(this.renderMenus.length - 1, 1), this.renderMenus.length > 0 && this.renderMenus[this.renderMenus.length - 1].setActive(!0);
				this.closeChat()
			}, t.prototype.setActiveMenu = function(t) {
				if (void 0 === t && (t = null), bt.Util.isValid(t)) {
					if (t.isModal)
						for (var e = 0; e < this.renderMenus.length; e++) this.renderMenus[e].setActive(!1);
					this.renderMenus.push(t)
				} else {
					this.renderMenus.splice(this.renderMenus.length - 1, 1);
					for (e = this.renderMenus.length - 1; e >= 0 && (this.renderMenus[e].setActive(!0), bt.Util.isValid(this.renderMenus[e].isModal) && !this.renderMenus[e].isModal); e--);
				}
				this.closeChat()
			}, t.prototype.hideActiveMenu = function() {
				this.renderMenus.length > 0 && this.renderMenus[this.renderMenus.length - 1] instanceof s.RenderMenu && this.renderMenus[this.renderMenus.length - 1].hideActiveElements()
			}, t.prototype.menuOpen = function(t) {
				this.menuLayer.callAll("hide", t), this.menuLayer.callAll("onMenuOpen", null, t), this.closeChat()
			}, t.prototype.close = function(t) {
				for (var e = this.menus.length - 1; e >= 0; e--) this.menus[e] === t && this.menus.splice(e, 1)
			}, t.prototype.menuCloseAll = function() {
				for (var t = this.menus.length - 1; t >= 0; t--) bt.Util.isValid(this.menus[t].close) ? this.menus[t].close() : this.menus[t].destroy();
				this.menus = [], this.closeChat()
			}, t.prototype.isMenuOpen = function(t) {
				for (var e = this.menus.length - 1; e >= 0; e--)
					if (this.menus[e] instanceof t && this.menus[e].visible) return !0;
				return !1
			}, t.prototype.chat = function(t) {
				this.chatMenu = new m.Chat(this.game, this.menuLayer, t)
			}, t.prototype.closeChat = function() {
				bt.Util.isValid(this.chatMenu) && this.chatMenu.close(), this.chatMenu = null
			}, t.prototype.toyStore = function() {
				this.menus.push(new H.ToyStore(this.game, this.menuLayer))
			}, t.prototype.nameChange = function(t, e) {
				this.menus.push(new w.NameChange(this.game, this.menuLayer, t, e))
			}, t.prototype.advancedNameChange = function(t, e, i) {
				this.menus.push(new c.AdvancedNameChange(this.game, this.menuLayer, t, e, i))
			}, t.prototype.survey = function(t) {
				this.menus.push(new W.Survey(this.game, this.menuLayer, t))
			}, t.prototype.bountyStore = function() {
				this.menus.push(new V.BountyStore(this.game, this.menuLayer))
			}, t.prototype.rating = function(t) {
				void 0 === t && (t = null), Et.Device.isNativeApp() ? this.menus.push(new R.Rating(this.game, this.menuLayer, t)) : bt.Util.isValid(t) && t()
			}, t.prototype.choosePet = function(t, e) {
				this.menus.push(new _.ChoosePet(this.game, this.menuLayer, t, e))
			}, t.prototype.createAccount = function(t, e) {
				this.menus.push(new l.AccountCreate(this.game, this.menuLayer, t, e))
			}, t.prototype.server = function(t, e, i) {
				this.menus.push(new k.Server(this.game, this.menuLayer, t, e, i))
			}, t.prototype.serverSelectMode = function(t, e, i, n) {
				this.menus.push(new B.ServerSelectMode(this.game, this.menuLayer, t, e, i, n))
			}, t.prototype.houseEditorMenu = function(t, e) {
				var i = new Ot.HouseEditorMenu(this.game, this.menuLayer, t, e);
				return this.menus.push(i), i
			}, t.prototype.pets = function(t, e) {
				this.menus.push(new P.PetsMenu(this.game, this.menuLayer, t, e))
			}, t.prototype.playAtHomePrompt = function(t) {
				this.menus.push(new L.PlayAtHome(this.game, this.menuLayer, t))
			}, t.prototype.parentalLinkInfoPrompt = function(t, e, i) {
				this.menus.push(new ot.ParentalLink(this.game, this.menuLayer, st.ParentLinkBenefitsConfig.INFO_POPUP_CONFIG, t, e, i))
			}, t.prototype.parentalLinkSuccessPrompt = function(t) {
				this.menus.push(new ot.ParentalLink(this.game, this.menuLayer, st.ParentLinkBenefitsConfig.SUCCESS_POPUP_CONFIG, null, t))
			}, t.prototype.parentalLinkAtSchoolPrompt = function(t, e) {
				this.menus.push(new ot.ParentalLink(this.game, this.menuLayer, st.ParentLinkBenefitsConfig.AT_SCHOOL_POPUP_CONFIG, null, t, e))
			}, t.prototype.parentalLinkSettingsPrompt = function(t, e) {
				this.menus.push(new ot.ParentalLink(this.game, this.menuLayer, st.ParentLinkBenefitsConfig.INFO_POPUP_SETTINGS_CONFIG, t, e))
			}, t.prototype.parentalLoginPopup = function() {
				this.menus.push(new rt.ParentalLinkPopup(this.game, this.menuLayer))
			}, t.prototype.mailer = function(t, e, i) {
				var n = new mt.YourMail(this.game, this.menuLayer, i);
				return n.preprocess(), this.menus.push(n), n
			}, t.prototype.openMail = function(t) {
				var e = new at.OpenMail(this.game, this.menuLayer);
				return e.preprocess(t), this.menus.push(e), e
			}, t.prototype.friendRequests = function(t) {
				this.menus.push(new b.FriendRequests(this.game, this.menuLayer, t))
			}, t.prototype.itemInfo = function(t, e, i) {
				this.menus.push(new C.ItemInfo(this.game, this.menuLayer, t, e, i))
			}, t.prototype.houseItemInfo = function(t, e, i) {
				this.menus.push(new A.HouseItemInfo(this.game, this.menuLayer, t, e, i))
			}, t.prototype.bountyBoard = function() {
				this.menus.push(new d.BountyBoardMenu(this.game, this.menuLayer))
			}, t.prototype.social = function(t) {
				this.menus.push(new G.Social(this.game, this.menuLayer, t))
			}, t.prototype.boostSelect = function(t, e) {
				this.menus.push(new p.BoostSelect(this.game, this.menuLayer, t, e))
			}, t.prototype.card = function(t, e, i) {
				r.GameConstants.get("GameConstants.Debug.PLAYER_CARDS_ENABLED") && this.menus.push(new f.Card(this.game, this.menuLayer, t, e, i))
			}, t.prototype.arena = function() {
				this.menus.push(new v.Coliseum(this.game, this.menuLayer, this.game.prodigy.player))
			}, t.prototype.stylist = function() {
				this.menus.push(new z.Stylist(this.game, this.menuLayer, this.game.prodigy.player))
			}, t.prototype.membership = function(t, e, i) {
				var n = S.MemberAd.reconcileConfig(t),
					a = new S.MemberAd(this.game, this.menuLayer, n, e, i);
				return this.menus.push(a), a
			}, t.prototype.membershipSuccess = function(t, e) {
				var i = new it.MembershipSuccess(this.game, this.menuLayer, [t], e);
				return i.preprocess(), this.menus.push(i), i
			}, t.prototype.conjureCube = function(t) {
				this.menus.push(new O.ConjureCubeView(this.game, this.menuLayer, t))
			}, t.prototype.reward = function(t, e) {
				this.menus.push(new I.RewardView(this.game, this.menuLayer, t, e))
			}, t.prototype.darkTowerMemberGate = function(t, e) {
				this.menus.push(new S.MemberAd(this.game, this.menuLayer, S.MemberAd.TOWER, t, e))
			}, t.prototype.nicknamer = function(t, e) {
				this.menus.push(new D.Nicknamer(this.game, this.menuLayer, t, e))
			}, t.prototype.gotItem = function(t, e, i, n) {
				var a = new T.GotItem(this.game, this.menuLayer, t, e, i, n);
				return this.menus.push(a), a
			}, t.prototype.message = function(t, e, i, n, a, o) {
				var r = new nt.MessageBox(this.game, this.menuLayer, a, o);
				return r.preprocess(t, i, n), this.menus.push(r), r.queuePostCreateCallback(r.setOkay.bind(r, null, e)), r
			}, t.prototype.classModeMessage = function(t, e, i, n, a, o) {
				var r = new J.ClassModeMessage(this.game, this.menuLayer, o);
				return r.preprocess(t, i, n, a), this.menus.push(r), r.queuePostCreateCallback(r.setOkay.bind(r, null, e)), r
			}, t.prototype.alert = function(t, e, i, n, a, o) {
				var r = new nt.MessageBox(this.game, this.menuLayer, a, o);
				return r.preprocess(t, i, n), this.menus.push(r), r.queuePostCreateCallback(r.setOkay.bind(r, null, e)), r
			}, t.prototype.messageBox = function(t, e, i, n, a, o, r) {
				var s = new nt.MessageBox(this.game, this.menuLayer, o, r);
				return s.preprocess(t, n, a), this.menus.push(s), s.queuePostCreateCallback(s.setConfirm.bind(s, e, i)), s
			}, t.prototype.messageBoxGeneric = function(t, e, i, n, a, o, r, s) {
				var l = new nt.MessageBox(this.game, this.menuLayer, r, s);
				return l.preprocess(t, a, o), this.menus.push(l), l.queuePostCreateCallback(l.setConfirmGeneric.bind(l, e, i, n)), l
			}, t.prototype.messageBoxOkay = function(t, e, i, n, a, o, r) {
				var s = new nt.MessageBox(this.game, this.menuLayer, o, r);
				return s.preprocess(t, n, a), this.menus.push(s), s.queuePostCreateCallback(s.setOkay.bind(s, e, null)), s.setCloseCallback(i), s
			}, t.prototype.messageBoxClose = function(t, e, i, n, a, o, r) {
				var s = new nt.MessageBox(this.game, this.menuLayer, o, r);
				return s.preprocess(t, n, a), this.menus.push(s), s.queuePostCreateCallback(s.setOkay.bind(s, e, i), s.setCloseButton.bind(s, !0)), s
			}, t.prototype.zoneProgress = function(t, e, i) {
				var n = new _t.ZoneProgress(this.game, this.menuLayer, t.atlasID);
				return n.preprocess(t), this.menus.push(n), n.queuePostCreateCallback(n.setConfirm.bind(n, e, i)), n
			}, t.prototype.titanProgress = function(t) {
				var e = new ft.TitanProgress(this.game, this.menuLayer, t);
				return e.preprocess(), this.menus.push(e), e
			}, t.prototype.friendsList = function() {
				var t = new $.FriendsListMenu(this.game, this.menuLayer);
				return t.preprocess(), this.menus.push(t), t
			}, t.prototype.membershipParent = function(t, e, i, a, o) {
				var r = new et.MembershipParent(this.game, this.menuLayer, i, a, o);
				return r.preprocess(e), this.menus.push(r), r.setMemberAd(n({}, t, {
					isModal: !1
				})), r
			}, t.prototype.membershipInfo = function(t, e, i, n, a, o) {
				var r = new tt.MembershipInfo(this.game, this.menuLayer, t, e, i, n, a);
				return r.preprocess(), bt.Util.isValid(o) && (r.sourceOverride = o), this.menus.push(r), r
			}, t.prototype.socialFeed = function(t) {
				void 0 === t && (t = null);
				var e = new ht.SocialFeed(this.game, this.menuLayer, t);
				return e.preprocess(), this.menus.push(e), e
			}, t.prototype.PopUpModal = function(t) {
				var e = new o.PopUpModal(this.game, this.menuLayer, t);
				return e.preprocess(), this.menus.push(e), e
			}, t.prototype.pvpPrizes = function(t) {
				var e = new lt.PVPPrizes(this.game, this.menuLayer, t);
				return e.preprocess(), this.menus.push(e), e
			}, t.prototype.character = function() {
				this.menus.push(new y.Character(this.game, this.menuLayer))
			}, t.prototype.backpack = function() {
				this.menus.push(new h.BackpackMenu(this.game, this.menuLayer, this.game.prodigy.player))
			}, t.prototype.pouch = function(t, e, i) {
				this.menus.push(new U.Pouch(this.game, this.menuLayer, this.game.prodigy.player, t, e, i))
			}, t.prototype.settings = function(t) {
				this.menus.push(new gt.SystemMenu(this.game, this.menuLayer, t))
			}, t.prototype.map = function(t, e) {
				this.menus.push(new K.WorldMap(this.game, this.menuLayer, t, e))
			}, t.prototype.store = function(t, e, i, n, a, o) {
				this.menus.push(new F.Store(this.game, this.menuLayer, t, e, i, n, a, o))
			}, t.prototype.stylistStore = function(t, e, i, n) {
				var a = this;
				this.menus.push(new F.Store(this.game, this.menuLayer, 20, t, e, i, null, n, {
					0: function(t) {
						return j.StoreItemSort.byOwned(a.game.prodigy.player.isItemOwned.bind(a.game.prodigy.player), j.StoreItemSort.byGender("female" === a.game.prodigy.player.appearance.getGender() ? 1 : 2, t))
					}
				}))
			}, t.prototype.buyToy = function(t, e, i) {
				this.menus.push(new g.BuyToy(this.game, this.menuLayer, t, e, i))
			}, t.prototype.epicBoostMachine = function(t, e) {
				this.menus.push(new E.EpicBoostMenu(this.game, this.menuLayer, 414, 168, t, e))
			}, t.prototype.battleSummary = function(t, e) {
				this.menus.push(new u.BattleBase(this.game, this.menuLayer, t, n({}, e, {
					type: u.BattleBase.SUMMARY
				})))
			}, t.prototype.battleLevel = function(t, e) {
				this.menus.push(new u.BattleBase(this.game, this.menuLayer, t, e))
			}, t.prototype.battlePotionSelect = function(t) {
				var e = new x.BattlePotionSelect(this.game, this.menuLayer, this.game.prodigy.player, t);
				return this.menus.push(e), e
			}, t.prototype.confirmPotionUse = function(t) {
				this.menus.push(new M.ConfirmPotionUse(this.game, this.menuLayer, t))
			}, t.prototype.questDescription = function(t, e) {
				this.menus.push(new N.QuestDescription(this.game, this.menuLayer, t, e))
			}, t.prototype.uiViewer = function() {
				this.menus.push(new vt.UIViewer(this.game, this.menuLayer))
			}, t.prototype.resultsMenu = function(t, e, i, n) {
				var a = new ct.ResultsMenu(this.game, this.menuLayer, t, e, i, n);
				return this.menus.push(a), a
			}, t.prototype.evolutionSummary = function(t, e) {
				var i = new ut.EvolutionSummary(this.game, this.menuLayer, t, e);
				return this.menus.push(i), i
			}, t.prototype.spellSummary = function(t, e) {
				var i = new dt.SpellSummary(this.game, this.menuLayer, t, e);
				return this.menus.push(i), i
			}, t.prototype.heartSummary = function(t, e) {
				var i = new pt.HeartSummary(this.game, this.menuLayer, t, e);
				return this.menus.push(i), i
			}, t.prototype.archivesEntranceMenu = function(t, e) {
				var i = new q.ArchivesEntranceMenu(this.game, this.menuLayer, t, e);
				return this.menus.push(i), i
			}, t.prototype.archivesPrizesMenu = function(t, e) {
				var i = new X.ArchivesPrizesMenu(this.game, this.menuLayer, t, e);
				return this.menus.push(i), i
			}, t.prototype.archivesExitMenu = function(t, e, i, n) {
				void 0 === i && (i = !1);
				var a = new Q.ArchivesExitMenu(this.game, this.menuLayer, t, e, i, n);
				return this.menus.push(a), a
			}, t.prototype.archivesRoulette = function(t) {
				var e = new Z.ArchivesRoulette(this.game, this.menuLayer, t);
				return this.menus.push(e), e
			}, t.prototype.voucherRedemption = function(t, e, i) {
				void 0 === t && (t = null), void 0 === e && (e = null), void 0 === i && (i = null);
				var n = new yt.VoucherCodeUnlock(this.game, this.menuLayer, t, e, i);
				return this.menus.push(n), n
			}, t.prototype.toyUnlock = function(t, e) {
				var i = this;
				void 0 === e && (e = null), this.voucherRedemption(function(n) {
					var o = i.game.prodigy.gameContainer.get(a.GameIdentifiers.IFSMController),
						r = i.game.prodigy.gameContainer.get(a.GameIdentifiers.FSMService),
						s = i.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
						l = i.game.prodigy.create.element(t, 0, 0),
						c = n.getAttachments()[0],
						h = Y.Items.getItem(c.getType(), c.getID()).data.name;
					l.add(new Phaser.TileSprite(i.game, 0, 0, 1280, 720, "atlas-161", "shine2-mid")), i.game.prodigy.create.panel(l, -40, 280, 36, 5, "orange");
					var u = i.game.prodigy.icon.createFromData(Y.Items.getEpicRelic(c), 640, 420, {
						x: .5,
						y: .5
					});
					u.scale.setTo(5, 5), u.alpha = 0, l.add(u);
					var p = i.game.prodigy.create.sprite(640, 420, "atlas-16", "storm-lightning-0", {
						x: .5,
						y: 1
					});
					p.animations.add("lightning", ["storm-lightning-0", "storm-lightning-1", "storm-lightning-2"], 20, !0, !1), p.animations.play("lightning"), p.visible = !1, l.add(p);
					var d = i.game.prodigy.create.sprite(640, 420, "atlas-16", "core-circle-small", {
						x: .5,
						y: .5
					});
					d.scale.setTo(0, 0), l.add(d);
					var g = i.game.prodigy.create.sprite(640, 420, "small-pet-" + c.getID(), "", {
						x: .3,
						y: .8
					});
					g.visible = !1, l.add(g);
					var f = i.game.prodigy.create.font(l, 320, 300, s.getText("TOY_UNLOCK_JOINED", h), {
						size: 80
					});
					f.alpha = 0;
					var y = i.game.prodigy.create.font(l, 320, 400, s.getText("TOY_UNLOCK_USE"), {
						size: 40
					});
					y.alpha = 0, o.execute(r.getStateMachine(74), {
						gemIcon: u,
						gemIconScale: u.scale,
						lightningSprite: p,
						pulseCircle: d,
						pulseCircleScale: d.scale,
						toyJoinedText: f,
						toyUseText: y,
						toySprite: g,
						foreground: l,
						game: i.game
					}, function() {
						l.destroy(), bt.Util.isValid(e) && e()
					})
				}, null, e)
			}, t
		}();
	e.MenuFactory = It
}, function(t, e, i) {
	var n = i(197),
		a = i(84);
	t.exports = function(t) {
		return n(function(e, i) {
			var n = -1,
				o = i.length,
				r = o > 1 ? i[o - 1] : void 0,
				s = o > 2 ? i[2] : void 0;
			for (r = t.length > 3 && "function" == typeof r ? (o--, r) : void 0, s && a(i[0], i[1], s) && (r = o < 3 ? void 0 : r, o = 1), e = Object(e); ++n < o;) {
				var l = i[n];
				l && t(e, l, n, r)
			}
			return e
		})
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__assign || Object.assign || function(t) {
			for (var e, i = 1, n = arguments.length; i < n; i++)
				for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
			return t
		},
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		o = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		r = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		},
		s = this && this.__awaiter || function(t, e, i, n) {
			return new(i || (i = Promise))(function(a, o) {
				function r(t) {
					try {
						l(n.next(t))
					} catch (t) {
						o(t)
					}
				}

				function s(t) {
					try {
						l(n.throw(t))
					} catch (t) {
						o(t)
					}
				}

				function l(t) {
					t.done ? a(t.value) : new i(function(e) {
						e(t.value)
					}).then(r, s)
				}
				l((n = n.apply(t, e || [])).next())
			})
		},
		l = this && this.__generator || function(t, e) {
			var i, n, a, o, r = {
				label: 0,
				sent: function() {
					if (1 & a[0]) throw a[1];
					return a[1]
				},
				trys: [],
				ops: []
			};
			return o = {
				next: s(0),
				throw: s(1),
				return: s(2)
			}, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
				return this
			}), o;

			function s(o) {
				return function(s) {
					return function(o) {
						if (i) throw new TypeError("Generator is already executing.");
						for (; r;) try {
							if (i = 1, n && (a = n[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(a = a.call(n, o[1])).done) return a;
							switch (n = 0, a && (o = [0, a.value]), o[0]) {
								case 0:
								case 1:
									a = o;
									break;
								case 4:
									return r.label++, {
										value: o[1],
										done: !1
									};
								case 5:
									r.label++, n = o[1], o = [0];
									continue;
								case 7:
									o = r.ops.pop(), r.trys.pop();
									continue;
								default:
									if (!(a = (a = r.trys).length > 0 && a[a.length - 1]) && (6 === o[0] || 2 === o[0])) {
										r = 0;
										continue
									}
									if (3 === o[0] && (!a || o[1] > a[0] && o[1] < a[3])) {
										r.label = o[1];
										break
									}
									if (6 === o[0] && r.label < a[1]) {
										r.label = a[1], a = o;
										break
									}
									if (a && r.label < a[2]) {
										r.label = a[2], r.ops.push(o);
										break
									}
									a[2] && r.ops.pop(), r.trys.pop();
									continue
							}
							o = e.call(t, r)
						} catch (t) {
							o = [6, t], n = 0
						} finally {
							i = a = 0
						}
						if (5 & o[0]) throw o[1];
						return {
							value: o[0] ? o[1] : void 0,
							done: !0
						}
					}([o, s])
				}
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var c = i(26),
		h = i(1),
		u = i(9),
		p = i(6),
		d = i(166),
		g = i(165),
		f = function() {
			function t(t, e, i, n, a) {
				this.httpClient = null, this.featureFlagProvider = null, this.UUID = null, this.deviceInfoProvider = null, this.urlProvider = null, this.factoryContainer = null, this.httpClient = t, this.featureFlagProvider = e, this.UUID = i.getUUID(), this.deviceInfoProvider = n, this.urlProvider = a, this.factoryContainer = new u.Container, this.factoryContainer.bind(c.EventEnum.GameSessionLength + "-v3").to(c.GameEvent.V3.SessionLengthFactory), this.factoryContainer.bind(c.EventEnum.GameDiscovery + "-v3").to(c.GameEvent.V3.GameDiscoveryFactory), this.factoryContainer.bind(c.EventEnum.GameComplete + "-v3").to(c.GameEvent.V3.GameCompleteFactory), this.factoryContainer.bind(c.EventEnum.AnonymousGameComplete + "-v3").to(c.AnonymousEvent.V3.AnonymousGameCompleteFactory)
			}
			return t.prototype.sendAnalytic = function(t, e) {
				return s(this, void 0, void 0, function() {
					var e, i, n = this;
					return l(this, function(a) {
						if (this.featureFlagProvider.isEventEnabled(t.getEventName())) {
							if (e = this.factoryContainer.get(t.getEventName() + "-v" + t.getSchemaVersion()), i = null, e && (i = e.serialize(t)), null !== i) return !0 === this.featureFlagProvider.getValue("enableVerboseAnalytics") ? h.Logger.log("\n========= Sending analytics: " + t.getEventName() + " =========\n" + JSON.stringify(i) + "\n========= Sending analytics END =========", h.LogLevel.Verbose) : h.Logger.log("========= Sending analytics: " + t.getEventName() + " =========", h.LogLevel.Verbose), [2, new Promise(function(e) {
								n.httpClient.post(n.urlProvider.getAPIRootUrl() + "events-api/v3/anonymous-events", null, {
									events: JSON.stringify([i])
								}).then(function() {
									e(!0)
								}).catch(function(i) {
									h.Logger.log("Failed to send analytic " + t.getEventName() + " " + i.errorMessage, h.LogLevel.Error), e(!1)
								})
							})];
							h.Logger.log("Analytic " + t.getEventName() + " cannot be serialized.", h.LogLevel.Warning)
						} else h.Logger.log("Analytic " + t.getEventName() + " is disabled. It will not be sent.", h.LogLevel.Warning);
						return [2, Promise.resolve(!1)]
					})
				})
			}, t.prototype.updateSessionState = function(t) {
				return s(this, void 0, void 0, function() {
					return l(this, function(t) {
						return h.Logger.log("Updating session state while not authenticated is not supported", h.LogLevel.Warning), [2, Promise.resolve(!1)]
					})
				})
			}, t.prototype.sendLegacyAnalytic = function(t, e, i) {
				return s(this, void 0, void 0, function() {
					var i, a = this;
					return l(this, function(o) {
						return this.featureFlagProvider.isEventEnabled(t) ? (i = {
							name: t,
							details: n({}, e, {
								UUID: this.UUID
							}),
							device: {
								width: this.deviceInfoProvider.getScreenWidth(),
								height: this.deviceInfoProvider.getScreenHeight(),
								os: this.deviceInfoProvider.getPlatformName()
							}
						}, !0 === this.featureFlagProvider.getValue("enableVerboseAnalytics") ? h.Logger.log("\n========= Sending analytic: " + i.name + " =========\n" + JSON.stringify(i) + "\n========= Sending analytic END =========", h.LogLevel.Verbose) : h.Logger.log("========= Sending analytic: " + i.name + " =========", h.LogLevel.Verbose), [2, new Promise(function(e) {
							a.httpClient.post(a.urlProvider.getAPIRootUrl() + "events-api/v2/anonymous-events", null, {
								events: JSON.stringify([i])
							}).then(function() {
								e(!0)
							}).catch(function(i) {
								h.Logger.log("Failed to send analytic " + t + " " + i.errorMessage, h.LogLevel.Error), e(!1)
							})
						})]) : (h.Logger.log("Analytic " + t + " is disabled. It will not be sent.", h.LogLevel.Warning), [2, Promise.resolve(!1)])
					})
				})
			}, t.prototype.sendLegacyV1Analytic = function(t) {
				return s(this, void 0, void 0, function() {
					return l(this, function(t) {
						return [2, Promise.resolve(!1)]
					})
				})
			}, t = a([u.injectable(), r(0, u.inject(p.EProdigyInjectionIdentifiers.HttpClient)), r(1, u.inject(p.EProdigyInjectionIdentifiers.FeatureFlagProvider)), r(2, u.inject(p.EProdigyInjectionIdentifiers.UUIDProvider)), r(3, u.inject(p.EProdigyInjectionIdentifiers.DeviceInfo)), r(4, u.inject(p.EProdigyInjectionIdentifiers.URLProvider)), o("design:paramtypes", [Object, Object, d.UUIDProvider, Object, g.URLProvider])], t)
		}();
	e.AnonymousAnalyticsService = f
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(889),
		a = i(0),
		o = function() {
			function t(t, e) {
				void 0 === e && (e = 20), this.callbacks = [], this.lookingForPath = !1, this.init(t, e)
			}
			return t.prototype.addCallback = function(t, e, i) {
				this.callbacks.push({
					ID: t,
					callback: e,
					mainPlayerRequired: i
				})
			}, t.prototype.init = function(t, e) {
				void 0 === e && (e = 20), this.area = t, this.size = e
			}, t.prototype.getCallback = function(t, e, i) {
				for (var n = 0, o = this.callbacks; n < o.length; n++) {
					var r = o[n];
					if (r.ID === this.getNodeValue(t, e) && (!a.Util.isValid(r.mainPlayerRequired) || !r.mainPlayerRequired || i)) return r.callback
				}
				return null
			}, t.prototype.xyToTile = function(t, e) {
				return new Phaser.Point(Math.floor(t / this.size), Math.floor(e / this.size))
			}, t.prototype.tileToXY = function(t, e) {
				return new Phaser.Point(Math.floor((t + .5) * this.size), Math.floor((e + .5) * this.size))
			}, t.prototype.findPath = function(t, e, i, a, o) {
				if (!this.lookingForPath) {
					this.lookingForPath = !0;
					var r = Math.floor(t / this.size),
						s = Math.floor(e / this.size),
						l = Math.floor(i / this.size),
						c = Math.floor(a / this.size);
					r = r > 63 ? 63 : r < 0 ? 0 : r, l = l > 63 ? 63 : l < 0 ? 0 : l, s = s > 35 ? 35 : s < 0 ? 0 : s, c = c > 35 ? 35 : c < 0 ? 0 : c;
					var h = new n.js;
					h.setGrid(this.area), h.setAcceptableTiles([1, 2, 3, 4, 5]), h.findPath(r, s, l, c, this.processPath.bind(this, r, s, i, a, o)), h.calculate()
				}
			}, t.prototype.processPath = function(t, e, i, n, o, r) {
				var s = null;
				if (a.Util.isValid(r)) {
					var l = [];
					l.push(r[0]);
					for (var c = r.length - 1; c > 0 && l[l.length - 1] !== r[c]; c--) {
						this.findNodeBetween(l[l.length - 1], r[c]) || (l.push(r[c]), c = r.length)
					}
					s = [];
					for (c = l.length - 1; c > 0; c--) l[c].x *= 20, l[c].y *= 20, s.push(l[c]);
					s[0] = new Phaser.Point(i, n)
				}
				a.Util.isValid(o) && o(s), this.lookingForPath = !1
			}, t.prototype.findNodeBetween = function(t, e) {
				var i = e.x - t.x,
					n = e.y - t.y,
					a = Math.abs(i) >= Math.abs(n) ? Math.abs(i) : Math.abs(n);
				if (0 === a) return t;
				i /= a, n /= a;
				for (var o = t.x, r = t.y, s = t; o !== e.x || r !== e.y;) {
					if (o += i, r += n, (i > 0 && o > e.x || i < 0 && o < e.x) && (o = e.x), (n > 0 && r > e.y || n < 0 && r < e.y) && (r = e.y), !this.isNodeOpen(Math.floor(o), Math.floor(r))) return s;
					s = new Phaser.Point(Math.floor(o), Math.floor(r))
				}
				return null
			}, t.prototype.isNodeOpen = function(t, e) {
				var i = this.getNodeValue(t, e);
				return i > 0 && 6 !== i
			}, t.prototype.getNodeValue = function(t, e) {
				return e < this.area.length && e >= 0 && t < this.area[0].length && t >= 0 ? this.area[e][t] : -1
			}, t.prototype.isPathBlocked = function(t, e, i, n) {
				var o = this.findNodeBetween(new Phaser.Point(Math.floor(t / this.size), Math.floor(e / this.size)), new Phaser.Point(Math.floor(i / this.size), Math.floor(n / this.size)));
				return a.Util.isValid(o)
			}, t.prototype.reset = function() {
				this.lookingForPath = !1
			}, t
		}();
	e.Pathfinder = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(7),
		o = i(0),
		r = function(t) {
			function e(e, i, n, a, o) {
				var r = t.call(this, e, i, n, a) || this;
				return r.currentPose = 1, r.onSelect = null, r.frame = null, r.sprite = null, r.currentTint = 14080234, r.onSelect = o, r.frame = r.add(r.game.prodigy.create.sprite(0, 0, "atlas-14", "pose-card")), r.frame.events.onInputDown.add(r.select.bind(r)), r.sprite = r.add(r.game.prodigy.create.sprite(10, 10, "atlas-14", "card0")), r.sprite.width = 0, r.sprite.x = 50, r.sprite.alpha = .9, r
			}
			return n(e, t), e.prototype.randomPose = function(t, i) {
				var n = t < 3 ? 4 : 3 === t ? 6 : 4 === t ? 8 : 10;
				this.currentTint = 14080234;
				for (var a = 0; a < 100; a++) {
					this.currentPose = Math.floor(Math.random() * n), this.currentTint = e.TINTS[Math.floor(Math.random() * e.TINTS.length)];
					for (var o = !1, r = 0; r < i.length; r++)
						if (this.equals(i[r])) {
							o = !0;
							break
						} if (!o) break
				}
				this.sprite.frameName = "card" + this.currentPose, this.frame.tint = this.currentTint
			}, e.prototype.setPose = function(t) {
				this.currentPose = t.currentPose, this.currentTint = t.currentTint
			}, e.prototype.deselect = function() {
				this.frame.y = 0, this.sprite.y = 10
			}, e.prototype.flip = function() {
				this.sprite.frameName = "card" + this.currentPose, this.frame.inputEnabled = !1, "pose-frame" === this.frame.frameName ? this.game.add.tween(this.sprite).to({
					width: 0,
					x: 50
				}, 250, Phaser.Easing.Linear.None).start() : this.frame.tint = 16777215;
				var t = this.game.add.tween(this.frame).to({
					width: 0,
					x: 50
				}, 250, Phaser.Easing.Linear.None);
				t.onComplete.addOnce(this.flipStep.bind(this), this), t.start()
			}, e.prototype.flipStep = function() {
				var t = this;
				"pose-card" === this.frame.frameName ? (this.frame.frameName = "pose-frame", this.frame.tint = this.currentTint, this.game.add.tween(this.sprite).to({
					width: 80,
					x: 10
				}, 250, Phaser.Easing.Linear.None).start()) : (this.frame.frameName = "pose-card", this.frame.tint = 16777215);
				var e = this.game.add.tween(this.frame).to({
					width: 100,
					x: 0
				}, 250, Phaser.Easing.Linear.None);
				e.onComplete.addOnce(function() {
					t.frame.inputEnabled = "pose-frame" === t.frame.frameName
				}, this), e.start()
			}, e.prototype.equals = function(t) {
				return o.Util.isValid(t) && (t.currentPose === this.currentPose || t.currentTint === this.currentTint && 14080234 !== t.currentTint)
			}, e.prototype.select = function() {
				o.Util.isValid(this.onSelect) && (this.game.prodigy.audio.playSFX(18, "pop"), this.onSelect(), this.frame.y = -15, this.sprite.y = -5)
			}, e.TINTS = [14254209, 9946096, 8444311, 16755318, 15788439, 13080560], e
		}(a.Element);
	e.DancePose = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			t.Win = "win", t.Loss = "loss", t.Draw = "draw"
		}(e.EPVPEndMode || (e.EPVPEndMode = {}))
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(289),
		o = i(6),
		r = i(4),
		s = i(5),
		l = i(124),
		c = i(2),
		h = i(80),
		u = i(23),
		p = i(0),
		d = i(41),
		g = i(894),
		f = i(284),
		y = i(286),
		m = function() {
			function t(t, e) {
				void 0 === e && (e = null), this.waitingToSelect = !1, this.currentAction = null, this.nextAction = null, this.turn = 0, this.battleScreen = null, this.game = null, this.forceSwitch = !1, this.epicNotice = null, this.unsportmanLike = null, this.game = t, this.battleScreen = e, p.Util.isValid(e) ? (e.teams[0].enableComboAnimations = !0, e.teams[0].moveTeamIn(), e.teams[1].enableComboAnimations = !0, e.teams[1].moveTeamIn(), h.Bam.canUseItems = !0, this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText("PVP_INTRO"), this.playerTurn.bind(this))) : n.Logger.log("Battle Screen is undefined", n.LogLevel.Error)
			}
			return t.prototype.generateMissAttack = function() {
				if (this.forceSwitch) {
					var t = this.battleScreen.teams[0].getNextId();
					this.forceSwitch = !1, this.waitingToSelect = !1, this.battleScreen.teams[0].swapPlayersHop(null, t), this.nextAction = {
						type: g.EPVPAction.Ready,
						index: t
					}, this.battleScreen.setState(y.EPVPState.RequestNextTurn)
				} else {
					var e = this.battleScreen.teams[0].getCurrentSource().getCurrentBamSpells()[0].ID;
					this.game.prodigy.player.castSpell(!1), this.currentAction = {
						type: g.EPVPAction.Spell,
						ID: e,
						hit: !1,
						time: 6e4,
						turn: this.turn,
						seed: Math.floor(999999 * Math.random()),
						energyCost: 0
					}, this.battleScreen.setState(y.EPVPState.RequestAction), this.waitingToSelect = !1
				}
				p.Util.isValid(this.epicNotice) && (this.epicNotice.close(), this.epicNotice = null), p.Util.isValid(this.unsportmanLike) && (this.unsportmanLike.close(), this.unsportmanLike = null), this.battleScreen.bam.visible = !1
			}, t.prototype.processAction = function(t) {
				this.nextAction = null;
				var e = this.battleScreen.teams[0],
					i = this.battleScreen.teams[1],
					n = this.game.prodigy.player.userID === this.battleScreen.screenData.challengerID;
				if (this.currentAction.type === g.EPVPAction.Switch && t.type === g.EPVPAction.Switch) n ? e.swapPlayersHop(i.swapPlayersHop.bind(i, this.processEndDelay.bind(this), t.index), this.currentAction.index) : i.swapPlayersHop(e.swapPlayersHop.bind(e, this.processEndDelay.bind(this), this.currentAction.index), t.index);
				else if (this.currentAction.type === g.EPVPAction.Spell && t.type === g.EPVPAction.Spell) {
					var a = this.currentAction.ID,
						o = t.ID;
					this.currentAction.time < t.time || this.currentAction.time === t.time && n ? this.attack(e.getCurrent(), i, this.attack.bind(this, i.getCurrent(), e, this.processEndDelay.bind(this, !1), o, !t.hit, {
						seed: t.seed,
						energyCost: t.energyCost
					}), a, !this.currentAction.hit, {
						seed: this.currentAction.seed,
						energyCost: t.energyCost
					}) : this.attack(i.getCurrent(), e, this.attack.bind(this, e.getCurrent(), i, this.processEndDelay.bind(this, !1), a, !this.currentAction.hit, {
						seed: this.currentAction.seed,
						energyCost: t.energyCost
					}), o, !t.hit, {
						seed: t.seed,
						energyCost: t.energyCost
					})
				} else this.currentAction.type === g.EPVPAction.Spell && t.type === g.EPVPAction.Switch ? i.swapPlayersHop(this.swapAttack.bind(this, e, i, this.currentAction.ID, this.currentAction.hit, {
					seed: this.currentAction.seed,
					energyCost: t.energyCost
				}), t.index) : this.currentAction.type === g.EPVPAction.Switch && t.type === g.EPVPAction.Spell && e.swapPlayersHop(this.swapAttack.bind(this, i, e, t.ID, t.hit, {
					seed: t.seed,
					energyCost: t.energyCost
				}), this.currentAction.index)
			}, t.prototype.swapAttack = function(t, e, i, n, a) {
				this.attack(t.getCurrent(), e, this.processEndDelay.bind(this, !1), i, !n, a)
			}, t.prototype.playerTurn = function(t) {
				this.currentAction = null;
				var e = this.battleScreen.teams[0],
					i = this.battleScreen.teams[1];
				p.Util.isValid(t) && p.Util.isValid(t.index) ? i.swapPlayersHop(this.playerTurn.bind(this), t.index) : (e.changeEnergy(1), i.changeEnergy(1), this.turn++, this.waitingToSelect = !0, this.showBam())
			}, t.prototype.processEnd = function(t) {
				var e = this,
					i = this.battleScreen.teams[0],
					a = this.battleScreen.teams[1],
					o = this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService);
				a.getCurrent().source.isKnockedOut() && a.movePlayerOut(null, a.getCurrent()), t ? (this.battleScreen.currentState = y.EPVPState.Deserted, this.game.prodigy.education.closeQuestion(), this.game.prodigy.open.menuCloseAll(), this.game.broadcaster.broadcast(s.EBattleEvents.PvpComboMeterMoveOut, a, []), a.runAwayTeam(), this.game.prodigy.effects.flashText(o.getText("COMBAT_WON"), this.showResults.bind(this, f.EPVPEndMode.Win))) : i.isDefeated() && a.isDefeated() ? (this.game.broadcaster.broadcast(s.EBattleEvents.PvpComboMeterMoveOut, i, []), this.game.broadcaster.broadcast(s.EBattleEvents.PvpComboMeterMoveOut, a, []), i.runAwayTeam(), a.runAwayTeam(), this.game.prodigy.effects.flashText(o.getText("COMBAT_DRAW"), this.showResults.bind(this, f.EPVPEndMode.Draw))) : i.isDefeated() ? (this.game.broadcaster.broadcast(s.EBattleEvents.PvpComboMeterMoveOut, i, []), i.runAway(), this.game.prodigy.effects.flashText(o.getText("COMBAT_LOST"), this.showResults.bind(this, f.EPVPEndMode.Loss))) : a.isDefeated() ? (this.game.broadcaster.broadcast(s.EBattleEvents.PvpComboMeterMoveOut, a, []), a.runAwayTeam(), this.game.prodigy.effects.flashText(o.getText("COMBAT_WON"), this.showResults.bind(this, f.EPVPEndMode.Win))) : i.getUnRun().length > 0 || a.getUnRun().length > 0 ? (i.runAwayDefeated(), a.runAwayDefeated(), setTimeout(function() {
					i.getCurrentSource().isKnockedOut() ? (e.forceSwitch = !0, e.waitingToSelect = !0, e.showBam()) : e.completeTurn()
				}, 2e3)) : this.completeTurn()
			}, t.prototype.startPointsTicker = function(t, e, i) {
				var a = this.game.prodigy.create.panel(p.Util.isValid(this.battleScreen) ? this.battleScreen.menus : void 0, 400, 300, 14, 4, "item-common");
				this.game.prodigy.create.font(a, 20, 0, this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText("PVP_ARENA_POINTS"), {
					size: 36,
					fontID: 9
				});
				var o = this.game.prodigy.create.font(a, 20, 40, "", {
						size: 80,
						align: "left",
						width: 520
					}),
					r = this.game.prodigy.create.font(a, 20, 40, "", {
						size: 80,
						align: "right",
						width: 520
					});
				a.visible = !1;
				var s = this.game.prodigy.event.create();
				s.delay(500), s.set(a, "visible", !0);
				var l = i - e;
				s.function(o.setText.bind(o, String(e))), s.function(r.setText.bind(r, "(+" + l + ")")), s.delay(1e3);
				for (var c = Math.max(1, Math.floor(l / 30)), h = 0; h < l; h += c) s.sound(19, "tick"), s.function(o.setText.bind(o, "" + (e + h + 1))), s.function(r.setText.bind(r, "(+" + (l - h - 1) + ")")), s.delay(100);
				s.function(o.setText.bind(o, String(i))), s.function(r.setText.bind(r, "")), s.delay(2e3), s.set(a, "visible", !1), s.sound(16, "victory"), this.hasAchievedPrize(e, i) ? s.function(this.showPrizeAchievedPopup.bind(this, this.endCombat.bind(this, t))) : (s.delay(2e3), s.function(this.endCombat.bind(this, t))), s.start()
			}, t.prototype.showPrizeAchievedPopup = function(t) {
				var e = this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService),
					i = e.getText("PVP_PRIZE_ACHIEVED_POPUP_MESSAGE"),
					a = e.getText("PVP_PRIZE_ACHIEVED_POPUP_BUTTON_TEXT");
				this.game.prodigy.open.messageBoxOkay(i, a, t)
			}, t.prototype.showResults = function(t) {
				t === f.EPVPEndMode.Win && p.Util.isValid(this.battleScreen) && this.battleScreen.mods.arena && (u.Device.isNativeApp() || this.game.prodigy.audio.playBGM(1, !0)), !p.Util.isValid(this.battleScreen) || this.battleScreen.mods.arena ? this.game.prodigy.pvpNetworkHandler.updateUserLeaderboard(t, this.startPointsTicker.bind(this, t, this.game.prodigy.pvpNetworkHandler.userRank.points), this.endCombat.bind(this, t)) : this.endCombat(t)
			}, t.prototype.handleSwitch = function(t) {
				this.forceSwitch ? this.completeTurn(t) : (this.currentAction = {
					type: g.EPVPAction.Switch,
					index: t,
					turn: this.turn
				}, this.battleScreen.setState(y.EPVPState.RequestAction), this.waitingToSelect = !1)
			}, t.prototype.handleAttack = function(t, e, i, n, a) {
				this.game.prodigy.player.castSpell(e), this.battleScreen.content.visible = this.battleScreen.menus.visible = !0, this.battleScreen.teamHearts.visible = this.battleScreen.opponentHearts.visible = !0, this.currentAction = {
					type: g.EPVPAction.Spell,
					ID: t,
					hit: e,
					time: i,
					turn: this.turn,
					seed: Math.floor(999999 * Math.random()),
					energyCost: a
				}, this.battleScreen.setState(y.EPVPState.RequestAction)
			}, t.prototype.processEndDelay = function() {
				setTimeout(this.processEnd.bind(this, !1), 4e3)
			}, t.prototype.hasAchievedPrize = function(t, e) {
				if (!p.Util.isValid(this.game.prodigy.pvpNetworkHandler.userLeaderboard)) return !1;
				var i = this.game.prodigy.pvpNetworkHandler.userLeaderboard.seasonRewards;
				if (p.Util.isValid(i))
					for (var n = null, a = 0; a < i.length; a++)
						if ("points" === (n = i[a].requirement).type && t < n.value && e >= n.value) return this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("pvp-season-reward", {
							tier: a,
							seasonID: this.game.prodigy.pvpNetworkHandler.seasonID,
							reward: i[a].type + ";" + i[a].id,
							grade: this.game.prodigy.player.grade,
							level: this.game.prodigy.player.getLevel()
						}), !0;
				return !1
			}, t.prototype.endCombat = function(t) {
				p.Util.isValid(this.battleScreen) && this.battleScreen.endCombat(t)
			}, t.prototype.completeTurn = function(t) {
				if (p.Util.isValid(t)) return this.waitingToSelect = !1, void this.battleScreen.teams[0].swapPlayersHop(this.finishCompleteTurn.bind(this, t), t);
				this.finishCompleteTurn(t)
			}, t.prototype.finishCompleteTurn = function(t) {
				this.forceSwitch = !1, this.nextAction = {
					type: g.EPVPAction.Ready,
					index: t
				}, this.battleScreen.setState(y.EPVPState.RequestNextTurn)
			}, t.prototype.openQuestion = function(t, e) {
				this.battleScreen.content.visible = this.battleScreen.menus.visible = !1, this.battleScreen.teamHearts.visible = this.battleScreen.opponentHearts.visible = !1, this.waitingToSelect = !1, r.GameConstants.get("GameConstants.Debug.EDUCATION_ENABLED") ? this.game.prodigy.education.question(this.handleAttack.bind(this, t), !1, e) : this.handleAttack(t, Math.random() <= r.GameConstants.get("GameConstants.Debug.AUTO_ANSWER_CORRECT_PERCENT"), 0, 0, e)
			}, t.prototype.attack = function(t, e, i, o, r, s) {
				var h = this,
					u = this.battleScreen.teamComboMeter,
					g = this.battleScreen.opponentComboMeter;
				s.comboBonus = t === this.battleScreen.teams[0].getCurrent() ? u.getDamageBoost() : g.getDamageBoost(), t === this.battleScreen.teams[0].getCurrent() ? (r ? u.breakCombo() : u.increaseCombo(), s.comboBonus = u.getDamageBoost()) : (p.Util.isValid(s.energyCost) && this.battleScreen.teams[1].changeEnergy(-1 * s.energyCost), r ? g.breakCombo() : g.increaseCombo(), s.comboBonus = g.getDamageBoost());
				var f = c.Items.getItem("spell", o),
					y = null;
				if (p.Util.isValid(f)) {
					var m = "aoe" === f.metadata.animationData.animationType,
						_ = t === this.battleScreen.teams[0].getCurrent() ? this.battleScreen.teams[1] : this.battleScreen.teams[0],
						v = t,
						E = "normal-hit";
					this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText("COMBAT_ATTACK_USED", t.getSource().getName(), f.data.name), void 0, l.EffectFactory.PVP, l.EffectFactory.SMALL, 1e3, !0), v.attack(), m ? (y = a.SpellFactory.makeSpell(this.game, v.parent, f.ID, v, _.team)).onImpact.add(function() {
						for (var t = 0; t < _.team.length; t++) {
							var e = d.CombatFormulas.calculateDamagePVP(v.getSource(), _.team[t].getSource(), f.ID, h.game.seededRandom.frac(s.seed + t));
							e.miss = r;
							var i = _.team[t];
							r ? E = "miss" : (i.getSource().changeCurrentHearts(-1 * e.damage), e.critical && (E = "critical-hit")), i.displayDamage(e, i !== _.getCurrent(), null)
						}
						h.game.prodigy.audio.playSFX(8, E)
					}) : (y = a.SpellFactory.makeSpell(this.game, v.parent, f.ID, v, [_.getCurrent()])).onImpact.add(function() {
						var t = d.CombatFormulas.calculateDamagePVP(v.getSource(), e.getCurrentSource(), f.ID, h.game.seededRandom.frac(s.seed), s.comboBonus);
						t.miss = r, r ? E = "miss" : (_.getCurrent().getSource().changeCurrentHearts(-1 * t.damage), t.critical && (E = "critical-hit")), _.getCurrent().displayDamage(t, !1, null), h.game.prodigy.audio.playSFX(8, E)
					}), y.onSpellComplete.add(function() {
						setTimeout(i, 2e3)
					})
				} else p.Util.isDefined(i) && i()
			}, t.prototype.showBam = function() {
				return p.Util.isValid(this.epicNotice) && this.epicNotice.close(), this.epicNotice = null, this.battleScreen.openBam(this.openQuestion.bind(this), this.handleSwitch.bind(this), this.epicTooPowerfulMessage.bind(this), this.itemsAreUnsportsmanlike.bind(this))
			}, t.prototype.epicTooPowerfulMessage = function() {
				this.epicNotice = this.game.prodigy.open.message(this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText("EPICS_ERROR_TOO_POWERFUL"), this.showBam.bind(this))
			}, t.prototype.itemsAreUnsportsmanlike = function() {
				this.unsportmanLike = this.game.prodigy.open.message(this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText("POTION_USE_UNSPORTSMAN"))
			}, t
		}();
	e.PVPManager = m
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			t.Loading = "loading", t.RequestInitialization = "request_init", t.RequestAction = "request_action", t.RequestData = "request_data", t.Working = "working", t.RequestNextTurn = "request_next", t.Deserted = "deserted"
		}(e.EPVPState || (e.EPVPState = {}))
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(47),
		a = i(0),
		o = i(903),
		r = i(902),
		s = function() {
			function t(t, e, i, n, a) {
				this.numSpineInstances = 0, this.onImpact = new Phaser.Signal, this.onSpellComplete = new Phaser.Signal, this.spellCharacterAnimation = null, this.game = t, this.targetsTo = a, this.targetFrom = n, this.spellDataParser = new r.SpellDataParser(i), this.spellAssetKey = this.spellDataParser.spellData.assets[0], this.parent = e, this.spellCharacterAnimation = new o.SpellCharacterAnimator(t), t.prodigy.load.assets([this.spellAssetKey], this.onLoadComplete.bind(this))
			}
			return t.prototype.getName = function() {
				return this.spellDataParser.getName()
			}, t.prototype.setAnimation = function(t, e, i) {
				this.animationExists(t) ? (this.spineMain.setAnimationByName(0, t, e), this.spineMain.setToSetupPose(), a.Util.isValid(i) && setTimeout(i, this.getAnimationLength(t))) : a.Util.isValid(i) && i()
			}, t.prototype.tweenToTarget = function(t) {
				var e = this.getEndPosition(),
					i = this.game.add.tween(this.spineMain);
				i.to(e, this.spellDataParser.getInt("travelDuration"), this.spellDataParser.getEasing("travelEasing")), i.start(), a.Util.isValid(t) && i.onComplete.add(t)
			}, t.prototype.animationExists = function(t) {
				return a.Util.isValid(this.spineMain.skeletonData.findAnimation(t))
			}, t.prototype.getAnimationLength = function(t) {
				var e = this.spineMain.skeletonData.findAnimation(t);
				return a.Util.isValid(e) ? 1e3 * parseFloat(e.duration) : 0
			}, t.prototype.getFacingAngle = function() {
				var t = this.getEndPosition(),
					e = this.getStartPosition();
				return Math.atan2(t.y - e.y, t.x - e.x) * (180 / Math.PI)
			}, t.prototype.destroy = function() {
				this.dimScreen(!1), this.onSpellComplete.dispatch()
			}, t.prototype.spellCreate2Animation = function() {
				if (this.animationExists("create2")) {
					var t = this.getStartPosition(),
						e = this.makeClone("create2", t.x, t.y);
					!0 === this.spellDataParser.getValue("createRotates") && (e.angle = this.getFacingAngle(), this.isTravelingRight() || (e.angle -= 180))
				}
			}, t.prototype.spellImpact2Animation = function() {
				if (this.animationExists("impact2")) {
					var t = this.getEndPosition();
					this.makeClone("impact2", t.x, t.y)
				}
			}, t.prototype.spellCharacterCreateAnimation = function() {
				var t = this.spellDataParser.getValue("charFromAnimation");
				a.Util.isValid(t) && "none" !== t && this.spellCharacterAnimation.animateCharacters(t, this.getAnimationLength("create"), [this.targetFrom], 0)
			}, t.prototype.spellCharacterImpactAnimation = function() {
				var t = this.spellDataParser.getValue("charToAnimation"),
					e = this.spellDataParser.getValue("charToAnimationDelay"),
					i = this.spellDataParser.getValue("charToAnimationLength");
				"none" !== t && a.Util.isValid(t) && a.Util.isValid(e) && a.Util.isValid(i) && this.spellCharacterAnimation.animateCharacters(t, i, this.targetsTo, e)
			}, t.prototype.makeClone = function(t, e, i, n) {
				void 0 === n && (n = !1);
				var a = this.game.add.spine(e, i, this.spellAssetKey);
				return a.setAnimationByName(0, t, n), a.setToSetupPose(), a.scale.x = this.isTravelingRight() ? 1 : -1, this.numSpineInstances++, a.onDestroy.add(this.onSpineInstanceDestroy.bind(this)), n || setTimeout(a.destroy.bind(a), 1e3 * a.skeletonData.findAnimation(t).duration), a
			}, t.prototype.onSpineInstanceDestroy = function(t) {
				this.numSpineInstances--, this.numSpineInstances <= 0 && this.destroy()
			}, t.prototype.getStartPosition = function() {
				var t = this.isTravelingRight() ? 1 : -1,
					e = {
						x: this.targetFrom.x,
						y: this.targetFrom.y
					};
				e.x += Math.round(this.targetFrom.getSpriteWidth() * t), e.y -= Math.round(.5 * this.targetFrom.getSpriteHeight()), this.targetFrom instanceof n.BossContainer && (e.x = 820, e.y = 450);
				var i = this.spellDataParser.getValue("createLocation");
				return e.x += parseInt(i.createOffsetX) * t, e.y += parseInt(i.createOffsetY), e
			}, t.prototype.getEndPosition = function() {
				var t = this.spellDataParser.getValue("impactLocation"),
					e = this.targetsTo[0],
					i = parseFloat(t.impactx) * e.sprites.centerX,
					n = (parseFloat(t.impacty) - .5) * e.getSpriteHeight();
				return n -= Math.round(e.getSpriteHeight() / 2), e.x <= 640 && (i *= -1), this.spellDataParser.getValue("travelStraight") ? {
					x: e.x + i,
					y: this.getStartPosition().y
				} : {
					x: e.x + i,
					y: e.y + n
				}
			}, t.prototype.onLoadComplete = function() {
				!0 === this.spellDataParser.getValue("screenDim") && this.dimScreen(!0);
				var t = this.getStartPosition();
				this.spineMain = this.game.add.spine(t.x, t.y, this.spellAssetKey), this.spineMain.onDestroy.add(this.onSpineInstanceDestroy.bind(this, this.spineMain)), this.numSpineInstances++
			}, t.prototype.dimScreen = function(t) {
				t ? (this.dimOverlay = this.game.add.graphics(0, 0), this.game.state.getCurrentState().groupDim.add(this.dimOverlay), this.dimOverlay.beginFill(0, 1), this.dimOverlay.drawRect(0, 0, 1280, 720), this.dimOverlay.endFill(), this.dimOverlay.alpha = 0, this.game.add.tween(this.dimOverlay).to({
					alpha: .4
				}, 300, Phaser.Easing.Linear.None, !0)) : a.Util.isValid(this.dimOverlay) && this.game.add.tween(this.dimOverlay).to({
					alpha: 0
				}, 300, Phaser.Easing.Linear.None, !0)
			}, t.prototype.isTravelingRight = function() {
				return this.targetFrom.x <= 640
			}, t.prototype.create = function() {
				this.spellCharacterCreateAnimation()
			}, t.prototype.travel = function() {}, t.prototype.impact = function() {
				this.spellCharacterImpactAnimation();
				var t = this.spellDataParser.getValue("charToAnimationDelay");
				a.Util.isValid(t) && t > 0 ? setTimeout(this.onImpact.dispatch.bind(this.onImpact), t) : this.onImpact.dispatch()
			}, t
		}();
	e.SpellBase = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return n(e, t), e.prototype.create = function() {
			t.prototype.create.call(this), this.spellCreate2Animation(), this.animationExists("create") ? (this.isTravelingRight() || (this.spineMain.scale.x *= -1), this.spellDataParser.getValue("createRotates") && (this.spineMain.angle = this.getFacingAngle(), this.isTravelingRight() || (this.spineMain.angle -= 180)), this.setAnimation("create", !1, this.travel.bind(this))) : this.travel()
		}, e.prototype.travel = function() {
			t.prototype.travel.call(this), this.animationExists("travel") && this.getAnimationLength("travel") > 0 ? (this.spellDataParser.getValue("travelRotates") && (this.spineMain.angle = this.getFacingAngle(), this.isTravelingRight() || (this.spineMain.angle -= 180)), this.isTravelingRight() || (this.spineMain.scale.x = -1), this.setAnimation("travel", !0), this.tweenToTarget(this.impact.bind(this))) : (this.spineMain.x = this.getEndPosition().x, this.spineMain.y = this.getEndPosition().y, this.impact())
		}, e.prototype.impact = function() {
			t.prototype.impact.call(this), this.animationExists("impact") ? (this.spellDataParser.getValue("impactRotates") && (this.spineMain.angle = this.getFacingAngle(), this.isTravelingRight() || (this.spineMain.angle -= 180)), this.doLayeredAnimation("impact"), this.setAnimation("impact", !1, this.spineMain.destroy.bind(this.spineMain)), this.spellImpact2Animation()) : (this.doLayeredAnimation("impact"), this.spellImpact2Animation(), this.spineMain.destroy())
		}, e.prototype.onLoadComplete = function() {
			t.prototype.onLoadComplete.call(this), this.create()
		}, e.prototype.doLayeredAnimation = function(t) {
			for (var e = 1, i = t + "_layer1", n = this.getEndPosition(); this.animationExists(i) && e <= 4;) {
				var a = this.makeClone(i, n.x, n.y, !1);
				1 === e ? this.game.state.getCurrentState().groupFront.add(a) : 2 === e ? this.game.state.getCurrentState().groupMiddle.add(a) : 3 === e ? this.game.state.getCurrentState().groupBack.add(a) : 4 === e && this.game.state.getCurrentState().groupDim.add(a), i = t + "_layer" + ++e
			}
		}, e
	}(i(287).SpellBase);
	e.SpellProjectile = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(2),
		o = i(904),
		r = i(901),
		s = i(288),
		l = function() {
			function t() {}
			return t.makeSpell = function(t, e, i, l, c) {
				var h = a.Items.getItem("spell", i).metadata.animationData.animationType;
				return "projectile" === h ? new s.SpellProjectile(t, e, i, l, c) : "aoe" === h ? new o.SpellAOE(t, e, i, l, c) : "beam" === h ? new r.SpellBeam(t, e, i, l, c) : (n.Logger.log("No spell of type " + h + " supported!", n.LogLevel.Verbose), null)
			}, t
		}();
	e.SpellFactory = l
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(909);
	e.AVERAGE_FPS = n.AverageFPSRenderer;
	var a = i(908);
	e.MEMORY_USAGE = a.MemoryUsageDebugRenderer;
	var o = i(907);
	e.MOUSE_POSITION = o.MousePositionDebugRenderer
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.teams = [], e
		}
		return n(e, t), e.prototype.getEnergy = function(t) {
			return this.teams[t].getCurrentEnergy()
		}, e
	}(i(60).Screen);
	e.BattleScreenBase = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(2),
		a = function() {
			function t(e, i, a) {
				this.onClick = new Phaser.Signal, this.epicID = i, this.uiElement = e;
				var o = n.Items.getItem("pet", i).data.element;
				e.epicAttackName.setText(t.getSpellName(i)), e.epicIcon.setImageFrameName(t.getIconName(i)), e.epicElementIcon.setImageFrameName("icons/icon-" + this.translateElementForIconName(o) + "-mini"), this.uiElement.button.setActive(a), this.uiElement.button.onClickDisabled.add(this.clickCallback.bind(this, !1)), this.uiElement.button.onClickCallback = this.clickCallback.bind(this, !0)
			}
			return t.getSpellName = function(e) {
				return t.spellNameMap[e].name
			}, t.getIconName = function(e) {
				return "icons/icon-epic-" + t.spellNameMap[e].iconId
			}, t.prototype.clickCallback = function(e) {
				var i = t.spellNameMap[this.epicID];
				i.epicId = this.epicID, this.onClick.dispatch(i, e)
			}, t.prototype.translateElementForIconName = function(t) {
				var e = {
					earth: "plant",
					wizard: "astral",
					"ice & fire": "water",
					mech: "storm"
				};
				return e.hasOwnProperty(t) ? e[t] : t
			}, t.spellNameMap = {
				125: {
					name: "Storm's Wrath",
					spellId: 80,
					iconId: 5
				},
				126: {
					name: "Forest's Fury",
					spellId: 72,
					iconId: 4
				},
				127: {
					name: "Frigid Blast",
					spellId: 66,
					iconId: 2
				},
				128: {
					name: "Tidal Twister",
					spellId: 86,
					iconId: 3
				},
				129: {
					name: "Hot Snow",
					spellId: 60,
					iconId: 1
				},
				130: {
					name: "Thermal Prism",
					spellId: 86,
					iconId: 6
				},
				131: {
					name: "Tsunami",
					spellId: 86,
					iconId: 7
				},
				132: {
					name: "Totality",
					spellId: 60,
					iconId: 8
				},
				133: {
					name: "Umbra Blast",
					spellId: 80,
					iconId: 9
				}
			}, t
		}();
	e.BamEpicButton = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n, a = i(2),
		o = i(0);
	! function(t) {
		t[t.NONE = 0] = "NONE", t[t.WAND = 1] = "WAND", t[t.RELIC = 2] = "RELIC", t[t.SEAL = 3] = "SEAL"
	}(n = e.BamButtonLockType || (e.BamButtonLockType = {}));
	var r = function() {
		function t(t, e, i, o, r) {
			void 0 === r && (r = !0), this.spellCast = new Phaser.Signal, this.spellBlocked = new Phaser.Signal, this.stateNames = ["spellRelicPlaceholder", "spellWandPlaceholder", "spellNormal"], this.energyCostOverride = -1, this.game = t, this.spell = o, this.spellID = o.ID, this.spellID > 0 && (this.spellData = a.Items.getItem("spell", this.spellID).data, "aoe" === this.spellData.targetType ? this.energyCostOverride = r ? 3 : 4 : this.energyCostOverride = r ? 0 : 1), this.uiElement = i, this.lockType = n.NONE, (o.locked || 0 === this.spellID) && ("weapon" === o.type ? this.lockType = n.WAND : "spellRelic" === o.type ? this.lockType = n.RELIC : this.lockType = n.SEAL), this.setup()
		}
		return t.prototype.doUpdateEnergyMask = function() {
			var t = this;
			if (this.lockType === n.SEAL) this.spellIconMask.scale.y = 1;
			else {
				var e = this.game.state.getCurrentState().getEnergy(0),
					i = Math.max(0, e - 1);
				if (i >= this.getEnergyCost()) this.spellIconMask.visible = !1;
				else {
					this.spellIconMask.visible = !0, this.spellIconMask.scale.y = 1 - i / this.getEnergyCost();
					var a = 1 - e / this.getEnergyCost(),
						o = this.game.add.tween(this.spellIconMask.scale).to({
							y: a
						}, 1500, Phaser.Easing.Cubic.Out);
					o.onComplete.add(function() {
						a <= 0 && (t.spellIconMask.visible = !1)
					}), o.start()
				}
			}
		}, t.prototype.getUIElement = function() {
			return this.uiElement.spellButton
		}, t.prototype.getEnergyCost = function() {
			return this.energyCostOverride >= 0 ? this.energyCostOverride : o.Util.isValid(this.spellData) ? this.spellData.energyCost : 0
		}, t.prototype.getTargetType = function() {
			return o.Util.isValid(this.spellData) ? this.spellData.targetType : "none"
		}, t.prototype.setup = function() {
			if (this.uiElement.spellButton.onClickCallback = this.spellClicked.bind(this), this.lockType === n.NONE || this.lockType === n.SEAL) {
				this.setActiveState("spellNormal"), this.spellIcon = this.uiElement.spellIcon, this.spellIconOverlay = this.uiElement.spellIconMask, this.spellName = this.uiElement.spellName;
				var t = this.uiElement.spellButtonGraphic,
					e = o.Util.convertLegacyElements(this.spellData.element),
					i = "icons/icon-" + e + "-" + ("aoe" === this.spellData.targetType ? "aoe" : "ss");
				this.spellIcon.setImageFrameName(i), this.spellIconOverlay.setImageFrameName(i + "-mask"), t.setImageFrameName("backing/backing-attack-" + e + "2"), this.lockType === n.SEAL ? this.spellName.setText("Unlocks at Lvl. " + this.spell.unlockLevel) : this.spellName.setText(this.spellData.name), this.setupMask(), this.lockType === n.SEAL && (this.uiElement.spellLockIcon.visible = !0)
			} else this.lockType === n.WAND ? (this.setActiveState("spellWandPlaceholder"), this.uiElement.spellName.setText("Wand Spell")) : this.lockType === n.RELIC && (this.setActiveState("spellRelicPlaceholder"), this.uiElement.spellName.setText("Relic Spell"))
		}, t.prototype.setupMask = function() {
			var t = new Phaser.Graphics(this.game);
			this.spellIconOverlay.add(t), t.beginFill(65280), this.spellIconMask = t.drawRect(this.spellIconOverlay.image.x, this.spellIconOverlay.image.y, this.spellIconOverlay.image.width, 142), t.endFill(), this.spellIconOverlay.mask = this.spellIconMask, this.doUpdateEnergyMask()
		}, t.prototype.setActiveState = function(t) {
			for (var e = 0; e < this.stateNames.length; e++) this.uiElement[this.stateNames[e]].visible = this.stateNames[e] === t
		}, t.prototype.canCastSpell = function() {
			return this.hasEnoughEnergy() && !this.isLocked()
		}, t.prototype.hasEnoughEnergy = function() {
			return this.game.state.getCurrentState().getEnergy(0) >= this.getEnergyCost()
		}, t.prototype.isLocked = function() {
			return this.lockType !== n.NONE
		}, t.prototype.spellClicked = function() {
			this.canCastSpell() ? this.spellCast.dispatch(this.spellID, this.getEnergyCost()) : this.spellBlocked.dispatch(this.lockType, this.hasEnoughEnergy())
		}, t.prototype.destroy = function() {
			this.uiElement.spellButton.destroy(), this.spellCast.dispose(), this.spellBlocked.dispose()
		}, t
	}();
	e.BamSpellButton = r
}, function(t, e, i) {
	var n = i(87);
	t.exports = function(t) {
		return "function" == typeof t ? t : n
	}
}, function(t, e, i) {
	var n = i(348),
		a = i(106),
		o = i(294),
		r = i(18);
	t.exports = function(t, e) {
		return (r(t) ? n : a)(t, o(e))
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return n(e, t), e
	}(i(57).Boss);
	e.IceWyrmBoss = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return n(e, t), e
	}(i(57).Boss);
	e.ForestBoss = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(19),
		o = function(t) {
			function e(e, i, n, a, o) {
				var r = t.call(this, e, i, n, 2, a, o) || this;
				return r.tweens = [], r.idleTween = [], r.attackTween = [], r
			}
			return n(e, t), e.prototype.startLoad = function() {
				t.prototype.startLoad.call(this), this.loading = !0, this.game.prodigy.load.assets(["default-boss-14"], this.setup.bind(this))
			}, e.prototype.setup = function(e) {
				t.prototype.startLoad.call(this), this.sprites.removeAll(!0), this.hideName(), this.sprite = this.game.prodigy.create.element(this.sprites, 130, -300), this.sprite.scale.x = -1;
				var i = "default-boss-14",
					n = 17,
					o = 95,
					r = this.sprite.add(this.game.prodigy.create.sprite(n, o, i, "arm-left-1")),
					s = 22,
					l = 43,
					c = this.sprite.add(this.game.prodigy.create.sprite(s, l, i, "shoulder")),
					h = 94,
					u = 216,
					p = this.sprite.add(this.game.prodigy.create.sprite(h, u, i, "leg")),
					d = 62,
					g = 226,
					f = this.sprite.add(this.game.prodigy.create.sprite(d, g, i, "foot-left")),
					y = 118,
					m = 190,
					_ = this.sprite.add(this.game.prodigy.create.sprite(y, m, i, "waist")),
					v = 52,
					E = 46,
					b = this.sprite.add(this.game.prodigy.create.sprite(v, E, i, "body")),
					O = 156,
					I = 215,
					T = this.sprite.add(this.game.prodigy.create.sprite(O, I, i, "leg")),
					A = 163,
					C = 224,
					S = this.sprite.add(this.game.prodigy.create.sprite(A, C, i, "foot-right")),
					w = 193,
					D = 94,
					P = this.sprite.add(this.game.prodigy.create.sprite(w, D, i, "arm-right-1")),
					L = 69,
					x = 15,
					M = this.sprite.add(this.game.prodigy.create.sprite(L, x, i, "head")),
					U = 67,
					N = 58,
					R = this.sprite.add(this.game.prodigy.create.sprite(U, N, i, "jaw")),
					k = 131,
					B = 43,
					G = this.sprite.add(this.game.prodigy.create.sprite(k, B, i, "shoulder"));
				this.idleTween.push(new a.TweenController(M)), this.idleTween[0].set("x", [L, L - 4, L - 9, L - 11, L - 11, L - 6, L - 3, L, L + 3, L + 4, L + 4, L + 2], 100, 9999), this.idleTween.push(new a.TweenController(M)), this.idleTween[1].set("y", [x, x, x + 3, x + 6, x + 8, x + 10, x + 11, x + 9, x + 7, x + 5, x + 3, x + 2], 100, 9999), this.idleTween.push(new a.TweenController(R)), this.idleTween[2].set("x", [U, U - 3, U - 9, U - 9, U - 9, U - 5, U - 2, U, U + 3, U + 4, U + 4, U + 2], 100, 9999), this.idleTween.push(new a.TweenController(R)), this.idleTween[3].set("y", [N, N + 2, N + 7, N + 14, N + 16, N + 17, N + 16, N + 12, N + 9, N + 5, N + 3, N + 2], 100, 9999), this.idleTween.push(new a.TweenController(G)), this.idleTween[4].set("x", [k, k - 2, k - 3, k - 3, k - 3, k - 2, k - 1, k + 1, k + 2, k + 3, k + 3, k + 1], 100, 9999), this.idleTween.push(new a.TweenController(G)), this.idleTween[5].set("y", [B, B + 2, B + 4, B + 5, B + 6, B + 6, B + 6, B + 4, B + 4, B + 3, B + 3, B + 1], 100, 9999), this.idleTween.push(new a.TweenController(r)), this.idleTween[6].set("frameName", ["arm-left-1", "arm-left-1", "arm-left-2", "arm-left-3", "arm-left-3", "arm-left-3", "arm-left-3", "arm-left-2", "arm-left-1", "arm-left-1", "arm-left-1", "arm-left-1"], 100, 9999);
				var V = 10,
					F = 100,
					j = 7,
					H = 103,
					z = 196,
					W = 101,
					K = 196,
					Y = 106;
				this.idleTween.push(new a.TweenController(P)), this.idleTween[7].set("x", [w, w + 1, z, K, K - 4, K - 6, K - 7, z - 4, w - 1, w - 2, w - 2, w - 1], 100, 9999), this.idleTween.push(new a.TweenController(P)), this.idleTween[8].set("y", [D, D + 2, W, Y, Y + 6, Y + 5, Y + 4, W + 4, D + 7, D + 4, D + 2, D + 1], 100, 9999), this.idleTween.push(new a.TweenController(c)), this.idleTween[9].set("x", [s, s + 2, s + 3, s + 3, s + 3, s + 2, s + 1, s - 1, s - 2, s - 3, s - 3, s - 1], 100, 9999), this.idleTween.push(new a.TweenController(c)), this.idleTween[10].set("y", [l, l + 2, l + 4, l + 5, l + 6, l + 6, l + 6, l + 4, l + 4, l + 2, l, l - 1], 100, 9999), this.idleTween.push(new a.TweenController(P)), this.idleTween[11].set("frameName", ["arm-right-1", "arm-right-1", "arm-right-2", "arm-right-3", "arm-right-3", "arm-right-3", "arm-right-3", "arm-right-2", "arm-right-1", "arm-right-1", "arm-right-1", "arm-right-1"], 100, 9999), this.idleTween.push(new a.TweenController(r)), this.idleTween[12].set("x", [n, n + 3, V + 6, j, j + 1, j + 2, j + 4, V + 4, n + 1, n + 2, n + 3, n + 2], 100, 9999), this.idleTween.push(new a.TweenController(r)), this.idleTween[13].set("y", [o, o + 2, F + 7, H, H + 1, H, H - 1, F, o + 2, o + 1, o, o - 2], 100, 9999), this.idleTween.push(new a.TweenController(p)), this.idleTween[14].set("x", [h, h - 1, h - 1, h - 1, h - 1, h - 1, h, h, h, h, h, h], 100, 9999), this.idleTween.push(new a.TweenController(p)), this.idleTween[15].set("y", [u, u, u + 1, u + 1, u + 1, u + 1, u + 1, u, u, u, u, u], 100, 9999), this.idleTween.push(new a.TweenController(f)), this.idleTween[16].set("x", [d], 100, 9999), this.idleTween.push(new a.TweenController(f)), this.idleTween[17].set("y", [g], 100, 9999), this.idleTween.push(new a.TweenController(T)), this.idleTween[18].set("x", [O, O + 1, O + 1, O + 1, O + 1, O + 1, O, O, O, O, O, O], 100, 9999), this.idleTween.push(new a.TweenController(T)), this.idleTween[19].set("y", [I, I, I + 1, I + 1, I + 1, I + 1, I + 1, I, I, I, I, I], 100, 9999), this.idleTween.push(new a.TweenController(S)), this.idleTween[20].set("x", [A], 100, 9999), this.idleTween.push(new a.TweenController(S)), this.idleTween[21].set("y", [C], 100, 9999), this.idleTween.push(new a.TweenController(b)), this.idleTween[22].set("x", [v, v - 1, v - 1, v - 1, v - 1, v, v + 1, v + 2, v + 3, v + 3, v + 3, v + 3], 100, 9999), this.idleTween.push(new a.TweenController(b)), this.idleTween[23].set("y", [E, E + 1, E + 2, E + 3, E + 4, E + 5, E + 4, E + 3, E + 2, E + 1, E, E - 1], 100, 9999), this.idleTween.push(new a.TweenController(_)), this.idleTween[24].set("x", [y, y - 1, y - 1, y - 1, y - 1, y, y + 1, y + 2, y + 3, y + 3, y + 3, y + 2], 100, 9999), this.idleTween.push(new a.TweenController(_)), this.idleTween[25].set("y", [m, m + 2, m + 4, m + 6, m + 8, m + 9, m + 8, m + 6, m + 4, m + 2, m, m - 1], 100, 9999), this.idleTween.push(new a.TweenController(r)), this.idleTween[26].set("angle", [0], 100, 9999), this.idleTween.push(new a.TweenController(r)), this.idleTween[27].set("visible", [!0], 100, 9999), this.attackTween.push(new a.TweenController(M)), this.attackTween[0].set("x", [L, L - 6, L - 15, L - 27, L - 32, L - 34, L - 33, L - 30, L - 19, L - 7], 100, 9999), this.attackTween.push(new a.TweenController(M)), this.attackTween[1].set("y", [x, x + 6, x + 13, x + 20, x + 22, x + 22, x + 20, x + 16, x + 12, x + 5], 100, 9999), this.attackTween.push(new a.TweenController(R)), this.attackTween[2].set("x", [U, U - 6, U - 14, U - 26, U - 31, U - 33, U - 32, U - 29, U - 18, U - 7], 100, 9999), this.attackTween.push(new a.TweenController(R)), this.attackTween[3].set("y", [N, N + 8, N + 20, N + 29, N + 31, N + 31, N + 29, N + 23, N + 13, N + 7], 100, 9999), this.attackTween.push(new a.TweenController(G)), this.attackTween[4].set("x", [s, s - 4, s + 5, s + 12, s + 16, s + 19, s + 21, s + 25, s + 22, s + 15], 100, 9999), this.attackTween.push(new a.TweenController(c)), this.attackTween[5].set("y", [l, l, l - 5, l - 10, l - 11, l - 10, l - 9, l - 5, l, l + 2], 100, 9999), this.attackTween.push(new a.TweenController(r)), this.attackTween[6].set("frameName", ["arm-left-1", "arm-left-1", "arm-left-1", "arm-left-4", "arm-left-2", "arm-left-5", "arm-left-3", "arm-left-4", "arm-left-4", "arm-left-4"], 100, 9999), this.attackTween.push(new a.TweenController(r)), this.attackTween[7].set("x", [n, n - 5, n - 8, n - 42 - 15, n - 47 + 90, n + 15 + 50, n + 82 + 20, n + 81 + 80, n, n + -38], 100, 9999), this.attackTween.push(new a.TweenController(r)), this.attackTween[8].set("y", [o, o - 4, o - 13, o + 73 - 100, o + 34 - 65 - 20, o + 45 - 185, o - 48 + 40, o + 17, o, o + 112], 100, 9999), this.attackTween.push(new a.TweenController(G)), this.attackTween[9].set("x", [k, k - 8, k - 36, k - 44, k - 48, k - 51, k - 48, k - 42, k - 30, k - 6], 100, 9999), this.attackTween.push(new a.TweenController(G)), this.attackTween[10].set("y", [B, B + 25, B + 48, B + 52, B + 55, B + 54, B + 54, B + 47, B + 38, B + 13], 100, 9999), this.attackTween.push(new a.TweenController(P)), this.attackTween[11].set("frameName", ["arm-right-1", "arm-right-4", "arm-right-5", "arm-right-5", "arm-right-5", "arm-right-5", "arm-right-5", "arm-right-5", "arm-right-4", "arm-right-1"], 100, 9999), this.attackTween.push(new a.TweenController(P)), this.attackTween[12].set("x", [193, 132, 58, 39, 34, 35, 45, 58, 127, 187], 100, 9999), this.attackTween.push(new a.TweenController(P)), this.attackTween[13].set("y", [94, 125, 162, 162, 162, 162, 162, 162, 135, 108], 100, 9999), this.attackTween.push(new a.TweenController(p)), this.attackTween[14].set("x", [h, h - 2, h - 5, h - 18, h - 21, h - 22, h - 21, h - 19, h - 12, h - 5], 100, 9999), this.attackTween.push(new a.TweenController(p)), this.attackTween[15].set("y", [u, u - 2, u - 3, u, u, u + 1, u + 1, u + 1, u + 1, u + 1], 100, 9999), this.attackTween.push(new a.TweenController(f)), this.attackTween[16].set("x", [d, d - 1, d - 7, d - 23, d - 24, d - 23, d - 22, d - 21, d - 15, d - 11], 100, 9999), this.attackTween.push(new a.TweenController(f)), this.attackTween[17].set("y", [g, g - 9, g - 16, g, g, g, g, g, g, g], 100, 9999), this.attackTween.push(new a.TweenController(T)), this.attackTween[18].set("x", [O, O, O, O - 4, O - 7, O - 8, O - 8, O - 6, O - 3, O - 1], 100, 9999), this.attackTween.push(new a.TweenController(T)), this.attackTween[19].set("y", [I, I, I, I, I, I, I, I, I, I], 100, 9999), this.attackTween.push(new a.TweenController(S)), this.attackTween[20].set("x", [A, A, A - 2, A - 5, A - 6, A - 6, A - 5, A - 3, A - 2, A], 100, 9999), this.attackTween.push(new a.TweenController(S)), this.attackTween[21].set("y", [C, C, C, C, C, C, C, C, C, C], 100, 9999), this.attackTween.push(new a.TweenController(b)), this.attackTween[22].set("x", [v, v - 3, v - 8, v - 11, v - 12, v - 13, v - 12, v - 11, v - 8, v - 3], 100, 9999), this.attackTween.push(new a.TweenController(b)), this.attackTween[23].set("y", [E, E + 4, E + 6, E + 7, E + 7, E + 7, E + 7, E + 7, E + 6, E + 3], 100, 9999), this.attackTween.push(new a.TweenController(_)), this.attackTween[24].set("x", [y, y - 3, y - 8, y - 11, y - 12, y - 13, y - 12, y - 11, y - 8, y - 3], 100, 9999), this.attackTween.push(new a.TweenController(_)), this.attackTween[25].set("y", [m, m + 4, m + 6, m + 7, m + 7, m + 7, m + 7, m + 7, m + 6, m + 3], 100, 9999), this.attackTween.push(new a.TweenController(r)), this.attackTween[26].set("angle", [0, 0, 0, 0, 90, 90, 180, 180, 270, 270], 100, 9999), this.attackTween.push(new a.TweenController(r)), this.attackTween[27].set("visible", [!0, !0, !0, !0, !0, !0, !0, !0, !1, !1], 100, 9999), this.attackTween[0].end(this.playIdle.bind(this)), this.playIdle(), this.complete = !0, this.loading = !1
			}, e.prototype.playIdle = function() {
				if (1 !== this.mode) {
					this.mode = 1, this.tweens = this.idleTween;
					for (var t = 0; t < this.tweens.length; t++) this.tweens[t].start()
				}
			}, e.prototype.playAttack = function() {
				if (3 !== this.mode) {
					this.mode = 3, this.tweens = this.attackTween;
					for (var t = 0; t < this.tweens.length; t++) this.tweens[t].start()
				}
			}, e.prototype.stand = function() {
				this.playIdle()
			}, e.prototype.attack = function() {
				this.playAttack()
			}, e.prototype.update = function() {
				t.prototype.update.call(this);
				for (var e = 0; e < this.tweens.length; e++) this.tweens[e].update()
			}, e
		}(i(17).CreatureContainer);
	e.ForestContainer = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		a = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		o = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var r = i(1),
		s = i(9),
		l = i(0),
		c = function() {
			function t(t) {
				this.first = null, this.last = null, this.nick = null, this.localizer = null, this.localizer = t
			}
			return t.prototype.init = function(t, e, i) {
				void 0 === e && (e = null), void 0 === i && (i = null), this.first = t, this.last = e, this.nick = i
			}, t.prototype.getName = function() {
				return l.Util.isValid(this.nick) ? this.localizer.getText(this.nick).replace("{first}", this.localizer.getText(this.first)).replace("{last}", this.localizer.getText(this.last)) : l.Util.isValid(this.last) ? this.getNameWithoutNickname() : this.getFirstName()
			}, t.prototype.getNameWithoutNickname = function() {
				return this.localizer.getText(this.first) + " " + this.localizer.getText(this.last)
			}, t.prototype.getFirstName = function() {
				return this.localizer.getText(this.first)
			}, t.prototype.generateRandomName = function() {}, t = n([s.injectable(), o(0, s.inject(r.GameIdentifiers.LocalizationService)), a("design:paramtypes", [r.BaseLocalizer])], t)
		}();
	e.LocalizedNameResolver = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(0),
		r = i(62),
		s = function(t) {
			function e(e, i, n, a, o, r, s) {
				void 0 === s && (s = 0);
				var l = t.call(this, e, i, n, o, r) || this;
				return l.currentPageNum = -1, l.pageSets = [], l.pages = [], l.buttonCallbacks = {}, l.firstPage = 0, l.firstPage = s, l.pageSets = a, l
			}
			return n(e, t), e.prototype.preprocess = function() {
				this.queuePostCreateCallback(this.setCallbacks.bind(this), this.setup.bind(this))
			}, e.prototype.setup = function() {
				this.pages = [];
				for (var t = 0; t < this.pageSets.length; t++) this.pages = this.pages.concat(this.buildPages(this.pageSets[t]));
				this.setPage(this.firstPage)
			}, e.prototype.buildPages = function(t) {
				for (var e = [], i = 0; i < this.uiElementTemplates.length; i++) {
					var n = this.uiElementTemplates[i].name;
					n.indexOf(t) >= 0 && e.push(n)
				}
				return e.length < 1 && a.Logger.log("Could not find any templates with prefix " + t, a.LogLevel.Verbose), e
			}, e.prototype.setCallbacks = function() {
				o.Util.isValid(this.leftArrowButton) && (this.leftArrowButton.onClickCallback = this.prevPage.bind(this)), o.Util.isValid(this.rightArrowButton) && (this.rightArrowButton.onClickCallback = this.nextPage.bind(this))
			}, e.prototype.nextPage = function() {
				this.setPage(this.currentPageNum + 1)
			}, e.prototype.prevPage = function() {
				this.setPage(this.currentPageNum - 1)
			}, e.prototype.setPage = function(t) {
				var e = Phaser.Math.clamp(t, 0, this.pages.length - 1);
				e !== this.currentPageNum && (o.Util.isValid(this.page) && (this.page[this.pageName].destroy(), this.page = null), this.currentPageNum = e, o.Util.isValid(this.leftArrowButton) && (this.leftArrowButton.visible = this.currentPageNum > 0), o.Util.isValid(this.rightArrowButton) && (this.rightArrowButton.visible = this.currentPageNum < this.pages.length - 1), this.pageName = this.pages[this.currentPageNum], this.page = this.instantiateTemplate(this.pageName, this.background), this.onPageLoaded())
			}, e.prototype.setPageCallbacks = function() {
				for (var t in this.page) this.page[t] instanceof r.Button ? this.setButtonCallback(this.page[t]) : null === this.page[t].onUpCallback && this.setPhaserButtonCallback(this.page[t])
			}, e.prototype.onPageLoaded = function() {
				this.setPageCallbacks()
			}, e.prototype.setButtonCallback = function(t) {
				o.Util.isValid(this.buttonCallbacks[t.name]) && (t.onClickCallback = this.buttonCallbacks[t.name])
			}, e.prototype.setPhaserButtonCallback = function(t) {
				o.Util.isValid(this.buttonCallbacks[t.name]) && (t.onUpCallback = this.buttonCallbacks[t.name])
			}, e.prototype.debugDrawUIElementBounds = function(e) {
				for (var i in t.prototype.debugDrawUIElementBounds.call(this, e), this.page) o.Util.isValid(this.page[i]) && this.page[i].debugDrawBounds(e)
			}, e
		}(i(13).Menu);
	e.PaginatedMenu = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(11),
		r = i(6),
		s = i(4),
		l = i(5),
		c = i(23),
		h = i(0),
		u = i(20),
		p = function(t) {
			function e(e, i, n, a, r, s) {
				void 0 === a && (a = {}), void 0 === r && (r = {}), void 0 === s && (s = []);
				var l = t.call(this, e, i, h.Util.isValid(n) ? n : 10, a, ["atlas-128"].concat(s)) || this;
				return l.analyticEvents = null, l.closeButton = null, l.signUpButton = null, l.memberAd = null, l.analyticEvents = {
					conversionFunnelName: o(r, "conversionFunnelName", ""),
					conversionFunnelMetadata: o(r, "conversionFunnelMetadata", ""),
					conversionStage: o(r, "conversionStage", null)
				}, l
			}
			return n(e, t), e.prototype.create = function() {
				var e = this;
				t.prototype.create.call(this), this.closeButton.onClickCallback = function() {
					e.close()
				}, this.signUpButton.onClickCallback = function() {
					e.onMembershipButtonClick()
				}, this.game.broadcaster.addAppListener(l.EWebEvents.POST_MESSAGE_RECEIVED, function(t, i) {
					"membership-flow-closed" === i.name && e.finishUpgrade(i.success)
				}, this, this.game)
			}, e.prototype.preprocess = function(t) {
				this.updateConfigModifierProperty("signUpButton", "visible", t), t || (this.updateConfigModifierProperty("bannerOverlay", "frameName", "banner-overlay1"), this.updateConfigModifierProperty("bodyTextOverlay", "frameName", "body-text-overlay1"))
			}, e.prototype.setMemberAd = function(t) {
				this.memberAd = t
			}, e.prototype.close = function() {
				this.game.broadcaster.removeAppListener(l.EWebEvents.POST_MESSAGE_RECEIVED, this, this.game), h.Util.isValid(this.memberAd) && (this.memberAd.membershipParentOpen = !1), t.prototype.close.call(this)
			}, e.prototype.onMembershipButtonClick = function() {
				h.Util.isValid(this.analyticEvents) && this.game.prodigy.network.sendConversionFunnelEvent(this.analyticEvents.conversionFunnelName, u.EFunnelEventIDs.StageClickParentConfirmation, this.analyticEvents.conversionFunnelMetadata), this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create(this.analyticEvents.conversionFunnelName, u.EFunnelEventIDs.StageClickParentConfirmation).broadcast(), this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).create("member-parent", "conversion", "membership-parent-screen").broadcast();
				var t = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				if (c.Device.isNativeApp()) this.game.prodigy.open.message(t.getText("MEMBER_AD_VISIT_SITE_BODY"));
				else try {
					this.game.prodigy.network.stopInactiveTimer();
					var e = h.Util.isValid(this.game.prodigy.player.username) ? this.game.prodigy.player.username : this.game.prodigy.player.getName(),
						i = this.game.prodigy.player.locationSelectionType === s.GameConstants.get("GameConstants.LocationSelection.HOME");
					if (h.Util.isValid(this.analyticEvents)) {
						var n = 0;
						h.Util.isValid(this.memberAd) && h.Util.isValid(this.memberAd.adID) && (n = this.memberAd.adID), s.GameConstants.get("GameConstants.Build.DEBUG") && s.GameConstants.get("GameConstants.Debug.SKIP_MEMBERSHIP_WEBSITE") ? this.finishUpgrade(s.GameConstants.get("GameConstants.Debug.GIVES_MEMBERSHIP_AFTER_SKIP_WEBSITE")) : prodigyWeb.membershipFlow.open(e, this.game.prodigy.player.userID, void 0, n, this.analyticEvents.conversionFunnelName, i, this.analyticEvents.conversionFunnelMetadata, this.game.prodigy.network.getKey())
					}
				} catch (e) {
					a.Logger.log(e, a.LogLevel.Error), this.game.prodigy.open.message(t.getText("MEMBER_AD_ERROR_BODY"))
				}
			}, e.prototype.finishUpgrade = function(t) {
				var e = this;
				this.game.prodigy.network.startInactiveTimer();
				var i = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				if (t) {
					var n = null;
					this.game.prodigy.player.setMembership(), n = 0 === this.game.prodigy.player.backpack.hasItem("mount", 1) ? this.game.prodigy.player.rewardMembershipPrizes.bind(this, this.game.prodigy.open.menuCloseAll.bind(this, this.game.prodigy.open)) : function() {
						e.game.prodigy.open.menuCloseAll()
					};
					var o = this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.SessionRecorder);
					this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.FeatureFlagProvider).isRecordingFeature("member-subscription-started") && (o.isRecording() && o.stopRecording(), o.startRecording("member-subscription-started")), this.game.prodigy.open.membershipSuccess("paid", n), this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("new-member", {}), this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).create("new-member", "upgrade", "finished").broadcast(), h.Util.isValid(this.analyticEvents.conversionStage) && h.Util.isValid(this.analyticEvents.conversionFunnelName) && this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create(this.analyticEvents.conversionFunnelName, this.analyticEvents.conversionStage).broadcast()
				} else this.game.prodigy.open.message(i.getText("MEMBER_AD_PURCHASE_FAILED_BODY"))
			}, e
		}(i(13).Menu);
	e.MembershipParent = p
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		a = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		o = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var r = i(1),
		s = i(9),
		l = i(925),
		c = i(6),
		h = i(99),
		u = i(0),
		p = function() {
			function t(t) {
				this.jsonData = {}, this.environment = null, this.environment = t
			}
			return t.prototype.initializeWithJson = function(t) {
				this.jsonData = l(t, function(t, e) {
					return t[e.name] = "json" === e.type ? JSON.parse(e.value) : e.value, t
				}, {})
			}, t.prototype.getValue = function(t, e) {
				return void 0 === e && (e = null), u.Util.isValid(this.jsonData[t]) ? this.jsonData[t] : (r.Logger.log("Could not find feature flag value for key: " + t + ". Returning the default: " + e, r.LogLevel.Warning), e)
			}, t.prototype.getDataURI = function() {
				return this.environment.getCurrentEnvironment() === h.EEnvironment.Production ? "" + this.getValue("gameDataPath") + this.getValue("gameDataVersion") + "/data.json?v=" + (new Date).getTime() : this.getValue("gameDataPath") + "data.json?v=" + (new Date).getTime()
			}, t.prototype.getMultiplayerClusterForWorld = function(t) {
				var e = this.getValue("multiplayerClusterLocations");
				return u.Util.isValid(e) ? e[t % e.length] : null
			}, t.prototype.isEventEnabled = function(t) {
				var e = this.getValue("enabledEvents");
				return null !== e && !0 === e[t]
			}, t.prototype.isRecordingFeature = function(t) {
				var e = this.getValue("recordingFeatures");
				return null !== e && !0 === e[t]
			}, t = n([s.injectable(), o(0, s.inject(c.EProdigyInjectionIdentifiers.EnvironmentProvider)), a("design:paramtypes", [Object])], t)
		}();
	e.JsonFeatureFlagsProvider = p
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(5),
		o = i(0),
		r = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e.groupID = 0, e.tabID = 0, e
			}
			return n(e, t), e.prototype.populate = function(e) {
				t.prototype.populate.call(this, e), o.Util.isValid(e.groupID) && (this.groupID = e.groupID), o.Util.isValid(e.tabID) && (this.tabID = e.tabID), o.Util.isValid(this.broadcasts) || (this.broadcasts = []), this.broadcasts.push({
					type: a.EUIEvents.TabButtonClicked,
					params: [this.groupID, this.tabID]
				}), this.game.broadcaster.addAppListener(a.EUIEvents.TabSelected, this.onTabSelected.bind(this), this, this.game.prodigy.open.menus[this.game.prodigy.open.menus.length - 1])
			}, e.prototype.onTabSelected = function(t, e) {
				this.setActive(!(this.groupID === t && this.tabID === e))
			}, e
		}(i(62).Button);
	e.TabButton = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(5),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i) || this;
				return n.groupID = 0, n.tabID = 0, n
			}
			return n(e, t), e.prototype.populate = function(e) {
				t.prototype.populate.call(this, e), o.Util.isValid(e.groupID) && (this.groupID = e.groupID), o.Util.isValid(e.tabID) && (this.tabID = e.tabID), this.game.broadcaster.addAppListener(a.EUIEvents.TabButtonClicked, this.checkTabClick.bind(this), this, this.game.prodigy.open.menus[this.game.prodigy.open.menus.length - 1], !1)
			}, e.prototype.checkTabClick = function(t, e) {
				this.visible = this.groupID === t && this.tabID === e, this.visible && this.select()
			}, e.prototype.select = function() {
				this.game.broadcaster.broadcast(a.EUIEvents.TabSelected, this.game.prodigy.open.menus[this.game.prodigy.open.menus.length - 1], [this.groupID, this.tabID])
			}, e
		}(i(27).UIElement);
	e.Tab = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, i) || this
			}
			return n(e, t), e.prototype.create = function() {
				t.prototype.create.call(this), this.sprite = this.gameObject.add(this.gameObject.game.add.sprite(0, 0, "", "")), this.updateSource()
			}, e.prototype.postLoad = function(t, e) {
				e && this.sprite.alive && (this.updateSpriteSource(), this.onLoaded.dispatch())
			}, e.prototype.setAnchor = function(t, e) {
				this.sprite.anchor.set(t, e)
			}, e.prototype.setScale = function(t, e) {
				this.sprite.scale.set(t, e)
			}, e.prototype.getScale = function() {
				return this.sprite.scale
			}, e.prototype.getWorld = function() {
				return this.sprite.world
			}, e.prototype.getWidth = function() {
				return this.sprite.width
			}, e.prototype.getHeight = function() {
				return this.sprite.height
			}, e.prototype.setAlpha = function(t) {
				this.sprite.alpha = t
			}, e.prototype.draggingStopped = function() {
				this.resetAfterDrag && (this.gameObject.x += this.sprite.x, this.gameObject.y += this.sprite.y, this.sprite.x = 0, this.sprite.y = 0)
			}, e.prototype.getEvents = function() {
				return this.sprite.events
			}, e.prototype.setInputEnabled = function(t) {
				void 0 === t && (t = !0), a.Util.isValid(this.sprite) && (this.sprite.inputEnabled = !0, t ? this.sprite.events.onDragStop.add(this.draggingStopped, this, -99) : this.sprite.events.onDragStop.remove(this.draggingStopped, this))
			}, e.prototype.enableDragging = function(t, e, i, n) {
				this.sprite.inputEnabled && (this.sprite.input.enableDrag(t, e), void 0 !== i && void 0 !== n && this.sprite.input.enableSnap(i, n))
			}, e.prototype.disableDragging = function() {
				this.sprite.inputEnabled && this.sprite.input.disableDrag()
			}, e.prototype.getBounds = function() {
				var t = this.sprite.getBounds();
				return new Phaser.Rectangle(t.x, t.y, t.width, t.height)
			}, e.prototype.resetToOrigin = function() {
				this.sprite.x = 0, this.sprite.y = 0
			}, e.prototype.setAsset = function(t, e) {
				"singleImage" === e.type && (this.source = t, this.metadata = e, this.updateSource())
			}, e.prototype.updateSource = function() {
				this.gameObject.game.cache.checkImageKey(this.source) ? (this.updateSpriteSource(), this.onLoaded.dispatch()) : this.gameObject.game.prodigy.load.assets([this.source], this.postLoad.bind(this))
			}, e.prototype.updateSpriteSource = function() {
				this.sprite.loadTexture(this.source)
			}, e.prototype.getInputHandler = function() {
				return a.Util.isValid(this.sprite) ? this.sprite.input : null
			}, e
		}(i(56).Renderer);
	e.SpriteRenderer = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(11),
		r = i(4),
		s = i(0),
		l = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i) || this;
				n.spine = null, n.spineInputSource = null, n.inputSprite = null, n.inputGroup = null;
				var a = n.metadata;
				return n.anchor = new Phaser.Point(0, 0), s.Util.isValid(a.anchor) ? n.spineAnchor = new Phaser.Point(s.Util.isValid(a.anchor.x) ? a.anchor.x : .5, s.Util.isValid(a.anchor.y) ? a.anchor.y : 0) : n.spineAnchor = new Phaser.Point(.5, 0), n.spineInputSource = null, n.inputSprite = null, n.dragOffset = new Phaser.Point(0, 0), n
			}
			return n(e, t), e.prototype.create = function() {
				t.prototype.create.call(this), this.updateSource()
			}, e.prototype.postLoad = function(t, e) {
				e && (this.updateSpineSource(), this.onLoaded.dispatch())
			}, e.prototype.updateSource = function() {
				s.Util.isValid(this.source) && (this.gameObject.game.cache.checkJSONKey(this.source) && this.gameObject.game.cache.checkImageKey(this.source + ".png") && this.gameObject.game.cache.checkTextKey(this.source + "Atlas") ? (this.updateSpineSource(), this.onLoaded.dispatch()) : this.gameObject.game.prodigy.load.assets([this.source], this.postLoad.bind(this)))
			}, e.prototype.updateSpineSource = function() {
				if (!s.Util.isValid(this.spine) && s.Util.isValid(this.gameObject.game)) {
					this.spine = this.gameObject.game.add.spine(0, 0, this.source, void 0, this.gameObject), this.spine.setToSetupPose();
					var t = this.spine.skeleton.findSlot("input_hitbox");
					s.Util.isValid(t) && (this.spineInputSource = t.currentSprite, this.spineInputSource.alpha = 0, this.dragOffset.setTo(t.attachment.x, t.attachment.y), this.inputGroup = this.gameObject.game.add.group(this.gameObject), this.inputGroup.position.setTo(t.attachment.x, t.attachment.y), this.inputSprite = this.inputGroup.add(this.gameObject.game.add.sprite(0, 0, "atlas-18", "empty")), this.inputSprite.width = this.spineInputSource.width, this.inputSprite.height = this.spineInputSource.height, this.inputSprite.anchor.setTo(this.spineInputSource.anchor.x, this.spineInputSource.anchor.y)), this.resetToOrigin()
				}
			}, e.prototype.setAsset = function(t, e) {
				"spine" === e.type && (this.source = t, this.metadata = e, this.spine.destroy(), this.spine = null, this.updateSource())
			}, e.prototype.setAnchor = function(t, e) {
				var i = this.getAnchorOffset(),
					n = this.getSpineAnchorOffset();
				this.anchor.x = t, this.anchor.y = e, s.Util.isValid(this.spine) && this.setPosition(this.spine.x + i.x - n.x, this.spine.y + i.y - n.y)
			}, e.prototype.setScale = function(t, e) {
				if (s.Util.isValid(this.spine)) {
					var i = this.getAnchorOffset(),
						n = this.getSpineAnchorOffset();
					this.spine.scale.x = t, this.spine.scale.y = e, this.setPosition(this.spine.x + i.x - n.x, this.spine.y + i.y - n.y)
				} else this.onLoaded.addOnce(this.setScale, this, 0, t, e)
			}, e.prototype.getScale = function() {
				return s.Util.isValid(this.spine) ? this.spine.scale : t.prototype.getScale.call(this)
			}, e.prototype.setAlpha = function(t) {
				if (s.Util.isValid(this.spine))
					for (var e = this.spine.skeleton, i = 0; i < e.slots.length; ++i) {
						var n = e.slots[i].currentSprite;
						s.Util.isValid(n) && n !== this.spineInputSource && (n.alpha = t)
					} else this.onLoaded.addOnce(this.setAlpha, this, 0, t)
			}, e.prototype.getWorld = function() {
				return s.Util.isValid(this.inputSprite) ? Phaser.Point.add(this.gameObject.position, this.inputSprite.position) : this.gameObject.position
			}, e.prototype.getWidth = function() {
				return s.Util.isValid(this.spine) ? this.spine.width : 0
			}, e.prototype.getHeight = function() {
				return s.Util.isValid(this.spine) ? this.spine.height : 0
			}, e.prototype.getEvents = function() {
				return s.Util.isValid(this.inputSprite) ? this.inputSprite.events : null
			}, e.prototype.setInputEnabled = function(t) {
				void 0 === t && (t = !0), s.Util.isValid(this.spine) ? s.Util.isValid(this.inputSprite) ? (this.inputSprite.inputEnabled = t, t ? (this.inputSprite.events.onDragUpdate.add(this.draggingUpdated, this), this.inputSprite.events.onDragStop.add(this.draggingStopped, this, -99)) : (this.inputSprite.events.onDragUpdate.remove(this.draggingUpdated, this), this.inputSprite.events.onDragStop.remove(this.draggingStopped, this))) : a.Logger.log("This spine renderer does not have an input_hitbox bone", a.LogLevel.Verbose) : this.onLoaded.addOnce(this.setInputEnabled, this, 0, t)
			}, e.prototype.getInputHandler = function() {
				return s.Util.isValid(this.inputSprite) ? this.inputSprite.input : null
			}, e.prototype.setPosition = function(t, e) {
				if (s.Util.isValid(this.spine)) {
					var i = this.getSpineObjectOffset();
					this.spine.position.setTo(t - i.x, e - i.y), s.Util.isValid(this.inputSprite) && s.Util.isValid(this.inputGroup) && (this.inputGroup.position.setTo(this.spine.x - this.dragOffset.x, this.spine.y - this.dragOffset.y), this.inputSprite.position.setTo(0, 0))
				} else this.onLoaded.addOnce(this.setPosition, this, 0, t, e)
			}, e.prototype.getSpineObjectOffset = function() {
				return Phaser.Point.subtract(this.getAnchorOffset(), this.getSpineAnchorOffset())
			}, e.prototype.getAnchorOffset = function() {
				return s.Util.isValid(this.spine) ? new Phaser.Point(this.spine.skeletonData.width * this.anchor.x, this.spine.skeletonData.height * this.anchor.y) : new Phaser.Point
			}, e.prototype.getSpineAnchorOffset = function() {
				return s.Util.isValid(this.spine) ? new Phaser.Point(this.spine.skeletonData.width * this.spineAnchor.x, this.spine.skeletonData.height * this.spineAnchor.y) : new Phaser.Point
			}, e.prototype.resetToOrigin = function() {
				this.setPosition(0, 0)
			}, e.prototype.enableDragging = function(t, e, i, n) {
				s.Util.isValid(this.inputSprite) ? this.inputSprite.inputEnabled && (this.inputSprite.input.enableDrag(t, e), void 0 !== i && void 0 !== n && this.inputSprite.input.enableSnap(i, n)) : a.Logger.log("Tried to enable dragging on a spine renderer without input_hitbox slot", a.LogLevel.Verbose)
			}, e.prototype.disableDragging = function() {
				s.Util.isValid(this.inputSprite) ? this.inputSprite.inputEnabled && this.inputSprite.input.disableDrag() : a.Logger.log("Tried to disable dragging on a spine renderer without input_hitbox slot", a.LogLevel.Verbose)
			}, e.prototype.getBounds = function() {
				var t = this.getWorld();
				return new Phaser.Rectangle(t.x, t.y, this.getWidth(), this.getHeight())
			}, e.prototype.draggingUpdated = function() {
				this.spine.position = Phaser.Point.subtract(this.inputSprite.position, this.getSpineObjectOffset())
			}, e.prototype.draggingStopped = function() {
				this.resetAfterDrag && (this.gameObject.position = Phaser.Point.add(this.inputSprite.position, this.gameObject.position), this.setPosition(0, 0))
			}, e.prototype.hasAnimations = function() {
				return o(this.metadata, "animated", !1)
			}, e.prototype.getAnimationLength = function(t) {
				if (s.Util.isValid(this.spine)) {
					var e = this.spine.skeletonData.findAnimation(t);
					if (null !== e) return e.duration
				}
				return 0
			}, e.prototype.playAnimation = function(t, e, i) {
				void 0 === e && (e = !1), void 0 === i && (i = 0), s.Util.isValid(this.spine) ? (this.spine.setAnimationByName(0, t, e), this.spine.setToSetupPose(), this.spine.state.tracks[0].time = i) : this.onLoaded.addOnce(this.playAnimation, this, -r.GameConstants.MAX_SAFE_INTEGER, t, e, i)
			}, e.prototype.setSkinByName = function(t) {
				s.Util.isValid(this.spine) ? this.spine.setSkinByName(t) : this.onLoaded.addOnce(this.setSkinByName, this, 0, t)
			}, e
		}(i(56).Renderer);
	e.SpineRenderer = l
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t() {}
		return t.createBox = function(t, e, i, n, a, o, r, s) {
			var l = t.add.graphics(0, 0, s);
			return l.beginFill(o, r), l.lineTo(n, 0), l.lineTo(n, a), l.lineTo(0, a), l.lineTo(0, 0), l.x = e, l.y = i, l.endFill(), l
		}, t
	}();
	e.DrawUtil = n
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			t.Top = "-top", t.Bottom = "-bottom", t.Left = "-left", t.Right = "-right", t.Middle = "-middle", t.TopLeft = "-topLeft", t.TopRight = "-topRight", t.BottomLeft = "-bottomLeft", t.BottomRight = "-bottomRight"
		}(e.ESlicedGraphicDirection || (e.ESlicedGraphicDirection = {}))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(0),
		r = i(308),
		s = i(181),
		l = i(310),
		c = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e.images = [], e.sliceType = "", e.isVertical = !1, e.rotateSprites = !1, e
			}
			return n(e, t), e.prototype.populate = function(e) {
				t.prototype.populate.call(this, e);
				var i = o.Util.isValid(e.baseFrameName) ? e.baseFrameName : "";
				if (this.atlasID = o.Util.isValid(e.atlasID) ? e.atlasID : 144, this.isVertical = !!o.Util.isValid(e.isVertical) && e.isVertical, this.rotateSprites = !o.Util.isValid(e.rotateSprites) || e.rotateSprites, o.Util.isValid(e.sliceType) ? this.sliceType = e.sliceType : a.Logger.log("SlicedGraphic.populate - no sliceType provided for SlicedGraphic named: " + this.name + ". This SlicedGraphic won't render.", a.LogLevel.Error), this.createImage("atlas-" + this.atlasID, i), o.Util.isValid(e.tint))
					for (var n = 0; n < this.images.length; n++) this.images[n].tint = e.tint
			}, e.prototype.createImage = function(t, e) {
				"three" === this.sliceType ? this.create3SlicedImages(t, e) : "threeScale" === this.sliceType ? this.create3SlicedImagesScaled(t, e) : "nine" === this.sliceType ? this.create9SlicedImages(t, e) : "nineScale" === this.sliceType ? this.create9SlicedImagesScaled(t, e) : a.Logger.log("SlicedGraphic.populate - no definition for sliceType: " + this.sliceType + " for SlicedGraphic named: " + this.name + ". This SlicedGraphic won't render.", a.LogLevel.Error), this.disableSmoothing()
			}, e.prototype.resize = function(t, e) {
				for (var i = 0; i < this.images.length; i++) this.images[i].x = 0, this.images[i].y = 0, this.images[i].scale.x = 1, this.images[i].scale.y = 1;
				if ("nineScale" === this.sliceType) {
					var n = {
						width: this.images[0].width,
						height: this.images[0].height
					};
					this.images[0].x = 0, this.images[0].y = 0, this.images[1].x = t - n.width, this.images[1].y = 0, this.images[2].x = t - n.width, this.images[2].y = e - n.height, this.images[3].x = 0, this.images[3].y = e - n.height;
					var a = this.images[1].x - n.width,
						o = this.images[3].y - n.height;
					this.images[4].x = n.width, this.images[4].y = 0, this.images[4].scale.x = a / this.images[4].width, this.images[5].x = n.width, this.images[5].y = this.images[2].y, this.images[5].scale.x = a / this.images[5].width, this.images[6].x = 0, this.images[6].y = n.height, this.images[6].scale.y = o / this.images[6].height, this.images[7].x = this.images[1].x, this.images[7].y = n.height, this.images[7].scale.y = o / this.images[7].height, this.images[8].x = n.width, this.images[8].y = n.height, this.images[8].scale.x = a / this.images[8].width, this.images[8].scale.y = o / this.images[8].height
				} else if ("threeScale" === this.sliceType) {
					var r = this.images[0].width;
					if (this.isVertical) this.images[2].y = r, this.images[1].y = e - r, this.images[2].scale.x = (this.images[1].y - r + 1) / this.images[2].width;
					else {
						var s = this.images[0].width;
						this.images[2].x = s, this.images[1].x = t - s, this.images[2].scale.x = (this.images[1].x - s + 1) / this.images[2].width
					}
				}
			}, e.prototype.setActive = function(e) {
				for (var i = e ? 16777215 : 5789784, n = 0; n < this.images.length; n++) this.images[n].tint = i;
				t.prototype.setActive.call(this, e)
			}, e.prototype.setClickable = function(t, e, i, n) {
				if (o.Util.isValid(t))
					for (var a = null, r = 0; r < this.images.length; r++)(a = this.images[r]).inputEnabled = !0, t && a.events.onInputDown.add(t), e && a.events.onInputUp.add(e), i && a.events.onInputOver.add(i), n && a.events.onInputOut.add(n)
			}, e.prototype.getTopImageFrames = function(t) {
				return ["" + t + r.ESlicedGraphicDirection.Top]
			}, e.prototype.getBottomImageFrames = function(t) {
				return ["" + t + r.ESlicedGraphicDirection.Bottom]
			}, e.prototype.getLeftImageFrames = function(t) {
				return ["" + t + r.ESlicedGraphicDirection.Left]
			}, e.prototype.getRightImageFrames = function(t) {
				return ["" + t + r.ESlicedGraphicDirection.Right]
			}, e.prototype.getMiddleImageFrames = function(t) {
				return ["" + t + r.ESlicedGraphicDirection.Middle]
			}, e.prototype.createTopImages = function(t, e, i, n) {
				return l.UIUtil.floodFillImages(this.game, this, t, e, i, ["" + n + r.ESlicedGraphicDirection.Top])
			}, e.prototype.createBottomImages = function(t, e, i, n) {
				return l.UIUtil.floodFillImages(this.game, this, t, e, i, ["" + n + r.ESlicedGraphicDirection.Bottom])
			}, e.prototype.createLeftImages = function(t, e, i, n) {
				return l.UIUtil.floodFillImages(this.game, this, t, e, i, ["" + n + r.ESlicedGraphicDirection.Left])
			}, e.prototype.createRightImages = function(t, e, i, n) {
				return l.UIUtil.floodFillImages(this.game, this, t, e, i, ["" + n + r.ESlicedGraphicDirection.Right])
			}, e.prototype.createMiddleImages = function(t, e, i, n) {
				return l.UIUtil.floodFillImages(this.game, this, t, e, i, ["" + n + r.ESlicedGraphicDirection.Middle])
			}, e.prototype.create9SlicedImages = function(t, e) {
				var i = this.add(new Phaser.Image(this.game, 0, 0, t, "" + e + r.ESlicedGraphicDirection.TopLeft)),
					n = {
						width: i.width,
						height: i.height
					};
				this.images.push(i), i = this.add(new Phaser.Image(this.game, this.width - n.width, 0, t, "" + e + r.ESlicedGraphicDirection.TopRight)), this.images.push(i), i = this.add(new Phaser.Image(this.game, this.width - n.width, this.height - n.height, t, "" + e + r.ESlicedGraphicDirection.BottomRight)), this.images.push(i), i = this.add(new Phaser.Image(this.game, 0, this.height - n.height, t, "" + e + r.ESlicedGraphicDirection.BottomLeft)), this.images.push(i), this.images = this.images.concat(this.createTopImages({
					x: n.width,
					y: 0
				}, {
					x: this.width - n.width,
					y: 0
				}, t, e)), this.images = this.images.concat(this.createBottomImages({
					x: n.width,
					y: this.height - n.height
				}, {
					x: this.width - n.width,
					y: this.height - n.height
				}, t, e)), this.images = this.images.concat(this.createLeftImages({
					x: 0,
					y: n.height
				}, {
					x: 0,
					y: this.height - n.height
				}, t, e)), this.images = this.images.concat(this.createRightImages({
					x: this.width - n.width,
					y: n.height
				}, {
					x: this.width - n.width,
					y: this.height - n.height
				}, t, e)), this.images = this.images.concat(this.createMiddleImages({
					x: n.width,
					y: n.height
				}, {
					x: this.width - n.width,
					y: this.height - n.height
				}, t, e))
			}, e.prototype.create9SlicedImagesScaled = function(t, e) {
				var i = this.add(new Phaser.Image(this.game, 0, 0, t, "" + e + r.ESlicedGraphicDirection.TopLeft)),
					n = {
						width: i.width,
						height: i.height
					};
				this.images.push(i), i = this.add(new Phaser.Image(this.game, this.width - n.width, 0, t, "" + e + r.ESlicedGraphicDirection.TopRight)), this.images.push(i), i = this.add(new Phaser.Image(this.game, this.width - n.width, this.height - n.height, t, "" + e + r.ESlicedGraphicDirection.BottomRight)), this.images.push(i), i = this.add(new Phaser.Image(this.game, 0, this.height - n.height, t, "" + e + r.ESlicedGraphicDirection.BottomLeft)), this.images.push(i);
				var a = this.images[1].x - n.width,
					o = this.images[3].y - n.height,
					s = this.add(new Phaser.Image(this.game, n.width, 0, t, "" + e + r.ESlicedGraphicDirection.Top));
				s.scale.x = a / s.width;
				var l = this.add(new Phaser.Image(this.game, n.width, this.images[2].y, t, "" + e + r.ESlicedGraphicDirection.Bottom));
				l.scale.x = a / l.width;
				var c = this.add(new Phaser.Image(this.game, 0, n.height, t, "" + e + r.ESlicedGraphicDirection.Left));
				c.scale.y = o / c.height;
				var h = this.add(new Phaser.Image(this.game, this.images[1].x, n.height, t, "" + e + r.ESlicedGraphicDirection.Right));
				h.scale.y = o / h.height;
				var u = this.add(new Phaser.Image(this.game, n.width, n.height, t, "" + e + r.ESlicedGraphicDirection.Middle));
				u.scale.x = a / u.width, u.scale.y = o / u.height, this.images.push(s), this.images.push(l), this.images.push(c), this.images.push(h), this.images.push(u)
			}, e.prototype.create3SlicedImages = function(t, e) {
				var i = new Phaser.Image(this.game, 0, 0, t, "" + e + r.ESlicedGraphicDirection.Left);
				this.isVertical && (i.y = this.height - i.height), this.add(i);
				var n = i.width;
				if (this.images.push(i), i = new Phaser.Image(this.game, this.width - n, 0, t, "" + e + r.ESlicedGraphicDirection.Right), this.isVertical && (i.x = 0), this.add(i), this.images.push(i), this.isVertical) {
					this.images = this.images.concat(this.createMiddleImages({
						x: 0,
						y: i.height
					}, {
						x: 0,
						y: this.height - i.height
					}, t, e));
					for (var a = 0; a < this.images.length; a++) this.images[a].angle = 270, this.images[a].y += this.images[a].height
				} else this.images = this.images.concat(this.createMiddleImages({
					x: n,
					y: 0
				}, {
					x: this.width - n,
					y: 0
				}, t, e))
			}, e.prototype.create3SlicedImagesScaled = function(t, e) {
				if (this.isVertical)
					if (this.rotateSprites) {
						var i = (a = this.add(new Phaser.Image(this.game, 0, 0, t, e + "-left"))).width;
						a.angle = 90, this.images.push(a), (a = this.add(new Phaser.Image(this.game, 0, this.height - i, t, e + "-right"))).angle = 90, this.images.push(a), (n = this.add(new Phaser.Image(this.game, 0, i, t, e + "-middle"))).angle = 90, this.images.push(n), n.scale.x = (a.y - i) / n.width
					} else {
						i = (a = this.add(new Phaser.Image(this.game, 0, 0, t, e + "-left"))).height;
						this.images.push(a), a = this.add(new Phaser.Image(this.game, 0, this.height - i, t, e + "-right")), this.images.push(a);
						var n = this.add(new Phaser.Image(this.game, 0, i, t, e + "-middle"));
						this.images.push(n), n.scale.y = (a.y - i) / n.height
					}
				else {
					var a, o = (a = this.add(new Phaser.Image(this.game, 0, 0, t, "" + e + r.ESlicedGraphicDirection.Left))).width;
					this.images.push(a), a = this.add(new Phaser.Image(this.game, this.width - o, 0, t, "" + e + r.ESlicedGraphicDirection.Right)), this.images.push(a);
					n = this.add(new Phaser.Image(this.game, o, 0, t, "" + e + r.ESlicedGraphicDirection.Middle));
					this.images.push(n), n.scale.x = (a.x - o) / n.width
				}
			}, e.prototype.disableSmoothing = function() {
				for (var t = 0; t < this.images.length; t++) this.images[t].smoothed = !1
			}, e.prototype.setFrameName = function(t) {
				for (var e = 0; e < this.images.length; e++) o.Util.isValid(this.images[e].frameName) && (this.images[e].frameName = t + this.images[e].frameName.substr(this.images[e].frameName.lastIndexOf("-"), this.images[e].frameName.length))
			}, e
		}(s.GraphicBase);
	e.SlicedGraphic = c
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t() {}
		return t.floodFillImages = function(t, e, i, n, a, o) {
			var r = [],
				s = o[0],
				l = new Phaser.Image(t, i.x, i.y, a, s),
				c = l.width,
				h = l.height;
			l.destroy();
			for (var u = Math.max(1, Math.ceil((n.x - i.x) / c)), p = Math.max(1, Math.ceil((n.y - i.y) / h)), d = 0; d < u; d++)
				for (var g = 0; g < p; g++) s = o[Math.floor(Math.random() * o.length)], l = e.add(new Phaser.Image(t, i.x + d * c, i.y + g * h, a, s)), r.push(l);
			return r
		}, t
	}();
	e.UIUtil = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(0),
		r = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e.sprites = [], e.boundsWidth = 1280, e.fontSize = 20, e.textAlignment = "center", e.fontID = 10, e.fontName = "", e.lineHeight = null, e.monoSpace = 10, e.iconOffsetY = 0, e.forceUpperCase = !1, e.numberOfLines = 1, e.verticalAlign = "top", e.tint = 16777215, e.icon = null, e
			}
			return n(e, t), e.prototype.populate = function(e) {
				t.prototype.populate.call(this, e), this.sprites = [], this.boundsWidth = o.Util.isValid(e.width) ? e.width : 1280, this.fontSize = o.Util.isValid(e.fontSize) ? e.fontSize : 20, this.textAlignment = o.Util.isValid(e.horizontalAlignment) ? e.horizontalAlignment : "center", this.fontID = o.Util.isValid(e.fontID) ? e.fontID : 10, this.fontName = "atlas-" + this.fontID, this.lineHeight = e.lineHeight, this.monoSpace = e.monoSpace, this.iconOffsetY = o.Util.isValid(e.iconOffsetY) ? e.iconOffsetY : 0, this.forceUpperCase = !!o.Util.isValid(e.forceUpperCase) && e.forceUpperCase, this.numberOfLines = 1, this.verticalAlign = o.Util.isValid(e.verticalAlignment) ? e.verticalAlignment : "top", this.tint = o.Util.isValid(e.tint) ? parseInt(e.tint) : 16777215, o.Util.isValid(e.text) ? this.setText(e.text) : o.Util.isValid(e.textKey) && this.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(e.textKey))
			}, e.prototype.setText = function(t) {
				if (o.Util.isValid(this.game)) {
					var e = t;
					this.forceUpperCase && (e = e.toUpperCase());
					for (var i = 0, n = null, a = 0, r = 0, s = 0, l = [], c = 0; c < this.sprites.length; c++) this.sprites[c].kill();
					o.Util.isValid(this.icon) && this.icon.destroy(), this.numberOfLines = 1;
					for (var h = 0; h < e.length; h++) {
						var u = e.charCodeAt(h),
							p = null;
						if (91 !== u) {
							if (93 === u) p = n, n = null;
							else if (o.Util.isValid(n)) {
								i++, n += e[h];
								continue
							}
							c = h - i;
							var d = o.Util.isValid(this.monoSpace) ? this.monoSpace : 10;
							if (c >= this.sprites.length) {
								var g = this.game.prodigy.create.sprite(a, r, this.fontName);
								this.add(g), this.sprites.push(g)
							} else this.sprites[c].revive();
							if (this.sprites[c].tint = this.tint, this.sprites[c].x = a, this.sprites[c].y = r, o.Util.isValid(p) ? (-1 !== p.indexOf("icon-") ? (this.icon = this.game.prodigy.icon.createIcon(a, r, p, null, null, 40, 40), this.add(this.icon), this.sprites[c] = this.icon) : ("atlas-21" !== this.sprites[c].key && this.sprites[c].loadTexture("atlas-21"), this.sprites[c].frameName = p), this.sprites[c].y += this.iconOffsetY) : (this.sprites[c].key !== this.fontName && this.sprites[c].loadTexture(this.fontName), 10 !== u && (this.sprites[c].frameName = u + "-" + this.fontSize)), 32 === u || h === e.length - 1 || 10 === u) {
								var f = 0 === this.fontSize ? 26 : this.fontSize,
									y = o.Util.isValid(this.lineHeight) ? this.lineHeight : f + 5;
								if (a >= this.boundsWidth) {
									var m = a;
									a = 0, r += y;
									for (var _ = s; _ <= c; _++) this.sprites[_].x = a, this.sprites[_].y = r, "atlas-21" === this.sprites[_].key && (this.sprites[_].y += (this.sprites[_].height - f) / 2), a += o.Util.isValid(this.monoSpace) ? this.monoSpace : this.sprites[_].width;
									l.push(m - a), this.numberOfLines++, "center" === this.textAlignment && (a -= d)
								} else 10 === u && (this.sprites[c].kill(), r += y, a = 0, this.numberOfLines++);
								s = c + 1, 32 === u && (a += d)
							}
							10 !== u && (a += o.Util.isValid(this.monoSpace) ? this.monoSpace : this.sprites[c].width), h === e.length - 1 && l.push(a)
						} else i++, n = ""
					}
					if ("left" !== this.textAlignment) {
						var v = -1,
							E = 0;
						for (h = -1, c = 0; c < this.sprites.length; c++) {
							v !== (g = this.sprites[c]).y && (v = g.y, h++, o.Util.isValid(l[h]) && ("center" === this.textAlignment ? E = Math.floor((this.boundsWidth - l[h]) / 2) : "right" === this.textAlignment && (E = Math.floor(this.boundsWidth - l[h])))), g.x += E
						}
					}
					if (o.Util.isValid(this.verticalAlign) && "top" !== this.verticalAlign && o.Util.isValid(this.sprites[0])) {
						var b = 0,
							O = this.sprites[0].height * this.numberOfLines;
						"center" === this.verticalAlign ? b = Math.round((this.height - O) / 2) : "bottom" === this.verticalAlign && (b = Math.round(this.height - O));
						for (c = 0; c < this.sprites.length; c++) this.sprites[c].y += b
					}
				}
			}, e
		}(i(27).UIElement);
	e.Text = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e.thumbTravelDistance = 0, e.onDragUpdateCallbacks = [], e.trackFrameName = "", e.atlasID = 0, e.thumbSlice = null, e.thumbBeginPos = null, e.isVertical = !0, e
			}
			return n(e, t), e.prototype.populate = function(e) {
				t.prototype.populate.call(this, e), this.trackFrameName = a.Util.isValid(e.trackFrameName) ? e.trackFrameName : "", this.atlasID = a.Util.isValid(e.atlasID) ? e.atlasID : 144, this.isVertical = !a.Util.isValid(e.isVertical) || e.isVertical, e.children = [], this.isVertical ? (e.children.push({
					type: "SlicedGraphic",
					name: this.name + "-track",
					anchorX: .5,
					anchorY: .5,
					relativeX: .5,
					relativeY: .5,
					sliceType: "threeScale",
					isVertical: !0,
					atlasID: this.atlasID,
					baseFrameName: this.trackFrameName,
					relativeWidth: 1,
					height: e.height
				}, {
					type: "SlicedGraphic",
					name: this.name + "-thumb",
					anchorX: .5,
					anchorY: 0,
					relativeX: .3,
					relativeY: 0,
					sliceType: "threeScale",
					isVertical: !0,
					atlasID: this.atlasID,
					baseFrameName: e.thumbFrameName,
					relativeWidth: 1,
					height: e.height / 4
				}), this.thumbTravelDistance = this.height - .25 * e.height) : (e.children.push({
					type: "SlicedGraphic",
					name: this.name + "-track",
					anchorX: .5,
					anchorY: .5,
					relativeX: .5,
					relativeY: .5,
					sliceType: "threeScale",
					isVertical: !1,
					atlasID: this.atlasID,
					baseFrameName: this.trackFrameName,
					relativeHeight: 1,
					width: e.width
				}, {
					type: "SlicedGraphic",
					name: this.name + "-thumb",
					anchorX: 0,
					anchorY: .5,
					relativeX: 0,
					relativeY: .725,
					sliceType: "threeScale",
					isVertical: !1,
					atlasID: this.atlasID,
					baseFrameName: e.thumbFrameName,
					relativeHeight: 1,
					width: e.width / 4
				}), this.thumbTravelDistance = this.width - .25 * e.width)
			}, e.prototype.postPopulate = function() {
				for (var t = 0; t < this.children.length; t++)
					if (this.children[t].name === this.name + "-thumb") {
						this.thumbSlice = this.children[t];
						break
					} this.makeThumbInteractable()
			}, e.prototype.getPercent = function() {
				return 0 === this.thumbTravelDistance ? 0 : (this.isVertical ? this.thumbSlice.y : this.thumbSlice.x) / this.thumbTravelDistance
			}, e.prototype.setPercent = function(t) {
				0 !== this.thumbTravelDistance && (this.isVertical ? (this.thumbSlice.y = Math.min(Math.max(t, 0), 1) * this.thumbTravelDistance, this.thumbSlice.y = Math.round(this.thumbSlice.y)) : (this.thumbSlice.x = Math.min(Math.max(t, 0), 1) * this.thumbTravelDistance, this.thumbSlice.x = Math.round(this.thumbSlice.x)))
			}, e.prototype.setThumbRatio = function(t) {
				if (this.isVertical) {
					var e = this.height * Math.min(t, 1);
					this.thumbSlice.resize(this.thumbSlice.width, e), this.thumbTravelDistance = this.height - e
				} else {
					var i = this.width * Math.min(t, 1);
					this.thumbSlice.resize(i, this.thumbSlice.height), this.thumbTravelDistance = this.width - i
				}
			}, e.prototype.makeThumbInteractable = function() {
				for (var t = 0; t < this.thumbSlice.images.length; t++) {
					var e = this.thumbSlice.images[t];
					e.inputEnabled = !0, e.input.enableDrag(!1), e.input.useHandCursor = !0, e.events.onDragStop.add(this.stopDrag, this), e.input.updateDrag = this.dragThumb.bind(this)
				}
			}, e.prototype.dragThumb = function(t) {
				if (!(this.thumbTravelDistance <= 0)) {
					a.Util.isValid(this.thumbBeginPos) || (this.thumbBeginPos = this.isVertical ? this.thumbSlice.y : this.thumbSlice.x);
					var e = this.thumbBeginPos + (this.isVertical ? t.y - t.positionDown.y : t.x - t.positionDown.x);
					e = Math.min(Math.max(e, 0), this.thumbTravelDistance), this.isVertical ? this.thumbSlice.y = Math.round(e) : this.thumbSlice.x = Math.round(e);
					for (var i = this.getPercent(), n = 0; n < this.onDragUpdateCallbacks.length; n++) this.onDragUpdateCallbacks[n](i)
				}
			}, e.prototype.stopDrag = function() {
				this.thumbBeginPos = null
			}, e
		}(i(27).UIElement);
	e.ScrollBar = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i) || this;
				return n.button = null, n.onUpCallback = null, n.onDownCallback = null, n.onOverCallback = null, n.onOutCallback = null, n.upStateGraphic = null, n.downStateGraphic = null, n.buttonTextGraphic = null, n.isActive = !0, n.state = "up", n.defaultY = 0, n.downStateName = null, n.upStateName = null, n.buttonTextName = null, n.hoverLiftDistance = 0, n.textOffset = 3, n.isToggle = !1, n
			}
			return n(e, t), e.prototype.populate = function(e) {
				t.prototype.populate.call(this, e), this.defaultY = this.y, this.downStateName = e.downStateName, this.upStateName = e.upStateName, this.buttonTextName = e.buttonTextName, this.hoverLiftDistance = e.hoverLiftDistance, this.textOffset = a.Util.getOptionalParameter(e.textOffset, this.textOffset), this.isToggle = e.toggle, this.render(e)
			}, e.prototype.getStateGraphics = function() {
				for (var t = 0; t < this.children.length; t++) a.Util.isValid(this.children[t].name) && this.children[t].name === this.upStateName && (this.upStateGraphic = this.children[t], this.upDefaultY = this.upStateGraphic.y), a.Util.isValid(this.children[t].name) && this.children[t].name === this.downStateName && (this.downStateGraphic = this.children[t], this.downDefaultY = this.downStateGraphic.y), a.Util.isValid(this.buttonTextName) && this.children[t].name === this.buttonTextName && (this.buttonTextGraphic = this.children[t], this.textDefaultY = this.buttonTextGraphic.y)
			}, e.prototype.postPopulate = function() {
				this.getStateGraphics(), this.setButtonState("up")
			}, e.prototype.render = function(t) {
				this.button = new Phaser.Button(this.game, 0, 0, t.ImageKey, null, this, t.overFrame, t.outFrame, t.downFrame, t.upFrame), this.button.width = t.width, this.button.height = t.height, this.button.onInputDown.add(this.onDown.bind(this)), this.button.onInputUp.add(this.onUp.bind(this)), this.button.onInputOver.add(this.onOver.bind(this)), this.button.onInputOut.add(this.onOut.bind(this)), this.button.setSounds(t.overSound, "", t.downSound, "", t.outSound, "", t.upSound, ""), this.add(this.button)
			}, e.prototype.setButtonState = function(t) {
				this.state = t, a.Util.isValid(this.downStateGraphic) && a.Util.isValid(this.upStateGraphic) && (this.downStateGraphic.visible = "down" === t, this.upStateGraphic.visible = !this.downStateGraphic.visible, this.upStateGraphic.y = this.upDefaultY, this.buttonTextGraphic.y = this.textDefaultY, this.downStateGraphic.y = this.downDefaultY, "down" === t ? (this.downStateGraphic.y -= this.hoverLiftDistance, this.buttonTextGraphic.y += this.textOffset) : "over" === t && (this.buttonTextGraphic.y -= this.hoverLiftDistance, this.upStateGraphic.y -= this.hoverLiftDistance))
			}, e.prototype.toggleActive = function() {
				this.isActive = !this.isActive, this.y = this.defaultY
			}, e.prototype.onDown = function() {
				this.visible && this.isActive && (this.game.prodigy.audio.playSFX(18, "pop"), a.Util.isValid(this.onDownCallback) && (this.onDownCallback(), this.isToggle && this.toggleActive()), this.setButtonState("down"))
			}, e.prototype.onUp = function() {
				this.visible && this.isActive && (a.Util.isValid(this.onUpCallback) && "down" === this.state && (this.onUpCallback(), this.isToggle && this.toggleActive()), this.setButtonState("up"))
			}, e.prototype.onOver = function() {
				this.visible && this.isActive && (a.Util.isValid(this.onOverCallback) && this.onOverCallback(), this.setButtonState("over"))
			}, e.prototype.onOut = function() {
				this.visible && this.isActive && (a.Util.isValid(this.onOutCallback) && this.onOutCallback(), this.setButtonState("up"))
			}, e.prototype.setActive = function(t, e) {
				void 0 === e && (e = null), this.button.inputEnabled = t, a.Util.isValid(e) && (this.upStateGraphic.image.tint = e)
			}, e
		}(i(27).UIElement);
	e.PhaserButtonWrapper = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(340),
		r = i(0),
		s = function(t) {
			function e(e, i, n, a, o) {
				void 0 === n && (n = !0), void 0 === a && (a = !1), void 0 === o && (o = []);
				var r = t.call(this, e, 30, i, o) || this;
				return r.yPadding = 5, r.xPadding = 5, r.hasLoaded = !1, r.energyMeterPercentage = 0, r.currentHealth = 0, r.maxHealth = 0, r.displayName = "", r.displayLevel = 0, r.onEnergyChangeComplete = new Phaser.Signal, r.isLTR = n, a && (r.scale.x = 0, r.scale.y = 0, r.visible = !1), r.onLoadComplete.add(function() {
					r.hasLoaded = !0, r.updateEverything(), r.actualSize = new Phaser.Point(r.width, r.height), r.isLTR ? r.positionLTR() : r.positionRTL()
				}, r, -1), r
			}
			return n(e, t), e.prototype.buildAssetList = function(e, i) {
				return void 0 === e && (e = []), t.prototype.buildAssetList.call(this, e, i.concat(["atlas-167"]))
			}, e.prototype.createUIElements = function() {
				t.prototype.createUIElements.call(this), this.healthBarSlider = this.getUiElement("healthBar"), this.healthAmountText = this.getUiElement("healthAmountText"), this.energyMeterFill = this.getUiElement("energyOrbFill"), this.allOutAttackText = this.getUiElement("allOutAttackText"), this.displayLevelText = this.getUiElement("levelText"), this.displayNameText = this.getUiElement("nameText"), this.elementGraphic = this.getUiElement("elementIcon"), this.heartIcon = this.getUiElement("heartIcon"), this.energyMeterFillMask = this.game.add.graphics(0, 0, this.energyMeterFill.parent), this.energyMeterFillMask.beginFill(0), this.energyMeterFillMask.drawRect(0, 0, this.energyMeterFill.width, this.energyMeterFill.height), this.energyMeterFillMask.endFill(), this.energyMeterFillMask.x = this.energyMeterFill.x, this.energyMeterFillMask.y = this.energyMeterFill.y + (this.energyMeterFill.height - 10), this.energyMeterFill.mask = this.energyMeterFillMask
			}, e.prototype.setInfoFromTeam = function(t) {
				var e = t.getCurrentSource();
				this.setEnergyMeterPercentage(t.getCurrentEnergy() / t.getMaxEnergy(), !1), this.setMaxHealth(e.getMaxHearts()), this.setCurrentHealth(e.getCurrentHearts(), !1), this.setNameAndElement(e.getName(), e.getElement()), this.setDisplayLevel(e.getLevel())
			}, e.prototype.setCurrentHealth = function(t, e) {
				var i = this;
				if (void 0 === e && (e = !0), this.currentHealth = t, r.Util.isValid(this.healthBarSlider)) {
					r.Util.isValid(this.healthBarTween) && this.healthBarTween.stop();
					var n = {
							percent: this.healthBarSlider.getPercentageComplete()
						},
						a = 0;
					this.currentHealth > 0 && (a = r.Util.clampedLerp(.01, 1, this.getHealthPercentage(this.currentHealth, this.maxHealth))), e ? (this.healthBarTween = this.game.add.tween(n), this.healthBarTween.to({
						percent: a
					}, 1e3, Phaser.Easing.Cubic.Out), this.healthBarTween.onUpdateCallback(function() {
						i.healthBarSlider.setPercentCompleteOffset(n.percent, -22)
					}), this.healthBarTween.onComplete.add(function() {
						i.healthBarSlider.setPercentCompleteOffset(a, -22)
					}), this.healthBarTween.start()) : this.healthBarSlider.setPercentCompleteOffset(a, -22), this.updateHealthNumberDisplay()
				}
			}, e.prototype.setMaxHealth = function(t) {
				this.maxHealth = t, this.updateHealthNumberDisplay()
			}, e.prototype.setEnergyMeterPercentage = function(t, e) {
				var i = this;
				if (void 0 === e && (e = !0), this.energyMeterPercentage = t, r.Util.isValid(this.energyMeterFill)) {
					r.Util.isValid(this.energyBarTween) && this.energyBarTween.stop();
					var n = Phaser.Math.linear(this.energyMeterFill.y + this.energyMeterFill.height - 9, this.energyMeterFill.y + 9, this.energyMeterPercentage);
					e && this.energyMeterFillMask.y !== n ? (this.energyBarTween = this.game.add.tween(this.energyMeterFillMask), this.energyBarTween.to({
						y: n
					}, 1500, Phaser.Easing.Cubic.Out), this.energyBarTween.start(), this.energyBarTween.onComplete.addOnce(function() {
						i.onEnergyChangeComplete.dispatch(), i.energyBarTween = null, i.energyMeterFillMask.y = n
					})) : (this.energyMeterFillMask.y = n, this.onEnergyChangeComplete.dispatch())
				}
			}, e.prototype.setDisplayName = function(t) {
				this.displayName = t, this.updateName()
			}, e.prototype.setDisplayLevel = function(t) {
				this.displayLevel = t, this.updateLevel()
			}, e.prototype.setNameAndElement = function(t, e) {
				this.displayName = t, this.elementType = r.Util.convertLegacyElements(e), this.updateName(), this.updateElement()
			}, e.prototype.moveOffScreen = function() {
				var t = this.x < 640 ? -(this.width + 300) : 1570;
				this.game.add.tween(this).to({
					x: t
				}, 1400, Phaser.Easing.Quadratic.InOut, !0)
			}, e.prototype.moveOnScreen = function() {
				var t = this;
				if (this.hasLoaded) {
					var e = this.isLTR ? this.xPadding : 1280 - this.actualSize.x - this.xPadding;
					this.game.add.tween(this).to({
						x: e
					}, 1400, Phaser.Easing.Quadratic.InOut, !0)
				} else this.onLoadComplete.add(function() {
					t.moveOnScreen()
				}, this, -2)
			}, e.prototype.positionLTR = function() {
				this.x = -this.width, this.y = this.yPadding
			}, e.prototype.positionRTL = function() {
				for (var t = ["healthBar", "healthAmountText", "energyOrbBack", "nameText", "levelText", "elementIcon", "heartIcon"], e = 0; e < t.length; e++) {
					var i = this.getUiElement(t[e]),
						n = i.x;
					i.x = this.actualSize.x - n - i.width
				}
				this.healthBarSlider.scale.x *= -1, this.healthBarSlider.x -= this.healthBarSlider.width, this.x = this.actualSize.x + 1280, this.y = this.yPadding
			}, e.prototype.setIconToTitanShield = function() {
				this.heartIcon.setImageFrameName("icons/user-bar-shield"), this.heartIcon.y -= 13
			}, e.prototype.updateEverything = function() {
				this.updateName(), this.updateLevel(), this.updateElement(), this.updateHealthNumberDisplay()
			}, e.prototype.updateHealthNumberDisplay = function() {
				r.Util.isValid(this.healthAmountText) && this.healthAmountText.setText(this.currentHealth + " / " + this.maxHealth)
			}, e.prototype.updateName = function() {
				if (r.Util.isValid(this.displayNameText)) {
					var t = this.displayNameText.x + this.displayNameText.width;
					this.displayNameText.setText(this.displayName), this.hasLoaded && !this.isLTR && (this.displayNameText.x = t - this.displayNameText.width)
				}
			}, e.prototype.updateLevel = function() {
				r.Util.isValid(this.displayLevelText) && this.displayLevelText.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BATTLE_STATUS_LEVEL", this.displayLevel))
			}, e.prototype.updateElement = function() {
				if (r.Util.isValid(this.elementGraphic)) {
					var t = "icons/icon-" + r.Util.convertLegacyElements(this.elementType) + "-mini";
					this.elementGraphic.setImageFrameName(t);
					r.Util.isValid(this.displayNameText) && (this.isLTR ? this.elementGraphic.x = this.displayNameText.x + this.displayNameText.width + 10 : this.elementGraphic.x = this.displayNameText.x - this.elementGraphic.width - 10)
				}
			}, e.prototype.getHealthPercentage = function(t, e) {
				return this.maxHealth > 0 ? t / e : 0
			}, e.elementToFrameNameMap = new Map([
				[o.EElementType.Earth, "icons/icon-plant-mini"],
				[o.EElementType.Storm, "icons/icon-storm-mini"],
				[o.EElementType.Fire, "icons/icon-fire-mini"],
				[o.EElementType.Water, "icons/icon-water-mini"],
				[o.EElementType.Wizard, "icons/icon-astral-mini"],
				[o.EElementType.Ice, "icons/icon-ice-mini"],
				[o.EElementType.Shadow, "icons/icon-shadow-mini"]
			]), e
		}(i(182).Overlay);
	e.CharacterStatus = s
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(0),
		o = i(2),
		r = function() {
			function t() {}
			return t.getEncounterRate = function(t) {
				var e = o.Items.getItem("pet", t).data;
				return a.Util.isValid(e) ? a.Util.isValid(e.R) ? e.R : 1 : 0
			}, t.prototype.process = function() {
				for (var t = o.Items.getCategoryItems("pet"), e = [4, 4, 4, 4, 4, 4, 4, 12, 30, 30], i = '<table class="confluenceTable relative-table" data-resize-percent="100" style="width: 100%;">', r = 0; r < e.length; r++) i += '<col data-resize-percent="' + e[r] + '" style="width: ' + e[r] + '%;">';
				i += '</colgroup><tbody><tr><th class="confluenceTh">ID</th><th class="confluenceTh">Icon</th><th class="confluenceTh">Member</th><th class="confluenceTh">Element</th><th class="confluenceTh">Life</th><th class="confluenceTh">Power</th><th class="confluenceTh">Growth</th><th class="confluenceTh">Name</th><th class="confluenceTh">Description</th><th class="confluenceTh">Information</th></tr>';
				for (r = 0; r < t.length; r++) {
					var s = t[r],
						l = ' class="confluenceTd highlight-blue" data-highlight-colour="blue" ';
					r % 2 == 0 && (l = ' class="confluenceTd" '), r++;
					for (var c = "Attacks: ", h = "", u = 0; u < s.data.curve.length; u++) {
						var p = s.data.curve[u];
						if (p.a && (c += o.Items.getItem("spell", p.a - 1).data.name + " (lvl " + p.lvl + "), "), p.evolveID || p.e) h = "Evolves into " + t[a.Util.isValid(p.evolveID) ? p.evolveID : p.e].data.name + " at lvl " + p.lvl
					}
					i += '<tr><td colspan="1" width="" style="text-align: center;" ' + l + "><strong>" + s.ID + '</strong></td><td colspan="1" width=""  ' + l + '><div class="content-wrapper"><p><img class="confluence-embedded-image confluence-thumbnail confluence-external-resource" width="40" src="https://prodigygame.atlassian.net/wiki/download/thumbnails/14549017/' + s.ID + '.png?version=1&amp;modificationDate=1465482321787&amp;api=v2" data-image-src="https://prodigygame.atlassian.net/wiki/download/attachments/14549017/' + s.ID + '.png?version=1&amp;modificationDate=1465482321787&amp;api=v2" data-mce-src="https://prodigygame.atlassian.net/wiki/download/attachments/14549017/' + s.ID + '.png?version=1&amp;modificationDate=1465482321787&amp;api=v2" border="0"><br data-mce-bogus="1"></p></div></td><td colspan="1" width="" ' + l + ' style="text-align: center;">' + (s.data.member ? "yes" : "no") + '</td><td colspan="1" width="" ' + l + ' style="text-align: center;">' + s.data.element + '</td><td colspan="1" width="" ' + l + ' style="text-align: center;">' + s.data.life + '</td><td colspan="1" width="" ' + l + ' style="text-align: center;">' + s.data.power + '</td><td colspan="1" width="" ' + l + ' style="text-align: center;">' + s.data.growth + '</td><td colspan="1" width="" ' + l + "><strong><span 0>" + s.data.name + '</span></strong></td><td colspan="1" width="" ' + l + "><em>" + s.data.flavorText + '</em></td><td colspan="1" width="" ' + l + '><br data-mce-bogus="1"><em>' + c + "<br/>" + h + "</em></td></tr>"
				}
				i += "</tbody></table>", n.Logger.log(i, n.LogLevel.Verbose)
			}, t.epicArena = {
				125: {
					monsters: [
						[68, 12, 47, 98, 101, 104, 11, 119, 100, 33],
						[101, 119, 98, 47, 68, 33, 100, 12, 11, 104],
						[11, 12, 33, 47, 68, 98, 100, 101, 104, 119]
					],
					rewards: [{
						type: "dorm",
						ID: 125
					}, {
						type: "dorm",
						ID: 124
					}, {
						type: "dorm",
						ID: 126
					}]
				},
				126: {
					monsters: [
						[68, 12, 25, 104, 47, 98, 101, 119, 100, 106],
						[98, 101, 25, 119, 106, 68, 100, 104, 12, 47],
						[12, 25, 47, 68, 98, 100, 101, 104, 106, 119]
					],
					rewards: [{
						type: "dorm",
						ID: 121
					}, {
						type: "dorm",
						ID: 122
					}, {
						type: "dorm",
						ID: 123
					}]
				},
				127: {
					monsters: [
						[6, 15, 110, 19, 22, 35, 42, 44, 57, 74],
						[42, 19, 44, 15, 57, 74, 6, 110, 22, 35],
						[110, 22, 74, 22, 15, 42, 44, 19, 6, 57]
					],
					rewards: [{
						type: "dorm",
						ID: 116
					}, {
						type: "dorm",
						ID: 115
					}, {
						type: "dorm",
						ID: 117
					}]
				},
				128: {
					monsters: [
						[24, 64, 120, 23, 37, 38, 65, 76, 9, 112],
						[65, 120, 64, 112, 76, 9, 24, 37, 38, 23],
						[9, 23, 24, 37, 38, 64, 65, 76, 112, 120]
					],
					rewards: [{
						type: "dorm",
						ID: 119
					}, {
						type: "dorm",
						ID: 118
					}, {
						type: "dorm",
						ID: 120
					}]
				},
				129: {
					monsters: [
						[3, 32, 36, 124, 60, 82, 71, 83, 93, 92],
						[60, 71, 124, 36, 3, 92, 32, 93, 83, 82],
						[32, 3, 92, 71, 93, 83, 124, 82, 60, 36]
					],
					rewards: [{
						type: "dorm",
						ID: 128
					}, {
						type: "dorm",
						ID: 127
					}, {
						type: "dorm",
						ID: 129
					}]
				},
				130: {
					monsters: [
						[116, 107, 117, 51, 17, 88, 82, 14, 19, 22],
						[22, 19, 14, 82, 88, 17, 51, 117, 107, 116],
						[82, 14, 19, 22, 116, 107, 117, 51, 17, 88]
					],
					rewards: [{
						type: "dorm",
						ID: 136
					}, {
						type: "dorm",
						ID: 137
					}, {
						type: "dorm",
						ID: 138
					}]
				},
				131: {
					monsters: [
						[49, 34, 121, 24, 37, 97, 39, 76, 9, 112],
						[112, 9, 76, 39, 97, 37, 24, 121, 34, 49],
						[39, 76, 9, 112, 49, 34, 121, 24, 37, 97]
					],
					rewards: [{
						type: "dorm",
						ID: 139
					}, {
						type: "dorm",
						ID: 140
					}, {
						type: "dorm",
						ID: 141
					}]
				},
				132: {
					monsters: [
						[116, 107, 117, 51, 89, 88, 17, 82, 83, 60],
						[88, 17, 82, 83, 60, 116, 107, 117, 51, 89],
						[82, 17, 88, 89, 51, 117, 107, 116, 60, 83]
					],
					rewards: [{
						type: "dorm",
						ID: 142
					}, {
						type: "dorm",
						ID: 143
					}, {
						type: "dorm",
						ID: 144
					}]
				},
				133: {
					monsters: [
						[12, 25, 47, 68, 98, 101, 104, 106, 119, 100],
						[98, 101, 104, 106, 119, 100, 12, 25, 47, 68],
						[47, 68, 98, 101, 104, 106, 119, 100, 12, 25]
					],
					rewards: [{
						type: "dorm",
						ID: 145
					}, {
						type: "dorm",
						ID: 146
					}, {
						type: "dorm",
						ID: 147
					}]
				}
			}, t
		}();
	e.Monsters = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(941),
		a = i(940),
		o = i(0),
		r = function() {
			function t() {
				this.animatedSprites = [], this.dynamicSprites = [], this.disabledLayers = [""], this.disabledLayerIDs = [], this.dynamicLayerContainers = {}, this.contentLayerContainers = {}, this.tempCollisionData = null, this.onLoad = null
			}
			return t.prototype.init = function(t, e, i, n, a, r) {
				this.game = t, this.onLoad = r, this.screen = n, this.above = i, this.below = e, this.dynamicSprites = [], this.dynamicLayerContainers = {}, o.Util.isValid(a) && (this.file = a.mapName), this.assets = ["atlas-110"];
				for (var s = 0; s < this.game.prodigy.skin.active.length; s++) {
					var l = this.game.prodigy.skin.active[s];
					if (l.active(this.zoneName)) {
						var c = l.getOverrideName(this.zoneName);
						o.Util.isValid(c) && (this.file = c)
					}
				}
				if (o.Util.isValid(this.file) && this.assets.push(this.file), o.Util.isValid(this.onLoadInit) && this.game.prodigy.load.loader.onLoadComplete.remove(this.onLoadInit), this.onLoadInit = this.init.bind(this, t, e, i, n, a, r), !this.game.cache.checkJSONKey(this.file)) return this.game.prodigy.load.loader.onLoadComplete.addOnce(this.onLoadInit), this.game.prodigy.load.processFile(this.file), null;
				var h, u = this.game.cache.getJSON(this.file),
					p = this.game.cache.getJSON("map-pathing");
				o.Util.isValid(p) && (h = p.tilesets);
				var d, g, f = [];
				for (s = 0; s < 36; s++) {
					f.push([]);
					for (var y = 0; y < 64; y++) f[s][y] = 1
				}
				for (s = 0; s < u.layers.length; s++) {
					var m = u.layers[s];
					d = m.visible, g = !1;
					for (y = 0; y < this.disabledLayers.length; y++) {
						var _ = this.disabledLayers[y];
						if (m.name === _) {
							d = !1;
							break
						}
					}
					if (o.Util.isValid(m.properties))
						if (g = o.Util.isValid(m.properties.isAbove), o.Util.isValid(m.properties.toggle) || o.Util.isValid(m.properties.dynamicToggle)) {
							var v = o.Util.isValid(m.properties.toggle) ? m.properties.toggle : m.properties.dynamicToggle;
							for (y = 0; y < this.disabledLayerIDs.length; y++) {
								v === (_ = this.disabledLayerIDs[y]) && (d = !1)
							}
						} else o.Util.isValid(m.properties.reference) && (d = !1);
					if (o.Util.isValid(m.properties) && o.Util.isValid(m.properties.dynamicToggle)) {
						if (o.Util.isValid(this.dynamicLayerContainers["element-" + m.properties.dynamicToggle]) || (this.dynamicLayerContainers["element-" + m.properties.dynamicToggle] = {}, this.dynamicLayerContainers["element-" + m.properties.dynamicToggle].above = this.game.prodigy.create.element(this.screen.above, 0, 0), this.dynamicLayerContainers["element-" + m.properties.dynamicToggle].below = this.game.prodigy.create.element(this.screen.below, 0, 0)), g ? this.initLayer(this.dynamicLayerContainers["element-" + m.properties.dynamicToggle].above, m, u.tilesets, h, null) : (this.tempCollisionData = [], this.initLayer(this.dynamicLayerContainers["element-" + m.properties.dynamicToggle].below, m, u.tilesets, h, f)), this.dynamicLayerContainers["element-" + m.properties.dynamicToggle].above.alpha = d ? 1 : 0, this.dynamicLayerContainers["element-" + m.properties.dynamicToggle].below.alpha = d ? 1 : 0, o.Util.isValid(this.tempCollisionData)) {
							o.Util.isValid(this.dynamicLayerContainers["collision-" + m.properties.dynamicToggle]) || (this.dynamicLayerContainers["collision-" + m.properties.dynamicToggle] = []);
							for (y = 0; y < this.tempCollisionData.length; y++) {
								var E = this.tempCollisionData[y];
								this.dynamicLayerContainers["collision-" + m.properties.dynamicToggle].push(E), d || (f[E.y][E.x] = 1)
							}
							this.tempCollisionData = null
						}
					} else if (o.Util.isValid(m.properties) && o.Util.isValid(m.properties.content)) {
						var b = "element-" + m.name;
						this.contentLayerContainers[b] = {}, this.contentLayerContainers[b].content = this.game.prodigy.create.element(this.screen.content, 0, 0), this.initLayer(this.contentLayerContainers[b].content, m, u.tilesets, h, null), this.contentLayerContainers[b].content.alpha = 1;
						for (var O = 0; O < this.contentLayerContainers[b].content.children.length; O++) {
							var I = this.contentLayerContainers[b].content.children[O];
							if (o.Util.isValid(I) && o.Util.isValid(I.frame)) {
								var T = this.game.prodigy.create.element(this.screen.content, I.x, I.y),
									A = this.game.prodigy.create.sprite(0, 0, I.key, I.frame);
								A.anchor.x = .5, A.anchor.y = 1, "tilelayer" === m.type ? I.scale.x > 0 ? (T.x += A.width / 2, T.y += A.height) : (T.scale.x = -1, T.y += A.height / 2) : "objectgroup" === m.type && (T.y += A.height / 2, T.scale.x = I.scale.x), T.add(A)
							}
						}
						this.contentLayerContainers[b].content.destroy()
					} else d && this.initLayer(g ? this.above : this.below, m, u.tilesets, h, g ? null : f)
				}
				return o.Util.isValid(this.onLoad) && this.onLoad(), f
			}, t.prototype.enableLayerID = function(t, e) {
				var i = this.disabledLayerIDs.indexOf(t);
				e ? -1 !== i && this.disabledLayerIDs.splice(i, 1) : -1 === i && (this.disabledLayerIDs.push(t), this.disabledLayerIDs.sort(function(t, e) {
					return t - e
				}))
			}, t.prototype.initLayer = function(t, e, i, n, a) {
				return o.Util.isValid(e) ? o.Util.isValid(e.objects) ? this.initObjectLayer(t, e, i, n, a) : this.initTiledLayer(t, e, i, n, a) : null
			}, t.prototype.initObjectLayer = function(t, e, i, n, a) {
				for (var r = 0; r < e.objects.length; r++) {
					var s = e.objects[r],
						l = this.getTile(s.gid, s.x, s.y, n, a, i, null);
					o.Util.isValid(l) && (l.anchor.setTo(.5, .5), l.x = parseInt(s.x) + 20, l.y = parseInt(s.y) - 20, this.addSpriteToLayer(l, t, e))
				}
				return t
			}, t.prototype.initTiledLayer = function(t, e, i, n, a) {
				for (var r = o.Util.isValid(e.properties) && e.properties.useAnimDuration, s = 0; s < 32; s++)
					for (var l = 0; l < 18; l++) {
						var c = 32 * l + s,
							h = this.getTile(e.data[c], 40 * s, 40 * l, n, a, i, null, r);
						o.Util.isValid(h) && this.addSpriteToLayer(h, t, e)
					}
				return t
			}, t.prototype.getTile = function(t, e, i, r, s, l, c, h) {
				void 0 === h && (h = !1);
				var u = o.Util.isValid(l) ? l : this.game.cache.getJSON(this.file).tilesets,
					p = t,
					d = 0 != (2147483648 & p),
					g = 0 != (1073741824 & p),
					f = 0 != (536870912 & p);
				p &= 536870911;
				var y = this.getTileset(u, p);
				if (!o.Util.isValid(y) || !o.Util.isValid(p)) return null;
				p -= y.firstgid;
				var m, _, v, E = this.getTileProperties(y, p, r);
				if (o.Util.isValid(E) && (m = E.x), _ = o.Util.isValid(y.tiles) && o.Util.isValid(y.tiles[p]) ? new a.TiledSprite(this.game, e, i, y.name, p) : new n.TiledImage(this.game, e, i, y.name, p), (f || g || d) && (_.anchor.setTo(.5, .5), _.x += 20, _.y += 20), f ? (_.angle = -90, o.Util.isValid(E) && (v = E.x[1], v += E.x[3], v += E.x[0], v += E.x[2], E.x = v), _.scale.x = -1, o.Util.isValid(E) && (v = E.x[1], v += E.x[0], v += E.x[3], v += E.x[2], E.x = v), d && (_.scale.y = -_.scale.y, o.Util.isValid(E) && (v = E.x[2], v += E.x[3], v += E.x[0], v += E.x[1], E.x = v)), g && (_.scale.x = -_.scale.x, o.Util.isValid(E) && (v = E.x[1], v += E.x[0], v += E.x[3], v += E.x[2], E.x = v))) : (d && (_.scale.x = -_.scale.x, o.Util.isValid(E) && (v = E.x[1], v += E.x[0], v += E.x[3], v += E.x[2], E.x = v)), g && (_.scale.y = -_.scale.y, o.Util.isValid(E) && (v = E.x[2], v += E.x[3], v += E.x[0], v += E.x[1], E.x = v))), o.Util.isValid(s) && o.Util.isValid(E) && o.Util.isValid(E.x)) {
					var b = E.x,
						O = Math.floor(e / 40),
						I = Math.floor(i / 40);
					1 === parseInt(b[0], 10) && (s[2 * I][2 * O] = 0, o.Util.isValid(this.tempCollisionData) && (this.tempCollisionData.push({
						x: 2 * O,
						y: 2 * I,
						value: 0
					}), _.visible = !1, _.collisionTile = !0)), 1 === parseInt(b[1], 10) && (s[2 * I][2 * O + 1] = 0, o.Util.isValid(this.tempCollisionData) && (this.tempCollisionData.push({
						x: 2 * O + 1,
						y: 2 * I,
						value: 0
					}), _.visible = !1, _.collisionTile = !0)), 1 === parseInt(b[2], 10) && (s[2 * I + 1][2 * O] = 0, o.Util.isValid(this.tempCollisionData) && (this.tempCollisionData.push({
						x: 2 * O,
						y: 2 * I + 1,
						value: 0
					}), _.visible = !1, _.collisionTile = !0)), 1 === parseInt(b[3], 10) && (s[2 * I + 1][2 * O + 1] = 0, o.Util.isValid(this.tempCollisionData) && (this.tempCollisionData.push({
						x: 2 * O + 1,
						y: 2 * I + 1,
						value: 0
					}), _.visible = !1, _.collisionTile = !0)), 6 === parseInt(b[0], 10) && (s[2 * I][2 * O] = 6, o.Util.isValid(this.tempCollisionData) && (this.tempCollisionData.push({
						x: 2 * O,
						y: 2 * I,
						value: 6
					}), _.visible = !1, _.collisionTile = !0)), 6 === parseInt(b[1], 10) && (s[2 * I][2 * O + 1] = 6, o.Util.isValid(this.tempCollisionData) && (this.tempCollisionData.push({
						x: 2 * O + 1,
						y: 2 * I,
						value: 6
					}), _.visible = !1, _.collisionTile = !0)), 6 === parseInt(b[2], 10) && (s[2 * I + 1][2 * O] = 6, o.Util.isValid(this.tempCollisionData) && (this.tempCollisionData.push({
						x: 2 * O,
						y: 2 * I + 1,
						value: 6
					}), _.visible = !1, _.collisionTile = !0)), 6 === parseInt(b[3], 10) && (s[2 * I + 1][2 * O + 1] = 6, o.Util.isValid(this.tempCollisionData) && (this.tempCollisionData.push({
						x: 2 * O + 1,
						y: 2 * I + 1,
						value: 6
					}), _.visible = !1, _.collisionTile = !0))
				}
				if (o.Util.isValid(E) && o.Util.isValid(m) && (E.x = m), o.Util.isValid(s) && c)
					for (O = 0; O < 2; O++)
						for (I = 0; I < 2; I++) s[i / 40 * 2 + O][e / 40 * 2 + I] = 1;
				return this.processTileAnimations(_, y, p, h), _
			}, t.prototype.addSpriteToLayer = function(t, e, i) {
				o.Util.isValid(i.properties) && o.Util.isValid(i.properties.dynamicToggle) ? (this.dynamicSprites.push(t), t.isAbove = o.Util.isValid(i.properties) && o.Util.isValid(i.properties.isAbove), t.dynamicToggle = i.properties.dynamicToggle) : t.isAnimatedSprite ? (this.animatedSprites.push(t), t.isAbove = o.Util.isValid(i.properties) && o.Util.isValid(i.properties.isAbove)) : e.addChild(t)
			}, t.prototype.processAnimations = function(t, e) {
				for (var i = 0; i < this.animatedSprites.length; i++) {
					var n = this.animatedSprites[i];
					n.isAbove ? e.above.add(n) : e.below.add(n)
				}
			}, t.prototype.processTileAnimations = function(t, e, i, n) {
				if (!o.Util.isValid(e.tiles) || !o.Util.isValid(e.tiles[i]) || !o.Util.isValid(e.tiles[i].animation) || e.tiles[i].animation <= 0) return null;
				for (var a = [], r = 0; r < e.tiles[i].animation.length; r++) {
					var s = e.tiles[i].animation[r];
					a.push(s.tileid)
				}
				var l = t.animations.add("tileAnimation", a, 4, !0, !0);
				if (n) {
					var c = [];
					for (r = 0; r < e.tiles[i].animation.length; r++) c.push(e.tiles[i].animation[r].duration);
					l.enableUpdate = !0, l.onUpdate.add(this.processTileAnimUpdate.bind(this, c), null)
				}
				t.isAnimatedSprite = !0, t.animations.play("tileAnimation")
			}, t.prototype.processTileAnimUpdate = function(t, e) {
				var i = e._frameIndex === t.length - 1 ? 0 : e._frameIndex + 1;
				e.delay = t[i]
			}, t.prototype.getTileset = function(t, e) {
				for (var i = 0; i < t.length; i++) {
					var n = t[i];
					if (e >= n.firstgid && e < n.firstgid + n.tilecount) return n
				}
				return null
			}, t.prototype.getTileProperties = function(t, e, i) {
				for (var n = 0; n < i.length; n++) {
					var a = i[n];
					if (a.name === t.name && o.Util.isValid(a.tileproperties)) return a.tileproperties[e]
				}
				return null
			}, t
		}();
	e.TiledMap = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = i(316),
		r = function(t) {
			function e(e, i, n) {
				var a = t.call(this) || this;
				return a.game = e, a.screen = i, a.mapData = n, a.tiledParser = new o.TiledMap, a
			}
			return n(e, t), e.prototype.create = function() {
				t.prototype.create.call(this)
			}, e.prototype.render = function(t) {
				var e = this;
				a.Util.isValid(t) && (this.mapData = t), this.below = this.game.prodigy.create.element(this.screen.background, 0, 0), this.above = this.game.prodigy.create.element(this.screen.foreground, 0, 0);
				var i = this.game.prodigy.create.element(this.screen.background, 0, 0),
					n = this.game.prodigy.create.element(this.screen.foreground, 0, 0);
				this.area = this.tiledParser.init(this.game, i, n, this.screen, this.mapData, function() {
					e.game.prodigy.textureBelow.clear(), e.game.prodigy.textureBelow.renderXY(i, 0, 0, !0), e.below.add(new Phaser.Image(e.game, 0, 0, e.game.prodigy.textureBelow)), e.game.prodigy.textureAbove.clear(), e.game.prodigy.textureAbove.renderXY(n, 0, 0, !0), e.above.add(new Phaser.Image(e.game, 0, 0, e.game.prodigy.textureAbove)), e.tiledParser.processAnimations(e.game, e), i.destroy(), n.destroy()
				})
			}, e.prototype.update = function() {}, e.prototype.destroy = function() {}, e
		}(i(48).Component);
	e.TiledRenderer = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t() {
			this.startTime = t.INVALID_TIME, this.endTime = t.INVALID_TIME, this.type = "", this.energy = 0, this.energyCost = 0
		}
		return t.INVALID_TIME = -1, t
	}();
	e.BattleStats = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(28),
		o = function(t) {
			function e() {
				var e = t.call(this, a.EventEnum.WebMembership) || this;
				return e.action = null, e.country = null, e.isFromGame = null, e.plan = null, e.experiment = null, e.experimentGroup = null, e
			}
			return n(e, t), e.prototype.setAction = function(t) {
				this.action = t
			}, e.prototype.getAction = function() {
				return this.action
			}, e.prototype.setCountry = function(t) {
				this.country = t
			}, e.prototype.getCountry = function() {
				return this.country
			}, e.prototype.setIsFromGame = function(t) {
				this.isFromGame = t
			}, e.prototype.getIsFromGame = function() {
				return this.isFromGame
			}, e.prototype.setPlan = function(t) {
				this.plan = t
			}, e.prototype.getPlan = function() {
				return this.plan
			}, e.prototype.setExperiment = function(t) {
				this.experiment = t
			}, e.prototype.getExperiment = function() {
				return this.experiment
			}, e.prototype.setExperimentGroup = function(t) {
				this.experimentGroup = t
			}, e.prototype.getExperimentGroup = function() {
				return this.experimentGroup
			}, e.prototype.defineValidation = function() {
				var e = this;
				t.prototype.defineValidation.call(this), this.addValidation({
					name: "meta.action",
					value: function() {
						return e.getAction()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !1
				}), this.addValidation({
					name: "meta.country",
					value: function() {
						return e.getCountry()
					},
					comparator: function(t) {
						return t.length >= 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.plan",
					value: function() {
						return e.getPlan()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !0
				}).addValidation({
					name: "meta.experiment",
					value: function() {
						return e.getExperiment()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !0
				}).addValidation({
					name: "meta.experiment_group",
					value: function() {
						return e.getExperimentGroup()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !0
				}).addValidation({
					name: "meta.is_from_game",
					value: function() {
						return e.getIsFromGame()
					},
					comparator: function(t) {
						return !0
					},
					isOptional: !0
				})
			}, e
		}(i(947).WebEventData);
	e.WebMembershipData = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return n(e, t), e.prototype.commonDataToSchema = function(t) {
			return {
				curriculumId: t.getCurriculumId(),
				meta: {
					customFields: t.getCustomFields(),
					isMember: t.getIsMember(),
					playLocation: t.getPlayLocation(),
					questionId: t.getQuestionId()
				},
				name: t.getEventName(),
				skillId: t.getSkillId(),
				timestamp: t.getTimestamp(),
				token: t.getToken(),
				userId: t.getUserId(),
				version: t.getSchemaVersion()
			}
		}, e.prototype.commonSchemaToData = function(t, e) {
			return e.setCurriculumId(t.curriculumId), e.setSkillId(t.skillId), e.setTimestamp(t.timestamp), e.setToken(t.token), e.setUserId(t.userId), void 0 !== t.meta.isMember && e.setIsMember(t.meta.isMember), void 0 !== t.meta.questionId && e.setQuestionId(t.meta.questionId), void 0 !== t.meta.playLocation && e.setPlayLocation(t.meta.playLocation), void 0 !== t.meta.customFields && e.setCustomFields(t.meta.customFields), e
		}, e
	}(i(100).Factory);
	e.EducationEventFactory = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(67),
		o = ["home", "school"],
		r = 3,
		s = function(t) {
			function e(e) {
				var i = t.call(this, e, r) || this;
				return i.curriculumId = null, i.customFields = null, i.isMember = null, i.playLocation = null, i.questionId = null, i.skillId = null, i.timestamp = null, i.token = null, i.userId = null, i
			}
			return n(e, t), e.prototype.getCurriculumId = function() {
				return this.curriculumId
			}, e.prototype.setCurriculumId = function(t) {
				this.curriculumId = t
			}, e.prototype.getCustomFields = function() {
				return this.customFields
			}, e.prototype.setCustomFields = function(t) {
				this.customFields = t
			}, e.prototype.getIsMember = function() {
				return this.isMember
			}, e.prototype.setIsMember = function(t) {
				this.isMember = t
			}, e.prototype.getPlayLocation = function() {
				return this.playLocation
			}, e.prototype.setPlayLocation = function(t) {
				this.playLocation = t
			}, e.prototype.getQuestionId = function() {
				return this.questionId
			}, e.prototype.setQuestionId = function(t) {
				this.questionId = t
			}, e.prototype.getSkillId = function() {
				return this.skillId
			}, e.prototype.setSkillId = function(t) {
				this.skillId = t
			}, e.prototype.getTimestamp = function() {
				return this.timestamp
			}, e.prototype.setTimestamp = function(t) {
				this.timestamp = t
			}, e.prototype.getToken = function() {
				return this.token
			}, e.prototype.setToken = function(t) {
				this.token = t
			}, e.prototype.getUserId = function() {
				return this.userId
			}, e.prototype.setUserId = function(t) {
				this.userId = t
			}, e.prototype.defineValidation = function() {
				var t = this;
				this.addValidation({
					name: "name",
					value: function() {
						return t.getEventName()
					},
					comparator: function(t) {
						return t.length > 1
					},
					isOptional: !1
				}).addValidation({
					name: "curriculumId",
					value: function() {
						return t.getCurriculumId()
					},
					comparator: function(t) {
						return t >= 1
					},
					isOptional: !1
				}).addValidation({
					name: "isMember",
					value: function() {
						return t.getIsMember()
					},
					comparator: function(t) {
						return "boolean" == typeof t
					},
					isOptional: !0
				}).addValidation({
					name: "playLocation",
					value: function() {
						return t.getPlayLocation()
					},
					comparator: function(t) {
						return a.includes(o, t)
					},
					isOptional: !0
				}).addValidation({
					name: "userId",
					value: function() {
						return t.getUserId()
					},
					comparator: function(t) {
						return t >= 1
					},
					isOptional: !1
				}).addValidation({
					name: "questionId",
					value: function() {
						return t.getQuestionId()
					},
					comparator: function(t) {
						return t >= 1
					},
					isOptional: !0
				}).addValidation({
					name: "skillId",
					value: function() {
						return t.getSkillId()
					},
					comparator: function(t) {
						return t >= 1
					},
					isOptional: !1
				}).addValidation({
					name: "timestamp",
					value: function() {
						return t.getTimestamp()
					},
					comparator: function(t) {
						return t > 0
					},
					isOptional: !1
				}).addValidation({
					name: "token",
					value: function() {
						return t.getToken()
					},
					comparator: function(t) {
						return t.length > 1
					},
					isOptional: !1
				})
			}, e
		}(i(101).Event);
	e.EducationEventData = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(28),
		o = function(t) {
			function e() {
				var e = t.call(this, a.EventEnum.EducationLessonEncounter) || this;
				return e.action = null, e.lessonEncounteredId = null, e.type = null, e.videoPercentagePlayed = null, e
			}
			return n(e, t), e.prototype.getAction = function() {
				return this.action
			}, e.prototype.setAction = function(t) {
				this.action = t
			}, e.prototype.getLessonEncounteredId = function() {
				return this.lessonEncounteredId
			}, e.prototype.setLessonEncounteredId = function(t) {
				this.lessonEncounteredId = t
			}, e.prototype.getType = function() {
				return this.type
			}, e.prototype.setType = function(t) {
				this.type = t
			}, e.prototype.getVideoPercentagePlayed = function() {
				return this.videoPercentagePlayed
			}, e.prototype.setVideoPercentagePlayed = function(t) {
				this.videoPercentagePlayed = t
			}, e.prototype.defineValidation = function() {
				var e = this;
				t.prototype.defineValidation.call(this), this.addValidation({
					name: "meta.lessonEncounteredId",
					value: function() {
						return e.getLessonEncounteredId()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !1
				}).addValidation({
					name: "meta.action",
					value: function() {
						return e.getAction()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !1
				}).addValidation({
					name: "meta.type",
					value: function() {
						return e.getType()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !1
				}).addValidation({
					name: "meta.videoPercentagePlayed",
					value: function() {
						return e.getVideoPercentagePlayed()
					},
					comparator: function(t) {
						return t >= 0 && t <= 100
					},
					isOptional: !0
				})
			}, e
		}(i(321).EducationEventData);
	e.EducationLessonEncounterData = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(28),
		o = function(t) {
			function e() {
				var e = t.call(this, a.EventEnum.GameSocial) || this;
				return e.numFriends = null, e.numClassmates = null, e.type = null, e.action = null, e.source = null, e.category = null, e.subcategory = null, e.origin = null, e.filter = null, e.friendId = null, e
			}
			return n(e, t), e.prototype.setNumFriends = function(t) {
				this.numFriends = t
			}, e.prototype.getNumFriends = function() {
				return this.numFriends
			}, e.prototype.setNumClassmates = function(t) {
				this.numClassmates = t
			}, e.prototype.getNumClassmates = function() {
				return this.numClassmates
			}, e.prototype.setType = function(t) {
				this.type = t
			}, e.prototype.getType = function() {
				return this.type
			}, e.prototype.setAction = function(t) {
				this.action = t
			}, e.prototype.getAction = function() {
				return this.action
			}, e.prototype.setSource = function(t) {
				this.source = t
			}, e.prototype.getSource = function() {
				return this.source
			}, e.prototype.setCategory = function(t) {
				this.category = t
			}, e.prototype.getCategory = function() {
				return this.category
			}, e.prototype.setSubCategory = function(t) {
				this.subcategory = t
			}, e.prototype.getSubCategory = function() {
				return this.subcategory
			}, e.prototype.setOrigin = function(t) {
				this.origin = t
			}, e.prototype.getOrigin = function() {
				return this.origin
			}, e.prototype.setFilter = function(t) {
				this.filter = t
			}, e.prototype.getFilter = function() {
				return this.filter
			}, e.prototype.setFriendId = function(t) {
				this.friendId = t
			}, e.prototype.getFriendId = function() {
				return this.friendId
			}, e.prototype.defineValidation = function() {
				var e = this;
				t.prototype.defineValidation.call(this), this.addValidation({
					name: "meta.num_friends",
					value: function() {
						return e.getNumFriends()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !1
				}).addValidation({
					name: "meta.num_classmates",
					value: function() {
						return e.getNumClassmates()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !1
				}).addValidation({
					name: "meta.type",
					value: function() {
						return e.getType()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !1
				}).addValidation({
					name: "meta.action",
					value: function() {
						return e.getAction()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !1
				}).addValidation({
					name: "meta.source",
					value: function() {
						return e.getSource()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !1
				}), this.addValidation({
					name: "meta.category",
					value: function() {
						return e.getCategory()
					},
					comparator: function(t) {
						return void 0 !== t ? t.length >= 1 : null
					},
					isOptional: !0
				}).addValidation({
					name: "meta.subcategory",
					value: function() {
						return e.getSubCategory()
					},
					comparator: function(t) {
						return void 0 !== t ? t.length >= 1 : null
					},
					isOptional: !0
				}).addValidation({
					name: "meta.origin",
					value: function() {
						return e.getOrigin()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.filter",
					value: function() {
						return e.getFilter()
					},
					comparator: function(t) {
						return void 0 !== t ? t.length >= 1 : null
					},
					isOptional: !0
				}).addValidation({
					name: "meta.friend_id",
					value: function() {
						return e.getFriendId()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !0
				})
			}, e
		}(i(64).GameEventData);
	e.GameSocialData = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(28),
		o = function(t) {
			function e() {
				var e = t.call(this, a.EventEnum.GameSessionLength) || this;
				return e.sessionLength = -1, e
			}
			return n(e, t), e.prototype.setSessionLength = function(t) {
				this.sessionLength = t
			}, e.prototype.getSessionLength = function() {
				return this.sessionLength
			}, e.prototype.defineValidation = function() {
				var e = this;
				t.prototype.defineValidation.call(this), this.addValidation({
					name: "meta.session_length",
					value: function() {
						return e.getSessionLength()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !1
				})
			}, e
		}(i(64).GameEventData);
	e.SessionLengthData = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(28),
		o = function(t) {
			function e() {
				var e = t.call(this, a.EventEnum.GameQuestion) || this;
				return e.success = null, e.duration = null, e.energyCost = null, e
			}
			return n(e, t), e.prototype.setSuccess = function(t) {
				this.success = t
			}, e.prototype.getSuccess = function() {
				return this.success
			}, e.prototype.setDuration = function(t) {
				this.duration = t
			}, e.prototype.getDuration = function() {
				return this.duration
			}, e.prototype.setEnergyCost = function(t) {
				this.energyCost = t
			}, e.prototype.getEnergyCost = function() {
				return this.energyCost
			}, e.prototype.defineValidation = function() {
				var e = this;
				t.prototype.defineValidation.call(this), this.addValidation({
					name: "meta.success",
					value: function() {
						return e.getSuccess()
					},
					comparator: function(t) {
						return "boolean" == typeof t
					},
					isOptional: !1
				}).addValidation({
					name: "meta.duration",
					value: function() {
						return e.getDuration()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !1
				}).addValidation({
					name: "meta.energy_cost",
					value: function() {
						return e.getEnergyCost()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !1
				})
			}, e
		}(i(64).GameEventData);
	e.GameQuestionData = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(28),
		o = function(t) {
			function e() {
				var e = t.call(this, a.EventEnum.GameDiscovery) || this;
				return e.eventType = null, e.type = null, e.subtype = null, e.value = null, e
			}
			return n(e, t), e.prototype.setEventType = function(t) {
				this.eventType = t
			}, e.prototype.getEventType = function() {
				return this.eventType
			}, e.prototype.setType = function(t) {
				this.type = t
			}, e.prototype.getType = function() {
				return this.type
			}, e.prototype.setSubType = function(t) {
				this.subtype = t
			}, e.prototype.getSubType = function() {
				return this.subtype
			}, e.prototype.setValue = function(t) {
				this.value = t
			}, e.prototype.getValue = function() {
				return this.value
			}, e.prototype.defineValidation = function() {
				var e = this;
				t.prototype.defineValidation.call(this), this.addValidation({
					name: "meta.event_type",
					value: function() {
						return e.getEventType()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !1
				}), this.addValidation({
					name: "meta.type",
					value: function() {
						return e.getType()
					},
					comparator: function(t) {
						return void 0 !== t ? t.length >= 1 : null
					},
					isOptional: !0
				}).addValidation({
					name: "meta.subType",
					value: function() {
						return e.getSubType()
					},
					comparator: function(t) {
						return void 0 !== t ? t.length >= 1 : null
					},
					isOptional: !0
				}).addValidation({
					name: "meta.value",
					value: function() {
						return e.getValue()
					},
					comparator: function(t) {
						return void 0 !== t ? t.length >= 1 : null
					},
					isOptional: !0
				})
			}, e
		}(i(64).GameEventData);
	e.GameDiscoveryData = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(28),
		o = function(t) {
			function e() {
				var e = t.call(this, a.EventEnum.GameComplete) || this;
				return e.type = null, e.eventName = null, e.id = null, e.rank = null, e.timeDelta = null, e.value = null, e
			}
			return n(e, t), e.prototype.setType = function(t) {
				this.type = t
			}, e.prototype.getType = function() {
				return this.type
			}, e.prototype.setName = function(t) {
				this.eventName = t
			}, e.prototype.getName = function() {
				return this.eventName
			}, e.prototype.setId = function(t) {
				this.id = t
			}, e.prototype.getId = function() {
				return this.id
			}, e.prototype.setRank = function(t) {
				this.rank = t
			}, e.prototype.getRank = function() {
				return this.rank
			}, e.prototype.setTimeDelta = function(t) {
				this.timeDelta = t
			}, e.prototype.getTimeDelta = function() {
				return this.timeDelta
			}, e.prototype.setValue = function(t) {
				this.value = t
			}, e.prototype.getValue = function() {
				return this.value
			}, e.prototype.defineValidation = function() {
				var e = this;
				t.prototype.defineValidation.call(this), this.addValidation({
					name: "meta.type",
					value: function() {
						return e.getType()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !1
				}).addValidation({
					name: "meta.name",
					value: function() {
						return e.getName()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !1
				}), this.addValidation({
					name: "meta.id",
					value: function() {
						return e.getId()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.rank",
					value: function() {
						return e.getRank()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.timeDelta",
					value: function() {
						return e.getTimeDelta()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.value",
					value: function() {
						return e.getValue()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !0
				})
			}, e
		}(i(64).GameEventData);
	e.GameCompleteData = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(28),
		o = function(t) {
			function e() {
				var e = t.call(this, a.EventEnum.GameBattle) || this;
				return e.type = null, e.seasonId = null, e.points = null, e.success = null, e.energy = null, e.energyCost = null, e.duration = null, e
			}
			return n(e, t), e.prototype.setType = function(t) {
				this.type = t
			}, e.prototype.getType = function() {
				return this.type
			}, e.prototype.setSeasonId = function(t) {
				this.seasonId = t
			}, e.prototype.getSeasonId = function() {
				return this.seasonId
			}, e.prototype.setPoints = function(t) {
				this.points = t
			}, e.prototype.getPoints = function() {
				return this.points
			}, e.prototype.setSuccess = function(t) {
				this.success = t
			}, e.prototype.getSuccess = function() {
				return this.success
			}, e.prototype.setEnergy = function(t) {
				this.energy = t
			}, e.prototype.getEnergy = function() {
				return this.energy
			}, e.prototype.setEnergyCost = function(t) {
				this.energyCost = t
			}, e.prototype.getEnergyCost = function() {
				return this.energyCost
			}, e.prototype.setDuration = function(t) {
				this.duration = t
			}, e.prototype.getDuration = function() {
				return this.duration
			}, e.prototype.defineValidation = function() {
				var e = this;
				t.prototype.defineValidation.call(this), this.addValidation({
					name: "meta.type",
					value: function() {
						return e.getType()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !1
				}).addValidation({
					name: "meta.success",
					value: function() {
						return e.getSuccess()
					},
					comparator: function(t) {
						return "boolean" == typeof t
					},
					isOptional: !1
				}).addValidation({
					name: "meta.energy",
					value: function() {
						return e.getEnergy()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !1
				}).addValidation({
					name: "meta.energyCost",
					value: function() {
						return e.getEnergyCost()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !1
				}).addValidation({
					name: "meta.duration",
					value: function() {
						return e.getDuration()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !1
				}), this.addValidation({
					name: "meta.season_id",
					value: function() {
						return e.getSeasonId()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.points",
					value: function() {
						return e.getPoints()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !0
				})
			}, e
		}(i(64).GameEventData);
	e.GameBattleData = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(28),
		o = function(t) {
			function e() {
				var e = t.call(this, a.EventEnum.GameAvatar) || this;
				return e.type = null, e.id = null, e.avatarName = null, e
			}
			return n(e, t), e.prototype.setType = function(t) {
				this.type = t
			}, e.prototype.getType = function() {
				return this.type
			}, e.prototype.setId = function(t) {
				this.id = t
			}, e.prototype.getId = function() {
				return this.id
			}, e.prototype.setAvatarName = function(t) {
				this.avatarName = t
			}, e.prototype.getAvatarName = function() {
				return this.avatarName
			}, e.prototype.defineValidation = function() {
				var e = this;
				t.prototype.defineValidation.call(this), this.addValidation({
					name: "meta.type",
					value: function() {
						return e.getType()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !1
				}).addValidation({
					name: "meta.name",
					value: function() {
						return e.getAvatarName()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !1
				}).addValidation({
					name: "meta.id",
					value: function() {
						return e.getId()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !0
				})
			}, e
		}(i(64).GameEventData);
	e.GameAvatarData = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(28),
		o = function(t) {
			function e() {
				var e = t.call(this, a.EventEnum.AnonymousWebMembership) || this;
				return e.action = null, e.country = null, e.isFromGame = null, e.plan = null, e.experiment = null, e.experimentGroup = null, e
			}
			return n(e, t), e.prototype.setAction = function(t) {
				this.action = t
			}, e.prototype.getAction = function() {
				return this.action
			}, e.prototype.setCountry = function(t) {
				this.country = t
			}, e.prototype.getCountry = function() {
				return this.country
			}, e.prototype.setIsFromGame = function(t) {
				this.isFromGame = t
			}, e.prototype.getIsFromGame = function() {
				return this.isFromGame
			}, e.prototype.setPlan = function(t) {
				this.plan = t
			}, e.prototype.getPlan = function() {
				return this.plan
			}, e.prototype.setExperiment = function(t) {
				this.experiment = t
			}, e.prototype.getExperiment = function() {
				return this.experiment
			}, e.prototype.setExperimentGroup = function(t) {
				this.experimentGroup = t
			}, e.prototype.getExperimentGroup = function() {
				return this.experimentGroup
			}, e.prototype.defineValidation = function() {
				var e = this;
				t.prototype.defineValidation.call(this), this.addValidation({
					name: "meta.action",
					value: function() {
						return e.getAction()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !1
				}), this.addValidation({
					name: "meta.country",
					value: function() {
						return e.getCountry()
					},
					comparator: function(t) {
						return t.length >= 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.plan",
					value: function() {
						return e.getPlan()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !0
				}).addValidation({
					name: "meta.experiment",
					value: function() {
						return e.getExperiment()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !0
				}).addValidation({
					name: "meta.experiment_group",
					value: function() {
						return e.getExperimentGroup()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !0
				}).addValidation({
					name: "meta.is_from_game",
					value: function() {
						return e.getIsFromGame()
					},
					comparator: function(t) {
						return !0
					},
					isOptional: !0
				})
			}, e
		}(i(185).AnonymousEventData);
	e.AnonymousWebMembershipData = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(28),
		o = function(t) {
			function e() {
				var e = t.call(this, a.EventEnum.AnonymousGameComplete) || this;
				return e.type = null, e.eventName = null, e.id = null, e.rank = null, e.timeDelta = null, e.value = null, e
			}
			return n(e, t), e.prototype.setType = function(t) {
				this.type = t
			}, e.prototype.getType = function() {
				return this.type
			}, e.prototype.setName = function(t) {
				this.eventName = t
			}, e.prototype.getName = function() {
				return this.eventName
			}, e.prototype.setId = function(t) {
				this.id = t
			}, e.prototype.getId = function() {
				return this.id
			}, e.prototype.setRank = function(t) {
				this.rank = t
			}, e.prototype.getRank = function() {
				return this.rank
			}, e.prototype.setTimeDelta = function(t) {
				this.timeDelta = t
			}, e.prototype.getTimeDelta = function() {
				return this.timeDelta
			}, e.prototype.setValue = function(t) {
				this.value = t
			}, e.prototype.getValue = function() {
				return this.value
			}, e.prototype.defineValidation = function() {
				var e = this;
				t.prototype.defineValidation.call(this), this.addValidation({
					name: "meta.type",
					value: function() {
						return e.getType()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !1
				}).addValidation({
					name: "meta.name",
					value: function() {
						return e.getName()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !1
				}), this.addValidation({
					name: "meta.id",
					value: function() {
						return e.getId()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.rank",
					value: function() {
						return e.getRank()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.timeDelta",
					value: function() {
						return e.getTimeDelta()
					},
					comparator: function(t) {
						return t >= 0
					},
					isOptional: !0
				}).addValidation({
					name: "meta.value",
					value: function() {
						return e.getValue()
					},
					comparator: function(t) {
						return t.length >= 1
					},
					isOptional: !0
				})
			}, e
		}(i(185).AnonymousEventData);
	e.AnonymousGameCompleteData = o
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t() {}
		return t.prototype.deserializeCollection = function(e) {
			return t.deserializeCollection(e, this.deserialize)
		}, t.prototype.serializeCollection = function(e) {
			return t.serializeCollection(e, this.serialize)
		}, t.deserializeCollection = function(t, e) {
			for (var i = [], n = 0; n < t.length; n++) i.push(e(t[n]));
			return i
		}, t.serializeCollection = function(t, e) {
			for (var i = [], n = 0; n < t.length; n++) i.push(e(t[n]));
			return i
		}, t
	}();
	e.DataFactory = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		o = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var r = i(86),
		s = i(9),
		l = i(0),
		c = function(t) {
			function e(e) {
				var i = t.call(this) || this;
				return i.name = null, i.updated = !1, i.playerService = null, i.playerService = e, i.generateRandom(), i.name = new r.NameData, i
			}
			return n(e, t), e.prototype.init = function(e) {
				t.prototype.init.call(this, e);
				var i = this.playerService.getAppearance(e);
				i && (this.name = i.getName())
			}, e.prototype.setGender = function(e) {
				t.prototype.setGender.call(this, e), this.updated = !0
			}, e.prototype.setHair = function(e, i) {
				t.prototype.setHair.call(this, e, i), this.updated = !0
			}, e.prototype.setFace = function(e) {
				t.prototype.setFace.call(this, e), this.updated = !0
			}, e.prototype.setEyeColor = function(e) {
				t.prototype.setEyeColor.call(this, e), this.updated = !0
			}, e.prototype.setSkinColor = function(e) {
				t.prototype.setSkinColor.call(this, e), this.updated = !0
			}, e.prototype.getData = function() {
				return {
					name: {
						first: l.Util.isValid(this.name) ? this.name.getFirstName() : null,
						middle: l.Util.isValid(this.name) ? this.name.getMiddleName() : null,
						last: l.Util.isValid(this.name) ? this.name.getLastName() : null,
						nick: l.Util.isValid(this.name) ? this.name.getNickname() : null
					},
					gender: this.gender,
					hair: {
						color: this.hairColor,
						style: this.hairStyle
					},
					skinColor: this.skinColor,
					eyeColor: this.eyeColor,
					face: this.face
				}
			}, e.prototype.getDataAndClear = function() {
				return this.updated = !1, this.getData()
			}, e.prototype.getName = function() {
				return this.name
			}, e.prototype.setName = function(t) {
				this.name = t, this.updated = !0
			}, e.prototype.generateRandom = function() {
				this.setName(null), this.setGender(Math.random() < .5 ? "female" : "male"), this.setHair(Math.floor(8 * Math.random()) + ("male" === this.getGender() ? 16 : 1), Math.floor(16 * Math.random()) + 1), this.setSkinColor(Math.floor(5 * Math.random() + 1)), this.setEyeColor(Math.floor(15 * Math.random() + 1)), this.setFace("male" === this.getGender() ? 4 : 12)
			}, e = a([s.injectable(), o("design:paramtypes", [r.PlayerService])], e)
		}(i(196).CharacterAppearance);
	e.PlayerAppearance = c
}, function(t, e, i) {
	var n = i(1025);
	t.exports = function(t) {
		return t && t.length ? n(t) : []
	}
}, function(t, e, i) {
	var n = i(50),
		a = i(51);
	t.exports = function(t) {
		return a(t) && n(t)
	}
}, function(t, e) {
	t.exports = function(t, e, i) {
		for (var n = -1, a = null == t ? 0 : t.length; ++n < a;)
			if (i(e, t[n])) return !0;
		return !1
	}
}, function(t, e, i) {
	var n = i(189);
	t.exports = function(t, e) {
		return !(null == t || !t.length) && n(t, e, 0) > -1
	}
}, function(t, e, i) {
	var n = i(1028),
		a = i(353),
		o = i(197),
		r = i(335),
		s = o(function(t, e) {
			return r(t) ? n(t, a(e, 1, r, !0)) : []
		});
	t.exports = s
}, function(t, e, i) {
	var n = i(73),
		a = i(18),
		o = i(51),
		r = "[object String]";
	t.exports = function(t) {
		return "string" == typeof t || !a(t) && o(t) && n(t) == r
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			t.Astral = "astral", t.Earth = "earth", t.Plant = "plant", t.Storm = "storm", t.Fire = "fire", t.Wizard = "wizard", t.Water = "water", t.Ice = "ice", t.Shadow = "shadow"
		}(e.EElementType || (e.EElementType = {}))
}, function(t, e) {
	t.exports = function(t, e, i, n) {
		for (var a = t.length, o = i + (n ? 1 : -1); n ? o-- : ++o < a;)
			if (e(t[o], o, t)) return o;
		return -1
	}
}, function(t, e, i) {
	var n = i(214);
	t.exports = function(t, e) {
		return n(t, e)
	}
}, function(t, e, i) {
	var n = i(1040),
		a = i(193),
		o = i(133);
	t.exports = function(t) {
		return "function" != typeof t.constructor || o(t) ? {} : n(a(t))
	}
}, function(t, e, i) {
	var n = i(192);
	t.exports = function(t, e) {
		var i = e ? n(t.buffer) : t.buffer;
		return new t.constructor(i, t.byteOffset, t.length)
	}
}, function(t, e, i) {
	var n = i(210),
		a = i(193),
		o = i(209),
		r = i(387),
		s = Object.getOwnPropertySymbols ? function(t) {
			for (var e = []; t;) n(e, o(t)), t = a(t);
			return e
		} : r;
	t.exports = s
}, function(t, e, i) {
	(function(t) {
		var n = i(53),
			a = "object" == typeof e && e && !e.nodeType && e,
			o = a && "object" == typeof t && t && !t.nodeType && t,
			r = o && o.exports === a ? n.Buffer : void 0,
			s = r ? r.allocUnsafe : void 0;
		t.exports = function(t, e) {
			if (e) return t.slice();
			var i = t.length,
				n = s ? s(i) : new t.constructor(i);
			return t.copy(n), n
		}
	}).call(this, i(146)(t))
}, function(t, e, i) {
	var n = i(194),
		a = i(111),
		o = Object.prototype.hasOwnProperty;
	t.exports = function(t, e, i) {
		var r = t[e];
		o.call(t, e) && a(r, i) && (void 0 !== i || e in t) || n(t, e, i)
	}
}, function(t, e) {
	t.exports = function(t, e) {
		for (var i = -1, n = null == t ? 0 : t.length; ++i < n && !1 !== e(t[i], i, t););
		return t
	}
}, function(t, e, i) {
	var n = i(140),
		a = i(348),
		o = i(347),
		r = i(1052),
		s = i(1051),
		l = i(346),
		c = i(128),
		h = i(1048),
		u = i(1047),
		p = i(390),
		d = i(1046),
		g = i(88),
		f = i(1045),
		y = i(1044),
		m = i(343),
		_ = i(18),
		v = i(109),
		E = i(1039),
		b = i(52),
		O = i(1037),
		I = i(72),
		T = 1,
		A = 2,
		C = 4,
		S = "[object Arguments]",
		w = "[object Function]",
		D = "[object GeneratorFunction]",
		P = "[object Object]",
		L = {};
	L[S] = L["[object Array]"] = L["[object ArrayBuffer]"] = L["[object DataView]"] = L["[object Boolean]"] = L["[object Date]"] = L["[object Float32Array]"] = L["[object Float64Array]"] = L["[object Int8Array]"] = L["[object Int16Array]"] = L["[object Int32Array]"] = L["[object Map]"] = L["[object Number]"] = L[P] = L["[object RegExp]"] = L["[object Set]"] = L["[object String]"] = L["[object Symbol]"] = L["[object Uint8Array]"] = L["[object Uint8ClampedArray]"] = L["[object Uint16Array]"] = L["[object Uint32Array]"] = !0, L["[object Error]"] = L[w] = L["[object WeakMap]"] = !1, t.exports = function t(e, i, x, M, U, N) {
		var R, k = i & T,
			B = i & A,
			G = i & C;
		if (x && (R = U ? x(e, M, U, N) : x(e)), void 0 !== R) return R;
		if (!b(e)) return e;
		var V = _(e);
		if (V) {
			if (R = f(e), !k) return c(e, R)
		} else {
			var F = g(e),
				j = F == w || F == D;
			if (v(e)) return l(e, k);
			if (F == P || F == S || j && !U) {
				if (R = B || j ? {} : m(e), !k) return B ? u(e, s(R, e)) : h(e, r(R, e))
			} else {
				if (!L[F]) return U ? e : {};
				R = y(e, F, k)
			}
		}
		N || (N = new n);
		var H = N.get(e);
		if (H) return H;
		if (N.set(e, R), O(e)) return e.forEach(function(n) {
			R.add(t(n, i, x, n, e, N))
		}), R;
		if (E(e)) return e.forEach(function(n, a) {
			R.set(a, t(n, i, x, a, e, N))
		}), R;
		var z = G ? B ? d : p : B ? keysIn : I,
			W = V ? void 0 : z(e);
		return a(W || e, function(n, a) {
			W && (n = e[a = n]), o(R, a, t(n, i, x, a, e, N))
		}), R
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(0),
		a = i(2),
		o = function() {
			function t() {
				this.follow = null, this.hat = null, this.outfit = null, this.weapon = null, this.spellRelic = null, this.boots = null
			}
			return t.prototype.init = function(t) {
				this.follow = t.follow, this.hat = t.hat, this.outfit = t.outfit, this.weapon = t.weapon, this.spellRelic = t.spellRelic, this.boots = t.boots
			}, t.prototype.getFollow = function() {
				return this.follow
			}, t.prototype.setFollow = function(t) {
				this.follow = t
			}, t.prototype.getHat = function() {
				return this.hat
			}, t.prototype.setHat = function(t) {
				this.hat = t
			}, t.prototype.getOutfit = function() {
				return this.outfit
			}, t.prototype.setOutfit = function(t) {
				this.outfit = t
			}, t.prototype.getWeapon = function() {
				return this.weapon
			}, t.prototype.setWeapon = function(t) {
				this.weapon = t
			}, t.prototype.getSpellRelic = function() {
				return this.spellRelic
			}, t.prototype.setSpellRelic = function(t) {
				this.spellRelic = t
			}, t.prototype.getBoots = function() {
				return this.boots
			}, t.prototype.setBoots = function(t) {
				this.boots = t
			}, t.prototype.getHeartBonuses = function() {
				return this.calculateAffixBonus("hearts")
			}, t.prototype.getDamageBonuses = function() {
				return this.calculateAffixBonus("damage")
			}, t.prototype.calculateAffixBonus = function(t) {
				var e = "hearts" === t || "damage" === t,
					i = e ? 1 : 0,
					o = [];
				o = (o = (o = (o = (o = (o = o.concat(this.getAffixes("follow", this.weapon).slice())).concat(this.getAffixes("hat", this.hat).slice())).concat(this.getAffixes("outfit", this.outfit).slice())).concat(this.getAffixes("weapon", this.weapon).slice())).concat(this.getAffixes("spellRelic", this.spellRelic).slice())).concat(this.getAffixes("boots", this.boots).slice());
				for (var r = 0; r < o.length; r++) {
					var s = a.Items.getItemData("affix", o[r]);
					s.type === t && (e ? n.Util.isValid(s.valuePercent) && (i += s.valuePercent) : 1 === s.opType ? i *= s.value : i += s.value)
				}
				return i
			}, t.prototype.getAffixes = function(t, e) {
				var i = a.Items.getItem(t, e);
				if (n.Util.isValid(i)) {
					var o = i.data.effects;
					if (n.Util.isValid(o) && o.length > 0) return o
				}
				return []
			}, t.prototype.getEquipment = function(t) {
				var e = 0;
				switch (t) {
					case "follow":
						e = this.follow;
						break;
					case "hat":
						e = this.hat;
						break;
					case "outfit":
						e = this.outfit;
						break;
					case "weapon":
						e = this.weapon;
						break;
					case "spellRelic":
						e = this.spellRelic;
						break;
					case "boots":
						e = this.boots
				}
				return n.Util.isValid(e) && e > 0 ? e : null
			}, t
		}();
	e.CharacterEquipment = o
}, function(t, e, i) {
	var n = i(74),
		a = function() {
			try {
				var t = n(Object, "defineProperty");
				return t({}, "", {}), t
			} catch (t) {}
		}();
	t.exports = a
}, function(t, e, i) {
	var n = i(112),
		a = i(54),
		o = i(380),
		r = i(1064),
		s = i(108),
		l = i(1063),
		c = i(87);
	t.exports = function(t, e, i) {
		var h = -1;
		e = n(e.length ? e : [c], s(a));
		var u = o(t, function(t, i, a) {
			return {
				criteria: n(e, function(e) {
					return e(t)
				}),
				index: ++h,
				value: t
			}
		});
		return r(u, function(t, e) {
			return l(t, e, i)
		})
	}
}, function(t, e, i) {
	var n = i(210),
		a = i(1065);
	t.exports = function t(e, i, o, r, s) {
		var l = -1,
			c = e.length;
		for (o || (o = a), s || (s = []); ++l < c;) {
			var h = e[l];
			i > 0 && o(h) ? i > 1 ? t(h, i - 1, o, r, s) : n(s, h) : r || (s[s.length] = h)
		}
		return s
	}
}, function(t, e, i) {
	var n = i(353),
		a = i(352),
		o = i(197),
		r = i(84),
		s = o(function(t, e) {
			if (null == t) return [];
			var i = e.length;
			return i > 1 && r(t, e[0], e[1]) ? e = [] : i > 2 && r(e[0], e[1], e[2]) && (e = [e[0]]), a(t, n(e, 1), [])
		});
	t.exports = s
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(354),
		a = i(1055),
		o = i(2),
		r = i(0),
		s = function() {
			function t() {}
			return t.getSpellDataAtLevel = function(t, e, i) {
				var n = this.getSpellTierAtLevel(t, i);
				return this.getNextTierSpell(e, n - 1)
			}, t.getSpellTierAtLevel = function(t, e) {
				var i = n(e);
				return a(i, t)
			}, t.getNextTierSpell = function(t, e) {
				for (var i = o.Items.getItem("spell", t), n = 0; n < e && r.Util.isValid(i.data.nextTierID); n++) i = o.Items.getItem("spell", i.data.nextTierID);
				return i
			}, t
		}();
	e.SpellUtil = s
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(0),
		a = i(2),
		o = function() {
			function t() {
				this.data = null, this.updated = !1, this.data = {
					hat: [],
					boots: [],
					weapon: [],
					outfit: [],
					item: [],
					fossil: [],
					key: [],
					relic: [],
					currency: [],
					follow: [],
					mount: [],
					spellRelic: []
				}
			}
			return t.prototype.getDataAndClear = function() {
				return this.updated = !1, this.data
			}, t.prototype.unlockAllItems = function() {
				for (var t in this.data)
					for (var e = this.data[t], i = 0; i < e.length; i++) {
						var a = e[i];
						n.Util.isValid(a.L) && (delete a.L, this.updated = !0)
					}
			}, t.prototype.setItems = function(t) {
				this.data = t, n.Util.cleanUpGameID(this.data)
			}, t.prototype.getTotalUnique = function() {
				var t = 0;
				for (var e in this.data) t += this.data[e].length;
				return t
			}, t.prototype.setKeyItemData = function(t, e, i) {
				if (n.Util.isValid(this.data.key)) {
					for (var a = 0; a < this.data.key.length; a++) {
						var o = this.data.key[a];
						o.ID === t && (o[e] = i)
					}
					this.updated = !0
				}
			}, t.prototype.getKeyItemData = function(t, e) {
				if (n.Util.isValid(this.data.key))
					for (var i = 0; i < this.data.key.length; i++) {
						var a = this.data.key[i];
						if (a.ID === t) return a[e]
					}
				return null
			}, t.prototype.setItemData = function(t, e, i) {
				if (n.Util.isValid(this.data.item)) {
					for (var a = 0; a < this.data.item.length; a++) {
						var o = this.data.item[a];
						o.ID === t && (o[e] = i)
					}
					this.updated = !0
				}
			}, t.prototype.getItemData = function(t, e) {
				if (n.Util.isValid(this.data.item))
					for (var i = 0; i < this.data.item.length; i++) {
						var a = this.data.item[i];
						if (a.ID === t) return a[e]
					}
				return null
			}, t.prototype.getItem = function(t, e) {
				var i = this.data[t];
				if (n.Util.isValid(i))
					for (var a = 0; a < i.length; a++) {
						var o = i[a];
						if (o.ID === e) return o
					}
				return null
			}, t.prototype.hasItem = function(t, e) {
				if (n.Util.isValid(t) && n.Util.isValid(this.data) && n.Util.isValid(this.data[t]))
					for (var i = 0; i < this.data[t].length; i++) {
						var a = this.data[t][i];
						if (a.ID === e) {
							var o = 1;
							return n.Util.isValid(a.N) && (o = a.N), o
						}
					}
				return 0
			}, t.prototype.hasItems = function(t) {
				for (var e = 0, i = 0; i < t.length; i++) {
					var n = t[i];
					this.hasItem(n.type, n.ID) > 0 && e++
				}
				return e
			}, t.prototype.addKeyItem = function(t, e, i) {
				n.Util.isValid(this.data.key) || (this.data.key = []);
				for (var a = this.data.key, o = 0; o < a.length; o++) {
					var r = a[o];
					if (r.ID === t && r.lvl < e) return r.lvl = e, void(this.updated = !0)
				}
				var s = {
					ID: t
				};
				s.lvl = e, n.Util.isValid(i) && n.Util.isValid(i.seed) && (s.seed = i.seed), a.push(s), this.updated = !0
			}, t.prototype.addBountyNote = function(t, e, i) {
				n.Util.isValid(this.data[t]) || (this.data[t] = []);
				var a = {
					ID: e,
					N: 1
				};
				n.Util.isValid(i) && (a.seed = i), this.data[t].push(a), this.updated = !0
			}, t.prototype.add = function(t, e, i, a) {
				if (void 0 === i && (i = !1), void 0 === a && (a = 1), n.Util.isValid(this.data[t]) || (this.data[t] = []), "key" !== t) {
					var o = this.getItem(t, e);
					if (n.Util.isValid(o) && o.ID === e) return n.Util.isValid(o.N) ? o.N += a : o.N = a + 1, o.N > 99 && "currency" !== t && (o.N = 99), void(this.updated = !0);
					var r = {
						ID: e
					};
					a > 1 && (r.N = a), i && (r.L = 1), this.data[t].push(r), this.updated = !0
				} else this.addKeyItem(e, 0)
			}, t.prototype.consume = function(t, e, i) {
				if (void 0 === i && (i = 1), n.Util.isValid(t)) {
					var a = this.getItem(t, e);
					if (n.Util.isValid(a)) {
						var o = this.data[t];
						if (a.ID === e) return n.Util.isValid(a.N) ? (a.N -= i, 1 === a.N ? delete a.N : a.N <= 0 && o.splice(o.indexOf(a), 1)) : o.splice(o.indexOf(a), 1), void(this.updated = !0)
					}
				}
			}, t.prototype.consumeLegacyBounties = function() {
				this.consume("key", 5, 1), this.consume("key", 6, 1), this.consume("key", 7, 1)
			}, t.prototype.getBackpackItemsByType = function(t) {
				var e = this.data[t];
				return n.Util.isValid(e) ? e.slice() : []
			}, t.prototype.getItemCount = function(t) {
				for (var e = 0, i = 0; i < t.length; i++) e += this.getBackpackItemsByType(t[i]).length;
				return e
			}, t.prototype.getBattleItems = function() {
				for (var t = this.getBackpackItemsByType("item"), e = [], i = 0; i < t.length; i++) {
					var o = a.Items.getItem("item", t[i].ID),
						r = null;
					n.Util.isValid(o) && (r = o.data), n.Util.isValid(r) && n.Util.isValid(r.type) && (n.Util.isValid(r.effect) && n.Util.isValid(r.effect.hpPercent) || "potion" === r.type) && e.push(t[i])
				}
				return e
			}, t.prototype.canCraft = function(t, e) {
				var i = a.Items.getItem(t, e);
				if (!n.Util.isValid(i.data.recipe)) return !1;
				for (var o = 0; o < i.data.recipe.length; o++) {
					var r = i.data.recipe[o];
					if (this.hasItem(r.type, r.ID) < r.N) return !1
				}
				return !0
			}, t.prototype.craft = function(t, e) {
				if (this.canCraft(t, e)) {
					for (var i = a.Items.getItem(t, e), n = 0; n < i.data.recipe.length; n++) {
						var o = i.data.recipe[n];
						this.consume(o.type, o.ID, o.N)
					}
					this.add(t, e), this.updated = !0
				}
			}, t
		}();
	e.Backpack = o
}, function(t, e, i) {
	var n = i(200);
	t.exports = function(t) {
		var e = t.length;
		return e ? t[n(0, e - 1)] : void 0
	}
}, function(t, e) {
	t.exports = function(t, e, i) {
		var n = -1,
			a = t.length;
		e < 0 && (e = -e > a ? 0 : a + e), (i = i > a ? a : i) < 0 && (i += a), a = e > i ? 0 : i - e >>> 0, e >>>= 0;
		for (var o = Array(a); ++n < a;) o[n] = t[n + e];
		return o
	}
}, function(t, e, i) {
	var n = i(132),
		a = i(1075);
	t.exports = function(t) {
		return a(n(t).toLowerCase())
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1078);
	e.PlayerDataFactory = n.PlayerDataFactory
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.name = null, e
		}
		return n(e, t), e.prototype.setName = function(t) {
			this.name = t
		}, e.prototype.getName = function() {
			return this.name
		}, e.prototype.isValid = function() {
			return this.name && this.name.isValid()
		}, e
	}(i(37).Data);
	e.AppearanceData = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.firstName = null, e.middleName = null, e.lastName = null, e.nickname = null, e
		}
		return n(e, t), e.prototype.setFirstName = function(t) {
			this.firstName = t
		}, e.prototype.getFirstName = function() {
			return this.firstName
		}, e.prototype.setMiddleName = function(t) {
			this.middleName = t
		}, e.prototype.getMiddleName = function() {
			return this.middleName
		}, e.prototype.setLastName = function(t) {
			this.lastName = t
		}, e.prototype.getLastName = function() {
			return this.lastName
		}, e.prototype.setNickname = function(t) {
			this.nickname = t
		}, e.prototype.getNickname = function() {
			return this.nickname
		}, e.prototype.isValid = function() {
			var t = null === this.firstName || void 0 === this.firstName || this.firstName > 0,
				e = null === this.middleName || void 0 === this.middleName || this.middleName > 0,
				i = null === this.lastName || void 0 === this.lastName || this.lastName > 0,
				n = null === this.nickname || void 0 === this.nickname || this.nickname > 0;
			return t || console.log("NameData firstName invalid: " + this.firstName), e || console.log("NameData middleName invalid: " + this.middleName), i || console.log("NameData lastName invalid: " + this.lastName), n || console.log("NameData nickname invalid: " + this.nickname), t && e && i && n
		}, e
	}(i(37).Data);
	e.NameData = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.appearance = null, e
		}
		return n(e, t), e.prototype.setAppearance = function(t) {
			this.appearance = t
		}, e.prototype.getAppearance = function() {
			return this.appearance
		}, e.prototype.isValid = function() {
			return this.appearance && this.appearance.isValid()
		}, e
	}(i(37).Data);
	e.PlayerData = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.success = null, e
		}
		return n(e, t), e.prototype.setSuccess = function(t) {
			this.success = t
		}, e.prototype.getSuccess = function() {
			return this.success
		}, e.prototype.isValid = function() {
			return null !== this.success
		}, e
	}(i(37).Data);
	e.VoucherCodeRedemption = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(67),
		o = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e.id = null, e.activationCode = null, e.attachments = null, e.userActivationDate = null, e.systemActivationDate = null, e
			}
			return n(e, t), e.prototype.setID = function(t) {
				this.id = t
			}, e.prototype.getID = function() {
				return this.id
			}, e.prototype.setActivationCode = function(t) {
				this.activationCode = t
			}, e.prototype.getActivationCode = function() {
				return this.activationCode
			}, e.prototype.setAttachments = function(t) {
				this.attachments = t
			}, e.prototype.getAttachments = function() {
				return this.attachments
			}, e.prototype.setUserActivationDate = function(t) {
				this.userActivationDate = t
			}, e.prototype.getUserActivationDate = function() {
				return this.userActivationDate
			}, e.prototype.setSystemActivationDate = function(t) {
				this.systemActivationDate = t
			}, e.prototype.getSystemActivationDate = function() {
				return this.systemActivationDate
			}, e.prototype.isValid = function() {
				return null !== this.id && this.id > 0 && null !== this.activationCode && 7 === this.activationCode.length && null !== this.attachments && this.attachments.length > 0 && a.every(this.attachments, function(t) {
					return null !== t && t.isValid()
				}) && (null === this.userActivationDate || this.userActivationDate.length > 0) && (null === this.systemActivationDate || this.systemActivationDate.length > 0)
			}, e
		}(i(37).Data);
	e.VoucherCode = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.id = 0, e.type = null, e.quantity = 1, e
		}
		return n(e, t), e.prototype.setID = function(t) {
			this.id = t
		}, e.prototype.getID = function() {
			return this.id
		}, e.prototype.setType = function(t) {
			this.type = t
		}, e.prototype.getType = function() {
			return this.type
		}, e.prototype.setQuantity = function(t) {
			this.quantity = t
		}, e.prototype.getQuantity = function() {
			return this.quantity
		}, e.prototype.isValid = function() {
			return null !== this.id && this.id > 0 && null !== this.type && this.type.length > 0 && null !== this.quantity
		}, e
	}(i(37).Data);
	e.GameAssetDefinition = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(130),
		o = i(366),
		r = i(365),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.deserialize = function(t) {
				var e = new r.VoucherCode;
				return null !== t && 1 === t.version && (e.setID(t.id), e.setActivationCode(t.activation_code), e.setAttachments(a.DataFactory.deserializeCollection(t.attachments, this.deserializeGameAssetDefinitiion)), e.setUserActivationDate(t.user_activation_date), e.setSystemActivationDate(t.system_activation_date)), e.isValid() || (e = null), e
			}, e.prototype.serialize = function(t) {
				var e = null;
				return t.isValid() && (e = {
					version: 1,
					id: t.getID(),
					activation_code: t.getActivationCode(),
					attachments: a.DataFactory.deserializeCollection(t.getAttachments(), this.serializeGameAssetDefinition),
					user_activation_date: t.getUserActivationDate(),
					system_activation_date: t.getSystemActivationDate()
				}), e
			}, e.prototype.deserializeGameAssetDefinitiion = function(t) {
				var e = new o.GameAssetDefinition;
				return e.setID(t.ID), e.setType(t.type), e.setQuantity(t.N), e
			}, e.prototype.serializeGameAssetDefinition = function(t) {
				return {
					ID: t.getID(),
					type: t.getType(),
					N: t.getQuantity()
				}
			}, e
		}(a.DataFactory);
	e.VoucherCodeFactory = s
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(367);
	e.VoucherCodeFactory = n.VoucherCodeFactory;
	var a = i(1083);
	e.VoucherCodeRedemptionFactory = a.VoucherCodeRedemptionFactory
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(67),
		o = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e.button = null, e.items = null, e
			}
			return n(e, t), e.prototype.getButton = function() {
				return this.button
			}, e.prototype.setButton = function(t) {
				this.button = t
			}, e.prototype.isDefault = function() {
				return this.isDefaultTab
			}, e.prototype.setIsDefault = function(t) {
				this.isDefaultTab = t
			}, e.prototype.getStoreItems = function() {
				return this.items
			}, e.prototype.setStoreItems = function(t) {
				this.items = t
			}, e.prototype.isValid = function() {
				return null !== this.button && this.button.isValid() && null !== this.items && this.items.length > 0 && a.every(this.items, function(t) {
					return t.isValid()
				})
			}, e
		}(i(37).Data);
	e.StoreTabData = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.itemType = null, e.itemID = -1, e.topText = null, e.bottomText = null, e
		}
		return n(e, t), e.prototype.getItemType = function() {
			return this.itemType
		}, e.prototype.setItemType = function(t) {
			this.itemType = t
		}, e.prototype.getItemID = function() {
			return this.itemID
		}, e.prototype.setItemID = function(t) {
			this.itemID = t
		}, e.prototype.getTopText = function() {
			return this.topText
		}, e.prototype.setTopText = function(t) {
			this.topText = t
		}, e.prototype.getBottomText = function() {
			return this.bottomText
		}, e.prototype.setBottomText = function(t) {
			this.bottomText = t
		}, e.prototype.isValid = function() {
			return null !== this.itemType && this.itemType.length > 0 && this.itemID > 0
		}, e
	}(i(37).Data);
	e.StoreTabButtonData = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.tag = null, e.frame = "", e.scale = {
				x: 1,
				y: 1
			}, e.position = {
				x: 0,
				y: 0
			}, e
		}
		return n(e, t), e.prototype.getAssetTag = function() {
			return this.tag
		}, e.prototype.setAssetTag = function(t) {
			this.tag = t
		}, e.prototype.getAssetFrame = function() {
			return this.frame
		}, e.prototype.setAssetFrame = function(t) {
			this.frame = t
		}, e.prototype.getScale = function() {
			return this.scale
		}, e.prototype.setScale = function(t, e) {
			this.scale.x = t, this.scale.y = e
		}, e.prototype.getPosition = function() {
			return this.position
		}, e.prototype.setPosition = function(t, e) {
			this.position.x = t, this.position.y = e
		}, e.prototype.isValid = function() {
			return null !== this.tag && this.tag.length > 0
		}, e
	}(i(37).Data);
	e.StoreMerchantAvatarData = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(67),
		o = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e.type = null, e.ID = -1, e.cost = [], e
			}
			return n(e, t), e.prototype.getType = function() {
				return this.type
			}, e.prototype.setType = function(t) {
				this.type = t
			}, e.prototype.getID = function() {
				return this.ID
			}, e.prototype.setID = function(t) {
				this.ID = t
			}, e.prototype.getCost = function() {
				return this.cost
			}, e.prototype.setCost = function(t) {
				this.cost = t
			}, e.prototype.isValid = function() {
				return null !== this.cost && this.cost.length > 0 && a.every(this.cost, function(t) {
					return t.isValid()
				}) && null !== this.type && this.type.length > 0 && this.ID > 0
			}, e
		}(i(37).Data);
	e.StoreItemData = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(67),
		o = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e.name = null, e.pages = null, e.merchantAvatar = null, e.currencyType = null, e.currencyID = -1, e
			}
			return n(e, t), e.prototype.getName = function() {
				return this.name
			}, e.prototype.setName = function(t) {
				this.name = t
			}, e.prototype.getPages = function() {
				return this.pages
			}, e.prototype.setPages = function(t) {
				this.pages = t
			}, e.prototype.getMerchantAvatar = function() {
				return this.merchantAvatar
			}, e.prototype.setMerchantAvatar = function(t) {
				this.merchantAvatar = t
			}, e.prototype.getStoreCurrencyType = function() {
				return this.currencyType
			}, e.prototype.setStoreCurrencyType = function(t) {
				this.currencyType = t
			}, e.prototype.getStoreCurrencyID = function() {
				return this.currencyID
			}, e.prototype.setStoreCurrencyID = function(t) {
				this.currencyID = t
			}, e.prototype.isValid = function() {
				return null !== this.merchantAvatar && this.merchantAvatar.isValid() && null !== this.name && this.name.length > 0 && null !== this.currencyType && this.currencyType.length > 0 && this.currencyID > 0 && null !== this.pages && this.pages.length > 0 && a.every(this.pages, function(t) {
					return t.isValid()
				})
			}, e
		}(i(37).Data);
	e.StoreData = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.type = null, e.ID = -1, e.amount = 1, e
		}
		return n(e, t), e.prototype.getType = function() {
			return this.type
		}, e.prototype.setType = function(t) {
			this.type = t
		}, e.prototype.getAmount = function() {
			return this.amount
		}, e.prototype.setAmount = function(t) {
			this.amount = t
		}, e.prototype.getID = function() {
			return this.ID
		}, e.prototype.setID = function(t) {
			this.ID = t
		}, e.prototype.isValid = function() {
			return this.ID > 0 && this.amount > 0 && null !== this.type && this.type.length > 0
		}, e
	}(i(37).Data);
	e.StoreCostData = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || Object.assign || function(t) {
			for (var e, i = 1, n = arguments.length; i < n; i++)
				for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
			return t
		},
		o = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var r = i(9),
		s = i(130),
		l = i(374),
		c = i(373),
		h = i(372),
		u = i(371),
		p = i(370),
		d = i(369),
		g = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), i = e, e.prototype.deserialize = function(t) {
				var e = new c.StoreData;
				return null !== t && 1 === t.version && (e.setName(t.name), e.setStoreCurrencyID(t.currencyID), e.setStoreCurrencyType(t.currencyType), e.setMerchantAvatar(i.deserializeMerchantAvatar(t.merchantAvatar)), e.setPages(i.deserializeCollection(t.pages, i.deserializeTab))), e.isValid() || (e = null), e
			}, e.prototype.serialize = function(t) {
				var e = null;
				return t.isValid() && (e = {
					version: 1,
					name: t.getName(),
					currencyID: t.getStoreCurrencyID(),
					currencyType: t.getStoreCurrencyType(),
					merchantAvatar: i.serializeMerchantAvatar(t.getMerchantAvatar()),
					pages: i.serializeCollection(t.getPages(), i.serializeTab)
				}), e
			}, e.deserializeMerchantAvatar = function(t) {
				var e = new u.StoreMerchantAvatarData;
				return e.setAssetFrame(t.frame), e.setAssetTag(t.tag), e.setPosition(t.position.x, t.position.y), e.setScale(t.scale.x, t.scale.y), e
			}, e.serializeMerchantAvatar = function(t) {
				return {
					tag: t.getAssetTag(),
					frame: t.getAssetFrame(),
					position: a({}, t.getPosition()),
					scale: a({}, t.getScale())
				}
			}, e.deserializeTab = function(t) {
				var e = new d.StoreTabData;
				return e.setButton(i.deserializeTabButton(t.btn)), e.setIsDefault(t.isDefault), e.setStoreItems(i.deserializeCollection(t.items, i.deserializeStoreItem)), e
			}, e.serializeTab = function(t) {
				return {
					btn: i.serializeTabButton(t.getButton()),
					isDefault: t.isDefault(),
					items: i.serializeCollection(t.getStoreItems(), i.serializeStoreItem)
				}
			}, e.deserializeTabButton = function(t) {
				var e = new p.StoreTabButtonData;
				return e.setItemType(t.icon.type), e.setItemID(t.icon.ID), e.setTopText(t.top), e.setBottomText(t.bot), e
			}, e.serializeTabButton = function(t) {
				return {
					icon: {
						type: t.getItemType(),
						ID: t.getItemID()
					},
					bot: t.getBottomText(),
					top: t.getTopText()
				}
			}, e.deserializeStoreItem = function(t) {
				var e = new h.StoreItemData;
				return e.setType(t.type), e.setID(t.ID), e.setCost(i.deserializeCollection(t.cost, i.deserializeStoreCost)), e
			}, e.serializeStoreItem = function(t) {
				return {
					ID: t.getID(),
					type: t.getType(),
					cost: i.serializeCollection(t.getCost(), i.serializeStoreCost)
				}
			}, e.deserializeStoreCost = function(t) {
				var e = new l.StoreCostData;
				return e.setAmount(t.N), e.setType(t.type), e.setID(t.ID), e
			}, e.serializeStoreCost = function(t) {
				return {
					N: t.getAmount(),
					ID: t.getID(),
					type: t.getType()
				}
			}, e = i = o([r.injectable()], e);
			var i
		}(s.DataFactory);
	e.StoreDataFactory = g
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
		var a, o = arguments.length,
			r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
		else
			for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
		return o > 3 && r && Object.defineProperty(e, i, r), r
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(9),
		o = function() {
			function t() {}
			return t = n([a.injectable()], t)
		}();
	e.IStoreDataProvider = o
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t(t, e, i) {
			void 0 === i && (i = ""), this.id = t, this.reasonCode = e, this.backtrace = i.split("\n").map(function(t) {
				return t.trim()
			})
		}
		return t.prototype.getId = function() {
			return this.id
		}, t.prototype.getReasonCode = function() {
			return this.reasonCode
		}, t.prototype.getBacktrace = function() {
			return this.backtrace
		}, t.prototype.getObjectForJSON = function() {
			return {
				backtrace: this.backtrace,
				id: this.id,
				reason_code: this.reasonCode
			}
		}, t
	}();
	e.ApplicationError = n
}, function(t, e, i) {
	var n = i(1095)();
	t.exports = n
}, function(t, e, i) {
	var n = i(378),
		a = i(72);
	t.exports = function(t, e) {
		return t && n(t, e, a)
	}
}, function(t, e, i) {
	var n = i(106),
		a = i(50);
	t.exports = function(t, e) {
		var i = -1,
			o = a(t) ? Array(t.length) : [];
		return n(t, function(t, n, a) {
			o[++i] = e(t, n, a)
		}), o
	}
}, function(t, e) {
	t.exports = function(t) {
		return function(e) {
			return null == e ? void 0 : e[t]
		}
	}
}, function(t, e) {
	t.exports = function(t, e) {
		return function(i) {
			return null != i && i[t] === e && (void 0 !== e || t in Object(i))
		}
	}
}, function(t, e, i) {
	var n = i(52);
	t.exports = function(t) {
		return t == t && !n(t)
	}
}, function(t, e, i) {
	var n = i(74)(i(53), "Set");
	t.exports = n
}, function(t, e) {
	t.exports = function(t, e) {
		return function(i) {
			return t(e(i))
		}
	}
}, function(t, e, i) {
	var n = i(1114),
		a = i(110),
		o = i(18),
		r = i(109),
		s = i(135),
		l = i(134),
		c = Object.prototype.hasOwnProperty;
	t.exports = function(t, e) {
		var i = o(t),
			h = !i && a(t),
			u = !i && !h && r(t),
			p = !i && !h && !u && l(t),
			d = i || h || u || p,
			g = d ? n(t.length, String) : [],
			f = g.length;
		for (var y in t) !e && !c.call(t, y) || d && ("length" == y || u && ("offset" == y || "parent" == y) || p && ("buffer" == y || "byteLength" == y || "byteOffset" == y) || s(y, f)) || g.push(y);
		return g
	}
}, function(t, e) {
	t.exports = function() {
		return []
	}
}, function(t, e) {
	t.exports = function(t, e) {
		for (var i = -1, n = null == t ? 0 : t.length, a = 0, o = []; ++i < n;) {
			var r = t[i];
			e(r, i, t) && (o[a++] = r)
		}
		return o
	}
}, function(t, e, i) {
	var n = i(210),
		a = i(18);
	t.exports = function(t, e, i) {
		var o = e(t);
		return a(t) ? o : n(o, i(t))
	}
}, function(t, e, i) {
	var n = i(389),
		a = i(209),
		o = i(72);
	t.exports = function(t) {
		return n(t, o, a)
	}
}, function(t, e, i) {
	var n = i(53).Uint8Array;
	t.exports = n
}, function(t, e) {
	t.exports = function(t, e) {
		for (var i = -1, n = null == t ? 0 : t.length; ++i < n;)
			if (e(t[i], i, t)) return !0;
		return !1
	}
}, function(t, e, i) {
	var n = i(213),
		a = i(392),
		o = i(212),
		r = 1,
		s = 2;
	t.exports = function(t, e, i, l, c, h) {
		var u = i & r,
			p = t.length,
			d = e.length;
		if (p != d && !(u && d > p)) return !1;
		var g = h.get(t);
		if (g && h.get(e)) return g == e;
		var f = -1,
			y = !0,
			m = i & s ? new n : void 0;
		for (h.set(t, e), h.set(e, t); ++f < p;) {
			var _ = t[f],
				v = e[f];
			if (l) var E = u ? l(v, _, f, e, t, h) : l(_, v, f, t, e, h);
			if (void 0 !== E) {
				if (E) continue;
				y = !1;
				break
			}
			if (m) {
				if (!a(e, function(t, e) {
						if (!o(m, e) && (_ === t || c(_, t, i, l, h))) return m.push(e)
					})) {
					y = !1;
					break
				}
			} else if (_ !== v && !c(_, v, i, l, h)) {
				y = !1;
				break
			}
		}
		return h.delete(t), h.delete(e), y
	}
}, function(t, e) {
	var i = Function.prototype.toString;
	t.exports = function(t) {
		if (null != t) {
			try {
				return i.call(t)
			} catch (t) {}
			try {
				return t + ""
			} catch (t) {}
		}
		return ""
	}
}, function(t, e, i) {
	(function(e) {
		var i = "object" == typeof e && e && e.Object === Object && e;
		t.exports = i
	}).call(this, i(39))
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(9),
		a = i(397),
		o = function() {
			function t() {
				this.inversifyContainer = new n.Container
			}
			return t.prototype.bind = function(t) {
				return new a.InversifyBindingTo(this.inversifyContainer.bind(t))
			}, t.prototype.unbind = function(t) {
				this.hasBinding(t) && this.inversifyContainer.unbind(t)
			}, t.prototype.rebind = function(t) {
				return this.unbind(t), this.bind(t)
			}, t.prototype.get = function(t) {
				return this.hasBinding(t) ? this.inversifyContainer.get(t) : null
			}, t.prototype.hasBinding = function(t) {
				return this.inversifyContainer.isBound(t)
			}, t
		}();
	e.InversifyContainer = o
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(398),
		a = function() {
			function t(t) {
				this.inversifyBindingTo = null, this.inversifyBindingTo = t
			}
			return t.prototype.to = function(t) {
				return new n.InversifyBindingAs(this.inversifyBindingTo.to(t))
			}, t.prototype.toConstantValue = function(t) {
				this.inversifyBindingTo.toConstantValue(t)
			}, t
		}();
	e.InversifyBindingTo = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t(t) {
			this.inversifyInterface = null, this.inversifyInterface = t
		}
		return t.prototype.asSingleton = function() {
			this.inversifyInterface.inSingletonScope()
		}, t
	}();
	e.InversifyBindingAs = n
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(1177)), n(i(1176))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e) {
			var i = t.call(this) || this;
			return i.source = null, i.setText(e), i
		}
		return n(e, t), e.prototype.getText = function() {
			return this.source
		}, e.prototype.setText = function(t) {
			this.source = t, this.OnTextChanged.dispatch(this, t)
		}, e
	}(i(401).TextSource);
	e.StringTextSource = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t() {
			this.onTextChanged = new Phaser.Signal
		}
		return Object.defineProperty(t.prototype, "OnTextChanged", {
			get: function() {
				return this.onTextChanged
			},
			enumerable: !0,
			configurable: !0
		}), t
	}();
	e.TextSource = n
}, function(t, e) {
	var i = [].slice;
	t.exports = function(t, e) {
		if ("string" == typeof e && (e = t[e]), "function" != typeof e) throw new Error("bind() requires a function");
		var n = i.call(arguments, 2);
		return function() {
			return e.apply(t, n.concat(i.call(arguments)))
		}
	}
}, function(t, e) {
	t.exports = function(t, e, i) {
		return t.on(e, i), {
			destroy: function() {
				t.removeListener(e, i)
			}
		}
	}
}, function(t, e, i) {
	var n = i(223),
		a = i(91),
		o = i(1181),
		r = i(403),
		s = i(402),
		l = i(145)("socket.io-client:socket"),
		c = i(144);
	t.exports = p;
	var h = {
			connect: 1,
			connect_error: 1,
			connect_timeout: 1,
			connecting: 1,
			disconnect: 1,
			error: 1,
			reconnect: 1,
			reconnect_attempt: 1,
			reconnect_failed: 1,
			reconnect_error: 1,
			reconnecting: 1,
			ping: 1,
			pong: 1
		},
		u = a.prototype.emit;

	function p(t, e, i) {
		this.io = t, this.nsp = e, this.json = this, this.ids = 0, this.acks = {}, this.receiveBuffer = [], this.sendBuffer = [], this.connected = !1, this.disconnected = !0, i && i.query && (this.query = i.query), this.io.autoConnect && this.open()
	}
	a(p.prototype), p.prototype.subEvents = function() {
		if (!this.subs) {
			var t = this.io;
			this.subs = [r(t, "open", s(this, "onopen")), r(t, "packet", s(this, "onpacket")), r(t, "close", s(this, "onclose"))]
		}
	}, p.prototype.open = p.prototype.connect = function() {
		return this.connected ? this : (this.subEvents(), this.io.open(), "open" === this.io.readyState && this.onopen(), this.emit("connecting"), this)
	}, p.prototype.send = function() {
		var t = o(arguments);
		return t.unshift("message"), this.emit.apply(this, t), this
	}, p.prototype.emit = function(t) {
		if (h.hasOwnProperty(t)) return u.apply(this, arguments), this;
		var e = o(arguments),
			i = {
				type: n.EVENT,
				data: e,
				options: {}
			};
		return i.options.compress = !this.flags || !1 !== this.flags.compress, "function" == typeof e[e.length - 1] && (l("emitting packet with ack id %d", this.ids), this.acks[this.ids] = e.pop(), i.id = this.ids++), this.connected ? this.packet(i) : this.sendBuffer.push(i), delete this.flags, this
	}, p.prototype.packet = function(t) {
		t.nsp = this.nsp, this.io.packet(t)
	}, p.prototype.onopen = function() {
		if (l("transport is open - connecting"), "/" !== this.nsp)
			if (this.query) {
				var t = "object" == typeof this.query ? c.encode(this.query) : this.query;
				l("sending connect packet with query %s", t), this.packet({
					type: n.CONNECT,
					query: t
				})
			} else this.packet({
				type: n.CONNECT
			})
	}, p.prototype.onclose = function(t) {
		l("close (%s)", t), this.connected = !1, this.disconnected = !0, delete this.id, this.emit("disconnect", t)
	}, p.prototype.onpacket = function(t) {
		if (t.nsp === this.nsp) switch (t.type) {
			case n.CONNECT:
				this.onconnect();
				break;
			case n.EVENT:
			case n.BINARY_EVENT:
				this.onevent(t);
				break;
			case n.ACK:
			case n.BINARY_ACK:
				this.onack(t);
				break;
			case n.DISCONNECT:
				this.ondisconnect();
				break;
			case n.ERROR:
				this.emit("error", t.data)
		}
	}, p.prototype.onevent = function(t) {
		var e = t.data || [];
		l("emitting event %j", e), null != t.id && (l("attaching ack callback to event"), e.push(this.ack(t.id))), this.connected ? u.apply(this, e) : this.receiveBuffer.push(e)
	}, p.prototype.ack = function(t) {
		var e = this,
			i = !1;
		return function() {
			if (!i) {
				i = !0;
				var a = o(arguments);
				l("sending ack %j", a), e.packet({
					type: n.ACK,
					id: t,
					data: a
				})
			}
		}
	}, p.prototype.onack = function(t) {
		var e = this.acks[t.id];
		"function" == typeof e ? (l("calling ack %s with %j", t.id, t.data), e.apply(this, t.data), delete this.acks[t.id]) : l("bad ack %s", t.id)
	}, p.prototype.onconnect = function() {
		this.connected = !0, this.disconnected = !1, this.emit("connect"), this.emitBuffered()
	}, p.prototype.emitBuffered = function() {
		var t;
		for (t = 0; t < this.receiveBuffer.length; t++) u.apply(this, this.receiveBuffer[t]);
		for (this.receiveBuffer = [], t = 0; t < this.sendBuffer.length; t++) this.packet(this.sendBuffer[t]);
		this.sendBuffer = []
	}, p.prototype.ondisconnect = function() {
		l("server disconnect (%s)", this.nsp), this.destroy(), this.onclose("io server disconnect")
	}, p.prototype.destroy = function() {
		if (this.subs) {
			for (var t = 0; t < this.subs.length; t++) this.subs[t].destroy();
			this.subs = null
		}
		this.io.destroy(this)
	}, p.prototype.close = p.prototype.disconnect = function() {
		return this.connected && (l("performing disconnect (%s)", this.nsp), this.packet({
			type: n.DISCONNECT
		})), this.destroy(), this.connected && this.onclose("io client disconnect"), this
	}, p.prototype.compress = function(t) {
		return this.flags = this.flags || {}, this.flags.compress = t, this
	}
}, function(t, e) {
	var i = [].indexOf;
	t.exports = function(t, e) {
		if (i) return t.indexOf(e);
		for (var n = 0; n < t.length; ++n)
			if (t[n] === e) return n;
		return -1
	}
}, function(t, e, i) {
	"use strict";
	var n, a = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),
		o = 64,
		r = {},
		s = 0,
		l = 0;

	function c(t) {
		var e = "";
		do {
			e = a[t % o] + e, t = Math.floor(t / o)
		} while (t > 0);
		return e
	}

	function h() {
		var t = c(+new Date);
		return t !== n ? (s = 0, n = t) : t + "." + c(s++)
	}
	for (; l < o; l++) r[a[l]] = l;
	h.encode = c, h.decode = function(t) {
		var e = 0;
		for (l = 0; l < t.length; l++) e = e * o + r[t.charAt(l)];
		return e
	}, t.exports = h
}, function(t, e, i) {
	var n = i(220),
		a = i(144),
		o = i(90),
		r = i(143),
		s = i(406),
		l = i(142)("engine.io-client:polling");
	t.exports = h;
	var c = null != new(i(221))({
		xdomain: !1
	}).responseType;

	function h(t) {
		var e = t && t.forceBase64;
		c && !e || (this.supportsBinary = !1), n.call(this, t)
	}
	r(h, n), h.prototype.name = "polling", h.prototype.doOpen = function() {
		this.poll()
	}, h.prototype.pause = function(t) {
		var e = this;

		function i() {
			l("paused"), e.readyState = "paused", t()
		}
		if (this.readyState = "pausing", this.polling || !this.writable) {
			var n = 0;
			this.polling && (l("we are currently polling - waiting to pause"), n++, this.once("pollComplete", function() {
				l("pre-pause polling complete"), --n || i()
			})), this.writable || (l("we are currently writing - waiting to pause"), n++, this.once("drain", function() {
				l("pre-pause writing complete"), --n || i()
			}))
		} else i()
	}, h.prototype.poll = function() {
		l("polling"), this.polling = !0, this.doPoll(), this.emit("poll")
	}, h.prototype.onData = function(t) {
		var e = this;
		l("polling got data %s", t);
		o.decodePayload(t, this.socket.binaryType, function(t, i, n) {
			if ("opening" === e.readyState && e.onOpen(), "close" === t.type) return e.onClose(), !1;
			e.onPacket(t)
		}), "closed" !== this.readyState && (this.polling = !1, this.emit("pollComplete"), "open" === this.readyState ? this.poll() : l('ignoring poll - transport state "%s"', this.readyState))
	}, h.prototype.doClose = function() {
		var t = this;

		function e() {
			l("writing close packet"), t.write([{
				type: "close"
			}])
		}
		"open" === this.readyState ? (l("transport open - closing"), e()) : (l("transport not open - deferring close"), this.once("open", e))
	}, h.prototype.write = function(t) {
		var e = this;
		this.writable = !1;
		var i = function() {
			e.writable = !0, e.emit("drain")
		};
		o.encodePayload(t, this.supportsBinary, function(t) {
			e.doWrite(t, i)
		})
	}, h.prototype.uri = function() {
		var t = this.query || {},
			e = this.secure ? "https" : "http",
			i = "";
		return !1 !== this.timestampRequests && (t[this.timestampParam] = s()), this.supportsBinary || t.sid || (t.b64 = 1), t = a.encode(t), this.port && ("https" === e && 443 !== Number(this.port) || "http" === e && 80 !== Number(this.port)) && (i = ":" + this.port), t.length && (t = "?" + t), e + "://" + (-1 !== this.hostname.indexOf(":") ? "[" + this.hostname + "]" : this.hostname) + i + this.path + t
	}
}, function(t, e, i) {
	(function(t) {
		var n = i(221),
			a = i(1192),
			o = i(1184),
			r = i(1183);
		e.polling = function(e) {
			var i = !1,
				r = !1,
				s = !1 !== e.jsonp;
			if (t.location) {
				var l = "https:" === location.protocol,
					c = location.port;
				c || (c = l ? 443 : 80), i = e.hostname !== location.hostname || c !== e.port, r = e.secure !== l
			}
			if (e.xdomain = i, e.xscheme = r, "open" in new n(e) && !e.forceJSONP) return new a(e);
			if (!s) throw new Error("JSONP disabled");
			return new o(e)
		}, e.websocket = r
	}).call(this, i(39))
}, function(t, e, i) {
	var n = i(1195),
		a = i(404),
		o = i(91),
		r = i(223),
		s = i(403),
		l = i(402),
		c = i(145)("socket.io-client:manager"),
		h = i(405),
		u = i(1180),
		p = Object.prototype.hasOwnProperty;

	function d(t, e) {
		if (!(this instanceof d)) return new d(t, e);
		t && "object" == typeof t && (e = t, t = void 0), (e = e || {}).path = e.path || "/socket.io", this.nsps = {}, this.subs = [], this.opts = e, this.reconnection(!1 !== e.reconnection), this.reconnectionAttempts(e.reconnectionAttempts || 1 / 0), this.reconnectionDelay(e.reconnectionDelay || 1e3), this.reconnectionDelayMax(e.reconnectionDelayMax || 5e3), this.randomizationFactor(e.randomizationFactor || .5), this.backoff = new u({
			min: this.reconnectionDelay(),
			max: this.reconnectionDelayMax(),
			jitter: this.randomizationFactor()
		}), this.timeout(null == e.timeout ? 2e4 : e.timeout), this.readyState = "closed", this.uri = t, this.connecting = [], this.lastPing = null, this.encoding = !1, this.packetBuffer = [];
		var i = e.parser || r;
		this.encoder = new i.Encoder, this.decoder = new i.Decoder, this.autoConnect = !1 !== e.autoConnect, this.autoConnect && this.open()
	}
	t.exports = d, d.prototype.emitAll = function() {
		for (var t in this.emit.apply(this, arguments), this.nsps) p.call(this.nsps, t) && this.nsps[t].emit.apply(this.nsps[t], arguments)
	}, d.prototype.updateSocketIds = function() {
		for (var t in this.nsps) p.call(this.nsps, t) && (this.nsps[t].id = this.generateId(t))
	}, d.prototype.generateId = function(t) {
		return ("/" === t ? "" : t + "#") + this.engine.id
	}, o(d.prototype), d.prototype.reconnection = function(t) {
		return arguments.length ? (this._reconnection = !!t, this) : this._reconnection
	}, d.prototype.reconnectionAttempts = function(t) {
		return arguments.length ? (this._reconnectionAttempts = t, this) : this._reconnectionAttempts
	}, d.prototype.reconnectionDelay = function(t) {
		return arguments.length ? (this._reconnectionDelay = t, this.backoff && this.backoff.setMin(t), this) : this._reconnectionDelay
	}, d.prototype.randomizationFactor = function(t) {
		return arguments.length ? (this._randomizationFactor = t, this.backoff && this.backoff.setJitter(t), this) : this._randomizationFactor
	}, d.prototype.reconnectionDelayMax = function(t) {
		return arguments.length ? (this._reconnectionDelayMax = t, this.backoff && this.backoff.setMax(t), this) : this._reconnectionDelayMax
	}, d.prototype.timeout = function(t) {
		return arguments.length ? (this._timeout = t, this) : this._timeout
	}, d.prototype.maybeReconnectOnOpen = function() {
		!this.reconnecting && this._reconnection && 0 === this.backoff.attempts && this.reconnect()
	}, d.prototype.open = d.prototype.connect = function(t, e) {
		if (c("readyState %s", this.readyState), ~this.readyState.indexOf("open")) return this;
		c("opening %s", this.uri), this.engine = n(this.uri, this.opts);
		var i = this.engine,
			a = this;
		this.readyState = "opening", this.skipReconnect = !1;
		var o = s(i, "open", function() {
				a.onopen(), t && t()
			}),
			r = s(i, "error", function(e) {
				if (c("connect_error"), a.cleanup(), a.readyState = "closed", a.emitAll("connect_error", e), t) {
					var i = new Error("Connection error");
					i.data = e, t(i)
				} else a.maybeReconnectOnOpen()
			});
		if (!1 !== this._timeout) {
			var l = this._timeout;
			c("connect attempt will timeout after %d", l);
			var h = setTimeout(function() {
				c("connect attempt timed out after %d", l), o.destroy(), i.close(), i.emit("error", "timeout"), a.emitAll("connect_timeout", l)
			}, l);
			this.subs.push({
				destroy: function() {
					clearTimeout(h)
				}
			})
		}
		return this.subs.push(o), this.subs.push(r), this
	}, d.prototype.onopen = function() {
		c("open"), this.cleanup(), this.readyState = "open", this.emit("open");
		var t = this.engine;
		this.subs.push(s(t, "data", l(this, "ondata"))), this.subs.push(s(t, "ping", l(this, "onping"))), this.subs.push(s(t, "pong", l(this, "onpong"))), this.subs.push(s(t, "error", l(this, "onerror"))), this.subs.push(s(t, "close", l(this, "onclose"))), this.subs.push(s(this.decoder, "decoded", l(this, "ondecoded")))
	}, d.prototype.onping = function() {
		this.lastPing = new Date, this.emitAll("ping")
	}, d.prototype.onpong = function() {
		this.emitAll("pong", new Date - this.lastPing)
	}, d.prototype.ondata = function(t) {
		this.decoder.add(t)
	}, d.prototype.ondecoded = function(t) {
		this.emit("packet", t)
	}, d.prototype.onerror = function(t) {
		c("error", t), this.emitAll("error", t)
	}, d.prototype.socket = function(t, e) {
		var i = this.nsps[t];
		if (!i) {
			i = new a(this, t, e), this.nsps[t] = i;
			var n = this;
			i.on("connecting", o), i.on("connect", function() {
				i.id = n.generateId(t)
			}), this.autoConnect && o()
		}

		function o() {
			~h(n.connecting, i) || n.connecting.push(i)
		}
		return i
	}, d.prototype.destroy = function(t) {
		var e = h(this.connecting, t);
		~e && this.connecting.splice(e, 1), this.connecting.length || this.close()
	}, d.prototype.packet = function(t) {
		c("writing packet %j", t);
		var e = this;
		t.query && 0 === t.type && (t.nsp += "?" + t.query), e.encoding ? e.packetBuffer.push(t) : (e.encoding = !0, this.encoder.encode(t, function(i) {
			for (var n = 0; n < i.length; n++) e.engine.write(i[n], t.options);
			e.encoding = !1, e.processPacketQueue()
		}))
	}, d.prototype.processPacketQueue = function() {
		if (this.packetBuffer.length > 0 && !this.encoding) {
			var t = this.packetBuffer.shift();
			this.packet(t)
		}
	}, d.prototype.cleanup = function() {
		c("cleanup");
		for (var t = this.subs.length, e = 0; e < t; e++) {
			this.subs.shift().destroy()
		}
		this.packetBuffer = [], this.encoding = !1, this.lastPing = null, this.decoder.destroy()
	}, d.prototype.close = d.prototype.disconnect = function() {
		c("disconnect"), this.skipReconnect = !0, this.reconnecting = !1, "opening" === this.readyState && this.cleanup(), this.backoff.reset(), this.readyState = "closed", this.engine && this.engine.close()
	}, d.prototype.onclose = function(t) {
		c("onclose"), this.cleanup(), this.backoff.reset(), this.readyState = "closed", this.emit("close", t), this._reconnection && !this.skipReconnect && this.reconnect()
	}, d.prototype.reconnect = function() {
		if (this.reconnecting || this.skipReconnect) return this;
		var t = this;
		if (this.backoff.attempts >= this._reconnectionAttempts) c("reconnect failed"), this.backoff.reset(), this.emitAll("reconnect_failed"), this.reconnecting = !1;
		else {
			var e = this.backoff.duration();
			c("will wait %dms before reconnect attempt", e), this.reconnecting = !0;
			var i = setTimeout(function() {
				t.skipReconnect || (c("attempting reconnect"), t.emitAll("reconnect_attempt", t.backoff.attempts), t.emitAll("reconnecting", t.backoff.attempts), t.skipReconnect || t.open(function(e) {
					e ? (c("reconnect attempt error"), t.reconnecting = !1, t.reconnect(), t.emitAll("reconnect_error", e.data)) : (c("reconnect success"), t.onreconnect())
				}))
			}, e);
			this.subs.push({
				destroy: function() {
					clearTimeout(i)
				}
			})
		}
	}, d.prototype.onreconnect = function() {
		var t = this.backoff.attempts;
		this.reconnecting = !1, this.backoff.reset(), this.updateSocketIds(), this.emitAll("reconnect", t)
	}
}, function(t, e, i) {
	(function(e) {
		t.exports = function(t) {
			return e.Buffer && e.Buffer.isBuffer(t) || e.ArrayBuffer && (t instanceof ArrayBuffer || ArrayBuffer.isView(t))
		}
	}).call(this, i(39))
}, function(t, e, i) {
	(function(e) {
		var n = i(222),
			a = Object.prototype.toString,
			o = "function" == typeof Blob || "undefined" != typeof Blob && "[object BlobConstructor]" === a.call(Blob),
			r = "function" == typeof File || "undefined" != typeof File && "[object FileConstructor]" === a.call(File);
		t.exports = function t(i) {
			if (!i || "object" != typeof i) return !1;
			if (n(i)) {
				for (var a = 0, s = i.length; a < s; a++)
					if (t(i[a])) return !0;
				return !1
			}
			if ("function" == typeof e && e.isBuffer && e.isBuffer(i) || "function" == typeof ArrayBuffer && i instanceof ArrayBuffer || o && i instanceof Blob || r && i instanceof File) return !0;
			if (i.toJSON && "function" == typeof i.toJSON && 1 === arguments.length) return t(i.toJSON(), !0);
			for (var l in i)
				if (Object.prototype.hasOwnProperty.call(i, l) && t(i[l])) return !0;
			return !1
		}
	}).call(this, i(1200).Buffer)
}, function(t, e) {
	var i = /^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
		n = ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"];
	t.exports = function(t) {
		var e = t,
			a = t.indexOf("["),
			o = t.indexOf("]"); - 1 != a && -1 != o && (t = t.substring(0, a) + t.substring(a, o).replace(/:/g, ";") + t.substring(o, t.length));
		for (var r = i.exec(t || ""), s = {}, l = 14; l--;) s[n[l]] = r[l] || "";
		return -1 != a && -1 != o && (s.source = e, s.host = s.host.substring(1, s.host.length - 1).replace(/;/g, ":"), s.authority = s.authority.replace("[", "").replace("]", "").replace(/;/g, ":"), s.ipv6uri = !0), s
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(9),
		r = i(1211),
		s = i(38),
		l = i(226),
		c = i(1210),
		h = i(1209),
		u = i(227),
		p = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.init = function(e) {
				var i = this;
				t.prototype.init.call(this, e), this.add(u.StateMachine, function(t) {
					return function(e, n) {
						var a = t.container.resolve(u.StateMachine);
						return a.init(i, e, n), a
					}
				}), this.add(h.State, function(t) {
					return function(e, n) {
						var a = t.container.resolve(h.State);
						return a.init(i, e, n), a
					}
				}), this.add(s.Action, function(t) {
					return function(e, i) {
						var n = "" + e.Type;
						if (l.Actions.hasOwnProperty(n)) {
							var a = t.container.resolve(l.Actions[n]);
							return a.init(e, i), a
						}
						return null
					}
				}), this.add(c.Condition, function(t) {
					return function(e, i) {
						var n = t.container.resolve(c.Condition);
						return n.init(e, i), n
					}
				})
			}, e.prototype.createStateMachine = function(t, e) {
				return this.create(u.StateMachine, t, e)
			}, e.prototype.createState = function(t, e) {
				return this.create(h.State, t, e)
			}, e.prototype.createAction = function(t, e) {
				return this.create(s.Action, t, e)
			}, e.prototype.createCondition = function(t, e) {
				return this.create(c.Condition, t, e)
			}, e = a([o.injectable()], e)
		}(r.Factories);
	e.FSMFactories = p
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		a = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		o = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var r = i(9),
		s = i(229),
		l = i(413),
		c = function() {
			function t(t) {
				this.fsmFactories = null, this.fsmFactories = t
			}
			return t.prototype.execute = function(t, e, i) {
				void 0 === i && (i = null), this.createStateMachine(t, e, i).execute()
			}, t.prototype.createStateMachine = function(t, e, i) {
				void 0 === i && (i = null);
				var n = this.fsmFactories.createStateMachine(t, e);
				return i && n.OnComplete.addOnce(i), n
			}, t = n([r.injectable(), o(0, r.inject(s.GameIdentifiers.FSMFactories)), a("design:paramtypes", [l.FSMFactories])], t)
		}();
	e.FSMController = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.states = [], e
		}
		return n(e, t), Object.defineProperty(e.prototype, "States", {
			get: function() {
				return this.states
			},
			set: function(t) {
				this.states = t
			},
			enumerable: !0,
			configurable: !0
		}), e
	}(i(1224).VersionedData);
	e.StateMachineData = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.type = null, e.parameters = {}, e.results = {}, e
		}
		return n(e, t), Object.defineProperty(e.prototype, "Type", {
			get: function() {
				return this.type
			},
			set: function(t) {
				this.type = t
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(e.prototype, "Parameters", {
			get: function() {
				return this.parameters
			},
			set: function(t) {
				this.parameters = t
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(e.prototype, "Results", {
			get: function() {
				return this.results
			},
			set: function(t) {
				this.results = t
			},
			enumerable: !0,
			configurable: !0
		}), e
	}(i(114).BaseData);
	e.ActionData = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(9),
		r = i(1227),
		s = i(416),
		l = i(1226),
		c = i(1225),
		h = i(415),
		u = i(1223),
		p = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), i = e, e.prototype.deserialize = function(t) {
				var e = new h.StateMachineData;
				return e.Version = t.version, e.States = r.DataFactories.deserializeCollection(t.states, i.deserializeState), e
			}, e.prototype.serialize = function(t) {
				return {
					version: 1,
					states: r.DataFactories.serializeCollection(t.States, i.serializeState)
				}
			}, e.deserializeState = function(t) {
				var e = new c.StateData;
				return e.Name = t.name, e.Actions = r.DataFactories.deserializeCollection(t.actions, i.deserializeAction), e.Transitions = r.DataFactories.deserializeCollection(t.transitions, i.deserializeTransition), e
			}, e.serializeState = function(t) {
				return {
					name: t.Name,
					actions: r.DataFactories.serializeCollection(t.Actions, i.serializeAction),
					transitions: r.DataFactories.serializeCollection(t.Transitions, i.serializeTransition)
				}
			}, e.deserializeAction = function(t) {
				var e = new s.ActionData;
				return e.Type = t.type, e.Parameters = t.parameters, e.Results = t.results, e
			}, e.serializeAction = function(t) {
				return {
					type: t.Type,
					parameters: t.Parameters,
					results: t.Results
				}
			}, e.deserializeTransition = function(t) {
				var e = new u.TransitionData;
				return e.State = t.state, e.Conditions = r.DataFactories.deserializeCollection(t.conditions, i.deserializeCondition), e
			}, e.serializeTransition = function(t) {
				return {
					state: t.State,
					conditions: r.DataFactories.serializeCollection(t.Conditions, i.serializeCondition)
				}
			}, e.deserializeCondition = function(t) {
				var e = new l.ConditionData;
				return e.Type = t.type, e.Value = t.value, e.Test = t.test, e
			}, e.serializeCondition = function(t) {
				return {
					type: t.Type,
					value: t.Value,
					test: t.Test
				}
			}, e = i = a([o.injectable()], e);
			var i
		}(r.DataFactories);
	e.StateMachineDataFactories = p
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(115)), n(i(92))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
		var a, o = arguments.length,
			r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
		else
			for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
		return o > 3 && r && Object.defineProperty(e, i, r), r
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(9),
		o = function() {
			function t() {
				this.dataSource = null
			}
			return t.prototype.setDataSource = function(t) {
				this.dataSource = t
			}, t = n([a.injectable()], t)
		}();
	e.BaseLocalizer = o
}, function(t) {
	t.exports = {
		keys: ["CHAT_ALL_RIGHT", "CHAT_ALL_GOOD", "CHAT_ABRACADABRA", "CHAT_ANIMALS", "CHAT_ARE_YOU_COMING", "CHAT_ARE_YOU_LEAVING", "CHAT_ARE_YOU_STAYING", "CHAT_ARE_YOU_HAVING_FUN", "CHAT_BAD", "CHAT_BUSY", "CHAT_BYE", "CHAT_BYE_BYE", "CHAT_BORING", "CHAT_BOUGHT_IT", "CHAT_BUT", "CHAT_BARELY", "CHAT_BECAUSE", "CHAT_CANT_RIGHT_NOW", "CHAT_CHECK_IT_OUT", "CHAT_COME_OVER_HERE", "CHAT_CRUD", "CHAT_DO_YOU_HAVE_A_MIN", "CHAT_DO_YOU_HAVE", "CHAT_DID_YOU_SEE_THAT", "CHAT_DID_YOU_CATCH", "CHAT_DONT_BOTHER", "CHAT_DUDE", "CHAT_DEPENDS", "CHAT_EVERYONE_LOOK", "CHAT_ELEMENTARY", "CHAT_FOLLOW_ME", "CHAT_FRIENDS", "CHAT_FORGET_IT", "CHAT_FUN", "CHAT_FOUND_YOU", "CHAT_FOUND_IT", "CHAT_FUNDERFUL", "CHAT_FREAKY", "CHAT_GO_AWAY", "CHAT_GOOD", "CHAT_GOODBYE", "CHAT_GREETINGS", "CHAT_GOOD_MORNING", "CHAT_GOOD_NIGHT", "CHAT_GOOD_AFTERNOON", "CHAT_GOOD_TO_KNOW", "CHAT_GHOSTS", "CHAT_GREAT", "CHAT_GUESS_AGAIN", "CHAT_GUESS", "CHAT_GOLLY", "CHAT_GOT_TO_GO", "CHAT_HI", "CHAT_HELLO", "CHAT_HELLO_THERE", "CHAT_HEY", "CHAT_HOW_ARE_YOU", "CHAT_HOW", "CHAT_HAPPY", "CHAT_HELP_ME", "CHAT_I_CAUGHT_A", "CHAT_I_GOT_A", "CHAT_I_HAVE_TO_GO", "CHAT_I_HAVE_TO_LEAVE", "CHAT_I_LEVELED_UP", "CHAT_I_LOVE_PRODIGY", "CHAT_I_LIKE_YOUR_HAIR", "CHAT_I_LIKE_YOUR_OUTFIT", "CHAT_I_LIKE_YOUR_HAT", "CHAT_I_LIKE_YOUR_WAND", "CHAT_I_LIKE_YOU_PET", "CHAT_I_LIKE_THIS_PLACE", "CHAT_I_DONT_LIKE_IT_HERE", "CHAT_I_LIKE_IT_HERE", "CHAT_ITS_SPOOKY_HERE", "CHAT_ITS_SUPER_RARE", "CHAT_ITS_TIME", "CHAT_IM_RICH", "CHAT_JUST_KIDDING", "CHAT_JUST_YOU_WAIT", "CHAT_JOKING", "CHAT_JEALOUS", "CHAT_KEEP_GOING", "CHAT_KEEP_IT_UP", "CHAT_KEEP_WALKING", "CHAT_LEAVE_ME_ALONE", "CHAT_LOOK", "CHAT_LOOK_AT_THIS", "CHAT_LOVE_IT", "CHAT_LETS_GO", "CHAT_LETS_BATTLE", "CHAT_LET_ME_SEE", "CHAT_LOCKED", "CHAT_MY_FAVOURITE_IS", "CHAT_MY_FAVOURITE_ITEM_IS", "CHAT_MY_FAVOURITE_PET_IS", "CHAT_MAYBE", "CHAT_MAKE_ME", "CHAT_MADE_IT", "CHAT_MANY_THANKS", "CHAT_MADE_TONS_OF_GOLD", "CHAT_NEAT", "CHAT_NO", "CHAT_NOT_RIGHT_NOW", "CHAT_NOT_TODAY", "CHAT_NEVER_MIND", "CHAT_NAH", "CHAT_NO_CAN_DO", "CHAT_NEVER", "CHAT_NOW_QUESTION", "CHAT_NOW", "CHAT_NO_WAY", "CHAT_OVER", "CHAT_OVER_HERE", "CHAT_ONE_OF_THESE_IS", "CHAT_OKAY", "CHAT_OMINOUS", "CHAT_PUYOY", "CHAT_PERHAPS", "CHAT_PARTY_TIME", "CHAT_PRETTY_COOL", "CHAT_PRACTICE", "CHAT_QUACK_QUACK", "CHAT_QUITE", "CHAT_QUIET", "CHAT_RIGHT", "CHAT_RIGHT_BEHIND_YOU", "CHAT_RIBBIT", "CHAT_RIGHT_OVER_HERE", "CHAT_RIGHT_THERE", "CHAT_SEE_YOU_LATER", "CHAT_SEE_YA", "CHAT_SEE", "CHAT_SORRY", "CHAT_SAFE_AND_SOUND", "CHAT_SHHH", "CHAT_SOUNDS_LIKE", "CHAT_SEEMS_LIKE_IT", "CHAT_SOMEONE_SAID_SO", "CHAT_SOMEDAY", "CHAT_THANK_YOU", "CHAT_THERE_YOU_ARE", "CHAT_THINK_ABOUT_IT", "CHAT_TIME_FOR_BED", "CHAT_TIME_FOR_DINNER", "CHAT_TIME_FOR_LUNCH", "CHAT_TIME_FOR_SUPPER", "CHAT_TIME_TO_GET_UP", "CHAT_TIME_TO_GO", "CHAT_TERRIBLE", "CHAT_TELL_YOU_WHAT", "CHAT_VERY_GOOD", "CHAT_WHATS_UP", "CHAT_WHO", "CHAT_WHO_ARE_YOU", "CHAT_WHY", "CHAT_WHAT", "CHAT_WHERE", "CHAT_YES", "CHAT_YOU_COMING", "CHAT_YOU_LOOK_COOL", "CHAT_YOU_STILL_THERE", "CHAT_YOLO", "CHAT_YOURE_WELCOME", "CHAT_ZZZ", "CHAT_DRAGONS", "CHAT_DRAGONS_COMING", "CHAT_DRAGONS_HERE", "CHAT_DRAGONS_COOL", "CHAT_DRAGONS_WANT", "CHAT_DRAGONS_SEEN", "CHAT_CHILL_CHAR_COOL", "CHAT_TIDUS_COOL", "CHAT_ECLIPSE_COOL", "CHAT_LUMA_COOL", "CHAT_CHILL_CHAR_FAVOURITE", "CHAT_TIDUS_FAVOURITE", "CHAT_ECLIPSE_FAVOURITE", "CHAT_LUMA_FAVOURITE", "CHAT_DRAGONS_LIKE", "CHAT_ABRACA_DAB_RA", "CHAT_FEEL_LIKE_DANCING", "CHAT_LETS_DANCE", "CHAT_SHOW_FUNNY_FACE", "CHAT_ASK_PARENTS", "CHAT_PARENTS_BEST", "CHAT_MEMBER_AWESOME", "CHAT_TEACHER_AWESOME", "CHAT_BUNNIES_ARE_BEST", "CHAT_I_LIKE_BUNNIES", "CHAT_GO_BUNNY_BANDITS", "CHAT_DO_YOU_LIKE_BUNNIES", "CHAT_HIPPITY_HOP", "CHAT_HOP_HOP", "CHAT_HARRIET_HOOD_RULES", "CHAT_FOXES_ARE_BEST", "CHAT_I_LIKE_FOXES", "CHAT_GO_FOX_KNIGHTS", "CHAT_DO_YOU_LIKE_FOXES", "CHAT_WHAT_DOES_FOX_SAY", "CHAT_DON_ZORRO_FANTASTICO"]
	}
}, function(t) {
	t.exports = [{
		name: "multiplayerClusterLocations",
		type: "json",
		value: '[{ "ID": 1, "url": "https://multiplayer-1-new.prodigygame.org/","path":"/multiplayer-api/socket.io/"}]'
	}, {
		name: "enableVerboseAnalytics",
		type: "boolean",
		value: !0
	}, {
		name: "recordingFeatures",
		type: "json",
		value: '{"archive-run": true}'
	}, {
		name: "enabledEvents",
		type: "json",
		value: '{"login":true, "toy-event": true, "PVP": true, "epicAttacks": true, "pvp-season-reward": true, "game_complete": true, "game_complete_v3": true, "member-ad": true, "new-member": true, "survey-results": true, "create-character": true, "zone-event": true, "item-change-event": true, "conversion-funnel-event": true, "battle-start-type": true, "game_social": true, "game_social_v3": true, "game_source": true, "game_sink": true, "game_avatar_v3": true, "game_mod": true, "game_battle_v3": true, "anonymous_game_complete_v3": true, "game_question_v3": true, "game_discovery_v3": true, "game_session_start": true, "game_avatar": true, "game_level_up": true, "education_lesson_encounter_v3": true }'
	}, {
		name: "gameDataPath",
		type: "string",
		value: "https://cdn.prodigygame.com/game/data/staging/"
	}]
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(163),
		r = i(12),
		s = i(0),
		l = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				return i.data.target = "PVP", i
			}
			return n(e, t), e.prototype.startLoading = function(t) {
				for (var e in t) this.data[e] = t[e];
				this.game.state.start("PVPLoading")
			}, e.prototype.create = function() {
				this.zoneName = this.data.zoneName, this.playerA = this.data.playerA, this.playerB = this.data.playerB, this.game.prodigy.network.leaveZone(), this.game.prodigy.network.setZone(this), this.inCombat = !1, this.processConnections = !0, this.loadingState = "request_data", this.timeout = (new Date).getTime() + 6e4, this.heartbeat = (new Date).getTime() + 3e3, this.startTime = (new Date).getTime(), this.complete = !1, this.isLoaded = !1, this.isReady = !1, this.playerLoaded = !1, this.isProcessed = !1, this.overlay = this.game.prodigy.create.element(void 0), this.game.prodigy.create.panel(this.overlay, 0, 0, 32, 5, "dark"), this.game.prodigy.create.panel(this.overlay, 0, 200, 32, 8, "light"), this.game.prodigy.create.panel(this.overlay, 0, 520, 32, 5, "dark");
				var t = this.overlay.add(new Phaser.TileSprite(this.game, 0, 199, 1280, 40, "atlas-161", "pvp-top")),
					e = this.overlay.add(new Phaser.TileSprite(this.game, 0, 481, 1280, 40, "atlas-161", "pvp-top2"));
				this.game.add.tween(t.tilePosition).to({
					x: 400
				}, 1e4, Phaser.Easing.Linear.None, !0).repeat(9999), this.game.add.tween(e.tilePosition).to({
					x: -400
				}, 1e4, Phaser.Easing.Linear.None, !0).repeat(9999);
				var i = this.playerA,
					n = this.playerB;
				this.game.prodigy.create.player(this.overlay, i, 2, 400, 450).reload();
				var o = this.game.prodigy.create.player(this.overlay, n, 2, 880, 450);
				o.reload(), o.flip(), this.game.prodigy.create.font(this.overlay, 0, 350, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("PVP_VERSUS_SHORT"), {
					size: 80,
					align: "center",
					width: 1280
				});
				var r = this.game.prodigy.create.panel(this.overlay, 200, 60, 22, 2, "banner");
				this.game.prodigy.create.font(r, 40, 20, "$" + i.getLevel(), {
					size: 36,
					fontID: 9
				}), this.game.prodigy.create.font(r, 40, 20, i.getName(), {
					size: 36,
					fontID: 9,
					align: "center",
					width: 800
				}), this.game.prodigy.create.font(r, 40, 20, i.isMember ? " [membership]" : "", {
					size: 36,
					fontID: 9,
					align: "right",
					width: 800
				});
				var s = this.game.prodigy.create.panel(this.overlay, 200, 580, 22, 2, "banner");
				this.game.prodigy.create.font(s, 40, 20, "$" + n.getLevel(), {
					size: 36,
					fontID: 9
				}), this.game.prodigy.create.font(s, 40, 20, n.getName(), {
					size: 36,
					fontID: 9,
					align: "center",
					width: 800
				}), this.game.prodigy.create.font(s, 40, 20, n.isMember ? " [membership]" : "", {
					size: 36,
					fontID: 9,
					align: "right",
					width: 800
				}), this.start()
			}, e.prototype.start = function() {
				var t = s.Util.isValid(this.data.assets) ? this.data.assets : [];
				this.game.prodigy.load.assets(t, this.loaded.bind(this))
			}, e.prototype.update = function() {
				t.prototype.update.call(this), this.complete || this.checkLoaded(), this.processConnections && s.Util.isValid(this.timeout) && this.timeout < (new Date).getTime() && (this.processConnections = !1, delete this.heartbeat, delete this.timeout, this.data.callback()), this.processConnections && s.Util.isValid(this.heartbeat) && this.heartbeat < (new Date).getTime() && (this.emitMessage({
					action: this.loadingState,
					data: {}
				}), this.heartbeat = (new Date).getTime() + 3e3)
			}, e.prototype.completed = function() {
				this.complete = !0, this.game.state.states.PVP.playerA = this.playerA, this.game.state.states.PVP.playerB = this.playerB, this.game.state.states.PVP.teamA = this.teamA, this.game.state.states.PVP.teamB = this.teamB, this.game.state.states.PVP.mods = this.data.mods, this.game.state.states.PVP.zoneName = this.zoneName, this.game.state.states.PVP.challengerID = this.data.challengerID, this.game.state.states.PVP.callback = this.data.callback, this.game.state.start("PVP")
			}, e.prototype.checkLoaded = function() {
				this.isLoaded && this.playerLoaded && this.isReady && (this.isProcessed = !0)
			}, e.prototype.onMessage = function(t) {
				s.Util.isValid(this.game) && ("request_data" === t.action ? this.emitMessage({
					action: "data",
					data: {
						userID: this.game.prodigy.player.userID,
						equipment: this.game.prodigy.player.equipment.getData(),
						appearance: this.game.prodigy.player.appearance.getData(),
						data: this.game.prodigy.player.data,
						pets: this.game.prodigy.player.kennel.data
					}
				}) : "request_init" === t.action && this.isLoaded && this.playerLoaded ? this.emitMessage({
					action: "init",
					data: {}
				}) : "request_action" === t.action && s.Util.isValid(this.currentManager.currentAction) ? this.emitMessage({
					action: "action",
					data: this.currentManager.currentAction
				}) : "request_next" === t.action && s.Util.isValid(this.currentManager.nextAction) ? this.emitMessage({
					action: "next",
					data: this.currentManager.nextAction
				}) : "data" === t.action && "request_data" === this.loadingState ? (this.loadingState = "loading", this.playerB = new r.Player(this.game), this.playerB.init(t.data), this.teamA = this.game.prodigy.battle.getTeam(this.playerA), this.teamB = this.game.prodigy.battle.getTeam(this.playerB), this.game.prodigy.load.assets(o.BattleController.getAssets("", this.teamA, this.teamB), this.loadedPlayer.bind(this))) : "init" === t.action && "request_init" === this.loadingState ? (this.loadingState = "working", this.isReady = !0) : "loading" === t.action || t.action, this.timeout = (new Date).getTime() + 6e4)
			}, e.prototype.emitMessage = function(t) {
				t.target = this.getOtherPlayerID(), this.game.prodigy.network.emitMessage(t)
			}, e.prototype.getOtherPlayerID = function() {
				var t = this.playerB.userID;
				return this.game.prodigy.player.userID === t && (t = this.playerA.userID), s.Util.isValid(t) && t > 0 ? t : this.data.challengerID
			}, e.prototype.loadedPlayer = function(t, e) {
				s.Util.isValid(this.game) && (this.playerLoaded = e, e && (this.loadingState = "request_init"))
			}, e.prototype.isLoadingComplete = function() {
				return !this.complete && this.isProcessed && (new Date).getTime() - this.startTime >= this.data.time
			}, e
		}(i(230).Loading);
	e.PVPLoading = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(183),
		r = i(6),
		s = i(4),
		l = i(58),
		c = i(22),
		h = i(81),
		u = i(23),
		p = i(0),
		d = i(70),
		g = function(t) {
			function e(e) {
				var i = t.call(this, e, "login", "login", ["atlas-26", "sfx-18", "sfx-31", "atlas-21", "atlas-24", "atlas-22", "atlas-90", "login-buttons"]) || this;
				return i.skipUrlParams = !1, i.loginBox = null, i.usernameField = null, i.passwordField = null, i.loginButton = null, i.progressBox = null, i.error = null, i.closeButton = null, i.createAccountButton = null, i.googleLoginButton = null, i.googleButtonHeightOffset = null, i.canvas = null, i.username = null, i.password = null, i.tutorial = !1, i.newUsername = null, i.newPassword = null, i.showMenu = !1, i
			}
			return n(e, t), e.onGoogleAuthLoaded = function(t, i) {
				if (e.isGoogleAuthLoaded = t, t) a.Logger.log("Login.onGoogleAuthLoaded - google auth lib loaded successfully", a.LogLevel.Verbose), p.Util.isValid(e.onGoogleAuthLoadedCallback) && (e.onGoogleAuthLoadedCallback(), e.onGoogleAuthLoadedCallback = null);
				else {
					var n = p.Util.isValid(i) ? i : {
						error: "no error specified",
						details: "no details specified"
					};
					a.Logger.log("Login.onGoogleAuthLoaded - error loading google auth lib. The error is: " + n.error + " \n details: " + n.details, a.LogLevel.Error)
				}
			}, e.prototype.create = function() {
				this.game.prodigy.network.logout(!0), this.game.prodigy.debugMisc.setup(this.game), this.game.prodigy.debugQuests.setup(this.game);
				try {
					o("#first-loading-screen").remove()
				} catch (t) {}
				try {
					u.Device.isNativeApp() && 1 === u.Device.nativeAppVersion() && webkit.messageHandlers.setGameVisible.postMessage(0)
				} catch (t) {}
				t.prototype.create.call(this)
			}, e.prototype.screenSetup = function() {
				var i = this,
					n = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.game.prodigy.network.player = this.game.prodigy.player;
				this.game.prodigy.player.name = this.game.prodigy.gameContainer.resolve((importer(71)).DataNameResolver);
				WebFont.load({
					google: {
						families: ['Roboto', 'ABeeZee', 'Fredoka One', 'Luckiest Guy', 'Paytone One', 'Open Sans', 'Lato']
					}
				});
				this.background.add(this.game.prodigy.create.sprite(0, 0, "singleImage-121")),
				this.loginBox = this.game.prodigy.create.element(this.background),
				this.usernameField = l.InputField.createInputField(this.game, this.loginBox, "username", "", 100, 230, 300, 40),
				this.usernameField.hide(0),
				this.usernameField.setLabel(this.loginBox, n.getText("TEXTBOX_TITLE_USERNAME"));
				var r = p.Util.getCookie("prodigyUsername");
				p.Util.isValid(r) && this.usernameField.setValue(r),
				this.passwordField = l.InputField.createInputField(this.game, this.loginBox, "password", "", 100, 310, 300, 40, "password"),
				this.passwordField.hide(0),
				this.passwordField.setLabel(this.loginBox, n.getText("TEXTBOX_TITLE_PASSWORD")),
				this.loginButton = this.game.prodigy.create.button(this.loginBox, 100, 380, "login-buttons", "loadcharacter", this.openFileForCharacter.bind(this)),
				this.offlineButton = this.game.prodigy.create.button(this.loginBox, 100, 470, "login-buttons", "offline", this.offlineMode.bind(this)),
				this.createAccountButton = this.game.prodigy.create.button(this.loginBox, 100, 560, "login-buttons", "student", this.newWizard.bind(this)),
				this.progressBox = this.game.prodigy.create.element(this.background, 100, 250),
				this.error = this.game.prodigy.create.font(this.progressBox, 0, 0, "", {
					width: 300,
					align: "center"
				}), this.closeButton = this.game.prodigy.create.textButton(this.progressBox, 0, 100, {
					icon: "close",
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUTTON_OKAY"),
					size: c.TextButton.MED
				}, this.showLogin.bind(this, !0)),
				this.passwordHelp = this.game.prodigy.create.panel(this.background, 90, 433, 8, 1, "lb"),
				this.passwordHelp.alpha = .25,
				this.passwordHelp.setClickable(function() {
					i.onPasswordHelp()
				}), this.passwordHelpText = new h.WebFontText(this.game, this.game.world),
				this.passwordHelpText.populate({
					x: 95,
					y: 443,
					style: 9,
					textKey: "LOGIN_PASSWORD_HELP"
				}),
				this.passwordHelp.visible = !1,
				this.passwordHelpText.visible = !1,
				this.showErrorView(!1),
				this.progressBox.visible = !1,
				this.googleLoginButton = document.createElement("button"),
				this.googleLoginButton.style.position = "absolute",
				this.googleLoginButton.style.display = "block",
				this.googleLoginButton.style.left = "103px",
				this.googleLoginButton.style.top = "480px",
				this.googleLoginButton.style.height = "65px",
				this.googleLoginButton.style.width = "285px",
				this.googleLoginButton.setAttribute("id", "google-button"),
				this.googleButtonHeightOffset = 0,
				this.canvas = o("#game-container canvas"),
				document.getElementById("external-ui").appendChild(this.googleLoginButton),
				this.googleLoginButton.addEventListener("click", this.onGoogleLoginButtonClick.bind(this)),
				this.googleLoginButton.addEventListener("mouseenter", function() {
					i.googleLoginButton.disabled || (i.googleButtonHeightOffset = 3)
				}), this.googleLoginButton.addEventListener("mouseleave", function() {
					i.googleButtonHeightOffset = 0
				}), this.googleLoginButton.style.backgroundImage = "url('" + s.GameConstants.get("GameConstants.Build.ASSETS_LOCATION") + "v1/single-images/login-google-signin/1/google-signin-btn.png')", this.googleLoginButton.style.backgroundRepeat = "no-repeat", this.googleLoginButton.style.backgroundSize = "100% 100%", this.googleLoginButton.style.backgroundColor = "transparent", e.isGoogleAuthLoaded || (this.googleLoginButton.disabled = !0, o("#google-button").css({
					opacity: .65,
					display: "none",
					cursor: "default"
				}), e.onGoogleAuthLoadedCallback = function() {
					e.isGoogleAuthLoaded && (i.googleLoginButton.disabled = !1, o("#google-button").css({
						opacity: 1,
						cursor: "default"
					}))
				});
				var u = this.game.prodigy.create.panel(this.background, 100, 660, 4, 1, "lb");
				u.alpha = .25, this.game.prodigy.create.font(this.background, u.x, u.y + 8, n.getText("LOGIN_PRIVACY_POLICY"), {
					size: 16,
					width: 160,
					align: "center"
				}), u.setClickable(d.NetworkManager.openWebsite.bind(this.game.prodigy.network, "www.prodigygame.com/privacy-policy/")), (u = this.game.prodigy.create.panel(this.background, 280, 660, 3, 1, "lb")).alpha = .25, this.game.prodigy.create.font(this.background, u.x, u.y + 8, n.getText("LOGIN_WEBSITE"), {
					size: 16,
					width: 120,
					align: "center"
				}), u.setClickable(d.NetworkManager.openWebsite.bind(this.game.prodigy.network, "www.prodigygame.com")), this.showLogin(!0), this.checkForAdmin(), this.skipUrlParams ? this.skipUrlParams = !1 : this.tryToStartFlowFromUrlParams(), this.displayGameVersion(), t.prototype.screenSetup.call(this)
			}, e.prototype.openFileForCharacter = function() {
				var fileInput = document.createElement('input'),
					e = this,
					callback = this.loadCharacter;
				fileInput.type = 'file',
				fileInput.id = 'myfile' + Math.floor(Math.random() * 999999),
				fileInput.name = 'files',
				fileInput.style.display = 'none',
				fileInput.click();
				fileInput.onchange = function(file) {
					var reader = new FileReader();
					reader.readAsText(file.target.files[0]);
					reader.onload = function(reader) {
						callback.call(e, JSON.parse(reader.target.result));
					};
					reader.onerror = function(reader) {
						e.prodigy.open.message("Failed to open save file, please retry.",null,null,"Character Loader");
					}
				}
			}, e.prototype.convertCharacterData = function(t) {
				this.showLogin(!0);
				a.Logger.log("Attempting save conversion...", a.LogLevel.Verbose);
				try {
					var e = {};
					if (p.Util.isDefined(t.gameVersion)) {
						if (t.gameVersion == "version 2-6-0") {
							e.achievements = t.achievementsdata,
							e.appearance = {
								gender: t.appearancedata.gender,
								name: {
									firstName: t.appearancedata.name.first,
									middleName: t.appearancedata.name.middle,
									lastName: t.appearancedata.name.last,
									nickname: t.appearancedata.name.nick
								},
								hairColor: t.appearancedata.hair.color,
								hairStyle: t.appearancedata.hair.style,
								eyeColor: t.appearancedata.eyeColor,
								skinColor: t.appearancedata.skinColor,
								face: t.appearancedata.face
							},
							e.equipment = {
								weapon: t.equipmentdata.weapon,
								spellRelic: t.equipmentdata.spellRelic,
								outfit: t.equipmentdata.outfit,
								hat: t.equipmentdata.hat,
								follow: t.equipmentdata.follow,
								boots: t.equipmentdata.boots
							},
							e.backpack = t.backpackdata,
							e.kennel = t.kenneldata,
							e.data = t.data,
							e.house = t.housedata,
							e.immortal = !1,
							e.isMember = t.metadata.isMember,
							e.mount = t.metadata.mountdata,
							e.quests = t.questdata,
							e.state = t.statedata,
							e.tutorial = t.tutorialdata,
							e.userID = 1,
							e.gameVersion = "version 2-20-0";
							if (!p.Util.isDefined(e.appearance.name.nickname)) {
								e.appearance.name.nickname = null;
							}
						};
						this.loadCharacter(e)
					} else {
						this.showLogin(!1);
						this.game.prodigy.open.message("Oops! This version appears to not be compatable with the save converter quite yet.\n\nMake an issue on https://github.com/Daboss7173/Daboss7173.github.io if you think this is an error.", this.showLogin.bind(this, !0), null, "Character Loader")
					}
				} catch (e) {
					a.Logger.log("Save conversion failed!", a.LogLevel.Error)
					console.error(e);
					this.showLogin(!1);
					this.game.prodigy.open.message("A critical error occured while attempting to convert your save to this version.\n\nCheck the console logs for more details.", this.showLogin.bind(this, !0), null, "Character Loader")
				}
			}, e.prototype.loadCharacter = function(t) {
				try {
					if (t.gameVersion != this.game.prodigy.version) {
						this.showLogin(!1);
						this.game.prodigy.open.messageBox("A conversion will be needed for this save because it is a different version. There is no guarentee that it'll work.\n\nDo you want us to attempt to convert your save?", this.convertCharacterData.bind(this, t), this.showLogin.bind(this, !0), null, "Character Loader");
						return;
					};
					this.game.prodigy.player.resetAccount(),
					this.game.prodigy.player.achievements.data = t.achievements,
					this.game.prodigy.player.appearance.gender = t.appearance.gender,
					this.game.prodigy.player.appearance.hairColor = t.appearance.hairColor,
					this.game.prodigy.player.appearance.hairStyle = t.appearance.hairStyle,
					this.game.prodigy.player.appearance.eyeColor = t.appearance.eyeColor,
					this.game.prodigy.player.appearance.face = t.appearance.face,
					this.game.prodigy.player.appearance.name.firstName = t.appearance.name.firstName,
					this.game.prodigy.player.appearance.name.middleName = t.appearance.name.middleName,
					this.game.prodigy.player.appearance.name.lastName = t.appearance.name.lastName,
					this.game.prodigy.player.appearance.name.nickname = t.appearance.name.nickname,
					this.game.prodigy.player.appearance.skinColor = t.appearance.skinColor,
					this.game.prodigy.player.backpack.data = t.backpack,
					this.game.prodigy.player.data = t.data,
					this.game.prodigy.player.equipment.boots = t.equipment.boots,
					this.game.prodigy.player.equipment.follow = t.equipment.follow,
					this.game.prodigy.player.equipment.hat = t.equipment.hat,
					this.game.prodigy.player.equipment.outfit = t.equipment.outfit,
					this.game.prodigy.player.equipment.spellRelic = t.equipment.spellRelic,
					this.game.prodigy.player.equipment.weapon = t.equipment.weapon,
					this.game.prodigy.player.house.data = t.house,
					this.game.prodigy.player.immortal = t.immortal,
					this.game.prodigy.player.isMember = t.isMember,
					this.game.prodigy.player.kennel.data = t.kennel,
					this.game.prodigy.player.broadcastId = t.broadcastId,
					this.game.prodigy.player.battleCounter = t.battleCounter,
					this.game.prodigy.player.catchAttempt = t.catchAttempt,
					this.game.prodigy.player.justLeveled = t.justLeveled,
					this.game.prodigy.player.quests.data = t.quests,
					this.game.prodigy.player.saveEnabled = t.saveEnabled,
					this.game.prodigy.player.spellStreak = t.spellStreak,
					this.game.prodigy.player.starsEarned = t.starsEarned,
					this.game.prodigy.player.state.data = t.state,
					this.game.prodigy.player.tutorial.data = t.tutorial,
					this.game.prodigy.player.name.data.firstName = t.appearance.name.firstName,
					this.game.prodigy.player.name.data.middleName = t.appearance.name.middleName,
					this.game.prodigy.player.name.data.lastName = t.appearance.name.lastName,
					this.game.prodigy.player.name.data.nickname = t.appearance.name.nickname,
					this.game.prodigy.player.name.gender = t.appearance.gender,
					this.game.prodigy.player.userID = t.userID;
					a.Logger.log("Character load successful!", a.LogLevel.Verbose);
					this.game.prodigy.world.enter();
				} catch (e) {
					console.error(e);
					a.Logger.log("Critical error occured while loading save!", a.LogLevel.Error);
					this.showLogin(!1);
					this.game.prodigy.open.message("A critical error occured during the load! This is most likely from a corrupted save, or a different save version.\n\nThis version of Prodigy does NOT support any saves before it under any circumstances.", this.showLogin.bind(this, !0), null, "Character Loader")
				}
			}, e.prototype.offlineMode = function() {
				this.game.prodigy.player.appearance.generateRandom(),
				this.game.prodigy.world.enter()
			}, e.prototype.newWizard = function() {
				this.game.state.start("CharCreate")
			}, e.prototype.displayGameVersion = function() {
				s.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.create.font(this.background, 975, 700, "" + s.GameConstants.get("GameConstants.Build.VERSION"), {
					size: 16,
					width: 300,
					align: "right"
				})
			}, e.prototype.avoidParsingUrlParamsNextScreenSetupCall = function() {
				this.skipUrlParams = !0
			}, e.prototype.tryToStartFlowFromUrlParams = function() {
				var t = p.Util.getUrlVariable("action"),
					e = null,
					i = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				if (p.Util.isValid(t)) {
					var n = p.Util.removeParamsFromUrl(window.location.href, ["action"]);
					window.history.replaceState({}, "", n), "login" === t ? (e = p.Util.getUrlVariable("idToken"), p.Util.isValid(e) ? (this.gotoLoginMode(i.getText("LOGIN_LOGGING_IN_GOOGLE")), this.loginWithGoogle({
						idToken: e
					})) : a.Logger.log("Login.startFlowFromUrlParams - can't log in with google without an idToken", a.LogLevel.Error)) : "create" === t ? (e = p.Util.getUrlVariable("idToken"), p.Util.isValid(e) ? (this.gotoLoginMode(i.getText("GOOGLE_AUTH_CREATING_ACCOUNT")), this.createAccount({
						idToken: e
					})) : a.Logger.log("Login.startFlowFromUrlParams - can't create account with google.  Expected name, email, and idToken url params", a.LogLevel.Verbose)) : "auth-with-google" === t && this.authorizeWithGoogle()
				}
			}, e.prototype.checkForAdmin = function() {
				if ("admin" === p.Util.getUrlVariable("accessType")) {
					var t = p.Util.getUrlVariable("userID"),
						i = p.Util.getUrlVariable("token"),
						n = p.Util.getUrlVariable("key");
					this.gotoLoginMode(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("LOGIN_LOGGING_IN")), this.game.prodigy.network.adminLogin(parseInt(t), i, n, this.game.prodigy.player, this.onError.bind(this, e.LOGIN_ERROR_KEYS), this.loadSkills.bind(this))
				}
			}, e.prototype.gotoLoginMode = function(t) {
				this.showLogin(!1), this.error.visible = !0, this.error.setText(t)
			}, e.prototype.showLogin = function(t) {
				this.usernameField.setEnabled(t), this.passwordField.setEnabled(t), t && this.showErrorView(!1), this.progressBox.visible = !t, this.createAccountButton.visible = this.loginBox.visible = t, t ? (this.game.input.setEnterCallback(this.startLogin.bind(this)), this.usernameField.show(100), this.passwordField.show(100), o("#google-button").css({
					opacity: e.isGoogleAuthLoaded ? 1 : .65,
					cursor: "default"
				}), this.googleLoginButton.disabled = !e.isGoogleAuthLoaded) : (this.game.input.clearEnterCallback(), this.usernameField.hide(100), this.passwordField.hide(100), o("#google-button").css({
					opacity: 0,
					cursor: "default"
				}), this.googleLoginButton.disabled = !0)
			}, e.prototype.startLogin = function() {
				this.gotoLoginMode(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("LOGIN_LOGGING_IN")), this.username = this.usernameField.getValue(), this.password = this.passwordField.getValue(), "" === this.username || "" === this.password ? this.onError(e.LOGIN_ERROR_KEYS, null, 400) : window.setTimeout(this.login.bind(this), 1e3)
			}, e.prototype.onGoogleLoginButtonClick = function() {
				var t = this;
				if (u.Device.isNativeApp()) {
					var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
					this.gotoLoginMode(e.getText("GOOGLE_AUTH_PROMPT_BROWSER")), this.game.prodigy.open.messageBox(e.getText("GOOGLE_AUTH_USE_BROWSER_INSTEAD"), function() {
						try {
							if (u.Device.nativeAppVersion() > 1) {
								var t = window.location.href.replace("nativeApp=1", "action=auth-with-google");
								window.postMessage(JSON.stringify({
									type: "OPEN_URL_IN_BROWSER",
									payload: t
								}), "*")
							} else webkit.messageHandlers.openWebsiteInBrowser.postMessage(window.location.href.replace("iosApp=1", "action=auth-with-google"))
						} catch (t) {
							a.Logger.log("Login.onGoogleLoginButtonClick - exception: " + t.message, a.LogLevel.Error)
						}
					}).onClose = function() {
						t.showLogin(!0)
					}
				} else this.authorizeWithGoogle()
			}, e.prototype.authorizeWithGoogle = function() {
				e.isGoogleAuthLoaded ? (this.gotoLoginMode(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("LOGIN_LOGGING_IN_GOOGLE")), window.gapi.auth2.getAuthInstance().signIn({
					scope: "profile email",
					prompt: "select_account"
				}).then(this.onGoogleAuthorizeSuccess.bind(this), this.onGoogleAuthorizeFail.bind(this))) : a.Logger.log("Login.authorizeWithGoogle - the Google auth2 lib is not loaded so we can't prompt for google credentials", a.LogLevel.Error)
			}, e.prototype.onGoogleAuthorizeFail = function(t) {
				var e = this;
				a.Logger.log("onGoogleAuthorizeFail: " + t.error, a.LogLevel.Error);
				var i = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				"popup_closed_by_user" === t.error ? this.showLogin(!0) : "popup_blocked_by_browser" === t.error ? this.game.prodigy.open.messageBoxOkay(i.getText("GOOGLE_AUTH_POPUP_BLOCKED"), "OKAY", function() {
					e.showLogin(!0)
				}) : this.setErrorText(i.getText("GOOGLE_AUTH_FAIL_DEFAULT"))
			}, e.prototype.onGoogleAuthorizeSuccess = function(t) {
				a.Logger.log("onGoogleLoginSuccess: " + t, a.LogLevel.Verbose);
				var e = {
					idToken: t.getAuthResponse().id_token,
					name: t.getBasicProfile().getName(),
					email: t.getBasicProfile().getEmail()
				};
				this.username = e.email, this.loginWithGoogle(e)
			}, e.prototype.loginWithGoogle = function(t) {
				this.game.prodigy.network.loginWithGoogle(t.idToken, this.game.prodigy.player, this.onLoginWithGoogleError.bind(this, t.idToken, e.LOGIN_ERROR_KEYS), this.loadSkills.bind(this))
			}, e.prototype.onLoginWithGoogleError = function(t, e, i, n) {
				if (404 === n) {
					var a = location.host;
					location.host.indexOf("play.") > -1 && (a = "www.prodigygame." + location.host.split(".").slice(-1)[0]);
					var o = a + "/Registration/?token=" + t + "&origin=" + window.location.href;
					d.NetworkManager.openWebsite(o, !1)
				} else this.onError(e, i, n)
			}, e.prototype.login = function() {
				this.game.prodigy.network.logout(!0), this.game.prodigy.network.login(this.username, this.password, this.game.prodigy.player, this.loadSkills.bind(this), this.onError.bind(this, e.LOGIN_ERROR_KEYS))
			}, e.prototype.loadSkills = function(t) {
				var i = this;
				this.game.prodigy.player.username = this.username, this.game.prodigy.player.password = this.password;
				var n = p.Util.isValid(t) ? t : {};
				if (n.username = this.username, n.password = this.password, this.error.visible = !0, this.error.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("LOGIN_LOADING_SKILLS")), p.Util.isValid(this.tutorial) && this.tutorial) {
					var o = p.Util.isValid(this.game.prodigy.player.classIDs) && this.game.prodigy.player.classIDs.length > 0 ? "class_code" : "parent_email";
					this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create(o, "first_login").broadcast()
				}
				this.game.prodigy.network.loadEducation(this.game.prodigy.player.classIDs).then(function(t) {
					i.loginSuccess(t)
				}).catch(function(t) {
					i.onError(e.SKILLS_ERROR_KEYS, null, null)
				})
			}, e.prototype.loginSuccess = function(t) {
				this.game.prodigy.education.initialize(t), this.error.visible = !0, this.error.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("LOGIN_LOADING_WORLDS")), this.game.prodigy.network.getWorldList(this.openPlayer.bind(this), this.openPlayer.bind(this, null))
			}, e.prototype.openPlayer = function(t) {
				var e = !p.Util.isValid(this.game.prodigy.player.data.school) || "" === this.game.prodigy.player.data.school,
					i = this.game.prodigy.player.data.reset;
				e || i ? (this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyV1Analytic("create-character"), this.game.prodigy.start("CharCreate", {
					time: 1001
				}, t)) : this.game.prodigy.start("CharSelect", {
					time: 1001
				}, t)
			}, e.prototype.createAccount = function(t) {
				this.showLogin(!1), this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.FeatureFlagProvider).isRecordingFeature("user-registration-flow") && this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.SessionRecorder).startRecording("user-registration-flow"), this.game.prodigy.open.createAccount(t, p.Util.isValid(t) && p.Util.isValid(t.idToken) ? this.loginWithGoogle.bind(this, {
					idToken: t.idToken
				}) : this.startLoginTutorial.bind(this))
			}, e.prototype.startLoginTutorial = function(t, e, i) {
				this.showLogin(!0), this.createAccountButton.visible = !t, t ? (this.newUsername = e, this.newPassword = i, this.usernameField.setValue(""), this.passwordField.setValue(""), this.tutorial = !0) : this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.SessionRecorder).stopRecording()
			}, e.prototype.update = function() {
				if (t.prototype.update.call(this), this.tutorial) {
					var e = p.Util.isValid(this.usernameField.getValue()) ? this.usernameField.getValue() : "";
					if ((e = e.toLowerCase()) !== this.newUsername.toLowerCase()) {
						if (this.usernameField.hasTooltip()) return;
						this.usernameField.showTooltip("'" + this.newUsername + "'", 330), this.usernameField.setFocus(!0), this.passwordField.showTooltip(null), this.loginButton.highlight(!1)
					} else if (this.passwordField.getValue() !== this.newPassword) {
						if (this.passwordField.hasTooltip()) return;
						this.passwordField.showTooltip("'" + this.newPassword + "'", 330), this.passwordField.setFocus(!0), this.usernameField.showTooltip(null), this.loginButton.highlight(!1)
					} else {
						if (this.loginButton.isHighlighted()) return;
						this.loginButton.highlight(!0, 150, 10), this.usernameField.showTooltip(null), this.passwordField.showTooltip(null)
					}
				}
				this.googleLoginButtonUpdate()
			}, e.prototype.googleLoginButtonUpdate = function() {
				var t = this.canvas.height() / this.game.world.height;
				o("#google-button").height(65 * t);
				var e = this.canvas.width() / this.game.world.width;
				o("#google-button").width(285 * e);
				var i = t * (473 - this.googleButtonHeightOffset),
					n = 103 * e + parseInt(o("#game-container canvas").css("margin-left"));
				o("#google-button").css({
					top: i,
					left: n
				})
			}, e.prototype.onPasswordHelp = function() {
				var t = this;
				this.showErrorView(!1);
				var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.game.prodigy.open.messageBoxOkay(e.getText("LOGIN_PASSWORD_HELP_CONTENT"), null, function() {
					t.showErrorView(!0)
				}), this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_complete", {
					type: "password-assist"
				})
			}, e.prototype.onError = function(t, e, i) {
				var n = this.game.prodigy.network.getErrorMessage(i, t);
				p.Util.isValid(n) || (n = ""), this.setErrorText(n)
			}, e.prototype.setErrorText = function(t) {
				this.showErrorView(!0), this.error.setText(t)
			}, e.prototype.showErrorView = function(t) {
				this.passwordHelp.visible = t, this.passwordHelpText.visible = t, this.error.visible = t, this.closeButton.visible = t
			}, e.prototype.shutdown = function() {
				e.onGoogleAuthLoadedCallback = null, o("#google-button").remove(), t.prototype.shutdown.call(this)
			}, e.onGoogleAuthLoadedCallback = null, e.isGoogleAuthLoaded = !1, e.LOGIN_ERROR_KEYS = {
				200: "NETWORK_ALL_GOOD",
				400: "NETWORK_INCORRECT_USERNAME_PASSWORD",
				401: "NETWORK_INCORRECT_USERNAME_PASSWORD",
				403: "NETWORK_FORBIDDEN",
				503: "NETWORK_OFFLINE",
				500: "NETWORK_OFFLINE",
				0: "NETWORK_OFFLINE"
			}, e.SKILLS_ERROR_KEYS = {
				0: "NETWORK_ERROR_SKILLS"
			}, e
		}(i(60).Screen);
	e.Login = g, window.onGooglePlatformLoad = function() {
		a.Logger.log("google platform loaded", a.LogLevel.Verbose), window.gapi.load("auth2", function() {
			var t = !1,
				e = null;
			switch (window.location.host) {
				case "www.prodigygame.com":
				case "prodigygame.com":
					t = !0
			}
			e = !t && p.Util.isValid(window.prodigyGoogleClientId) ? window.prodigyGoogleClientId : "523759519115-63c0h2vhev83mq90pq4c746ncnnpeh1o.apps.googleusercontent.com", window.gapi.auth2.init({
				client_id: e,
				cookiepolicy: "single_host_origin"
			}).then(function() {
				g.onGoogleAuthLoaded(!0)
			}, function(t) {
				g.onGoogleAuthLoaded(!1, t)
			})
		})
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e) {
				var i = t.call(this, e, "zone-faint", "", []) || this;
				return i.targetZone = "", i.showMenu = !1, i.targetZone = "", i
			}
			return n(e, t), e.prototype.create = function() {
				t.prototype.create.call(this), this.game.prodigy.player.saveEnabled = !1
			}, e.prototype.start = function() {
				this.game.prodigy.player.changeGold(-100, "Faint");
				var e = this.game.prodigy.dialogue.create();
				e.setText(22), e.setText(23), e.setText({
					callback: this.toZone.bind(this)
				}), e.start("noot"), t.prototype.start.call(this)
			}, e.prototype.toZone = function() {
				a.Util.isValid(this.targetZone) && 0 !== this.targetZone.length ? this.targetZone.indexOf("-") > -1 ? this.game.prodigy.world.teleport(this.targetZone) : (delete this.game.state.states[this.targetZone].startX, delete this.game.state.states[this.targetZone].startY, this.game.prodigy.start(this.targetZone)) : this.game.prodigy.world.teleport("house")
			}, e
		}(i(60).Screen);
	e.Faint = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(58),
		s = i(22),
		l = i(5),
		c = i(97),
		h = i(0),
		u = function(t) {
			function e(e) {
				var i = t.call(this, e, "zone-faint", "", h.Util.isValid(h.Util.getUrlVariable("unlock")) ? ["singleImage-5", "atlas-19", "atlas-16"] : ["singleImage-5", "atlas-19", "atlas-16", "monster-small-125", "monster-small-126", "monster-small-127", "monster-small-128", "monster-small-129"]) || this;
				return i.off = null, i.contentA = null, i.classCode = null, i.nextButton = null, i.backButton = null, i.error = null, i.codeField = null, i.spinner = null, i
			}
			return n(e, t), e.prototype.create = function() {
				this.game.prodigy.network.sendToyEvent("char-select", 4), t.prototype.create.call(this), this.game.prodigy.player.saveEnabled = !1
			}, e.prototype.screenSetup = function() {
				var e = this;
				this.background.add(this.game.prodigy.create.sprite(0, 0, "singleImage-5")), h.Util.isClassSelectExperiment(this.game) ? this.openWorlds() : (this.game.prodigy.create.panel(this.background, 240, 640, 20, 3, "shine2"), this.off = this.game.prodigy.create.textButton(this.background, 820, 660, {
					icon: "next",
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUTTON_NEXT")
				}, this.openWorlds.bind(this)), this.game.prodigy.create.textButton(this.background, 260, 660, {
					icon: "back",
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUTTON_BACK")
				}, function() {
					e.game.state.states.Login.avoidParsingUrlParamsNextScreenSetupCall(), e.game.prodigy.network.loggedIn = !1, e.game.prodigy.start("Login")
				}), this.showContentA(), this.showContentB());
				var i = this.game.prodigy.create.player(this.content, this.game.prodigy.player, 2, 640, 500);
				i.reload(), i.showName(), t.prototype.screenSetup.call(this)
			}, e.prototype.start = function() {
				!h.Util.isClassSelectExperiment(this.game) && h.Util.isValid(h.Util.getUrlVariable("unlock")) && this.game.prodigy.open.toyUnlock(this.foreground), t.prototype.start.call(this)
			}, e.prototype.showContentA = function() {
				var t = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.contentA = this.game.prodigy.create.panel(this.content, 40, 140, 10, 10, "shine2"), this.contentA.add(new Phaser.TileSprite(this.game, 11, 80, 378, 40, "atlas-161", "blue-top")), this.contentA.add(new Phaser.TileSprite(this.game, 11, 120, 378, 200, "atlas-161", "blue-mid")), this.contentA.add(new Phaser.TileSprite(this.game, 11, 320, 378, 40, "atlas-161", "blue-top2")), this.contentA.add(this.game.prodigy.create.sprite(20, 20, "atlas-21", "wizard")), this.game.prodigy.create.font(this.contentA, 120, 40, t.getText("CHARACTER_SELECT_NEW_TEACHER"), {
					fontID: 9,
					size: 36
				}), this.game.prodigy.create.font(this.contentA, 20, 120, t.getText("CHARACTER_SELECT_ADD_CHARACTER"), {
					fontID: 8,
					width: 360
				});
				var e = this.game.prodigy.create.textButton(this.contentA, 100, 290, {
					icon: "yes",
					text: t.getText("CHARACTER_SELECT_UPDATE")
				}, this.showClassCode.bind(this));
				if (h.Util.isValid(this.game.prodigy.player.owners))
					for (var i = 0; i < this.game.prodigy.player.owners.length; i++) {
						if (this.game.prodigy.player.owners[i].startDate >= 143801786e4) return void this.off.highlight(!0, 0, -30)
					}
				e.highlight(!0, 100)
			}, e.prototype.showContentB = function() {
				var t = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					e = this.game.prodigy.create.panel(this.content, 840, 140, 10, 10, "shine2");
				e.add(new Phaser.TileSprite(this.game, 11, 128, 378, 40, "atlas-161", "blue-top")), e.add(new Phaser.TileSprite(this.game, 11, 168, 378, 152, "atlas-161", "blue-mid")), e.add(new Phaser.TileSprite(this.game, 11, 320, 378, 40, "atlas-161", "blue-top2")), e.add(this.game.prodigy.create.sprite(13, -5, "atlas-19", "epics")), this.game.prodigy.create.font(e, 20, 190, t.getText("CHARACTER_SELECT_TOYS"), {
					fontID: 8,
					width: 360
				}), this.game.prodigy.create.textButton(e, 50, 290, {
					size: s.TextButton.MED,
					icon: "play",
					text: t.getText("CHARACTER_SELECT_LEARN")
				}, this.orderToy.bind(this))
			}, e.prototype.orderToy = function() {
				c.ToyStore.openWebsite(this.game, "order-btn", !1)
			}, e.prototype.showClassCode = function() {
				var t = this,
					e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.game.broadcaster.addAppListener(l.EWebEvents.POST_MESSAGE_RECEIVED, function(e, i) {
					"class-code-entry" === i.name && t.setCode(i.classCode)
				}, this, this.game), this.overlay = this.content.add(this.game.prodigy.create.sprite(0, 0, "atlas-18", "overlay-small")), this.overlay.width = 1280, this.overlay.height = 720, this.overlay.alpha = .5, this.overlay.inputEnabled = !0, this.classCode = this.game.prodigy.create.element(this.content, 340, 170), this.game.prodigy.create.panel(this.classCode, 0, 0, 12, 8), this.nextButton = s.TextButton.createNextButton(this.game, this.classCode, 350, 370, this.submit.bind(this)), this.backButton = s.TextButton.createCloseButton(this.game, this.classCode, 50, 370, this.closeClassCode.bind(this)), this.game.prodigy.create.font(this.classCode, 10, 25, e.getText("CHARACTER_SELECT_ENTER_CLASS"), {
					size: 30,
					width: 600,
					align: "center"
				}), this.error = this.game.prodigy.create.font(this.classCode, 0, 300, "", {
					width: 600,
					align: "center"
				}), this.codeField = r.InputField.createInputField(this.game, this.content, "classcodeg", "", 640 - .5 * r.InputField.WIDTH_MEDIUM, 285, r.InputField.WIDTH_MEDIUM, r.InputField.HEIGHT_MEDIUM, "textg"), this.codeField.setLabel(this.content, "Class Code:");
				var i = this.classCode.add(this.game.prodigy.create.sprite(40, 200, "atlas-18", "overlay-light"));
				i.alpha = .2, i.width = 520, i.height = 70, i.inputEnabled = !0, i.events.onInputDown.add(this.getCode, this), this.game.prodigy.create.font(this.classCode, 50, 210, e.getText("CHARACTER_SELECT_NO_CLASS_CODE"), {
					size: 20,
					align: "center",
					width: 500
				}), this.spinner = this.classCode.add(this.game.prodigy.create.sprite(300, 125, "atlas-18", "loading")), this.spinner.anchor.setTo(.5, .5), this.game.add.tween(this.spinner).to({
					angle: 360
				}, 2e3, Phaser.Easing.Linear.None, !0, 0, o.default.MAX_SAFE_INTEGER, !1), this.spinner.visible = !1
			}, e.prototype.closeClassCode = function() {
				this.game.broadcaster.removeAppListener(l.EWebEvents.POST_MESSAGE_RECEIVED, this, this.game), this.overlay.destroy(), this.codeField.hide(0), this.classCode.destroy()
			}, e.prototype.shutdown = function() {
				t.prototype.shutdown.call(this)
			}, e.prototype.getCode = function() {
				this.codeField.clearEvents(!1), this.game.input.keyboard.clearCaptures(), prodigyWeb.getClassCode.open()
			}, e.prototype.setCode = function(t) {
				this.codeField.clearEvents(!0), this.game.input.keyboard.addKeyCapture([Phaser.Keyboard.BACKSPACE]), this.codeField.setValue(t)
			}, e.prototype.validationComplete = function(t) {
				var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.spinner.visible = !1, t ? (this.game.prodigy.open.message(e.getText("CHARACTER_SELECT_NEW_CLASS_BODY"), this.classCodeComplete.bind(this), "star", e.getText("CHARACTER_SELECT_NEW_CLASS_TITLE")), this.game.prodigy.player.isClassCodeAttached = !0) : (this.backButton.visible = !0, this.nextButton.visible = !0, this.codeField.show(0), this.error.setText(e.getText("CHARACTER_SELECT_ERROR_INVALID_CLASS_CODE")))
			}, e.prototype.classCodeComplete = function() {
				this.closeClassCode(), this.contentA.destroy()
			}, e.prototype.submit = function() {
				var t = this.codeField.getValue();
				return t.length <= 0 ? this.error.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("CHARACTER_SELECT_ERROR_NO_CLASS_CODE")) : (this.codeField.hide(0), this.error.setText(""), this.backButton.visible = !1, this.nextButton.visible = !1, this.spinner.visible = !0, this.game.prodigy.network.attachClassCode(t, this.validationComplete.bind(this, !0), this.validationComplete.bind(this, !1))), !1
			}, e.prototype.openWorlds = function() {
				var t = this.screenData;
				h.Util.isValid(t) ? this.game.prodigy.open.serverSelectMode(t, this.chooseServer.bind(this)) : (this.game.prodigy.network.sendAnalytics("Get-World-Fail", "", "Login-Events"), this.chooseServer(!1, !1))
			}, e.prototype.chooseServer = function(t, e) {
				e || (t ? this.game.prodigy.network.sendAnalytics("Socket-Success", "", "Login-Events") : this.game.prodigy.network.sendAnalytics("Socket-Fail", "", "Login-Events"), this.game.prodigy.world.enter())
			}, e
		}(i(60).Screen);
	e.CharSelect = u
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(281),
		r = i(6),
		s = i(4),
		l = i(2),
		c = i(12),
		h = i(0),
		u = function(t) {
			function e(e) {
				var i = t.call(this, e, "zone-faint", "", ["singleImage-5", "atlas-19"]) || this;
				return i.genderTimestamp = 0, i.characterCustomizationTimestamp = 0, i.schoolOrHomeTimestamp = 0, i.signupEndTimestamp = 0, i.charCreateStage = 0, i.next = null, i.playerF = null, i.wizardF = null, i.playerM = null, i.wizardM = null, i.panels = null, i.charCreateDialogue = null, i
			}
			return n(e, t), e.prototype.create = function() {
				t.prototype.create.call(this), this.game.prodigy.network.player.saveEnabled = !1, this.charCreateStage = 0
			}, e.prototype.screenSetup = function() {
				var e = this;
				this.background.add(this.game.prodigy.create.sprite(0, 0, "singleImage-5")), this.game.prodigy.create.panel(this.foreground, 240, 640, 20, 3, "shine2"), this.next = this.game.prodigy.create.textButton(this.foreground, 820, 660, {
					icon: "next",
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUTTON_NEXT")
				}, this.openWorlds.bind(this)), this.game.prodigy.create.textButton(this.foreground, 260, 660, {
					icon: "back",
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUTTON_BACK")
				}, this.back.bind(this)), this.playerF = new c.Player(this.game), this.playerF.setDefault("female"), this.wizardF = this.game.prodigy.create.player(this.content, this.playerF, 2, 640, 560), this.playerM = new c.Player(this.game), this.playerM.setDefault("male"), this.wizardM = this.game.prodigy.create.player(this.content, this.playerM, 2, 640, 560), this.wizardM.flip(), this.wizardF.clickCallback = this.showChoices.bind(this, this.wizardF, this.wizardM), this.wizardM.clickCallback = this.showChoices.bind(this, this.wizardM, this.wizardF), this.panels = this.game.prodigy.create.element(this.content), s.GameConstants.get("GameConstants.Build.DEBUG") && (this.game.prodigy.automation.addTrigger({
					ID: "autoclick-female",
					context: this,
					callback: function() {
						return {
							x: e.wizardF.worldPosition.x,
							y: e.wizardF.worldPosition.y - 20
						}
					}
				}), this.game.prodigy.automation.addTrigger({
					ID: "autoclick-male",
					context: this,
					callback: function() {
						return {
							x: e.wizardM.worldPosition.x,
							y: e.wizardM.worldPosition.y - 20
						}
					}
				})), t.prototype.screenSetup.call(this)
			}, e.prototype.start = function() {
				this.showWizards(), this.showDialogue(), t.prototype.start.call(this)
			}, e.prototype.shutdown = function() {
				s.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this), t.prototype.shutdown.call(this)
			}, e.prototype.showDialogue = function() {
				this.charCreateDialogue = this.game.prodigy.dialogue.create(), this.charCreateDialogue.setText(49), this.charCreateDialogue.start("noot", !0, null, 0)
			}, e.prototype.back = function() {
				0 === this.charCreateStage ? (this.game.prodigy.network.logout(!0), this.game.prodigy.gameContainer.rebind(r.EProdigyInjectionIdentifiers.AnalyticsService).to(o.AnonymousAnalyticsService).inSingletonScope(), this.game.state.states.Login.avoidParsingUrlParamsNextScreenSetupCall(), this.game.prodigy.start("Login")) : this.showWizards(), this.charCreateStage = 0
			}, e.prototype.showWizards = function() {
				this.charCreateStage = 0, this.wizardF.visible = !0, this.wizardF.x = 490, this.wizardF.reload(), this.wizardF.highlight(!0, -50, -200), this.wizardM.visible = !0, this.wizardM.x = 790, this.wizardM.reload(), this.wizardM.highlight(!0, -50, -200), this.wizardM.isFacingLeft() || this.wizardM.flip(), this.next.setInactive(), this.next.highlight(!1), this.panels.visible = !1
			}, e.prototype.showChoices = function(t, i) {
				var n = this;
				this.genderTimestamp = (new Date).getTime();
				var o = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				if (0 === this.charCreateStage) {
					this.panels.visible = !0, this.next.setActive(), this.next.highlight(!0), this.game.prodigy.player.appearance = t.source.appearance, this.game.prodigy.network.player = this.game.prodigy.player, this.game.prodigy.player.appearance.setName(null), t.highlight(!1), i.visible = !1, this.charCreateStage = 1, t.x = 640, t.isFacingLeft() && t.flip();
					var r = function(t, e, i, a) {
							h.Util.isValid(e) && e > 0 && t.source.appearance.setSkinColor(e), h.Util.isValid(i) && i > 0 && t.source.appearance.setEyeColor(i), h.Util.isValid(a) && a > 0 && t.source.appearance.setHair(null, a), t.reload(), t.chat(n.game.seededRandom.pick([10]), 150)
						},
						s = this.game.prodigy.create.element(this.panels, 760, 460),
						c = this.game.prodigy.create.panel(s, 0, 0, 5, 3, "panel-light"),
						u = c.add(this.game.prodigy.create.sprite(1, 80, "atlas-18", "panel-pointer"));
					u.scale.x = u.scale.y = -1, this.game.prodigy.create.font(s, 0, -18, o.getText("CHARACTER_CREATE_SKIN_COLOR"), {
						width: 250,
						align: "center"
					});
					for (var p = 0; p < e.SKIN_COLORS.length; p++) {
						var d = e.SKIN_COLORS[p];
						this.game.prodigy.create.button(s, p % 3 * 80 + 18, 70 * Math.floor(p / 3) + 15, "atlas-21", "empty", r.bind(this, t, d, null, null)).sprite.tint = h.Util.rgbArrayToHex(l.Items.getItemData("skinColor", d).colors[1])
					}
					s = this.game.prodigy.create.element(this.panels, 760, 260), (u = (c = this.game.prodigy.create.panel(s, 0, 0, 5, 3, "panel-light")).add(this.game.prodigy.create.sprite(1, 100, "atlas-18", "panel-pointer"))).scale.x = -1, this.game.prodigy.create.font(s, 0, -18, o.getText("CHARACTER_CREATE_EYE_COLOR"), {
						width: 250,
						align: "center"
					});
					for (p = 0; p < e.EYE_COLORS.length; p++) {
						d = e.EYE_COLORS[p];
						this.game.prodigy.create.button(s, p % 3 * 80 + 18, 70 * Math.floor(p / 3) + 15, "atlas-21", "empty", r.bind(this, t, null, d, null)).sprite.tint = h.Util.rgbArrayToHex(l.Items.getItemData("eyeColor", d).colors[0])
					}
					s = this.game.prodigy.create.element(this.panels, 270, 460), (c = this.game.prodigy.create.panel(s, 0, 0, 5, 3, "panel-light")).add(this.game.prodigy.create.sprite(249, 80, "atlas-18", "panel-pointer")).scale.y = -1, this.game.prodigy.create.font(s, 0, -18, o.getText("CHARACTER_CREATE_HAIR_COLOR"), {
						width: 250,
						align: "center"
					});
					for (p = 0; p < e.HAIR_COLORS.length; p++) {
						d = e.HAIR_COLORS[p];
						(y = this.game.prodigy.create.button(s, p % 3 * 80 + 18, 70 * Math.floor(p / 3) + 15, "atlas-21", "empty", r.bind(this, t, null, null, d))).sprite.tint = h.Util.rgbArrayToHex(l.Items.getItemData("hairColor", d).colors[2])
					}
					var g = function(t, e) {
						e.source.appearance.setHair(t), e.reload(), e.chat(n.game.seededRandom.pick([10]), 150)
					};
					s = this.game.prodigy.create.element(this.panels, 270, 260), (c = this.game.prodigy.create.panel(s, 0, 0, 5, 3, "panel-light")).add(this.game.prodigy.create.sprite(249, 100, "atlas-18", "panel-pointer")), this.game.prodigy.create.font(s, 0, -18, o.getText("CHARACTER_CREATE_HAIR_STYLE"), {
						width: 250,
						align: "center"
					});
					var f = "male" === t.source.appearance.getGender() ? e.BOY_HAIR_STYLES : e.GIRL_HAIR_STYLES;
					for (p = 0; p < f.length; p++) {
						var y = this.game.prodigy.create.button(s, p % 3 * 80 + 18, 70 * Math.floor(p / 3) + 15, "atlas-21", "empty", g.bind(this, f[p], t));
						this.game.prodigy.create.font(y, 12, 4, "" + (p + 1), {
							size: 36,
							fontID: 9
						}), y.sprite.tint = 8969872
					}
				}
			}, e.prototype.openWorlds = function() {
				var t = this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.SessionRecorder);
				this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.FeatureFlagProvider).isRecordingFeature("user-registration-flow") && t.isRecording() && t.stopRecording(), this.characterCustomizationTimestamp = (new Date).getTime(), this.charCreateDialogue.close();
				var e = this.screenData;
				h.Util.isValid(e) ? this.game.prodigy.open.serverSelectMode(e, this.chooseServer.bind(this), this.onSchoolSelect.bind(this), this.onHomeSelect.bind(this)) : (this.game.prodigy.network.sendAnalytics("Get-World-Fail", "", "Login-Events"), this.chooseServer(!0, !1))
			}, e.prototype.chooseServer = function(t, e) {
				if (e) this.showDialogue();
				else {
					this.charCreateDialogue.close(), t ? this.game.prodigy.network.sendAnalytics("Socket-Success", "", "Login-Events") : this.game.prodigy.network.sendAnalytics("Socket-Fail", "", "Login-Events"), this.signupEndTimestamp = (new Date).getTime(), delete this.game.prodigy.player.data.reset, this.game.prodigy.player.data.school = "none", this.game.prodigy.player.data.startDate = (new Date).getTime();
					var i = h.Util.isValid(this.game.prodigy.player.classIDs) && this.game.prodigy.player.classIDs.length > 0 ? "class_code" : "parent_email";
					this.sendGameComplete(i, "gender", this.genderTimestamp), this.sendGameComplete(i, "character_customization", this.characterCustomizationTimestamp), this.sendGameComplete(i, "school_or_home", this.schoolOrHomeTimestamp), this.sendGameComplete(i, "signup_end", this.signupEndTimestamp), this.game.prodigy.world.enter()
				}
			}, e.prototype.sendGameComplete = function(t, e, i) {
				this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create(t, e, void 0, void 0, i).broadcast()
			}, e.prototype.onSchoolSelect = function() {
				this.schoolOrHomeTimestamp = (new Date).getTime()
			}, e.prototype.onHomeSelect = function() {
				this.schoolOrHomeTimestamp = (new Date).getTime()
			}, e.SKIN_COLORS = [1, 2, 3, 4, 5], e.EYE_COLORS = [1, 2, 3, 4, 6, 8], e.HAIR_COLORS = [1, 2, 3, 4, 5, 6], e.BOY_HAIR_STYLES = [19, 20, 21, 22], e.GIRL_HAIR_STYLES = [5, 7, 11, 13], e
		}(i(60).Screen);
	e.CharCreate = u
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(168),
		r = i(237),
		s = i(2),
		l = i(167),
		c = function(t) {
			function e(e) {
				var i = t.call(this, e, {
					zoneName: "zone-museum",
					atlas: "atlas-117"
				}, ["atlas-117"]) || this;
				return i.area = [
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
					[0, 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 0, 0],
					[0, 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 0, 0],
					[0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0],
					[0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0],
					[0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0],
					[0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0],
					[0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0],
					[0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0],
					[0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0],
					[0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0],
					[0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0],
					[0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0],
					[0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0],
					[0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
					[1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1],
					[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
					[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
					[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
					[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
				], i.startX = 640, i.startY = 545, i
			}
			return n(e, t), e.prototype.create = function(e) {
				void 0 === e && (e = "dino-1"), t.prototype.create.call(this, "dino-1")
			}, e.prototype.screenSetup = function() {
				t.prototype.screenSetup.call(this), this.content.add(this.game.prodigy.create.sprite(196, 522, "atlas-117", "rail", new Phaser.Point(0, 1))), this.content.add(this.game.prodigy.create.sprite(1084, 522, "atlas-117", "rail", new Phaser.Point(0, 1))).scale.x = -1, this.path.addCallback(3, this.toDino.bind(this), !0);
				var e = this.game.prodigy.dialogue.create();
				o.DinoDig.getNewFossils(this.game.prodigy.player.backpack).length > 0 && e.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MUSEUM_INTRO"),
					face: 0
				});
				for (var i, n = [{
						ID: 13,
						x: 916,
						y: 506,
						nx: 949,
						ny: 490
					}, {
						ID: 14,
						x: 362,
						y: 511,
						nx: 331,
						ny: 490
					}, {
						ID: 15,
						x: 1192,
						y: 707,
						nx: 1216,
						ny: 690
					}, {
						ID: 16,
						x: 85,
						y: 688,
						nx: 65,
						ny: 690
					}, {
						ID: 17,
						x: 290,
						y: 145
					}, {
						ID: 18,
						x: 390,
						y: 145
					}, {
						ID: 19,
						x: 490,
						y: 145
					}, {
						ID: 20,
						x: 590,
						y: 145
					}, {
						ID: 21,
						x: 690,
						y: 145
					}, {
						ID: 22,
						x: 790,
						y: 145
					}, {
						ID: 23,
						x: 890,
						y: 145
					}, {
						ID: 24,
						x: 990,
						y: 145
					}], r = 0; r < n.length; r++)(i = n[r]).full = this.game.prodigy.create.element(this.content, i.x, i.y), i.empty = this.game.prodigy.create.element(this.content, i.nx || i.x, i.ny || i.y), this.processFossil(i) || this.game.prodigy.player.backpack.canCraft("fossil", i.ID) && (e.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MUSEUM_CRAFT_FOSSILS_0", s.Items.getItem("fossil", i.ID).data.name),
					face: 1,
					audio: l.DynoZone.AUDIO[1]
				}), e.setText({
					callback: this.unlockFossil.bind(this, i)
				}), e.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MUSEUM_CRAFT_FOSSILS_1"),
					face: 1,
					anim: 2
				}));
				e.setText({
					callback: this.checkRewards.bind(this)
				}), e.start("scoog")
			}, e.prototype.checkRewards = function() {
				for (var t = !0, e = 13; e <= 24; e++) 0 === this.game.prodigy.player.backpack.hasItem("fossil", e) && (t = !1);
				if (t) {
					var i = [];
					if (0 === this.game.prodigy.player.backpack.hasItem("outfit", 39) && i.push({
							type: "outfit",
							ID: 39
						}), 0 === this.game.prodigy.player.backpack.hasItem("hat", 44) && i.push({
							type: "hat",
							ID: 44
						}), i.length > 0) {
						var n = this.game.prodigy.dialogue.create();
						n.setText({
							text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MUSEUM_COLLECTED_ALL_FOSSILS"),
							face: 1,
							audio: l.DynoZone.AUDIO[1]
						}), n.setText({
							callback: this.game.prodigy.open.gotItem.bind(this.game.prodigy.open, i, null, null, "museum")
						}), n.start("scoog")
					}
				}
			}, e.prototype.unlockFossil = function(t) {
				this.game.prodigy.player.backpack.craft("fossil", t.ID), this.processFossil(t, !0)
			}, e.prototype.processFossil = function(t, e) {
				var i;
				if (void 0 === e && (e = !1), this.game.prodigy.player.backpack.hasItem("fossil", t.ID) > 0) return t.type = "fossil", t.full.removeAll(!0), t.ID < 17 ? ((i = t.full.add(this.game.prodigy.create.sprite(0, 0, "atlas-117", t.ID))).x = -i.width / 2, i.y = -i.height) : t.full.add(this.game.prodigy.icon.createFromData(t, 0, 0, new Phaser.Point(.5, 1))), t.full.visible = !0, t.empty.visible = !1, e && this.game.add.tween(t.full.scale).to({
					x: 1.2,
					y: 1.2
				}, 500, Phaser.Easing.Quadratic.Out).to({
					x: 1,
					y: 1
				}, 500, Phaser.Easing.Quadratic.In).start(), !0;
				t.empty.removeAll(!0), (i = t.empty.add(this.game.prodigy.create.sprite(0, 0, "atlas-117", "empty"))).x = -i.width / 2, i.y = -i.height;
				var n = s.Items.getItem("fossil", t.ID).data.recipe[0],
					a = this.game.prodigy.player.backpack.hasItem(n.type, n.ID);
				return this.game.prodigy.create.font(t.empty, i.x - 50, i.y + 27, a + "/" + n.N, {
					width: 180,
					align: "center"
				}), t.empty.visible = !0, t.full.visible = !1, !1
			}, e.prototype.toDino = function() {
				this.game.prodigy.world.teleport("dyno-A0")
			}, e
		}(r.WalkableScreen);
	e.Museum = c
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t(t) {
			this.randomDataGenerator = t
		}
		return t.prototype.frac = function(t) {
			this.randomDataGenerator.sow([t]);
			var e = this.randomDataGenerator.frac();
			return this.randomDataGenerator.sow([Date.now() * Math.random()]), e
		}, t.prototype.pick = function(t, e) {
			this.randomDataGenerator.sow([e]);
			var i = this.randomDataGenerator.pick(t);
			return this.randomDataGenerator.sow([Date.now() * Math.random()]), i
		}, t.prototype.shuffleArray = function(t, e) {
			for (var i, n = t.length; 0 !== n;) {
				i = Math.floor(this.frac(e + n) * n), n--;
				var a = t[i];
				t[i] = t[n], t[n] = a
			}
			return t
		}, t
	}();
	e.SeededRandom = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
		var a, o = arguments.length,
			r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
		else
			for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
		return o > 3 && r && Object.defineProperty(e, i, r), r
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(9),
		o = i(99),
		r = function() {
			function t() {}
			return t.prototype.getCurrentEnvironment = function() {
				var t = this.getWindowHost(),
					e = this.getWindowQueryString(),
					i = o.EEnvironment.Local;
				return t.indexOf("-qa") >= 0 ? i = o.EEnvironment.QABox : t.indexOf("dev.prodigygame.org") >= 0 || t.indexOf("prodigygame.net") >= 0 ? i = o.EEnvironment.Dev : t.indexOf("prodigygame.org") >= 0 ? i = o.EEnvironment.Staging : t.indexOf("prodigygame.com") >= 0 && (i = o.EEnvironment.Production), e.indexOf("env=dev") >= 0 ? i = o.EEnvironment.Dev : e.indexOf("env=staging") >= 0 ? i = o.EEnvironment.Staging : (e.indexOf("env=production") >= 0 || e.indexOf("env=prod") >= 0) && (i = o.EEnvironment.Production), i
			}, t.prototype.getEnvironmentString = function() {
				switch (this.getCurrentEnvironment()) {
					case o.EEnvironment.Production:
						return "production";
					case o.EEnvironment.Staging:
						return "staging";
					default:
						return "dev"
				}
			}, t.prototype.getWindowHost = function() {
				return window.location.host
			}, t.prototype.getWindowQueryString = function() {
				return window.location.search
			}, t = n([a.injectable()], t)
		}();
	e.WindowLocationEnvironmentProvider = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
		var a, o = arguments.length,
			r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
		else
			for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
		return o > 3 && r && Object.defineProperty(e, i, r), r
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(9),
		o = i(23),
		r = function() {
			function t() {}
			return t.prototype.getScreenWidth = function() {
				return window.screen.availWidth
			}, t.prototype.getScreenHeight = function() {
				return window.screen.availHeight
			}, t.prototype.getPlatformName = function() {
				var t = "Desktop";
				return o.Device.isIOS() ? t = "iOS" : o.Device.isAndroid() && (t = "Android"), t + "-" + (o.Device.isNativeApp() ? "App" : "Browser")
			}, t = n([a.injectable()], t)
		}();
	e.WebDeviceInfoProvider = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(4),
		a = i(0),
		o = function() {
			function t(t) {
				this.game = null, this.assetsArray = [], this.loading = !1, this.loader = null, this.game = t
			}
			return t.prototype.setLoader = function(t) {
				this.loader = t, this.loader.crossOrigin = "anonymous", this.loader.baseURL = n.GameConstants.get("GameConstants.Build.ASSETS_LOCATION"), this.loader.onLoadComplete.add(this.loadComplete.bind(this), this)
			}, t.prototype.assets = function(e, i) {
				if ("string" == typeof e) {
					for (var n = 0; n < this.assetsArray.length; n++)
						if (1 === this.assetsArray[n].tags.length && this.assetsArray[n].tags[0] === e) return void this.assetsArray[n].callbacks.push(i);
					this.assetsArray.push({
						tags: [e],
						callbacks: [i],
						retry: t.RETRY_TOTAL
					})
				} else this.assetsArray.push({
					tags: e,
					callbacks: [i],
					retry: t.RETRY_TOTAL
				})
			}, t.prototype.loadComplete = function() {
				for (var t = this.assetsArray.length - 1; t >= 0; t--) {
					for (var e = this.assetsArray[t], i = !1, n = !1, o = 0; o < e.tags.length; o++) this.isFileLoaded(e.tags[o]) || (n = !0, a.Util.isValid(this.game.prodigy.assets.assets[e.tags[o]]) && (this.game.prodigy.assets.assets[e.tags[o]].noCache = !0));
					if (n) {
						if (e.retry <= 0 && (i = !0, a.Util.isValid(e.callbacks)))
							for (var r = 0; r < e.callbacks.length; r++) a.Util.isValid(e.callbacks[r]) && e.callbacks[r](e.tags, !1)
					} else if (i = !0, a.Util.isValid(e.callbacks))
						for (r = 0; r < e.callbacks.length; r++) a.Util.isValid(e.callbacks[r]) && e.callbacks[r](e.tags, !0);
					i && this.assetsArray.splice(t, 1)
				}
				this.loading = !1
			}, t.prototype.process = function() {
				if (!(!a.Util.isValid(this.loader) || this.loading || this.assetsArray.length <= 0)) {
					for (var e = (new Date).getTime(), i = !1, n = 0; n < this.assetsArray.length; n++) {
						var o = this.assetsArray[n];
						if (!a.Util.isValid(o.nextRetry) || o.nextRetry <= e) {
							i = !0, o.retry--, o.nextRetry = e + t.RETRY_TIME;
							for (var r = 0; r < o.tags.length; r++) this.processFile(o.tags[r])
						}
					}
					i && (this.loading = !0, this.loader.start())
				}
			}, t.prototype.processFile = function(t) {
				if (a.Util.isValid(t) && "" !== t && !this.isFileLoaded(t)) try {
					var e = this.game.prodigy.assets.getAsset(t),
						i = a.Util.isValid(e.fullURL) ? e.fullURL : "" + e.base + e.url,
						n = a.Util.isValid(e.noCache) && e.noCache ? "?r=" + (new Date).getTime() : "";
					if (!a.Util.isValid(i)) return;
					switch (e.type) {
						case "json":
							this.loader.json(t, i + n, !0);
							break;
						case "sprite":
							this.loader.image(t, i + n, !1);
							break;
						case "spritesheet":
							a.Util.isValid(e.fullURL) || a.Util.isValid(e.base) || (i = "v1/spritesheets/" + t + "/" + e.v + "/" + t + ".png");
							var o = e.w,
								r = e.h;
							this.loader.spritesheet(t, i + n, o, r);
							break;
						case "sfx":
						case "bgm":
							var s = a.Util.isValid(e.filename) ? e.filename : t;
							i = "v1/audio/" + s + "/" + e.v + "/" + s, this.loader.audio(t, [i + ".ogg" + n, i + ".mp3" + n], !0);
							break;
						case "atlas":
							var l = a.Util.isValid(e.filename) ? e.filename : e.key;
							i = "v1/atlases/" + (l = a.Util.isValid(l) ? l : t) + "/" + e.v + "/" + l, this.loader.atlasJSONHash(t, i + ".png", i + ".json" + n);
							break;
						case "local":
							var b = window.location.origin + window.location.pathname + "assets/images/";
							this.loader.atlasJSONHash(t, b + e.key + "/" + e.v + "/" + e.key + ".png", b + e.key + "/" + e.v + "/" + e.key + ".json")
							break;
						case "spine":
							i = "v1/spine/" + (l = a.Util.isValid(e.filename) ? e.filename : t) + "/" + e.v + "/" + l + ".json" + n, this.loader.spine(t, i);
							break;
						case "singleImage":
							i = "v1/single-images/" + (l = a.Util.isValid(e.filename) ? e.filename : t) + "/" + e.v + "/" + l + ".png" + n, this.loader.image(t, i, !1);
							break;
						case "bitmapFont":
							i = "v1/bitmap-fonts/" + e.filename + "/" + e.v + "/" + e.filename, this.loader.bitmapFont(t, i + ".png", i + ".xml" + n)
					}
				} catch (t) {}
			}, t.prototype.isFileLoaded = function(t) {
				if (!a.Util.isValid(t) || "" === t) return !0;
				try {
					switch (this.game.prodigy.assets.getAsset(t).type) {
						case "json":
						case "spine":
							if (!this.game.cache.checkJSONKey(t)) return !1;
							break;
						case "sprite":
						case "spritesheet":
						case "singleImage":
						case "atlas":
							if (!this.game.cache.checkImageKey(t)) return !1;
							break;
						case "local":
							if (!this.game.cache.checkImageKey(t)) return !1;
							break;
						case "sfx":
						case "bgm":
							if (!this.game.cache.checkSoundKey(t)) return !1;
							break;
						case "bitmapFont":
							if (!this.game.cache.checkBitmapFontKey(t)) return !1
					}
				} catch (t) {}
				return !0
			}, t.prototype.postUpdate = function(t) {
				this.process()
			}, t.RETRY_TIME = 1e3, t.RETRY_TOTAL = 5, t
		}();
	e.Loader = o
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t(t) {
			this.game = null, this.game = t
		}
		return t.prototype.float = function(t, e, i, n, a) {
			void 0 === a && (a = !1);
			var o = this.game.add.tween(t).to({
				y: "-" + e
			}, i, Phaser.Easing.Quadratic.InOut).to({
				y: "+" + e
			}, i, Phaser.Easing.Quadratic.InOut);
			return n && o.loop(), a && o.start(), o
		}, t.prototype.translate = function(t, e, i, n, a, o, r) {
			void 0 === a && (a = 0), void 0 === o && (o = Phaser.Easing.Linear.None), void 0 === r && (r = !1);
			var s = this.game.add.tween(t).delay(a).to({
				x: e,
				y: i
			}, n, o);
			return r && s.start(), s
		}, t.prototype.rotate = function(t, e, i, n, a, o) {
			void 0 === n && (n = 0), void 0 === a && (a = Phaser.Easing.Linear.None), void 0 === o && (o = !1);
			var r = this.game.add.tween(t).delay(n).to({
				angle: e
			}, i, a);
			return o && r.start(), r
		}, t.prototype.fade = function(t, e, i, n, a, o) {
			void 0 === n && (n = 0), void 0 === a && (a = Phaser.Easing.Linear.None), void 0 === o && (o = !1);
			var r = this.game.add.tween(t).delay(n).to({
				alpha: e
			}, i, a);
			return o && r.start(), r
		}, t.prototype.hop = function(t, e, i, n, a, o, r) {
			var s = this;
			void 0 === o && (o = !1), void 0 === r && (r = !1);
			var l = this.game.add.tween(t).to({
				x: e
			}, a, Phaser.Easing.Linear.None);
			o && l.to({
				alpha: 0
			}, 10, Phaser.Easing.Linear.None);
			var c = {
				tween: l,
				tween2: this.game.add.tween(t).to({
					y: i
				}, a / 2, Phaser.Easing.Quadratic.Out).to({
					y: n
				}, a / 2, Phaser.Easing.Quadratic.In),
				start: function() {
					return c.tween.start(), c.tween2.start(), c
				},
				onComplete: {
					tween: l,
					add: function(t) {
						l.onComplete.add(t.bind(s))
					}
				}
			};
			return r && c.start(), c
		}, t.prototype.shake = function(t, e, i, n, a, o, r, s, l) {
			void 0 === r && (r = 0), void 0 === s && (s = Phaser.Easing.Linear.None), void 0 === l && (l = !1);
			var c = .25 * o,
				h = this.game.add.tween(t).delay(r).to({
					x: e,
					y: i
				}, c, s).to({
					x: n,
					y: a
				}, c, s).to({
					x: e,
					y: i
				}, c, s).to({
					x: 0,
					y: 0
				}, c, s);
			return l && h.start(), h
		}, t
	}();
	e.GenAnimation = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = i(236),
		r = i(0),
		s = function(t) {
			function e() {
				return t.call(this) || this
			}
			return n(e, t), e.prototype.setup = function(e) {
				t.prototype.setup.call(this, e)
			}, e.prototype.applyDebugOptions = function(t) {
				a.GameConstants.get("GameConstants.Debug.COMPLETE_TUTORIAL") && this.completeTutorial();
				var e = a.GameConstants.get("GameConstants.Build.QUEST");
				e.length > 1 && (this.setQuest(e[0], e[1]), 3 === e.length && setTimeout(this.tp.bind(this), 6e3, e[2]))
			}, e.prototype.enableDebugCalls = function(t) {
				a.GameConstants.get("GameConstants.Build.DEBUG") && (window.setQuest = this.setQuest.bind(this), window.initQuest = this.initQuest.bind(this), window.completeQuestRequirements = this.completeQuestRequirements.bind(this), window.completeTutorial = this.completeTutorial.bind(this))
			}, e.prototype.setQuest = function(t, e, i, n) {
				this.game.prodigy.world.getZone(t).testQuest(e, i, n);
				try {
					this.game.state.states.TileScreen.process()
				} catch (t) {}
			}, e.prototype.initQuest = function() {
				var t, e = this,
					i = [],
					n = function(t) {
						var i = e.game.prodigy.player.state.data.zone[t],
							n = 0;
						return r.Util.isValid(i) && r.Util.isValid(i.quest) && (n = i.quest.ID), n
					};
				(t = n("lamplight")) > 1 && i.push({
					ID: 13,
					type: "key"
				}), (t = n("forest")) > 4 && i.push({
					type: "spell",
					ID: 13
				}, {
					type: "item",
					ID: 67
				}), t > 8 && i.push({
					type: "spell",
					ID: 14
				}, {
					type: "item",
					ID: 69
				}), t > 10 && this.game.prodigy.player.backpack.consume("item", 69, 1), t > 13 && i.push({
					type: "spell",
					ID: 15
				}, {
					type: "key",
					ID: 3
				}), (t = n("shiverchill")) > 2 && i.push({
					type: "item",
					ID: 71
				}), t > 3 && (this.setState("shiverchill", "furnace", 1), i.push({
					type: "spell",
					ID: 19
				})), t > 4 && i.push({
					type: "item",
					ID: 75
				}), t > 5 && i.push({
					type: "item",
					ID: 72
				}), t > 6 && i.push({
					type: "hat",
					ID: 54
				}), t > 10 && (this.setState("shiverchill", "furnace", 2), i.push({
					type: "spell",
					ID: 20
				})), t > 12 && i.push({
					type: "outfit",
					ID: 47
				}, {
					type: "item",
					ID: 74,
					N: 5
				}), t > 14 && (this.setState("shiverchill", "furnace", 3), i.push({
					type: "spell",
					ID: 21
				})), t > 15 && i.push({
					type: "weapon",
					ID: 74
				}, {
					type: "key",
					ID: 4
				}), (t = n("skywatch")) > 2 && (this.setState("skywatch", "windowBroken", 1), i.push({
					type: "item",
					ID: 87,
					N: 1
				})), t > 3 && i.push({
					type: "key",
					ID: 8
				}), t > 4 && (this.setState("skywatch", "vines-D1", 1), this.setState("skywatch", "vines-D2", 1), this.setState("skywatch", "plug-D3", 1), this.setState("skywatch", "vines-D3", 1), this.setState("skywatch", "plug-B3", 1), this.setState("skywatch", "vines-B3", 1), this.setState("skywatch", "plug-C4", 1), this.setState("skywatch", "vines-C4", 1), i.push({
					type: "spell",
					ID: 25
				})), t > 6 && i.push({
					type: "item",
					ID: 81
				}), t > 7 && (i.push({
					type: "key",
					ID: 9
				}), this.game.prodigy.player.backpack.consume("item", 87, 1)), t > 8 && i.push({
					type: "outfit",
					ID: 5
				}), t > 10 && i.push({
					type: "spell",
					ID: 26
				}), t > 11 && i.push({
					type: "hat",
					ID: 8
				}), t > 12 && i.push({
					type: "item",
					ID: 83
				}), t > 13 && i.push({
					type: "spell",
					ID: 27
				}, {
					type: "key",
					ID: 10
				}), (t = n("bonfire_spire")) > 1 && this.setState("bonfire_spire", "lever1", 1), t > 2 && this.setState("bonfire_spire", "lever2", 1), t > 3 && (this.setState("bonfire_spire", "lever3", 1), i.push({
					type: "hat",
					ID: 65
				})), t > 4 && i.push({
					type: "spell",
					ID: 1
				}, {
					type: "item",
					ID: 88
				}), t > 5 && i.push({
					type: "spell",
					ID: 1
				}), t > 7 && i.push({
					type: "outfit",
					ID: 56
				}), t > 9 && i.push({
					type: "item",
					ID: 91,
					N: 1
				}), t > 10 && this.game.prodigy.player.backpack.consume("item", 91, 1), t > 11 && i.push({
					type: "spell",
					ID: 2
				}, {
					type: "item",
					ID: 92
				}), t > 12 && (i.push({
					type: "key",
					ID: 12
				}), this.game.prodigy.player.backpack.consume("item", 92, 1)), t > 13 && i.push({
					type: "weapon",
					ID: 81
				}), t > 14 && i.push({
					type: "spell",
					ID: 3
				}, {
					type: "key",
					ID: 11
				}), (t = n("shipwreck_shore")) > -1 && (this.setState("shipwreck_shore", "wizardC8", 0), this.setState("shipwreck_shore", "wizardA5", 0), this.setState("shipwreck_shore", "chestA3", 0), this.setState("shipwreck_shore", "chestA5", 0), this.setState("shipwreck_shore", "chestB5", 0), this.setState("shipwreck_shore", "chestB13", 0), this.setState("shipwreck_shore", "chestB10", 0), this.setState("shipwreck_shore", "chestBreathingBubble", 0), this.setState("shipwreck_shore", "mimic1", 0), this.setState("shipwreck_shore", "mimic2", 0), this.setState("shipwreck_shore", "inkA7", 0), this.setState("shipwreck_shore", "inkB6", 0), this.setState("shipwreck_shore", "inkB5", 0), this.setState("shipwreck_shore", "inkA5", 0), this.setState("shipwreck_shore", "inkC9", 0), this.setState("shipwreck_shore", "inkB7", 0), this.setState("shipwreck_shore", "squeak", 0)), t > 1 && i.push({
					type: "key",
					ID: 14
				}), t > 3 && i.push({
					type: "spell",
					ID: 7
				}), t > 4 && i.push({
					type: "key",
					ID: 15
				}), t > 5 && (this.setState("shipwreck_shore", "inkA7", 1), this.setState("shipwreck_shore", "inkB6", 1), this.setState("shipwreck_shore", "inkB5", 1), this.setState("shipwreck_shore", "inkA5", 1)), t > 6 && i.push({
					type: "spell",
					ID: 8
				}), t > 12 && i.push({
					type: "spell",
					ID: 9
				}, {
					type: "key",
					ID: 17
				});
				var a = r.Util.filterDuplicateKeys(this.game, i);
				a.length > 0 && this.game.prodigy.open.gotItem(a, null)
			}, e.prototype.completeQuestRequirements = function(t) {
				var e = this.game.prodigy.world.zones[t],
					i = e.getCurrentQuest(),
					n = 0;
				if (r.Util.isValid(i)) {
					var a = i.req;
					if ("item" === a.type) this.game.prodigy.player.backpack.add(a.type, a.ID, !1, r.Util.isValid(a.N) ? a.N : 1);
					else if ("key" === a.type) this.game.prodigy.player.backpack.add(a.type, a.ID, !1, r.Util.isValid(a.N) ? a.N : 1);
					else if ("pet" === a.type)
						for (n = 0; n < a.N; n++) e.defeatMonster(a.ID, n, a.U);
					else if ("seq" === a.type)
						for (n = 0; n < a.N; n++) e.completeSequence(i.ID, n)
				}
			}, e.prototype.completeTutorial = function() {
				var t = this.game.prodigy.player.tutorial;
				this.setQuest("house", 2), this.setQuest("academy", 2), this.game.prodigy.player.backpack.addKeyItem(13, 0), t.setMenuValue(14, 0, 1), t.setMenuValue(3, 0, 1), t.setMenuValue(3, 1, 1), t.setMenuValue(3, 2, 1), t.setMenuValue(23, 0, 1), this.game.prodigy.open.map(!0, ["WORLD_DYNO_DIG_OASIS", "WORLD_EPICS_SUBSPACE", "WORLD_DARK_TOWER", "WORLD_LAMPLIGHT_TOWN", "WORLD_THE_ACADEMY", "WORLD_LOST_ISLAND", "WORLD_YOUR_HOUSE", "DISABLE_TITAN"]), this.game.prodigy.player.onTutorialComplete()
			}, e.prototype.restartTutorial = function() {
				this.game.prodigy.player.state.data.tutorial = {}, this.game.prodigy.player.state.data.zone = {}, this.game.prodigy.player.state.data.world = {}, this.game.prodigy.player.state.data.breadcrumbs = {}, this.game.prodigy.player.state.updated = !0, this.game.prodigy.player.tutorial.setData({
					menus: {},
					zones: {}
				}), this.game.prodigy.player.tutorial.updated = !0, this.game.prodigy.player.backpack.data.key = [], this.game.prodigy.player.backpack.data.weapon = this.game.prodigy.player.backpack.data.weapon.filter(function(t) {
					return 25 !== t.ID
				}), this.game.prodigy.player.backpack.updated = !0, this.game.prodigy.player.appearance.setName(null), delete this.game.prodigy.player.equipment.getData().hat, this.game.prodigy.player.data.level = 1, this.game.prodigy.player.data.stars = 0, this.game.prodigy.player.updated = !0, this.tp("house")
			}, e
		}(o.Debug);
	e.DebugQuests = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		a = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		o = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var r = i(1),
		s = i(9),
		l = i(0),
		c = function() {
			function t(t) {
				this.localizer = null, this.phrases = [], this.localizer = t
			}
			return t.prototype.addPhrases = function(t, e) {
				void 0 === e && (e = !1);
				for (var i = 0; i < t.length; i++) {
					var n = t[i];
					this.phrases.push(l.Util.capitalize(e ? this.localizer.getText(n) : n))
				}
			}, t.prototype.getPhrases = function() {
				return this.phrases.slice()
			}, t.prototype.getPhrase = function(t) {
				return this.phrases.length > t ? this.phrases[t] : null
			}, t.prototype.getPhraseIndex = function(t) {
				for (var e = 0; e < this.phrases.length; e++)
					if (t === this.phrases[e]) return e;
				return -1
			}, t = n([s.injectable(), o(0, s.inject(r.GameIdentifiers.LocalizationService)), a("design:paramtypes", [r.BaseLocalizer])], t)
		}();
	e.ChatManager = c
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = function() {
			function t(t) {
				this.name = "", this.breadcrumbs = {}, this.name = t
			}
			return t.prototype.addBreadcrumb = function(t, e, i) {
				return e >= 0 && e < 32 ? this.breadcrumbs[t] = {
					index: e,
					completes: i
				} : n.Logger.log("addBreadcrumb - Breadcrumb was not added. index must be between [0, 32], provided index was " + e, n.LogLevel.Error), this
			}, t
		}();
	e.BreadcrumbFeature = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(435),
		a = function() {
			function t() {
				this.features = {}, this.setup()
			}
			return t.prototype.addFeature = function(t) {
				var e = new n.BreadcrumbFeature(t);
				return this.features[t] = e, e
			}, t
		}();
	e.BreadcrumbConfig = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(436),
		o = i(14),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.setup = function() {
				this.addFeature(o.Breadcrumbs.FEATURE_BATTLE_TUTORIAL).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_FIRST_BATTLE_STARTED, 0).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_FIRST_BATTLE_FINISHED, 1, [o.Breadcrumbs.BREADCRUMB_FIRST_BATTLE_STARTED]).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_FIRST_NEAR_DEFEAT, 2).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_FIRST_ENEMY_HURT, 3).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_FIRST_NFACTOR_BONUS, 4).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_FIRST_ENERGY_GAINED, 5).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_FIRST_AOE_READY, 6).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_FIRST_AOA_CHARGED, 7).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_FIRST_AOA_USED, 8).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_FOURTH_BATTLE_STARTED, 9).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_FIRST_PET_RESCUABLE, 10).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_FIRST_PET_RESCUED, 11, [o.Breadcrumbs.BREADCRUMB_FIRST_PET_RESCUABLE, o.Breadcrumbs.BREADCRUMB_FREE_RESCUE]).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_FREE_RESCUE, 12, [o.Breadcrumbs.BREADCRUMB_FIRST_PET_RESCUABLE]), this.addFeature(o.Breadcrumbs.FEATURE_HOUSE_VISITING).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON, 0).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE, 1, [o.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON]).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_CLICKED_HOUSE_LOCK_BUTTON, 2, [o.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE]).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_CLICKED_CARD_VISIT_BUTTON, 3), this.addFeature(o.Breadcrumbs.FEATURE_HOUSE_MOVING).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON, 0).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE, 1, [o.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON]).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_CLICKED_HOUSE_MOVE_BUTTON, 2, [o.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE]), this.addFeature(o.Breadcrumbs.FEATURE_STYLIST).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_CLICKED_CARD_STYLIST_BUTTON, 0), this.addFeature(o.Breadcrumbs.BREADCRUMB_CLICKED_DAB).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_CLICKED_DAB_EMOTE_BUTTON, 0).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_CLICKED_DAB_DANCE_BUTTON, 1).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_CLICKED_DAB_DAB_BUTTON, 2, [o.Breadcrumbs.BREADCRUMB_CLICKED_DAB_DANCE_BUTTON, o.Breadcrumbs.BREADCRUMB_CLICKED_DAB_EMOTE_BUTTON]), this.addFeature(o.Breadcrumbs.BREADCRUMB_TITAN_INTRO).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_TITAN_WATCHED_INTRO, 0).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_TITAN_HARVEY_TALKED, 1), this.addFeature(o.Breadcrumbs.FEATURE_CLOUD_MOUNT).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_CLOUD_MOUNT_TOGGLED, 0), this.addFeature(o.Breadcrumbs.FEATURE_SOCIAL_FEED).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_SOCIAL_FEED_OPENED, 0), this.addFeature(o.Breadcrumbs.FEATURE_BADGES).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_CLICKED_SOCIAL_BUTTON, 0).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_CLICKED_BADGES_BUTTON, 1, [o.Breadcrumbs.BREADCRUMB_CLICKED_SOCIAL_BUTTON]), this.addFeature(o.Breadcrumbs.BREADCRUMB_UNLOCK_ACADEMY).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_UNLOCK_ACADEMY_NOOT_DIALOGUE, 0).addBreadcrumb(o.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON, 1)
			}, e
		}(a.BreadcrumbConfig);
	e.GameBreadcrumbConfig = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
		var a, o = arguments.length,
			r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
		else
			for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
		return o > 3 && r && Object.defineProperty(e, i, r), r
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(9),
		r = i(0),
		s = function() {
			function t() {
				this.dataSource = null, this.breadcrumbConfig = null
			}
			return t.prototype.init = function(t, e) {
				this.dataSource = t, this.breadcrumbConfig = e
			}, t.prototype.completeBreadcrumb = function(t, e) {
				var i = "breadcrumbs-" + t;
				if (!this.isBreadcrumbComplete(t, e)) {
					var n = this.breadcrumbConfig.features[t];
					if (r.Util.isValid(n)) {
						var o = n.breadcrumbs[e];
						if (r.Util.isValid(o)) {
							var s = this.dataSource.get(i);
							if (r.Util.isValid(s) || this.dataSource.set(i, 0), s = this.dataSource.get(i), this.dataSource.set(i, s | Math.pow(2, o.index)), r.Util.isValid(o.completes) && o.completes.length > 0)
								for (var l = 0, c = o.completes; l < c.length; l++) {
									var h = c[l];
									this.completeBreadcrumb(t, h)
								}
						} else a.Logger.log("BreadcrumbManager.completeBreadcrumb - Couldn't find breadcrumb named: " + e + " for feature: " + t + ". No action taken.", a.LogLevel.Error)
					} else a.Logger.log("BreadcrumbManager.completeBreadcrumb - Couldn't find feature named: " + t + ". No action taken.", a.LogLevel.Error)
				}
			}, t.prototype.isBreadcrumbComplete = function(t, e) {
				var i = this.dataSource.get("breadcrumbs-" + t),
					n = this.breadcrumbConfig.features[t];
				if (r.Util.isValid(n)) {
					var a = n.breadcrumbs[e];
					if (r.Util.isValid(a)) {
						var o = Math.pow(2, a.index);
						return r.Util.isValid(i) && (i & o) === o
					}
				}
				return !1
			}, t.prototype.resetBreadcrumbs = function(t) {
				var e = "breadcrumbs-" + t,
					i = this.breadcrumbConfig.features[t];
				if (r.Util.isValid(i)) {
					var n = this.dataSource.get(e);
					r.Util.isValid(n) && this.dataSource.set(e, 0)
				}
			}, t = n([o.injectable()], t)
		}();
	e.BreadcrumbManager = s
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(65),
		o = i(4),
		r = i(120),
		s = i(0),
		l = function() {
			function t(t) {
				this.mode = ["pet"], this.MAX_BOUNTIES = 3, this.preName = ["Aze", "Apple", "Ame", "Ave", "Accu", "Ah", "Atu", "Aitro", "Ava", "Alba", "Ami", "Auri", "Aura", "Bri", "Buri", "Blobo", "Blu", "Bra", "Bron", "Bri", "Bizu", "Bamo", "Brede", "Bru", "Bro", "Bil", "Ca", "Cami", "Copmero", "Caru", "Cray", "Ci", "Car", "Ces", "Char", "Cha", "Da", "Dar", "De", "Dra", "Dub", "Du", "Dere", "Doe", "Dev", "Ecar", "Ed", "Emu", "Ever", "Eli", "Eli", "Em", "Erme", "Eta", "Ferni", "Fran", "Fruit", "Gri", "Geo", "Gero", "Gio", "Gra", "Gre", "Ham", "Hu", "Har", "Hay", "Hec", "Hev", "Homu", "Hunt", "If", "Iri", "Isa", "Iro", "Ic", "Jaco", "Jav", "Jelly", "Jim", "Jer", "Jamu", "Kal", "Kam", "Ke", "Ki", "La", "Lar", "Law", "Leo", "Lev", "Lam", "Log", "Lucas", "Lui", "Mal", "Man", "Mar", "My", "Na", "North", "Ni", "Nym", "Nol", "Obe", "Oma", "On", "Ozz", "Own", "Py", "Pa", "Pey", "Phil", "Par", "Pre", "Ral", "Ra", "Ric", "Ri", "Rob", "Ro", "Roh", "Roe", "Rom", "Sa", "Sco", "Se", "Seb", "Ser", "Sha", "Spe", "Ste", "Ter", "Tho", "Ti", "Tra", "Tre", "Tri", "Ty", "Va", "Vi", "Vin", "Wal", "Wa", "Way", "Wes", "Wil", "Wi", "Wy", "Yo", "Za"], this.postName = ["ron", "cup", "rush", "ria", "lomo", "sari", "da", "siri", "pos", "lin", "tru", "rious", "ri", "yte", "ros", "lya", "bos", "kin", "rt", "zipher", "son", "bloor", "math", "buu", "steak", "flace", "tato", "ium", "iar", "lious", "lo", "lio", "tion", "til", "lite", "ser", "kar", "ton", "vous", "cas", "foth", "vicus", "lith", "lik", "vin", "lae", "frost", "ras", "masa", "roth", "tark", "pus", "cico", "isan", "chi", "gtre", "rth", "mith", "phith", "pott", "nibo", "finik", "nmy", "goroth", "bro", "tik", "ford", "tis", "ier", "lus", "ear", "ret", "los", "a", "lak", "como", "ios", "bo", "ini", "old", "esch", "erio", "tara", "moth", "an", "tus", "brak", "nid", "ious", "bu", "goth", "art", "si", "aki", "ikir", "oth", "sil", "cuo", "io", "so", "vus", "with", "cho", "rys", "ron", "rin", "ith", "mat", "ra", "thos", "ci", "tri", "ius", "kos", "sa", "igos", "yn", "ard", "cha", "led", "obo", "gear", "ule"], this.titleName = [" the Firemonger", " of the Void", " the Waterweaver", " the Earthshaker", " the Windcaller", " Burrowich", " the Digger", " the Therapist", " of Malakai", " Geronido", " Masterflash", " Meganoth", " Seratone", " the Goldwatch", " Passimore", " of the Gatewatch", " the Alchemical", " the Pacifier", " the Ultraverser", ", Chewer of Bones", " the Great", " Bergenwharph", " of Tsao", " of Ruples", " HwyLisco", ", Observer of Hew", ", Shade of Liu", ", Temp of Jude"], this.zones = ["forest", "shiverchill", "skywatch"], this.reward = [1, 1, 3, 1, 3, 5, 3, 1, 1, 5, 1], this.game = t
			}
			return t.prototype.getMap = function(t) {
				var e = this.getZoneName(t),
					i = t.map;
				if (!s.Util.isValid(i)) {
					var n = [];
					for (var a in this.game.prodigy.world.zones[e].maps) s.Util.isValid(this.game.prodigy.world.zones[e].maps[a].coord) && n.push(a);
					var o = new r.SeededRandomGenerator(t.seed);
					i = n[Math.floor(o.jumpFromStart(1) * n.length)]
				}
				return i
			}, t.prototype.getZoneName = function(t) {
				var e = this,
					i = t.zone;
				if (!s.Util.isValid(i)) {
					var n = new r.SeededRandomGenerator(t.seed);
					i = a(this.zones, function(t) {
						return e.game.prodigy.world.zones[t].monsters.length > 0
					})[Math.floor(n.jumpFromStart(0) * this.zones.length)]
				}
				return i
			}, t.prototype.getMode = function(t) {
				var e = new r.SeededRandomGenerator(t.seed),
					i = Math.floor(e.jumpFromStart(7) * this.mode.length);
				return this.mode[i]
			}, t.prototype.getMonster = function(t) {
				var e = this.getZoneName(t),
					i = t.monster;
				if (!s.Util.isValid(i)) {
					var n = new r.SeededRandomGenerator(t.seed);
					i = Math.floor(n.jumpFromStart(2) * this.game.prodigy.world.zones[e].monsters.length)
				}
				return this.game.prodigy.world.zones[e].monsters[i]
			}, t.prototype.getTeam = function(t) {
				for (var e = 2464565433 * new r.SeededRandomGenerator(t.seed).jumpFromStart(2), i = new r.SeededRandomGenerator(e), n = Math.floor(3 * i.jumpFromStart(0) + 2), a = [], o = 0, s = 1; s <= n; s++) o = Math.floor(i.jumpFromStart(s) * this.game.prodigy.world.zones[this.getZoneName(t)].monsters.length), a.push({
					ID: this.game.prodigy.world.zones[this.getZoneName(t)].monsters[o],
					level: this.getLevel(t),
					nickname: this.getName({
						seed: t.seed * i.jumpFromStart(s)
					})
				});
				return a
			}, t.prototype.getName = function(t) {
				var e = t.preName,
					i = new r.SeededRandomGenerator(t.seed);
				s.Util.isValid(e) || (e = Math.floor(i.jumpFromStart(3) * this.game.prodigy.bounty.preName.length));
				var n = t.postName,
					a = new r.SeededRandomGenerator(1e6 * i.jumpFromStart(3));
				s.Util.isValid(n) || (n = Math.floor(a.jumpFromStart(0) * this.postName.length));
				var o = this.preName[e] + this.postName[n];
				if (5 === this.getReward(t)) {
					var l = t.title;
					s.Util.isValid(l) || (a = new r.SeededRandomGenerator(1e6 * i.jumpFromStart(3)), l = Math.floor(a.jumpFromStart(1) * this.titleName.length)), o += this.titleName[l]
				}
				return o
			}, t.prototype.getCoord = function(t) {
				var e = this.game.prodigy.world.zones[this.getZoneName(t)].maps[this.getMap(t)],
					i = t.location;
				if (!s.Util.isValid(i)) {
					var n = new r.SeededRandomGenerator(t.seed);
					i = Math.floor(n.jumpFromStart(4) * e.coord.length)
				}
				return {
					x: e.coord[i].x,
					y: e.coord[i].y
				}
			}, t.prototype.getReward = function(t) {
				var e = t.reward;
				if (!s.Util.isValid(e)) {
					var i = new r.SeededRandomGenerator(t.seed);
					e = Math.floor(i.jumpFromStart(5) * this.game.prodigy.bounty.reward.length)
				}
				return this.game.prodigy.bounty.reward[e]
			}, t.prototype.getLevel = function(t) {
				var e = t.level;
				if (!s.Util.isValid(e)) {
					var i = new r.SeededRandomGenerator(t.seed);
					i.jumpFromStart(6);
					var n = void 0;
					n = 5 === this.getReward(t) ? Math.floor(9 * i.jumpFromStart(6) + 11) : 3 === this.getReward(t) ? Math.floor(4 * i.jumpFromStart(6) + 6) : Math.floor(4 * i.jumpFromStart(6) + 1), (e = this.game.prodigy.player.kennel.getAvgTeamLv() + n) > 100 && (e = 100)
				}
				return e
			}, t.prototype.getBounties = function() {
				for (var t, e = [], i = 0; i < this.MAX_BOUNTIES; i++)
					if (t = i + 84, this.game.prodigy.player.backpack.hasItem("item", t) > 0) {
						var n = this.getBounty(i);
						n.ID = t, n.seed = this.game.prodigy.player.backpack.getItemData(t, "seed"), n.complete = s.Util.isValid(this.game.prodigy.player.backpack.getItemData(t, "complete")) ? 1 : 0, e.push(n)
					} return e
			}, t.prototype.hasBounty = function(t, e) {
				var i = this.getBounties();
				if (s.Util.isValid(i))
					for (var n = 0; n < i.length; n++) {
						if (this.getZoneName(i[n]) === t)
							if (this.getMap(i[n]) === e && (!s.Util.isValid(i[n].complete) || 0 === i[n].complete)) return i[n]
					}
				return null
			}, t.prototype.compareBounties = function(t, e) {
				return this.getZoneName(t) === this.getZoneName(e) && this.getMap(t) === this.getMap(e)
			}, t.prototype.placeBounty = function(t, e, i) {
				var a, o = this.getLevel(t),
					r = this.getCoord(t),
					l = this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService);
				if ("pet" === this.getMode(t)) {
					var c = this.getMonster(t),
						h = this.getName(t);
					a = {
						intro: l.getText("COMBAT_BOUNTY_BATTLE"),
						randDir: !0,
						encounter: [{
							ID: c,
							nickname: h
						}],
						level: o,
						bounty: t
					};
					var u = i.addBounty(this.game, e, 9, r.x, r.y, !1, a);
					s.Util.isValid(u) && u.showName(h)
				} else "team" === this.getMode(t) && (a = {
					encounter: [{
						ID: this.getTeam(t)[0].ID,
						nickname: this.getTeam(t)[0].nickname
					}],
					intro: l.getText("COMBAT_BOUNTY_BATTLE"),
					bounty: t,
					level: o,
					screen: "battle-shiverchill-inside",
					pets: this.getTeam(t).slice(1, this.getTeam(t).length)
				}, i.addBounty(this.game, e, 9, r.x, r.y, !1, a))
			}, t.prototype.placeBountyHere = function(t, e, i, a) {
				var o = this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService),
					r = this.getLevel(t);
				if (s.Util.isValid(i.coord)) {
					var l, c = i.coord[a];
					if ("pet" === this.getMode(t)) {
						var h = this.getMonster(t),
							u = this.getName(t);
						l = {
							intro: o.getText("COMBAT_BOUNTY_BATTLE"),
							randDir: !0,
							encounter: [{
								ID: h,
								nickname: u
							}],
							level: r,
							bounty: t
						}, i.addBounty(this.game, e, 9, c.x, c.y, !1, l).showName(u)
					} else "team" === this.getMode(t) && (l = {
						encounter: [{
							ID: this.getTeam(t)[0].ID,
							nickname: this.getTeam(t)[0].nickname
						}],
						intro: o.getText("COMBAT_BOUNTY_BATTLE"),
						bounty: t,
						level: r,
						screen: "battle-shiverchill-inside",
						pets: this.getTeam(t).slice(1, this.getTeam(t).length)
					}, i.addBounty(this.game, e, 9, c.x, c.y, !1, l))
				}
			}, t.prototype.getBounty = function(t) {
				var e = {};
				return o.GameConstants.get("GameConstants.Build.DEBUG") && s.Util.isValid(this.game.prodigy.debugMisc.bountyOverrides[t]) && (e = this.game.prodigy.debugMisc.bountyOverrides[t]), e.seed = this.game.prodigy.player.state.get("world-bounties")[t], e
			}, t.prototype.generateBounties = function(t) {
				for (var e, i, n = this.game.prodigy.player.state.get("world-bounties") || [], a = new r.SeededRandomGenerator(Number(t)), o = 0; o < this.MAX_BOUNTIES; o++)
					if (!s.Util.isValid(this.game.prodigy.player.state.get("world-bounties")) || this.game.prodigy.player.state.get("world-bounties").length < 3) {
						for (e = 175451218 * a.jumpFromStart(o), i = 1; !this.checkValidBounty(e, o);) e = a.jumpFromStart(o) * i * 175451218, i++;
						n.push(e), this.game.prodigy.world.setState("bounties", n)
					} else if (0 === this.game.prodigy.player.backpack.hasItem("item", o + 84)) {
					for (e = 175451218 * a.jumpFromStart(o), i = 1; !this.checkValidBounty(e, o);) e = a.jumpFromStart(o) * i * 175451218, i++;
					n[o] = e
				}
				this.game.prodigy.world.setState("bounties", n)
			}, t.prototype.checkValidBounty = function(t, e) {
				if (s.Util.isValid(this.game.prodigy.player.state.get("world-bounties")))
					for (var i = 0; i < e; i++)
						if (this.game.prodigy.player.state.get("world-bounties")[i] > 0) {
							if (this.game.prodigy.bounty.compareBounties({
									seed: this.game.prodigy.player.state.get("world-bounties")[i]
								}, {
									seed: t
								})) return !1;
							if (this.getReward({
									seed: this.game.prodigy.player.state.get("world-bounties")[i]
								}) > 1 && this.getReward({
									seed: t
								}) > 1) return !1;
							if (this.getName({
									seed: this.game.prodigy.player.state.get("world-bounties")[i]
								}) === this.getName({
									seed: t
								})) return !1
						} return !0
			}, t.prototype.completeBounty = function(t) {
				this.game.prodigy.player.backpack.setItemData(t.ID, "complete", 1)
			}, t.prototype.getText = function(t) {
				var e = t.description;
				if (!s.Util.isValid(e)) {
					var i = new r.SeededRandomGenerator(t.seed);
					e = Math.floor(4.9 * i.jumpFromStart(8))
				}
				return e
			}, t
		}();
	e.BountyManager = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(46),
		o = i(45),
		r = i(35),
		s = i(0),
		l = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B2", "MAP_TOY_ZONE_EPIC_ZONE", 640, 360, ["toyzone-B1"], i.concat(["tileset-water-new", "tileset-ship-exterior", "tileset-volcano-new", "tileset-bonfire", "tileset-cloud-new", "tileset-skywatch", "tileset-skywatch-factory", "tileset-icecave-new", "tileset-firefly-new"])) || this;
				return n.TOY_SPAWN_DATA = [{
					ID: 125,
					toy: {
						x: 640,
						y: 515
					},
					portal: {
						x: 590,
						y: 440
					},
					path: {
						x: 635,
						y: 500
					},
					effect: {
						x: 640,
						y: 473
					},
					exit: {
						x: 635,
						y: 400
					}
				}, {
					ID: 126,
					toy: {
						x: 400,
						y: 260
					},
					portal: {
						x: 350,
						y: 195
					},
					path: {
						x: 395,
						y: 250
					},
					effect: {
						x: 400,
						y: 232
					},
					exit: {
						x: 500,
						y: 280
					}
				}, {
					ID: 127,
					toy: {
						x: 355,
						y: 430
					},
					portal: {
						x: 305,
						y: 355
					},
					path: {
						x: 355,
						y: 420
					},
					effect: {
						x: 362,
						y: 391
					},
					exit: {
						x: 460,
						y: 420
					}
				}, {
					ID: 128,
					toy: {
						x: 880,
						y: 260
					},
					portal: {
						x: 830,
						y: 195
					},
					path: {
						x: 885,
						y: 250
					},
					effect: {
						x: 883,
						y: 232
					},
					exit: {
						x: 770,
						y: 280
					}
				}, {
					ID: 129,
					toy: {
						x: 920,
						y: 430
					},
					portal: {
						x: 870,
						y: 365
					},
					path: {
						x: 923,
						y: 420
					},
					effect: {
						x: 921,
						y: 391
					},
					exit: {
						x: 810,
						y: 420
					}
				}], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				var a = this;
				t.prototype.setup.call(this, e, i, n), this.portalActive = !1, this.landedOnPortal = !1, new o.ToyMerchant(e, i.content, 640, 200), this.addAreaEvent(e, i, {
					x: 640,
					y: 320,
					w: 100,
					h: 80
				}, "toyzone-B1", 640, 360, this.playPortalEffectEnter.bind(this, 640, 310, 770, 345)), i.addClickableEvent(580, 270, 120, 100, this.playPortalEffectExit.bind(this, 640, 310, "toyzone-B1", 880, 350), null), setTimeout(function() {
					a.portalActive = !0
				}, 1e3), this.spawnToys(e, i), s.Util.isValid(this.zone.getState("epicsVisited")) && !1 !== this.zone.getState("epicsVisited") || this.zone.setState("epicsVisited", !0)
			}, e.prototype.spawnToys = function(t, e) {
				for (var i = this, n = function(n) {
						var s = o.TOY_SPAWN_DATA[n];
						if (t.prodigy.player.kennel.hasPet(s.ID)) e.addClickableEvent(s.portal.x, s.portal.y, 100, 90, o.clickedPortal.bind(o, t, e, s)), o.addAreaEvent(t, e, {
							x: s.effect.x,
							y: s.effect.y,
							w: 120,
							h: 100
						}, "toyzone-B2", s.effect.x, s.effect.y, o.playPortalEffectEnter.bind(o, s.effect.x, s.effect.y, s.exit.x, s.exit.y));
						else {
							var l = new a.MonsterContainer(t, e.content, new r.Monster(t, {
								ID: s.ID
							}), 1, s.toy.x, s.toy.y, !1, function() {
								i.clickedToy(t, s.ID)
							});
							s.toy.x > 640 && (l.scale.x = -1), l.startLoad()
						}
					}, o = this, s = 0; s < this.TOY_SPAWN_DATA.length; ++s) n(s)
			}, e.prototype.clickedPortal = function(t, e, i) {
				var n = t.prodigy.event.create();
				n.path(e.user, [{
					x: i.path.x,
					y: i.path.y
				}]), n.yesNoText(8, "toy"), n.set(this, "portalActive", !1), n.function(this.playPortalEffectEnter.bind(this, i.effect.x, i.effect.y)), n.delay(800), n.enableInput(!0), n.function(function() {
					t.prodigy.battle.startEpicArena(i.ID, 1, !0)
				}), n.start()
			}, e.prototype.clickedToy = function(t, i) {
				t.prodigy.network.sendAnalytics("click-epic-statue", "click-epic-statue-" + i, "Events");
				var n = t.prodigy.event.create();
				n.text(e.TOY_DIALOGUE_DATA[i], "toy"), n.yesNoText(8, "toy"), n.function(t.prodigy.open.buyToy.bind(t.prodigy.open, i)), n.start()
			}, e.TOY_DIALOGUE_DATA = {
				125: 5,
				126: 4,
				127: 3,
				128: 7,
				129: 6
			}, e
		}(i(10).Map);
	e.ToyzoneB2 = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(45),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				return t.call(this, e, "B1", "MAP_TOY_ZONE_MYSTIC_ROTUNDA", 640, 360, ["toyzone-A1", "toyzone-B2"], i) || this
			}
			return n(e, t), e.prototype.start = function(e, i, n) {
				t.prototype.start.call(this, e, i, n);
				var a = this.zone.getState("firstVisit");
				if (!o.Util.isValid(a) || !a) {
					var r = e.prodigy.event.create();
					r.text(10, "toy"), r.text(13, "toy"), r.text(11, "toy"), r.function(this.zone.setState.bind(this.zone, "firstVisit", !0)), r.start()
				}
			}, e.prototype.setup = function(e, i, n) {
				var r = this;
				t.prototype.setup.call(this, e, i, n), this.portalActive = !1, this.landedOnPortal = !1, i.content.add(this.game.prodigy.create.element(null, 0, 0)), i.content.add(this.zone.game.prodigy.create.sprite(960, 320, "atlas-126", "pillar-large", new Phaser.Point(.5, 1))), i.content.add(this.zone.game.prodigy.create.sprite(320, 320, "atlas-126", "pillar-large", new Phaser.Point(.5, 1))), i.content.add(this.zone.game.prodigy.create.sprite(800, 480, "atlas-126", "pillar-small", new Phaser.Point(.5, 1))), new a.ToyMerchant(e, i.content, 640, 200), this.addAreaEvent(e, i, {
					x: 640,
					y: 360,
					w: 100,
					h: 80
				}, "toyzone-B2", 640, 360, this.playPortalEffectEnter.bind(this, 640, 340)), this.addAreaEvent(e, i, {
					x: 400,
					y: 370,
					w: 100,
					h: 80
				}, "toyzone-A1", 640, 360, this.playPortalEffectExit.bind(this, 400, 350, "toyzone-A1", 640, 310));
				var s = this.zone.getState("dragonsVisited");
				o.Util.isValid(s) && s || this.animateHand(i, 400, 280), this.addAreaEvent(e, i, {
					x: 880,
					y: 370,
					w: 100,
					h: 80
				}, "toyzone-B2", 640, 360, this.playPortalEffectExit.bind(this, 880, 350, "toyzone-B2", 640, 310));
				var l = this.zone.getState("epicsVisited");
				o.Util.isValid(l) && l || this.animateHand(i, 880, 280);
				var c = this.zone.getState("goldRecieved");
				if (s && l && (!o.Util.isValid(c) || !c)) {
					var h = e.prodigy.event.create();
					h.text(9, "toy"), h.function(function() {
						e.prodigy.open.gotItem([{
							type: "gold",
							N: 500
						}], null, null, "toyzone")
					}), h.function(this.zone.setState.bind(this.zone, "goldRecieved", !0)), h.start()
				}
				setTimeout(function() {
					r.portalActive = !r.landedOnPortal
				}, 1e3)
			}, e.prototype.animateHand = function(t, e, i) {
				var n = t.foreground.add(this.zone.game.prodigy.create.sprite(e, i, "atlas-18", "area-pointer", new Phaser.Point(.5, 0)));
				n.angle = 180, this.zone.game.add.tween(n).to({
					y: n.y + 30
				}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0), n.inputEnabled = !0, n.events.onInputDown.add(function() {
					t.user.setValidPath(t.path, e, i)
				})
			}, e
		}(i(10).Map);
	e.ToyzoneB1 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(46),
		o = i(45),
		r = i(35),
		s = i(0),
		l = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "A1", "MAP_TOY_ZONE_DRAGONS_LAIR", 640, 310, ["toyzone-B1"], i.concat(["tileset-water-new", "tileset-ship-exterior", "tileset-volcano-new", "tileset-bonfire", "tileset-cloud-new", "tileset-skywatch"])) || this;
				return n.TOY_SPAWN_DATA = [{
					ID: 130,
					toy: {
						x: 880,
						y: 260
					},
					portal: {
						x: 830,
						y: 195
					},
					path: {
						x: 885,
						y: 250
					},
					effect: {
						x: 883,
						y: 232
					},
					exit: {
						x: 770,
						y: 280
					}
				}, {
					ID: 131,
					toy: {
						x: 400,
						y: 260
					},
					portal: {
						x: 350,
						y: 195
					},
					path: {
						x: 395,
						y: 250
					},
					effect: {
						x: 400,
						y: 232
					},
					exit: {
						x: 500,
						y: 280
					}
				}, {
					ID: 132,
					toy: {
						x: 910,
						y: 430
					},
					portal: {
						x: 870,
						y: 365
					},
					path: {
						x: 923,
						y: 420
					},
					effect: {
						x: 921,
						y: 391
					},
					exit: {
						x: 810,
						y: 420
					}
				}, {
					ID: 133,
					toy: {
						x: 355,
						y: 430
					},
					portal: {
						x: 305,
						y: 355
					},
					path: {
						x: 355,
						y: 420
					},
					effect: {
						x: 362,
						y: 391
					},
					exit: {
						x: 460,
						y: 420
					}
				}], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				var a = this;
				t.prototype.setup.call(this, e, i, n), this.portalActive = !1, this.landedOnPortal = !1, new o.ToyMerchant(e, i.content, 640, 200), this.addAreaEvent(e, i, {
					x: 640,
					y: 320,
					w: 100,
					h: 80
				}, "toyzone-B1", 400, 240, this.playPortalEffectEnter.bind(this, 640, 310, 770, 345)), i.addClickableEvent(580, 270, 120, 100, this.playPortalEffectExit.bind(this, 640, 310, "toyzone-B1", 400, 350), null), setTimeout(function() {
					a.portalActive = !0
				}, 1e3), this.spawnToys(e, i), s.Util.isValid(this.zone.getState("dragonsVisited")) && !1 !== this.zone.getState("dragonsVisited") || this.zone.setState("dragonsVisited", !0)
			}, e.prototype.spawnToys = function(t, e) {
				for (var i = this, n = function(n) {
						var s = o.TOY_SPAWN_DATA[n];
						if (t.prodigy.player.kennel.hasPet(s.ID)) e.addClickableEvent(s.portal.x, s.portal.y, 100, 90, o.clickedPortal.bind(o, t, e, s)), o.addAreaEvent(t, e, {
							x: s.effect.x,
							y: s.effect.y,
							w: 120,
							h: 100
						}, "toyzone-A1", s.effect.x, s.effect.y, o.playPortalEffectEnter.bind(o, s.effect.x, s.effect.y, s.exit.x, s.exit.y));
						else {
							var l = new a.MonsterContainer(t, e.content, new r.Monster(t, {
								ID: s.ID
							}), 1, s.toy.x, s.toy.y, !1, function() {
								i.clickedToy(t, s.ID)
							});
							s.toy.x > 640 && (l.scale.x = -1), l.startLoad()
						}
					}, o = this, s = 0; s < this.TOY_SPAWN_DATA.length; ++s) n(s)
			}, e.prototype.clickedPortal = function(t, e, i) {
				var n = t.prodigy.event.create();
				n.path(e.user, [{
					x: i.path.x,
					y: i.path.y
				}]), n.yesNoText(8, "toy"), n.set(this, "portalActive", !1), n.function(this.playPortalEffectEnter.bind(this, i.effect.x, i.effect.y)), n.delay(800), n.enableInput(!0), n.function(function() {
					t.prodigy.battle.startEpicArena(i.ID, 1, !0)
				}), n.start()
			}, e.prototype.clickedToy = function(t, i) {
				t.prodigy.network.sendAnalytics("click-epic-statue", "click-epic-statue-" + i, "Events");
				var n = t.prodigy.event.create();
				n.text(e.TOY_DIALOGUE_DATA[i], "toy"), n.yesNoText(8, "toy"), n.function(function() {
					t.prodigy.open.buyToy(i)
				}), n.start()
			}, e.TOY_DIALOGUE_DATA = {
				130: 14,
				131: 15,
				132: 16,
				133: 17
			}, e
		}(i(10).Map);
	e.ToyzoneA1 = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(32),
		o = i(442),
		r = i(441),
		s = i(440),
		l = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				i.name = "Toyzone", i.ID = "toyzone", i.battleBG = "battle-forest-outside", i.onFaint = "toyzone-B1", i.questHub = "toyzone-B1", i.states = ["firstVisit", "dragonsVisited", "epicsVisited", "goldRecieved"];
				var n = ["tileset-toyzone", "tileset-toyzone-dragons", "tileset-cloud", "tileset-forest-new", "tileset-toy-ruins-test", "tileset-generic", "tileset-outside", "tileset-collisions", "atlas-18", "atlas-19", "atlas-21", "atlas-126"];
				return i.maps = {
					A1: new o.ToyzoneA1(i, n),
					B1: new r.ToyzoneB1(i, n),
					B2: new s.ToyzoneB2(i, n)
				}, i
			}
			return n(e, t), e
		}(a.Zone);
	e.ToyZone = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, i, 9, "QUESTS_SKYWATCH_TRIM_VINES", {
					type: "seq",
					N: 1
				}, ["skywatch-C4"], [29], [], [0], [{
					type: "gold",
					N: 200
				}]) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				var o = this;
				if (t.prototype.setup.call(this, e, i, n), this.zone.isOnSequence(9, 0) && "skywatch-C4" === n.zoneName) {
					var r = e.prodigy.create.element(i.foreground, 160, 220);
					r.highlight(!0);
					i.addClickableEvent(90, 120, 270, 280, function() {
						var t = i.content.add(e.prodigy.create.sprite(150, -100, "default-boss-12", "earth_cloud", new Phaser.Point(.5, 1))),
							s = i.foreground.add(e.prodigy.create.sprite(140, -150, "default-boss-12", "med_face_2", new Phaser.Point(.5, 1))),
							l = function() {
								var t = i.user.x,
									r = i.user.y;
								e.prodigy.network.sendBattleStartTypeEvent("ZoneBossBattle");
								var s = e.prodigy.event.create();
								s.enableInput(!1), s.delay(2e3), s.enableInput(!0), s.function(o.zone.getBattle(n, e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMBAT_CLOUD_FIGHT"), {
									boss: {
										ID: 12,
										element: "earth",
										attacks: [68],
										name: e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NPC_NAME_SANDY_STORM"),
										difficulty: 3,
										tag: "skywatch"
									},
									difficulty: 3,
									starMod: 2,
									screen: "battle-skywatch-outside"
								}, function() {
									o.zone.completeSequence(9, 0), o.zone.setState("plug-C4", null), o.zone.setState("vines-C4", null), e.prodigy.world.teleport("skywatch-C4", t, r)
								})), s.start()
							},
							c = e.prodigy.event.create();
						c.validPath(i.user, i.path, 220, 400), c.enableInput(!1), c.fire(115, 165, 290, 290, 2, !1, !0), c.function(r.highlight.bind(r, !1)), c.function(o.zone.shrinkVines.bind(o.zone, n)), c.delay(3e3), c.sound(17, "wind"), c.function(function() {
							var i = e.add.tween(t).to({
								x: 150,
								y: 300
							}, 2e3, Phaser.Easing.Linear.None).start();
							e.add.tween(s).to({
								x: 140,
								y: 250
							}, 2e3, Phaser.Easing.Linear.None).start(), i.onComplete.add(function() {
								o.zone.changePosition(t, s), l()
							})
						}.bind(o, e, i)), c.start()
					}.bind(this, e, i), null)
				}
				return null
			}, e
		}(i(8).Quest);
	e.SkywatchQ9 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, i, 8, "QUESTS_SKYWATCH_TRIM_VINES", {
					type: "seq",
					N: 1
				}, ["skywatch-B3"], [26, 27, 28], [], [1], [{
					type: "gold",
					N: 200
				}, {
					type: "outfit",
					ID: 5
				}]) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				var o = this;
				if (t.prototype.setup.call(this, e, i, n), this.zone.isOnSequence(8, 0) && "skywatch-B3" === n.zoneName) {
					var r = e.prodigy.create.element(i.foreground, 1020, 140);
					r.highlight(!0), i.addClickableEvent(920, 20, 290, 260, function() {
						var t = i.content.add(e.prodigy.create.sprite(1045, -100, "default-boss-12", "water_cloud", new Phaser.Point(.5, 1))),
							s = i.foreground.add(e.prodigy.create.sprite(1035, -150, "default-boss-12", "med_face_1", new Phaser.Point(.5, 1))),
							l = e.prodigy.event.create();
						l.validPath(i.user, i.path, 860, 270), l.validPath(i.user, i.path, 861, 270), l.enableInput(!1), l.fire(935, 45, 290, 290, 2, !1, !0), l.function(r.highlight.bind(r, !1)), l.function(o.zone.shrinkVines.bind(o.zone, n)), l.delay(3e3), l.sound(17, "wind"), l.function(function() {
							var r = e.prodigy.animation.translate(t, 1045, 200, 2e3, null, null, !0);
							e.prodigy.animation.translate(s, 1035, 150, 2e3, null, null, !0), r.onComplete.add(o.zone.changePosition.bind(o.zone, t, s)), r.onComplete.add(function() {
								e.prodigy.network.sendBattleStartTypeEvent("ZoneBossBattle");
								var t = i.user.x,
									r = i.user.y,
									s = o.zone.getBattle(n, e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMBAT_CLOUD_FIGHT"), {
										boss: {
											ID: 12,
											element: "water",
											attacks: [82],
											name: e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NPC_NAME_RAINY_STORM"),
											difficulty: 3,
											tag: "skywatch"
										},
										difficulty: 3,
										starMod: 2,
										screen: "battle-skywatch-outside"
									}, function() {
										o.zone.completeSequence(8, 0), o.zone.setState("plug-B3", null), o.zone.setState("vines-B3", null), e.prodigy.world.teleport("skywatch-B3", t, r)
									}),
									l = e.prodigy.event.create();
								l.enableInput(!1), l.delay(2e3), l.enableInput(!0), l.function(s), l.start()
							})
						}), l.start()
					}, null, 0)
				}
				return null
			}, e
		}(i(8).Quest);
	e.SkywatchQ8 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i, 7, "", {
					type: "item",
					ID: 49,
					N: 5
				}, ["skywatch-E1", "skywatch-E3"], [25], [], [1], [{
					type: "gold",
					N: 200
				}, {
					type: "key",
					ID: 9
				}]) || this;
				return n.monsters = null, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n);
				var o = null,
					r = n.getTag();
				if (this.zone.isQuestComplete(7) && a.Util.isValid(this.monsters))
					for (var s = 0; s < this.monsters.length; s++) a.Util.isValid(this.monsters[s]) && a.Util.isValid(this.monsters[s].monsterData.drops) && delete this.monsters[s].monsterData.drops;
				else {
					var l = {
						randDir: !0,
						encounter: [{
							ID: 120,
							drops: [{
								type: "item",
								ID: 49,
								R: .71
							}]
						}],
						difficulty: 3,
						maxTeamSize: 1
					};
					this.monsters = [], "E1" === r ? (this.monsters.push(n.addMonster(e, i, 1, 942, 400, !0, l, !1)), this.monsters.push(n.addMonster(e, i, 2, 400, 400, !0, l, !1)), o = {
						enableMonsters: !1
					}) : "E3" === r && (this.monsters.push(n.addMonster(e, i, 0, 725, 480, !0, l, !1)), o = {
						enableMonsters: !1
					})
				}
				return o
			}, e
		}(i(8).Quest);
	e.SkywatchQ7 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i, 6, "QUESTS_SKYWATCH_GET_KEY", {
					type: "seq",
					N: 1
				}, ["skywatch-D1"], [23, 24], [], [1], [{
					type: "gold",
					N: 200
				}]) || this;
				return n.ambusher1 = null, n.ambusher2 = null, n.ambusher3 = null, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				if (t.prototype.setup.call(this, e, i, n), "D1" === n.getTag() && this.zone.isOnSequence(6, 0)) {
					var a = {
						randDir: !1,
						encounter: [{
							ID: 120
						}],
						difficulty: 1,
						maxTeamSize: 1
					};
					this.ambusher1 = n.addMonster(e, i, 0, 560, -50, !1, a), this.ambusher2 = n.addMonster(e, i, 4, 500, -50, !1, a), this.ambusher3 = n.addMonster(e, i, 2, 830, -50, !1, a), this.ambusher1.visible = !1, this.ambusher2.visible = !1, this.ambusher3.visible = !1, e.prodigy.create.element(i.content, 700, 190).highlight(!0), i.addClickableEvent(700, 190, 80, 80, this.ambush.bind(this, e, i, n), null, 0)
				}
				return null
			}, e.prototype.ambush = function(t, e, i) {
				var n = this,
					o = this.zone.getBattle(i, t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMBAT_DEFEAT_AMBUSHERS"), {
						pets: [{
							ID: 120
						}, {
							ID: 120
						}, {
							ID: 120
						}],
						screen: "battle-skywatch-outside"
					}, function() {
						n.zone.completeSequence(6, 0), t.prodigy.world.teleport("skywatch-D1", 640, 360)
					}),
					r = t.prodigy.event.create();
				r.validPath(e.user, e.path, 740, 350), r.reward([{
					type: "item",
					ID: 81
				}]), r.enableInput(!1), r.set(e.user, "evtProc", !0), r.function(this.zone.hideFollow.bind(this.zone, e)), r.set(this.ambusher1, "visible", !0), r.set(this.ambusher2, "visible", !0), r.set(this.ambusher3, "visible", !0), r.path(this.ambusher1, [{
					x: 640,
					y: 350
				}], 1, !0), r.path(this.ambusher2, [{
					x: 690,
					y: 390
				}], 1, !0), r.path(this.ambusher3, [{
					x: 800,
					y: 390
				}], 1), r.delay(1e3), r.enableInput(!0), r.function(o), r.start()
			}, e
		}(i(8).Quest);
	e.SkywatchQ6 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this, e, i, 5, "", {
				type: "item",
				ID: 56,
				N: 3
			}, ["skywatch-B3", "skywatch-C3", "skywatch-D2"], [19, 20, 21, 22], [], [1], [{
				type: "gold",
				N: 200
			}]) || this;
			return n.collectionMaps = {
				B3: [0],
				C3: [1],
				D2: [2]
			}, n
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			t.prototype.setup.call(this, e, i, n);
			var a = n.getTag();
			return "B3" === a ? i.addCollect(0, 900, 380, {
				type: "item",
				ID: 56
			}) : "C3" === a ? i.addCollect(1, 260, 450, {
				type: "item",
				ID: 56
			}) : "D2" === a && i.addCollect(2, 1150, 530, {
				type: "item",
				ID: 56
			}), null
		}, e
	}(i(8).Quest);
	e.SkywatchQ5 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i, 4, "QUESTS_SKYWATCH_TRIM_VINES", {
					type: "seq",
					N: 3
				}, ["skywatch-D1"], [16, 17, 18], [], [1, 46], [{
					type: "spellRelic",
					ID: 7
				}]) || this;
				return n.eyes = null, n.boss = null, n.element = null, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n)
			}, e.prototype.start = function(e, i, n) {
				return t.prototype.start.call(this, e, i, n), this.zone.isOnSequence(4, 2) && "skywatch-D3" === n.zoneName ? this.cutsceneD3(e, i, n) : this.zone.isOnSequence(4, 1) && "skywatch-D2" === n.zoneName ? this.highlightD2(e, i, n) : this.zone.isOnSequence(4, 0) && "skywatch-D1" === n.zoneName && this.highlightD1(e, i, n), {}
			}, e.prototype.process = function(t, e, i) {
				this.zone.isOnSequence(4, 0) ? this.area = ["skywatch-D1"] : this.zone.isOnSequence(4, 1) ? this.area = ["skywatch-D2"] : this.zone.isOnSequence(4, 2) && (this.area = ["skywatch-D3"])
			}, e.prototype.cutsceneD3 = function(t, e, i) {
				this.boss = e.content.add(t.prodigy.create.sprite(850, -100, "default-boss-12", "ice_cloud", new Phaser.Point(.5, 1))), this.eyes = e.foreground.add(t.prodigy.create.sprite(840, -150, "default-boss-12", "med_face_0", new Phaser.Point(.5, 1)));
				var n = t.prodigy.event.create();
				n.set(this, "descKey", "QUESTS_SKYWATCH_INSPECT_MACHINE"), n.enableInput(!1), n.sound(17, "wind"), n.delay(2e3), n.function(this.bossEnter.bind(this, t)), n.enableInput(!0), n.delay(600), n.text(98, "noot"), n.enableInput(!1), n.sound(17, "wind"), n.function(this.zone.setState.bind(this.zone, "vines-D3", 1)), n.function(this.zone.setState.bind(this.zone, "vines-B3", 1)), n.function(this.zone.setState.bind(this.zone, "vines-C4", 1)), n.function(this.zone.setState.bind(this.zone, "plug-D3", 1)), n.function(this.zone.setState.bind(this.zone, "plug-B3", 1)), n.function(this.zone.setState.bind(this.zone, "plug-C4", 1)), n.function(this.bossExit.bind(this, t, e, i)), n.explode(670, 60, 200, 200, 3, !0), n.delay(2e3), n.function(this.zone.createVines.bind(this.zone, i)), n.enableInput(!0), n.delay(600), n.text(99, "noot"), n.function(this.zone.completeSequence.bind(this.zone, 4, 2)), n.function(e.process.bind(e)), n.start()
			}, e.prototype.bossEnter = function(t) {
				t.add.tween(this.boss).to({
					x: 850,
					y: 200
				}, 2e3, Phaser.Easing.Linear.None).to({
					y: "-20"
				}, 1400, Phaser.Easing.Quadratic.InOut).to({
					y: "+20"
				}, 1400, Phaser.Easing.Quadratic.InOut).start(), t.add.tween(this.eyes).to({
					x: 840,
					y: 150
				}, 2e3, Phaser.Easing.Linear.None).to({
					y: "-20"
				}, 1400, Phaser.Easing.Quadratic.InOut).to({
					y: "+20"
				}, 1400, Phaser.Easing.Quadratic.InOut).start()
			}, e.prototype.bossExit = function(t, e, i) {
				i.unplug(t), i.displayStationaryFanribbons(t, e);
				var n = t.add.tween(this.boss).to({
					x: 950,
					y: -200
				}, 1400, Phaser.Easing.Linear.None).start();
				t.add.tween(this.eyes).to({
					x: 940,
					y: -250
				}, 1400, Phaser.Easing.Linear.None).start(), n.onComplete.add(this.hideBoss.bind(this))
			}, e.prototype.hideBoss = function() {
				this.boss.visible = !1, this.eyes.visible = !1
			}, e.prototype.clearVinesD2 = function(t, e, i) {
				if (this.zone.isOnSequence(4, 1)) {
					var n = t.prodigy.event.create();
					n.validPath(e.user, e.path, 1150, 550), n.fire(990, 415, 200, 300, 2, !0, !0), n.function(this.zone.shrinkVines.bind(this.zone, i)), n.function(this.element.highlight.bind(this.element, !1)), n.function(this.zone.completeSequence.bind(this.zone, 4, 1)), n.function(this.zone.setState.bind(this.zone, "vines-D2", "off")), n.set(this.zone.quests[4], "area", ["skywatch-D3"]), n.enableInput(!0), n.function(e.addClickableEvent.bind(e, 925, 555, 90, 90, this.zone.interactTrolley.bind(this.zone, e, [{
						x: 1040,
						y: 600
					}, {
						x: 965,
						y: 600
					}], {
						trolley: i.trolley2,
						x: "0",
						y: "+300",
						duration: 3e3,
						target: "skywatch-D3",
						targetX: 300,
						targetY: 250
					}))), n.function(e.process.bind(e)), n.start()
				}
			}, e.prototype.highlightD2 = function(t, e, i) {
				a.Util.isValid(this.zone.getState("vines-D2")) || (this.element = t.prodigy.create.element(e.foreground, 1020, 500), this.element.highlight(!0), e.addClickableEvent(1e3, 410, 100, 260, this.clearVinesD2.bind(this, t, e, i), null))
			}, e.prototype.clearVinesD1 = function(t, e, i) {
				if (this.zone.isOnSequence(4, 0)) {
					var n = t.prodigy.event.create();
					n.validPath(e.user, e.path, 915, 440), n.enableInput(!1), n.fire(960, 330, 230, 185, 2, !0, !0), n.function(this.enableD1Trolley2.bind(this, t, i)), n.function(this.element.highlight.bind(this.element, !1)), n.function(this.zone.completeSequence.bind(this.zone, 4, 0)), n.function(this.zone.setState.bind(this.zone, "plug-B3", "off")), n.function(this.zone.setState.bind(this.zone, "plug-C4", "off")), n.function(this.zone.setState.bind(this.zone, "vines-D1", "off")), n.set(this.zone.quests[4], "area", ["skywatch-D2"]), n.function(e.addClickableEvent.bind(e, 1080, 360, 80, 80, this.zone.interactTrolley.bind(this.zone, e, [{
						x: 1130,
						y: 450
					}, {
						x: 1120,
						y: 420
					}], {
						trolley: i.trolley2,
						x: "+200",
						y: "0",
						duration: 3e3,
						target: "skywatch-D2",
						targetX: 140,
						targetY: 290
					}), null, 0)), n.function(e.process.bind(e)), n.enableInput(!0), n.start()
				}
			}, e.prototype.enableD1Trolley2 = function(t, e) {
				this.zone.shrinkVines(e), t.add.tween(e.trolley2).to({
					alpha: 1
				}, 3e3, Phaser.Easing.Linear.None).start()
			}, e.prototype.highlightD1 = function(t, e, i) {
				this.element = t.prodigy.create.element(e.foreground, 1020, 390), this.element.highlight(!0), e.addClickableEvent(950, 320, 260, 190, this.clearVinesD1.bind(this, t, e, i), null, 0)
			}, e
		}(i(8).Quest);
	e.SkywatchQ4 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 3, "QUESTS_SKYWATCH_FIND_BROCCOLINA", {
				type: "seq",
				N: 2
			}, ["skywatch-B2"], [13, 14, 15], [], [1], [{
				type: "gold",
				N: 200
			}, {
				type: "key",
				ID: 8
			}]) || this
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			t.prototype.setup.call(this, e, i, n);
			var a = n.getTag();
			if ("B2" === a && this.zone.isOnSequence(3, 0)) this.nootFindsTheNote(e, i, n);
			else if ("A0" === a && this.zone.isOnSequence(3, 1)) this.foundBroccolina(e, i, n);
			else if ("A1" === a && !this.zone.isQuestComplete(3)) return {
				hiddenNPCs: ["atlas-64"]
			};
			return {}
		}, e.prototype.process = function(t, e, i) {
			this.zone.isOnSequence(3, 0) ? this.area = ["skywatch-B2"] : this.zone.isOnSequence(3, 1) && (this.area = ["skywatch-A0"])
		}, e.prototype.nootFindsTheNote = function(t, e, i) {
			var n = e.addNPC(640, 535, "atlas-81");
			n.visible = !1, n.float(!0);
			var a = t.prodigy.event.create();
			a.enableInput(!1), a.set(n, "visible", !0), a.hop(n, 300, -55, 50), a.enableInput(!1), a.path(n, [{
				x: 540,
				y: 365
			}]), a.enableInput(!0), a.text(97, "noot"), a.enableInput(!1), a.path(n, [{
				x: 585,
				y: 535
			}]), a.hop(n, 300, 55, 50), a.set(n, "visible", !1), a.set(this.zone.quests[3], "area", ["skywatch-A0"]), a.function(this.zone.completeSequence.bind(this.zone, 3, 0)), a.function(e.process.bind(e)), a.enableInput(!0), a.start()
		}, e.prototype.foundBroccolina = function(t, e, i) {
			i.addConstructedNPC(t, e, 440, 500, "atlas-64", null, "NPC_NAME_BROCCOLINA").nameText.GameObject.x += 60;
			var n = t.prodigy.event.create();
			n.text(0, "broccolina"), n.function(this.zone.completeSequence.bind(this.zone, 3, 1)), n.function(e.process.bind(e)), n.start()
		}, e
	}(i(8).Quest);
	e.SkywatchQ3 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i, 2, "QUESTS_SKYWATCH_GET_DEVICE", {
					type: "item",
					ID: 93,
					N: 1
				}, ["skywatch-C2"], [9, 10, 11, 12], [], [1], [{
					type: "gold",
					N: 200
				}]) || this;
				return n.thief = null, n
			}
			return n(e, t), e.prototype.start = function(e, i, n) {
				t.prototype.start.call(this, e, i, n);
				var a = n.getTag();
				if ("C2" === a && this.zone.isOnSequence(2, 0)) this.thiefStealsTheWeatherometre(e, i, n);
				else if ("C1" === a && this.zone.isOnSequence(2, 1)) this.thiefFlees(e, i, n, 115, 560, 115, 800, "skywatch-C3", 1);
				else if ("C3" === a && this.zone.isOnSequence(2, 2)) this.thiefFlees(e, i, n, 120, 210, 120, -20, "skywatch-C4", 2);
				else if ("C4" === a && this.zone.isOnSequence(2, 3)) return this.thiefFailsEscape(e, i, n), {
					enableMonsters: !1
				};
				return null
			}, e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), "A1" === n.getTag() && this.zone.isOnSequence(2, 4) ? {
					hiddenNPCs: ["atlas-64"]
				} : {}
			}, e.prototype.process = function(t, e, i) {
				this.zone.isOnSequence(2, 0) ? this.area = ["skywatch-C2"] : this.zone.isOnSequence(2, 1) ? this.area = ["skywatch-C1"] : this.zone.isOnSequence(2, 2) ? this.area = ["skywatch-C3"] : this.zone.isOnSequence(2, 3) && (this.area = ["skywatch-C4"])
			}, e.prototype.thiefStealsTheWeatherometre = function(t, e, i) {
				var n = this;
				this.thief = i.addMonster(t, e, 0, 688, 335, !1, {
					randDir: !1,
					encounter: [{
						ID: 84
					}],
					difficulty: 2,
					maxTeamSize: 1
				}), this.thief.visible = !0;
				var a = e.content.add(t.prodigy.icon.createIcon(695, 275, "icon-item-93")),
					o = e.addNPC(600, 550, "atlas-81");
				o.visible = !1, o.float(!0);
				var r = t.prodigy.event.create();
				r.enableInput(!1), r.set(o, "visible", !0), r.hop(o, 300, -55, 50), r.enableInput(!0), r.function(this.thief.chat.bind(this.thief, 1, 100)), r.delay(1500), r.set(a, "visible", !1), r.enableInput(!1), r.delay(500), r.path(this.thief, [{
					x: 800,
					y: 230
				}], 1), r.function(function() {
					n.zone.states.windowBroken = !0
				}), r.set(this.thief, "visible", !1), r.enableInput(!0), r.function(o.chat.bind(o, 1, 100)), r.text(95, "noot"), r.enableInput(!1), r.hop(o, 300, 55, 50), r.set(o, "visible", !1), r.enableInput(!0), r.set(this, "area", ["skywatch-C1"]), r.function(this.zone.completeSequence.bind(this.zone, 2, 0)), r.function(e.process.bind(e)), r.set(this.thief, "visible", !1), r.start()
			}, e.prototype.thiefFlees = function(t, e, i, n, a, o, r, s, l) {
				this.thief = i.addMonster(t, e, 0, n, a, !1, {
					randDir: !1,
					encounter: [{
						ID: 84
					}],
					difficulty: 2,
					maxTeamSize: 1
				}), this.thief.visible = !0;
				var c = t.prodigy.event.create();
				c.enableInput(!1), c.set(e.user, "evtProc", !0), c.path(this.thief, [{
					x: o,
					y: r
				}], 1, !1), c.set(this.thief, "visible", !1), c.set(e.user, "evtProc", !1), c.enableInput(!0), c.set(this, "area", [s]), c.function(this.zone.completeSequence.bind(this.zone, 2, l)), c.function(e.process.bind(e)), c.start()
			}, e.prototype.thiefFailsEscape = function(t, e, i) {
				this.thief = i.addMonster(t, e, 0, 850, 500, !1, {
					randDir: !1,
					encounter: [{
						ID: 84
					}],
					difficulty: 2,
					maxTeamSize: 1
				}), this.thief.visible = !1;
				var n = e.addNPC(959, 500, "atlas-81");
				n.flip(), n.visible = !1, n.float(!0);
				var a = t.prodigy.event.create();
				a.validPath(e.user, e.path, 1159, 550), a.set(e.user, "evtProc", !0), a.enableInput(!1), a.set(this.thief, "visible", !0), a.path(this.thief, [{
					x: 700,
					y: 500
				}], 1, !0), a.path(e.user, [{
					x: 1e3,
					y: 520
				}], 1.2), a.set(n, "visible", !0), a.hop(n, 300, -55, 50), a.enableInput(!0), a.text(96, "noot"), a.enableInput(!1), a.delay(500), a.enableInput(!0), a.function(this.thiefBattle.bind(this, t)), a.start()
			}, e.prototype.thiefBattle = function(t) {
				var e = this;
				t.prodigy.battle.start({
					intro: t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMBAT_WEATHER_METER"),
					catch: !1,
					run: !1,
					screen: "battle-skywatch-outside",
					pets: [{
						ID: 84,
						nickname: t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NPC_NAME_THIEF")
					}],
					drops: [{
						type: "item",
						ID: 87
					}]
				}, null, function() {
					e.thiefDefeated(t)
				}, null, this.zone.onFaint)
			}, e.prototype.thiefDefeated = function(t) {
				this.zone.setState("quest", {
					ID: 2,
					req: {
						type: "item",
						ID: 87,
						N: 1
					},
					seq: 4,
					state: {}
				}), this.zone.completeSequence(2, 3), t.prodigy.world.teleport("skywatch-C4", 1160, 540)
			}, e
		}(i(8).Quest);
	e.SkywatchQ2 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, i, 13, "QUESTS_SKYWATCH_DEFEAT_BOSS", {
					type: "seq",
					N: 1
				}, ["skywatch-E4"], [37, 38], [], [39, 40, 41], [{
					type: "spellRelic",
					ID: 9
				}, {
					type: "key",
					ID: 10
				}]) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				var o = this;
				if (t.prototype.setup.call(this, e, i, n), this.zone.isOnSequence(13, 0) && "skywatch-E4" === n.zoneName) {
					var r = i.content.add(e.prodigy.create.sprite(1045, -100, "default-boss-12", "main_cloud", new Phaser.Point(.5, 1))),
						s = i.foreground.add(e.prodigy.create.sprite(1035, -150, "default-boss-12", "main_eyes_1", new Phaser.Point(.5, 1)));
					e.prodigy.network.sendBattleStartTypeEvent("ZoneBossBattle");
					var l = e.prodigy.event.create();
					l.enableInput(!1), l.validPath(i.user, i.path, 399, 400), l.validPath(i.user, i.path, 400, 400), l.sound(17, "wind"), l.function(function() {
						var t = e.prodigy.animation.translate(r, 800, 400, 2e3, 0, null, !0);
						e.prodigy.animation.translate(s, 790, 350, 2e3, 0, null, !0), t.onComplete.add(function() {
							o.zone.changePosition(r, s)
						})
					}), l.delay(5e3), l.enableInput(!0), l.function(this.zone.getBattle(n, e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMBAT_CLOUD_FIGHT"), {
						boss: {
							ID: 12,
							element: "storm",
							attacks: [76, 77, 79],
							name: e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NPC_NAME_STORMY_STORM"),
							difficulty: 4,
							tag: "skywatch"
						},
						difficulty: 4,
						starMod: 5,
						drops: [{
							type: "weapon",
							ID: 23
						}]
					}, function() {
						o.zone.completeSequence(13, 0), o.zone.setState("eugene_A1", 1), e.prodigy.world.teleport("skywatch-E4")
					})), l.start()
				}
				return null
			}, e
		}(i(8).Quest);
	e.SkywatchQ13 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this, e, i, 12, "", {
				type: "item",
				ID: 82,
				N: 2
			}, ["skywatch-C3", "skywatch-D3"], [34, 35, 36], [], [0], [{
				type: "gold",
				N: 200
			}, {
				type: "item",
				ID: 83
			}]) || this;
			return n.collectionMaps = {
				C3: [1],
				D3: [2]
			}, n
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			t.prototype.setup.call(this, e, i, n);
			var a = n.getTag();
			if ("C3" === a) i.addCollect(1, 260, 450, {
				type: "item",
				ID: 82
			});
			else if ("D3" === a) return i.addCollect(2, 640, 350, {
				type: "item",
				ID: 82
			}), {
				enableMonsters: !1
			};
			return null
		}, e
	}(i(8).Quest);
	e.SkywatchQ12 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, i, 11, "QUESTS_SKYWATCH_FIND_EUGENE", {
					type: "seq",
					N: 2
				}, ["skywatch-E2"], [31, 32, 33], [], [1], [{
					type: "gold",
					N: 200
				}, {
					type: "hat",
					ID: 8
				}]) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), "skywatch-E2" === n.zoneName ? (n.addConstructedNPC(e, i, 710, 415, "atlas-68", null, "NPC_NAME_EUGENE"), this.zone.isOnSequence(11, 0) ? this.monstersAmbushEugene(e, i, n) : this.zone.isOnSequence(11, 1) && this.rescuedEugene(e, i), {
					enableMonsters: !1
				}) : null
			}, e.prototype.monstersAmbushEugene = function(t, e, i) {
				var n = this,
					o = t.prodigy.event.create();
				i.addMonster(t, e, 1, 380, 380, !1, {
					encounter: [{
						ID: 115
					}],
					difficulty: 1
				}), i.addMonster(t, e, 3, 520, 515, !1, {
					encounter: [{
						ID: 115
					}],
					difficulty: 1
				}), i.addMonster(t, e, 2, 900, 380, !1, {
					encounter: [{
						ID: 115
					}],
					difficulty: 1
				}).flip(), o.enableInput(!1), o.delay(500), o.enableInput(!0), o.text(0, "eugene"), o.text(), o.text(100, "noot"), o.enableInput(!1), o.set(e.user, "evtProc", !0), o.function(e.user.chat.bind(e.user, 1, 80)), o.delay(1e3), o.path(e.user, [{
					x: 635,
					y: 560
				}]), o.path(e.user, [{
					x: 640,
					y: 420
				}]), o.delay(500), o.enableInput(!0), o.function(this.zone.getBattle(i, t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMBAT_SAVE_EUGENE"), {
					pets: [{
						ID: 115
					}, {
						ID: 115
					}, {
						ID: 115
					}, {
						ID: 115
					}]
				}, function() {
					n.zone.completeSequence(11, 0), t.prodigy.world.teleport("skywatch-E2", 640, 420)
				})), o.start()
			}, e.prototype.rescuedEugene = function(t, e) {
				var i = t.prodigy.event.create();
				i.text(1, "eugene"), i.text(2, "eugene"), i.text(3, "eugene"), i.text(4, "eugene"), i.text(5, "eugene"), i.text(6, "eugene"), i.function(this.zone.completeSequence.bind(this.zone, 11, 1)), i.function(e.process.bind(e)), i.start()
			}, e
		}(i(8).Quest);
	e.SkywatchQ11 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, i, 10, "QUESTS_SKYWATCH_TRIM_VINES", {
					type: "seq",
					N: 1
				}, ["skywatch-D3"], [30], [], [1, 46], [{
					type: "spellRelic",
					ID: 8
				}]) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), "skywatch-D3" === n.zoneName ? {
					enableMonsters: !1
				} : null
			}, e.prototype.start = function(e, i, n) {
				var o = this;
				if (t.prototype.start.call(this, e, i, n), this.zone.isOnSequence(10, 0) && "skywatch-D3" === n.zoneName) {
					var r = e.prodigy.create.element(i.foreground, 740, 140);
					r.highlight(!0);
					i.addClickableEvent(630, 30, 250, 250, function() {
						var t = i.content.add(e.prodigy.create.sprite(850, -100, "default-boss-12", "ice_cloud", new Phaser.Point(.5, 1))),
							s = i.foreground.add(e.prodigy.create.sprite(840, -150, "default-boss-12", "med_face_0", new Phaser.Point(.5, 1))),
							l = function() {
								var t = i.user.x,
									r = i.user.y;
								e.prodigy.network.sendBattleStartTypeEvent("ZoneBossBattle");
								var s = e.prodigy.event.create();
								s.enableInput(!1), s.delay(2e3), s.enableInput(!0), s.function(o.zone.getBattle(n, e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMBAT_CLOUD_FIGHT"), {
									boss: {
										ID: 12,
										element: "ice",
										attacks: [62],
										name: e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NPC_NAME_FROSTY_STORM"),
										difficulty: 3,
										tag: "skywatch"
									},
									difficulty: 3,
									starMod: 2,
									screen: "battle-skywatch-outside"
								}, function() {
									o.zone.completeSequence(10, 0), o.zone.setState("plug-D3", null), o.zone.setState("vines-D3", null), e.prodigy.world.teleport("skywatch-D3", t, r)
								})), s.start()
							},
							c = e.prodigy.event.create();
						c.validPath(i.user, i.path, 580, 270), c.enableInput(!1), c.fire(655, 45, 290, 290, 2, !1, !0), c.function(r.highlight.bind(r, !1)), c.function(o.zone.shrinkVines.bind(o.zone, n)), c.delay(3e3), c.sound(17, "wind"), c.function(function() {
							var i = e.prodigy.animation.translate(t, 850, 200, 2e3, 0, null, !0);
							e.prodigy.animation.translate(s, 840, 150, 2e3, 0, null, !0), i.onComplete.add(function() {
								o.zone.changePosition(t, s), l()
							})
						}.bind(o, e, i)), c.start()
					}.bind(this, e, i), null, 0)
				}
				return null
			}, e
		}(i(8).Quest);
	e.SkywatchQ10 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 1, "", {
				type: "pet",
				ID: 72,
				N: 3,
				U: !0
			}, ["skywatch-B2"], [2, 3, 4, 5, 6, 7], [], [0, 8], [{
				type: "gold",
				N: 200
			}]) || this
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			if (t.prototype.setup.call(this, e, i, n), "B2" === n.tag) {
				var a = {
					randDir: !0,
					encounter: [{
						ID: 72
					}],
					difficulty: 1,
					maxTeamSize: 1
				};
				return n.addMonster(e, i, 0, 400, 400, !0, a, !1), n.addMonster(e, i, 1, 810, 360, !0, a, !1), n.addMonster(e, i, 2, 920, 415, !0, a, !1), {
					enableMonsters: !1
				}
			}
			return null
		}, e
	}(i(8).Quest);
	e.SkywatchQ1 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "E5", "MAP_SKYWATCH_OUTSKIRTS", 999, 555, ["skywatch-E4"], i) || this;
				return n.insideTrigger = !1, n.lastFrameInsideTrigger = !1, n.user = null, n.battleBG = "battle-skywatch-outside", n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return this.enableLayerID(3, !1), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1010,
					y: 720,
					r: 120
				}, "skywatch-E4", 360, 380, null, a.EAreaEventAngle.DOWN, !1), this.user = i.user
			}, e.prototype.update = function(e) {
				o.Util.isValid(this.user) && (this.insideTrigger = Phaser.Math.distance(this.user.x, this.user.y, 430, 490) <= 100, this.insideTrigger !== this.lastFrameInsideTrigger && this.toggleDynamicLayer(e, 3, this.insideTrigger, 500), this.lastFrameInsideTrigger = this.insideTrigger), t.prototype.update.call(this, e)
			}, e
		}(i(24).SkywatchMap);
	e.SkywatchE5 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "E4", "MAP_SKYWATCH_END_CHAMBER", 640, 380, ["skywatch-E3", "skywatch-E5"], i.concat(["default-boss-12"])) || this;
				return n.battleBG = "battle-skywatch-inside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 640,
					y: 550,
					w: 160,
					h: 100,
					rect: !0
				}, "skywatch-E3", 600, 480, null, a.EAreaEventAngle.DOWN, !1), this.addAreaEvent(e, i, {
					x: 340,
					y: 340,
					w: 80,
					h: 40,
					rect: !0
				}, "skywatch-E5", 999, 555, null, a.EAreaEventAngle.UP, !1), i.addClickableEvent(300, 200, 80, 120, this.validPathTo.bind(this, e, i, 360, 340), null)
			}, e
		}(i(24).SkywatchMap);
	e.SkywatchE4 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(3),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "E3", "MAP_SKYWATCH_BLAST_DOORS", 1060, 560, ["skywatch-E1", "skywatch-E4"], i) || this;
				return n.battleBG = "battle-skywatch-inside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				if (t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
						x: 1120,
						y: 720,
						r: 120
					}, "skywatch-E1", 160, 160, null, o.EAreaEventAngle.DOWN, !1), e.prodigy.player.backpack.hasItem("item", 83) > 0) this.addAreaEvent(e, i, {
					x: 620,
					y: 360,
					w: 120,
					h: 80,
					rect: !0
				}, "skywatch-E4", 640, 380, null, o.EAreaEventAngle.UP, !1), i.addClickableEvent(560, 240, 120, 160, this.validPathTo.bind(this, e, i, 620, 390), null);
				else {
					i.addClickableEvent(520, 200, 160, 120, function(t) {
						var e = t.prodigy.event.create();
						e.popup(t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SKYWATCH_REQUIRE_MASTER_KEY")), e.start()
					}.bind(this, e), null)
				}
				this.addChest(e, i, "chest5", 950, 325, [{
					type: "hat",
					ID: 45
				}], null, "A"), this.addMonster(e, i, 0, 850, 450, !0, {
					randDir: !0,
					encounter: [{
						ID: 113,
						R: 2
					}, {
						ID: 115,
						R: 1
					}],
					difficulty: 4,
					maxTeamSize: 2,
					range: 22500
				}, !1), this.addMonster(e, i, 1, 375, 500, !0, {
					randDir: !0,
					encounter: [{
						ID: 113,
						R: 2
					}, {
						ID: 115,
						R: 1
					}, {
						ID: 120,
						R: 3
					}],
					difficulty: 3,
					maxTeamSize: 3,
					range: 22500
				}, !1)
			}, e
		}(i(24).SkywatchMap);
	e.SkywatchE3 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "E2", "MAP_SKYWATCH_OLD_MANS_ROOM", 200, 560, ["skywatch-E1"], i.concat(["atlas-68"])) || this;
				return n.battleBG = "battle-skywatch-inside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 200,
					y: 720,
					r: 120
				}, "skywatch-E1", 1120, 370, null, a.EAreaEventAngle.DOWN, !1);
				this.addWizard(e, i, 965, 530, "wizard2", {
					opponent: [{
						appearance: {
							name: "NPC_NAME_BARRY_BOSS",
							gender: "male",
							hair: {
								style: 16,
								color: 3
							},
							skinColor: 1,
							eyeColor: 4
						},
						equipment: {
							hat: 3,
							outfit: 3,
							weapon: 3
						}
					}],
					pets: [{
						ID: 121,
						difficulty: 2
					}, {
						ID: 114,
						difficulty: 2
					}],
					difficulty: 3
				}, !0)
			}, e
		}(i(24).SkywatchMap);
	e.SkywatchE2 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "E1", "MAP_SKYWATCH_FACTORY_MAIN_HALL", 1120, 560, ["skywatch-D1", "skywatch-E2", "skywatch-E3"], i) || this;
				return n.battleBG = "battle-skywatch-inside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1100,
					y: 720,
					r: 120
				}, "skywatch-D1", 550, 290, null, a.EAreaEventAngle.DOWN, !1), this.addAreaEvent(e, i, {
					x: 160,
					y: 0,
					r: 120
				}, "skywatch-E3", 1060, 560, null, a.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
					x: 1102,
					y: 320,
					w: 100,
					h: 80,
					rect: !0
				}, "skywatch-E2", 200, 560, null, a.EAreaEventAngle.UP, !1), i.addClickableEvent(1060, 200, 80, 120, this.validPathTo.bind(this, e, i, 1120, 350), null), this.addMonster(e, i, 1, 400, 500, !0, {
					randDir: !0,
					encounter: [{
						ID: 113,
						R: 2
					}, {
						ID: 115,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 2,
					range: 22500
				}, !1), this.addMonster(e, i, 2, 825, 375, !0, {
					randDir: !0,
					encounter: [{
						ID: 113,
						R: 2
					}, {
						ID: 115,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 2,
					range: 22500
				}, !1)
			}, e
		}(i(24).SkywatchMap);
	e.SkywatchE1 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "D3", "MAP_SKYWATCH_WIND_TUNNEL", 270, 250, ["skywatch-D2"], i.concat(["atlas-116", "default-boss-12"])) || this;
				return n.battleBG = "battle-skywatch-outside", n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return this.enableLayerID(2, o.Util.isValid(this.zone.getState("vines-D3"))), o.Util.isValid(this.zone.getState("plug-D3")) ? this.unplug(e) : this.plugIn(e), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 260,
					y: 240,
					w: 1,
					h: 1
				}, "skywatch-D2", 0, 0, null, a.EAreaEventAngle.LEFT, !1, !0);
				var o = i.content.add(e.prodigy.create.sprite(240, 175, "atlas-122", "cart-vertical"));
				o.scale.x = -o.scale.x, i.addClickableEvent(160, 210, 100, 100, this.zone.interactTrolley.bind(this.zone, i, [{
					x: 265,
					y: 280
				}, {
					x: 200,
					y: 270
				}], {
					trolley: o,
					x: "0",
					y: "-300",
					duration: 3e3,
					target: "skywatch-D2",
					targetX: 1020,
					targetY: 580
				}), null), this.addMonster(e, i, 1, 725, 375, !1, {
					randDir: !0,
					encounter: [{
						ID: 13,
						R: 2
					}, {
						ID: 84,
						R: 1
					}, {
						ID: 72,
						R: 1
					}],
					difficulty: 4,
					maxTeamSize: 2
				}), this.addMonster(e, i, 2, 400, 550, !1, {
					randDir: !0,
					encounter: [{
						ID: 40,
						R: 3
					}, {
						ID: 84,
						R: 1
					}, {
						ID: 72,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 3,
					range: 22500
				})
			}, e.prototype.displayStationaryFanribbons = function(t, e) {
				this.enableLayerID(2, !1), this.toggleDynamicLayer(t, 2, !1)
			}, e.prototype.plugIn = function(t) {
				this.enableLayerID(0, !1), this.toggleDynamicLayer(t, 0, !1), this.enableLayerID(1, !0), this.toggleDynamicLayer(t, 1, !0)
			}, e.prototype.unplug = function(t) {
				this.enableLayerID(1, !1), this.toggleDynamicLayer(t, 1, !1), this.enableLayerID(0, !0), this.toggleDynamicLayer(t, 0, !0)
			}, e
		}(i(24).SkywatchMap);
	e.SkywatchD3 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "D2", "MAP_SKYWATCH_BREEZY_PASS", 140, 290, ["skywatch-D1", "skywatch-D3"], i.concat(["atlas-116"])) || this;
				return n.trolley2 = null, n.battleBG = "battle-skywatch-outside", n.coord = [new Phaser.Point(280, 450), new Phaser.Point(780, 330)], n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return this.enableLayerID(2, !o.Util.isValid(this.zone.getState("vines-D2"))), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 210,
					y: 182,
					w: 1,
					h: 1
				}, "skywatch-D1", 0, 0, null, a.EAreaEventAngle.LEFT, !1, !1), this.addAreaEvent(e, i, {
					x: 1e3,
					y: 575,
					w: 1,
					h: 1
				}, "skywatch-D3", 0, 0, null, a.EAreaEventAngle.LEFT, !1, !1);
				var r = i.content.add(e.prodigy.create.sprite(100, 96, "atlas-122", "cart-horizontal"));
				this.trolley2 = i.content.add(e.prodigy.create.sprite(1e3, 515, "atlas-122", "cart-vertical")), this.trolley2.scale.x = -this.trolley2.scale.x, i.addClickableEvent(105, 160, 80, 80, this.zone.interactTrolley.bind(this.zone, i, [{
					x: 145,
					y: 250
				}, {
					x: 155,
					y: 220
				}], {
					trolley: r,
					x: "-300",
					y: "0",
					duration: 3e3,
					target: "skywatch-D1",
					targetX: 1100,
					targetY: 540
				}), null), o.Util.isValid(this.zone.getState("vines-D2")) && i.addClickableEvent(925, 555, 90, 90, this.zone.interactTrolley.bind(this.zone, i, [{
					x: 1040,
					y: 600
				}, {
					x: 965,
					y: 600
				}], {
					trolley: this.trolley2,
					x: "0",
					y: "+300",
					duration: 3e3,
					target: "skywatch-D3",
					targetX: 300,
					targetY: 250
				}), null), this.addMonster(e, i, 1, 525, 325, !1, {
					randDir: !0,
					encounter: [{
						ID: 84,
						R: 1
					}, {
						ID: 72,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 2
				}), this.addMonster(e, i, 2, 950, 150, !1, {
					randDir: !0,
					encounter: [{
						ID: 13,
						R: 2
					}, {
						ID: 84,
						R: 1
					}, {
						ID: 72,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 2,
					range: 22500
				}), this.addChest(e, i, "chest4", 640, 200, [{
					type: "weapon",
					ID: 69
				}], null, "A")
			}, e
		}(i(24).SkywatchMap);
	e.SkywatchD2 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(3),
		r = i(0),
		s = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "D1", "MAP_SKYWATCH_FACTORY_ENTRANCE", 189, 549, ["skywatch-A1", "skywatch-D2", "skywatch-E1"], i.concat("atlas-81")) || this;
				return n.trolley2 = null, n.battleBG = "battle-skywatch-outside", n.coord = [new Phaser.Point(400, 540), new Phaser.Point(780, 570)], n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return this.enableLayerID(2, !r.Util.isValid(this.zone.getState("vines-D1"))), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				if (t.prototype.setup.call(this, e, i, n), e.prodigy.player.backpack.hasItem("item", 81) > 0) this.addAreaEvent(e, i, {
					x: 620,
					y: 280,
					w: 120,
					h: 80,
					rect: !0
				}, "skywatch-E1", 1120, 560, null, o.EAreaEventAngle.UP), i.addClickableEvent(580, 140, 80, 140, this.validPathTo.bind(this, e, i, 680, 290), null);
				else {
					i.addClickableEvent(580, 140, 80, 140, function(t) {
						var e = t.prodigy.event.create();
						e.popup(t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SKYWATCH_REQUIRE_FACTORY_KEY")), e.start()
					}.bind(this, e), null, null)
				}
				this.addAreaEvent(e, i, {
					x: 190,
					y: 420,
					w: 1,
					h: 1
				}, "skywatch-A1", 0, 0, null, o.EAreaEventAngle.LEFT, !1, !0), this.addAreaEvent(e, i, {
					x: 1075,
					y: 440,
					w: 1,
					h: 1
				}, "skywatch-D2", 0, 0, null, o.EAreaEventAngle.RIGHT, !1, !0);
				var s = i.content.add(e.prodigy.create.sprite(75, 296, "atlas-122", "cart-horizontal"));
				this.trolley2 = i.content.add(e.prodigy.create.sprite(1075, 296, "atlas-122", "cart-horizontal")), this.trolley2.alpha = 0, r.Util.isValid(this.zone.getState("vines-D1")) && (this.trolley2.alpha = 1, i.addClickableEvent(1080, 360, 80, 80, this.zone.interactTrolley.bind(this.zone, i, [{
					x: 1130,
					y: 450
				}, {
					x: 1120,
					y: 420
				}], {
					trolley: this.trolley2,
					x: "+200",
					y: "0",
					duration: 3e3,
					target: "skywatch-D2",
					targetX: 140,
					targetY: 290
				}), null, 0)), i.addClickableEvent(80, 360, 80, 80, this.zone.interactTrolley.bind(this.zone, i, [{
					x: 130,
					y: 450
				}, {
					x: 120,
					y: 420
				}], {
					trolley: s,
					x: "-200",
					y: "0",
					duration: 3e3,
					target: "skywatch-A1",
					targetX: 1100,
					targetY: 500
				}), null, 0), this.addMonster(e, i, 1, 700, 500, !1, {
					randDir: !0,
					encounter: [{
						ID: 84,
						R: 1
					}, {
						ID: 72,
						R: 1
					}],
					difficulty: 2,
					maxTeamSize: 2,
					range: 22500
				})
			}, e
		}(i(24).SkywatchMap);
	e.SkywatchD1 = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "C4", "MAP_SKYWATCH_SKY_SHOWER", 1160, 550, ["skywatch-C3"], i.concat(["atlas-81", "atlas-70", "default-boss-12"])) || this;
				return n.battleBG = "battle-skywatch-outside", n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return this.plugIn(!o.Util.isValid(this.zone.getState("plug-C4"))), this.enableLayerID(2, o.Util.isValid(this.zone.getState("vines-C4"))), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1150,
					y: 660,
					w: 100,
					h: 200,
					rect: !0
				}, "skywatch-C3", 120, 210, null, a.EAreaEventAngle.DOWN), this.zone.isOnSequence(2, 3) || this.zone.isOnQuest(9) || (this.addMonster(e, i, 1, 800, 525, !1, {
					randDir: !0,
					encounter: [{
						ID: 18,
						R: 1
					}, {
						ID: 84,
						R: 1
					}, {
						ID: 13,
						R: 2
					}],
					difficulty: 4,
					maxTeamSize: 2
				}), this.addMonster(e, i, 2, 475, 425, !1, {
					randDir: !0,
					encounter: [{
						ID: 18,
						R: 1
					}, {
						ID: 84,
						R: 1
					}, {
						ID: 56,
						R: 3
					}],
					difficulty: 3,
					maxTeamSize: 3,
					range: 22500
				}))
			}, e.prototype.plugIn = function(t) {
				this.enableLayerID(0, !t), this.enableLayerID(1, t)
			}, e
		}(i(24).SkywatchMap);
	e.SkywatchC4 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "C3", "MAP_SKYWATCH_CLOUDY_PASS", 1160, 210, ["skywatch-C1", "skywatch-C4"], i.concat("atlas-82")) || this;
				return n.battleBG = "battle-skywatch-outside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1155,
					y: 100,
					w: 100,
					h: 200,
					rect: !0
				}, "skywatch-C1", 115, 510, null, a.EAreaEventAngle.UP), this.addAreaEvent(e, i, {
					x: 120,
					y: 100,
					w: 100,
					h: 200,
					rect: !0
				}, "skywatch-C4", 1160, 540, null, a.EAreaEventAngle.UP), this.addMonster(e, i, 1, 725, 200, !1, {
					randDir: !0,
					encounter: [{
						ID: 18,
						R: 1
					}, {
						ID: 84,
						R: 1
					}],
					difficulty: 2,
					maxTeamSize: 2
				}), this.addMonster(e, i, 2, 900, 475, !1, {
					randDir: !0,
					encounter: [{
						ID: 18,
						R: 1
					}, {
						ID: 84,
						R: 1
					}, {
						ID: 13,
						R: 2
					}],
					difficulty: 2,
					maxTeamSize: 2
				}), this.addMonster(e, i, 3, 300, 500, !1, {
					randDir: !0,
					encounter: [{
						ID: 18,
						R: 1
					}, {
						ID: 84,
						R: 1
					}, {
						ID: 13,
						R: 2
					}],
					difficulty: 3,
					maxTeamSize: 2,
					range: 22500
				}), this.addChest(e, i, "chest3", 325, 250, [{
					type: "gold",
					N: 500
				}], null, "A")
			}, e
		}(i(24).SkywatchMap);
	e.SkywatchC3 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "C2", "MAP_SKYWATCH_INNER_SCREWBALL_SHACK", 625, 520, ["skywatch-C1"], i.concat(["atlas-81"])) || this;
				return n.battleBG = "battle-skywatch-inside", n
			}
			return n(e, t), e.prototype.setup = function(t, e, i) {
				this.addAreaEvent(t, e, {
					x: 620,
					y: 560,
					w: 160,
					h: 70,
					rect: !0
				}, "skywatch-C1", 200, 360, null, a.EAreaEventAngle.DOWN)
			}, e
		}(i(24).SkywatchMap);
	e.SkywatchC2 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "C1", "MAP_SKYWATCH_SCREWBALL_SHACK", 1120, 160, ["skywatch-A1", "skywatch-C2", "skywatch-C3"], i.concat(["atlas-116"])) || this;
				return n.battleBG = "battle-skywatch-outside", n.coord = [new Phaser.Point(370, 580), new Phaser.Point(590, 350)], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1205,
					y: 160,
					w: 150,
					h: 100,
					rect: !0
				}, "skywatch-A1", 240, 610, null, a.EAreaEventAngle.RIGHT), this.addAreaEvent(e, i, {
					x: 115,
					y: 620,
					w: 100,
					h: 200,
					rect: !0
				}, "skywatch-C3", 1160, 210, null, a.EAreaEventAngle.DOWN), this.addAreaEvent(e, i, {
					x: 220,
					y: 268,
					w: 90,
					h: 140,
					rect: !0
				}, "skywatch-C2", 625, 520, null, a.EAreaEventAngle.UP), this.addMonster(e, i, 2, 700, 425, !1, {
					randDir: !0,
					encounter: [{
						ID: 18,
						R: 1
					}, {
						ID: 84,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 1
				}), this.addMonster(e, i, 3, 350, 575, !1, {
					randDir: !0,
					encounter: [{
						ID: 18,
						R: 1
					}, {
						ID: 84,
						R: 1
					}],
					difficulty: 2,
					maxTeamSize: 2,
					range: 22500
				}), i.addClickableEvent(180, 190, 80, 120, this.validPathTo.bind(this, e, i, 195, 320), null)
			}, e
		}(i(24).SkywatchMap);
	e.SkywatchC1 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B3", "MAP_SKYWATCH_GREAT_GRATERS", 1030, 560, ["skywatch-B1"], i.concat(["default-boss-12"])) || this;
				return n.battleBG = "battle-skywatch-outside", n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return o.Util.isValid(this.zone.getState("plug-B3")) ? this.plugOut() : (this.plugIn(), this.createIceBlocks(e, a)), this.enableLayerID(2, o.Util.isValid(this.zone.getState("vines-B3"))), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1035,
					y: 710,
					r: 130
				}, "skywatch-B1", 170, 150, null, a.EAreaEventAngle.DOWN)
			}, e.prototype.plugIn = function() {
				this.enableLayerID(0, !1), this.enableLayerID(1, !0)
			}, e.prototype.plugOut = function() {
				this.enableLayerID(1, !1), this.enableLayerID(0, !0)
			}, e.prototype.createIceBlocks = function(t, e) {
				var i = t.prodigy.event.create();
				i.delay(Math.floor(3e3 * Math.random())), i.function(this.createIceBlock.bind(this, t, e, 0)), i.delay(Math.floor(3e3 * Math.random())), i.function(this.createIceBlock.bind(this, t, e, 1)), i.delay(Math.floor(3e3 * Math.random())), i.function(this.createIceBlock.bind(this, t, e, 2)), i.delay(Math.floor(3e3 * Math.random())), i.function(this.createIceBlock.bind(this, t, e, 3)), i.start()
			}, e.prototype.createIceBlock = function(t, e, i) {
				var n = [{
						x: 575,
						y: 430
					}, {
						x: 90,
						y: 430
					}, {
						x: 575,
						y: 550
					}, {
						x: 90,
						y: 550
					}],
					a = [],
					o = t.prodigy.event.create();
				o.delay(Math.floor(5e3 * Math.random()) + 2e3), o.function(this.createIceBlock.bind(this, t, e, i)), o.start();
				var r = [{
						start: {
							x: 483,
							y: 105
						},
						path: [{
							x: 483,
							y: 320
						}, {
							x: 560,
							y: 320
						}],
						end: {
							x: 715,
							y: 380
						},
						angle: "+20"
					}, {
						start: {
							x: 322,
							y: 105
						},
						path: [{
							x: 322,
							y: 320
						}, {
							x: 240,
							y: 320
						}],
						end: {
							x: 80,
							y: 380
						},
						angle: "-20"
					}, {
						start: {
							x: 483,
							y: 740
						},
						path: [{
							x: 483,
							y: 440
						}, {
							x: 560,
							y: 440
						}],
						end: {
							x: 715,
							y: 500
						},
						angle: "+20"
					}, {
						start: {
							x: 322,
							y: 740
						},
						path: [{
							x: 322,
							y: 440
						}, {
							x: 240,
							y: 440
						}],
						end: {
							x: 80,
							y: 500
						},
						angle: "-20"
					}][i],
					s = e.foreground.add(t.prodigy.create.sprite(r.start.x, r.start.y, "atlas-122", "ice-cube"));
				s.anchor.setTo(.5, 1), s.alpha = 0, a.push(t.add.tween(s).to({
					x: r.path[0].x,
					y: r.path[0].y
				}, 3e3, Phaser.Easing.Linear.None).to({
					x: r.path[1].x,
					y: r.path[1].y
				}, 1500, Phaser.Easing.Linear.None).to({
					x: r.end.x,
					y: r.end.y
				}, 3e3, Phaser.Easing.Linear.None)), a.push(t.add.tween(s.scale).to({
					x: .1,
					y: .1
				}, 3e3, Phaser.Easing.Linear.None, null, 4900)), a.push(t.add.tween(s).to({
					alpha: 1
				}, 250, Phaser.Easing.Linear.None, null)), a.push(t.add.tween(s).to({
					angle: r.angle
				}, 500, Phaser.Easing.Linear.None, null, 4700)), a[1].onComplete.add(this.makeSnow.bind(this, t, e, n[i].x, n[i].y)), a[1].onComplete.add(function() {
					s.destroy()
				});
				for (var l = 0; l < a.length; l++) a[l].start()
			}, e.prototype.makeSnow = function(t, i, n, a) {
				var r = i.background;
				if (!o.Util.isValid(this.snows)) {
					this.snows = [];
					for (var s = 0; s < 20; s++) this.snows[s] = r.add(t.prodigy.create.sprite(n, a, "atlas-10", "42-30"))
				}
				for (s = 0; s < 20; s++) this.snows[s].x = n, this.snows[s].y = a, e.newFlake(t, this.snows[s], !0, n, a)
			}, e.newFlake = function(t, e, i, n, a) {
				if (o.Util.isValid(t)) {
					var r = Math.floor(2e3 * Math.random()) + 2e3;
					e.frameName = Math.random() < .5 ? "42-16" : "42-30", e.x = n + Math.floor(140 * Math.random()), i ? r -= Math.floor(r / 720 * e.y) : e.y = a, t.prodigy.animation.translate(e, e.x, 720, r, null, null, !0)
				}
			}, e.prototype.cleanup = function() {
				for (var e = 0; e < (o.Util.isValid(this.snows) ? this.snows.length : 0); e++) this.snows[e].destroy();
				this.snows = null, t.prototype.cleanup.call(this)
			}, e
		}(i(24).SkywatchMap);
	e.SkywatchB3 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B2", "MAP_SKYWATCH_GARDENERS_HUT_INNER", 640, 510, ["skywatch-B1"], i.concat(["atlas-81"])) || this;
				return n.battleBG = "battle-skywatch-inside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 660,
					y: 550,
					w: 130,
					h: 70,
					rect: !0
				}, "skywatch-B1", 760, 390, null, a.EAreaEventAngle.DOWN)
			}, e
		}(i(24).SkywatchMap);
	e.SkywatchB2 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(45),
		o = i(3),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B1", "MAP_SKYWATCH_GARDENERS_HUT_EXTERIOR", 1140, 549, ["skywatch-A1", "skywatch-B2", "skywatch-B3"], i.concat("atlas-82")) || this;
				return n.battleBG = "battle-skywatch-outside", n.coord = [new Phaser.Point(460, 530), new Phaser.Point(200, 560)], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1150,
					y: 710,
					r: 120
				}, "skywatch-A1", 120, 190, null, o.EAreaEventAngle.DOWN), this.addAreaEvent(e, i, {
					x: 740,
					y: 340,
					w: 80,
					h: 80,
					rect: !0
				}, "skywatch-B2", 640, 510, null, o.EAreaEventAngle.UP), this.addAreaEvent(e, i, {
					x: 150,
					y: 0,
					r: 120
				}, "skywatch-B3", 1030, 560, null, o.EAreaEventAngle.UP), this.addPippet(e, i, 1, 775, 500), this.addMonster(e, i, 1, 675, 550, !1, {
					randDir: !0,
					encounter: [{
						ID: 18,
						R: 1
					}, {
						ID: 72,
						R: 1
					}],
					difficulty: 1,
					maxTeamSize: 1,
					range: 22500
				}), this.addMonster(e, i, 2, 225, 400, !1, {
					randDir: !0,
					encounter: [{
						ID: 18,
						R: 1
					}, {
						ID: 72,
						R: 1
					}],
					difficulty: 1,
					maxTeamSize: 2
				}), i.addClickableEvent(700, 240, 80, 120, this.validPathTo.bind(this, e, i, 740, 370), null), this.addChest(e, i, "chest2", 620, 420, [{
					type: "outfit",
					ID: 41
				}], null, "A"), new a.ToyMerchant(e, i.content, 1144, 443)
			}, e
		}(i(24).SkywatchMap);
	e.SkywatchB1 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(3),
		r = i(0),
		s = function(t) {
			function e(e, i) {
				return t.call(this, e, "A1", "MAP_SKYWATCH_UPPER_BEANOVATOR", 620, 350, ["skywatch-A0", "skywatch-B1", "skywatch-C1", "skywatch-D1"], i.concat(["atlas-116", "atlas-64", "atlas-76"])) || this
			}
			return n(e, t), e.prototype.setup = function(i, n, s) {
				t.prototype.setup.call(this, i, n, s), this.addAreaEvent(i, n, {
					x: 50,
					y: 50,
					r: 120
				}, "skywatch-B1", 1140, 560, null, o.EAreaEventAngle.UP_LEFT, !1), this.addAreaEvent(i, n, {
					x: 110,
					y: 600,
					w: 220,
					h: 100,
					rect: !0
				}, "skywatch-C1", 1120, 160, null, o.EAreaEventAngle.LEFT, !1);
				var l = n.addConstructedQuestNPC(760, 500, "benni", !1, e.zoneComplete.bind(this, i)),
					c = n.content.add(i.prodigy.create.sprite(1110, 336, "atlas-122", "cart-horizontal"));
				this.addAreaEvent(i, n, {
					x: 1100,
					y: 440,
					w: 1,
					h: 1
				}, "skywatch-D1", 0, 0, null, o.EAreaEventAngle.RIGHT, !1, !0), this.addAreaEvent(i, n, {
					x: 653,
					y: 187,
					w: 1,
					h: 1,
					rect: !0
				}, "skywatch-A0", 650, 360, null, o.EAreaEventAngle.DOWN, !1, !0), n.createStoreNPC(430, 360, 5, i.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("STORE_SKY_HIGH"), !0), n.addClickableEvent(1115, 400, 80, 80, this.zone.interactTrolley.bind(this.zone, n, [{
					x: 1140,
					y: 480
				}, {
					x: 1165,
					y: 460
				}], {
					trolley: c,
					x: "+200",
					y: "0",
					duration: 3e3,
					target: "skywatch-D1",
					targetX: null,
					targetY: null
				}), null, 0), n.addClickableEvent(593, 200, 134, 140, this.zone.elevator.bind(this.zone, n, [{
					x: 660,
					y: 340
				}, {
					x: 660,
					y: 320
				}], {
					x: 600,
					y: 200
				}, {
					target: "skywatch-A0",
					x: 1100,
					y: 450
				}), null, 0);
				var h = this.addConstructedNPC(i, n, 440, 500, "atlas-64", l.process.bind(l, this.zone, null, !0), "NPC_NAME_BROCCOLINA", null);
				r.Util.isValid(h) && (h.flip(), h.nameText.GameObject.x -= 55), r.Util.isValid(this.zone.getState("eugene_A1")) && this.addConstructedNPC(i, n, 685, 390, "atlas-68", l.process.bind(l, this.zone, null, !0), "NPC_NAME_EUGENE", null)
			}, e.zoneComplete = function(t) {
				var e = t.prodigy.event.create();
				e.text(1, "benni"), e.text(0, "benni"), e.text(45, "benni"), e.start()
			}, e
		}(i(24).SkywatchMap);
	e.SkywatchA1 = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "A0", "MAP_SKYWATCH_LOWER_BEANOVATOR", 1100, 450, ["skywatch-A1", "shiverchill-B1"], i) || this;
				return n.battleBG = "battle-skywatch-outside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1020,
					y: 410,
					w: 1,
					h: 1,
					rect: !0
				}, "skywatch-A1", 650, 360, null, a.EAreaEventAngle.UP, !1, !1), this.addChest(e, i, "chest1", 720, 360, [{
					type: "gold",
					N: 200
				}], null, "A"), i.addClickableEvent(953, 320, 134, 140, this.zone.elevator.bind(this.zone, i, [{
					x: 1020,
					y: 460
				}, {
					x: 1020,
					y: 440
				}], {
					x: 960,
					y: 320
				}, {
					target: "skywatch-A1",
					x: null,
					y: null
				}), null, 0);
				this.addWizard(e, i, 240, 340, "wizard1", {
					opponent: [{
						appearance: {
							name: "NPC_NAME_MARY_MOSS",
							gender: "female",
							hair: {
								style: 2,
								color: 2
							},
							skinColor: 2,
							eyeColor: 3
						},
						equipment: {
							hat: 2,
							outfit: 2,
							weapon: 2
						}
					}],
					pets: [{
						ID: 15,
						difficulty: 2
					}, {
						ID: 45,
						difficulty: 2
					}],
					difficulty: 3
				}, !1)
			}, e
		}(i(24).SkywatchMap);
	e.SkywatchA0 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(32),
		o = i(473),
		r = i(472),
		s = i(471),
		l = i(470),
		c = i(469),
		h = i(468),
		u = i(467),
		p = i(466),
		d = i(465),
		g = i(464),
		f = i(463),
		y = i(462),
		m = i(461),
		_ = i(460),
		v = i(459),
		E = i(458),
		b = i(457),
		O = i(456),
		I = i(455),
		T = i(454),
		A = i(453),
		C = i(452),
		S = i(451),
		w = i(450),
		D = i(449),
		P = i(448),
		L = i(447),
		x = i(446),
		M = i(445),
		U = i(444),
		N = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				i.name = "Skywatch", i.ID = "skywatch", i.battleBG = "battle-skywatch-inside", i.onFaint = "skywatch-A1", i.questHub = "skywatch-A1", i.bgmID = 18, i.currency = 16, i.states = ["chest1", "chest2", "chest3", "chest4", "chest5", "wizard1", "wizard2", "daily", "windowBroken", "plug-D3", "plug-B3", "plug-C4", "eugene_A1", "vines-D1", "vines-D2", "vines-D3", "vines-B3", "vines-C4"], i.monsters = [13, 15, 18, 20, 35, 40, 43, 56, 72, 84, 113, 115, 120];
				var n = ["atlas-91", "tileset-town-new", "atlas-122", "atlas-61", "atlas-64", "atlas-68", "sfx-17", "tileset-skywatch", "tileset-skywatch-buildings", "tileset-collisions", "tileset-skywatch-factory", "tileset-generic-snow", "tileset-icecave-new", "tileset-cloud-new", "tileset-cloud", "tileset-interior", "tileset-town", "bgm-18"];
				return i.maps = {
					A0: new o.SkywatchA0(i, n),
					A1: new r.SkywatchA1(i, n),
					B1: new s.SkywatchB1(i, n),
					B2: new l.SkywatchB2(i, n),
					B3: new c.SkywatchB3(i, n),
					C1: new h.SkywatchC1(i, n),
					C2: new u.SkywatchC2(i, n),
					C3: new p.SkywatchC3(i, n),
					C4: new d.SkywatchC4(i, n),
					D1: new g.SkywatchD1(i, n),
					D2: new f.SkywatchD2(i, n),
					D3: new y.SkywatchD3(i, n),
					E1: new m.SkywatchE1(i, n),
					E2: new _.SkywatchE2(i, n),
					E3: new v.SkywatchE3(i, n),
					E4: new E.SkywatchE4(i, n),
					E5: new b.SkywatchE5(i, n)
				}, i.quests = {
					1: new O.SkywatchQ1(i, n),
					2: new S.SkywatchQ2(i, n),
					3: new w.SkywatchQ3(i, n),
					4: new D.SkywatchQ4(i, n),
					5: new P.SkywatchQ5(i, n),
					6: new L.SkywatchQ6(i, n),
					7: new x.SkywatchQ7(i, n),
					8: new M.SkywatchQ8(i, n),
					9: new U.SkywatchQ9(i, n),
					10: new I.SkywatchQ10(i, n),
					11: new T.SkywatchQ11(i, n),
					12: new A.SkywatchQ12(i, n),
					13: new C.SkywatchQ13(i, n)
				}, i
			}
			return n(e, t), e.prototype.getDailyMaps = function() {
				return []
			}, e.prototype.interactTrolley = function(t, e, i) {
				var n = this.game.prodigy.event.create();
				n.validPath(t.user, t.path, e[0].x, e[0].y), n.function(t.removeFollow.bind(t, this.game.prodigy.player.userID)), n.path(t.user, [{
					x: e[1].x,
					y: e[1].y
				}]), n.sound(17, "machines"), n.function(this.animateTrolley.bind(this, t, i.trolley, i.x, i.y, i.duration, i.target, i.targetX, i.targetY)), n.start()
			}, e.prototype.animateTrolley = function(t, e, i, n, a, o, r, s) {
				this.game.add.tween(e).to({
					x: i,
					y: n
				}, a, Phaser.Easing.Linear.None).start(), this.game.add.tween(t.user).to({
					x: i,
					y: n
				}, a, Phaser.Easing.Linear.None).start();
				var l = this.game.prodigy.event.create();
				l.enableInput(!1), l.delay(3e3), l.enableInput(!0), l.function(this.game.prodigy.world.teleport.bind(this.game.prodigy.world, o, r, s)), l.start()
			}, e.prototype.shrinkVines = function(t) {
				t.toggleDynamicLayer(this.game, 2, !1, 3e3)
			}, e.prototype.createVines = function(t) {
				t.toggleDynamicLayer(this.game, 2, !0)
			}, e.prototype.changePosition = function(t, e) {
				this.game.prodigy.animation.float(t, 20, 1400, !0, !0), this.game.prodigy.animation.float(e, 20, 1400, !0, !0)
			}, e.prototype.elevator = function(t, e, i, n) {
				var a = this.game.prodigy.event.create();
				a.validPath(t.user, t.path, e[0].x, e[0].y), a.function(this.hideFollow.bind(this, t)), a.delay(200), a.enableInput(!1), a.sound(17, "elevator"), a.function(this.animateElevatorOpen.bind(this, t.content, i.x, i.y)), a.delay(1e3), a.path(t.user, [{
					x: e[1].x,
					y: e[1].y
				}]), a.delay(1e3), a.function(this.animateElevatorClose.bind(this, t.foreground, i.x, i.y)), a.function(function() {
					t.user.hideName()
				}), a.delay(1e3), a.enableInput(!0), a.function(this.game.prodigy.world.teleport.bind(this.game.prodigy.world, n.target, n.x, n.y)), a.start()
			}, e.prototype.animateElevatorOpen = function(t, e, i) {
				var n = t.add(this.game.prodigy.create.sprite(e, i, "atlas-122", "elevator-0", new Phaser.Point(.5, 1)));
				n.anchor.setTo(0, 0), n.animations.add("stand", ["elevator-0", "elevator-1", "elevator-2", "elevator-3", "elevator-4"], 10, !1, !1), n.animations.play("stand")
			}, e.prototype.animateElevatorClose = function(t, e, i) {
				var n = t.add(this.game.prodigy.create.sprite(e, i, "atlas-122", "elevator-2", new Phaser.Point(.5, 1)));
				n.anchor.setTo(0, 0), n.animations.add("stand", ["elevator-4", "elevator-3", "elevator-2", "elevator-1", "elevator-0"], 10, !1, !1), n.animations.play("stand")
			}, e
		}(a.Zone);
	e.SkywatchZone = N
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 9, "", {
				type: "item",
				ID: 71,
				N: 1,
				K: !0
			}, ["shiverchill-A6"], [26], [], [0], [{
				type: "gold",
				N: 100
			}], !1) || this
		}
		return n(e, t), e
	}(i(8).Quest);
	e.ShiverchillQ9 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 8, "", {
				type: "pet",
				ID: 90,
				N: 3
			}, ["shiverchill-B7", "shiverchill-B6"], [23, 24, 2, 25], [], [0], [{
				type: "gold",
				N: 100
			}], !1) || this
		}
		return n(e, t), e
	}(i(8).Quest);
	e.ShiverchillQ8 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, i.concat("default-boss-16"), 7, "QUESTS_SHIVERCHILL_UNKNOWN", {
					type: "seq",
					N: 1
				}, ["shiverchill-B8"], [21, 22], [69], [0], [{
					type: "gold",
					N: 100
				}], !1) || this
			}
			return n(e, t), e.prototype.start = function(t, e, i) {
				return this.zone.isOnSequence(7, 0) && "B8" === i.getTag() && this.bossBattle(t, e, i), null
			}, e.prototype.endBattle = function(t) {
				this.zone.completeSequence(7, 0), t.prodigy.world.teleport("shiverchill-B8", 480, 320)
			}, e.prototype.bossBattle = function(t, e, i) {
				var n = this.zone.getBattle(i, t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMBAT_SCARY_WORM"), {
						boss: {
							ID: 11,
							element: "ice",
							attacks: [62, 64],
							name: t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NPC_NAME_UNKNOWN"),
							difficulty: 3,
							tag: "shiverchill"
						},
						difficulty: 3,
						starMod: 2,
						screen: "battle-shiverchill-outside"
					}, this.endBattle.bind(this, t)),
					o = t.prodigy.event.create();
				o.enableInput(!1), o.path(e.user, [{
					x: 425,
					y: 326
				}, {
					x: 420,
					y: 530
				}, {
					x: 290,
					y: 640
				}]), o.shake(0, 3e3, 10, "v", !0), o.function(e.user.chat.bind(e.user, 1, 100)), o.explode(540, 250, 150, 150, 1, !0), o.delay(700), o.explode(540, 100, 150, 250, 2, !0), o.delay(1e3), o.function(function() {
					var i = t.add.spine(605, 315, "default-boss-16", void 0, e.content);
					i.scale.setTo(.65, .65), i.setAnimationByName(0, "idle", !0)
				}), o.explode(540, 250, 150, 150, 1), o.delay(1500), o.enableInput(!0), o.text(73, "noot"), o.function(n), o.start()
			}, e
		}(i(8).Quest);
	e.ShiverchillQ7 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				return t.call(this, e, i, 6, "QUESTS_SHIVERCHILL_HELP_MINER", {
					type: "seq",
					N: 2
				}, ["shiverchill-A7"], [20], [], [0], [{
					type: "hat",
					ID: 54
				}], !1) || this
			}
			return n(e, t), e.prototype.start = function(t, e, i) {
				return this.zone.isOnSequence(6, 0) && "A7" === i.getTag() ? this.ambush(t, e, i) : this.zone.isOnSequence(6, 1) && "A7" === i.getTag() && this.talkToMerchant(t, e, i), null
			}, e.prototype.endBattle = function(t) {
				this.zone.completeSequence(6, 0), t.prodigy.world.teleport("shiverchill-A7", 328, 343)
			}, e.prototype.ambush = function(t, e, i) {
				var n = i.addMonster(t, e, 1, 0, 0, !1, {
						encounter: [{
							ID: 87
						}],
						difficulty: 1,
						maxTeamSize: 1
					}),
					o = i.addMonster(t, e, 1, 0, 0, !1, {
						encounter: [{
							ID: 87
						}],
						difficulty: 1,
						maxTeamSize: 1
					}),
					r = i.addMonster(t, e, 1, 0, 0, !1, {
						encounter: [{
							ID: 87
						}],
						difficulty: 1,
						maxTeamSize: 1
					}),
					s = function(t, e, i) {
						i.x = t, i.y = e
					},
					l = t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					c = this.zone.getBattle(i, t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMBAT_SNOWBALL_FIGHT"), {
						pets: [{
							ID: 87,
							nickname: l.getText("NPC_NAME_CHILLY")
						}, {
							ID: 87,
							nickname: l.getText("NPC_NAME_FROSTY")
						}, {
							ID: 87,
							nickname: l.getText("NPC_NAME_FREEZY")
						}]
					}, this.endBattle.bind(this, t)),
					h = t.prodigy.event.create();
				h.enableInput(!1), h.set(e.user, "evtProc", !0), h.path(e.user, [{
					x: 450,
					y: 550
				}, {
					x: 430,
					y: 600
				}]), h.delay(500), h.function(s.bind(i, 900, 600, n)), h.function(s.bind(i, 950, 650, o)), h.function(s.bind(i, 950, 550, r)), h.function(e.user.chat.bind(e.user, 1, 80)), h.path(n, [{
					x: 600,
					y: 333
				}], 1, !0), h.path(o, [{
					x: 650,
					y: 333
				}], 1, !0), h.path(r, [{
					x: 600,
					y: 283
				}], 1, !1), h.hop(n, 575, -140, 100, !0), h.hop(o, 575, -140, 100, !0), h.hop(r, 575, -140, 100, !1), h.enableInput(!0), h.function(c), h.start()
			}, e.prototype.talkToMerchant = function(t, e, i) {
				o.Util.isValid(i.block) && (i.block.visible = !1);
				var n = t.prodigy.event.create();
				n.text(9, "merchant"), n.text(), n.text(71, "noot"), n.text(), n.text(10, "merchant"), n.text(11, "merchant"), n.text(), n.text(72, "noot"), n.text(), n.text(12, "merchant"), n.text(35, "merchant"), n.text(30, "merchant"), n.text(31, "merchant"), n.text(32, "merchant"), n.enableSave(!1), n.function(t.prodigy.player.backpack.consume.bind(t.prodigy.player.backpack, "item", 72, 1)), n.function(this.zone.completeSequence.bind(i.zone, 6, 1)), n.enableSave(!0), n.function(e.process.bind(e)), n.start()
			}, e
		}(i(8).Quest);
	e.ShiverchillQ6 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 5, "QUESTS_SHIVERCHILL_FIND_SHOVEL", {
				type: "item",
				ID: 73,
				N: 1
			}, ["shiverchill-B6"], [17], [70], [18, 2, 19], [{
				type: "gold",
				N: 100
			}, {
				type: "item",
				ID: 72
			}], !1) || this
		}
		return n(e, t), e
	}(i(8).Quest);
	e.ShiverchillQ5 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 4, "QUESTS_SHIVERCHILL_EXPLORE_CAVES", {
				type: "seq",
				N: 2
			}, ["shiverchill-A7"], [12, 13], [69], [14, 15, 2, 16], [{
				type: "gold",
				N: 100
			}, {
				type: "item",
				ID: 75
			}], !1) || this
		}
		return n(e, t), e.prototype.start = function(t, e, i) {
			if (this.zone.isOnSequence(4, 0) && "B8" === i.getTag()) {
				var n = t.prodigy.event.create();
				n.enableInput(!1), n.path(e.user, [{
					x: 250,
					y: 640
				}]), n.function(e.user.chat.bind(e.user, 1, 100)), n.shake(0, 3e3, 10, "v"), n.enableInput(!0), n.text(68, "noot"), n.function(this.zone.completeSequence.bind(i.zone, 4, 0)), n.start()
			} else "A7" === i.getTag() && (this.zone.isQuestComplete(4) || i.npc.highlight(!0, -60, -100));
			return null
		}, e
	}(i(8).Quest);
	e.ShiverchillQ4 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 3, "QUESTS_SHIVERCHILL_ACTIVATE_FURNACE", {
				type: "zgteState",
				ID: "furnace",
				N: 1
			}, ["shiverchill-B10"], [10, 11], [], [0, 1], [{
				type: "spellRelic",
				ID: 4
			}], !1) || this
		}
		return n(e, t), e
	}(i(8).Quest);
	e.ShiverchillQ3 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i, 2, "", {
					type: "item",
					N: 1,
					ID: 71,
					K: !0
				}, ["shiverchill-A9"], [7, 2, 8, 9], [], [0], [{
					type: "gold",
					N: 100
				}], !1) || this;
				return n.monsters = [], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				if (t.prototype.setup.call(this, e, i, n), "A9" === n.getTag()) {
					if (!this.zone.isQuestComplete(2)) {
						var o = {
							randDir: !0,
							highlight: !0,
							encounter: [{
								ID: 122,
								drops: [{
									type: "item",
									ID: 71,
									R: .3
								}]
							}, {
								ID: 78,
								drops: [{
									type: "item",
									ID: 71,
									R: .2
								}]
							}],
							difficulty: 2,
							maxTeamSize: 1
						};
						return this.monsters = [], this.monsters.push(n.addMonster(e, i, 1, 490, 510, !1, o)), this.monsters.push(n.addMonster(e, i, 2, 720, 200, !1, o)), this.monsters.push(n.addMonster(e, i, 3, 1150, 460, !1, o)), this.monsters.push(n.addMonster(e, i, 4, 200, 230, !1, o)), {
							enableMonsters: !1
						}
					}
					if (a.Util.isValid(this.monsters))
						for (var r = 0; r < this.monsters.length; r++) a.Util.isValid(this.monsters[r]) && a.Util.isValid(this.monsters[r].monsterData.drops) && delete this.monsters[r].monsterData.drops
				}
				return null
			}, e
		}(i(8).Quest);
	e.ShiverchillQ2 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this, e, i, 15, "", {
				type: "key",
				N: 1,
				K: !0,
				ID: 4
			}, ["shiverchill-B2"], [36, 37], [], [0], [{
				type: "weapon",
				ID: 74
			}], !1) || this;
			return n.collectionMaps = {
				B2: [1]
			}, n
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			if (t.prototype.setup.call(this, e, i, n), "B2" === n.getTag()) {
				i.addCollect(1, 640, 350, {
					type: "key",
					ID: 4
				})
			}
			return null
		}, e
	}(i(8).Quest);
	e.ShiverchillQ15 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 14, "QUESTS_SHIVERCHILL_ACTIVATE_FURNACE", {
				type: "zgteState",
				ID: "furnace",
				N: 3
			}, ["shiverchill-B10"], [10, 11], [], [0, 1], [{
				type: "spellRelic",
				ID: 6
			}], !1) || this
		}
		return n(e, t), e
	}(i(8).Quest);
	e.ShiverchillQ14 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, i.concat("default-boss-16"), 13, "QUESTS_SHIVERCHILL_DEFEAT_ICE_WORM", {
					type: "seq",
					N: 1
				}, ["shiverchill-A4"], [34, 2, 35], [], [0], [{
					type: "gold",
					N: 100
				}], !1) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), "A4" === n.getTag() ? {
					enableMonsters: !1
				} : null
			}, e.prototype.start = function(t, e, i) {
				return this.zone.isOnSequence(13, 0) && "A4" === i.getTag() && (this.zone.hideFollow(e), this.bossBattle(t, e, i)), null
			}, e.prototype.endBattle = function(t) {
				this.zone.completeSequence(13, 0), t.prodigy.world.teleport("shiverchill-A4", 300, 460)
			}, e.prototype.bossBattle = function(t, e, i) {
				var n = this.zone.getBattle(i, t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMBAT_BOSS_BATTLE"), {
						boss: {
							element: "ice",
							attacks: [62, 63, 65],
							name: t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NPC_NAME_ICE_WORM"),
							difficulty: 4,
							tag: "shiverchill"
						},
						difficulty: 4,
						starMod: 5,
						screen: "battle-shiverchill-inside",
						drops: [{
							ID: 71,
							type: "item"
						}]
					}, this.endBattle.bind(this, t)),
					o = function(t, e, i) {
						var n = e.background.add(t.prodigy.create.sprite(e.user.x, e.user.y, "atlas-21", "crystal"));
						n.anchor.setTo(.5, 1), t.add.tween(n).to({
							x: i
						}, 500, Phaser.Easing.Linear.None).start(), t.add.tween(n).to({
							y: "-50"
						}, 250, Phaser.Easing.Quadratic.Out).to({
							y: "+50"
						}, 250, Phaser.Easing.Quadratic.In).start()
					};
				t.prodigy.network.sendBattleStartTypeEvent("ZoneBossBattle");
				var r = t.prodigy.event.create();
				r.set(e.user, "evtProc", !0), r.enableInput(!1), r.path(e.user, [{
					x: 640,
					y: 530
				}]), r.function(t.prodigy.player.backpack.consume.bind(t.prodigy.player.backpack, "item", 74, 5)), r.function(o.bind(i, t, e, "-50")), r.delay(500), r.path(e.user, [{
					x: 310,
					y: 600
				}]), r.function(o.bind(i, t, e, "-50")), r.delay(500), r.path(e.user, [{
					x: 200,
					y: 430
				}]), r.function(o.bind(i, t, e, "-50")), r.delay(500), r.path(e.user, [{
					x: 250,
					y: 340
				}]), r.function(o.bind(i, t, e, "+50")), r.delay(500), r.path(e.user, [{
					x: 470,
					y: 380
				}]), r.function(o.bind(i, t, e, "+50")), r.delay(500), r.path(e.user, [{
					x: 300,
					y: 460
				}]), r.path(e.user, [{
					x: 301,
					y: 460
				}]), r.delay(500), r.shake(0, 3e3, 10, "v", !0), r.function(e.user.chat.bind(e.user, 1, 100)), r.explode(360, 410, 150, 150, 1, !0), r.delay(700), r.explode(360, 260, 150, 250, 2, !0), r.delay(1e3), r.function(function() {
					var i = t.add.spine(500, 510, "default-boss-16", void 0, e.content);
					i.scale.setTo(.65, .65), i.setAnimationByName(0, "idle", !0)
				}), r.explode(360, 410, 150, 150, 1), r.delay(1500), r.enableInput(!0), r.function(n), r.start()
			}, e
		}(i(8).Quest);
	e.ShiverchillQ13 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this, e, i, 12, "", {
				type: "item",
				ID: 74,
				N: 5,
				K: !0
			}, ["shiverchill-A3", "shiverchill-B3"], [30, 2, 31, 32, 33], [], [0], [{
				type: "outfit",
				ID: 47
			}], !1) || this;
			return n.collectionMaps = {
				A3: [1, 2, 3],
				B3: [4, 5]
			}, n
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			if (t.prototype.setup.call(this, e, i, n), "B3" === n.getTag()) {
				var a = {
					type: "item",
					ID: 74
				};
				i.addCollect(4, 530, 550, a), i.addCollect(5, 860, 525, a)
			} else if ("A3" === n.getTag()) {
				a = {
					type: "item",
					ID: 74
				};
				i.addCollect(1, 980, 160, a), i.addCollect(2, 180, 450, a), i.addCollect(3, 670, 370, a)
			}
			return null
		}, e
	}(i(8).Quest);
	e.ShiverchillQ12 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i.concat("default-boss-16"), 11, "QUESTS_SHIVERCHILL_CHECK_THRONE", {
				type: "seq",
				N: 1
			}, ["shiverchill-B3"], [27, 28], [], [29], [{
				type: "gold",
				N: 100
			}], !1) || this
		}
		return n(e, t), e.prototype.start = function(t, e, i) {
			return this.zone.isOnSequence(11, 0) && "B3" === i.getTag() && this.cutscene(t, e, i), null
		}, e.prototype.cutscene = function(t, e, i) {
			i.boss = t.add.spine(930, 440, "default-boss-16", void 0, e.content), i.boss.visible = !1, i.boss.scale.setTo(.65, .65), i.boss.setAnimationByName(0, "idle", !0);
			var n = e.content.add(t.prodigy.icon.createIcon(770, 400, "icon-item-71")),
				a = e.addNPC(250, 400, "atlas-81");
			a.visible = !1, a.float(!0);
			var o = t.prodigy.event.create();
			o.enableInput(!1), o.path(e.user, [{
				x: 250,
				y: 400
			}]), o.set(a, "visible", !0), o.hop(a, 300, 50, 50), o.enableInput(!0), o.text(74, "noot"), o.enableInput(!1), o.delay(500), o.function(a.chat.bind(a, 1, 100)), o.delay(500), o.path(a, [{
				x: 550,
				y: 450
			}]), o.enableInput(!0), o.text(75, "noot"), o.enableInput(!1), o.path(a, [{
				x: 750,
				y: 500
			}]), o.shake(0, 3e3, 10, "v", !0), o.function(a.chat.bind(a, 1, 100)), o.explode(810, 350, 200, 150, 1, !0), o.delay(500), o.hop(a, 110, -140, 100, !0), o.delay(700), o.explode(810, 200, 200, 250, 2, !0), o.delay(1e3), o.set(i.boss, "visible", !0), o.explode(810, 350, 150, 150, 1), o.delay(1e3), o.shake(0, 3e3, 10, "v", !0), o.explode(810, 350, 200, 150, 1, !0), o.delay(700), o.explode(810, 200, 200, 250, 2, !0), o.delay(700), o.set(i.boss, "visible", !1), o.set(n, "visible", !1), o.explode(810, 350, 150, 150, 1), o.enableInput(!0), o.text(76, "noot"), o.enableInput(!1), o.path(a, [{
				x: 300,
				y: 400
			}]), o.hop(a, 300, -50, 50), o.set(a, "visible", !1), o.enableInput(!0), o.function(this.zone.completeSequence.bind(i.zone, 11, 0)), o.function(e.process.bind(e)), o.start()
		}, e
	}(i(8).Quest);
	e.ShiverchillQ11 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 10, "QUESTS_SHIVERCHILL_ACTIVATE_FURNACE", {
				type: "zgteState",
				ID: "furnace",
				N: 2
			}, ["shiverchill-B10"], [10, 11], [], [0, 1], [{
				type: "spellRelic",
				ID: 5
			}], !1) || this
		}
		return n(e, t), e
	}(i(8).Quest);
	e.ShiverchillQ10 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 1, "", {
				type: "pet",
				ID: 122,
				N: 3,
				U: !0
			}, ["shiverchill-B10"], [3, 4, 5, 6], [], [0], [{
				type: "gold",
				N: 100
			}], !1) || this
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			if (t.prototype.setup.call(this, e, i, n), "B10" === n.getTag()) {
				var a = {
					randDir: !0,
					encounter: [{
						ID: 122
					}],
					difficulty: 1,
					maxTeamSize: 1
				};
				n.addMonster(e, i, 1, 128, 255, !0, a), n.addMonster(e, i, 2, 1150, 480, !0, a), n.addMonster(e, i, 3, 417, 408, !0, a)
			}
			return null
		}, e.prototype.start = function(t, e, i) {
			if ("B10" === i.getTag() && this.zone.isOnSequence(1, 0)) {
				var n = t.prodigy.event.create();
				n.text(67, "noot"), n.function(this.zone.completeSequence.bind(i.zone, 1, 0)), n.start()
			}
			return null
		}, e
	}(i(8).Quest);
	e.ShiverchillQ1 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B9", "MAP_SHIVERCHILL_HIDDEN_ROOM", 645, 500, ["shiverchill-B10"], i.concat(["atlas-121"])) || this;
				return n.battleBG = "battle-shiverchill-inside", n.dailyCoordinates = [{
					x: 680,
					y: 250
				}, {
					x: 280,
					y: 320
				}, {
					x: 945,
					y: 380
				}], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 645,
					y: 650,
					r: 140
				}, "shiverchill-B10", 670, 250, null, a.EAreaEventAngle.DOWN), this.addMonster(e, i, 1, 950, 375, !1, {
					randDir: !0,
					encounter: [{
						ID: 78,
						R: 1
					}, {
						ID: 122,
						R: 1
					}],
					difficulty: 2,
					maxTeamSize: 2
				}), this.addMonster(e, i, 2, 450, 325, !1, {
					randDir: !0,
					encounter: [{
						ID: 78,
						R: 1
					}, {
						ID: 122,
						R: 1
					}],
					difficulty: 2,
					maxTeamSize: 2
				}), this.addChest(e, i, "chest5", 850, 275, [{
					type: "item",
					ID: 2
				}, {
					type: "item",
					ID: 5
				}, {
					type: "item",
					ID: 6
				}, {
					type: "item",
					ID: 7
				}, {
					type: "item",
					ID: 15
				}], null, null)
			}, e
		}(i(25).ShiverchillMap);
	e.ShiverchillB9 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B8", "MAP_SHIVERCHILL_MOUNTAIN_PASS", 100, 550, ["shiverchill-A9", "shiverchill-A7"], i.concat(["atlas-121", "tileset-generic-snow"])) || this;
				return n.battleBG = "battle-shiverchill-outside", n.coord = [new Phaser.Point(1200, 530), new Phaser.Point(820, 400), new Phaser.Point(445, 280)], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 90,
					y: 410,
					r: 80
				}, "shiverchill-A9", 1125, 225, null, a.EAreaEventAngle.UP), this.addAreaEvent(e, i, {
					x: 1090,
					y: 100,
					w: 100,
					h: 70
				}, "shiverchill-A7", 189, 650, null, a.EAreaEventAngle.UP), this.addChest(e, i, "chest2", 750, 200, [{
					type: "hat",
					ID: 55
				}], null, "A"), this.addMonster(e, i, 1, 650, 240, !1, {
					randDir: !0,
					encounter: [{
						ID: 16,
						R: 3
					}, {
						ID: 122,
						R: 1
					}],
					difficulty: 2,
					maxTeamSize: 2,
					range: 22500
				}), this.addMonster(e, i, 2, 1075, 500, !1, {
					randDir: !0,
					encounter: [{
						ID: 16,
						R: 3
					}, {
						ID: 122,
						R: 1
					}],
					difficulty: 2,
					maxTeamSize: 2,
					range: 22500
				})
			}, e
		}(i(25).ShiverchillMap);
	e.ShiverchillB8 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B7", "MAP_SHIVERCHILL_RUINED_PASSAGE", 110, 220, ["shiverchill-A7", "shiverchill-B6"], i.concat(["tileset-minecarts"])) || this;
				return n.battleBG = "battle-shiverchill-inside", n.coord = [new Phaser.Point(320, 260), new Phaser.Point(380, 620)], n.dailyCoordinates = [{
					x: 370,
					y: 540
				}, {
					x: 955,
					y: 400
				}, {
					x: 1190,
					y: 330
				}], n
			}
			return n(e, t), e.prototype.setup = function(i, n, o) {
				t.prototype.setup.call(this, i, n, o), this.addAreaEvent(i, n, {
					x: 1150,
					y: 0,
					w: 280,
					h: 120
				}, "shiverchill-B6", 1060, 610, null, null), this.addAreaEvent(i, n, {
					x: 0,
					y: 250,
					w: 120,
					h: 280
				}, "shiverchill-A7", 1170, 220, null, null);
				var r = this.addMonster(i, n, 1, 95, 645, !1, {
					randDir: !1,
					encounter: [{
						ID: 90,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 1
				});
				if (this.addMonster(i, n, 2, 675, 285, !1, {
						randDir: !1,
						encounter: [{
							ID: 90,
							R: 1
						}],
						difficulty: 2,
						maxTeamSize: 2,
						range: 22500
					}), a.Util.isValid(r)) {
					n.user.evtProc = !0;
					var s = i.add.tween(r).to({
						x: 268
					}, 1500, Phaser.Easing.Linear.None).delay(2e3).start();
					i.add.tween(r).to({
						y: 450
					}, 750, Phaser.Easing.Quadratic.Out).delay(2e3).to({
						y: 500
					}, 750, Phaser.Easing.Quadratic.In).start(), s.onComplete.add(e.startPath.bind(this, n, r))
				}
			}, e.startPath = function(t, e) {
				a.Util.isValid(e) && e.patrol([new Phaser.Point(270, 480), new Phaser.Point(1070, 480)]), t.user.evtProc = !1
			}, e
		}(i(25).ShiverchillMap);
	e.ShiverchillB7 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B6", "MAP_SHIVERCHILL_RUINED_STEPS", 1060, 610, ["shiverchill-A6", "shiverchill-B7"], i.concat(["tileset-minecarts", "tileset-iceruins"])) || this;
				return n.battleBG = "battle-shiverchill-inside", n.coord = [new Phaser.Point(315, 635), new Phaser.Point(650, 600), new Phaser.Point(1100, 230)], n.dailyCoordinates = [{
					x: 1100,
					y: 420
				}, {
					x: 1015,
					y: 110
				}, {
					x: 185,
					y: 400
				}], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1e3,
					y: 720,
					w: 280,
					h: 120
				}, "shiverchill-B7", 1060, 110, null, null), this.addAreaEvent(e, i, {
					x: 0,
					y: 400,
					w: 170,
					h: 280
				}, "shiverchill-A6", 1170, 400, null, null), this.addChest(e, i, "chest1", 545, 280, [{
					type: "item",
					ID: 73
				}, {
					type: "gold",
					N: 250
				}], {
					type: "item",
					ID: 75
				}, "B");
				var o = this.addMonster(e, i, 1, 700, 160, !1, {
					randDir: !1,
					encounter: [{
						ID: 90,
						R: 1
					}],
					difficulty: 2,
					maxTeamSize: 2
				});
				this.addMonster(e, i, 2, 325, 325, !1, {
					randDir: !1,
					encounter: [{
						ID: 90,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 2
				}), a.Util.isValid(o) && o.patrol([new Phaser.Point(700, 160), new Phaser.Point(980, 160), new Phaser.Point(1148, 423), new Phaser.Point(980, 160)])
			}, e
		}(i(25).ShiverchillMap);
	e.ShiverchillB6 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B3", "MAP_SHIVERCHILL_ROYAL_PASSAGE", 110, 280, ["shiverchill-B1", "shiverchill-A3", "shiverchill-B2"], i.concat(["atlas-121", "atlas-81", "tileset-iceruins", "tileset-minecarts"])) || this;
				return n.battleBG = "battle-shiverchill-inside", n.dailyCoordinates = [{
					x: 980,
					y: 250
				}, {
					x: 970,
					y: 400
				}, {
					x: 255,
					y: 490
				}], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 0,
					y: 350,
					w: 150,
					h: 275
				}, "shiverchill-A3", 1160, 230, null, null), this.checkFurnaces(e, i)
			}, e.prototype.checkFurnaces = function(t, e) {
				this.zone.getState("furnace") >= 3 ? (this.zone.smoke(e, 1, 16), this.zone.smoke(e, 27, 16), this.zone.smoke(e, 26, 12), e.addClickableEvent(520, 270, 80, 120, this.zone.doorClick.bind(this, e, 560, 370), null), this.addAreaEvent(t, e, {
					x: 520,
					y: 285,
					w: 90,
					h: 80,
					rect: !0
				}, "shiverchill-B2", 640, 500, null, a.EAreaEventAngle.UP), this.addAreaEvent(t, e, {
					x: 1160,
					y: 90,
					w: 120,
					h: 50
				}, "shiverchill-B1", 200, 630, null, a.EAreaEventAngle.UP)) : (e.addBlock(520, 368, {
					x: .5,
					y: 1,
					atlas: "atlas-121",
					tag: "ice-cubes"
				}), e.addBlock(1160, 175, {
					x: .5,
					y: 1,
					atlas: "atlas-121",
					tag: "ice-cubes"
				}), this.addCollisionZone(e, 460, 60, 160, 220), this.addCollisionZone(e, 1060, 40, 180, 120))
			}, e
		}(i(25).ShiverchillMap);
	e.ShiverchillB3 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B2", "MAP_BONFIRE_SPIRE_THRONE_ROOM", 640, 500, ["shiverchill-B3"], i) || this;
				return n.battleBG = "battle-shiverchill-inside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 675,
					y: 625,
					w: 250,
					h: 100,
					rect: !0
				}, "shiverchill-B3", 560, 415, null, a.EAreaEventAngle.DOWN)
			}, e
		}(i(25).ShiverchillMap);
	e.ShiverchillB2 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B10", "MAP_SHIVERCHILL_FURNACE_ROOM", 235, 575, ["shiverchill-A10"], i.concat(["tileset-minecarts", "atlas-82"])) || this;
				return n.battleBG = "battle-shiverchill-inside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 200,
					y: 700,
					r: 120
				}, "shiverchill-A10", 1160, 230, null, null), this.addAreaEvent(e, i, {
					x: 660,
					y: 200,
					w: 60,
					h: 72,
					rect: !0
				}, "shiverchill-B9", 645, 500, null, null);
				for (var a = [
						[200, 120],
						[440, 240],
						[720, 200],
						[1e3, 240]
					], o = [], r = 0; r < a.length; r++) o.push(i.addClickableEvent(a[r][0], a[r][1], 120, 120, this.furnaceClick.bind(this, e, i, r + 1), null));
				e.prodigy.player.backpack.hasItem("item", 71) > 0 && this.highlightFurnace(o), this.processFurnaces(i)
			}, e.prototype.highlightFurnace = function(t) {
				var e = this.zone.getState("furnace");
				o.Util.isValid(e) ? e < t.length && t[e].highlight(!0) : t[0].highlight(!0)
			}, e.prototype.furnaceClick = function(t, e, i, n) {
				var r = t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					s = this.zone.getState("furnace");
				s === i - 1 || o.Util.isValid(s) || 1 === i || (s = 0);
				var l = t.prodigy.event.create();
				l.validPath(e.user, e.path, n.x + 10, n.y + 170);
				var c = function(t, e, i) {
					var n = e.content.add(t.prodigy.icon.createIcon(e.user.x, e.user.y, i));
					n.anchor.setTo(.5, 1), t.add.tween(n).to({
						x: "+70"
					}, 2e3, Phaser.Easing.Linear.None).to({
						alpha: 0
					}, 10, Phaser.Easing.Linear.None).start(), t.add.tween(n).to({
						y: "-200"
					}, 1e3, Phaser.Easing.Quadratic.Out).to({
						y: "+100"
					}, 1e3, Phaser.Easing.Quadratic.In).start()
				};
				if (s >= i)
					if (t.prodigy.player.backpack.hasItem("item", 79) > 0) {
						for (var h = [{
								type: "item",
								ID: 1
							}, {
								type: "item",
								ID: 2
							}, {
								type: "item",
								ID: 3
							}], u = .5 * Math.random() + .5, p = [], d = Math.floor(1.5 * Math.random() + 1), g = 0; g < d; g++) Math.random() < u ? p.push({
							type: "item",
							ID: 80
						}) : p.push(h[Math.floor(Math.random() * h.length)]);
						l.enableInput(!1), l.enableSave(!1), l.function(t.prodigy.player.backpack.consume.bind(t.prodigy.player.backpack, "item", 79, 1)), l.function(c.bind(this, t, e, "icon-item-79")), l.delay(2200), l.function(t.prodigy.open.gotItem.bind(t.prodigy.open, p)), l.enableInput(!0), l.enableSave(!0)
					} else l.popup(r.getText("SHIVERCHILL_FURNACE_LIT"));
				else i > s + 1 ? l.popup(r.getText("SHIVERCHILL_FURNACE_IN_ORDER")) : t.prodigy.player.backpack.hasItem("item", 71) > 0 ? (l.enableInput(!1), l.enableSave(!1), l.function(t.prodigy.player.backpack.consume.bind(t.prodigy.player.backpack, "item", 71, 1)), l.function(this.zone.setState.bind(this.zone, "furnace", i)), l.function(n.highlight.bind(n, !1)), l.function(c.bind(this, t, e, "icon-item-71")), l.delay(2e3), l.function(this.processFurnaces.bind(this, e)), l.enableSave(!0), l.enableInput(!0), l.function(e.process.bind(e))) : l.popup(r.getText("SHIVERCHILL_FURNACE_FUEL"));
				l.start()
			}, e.prototype.processFurnaces = function(t) {
				var e = this.zone.getState("furnace");
				if (o.Util.isValid(e))
					for (var i = [
							[5, 4],
							[11, 7],
							[18, 6],
							[25, 7]
						], n = 0; n < i.length; n++) {
						var a = i[n][0],
							r = i[n][1];
						e >= n + 1 && (t.floor.add(this.getTile(1042, 40 * a, 40 * r, t.path, t.area, null, !0)), t.floor.add(this.getTile(1043, 40 * (a + 1), 40 * r, t.path, t.area, null, !0)), t.floor.add(this.getTile(2147484690, 40 * (a + 2), 40 * r, t.path, t.area, null, !0)))
					}
			}, e
		}(i(25).ShiverchillMap);
	e.ShiverchillB10 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B1", "MAP_SHIVERCHILL_GATE", 200, 630, ["shiverchill-B3"], i.concat(["atlas-91", "tileset-generic-snow"])) || this;
				return n.battleBG = "battle-shiverchill-outside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 130,
					y: 420,
					r: 80
				}, "shiverchill-B3", 1160, 230, null, a.EAreaEventAngle.UP);
				this.addWizard(e, i, 960, 500, "wizard3", {
					opponent: [{
						appearance: {
							name: "NPC_NAME_GEROME",
							gender: "male",
							hair: {
								style: 19,
								color: 12
							},
							skinColor: 1,
							eyeColor: 4
						},
						equipment: {
							hat: 25,
							outfit: 33,
							weapon: 31
						}
					}],
					pets: [{
						ID: 34,
						difficulty: 3
					}, {
						ID: 119,
						difficulty: 3
					}],
					difficulty: 4
				}, !0), this.addMonster(e, i, 1, 650, 625, !1, {
					randDir: !0,
					encounter: [{
						ID: 50,
						R: 3
					}, {
						ID: 16,
						R: 1
					}, {
						ID: 122,
						R: 1
					}],
					difficulty: 4,
					maxTeamSize: 2
				}), this.addMonster(e, i, 2, 800, 350, !1, {
					randDir: !0,
					encounter: [{
						ID: 50,
						R: 3
					}, {
						ID: 16,
						R: 1
					}, {
						ID: 122,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 3
				})
			}, e
		}(i(25).ShiverchillMap);
	e.ShiverchillB1 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "A9", "MAP_SHIVERCHILL_TREASURE_ROOM", 200, 550, ["shiverchill-A10", "shiverchill-B8"], i.concat(["atlas-121", "tileset-minecarts", "atlas-82"])) || this;
				return n.battleBG = "battle-shiverchill-inside", n.dailyCoordinates = [{
					x: 125,
					y: 510
				}, {
					x: 925,
					y: 260
				}, {
					x: 620,
					y: 340
				}], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 200,
					y: 720,
					w: 280,
					h: 200
				}, "shiverchill-A10", 221, 200, null, a.EAreaEventAngle.DOWN), this.setupFrozenLoot(e, i), this.addMonster(e, i, 1, 225, 275, !1, {
					randDir: !0,
					encounter: [{
						ID: 78,
						R: 1
					}, {
						ID: 122,
						R: 1
					}],
					difficulty: 1,
					maxTeamSize: 1,
					range: 22500
				}), this.addMonster(e, i, 2, 525, 450, !1, {
					randDir: !0,
					encounter: [{
						ID: 78,
						R: 1
					}, {
						ID: 122,
						R: 1
					}],
					difficulty: 2,
					maxTeamSize: 1,
					range: 22500
				}), this.addMonster(e, i, 3, 775, 250, !1, {
					randDir: !0,
					encounter: [{
						ID: 78,
						R: 1
					}, {
						ID: 122,
						R: 1
					}],
					difficulty: 1,
					maxTeamSize: 2,
					range: 22500
				}), this.addMonster(e, i, 4, 1150, 460, !1, {
					randDir: !0,
					encounter: [{
						ID: 78,
						R: 1
					}, {
						ID: 122,
						R: 1
					}],
					difficulty: 1,
					maxTeamSize: 2
				}), this.checkFurnace(e, i)
			}, e.prototype.setupFrozenLoot = function(t, e) {
				var i = e.content.add(new Phaser.Image(t, 1050, 550, "atlas-121", "frozen-loot"));
				i.anchor.setTo(.5, 1), i.visible = !1, this.zone.getState("furnace") >= 4 ? (this.zone.smoke(e, 22, 12), this.zone.smoke(e, 16, 14), this.addChest(t, e, "chest6", 1050, 550, [{
					type: "weapon",
					ID: 73
				}], null, "A")) : i.visible = !0
			}, e.prototype.checkFurnace = function(t, e) {
				this.zone.getState("furnace") >= 1 && (this.zone.smoke(e, 31, 4), this.addAreaEvent(t, e, {
					x: 1120,
					y: 130,
					w: 150,
					h: 80
				}, "shiverchill-B8", 100, 550, null, a.EAreaEventAngle.UP)), e.addClickableEvent(160, 40, 80, 80, this.zone.doorClick.bind(this, e, 200, 100), null), this.zone.getState("furnace") >= 2 && (this.zone.smoke(e, 12, 7), this.addAreaEvent(t, e, {
					x: 150,
					y: 75,
					w: 100,
					h: 80,
					rect: !0
				}, "shiverchill-A6", 980, 335, null, a.EAreaEventAngle.UP)), this.zone.getState("furnace") <= 1 && (e.addBlock(150, 150, {
					x: .5,
					y: 1,
					atlas: "atlas-121",
					tag: "ice-cubes"
				}), this.addCollisionZone(e, 80, 0, 120, 80)), this.zone.getState("furnace") < 1 && (e.addBlock(1070, 250, {
					x: .5,
					y: 1,
					atlas: "atlas-121",
					tag: "ice-cubes"
				}), e.addBlock(1155, 285, {
					x: .5,
					y: 1,
					atlas: "atlas-121",
					tag: "ice-cubes"
				}), this.addCollisionZone(e, 1e3, 80, 180, 140))
			}, e
		}(i(25).ShiverchillMap);
	e.ShiverchillA9 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "A7", "MAP_SHIVERCHILL_RUINED_ENTRANCE", 189, 650, ["shiverchill-B7", "shiverchill-B8"], i.concat(["atlas-76", "atlas-121", "tileset-minecarts"])) || this;
				return n.battleBG = "battle-shiverchill-inside", n.coord = [new Phaser.Point(1e3, 360), new Phaser.Point(720, 600)], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 160,
					y: 520,
					r: 100
				}, "shiverchill-B8", 1100, 200, null, a.EAreaEventAngle.UP), this.addAreaEvent(e, i, {
					x: 1280,
					y: 250,
					w: 120,
					h: 280
				}, "shiverchill-B7", 110, 220, null, null), this.setupNPC(e, i);
				var r = this.zone.getQuestState();
				o.Util.isValid(this.zone) && (!o.Util.isValid(r) || r.ID < 7 && !this.zone.isQuestComplete(6)) && (this.block = i.addBlock(385, 325, {
					x: .5,
					y: 1,
					atlas: "atlas-121",
					tag: "ice-small",
					content: !0
				}), this.addCollisionZone(i, 340, 280, 100, 60))
			}, e.prototype.setupNPC = function(t, e) {
				this.npc = e.addNPC(378, 313, "atlas-76", this.chatWithMerchant.bind(this, t, e), "NPC_NAME_MINER"), this.npc.flip(), this.npc.animate("stand"), this.npc.showName();
				var i = e.content.add(t.prodigy.create.sprite(350, 100, "atlas-21", "map-quest"));
				t.prodigy.animation.float(i, 20, 1400, !0, !0)
			}, e.prototype.chatWithMerchant = function(t, e) {
				var i = t.prodigy.event.create();
				this.zone.isOnQuest(4) || this.zone.isOnQuest(5) ? (i.enableInput(!1), i.validPath(e.user, e.path, 324, 348), i.enableInput(!0), i.function(e.user.faceToward.bind(e.user, this.npc.x)), this.zone.isOnSequence(4, 1) ? (i.function(this.npc.highlight.bind(this.npc, !1)), i.text(7, "merchant"), i.text(8, "merchant"), i.function(this.zone.completeSequence.bind(this.zone, 4, 1)), i.function(e.process.bind(e))) : i.text(8, "merchant")) : this.zone.isOnQuest(6) ? i.text(12, "merchant") : this.zone.getQuestState().ID >= 6 && (0 === t.prodigy.player.backpack.hasItem("item", 80) ? (i.text(27, "merchant"), i.text(30, "merchant"), i.text(31, "merchant"), i.text(32, "merchant")) : t.prodigy.player.backpack.hasItem("item", 80) < 5 ? (i.text(27, "merchant"), i.text(19, "merchant"), 4 === t.prodigy.player.backpack.hasItem("item", 80) && i.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 80) > 4 && this.zone.getState("daily").rewards < 5 ? (i.text(26, "merchant"), i.enableSave(!1), i.function(this.zone.setState.bind(this.zone, "daily", {
					date: this.zone.getState("daily").date,
					flags: this.zone.getState("daily").flags,
					rewards: 5
				})), i.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [{
					type: "item",
					ID: 76,
					N: 5
				}], function() {
					i.text(20, "merchant"), i.start()
				})), i.enableSave(!0)) : t.prodigy.player.backpack.hasItem("item", 80) > 4 && t.prodigy.player.backpack.hasItem("item", 80) < 10 && this.zone.getState("daily").rewards > 4 ? (i.text(27, "merchant"), i.text(20, "merchant"), 9 === t.prodigy.player.backpack.hasItem("item", 80) && i.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 80) > 9 && this.zone.getState("daily").rewards < 10 ? (i.text(26, "merchant"), i.enableSave(!1), i.function(this.zone.setState.bind(this.zone, "daily", {
					date: this.zone.getState("daily").date,
					flags: this.zone.getState("daily").flags,
					rewards: 10
				})), i.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [{
					type: "item",
					ID: 77,
					N: 10
				}], function() {
					i.text(21, "merchant"), i.start()
				})), i.enableSave(!0)) : t.prodigy.player.backpack.hasItem("item", 80) > 9 && t.prodigy.player.backpack.hasItem("item", 80) < 25 && this.zone.getState("daily").rewards > 9 ? (i.text(27, "merchant"), i.text(21, "merchant"), 24 === t.prodigy.player.backpack.hasItem("item", 80) && i.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 80) > 24 && this.zone.getState("daily").rewards < 25 ? (i.text(26, "merchant"), i.enableSave(!1), i.function(this.zone.setState.bind(this.zone, "daily", {
					date: this.zone.getState("daily").date,
					flags: this.zone.getState("daily").flags,
					rewards: 25
				})), i.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [{
					type: "hat",
					ID: 10
				}], function() {
					i.text(22, "merchant"), i.start()
				})), i.enableSave(!0)) : t.prodigy.player.backpack.hasItem("item", 80) > 24 && t.prodigy.player.backpack.hasItem("item", 80) < 50 && this.zone.getState("daily").rewards > 24 ? (i.text(27, "merchant"), i.text(22, "merchant"), 49 === t.prodigy.player.backpack.hasItem("item", 80) && i.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 80) > 49 && this.zone.getState("daily").rewards < 50 ? (i.text(26, "merchant"), i.enableSave(!1), i.function(this.zone.setState.bind(this.zone, "daily", {
					date: this.zone.getState("daily").date,
					flags: this.zone.getState("daily").flags,
					rewards: 50
				})), i.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [{
					type: "outfit",
					ID: 6
				}], function() {
					i.text(23, "merchant"), i.start()
				})), i.enableSave(!0)) : t.prodigy.player.backpack.hasItem("item", 80) > 49 && t.prodigy.player.backpack.hasItem("item", 80) < 75 && this.zone.getState("daily").rewards > 49 ? (i.text(27, "merchant"), i.text(23, "merchant"), 74 === t.prodigy.player.backpack.hasItem("item", 80) && i.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 80) > 74 && this.zone.getState("daily").rewards < 75 ? (i.text(26, "merchant"), i.enableSave(!1), i.function(this.zone.setState.bind(this.zone, "daily", {
					date: this.zone.getState("daily").date,
					flags: this.zone.getState("daily").flags,
					rewards: 75
				})), i.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [{
					type: "weapon",
					ID: 13
				}], function() {
					i.text(24, "merchant"), i.start()
				})), i.enableSave(!0)) : t.prodigy.player.backpack.hasItem("item", 80) > 74 && t.prodigy.player.backpack.hasItem("item", 80) < 99 && this.zone.getState("daily").rewards > 74 ? (i.text(27, "merchant"), i.text(24, "merchant"), 98 === t.prodigy.player.backpack.hasItem("item", 80) && i.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 80) > 98 && this.zone.getState("daily").rewards < 99 ? (i.text(26, "merchant"), i.enableSave(!1), i.function(this.zone.setState.bind(this.zone, "daily", {
					date: this.zone.getState("daily").date,
					flags: this.zone.getState("daily").flags,
					rewards: 99
				})), i.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [{
					type: "hat",
					ID: 56
				}])), i.enableSave(!0)) : i.text(36, "merchant")), i.start()
			}, e
		}(i(25).ShiverchillMap);
	e.ShiverchillA7 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "A6", "MAP_SHIVERCHILL_RAIL_RUINS", 1170, 400, ["shiverchill-A5", "shiverchill-B6"], i.concat(["atlas-121", "tileset-minecarts", "tileset-iceruins", "atlas-91"])) || this;
				return n.battleBG = "battle-shiverchill-inside", n.coord = [new Phaser.Point(645, 230), new Phaser.Point(920, 555)], n.dailyCoordinates = [{
					x: 1010,
					y: 480
				}, {
					x: 300,
					y: 480
				}, {
					x: 520,
					y: 220
				}], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1280,
					y: 400,
					w: 120,
					h: 280
				}, "shiverchill-B6", 110, 400, null, null);
				i.addCollect(1, 674, 245, {
					type: "item",
					ID: 71
				}), this.addMonster(e, i, 1, 770, 415, !1, {
					encounter: [{
						ID: 90,
						R: 1
					}],
					difficulty: 4,
					maxTeamSize: 1,
					range: 22500
				});
				this.addWizard(e, i, 350, 370, "wizard2", {
					opponent: [{
						appearance: {
							name: "NPC_NAME_RUTHERFORD",
							gender: "male",
							hair: {
								style: 16,
								color: 3
							},
							skinColor: 1,
							eyeColor: 4
						},
						equipment: {
							hat: 1,
							outfit: 3,
							weapon: 1
						}
					}],
					pets: [{
						ID: 91,
						difficulty: 2
					}, {
						ID: 39,
						difficulty: 2
					}],
					difficulty: 3
				}, !1), this.checkFurnaces(e, i)
			}, e.prototype.checkFurnaces = function(t, e) {
				this.zone.getState("furnace") >= 2 ? (this.zone.smoke(e, 12, 13), e.addClickableEvent(120, 160, 120, 80, this.zone.doorClick.bind(this, e, 160, 260), null), this.addAreaEvent(t, e, {
					x: 160,
					y: 170,
					w: 80,
					h: 190,
					rect: !0
				}, "shiverchill-A5", 1180, 650, null, a.EAreaEventAngle.UP), e.addClickableEvent(960, 200, 80, 80, this.zone.doorClick.bind(this, e, 1e3, 260), null), this.addAreaEvent(t, e, {
					x: 980,
					y: 240,
					w: 70,
					h: 72,
					rect: !0
				}, "shiverchill-A9", 145, 170, null, a.EAreaEventAngle.UP)) : (e.addBlock(160, 300, {
					x: .5,
					y: 1,
					atlas: "atlas-121",
					tag: "ice-cubes"
				}), e.addBlock(983, 327, {
					x: .5,
					y: 1,
					atlas: "atlas-121",
					tag: "ice-cubes"
				}), this.addCollisionZone(e, 80, 80, 160, 200), this.addCollisionZone(e, 920, 200, 100, 100))
			}, e
		}(i(25).ShiverchillMap);
	e.ShiverchillA6 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "A5", "MAP_SHIVERCHILL_MOUNTAIN_VALLEY", 1180, 650, ["shiverchill-A4", "shiverchill-A6"], i.concat(["tileset-generic-snow"])) || this;
				return n.battleBG = "battle-shiverchill-outside", n.coord = [new Phaser.Point(100, 540), new Phaser.Point(700, 350), new Phaser.Point(1025, 150)], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1160,
					y: 530,
					r: 60
				}, "shiverchill-A6", 160, 330, null, a.EAreaEventAngle.UP), this.addAreaEvent(e, i, {
					x: 130,
					y: 100,
					w: 100,
					h: 90
				}, "shiverchill-A4", 1160, 610, null, a.EAreaEventAngle.UP), this.addChest(e, i, "chest4", 560, 320, [{
					type: "outfit",
					ID: 48
				}], null, "A"), this.addMonster(e, i, 1, 525, 500, !1, {
					randDir: !0,
					encounter: [{
						ID: 50,
						R: 3
					}, {
						ID: 16,
						R: 1
					}, {
						ID: 122,
						R: 1
					}],
					difficulty: 5,
					maxTeamSize: 1
				}), this.addMonster(e, i, 2, 350, 275, !1, {
					randDir: !0,
					encounter: [{
						ID: 50,
						R: 3
					}, {
						ID: 16,
						R: 1
					}, {
						ID: 122,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 2
				})
			}, e
		}(i(25).ShiverchillMap);
	e.ShiverchillA5 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "A4", "MAP_SHIVERCHILL_WORMS_REST", 1160, 610, ["shiverchill-A3", "shiverchill-A5"], i.concat(["atlas-121"])) || this;
				return n.battleBG = "battle-shiverchill-inside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 220,
					y: 0,
					w: 240,
					h: 75
				}, "shiverchill-A3", 220, 650, null, null), this.addAreaEvent(e, i, {
					x: 1160,
					y: 510,
					r: 60
				}, "shiverchill-A5", 160, 200, null, a.EAreaEventAngle.UP), this.addMonster(e, i, 1, 500, 300, !1, {
					randDir: !0,
					encounter: [{
						ID: 87,
						R: 1
					}, {
						ID: 122,
						R: 1
					}, {
						ID: 78,
						R: 1
					}],
					difficulty: 4,
					maxTeamSize: 2
				}), this.addMonster(e, i, 2, 325, 525, !1, {
					randDir: !0,
					encounter: [{
						ID: 87,
						R: 1
					}, {
						ID: 122,
						R: 1
					}, {
						ID: 78,
						R: 1
					}],
					difficulty: 4,
					maxTeamSize: 2
				}), this.addMonster(e, i, 3, 900, 400, !1, {
					randDir: !0,
					encounter: [{
						ID: 87,
						R: 1
					}, {
						ID: 122,
						R: 1
					}, {
						ID: 16,
						R: 3
					}],
					difficulty: 3,
					maxTeamSize: 3,
					range: 22500
				})
			}, e
		}(i(25).ShiverchillMap);
	e.ShiverchillA4 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this, e, "A3", "MAP_SHIVERCHILL_FROZEN_PASS", 200, 630, ["shiverchill-A2", "shiverchill-A4", "shiverchill-B3"], i.concat(["atlas-121", "tileset-minecarts"])) || this;
			return n.battleBG = "battle-shiverchill-inside", n.coord = [new Phaser.Point(700, 380), new Phaser.Point(1150, 130)], n.dailyCoordinates = [{
				x: 1100,
				y: 210
			}, {
				x: 485,
				y: 240
			}, {
				x: 390,
				y: 540
			}], n
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
				x: 1275,
				y: 235,
				w: 150,
				h: 240
			}, "shiverchill-B3", 100, 290, null, null), this.addAreaEvent(e, i, {
				x: 222,
				y: 700,
				w: 240,
				h: 75
			}, "shiverchill-A4", 220, 80, null, null), this.addMonster(e, i, 1, 775, 375, !1, {
				randDir: !0,
				encounter: [{
					ID: 87,
					R: 1
				}, {
					ID: 122,
					R: 1
				}, {
					ID: 78,
					R: 1
				}],
				difficulty: 4,
				maxTeamSize: 2
			}), this.addMonster(e, i, 3, 925, 125, !1, {
				randDir: !0,
				encounter: [{
					ID: 87,
					R: 1
				}, {
					ID: 122,
					R: 1
				}, {
					ID: 78,
					R: 1
				}],
				difficulty: 3,
				maxTeamSize: 3
			}), this.addMonster(e, i, 4, 200, 300, !1, {
				randDir: !0,
				encounter: [{
					ID: 87,
					R: 1
				}, {
					ID: 122,
					R: 1
				}, {
					ID: 50,
					R: 3
				}],
				difficulty: 3,
				maxTeamSize: 3
			}), this.checkFurnaces(e, i)
		}, e.prototype.checkFurnaces = function(t, e) {
			this.zone.getState("furnace") >= 3 ? (this.zone.smoke(e, 13, 3), this.addAreaEvent(t, e, {
				x: 120,
				y: 100,
				w: 150,
				h: 150
			}, "shiverchill-A2", 1150, 360, null, null)) : (e.addBlock(135, 240, {
				x: .5,
				y: 1,
				atlas: "atlas-121",
				tag: "ice-cubes"
			}), this.addCollisionZone(e, 60, 60, 120, 100))
		}, e
	}(i(25).ShiverchillMap);
	e.ShiverchillA3 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "A2", "MAP_SHIVERCHILL_THE_CHASM", 1150, 360, ["shiverchill-A3"], i.concat(["tileset-generic-snow", "atlas-91"])) || this;
				return n.battleBG = "battle-shiverchill-outside", n.dailyCoordinates = [{
					x: 840,
					y: 320
				}, {
					x: 565,
					y: 450
				}], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1130,
					y: 280,
					r: 80
				}, "shiverchill-A3", 100, 230, null, a.EAreaEventAngle.UP), this.addChest(e, i, "chest3", 530, 370, [{
					type: "item",
					ID: 71
				}], null, "A");
				this.addWizard(e, i, 460, 360, "wizard4", {
					screen: "battle-shiverchill-outside",
					opponent: [{
						appearance: {
							name: "NPC_NAME_FIRIA",
							gender: "female",
							hair: {
								style: 4,
								color: 12
							},
							skinColor: 1,
							eyeColor: 4
						},
						equipment: {
							hat: 8,
							outfit: 34,
							weapon: 56
						}
					}],
					pets: [{
						ID: 79,
						difficulty: 3
					}, {
						ID: 61,
						difficulty: 3
					}],
					difficulty: 4
				}, !1), this.addMonster(e, i, 1, 750, 550, !1, {
					randDir: !0,
					encounter: [{
						ID: 50,
						R: 3
					}, {
						ID: 16,
						R: 1
					}, {
						ID: 122,
						R: 1
					}],
					difficulty: 4,
					maxTeamSize: 2,
					range: 22500
				}), this.addMonster(e, i, 2, 875, 350, !1, {
					randDir: !0,
					encounter: [{
						ID: 50,
						R: 3
					}, {
						ID: 16,
						R: 1
					}, {
						ID: 122,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 3,
					range: 22500
				})
			}, e
		}(i(25).ShiverchillMap);
	e.ShiverchillA2 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "A11", "MAP_SHIVERCHILL_BORDERLAND", 1100, 220, ["shiverchill-A10"], i.concat(["atlas-91", "tileset-generic-snow"])) || this;
				return n.battleBG = "battle-shiverchill-outside", n.coord = [new Phaser.Point(640, 560), new Phaser.Point(785, 230), new Phaser.Point(350, 400)], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1100,
					y: 130,
					w: 160,
					h: 100
				}, "shiverchill-A10", 125, 650, null, a.EAreaEventAngle.UP);
				this.addWizard(e, i, 474, 414, "wizard1", {
					opponent: [{
						appearance: {
							name: "NPC_NAME_IVIRA",
							gender: "female",
							hair: {
								style: 1,
								color: 3
							},
							skinColor: 1,
							eyeColor: 4
						},
						equipment: {
							hat: 1,
							outfit: 3,
							weapon: 1
						}
					}],
					pets: [{
						ID: 17,
						difficulty: 1
					}, {
						ID: 18,
						difficulty: 1
					}],
					difficulty: 2
				}, !1)
			}, e
		}(i(25).ShiverchillMap);
	e.ShiverchillA11 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(45),
		r = i(3),
		s = function(t) {
			function e(e, i) {
				return t.call(this, e, "A10", "MAP_SHIVERCHILL_BOKS_CAVE", 125, 650, ["shiverchill-B10", "shiverchill-A11", "shiverchill-A9"], i.concat(["atlas-76", "atlas-62", "tileset-shiverchill"])) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 120,
					y: 520,
					r: 80
				}, "shiverchill-A11", 1100, 220, null, r.EAreaEventAngle.UP), this.addAreaEvent(e, i, {
					x: 220,
					y: 0,
					w: 300,
					h: 200
				}, "shiverchill-A9", 200, 550, null, r.EAreaEventAngle.UP), this.addAreaEvent(e, i, {
					x: 1140,
					y: 150,
					w: 100,
					h: 80,
					rect: !0
				}, "shiverchill-B10", 235, 575, null, r.EAreaEventAngle.UP), i.addClickableEvent(1120, 40, 80, 120, this.zone.doorClick.bind(this, i, 1160, 160), null);
				i.addQuestNPC(680, 390, "bok", !1, function(t) {
					var e = t.prodigy.event.create();
					e.text(0, "bok"), e.start()
				}.bind(this, e)), i.createStoreNPC(400, 350, 8, e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("STORE_SNOWDAY_SALES"), !1), new o.ToyMerchant(e, i.content, 932, 365)
			}, e
		}(i(25).ShiverchillMap);
	e.ShiverchillA10 = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(120),
		o = i(0),
		r = i(32),
		s = i(506),
		l = i(505),
		c = i(504),
		h = i(503),
		u = i(502),
		p = i(501),
		d = i(500),
		g = i(499),
		f = i(498),
		y = i(497),
		m = i(496),
		_ = i(495),
		v = i(494),
		E = i(493),
		b = i(492),
		O = i(491),
		I = i(490),
		T = i(489),
		A = i(488),
		C = i(487),
		S = i(486),
		w = i(485),
		D = i(484),
		P = i(483),
		L = i(482),
		x = i(481),
		M = i(480),
		U = i(479),
		N = i(478),
		R = i(477),
		k = i(476),
		B = i(475),
		G = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				i.name = "Shiverchill Mountains", i.ID = "shiverchill", i.battleBG = "battle-shiverchill-inside", i.onFaint = "shiverchill-A10", i.questHub = "shiverchill-A10", i.bgmID = 17, i.currency = 15, i.states = ["chest1", "chest2", "chest3", "chest4", "chest5", "wizard1", "wizard2", "wizard3", "wizard4", "furnace", "chest6", "daily"], i.monsters = [16, 50, 122, 78, 87];
				var n = ["tileset-icecave-new", "tileset-collisions", "tileset-ship-exterior", "tileset-water-new", "bgm-17"];
				return i.maps = {
					A11: new l.ShiverchillA11(i, n),
					A10: new s.ShiverchillA10(i, n),
					A9: new f.ShiverchillA9(i, n),
					A7: new g.ShiverchillA7(i, n),
					A6: new d.ShiverchillA6(i, n),
					A5: new p.ShiverchillA5(i, n),
					B3: new v.ShiverchillB3(i, n),
					B6: new E.ShiverchillB6(i, n),
					B7: new b.ShiverchillB7(i, n),
					B8: new O.ShiverchillB8(i, n),
					B9: new I.ShiverchillB9(i, n),
					B10: new m.ShiverchillB10(i, n),
					A4: new u.ShiverchillA4(i, n),
					A2: new c.ShiverchillA2(i, n),
					A3: new h.ShiverchillA3(i, n),
					B2: new _.ShiverchillB2(i, n),
					B1: new y.ShiverchillB1(i, n)
				}, i.quests = {
					1: new T.ShiverchillQ1(i, []),
					2: new L.ShiverchillQ2(i, []),
					3: new x.ShiverchillQ3(i, []),
					4: new M.ShiverchillQ4(i, []),
					5: new U.ShiverchillQ5(i, []),
					6: new N.ShiverchillQ6(i, []),
					7: new R.ShiverchillQ7(i, []),
					8: new k.ShiverchillQ8(i, []),
					9: new B.ShiverchillQ9(i, []),
					10: new A.ShiverchillQ10(i, []),
					11: new C.ShiverchillQ11(i, []),
					12: new S.ShiverchillQ12(i, []),
					13: new w.ShiverchillQ13(i, []),
					14: new D.ShiverchillQ14(i, []),
					15: new P.ShiverchillQ15(i, [])
				}, i
			}
			return n(e, t), e.prototype.placeDaily = function(t, e, i) {
				if (o.Util.isValid(this.getQuestState()) && this.getQuestState().ID > 6 && e.prodigy.player.backpack.hasItem("item", 80) < 99) {
					for (var n = void 0, r = void 0, s = this.getDailyMaps(), l = new a.SeededRandomGenerator(this.getState("daily").date), c = 0; c < 5; c++)
						if (s[Math.floor(l.jumpFromStart(c) * (s.length - 1))] === t.tag) {
							var h = this.getState("daily").flags;
							o.Util.isValid(h[c].x) && (n = h[c].x, r = h[c].y)
						} if (!o.Util.isValid(n)) {
						var u = t.dailyCoordinates[Math.floor(Math.random() * t.dailyCoordinates.length)];
						n = u.x, r = u.y;
						for (c = 0; c < 5; c++) {
							if (s[Math.floor(l.jumpFromStart(c) * (s.length - 1))] === t.tag)(h = this.getState("daily").flags)[c] = {
								x: n,
								y: r
							}, this.setState("daily", {
								date: this.getState("daily").date,
								flags: h,
								rewards: this.getState("daily").rewards
							})
						}
					}
					this.ice = i.addClickableEvent(n, r, 60, 60, this.frozenSomethingOnClick.bind(this, i, t), null), this.ice.add(e.prodigy.create.sprite(-10, -10, "atlas-121", "frozen-something"))
				}
			}, e.prototype.frozenSomethingOnClick = function(t, e) {
				var i = this.game.prodigy.event.create();
				i.validPath(t.user, t.path, this.ice.x + 20, this.ice.y + 40), i.set(t.user, "evtProc", !0), i.function(this.interactFrozenSomething.bind(this, e)), i.set(t.user, "evtProc", !1), i.start()
			}, e.prototype.interactFrozenSomething = function(t) {
				var e = this.getDailyMaps();
				this.ice.destroy(), this.game.prodigy.open.gotItem([{
					type: "item",
					ID: 79
				}]);
				for (var i = new a.SeededRandomGenerator(this.getState("daily").date), n = 0; n < 5; n++)
					if (e[Math.floor(i.jumpFromStart(n) * (e.length - 1))] === t.tag) {
						var o = this.getState("daily").flags;
						o[n] = 0, this.setState("daily", {
							date: this.getState("daily").date,
							flags: o,
							rewards: this.getState("daily").rewards
						})
					}
			}, e.prototype.getDailyMaps = function() {
				var t = [];
				for (var e in this.maps) o.Util.isValid(this.maps[e].dailyCoordinates) && t.push(e);
				return t
			}, e.prototype.smoke = function(t, e, i) {
				for (var n = 0; n < 4; n++) {
					var a = this.game.prodigy.create.sprite(40 * e + 20, 40 * i + 20, "atlas-19", "smoke");
					t.foreground.add(a), a.anchor.setTo(.5, .5), a.scale.x = a.scale.y = .1, a.alpha = 1, this.game.add.tween(a).to({
						y: a.y - 150,
						alpha: 0
					}, 2e3, Phaser.Easing.Linear.None, !1, 0, 1e3, !1).delay(500 * n).start(), this.game.add.tween(a.scale).to({
						x: .75,
						y: .75
					}, 2e3, Phaser.Easing.Linear.None, !1, 0, 1e3, !1).delay(500 * n).start()
				}
			}, e.prototype.doorClick = function(t, e, i) {
				t.user.setValidPath(t.path, e, i, null)
			}, e
		}(r.Zone);
	e.ShiverchillZone = G
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this, e, i, 9, "QUESTS_SHIPWRECK_OPEN_DOOR", {
				type: "seq",
				N: 1
			}, ["shipwreck_shore-B6"], [39, 40, 41], [], [], [{
				type: "gold",
				N: 200
			}, {
				type: "hat",
				ID: 80
			}], !1, "eve", "eve", []) || this;
			return n.door = null, n
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			return t.prototype.setup.call(this, e, i, n), "B6" === n.getTag() && this.zone.isOnSequence(9, 0) ? (this.door = e.prodigy.create.element(i.above, 1160, 340), this.door.highlight(!0, 0, 0), {
				doorIsLockedCallback: this.startSequenceA.bind(this, e, i)
			}) : {}
		}, e.prototype.startSequenceA = function(t, e, i) {
			var n = t.prodigy.event.create();
			n.function(this.door.highlight.bind(this.door, !1)), n.text(176, "noot"), n.function(this.zone.completeSequence.bind(this.zone, 9, 0)), n.function(e.process.bind(e)), n.start()
		}, e
	}(i(8).Quest);
	e.ShipwreckShoreQ9 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i, 8, "", {
					type: "pet",
					ID: 119,
					U: !0,
					N: 4
				}, ["shipwreck_shore-B8"], [35, 36, 37], [], [38, 0], [{
					type: "gold",
					N: 200
				}], !1, "eve", "eve", []) || this;
				return n.questParams = {}, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.updateQuestArea(!1);
				var o = n.getTag(),
					r = {
						randDir: !0,
						encounter: [{
							ID: 119
						}],
						difficulty: 4,
						maxTeamSize: 1,
						onEnc: this.updateQuestArea.bind(this, !0)
					};
				if (-1 !== this.area.indexOf(n.zoneName)) {
					if ("B8" === o) return n.addMonster(e, i, 1, 775, 325, !0, r, !1), n.addMonster(e, i, 2, 420, 485, !0, r, !1), {
						enableMonsters: !1
					};
					if ("B7" === o) return n.addMonster(e, i, 3, 926, 305, !0, r, !1), n.addMonster(e, i, 4, 650, 475, !0, r, !1), {
						enableMonsters: !1
					}
				}
				if (a.Util.isValid(this.questParams.enableMonsters)) return this.questParams = {}, {
					enableMonsters: !1
				}
			}, e.prototype.updateQuestArea = function(t) {
				this.isMapB7Cleared() ? (this.area = ["shipwreck_shore-B12"], t && (this.questParams.enableMonsters = !1)) : this.isMapB8Cleared() && -1 === this.area.indexOf("shipwreck_shore-B7") && (this.area = ["shipwreck_shore-B7"])
			}, e.prototype.isMapB8Cleared = function() {
				var t = this.zone.getQuestState();
				return !(!a.Util.isValid(t) || !a.Util.isValid(t.req)) && (1 === t.state[1] && 1 === t.state[2])
			}, e.prototype.isMapB7Cleared = function() {
				var t = this.zone.getQuestState();
				return !(!a.Util.isValid(t) || !a.Util.isValid(t.req)) && (1 === t.state[3] && 1 === t.state[4])
			}, e
		}(i(8).Quest);
	e.ShipwreckShoreQ8 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i.concat("icon-item-113"), 7, "", {
				type: "item",
				ID: 113,
				N: 3
			}, ["shipwreck_shore-A2"], [32, 33, 34], [], [0, 17], [{
				type: "gold",
				N: 200
			}, {
				type: "spellRelic",
				ID: 11
			}], !1, "eve", "eve", []) || this
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			return t.prototype.setup.call(this, e, i, n), "A2" === n.getTag() ? (i.addCollect(1, 880, 480, {
				type: "item",
				ID: 113
			}), i.addCollect(2, 960, 320, {
				type: "item",
				ID: 113
			}), i.addCollect(3, 400, 520, {
				type: "item",
				ID: 113
			}), {
				enableMonsters: !1
			}) : {}
		}, e
	}(i(8).Quest);
	e.ShipwreckShoreQ7 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this, e, i.concat("atlas-120", "sfx-20"), 6, "QUESTS_SHIPWRECK_FIND_JIM", {
				type: "seq",
				N: 2
			}, ["shipwreck_shore-C9"], [28, 29, 30, 31], [], [0], [{
				type: "gold",
				N: 200
			}, {
				type: "outfit",
				ID: 61
			}], !1, "eve", "eve", []) || this;
			return n.cameraButton = null, n
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			return t.prototype.setup.call(this, e, i, n), this.updateQuestArea(), "C9" === n.getTag() && this.zone.isOnSequence(6, 0) ? {
				enableMonsters: !1
			} : {}
		}, e.prototype.start = function(e, i, n) {
			return t.prototype.start.call(this, e, i, n), "C9" === n.getTag() && this.zone.isOnSequence(6, 0) ? this.startSequenceA(e, i, n) : "A5" === n.getTag() && this.zone.isOnSequence(6, 1) && (this.cameraButton = e.prodigy.create.button(i.menus, 1040, 240, "atlas-120", "camera-map", this.takePictureOfTunnel.bind(this, e, i)), this.cameraButton.highlight(!0)), null
		}, e.prototype.updateQuestArea = function() {
			this.zone.isOnSequence(6, 1) && (this.area = ["shipwreck_shore-A5"], this.descKey = "QUESTS_SHIPWRECK_TAKE_PHOTO")
		}, e.prototype.startSequenceA = function(t, e, i) {
			var n = e.addNPC(i.questNPC.x - 100, i.questNPC.y, "atlas-81");
			n.visible = !1, n.float(!0);
			var a = t.prodigy.event.create();
			a.enableInput(!1), a.validPath(e.user, e.path, i.questNPC.x - 100, i.questNPC.y - 10), a.set(n, "visible", !0), a.hop(n, 500, -100, 70), a.enableInput(!0), a.text(5, "jim"), a.text(6, "jim"), a.reward([{
				type: "key",
				ID: 16
			}]), a.text(4, "jim"), a.text(), a.reward([{
				type: "gold",
				N: 200
			}]), a.function(e.user.faceToward.bind(e.user, n.x - 100)), a.text(175, "noot"), a.hop(n, 500, 100, 70), a.set(n, "visible", !1), a.function(this.zone.completeSequence.bind(this.zone, 6, 0)), a.function(this.updateQuestArea.bind(this)), a.function(e.process.bind(e)), a.start()
		}, e.prototype.takePictureOfTunnel = function(t, e) {
			var i = t.prodigy.event.create();
			i.validPath(e.user, e.path, 1e3, 280), i.enableInput(!1), i.cameraFlash(), i.function(this.cameraButton.destroy.bind(this.cameraButton, !0)), i.function(this.zone.completeSequence.bind(this.zone, 6, 1)), i.function(e.process.bind(e)), i.enableInput(!0), i.start()
		}, e
	}(i(8).Quest);
	e.ShipwreckShoreQ6 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(5),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i, 5, "QUESTS_SHIPWRECK_CLEAR_INK", {
					type: "seq",
					N: 1
				}, ["shipwreck_shore-A7"], [26, 27], [], [0], [{
					type: "gold",
					N: 200
				}]) || this;
				return n.inkHighlighter = null, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.updateQuestArea();
				var o = this.updateQuestArea.bind(this);
				return "A5" === n.getTag() && (o = this.startSequenceA.bind(this, e, i, n)), e.broadcaster.addAppListener(a.EShipwreckShoreEvents.InkGroupDestroyed, o, this, e), {}
			}, e.prototype.process = function(e, i, n) {
				t.prototype.process.call(this, e, i, n), this.showInkHighlighter(e, i, n)
			}, e.prototype.updateQuestArea = function() {
				this.zone.isOnSequence(5, 0) && (1 !== this.zone.getState("inkA7") ? this.area = ["shipwreck_shore-A7"] : 1 !== this.zone.getState("inkB6") ? this.area = ["shipwreck_shore-B6"] : 1 !== this.zone.getState("inkB5") ? this.area = ["shipwreck_shore-B5"] : 1 !== this.zone.getState("inkA5") ? this.area = ["shipwreck_shore-A5"] : this.zone.completeSequence(5, 0))
			}, e.prototype.startSequenceA = function(t, e, i) {
				var n = e.addNPC(985, 255, "atlas-81");
				n.visible = !1, n.float(!0);
				var o = t.prodigy.event.create();
				o.function(t.broadcaster.removeAppListener.bind(t.broadcaster, a.EShipwreckShoreEvents.InkGroupDestroyed, this, t)), o.validPath(e.user, e.path, 985, 255), o.set(n, "visible", !0), o.hop(n, 375, -75, 70), o.function(e.user.faceToward.bind(e.user, n.x - 75)), o.text(172, "noot"), o.text(173, "noot"), o.hop(n, 375, 75, 70), o.set(n, "visible", !1), o.function(this.zone.completeSequence.bind(this.zone, 5, 0)), o.function(e.process.bind(e)), o.start()
			}, e.prototype.showInkHighlighter = function(t, e, i) {
				var n = i.getTag(),
					a = 0,
					r = 0;
				if (o.Util.isValid(this.inkHighlighter) && this.inkHighlighter.highlight(!1), 1 !== this.zone.getState("ink" + i.getTag())) {
					var s = !1;
					"A7" === n ? (a = 560, r = 440, s = !0) : "B6" === n ? (a = 1020, r = 220, s = !0) : "B5" === n ? (a = 320, r = 400, s = !0) : "A5" === n && (a = 1040, r = 360, s = !0), s && (this.inkHighlighter = t.prodigy.create.element(e.above, a, r), this.inkHighlighter.highlight(!0))
				}
			}, e
		}(i(8).Quest);
	e.ShipwreckShoreQ5 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this, e, i, 4, "", {
				type: "key",
				ID: 15,
				N: 1
			}, ["shipwreck_shore-B7"], [18, 19, 20, 21, 22, 23, 24, 25], [], [0], [{
				type: "gold",
				N: 200
			}], !1, "eve", "eve", []) || this;
			return n.sonicBlaster = null, n
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			return t.prototype.setup.call(this, e, i, n), "B7" === n.getTag() && (this.sonicBlaster = i.addClickableEvent(320, 80, 80, 80, this.collectSonicBlaster.bind(this, e, i), null, 0)), {}
		}, e.prototype.process = function(e, i, n) {
			t.prototype.process.call(this, e, i, n), "B7" === n.getTag() && this.sonicBlaster.highlight(0 === e.prodigy.player.backpack.hasItem("key", 15))
		}, e.prototype.collectSonicBlaster = function(t, e) {
			if (0 === t.prodigy.player.backpack.hasItem("key", 15)) {
				var i = t.prodigy.event.create();
				i.validPath(e.user, e.path, this.sonicBlaster.x + .5 * this.sonicBlaster.width, this.sonicBlaster.y + this.sonicBlaster.height + 10), i.reward([{
					type: "key",
					ID: 15
				}]), i.function(e.process.bind(e)), i.start()
			}
		}, e
	}(i(8).Quest);
	e.ShipwreckShoreQ4 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i, 3, "", {
					type: "item",
					ID: 112,
					N: 1
				}, ["shipwreck_shore-A7"], [14, 15, 16], [], [0, 17], [{
					type: "gold",
					N: 200
				}, {
					type: "spellRelic",
					ID: 10
				}], !1, "eve", "eve", []) || this;
				return n.ink = null, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), "A7" === n.getTag() ? {
					inkCallbacks: [this.collectInk.bind(this, e)]
				} : {}
			}, e.prototype.process = function(e, i, n) {
				t.prototype.process.call(this, e, i, n), "A7" === n.getTag() && (e.prodigy.player.backpack.hasItem("item", 112) > 0 ? a.Util.isValid(this.ink) && this.ink.highlight(!1) : (this.ink = e.prodigy.create.element(i.above, 560, 440), this.ink.highlight(!0)))
			}, e.prototype.collectInk = function(t) {
				0 === t.prodigy.player.backpack.hasItem("item", 112) && t.prodigy.player.backpack.add("item", 112, !1, 1)
			}, e
		}(i(8).Quest);
	e.ShipwreckShoreQ3 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 2, "QUESTS_SHIPWRECK_FIND_JIM", {
				type: "seq",
				N: 2
			}, ["shipwreck_shore-C9"], [10, 11, 12, 13], [], [0], [{
				type: "gold",
				N: 200
			}, {
				type: "boots",
				ID: 32
			}], !1, "eve", "eve", [3]) || this
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			return t.prototype.setup.call(this, e, i, n), this.updateQuestArea(), "C9" === n.getTag() && this.zone.isOnSequence(2, 0) || "A7" === n.getTag() && this.zone.isOnSequence(2, 1) ? {
				enableMonsters: !1
			} : {}
		}, e.prototype.start = function(e, i, n) {
			return t.prototype.start.call(this, e, i, n), "C9" === n.getTag() && this.zone.isOnSequence(2, 0) ? this.startSequenceA(e, i, n) : "A7" === n.getTag() && this.zone.isOnSequence(2, 1) && this.startSequenceB(e, i), null
		}, e.prototype.updateQuestArea = function() {
			this.zone.isOnSequence(2, 1) && (this.area = ["shipwreck_shore-A7"], this.descKey = "QUESTS_SHIPWRECK_LOOK_AROUND")
		}, e.prototype.startSequenceA = function(t, e, i) {
			var n = e.addNPC(i.questNPC.x - 100, i.questNPC.y, "atlas-81");
			n.visible = !1, n.float(!0);
			var a = t.prodigy.event.create();
			a.enableInput(!1), a.validPath(e.user, e.path, i.questNPC.x - 100, i.questNPC.y - 10), a.set(n, "visible", !0), a.hop(n, 500, -100, 70), a.enableInput(!0), a.text(0, "jim"), a.text(), a.text(167, "noot"), a.text(168, "noot"), a.text(169, "noot"), a.text(), a.text(1, "jim"), a.enableInput(!1), a.hop(i.questNPC, 300, 0, 100), a.function(i.questNPC.flipJim.bind(i.questNPC, !0)), a.delay(250), a.function(i.questNPC.flipJim.bind(i.questNPC, !1)), a.delay(250), a.function(i.questNPC.flipJim.bind(i.questNPC, !0)), a.delay(250), a.function(i.questNPC.flipJim.bind(i.questNPC, !1)), a.enableInput(!0), a.text(2, "jim"), a.text(3, "jim"), a.text(4, "jim"), a.text(), a.reward([{
				type: "gold",
				N: 200
			}]), a.function(e.user.faceToward.bind(e.user, n.x - 100)), a.text(170, "noot"), a.hop(n, 500, 100, 70), a.set(n, "visible", !1), a.function(this.zone.completeSequence.bind(this.zone, 2, 0)), a.function(this.updateQuestArea.bind(this)), a.function(e.process.bind(e)), a.start()
		}, e.prototype.startSequenceB = function(t, e) {
			var i = t.prodigy.event.create();
			i.text(171, "noot"), i.function(this.zone.completeSequence.bind(this.zone, 2, 1)), i.function(e.process.bind(e)), i.start()
		}, e
	}(i(8).Quest);
	e.ShipwreckShoreQ2 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(29),
		r = i(8),
		s = i(231),
		l = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i.concat("default-boss-15", "atlas-120", "sfx-20"), 11, "QUESTS_SHIPWRECK_DEFEAT_BOSS", {
					type: "seq",
					N: 1
				}, ["shipwreck_shore-C6"], [43], [], [0, 17, 44], [{
					type: "gold",
					N: 400
				}, {
					type: "spellRelic",
					ID: 12
				}, {
					type: "key",
					ID: 17
				}], !1, "eve", "eve", []) || this;
				return n.squeak = null, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), "C6" === n.getTag() && this.zone.isOnSequence(11, 0) && (this.squeak = new s.Squeak(e, i, this.zone, 740, 400), this.squeak.inputEnabled = !1), {}
			}, e.prototype.start = function(e, i, n) {
				return t.prototype.start.call(this, e, i, n), "C6" === n.getTag() && this.zone.isOnSequence(11, 0) && this.startSequenceA(e, i, n), null
			}, e.prototype.startSequenceA = function(t, e, i) {
				t.prodigy.network.sendBattleStartTypeEvent("ZoneBossBattle");
				var n = this.zone.getBattle(i, t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMBAT_BOSS_BATTLE"), {
						boss: {
							element: "water",
							attacks: [82, 83, 85, 87],
							name: t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NPC_NAME_OLD_ONE"),
							tag: "shipwreck",
							difficulty: 4
						},
						starMod: 5,
						difficulty: 4
					}, this.endSequenceA.bind(this, t)),
					r = t.prodigy.event.create();
				r.enableInput(!1), r.validPath(e.user, e.path, this.squeak.x - 500, this.squeak.y), r.delay(250), r.shake(0, 3e3, 12, "h", !0);
				var s = 4;
				r.tween(this.squeak, {
					y: this.squeak.y - 40 * s
				}, 2e3, Phaser.Easing.Linear.None, !0), r.sound(20, "boss-monster", !1);
				for (var l = 0; l < 4; l++) {
					var c = o.Random.integerInRange(4, 8);
					r.function(this.sandCloud.bind(this, t, e, this.squeak.x - .5 * c * 40, this.squeak.y, c, s--)), r.delay(400)
				}
				r.delay(750), r.enableInput(!0), r.function(n), r.start()
			}, e.prototype.endSequenceA = function(t) {
				var e = t.prodigy.event.create();
				e.function(this.zone.setState.bind(this.zone, "squeak", 4)), e.function(this.zone.completeSequence.bind(this.zone, 11, 0)), e.function(t.prodigy.world.teleport.bind(t.prodigy.world, "shipwreck_shore-C6", this.squeak.x - 500, this.squeak.y)), e.start()
			}, e.prototype.sandCloud = function(t, e, i, n, a, r) {
				for (var s = null, l = 0; l < a; l++) {
					s = t.prodigy.create.sprite(i + 40 * l + o.Random.integerInRange(10, 30), n + o.Random.integerInRange(10, 30), "atlas-120", "sand-cloud"), e.foreground.add(s), s.anchor.setTo(.5, .5), t.add.tween(s).to({
						y: s.y - 40 * r
					}, 2e3, Phaser.Easing.Linear.None, !1, 0, 0, !1).start();
					var c = o.Random.integerInRange(1e3, 1500),
						h = 0 === o.Random.integerInRange(0, 2) ? -1 : 1;
					t.add.tween(s).to({
						angle: 360 * h
					}, c, Phaser.Easing.Linear.None, !1, 0, c, !1).start()
				}
			}, e
		}(r.Quest);
	e.ShipwreckShoreQ11 = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this, e, i, 10, "", {
				type: "item",
				ID: 114,
				N: 1,
				K: 1
			}, ["shipwreck_shore-B7"], [42], [], [], [], !1, "eve", "eve", []) || this;
			return n.bossKey = null, n
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			return t.prototype.setup.call(this, e, i, n), this.updateDialogue(e), "B7" === n.getTag() && 0 === e.prodigy.player.backpack.hasItem("item", 114) && (this.bossKey = i.addClickableEvent(800, 100, 80, 80, this.collectBossKey.bind(this, e, i), null, 0), this.bossKey.highlight(!0)), {}
		}, e.prototype.collectBossKey = function(t, e) {
			if (0 === t.prodigy.player.backpack.hasItem("item", 114)) {
				var i = t.prodigy.event.create();
				i.validPath(e.user, e.path, this.bossKey.x + .5 * this.bossKey.width, this.bossKey.y + this.bossKey.height + 10), i.reward([{
					type: "item",
					ID: 114
				}]), i.function(this.bossKey.highlight.bind(this.bossKey, !1)), i.function(this.zone.completeQuest.bind(this.zone, 10)), i.function(this.zone.startQuest.bind(this.zone, 11)), i.function(e.process.bind(e)), i.start()
			}
		}, e.prototype.updateDialogue = function(t) {
			t.prodigy.player.backpack.hasItem("item", 114) > 0 && (this.onStart = [43])
		}, e
	}(i(8).Quest);
	e.ShipwreckShoreQ10 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i.concat(["atlas-137", "bgm-11"]), 1, "", {
					type: "key",
					ID: 14,
					N: 1
				}, ["shipwreck_shore-C10"], [1, 2, 3, 4, 5, 6, 7, 8, 9], [], [0], [{
					type: "gold",
					N: 200
				}], !1, "eve", "eve", []) || this;
				return n.mimic1 = null, n.mimic2 = null, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				if (t.prototype.setup.call(this, e, i, n), "C10" === n.getTag()) {
					n.addChest(e, i, "chestBreathingBubble", 210, 260, [{
						type: "key",
						ID: 14
					}]);
					var a = {
						randDir: !0,
						run: !1,
						encounter: [{
							ID: 98
						}],
						difficulty: 2,
						maxTeamSize: 1,
						screen: this.zone.battleBG
					};
					return 1 === this.zone.getState("mimic1") || (this.mimic1 = i.addMimic("mimic1", 360, 240, "A", a, n.zoneName)), 1 === this.zone.getState("mimic2") || (this.mimic2 = i.addMimic("mimic2", 120, 400, "A", a, n.zoneName)), {
						enableMonsters: !1
					}
				}
				return {}
			}, e.prototype.process = function(e, i, n) {
				t.prototype.process.call(this, e, i, n), "C10" === n.getTag() && (e.prodigy.player.backpack.hasItem("key", 14) > 0 ? (a.Util.isValid(this.mimic1) && this.mimic1.highlight(!1), a.Util.isValid(this.mimic2) && this.mimic2.highlight(!1)) : (a.Util.isValid(this.mimic1) && this.mimic1.highlight(1 !== this.zone.getState("mimic1"), -80, -90), a.Util.isValid(this.mimic2) && this.mimic2.highlight(1 !== this.zone.getState("mimic2"), -80, -90)))
			}, e
		}(i(8).Quest);
	e.ShipwreckShoreQ1 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = i(5),
		r = i(0),
		s = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "C9", "MAP_SHIPWRECK_SHORE_SAND_TOWN", 180, 380, ["shipwreck_shore-C8", "shipwreck_shore-C10"], i.concat("atlas-153", "atlas-120", "sfx-20")) || this;
				return n.questNPC = null, n.battleBG = "battle-shipwreck-underwater", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 950,
					y: 40,
					w: 220,
					h: 80,
					rect: !0
				}, "shipwreck_shore-C8", 260, 620, null, a.EAreaEventAngle.UP, !1), this.zone.addWhirlpool(i, this, 180, 520, {
					target: "shipwreck_shore-C10",
					x: 1120,
					y: 320,
					callback: null,
					handRotation: a.EAreaEventAngle.DOWN
				}), this.questNPC = this.addConstructedNPC(e, i, 1e3, 300, "atlas-153", null, "NPC_NAME_JELLY_JIM"), this.questNPC.setup(this.zone, !1), this.questNPC.addOnClick(this.interactWithJellyJim.bind(this, e)), this.addMonster(e, i, 1, 625, 350, !1, {
					randDir: !0,
					encounter: [{
						ID: 66,
						R: 1
					}, {
						ID: 99,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 1
				}), this.zone.addShortcut(i, 780, 480), this.enableShortcut(e, i), this.zone.addInkGroup(i, this, [{
					x: 720,
					y: 440
				}, {
					x: 760,
					y: 480
				}, {
					x: 760,
					y: 440
				}, {
					x: 720,
					y: 480
				}], {
					x: 780,
					y: 400
				}, [e.broadcaster.addAppListener.bind(e.broadcaster, o.EShipwreckShoreEvents.InkGroupDestroyed, this.enableShortcut.bind(this, e, i), this)]), this.zone.addSqueak(i, this, 760, 280, !1)
			}, e.prototype.enableShortcut = function(t, e) {
				t.broadcaster.removeAppListener(o.EShipwreckShoreEvents.InkGroupDestroyed, this);
				var i = this.zone.enableShortcut(e, this, 780, 480, {
					target: "shipwreck_shore-B7",
					x: 1060,
					y: 500,
					callback: null,
					handRotation: a.EAreaEventAngle.DOWN
				});
				r.Util.isValid(i) && this.locations.push("shipwreck_shore-B7")
			}, e.prototype.interactWithJellyJim = function(t) {
				var e = t.prodigy.event.create(),
					i = this.zone.getCurrentQuestID();
				i > 1 && i < 6 ? (e.text(2, "jim"), e.text(3, "jim")) : e.text(7, "jim"), e.start()
			}, e
		}(i(10).Map);
	e.ShipwreckShoreC9 = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "C8", "MAP_SHIPWRECK_SHORE_DEEP_WATER", 260, 620, ["shipwreck_shore-C9", "shipwreck_shore-B8", "shipwreck_shore-C7"], i.concat("atlas-91", "atlas-120", "sfx-20")) || this;
				return n.battleBG = "battle-shipwreck-underwater", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1120,
					y: 40,
					w: 320,
					h: 80,
					rect: !0
				}, "shipwreck_shore-C7", 1040, 580, null, a.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
					x: 40,
					y: 440,
					w: 80,
					h: 360,
					rect: !0
				}, "shipwreck_shore-B8", 1160, 540, null, a.EAreaEventAngle.LEFT, !1), this.addAreaEvent(e, i, {
					x: 260,
					y: 680,
					w: 280,
					h: 80,
					rect: !0
				}, "shipwreck_shore-C9", 950, 120, null, a.EAreaEventAngle.DOWN, !1), this.addMonster(e, i, 2, 800, 275, !1, {
					randDir: !0,
					encounter: [{
						ID: 46,
						R: 1
					}, {
						ID: 99,
						R: 1
					}, {
						ID: 66,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 2
				}), this.zone.addUnderwaterWizard(i, this, 400, 300, "wizardC8", {
					opponent: [{
						appearance: {
							name: "NPC_NAME_CHESTER_COPPERPAN",
							gender: "male",
							hair: {
								style: 29,
								color: 3
							},
							skinColor: 1,
							eyeColor: 14
						},
						equipment: {
							hat: 80,
							outfit: 61,
							boots: 32,
							weapon: 19
						}
					}],
					pets: [{
						ID: 95,
						difficulty: 2
					}, {
						ID: 103,
						difficulty: 2
					}],
					difficulty: 3
				}), this.zone.addSqueak(i, this, 560, 480, !1)
			}, e
		}(i(10).Map);
	e.ShipwreckShoreC8 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "C7", "MAP_SHIPWRECK_SHORE_SAND_CITY", 1040, 580, ["shipwreck_shore-C8", "shipwreck_shore-B7"], i.concat("atlas-120", "sfx-20")) || this;
				return n.battleBG = "battle-shipwreck-underwater", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 40,
					y: 300,
					w: 80,
					h: 280,
					rect: !0
				}, "shipwreck_shore-B7", 1160, 420, null, a.EAreaEventAngle.LEFT, !1), this.addAreaEvent(e, i, {
					x: 1160,
					y: 680,
					r: 120
				}, "shipwreck_shore-C8", 1120, 100, null, a.EAreaEventAngle.DOWN, !1), this.addMonster(e, i, 1, 400, 525, !1, {
					randDir: !0,
					encounter: [{
						ID: 66,
						R: 1
					}, {
						ID: 99,
						R: 1
					}, {
						ID: 46,
						R: 2
					}],
					difficulty: 3,
					maxTeamSize: 2,
					range: 22500
				}), this.addMonster(e, i, 2, 850, 325, !1, {
					randDir: !0,
					encounter: [{
						ID: 66,
						R: 1
					}, {
						ID: 99,
						R: 1
					}, {
						ID: 46,
						R: 2
					}],
					difficulty: 3,
					maxTeamSize: 2,
					range: 22500
				}), this.zone.addSqueak(i, this, 640, 480, !1)
			}, e
		}(i(10).Map);
	e.ShipwreckShoreC7 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "C6", "MAP_SHIPWRECK_SHORE_CAPNS_QUARTERS", 120, 320, ["shipwreck_shore-B6"], i) || this;
				return n.battleBG = "battle-shipwreck-underwater", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 40,
					y: 320,
					w: 80,
					h: 240,
					rect: !0
				}, "shipwreck_shore-B6", 1120, 360, null, a.EAreaEventAngle.LEFT, !1)
			}, e
		}(i(10).Map);
	e.ShipwreckShoreC6 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(45),
		o = i(3),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "C12", "MAP_SHIPWRECK_SHORE_BROKEN_BOWSPRIT", 100, 420, ["shipwreck_shore-B12", "shipwreck_shore-C11"], i) || this;
				return n.battleBG = "battle-shipwreck-outside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1080,
					y: 40,
					w: 160,
					h: 80,
					rect: !0
				}, "shipwreck_shore-C11", 1080, 620, null, o.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
					x: 40,
					y: 440,
					w: 80,
					h: 400,
					rect: !0
				}, "shipwreck_shore-B12", 1160, 500, null, o.EAreaEventAngle.LEFT, !1), this.addPippet(e, i, 1, 520, 460), this.addMonster(e, i, 1, 500, 500, !1, {
					randDir: !0,
					encounter: [{
						ID: 31,
						R: 1
					}, {
						ID: 33,
						R: 1
					}, {
						ID: 55,
						R: 1
					}, {
						ID: 59,
						R: 1
					}],
					difficulty: 1,
					maxTeamSize: 1
				}), new a.ToyMerchant(e, i.content, 900, 300)
			}, e
		}(i(10).Map);
	e.ShipwreckShoreC12 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "C11", "MAP_SHIPWRECK_SHORE_DESOLATE_DECK", 1080, 620, ["shipwreck_shore-C12", "shipwreck_shore-B11", "shipwreck_shore-C10"], i) || this;
				return n.battleBG = "battle-shipwreck-outside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 780,
					y: 120,
					w: 200,
					h: 80,
					rect: !0
				}, "shipwreck_shore-C10", 180, 600, null, a.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
					x: 40,
					y: 320,
					w: 80,
					h: 320,
					rect: !0
				}, "shipwreck_shore-B11", 1160, 300, null, a.EAreaEventAngle.LEFT, !1), this.addAreaEvent(e, i, {
					x: 1080,
					y: 680,
					w: 160,
					h: 80,
					rect: !0
				}, "shipwreck_shore-C12", 1080, 100, null, a.EAreaEventAngle.DOWN, !1), this.addPippet(e, i, 1, 400, 450), this.addMonster(e, i, 1, 350, 425, !1, {
					randDir: !0,
					encounter: [{
						ID: 31,
						R: 1
					}, {
						ID: 33,
						R: 1
					}, {
						ID: 55,
						R: 1
					}, {
						ID: 59,
						R: 1
					}],
					difficulty: 1,
					maxTeamSize: 2,
					range: 22500
				}), this.addMonster(e, i, 2, 1025, 300, !1, {
					randDir: !0,
					encounter: [{
						ID: 31,
						R: 1
					}, {
						ID: 33,
						R: 1
					}],
					difficulty: 1,
					maxTeamSize: 2,
					range: 22500
				})
			}, e
		}(i(10).Map);
	e.ShipwreckShoreC11 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "C10", "MAP_SHIPWRECK_SHORE_DIVE_DOCK", 180, 600, ["shipwreck_shore-C9", "shipwreck_shore-C11"], i.concat("atlas-120")) || this;
				return n.battleBG = "battle-shipwreck-outside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.zone.addWhirlpool(i, this, 1180, 200, {
					target: "shipwreck_shore-C9",
					x: 180,
					y: 380,
					callback: null,
					handRotation: a.EAreaEventAngle.UP
				}), this.addAreaEvent(e, i, {
					x: 160,
					y: 680,
					w: 280,
					h: 80,
					rect: !0
				}, "shipwreck_shore-C11", 780, 220, null, a.EAreaEventAngle.DOWN, !1), this.addMonster(e, i, 1, 825, 350, !1, {
					randDir: !0,
					encounter: [{
						ID: 18,
						R: 1
					}, {
						ID: 55,
						R: 1
					}, {
						ID: 59,
						R: 1
					}],
					difficulty: 1,
					maxTeamSize: 2,
					range: 22500
				}), this.addMonster(e, i, 2, 200, 225, !1, {
					randDir: !0,
					encounter: [{
						ID: 31,
						R: 1
					}, {
						ID: 33,
						R: 1
					}, {
						ID: 25,
						R: 5
					}],
					difficulty: 1,
					maxTeamSize: 2,
					range: 22500
				}), this.addMonster(e, i, 3, 425, 600, !1, {
					randDir: !0,
					encounter: [{
						ID: 31,
						R: 1
					}, {
						ID: 33,
						R: 1
					}, {
						ID: 66,
						R: 1
					}],
					difficulty: 1,
					maxTeamSize: 2,
					range: 22500
				})
			}, e
		}(i(10).Map);
	e.ShipwreckShoreC10 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B8", "MAP_SHIPWRECK_SHORE_BROKEN_SHIP_BED", 1160, 540, ["shipwreck_shore-C8"], i) || this;
				return n.battleBG = "battle-shipwreck-underwater", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1240,
					y: 500,
					w: 80,
					h: 280,
					rect: !0
				}, "shipwreck_shore-C8", 140, 460, null, a.EAreaEventAngle.RIGHT, !1), this.addMonster(e, i, 1, 850, 325, !1, {
					randDir: !0,
					encounter: [{
						ID: 66,
						R: 1
					}, {
						ID: 98,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 2
				}), this.addMonster(e, i, 2, 400, 375, !1, {
					randDir: !0,
					encounter: [{
						ID: 66,
						R: 1
					}, {
						ID: 98,
						R: 1
					}, {
						ID: 118,
						R: 5
					}],
					difficulty: 1,
					maxTeamSize: 3
				})
			}, e
		}(i(10).Map);
	e.ShipwreckShoreB8 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = i(5),
		r = i(0),
		s = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B7", "MAP_SHIPWRECK_SHORE_SECOND_SHIP_RAMP", 1160, 420, ["shipwreck_shore-A7", "shipwreck_shore-C7"], i.concat("atlas-120", "sfx-20")) || this;
				return n.battleBG = "battle-shipwreck-underwater", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 160,
					y: 240,
					w: 160,
					h: 80,
					rect: !0
				}, "shipwreck_shore-A7", 1160, 520, null, a.EAreaEventAngle.DOWN, !1), this.addAreaEvent(e, i, {
					x: 1240,
					y: 420,
					w: 80,
					h: 200,
					rect: !0
				}, "shipwreck_shore-C7", 120, 280, null, a.EAreaEventAngle.RIGHT, !1);
				var r = this.zone;
				r.addShortcut(i, 1060, 560), this.enableShortcut(e, i), r.addInkGroup(i, this, [{
					x: 1e3,
					y: 520
				}, {
					x: 1040,
					y: 560
				}, {
					x: 1040,
					y: 520
				}, {
					x: 1e3,
					y: 560
				}], {
					x: 1060,
					y: 480
				}, [e.broadcaster.addAppListener.bind(e.broadcaster, o.EShipwreckShoreEvents.InkGroupDestroyed, this.enableShortcut.bind(this, e, i), this)]), this.addMonster(e, i, 1, 525, 275, !1, {
					randDir: !0,
					encounter: [{
						ID: 66,
						R: 1
					}, {
						ID: 98,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 2
				}), this.addMonster(e, i, 2, 975, 225, !1, {
					randDir: !0,
					encounter: [{
						ID: 66,
						R: 1
					}, {
						ID: 98,
						R: 1
					}, {
						ID: 118,
						R: 5
					}],
					difficulty: 4,
					maxTeamSize: 2,
					range: 22500
				}), r.addSqueak(i, this, 840, 440, !0)
			}, e.prototype.enableShortcut = function(t, e) {
				t.broadcaster.removeAppListener(o.EShipwreckShoreEvents.InkGroupDestroyed, this);
				var i = this.zone.enableShortcut(e, this, 1060, 560, {
					target: "shipwreck_shore-C9",
					x: 780,
					y: 420,
					callback: null,
					handRotation: a.EAreaEventAngle.DOWN
				});
				r.Util.isValid(i) && this.locations.push("shipwreck_shore-C9")
			}, e
		}(i(10).Map);
	e.ShipwreckShoreB7 = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				return t.call(this, e, "B6", "MAP_SHIPWRECK_SHORE_LOWER_DECK", 280, 540, ["shipwreck_shore-A7", "shipwreck_shore-C6", "shipwreck_shore-B5"], i.concat("atlas-120", "sfx-20")) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1040,
					y: 80,
					w: 160,
					h: 80,
					rect: !0
				}, "shipwreck_shore-B5", 1e3, 560, null, a.EAreaEventAngle.UP, !1);
				var r = o.Util.isValid(n) && o.Util.isValid(n.doorIsLockedCallback) ? n.doorIsLockedCallback : this.doorIsLocked.bind(this, e);
				this.addAreaEvent(e, i, {
					x: 1180,
					y: 360,
					w: 80,
					h: 160,
					rect: !0
				}, "shipwreck_shore-C6", 120, 320, 0 === e.prodigy.player.backpack.hasItem("item", 114) ? r : null, a.EAreaEventAngle.RIGHT, !1), this.addAreaEvent(e, i, {
					x: 280,
					y: 600,
					w: 160,
					h: 80,
					rect: !0
				}, "shipwreck_shore-A7", 440, 120, null, a.EAreaEventAngle.DOWN, !1), this.zone.addInkGroup(i, this, [{
					x: 960,
					y: 40
				}, {
					x: 960,
					y: 80
				}, {
					x: 1040,
					y: 40
				}, {
					x: 1e3,
					y: 120
				}, {
					x: 1e3,
					y: 80
				}, {
					x: 1e3,
					y: 200
				}, {
					x: 1040,
					y: 200
				}, {
					x: 1e3,
					y: 160
				}, {
					x: 960,
					y: 240
				}, {
					x: 1040,
					y: 240
				}], {
					x: 1040,
					y: 400
				}, [])
			}, e.prototype.doorIsLocked = function(t) {
				var e = t.prodigy.event.create();
				e.text(174, "noot"), e.start()
			}, e
		}(i(10).Map);
	e.ShipwreckShoreB6 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, "B5", "MAP_SHIPWRECK_SHORE_CARGO_HOLD", 1e3, 560, ["shipwreck_shore-B6", "shipwreck_shore-B4"], i.concat("atlas-120", "sfx-20")) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 240,
					y: 40,
					w: 160,
					h: 80,
					rect: !0
				}, "shipwreck_shore-B4", 1120, 520, null, a.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
					x: 1e3,
					y: 640,
					w: 160,
					h: 80,
					rect: !0
				}, "shipwreck_shore-B6", 1040, 140, null, a.EAreaEventAngle.DOWN, !1), this.zone.addInkGroup(i, this, [{
					x: 400,
					y: 320
				}, {
					x: 400,
					y: 400
				}, {
					x: 360,
					y: 280
				}, {
					x: 360,
					y: 360
				}, {
					x: 360,
					y: 440
				}, {
					x: 320,
					y: 320
				}, {
					x: 320,
					y: 400
				}, {
					x: 280,
					y: 360
				}, {
					x: 280,
					y: 440
				}, {
					x: 240,
					y: 400
				}], {
					x: 520,
					y: 480
				}, []), this.addChest(e, i, "chestB5", 500, 325, [{
					type: "item",
					ID: 108
				}, {
					type: "item",
					ID: 98
				}, {
					type: "gold",
					N: 200
				}])
			}, e
		}(i(10).Map);
	e.ShipwreckShoreB5 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B4", "MAP_SHIPWRECK_SHORE_UPPER_DECK", 1120, 520, ["shipwreck_shore-B5", "shipwreck_shore-A4", "shipwreck_shore-B2"], i) || this;
				return n.battleBG = "battle-shipwreck-outside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1080,
					y: 40,
					w: 160,
					h: 80,
					rect: !0
				}, "shipwreck_shore-B2", 1080, 620, null, a.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
					x: 40,
					y: 380,
					w: 80,
					h: 280,
					rect: !0
				}, "shipwreck_shore-A4", 1160, 320, null, a.EAreaEventAngle.LEFT, !1), this.addAreaEvent(e, i, {
					x: 1120,
					y: 600,
					w: 160,
					h: 80,
					rect: !0
				}, "shipwreck_shore-B5", 240, 100, null, a.EAreaEventAngle.DOWN, !1)
			}, e
		}(i(10).Map);
	e.ShipwreckShoreB4 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B2", "MAP_SHIPWRECK_SHORE_CROWS_NEST", 1080, 620, ["shipwreck_shore-B4", "shipwreck_shore-A1"], i) || this;
				return n.battleBG = "battle-shipwreck-outside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 120,
					y: 200,
					r: 80
				}, "shipwreck_shore-A1", 1160, 400, null, a.EAreaEventAngle.UP_LEFT, !1), this.addAreaEvent(e, i, {
					x: 1080,
					y: 680,
					w: 160,
					h: 80,
					rect: !0
				}, "shipwreck_shore-B4", 1080, 120, null, a.EAreaEventAngle.DOWN, !1)
			}, e
		}(i(10).Map);
	e.ShipwreckShoreB2 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B13", "MAP_SHIPWRECK_SHORE_SUNKEN_SECRET", 220, 260, ["shipwreck_shore-B12"], i.concat("atlas-120")) || this;
				return n.battleBG = "battle-shipwreck-underwater", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.zone.addWhirlpool(i, this, 220, 200, {
					target: "shipwreck_shore-B12",
					x: 140,
					y: 540,
					callback: null,
					handRotation: a.EAreaEventAngle.UP
				}), this.addChest(e, i, "chestB13", 1020, 350, [{
					type: "item",
					ID: 96
				}, {
					type: "item",
					ID: 105
				}, {
					type: "item",
					ID: 98
				}])
			}, e
		}(i(10).Map);
	e.ShipwreckShoreB13 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = i(19),
		r = i(7),
		s = i(0),
		l = function(t) {
			function e(e, i, n, r, s, l, c) {
				void 0 === c && (c = !1);
				var h = t.call(this, e, i) || this;
				return h.x = n, h.y = r, h.npc = h.game.prodigy.create.sprite(0, 0, "atlas-" + s.atlasID, ""), h.tween = new o.TweenController(h.npc), h.tween.set("frameName", ["fishthing_1", "fishthing_2", "fishthing_3", "fishthing_4", "fishthing_5", "fishthing_6", "fishthing_7", "fishthing_7", "fishthing_1", "fishthing_2", "fishthing_8", "fishthing_4", "fishthing_9", "fishthing_10", "fishthing_11"], 100, a.GameConstants.MAX_SAFE_INTEGER), h.tween.start(), h.npc.inputEnabled = !0, h.npc.anchor.setTo(.5, 1), h.npc.events.onInputDown.add(l, h), c && (h.npc.scale.x = -1), h.add(h.npc), h.dialogue = h.game.prodigy.dialogue.create(), h.game.prodigy.create.nameFont(h, -15, -h.npc.height - 20, s.name), h
			}
			return n(e, t), e.prototype.setIndicator = function(t) {
				s.Util.isValid(this.indicator) || (this.indicator = this.game.prodigy.create.sprite(-14, -(this.npc.height - 10), "atlas-21", t), this.indicator.anchor.setTo(.5, 1), this.add(this.indicator), this.game.add.tween(this.indicator).to({
					y: this.indicator.y - 50
				}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, a.GameConstants.MAX_SAFE_INTEGER, !0)), this.indicator.frameName = t
			}, e.prototype.update = function() {
				t.prototype.update.call(this), this.tween.update()
			}, e
		}(r.Element);
	e.FishMerchant = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(533),
		s = i(3),
		l = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B12", "MAP_SHIPWRECK_SHORE_SHORELINE", 990, 435, ["shipwreck_shore-B13", "shipwreck_shore-C12"], i.concat("atlas-137", "atlas-120", "atlas-155")) || this;
				return n.questNPC = null, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1240,
					y: 480,
					w: 80,
					h: 320,
					rect: !0
				}, "shipwreck_shore-C12", 100, 420, null, s.EAreaEventAngle.RIGHT, !1), this.zone.addWhirlpool(i, this, 100, 640, {
					target: "shipwreck_shore-B13",
					x: 220,
					y: 260,
					callback: null,
					handRotation: s.EAreaEventAngle.DOWN
				}), this.questNPC = i.addConstructedQuestNPC(800, 450, "eve", !1, this.zoneComplete.bind(this, e)), i.user.faceToward(this.questNPC.x);
				var l = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					c = [{
						ID: 1,
						req: [{
							rtype: "item",
							type: "outfit",
							ID: 36
						}, {
							rtype: "item",
							type: "hat",
							ID: 40
						}, {
							rtype: "item",
							type: "weapon",
							ID: 65
						}],
						fail: l.getText("NICKNAME_REQUIRE_PIRATE_SET")
					}, {
						ID: 2,
						req: [{
							rtype: "quest",
							zone: "shipwreck_shore",
							Q: 11
						}],
						fail: l.getText("NICKNAME_REQUIRE_SHIPWRECK_COMPLETE")
					}, {
						ID: 5,
						req: [{
							rtype: "pet",
							ID: 98
						}],
						fail: l.getText("NICKNAME_REQUIRE_CATCH_MIMIC")
					}, {
						ID: 3,
						member: !0,
						fail: l.getText("NICKNAME_REQUIRE_MEMBERSHIP")
					}, {
						ID: 4,
						member: !0,
						fail: l.getText("NICKNAME_REQUIRE_MEMBERSHIP")
					}],
					h = this.game.prodigy.create.element(i.content, 1050, 350),
					u = h.add(this.game.prodigy.create.sprite(0, -100, "atlas-19", "namer")),
					p = h.add(this.game.prodigy.create.sprite(20, -90, "atlas-19", "feather"));
				this.game.add.tween(p).to({
					x: 40,
					y: -98
				}, 1500, Phaser.Easing.Linear.None, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0), u.inputEnabled = !0, u.events.onInputDown.add(this.game.prodigy.open.nicknamer.bind(this.game.prodigy.open, c, i.user)), i.user.faceToward(this.questNPC.x), new r.FishMerchant(e, i.content, 350, 450, {
					atlas: "fishthing",
					atlasID: 155,
					name: l.getText("NPC_NAME_MERCHANT")
				}, function() {
					var t = e.prodigy.dialogue.create();
					t.setText({
						text: l.getText("STORE_PROMPT_WELCOME", l.getText("STORE_OCEAN_OUTFITTERS")),
						face: 0,
						yes: e.prodigy.open.store.bind(e.prodigy.open, 19)
					}), t.start("fishthing")
				}, !1).setIndicator("store")
			}, e.prototype.zoneComplete = function(t) {
				var e = t.prodigy.event.create();
				e.text(45, "eve"), e.text(46, "eve"), e.text(47, "eve"), e.start()
			}, e
		}(i(10).Map);
	e.ShipwreckShoreB12 = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B11", "MAP_SHIPWRECK_SHORE_SECRET_SHORE", 1160, 300, ["shipwreck_shore-B10", "shipwreck_shore-C11"], i.concat("atlas-120")) || this;
				return n.battleBG = "battle-shipwreck-outside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.zone.addWhirlpool(i, this, 260, 110, {
					target: "shipwreck_shore-B10",
					x: 1020,
					y: 420,
					callback: null,
					handRotation: a.EAreaEventAngle.UP
				}), this.addAreaEvent(e, i, {
					x: 1240,
					y: 280,
					w: 80,
					h: 320,
					rect: !0
				}, "shipwreck_shore-C11", 120, 360, null, a.EAreaEventAngle.RIGHT, !1), this.addMonster(e, i, 1, 750, 375, !1, {
					randDir: !0,
					encounter: [{
						ID: 18,
						R: 2
					}, {
						ID: 59,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 1
				}), this.addMonster(e, i, 2, 400, 575, !1, {
					randDir: !0,
					encounter: [{
						ID: 18,
						R: 2
					}, {
						ID: 59,
						R: 1
					}, {
						ID: 25,
						R: 5
					}],
					difficulty: 2,
					maxTeamSize: 2,
					range: 22500
				})
			}, e
		}(i(10).Map);
	e.ShipwreckShoreB11 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B10", "MAP_SHIPWRECK_SHORE_SEAWEED_SANCTUARY", 1020, 420, ["shipwreck_shore-B11"], i.concat("atlas-120")) || this;
				return n.battleBG = "battle-shipwreck-underwater", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.zone.addWhirlpool(i, this, 1020, 560, {
					target: "shipwreck_shore-B11",
					x: 260,
					y: 180,
					callback: null,
					handRotation: a.EAreaEventAngle.DOWN
				}), this.addChest(e, i, "chestB10", 380, 475, [{
					type: "gold",
					N: 600
				}, {
					type: "item",
					ID: 98
				}, {
					type: "boots",
					ID: 31
				}], null, "A"), this.addMonster(e, i, 1, 700, 200, !1, {
					randDir: !0,
					encounter: [{
						ID: 46,
						R: 1
					}, {
						ID: 99,
						R: 1
					}],
					difficulty: 4,
					maxTeamSize: 1
				}), this.addMonster(e, i, 2, 250, 300, !1, {
					randDir: !0,
					encounter: [{
						ID: 98,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 2,
					range: 22500
				})
			}, e
		}(i(10).Map);
	e.ShipwreckShoreB10 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, "A7", "MAP_SHIPWRECK_SHORE_LOWER_DECK_HALL", 1160, 520, ["shipwreck_shore-B6", "shipwreck_shore-B7"], i.concat(["atlas-120", "sfx-20"])) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 440,
					y: 40,
					w: 320,
					h: 80,
					rect: !0
				}, "shipwreck_shore-B6", 280, 540, null, a.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
					x: 1240,
					y: 440,
					w: 80,
					h: 240,
					rect: !0
				}, "shipwreck_shore-B7", 160, 180, null, a.EAreaEventAngle.UP_RIGHT, !1), this.zone.addInkGroup(i, this, [{
					x: 520,
					y: 360
				}, {
					x: 640,
					y: 400
				}, {
					x: 560,
					y: 400
				}, {
					x: 520,
					y: 440
				}, {
					x: 600,
					y: 440
				}, {
					x: 640,
					y: 440
				}, {
					x: 520,
					y: 480
				}, {
					x: 600,
					y: 480
				}, {
					x: 560,
					y: 520
				}, {
					x: 480,
					y: 520
				}], {
					x: 740,
					y: 500
				}, [])
			}, e
		}(i(10).Map);
	e.ShipwreckShoreA7 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = i(5),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "A5", "MAP_SHIPWRECK_SHORE_UNDERWATER_ALCOVE", 180, 200, ["shipwreck_shore-A4"], i.concat("atlas-91", "atlas-120", "sfx-20")) || this;
				return n.battleBG = "battle-shipwreck-underwater", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n);
				var r = this.zone;
				r.addWhirlpool(i, this, 180, 120, {
					target: "shipwreck_shore-A4",
					x: 200,
					y: 600,
					callback: null,
					handRotation: a.EAreaEventAngle.UP
				}), this.addMonster(e, i, 1, 325, 500, !1, {
					randDir: !0,
					encounter: [{
						ID: 46,
						R: 1
					}, {
						ID: 99,
						R: 1
					}, {
						ID: 98,
						R: 1
					}],
					difficulty: 5,
					maxTeamSize: 1,
					range: 22500
				}), r.addUnderwaterWizard(i, this, 575, 305, "wizardA5", {
					opponent: [{
						appearance: {
							name: "NPC_NAME_LOTNEY_CHUNK",
							gender: "male",
							hair: {
								style: 27,
								color: 6
							},
							skinColor: 3,
							eyeColor: 3
						},
						equipment: {
							hat: 39,
							outfit: 35,
							boots: 10,
							weapon: 64
						}
					}],
					pets: [{
						ID: 47,
						difficulty: 3
					}, {
						ID: 14,
						difficulty: 3
					}],
					difficulty: 4
				});
				var s = r.addInkGroup(i, this, [{
						x: 960,
						y: 280
					}, {
						x: 1040,
						y: 280
					}, {
						x: 940,
						y: 320
					}, {
						x: 1020,
						y: 320
					}, {
						x: 1100,
						y: 320
					}, {
						x: 960,
						y: 360
					}, {
						x: 1040,
						y: 360
					}, {
						x: 1100,
						y: 360
					}, {
						x: 960,
						y: 400
					}, {
						x: 1040,
						y: 400
					}, {
						x: 1100,
						y: 400
					}, {
						x: 1e3,
						y: 440
					}, {
						x: 1080,
						y: 440
					}], {
						x: 985,
						y: 255
					}, []),
					l = this.addChest(this.game, i, "chestA5", 1e3, 500, [{
						type: "hat",
						ID: 81
					}], null, "A");
				1 !== this.zone.getState("ink" + this.getTag()) && (l.visible = !1, this.game.broadcaster.addAppListener(o.EShipwreckShoreEvents.InkBlasted, this.revealChest.bind(this, i, s, l), this, s))
			}, e.prototype.revealChest = function(t, e, i) {
				this.game.broadcaster.removeAppListener(o.EShipwreckShoreEvents.InkBlasted, this, e), i.visible = !0
			}, e
		}(i(10).Map);
	e.ShipwreckShoreA5 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "A4", "MAP_SHIPWRECK_SHORE_SECLUDED_SHORE", 1160, 320, ["shipwreck_shore-B4", "shipwreck_shore-A5"], i.concat("atlas-120")) || this;
				return n.battleBG = "battle-shipwreck-outside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.zone.addWhirlpool(i, this, 60, 600, {
					target: "shipwreck_shore-A5",
					x: 180,
					y: 200,
					callback: null,
					handRotation: a.EAreaEventAngle.DOWN
				}), this.addAreaEvent(e, i, {
					x: 1240,
					y: 300,
					w: 80,
					h: 280,
					rect: !0
				}, "shipwreck_shore-B4", 120, 380, null, a.EAreaEventAngle.RIGHT, !1), this.addMonster(e, i, 1, 600, 350, !1, {
					randDir: !0,
					encounter: [{
						ID: 55,
						R: 1
					}, {
						ID: 18,
						R: 2
					}],
					difficulty: 4,
					maxTeamSize: 2,
					range: 22500
				}), this.addMonster(e, i, 2, 875, 400, !1, {
					randDir: !0,
					encounter: [{
						ID: 55,
						R: 1
					}, {
						ID: 18,
						R: 2
					}, {
						ID: 25,
						R: 3
					}],
					difficulty: 4,
					maxTeamSize: 2,
					range: 22500
				})
			}, e
		}(i(10).Map);
	e.ShipwreckShoreA4 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "A3", "MAP_SHIPWRECK_SHORE_SECRET_SHORE_SPACE", 1e3, 120, ["shipwreck_shore-A2"], i) || this;
				return n.battleBG = "battle-shipwreck-underwater", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1e3,
					y: 40,
					w: 320,
					h: 80,
					rect: !0
				}, "shipwreck_shore-A2", 1e3, 600, null, a.EAreaEventAngle.UP, !1), this.addChest(e, i, "chestA3", 360, 370, [{
					type: "gold",
					N: 800
				}, {
					type: "item",
					ID: 107
				}, {
					type: "weapon",
					ID: 93
				}], null, "A"), this.addMonster(e, i, 1, 525, 475, !1, {
					randDir: !0,
					encounter: [{
						ID: 46,
						R: 1
					}, {
						ID: 99,
						R: 1
					}, {
						ID: 118,
						R: 3
					}],
					difficulty: 4,
					maxTeamSize: 2
				}), this.addMonster(e, i, 2, 825, 375, !1, {
					randDir: !0,
					encounter: [{
						ID: 46,
						R: 1
					}, {
						ID: 99,
						R: 1
					}, {
						ID: 98,
						R: 1
					}],
					difficulty: 4,
					maxTeamSize: 2
				})
			}, e
		}(i(10).Map);
	e.ShipwreckShoreA3 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "A2", "MAP_SHIPWRECK_SHORE_SEAWEED_SKYSCRAPERS", 160, 200, ["shipwreck_shore-A1", "shipwreck_shore-A3"], i.concat("atlas-120")) || this;
				return n.battleBG = "battle-shipwreck-underwater", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.zone.addWhirlpool(i, this, 160, 120, {
					target: "shipwreck_shore-A1",
					x: 60,
					y: 560,
					callback: null,
					handRotation: a.EAreaEventAngle.UP
				}), this.addAreaEvent(e, i, {
					x: 1020,
					y: 680,
					w: 280,
					h: 80,
					rect: !0
				}, "shipwreck_shore-A3", 1e3, 120, null, a.EAreaEventAngle.DOWN, !1), this.addMonster(e, i, 1, 500, 300, !1, {
					randDir: !0,
					encounter: [{
						ID: 46,
						R: 1
					}, {
						ID: 66,
						R: 1
					}, {
						ID: 98,
						R: 1
					}],
					difficulty: 4,
					maxTeamSize: 2,
					range: 22500
				}), this.addMonster(e, i, 2, 750, 525, !1, {
					randDir: !0,
					encounter: [{
						ID: 46,
						R: 1
					}, {
						ID: 66,
						R: 1
					}, {
						ID: 98,
						R: 1
					}],
					difficulty: 2,
					maxTeamSize: 3,
					range: 22500
				}), this.addMonster(e, i, 3, 975, 325, !1, {
					randDir: !0,
					encounter: [{
						ID: 46,
						R: 1
					}, {
						ID: 66,
						R: 1
					}, {
						ID: 118,
						R: 3
					}],
					difficulty: 2,
					maxTeamSize: 3,
					range: 22500
				})
			}, e
		}(i(10).Map);
	e.ShipwreckShoreA2 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "A1", "MAP_SHIPWRECK_SHORE_FAR_BEACH", 1160, 400, ["shipwreck_shore-B2", "shipwreck_shore-A2"], i.concat("atlas-120")) || this;
				return n.battleBG = "battle-shipwreck-outside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.zone.addWhirlpool(i, this, 60, 640, {
					target: "shipwreck_shore-A2",
					x: 160,
					y: 200,
					callback: null,
					handRotation: a.EAreaEventAngle.DOWN
				}), this.addAreaEvent(e, i, {
					x: 1240,
					y: 400,
					w: 80,
					h: 240,
					rect: !0
				}, "shipwreck_shore-B2", 200, 300, null, a.EAreaEventAngle.DOWN_RIGHT, !1)
			}, e
		}(i(10).Map);
	e.ShipwreckShoreA1 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(19),
		o = function(t) {
			function e(e, i, n, o) {
				var r = t.call(this, e, i, n, o) || this;
				r.tween = null;
				var s = r.add(r.game.prodigy.create.sprite(0, 0, "atlas-120", "whirlpool-1"));
				return r.tween = new a.TweenController(s), r.tween.set("frameName", ["whirlpool-1", "whirlpool-2", "whirlpool-3", "whirlpool-4"], 100, 9999), r.tween.start(), r
			}
			return n(e, t), e.prototype.update = function() {
				t.prototype.update.call(this), this.tween.update()
			}, e
		}(i(7).Element);
	e.Whirlpool = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(19),
		o = function(t) {
			function e(e, i, n, o) {
				var r = t.call(this, e, i, n, o) || this;
				r.tween = null;
				var s = r.add(r.game.prodigy.create.sprite(0, 0, "atlas-120", "tornado-1"));
				return r.tween = new a.TweenController(s), r.tween.set("frameName", ["tornado-1", "tornado-2", "tornado-3", "tornado-4"], 100, 9999), r.tween.start(), r
			}
			return n(e, t), e.prototype.update = function() {
				t.prototype.update.call(this), this.tween.update()
			}, e
		}(i(7).Element);
	e.Tornado = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(19),
		o = i(7),
		r = i(5),
		s = function(t) {
			function e(e, i, n, o, r) {
				var s = t.call(this, e, i, n, o) || this;
				s.graphic = null, s.vanishTween = null, s.activeTween = null, s.updateEnabled = !0, s.graphic = s.add(s.game.prodigy.create.sprite(0, 0, "atlas-120", "ink-idle-1")), s.graphic.anchor.setTo(.5, 1), s.graphic.x += .5 * s.graphic.width, s.graphic.y += s.graphic.height;
				var l = new a.TweenController(s.graphic);
				return l.set("frameName", ["ink-idle-1", "ink-idle-2", "ink-idle-3", "ink-idle-4"], 150, 9999), s.vanishTween = new a.TweenController(s.graphic), s.vanishTween.delay(r), s.vanishTween.set("frameName", ["ink-vanish-1", "ink-vanish-2", "ink-vanish-3", "ink-vanish-4", "ink-vanish-5"], 150, 9999), s.vanishTween.end(function() {
					s.onEnd()
				}), s.activeTween = l, s.activeTween.start(), s
			}
			return n(e, t), e.prototype.onClicked = function() {
				this.activeTween = this.vanishTween, this.activeTween.start()
			}, e.prototype.update = function() {
				t.prototype.update.call(this), this.updateEnabled && this.activeTween.update()
			}, e.prototype.onEnd = function() {
				this.visible = !1, this.updateEnabled = !1, this.game.broadcaster.broadcast(r.EShipwreckShoreEvents.InkBlasted, this.parent, [])
			}, e
		}(o.Element);
	e.Ink = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(96),
		o = i(7),
		r = i(0),
		s = i(545),
		l = function(t) {
			function e(e, i, n, o, l, c) {
				var h = t.call(this, e, i.above, 0, 0) || this;
				h.inkGroup = [], h.pathTarget = null, h.onClickCallbacks = null, h.pathTarget = l, h.onClickCallbacks = c.concat(i.process.bind(i));
				var u = null,
					p = null,
					d = [0, 250, 500, 750];
				d = a(d);
				for (var g = 0; g < o.length; g++) u = o[g], (p = new s.Ink(e, h, u.x, u.y, d[g % d.length])).graphic.inputEnabled = !0, p.graphic.events.onInputDown.add(h.onClicked.bind(h, i, n), h), p.graphic.scale.x = r.Util.isValid(u.scaleX) ? u.scaleX : 1, p.graphic.scale.y = r.Util.isValid(u.scaleY) ? u.scaleY : 1, h.inkGroup.push(p);
				return h
			}
			return n(e, t), e.prototype.onClicked = function(t, e) {
				var i = this.game.prodigy.event.create(),
					n = 0;
				if (i.validPath(t.user, t.path, this.pathTarget.x, this.pathTarget.y), this.game.prodigy.player.backpack.hasItem("key", 15) > 0 && e > 4)
					for (i.sound(20, "clear-ink", null), n = 0; n < this.inkGroup.length; n++) i.function(this.inkGroup[n].onClicked.bind(this.inkGroup[n]));
				for (n = 0; n < this.onClickCallbacks.length; n++) i.function(this.onClickCallbacks[n]);
				i.start()
			}, e
		}(o.Element);
	e.InkGroup = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(19),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i, 0, 0) || this;
				n.tween = null;
				var o = n.add(e.prodigy.create.sprite(0, 0, "atlas-19", "bubble-1"));
				return o.anchor.setTo(.5, 0), o.y -= .5 * i.height, n.tween = new a.TweenController(o), n.tween.set("frameName", ["bubble-1", "bubble-2", "bubble-3"], 150, 9999), n.tween.start(), n
			}
			return n(e, t), e.prototype.update = function() {
				t.prototype.update.call(this), this.tween.update()
			}, e
		}(i(7).Element);
	e.BreathingBubble = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = i(5),
		r = i(29),
		s = i(0),
		l = i(234),
		c = i(148),
		h = i(32),
		u = i(547),
		p = i(546),
		d = i(231),
		g = i(544),
		f = i(543),
		y = i(542),
		m = i(541),
		_ = i(540),
		v = i(539),
		E = i(538),
		b = i(537),
		O = i(536),
		I = i(535),
		T = i(534),
		A = i(532),
		C = i(531),
		S = i(530),
		w = i(529),
		D = i(528),
		P = i(527),
		L = i(526),
		x = i(525),
		M = i(524),
		U = i(523),
		N = i(522),
		R = i(521),
		k = i(520),
		B = i(519),
		G = i(518),
		V = i(517),
		F = i(516),
		j = i(515),
		H = i(514),
		z = i(513),
		W = i(512),
		K = i(511),
		Y = i(510),
		q = i(509),
		Q = i(508),
		X = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				i.name = "Shipwreck Shore", i.ID = "shipwreck_shore", i.battleBG = "battle-shipwreck-outside", i.onFaint = "shipwreck_shore-B12", i.questHub = "shipwreck_shore-B12", i.bgmID = 16, i.currency = 14, i.states = ["wizardC8", "wizardA5", "chestA3", "chestA5", "chestB5", "chestB13", "chestB10", "chestBreathingBubble", "mimic1", "mimic2", "inkA7", "inkB6", "inkB5", "inkA5", "inkC9", "inkB7", "squeak"];
				var n = ["tileset-water-new", "tileset-generic-new", "tileset-collisions", "tileset-ship-exterior", "tileset-ship-interior", "bgm-16"];
				return i.maps = {
					A1: new y.ShipwreckShoreA1(i, n),
					A2: new m.ShipwreckShoreA2(i, n),
					A3: new _.ShipwreckShoreA3(i, n),
					A4: new v.ShipwreckShoreA4(i, n),
					A5: new E.ShipwreckShoreA5(i, n),
					A7: new b.ShipwreckShoreA7(i, n),
					B2: new C.ShipwreckShoreB2(i, n),
					B4: new S.ShipwreckShoreB4(i, n),
					B5: new w.ShipwreckShoreB5(i, n),
					B6: new D.ShipwreckShoreB6(i, n),
					B7: new P.ShipwreckShoreB7(i, n),
					B8: new L.ShipwreckShoreB8(i, n),
					B10: new O.ShipwreckShoreB10(i, n),
					B11: new I.ShipwreckShoreB11(i, n),
					B12: new T.ShipwreckShoreB12(i, n),
					B13: new A.ShipwreckShoreB13(i, n),
					C6: new N.ShipwreckShoreC6(i, n),
					C7: new R.ShipwreckShoreC7(i, n),
					C8: new k.ShipwreckShoreC8(i, n),
					C9: new B.ShipwreckShoreC9(i, n),
					C10: new x.ShipwreckShoreC10(i, n),
					C11: new M.ShipwreckShoreC11(i, n),
					C12: new U.ShipwreckShoreC12(i, n),
					Titan: new c.TitanMap(i, n, {
						map: "shipwreck_shore-Titan",
						cutscene: "shipwreck_shore-titanIntro",
						harvey: {
							x: 175,
							y: 200
						},
						sign: {
							x: 100,
							y: 200
						},
						catapult: {
							x: 200,
							y: 430,
							arcHeight: 300
						},
						titan: {
							x: 1100,
							y: 400,
							impactOffset: {
								x: -130,
								y: 0
							}
						},
						entry: {
							x: 550,
							y: 400
						}
					})
				}, i.quests = {
					1: new G.ShipwreckShoreQ1(i, []),
					2: new j.ShipwreckShoreQ2(i, []),
					3: new H.ShipwreckShoreQ3(i, []),
					4: new z.ShipwreckShoreQ4(i, []),
					5: new W.ShipwreckShoreQ5(i, []),
					6: new K.ShipwreckShoreQ6(i, []),
					7: new Y.ShipwreckShoreQ7(i, []),
					8: new q.ShipwreckShoreQ8(i, []),
					9: new Q.ShipwreckShoreQ9(i, []),
					10: new V.ShipwreckShoreQ10(i, []),
					11: new F.ShipwreckShoreQ11(i, [])
				}, i.scenes = {
					titanIntro: new l.TitanIntro(i, ["tileset-interior-general", "tileset-wall-collisions", "bgm-10"])
				}, i
			}
			return n(e, t), e.prototype.init = function(e, i, n) {
				t.prototype.init.call(this, e, i, n);
				var a = this.isUnderwaterMap(n.getTag()),
					r = e.prodigy.player.backpack.hasItem("key", 14) > 0;
				if (a && e.broadcaster.addAppListener(o.ECreatureEvents.PlayerLoaded, this.addBreathingBubbleToPlayerContainer.bind(this), this, this.game), (this.getCurrentQuestID() > 1 || r && "B12" === n.getTag()) && (a ? (this.battleBG = "battle-shipwreck-underwater", r && new u.BreathingBubble(e, i.user.sprites), n.enableLayerID(0, !(r && a))) : (this.battleBG = "battle-shipwreck-outside", n.enableLayerID(0, !(r && this.hasWhirlpool(n.getTag()))))), "C9" === n.getTag() || "B7" === n.getTag()) {
					var s = this.getState("inkC9"),
						l = this.getState("inkB7");
					n.enableLayerID(1, 1 !== s && 1 !== l)
				} else n.enableLayerID(1, 1 !== this.getState("ink" + n.getTag()))
			}, e.prototype.addBreathingBubbleToPlayerContainer = function(t) {
				s.Util.isValid(t) && this.game.prodigy.user === t && new u.BreathingBubble(this.game, t.sprites)
			}, e.prototype.startQuest = function(e) {
				var i = t.prototype.startQuest.call(this, e);
				return s.Util.isValid(i) && e > 2 ? (this.setState("squeak", r.Random.integerInRange(0, 4)), i) : null
			}, e.prototype.cleanup = function() {
				t.prototype.cleanup.call(this), this.game.broadcaster.removeAppListener(o.EWalkableScreenEvents.PlayerAdded, this, this.game), this.game.broadcaster.removeAppListener(o.ECreatureEvents.PlayerLoaded, this, this.game)
			}, e.prototype.isUnderwaterMap = function(t) {
				return "A2" === t || "A3" === t || "A5" === t || "A7" === t || "B5" === t || "B6" === t || "B7" === t || "B8" === t || "B10" === t || "B13" === t || "C6" === t || "C7" === t || "C8" === t || "C9" === t
			}, e.prototype.hasWhirlpool = function(t) {
				return "A1" === t || "A4" === t || "B11" === t || "B12" === t || "C10" === t
			}, e.prototype.addUnderwaterWizard = function(t, e, i, n, a, o) {
				var r = e.addWizard(this.game, t, i, n, a, o, !1);
				s.Util.isValid(r) && (new u.BreathingBubble(this.game, r.sprites).y += 24)
			}, e.prototype.addShortcut = function(t, e, i) {
				var n = t.background.add(this.game.prodigy.create.sprite(e, i, "atlas-120", "sand-shortcut"));
				n.y -= .5 * n.height, n.x -= .5 * n.width
			}, e.prototype.enableShortcut = function(t, e, i, n, a) {
				if (1 === this.getState("inkC9") && 1 === this.getState("inkB7")) {
					var o = this.createAreaEvent(t, e, i, n, 3, 2, a, !1);
					return o.process(this, e), o
				}
			}, e.prototype.addWhirlpool = function(t, e, i, n, a) {
				var o, r, s, l = n;
				this.isUnderwaterMap(e.getTag()) ? ((o = new g.Tornado(this.game, t.background, i, n)).y -= .75 * o.height, r = 3, s = 4, l -= 40) : ((o = new f.Whirlpool(this.game, t.background, i, n)).y -= .5 * o.height, r = 3, s = 2), o.x -= .5 * o.width, this.createAreaEvent(t, e, i, l, r, s, a, this.isUnderwaterMap(e.getTag()))
			}, e.prototype.createAreaEvent = function(t, e, i, n, a, o, r, s) {
				if (this.game.prodigy.player.backpack.hasItem("key", 14) > 0) {
					var l = this.getArrowOffsetFromHandRotation(r.handRotation, s);
					return e.addAreaEvent(this.game, t, {
						x: i,
						y: n,
						w: 40 * a,
						h: 40 * o,
						rect: !0,
						arrowOffsetX: l.x,
						arrowOffsetY: l.y
					}, r.target, r.x, r.y, r.callback, r.handRotation, !1)
				}
			}, e.prototype.getArrowOffsetFromHandRotation = function(t, e) {
				var i = {
					x: 0,
					y: 0
				};
				switch (t) {
					case a.EAreaEventAngle.UP:
						i.y = 40 + (e ? 40 : 0);
						break;
					case a.EAreaEventAngle.RIGHT:
						i.x = -40;
						break;
					case a.EAreaEventAngle.DOWN:
						i.y = (e ? -40 : 0) - 40;
						break;
					case a.EAreaEventAngle.LEFT:
						i.x = 40;
						break;
					default:
						i.x = 0, i.y = 0
				}
				return i
			}, e.prototype.addInkGroup = function(t, e, i, n, a) {
				var r = "ink" + e.getTag(),
					l = a;
				if (1 !== this.getState(r)) {
					var c = this.getCurrentQuestID();
					return this.game.prodigy.player.backpack.hasItem("key", 15) > 0 && c > 0 && (l.push(this.sonicBlastInk.bind(this, t, e, r)), l.push(this.game.broadcaster.broadcast.bind(this.game.broadcaster, o.EShipwreckShoreEvents.InkGroupDestroyed, this.game, []))), s.Util.isValid(e.questParams) && s.Util.isValid(e.questParams.inkCallbacks) && (l = l.concat(e.questParams.inkCallbacks)), new p.InkGroup(this.game, t, c, i, n, l)
				}
				return null
			}, e.prototype.sonicBlastInk = function(t, e, i) {
				this.setState(i, 1), "inkC9" === i ? e.enableLayerID(1, 1 !== this.getState("inkB7")) : "inkB7" === i ? e.enableLayerID(1, 1 !== this.getState("inkC9")) : (e.enableLayerID(1, !1), t.area = e.init(this.game, e.below, e.above, t), t.path.init(t.area, t.tileSize))
			}, e.prototype.getCompletedStatesCount = function(t) {
				for (var e = 0, i = 0; i < t.length; i++) 1 === this.getState(t[i]) && e++;
				return e
			}, e.prototype.addSqueak = function(t, e, i, n, a) {
				var o = e.getTag(),
					r = this.getState("squeak");
				if (s.Util.isValid(r) && 4 !== r && ("C9" === o && 0 === r || "C8" === o && 1 === r || "C7" === o && 2 === r || "B7" === o && 3 === r)) {
					var l = new d.Squeak(this.game, t, this, i, n);
					return a && (l.scale.x = -1), l
				}
				return null
			}, e
		}(h.Zone);
	e.ShipwreckShoreZone = X
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B3", i.concat(["spine-10", "spine-9"])) || this;
				return n.loadingData.time = 1, n
			}
			return n(e, t), e.prototype.start = function(t, e) {
				var i = t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.game.prodigy.create.animatedSpineNPC(e.content, "spine-10", {
					text: i.getText("NPC_NAME_HARRIET_HOOD"),
					x: 0,
					y: -120
				}, {
					type: "spine"
				}, 590, 415, [{
					name: "idle-1",
					min: 1,
					max: 5
				}, {
					name: "idle-2",
					min: 1,
					max: 1
				}], "idle-1", null), this.game.prodigy.create.animatedSpineNPC(e.content, "spine-9", {
					text: i.getText("NPC_NAME_DON_ZORRO"),
					x: 0,
					y: -100
				}, {
					type: "spine"
				}, 700, 390, [{
					name: "idle-2",
					min: 1,
					max: 5
				}, {
					name: "idle-3",
					min: 1,
					max: 1
				}], "idle-1", null);
				var n = this.game.prodigy.event.create();
				n.function(this.enterScene.bind(this, t, e)), n.delay(500), n.text(0, "don-zorro"), n.delay(500), n.text(0, "harriet"), n.delay(500), n.text(1, "don-zorro"), n.delay(500), n.text(1, "harriet"), n.delay(500), n.text(2, "don-zorro"), n.delay(500), n.text(2, "harriet"), n.functionCallback(t.prodigy.open.gotItem.bind(t.prodigy.open, [{
					type: "hat",
					ID: "126",
					N: 1
				}])), n.delay(500), n.text(3, "don-zorro"), n.delay(500), n.text(4, "don-zorro"), n.functionCallback(t.prodigy.open.gotItem.bind(t.prodigy.open, [{
					type: "hat",
					ID: "123",
					N: 1
				}])), n.function(this.end.bind(this, t, e, !0)), n.start()
			}, e.prototype.end = function(t, e, i) {
				if (i) {
					t.prodigy.world.teleport("lamplight-B3", 120, 420, null, {
						fadeIn: !0,
						time: 500,
						fadeOut: !0
					});
					for (var n = 0; n < t.prodigy.skin.active.length; n++) "Springfest" === t.prodigy.skin.active[n].festivalName && t.prodigy.skin.active[n].setIntroState(t.prodigy.player, 1)
				}
			}, e
		}(i(36).Scene);
	e.SpringfestIntro = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 1, "", {
				type: "seq",
				N: 7
			}, ["lamplight-A3"], [], [], [0], [], !1) || this
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			return t.prototype.setup.call(this, e, i, n), this.zone.completeQuest(1), null
		}, e
	}(i(8).Quest);
	e.LamplightQ1 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, "D3", "MAP_LAMPLIGHT_FORT_FOX", 100, 460, ["lamplight-C3"], i) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				void 0 === n && (n = {}), t.prototype.setup.call(this, e, i), this.addAreaEvent(e, i, {
					x: 0,
					y: 460,
					w: 80,
					h: 260,
					rect: !0
				}, "lamplight-C3", 1050, 510, null, a.EAreaEventAngle.LEFT)
			}, e
		}(i(10).Map);
	e.LamplightD3 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || Object.assign || function(t) {
			for (var e, i = 1, n = arguments.length; i < n; i++)
				for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
			return t
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = i(98),
		s = i(275),
		l = i(0),
		c = function(t) {
			function e(e, i) {
				return t.call(this, e, "coliseum", "MAP_LAMPLIGHT_COLISEUM", 640, 520, [], i.concat(["tileset-darktower", "tileset-town-new", "atlas-110", "atlas-111", "atlas-66", "atlas-71", "tileset-water-new"])) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				var a = this;
				if (void 0 === n && (n = {}), t.prototype.setup.call(this, e, i, n), !l.Util.isValid(s.Coliseum.dialogue[0].text))
					for (var c = 0; c < s.Coliseum.dialogue.length; ++c) l.Util.isValid(s.Coliseum.dialogue[c].textKey) && Object.defineProperty(s.Coliseum.dialogue[c], "text", {
						get: function() {
							return e.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText(this.textKey)
						}
					});
				new r.QuestNPC(e, i.content, 400, 400, {
					name: e.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("NPC_NAME_CLANKBOOT"),
					atlas: "clankboot",
					atlasID: 66
				}, function() {
					a.openArena(e)
				}, !0), i.addGnome(640, 200, "NPC_NAME_ARENA_CALLER", 1, 2, function() {
					a.openArenaMenu(e)
				});
				var h = e.prodigy.create.element(i.content, 950, 325),
					u = e.prodigy.create.sprite(-20, -130, "singleImage-40");
				h.add(u), u.inputEnabled = !0, u.events.onInputDown.add(function() {
					var t = e.prodigy.pvpNetworkHandler,
						i = e.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService);
					l.Util.isValid(t.seasonID) ? e.prodigy.open.pvpPrizes() : t.isInitialized ? e.prodigy.open.messageBoxOkay(i.getText("SEASON_COMPLETED")) : e.prodigy.open.message(i.getText("LEADERBOARD_ERROR_TEMPORARILY_UNAVAILABLE"), null, null, i.getText("MESSAGE_TITLE_OOPS"))
				}), this.zone.addDoor(i, 520, 560, 240, 80, 640, 600, function() {
					e.prodigy.world.teleport("lamplight-C3", 580, 360)
				})
			}, e.prototype.openArena = function(t) {
				var e = t.prodigy.dialogue.create();
				e.setText(a({}, s.Coliseum.dialogue[0], {
					text: t.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText(s.Coliseum.dialogue[0].textKey),
					yes: function() {
						t.prodigy.open.arena()
					}
				})), e.start("clankboot")
			}, e.prototype.openArenaMenu = function(t) {
				var e = t.prodigy.event.create();
				l.Util.isValid(t.prodigy.player.world) ? (e.yesNoText(15, "merchant"), e.function(t.prodigy.open.social.bind(t.prodigy.open, 0))) : e.text(16, "merchant"), e.start()
			}, e
		}(i(10).Map);
	e.LamplightColiseum = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(11),
		o = i(3),
		r = function(t) {
			function e(e, i) {
				return t.call(this, e, "C4", "MAP_LAMPLIGHT_MARKET", 200, 180, ["lamplight-B4", "lamplight-C3"], i.concat(["atlas-81"])) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				void 0 === n && (n = {}), t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 60,
					y: 420,
					w: 120,
					h: 200,
					rect: !0
				}, "lamplight-B4", 1160, 457.5, a(n, "distractCallback", null), o.EAreaEventAngle.LEFT), this.addAreaEvent(e, i, {
					x: 200,
					y: 60,
					w: 160,
					h: 120,
					rect: !0
				}, "lamplight-C3", 160, 540, null, o.EAreaEventAngle.UP), this.zone.addDoor(i, 840, 280, 120, 160, 900, 440, e.prodigy.open.store.bind(e.prodigy.open, 2))
			}, e
		}(i(10).Map);
	e.LamplightC4 = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(0),
		o = function() {
			function t(t, e, i) {
				var a = this;
				this.game = null, this.pages = [], this.game = t;
				var o = this.game.prodigy.player.hasCompletedTutorial();
				if (e.addClickableEvent(900, 220, 160, 180, function() {
						if (o) {
							var t = a.game.prodigy.event.create();
							t.validPath(e.user, e.path, 980, 425), t.function(function() {
								a.game.prodigy.open.bountyBoard()
							}), t.start()
						} else a.game.prodigy.open.message(a.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText("BOUNTY_BOARD_UNLOCK_MESSAGE"), null)
					}, null), o) {
					e.addGnome(860, 400, "NPC_NAME_BOARDY", 4, 3, function() {
						a.boardyClicked()
					});
					for (var r = 0; r < this.game.prodigy.player.state.get("world-bounties").length; r++) this.game.prodigy.player.state.get("world-bounties")[r] > 0 && (this.pages[r] = e.content.add(this.game.prodigy.create.sprite(20 * r + 942.5, 300, "atlas-116", "page")))
				}
			}
			return t.prototype.boardyClicked = function() {
				for (var t, e = this, i = this.game.prodigy.bounty.getBounties(), n = 0, o = 0; o < i.length; o++)
					if (1 === i[o].complete) {
						this.game.prodigy.network.sendAnalytics("Bounty", "complete", "Events"), n += this.game.prodigy.bounty.getReward(i[o]);
						var r = i[o].ID - 84,
							s = this.game.prodigy.player.state.get("world-bounties");
						s[i[o].ID - 84] = -1 * s[i[o].ID - 84], this.game.prodigy.player.state.set("world-bounties", s), this.game.prodigy.player.backpack.consume("item", i[o].ID, 1), a.Util.isValid(this.pages[r]) && this.pages[r].destroy()
					} n > 0 ? ((t = this.game.prodigy.event.create()).text(13, "merchant"), t.function(function() {
					e.game.prodigy.open.gotItem([{
						type: "bounty",
						N: n
					}], null, null, "bounty-board-reward")
				}), t.start(), this.game.prodigy.player.addBountyScore(n)) : ((t = this.game.prodigy.event.create()).yesNoText(17, "merchant"), t.function(function() {
					e.game.prodigy.open.bountyStore()
				}), t.start())
			}, t
		}();
	e.BountyBoard = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = i(10),
		r = i(554),
		s = function(t) {
			function e(e, i) {
				return t.call(this, e, "C3", "MAP_LAMPLIGHT_COLISEUM", 160, 540, ["lamplight-B3", "lamplight-C2", "lamplight-C4"], i.concat(["atlas-81"])) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				void 0 === n && (n = {}), t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 40,
					y: 400,
					w: 80,
					h: 240,
					rect: !0
				}, "lamplight-B3", 1160, 417.5, null, a.EAreaEventAngle.LEFT), this.addAreaEvent(e, i, {
					x: 200,
					y: 80,
					w: 160,
					h: 160,
					rect: !0
				}, "lamplight-C2", 200, 600, null, a.EAreaEventAngle.UP), this.addAreaEvent(e, i, {
					x: 160,
					y: 660,
					w: 160,
					h: 120,
					rect: !0
				}, "lamplight-C4", 200, 180, null, a.EAreaEventAngle.DOWN), this.zone.addDoor(i, 520, 200, 120, 160, 580, 360, function() {
					e.prodigy.world.teleport("lamplight-coliseum")
				}), new r.BountyBoard(e, i, i.data)
			}, e
		}(o.Map);
	e.LamplightC3 = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(3),
		r = function(t) {
			function e(e, i) {
				return t.call(this, e, "C2", "MAP_LAMPLIGHT_HISTORY_DISTRICT", 200, 600, ["lamplight-B2", "lamplight-C3"], i.concat(["atlas-81"])) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				void 0 === n && (n = {}), t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 40,
					y: 320,
					w: 80,
					h: 160,
					rect: !0
				}, "lamplight-B2", 1160, 320, null, o.EAreaEventAngle.LEFT), this.addAreaEvent(e, i, {
					x: 200,
					y: 680,
					w: 160,
					h: 80,
					rect: !0
				}, "lamplight-C3", 200, 240, null, o.EAreaEventAngle.DOWN);
				var r = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					s = function() {
						e.prodigy.open.message(r.getText("LAMPLIGHT_DOOR_COMING_SOON_MESSAGE"), null, "star", r.getText("LAMPLIGHT_DOOR_COMING_SOON_TITLE"))
					};
				this.zone.addDoor(i, 520, 240, 120, 160, 580, 400, s, !0), this.zone.addDoor(i, 920, 240, 120, 160, 980, 400, s, !0)
			}, e
		}(i(10).Map);
	e.LamplightC2 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = i(5),
		r = i(33),
		s = i(0),
		l = function(t) {
			function e(e, i, n, a) {
				var o = this,
					s = new r.NPC(e);
				return s.init({
					name: "NPC_NAME_SIR_VEY"
				}), (o = t.call(this, e, i.content, s, null, n, a) || this).screen = i, o.setup(), o
			}
			return n(e, t), e.prototype.walk = function() {
				this.stand()
			}, e.prototype.stand = function() {}, e.prototype.removeListener = function() {
				this.game.broadcaster.removeAppListener(o.ESurveyEvents.OnGetDataComplete, this)
			}, e.prototype.setup = function() {
				this.onDestroy.add(this.removeListener.bind(this)), this.game.broadcaster.addAppListener(o.ESurveyEvents.OnGetDataComplete, this.onGetDataComplete.bind(this), this), this.sprite = this.game.prodigy.create.element(this.sprites, 0, 0), this.sirveySpine = this.game.add.spine(0, 0, "spine-1"), this.sirveySpine.setAnimationByName(0, "idle", !0), this.sprite.add(this.sirveySpine), this.setupCollisionBlock(), this.showName(), this.nameText.GameObject.y = -115, this.game.prodigy.surveyController.getSurveyData()
			}, e.prototype.onGetDataComplete = function(t) {
				if (this.surveyData = t, s.Util.isValid(this.surveyData) && s.Util.isValid(this.surveyData.id)) {
					if (!s.Util.isValid(this.exclamation)) {
						var e = this.sprite.height + 60;
						this.exclamation = this.add(this.game.prodigy.create.sprite(-20, -e, "atlas-21", "exclamation")), this.game.add.tween(this.exclamation).to({
							y: -(e + 10)
						}, 400, Phaser.Easing.Linear.None, !0, 0, a.GameConstants.MAX_SAFE_INTEGER, !0), this.game.time.events.add(5e3, this.attention.bind(this), this)
					}
				} else s.Util.isValid(this.exclamation) && (this.exclamation.destroy(), this.exclamation = null)
			}, e.prototype.attention = function() {
				s.Util.isValid(this.exclamation) && (this.sirveySpine.setAnimationByName(0, "jump", !1), this.sirveySpine.addAnimationByName(0, "idle", !0), this.game.time.events.add(3e3 * Math.random() + 5e3, this.attention.bind(this), this))
			}, e.prototype.setupCollisionBlock = function() {
				this.collisionBlock = this.sprite.add(this.game.prodigy.create.sprite(-.5 * this.sprite.width, -this.sprite.height, "atlas-18", "empty")), this.collisionBlock.width = this.sprite.width, this.collisionBlock.height = this.sprite.height, this.collisionBlock.inputEnabled = !0, this.collisionBlock.events.onInputDown.add(this.onClicked.bind(this))
			}, e.prototype.onClicked = function() {
				var t = this;
				this.screen.path.findPath(this.screen.user.x, this.screen.user.y, this.x - 20, this.y + 20, function(e) {
					s.Util.isValid(e) && t.screen.user.setPath(e, t.encounter.bind(t))
				})
			}, e.prototype.encounter = function() {
				var t = this.game.prodigy.dialogue.create();
				this.surveyData = this.game.prodigy.surveyController.getSurveyData(), s.Util.isValid(this.surveyData) && s.Util.isValid(this.surveyData.id) ? (t.setText(1), t.setText({
					callback: this.showSurveyPanel.bind(this)
				})) : t.setText(0), t.start("sir-vey")
			}, e.prototype.showSurveyPanel = function() {
				this.game.prodigy.open.survey(this.surveyData)
			}, e
		}(i(17).CreatureContainer);
	e.SirVey = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(557),
		o = i(3),
		r = function(t) {
			function e(e, i) {
				return t.call(this, e, "B5", "MAP_LAMPLIGHT_SOUTHERN_DOCK", 200, 120, ["lamplight-B4"], i.concat("spine-1")) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				void 0 === n && (n = {}), t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 200,
					y: 40,
					w: 160,
					h: 80,
					rect: !0
				}, "lamplight-B4", 160, 600, null, o.EAreaEventAngle.UP), new a.SirVey(e, i, 600, 380)
			}, e
		}(i(10).Map);
	e.LamplightB5 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, "B4", "MAP_LAMPLIGHT_LOWER_INTERSECTION", 160, 600, ["lamplight-A4", "lamplight-C4", "lamplight-B5"], i) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				void 0 === n && (n = {}), t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1240,
					y: 420,
					w: 80,
					h: 200,
					rect: !0
				}, "lamplight-C4", 180, 457.5, null, a.EAreaEventAngle.RIGHT), this.addAreaEvent(e, i, {
					x: 40,
					y: 420,
					w: 80,
					h: 200,
					rect: !0
				}, "lamplight-A4", 1160, 457.5, null, a.EAreaEventAngle.LEFT), this.addAreaEvent(e, i, {
					x: 160,
					y: 680,
					w: 160,
					h: 80,
					rect: !0
				}, "lamplight-B5", 200, 120, null, a.EAreaEventAngle.DOWN), this.zone.addDoor(i, 600, 240, 120, 160, 660, 400, function() {
					e.prodigy.start("DanceDance")
				})
			}, e
		}(i(10).Map);
	e.LamplightB4 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(19),
		o = i(33),
		r = function(t) {
			function e(e, i, n, a, r, s) {
				var l = this,
					c = new o.NPC(e);
				return c.init({
					name: "NPC_NAME_SCIENTIST_SLIME"
				}), (l = t.call(this, e, i, c, null, n, a) || this).tweens = [], l.content = i, l.firstTime = r, l.zone = s, l.coords = new Phaser.Point(n, a), l.setup(), l
			}
			return n(e, t), e.prototype.update = function() {
				t.prototype.update.call(this);
				for (var e = 0; e < this.tweens.length; e++) this.tweens[e].update()
			}, e.prototype.setup = function() {
				var t = "body_";
				this.body = this.content.add(this.game.prodigy.create.sprite(this.coords.x, this.coords.y, "atlas-134", t + "0")), this.body.anchor.setTo(.5, 1), this.body.inputEnabled = !0, this.body.events.onInputDown.add(this.clicked.bind(this)), this.standTween = [], this.standTween.push(new a.TweenController(this.body)), this.standTween[0].set("frameName", [t + "0", t + "0", t + "0", t + "0", t + "1", t + "2", t + "2", t + "2", t + "1", t + "0", t + "0", t + "0", t + "0", t + "0"], 150, 9999), this.stand()
			}, e.prototype.walk = function() {
				this.stand()
			}, e.prototype.stand = function() {
				this.tweens = this.standTween;
				for (var t = 0; t < this.tweens.length; t++) this.tweens[t].start()
			}, e.prototype.clicked = function() {
				var t = this.game.prodigy.event.create();
				this.firstTime ? (this.game.prodigy.network.sendAnalytics("potion-store-activity", "access-store", "Events"), t.text(0, "potion"), t.text(1, "potion"), t.text(2, "potion"), t.text(3, "potion"), t.function(this.zone.setState.bind(this.zone, "firstPotion", !1)), t.set(this, "firstTime", !1), t.reward([{
					type: "item",
					ID: 115,
					N: 1
				}]), t.text(4, "potion")) : (t.text(6, "potion"), t.text(7, "potion")), t.function(this.game.prodigy.open.store.bind(this.game.prodigy.open, 4)), t.start()
			}, e
		}(i(17).CreatureContainer);
	e.ScientistSlimerella = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(560),
		r = i(3),
		s = i(0),
		l = i(10),
		c = i(119),
		h = function(t) {
			function e(e, i) {
				return t.call(this, e, "B3", "MAP_LAMPLIGHT_TOWN_SQUARE", 120, 417.5, ["lamplight-A3", "lamplight-C3"], i.concat("atlas-116", "atlas-76")) || this
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return s.Util.isNightTime() ? (this.enableLayerID(1, !0), this.enableLayerID(0, !1)) : (this.enableLayerID(1, !1), this.enableLayerID(0, !0)), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				var a = this;
				void 0 === n && (n = {}), t.prototype.setup.call(this, e, i), this.addAreaEvent(e, i, {
					x: 1240,
					y: 380,
					w: 80,
					h: 200,
					rect: !0
				}, "lamplight-C3", 120, 437.5, null, r.EAreaEventAngle.RIGHT), this.addAreaEvent(e, i, {
					x: 40,
					y: 380,
					w: 80,
					h: 200,
					rect: !0
				}, "lamplight-A3", 1160, 437.5, null, r.EAreaEventAngle.LEFT), this.zone.addDoor(i, 1e3, 80, 200, 200, 1100, 280, function() {
					a.openTwilightWheel(e, i)
				}, !0), i.addGnome(970, 300, "NPC_NAME_SPINNER", 2, 1, function() {
					a.openTwilightWheel(e, i)
				}), this.zone.addDoor(i, 100, 80, 160, 200, 180, 280, function() {
					a.openDayWheel(e, i)
				}, !0), i.addGnome(310, 300, "NPC_NAME_WHEELER", 7, 5, function() {
					a.openDayWheel(e, i)
				}).flip(), e.prodigy.network.sendAnalytics("potion-store-activity", "see-scientist", "Events");
				var s = !0 === this.zone.getState("firstPotion");
				new o.ScientistSlimerella(e, i.content, 260, 575, s, this.zone)
			}, e.prototype.openTwilightWheel = function(t, e) {
				s.Util.isNightTime() ? new c.Wheel(t, e.foreground, t.prodigy.player, e, 2) : this.game.prodigy.open.messageBoxOkay(t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("TWILIGHT_WHEEL_COME_BACK_LATER"), this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUTTON_OKAY"), null)
			}, e.prototype.openDayWheel = function(t, e) {
				new c.Wheel(t, e.foreground, t.prodigy.player, e, 1)
			}, e
		}(l.Map);
	e.LamplightB3 = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, "B2", "MAP_LAMPLIGHT_OUTSKIRTS", 640, 220, ["lamplight-A2", "lamplight-B1", "lamplight-C2"], i) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				void 0 === n && (n = {}), t.prototype.setup.call(this, e, i), this.addAreaEvent(e, i, {
					x: 640,
					y: 40,
					w: 240,
					h: 200,
					rect: !0
				}, "lamplight-B1", 1100, 600, null, a.EAreaEventAngle.UP), this.addAreaEvent(e, i, {
					x: 1240,
					y: 320,
					w: 80,
					h: 160,
					rect: !0
				}, "lamplight-C2", 120, 320, null, a.EAreaEventAngle.RIGHT), this.addAreaEvent(e, i, {
					x: 40,
					y: 320,
					w: 80,
					h: 160,
					rect: !0
				}, "lamplight-A2", 1160, 360, null, a.EAreaEventAngle.LEFT)
			}, e
		}(i(10).Map);
	e.LamplightB2 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(11),
		o = i(3),
		r = function(t) {
			function e(e, i) {
				return t.call(this, e, "B1", "MAP_LAMPLIGHT_ACADEMY_CROSSROADS", 160, 600, ["forest-C8", "lamplight-B2"], i) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				void 0 === n && (n = {}), t.prototype.setup.call(this, e, i), this.addAreaEvent(e, i, {
					x: 1100,
					y: 680,
					w: 240,
					h: 80,
					rect: !0
				}, "lamplight-B2", 640, 260, null, o.EAreaEventAngle.DOWN), this.addAreaEvent(e, i, {
					x: 40,
					y: 480,
					w: 80,
					h: 240,
					rect: !0
				}, "forest-C8", 1160, 520, a(n, "distractCallback", null), o.EAreaEventAngle.LEFT)
			}, e
		}(i(10).Map);
	e.LamplightB1 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, "B0", "MAP_LAMPLIGHT_ACADEMY_ENTRANCE", -500, 600, ["lamplight-B1"], i.concat(["atlas-116", "bgm-12", "sfx-34", "sfx-35", "bgm-20"])) || this
		}
		return n(e, t), e.prototype.setup = function(t, e, i) {
			void 0 === i && (i = {}), t.prodigy.player.setBGMVolume(.3), t.prodigy.world.zones.academy.playScene("introPt1")
		}, e
	}(i(10).Map);
	e.LamplightB0 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(11),
		o = i(45),
		r = i(3),
		s = function(t) {
			function e(e, i) {
				return t.call(this, e, "A4", "MAP_LAMPLIGHT_PET_PARK", 1120, 180, ["house-exit", "lamplight-A3", "lamplight-B4"], i) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				void 0 === n && (n = {}), t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1150,
					y: 700,
					w: 340,
					h: 80,
					rect: !0
				}, "lamplight-B2", 320, 340, null, r.EAreaEventAngle.DOWN), e.prodigy.world.getZone("house").completeQuest(1);
				var s = a(n, "distractCallback", null);
				this.addAreaEvent(e, i, {
					x: 40,
					y: 500,
					w: 80,
					h: 160,
					rect: !0
				}, "house-exit", 1160, 380, a(n, "blockDirectionCallbacks.left", null), r.EAreaEventAngle.LEFT), this.addAreaEvent(e, i, {
					x: 1120,
					y: 60,
					w: 160,
					h: 120,
					rect: !0
				}, "lamplight-A3", 1120, 540, a(n, "blockDirectionCallbacks.up", null), r.EAreaEventAngle.UP), this.addAreaEvent(e, i, {
					x: 1240,
					y: 420,
					w: 80,
					h: 200,
					rect: !0
				}, "lamplight-B4", 120, 457.5, a(n, "blockDirectionCallbacks.right", s), r.EAreaEventAngle.RIGHT), this.zone.addDoor(i, 280, 240, 120, 160, 340, 400, function() {
					e.prodigy.open.store(1)
				}), e.prodigy.player.backpack.hasItem("key", 13) > 0 && new o.ToyMerchant(e, i.content, 900, 400)
			}, e
		}(i(10).Map);
	e.LamplightA4 = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(11),
		o = i(233),
		r = i(3),
		s = i(0),
		l = function(t) {
			function e(e, i) {
				return t.call(this, e, "A3", "MAP_LAMPLIGHT_VENDORS_PLAZA", 1120, 540, ["lamplight-A2", "lamplight-B3", "lamplight-A4"], i.concat("spine-2")) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				void 0 === n && (n = {}), t.prototype.setup.call(this, e, i, n);
				var l = a(n, "distractCallback", null),
					c = a(n, "blockDirectionCallbacks.up", l);
				this.addAreaEvent(e, i, {
					x: 180,
					y: 60,
					w: 200,
					h: 120,
					rect: !0
				}, "lamplight-A2", 200, 600, c, r.EAreaEventAngle.UP).isBlocked = s.Util.isValid(c) || s.Util.isValid(l), this.addAreaEvent(e, i, {
					x: 1240,
					y: 400,
					w: 80,
					h: 240,
					rect: !0
				}, "lamplight-B3", 120, 417.5, a(n, "blockDirectionCallbacks.right", null), r.EAreaEventAngle.RIGHT), this.addAreaEvent(e, i, {
					x: 1120,
					y: 660,
					w: 160,
					h: 120,
					rect: !0
				}, "lamplight-A4", 1120, 180, a(n, "blockDirectionCallbacks.down", null), r.EAreaEventAngle.DOWN), new o.Harvey(e, i, 300, 375, !1);
				var h = this.screen.content.add(this.game.prodigy.create.sprite(385, 380, "atlas-140", "harveySign"));
				h.anchor.x = .5, h.anchor.y = 1, h.inputEnabled = !0, h.events.onInputDown.add(function() {
					e.prodigy.open.titanProgress(!0)
				}), this.zone.addDoor(i, 560, 240, 120, 160, 620, 400, e.prodigy.open.store.bind(e.prodigy.open, 3)), this.zone.addDoor(i, 1e3, 160, 120, 160, 1060, 320, e.prodigy.open.stylistStore.bind(e.prodigy.open, null, null, null, {
					onCreateEvent: {
						action: "Stylist-Interaction",
						label: "Visit-From-Lamplight"
					}
				}))
			}, e
		}(i(10).Map);
	e.LamplightA3 = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(11),
		o = i(3),
		r = function(t) {
			function e(e, i) {
				return t.call(this, e, "A2", "MAP_LAMPLIGHT_NORTHWEST_COURT", 200, 600, ["lamplight-B2", "lamplight-A3"], i) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				void 0 === n && (n = {}), t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1240,
					y: 360,
					w: 80,
					h: 160,
					rect: !0
				}, "lamplight-B2", 120, 320, null, o.EAreaEventAngle.RIGHT), this.addAreaEvent(e, i, {
					x: 200,
					y: 680,
					w: 240,
					h: 80,
					rect: !0
				}, "lamplight-A3", 180, 180, a(n, "distractCallback", null), o.EAreaEventAngle.DOWN)
			}, e
		}(i(10).Map);
	e.LamplightA2 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, "A1", "MAP_LAMPLIGHT_BURROW", 1050, 600, ["lamplight-B2"], i) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				void 0 === n && (n = {}), t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1150,
					y: 700,
					w: 340,
					h: 80,
					rect: !0
				}, "lamplight-B2", 320, 340, null, a.EAreaEventAngle.DOWN)
			}, e
		}(i(10).Map);
	e.LamplightA1 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = i(32),
		r = i(568),
		s = i(567),
		l = i(566),
		c = i(565),
		h = i(564),
		u = i(563),
		p = i(562),
		d = i(561),
		g = i(559),
		f = i(558),
		y = i(556),
		m = i(555),
		_ = i(553),
		v = i(552),
		E = i(551),
		b = i(550),
		O = i(549),
		I = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				i.store = null, i.monsters = {
					randDir: !0,
					encounter: [{
						ID: 59
					}, {
						ID: 52
					}, {
						ID: 36
					}]
				}, i.name = "Lamplight", i.ID = "lamplight", i.game = e, i.bgmID = 9, i.minLevel = 1, i.maxLevel = 4, i.battleBG = "battle-lamplight-outside", i.onFaint = "lamplight-B3", i.questHub = "lamplight-B3", i.states = ["event", "1stpresent", "bounty", "daily", "firstPotion"];
				var n = ["tileset-generic-new", "tileset-town-new", "tileset-forest-new", "tileset-collisions", "atlas-71", "atlas-116", "bgm-9", "sfx-15", "atlas-84"];
				return i.maps = {
					A1: new r.LamplightA1(i, n),
					A2: new s.LamplightA2(i, n),
					A3: new l.LamplightA3(i, n),
					A4: new c.LamplightA4(i, n),
					B0: new h.LamplightB0(i, n),
					B1: new u.LamplightB1(i, n),
					B2: new p.LamplightB2(i, n),
					B3: new d.LamplightB3(i, n),
					B4: new g.LamplightB4(i, n),
					B5: new f.LamplightB5(i, n),
					C2: new y.LamplightC2(i, n),
					C3: new m.LamplightC3(i, n),
					C4: new _.LamplightC4(i, n),
					D3: new E.LamplightD3(i, n),
					coliseum: new v.LamplightColiseum(i, n)
				}, i.quests = {
					1: new b.LamplightQ1(i, n)
				}, i.scenes = {
					springfestIntro: new O.SpringfestIntro(i, n)
				}, i
			}
			return n(e, t), e.prototype.init = function(e, i, n) {
				t.prototype.init.call(this, e, i, n), a.Util.isValid(this.getCurrentQuest()) || this.startQuest(1)
			}, e.prototype.addDoor = function(t, e, i, n, a, o, r, s, l) {
				void 0 === l && (l = !1), t.addClickableArea(e, i, n, a, t.user.setValidPath.bind(t.user, t.path, o, r, this.onDoorClick.bind(this, s, l)))
			}, e.prototype.onDoorClick = function(t, e) {
				e || this.game.prodigy.audio.playSFX(15, "door"), t()
			}, e
		}(o.Zone);
	e.LamplightZone = I
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "exit", ["atlas-81", "bgm-11", "sfx-13", "sfx-14", "sfx-15"]) || this;
				return n.noot = null, n.loadingData.time = 1, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), i.user.x = -100, i.user.y = 600, this.monsters = [];
				for (var a = 0; a < 4; a++) {
					var o = this.addMonster(e, i, a + 1, 500, 200, !1, {
						encounter: [{
							ID: 3 * a + 1
						}]
					}, !0, this.choosePet.bind(this, e, i, 3 * a + 1));
					o.alpha = 0, o.walkSpeed = 2, this.monsters.push(o)
				}
			}, e.prototype.start = function(e, i) {
				t.prototype.start.call(this, e, i, 11), this.noot = i.addNPC(340, 500, "atlas-81"), this.noot.float(!0), this.noot.visible = !1;
				var n = e.prodigy.gameContainer.get(a.GameIdentifiers.IFSMController),
					o = e.prodigy.gameContainer.get(a.GameIdentifiers.FSMService);
				n.execute(o.getStateMachine(46), {
					game: e,
					screen: i,
					scene: this,
					player: i.user,
					monsterOne: this.monsters[0],
					monsterTwo: this.monsters[1],
					monsterThree: this.monsters[2],
					monsterFour: this.monsters[3],
					noot: this.noot,
					path: i.path,
					pathfinder: i.path,
					controller: n,
					service: o
				}, null)
			}, e.prototype.end = function() {
				this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("tutorial_2", "pet_choice_dialogue_3").broadcast(), this.game.prodigy.world.teleport("academy-GH3", 640, 700, null, {
					fadeIn: !0,
					time: 200,
					fadeOut: !0
				})
			}, e.prototype.endBattle = function() {
				var t = this;
				this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("tutorial_2", "second_battle").broadcast();
				var e = this.game.prodigy.dialogue.create();
				e.setText({
					index: 199
				}), e.setText({
					callback: function() {
						t.end()
					}
				}), e.start("noot", !1), this.zone.completeSequence(1, 3)
			}, e.prototype.choosePet = function(t, e, i) {
				var n = this;
				this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("tutorial_2", "palletpass_select_a_pet").broadcast(), t.prodigy.open.choosePet(i, function() {
					n.petsLeave(t, e, i)
				})
			}, e.prototype.rescueBattle = function(t, e) {
				var i = this,
					n = {
						invincible: !1,
						intro: t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMBAT_WIZARD_BATTLE"),
						catch: !0,
						run: !1,
						starOverride: 20,
						screen: "battle-forest-generic",
						allowMember: !1,
						switchDisabled: !0,
						epicAttacksDisabled: !0,
						dropsDisabled: !0,
						drops: [{
							type: "gold",
							N: 50
						}],
						encounter: [{
							ID: e.monsterData.ID
						}],
						difficulty: 3,
						playerImmortal: !0,
						enemiesImmortal: !0
					};
				t.prodigy.battle.start(n, function() {
					i.endBattle()
				}, function() {
					i.endBattle()
				}, function() {
					i.endBattle()
				}, "house-exit")
			}, e.prototype.petsLeave = function(t, e, i) {
				for (var n = [], o = (i - 1) / 3, r = 0; r < 4; r++) o !== r && n.push(this.monsters[r]);
				var s = t.prodigy.gameContainer.get(a.GameIdentifiers.IFSMController),
					l = t.prodigy.gameContainer.get(a.GameIdentifiers.FSMService);
				s.execute(l.getStateMachine(47), {
					game: t,
					screen: e,
					scene: this,
					noot: this.noot,
					player: e.user,
					chosenMonster: this.monsters[o],
					monsterOne: n[0],
					monsterTwo: n[1],
					monsterThree: n[2],
					path: e.path,
					pathfinder: e.path,
					controller: s,
					service: l
				}, null)
			}, e
		}(i(36).Scene);
	e.HousePets = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = i(270),
		s = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "suburbs", i.concat(["atlas-81", "bgm-11", "sfx-13"])) || this;
				return n.loadingData.time = 1, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), i.user.x = 480, i.user.y = 280, i.user.hideName(), e.prodigy.create.houseItem(i.background, 17, 480, 160), i.foreground.add(e.prodigy.create.sprite(420, 160, "sheets-dorm-17")), e.prodigy.create.houseItem(i.background, 3, 400, 160), e.prodigy.create.houseItem(i.background, 18, 440, 100), e.prodigy.create.houseItem(i.background, 18, 840, 100), e.prodigy.create.houseItem(i.background, 14, 880, 240), e.prodigy.create.houseItem(i.background, 1, 880, 140), e.prodigy.create.houseItem(i.background, 13, 640, 80)
			}, e.prototype.start = function(e, i) {
				t.prototype.start.call(this, e, i, 11), this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("tutorial_2", "tutorial_start").broadcast(), r.PlayAtHome.isRequired(e.prodigy.player) ? e.prodigy.open.playAtHomePrompt(this.houseIntro.bind(this, e, i)) : this.houseIntro(e, i)
			}, e.prototype.houseIntro = function(t, e) {
				var i = e.addNPC(820, 540, "atlas-81");
				i.float(!0), i.walkSpeed = 2, i.visible = !1;
				var n = t.prodigy.gameContainer.get(a.GameIdentifiers.IFSMController),
					o = t.prodigy.gameContainer.get(a.GameIdentifiers.FSMService);
				n.execute(o.getStateMachine(56), {
					scene: this,
					game: t,
					screen: e,
					zone: this.zone,
					player: e.user,
					noot: i,
					path: e.path,
					pathfinder: e.path
				}, null)
			}, e
		}(i(36).Scene);
	e.HouseIntro = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "exterior", ["atlas-81", "monster-reduced-38", "tileset-collisions", "tileset-generic-new", "tileset-forest-new", "bgm-11"]) || this;
				return n.noot = null, n.loadingData.time = 1, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.game = e, i.user.x = 1500, i.user.y = 480, this.noot = i.addNPC(1500, 500, "atlas-81"), this.noot.float(!0)
			}, e.prototype.start = function(e, i) {
				t.prototype.start.call(this, e, i, 9);
				var n = e.prodigy.gameContainer.get(a.GameIdentifiers.IFSMController),
					o = e.prodigy.gameContainer.get(a.GameIdentifiers.FSMService);
				n.execute(o.getStateMachine(49), {
					game: e,
					screen: i,
					scene: this,
					player: i.user,
					noot: this.noot,
					open: e.prodigy.open,
					path: i.path,
					pathfinder: i.path
				}, null)
			}, e.prototype.end = function(t) {
				this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("tutorial_2", "escaped_dialogue_2").broadcast(), this.game.prodigy.open.map(!0, ["WORLD_DYNO_DIG_OASIS", "WORLD_EPICS_SUBSPACE", "WORLD_DARK_TOWER", "WORLD_LAMPLIGHT_TOWN", "WORLD_THE_ACADEMY", "WORLD_LOST_ISLAND", "WORLD_YOUR_HOUSE", "DISABLE_TITAN"])
			}, e.prototype.cleanup = function() {
				this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("tutorial_2", "tutorial_end").broadcast(), t.prototype.cleanup.call(this)
			}, e
		}(i(36).Scene);
	e.HouseEnd = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = function(t) {
			function e(e) {
				var i = t.call(this, e, "exterior", ["atlas-81", "monster-reduced-38", "tileset-collisions", "tileset-generic-new", "tileset-forest-new", "bgm-11"]) || this;
				return i.loadingData.time = 1, i
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.noot = i.addNPC(770, 480, "atlas-81"), this.noot.float(!0), this.noot.walkSpeed = 2, i.user.x = 600, i.user.y = 480, i.user.hideName()
			}, e.prototype.start = function(e, i) {
				t.prototype.start.call(this, e, i, 11);
				var n = this.addMonster(e, i, 1, 1380, 480, !1, {
						encounter: [{
							ID: 59
						}]
					}, !0),
					o = e.prodigy.gameContainer.get(a.GameIdentifiers.IFSMController),
					r = e.prodigy.gameContainer.get(a.GameIdentifiers.FSMService);
				o.execute(r.getStateMachine(44), {
					scene: this,
					game: e,
					screen: i,
					player: i.user,
					open: e.prodigy.open,
					noot: this.noot,
					monster: n,
					path: i.path,
					pathfinder: i.path
				}, null)
			}, e.prototype.battle = function(t) {
				var e = {
					invincible: !0,
					intro: t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMBAT_WIZARD_BATTLE"),
					catch: !1,
					run: !1,
					screen: "battle-forest-generic",
					allowMember: !1,
					switchDisabled: !0,
					epicAttacksDisabled: !0,
					encounter: [{
						ID: 59
					}],
					difficulty: 2,
					dropsDisabled: !0,
					drops: [{
						type: "gold",
						N: 50
					}],
					events: [{
						action: "turn",
						value: 0,
						callback: function(t, e) {
							var i = t.prodigy.dialogue.create();
							i.setText(3), i.start("noot", !1, e)
						}
					}, {
						action: "dmg",
						repeat: 0,
						callback: function(t, e) {
							var i = t.prodigy.dialogue.create();
							i.setText(5), i.start("noot", !1, e)
						}
					}, {
						action: "dmg",
						repeat: 0,
						callback: function(t, e) {
							var i = t.prodigy.dialogue.create();
							i.setText(128), i.start("noot", !1, e)
						}
					}]
				};
				t.prodigy.battle.start(e, this.end.bind(this, t), this.end.bind(this, t), this.end.bind(this, t), "house-exit")
			}, e.prototype.end = function(t) {
				this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("tutorial_2", "frontyard_first_battle").broadcast(), t.prodigy.world.teleport("house-exterior", 450, 400), this.zone.completeSequence(1, 1)
			}, e
		}(i(36).Scene);
	e.FrontyardBattle = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = i(3),
		s = i(0),
		l = function(t) {
			function e(e) {
				var i = t.call(this, e, "exterior", ["atlas-81", "monster-reduced-38", "tileset-collisions", "tileset-generic-new", "tileset-forest-new", "bgm-11"]) || this;
				return i.loadingData.time = 1, i
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), i.user.x = 600, i.user.y = 480, this.exit = this.addAreaEvent(e, i, {
					x: 1240,
					y: 480,
					w: 80,
					h: 240,
					rect: !0
				}, null, 120, 500, this.end.bind(this, e), r.EAreaEventAngle.RIGHT), this.noot = i.addNPC(770, 480, "atlas-81"), this.noot.float(!0), this.noot.walkSpeed = 2
			}, e.prototype.start = function(e, i) {
				t.prototype.start.call(this, e, i, 11);
				var n = i.foreground.add(e.prodigy.create.sprite(this.noot.x, this.noot.y - 50, "atlas-18", "area-pointer"));
				n.anchor.setTo(.5, .5), n.visible = !1, n.angle = 90, n.scale.x = n.scale.y = 0, s.Util.isValid(e.prodigy.player.backpack.data.hat) && (e.prodigy.player.backpack.data.hat = e.prodigy.player.backpack.data.hat.filter(function(t) {
					return 12 !== t.ID
				}));
				var o = e.prodigy.gameContainer.get(a.GameIdentifiers.IFSMController),
					r = e.prodigy.gameContainer.get(a.GameIdentifiers.FSMService);
				o.execute(r.getStateMachine(45), {
					scene: this,
					game: e,
					screen: i,
					pointer: n,
					exit: this.exit,
					noot: this.noot
				}, null)
			}, e.prototype.jumpHand = function(t, e, i) {
				e.visible = !0, t.add.tween(e.scale).to({
					x: 1,
					y: 1
				}, 800, Phaser.Easing.Quadratic.Out).start(), t.add.tween(e).to({
					y: e.y - 100
				}, 1e3, Phaser.Easing.Quadratic.Out).to({
					y: e.y + 50
				}, 1e3, Phaser.Easing.Quadratic.In).start();
				var n = t.add.tween(e).to({
					x: 1180
				}, 2e3, Phaser.Easing.Linear.None);
				s.Util.isValid(i) && n.onComplete.add(i), n.start()
			}, e.prototype.end = function(t) {
				this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("tutorial_2", "frontyard_follow_arrow").broadcast(), t.prodigy.world.teleport("house-exit", 480, 320), this.zone.completeSequence(1, 2)
			}, e
		}(i(36).Scene);
	e.FrontyardArrows = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(11),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				return t.call(this, e, i, 1, "", {
					type: "seq",
					N: 4
				}, ["lamplight-A4"], [], [], [], [{
					type: "gold",
					N: 100
				}], !1) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				if (t.prototype.setup.call(this, e, i, n), "suburbs" === n.getTag()) {
					if (this.zone.isOnSequence(1, 0)) return e.prodigy.player.heal(), e.prodigy.player.backpack.add("weapon", 25, !1, 1), o.Util.isValid(e.prodigy.player.equipment.getEquipment("weapon")) || e.prodigy.player.equip(25, "weapon"), e.prodigy.world.playScene("house-intro"), {
						quit: !0
					}
				} else if ("exterior" === n.getTag()) {
					if (this.zone.isOnSequence(1, 1)) return e.prodigy.world.playScene("house-frontyardBattle"), {
						quit: !0
					};
					if (this.zone.isOnSequence(1, 2)) return e.prodigy.world.playScene("house-frontyardArrows"), {
						quit: !0
					};
					if (this.zone.isOnSequence(1, 4)) {
						if (null !== a(e.prodigy.player.appearance.getData(), "name.middle", null) || null !== a(e.prodigy.player.appearance.getData(), "name.last", null)) {
							var r = e.prodigy.player.appearance.getName();
							r.setMiddleName(null), r.setLastName(null), e.prodigy.player.appearance.updated = !0
						}
						return e.prodigy.world.playScene("house-end"), {
							quit: !0
						}
					}
				} else if ("exit" === n.getTag() && this.zone.isOnSequence(1, 3)) return e.prodigy.world.playScene("house-pets"), {
					quit: !0
				};
				return null
			}, e
		}(i(8).Quest);
	e.HouseQ1 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, "exit", "MAP_HOUSE_PALLET_PASS", 120, 580, ["lamplight-A4", "suburbs"], ["tileset-collisions", "tileset-generic-new", "tileset-forest-new", "tileset-firefly-new", "bgm-10", "tileset-water-new", "tileset-town-new"]) || this
			}
			return n(e, t), e.prototype.setup = function(t, e, i) {
				return this.addAreaEvent(t, e, {
					x: 40,
					y: 580,
					w: 80,
					h: 240,
					rect: !0
				}, "suburbs", null, null, null, a.EAreaEventAngle.LEFT), this.addAreaEvent(t, e, {
					x: 1240,
					y: 380,
					w: 80,
					h: 240,
					rect: !0
				}, "lamplight-A4", 120, 500, null, a.EAreaEventAngle.RIGHT), null
			}, e
		}(i(10).Map);
	e.PalletPass = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, "warden", "Academy Entrance", 160, 600, ["house-exterior"], ["tileset-generic-new", "tileset-town-new", "tileset-forest-new", "tileset-collisions", "atlas-71", "atlas-116", "bgm-9", "bgm-10", "bgm-12", "sfx-15", "atlas-84"], "map-lamplight-B0") || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 160,
					y: 680,
					w: 240,
					h: 80,
					rect: !0
				}, "house-exterior", 160, 120, null, a.EAreaEventAngle.DOWN);
				var o = [];
				o.push(i.content.add(e.prodigy.create.sprite(400, 360, "atlas-116", "pedestal"))), o.push(i.content.add(e.prodigy.create.sprite(640, 360, "atlas-116", "pedestal"))), o.push(i.content.add(e.prodigy.create.sprite(880, 360, "atlas-116", "pedestal"))), o.push(i.content.add(e.prodigy.create.sprite(520, 440, "atlas-116", "pedestal"))), o.push(i.content.add(e.prodigy.create.sprite(760, 440, "atlas-116", "pedestal")));
				for (var r = 0; r < o.length; r++) o[r].anchor.setTo(.5, 1)
			}, e
		}(i(10).Map);
	e.HouseWarden = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(19),
		o = i(33),
		r = function(t) {
			function e(e, i, n, a) {
				var r = this,
					s = new o.NPC(e);
				return s.init({
					name: "NPC_NAME_MOZZA_ELLE"
				}), (r = t.call(this, e, i, s, null, n, a) || this).currentTweens = [], r.idleTweens = [], r.spriteLoadCount = 0, r.nameText.GameObject.position.set(60, -120), r.setup(), r
			}
			return n(e, t), e.prototype.setup = function() {
				var t = "atlas-79",
					e = this.sprites.add(this.game.prodigy.create.sprite(133, -116, t, "tail-0", new Phaser.Point(0, 0), this.onSpriteLoaded.bind(this), 28, 18)),
					i = this.sprites.add(this.game.prodigy.create.sprite(100, -180, t, "head-0", new Phaser.Point(0, 0), this.onSpriteLoaded.bind(this), 44, 54)),
					n = this.sprites.add(this.game.prodigy.create.sprite(104, -137, t, "arm-right-0", new Phaser.Point(0, 0), this.onSpriteLoaded.bind(this), 8, 26)),
					o = this.sprites.add(this.game.prodigy.create.sprite(104, -116, t, "legs-0", new Phaser.Point(0, 0), this.onSpriteLoaded.bind(this), 34, 28)),
					r = this.sprites.add(this.game.prodigy.create.sprite(108, -142, t, "torso-0", new Phaser.Point(0, 0), this.onSpriteLoaded.bind(this), 34, 28));
				this.sprites.y += this.sprites.height, this.sprites.x -= this.sprites.width, this.idleTweens.push(new a.TweenController(r)), this.idleTweens[this.idleTweens.length - 1].set("y", [r.y, r.y - 1, r.y - 1, r.y], 200, 9999), this.idleTweens.push(new a.TweenController(o)), this.idleTweens[this.idleTweens.length - 1].set("frameName", ["legs-0", "legs-1", "legs-1", "legs-0"], 200, 9999), this.idleTweens.push(new a.TweenController(n)), this.idleTweens[this.idleTweens.length - 1].set("y", [n.y, n.y - 1, n.y - 1, n.y], 200, 9999), this.idleTweens.push(new a.TweenController(n)), this.idleTweens[this.idleTweens.length - 1].set("frameName", ["arm-right-0", "arm-right-0", "arm-right-0", "arm-right-1"], 200, 9999), this.idleTweens.push(new a.TweenController(i)), this.idleTweens[this.idleTweens.length - 1].set("y", [i.y, i.y - 1, i.y - 1, i.y], 200, 9999), this.idleTweens.push(new a.TweenController(i)), this.idleTweens[this.idleTweens.length - 1].set("frameName", ["head-0", "head-1", "head-0", "head-2"], 200, 9999), this.idleTweens.push(new a.TweenController(e)), this.idleTweens[this.idleTweens.length - 1].set("y", [e.y, e.y, e.y - 1, e.y - 1], 200, 9999), this.idleTweens.push(new a.TweenController(e)), this.idleTweens[this.idleTweens.length - 1].set("frameName", ["tail-0", "tail-1", "tail-0", "tail-2"], 200, 9999), this.visible = !1, this.tryToStartAnimations()
			}, e.prototype.onSpriteLoaded = function() {
				this.spriteLoadCount++, this.tryToStartAnimations()
			}, e.prototype.tryToStartAnimations = function() {
				this.spriteLoadCount >= this.sprites.length && (this.visible = !0, this.stand())
			}, e.prototype.update = function() {
				t.prototype.update.call(this);
				for (var e = 0; e < this.currentTweens.length; e++) this.currentTweens[e].update()
			}, e.prototype.walk = function() {
				this.stand()
			}, e.prototype.stand = function() {
				this.currentTweens = this.idleTweens;
				for (var t = 0; t < this.currentTweens.length; t++) this.currentTweens[t].start()
			}, e
		}(i(17).CreatureContainer);
	e.MozzaElla = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = i(578),
		s = i(2),
		l = i(16),
		c = i(0),
		h = function(t) {
			function e(e, i, n, a, o) {
				var r = t.call(this, e, i, n, ["house-exit", "house-exterior"], a) || this;
				return r.houseID = null, r.houseID = o, r
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.placeMozzaElla();
				var a = this.game.prodigy.event.create();
				return a.text(this.getMozzaEllaDialogueIndex(), "mozza-ella"), a.start(), null
			}, e.prototype.placeMozzaElla = function() {
				var t = this;
				this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.StoreService).getStore(12).then(function(e) {
					for (var i = null, n = 0; n < e.getPages().length; ++n) {
						for (var o = e.getPages()[n], s = 0; s < o.getStoreItems().length; ++s) {
							var l = o.getStoreItems()[s];
							if (l.getID() === t.houseID) {
								i = l.getCost()[0];
								break
							}
						}
						if (null !== i) break
					}
					if (null !== i) {
						var c = new r.MozzaElla(t.game, t.content, 0, 0);
						c.x = Math.round(t.houseData.exit.x + .5 * t.houseData.exit.w - .5 * c.width - 60), c.y = Math.round(t.houseData.exit.y - .75 * c.height - 60), c.sprites.children.forEach(function(e) {
							e.inputEnabled = !0, e.events.onInputDown.add(function() {
								t.onMozzaEllaClick(i)
							})
						})
					} else a.Logger.log("Could not find house in store", a.LogLevel.Error)
				})
			}, e.prototype.onMozzaEllaClick = function(t) {
				var e = this.game.prodigy.event.create();
				e.text(11, "mozza-ella"), e.function(this.showPurchasePopup.bind(this, t)), e.start()
			}, e.prototype.showPurchasePopup = function(t) {
				for (var e = this, i = s.Items.getCategoryItems("dormbg"), n = null, o = 0; o < i.length && (n = i[o]).data.tag !== this.houseTag; o++);
				var r = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					l = t.getAmount() > 0 ? String(t.getAmount()) : r.getText("ITEM_FREE"),
					h = n.data.member > 0 && !this.game.prodigy.player.hasMembership();
				this.game.prodigy.open.messageBoxGeneric(r.getText("HOUSE_PREVIEW_PURCHASE_MESSAGE"), function() {
					e.onBuyButtonClick(n, t)
				}, function() {
					e.game.prodigy.world.teleport("house")
				}, null, null, null, 7, {
					modifyProperty: [{
						element: "yesText",
						property: "text",
						value: l
					}, {
						element: "membershipGraphic",
						property: "visible",
						value: h
					}, {
						element: "houseGraphic",
						property: "atlasName",
						value: s.Items.getIconAtlas({
							ID: c.Util.isValid(n) ? n.ID : 0,
							type: "dormbg",
							cost: t
						})
					}, {
						element: "houseGraphic",
						property: "frameName",
						value: s.Items.getIconFrame({
							ID: c.Util.isValid(n) ? n.ID : 0,
							type: "dormbg",
							cost: t
						})
					}],
					addChildren: []
				})
			}, e.prototype.onBuyButtonClick = function(t, e) {
				var i = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				1 !== t.data.member || this.game.prodigy.player.hasMembership() ? this.game.prodigy.player.getGold() < e.getAmount() ? this.game.prodigy.player.hasMembership() ? this.game.prodigy.open.message(i.getText("PURCHASING_MESSAGE_NEED_MORE_GOLD_BODY", e.getAmount(), c.Util.numberToString(this.game.prodigy.player.getGold())), null, "gold", i.getText("MESSAGE_TITLE_UH_OH")) : this.game.prodigy.open.membershipInfo(null, {}, l.MembershipInfo.MORE_GOLD) : this.game.prodigy.open.messageBox(i.getText("MOVE_HOUSE_CONFIRM"), this.onPurchaseConfirmation.bind(this, t, e)) : this.game.prodigy.open.membershipInfo(null, {}, l.MembershipInfo.NEW_HOUSE)
			}, e.prototype.onPurchaseConfirmation = function(t, e) {
				this.game.prodigy.player.house.setCurrentHouseTag(t.data.tag), this.game.prodigy.player.changeGold(-e.getAmount()), this.game.prodigy.player.house.setAllInactive(), this.game.prodigy.world.teleport("house")
			}, e.prototype.getMozzaEllaDialogueIndex = function() {
				var t = [11];
				return this.houseTag.indexOf("small") > -1 ? t = [0] : this.houseTag.indexOf("medium") > -1 ? t = [1, 2] : this.houseTag.indexOf("large") > -1 ? t = [3, 4] : "forest" === this.houseTag ? t = [5, 6] : "coolCave" === this.houseTag ? t = [7, 8] : "firePit" === this.houseTag && (t = [9, 10]), t[Math.floor(Math.random() * t.length)]
			}, e
		}(i(232).HouseMapBase);
	e.HouseMapPreview = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(5),
		o = i(40),
		r = i(174),
		s = i(0),
		l = function(t) {
			function e(e, i, n, a) {
				return t.call(this, e, i, n, ["house-exit"], a) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), this.screen = i, this.addAreaEvent(e, i, {
					x: this.houseData.exit.x,
					y: this.houseData.exit.y,
					w: this.houseData.exit.w,
					h: this.houseData.exit.h,
					rect: !0
				}, "house-exit", null, null, null, null, !1), this.loadHouseItems(this.player.house.getSortedActive()), null
			}, e.prototype.start = function(e, i, n) {
				return t.prototype.start.call(this, e, i, n), this.game.broadcaster.addAppListener(a.EHouseEvents.OpenEditor, this.openedEditor.bind(this), this), this.game.broadcaster.addAppListener(a.EHouseEvents.CloseEditor, this.closedEditor.bind(this), this), null
			}, e.prototype.cleanup = function() {
				this.game.broadcaster.removeAppListener(a.EHouseEvents.OpenEditor, this), this.game.broadcaster.removeAppListener(a.EHouseEvents.CloseEditor, this), t.prototype.cleanup.call(this)
			}, e.prototype.openedEditor = function() {
				for (var t in this.game.prodigy.open.houseEditorMenu(this, this.screen), this.screen.walkEnabled = !1, this.screen.user.stopTweens(), this.screen.user.stand(), this.screen.playerList) this.fadeOutPlayerContainer(this.screen.playerList[t]);
				this.fadeOutPlayerContainer(this.screen.user), this.game.broadcaster.addAppListener(a.EWalkableScreenEvents.PlayerAdded, this.playerEnteredHouse.bind(this), this)
			}, e.prototype.fadeOutPlayerContainer = function(t) {
				if (t.sprites.setAll("inputEnabled", !1), s.Util.isValid(t.follow) && (this.game.add.tween(t.follow).to({
						alpha: 0
					}, 300, Phaser.Easing.Cubic.Out).start(), t.follow instanceof o.GameObject)) {
					var e = t.follow.findComponent(r.ParticleEmitter);
					s.Util.isValid(e) && this.game.add.tween(e.emitter.renderer.display).to({
						alpha: 0
					}, 300, Phaser.Easing.Cubic.Out).start()
				}
				return this.game.add.tween(t).to({
					alpha: 0
				}, 300, Phaser.Easing.Cubic.Out).start()
			}, e.prototype.closedEditor = function() {
				var t = this;
				for (var e in this.screen.playerList) this.fadeInPlayerContainer(this.screen.playerList[e]);
				this.fadeInPlayerContainer(this.screen.user).onComplete.addOnce(function() {
					t.screen.walkEnabled = !0
				}, this), this.game.broadcaster.removeAppListener(a.EWalkableScreenEvents.PlayerAdded, this)
			}, e.prototype.fadeInPlayerContainer = function(t) {
				if (t.sprites.setAll("inputEnabled", !0), s.Util.isValid(t.follow) && (this.game.add.tween(t.follow).to({
						alpha: 1
					}, 300, Phaser.Easing.Cubic.In).start(), t.follow instanceof o.GameObject)) {
					var e = t.follow.findComponent(r.ParticleEmitter);
					s.Util.isValid(e) && this.game.add.tween(e.emitter.renderer.display).to({
						alpha: 1
					}, 300, Phaser.Easing.Cubic.In).start()
				}
				return this.game.add.tween(t).to({
					alpha: 1
				}, 300, Phaser.Easing.Cubic.In).start()
			}, e.prototype.playerEnteredHouse = function(t) {
				t.alpha = 0, t.sprites.setAll("inputEnabled", !0)
			}, e
		}(i(232).HouseMapBase);
	e.HouseMap = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, "exterior", "MAP_HOUSE_EXTERIOR", 685, 420, ["house-exit", "suburbs"], i.concat("tileset-exterior-general")) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1240,
					y: 480,
					w: 80,
					h: 240,
					rect: !0
				}, "house-exit", 120, 580, null, a.EAreaEventAngle.RIGHT), this.addAreaEvent(e, i, {
					x: 685,
					y: 300,
					w: 100,
					h: 160,
					rect: !0
				}, "suburbs", null, null, null, a.EAreaEventAngle.UP), e.prodigy.player.hasCompletedTutorial() || e.prodigy.world.teleport("house-exit")
			}, e
		}(i(10).Map);
	e.HouseExterior = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(5),
		r = i(78),
		s = i(2),
		l = i(14),
		c = i(0),
		h = i(32),
		u = i(581),
		p = i(580),
		d = i(579),
		g = i(577),
		f = i(576),
		y = i(575),
		m = i(574),
		_ = i(573),
		v = i(572),
		E = i(571),
		b = i(570),
		O = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				i.screen = null, i.player = null, i.name = "House", i.ID = "house", i.bgmID = 10, i.currency = 1, i.minLevel = 1, i.maxLevel = 4, i.battleBG = "battle-shiverchill-inside", i.onFaint = "house", i.questHub = "house", i.states = ["daily", "private", "hasClickedLockButton", "hasClickedHouseIcon", "hasClickedWorldMap", "hasClickedPlayerCardVisit", "lastInteractionDateMs", "houseMovingBreadcrumbs"];
				var n = ["tileset-interior-general", "tileset-wall-collisions", "bgm-10", "tileset-exterior-general"];
				return i.quests = {
					1: new y.HouseQ1(i, n)
				}, i.scenes = {
					intro: new E.HouseIntro(i, n),
					frontyardBattle: new _.FrontyardBattle(i),
					frontyardArrows: new m.FrontyardArrows(i),
					pets: new b.HousePets(i, n),
					end: new v.HouseEnd(i, n)
				}, i.game.broadcaster.addAppListener(o.EHouseEvents.ClickedHouseIcon, i.onWorldMapHouseIconClick.bind(i), i, "UI", !0), i.game.broadcaster.addAppListener(o.EBootEvents.Loaded, i.intializeHouseMaps.bind(i), i), i
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				if (!c.Util.isValid(this.getCurrentQuest()) && c.Util.isValid(this.player) && this.player.userID === this.game.prodigy.player.userID && n.getTag().indexOf("exit") < 0) {
					var a = this.getState("lastInteractionDateMs"),
						o = c.Util.isValid(a) ? new Date(a) : null;
					c.Util.isValid(o) && c.Util.isDateToday(o) || this.game.prodigy.network.sendAnalytics("House-daily-interaction"), this.setState("lastInteractionDateMs", (new Date).getTime())
				}
				return this.setAllowsVisiting(this.getAllowsVisiting()), t.prototype.setup.call(this, e, i, n)
			}, e.prototype.start = function(e, i, n) {
				return t.prototype.start.call(this, e, i, n), e.input.enabled = !0, null
			}, e.prototype.init = function(e, i, n) {
				t.prototype.init.call(this, e, i, n), this.screen = i, c.Util.isValid(this.getCurrentQuest()) || this.startQuest(1), this.game.broadcaster.removeAppListener(o.EHouseEvents.ClickedHouseIcon, this, "UI"), e.prodigy.breadcrumbManager.isBreadcrumbComplete(l.Breadcrumbs.FEATURE_HOUSE_MOVING, l.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE) && e.prodigy.breadcrumbManager.isBreadcrumbComplete(l.Breadcrumbs.FEATURE_HOUSE_VISITING, l.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE) || this.game.broadcaster.addAppListener(o.EHouseEvents.ClickedHouseIcon, this.onWorldMapHouseIconClick.bind(this), this, "UI", !0)
			}, e.prototype.gotoPreview = function(t) {
				this.teleport("preview-" + this.getHouseMapFromTag(t), void 0, void 0, this.game.prodigy.player, {})
			}, e.prototype.getAllowsVisiting = function() {
				return c.Util.isValid(this.player) && this.player.getAllowsHouseVisitors()
			}, e.prototype.setAllowsVisiting = function(t) {
				c.Util.isValid(this.player) && this.player.setAllowsHouseVisitors(t), this.screen.menuBar.open(0, !0)
			}, e.prototype.teleport = function(e, i, n, o, r) {
				if (void 0 === r && (r = {}), e.indexOf("exit") > -1 || e.indexOf("exterior") > -1 || e.indexOf("warden") > -1) t.prototype.teleport.call(this, e, i, n, o, r);
				else {
					var s = e;
					if (this.player = c.Util.isValid(o) ? o : this.game.prodigy.player, r.assets = c.Util.isValid(r.assets) ? r.assets : [], -1 === s.indexOf("preview")) {
						var l = this.getHouseMapFromTag(this.player.house.getCurrentHouseTag());
						if (c.Util.isValid(l) || (l = this.getHouseMapFromTag("suburbs")), !c.Util.isValid(this.maps[l])) return void a.Logger.log("House was not found: " + l, a.LogLevel.Verbose);
						s = l
					}
					this.maps[s].setOwner(this.player), t.prototype.teleport.call(this, s, i, n, [], r)
				}
			}, e.prototype.openHouseStore = function() {
				var t = this;
				this.game.prodigy.open.store(12, null, function() {
					t.game.prodigy.player.house.setAllInactive(), t.teleport("")
				}, {
					message: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MOVE_HOUSE_CONFIRM")
				}, r.MemberAd.NEW_HOUSE)
			}, e.prototype.getDailyMaps = function() {
				return []
			}, e.prototype.onWorldMapHouseIconClick = function() {
				this.game.broadcaster.removeAppListener(o.EHouseEvents.ClickedHouseIcon, this, "UI"), this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(l.Breadcrumbs.FEATURE_HOUSE_MOVING, l.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE) || this.game.prodigy.breadcrumbManager.completeBreadcrumb(l.Breadcrumbs.FEATURE_HOUSE_MOVING, l.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE), this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(l.Breadcrumbs.FEATURE_HOUSE_VISITING, l.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE) || this.game.prodigy.breadcrumbManager.completeBreadcrumb(l.Breadcrumbs.FEATURE_HOUSE_VISITING, l.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE)
			}, e.prototype.intializeHouseMaps = function() {
				this.game.broadcaster.removeAppListener(o.EBootEvents.Loaded, this);
				var t = ["tileset-collisions", "tileset-wall-collisions", "tileset-forest-new", "tileset-generic-new", "tileset-minecarts", "bgm-10", "tileset-exterior-general"];
				this.maps = {
					exit: new f.PalletPass(this, t),
					exterior: new u.HouseExterior(this, t),
					warden: new g.HouseWarden(this, t)
				};
				var i = s.Items.getCategoryItems("dormbg");
				for (var n in e.HOUSES) {
					var a = e.HOUSES[n];
					for (var r in a.houses) {
						for (var l = -1, c = 0; c < i.length; c++) {
							var h = i[c];
							if (h.data.tag === a.houses[r].tag) {
								l = h.ID;
								break
							}
						}
						this.maps[r] = new p.HouseMap(this, a, r, t), this.maps["preview-" + r] = new d.HouseMapPreview(this, a, r, t, l)
					}
				}
			}, e.prototype.getHouseMapFromTag = function(t) {
				for (var e in this.maps)
					if (this.maps[e].houseTag === t) return e;
				return "suburbs"
			}, e.HOUSES = {
				suburbs: {
					assets: ["tileset-interior-general", "tileset-wall-collisions", "bgm-10"],
					houses: {
						suburbs: {
							tag: "suburbs",
							entryPoint: {
								x: 640,
								y: 360
							},
							exit: {
								x: 820,
								y: 540,
								w: 100,
								h: 125
							}
						},
						"small-0": {
							tag: "small0",
							entryPoint: {
								x: 640,
								y: 360
							},
							exit: {
								x: 380,
								y: 540,
								w: 120,
								h: 120
							}
						},
						"small-1": {
							tag: "small1",
							entryPoint: {
								x: 640,
								y: 360
							},
							exit: {
								x: 660,
								y: 540,
								w: 120,
								h: 120
							}
						},
						"medium-0": {
							tag: "medium0",
							entryPoint: {
								x: 640,
								y: 360
							},
							exit: {
								x: 180,
								y: 620,
								w: 120,
								h: 120
							}
						},
						"medium-1": {
							tag: "medium1",
							entryPoint: {
								x: 640,
								y: 360
							},
							exit: {
								x: 620,
								y: 460,
								w: 120,
								h: 120
							}
						},
						"large-0": {
							tag: "large0",
							entryPoint: {
								x: 640,
								y: 360
							},
							exit: {
								x: 100,
								y: 620,
								w: 120,
								h: 120
							}
						},
						"large-1": {
							tag: "large1",
							entryPoint: {
								x: 640,
								y: 360
							},
							exit: {
								x: 140,
								y: 620,
								w: 120,
								h: 120
							}
						}
					}
				},
				coolCave: {
					assets: ["tileset-interior-icecave"],
					houses: {
						"cool-cave": {
							tag: "coolCave",
							entryPoint: {
								x: 640,
								y: 360
							},
							exit: {
								x: 1140,
								y: 620,
								w: 120,
								h: 120
							}
						},
						"cool-cave-unique-1": {
							tag: "coolCaveUnique1",
							entryPoint: {
								x: 640,
								y: 360
							},
							exit: {
								x: 1100,
								y: 620,
								w: 120,
								h: 120
							}
						},
						"cool-cave-unique-2": {
							tag: "coolCaveUnique2",
							entryPoint: {
								x: 640,
								y: 360
							},
							exit: {
								x: 660,
								y: 580,
								w: 120,
								h: 120
							}
						}
					}
				},
				firePit: {
					assets: ["tileset-firepit"],
					houses: {
						"fire-pit": {
							tag: "firePit",
							entryPoint: {
								x: 640,
								y: 360
							},
							exit: {
								x: 660,
								y: 620,
								w: 120,
								h: 120
							}
						},
						"fire-pit-2": {
							tag: "firePit2",
							entryPoint: {
								x: 640,
								y: 360
							},
							exit: {
								x: 220,
								y: 580,
								w: 120,
								h: 120
							}
						},
						"fire-pit-3": {
							tag: "firePit3",
							entryPoint: {
								x: 640,
								y: 360
							},
							exit: {
								x: 1140,
								y: 660,
								w: 120,
								h: 120
							}
						}
					}
				},
				forest: {
					assets: ["tileset-generic", "tileset-interior-treehouse"],
					houses: {
						forest: {
							tag: "forest",
							entryPoint: {
								x: 700,
								y: 250
							},
							exit: {
								x: 1100,
								y: 660,
								w: 120,
								h: 120
							}
						},
						"treehouse-unique-1": {
							tag: "treehouseUnique1",
							entryPoint: {
								x: 640,
								y: 360
							},
							exit: {
								x: 140,
								y: 660,
								w: 120,
								h: 120
							}
						},
						"treehouse-unique-2": {
							tag: "treehouseUnique2",
							entryPoint: {
								x: 640,
								y: 360
							},
							exit: {
								x: 220,
								y: 620,
								w: 120,
								h: 120
							}
						}
					}
				},
				largeHouse: {
					assets: ["tileset-interior-general"],
					houses: {
						"house-large-3": {
							tag: "houseLarge3",
							entryPoint: {
								x: 550,
								y: 220
							},
							exit: {
								x: 620,
								y: 340,
								w: 120,
								h: 120
							}
						},
						"house-large-4": {
							tag: "houseLarge4",
							entryPoint: {
								x: 140,
								y: 360
							},
							exit: {
								x: 140,
								y: 660,
								w: 120,
								h: 120
							}
						}
					}
				}
			}, e
		}(h.Zone);
	e.HouseZone = O
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 9, "QUESTS_FOREST_FIND_GERALD", {
				type: "seq",
				N: 1
			}, ["forest-D3"], [24, 25], [], [26], [{
				type: "gold",
				N: 200
			}], !1) || this
		}
		return n(e, t), e.prototype.start = function(e, i, n) {
			if (t.prototype.start.call(this, e, i, n), "D3" === n.getTag() && this.zone.isOnSequence(9, 0)) {
				var a = e.prodigy.event.create();
				a.text(59, "noot"), a.function(this.zone.completeSequence.bind(n.zone, 9, 0)), a.function(i.process.bind(i)), a.start()
			}
			return null
		}, e
	}(i(8).Quest);
	e.ForestQ9 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i, 8, "QUESTS_FOREST_DEFEAT_THE_TRIO", {
					type: "seq",
					N: 2
				}, ["forest-A3"], [21, 22, 23], [], [39], [{
					type: "spellRelic",
					ID: 14
				}], !1) || this;
				return n.monsters = [], n.alreadyBattled = !1, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), "A3" === n.getTag() ? (this.zone.isOnSequence(8, 0) && this.createTripTropTrio(e, i, n), {
					enableMonsters: !1
				}) : null
			}, e.prototype.start = function(t, e, i) {
				return "A3" === i.getTag() && (this.zone.isOnSequence(8, 0) ? this.tripTropBattle(t, e, i) : this.zone.isOnSequence(8, 1) && this.chatWithNoot(t, e, i)), null
			}, e.prototype.createTripTropTrio = function(t, e, i) {
				this.alreadyBattled && (this.monsters = []);
				for (var n = [0, -100, 100], a = 0; a < 3; a++) {
					var r = i.addMonster(t, e, 3, n[a] + 640, 360, !1, {
						encounter: [{
							ID: 59
						}],
						difficulty: 1,
						maxTeamSize: 1
					});
					o.Util.isValid(r) && (this.monsters.push(r), r.flip())
				}
				this.alreadyBattled = !0
			}, e.prototype.tripTropBattle = function(t, e, i) {
				var n = this,
					o = t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					r = this.zone.getBattle(i, o.getText("COMBAT_TRIPTROP_TRIO"), {
						drops: [{
							ID: 69,
							type: "item"
						}],
						pets: [{
							ID: 59,
							nickname: o.getText("NPC_NAME_TRIPTROP_TED")
						}, {
							ID: 59,
							nickname: o.getText("NPC_NAME_TRIPTROP_TOM")
						}, {
							ID: 59,
							nickname: o.getText("NPC_NAME_TRIPTROP_TAK")
						}]
					}, function() {
						n.zone.completeSequence(8, 0), t.prodigy.world.teleport("forest-A3", 640, 400)
					});
				e.user.evtProc = !0;
				var s = t.prodigy.event.create();
				s.enableInput(!1), s.path(e.user, [{
					x: 910,
					y: 480
				}]), s.delay(100), this.monsters.forEach(function(t) {
					s.function(t.chat.bind(t, 1, 80)), s.hop(t, 200), s.function(t.flip.bind(t))
				}), s.enableInput(!0), s.text(56, "noot"), s.function(r), s.start()
			}, e.prototype.chatWithNoot = function(t, e, i) {
				var n = t.prodigy.event.create();
				n.text(57, "noot"), n.function(this.zone.completeSequence.bind(i.zone, 8, 1)), n.function(e.process.bind(e)), n.start()
			}, e
		}(i(8).Quest);
	e.ForestQ8 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this, e, i, 7, "", {
				type: "item",
				ID: 24,
				N: 5
			}, ["forest-A4", "forest-A5"], [18, 19, 20], [], [39], [{
				type: "gold",
				N: 200
			}], !1) || this;
			return n.collectionMaps = {
				A4: [1, 2],
				A5: [3, 4, 5]
			}, n
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			if (t.prototype.setup.call(this, e, i, n), "A4" !== n.getTag() || this.zone.isQuestComplete(7)) {
				if ("A5" === n.getTag() && !this.zone.isQuestComplete(7)) {
					a = {
						type: "item",
						ID: 24
					};
					i.addCollect(3, 154, 511, a), i.addCollect(4, 1e3, 380, a), i.addCollect(5, 552, 210, a)
				}
			} else {
				var a = {
					type: "item",
					ID: 24
				};
				i.addCollect(1, 270, 460, a), i.addCollect(2, 780, 314, a)
			}
			return null
		}, e
	}(i(8).Quest);
	e.ForestQ7 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 6, "", {
				type: "item",
				ID: 24,
				N: 1
			}, ["forest-D3"], [16, 17], [], [39], [{
				type: "gold",
				N: 200
			}], !1) || this
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			return t.prototype.setup.call(this, e, i, n), "D3" !== n.getTag() || this.zone.isQuestComplete(6) ? null : (this.placeMonsters(e, i, n), {
				enableMonsters: !1
			})
		}, e.prototype.start = function(e, i, n) {
			return t.prototype.start.call(this, e, i, n), "D3" === n.getTag() && this.zone.isOnSequence(6, 0) && this.chatWithNoot(n, e), null
		}, e.prototype.placeMonsters = function(t, e, i) {
			var n = {
				randDir: !0,
				encounter: [{
					ID: 32,
					drops: [{
						type: "item",
						ID: 24,
						R: .5
					}]
				}],
				difficulty: 3,
				maxTeamSize: 1
			};
			i.addMonster(t, e, 5, 481, 239, !1, n), i.addMonster(t, e, 6, 634, 428, !1, n), i.addMonster(t, e, 8, 900, 300, !1, n), i.addMonster(t, e, 9, 940, 533, !1, n)
		}, e.prototype.chatWithNoot = function(t, e) {
			var i = e.prodigy.event.create();
			i.text(54, "noot"), i.text(55, "noot"), i.function(this.zone.completeSequence.bind(t.zone, 6, 0)), i.start()
		}, e
	}(i(8).Quest);
	e.ForestQ6 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 5, "QUESTS_FOREST_TALK_TO_MERCHANT", {
				type: "seq",
				N: 1
			}, ["forest-C4"], [14, 15], [], [39], [{
				type: "gold",
				N: 200
			}], !1) || this
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			var a = this;
			return t.prototype.setup.call(this, e, i, n), "C4" !== n.getTag() || this.zone.isQuestComplete(5) ? null : {
				onInputDownCallback: function() {
					a.chatWithMerchant(e, i, n)
				}
			}
		}, e.prototype.start = function(e, i, n) {
			return t.prototype.start.call(this, e, i, n), "C4" !== n.getTag() || this.zone.isQuestComplete(5) || n.questNPC.highlight(!0, -120, -130), null
		}, e.prototype.chatWithMerchant = function(t, e, i) {
			var n = t.prodigy.event.create();
			n.function(function() {
				i.questNPC.highlight(!1)
			}), n.text(3, "merchant"), n.enableInput(!1), n.function(function() {
				i.questNPC.chat(7, 100)
			}), n.delay(2e3), n.function(function() {
				i.questNPC.chat(1, 100)
			}), n.delay(500), n.enableInput(!0), n.text(4, "merchant"), n.text(5, "merchant"), n.function(this.zone.completeSequence.bind(i.zone, 5, 0)), n.function(e.process.bind(e)), n.start()
		}, e
	}(i(8).Quest);
	e.ForestQ5 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this, e, i, 4, "", {
				type: "item",
				ID: 66,
				N: 3
			}, ["forest-B5"], [11, 12, 13], [], [39], [{
				type: "spellRelic",
				ID: 13
			}, {
				type: "item",
				ID: 67
			}], !1) || this;
			return n.collectionMaps = {
				B5: [1, 2, 3]
			}, n
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			return t.prototype.setup.call(this, e, i, n), "B5" !== n.getTag() || this.zone.isQuestComplete(4) ? null : (this.placeItems(e, i, n), {
				enableMonsters: !1
			})
		}, e.prototype.placeItems = function(t, e, i) {
			var n = {
				type: "item",
				ID: 66
			};
			e.addCollect(1, 426, 472, n), e.addCollect(2, 904, 472, n), e.addCollect(3, 696, 241, n);
			var a = {
				randDir: !0,
				randRange: 200,
				encounter: [{
					ID: 81
				}],
				difficulty: 3,
				maxTeamSize: 1
			};
			i.addMonster(t, e, 3, 899, 297, !1, a), i.addMonster(t, e, 4, 562, 307, !1, a)
		}, e
	}(i(8).Quest);
	e.ForestQ4 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 3, "", {
				type: "pet",
				ID: 52,
				N: 3
			}, ["forest-B6"], [8], [], [39], [{
				type: "gold",
				N: 200
			}], !1) || this
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			return t.prototype.setup.call(this, e, i, n), "B6" !== n.getTag() || this.zone.isQuestComplete(3) ? null : (this.placeMonsters(e, i, n), {
				enableMonsters: !1
			})
		}, e.prototype.start = function(e, i, n) {
			return t.prototype.start.call(this, e, i, n), "B6" === n.getTag() && this.zone.isOnSequence(3, 0) && this.zone.completeSequence(3, 0), null
		}, e.prototype.placeMonsters = function(t, e, i) {
			var n = {
				randDir: !0,
				randRange: 200,
				encounter: [{
					ID: 52
				}],
				difficulty: 2,
				maxTeamSize: 1
			};
			i.addMonster(t, e, 1, 369, 152, !1, n), i.addMonster(t, e, 2, 819, 218, !1, n), i.addMonster(t, e, 3, 558, 416, !1, n)
		}, e
	}(i(8).Quest);
	e.ForestQ3 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 2, "", {
				type: "weapon",
				ID: 1,
				N: 1
			}, ["forest-B7"], [4, 5, 6], [], [7], [{
				type: "gold",
				N: 200
			}], !1) || this
		}
		return n(e, t), e
	}(i(8).Quest);
	e.ForestQ2 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, i, 12, "QUESTS_FOREST_WAKE_GERALD", {
					type: "seq",
					N: 1
				}, ["forest-D3"], [33, 34], [], [35], [{
					type: "spellRelic",
					ID: 15
				}, {
					type: "key",
					ID: 3
				}], !1) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), "D3" === n.getTag() ? {
					enableMonsters: !1
				} : null
			}, e.prototype.start = function(e, i, n) {
				return t.prototype.start.call(this, e, i, n), this.zone.isQuestComplete(12) || "D3" !== n.getTag() || this.bossBattle(e, i, n), null
			}, e.prototype.update = function(t, e, i) {
				"D3" === i.getTag() && i.update()
			}, e.prototype.bossBattle = function(t, e, i) {
				var n = this,
					o = this.zone.getBattle(i, t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMBAT_BOSS_BATTLE"), {
						boss: {
							ID: 10,
							element: "earth",
							attacks: [68, 69, 71],
							name: t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NPC_NAME_GERALD"),
							tag: "forest",
							scale: !0,
							difficulty: 4
						},
						drops: [{
							type: "gold",
							N: 100
						}],
						difficulty: 4,
						starMod: 5
					}, function() {
						n.zone.setState("gerald", null), n.zone.completeSequence(12, 0), t.prodigy.world.teleport("forest-D3", 572, 342)
					});
				if (this.zone.isOnSequence(12, 0)) {
					t.prodigy.network.sendBattleStartTypeEvent("ZoneBossBattle");
					var r = t.prodigy.event.create();
					r.enableInput(!1), r.path(e.user, [{
						x: 572,
						y: 342
					}]), r.enableInput(!0), r.text(61, "noot"), r.set(i, "_wakeUp", !0), r.text(62, "noot"), r.text(63, "noot"), r.function(o), r.start()
				}
			}, e
		}(i(8).Quest);
	e.ForestQ12 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i, 11, "", {
					type: "item",
					ID: 70,
					N: 1
				}, ["forest-A3", "forest-D3"], [31, 32], [], [39], [{
					type: "gold",
					N: 200
				}], !1) || this;
				return n.fakeMonster = null, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), this.fakeMonster = null, "A3" === n.getTag() ? (this.zone.getState("questMonsterDefeated") || this.placeThief(e, i, n), {
					enableMonsters: !1
				}) : "D3" !== n.getTag() || this.zone.isQuestComplete(11) ? null : (this.zone.getState("fakeMonsterDefeated") || this.placeDecoyThief(e, i, n), {
					enableMonsters: !1
				})
			}, e.prototype.process = function(e, i, n) {
				t.prototype.process.call(this, e, i, n), "D3" === n.getTag() && o.Util.isValid(this.fakeMonster) && this.fakeMonster.highlight(!0, -40, -90)
			}, e.prototype.getRemainingQuestAreas = function() {
				var t = ["forest-A3"];
				return o.Util.isValid("fakeMonsterDefeated") && this.zone.getState("fakeMonsterDefeated") || t.push("forest-D3"), t
			}, e.prototype.placeThief = function(t, e, i) {
				var n = this,
					o = {
						catch: !1,
						drops: [{
							ID: 70,
							type: "item"
						}],
						encounter: [{
							ID: 69,
							nickname: t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NPC_NAME_FOREST_THIEF")
						}],
						difficulty: 5,
						maxTeamSize: 1,
						onEnc: function() {
							n.zone.setState("questMonsterDefeated", !0)
						}
					};
				i.addMonster(t, e, 7, 384, 463, !0, o)
			}, e.prototype.placeDecoyThief = function(t, e, i) {
				var n = this,
					a = {
						catch: !1,
						encounter: [{
							ID: 69
						}],
						difficulty: 5,
						maxTeamSize: 1,
						onEnc: function() {
							n.zone.setState("fakeMonsterDefeated", !0)
						}
					};
				this.fakeMonster = i.addMonster(t, e, 7, 484, 463, !0, a)
			}, e
		}(i(8).Quest);
	e.ForestQ11 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, i, 10, "QUESTS_FOREST_FIX_FLUTE", {
					type: "seq",
					N: 1
				}, ["forest-A5"], [27, 28, 29], [], [30], [{
					type: "gold",
					N: 200
				}], !1) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), "A5" === n.getTag() ? {
					enableMonsters: !1
				} : null
			}, e.prototype.start = function(e, i, n) {
				var a = this;
				if (t.prototype.start.call(this, e, i, n), !this.zone.isQuestComplete(10) && "A5" === n.getTag()) {
					var o = e.prodigy.create.element(i.content, 490, 340),
						r = o.add(e.prodigy.create.sprite(0, 0, "atlas-18", "overlay-light"));
					r.alpha = 0, r.width = 110, r.height = 80, o.highlight(!0, 0, -20), r.inputEnabled = !0, r.events.onInputDown.add(function() {
						a.clickStump(n, e, i, o)
					})
				}
				return null
			}, e.prototype.clickStump = function(t, e, i, n) {
				t.questParams = {};
				var o = i.content.add(e.prodigy.icon.createIcon(540, 380, "icon-item-69"));
				o.anchor.setTo(.5, 1), e.add.tween(o).to({
					y: 370
				}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, a.GameConstants.MAX_SAFE_INTEGER, !0), o.visible = !1;
				var r = i.content.add(e.prodigy.icon.createIcon(540, 380, "icon-item-70"));
				r.anchor.setTo(.5, 1), e.add.tween(r).to({
					y: 370
				}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, a.GameConstants.MAX_SAFE_INTEGER, !0), r.visible = !1;
				var s = t.addMonster(e, i, 4, 982, 626, !1, {
					encounter: [{
						ID: 69
					}],
					difficulty: 5,
					maxTeamSize: 1
				});
				s.visible = !1;
				var l = e.prodigy.event.create();
				l.function(n.highlight.bind(n, !1)), l.enableInput(!1), l.path(i.user, [{
					x: 537,
					y: 460
				}]), l.set(i.user, "evtProc", !0), l.function(e.prodigy.player.backpack.consume.bind(e.prodigy.player.backpack, "item", 69, 1)), l.delay(100), l.set(o, "visible", !0), l.delay(500), l.explode(505, 325, 80, 80, 3), l.set(o, "visible", !1), l.set(r, "visible", !0), l.delay(500), l.set(s, "visible", !0), l.path(s, [{
					x: 708,
					y: 383
				}], 1), l.hop(s, 500, -140, 100), l.set(r, "visible", !1), l.function(i.user.chat.bind(i.user, 1, 80)), l.sound(18, "dig"), l.hop(s, 500, -160, 100), l.path(s, [{
					x: 218,
					y: 0
				}], 2), l.set(s, "visible", !1), l.enableInput(!0), l.text(60, "noot"), l.function(n.destroy.bind(n)), l.function(this.zone.completeSequence.bind(t.zone, 10, 0)), l.set(i.user, "evtProc", !1), l.function(i.process.bind(i)), l.start()
			}, e
		}(i(8).Quest);
	e.ForestQ10 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 1, "", {
				type: "pet",
				ID: 81,
				N: 2,
				U: !0
			}, ["forest-B8"], [0, 1, 2, 3], [], [39], [{
				type: "gold",
				N: 200
			}], !1) || this
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			return t.prototype.setup.call(this, e, i, n), "B8" === n.getTag() && this.spawnMonsters(e, i, n), null
		}, e.prototype.start = function(e, i, n) {
			return t.prototype.start.call(this, e, i, n), "B8" === n.getTag() && this.zone.isOnSequence(1, 0) && this.saveMerchant(e, n), null
		}, e.prototype.saveMerchant = function(t, e) {
			var i = t.prodigy.event.create();
			i.function(function() {
				e.questNPC.chat(1, 80)
			}), i.function(function() {
				e.chatWithMerchant(t)
			}), i.function(this.zone.completeSequence.bind(this.zone, 1, 0))
		}, e.prototype.spawnMonsters = function(t, e, i) {
			var n = {
				run: !1,
				encounter: [{
					ID: 81
				}],
				difficulty: 2,
				maxTeamSize: 1
			};
			i.addMonster(t, e, 1, 384, 463, !0, n), i.addMonster(t, e, 2, 554, 338, !0, n)
		}, e
	}(i(8).Quest);
	e.ForestQ1 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(19),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "D3", "MAP_FOREST_OLD_ROAD_REMAINS", 200, 520, ["forest-C4"], i.concat("default-boss-14")) || this;
				return n.wakeUp = !1, n.tween = [], n.wakeUpTween = [], n.awakeTween = [], n.coord = [new Phaser.Point(500, 640), new Phaser.Point(750, 120), new Phaser.Point(1100, 450)], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.game = e, this.wakeUp = !1, this.addAreaEvent(e, i, {
					x: 0,
					y: 720,
					r: 200
				}, "forest-C4", 1080, 200, null, null), this.addMonster(e, i, 1, 500, 300, !1, {
					randDir: !0,
					encounter: [{
						ID: 55,
						R: 1
					}, {
						ID: 52,
						R: 1
					}, {
						ID: 69,
						R: 1
					}],
					difficulty: 4,
					maxTeamSize: 2
				}), this.addMonster(e, i, 2, 700, 500, !1, {
					randDir: !0,
					encounter: [{
						ID: 55,
						R: 1
					}, {
						ID: 52,
						R: 1
					}, {
						ID: 69,
						R: 1
					}],
					difficulty: 4,
					maxTeamSize: 2
				}), this.addMonster(e, i, 3, 1025, 400, !1, {
					randDir: !0,
					encounter: [{
						ID: 55,
						R: 1
					}, {
						ID: 52,
						R: 1
					}, {
						ID: 69,
						R: 1
					}],
					difficulty: 2,
					maxTeamSize: 3
				}), this.addMonster(e, i, 4, 875, 200, !1, {
					randDir: !0,
					encounter: [{
						ID: 55,
						R: 1
					}, {
						ID: 52,
						R: 1
					}, {
						ID: 69,
						R: 1
					}],
					difficulty: 2,
					maxTeamSize: 3
				});
				for (var o = e.cache.getJSON(this.file), r = e.cache.getJSON("map-pathing").tilesets, s = null, l = 0; l < o.layers.length; l++) "gerald" === o.layers[l].name && (s = o.layers[l]);
				var c = i.foreground.add(this.game.prodigy.create.sprite(760, 160, "default-boss-14", "Gerald-head1")),
					h = [];
				h.push(new a.TweenController(c)), h[0].set("frameName", ["Gerald-head1", "Gerald-head2", "Gerald-head3", "Gerald-head2", "Gerald-head1"], 300, 9999), h[0].end(this.wakeUpGerald.bind(this)), this.tween = h, this.wakeUpTween = [], this.wakeUpTween.push(new a.TweenController(c)), this.wakeUpTween[0].set("frameName", ["Gerald-head4", "Gerald-head5", "Gerald-head4", "Gerald-head1", "Gerald-head5"], 150, 9999), this.wakeUpTween[0].end(this.stayAwake.bind(this));
				var u = [];
				if (u.push(new a.TweenController(c)), u[0].set("frameName", ["Gerald-head5"], 150, 9999), this.onQuestLine()) {
					this.initLayer(this.above, s, o.tilesets, r, null);
					for (l = 0; l < this.tween.length; l++) this.tween[l].start()
				} else c.visible = !1
			}, e.prototype.init = function(e, i, n, a) {
				return this.checkForGerald(), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.checkForGerald = function() {
				this.onQuestLine() ? (this.enableLayerID(0, !0), this.enableLayerID(1, !0)) : (this.enableLayerID(0, !1), this.enableLayerID(1, !1))
			}, e.prototype.onQuestLine = function() {
				var t = this.zone.getQuestState();
				return o.Util.isValid(t) && this.zone.getQuestState().ID > 8 && !this.zone.isQuestComplete(12)
			}, e.prototype.wakeUpGerald = function() {
				if (this.wakeUp) {
					this.tween = this.wakeUpTween;
					for (var t = 0; t < this.tween.length; t++) this.tween[t].start()
				}
			}, e.prototype.stayAwake = function() {
				this.tween = this.awakeTween;
				for (var t = 0; t < this.tween.length; t++) this.tween[t].start()
			}, e.prototype.update = function() {
				for (var e = 0; e < this.tween.length; e++) this.tween[e].update();
				t.prototype.update.call(this, this.game)
			}, e
		}(i(43).ForestMap);
	e.ForestD3 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(45),
		r = function(t) {
			function e(e, i) {
				return t.call(this, e, "C8", "MAP_FOREST_BIG_TREE", 1190, 520, ["forest-C7", "forest-B8"], i.concat("atlas-70", "atlas-76")) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), e.prodigy.world.getZone("lamplight").completeQuest(2), this.addAreaEvent(e, i, {
					x: 200,
					y: 40,
					w: 240,
					h: 80
				}, "forest-C7", 200, 630, null, null), this.addAreaEvent(e, i, {
					x: 40,
					y: 480,
					w: 80,
					h: 200
				}, "forest-B8", 1190, 480, null, null), this.addAreaEvent(e, i, {
					x: 1240,
					y: 520,
					w: 80,
					h: 240
				}, "lamplight-B1", 120, 480, null, null);
				i.addConstructedQuestNPC(620, 300, "flora", !0, function(t) {
					var e = t.prodigy.event.create();
					e.text(39, "flora"), e.start()
				}.bind(this, e)), i.createStoreNPC(1130, 390, 7, e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("STORE_NAME_FIREFLY"), !1), new o.ToyMerchant(e, i.content, 920, 390)
			}, e
		}(i(43).ForestMap);
	e.ForestC8 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this, e, "C7", "MAP_FOREST_STONEFISH_BEACH", 200, 630, ["forest-B7", "forest-C8"], i) || this;
			return n.coord = [new Phaser.Point(640, 500), new Phaser.Point(330, 170), new Phaser.Point(220, 260)], n
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
				x: 40,
				y: 220,
				w: 80,
				h: 200
			}, "forest-B7", 1190, 240, null, null), this.addAreaEvent(e, i, {
				x: 200,
				y: 680,
				w: 240,
				h: 80
			}, "forest-C8", 200, 90, null, null), i.addCollect(1, 980, 520, {
				type: "item",
				ID: 51
			});
			this.addWizard(e, i, 550, 480, "wizard1", {
				opponent: [{
					appearance: {
						name: "NPC_NAME_MILLY",
						gender: "female",
						hair: {
							style: 1,
							color: 3
						},
						skinColor: 1,
						eyeColor: 2
					},
					equipment: {
						hat: 12
					}
				}],
				pets: [],
				difficulty: 1
			}, !1)
		}, e
	}(i(43).ForestMap);
	e.ForestC7 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "C4", "MAP_FOREST_THE_OLD_ROAD", 200, 520, ["forest-B5", "forest-D3"], i.concat(["atlas-76"])) || this;
				return n.questNPC = null, n.coord = [new Phaser.Point(400, 580), new Phaser.Point(820, 500), new Phaser.Point(800, 330)], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 0,
					y: 720,
					r: 200
				}, "forest-B5", 1080, 200, null, null), this.addAreaEvent(e, i, {
					x: 1280,
					y: 0,
					r: 200
				}, "forest-D3", 200, 520, null, null), this.questNPC = i.addNPC(378, 313, "atlas-76", a.Util.isValid(n) && a.Util.isValid(n.onInputDownCallback) ? n.onInputDownCallback : this.chatWithMerchant.bind(this, e)), this.questNPC.flip(), this.questNPC.animate("stand"), this.addMonster(e, i, 1, 600, 575, !1, {
					randDir: !0,
					encounter: [{
						ID: 69,
						R: 1
					}, {
						ID: 29,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 2
				}), this.addMonster(e, i, 2, 775, 225, !1, {
					randDir: !0,
					encounter: [{
						ID: 69,
						R: 1
					}, {
						ID: 29,
						R: 1
					}],
					difficulty: 4,
					maxTeamSize: 2
				});
				this.addWizard(e, i, 925, 450, "wizard3", {
					opponent: [{
						appearance: {
							name: "NPC_NAME_CALEB_FORESTMASTER",
							gender: "male",
							hair: {
								style: 21,
								color: 3
							},
							skinColor: 1,
							eyeColor: 4
						},
						equipment: {
							hat: 15,
							outfit: 29,
							weapon: 8
						}
					}],
					pets: [{
						ID: 24,
						difficulty: 2
					}, {
						ID: 36,
						difficulty: 2
					}],
					difficulty: 3
				}, !0), this.addChest(e, i, "chest2", 1e3, 475, [{
					type: "gold",
					N: 250
				}], null, "A")
			}, e.prototype.chatWithMerchant = function(t) {
				var e = t.prodigy.event.create();
				e.text(6, "merchant"), e.start()
			}, e
		}(i(43).ForestMap);
	e.ForestC4 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B8", "MAP_FOREST_FIREFLY_CLEARING", 1190, 480, ["forest-C8"], i.concat("atlas-76")) || this;
				return n.questNPC = null, n.coord = [new Phaser.Point(490, 570), new Phaser.Point(785, 270), new Phaser.Point(440, 200)], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1240,
					y: 400,
					w: 80,
					h: 500
				}, "forest-C8", 90, 480, null, null), this.questNPC = i.addNPC(378, 313, "atlas-76", this.chatWithMerchant.bind(this, e)), this.questNPC.flip(), this.questNPC.animate("stand");
				var a = i.foreground.add(e.prodigy.create.sprite(350, 150, "atlas-21", "map-quest"));
				e.add.tween(a).to({
					y: "-20"
				}, 1400, Phaser.Easing.Quadratic.InOut).to({
					y: "20"
				}, 1400, Phaser.Easing.Quadratic.InOut).loop().start(), this.addChest(e, i, "chest4", 1136, 264, [{
					type: "gold",
					N: 500
				}], null, "C")
			}, e.prototype.start = function(e, i, n) {
				if (t.prototype.start.call(this, e, i, n), this.zone.isQuestComplete(1) && !a.Util.isValid(this.zone.getState("hasdaily"))) {
					this.zone.setState("hasdaily", 1);
					var o = e.prodigy.event.create();
					o.text(33, "merchant"), o.text(34, "merchant"), o.start()
				}
			}, e.prototype.chatWithMerchant = function(t) {
				var e = t.prodigy.event.create();
				this.zone.isOnQuest(1) && !this.zone.isQuestComplete(1) ? e.text(1, "merchant") : 0 === t.prodigy.player.backpack.hasItem("item", 78) ? (e.text(18, "merchant"), e.text(28, "merchant"), e.text(29, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) < 5 ? (e.text(18, "merchant"), e.text(19, "merchant"), 4 === t.prodigy.player.backpack.hasItem("item", 78) && e.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 4 && this.zone.getState("daily").rewards < 5 ? (e.text(26, "merchant"), e.enableSave(!1), e.function(this.zone.setState.bind(this.zone, "daily", {
					date: this.zone.getState("daily").date,
					flags: this.zone.getState("daily").flags,
					rewards: 5
				})), e.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [{
					type: "item",
					ID: 77,
					N: 5
				}])), e.enableSave(!0), e.text(20, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 4 && t.prodigy.player.backpack.hasItem("item", 78) < 10 && this.zone.getState("daily").rewards > 4 ? (e.text(18, "merchant"), e.text(20, "merchant"), 9 === t.prodigy.player.backpack.hasItem("item", 78) && e.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 9 && this.zone.getState("daily").rewards < 10 ? (e.text(26, "merchant"), e.enableSave(!1), e.function(this.zone.setState.bind(this.zone, "daily", {
					date: this.zone.getState("daily").date,
					flags: this.zone.getState("daily").flags,
					rewards: 10
				})), e.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [{
					type: "item",
					ID: 76,
					N: 10
				}])), e.enableSave(!0), e.text(21, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 9 && t.prodigy.player.backpack.hasItem("item", 78) < 25 && this.zone.getState("daily").rewards > 9 ? (e.text(18, "merchant"), e.text(21, "merchant"), 24 === t.prodigy.player.backpack.hasItem("item", 78) && e.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 24 && this.zone.getState("daily").rewards < 25 ? (e.text(26, "merchant"), e.enableSave(!1), e.function(this.zone.setState.bind(this.zone, "daily", {
					date: this.zone.getState("daily").date,
					flags: this.zone.getState("daily").flags,
					rewards: 25
				})), e.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [{
					type: "hat",
					ID: 64
				}])), e.enableSave(!0), e.text(22, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 24 && t.prodigy.player.backpack.hasItem("item", 78) < 50 && this.zone.getState("daily").rewards > 24 ? (e.text(18, "merchant"), e.text(22, "merchant"), 49 === t.prodigy.player.backpack.hasItem("item", 78) && e.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 49 && this.zone.getState("daily").rewards < 50 ? (e.text(26, "merchant"), e.enableSave(!1), e.function(this.zone.setState.bind(this.zone, "daily", {
					date: this.zone.getState("daily").date,
					flags: this.zone.getState("daily").flags,
					rewards: 50
				})), e.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [{
					type: "outfit",
					ID: 55
				}])), e.enableSave(!0), e.text(23, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 49 && t.prodigy.player.backpack.hasItem("item", 78) < 75 && this.zone.getState("daily").rewards > 49 ? (e.text(18, "merchant"), e.text(23, "merchant"), 74 === t.prodigy.player.backpack.hasItem("item", 78) && e.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 74 && this.zone.getState("daily").rewards < 75 ? (e.text(26, "merchant"), e.enableSave(!1), e.function(this.zone.setState.bind(this.zone, "daily", {
					date: this.zone.getState("daily").date,
					flags: this.zone.getState("daily").flags,
					rewards: 75
				})), e.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [{
					type: "item",
					ID: 77,
					N: 5
				}])), e.enableSave(!0), e.text(24, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 74 && t.prodigy.player.backpack.hasItem("item", 78) < 99 && this.zone.getState("daily").rewards > 74 ? (e.text(18, "merchant"), e.text(24, "merchant"), 98 === t.prodigy.player.backpack.hasItem("item", 78) && e.text(25, "merchant")) : t.prodigy.player.backpack.hasItem("item", 78) > 98 && this.zone.getState("daily").rewards < 99 ? (e.text(26, "merchant"), e.enableSave(!1), e.function(this.zone.setState.bind(this.zone, "daily", {
					date: this.zone.getState("daily").date,
					flags: this.zone.getState("daily").flags,
					rewards: 99
				})), e.function(t.prodigy.open.gotItem.bind(t.prodigy.open, [{
					type: "weapon",
					ID: 80
				}])), e.enableSave(!0)) : e.text(36, "merchant"), e.start()
			}, e
		}(i(43).ForestMap);
	e.ForestB8 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this, e, "B7", "MAP_FOREST_FISHERMANS_POND", 1190, 240, ["forest-B6", "forest-C7"], i.concat("atlas-82")) || this;
			return n.coord = [new Phaser.Point(955, 690), new Phaser.Point(130, 530), new Phaser.Point(255, 680)], n
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
				x: 200,
				y: 40,
				w: 320,
				h: 80
			}, "forest-B6", 200, 630, null, null), this.addAreaEvent(e, i, {
				x: 1240,
				y: 240,
				w: 80,
				h: 280
			}, "forest-C7", 90, 240, null, null), this.addPippet(e, i, 2, 200, 546), this.addMonster(e, i, 1, 253, 288, !1, {
				randDir: !0,
				encounter: [{
					ID: 59,
					R: 1
				}, {
					ID: 81,
					R: 1
				}],
				difficulty: 2,
				maxTeamSize: 1
			}), this.addMonster(e, i, 2, 200, 546, !1, {
				randDir: !0,
				encounter: [{
					ID: 59,
					R: 1
				}, {
					ID: 81,
					R: 1
				}, {
					ID: 29,
					R: 1
				}],
				difficulty: 1,
				maxTeamSize: 2
			}), this.addMonster(e, i, 3, 632, 542, !1, {
				randDir: !0,
				encounter: [{
					ID: 59,
					R: 1
				}, {
					ID: 81,
					R: 1
				}],
				difficulty: 1,
				maxTeamSize: 1
			}), this.addChest(e, i, "chest1", 780, 230, [{
				type: "weapon",
				ID: 1
			}], null, "A")
		}, e
	}(i(43).ForestMap);
	e.ForestB7 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this, e, "B6", "MAP_FOREST_GRASSY_CLEARING", 200, 630, ["forest-B5", "forest-B7"], i.concat("atlas-82")) || this;
			return n.coord = [new Phaser.Point(210, 390), new Phaser.Point(300, 130), new Phaser.Point(540, 260)], n
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
				x: 1100,
				y: 40,
				w: 280,
				h: 80
			}, "forest-B5", 1100, 630, null, null), this.addAreaEvent(e, i, {
				x: 200,
				y: 680,
				w: 320,
				h: 80
			}, "forest-B7", 200, 90, null, null), this.addMonster(e, i, 1, 950, 450, !1, {
				randDir: !0,
				encounter: [{
					ID: 59,
					R: 1
				}, {
					ID: 81,
					R: 1
				}],
				difficulty: 2,
				minTeamSize: 2
			}), this.addMonster(e, i, 2, 650, 225, !1, {
				randDir: !0,
				encounter: [{
					ID: 59,
					R: 1
				}, {
					ID: 81,
					R: 1
				}],
				difficulty: 2,
				maxTeamSize: 2
			}), this.addMonster(e, i, 3, 350, 325, !1, {
				randDir: !0,
				encounter: [{
					ID: 59,
					R: 1
				}, {
					ID: 81,
					R: 1
				}, {
					ID: 29,
					R: 2
				}],
				difficulty: 3,
				maxTeamSize: 2,
				range: 22500
			})
		}, e
	}(i(43).ForestMap);
	e.ForestB6 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this, e, "B5", "MAP_FOREST_CROSSROADS", 1100, 630, ["forest-A4", "forest-C4", "forest-B6"], i) || this;
			return n.coord = [new Phaser.Point(1e3, 180), new Phaser.Point(200, 200), new Phaser.Point(690, 125)], n
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
				x: 0,
				y: 0,
				r: 200
			}, "forest-A4", 1080, 520, null, null), this.addAreaEvent(e, i, {
				x: 1280,
				y: 0,
				r: 200
			}, "forest-C4", 200, 520, null, null), this.addAreaEvent(e, i, {
				x: 1100,
				y: 680,
				w: 280,
				h: 80
			}, "forest-B6", 1100, 90, null, null);
			this.zone.isOnQuest(8) || this.addWizard(e, i, 350, 200, "wizard2", {
				opponent: [{
					appearance: {
						name: "NPC_NAME_WOODSMAN_MIKE",
						gender: "male",
						hair: {
							style: 19,
							color: 2
						},
						skinColor: 2,
						eyeColor: 3
					},
					equipment: {
						hat: 7,
						outfit: 12,
						weapon: 1
					}
				}],
				pets: [{
					ID: 20,
					difficulty: 2
				}],
				difficulty: 3
			}, !1)
		}, e
	}(i(43).ForestMap);
	e.ForestB5 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this, e, "A5", "MAP_FOREST_FIREFLY_CROSSING", 220, 90, ["forest-A4"], i) || this;
			return n.coord = [new Phaser.Point(200, 600), new Phaser.Point(900, 510), new Phaser.Point(100, 420)], n
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
				x: 220,
				y: 40,
				w: 280,
				h: 80
			}, "forest-A4", 220, 630, null, null), this.addMonster(e, i, 2, 775, 525, !1, {
				randDir: !0,
				encounter: [{
					ID: 55,
					R: 1
				}, {
					ID: 69,
					R: 1
				}],
				difficulty: 4,
				maxTeamSize: 2,
				range: 22500
			}), this.addMonster(e, i, 3, 575, 300, !1, {
				randDir: !0,
				encounter: [{
					ID: 55,
					R: 1
				}, {
					ID: 69,
					R: 1
				}],
				difficulty: 4,
				maxTeamSize: 2,
				range: 22500
			}), this.addChest(e, i, "chest3", 900, 550, [{
				type: "outfit",
				ID: 12
			}], null, "A")
		}, e
	}(i(43).ForestMap);
	e.ForestA5 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this, e, "A4", "MAP_FOREST_MOUNTAIN_PASS", 1080, 520, ["forest-A3", "forest-A5", "forest-B5"], i) || this;
			return n.coord = [new Phaser.Point(150, 430), new Phaser.Point(755, 400)], n
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
				x: 1080,
				y: 40,
				w: 320,
				h: 80
			}, "forest-A3", 1080, 630, null, null), this.addAreaEvent(e, i, {
				x: 1280,
				y: 720,
				r: 200
			}, "forest-B5", 200, 200, null, null), this.addAreaEvent(e, i, {
				x: 220,
				y: 680,
				w: 280,
				h: 80
			}, "forest-A5", 220, 90, null, null), this.addMonster(e, i, 1, 625, 475, !1, {
				randDir: !0,
				encounter: [{
					ID: 69,
					R: 1
				}, {
					ID: 52,
					R: 1
				}],
				difficulty: 5,
				maxTeamSize: 1,
				range: 22500
			});
			this.addWizard(e, i, 1046, 208, "wizard4", {
				opponent: [{
					appearance: {
						name: "NPC_NAME_LUCKY_JACK",
						gender: "male",
						hair: {
							style: 16,
							color: 3
						},
						skinColor: 1,
						eyeColor: 4
					},
					equipment: {
						hat: 8,
						outfit: 16,
						weapon: 24
					}
				}],
				pets: [{
					ID: 70,
					difficulty: 2
				}, {
					ID: 100,
					difficulty: 2
				}],
				difficulty: 2
			}, !0)
		}, e
	}(i(43).ForestMap);
	e.ForestA4 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, "A3", "MAP_FOREST_MOUNTAIN_GATE", 1080, 630, ["forest-A4"], i) || this
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
				x: 1080,
				y: 680,
				w: 320,
				h: 80
			}, "forest-A4", 1080, 90, null, null), this.addMonster(e, i, 4, 475, 450, !1, {
				randDir: !0,
				encounter: [{
					ID: 29,
					R: 1
				}, {
					ID: 55,
					R: 1
				}, {
					ID: 52,
					R: 1
				}],
				difficulty: 2,
				maxTeamSize: 3
			}), this.addMonster(e, i, 5, 650, 350, !1, {
				randDir: !0,
				encounter: [{
					ID: 29,
					R: 1
				}, {
					ID: 55,
					R: 1
				}, {
					ID: 52,
					R: 1
				}],
				difficulty: 4,
				maxTeamSize: 2
			})
		}, e
	}(i(43).ForestMap);
	e.ForestA3 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(120),
		o = i(0),
		r = i(234),
		s = i(148),
		l = i(32),
		c = i(605),
		h = i(604),
		u = i(603),
		p = i(602),
		d = i(601),
		g = i(600),
		f = i(599),
		y = i(598),
		m = i(597),
		_ = i(596),
		v = i(595),
		E = i(594),
		b = i(593),
		O = i(592),
		I = i(591),
		T = i(590),
		A = i(589),
		C = i(588),
		S = i(587),
		w = i(586),
		D = i(585),
		P = i(584),
		L = i(583),
		x = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				i.name = "Firefly Forest", i.ID = "forest", i.battleBG = "battle-forest-outside", i.onFaint = "forest-C8", i.questHub = "forest-C8", i.bgmID = 15, i.currency = 13, i.states = ["chest1", "chest2", "chest3", "chest4", "wizard1", "wizard2", "wizard3", "wizard4", "daily", "hasdaily", "fakeMonsterDefeated", "questMonsterDefeated"], i.monsters = [25, 29, 32, 52, 55, 59, 69, 81];
				var n = ["tileset-firefly-new", "atlas-91", "atlas-115", "tileset-collisions", "bgm-15"];
				return i.maps = {
					A3: new c.ForestA3(i, n),
					A4: new h.ForestA4(i, n),
					A5: new u.ForestA5(i, n),
					B5: new p.ForestB5(i, n),
					B6: new d.ForestB6(i, n),
					B7: new g.ForestB7(i, n),
					B8: new f.ForestB8(i, n),
					C4: new y.ForestC4(i, n),
					C7: new m.ForestC7(i, n),
					C8: new _.ForestC8(i, n),
					D3: new v.ForestD3(i, n),
					Titan: new s.TitanMap(i, n, {
						map: "forest-Titan",
						cutscene: "forest-titanIntro",
						harvey: {
							x: 330,
							y: 270
						},
						sign: {
							x: 240,
							y: 280
						},
						catapult: {
							x: 200,
							y: 430,
							arcHeight: 300
						},
						titan: {
							x: 1100,
							y: 390,
							impactOffset: {
								x: -130,
								y: 0
							}
						},
						entry: {
							x: 550,
							y: 450
						}
					})
				}, i.quests = {
					1: new E.ForestQ1(i, n),
					2: new T.ForestQ2(i, n),
					3: new A.ForestQ3(i, n),
					4: new C.ForestQ4(i, n),
					5: new S.ForestQ5(i, n),
					6: new w.ForestQ6(i, n),
					7: new D.ForestQ7(i, n),
					8: new P.ForestQ8(i, n),
					9: new L.ForestQ9(i, n),
					10: new b.ForestQ10(i, n),
					11: new O.ForestQ11(i, n),
					12: new I.ForestQ12(i, n)
				}, i.scenes = {
					titanIntro: new r.TitanIntro(i, ["tileset-interior-general", "tileset-wall-collisions", "bgm-10"])
				}, i
			}
			return n(e, t), e.prototype.placeDaily = function(t, e, i) {
				(1 === this.getState("hasdaily") || o.Util.isValid(this.getQuestState()) && this.getQuestState().ID > 1 && this.getQuestState().ID > 1) && e.prodigy.player.backpack.hasItem("item", 78) < 99 && (this.firefly = i.addFireflyEvent(1260 * Math.random(), 700 * Math.random(), 100, 100, this.fireflyOnClick.bind(this, i, t), null, 0))
			}, e.prototype.fireflyOnClick = function(t, e) {
				var i = this.game.prodigy.event.create();
				i.validPath(t.user, t.path, this.firefly.x, this.firefly.y + 100), i.set(t.user, "evtProc", !0), i.function(this.interactFirefly.bind(this, t, e)), i.set(t.user, "evtProc", !1), i.start()
			}, e.prototype.interactFirefly = function(t, e) {
				if (!this.firefly.moving && Math.abs(t.user.x - this.firefly.x) < 100 && Math.abs(this.firefly.y + 100 - t.user.y) < 100) {
					this.firefly.destroy(), this.game.prodigy.open.gotItem([{
						type: "item",
						ID: 78
					}], null, null, "firefly");
					var i = [];
					for (var n in this.maps) i.push(n);
					for (var o = new a.SeededRandomGenerator(this.getState("daily").date), r = 0; r < 5; r++)
						if (i[Math.floor(o.jumpFromStart(r) * (i.length - 1))] === e.tag) {
							var s = this.getState("daily").flags;
							s[r] = 0, this.setState("daily", {
								date: this.getState("daily").date,
								flags: s,
								rewards: this.getState("daily").rewards
							})
						}
				}
			}, e
		}(l.Zone);
	e.ForestZone = x
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, "A3", "MAP_DARK_TOWER_SHOWDOWN", 260, 550, ["darktower-A2"], i) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				var o = this;
				void 0 === n && (n = {}), t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 640,
					y: 280,
					w: 160,
					h: 160,
					rect: !1,
					canReTrigger: !0
				}, null, null, null, function() {
					o.toBase()
				}, a.EAreaEventAngle.DOWN), i.addClickableMoveEvent(560, 200, 160, 160, 640, 340)
			}, e.prototype.updateZoneNameFromCurrentFloor = function() {
				t.prototype.updateZoneNameFromCurrentFloor.call(this), this.zoneName = this.zoneName + "-" + this.zone.game.prodigy.player.userID
			}, e
		}(i(241).DarktowerMap);
	e.DarktowerA3 = o
}, function(t, e, i) {
	var n = {
		"./ArchivesConfig.json": 151,
		"./FirstArchivesConfig.json": 243
	};

	function a(t) {
		var e = o(t);
		return i(e)
	}

	function o(t) {
		var e = n[t];
		if (!(e + 1)) {
			var i = new Error('Cannot find module "' + t + '".');
			throw i.code = "MODULE_NOT_FOUND", i
		}
		return e
	}
	a.keys = function() {
		return Object.keys(n)
	}, a.resolve = o, t.exports = a, a.id = 608
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(27),
		o = i(44),
		r = i(235),
		s = i(0),
		l = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, n) || this;
				return a.parent = i, a
			}
			return n(e, t), e.prototype.reload = function() {
				var t = this.getAceEditorJSON();
				s.Util.isValid(this.uiPreviewObject) && this.uiPreviewObject.destroy(), this.uiPreviewObject = new a.UIElement(this.game, this.parent), this.uiPreviewObject.populate({
					type: "UIElement",
					name: "root",
					width: 1300,
					height: 740
				}), new o.UIParser(this.game).createUIElements(t.elements, this.uiPreviewObject)
			}, e
		}(r.LiveJSONEditor);
	e.LiveUIPreview = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, i) || this
			}
			return n(e, t), e.prototype.buildEditorWindow = function() {
				var e = this;
				t.prototype.buildEditorWindow.call(this);
				this.uiPreviewEditorWindow.document.getElementsByTagName("title")[0].text = "FSM Editor", this.uiPreviewEditorWindow.document.body.innerHTML += '<input id="location" type="text" placeholder="zone-map"></input>', this.uiPreviewEditorWindow.document.body.innerHTML += '<textarea id="code" rows="20" cols="100">game.prodigy.world.teleport(\'academy-GH1\');\nreturn { game };</textarea>';
				var i = this.uiPreviewEditorWindow.document.getElementById("editor");
				i.style.top = "300px", i.innerHTML = '{\n    "version": 1,\n    "name": "Academy Intro Part 1",\n    "states": [\n    {\n        "actions": [\n        {\n            "type": "Teleport",\n            "parameters": {\n            "game": "$game",\n            "map": "academy-GH3",\n            "x": 640,\n            "y": 400\n            },\n            "results": {}\n        }\n        ],\n        "transitions": []\n    }\n    ]\n}', this.uiPreviewEditorWindow.document.body.innerHTML += '<button id="runButton">Run</button>', this.uiPreviewEditorWindow.document.getElementById("runButton").onclick = function() {
					e.run()
				}
			}, e.prototype.run = function() {
				var t = this,
					e = this.uiPreviewEditorWindow.document.getElementById("location");
				this.game.prodigy.world.teleport(e.value, null, null, null, {
					callback: function() {
						setTimeout(function() {
							var e = t.uiPreviewEditorWindow.document.getElementById("code");
							try {
								var i = new Function("game", e.value)(t.game),
									n = t.getAceEditorJSON(),
									o = (new a.StateMachineDataFactories).deserialize(n);
								t.game.prodigy.gameContainer.get(a.GameIdentifiers.IFSMController).execute(o, i, null)
							} catch (t) {
								a.Logger.log(t, a.LogLevel.Error)
							}
						}, 1e3)
					}
				})
			}, e
		}(i(235).LiveJSONEditor);
	e.LiveFSMEditor = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(5),
		o = i(14),
		r = i(0),
		s = function(t) {
			function e(e, i, n, o) {
				var r = t.call(this, e, i, n, o, "atlas-22", "world-map") || this;
				return r.callback = r.onClickCallback.bind(r), r.updateMapIndicator(), e.broadcaster.addAppListener(a.EHUDEvents.SetClickedWorldMap, r.updateMapIndicator.bind(r), r, "HUD", !1), r
			}
			return n(e, t), e.prototype.destroy = function() {
				this.game.broadcaster.removeAppListener(a.EHUDEvents.SetClickedWorldMap, this, "HUD"), t.prototype.destroy.call(this)
			}, e.prototype.onClickCallback = function() {
				var t = this,
					e = this.game.prodigy.world.getCurrentMap();
				if (r.Util.isValid(e) && e.indexOf("-") >= 0 && "archives" === e.split("-")[0]) {
					var i = this.game.prodigy.player.backpack.hasItem("currency", 18);
					this.game.prodigy.open.archivesExitMenu(5, i, !1, function() {
						t.game.prodigy.open.map(!1, t.game.prodigy.classModeController.getInClassDisabledZones())
					})
				} else this.game.prodigy.breadcrumbManager.completeBreadcrumb(o.Breadcrumbs.FEATURE_HOUSE_VISITING, o.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON), this.game.prodigy.breadcrumbManager.completeBreadcrumb(o.Breadcrumbs.FEATURE_HOUSE_MOVING, o.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON), this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(o.Breadcrumbs.BREADCRUMB_UNLOCK_ACADEMY, o.Breadcrumbs.BREADCRUMB_UNLOCK_ACADEMY_NOOT_DIALOGUE) && this.game.prodigy.breadcrumbManager.completeBreadcrumb(o.Breadcrumbs.BREADCRUMB_UNLOCK_ACADEMY, o.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON), this.updateMapIndicator(), this.game.prodigy.open.map(!1, this.game.prodigy.classModeController.getInClassDisabledZones())
			}, e.prototype.updateMapIndicator = function() {
				this.showIndicator(!this.areBreadcrumbsComplete()), this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(o.Breadcrumbs.BREADCRUMB_UNLOCK_ACADEMY, o.Breadcrumbs.BREADCRUMB_UNLOCK_ACADEMY_NOOT_DIALOGUE) && !this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(o.Breadcrumbs.BREADCRUMB_UNLOCK_ACADEMY, o.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON) && this.showIndicator(!0)
			}, e.prototype.areBreadcrumbsComplete = function() {
				return this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(o.Breadcrumbs.FEATURE_HOUSE_VISITING, o.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON) && this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(o.Breadcrumbs.FEATURE_HOUSE_MOVING, o.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON)
			}, e
		}(i(30).HUDButton);
	e.WorldMapButton = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(14),
		o = i(160),
		r = function(t) {
			function e(e, i, n, a) {
				var r = t.call(this, e, i, n, a, "atlas-22", "social", e.prodigy.open.social.bind(e.prodigy.open, o.ESocialMenuType.SeasonDetails)) || this;
				return r.mailCallback = null, r.process(e.prodigy.mail.getMailCount()), r.mailCallback = r.process.bind(r), e.prodigy.mail.addUpdateCallback(r.mailCallback), r
			}
			return n(e, t), e.prototype.destroy = function() {
				this.game.prodigy.mail.removeUpdateCallback(this.mailCallback), t.prototype.destroy.call(this)
			}, e.prototype.onDown = function() {
				t.prototype.onDown.call(this), this.game.prodigy.breadcrumbManager.completeBreadcrumb(a.Breadcrumbs.FEATURE_BADGES, a.Breadcrumbs.BREADCRUMB_CLICKED_SOCIAL_BUTTON), this.process(this.game.prodigy.mail.getMailCount())
			}, e.prototype.process = function(t, e) {
				this.showIndicator(t > 0 || !this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(a.Breadcrumbs.FEATURE_BADGES, a.Breadcrumbs.BREADCRUMB_CLICKED_SOCIAL_BUTTON))
			}, e
		}(i(30).HUDButton);
	e.SocialButton = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i, n, a) {
			var o = t.call(this, e, i, n, a, "atlas-22", "settings", e.prodigy.open.settings.bind(e.prodigy.open)) || this;
			return !e.prodigy.player.hasValidatedParentEmail() && e.prodigy.player.hasCompletedTutorial() && o.showIndicator(!0), o
		}
		return n(e, t), e
	}(i(30).HUDButton);
	e.SettingsButton = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i, n, a) {
			return t.call(this, e, i, n, a, "atlas-22", "pets", e.prodigy.open.pets.bind(e.prodigy.open)) || this
		}
		return n(e, t), e
	}(i(30).HUDButton);
	e.PetsButton = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(5),
		s = i(14),
		l = function(t) {
			function e(e, i, n, a) {
				var r = t.call(this, e, i, n, a, "atlas-22", "move") || this;
				return r.isHouseMovingEnabled = !1, r.callback = r.onClickCallback.bind(r), r.isHouseMovingEnabled = o.GameConstants.get("GameConstants.Features.ENABLE_HOUSE_MOVING"), r.showIndicator(r.isHouseMovingEnabled && e.prodigy.player.hasCompletedTutorial() && !e.prodigy.breadcrumbManager.isBreadcrumbComplete(s.Breadcrumbs.FEATURE_HOUSE_MOVING, s.Breadcrumbs.BREADCRUMB_CLICKED_HOUSE_MOVE_BUTTON)), r
			}
			return n(e, t), e.prototype.onClickCallback = function() {
				this.isHouseMovingEnabled ? (this.game.prodigy.breadcrumbManager.completeBreadcrumb(s.Breadcrumbs.FEATURE_HOUSE_MOVING, s.Breadcrumbs.BREADCRUMB_CLICKED_HOUSE_MOVE_BUTTON), this.showIndicator(!1), this.game.broadcaster.broadcast(r.EHUDEvents.SetClickedWorldMap, "HUD", []), this.game.prodigy.world.getZone("house").openHouseStore()) : this.game.prodigy.open.message(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMING_SOON_MESSAGE"))
			}, e
		}(i(30).HUDButton);
	e.MoveHouseButton = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(16),
		o = i(20),
		r = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, n, a, "atlas-22", "membership") || this;
				return o.callback = o.onClickCallback.bind(o), o
			}
			return n(e, t), e.prototype.onClickCallback = function() {
				this.game.prodigy.network.sendConversionFunnelEvent(o.EFunnelEventIDs.FunnelClickHUDButton, o.EFunnelEventIDs.StageClickButton);
				var t = this.game.prodigy.player.isMember ? a.MembershipInfo.MEMBER_HUD : a.MembershipInfo.NOT_MEMBER_HUD;
				this.game.prodigy.open.membershipInfo(null, {
					conversionFunnelName: o.EFunnelEventIDs.FunnelClickHUDButton
				}, t)
			}, e
		}(i(30).HUDButton);
	e.MemberIconButton = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(5),
		o = i(261),
		r = i(0),
		s = function(t) {
			function e(e, i, n, o) {
				var s = t.call(this, e, i, n, o, "atlas-22", "mail", e.prodigy.open.mailer.bind(e.prodigy.open)) || this;
				return s.game.broadcaster.addAppListener(a.EMailerEvents.GetTotalMailFailure, s.showIndicator.bind(s, !1), s, "ProdigyMailer"), s.game.broadcaster.addAppListener(a.EMailerEvents.UpdateMailCounters, s.process.bind(s), s, "ProdigyMailerButton"), r.Util.isValid(e.prodigy.mailNetworkHandler) && r.Util.isValid(e.prodigy.mailNetworkHandler.totalMail) && s.process(e.prodigy.mailNetworkHandler.totalMail), s
			}
			return n(e, t), e.prototype.destroy = function() {
				this.game.broadcaster.removeAppListener(a.EMailerEvents.GetTotalMailFailure, this, "ProdigyMailer"), this.game.broadcaster.removeAppListener(a.EMailerEvents.UpdateMailCounters, this, "ProdigyMailerButton"), t.prototype.destroy.call(this)
			}, e.prototype.process = function(t) {
				var e = new o.MailerSplitTests(this.game),
					i = t.totalUnread;
				if (r.Util.isValid(t.splitTestKeys))
					for (var n = 0; n < t.splitTestKeys.length; n++) e.isInSplitTest(t.splitTestKeys[n]) || i--;
				this.showIndicator(i > 0)
			}, e
		}(i(30).HUDButton);
	e.MailerButton = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(5),
		r = i(14),
		s = i(0),
		l = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, n, a, "atlas-22", "visiting-locked") || this;
				return o.callback = o.onLockButtonClick.bind(o), o.showIndicator(e.prodigy.player.hasCompletedTutorial() && !o.game.prodigy.breadcrumbManager.isBreadcrumbComplete(r.Breadcrumbs.FEATURE_HOUSE_VISITING, r.Breadcrumbs.BREADCRUMB_CLICKED_HOUSE_LOCK_BUTTON)), o.setAllowsVisiting(o.getAllowsVisiting()), o
			}
			return n(e, t), e.prototype.onLockButtonClick = function() {
				this.game.prodigy.player.hasCompletedTutorial() && !this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(r.Breadcrumbs.FEATURE_HOUSE_VISITING, r.Breadcrumbs.BREADCRUMB_CLICKED_HOUSE_LOCK_BUTTON) && (this.showIndicator(!1), this.game.prodigy.breadcrumbManager.completeBreadcrumb(r.Breadcrumbs.FEATURE_HOUSE_VISITING, r.Breadcrumbs.BREADCRUMB_CLICKED_HOUSE_LOCK_BUTTON), this.game.broadcaster.broadcast(o.EHUDEvents.SetClickedWorldMap, "HUD", []));
				var t = !this.getAllowsVisiting(),
					e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(t ? "HOUSE_VISITING_UNLOCKED" : "HOUSE_VISITING_LOCKED");
				this.game.prodigy.open.message(e, null, null, null), this.game.prodigy.network.sendAnalytics("Click-House-Lock-Toggle", t ? "Visiting-Enabled" : "Visiting-Disabled"), this.setAllowsVisiting(t)
			}, e.prototype.getAllowsVisiting = function() {
				return s.Util.isValid(this.game.prodigy.player) && this.game.prodigy.player.getAllowsHouseVisitors()
			}, e.prototype.setAllowsVisiting = function(t) {
				s.Util.isValid(this.game.prodigy.player) && this.game.prodigy.player.setAllowsHouseVisitors(t), this.sprite.frameName = t ? "visiting-unlocked" : "visiting-locked"
			}, e
		}(i(30).HUDButton);
	e.LockHouseButton = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(5),
		o = function(t) {
			function e(e, i, n, o) {
				var r = t.call(this, e, i, n, o, "atlas-22", "friendsList", e.prodigy.open.friendsList.bind(e.prodigy.open, null)) || this;
				return e.broadcaster.addAppListener(a.EFriendsListEvents.GetTotalFriendRequests, r.process.bind(r), r, "HUD", !1), e.broadcaster.addAppListener(a.EFriendsListEvents.RequestReceived, r.process.bind(r), r, "HUD", !1), e.broadcaster.addAppListener(a.EFriendsListEvents.RequestRejected, r.process.bind(r), r, "HUD", !1), e.broadcaster.addAppListener(a.EFriendsListEvents.RequestAccepted, r.process.bind(r), r, "HUD", !1), e.broadcaster.addAppListener(a.EFriendsListEvents.RequestCancelled, r.process.bind(r), r, "HUD", !1), r
			}
			return n(e, t), e.prototype.destroy = function() {
				this.game.broadcaster.removeAppListener(a.EFriendsListEvents.GetTotalFriendRequests, this, "HUD"), this.game.broadcaster.removeAppListener(a.EFriendsListEvents.RequestReceived, this, "HUD"), this.game.broadcaster.removeAppListener(a.EFriendsListEvents.RequestRejected, this, "HUD"), this.game.broadcaster.removeAppListener(a.EFriendsListEvents.RequestAccepted, this, "HUD"), this.game.broadcaster.removeAppListener(a.EFriendsListEvents.RequestCancelled, this, "HUD"), t.prototype.destroy.call(this)
			}, e.prototype.process = function(t) {
				this.showIndicator(t > 0)
			}, e
		}(i(30).HUDButton);
	e.FriendsListButton = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i, n, a) {
			return t.call(this, e, i, n, a, "atlas-22", "feed", e.prodigy.open.socialFeed.bind(e.prodigy.open)) || this
		}
		return n(e, t), e
	}(i(30).HUDButton);
	e.FeedButton = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(5),
		o = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, n, a, "atlas-22", "edit") || this;
				return o.callback = o.broadcastEvent.bind(o), o
			}
			return n(e, t), e.prototype.broadcastEvent = function() {
				this.game.broadcaster.broadcast(a.EHouseEvents.OpenEditor)
			}, e
		}(i(30).HUDButton);
	e.EditHouseButton = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(5),
		o = i(14),
		r = function(t) {
			function e(e, i, n, o) {
				var r = t.call(this, e, i, n, o, "atlas-22", "chat") || this;
				return r.callback = r.openChat.bind(r), r.game.broadcaster.addAppListener(a.EHUDEvents.HideChatNotif, r.process.bind(r), r, "chatButton"), r.process(), r
			}
			return n(e, t), e.prototype.destroy = function() {
				this.game.broadcaster.removeAppListener(a.EHUDEvents.HideChatNotif, this, "chatButton"), t.prototype.destroy.call(this)
			}, e.prototype.openChat = function() {
				this.game.broadcaster.broadcast(a.EHUDEvents.OpenChat, "HUD", []), this.game.prodigy.open.chat(this.game.broadcaster.broadcast.bind(this.game.broadcaster, a.EHUDEvents.CloseChat, "HUD"))
			}, e.prototype.process = function() {
				this.showIndicator(!this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(o.Breadcrumbs.BREADCRUMB_CLICKED_DAB, o.Breadcrumbs.BREADCRUMB_CLICKED_DAB_DAB_BUTTON))
			}, e
		}(i(30).HUDButton);
	e.ChatButton = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(5),
		o = i(14),
		r = function(t) {
			function e(e, i, n, r) {
				var s = t.call(this, e, i, n, r, "atlas-22", "items", e.prodigy.open.backpack.bind(e.prodigy.open)) || this;
				return e.prodigy.player.backpack.hasItem("mount", 1) > 0 && !e.prodigy.breadcrumbManager.isBreadcrumbComplete(o.Breadcrumbs.FEATURE_CLOUD_MOUNT, o.Breadcrumbs.BREADCRUMB_CLOUD_MOUNT_TOGGLED) && (s.showIndicator(!0), e.broadcaster.addAppListener(a.EUIEvents.MountTogglePressed, s.mountToggled.bind(s), s, "mount")), s
			}
			return n(e, t), e.prototype.destroy = function() {
				this.game.broadcaster.removeAppListener(a.EUIEvents.MountTogglePressed, this, "mount"), t.prototype.destroy.call(this)
			}, e.prototype.mountToggled = function() {
				this.game.broadcaster.removeAppListener(a.EUIEvents.MountTogglePressed, this, "mount"), this.showIndicator(!1)
			}, e
		}(i(30).HUDButton);
	e.BackpackButton = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(4),
		a = i(0),
		o = i(623),
		r = i(622),
		s = i(621),
		l = i(620),
		c = i(619),
		h = i(618),
		u = i(617),
		p = i(616),
		d = i(615),
		g = i(614),
		f = i(613),
		y = i(612),
		m = i(611),
		_ = function() {
			function t(t) {
				this.game = t, this.resetConfig()
			}
			return t.prototype.resetConfig = function() {
				this.pages = []
			}, t.prototype.addPage = function(t) {
				a.Util.isValid(this.pages[t]) || this.pages.push([])
			}, t.prototype.addMenu = function(t, e) {
				a.Util.isValid(this.pages[t][e]) || this.pages[t].push([])
			}, t.prototype.addDefaultConfig = function() {
				this.addPage(0), this.addMenu(0, 0), this.addMemberIcon(0, 0), this.addBackpack(0, 0), this.addPet(0, 0), this.addMap(0, 0), this.addSocial(0, 0), this.addEvent(0, 0), this.addSettings(0, 0), this.addChat(0, 0), this.addFeedIcon(0, 0), this.addFriendsList(0, 0), this.addMailer(0, 0)
			}, t.prototype.addHouseConfig = function(t) {
				this.addMenu(t, 1), this.addMoveHouse(t, 1), this.addEditHouse(t, 1), this.addLockHouse(t, 1)
			}, t.prototype.addMoveHouse = function(t, e) {
				this.pages[t][e].push({
					type: d.MoveHouseButton
				})
			}, t.prototype.addEditHouse = function(t, e) {
				this.pages[t][e].push({
					type: s.EditHouseButton
				})
			}, t.prototype.addLockHouse = function(t, e) {
				this.pages[t][e].push({
					type: h.LockHouseButton
				})
			}, t.prototype.addMailer = function(t, e) {
				this.pages[t][e].push({
					type: u.MailerButton
				})
			}, t.prototype.addBackpack = function(t, e) {
				(this.game.prodigy.player.getGold() > 0 || this.game.prodigy.player.backpack.getTotalUnique() > 0) && this.pages[t][e].push({
					type: o.BackpackButton
				})
			}, t.prototype.addPet = function(t, e) {
				var i = !1;
				if (a.Util.isValid(this.game.prodigy.world.currentZone)) {
					var n = this.game.prodigy.world.currentZone.split("-");
					i = "darktower" === n[0] && "A1" !== n[1]
				}
				this.game.prodigy.player.kennel.getPets().length > 0 && !i && this.pages[t][e].push({
					type: g.PetsButton
				})
			}, t.prototype.addSocial = function(t, e) {
				this.game.prodigy.player.hasCompletedTutorial() && this.pages[t][e].push({
					type: y.SocialButton
				})
			}, t.prototype.addFriendsList = function(t, e) {
				this.pages[t][e].push({
					type: c.FriendsListButton
				})
			}, t.prototype.addMap = function(t, e) {
				(this.game.prodigy.player.hasCompletedTutorial() || n.GameConstants.get("GameConstants.Debug.ENABLE_MAP")) && this.pages[t][e].push({
					type: m.WorldMapButton
				})
			}, t.prototype.addEvent = function(t, e) {
				for (var i = this.game.prodigy.skin.getButtons(), n = 0; n < i.length; n++) this.pages[t][e].push(i[n])
			}, t.prototype.addChat = function(t, e) {
				this.pages[t][e].push({
					type: r.ChatButton
				})
			}, t.prototype.addSettings = function(t, e) {
				this.pages[t][e].push({
					type: f.SettingsButton
				})
			}, t.prototype.addMemberIcon = function(t, e) {
				this.pages[t][e].push({
					type: p.MemberIconButton
				})
			}, t.prototype.addFeedIcon = function(t, e) {
				this.game.prodigy.player.hasCompletedTutorial() && this.pages[t][e].push({
					type: l.FeedButton
				})
			}, t
		}();
	e.MenuModel = _
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(7),
		o = i(5),
		r = i(0),
		s = i(624),
		l = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i) || this;
				return n.ID = 1, n.page = 0, n.isHouse = !1, n.model = new s.MenuModel(e), n.menus = [], n.onDestroy.add(n.cleanup.bind(n)), n.game.broadcaster.addAppListener(o.EHUDEvents.OpenChat, n.show.bind(n, !1), n, "HUD", !1), n.game.broadcaster.addAppListener(o.EHUDEvents.CloseChat, n.show.bind(n, !0), n, "HUD", !1), n.game.broadcaster.addAppListener(o.EGiftBoxEvents.UpdateConjureCubeCount, n.addConjureCubeButton.bind(n), n, "HUD", !1), n.game.broadcaster.addAppListener(o.EHUDEvents.RouletteSpin, n.show.bind(n, !1), n, "HUD", !1), n.open(0, n.isHouse), n
			}
			return n(e, t), e.prototype.open = function(t, e) {
				this.removeAll(!0), this.model.resetConfig(), this.model.addDefaultConfig(), this.addConjureCubeButton(), this.isHouse = e, e && this.model.addHouseConfig(t), this.menus = [];
				for (var i = this.model.pages[t], n = 0; n < i.length; n++) this.menus.push(this.createMenu(i[n]));
				this.centreMenus()
			}, e.prototype.addConjureCubeButton = function() {
				this.game.prodigy.player.hasCompletedTutorial() && this.game.prodigy.giftBoxController.hasConjureCubes() && (r.Util.isValid(this.conjureCubeButton) && this.conjureCubeButton.destroy(!0), this.conjureCubeButton = this.game.prodigy.create.conjureCubeButton(this, this.game.width - 150, 50), this.game.prodigy.player.isPlayerTransformed() && (this.conjureCubeButton.visible = !1))
			}, e.prototype.createMenu = function(t) {
				var e = this.game.prodigy.create.element(this, 0, 0);
				e.add(this.game.prodigy.create.sprite(0, 0, "atlas-18", "HUD-end"));
				for (var i = 30, n = 0; n < t.length; n++) e.add(this.game.prodigy.create.sprite(i, 0, "atlas-18", "HUD-mid")), i += 62;
				e.add(this.game.prodigy.create.sprite(i + 30, 0, "atlas-18", "HUD-end")).scale.x = -1, i = 33;
				var a = [];
				for (n = 0; n < t.length; n++) {
					var o = t[n],
						s = {
							buttonSprite: o.type ? this.game.prodigy.create.hudButton(o.type, e, i, 14) : r.Util.isValid(o.frameName) ? this.game.prodigy.create.button(e, i, 14, o.key, o.frameName, o.callback) : null,
							exclamationSprite: null
						};
					i += 62, a.push(s)
				}
				return {
					bar: e,
					buttons: a
				}
			}, e.prototype.centreMenus = function() {
				for (var t = 0, e = 0; e < this.menus.length; e++) r.Util.isValid(this.menus[e].bar) && (t += this.menus[e].bar.width);
				t += 10 * (this.menus.length - 1);
				var i = Math.floor(.5 * (1280 - t));
				for (e = 0; e < this.menus.length; e++) r.Util.isValid(this.menus[e].bar) && (this.menus[e].bar.x = i + 50 * e, this.menus[e].bar.y = 638, i += this.menus[e].bar.width + 10)
			}, e.prototype.show = function(t) {
				this.visible = t
			}, e.prototype.cleanup = function() {
				this.game.broadcaster.removeAppListener(o.EHouseEvents.ClickedHouseIcon, this, "UI"), this.game.broadcaster.removeAppListener(o.EHUDEvents.OpenChat, this, "HUD"), this.game.broadcaster.removeAppListener(o.EHUDEvents.CloseChat, this, "HUD")
			}, e
		}(a.Element);
	e.Menu = l
}, function(t, e, i) {
	var n = i(189),
		a = i(103),
		o = Math.max;
	t.exports = function(t, e, i) {
		var r = null == t ? 0 : t.length;
		if (!r) return -1;
		var s = null == i ? 0 : a(i);
		return s < 0 && (s = o(r + s, 0)), n(t, e, s)
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = i(125),
		r = i(2),
		s = i(12),
		l = i(162),
		c = i(29),
		h = i(0),
		u = function(t) {
			function e(e, i, n, o, u, p, d, g, f) {
				var y = this,
					m = new l.Wizard(e);
				m.init(g.opponent[0]), (y = t.call(this, e, i, m, null, n, o, !1, !1, !1, !1) || this).ID = d, y.user = u, y.path = p, h.Util.isValid(g.range) || (g.range = 4e4 * a.GameConstants.get("GameConstants.Debug.SCALE_ENCOUNTER_DISTANCE")), y.mods = g;
				var _ = new s.Player(y.game),
					v = y.game.prodigy.player.getLevel();
				v = c.Random.integerInRange(Math.max(1, v - 2), Math.min(v + 2, 100)), h.Util.isValid(y.mods.opponent[0].data) && h.Util.isValid(y.mods.opponent[0].data.level) && (v = y.mods.opponent[0].data.level), y.mods.opponent = y.mods.opponent || [{
					data: {
						level: v
					},
					appearance: _.appearance.getData(),
					equipment: _.equipment.getData()
				}];
				for (var E = [], b = Math.min(4, y.game.prodigy.player.kennel.getTeam().length - 2 + 3 * Math.random()), O = 0; O < b; O++) {
					var I = {
						level: c.Random.integerInRange(Math.max(1, v - 2), Math.min(v + 2, 100)),
						ID: 0
					};
					I.ID = r.Items.getRandomItem("pet").ID, E.push(I)
				}
				if (y.mods.pets = h.Util.isValid(y.mods.pets) ? y.mods.pets : E, y.mods.catch = !1, y.mods.run = !1, y.visible = !1, a.GameConstants.get("GameConstants.Debug.MONSTER_RADIUS_VISIBLE")) {
					var T = e.add.graphics(0, 0);
					T.beginFill(16711680, .5), T.drawCircle(n, o, 2 * Math.sqrt(g.range)), f.above.add(T)
				}
				return y
			}
			return n(e, t), e.prototype.process = function(t) {
				this.zone = t
			}, e.prototype.update = function() {
				t.prototype.update.call(this), this.visible && !this.started && !this.user.evtProc && Phaser.Math.distanceSq(this.x, this.y, this.user.x, this.user.y) < this.mods.range && !this.path.isPathBlocked(this.x, this.y, this.user.x, this.user.y) && this.alert()
			}, e.prototype.alert = function() {
				this.started = !0, this.highlight(!1), this.game.prodigy.audio.pauseBGM(), this.game.prodigy.audio.playSFX(19, "monster"), this.user.evtProc = !0, this.chat(1, 80), this.user.setPath([]), this.user.x = Math.floor(this.user.x), this.user.y = Math.floor(this.user.y), this.game.input.enabled = !1, this.hop(300, this.engage.bind(this))
			}, e.prototype.engage = function() {
				this.setPath([{
					x: this.user.x,
					y: this.user.y
				}], this.startBattle.bind(this))
			}, e.prototype.startBattle = function() {
				var t = this;
				this.game.input.enabled = !0, this.mods.scale = !0;
				var e = this.game;
				this.game.prodigy.network.sendBattleStartTypeEvent("WizardEncounter"), this.game.prodigy.battle.start(this.mods, function() {
					e.prodigy.world.teleport(t.mods.onEnd, t.x, t.y)
				}, function() {
					e.prodigy.world.teleport(t.mods.onEnd, t.x, t.y), t.zone.setState(t.ID, 1)
				}, null, this.mods.onFaint)
			}, e
		}(o.CharacterContainer);
	e.WizardEvent = u
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(102),
		r = i(7),
		s = i(0),
		l = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i, 440, 5) || this;
				return a.user = null, a.banner = null, a.icon = null, a.state = null, a.text = null, a.user = n, a.banner = a.game.prodigy.create.panel(a, 0, 0, 10, 2, "banner"), a.banner.visible = !1, a.icon = a.add(a.game.prodigy.create.sprite(50, 5, "atlas-21", "quest")), a.state = a.add(a.game.prodigy.create.sprite(50, 5, "atlas-21", "quest")), a.icon.visible = !1, a.state.visible = !1, a.arrow = a.add(a.game.prodigy.create.sprite(175, 0, "atlas-21", "up")), a.arrow.visible = !1, a
			}
			return n(e, t), e.prototype.process = function(t, e) {
				var i = this,
					n = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.visible = !1;
				var r = null;
				if (s.Util.isValid(this.text) && (r = this.text.text, this.text.destroy()), this.state.frameName = "quest", this.icon.loadNewTexture("atlas-21", "quest"), this.state.visible = this.icon.visible = !0, s.Util.isValid(t.getState("dailyQuest"))) {
					if (t.hasDailyQuestExpired() || t.isDailyQuestComplete() && t.getState("handedOverQuest")) return;
					var l = t.getDailyQuestDescription(0);
					if (t.isDailyQuestComplete()) this.icon.destroy(), this.icon = this.add(this.game.prodigy.create.sprite(50, 5, "atlas-21", "quest-complete")), this.icon.x = 350 - this.icon.width, this.state.frameName = "quest-complete", this.text = this.game.prodigy.create.font(this, 98, 24, n.getText("QUEST_JOB_COMPLETE"), {
						align: "center",
						width: 204,
						size: 20
					});
					else if ("pet" === l.type) {
						this.icon.destroy();
						this.icon = this.add(this.game.prodigy.icon.createFromData(l, 300, 5, null, function(t) {
							t.x = 350 - t.width, t.onTextureLoaded = null
						}.bind(this))), this.state.visible = !1, this.text = this.game.prodigy.create.font(this, 50, 24, n.getText("QUEST_PROGRESS_DEFEAT_MORE", l.N), {
							size: 20
						})
					}
					this.banner.visible = !0, this.visible = !0
				}
				var c = t.getQuestState();
				if (s.Util.isValid(c) && s.Util.isValid(c.req)) {
					var h = t.getQuest(c.ID);
					if (s.Util.isValid(h)) {
						if (t.isQuestComplete(c.ID)) {
							if (this.icon.destroy(), this.icon = this.add(this.game.prodigy.create.sprite(50, 5, "atlas-21", "quest-complete")), this.state.frameName = "quest-complete", this.text = this.game.prodigy.create.font(this, 98, 24, n.getText("QUEST_JOB_COMPLETE"), {
									align: "center",
									width: 204,
									size: 20
								}), !h.chain && !t.isQuestProcessed(c.ID) && !e.isQuestHub) {
								t.processQuest(c.ID);
								var u = this.game.prodigy.event.create();
								if (u.set(this.user, "evtProc", !0), s.Util.isValid(h.onProc) && h.onProc.length > 0)
									for (var p = 0; p < h.onProc.length; p++) h.onProc[p] >= 0 && u.text(h.onProc[p], "noot");
								else u.text(41, "noot");
								u.set(this.user, "evtProc", !1), u.start()
							}
						} else if (s.Util.isValid(h.area) && !s.Util.inArray(h.area, this.game.prodigy.player.data.zone)) this.text = this.game.prodigy.create.font(this, 98, 24, n.getText("QUEST_FOLLOW_PATH"), {
							align: "center",
							width: 204,
							size: 20
						});
						else {
							l = c.req;
							s.Util.isValid(h.descKey) && o(h.descKey) > 0 ? this.text = this.game.prodigy.create.font(this, 98, 24, n.getText(h.descKey), {
								align: "center",
								width: 204,
								size: 20
							}) : s.Util.inArray(["item", "weapon", "hat", "outfit", "boots", "key"], l.type) ? (this.remove(this.icon), this.icon = this.add(this.game.prodigy.icon.createFromData(l, 50, 5, null, function(t) {
								i.icon.x = 350 - t.width
							})), this.state.visible = !1, this.text = this.game.prodigy.create.font(this, 50, 24, n.getText("QUEST_PROGRESS_COLLECT_MORE", Math.max(0, l.N - this.game.prodigy.player.backpack.hasItem(l.type, l.ID))), {
								size: 20
							})) : "pet" === l.type ? (this.remove(this.icon), this.icon = this.add(this.game.prodigy.icon.createFromData(l, 50, 5, null, function(t) {
								i.icon.x = 350 - t.width
							})), this.state.visible = !1, this.text = this.game.prodigy.create.font(this, 50, 24, n.getText("QUEST_PROGRESS_DEFEAT_MORE", l.N), {
								size: 20
							})) : "clear" === l.type && (this.state.visible = !1, this.text = this.game.prodigy.create.font(this, 50, 24, n.getText("QUEST_CLEAR", l.T), {
								size: 20
							}))
						}
						if (this.banner.visible = !0, this.icon.x = 350 - this.icon.width, s.Util.isValid(this.text) && r !== this.text.text && s.Util.isValid(r)) this.arrow.visible = !0, this.arrow.y = 50, this.arrow.alpha = 1, this.game.add.tween(this.arrow).to({
							y: 30,
							alpha: 0
						}, 1e3, Phaser.Easing.Linear.None).start().onComplete.add(function() {
							i.arrow.visible = !1
						}, this);
						this.visible = !0
					}
				}
			}, e
		}(r.Element);
	e.QuestProgressEvent = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(19),
		r = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e.tween = [], e
			}
			return n(e, t), e.prototype.setup = function(t, e, i) {
				this.npc = this.add(this.game.prodigy.create.element(this, 0, 0)), this.game.prodigy.create.nameFont(this, 10, -110, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NPC_NAME_FLORA")), this.y += 90, this.x -= 50, this.particles = [];
				for (var n = 0; n < 4; n++) this.particles.push(this.npc.add(this.game.prodigy.create.sprite(-35, -84, "atlas-70", "particle-1")));
				var r = this.npc.add(this.game.prodigy.create.sprite(-35, -84, "atlas-70", "head-1")),
					s = this.npc.add(this.game.prodigy.create.sprite(-6, -39, "atlas-70", "back-wing-1")),
					l = this.npc.add(this.game.prodigy.create.sprite(-12, -22, "atlas-70", "front-wing-1")),
					c = this.npc.add(this.game.prodigy.create.sprite(-19, -35, "atlas-70", "body"));
				c.inputEnabled = !0, c.events.onInputDown.add(this.process.bind(this, t, null, !0), this), r.inputEnabled = !0, r.events.onInputDown.add(this.process.bind(this, t, null, !0), this), s.inputEnabled = !0, s.events.onInputDown.add(this.process.bind(this, t, null, !0), this), l.inputEnabled = !0, l.events.onInputDown.add(this.process.bind(this, t, null, !0), this), this.particlesTween = [];
				for (var h = 0; h < this.particles.length; h++) this.particlesTween.push(new o.TweenController(this.particles[h])), this.particlesTween[h].set("frameName", ["particle-1", "particle-2"], 200, 9999), this.particlesTween[h].end(this.randomizePos.bind(this, this.particles[h])), this.particlesTween[h].start();
				i && (this.npc.scale.x = -1);
				var u = -35,
					p = -84,
					d = -84,
					g = -19,
					f = -35,
					y = -6,
					m = -39,
					_ = -6,
					v = -39,
					E = -6,
					b = -35,
					O = -7,
					I = -25,
					T = -28,
					A = -27,
					C = -26,
					S = -28,
					w = -12,
					D = -22,
					P = -9,
					L = -29,
					x = -6,
					M = -31;
				this.tween = [], this.tween.push(new o.TweenController(r)), this.tween[0].set("frameName", ["head-1", "head-1", "head-1", "head-1", "head-1", "head-2", "head-2", "head-1"], 150, 9999), this.tween.push(new o.TweenController(r)), this.tween[1].set("x", [u], 150, 9999), this.tween.push(new o.TweenController(r)), this.tween[2].set("y", [p, p + 1, p + 2, p + 2, p - 1, d - 2, d - 2, p - 1], 100, 9999), this.tween.push(new o.TweenController(c)), this.tween[3].set("x", [g], 150, 9999), this.tween.push(new o.TweenController(c)), this.tween[4].set("y", [f, f + 1, f + 2, f + 2, f, f - 1, f - 1, f], 100, 9999), this.tween.push(new o.TweenController(s)), this.tween[5].set("frameName", ["back-wing-1", "back-wing-2", "back-wing-2", "back-wing-1", "back-wing-3", "back-wing-4", "back-wing-5", "back-wing-6"], 100, 9999), this.tween.push(new o.TweenController(s)), this.tween[6].set("x", [y, _, _, y, E, O, T, C], 100, 9999), this.tween.push(new o.TweenController(s)), this.tween[7].set("y", [m, v, v + 1, m + 2, b, I, A, S], 100, 9999), this.tween.push(new o.TweenController(l)), this.tween[8].set("frameName", ["fake-pixel", "fake-pixel", "fake-pixel", "fake-pixel", "fake-pixel", "fake-pixel", "front-wing-1", "front-wing-2"], 100, 9999), this.tween.push(new o.TweenController(l)), this.tween[9].set("x", [w, w, w, w, w, w, P, x], 100, 9999), this.tween.push(new o.TweenController(l)), this.tween[10].set("y", [D, D + 1, D + 2, D + 2, D, D - 1, L, M], 100, 9999);
				for (n = 0; n < this.tween.length; n++) this.tween[n].start()
			}, e.prototype.randomizePos = function(t) {
				t.x = Math.floor(35 * Math.random()) - 15, t.y = Math.floor(30 * Math.random()) - 35
			}, e.prototype.update = function() {
				for (var t = 0; t < this.tween.length; t++) this.tween[t].update();
				for (var e = 0; e < this.particlesTween.length; e++) this.particlesTween[e].update(), this.particles[e].y += .7
			}, e
		}(i(116).QuestEvent);
	e.FloraEvent = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(19),
		r = i(0),
		s = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e.tweens = [], e.idleCounter = 0, e
			}
			return n(e, t), e.prototype.setup = function(t, e, i) {
				this.npc = this.add(this.game.prodigy.create.element(this, 0, 0));
				var n = this.npc.add(this.game.prodigy.create.sprite(-13, -9, "atlas-137", "eve-head-1"));
				n.anchor.setTo(.5, 1);
				var r = this.npc.add(this.game.prodigy.create.sprite(0, 0, "atlas-137", "eve-body"));
				r.anchor.setTo(.5, 1);
				var s = this.npc.add(this.game.prodigy.create.sprite(-2, -47, "atlas-137", "eve-face-1"));
				s.anchor.setTo(.5, 1), n.inputEnabled = !0, n.events.onInputDown.add(this.process.bind(this, t, null, !0), this), r.inputEnabled = !0, r.events.onInputDown.add(this.process.bind(this, t, null, !0), this), s.inputEnabled = !0, s.events.onInputDown.add(this.process.bind(this, t, null, !0), this), i && (this.npc.scale.x = -1), this.standTween1 = [], this.standTween1.push(new o.TweenController(n)), this.standTween1[0].set("y", [n.y], 150, 9999), this.standTween1.push(new o.TweenController(s)), this.standTween1[1].set("y", [s.y], 150, 9999), this.standTween1.push(new o.TweenController(n)), this.standTween1[2].set("frameName", ["eve-head-1"], 150, 9999), this.standTween1.push(new o.TweenController(s)), this.standTween1[3].set("frameName", ["eve-face-1"], 150, 9999), this.standTween1[3].end(this.updateIdleCounter.bind(this)), this.standTween2 = [], this.standTween2.push(new o.TweenController(s)), this.standTween2[0].set("frameName", ["eve-face-1", "eve-face-2", "eve-face-3", "eve-face-3", "eve-face-2", "eve-face-1"], 150, 9999), this.standTween2.push(new o.TweenController(n)), this.standTween2[1].set("frameName", ["eve-head-1", "eve-head-2", "eve-head-1", "eve-head-1", "eve-head-1", "eve-head-1"], 150, 9999), this.standTween2.push(new o.TweenController(s)), this.standTween2[2].set("y", [s.y, s.y + 1, s.y + 1, s.y + 1, s.y, s.y], 150, 9999), this.standTween2.push(new o.TweenController(n)), this.standTween2[3].set("y", [n.y, n.y + 1, n.y + 1, n.y + 1, n.y, n.y], 150, 9999), this.standTween2[3].end(this.resetToDefaultIdle.bind(this)), this.tweens = this.standTween1, this.game.prodigy.create.nameFont(this, -7, -160, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NPC_NAME_EVE")), this.stand()
			}, e.prototype.process = function(t, e, i) {
				var n;
				if (this.game.prodigy.user.faceToward(this.x), this.flip(this.x > this.game.prodigy.user.x), !r.Util.isValid(t.getQuestState())) return t.getQuest(1).questGiver === this.npcTag && (t.startQuest(1), (n = this.queueEventText(t, "onStart", 1)).function(this.updateCallback), n.start()), null;
				var a = t.getQuestState().ID,
					o = t.getQuest(a),
					s = r.Util.isValid(o) && r.Util.isValid(o.questGiver) ? o.questGiver : this.npcTag,
					l = r.Util.isValid(o) && r.Util.isValid(o.questReceiver) ? o.questReceiver : this.npcTag;
				t.isQuestComplete(a) && !o.chain ? l === this.npcTag ? ((n = this.queueEventText(t, "onComplete", a)).enableSave(!1), r.Util.isValid(o.reward) && n.reward(o.reward, "advanced-quest-event-reward"), n.function(t.completeQuest.bind(t, a)), n.enableSave(!0), n.function(this.updateCallback), n.start()) : s === this.npcTag && ((n = this.queueEventText(t, "onStart", a)).function(this.updateCallback), n.start()) : !t.isQuestStarted(a) && r.Util.isValid(o) && s === this.npcTag ? ((n = this.queueEventText(t, "onStart", a)).function(t.startQuest.bind(t, a)), n.function(this.updateCallback), n.start()) : i && r.Util.isValid(o) ? this.queueEventText(t, s === this.npcTag ? "onStart" : "alternateOnStart", a).start() : i && this.onComplete()
			}, e.prototype.update = function() {
				t.prototype.update.call(this);
				for (var e = 0; e < this.tweens.length; e++) this.tweens[e].update()
			}, e.prototype.walk = function() {
				this.stand()
			}, e.prototype.stand = function() {
				for (var t = 0; t < this.tweens.length; t++) this.tweens[t].start()
			}, e.prototype.updateIdleCounter = function() {
				this.idleCounter++, this.idleCounter > 100 * Math.random() + 10 && (this.tweens = this.standTween2, this.stand(), this.idleCounter = 0)
			}, e.prototype.resetToDefaultIdle = function() {
				this.tweens = this.standTween1, this.stand()
			}, e
		}(i(116).QuestEvent);
	e.EveEvent = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.setup = function(t, e, i) {
				var n = [],
					o = this.add(this.game.prodigy.create.sprite(0, -25, "atlas-61", "body_0"));
				o.animations.add("stand", ["body_0", "body_1", "body_2"], 5, !0, !1), o.animations.play("stand"), n.push(o);
				var r = this.add(this.game.prodigy.create.sprite(-23, -97, "atlas-61", "head"));
				n.push(r);
				var s = this.add(this.game.prodigy.create.sprite(-23, -97, "atlas-61", "eyes_0"));
				n.push(s);
				var l = this.add(this.game.prodigy.create.sprite(-23, -97, "atlas-61", "pupils"));
				n.push(l);
				var c = this.add(this.game.prodigy.create.sprite(-23, -97, "atlas-61", "pigtails_0"));
				c.animations.add("stand", ["pigtails_0", "pigtails_1", "pigtails_2"], 5, !0, !1), c.animations.play("stand"), n.push(c), this.game.add.tween(r).to({
					y: "+2"
				}, 400, Phaser.Easing.Linear.None).to({
					y: r.y
				}, 300, Phaser.Easing.Linear.None).loop().start(), this.game.add.tween(c).to({
					y: "+2"
				}, 400, Phaser.Easing.Linear.None).to({
					y: r.y
				}, 300, Phaser.Easing.Linear.None).loop().start(), this.game.add.tween(s).to({
					y: "+2"
				}, 400, Phaser.Easing.Linear.None).to({
					y: r.y
				}, 300, Phaser.Easing.Linear.None).loop().start(), this.game.add.tween(l).to({
					y: "+2"
				}, 400, Phaser.Easing.Linear.None).to({
					y: r.y
				}, 300, Phaser.Easing.Linear.None).loop().start();
				for (var h = 0; h < n.length; h++) n[h].inputEnabled = !0, n[h].events.onInputDown.add(this.process.bind(this, t, null, !0), this);
				this.game.prodigy.create.nameFont(this, 20, -117, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NPC_NAME_BENNI"))
			}, e
		}(i(116).QuestEvent);
	e.BenniEvent = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(17),
		o = i(0),
		r = function(t) {
			function e(e, i, n, a, r, s, l, c, h) {
				var u = t.call(this, e, i, l, null, n, a) || this;
				if (u.radish = null, u.nameText.GameObject.position.set(c, h), "atlas-87" === r) u.body = u.add(e.prodigy.create.sprite(0, -60, "atlas-87", "body_0")), u.body.animations.add("stand", ["body_0", "body_1", "body_2"], 8, !0, !1), u.body.animations.add("idle", ["stand_0", "stand_1", "stand_2"], 8, !0, !1), u.body.animations.play("stand"), u.face = u.add(e.prodigy.create.sprite(12, -45, "atlas-87", "face")), u.radish = u.add(e.prodigy.create.sprite(20, -80, "atlas-87", "radish_0")), u.radish.animations.add("stand", ["radish_0", "radish_1", "radish_2"], 10, !0, !1), u.faceTween = e.add.tween(u.face).to({
					y: "-1"
				}, 300, Phaser.Easing.Linear.None).to({
					y: u.face.y
				}, 300, Phaser.Easing.Linear.None).delay(100).loop().start(), u.sprites.add(u.radish), u.sprites.add(u.body), u.sprites.add(u.face), o.Util.isValid(s) && (u.body.inputEnabled = !0, u.body.events.onInputDown.add(s)), u.nameText.GameObject.y -= 100;
				else {
					u.body = u.add(e.prodigy.create.sprite(-30, -63, "atlas-87", "red_0")), u.body.animations.add("stand", ["red_0", "red_0", "red_1", "red_1", "red_2", "red_2"], 10, !0, !1), u.body.animations.play("stand");
					var p = u.add(e.prodigy.create.sprite(-55, -110, "atlas-112", "pot"));
					u.face = u.add(e.prodigy.create.sprite(-18, -45, "atlas-87", "face_red")), e.add.tween(u.face).to({
						y: "-1"
					}, 300, Phaser.Easing.Linear.None).to({
						y: u.face.y
					}, 300, Phaser.Easing.Linear.None).delay(100).loop().start(), u.sprites.add(p), u.sprites.add(u.body), u.sprites.add(u.face), u.nameText.GameObject.y -= 100
				}
				return u.showName(), u
			}
			return n(e, t), e.prototype.idle = function() {
				this.body.animations.play("idle"), this.face.frameName = "stand_face", this.face.x -= 7, this.body.y -= 15, this.faceTween.stop(), this.face.y = -60, this.faceTween = this.game.add.tween(this.face).to({
					y: "-1"
				}, 300, Phaser.Easing.Linear.None).to({
					y: this.face.y
				}, 300, Phaser.Easing.Linear.None).delay(100).loop().start()
			}, e
		}(a.CreatureContainer);
	e.WorkerSlimeEvent = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(17),
		o = i(19),
		r = i(0),
		s = function(t) {
			function e(e, i, n, a, o, r) {
				var s = t.call(this, e, i, r, null, n, a) || this;
				return s.tween = null, s.nameText.GameObject.position.set(-10, -150), s
			}
			return n(e, t), e.prototype.setup = function(t, e) {
				var i = "jelly-idle-",
					n = this.add(this.game.prodigy.create.sprite(0, 0, "atlas-153", i + "1"));
				n.anchor.setTo(.5, 1), this.sprites.add(n), e && (this.sprites.scale.x = -1), this.tween = new o.TweenController(n), this.tween.set("frameName", [i + "1", i + "2", i + "3", i + "4", i + "5", i + "6", i + "7", i + "8"], 150, 9999), this.stand()
			}, e.prototype.update = function() {
				r.Util.isValid(this.tween) && this.tween.update()
			}, e.prototype.walk = function() {
				this.stand()
			}, e.prototype.stand = function() {
				this.tween.start()
			}, e.prototype.flipJim = function(t) {
				this.sprites.scale.x = t ? -1 : 1
			}, e
		}(a.CreatureContainer);
	e.JellyJimEvent = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(17),
		o = i(0),
		r = function(t) {
			function e(e, i, n, a, r, s, l) {
				var c = t.call(this, e, i, l, null, n, a) || this;
				c.nameText.GameObject.position.set(26, -140);
				var h = c.add(e.prodigy.create.sprite(-20, -75, "atlas-68", "right_arm")),
					u = c.add(e.prodigy.create.sprite(0, -80, "atlas-68", "body_0"));
				u.animations.add("stand", ["body_0", "body_1", "body_2", "body_2", "body_2", "body_2", "body_1"], 5, !0, !1), u.animations.play("stand");
				var p = c.add(e.prodigy.create.sprite(40, -75, "atlas-68", "left_arm_0")),
					d = c.add(e.prodigy.create.sprite(0, -110, "atlas-68", "head"));
				return c.sprites.add(h), c.sprites.add(u), c.sprites.add(d), c.sprites.add(p), e.add.tween(d).to({
					y: "-1"
				}, 200, Phaser.Easing.Linear.None).to({
					y: "+2"
				}, 500, Phaser.Easing.Linear.None).to({
					y: d.y
				}, 400, Phaser.Easing.Linear.None).loop().start(), e.add.tween(p).to({
					y: "+2"
				}, 800, Phaser.Easing.Linear.None).delay(600).to({
					y: p.y
				}, 800, Phaser.Easing.Linear.None).loop().start(), e.add.tween(h).to({
					y: "+2",
					x: "-1"
				}, 800, Phaser.Easing.Linear.None).delay(600).to({
					y: h.y,
					x: h.x
				}, 800, Phaser.Easing.Linear.None).loop().start(), o.Util.isValid(s) && c.addOnClick(s.bind(c)), c.showName(), c
			}
			return n(e, t), e
		}(a.CreatureContainer);
	e.EugeneEvent = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(17),
		o = i(0),
		r = function(t) {
			function e(e, i, n, a, r, s, l) {
				var c = t.call(this, e, i, l, null, n, a) || this,
					h = c.add(e.prodigy.create.sprite(0, -60, "atlas-64", "body_0"));
				h.animations.add("stand", ["body_0", "body_1", "body_2"], 4, !0, !1), h.animations.play("stand");
				var u = c.add(e.prodigy.create.sprite(9, -108, "atlas-64", "head_0"));
				return u.animations.add("stand", ["head_0", "head_1", "head_2"], 5, !0, !1), u.animations.play("stand"), c.sprites.add(h), c.sprites.add(u), e.add.tween(u).to({
					y: "-1"
				}, 100, Phaser.Easing.Linear.None).to({
					y: "+2"
				}, 400, Phaser.Easing.Linear.None).to({
					y: u.y
				}, 300, Phaser.Easing.Linear.None).loop().start(), o.Util.isValid(s) && c.addOnClick(s.bind(c)), c.nameText.GameObject.y += 20, c.showName(), c
			}
			return n(e, t), e
		}(a.CreatureContainer);
	e.BroccolinaEvent = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(17),
		o = i(0),
		r = function(t) {
			function e(e, i, n, a, r, s, l) {
				var c = t.call(this, e, i, l, null, n, a) || this;
				return c.sprite = c.sprites.add(e.prodigy.create.sprite(0, 0, r, 0)), c.sprite.anchor.setTo(.5, 1), r.indexOf("monster") > -1 ? (c.sprite.animations.add("walk", [0, 1, 2, 3, 4, 5, 6, 7], 10, !0, !1), c.sprite.animations.add("stand", [8, 9, 10, 11, 12, 13, 14, 15], 10, !0, !1)) : c.sprite.animations.add("stand", ["npc_0", "npc_1", "npc_2", "npc_3", "npc_4", "npc_5", "npc_6", "npc_7"], 10, !0, !1), o.Util.isValid(s) && (c.sprite.inputEnabled = !0, c.sprite.events.onInputDown.add(s)), c.showName(), "atlas-88" !== r && "atlas-85" !== r || (c.nameText.GameObject.y += 40), c
			}
			return n(e, t), e.prototype.animate = function(t) {
				void 0 === t && (t = "stand"), this.sprite.animations.play(t)
			}, e.prototype.stand = function() {
				this.animate("stand"), this.mode = 1
			}, e.prototype.walk = function() {
				this.animate("walk"), this.mode = 0
			}, e
		}(a.CreatureContainer);
	e.NPCEvent = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(6),
		o = i(2),
		r = i(0),
		s = function(t) {
			function e(e, i, n, a, r, s, l, c, h, u, p, d, g) {
				var f = t.call(this, e, i, n, a, r, s, l, c, h, u, p, d, g) || this,
					y = o.Items.getItem("pet", f.source.data.ID);
				return f.monsterItemData = y.data, f.monsterAsset = y.metadata.assets.default, f.uiConfig = y.metadata.uiConfig, f
			}
			return n(e, t), e.prototype.startLoad = function() {
				t.prototype.startLoad.call(this), this.loading = !0, this.assets = ["spine-" + this.monsterAsset.ID, "spine-25"], this.game.prodigy.load.assets(this.assets, this.setup.bind(this))
			}, e.prototype.setup = function(t, e) {
				if (e) {
					if (this.sprites.removeAll(!0), this.spine = this.game.add.spine(0, 0, this.assets[0]), this.spine.setToSetupPose(), this.spine.setAnimationByName(0, "idle", !0), this.spine.scale.x = r.Util.isValid(this.monsterAsset.flip) && this.monsterAsset.flip ? -1 : 1, this.sprites.add(this.spine), 1 === this.monsterItemData.member) {
						var i = this.game.add.spine(this.nameText.GameObject.x, this.nameText.GameObject.y + 30, "spine-25");
						i.setToSetupPose(), i.setAnimationByName(0, "animation", !0), this.add(i), r.Util.inTestGroups(this.game.prodigy.player, [2, 3], 1e3, 10) && !this.game.prodigy.player.hasMembership() && (this.clickable = this.game.prodigy.create.sprite(.5 * -this.spine.getBounds().width, -this.spine.getBounds().height, "atlas-18", "empty"), this.clickable.width = this.spine.getBounds().width, this.clickable.height = this.spine.getBounds().height, this.clickable.inputEnabled = !0, this.clickable.events.onInputDown.add(this.showMemberPopup.bind(this)), this.sprites.add(this.clickable))
					}
					this.complete = !0, this.loading = !1, r.Util.isValid(this.loadedCallback) && this.loadedCallback(this)
				}
			}, e.prototype.walk = function() {
				this.spine.setAnimationByName(0, "walk", !0)
			}, e.prototype.checkPlayerInRange = function() {
				1 === this.monsterItemData.member ? this.game.prodigy.player.hasMembership() && t.prototype.checkPlayerInRange.call(this) : t.prototype.checkPlayerInRange.call(this)
			}, e.prototype.engage = function() {
				t.prototype.engage.call(this), 1 === this.monsterItemData.member && (this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_complete", {
					type: "Member-Locked-Pets",
					name: "Locked-Pet-Engaged",
					pet: this.source.getName()
				}), this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("Member-Locked-Pets", "Locked-Pet-Engaged", void 0, void 0, void 0, this.source.getName()).broadcast())
			}, e.prototype.showMemberPopup = function() {
				this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_complete", {
					type: "Member-Locked-Pets",
					name: "Locked-Pet-Clicked",
					pet: this.source.getName()
				}), this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("Member-Locked-Pets", "Locked-Pet-Clicked", void 0, void 0, void 0, this.source.getName()).broadcast(), this.game.prodigy.open.membershipInfo(null, null, null, !1, "memberLockedPet").setSpineMonsterConfig(this.uiConfig)
			}, e
		}(i(121).MonsterEvent);
	e.MonsterSpineEvent = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(7),
		o = i(0),
		r = function(t) {
			function e(e, i, n, a, o, r, s, l, c, h) {
				var u = t.call(this, e, i, n, a) || this;
				return u.ID = null, u.user = null, u.chestType = null, u.mods = null, u.zoneName = "", u.path = null, u.sprite = null, u.zone = null, u.ID = s, u.user = o, u.chestType = l, u.mods = c, u.zoneName = h, u.sprite = u.add(u.game.prodigy.create.animatedSprite(0, 0, "atlas-110", ["chest-" + u.chestType + "-1", "chest-" + u.chestType + "-2"])), u.sprite.inputEnabled = !0, u.sprite.events.onInputDown.add(function() {
					u.clicked()
				}, u), u.sprite.x -= Math.floor(.5 * u.sprite.width), u.sprite.y = -u.sprite.height, u.path = r, u
			}
			return n(e, t), e.prototype.process = function(t) {
				this.zone = t, this.highlight(!1);
				var e = t.getState(this.ID);
				o.Util.isValid(e) && 0 !== e && (this.sprite.inputEnabled = !1, this.sprite.frameName = "chest-" + this.chestType + "-2")
			}, e.prototype.clicked = function() {
				var t = this;
				this.path.findPath(this.user.x, this.user.y, this.x - 20, this.y + 20, function(e) {
					o.Util.isValid(e) && t.user.setPath(e, function() {
						t.collect()
					})
				})
			}, e.prototype.collect = function() {
				!this.user.evtProc && Phaser.Math.distance(this.user.x, this.user.y, this.x, this.y) > 50 || (this.game.prodigy.player.saveEnabled = !1, this.sprite.inputEnabled = !1, this.user.evtProc = !0, this.openChest())
			}, e.prototype.openChest = function() {
				var t = this.game.prodigy.event.create();
				t.sound(18, "dig"), t.function(this.user.chat.bind(this.user, 1)), t.delay(1e3), t.enableInput(!0), t.function(this.startMimicBattle.bind(this)), t.start()
			}, e.prototype.startMimicBattle = function() {
				this.game.prodigy.battle.start(this.mods, this.afterBattle.bind(this, this.game, this.zoneName, this.x, this.y, !0), this.afterBattle.bind(this, this.game, this.zoneName, this.x, this.y, !1), null, this.zone.onFaint)
			}, e.prototype.afterBattle = function(t, e, i, n, a) {
				t.prodigy.world.teleport(e, i - 20, n + 20, null, {
					callback: this.zone.setState.bind(this.zone, this.ID, 1)
				})
			}, e
		}(a.Element);
	e.MimicEvent = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = i(17),
		r = i(0),
		s = function(t) {
			function e(e, i, n, a, o, s, l, c, h, u) {
				var p = t.call(this, e, i, l, null, o, s) || this;
				p.sprite = null, p.animWalk = null, p.animStand = null, p.head = null, p.indicator = null, p.nameOffsetX = -5, 5 === h && p.nameText.GameObject.position.set(0, -135), p.sprite = p.sprites.add(p.game.prodigy.create.sprite(0, 0, "atlas-71", "npc_0")), p.sprite.x -= Math.floor(p.sprite.width / 2), p.sprite.y = -p.sprite.height, p.animWalk = p.sprite.animations.add("walk", ["npc_0", "npc_1", "npc_2", "npc_3", "npc_4", "npc_5", "npc_6", "npc_7"], 10, !0, !1), p.animStand = p.sprite.animations.add("stand", ["npc_8", "npc_9", "npc_10", "npc_11", "npc_12", "npc_13", "npc_14", "npc_15"], 10, !0, !1), p.head = p.game.prodigy.create.element(p.sprites, p.sprite.x, 0);
				var d = 13 - (2 === h || 3 === h || 4 === h ? 5 : 5 === h ? 20 : 6 === h ? 22 : 0),
					g = p.head.add(p.game.prodigy.create.sprite(d, 0, "atlas-71", "hat_" + (r.Util.isValid(h) ? h : 1)));
				g.y = 10 - g.height;
				var f = p.head.add(p.game.prodigy.create.sprite(0, 0, "atlas-71", "head_" + (r.Util.isValid(c) ? c : 1)));
				return r.Util.isValid(u) && (f.inputEnabled = !0, f.events.onInputDown.add(function() {
					p.clicked(n, a, u)
				}), g.inputEnabled = !0, g.events.onInputDown.add(function() {
					p.clicked(n, a, u)
				}), p.sprite.inputEnabled = !0, p.sprite.events.onInputDown.add(function() {
					p.clicked(n, a, u)
				})), p.stand(), p.showName(), p.repositionName(), p
			}
			return n(e, t), e.prototype.flip = function() {
				t.prototype.flip.call(this), this.repositionName()
			}, e.prototype.update = function() {
				if (t.prototype.update.call(this), r.Util.isValid(this.animWalk) && r.Util.isValid(this.animStand)) {
					var i = "npc_0";
					1 === this.mode ? i = this.animStand.currentFrame.name : 0 === this.mode && (i = this.animWalk.currentFrame.name), r.Util.isValid(this.head) && (this.head.y = this.sprite.y - 15 + e.frameOffsets[i])
				}
			}, e.prototype.setIndicator = function(t) {
				r.Util.isValid(this.indicator) || (this.indicator = this.game.prodigy.create.sprite(0, -70, "atlas-21", t), this.indicator.anchor.setTo(.5, 1), this.indicatorE.add(this.indicator), this.game.add.tween(this.indicator).to({
					y: this.indicator.y - 50
				}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, a.GameConstants.MAX_SAFE_INTEGER, !0)), this.indicator.frameName = t
			}, e.prototype.clicked = function(t, e, i) {
				e.findPath(t.x, t.y, this.x - 20, this.y + 20, function(e) {
					r.Util.isValid(e) && t.setPath(e, function() {
						r.Util.isValid(i) && i()
					})
				})
			}, e.prototype.repositionName = function() {
				this.nameText.GameObject.x = Math.round((this.sprites.scale.x < 0 ? -1 : 1) * this.nameOffsetX)
			}, e.frameOffsets = {
				npc_0: 0,
				npc_1: 0,
				npc_2: 2,
				npc_3: 1,
				npc_4: 0,
				npc_5: 0,
				npc_6: 2,
				npc_7: 1,
				npc_8: 0,
				npc_9: 0,
				npc_10: 1,
				npc_11: 2,
				npc_12: 4,
				npc_13: 5,
				npc_14: 4,
				npc_15: 3
			}, e
		}(o.CreatureContainer);
	e.GnomeEvent = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i, n, a, o, r, s, l, c) {
				void 0 === c && (c = 0);
				var h = t.call(this, e, i, n, a, o, r, s, l, c) || this;
				return h.moving = !1, h.dir = 1, h.sprite = h.add(e.prodigy.create.sprite(50, 90, "atlas-115", "firefly_1")), h.float(!0), h.animate(), h.delay(), h
			}
			return n(e, t), e.prototype.move = function() {
				if (a.Util.isValid(this.game)) {
					this.moving = !0;
					var t = 1080 * Math.random() + 100,
						e = 520 * Math.random() + 100;
					t < this.x && 1 === this.dir ? (this.sprite.scale.x *= -1, this.dir = -1) : t > this.x && -1 === this.dir && (this.sprite.scale.x *= -1, this.dir = 1);
					var i = this.game.add.tween(this).to({
						x: t,
						y: e
					}, 2500, Phaser.Easing.Quadratic.InOut);
					i.start(), i.onComplete.add(this.delay, this)
				}
			}, e.prototype.delay = function() {
				if (a.Util.isValid(this.game)) {
					this.moving = !1;
					var t = this.game.prodigy.event.create();
					t.delay(3e3 * Math.random() + 2e3), t.function(this.move.bind(this)), t.start()
				}
			}, e.prototype.float = function(t) {
				a.Util.isValid(this.floatTween) ? this.floatTween.stop() : (this.sprite.oldY = this.sprite.y, this.sprite.y = this.sprite.y - 10, this.floatTween = this.game.add.tween(this.sprite).to({
					y: "-20"
				}, 1400, Phaser.Easing.Quadratic.InOut).to({
					y: "20"
				}, 1400, Phaser.Easing.Quadratic.InOut).loop()), t ? this.floatTween.start() : (this.floatTween.stop(), this.sprite.y = this.sprite.oldY)
			}, e.prototype.animate = function() {
				this.sprite.animations.add("fly", ["firefly_1", "firefly_2", "firefly_3"], 10, !0, !1), this.sprite.animations.play("fly")
			}, e
		}(i(150).ClickableEvent);
	e.FireflyEvent = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(11),
		o = i(7),
		r = i(0),
		s = function(t) {
			function e(e, i, n, o, s, l, c, h, u) {
				var p = t.call(this, e, i, n, o) || this;
				p.user = null, p.path = null, p.ID = null, p.callback = null, p.collected = !1, p.allowCollect = !1, p.data = null, p.questState = null, p.user = s, p.path = l, p.ID = c, p.callback = u, p.data = r.Util.isValid(h) ? h : {
					range: 30
				}, r.Util.isValid(h.range) || (p.data.range = 30);
				var d = p.add(p.game.prodigy.icon.createFromData(h, 0, 0, null, null, null, null, a(h, "showLoading", !0)));
				return d.inputEnabled = !0, d.events.onInputDown.add(p.clicked.bind(p), p), d.x -= Math.floor(.5 * d.width), d.y = -d.height, p
			}
			return n(e, t), e.prototype.process = function(t) {
				this.allowCollect = !1, this.visible = !1, this.highlight(!1);
				var e = t.getQuestState();
				r.Util.isValid(e) && r.Util.isValid(e.req) && (this.questState = e.state, 1 === e.state[this.ID] || "item" !== e.req.type && "key" !== e.req.type || e.req.ID !== this.data.ID || this.collected || (this.visible = !0, e.req.N > this.game.prodigy.player.backpack.hasItem(e.req.type, e.req.ID) && (this.allowCollect = !0, this.highlight(!0, -80, -90))))
			}, e.prototype.clicked = function() {
				this.path.findPath(this.user.x, this.user.y, this.x, this.y, this.clickedCallback.bind(this))
			}, e.prototype.clickedCallback = function(t) {
				var e = this;
				r.Util.isValid(t) && this.user.setPath(t, function() {
					e.collect()
				})
			}, e.prototype.collect = function() {
				!this.allowCollect || Phaser.Math.distance(this.user.x, this.user.y, this.x, this.y) > this.data.range || (this.collected = !0, this.questState[this.ID] = 1, this.game.prodigy.player.state.updated = !0, this.game.prodigy.audio.playSFX(18, "dig"), this.game.prodigy.player.backpack.add(this.data.type, this.data.ID), this.callback())
			}, e
		}(o.Element);
	e.CollectEvent = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(11),
		r = i(0),
		s = i(150),
		l = i(5),
		c = function(t) {
			function e(e, i, n, a, r, s, l, c, h, u) {
				var p = t.call(this, e, i, n, a, r, s, c, h, u) || this;
				return p.moveToX = null, p.moveToY = null, p.moveToX = o(l, "moveToX", n), p.moveToY = o(l, "moveToY", a), p.addPathingIconFunction = o(l, "addPathingIconFunction", null), p
			}
			return n(e, t), e.prototype.clicked = function(e, i) {
				t.prototype.clicked.call(this, e, i), this.game.broadcaster.broadcast(l.EPlayerLocomotionEvents.MovePlayer, null, [this.moveToX, this.moveToY]) && (r.Util.isValid(this.addPathingIconFunction) ? this.addPathingIconFunction(i.x, i.y) : a.Logger.log("ClickableMoveEvent.clicked - pathing was successful, but parent does not have addPathingIcon function.  No pathing star shown.", a.LogLevel.Error))
			}, e
		}(s.ClickableEvent);
	e.ClickableMoveEvent = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(7),
		r = i(2),
		s = i(16),
		l = i(0),
		c = i(20),
		h = function(t) {
			function e(e, i, n, a, o, s, c, h, u, p, d) {
				var g = t.call(this, e, i, n, a) || this;
				if (g.callback = null, g.user = null, g.key = null, g.reward = [], g.chestType = null, g.chestSprite = null, g.path = null, g.zone = null, g.chestID = c, g.callback = p, g.user = o, g.key = u, l.Util.isValid(h) && (g.reward = h), l.Util.isValid(d)) g.chestType = d;
				else {
					g.chestType = "A";
					for (var f = 0; f < h.length; f++) {
						var y = r.Items.getItem(h[f].type, h[f].ID);
						if (l.Util.isValid(y) && l.Util.isValid(y.data)) {
							if (l.Util.isValid(y.data.quest) && 1 === y.data.quest) {
								g.chestType = "B";
								break
							}
							1 === y.data.member && (g.chestType = "C")
						}
						"gold" === h[f].type && h[f].N >= 500 && (g.chestType = "C")
					}
				}
				return g.chestSprite = g.add(g.game.prodigy.create.sprite(0, 0, "atlas-110", "chest-" + g.chestType + "-1")), g.chestSprite.inputEnabled = !0, g.chestSprite.events.onInputDown.add(function() {
					g.clicked()
				}, g), g.chestSprite.x -= Math.floor(.5 * g.chestSprite.width), g.chestSprite.y = -g.chestSprite.height, g.path = s, g
			}
			return n(e, t), e.prototype.process = function(t) {
				this.zone = t, this.highlight(!1);
				var e = t.getState(this.chestID);
				l.Util.isValid(e) && 0 !== e && (this.chestSprite.inputEnabled = !1, this.chestSprite.frameName = "chest-" + this.chestType + "-2");
				var i = t.getQuestState();
				if (l.Util.isValid(i) && l.Util.isValid(i.req))
					for (var n = 0; n < this.reward.length; n++) {
						var a = this.reward[n];
						i.req.type === a.type && i.req.ID === a.ID && i.req.N > this.game.prodigy.player.backpack.hasItem(i.req.type, i.req.ID) && this.highlight(!0, -80, -90)
					}
			}, e.prototype.clicked = function() {
				var t = this;
				this.path.findPath(this.user.x, this.user.y, this.x - 20, this.y + 20, function(e) {
					l.Util.isValid(e) && t.user.setPath(e, t.collect.bind(t))
				})
			}, e.prototype.collect = function() {
				if (this.user.evtProc || !(Phaser.Math.distance(this.user.x, this.user.y, this.x, this.y) > 50)) {
					if ("C" === this.chestType && !this.game.prodigy.player.hasMembership()) {
						var t = this.game.prodigy.world.getCurrentMap();
						l.Util.isValid(t) || (t = "");
						var e = {
							conversionFunnelName: c.EFunnelEventIDs.FunnelOpenMemberChestWorld,
							conversionFunnelMetadata: t
						};
						return this.game.prodigy.network.sendConversionFunnelEvent(e.conversionFunnelName, c.EFunnelEventIDs.StageOpenChest, e.conversionFunnelMetadata), void this.game.prodigy.open.membershipInfo(null, e, s.MembershipInfo.MEMBER_CHESTS)
					}
					if (l.Util.isValid(this.key) && 0 === this.game.prodigy.player.backpack.hasItem(this.key.type, this.key.ID)) this.game.prodigy.open.message(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("CHEST_LOCKED_MESSAGE", this.key.type, this.key.ID));
					else this.game.prodigy.player.saveEnabled = !1, this.game.input.enabled = !1, this.chestSprite.inputEnabled = !1, this.user.evtProc = !0, this.game.prodigy.audio.playSFX(18, "whoosh"), this.game.add.tween(this.chestSprite).to({
						x: "-5"
					}, 50, Phaser.Easing.Linear.None).to({
						x: "+10"
					}, 150, Phaser.Easing.Linear.None).to({
						x: "-10"
					}, 150, Phaser.Easing.Linear.None).to({
						x: "+5"
					}, 50, Phaser.Easing.Linear.None).to({
						y: "-50"
					}, 200, Phaser.Easing.Quadratic.Out).to({
						y: "+50"
					}, 200, Phaser.Easing.Quadratic.In).to({
						y: "-20"
					}, 100, Phaser.Easing.Quadratic.Out).to({
						y: "+20"
					}, 100, Phaser.Easing.Quadratic.In).start().onComplete.add(this.openChest, this, 1)
				}
			}, e.prototype.openChest = function() {
				var t = this;
				this.game.prodigy.audio.playSFX(18, "dig"), this.game.prodigy.audio.playSFX(19, "item"), this.chestSprite.frameName = "chest-" + this.chestType + "-2", this.game.input.enabled = !0, this.game.prodigy.open.gotItem(this.reward, function() {
					t.setOpenedState()
				}, null, "open-chest")
			}, e.prototype.setOpenedState = function() {
				this.zone.setState(this.chestID, 1), l.Util.isValid(this.key) && this.game.prodigy.player.backpack.consume(this.key.type, this.key.ID, 1), this.user.evtProc = !1, this.game.prodigy.player.saveEnabled = !0, this.callback()
			}, e
		}(o.Element);
	e.ChestEvent = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || Object.assign || function(t) {
			for (var e, i = 1, n = arguments.length; i < n; i++)
				for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
			return t
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(0),
		r = function(t) {
			function e(e, i, n, o, r, s, l, c, h, u, p) {
				return t.call(this, e, i, n, o, r, s, l, a({}, c, {
					monsterData: e.prodigy.battle.chooseRandomMonster(c.encounter)
				}), h, u, p) || this
			}
			return n(e, t), e.prototype.startBattle = function() {
				var t = this.game,
					e = this.zone,
					i = this.ID,
					n = this.unique,
					a = this.onEnc,
					r = this.source,
					s = this.mods,
					l = this.x,
					c = this.y,
					h = function(h) {
						if (h && (e.defeatMonster(r.getID(), i, n), o.Util.isValid(a) && a(), t.prodigy.bounty.completeBounty(s.bounty)), h)
							if (0 === t.prodigy.player.getBountyScore()) {
								var u = t.prodigy.event.create();
								u.text(94, "noot"), u.function(t.prodigy.world.teleport.bind(t.prodigy.world, s.onEnd, l, c)), u.start()
							} else t.prodigy.world.teleport(s.onEnd, l, c);
						else t.prodigy.world.teleport(s.onEnd)
					};
				this.game.input.enabled = !0, o.Util.isValid(this.zone.currency) && o.Util.isValid(this.mods) && (o.Util.isValid(this.mods.drops) || (this.mods.drops = []), this.mods.drops.push({
					type: "currency",
					ID: this.zone.currency,
					N: 20
				})), this.game.prodigy.battle.start(this.mods, function() {
					h(!1)
				}, function() {
					h(!0)
				}, null, this.mods.onFaint)
			}, e
		}(i(121).MonsterEvent);
	e.BountyEvent = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i, n, a, o, r) {
			var s = t.call(this, e, i, n, a) || this;
			s.iceBlockSprite = null, s.iceBlockSprite = s.add(s.game.prodigy.create.sprite(0, 0, r.atlas, r.tag)), s.iceBlockSprite.anchor.setTo(r.x, r.y);
			for (var l = Math.floor(s.iceBlockSprite.width / o.size), c = Math.floor((n - s.iceBlockSprite.width * r.x) / o.size), h = Math.floor(s.iceBlockSprite.height / o.size), u = Math.floor((a - s.iceBlockSprite.height * r.y) / o.size), p = c; p < c + l; p++)
				for (var d = u; d < u + h; d++) o.area[d][p] = 0;
			return s
		}
		return n(e, t), e
	}(i(7).Element);
	e.BlockEvent = a
}, function(t, e) {
	var i = Math.ceil,
		n = Math.max;
	t.exports = function(t, e, a, o) {
		for (var r = -1, s = n(i((e - t) / (a || 1)), 0), l = Array(s); s--;) l[o ? s : ++r] = t, t += a;
		return l
	}
}, function(t, e, i) {
	var n = i(646),
		a = i(84),
		o = i(191);
	t.exports = function(t) {
		return function(e, i, r) {
			return r && "number" != typeof r && a(e, i, r) && (i = r = void 0), e = o(e), void 0 === i ? (i = e, e = 0) : i = o(i), r = void 0 === r ? e < i ? 1 : -1 : o(r), n(e, i, r, t)
		}
	}
}, function(t, e, i) {
	var n = i(647)();
	t.exports = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(7),
		s = i(5),
		l = i(240),
		c = i(0),
		h = function(t) {
			function e(e, i, n, o, r) {
				var s = t.call(this, e, n) || this;
				return s.callback = null, s.mods = null, s.callback = r, s.mods = o, s.game.input.enabled = !1, i.user.setValidPath(i.path, i.user.x, i.user.y), e.prodigy.effects.flashText(s.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("TOWER_CHANCE_WHEEL"), function() {
					s.createWheel()
				}), s
			}
			return n(e, t), e.prototype.close = function() {
				this.game.prodigy.notifications.startTimer(!0), this.game.input.enabled = !0, this.game.add.tween(this).to({
					alpha: 0
				}, 1e3, Phaser.Easing.Linear.None).start().onComplete.addOnce(this.callback, this)
			}, e.prototype.createWheel = function() {
				var t = this;
				this.game.prodigy.notifications.clearNotifications(!0), this.game.broadcaster.broadcast(s.EHUDEvents.RouletteSpin, "HUD", []);
				var e = this.game.prodigy.create.sprite(0, 0, "atlas-18", "overlay-small");
				e.width = this.game.world.width, e.height = this.game.world.height, e.alpha = .5, this.add(e), e.inputEnabled = !0;
				var i = this.game.prodigy.create.sprite(395, 85, "atlas-124", "wings");
				i.alpha = 0, this.add(i), this.game.add.tween(i).to({
					alpha: 1
				}, 300, Phaser.Easing.Quadratic.Out).delay(600).start();
				var n = this.game.prodigy.create.sprite(640, 360, "atlas-124", "wheel");
				n.anchor.setTo(.5, .5), n.scale.x = n.scale.y = 0, this.add(n), this.game.add.tween(n.scale).to({
					x: 1.2,
					y: 1.2
				}, 400, Phaser.Easing.Quadratic.Out).to({
					x: 1,
					y: 1
				}, 200, Phaser.Easing.Quadratic.In).start();
				var a = this.game.prodigy.create.sprite(542, 90, "atlas-124", "pointer");
				a.alpha = 0, this.add(a), this.game.add.tween(a).to({
					alpha: 1
				}, 300, Phaser.Easing.Quadratic.Out).delay(600).start().onComplete.addOnce(function() {
					t.startWheel(n)
				}, this)
			}, e.prototype.startWheel = function(t) {
				var e = Math.floor(10 * Math.random());
				o.GameConstants.get("GameConstants.Build.DEBUG") && -1 !== l.DebugMisc.ROULETTE && (e = l.DebugMisc.ROULETTE);
				var i = 36 * e + 18;
				this.game.add.tween(t).to({
					angle: 2880 - i
				}, 8e3, Phaser.Easing.Cubic.Out).start().onComplete.addOnce(this.showResult.bind(this, e), this), this.playSound(8e3, 100)
			}, e.prototype.showResult = function(t) {
				var e = this,
					i = "",
					n = 0,
					o = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				0 === t || 6 === t ? (i = o.getText("TOWER_CHANCE_LOSE_HEARTS", "10%"), n = -.1) : 1 === t || 5 === t ? (i = o.getText("TOWER_CHANCE_GAIN_HEARTS", "10%"), n = .1) : 2 === t ? (i = o.getText("TOWER_CHANCE_LOSE_HEARTS", "20%"), n = -.2) : 7 === t ? (i = o.getText("TOWER_CHANCE_GAIN_HEARTS", "20%"), n = .2) : 3 === t ? (i = o.getText("TOWER_CHANCE_DAMAGE_INCREASED"), this.mods.dmgMod = .2) : 8 === t ? (i = o.getText("TOWER_CHANCE_DAMAGE_REDUCED"), this.mods.dmgMod = -.2) : 9 === t ? (i = o.getText("TOWER_CHANCE_DOUBLE_STARS"), this.mods.starMod = 2) : 4 === t && (i = o.getText("TOWER_CHANCE_DISABLE_SWITCHING"), this.mods.switchDisabled = !0);
				for (var r = this.game.prodigy.player.kennel.getTeam(), s = 0; s < r.length; s++) c.Util.isValid(r[s]) && r[s].getCurrentHearts() > 0 && (r[s].changeCurrentHeartsPercent(n), r[s].getCurrentHearts() <= 0 && r[s].changeCurrentHeartsPercent(10));
				this.game.prodigy.effects.flashText(i, function() {
					e.close()
				})
			}, e.prototype.playSound = function(t, e) {
				if (!(t <= 0) && c.Util.isValid(this.game)) {
					this.game.prodigy.audio.playSFX(19, "tick");
					var i = e + 9e-7 * Math.pow(e, 3);
					setTimeout(this.playSound.bind(this, t - i, i), e)
				}
			}, e
		}(r.Element);
	e.Roulette = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, "A2", "MAP_DARK_TOWER_FLOOR", 260, 550, ["darktower-A1", "darktower-A3"], i) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				var o = this;
				void 0 === n && (n = {}), t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 240,
					y: 640,
					w: 160,
					h: 80,
					canReTrigger: !0
				}, null, null, null, function() {
					o.toBase()
				}, a.EAreaEventAngle.DOWN)
			}, e.prototype.getName = function() {
				return "" + t.prototype.getName.call(this) + this.floor
			}, e
		}(i(241).DarktowerMap);
	e.DarktowerA2 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || Object.assign || function(t) {
			for (var e, i = 1, n = arguments.length; i < n; i++)
				for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
			return t
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = i(4),
		s = i(98),
		l = i(16),
		c = i(0),
		h = i(20),
		u = function(t) {
			function e(e, i) {
				return t.call(this, e, "A1", "MAP_DARK_TOWER_ENTRANCE", 200, 400, ["darktower-A2"], i) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				var a = this;
				void 0 === n && (n = {}), t.prototype.setup.call(this, e, i, n), new s.QuestNPC(e, i.content, 900, 360, {
					name: e.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("NPC_NAME_MIRA_SHADE"),
					atlas: "mira",
					atlasID: 77
				}, function() {
					a.openTower()
				}), this.zone.bgmID = 3, this.game.prodigy.player.healTeam(r.GameConstants.MAX_SAFE_INTEGER)
			}, e.prototype.openTower = function() {
				var t = this,
					i = this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService),
					n = this.game.prodigy.player.getTowerProgress();
				if ((n = n - n % 5 + 1) > 100 && (n = 100), this.game.prodigy.network.sendAnalytics("Dark-Tower"), this.game.prodigy.player.isBlockedByDarkTowerMemberGate()) {
					var r = {
						conversionFunnelName: h.EFunnelEventIDs.FunnelEnterDarkTower,
						conversionFunnelMetadata: "towerBase"
					};
					this.game.prodigy.network.sendConversionFunnelEvent(r.conversionFunnelName, h.EFunnelEventIDs.StageEnterTower, r.conversionFunnelMetadata), this.game.prodigy.open.membershipInfo(null, r, l.MembershipInfo.TOWER)
				} else {
					var s = this.game.prodigy.dialogue.create();
					if (0 === this.game.prodigy.player.getTowerProgress()) {
						for (var c = 1; c < 6; c++) s.setText(a({}, e.DIALOGUE[c], {
							text: i.getText(e.DIALOGUE[c].textKey)
						}));
						s.setText({
							text: i.getText("TOWER_PROMPT_START", n),
							face: 0,
							yes: this.changeTeam.bind(this, n),
							audio: e.AUDIO[0]
						})
					} else if (this.game.prodigy.player.getTowerProgress() > 99)
						for (c = 6; c < 8; c++) s.setText(a({}, e.DIALOGUE[c], {
							text: i.getText(e.DIALOGUE[c].textKey)
						}));
					else s.setText({
						text: i.getText("TOWER_PROMPT_START_GOLD", n),
						face: 0,
						yes: function() {
							t.changeTeam(n, 500)
						},
						audio: e.AUDIO[0]
					});
					s.start("mira")
				}
			}, e.prototype.changeTeam = function(t, i) {
				var n = !0;
				if (c.Util.isValid(i))
					if (this.game.prodigy.player.getGold() >= i) this.game.prodigy.player.changeGold(-500);
					else {
						var r = this.game.prodigy.dialogue.create(),
							s = this.game.prodigy.player.hasMembership() ? null : this.game.prodigy.open.membershipInfo.bind(this.game.prodigy.open, null, {}, l.MembershipInfo.MORE_GOLD);
						r.setText(a({}, e.DIALOGUE[8], {
							text: this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText(e.DIALOGUE[8].textKey)
						})), r.start("mira", null, s), n = !1
					} n && this.toFloor(t, !0)
			}, e.prototype.toFloor = function(t, e) {
				if (e) {
					var i = t < 100 ? "A2" : "A3";
					this.zone.maps[i].floor = t, this.zone.maps[i].updateZoneNameFromCurrentFloor(), this.zone.maps[i].cleared = !1, this.game.prodigy.world.teleport("darktower-" + i, 260, 550)
				}
			}, e.AUDIO = [{
				tag: "voice-2",
				s: 0,
				d: 1
			}], e.DIALOGUE = [{
				textKey: "DIALOGUE_MIRA_0",
				face: 0,
				anim: 4,
				audio: {
					tag: "voice-2",
					s: 0,
					d: 1
				}
			}, {
				textKey: "DIALOGUE_MIRA_1",
				face: 0,
				anim: 4,
				audio: {
					tag: "voice-2",
					s: 4,
					d: 2
				}
			}, {
				textKey: "DIALOGUE_MIRA_2",
				face: 2,
				audio: {
					tag: "voice-2",
					s: 9,
					d: 1
				}
			}, {
				textKey: "DIALOGUE_MIRA_3",
				face: 2
			}, {
				textKey: "DIALOGUE_MIRA_4",
				face: 1,
				anim: 4,
				audio: {
					tag: "voice-2",
					s: 0,
					d: 1
				}
			}, {
				textKey: "DIALOGUE_MIRA_5",
				face: 2,
				audio: {
					tag: "voice-2",
					s: 3,
					d: 1
				}
			}, {
				textKey: "DIALOGUE_MIRA_6",
				face: 0,
				anim: 4,
				audio: {
					tag: "voice-2",
					s: 4,
					d: 2
				}
			}, {
				textKey: "DIALOGUE_MIRA_7",
				face: 0
			}, {
				textKey: "DIALOGUE_MIRA_8",
				face: 0,
				anim: 1,
				audio: {
					tag: "voice-2",
					s: 0,
					d: 1
				}
			}], e
		}(i(10).Map);
	e.DarktowerA1 = u
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i, 9, "QUESTS_BONFIRE_SPIRE_SAVE_GATHERERS", {
					type: "item",
					ID: 90,
					N: 2
				}, ["bonfire_spire-A4"], [25, 26], [], [0], [{
					type: "gold",
					N: 200
				}, {
					type: "item",
					ID: 91,
					N: 1
				}]) || this;
				return n.slimeNPCs = [], n.slimeNPCHighlights = [], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				var o = this;
				t.prototype.setup.call(this, e, i, n), this.slimeNPCs = [], this.slimeNPCHighlights = [];
				var r = {
					encounter: [{
						ID: 48
					}],
					ignorePathfindingForAlert: !0,
					difficulty: 4,
					maxTeamSize: 1
				};
				if ("A4" === n.getTag()) {
					this.slimeNPCs.push(n.addConstructedNPC(e, i, 885, 205, "atlas-87", function() {
						o.interactSlime(e, i, 0)
					}, "NPC_NAME_WORKER_SLIME"));
					if (this.zone.getState("turnip1")) this.slimeNPCs[0].radish.destroy(), this.slimeNPCs[0].idle();
					else {
						this.slimeNPCHighlights[0] = a.Util.hilightObjectOnLayer(e, 70, -120, this.slimeNPCs[0], i.foreground);
						var s = n.addMonster(e, i, 3, 995, 190, !0, r);
						a.Util.isValid(s) && s.flip()
					}
					if (this.slimeNPCs.push(n.addConstructedNPC(e, i, 370, 440, "atlas-87", function() {
							o.interactSlime(e, i, 1)
						}, "NPC_NAME_WORKER_SLIME")), this.zone.getState("turnip2")) this.slimeNPCs[1].radish.destroy(), this.slimeNPCs[1].idle();
					else {
						this.slimeNPCHighlights[1] = a.Util.hilightObjectOnLayer(e, 70, -120, this.slimeNPCs[1], i.content);
						var l = n.addMonster(e, i, 4, 480, 425, !0, r);
						a.Util.isValid(l) && l.flip()
					}
				}
				return null
			}, e.prototype.start = function(t, e, i) {
				if ("A4" === i.getTag() && this.zone.isOnSequence(9, 0)) {
					this.zone.completeSequence(9, 0);
					var n = t.prodigy.event.create();
					n.text(0, "slime_worker"), n.start()
				}
				return null
			}, e.prototype.interactSlime = function(t, e, i) {
				var n = this;
				if (!this.zone.getState(0 === i ? "turnip1" : "turnip2")) {
					var a = t.prodigy.event.create();
					a.validPath(e.user, e.path, this.slimeNPCs[i].x + 81, this.slimeNPCs[i].y), a.validPath(e.user, e.path, this.slimeNPCs[i].x + 80, this.slimeNPCs[i].y), a.text(1, "slime_worker"), a.function(function() {
						n.slimeNPCHighlights[i].destroy()
					}), a.function(function() {
						n.slimeNPCs[i].radish.destroy()
					}), a.function(function() {
						n.slimeNPCs[i].idle()
					}), a.function(function() {
						t.prodigy.open.gotItem([{
							type: "item",
							ID: 90,
							N: 1
						}], e.process.bind(e))
					}), a.function(this.zone.setState.bind(this.zone, 0 === i ? "turnip1" : "turnip2", 1)), a.start()
				}
			}, e
		}(i(8).Quest);
	e.BonfireSpireQ9 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 8, "QUESTS_BONFIRE_SPIRE_TALK_TO_GUARDS", {
				type: "seq",
				N: 1
			}, ["bonfire_spire-C6"], [22, 23, 24], [], [0], [{
				type: "gold",
				N: 200
			}]) || this
		}
		return n(e, t), e.prototype.start = function(e, i, n) {
			if (t.prototype.setup.call(this, e, i, n), "C6" === n.getTag() && this.zone.isOnSequence(8, 0)) {
				var a = e.prodigy.event.create(),
					o = i.addNPC(430, 380, "atlas-85", null, "NPC_NAME_HANK"),
					r = i.addNPC(650, 520, "atlas-85", null, "NPC_NAME_MIKE");
				o.animate(), r.animate(), a.hop(o, 100, 0, 20, !1), a.hop(o, 100, 0, 20, !0), a.text(1, "slime_guard"), a.hop(r, 100, 0, 20, !1), a.hop(r, 100, 0, 20, !0), a.text(2, "slime_guard"), a.hop(o, 100, 0, 20, !1), a.hop(o, 100, 0, 20, !0), a.text(3, "slime_guard"), a.hop(r, 100, 0, 20, !1), a.hop(r, 100, 0, 20, !0), a.text(4, "slime_guard"), a.function(this.zone.completeSequence.bind(n.zone, 8, 0)), a.function(i.process.bind(i)), a.start()
			}
			return null
		}, e
	}(i(8).Quest);
	e.BonfireSpireQ8 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this, e, i, 7, "", {
				type: "item",
				ID: 89,
				N: 3
			}, ["bonfire_spire-D1", "bonfire_spire-C2", "bonfire_spire-D4"], [17, 18, 19, 20, 21], [], [0], [{
				type: "gold",
				N: 200
			}, {
				type: "outfit",
				ID: 56
			}]) || this;
			return n.collectionMaps = {
				D1: [0],
				C2: [1],
				D4: [2]
			}, n
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			t.prototype.setup.call(this, e, i, n);
			var a = n.getTag();
			return "D1" === a ? i.addCollect(0, 640, 480, {
				type: "item",
				ID: 89,
				showLoading: !1
			}) : "C2" === a ? i.addCollect(1, 670, 265, {
				type: "item",
				ID: 89,
				showLoading: !1
			}) : "D4" === a && i.addCollect(2, 640, 360, {
				type: "item",
				ID: 89,
				showLoading: !1
			}), null
		}, e
	}(i(8).Quest);
	e.BonfireSpireQ7 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i.concat("sfx-10"), 6, "QUESTS_BONFIRE_SPIRE_ATTEND_DINNER", {
				type: "seq",
				N: 1
			}, ["bonfire_spire-D5"], [15, 16], [], [0], [{
				type: "gold",
				N: 200
			}]) || this
		}
		return n(e, t), e.prototype.start = function(e, i, n) {
			if (t.prototype.start.call(this, e, i, n), "D5" === n.getTag() && this.zone.isOnSequence(6, 0)) {
				var a = i.foreground.add(e.prodigy.create.sprite(690, 250, "atlas-112", "food"));
				a.visible = !1;
				var o = n.addConstructedNPC(e, i, 720, 490, "npc-sprite-worker-slime-red", null, "NPC_NAME_WORKER_SLIME"),
					r = n.addConstructedNPC(e, i, 500, 330, "atlas-65", null, "NPC_NAME_CEBOLLINI", i.foreground),
					s = e.prodigy.event.create();
				s.text(0, "slime_guard"), s.function(function() {
					n.queen.flip()
				}), s.enableInput(!1), s.path(o, [{
					x: 730,
					y: 350
				}], 1, !0), s.delay(1e3), s.enableInput(!0), s.text(0, "slime_queen"), s.enableInput(!1), s.enableInput(!0), s.text(1, "cebollini"), s.enableInput(!1), s.set(a, "visible", !0), s.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, a, "-80", "-200", "+100", 2e3, !0, !0)), s.delay(2e3), s.sound(10, "eating"), s.delay(2e3), s.enableInput(!0), s.text(1, "slime_queen"), s.function(function() {
					n.queen.flip()
				}), s.text(2, "slime_queen"), s.enableInput(!1), s.set(a, "alpha", 1), s.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, a, "-90", "-50", "+150", 600, !0, !0)), s.delay(1e3), s.enableInput(!0), s.text(2, "cebollini"), s.text(), s.text(3, "slime_queen"), s.text(4, "slime_queen"), s.text(), s.text(3, "cebollini"), s.enableInput(!1), s.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "+200", "-100", "+220", 1e3, !1, !0), !0), s.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "+100", "-100", "+150", 1e3, !1, !0), !0), s.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "+150", "-100", "+100", 1e3, !1, !0), !0), s.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "+200", "-200", "+230", 1e3, !1, !0), !0), s.enableInput(!0), s.text(4, "cebollini"), s.enableInput(!1), s.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "+60", "-100", "+200", 1e3, !0, !0), !0), s.enableInput(!0), s.text(103, "noot"), s.function(this.zone.completeSequence.bind(n.zone, 6, 0)), s.function(i.process.bind(i)), s.start()
			}
			return null
		}, e
	}(i(8).Quest);
	e.BonfireSpireQ6 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = i(8),
		r = i(32),
		s = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i.concat(["sfx-9"]), 5, "QUESTS_BONFIRE_SPIRE_ADD_INGREDIENT", {
					type: "seq",
					N: 1
				}, ["bonfire_spire-E6"], [13, 14], [], [0, 1], [{
					type: "spellRelic",
					ID: 1
				}]) || this;
				return n.food = null, n.cebollini = null, n.cebollini2 = null, n.cookingPot = null, n.caught = !1, n.foodPlaced = !1, n.hover = !1, n.cookingPotHighlight = null, n.visionCone = null, n.button = null, n.buttonIcon = null, n.pot = null, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				var o = this;
				return t.prototype.setup.call(this, e, i, n), "E6" !== n.getTag() || this.zone.isQuestComplete(5) ? null : (this.food = i.foreground.add(e.prodigy.create.sprite(650, 180, "icon-item-88")), this.food.visible = !1, this.cebollini = n.addConstructedNPC(e, i, 580, 370, "atlas-65", null, "NPC_NAME_CEBOLLINI"), this.cebollini2 = n.addConstructedNPC(e, i, this.cebollini.x, this.cebollini.y, "atlas-65", null, "NPC_NAME_CEBOLLINI"), this.cebollini2.visible = !1, this.caught = !1, this.foodPlaced = !1, this.hover = !1, this.cookingPot = i.content.add(e.prodigy.create.sprite(740, 234, "atlas-112", "pot")), this.cookingPot.anchor.setTo(.5, 1), this.cookingPot.inputEnabled = !0, this.cookingPot.events.onInputDown.add(function() {
					o.potClick(e, i)
				}), this.cookingPotHighlight = a.Util.hilightObjectOnLayer(e, 810, 130, null, i.content), n.toggleDynamicLayer(e, 5, !0), this.visionCone = i.background.add(e.prodigy.create.sprite(this.cebollini.x, this.cebollini.y - 25, "atlas-112", "visioncone")), this.visionCone.anchor.setTo(.5, .5), this.button = i.content.add(e.prodigy.create.sprite(i.user.x - 40, i.user.y - 200, "atlas-21", "icon-base-active")), this.button.inputEnabled = !0, this.button.events.onInputDown.add(function() {
					o.hideButtonClick(e, i)
				}, this), this.buttonIcon = i.content.add(e.prodigy.create.sprite(i.user.x - 40, i.user.y - 200, "atlas-112", "cauldron-icon")), this.button.events.onInputOver.add(function() {
					o.hover = !0
				}), this.button.events.onInputOut.add(function() {
					o.hover = !1
				}), this.pot = i.content.add(e.prodigy.create.sprite(i.user.x, i.user.y, "atlas-112", "cauldron")), this.pot.anchor.setTo(.5, 1), this.pot.visible = !1, {
					enableMonsters: !1
				})
			}, e.prototype.start = function(e, i, n) {
				return t.prototype.start.call(this, e, i, n), "E6" !== n.getTag() || this.zone.isQuestComplete(5) || (this.tutorial(e), r.Zone.patrol(this.cebollini, [{
					x: 920,
					y: 260
				}, {
					x: 680,
					y: 400
				}, {
					x: 930,
					y: 450
				}, {
					x: 790,
					y: 300
				}, {
					x: 720,
					y: 490
				}, {
					x: 640,
					y: 300
				}], .5)), null
			}, e.prototype.update = function(t, e, i) {
				if ("E6" === i.getTag())
					if (this.zone.isQuestComplete(5)) a.Util.isValid(this.visionCone) && (this.visionCone.visible = !1, delete this.visionCone, a.Util.isValid(this.button) && this.button.destroy(), a.Util.isValid(this.buttonIcon) && this.buttonIcon.destroy());
					else {
						this.button.x = e.user.x - 40, this.button.y = e.user.y - 200, this.hover ? this.buttonIcon.y = e.user.y - 190 : this.buttonIcon.y = e.user.y - 187, this.buttonIcon.x = e.user.x - 27, this.caught ? this.visionCone.visible = !1 : (this.visionCone.visible = !0, this.visionCone.x = this.cebollini.x, this.visionCone.y = this.cebollini.y - 25), this.pot.x === e.user.x && this.pot.y === e.user.y || (this.pot.visible = !1, this.button.visible = !0, this.buttonIcon.visible = !0, e.user.visible = !0, this.pot.x = e.user.x, this.pot.y = e.user.y);
						var n = (e.user.x - (this.cebollini.x - 5)) * (e.user.x - (this.cebollini.x - 5)) + (e.user.y - (this.cebollini.y - 25)) * (e.user.y - (this.cebollini.y - 25));
						if (this.caught && (this.foodPlaced || (this.cebollini.visible = !1, this.cebollini2.visible || (this.cebollini2.scale.x = this.cebollini.scale.x, this.cebollini2.x = this.cebollini.x, this.cebollini2.y = this.cebollini.y, this.cebollini2.visible = !0)), this.visionCone.visible = !1), n < 22500 && !this.pot.visible) {
							var o = t.prodigy.event.create();
							this.caught || (this.caught = !0, this.foodPlaced || (o.enableInput(!1), o.validPath(e.user, e.path, e.user.x, e.user.y), o.enableInput(!0), o.text(0, "cebollini"), o.function(t.prodigy.world.teleport.bind(t.prodigy.world, "bonfire_spire-E6")))), o.start()
						}
					}
			}, e.prototype.tutorial = function(t) {
				if (!a.Util.isValid(this.zone.getState("minigametut"))) {
					this.zone.setState("minigametut", 1);
					var e = t.prodigy.event.create();
					e.text(112, "noot"), e.text(113, "noot"), e.text(114, "noot"), e.text(115, "noot"), e.text(116, "noot"), e.start()
				}
			}, e.prototype.hideButtonClick = function(t, e) {
				var i = t.prodigy.event.create();
				i.validPath(e.user, e.path, e.user.x, e.user.y), i.delay(50), i.function(t.prodigy.audio.playSFX.bind(t.prodigy.audio, 18, "pop")), i.set(this.pot, "visible", !0), i.set(e.user, "visible", !1), i.set(this.button, "visible", !1), i.set(this.buttonIcon, "visible", !1), i.start()
			}, e.prototype.potClick = function(t, e) {
				if (!this.foodPlaced) {
					var i = t.prodigy.event.create();
					i.validPath(e.user, e.path, 700, 240), i.enableInput(!1), i.set(this.food, "visible", !0), i.set(this, "foodPlaced", !0), i.set(this.button, "visible", !1), i.set(this.buttonIcon, "visible", !1), i.animation(t.prodigy.animation.hop.bind(t.prodigy.animation, this.food, "50", "-200", "+100", 2e3, !0, !0)), i.function(this.cookingPotHighlight.destroy.bind(this.cookingPotHighlight)), i.delay(2350), i.sound(9, "plop"), i.sound(9, "cooking"), i.enableInput(!0), i.function(t.prodigy.player.backpack.consume.bind(t.prodigy.player.backpack, "item", 88, 1)), i.function(this.zone.completeSequence.bind(this.zone, 5, 0)), i.function(e.process.bind(e)), i.start()
				}
			}, e
		}(o.Quest);
	e.BonfireSpireQ5 = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			var n = t.call(this, e, i, 4, "", {
				type: "item",
				ID: 88,
				N: 1,
				K: !0
			}, ["bonfire_spire-C3"], [10, 11, 12], [], [0], [{
				type: "gold",
				N: 200
			}]) || this;
			return n.collectionMaps = {
				C3: [0]
			}, n
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			return t.prototype.setup.call(this, e, i, n), "C3" === n.getTag() && i.addCollect(0, 950, 250, {
				type: "item",
				ID: 88,
				showLoading: !1
			}), null
		}, e
	}(i(8).Quest);
	e.BonfireSpireQ4 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 3, "QUESTS_BONFIRE_SPIRE_PULL_LEVER", {
				type: "seq",
				N: 1
			}, ["bonfire_spire-D4"], [8, 9], [], [0], [{
				type: "gold",
				N: 200
			}, {
				type: "hat",
				ID: 65
			}]) || this
		}
		return n(e, t), e.prototype.process = function(e, i, n) {
			t.prototype.process.call(this, e, i, n), this.zone.isQuestComplete(3) || (this.zone.processLeverRequirements(i, n, [1, 1, 1]), this.zone.processLeverQuest(i, 3))
		}, e
	}(i(8).Quest);
	e.BonfireSpireQ3 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 2, "QUESTS_BONFIRE_SPIRE_PULL_LEVER", {
				type: "seq",
				N: 1
			}, ["bonfire_spire-C2"], [6, 7], [], [0], [{
				type: "gold",
				N: 200
			}]) || this
		}
		return n(e, t), e.prototype.process = function(e, i, n) {
			t.prototype.process.call(this, e, i, n), this.zone.isQuestComplete(2) || (this.zone.processLeverRequirements(i, n, [1, 1, null]), this.zone.processLeverQuest(i, 2))
		}, e
	}(i(8).Quest);
	e.BonfireSpireQ2 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i.concat("sfx-10"), 14, "QUESTS_BONFIRE_SPIRE_TALK_TO_QUEEN", {
				type: "seq",
				N: 1
			}, ["bonfire_spire-D5"], [41, 42], [], [45, 46, 1, 47], [{
				type: "spellRelic",
				ID: 3
			}, {
				type: "key",
				ID: 11
			}]) || this
		}
		return n(e, t), e.prototype.start = function(e, i, n) {
			if (t.prototype.start.call(this, e, i, n), "D5" === n.getTag() && this.zone.isOnSequence(14, 0)) {
				var a = i.foreground.add(e.prodigy.create.sprite(690, 250, "atlas-112", "food"));
				a.visible = !1;
				var o = n.addConstructedNPC(e, i, 720, 490, "npc-sprite-worker-slime-red", null, "NPC_NAME_WORKER_SLIME"),
					r = i.addNPC(530, 310, "atlas-88", null, "NPC_NAME_SLURPY", i.foreground),
					s = n.addConstructedNPC(e, i, 835, 390, "atlas-65", null, "NPC_NAME_CEBOLLINI");
				s.flip(), r.animate();
				var l = e.prodigy.event.create();
				l.text(108, "noot"), l.text(), l.text(5, "slime_queen"), l.text(), l.text(16, "cebollini"), l.text(), l.function(function() {
					n.queen.flip()
				}), l.text(6, "slime_queen"), l.enableInput(!1), l.path(o, [{
					x: 730,
					y: 350
				}], 1, !0), l.delay(1e3), l.set(a, "visible", !0), l.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, a, "-70", "-200", "+100", 2e3, !0, !0)), l.delay(2e3), l.sound(10, "eating"), l.delay(2e3), l.enableInput(!0), l.text(7, "slime_queen"), l.function(s.chat.bind(s, 1, 100)), l.function(function() {
					n.queen.flip()
				}), l.text(8, "slime_queen"), l.text(), l.text(43, "slurpy"), l.text(44, "slurpy"), l.enableInput(!1), l.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "+100", "-100", "+250", 1e3, !1, !0), !0), l.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "-100", "-100", "+200", 1e3, !1, !0), !0), l.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "-150", "-100", "+100", 1e3, !1, !0), !0), l.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "-120", "-150", "+150", 1e3, !1, !0), !0), l.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "-180", "-150", "+300", 1e3, !0, !0), !0), l.enableInput(!0), l.text(), l.function(function() {
					n.queen.flip()
				}), l.text(17, "cebollini"), l.text(18, "cebollini"), l.text(), l.text(9, "slime_queen"), l.text(), l.text(19, "cebollini"), l.function(this.zone.completeSequence.bind(n.zone, 14, 0)), l.function(i.process.bind(i)), l.start()
			}
			return null
		}, e
	}(i(8).Quest);
	e.BonfireSpireQ14 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = function(t) {
			function e(e, i) {
				return t.call(this, e, i, 13, "QUESTS_BONFIRE_SPIRE_DEFEAT_CHEF", {
					type: "seq",
					N: 2
				}, ["bonfire_spire-D6"], [38, 39, 40], [], [0], [{
					type: "gold",
					N: 200
				}, {
					type: "weapon",
					ID: 81
				}]) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), "D6" === n.getTag() ? (n.addConstructedNPC(e, i, 850, 400, "atlas-65", function() {
					var t = e.prodigy.event.create();
					t.text(14, "cebollini"), t.text(15, "cebollini"), t.start()
				}, "NPC_NAME_CEBOLLINI").flip(), {
					enableMonsters: !1
				}) : null
			}, e.prototype.start = function(e, i, n) {
				return t.prototype.start.call(this, e, i, n), "D6" === n.getTag() && this.zone.isOnSequence(13, 0) ? this.bossBattle(e, i, n) : "D6" === n.getTag() && this.zone.isOnSequence(13, 1) && this.postBattle(e, i), null
			}, e.prototype.bossBattle = function(t, e, i) {
				var n = this;
				t.prodigy.network.sendBattleStartTypeEvent("ZoneBossBattle");
				var o = this.zone.getBattle(i, t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMBAT_BOSS_BATTLE"), {
						boss: {
							ID: 13,
							element: "fire",
							attacks: [55, 58],
							name: t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NPC_NAME_CEBOLLINI"),
							tag: "bonfire",
							difficulty: 3
						},
						drops: [{
							type: "weapon",
							ID: 16
						}],
						difficulty: 3,
						starMod: 5,
						screen: "battle-bonfire-outside",
						events: [{
							action: "turn",
							value: 0,
							callback: function(t, e) {
								var i = t.prodigy.dialogue.create();
								i.setText(10), i.start("cebollini", !1, e)
							}
						}]
					}, function() {
						var e = t.prodigy.event.create();
						e.function(n.zone.completeSequence.bind(n.zone, 13, 0)), e.function(t.prodigy.world.teleport.bind(t.prodigy.world, "bonfire_spire-D6")), e.start()
					}),
					r = t.prodigy.event.create();
				r.enableInput(!1), r.validPath(e.user, e.path, 399, 400), r.validPath(e.user, e.path, 400, 400), r.enableInput(!0), r.text(8, "cebollini"), r.text(9, "cebollini"), r.function(o), r.start()
			}, e.prototype.postBattle = function(t, e) {
				var i = t.prodigy.event.create();
				i.text(13, "cebollini"), i.text(14, "cebollini"), i.text(), i.text(107, "noot"), i.text(), i.text(15, "cebollini"), i.function(this.zone.completeSequence.bind(this.zone, 13, 1)), i.function(e.process.bind(e)), i.start()
			}, e
		}(i(8).Quest);
	e.BonfireSpireQ13 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i, 12, "QUESTS_BONFIRE_SPIRE_UNLOCK_CHEST", {
					type: "key",
					ID: 12,
					N: 1
				}, ["bonfire_spire-A4"], [35, 36, 37], [], [0], [{
					type: "gold",
					N: 200
				}]) || this;
				return n.chest = null, n.chestElement = null, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				var a = this;
				return t.prototype.setup.call(this, e, i, n), "A4" === n.getTag() && this.zone.isOnQuest(12) ? (this.zone.isOnSequence(12, 0) ? (this.chest = i.content.add(e.prodigy.create.sprite(800, 225, "atlas-110", "chest-B-1")), this.chest.inputEnabled = !0, this.chest.events.onInputDown.add(function() {
					a.openTheChest(e, i, n)
				}, this), this.chest.anchor.setTo(.5, 1), this.chestElement = e.prodigy.create.element(i.foreground, 745, 135), o.Util.isValid(this.chestElement) && (this.chestElement.highlight(!0), this.chestElement.visible = !0)) : this.zone.isOnSequence(12, 1) && n.addChest(e, i, "chestGuardian", 800, 225, [{
					type: "key",
					ID: 12
				}], {
					type: "item",
					ID: 92
				}), {
					enableChests: !1
				}) : null
			}, e.prototype.openTheChest = function(t, e, i) {
				var n = this,
					o = i.addMonster(t, e, 0, 725, 250, !1, {
						randDir: !1,
						encounter: [{
							ID: 65
						}],
						difficulty: 5,
						maxTeamSize: 1
					});
				o.visible = !1, o.alpha = 0;
				var r = t.prodigy.event.create();
				r.validPath(e.user, e.path, 800, 250), r.enableInput(!1), r.set(e.user, "evtProc", !0), r.set(o, "alpha", 0), r.function(function() {
					o.visible = !0, t.add.tween(o).to({
						alpha: 1
					}, 1e3, Phaser.Easing.Linear.None).start()
				}), r.delay(2e3), r.enableInput(!0), r.function(function() {
					t.prodigy.battle.start({
						intro: t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMBAT_DEFEAT_GUARDIAN"),
						catch: !1,
						run: !1,
						screen: "battle-bonfire-outside",
						pets: [{
							ID: 65,
							nickname: t.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NPC_NAME_GUARDIAN")
						}]
					}, null, function() {
						n.zone.completeSequence(12, 0), t.prodigy.world.teleport("bonfire_spire-A4", 800, 270)
					}, null, n.zone.onFaint)
				}), r.set(e.user, "evtProc", !1), r.start()
			}, e
		}(i(8).Quest);
	e.BonfireSpireQ12 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i.concat("atlas-81"), 11, "QUESTS_BONFIRE_SPIRE_FIND_KEY", {
				type: "item",
				ID: 92,
				N: 1,
				K: 1
			}, ["bonfire_spire-C4"], [29, 30, 31, 32, 33, 34], [], [0, 1], [{
				type: "spellRelic",
				ID: 2
			}]) || this
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			t.prototype.setup.call(this, e, i, n);
			var a = {
					randDir: !0,
					encounter: [{
						ID: 75,
						drops: [{
							type: "item",
							ID: 92,
							R: .25
						}]
					}],
					difficulty: 5,
					maxTeamSize: 1
				},
				o = n.getTag();
			if ("C4" === o && !this.zone.isQuestComplete(11)) return n.addMonster(e, i, 1, 480, 480, !1, a, !0), n.addMonster(e, i, 2, 840, 240, !1, a, !0), {
				enableMonsters: !1
			};
			if ("A4" === o) {
				var r = n.addChest(e, i, "chestGuardian", 742, 236, [{
					type: "key",
					ID: 12
				}], {
					type: "item",
					ID: 92
				});
				return r.chestSprite.events.onInputDown.removeAll(), r.chestSprite.events.onInputDown.add(function() {
					var t = e.prodigy.event.create();
					t.text(111, "noot"), t.start()
				}), {
					enableChests: !1
				}
			}
		}, e
	}(i(8).Quest);
	e.BonfireSpireQ11 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 10, "QUESTS_BONFIRE_SPIRE_OFFER_DISH", {
				type: "seq",
				N: 1
			}, ["bonfire_spire-C6"], [27, 28], [], [0], [{
				type: "gold",
				N: 200
			}]) || this
		}
		return n(e, t), e.prototype.start = function(e, i, n) {
			if (t.prototype.start.call(this, e, i, n), "C6" === n.getTag() && this.zone.isOnSequence(10, 0)) {
				var a = n.addConstructedNPC(e, i, 885, 340, "atlas-65", null, "NPC_NAME_CEBOLLINI");
				a.visible = !1;
				var o = e.prodigy.event.create();
				o.enableInput(!1), o.set(i.user, "evtProc", !0), o.validPath(i.user, i.path, 650, 420), o.enableInput(!0), o.text(5, "cebollini"), o.set(a, "visible", !0), o.text(6, "cebollini"), o.text(7, "cebollini"), o.enableInput(!1), o.validPath(a, i.path, 650, 420), o.function(e.prodigy.player.backpack.consume.bind(e.prodigy.player.backpack, "item", 91, 1)), o.path(a, [{
					x: 1280,
					y: 510
				}]), o.set(a, "visible", !1), o.enableInput(!0), o.text(104, "noot"), o.text(105, "noot"), o.text(106, "noot"), o.function(this.zone.completeSequence.bind(n.zone, 10, 0)), o.function(i.process.bind(i)), o.set(i.user, "evtProc", !1), o.start()
			}
			return null
		}, e
	}(i(8).Quest);
	e.BonfireSpireQ10 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 1, "QUESTS_BONFIRE_SPIRE_PULL_LEVER", {
				type: "seq",
				N: 1
			}, ["bonfire_spire-D1"], [2, 3, 4, 5], [], [0], [{
				type: "gold",
				N: 200
			}]) || this
		}
		return n(e, t), e.prototype.process = function(e, i, n) {
			t.prototype.process.call(this, e, i, n), this.zone.isQuestComplete(1) || (this.zone.processLeverRequirements(i, n, [1, null, null]), this.zone.processLeverQuest(i, 1))
		}, e
	}(i(8).Quest);
	e.BonfireSpireQ1 = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "E6", "MAP_BONFIRE_SPIRE_ROYAL_KITCHEN", 180, 547.5, ["bonfire_spire-E5", "bonfire_spire-D5"], i.concat(["atlas-65"])) || this;
				return n.battleBG = "battle-bonfire-inside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1160,
					y: 65,
					w: 160,
					h: 130,
					rect: !0
				}, "bonfire_spire-E5", 120, 512.5, null, a.EAreaEventAngle.UP, !1), i.addClickableMoveEvent(1080, 0, 160, 130, 1180, 120, null, null, 0, null), this.addAreaEvent(e, i, {
					x: 50,
					y: 500,
					w: 100,
					h: 170,
					guideHandPathToX: 100,
					guideHandPathToY: 480,
					rect: !0
				}, "bonfire_spire-D5", 1020, 500, null, a.EAreaEventAngle.LEFT, !1), i.addClickableMoveEvent(0, 415, 100, 170, 100, 480, null, null, 0, null), this.addMonster(e, i, 1, 425, 325, !1, {
					randDir: !0,
					encounter: [{
						ID: 38,
						R: 1
					}, {
						ID: 94,
						R: 1
					}],
					difficulty: 2,
					maxTeamSize: 3,
					range: 22500
				}), this.addMonster(e, i, 2, 775, 300, !1, {
					randDir: !0,
					encounter: [{
						ID: 38,
						R: 1
					}, {
						ID: 94,
						R: 1
					}, {
						ID: 45,
						R: 3
					}],
					difficulty: 4,
					maxTeamSize: 2,
					range: 22500
				}), this.addMonster(e, i, 3, 1e3, 500, !1, {
					randDir: !0,
					encounter: [{
						ID: 38,
						R: 1
					}, {
						ID: 94,
						R: 1
					}, {
						ID: 34,
						R: 3
					}],
					difficulty: 4,
					maxTeamSize: 2,
					range: 22500
				})
			}, e
		}(i(21).BonfireSpireMap);
	e.BonfireSpireE6 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "E5", "MAP_BONFIRE_SPIRE_FIERY_ALCOVE", 115, 510, ["bonfire_spire-E6"], i.concat(["atlas-116"])) || this;
				return n.battleBG = "battle-bonfire-inside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 160,
					y: 655,
					w: 160,
					h: 130,
					rect: !0
				}, "bonfire_spire-E6", 1160, 162.5, null, a.EAreaEventAngle.DOWN, !1), this.addChest(e, i, "chest6", 800, 368, [{
					type: "gold",
					N: 200
				}])
			}, e
		}(i(21).BonfireSpireMap);
	e.BonfireSpireE5 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "D6", "MAP_BONFIRE_SPIRE_GARDEN_GETAWAY", 330, 510, ["bonfire_spire-C6"], i.concat(["atlas-116", "atlas-65"])) || this;
				return n.battleBG = "battle-bonfire-outside", n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				var o = e.prodigy.player.backpack.hasItem("key", 12) > 0;
				return this.enableLayerID(1, !o), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 70,
					y: 500,
					w: 140,
					h: 250,
					rect: !0
				}, "bonfire_spire-C6", 1080, 480, null, a.EAreaEventAngle.LEFT, !1), this.addMonster(e, i, 1, 350, 275, !1, {
					randDir: !0,
					encounter: [{
						ID: 38,
						R: 1
					}, {
						ID: 94,
						R: 1
					}],
					difficulty: 4,
					maxTeamSize: 2
				}), this.addMonster(e, i, 2, 875, 500, !1, {
					randDir: !0,
					encounter: [{
						ID: 38,
						R: 1
					}, {
						ID: 94,
						R: 1
					}, {
						ID: 45,
						R: 3
					}],
					difficulty: 2,
					maxTeamSize: 3
				}), this.addMonster(e, i, 3, 725, 325, !1, {
					randDir: !0,
					encounter: [{
						ID: 38,
						R: 1
					}, {
						ID: 94,
						R: 1
					}, {
						ID: 34,
						R: 3
					}],
					difficulty: 2,
					maxTeamSize: 3
				})
			}, e
		}(i(21).BonfireSpireMap);
	e.BonfireSpireD6 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "D5", "MAP_BONFIRE_SPIRE_THRONE_ROOM", 180, 550, ["bonfire_spire-E6", "bonfire_spire-C6"], i.concat(["atlas-88", "atlas-86", "atlas-85", "atlas-65", "atlas-87"])) || this;
				return n.queen = null, n.battleBG = "battle-bonfire-inside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1180,
					y: 501,
					w: 200,
					h: 210,
					rect: !0
				}, "bonfire_spire-E6", 180, 547.5, null, a.EAreaEventAngle.RIGHT, !1), i.addClickableMoveEvent(1080, 396, 200, 210, 1210, 580, null, null, 0, null), this.addAreaEvent(e, i, {
					x: 65,
					y: 695,
					r: 160
				}, "bonfire_spire-C6", 900, 355, null, a.EAreaEventAngle.DOWN_LEFT, !1), i.addNPC(570, 430, "atlas-85", this.talkToGuard.bind(this, e), "NPC_NAME_GUARD_SLIME").animate(), this.queen = i.addNPC(645, 282, "atlas-86", this.talkToQueen.bind(this, e), "NPC_NAME_QUEEN_GOO_LIA"), this.queen.animate()
			}, e.prototype.talkToGuard = function(t) {
				var e = t.prodigy.event.create();
				e.text(5, "slime_guard"), e.start()
			}, e.prototype.talkToQueen = function(t) {
				var e = t.prodigy.event.create();
				e.text(10, "slime_queen"), e.text(), e.text(5, "slime_guard"), e.start()
			}, e
		}(i(21).BonfireSpireMap);
	e.BonfireSpireD5 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "D4", "MAP_BONFIRE_SPIRE_OUTER_SLIMEBURBIA", 220, 467.5, ["bonfire_spire-C4"], i.concat(["atlas-116"])) || this;
				return n.leverNumber = 3, n.battleBG = "battle-bonfire-outside", n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 100,
					y: 421,
					w: 200,
					h: 210,
					rect: !0
				}, "bonfire_spire-C4", 1120, 367.5, null, a.EAreaEventAngle.LEFT, !1), i.addClickableMoveEvent(0, 316, 200, 210, 102, 500, null, null, 0, null), this.toggleDynamicLayer(e, 3, 1 === this.zone.getState("lever3")), this.toggleDynamicLayer(e, 4, 1 !== this.zone.getState("lever3")), i.addClickableEvent(960, 260, 120, 80, this.zone.toggleLever.bind(this.zone, i, 2, this, {
					x: 920,
					y: 320
				}))
			}, e
		}(i(21).BonfireSpireMap);
	e.BonfireSpireD4 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "D3", "MAP_BONFIRE_SPIRE_MOLTEN_ENCLAVE", 180, 377.5, ["bonfire_spire-C3"], i) || this;
				return n.leverNumber = 2, n.battleBG = "battle-bonfire-inside", n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 60,
					y: 322.5,
					w: 120,
					h: 235,
					rect: !0
				}, "bonfire_spire-C3", 1100, 515, null, a.EAreaEventAngle.LEFT, !1), i.addClickableMoveEvent(0, 205, 120, 235, 52, 360, null, null, 0, null);
				this.addWizard(e, i, 740, 400, "wizard2", {
					opponent: [{
						appearance: {
							name: "NPC_NAME_BLAZE",
							gender: "male",
							hair: {
								style: 17,
								color: 3
							},
							skinColor: 4,
							eyeColor: 5
						},
						equipment: {
							hat: 11,
							outfit: 8,
							weapon: 22
						}
					}],
					pets: [{
						ID: 49,
						difficulty: 3
					}, {
						ID: 57,
						difficulty: 3
					}],
					difficulty: 4
				}, !0), this.addMonster(e, i, 1, 450, 250, !1, {
					randDir: !0,
					encounter: [{
						ID: 75,
						R: 1
					}, {
						ID: 63,
						R: 1
					}, {
						ID: 45,
						R: 3
					}],
					difficulty: 4,
					maxTeamSize: 2
				}), this.addChest(e, i, "chest3", 840, 415, [{
					type: "outfit",
					ID: 27
				}])
			}, e
		}(i(21).BonfireSpireMap);
	e.BonfireSpireD3 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "D2", "MAP_BONFIRE_SPIRE_VOLCANIC_SANCTUM", 180, 292.5, ["bonfire_spire-C1"], i) || this;
				return n.leverNumber = 2, n.battleBG = "battle-bonfire-inside", n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 60,
					y: 242.5,
					w: 120,
					h: 235,
					rect: !0
				}, "bonfire_spire-C1", 1145, 657.5, null, a.EAreaEventAngle.LEFT, !1), i.addClickableMoveEvent(0, 125, 120, 235, 52, 280, null, null, 0, null);
				this.addWizard(e, i, 725, 500, "wizard1", {
					opponent: [{
						appearance: {
							name: "NPC_NAME_MARY_FIRE",
							gender: "female",
							hair: {
								style: 1,
								color: 2
							},
							skinColor: 3,
							eyeColor: 4
						},
						equipment: {
							hat: 9,
							outfit: 10,
							weapon: 9
						}
					}],
					pets: [{
						ID: 34,
						difficulty: 3
					}, {
						ID: 51,
						difficulty: 3
					}],
					difficulty: 4
				}, !0), this.addMonster(e, i, 1, 425, 525, !1, {
					randDir: !0,
					encounter: [{
						ID: 23,
						R: 1
					}, {
						ID: 48,
						R: 1
					}, {
						ID: 45,
						R: 3
					}],
					difficulty: 4,
					maxTeamSize: 2
				}), this.addMonster(e, i, 2, 650, 275, !1, {
					randDir: !0,
					encounter: [{
						ID: 38,
						R: 1
					}, {
						ID: 94,
						R: 1
					}, {
						ID: 34,
						R: 3
					}],
					difficulty: 4,
					maxTeamSize: 2
				}), this.addChest(e, i, "chest2", 800, 500, [{
					type: "hat",
					ID: 34
				}])
			}, e
		}(i(21).BonfireSpireMap);
	e.BonfireSpireD2 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "D1", "MAP_BONFIRE_SPIRE_PALM_TERRACE", 260, 382.5, ["bonfire_spire-C1"], i) || this;
				return n.leverNumber = 1, n.battleBG = "battle-bonfire-outside", n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 100,
					y: 359.5,
					w: 200,
					h: 235,
					rect: !0
				}, "bonfire_spire-C1", 1120, 237.5, null, a.EAreaEventAngle.LEFT, !1), i.addClickableMoveEvent(0, 242, 200, 235, 98, 420, null, null, 0, null), this.toggleDynamicLayer(e, 3, 1 === this.zone.getState("lever1")), this.toggleDynamicLayer(e, 4, 1 !== this.zone.getState("lever1")), i.addClickableEvent(840, 240, 120, 100, this.zone.toggleLever.bind(this.zone, i, 0, this, {
					x: 800,
					y: 300
				}))
			}, e
		}(i(21).BonfireSpireMap);
	e.BonfireSpireD1 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "C6", "MAP_BONFIRE_SPIRE_THRONE_ROOM_ENTRANCE", 250, 400, ["bonfire_spire-D5", "bonfire_spire-D6", "bonfire_spire-B5"], i.concat(["atlas-65", "atlas-85"])) || this;
				return n.battleBG = "battle-bonfire-outside", n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				var o = e.prodigy.player.backpack.hasItem("key", 12) > 0;
				return this.enableLayerID(1, !o), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1250,
					y: 510,
					w: 60,
					h: 300,
					rect: !0
				}, "bonfire_spire-D6", 350, 557.5, null, a.EAreaEventAngle.RIGHT, !1), this.addAreaEvent(e, i, {
					x: 100,
					y: 401,
					w: 200,
					h: 250,
					rect: !0
				}, "bonfire_spire-B5", 1120, 527.5, null, a.EAreaEventAngle.LEFT, !1), i.addClickableMoveEvent(0, 276, 200, 250, 160, 380, null, null, 0, null), this.addAreaEvent(e, i, {
					x: 880,
					y: 211,
					w: 190,
					h: 190,
					rect: !0
				}, "bonfire_spire-D5", 180, 550, null, a.EAreaEventAngle.UP, !1), i.addClickableMoveEvent(785, 116, 190, 190, 880, 305, null, null, 0, null), this.addChest(e, i, "chest5", 400, 290, [{
					type: "weapon",
					ID: 21
				}])
			}, e
		}(i(21).BonfireSpireMap);
	e.BonfireSpireC6 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "C4", "MAP_BONFIRE_SPIRE_LAVA_PITS", 110, 397.5, ["bonfire_spire-D4", "bonfire_spire-B4"], i) || this;
				return n.leverNumber = 3, n.battleBG = "battle-bonfire-inside", n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1230,
					y: 330,
					w: 100,
					h: 280,
					rect: !0
				}, "bonfire_spire-D4", 220, 467.5, null, a.EAreaEventAngle.RIGHT, !1), this.addAreaEvent(e, i, {
					x: 40,
					y: 360,
					w: 80,
					h: 150,
					arrowOffsetY: -20,
					rect: !0
				}, "bonfire_spire-B4", 1150, 280, null, a.EAreaEventAngle.LEFT, !1), this.zone.isOnQuest(11) || (this.addMonster(e, i, 3, 520, 480, !1, {
					randDir: !0,
					encounter: [{
						ID: 94,
						R: 2
					}, {
						ID: 63,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 1
				}), this.addMonster(e, i, 4, 740, 170, !1, {
					randDir: !0,
					encounter: [{
						ID: 94,
						R: 2
					}, {
						ID: 63,
						R: 1
					}],
					difficulty: 3,
					maxTeamSize: 1
				}))
			}, e
		}(i(21).BonfireSpireMap);
	e.BonfireSpireC4 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "C3", "MAP_BONFIRE_SPIRE_SLIME_SHANTY", 160, 417.5, ["bonfire_spire-C2", "bonfire_spire-D3", "bonfire_spire-B2"], i) || this;
				return n.leverNumber = 2, n.battleBG = "battle-bonfire-inside", n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1117.5,
					y: 60,
					w: 145,
					h: 120,
					rect: !0
				}, "bonfire_spire-C2", 1100, 597.5, null, a.EAreaEventAngle.UP, !1), i.addClickableMoveEvent(1045, 0, 145, 120, 1120, 20, null, null, 0, null), this.addAreaEvent(e, i, {
					x: 1268,
					y: 519,
					w: 24,
					h: 158,
					rect: !0
				}, "bonfire_spire-D3", 180, 377.5, null, a.EAreaEventAngle.RIGHT, !1), i.addClickableMoveEvent(1256, 440, 24, 158, 1270, 520, null, null, 0, null), this.addAreaEvent(e, i, {
					x: 32,
					y: 417,
					w: 64,
					h: 210,
					rect: !0
				}, "bonfire_spire-B2", 1120, 342.5, null, a.EAreaEventAngle.LEFT, !1), i.addClickableMoveEvent(0, 312, 64, 210, 22, 414, null, null, 0, null), this.addMonster(e, i, 1, 550, 350, !1, {
					randDir: !0,
					encounter: [{
						ID: 75,
						R: 1
					}, {
						ID: 63,
						R: 1
					}, {
						ID: 23,
						R: 1
					}],
					difficulty: 1,
					maxTeamSize: 2
				}), this.addMonster(e, i, 2, 900, 475, !1, {
					randDir: !0,
					encounter: [{
						ID: 75,
						R: 1
					}, {
						ID: 63,
						R: 1
					}, {
						ID: 23,
						R: 1
					}],
					difficulty: 2,
					maxTeamSize: 2,
					range: 22500
				})
			}, e
		}(i(21).BonfireSpireMap);
	e.BonfireSpireC3 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "C2", "MAP_BONFIRE_SPIRE_PALM_PATH", 1100, 597.5, ["bonfire_spire-C3"], i) || this;
				return n.leverNumber = 2, n.battleBG = "battle-bonfire-outside", n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1080.5,
					y: 680,
					w: 145,
					h: 80,
					rect: !0
				}, "bonfire_spire-C3", 1100, 200, null, a.EAreaEventAngle.DOWN, !1), i.addClickableMoveEvent(1008, 640, 145, 80, 1080, 704, null, null, 0, null), this.toggleDynamicLayer(e, 3, 1 === this.zone.getState("lever2")), this.toggleDynamicLayer(e, 4, 1 !== this.zone.getState("lever2")), i.addClickableEvent(200, 120, 120, 100, this.zone.toggleLever.bind(this.zone, i, 1, this, {
					x: 260,
					y: 250
				}))
			}, e
		}(i(21).BonfireSpireMap);
	e.BonfireSpireC2 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "C1", "MAP_BONFIRE_SPIRE_FIREWATCH_ROAD", 180, 417.5, ["bonfire_spire-D1", "bonfire_spire-D2", "bonfire_spire-B1"], i.concat("atlas-82")) || this;
				return n.leverNumber = 1, n.battleBG = "battle-bonfire-inside", n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1232,
					y: 199,
					w: 96,
					h: 230,
					rect: !0
				}, "bonfire_spire-D1", 300, 360, null, a.EAreaEventAngle.RIGHT, !1), i.addClickableMoveEvent(1184, 84, 96, 230, 1256, 180, null, null, 0, null), this.addAreaEvent(e, i, {
					x: 1254,
					y: 617.5,
					w: 52,
					h: 205,
					rect: !0
				}, "bonfire_spire-D2", 260, 382.5, null, a.EAreaEventAngle.RIGHT, !1), i.addClickableMoveEvent(1228, 515, 52, 205, 1256, 602, null, null, 0, null), this.addAreaEvent(e, i, {
					x: 31,
					y: 415,
					w: 62,
					h: 200,
					rect: !1
				}, "bonfire_spire-B1", 1120, 417.5, null, a.EAreaEventAngle.LEFT, !1), i.addClickableMoveEvent(0, 315, 62, 200, 22, 416, null, null, 0, null), this.addPippet(e, i, 1, 490, 375), this.addMonster(e, i, 1, 600, 375, !1, {
					randDir: !0,
					encounter: [{
						ID: 75,
						R: 1
					}, {
						ID: 48,
						R: 1
					}],
					difficulty: 1,
					maxTeamSize: 1
				}), this.addMonster(e, i, 2, 925, 350, !1, {
					randDir: !0,
					encounter: [{
						ID: 75,
						R: 1
					}, {
						ID: 48,
						R: 1
					}],
					difficulty: 2,
					maxTeamSize: 1,
					range: 22500
				})
			}, e
		}(i(21).BonfireSpireMap);
	e.BonfireSpireC1 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B5", "MAP_BONFIRE_SPIRE_RED_HOT_RIVER", 150, 210, ["bonfire_spire-B4", "bonfire_spire-C6"], i) || this;
				return n.battleBG = "battle-bonfire-inside", n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 160,
					y: 60,
					w: 160,
					h: 120,
					rect: !0
				}, "bonfire_spire-B4", 160, 527.5, null, a.EAreaEventAngle.UP, !1), i.addClickableMoveEvent(80, 0, 160, 120, 160, 100, null, null, 0, null), this.addAreaEvent(e, i, {
					x: 1230,
					y: 480,
					w: 100,
					h: 180,
					rect: !0
				}, "bonfire_spire-C6", 250, 400, null, a.EAreaEventAngle.RIGHT, !1), i.addClickableMoveEvent(1180, 390, 100, 180, 1200, 480, null, null, 0, null), this.addMonster(e, i, 1, 740, 300, !1, {
					randDir: !0,
					encounter: [{
						ID: 38,
						R: 2
					}, {
						ID: 63,
						R: 1
					}, {
						ID: 45,
						R: 5
					}],
					difficulty: 3,
					maxTeamSize: 2
				}), this.addChest(e, i, "chest4", 740, 520, [{
					type: "gold",
					N: 200
				}])
			}, e
		}(i(21).BonfireSpireMap);
	e.BonfireSpireB5 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B4", "MAP_BONFIRE_SPIRE_VOLCANO_JUNCTION", 1080, 117.5, ["bonfire_spire-A4", "bonfire_spire-B2", "bonfire_spire-C4", "bonfire_spire-B5"], i) || this;
				return n.leverNumber = 3, n.battleBG = "battle-bonfire-inside", n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1080,
					y: 40,
					w: 160,
					h: 80,
					rect: !0
				}, "bonfire_spire-B2", 1100, 509.5, null, a.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
					x: 1250,
					y: 280,
					w: 80,
					h: 160,
					arrowOffsetY: -20,
					rect: !0
				}, "bonfire_spire-C4", 130, 360, null, a.EAreaEventAngle.RIGHT, !1), 1 === this.zone.getState("lever3") && this.addAreaEvent(e, i, {
					x: 160,
					y: 675,
					w: 160,
					h: 90,
					rect: !0
				}, "bonfire_spire-B5", 160, 237.5, null, a.EAreaEventAngle.DOWN, !1), this.addAreaEvent(e, i, {
					x: 25,
					y: 180,
					w: 50,
					h: 160,
					rect: !0
				}, "bonfire_spire-A4", 1020, 400, null, a.EAreaEventAngle.LEFT, !1), this.addMonster(e, i, 1, 800, 275, !1, {
					randDir: !0,
					encounter: [{
						ID: 75,
						R: 1
					}, {
						ID: 63,
						R: 1
					}, {
						ID: 48,
						R: 1
					}],
					difficulty: 1,
					maxTeamSize: 2
				}), this.addMonster(e, i, 2, 500, 325, !1, {
					randDir: !0,
					encounter: [{
						ID: 75,
						R: 1
					}, {
						ID: 63,
						R: 1
					}, {
						ID: 48,
						R: 1
					}],
					difficulty: 2,
					maxTeamSize: 2,
					range: 22500
				})
			}, e
		}(i(21).BonfireSpireMap);
	e.BonfireSpireB4 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B2", "MAP_BONFIRE_SPIRE_VOLCANIC_CAVERN", 180, 117.5, ["bonfire_spire-B1", "bonfire_spire-C3", "bonfire_spire-B4"], i) || this;
				return n.leverNumber = 2, n.battleBG = "battle-bonfire-inside", n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 198.5,
					y: 39,
					w: 145,
					h: 78,
					rect: !0
				}, "bonfire_spire-B1", 180, 532.5, null, a.EAreaEventAngle.UP, !1), i.addClickableMoveEvent(126, 0, 145, 78, 200, 28, null, null, 0, null), this.addAreaEvent(e, i, {
					x: 1248,
					y: 280,
					w: 64,
					h: 180,
					rect: !0
				}, "bonfire_spire-C3", 160, 417.5, null, a.EAreaEventAngle.RIGHT, !1), i.addClickableMoveEvent(1216, 190, 64, 180, 1262, 282, null, null, 0, null), 1 === this.zone.getState("lever2") && (this.addAreaEvent(e, i, {
					x: 1120.5,
					y: 640,
					w: 145,
					h: 160,
					rect: !0
				}, "bonfire_spire-B4", 1040, 117.5, null, a.EAreaEventAngle.DOWN, !1), i.addClickableMoveEvent(1048, 560, 145, 160, 1120, 700, null, null, 0, null)), this.addMonster(e, i, 1, 775, 350, !1, {
					randDir: !0,
					encounter: [{
						ID: 75,
						R: 1
					}, {
						ID: 23,
						R: 1
					}],
					difficulty: 1,
					maxTeamSize: 1
				}), this.addMonster(e, i, 2, 300, 425, !1, {
					randDir: !0,
					encounter: [{
						ID: 75,
						R: 1
					}, {
						ID: 23,
						R: 1
					}],
					difficulty: 1,
					maxTeamSize: 2
				})
			}, e
		}(i(21).BonfireSpireMap);
	e.BonfireSpireB2 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(45),
		r = i(3),
		s = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B1", "MAP_BONFIRE_SPIRE_VOLCANO_VILLAGE", 160, 307, ["bonfire_spire-C1", "bonfire_spire-B2", "bonfire_spire-A1"], i.concat(["atlas-88", "atlas-86", "atlas-85", "atlas-76"])) || this;
				return n.questNPC = null, n.leverNumber = 1, n.battleBG = "battle-bonfire-inside", n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(i, n, s) {
				t.prototype.setup.call(this, i, n, s), this.addAreaEvent(i, n, {
					x: 1248,
					y: 370,
					w: 64,
					h: 260,
					rect: !0
				}, "bonfire_spire-C1", 170, 417.5, null, r.EAreaEventAngle.RIGHT, !1), n.addClickableMoveEvent(1216, 240, 64, 260, 1265, 385, null, null, 0, null), 1 === this.zone.getState("lever1") && (this.addAreaEvent(i, n, {
					x: 198.5,
					y: 690,
					w: 145,
					h: 60,
					rect: !0
				}, "bonfire_spire-B2", 180, 117.5, null, r.EAreaEventAngle.DOWN, !1), n.addClickableMoveEvent(126, 660, 145, 60, 200, 700, null, null, 0, null)), this.addAreaEvent(i, n, {
					x: 48,
					y: 277,
					w: 96,
					h: 230,
					rect: !0
				}, "bonfire_spire-A1", 865, 482, null, r.EAreaEventAngle.UP_LEFT, !1), n.addClickableMoveEvent(0, 162, 96, 230, 28, 255, null, null, 0, null), this.questNPC = n.addQuestNPC(750, 530, "slurpy", !1, e.onComplete.bind(this, i)), n.createStoreNPC(360, 310, 6, i.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("STORE_HOT_HOT_THREADS"), !0), new o.ToyMerchant(i, n.content, 1054, 275)
			}, e.onComplete = function(t) {
				var e = t.prodigy.event.create();
				e.text(0, "slurpy"), e.start()
			}, e
		}(i(21).BonfireSpireMap);
	e.BonfireSpireB1 = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "A4", "MAP_BONFIRE_SPIRE_PITFALL_TERRACE", 1020, 400, ["bonfire_spire-B4"], i.concat("atlas-87")) || this;
				return n.wasInsideTriggerLastFrame = !1, n.user = null, n.leverNumber = 3, n.battleBG = "battle-bonfire-outside", n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.user = i.user, this.addAreaEvent(e, i, {
					x: 1180,
					y: 420,
					w: 200,
					h: 210,
					rect: !0
				}, "bonfire_spire-B4", 140, 200, null, a.EAreaEventAngle.RIGHT, !1), i.addClickableMoveEvent(1080, 315, 200, 210, 1186, 492, null, null, 0, null), this.addChest(e, i, "chestGuardian", 742, 236, [{
					type: "key",
					ID: 12
				}], {
					type: "item",
					ID: 92
				}), this.toggleDynamicLayer(e, 6, !1)
			}, e.prototype.update = function(e) {
				if (o.Util.isValid(this.user)) {
					var i = Phaser.Math.distance(this.user.x, this.user.y, 100, 380) <= 80;
					i !== this.wasInsideTriggerLastFrame && this.toggleDynamicLayer(e, 6, i, 500), this.wasInsideTriggerLastFrame = i
				}
				t.prototype.update.call(this, e)
			}, e
		}(i(21).BonfireSpireMap);
	e.BonfireSpireA4 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "A1", "MAP_BONFIRE_SPIRE_VOLCANO_ENTRANCE", 865, 482, ["bonfire_spire-B1"], i) || this;
				return n.leverNumber = 1, n.battleBG = "battle-bonfire-outside", n
			}
			return n(e, t), e.prototype.init = function(e, i, n, a) {
				return this.zone.processLavaLayers(this), t.prototype.init.call(this, e, i, n, a)
			}, e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 995,
					y: 420,
					w: 120,
					h: 150,
					rect: !0
				}, "bonfire_spire-B1", 160, 307.5, null, a.EAreaEventAngle.DOWN_RIGHT, !1), i.addClickableMoveEvent(920, 322, 235, 235, 1052, 506, null, null, 0, null), this.addChest(e, i, "chest1", 175, 275, [{
					type: "gold",
					N: 200
				}]), this.addMonster(e, i, 1, 250, 525, !1, {
					randDir: !0,
					encounter: [{
						ID: 75,
						R: 2
					}, {
						ID: 63,
						R: 1
					}],
					difficulty: 2,
					maxTeamSize: 2
				}), this.addMonster(e, i, 2, 600, 375, !1, {
					randDir: !0,
					encounter: [{
						ID: 75,
						R: 2
					}, {
						ID: 63,
						R: 1
					}],
					difficulty: 1,
					maxTeamSize: 2
				})
			}, e
		}(i(21).BonfireSpireMap);
	e.BonfireSpireA1 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(0),
		r = i(32),
		s = i(684),
		l = i(683),
		c = i(682),
		h = i(681),
		u = i(680),
		p = i(679),
		d = i(678),
		g = i(677),
		f = i(676),
		y = i(675),
		m = i(674),
		_ = i(673),
		v = i(672),
		E = i(671),
		b = i(670),
		O = i(669),
		I = i(668),
		T = i(667),
		A = i(666),
		C = i(665),
		S = i(664),
		w = i(663),
		D = i(662),
		P = i(661),
		L = i(660),
		x = i(659),
		M = i(658),
		U = i(657),
		N = i(656),
		R = i(655),
		k = i(654),
		B = i(653),
		G = i(652),
		V = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				i.name = "Bonfire Spire", i.ID = "bonfire_spire", i.battleBG = "battle-bonfire-outside", i.onFaint = "bonfire_spire-B1", i.questHub = "bonfire_spire-B1", i.bgmID = 14, i.currency = 12, i.states = ["chest1", "chest2", "chest3", "chest4", "chest5", "chest6", "chestGuardian", "wizard1", "wizard2", "lever1", "lever2", "lever3", "turnip1", "turnip2", "minigametut"];
				var n = ["tileset-bonfire", "tileset-cloud", "tileset-cloud-new", "tileset-volcano", "tileset-volcano-new", "tileset-generic", "atlas-91", "tileset-town", "atlas-112", "tileset-collisions", "bgm-14"];
				return i.maps = {
					A1: new s.BonfireSpireA1(i, n),
					A4: new l.BonfireSpireA4(i, n),
					B1: new c.BonfireSpireB1(i, n),
					B2: new h.BonfireSpireB2(i, n),
					B4: new u.BonfireSpireB4(i, n),
					B5: new p.BonfireSpireB5(i, n),
					C1: new d.BonfireSpireC1(i, n),
					C2: new g.BonfireSpireC2(i, n),
					C3: new f.BonfireSpireC3(i, n),
					C4: new y.BonfireSpireC4(i, n),
					C6: new m.BonfireSpireC6(i, n),
					D1: new _.BonfireSpireD1(i, n),
					D2: new v.BonfireSpireD2(i, n),
					D3: new E.BonfireSpireD3(i, n),
					D4: new b.BonfireSpireD4(i, n),
					D5: new O.BonfireSpireD5(i, n),
					D6: new I.BonfireSpireD6(i, n),
					E5: new T.BonfireSpireE5(i, n),
					E6: new A.BonfireSpireE6(i, n)
				}, i.quests = {
					1: new C.BonfireSpireQ1(i, n),
					2: new x.BonfireSpireQ2(i, n),
					3: new M.BonfireSpireQ3(i, n),
					4: new U.BonfireSpireQ4(i, n),
					5: new N.BonfireSpireQ5(i, []),
					6: new R.BonfireSpireQ6(i, []),
					7: new k.BonfireSpireQ7(i, n),
					8: new B.BonfireSpireQ8(i, n),
					9: new G.BonfireSpireQ9(i, n),
					10: new S.BonfireSpireQ10(i, n),
					11: new w.BonfireSpireQ11(i, n),
					12: new D.BonfireSpireQ12(i, n),
					13: new P.BonfireSpireQ13(i, n),
					14: new L.BonfireSpireQ14(i, [])
				}, i
			}
			return n(e, t), e.prototype.processLeverRequirements = function(t, e, i) {
				this.enableLeverElement(!1);
				for (var n, r, s = this.getCurrentQuest(), l = 0; l < 3; l++) {
					var c = this.getState("lever" + (l + 1));
					if (o.Util.isValid(i[l]) && i[l] !== c) {
						n = l + 1, a.Logger.log("Required Lever: lever" + n, a.LogLevel.Verbose);
						break
					}
				}
				var h = "QUESTS_BONFIRE_SPIRE_PULL_LEVER";
				switch (n) {
					case 1:
						r = ["bonfire_spire-D1"], this.highlightLever(t, e, "D1", 960, 203);
						break;
					case 2:
						r = ["bonfire_spire-C2"], this.highlightLever(t, e, "C2", 320, 80);
						break;
					case 3:
						r = ["bonfire_spire-D4"], this.highlightLever(t, e, "D4", 1080, 190);
						break;
					default:
						h = s.descCacheKey, r = s.areaCache
				}
				s.area !== r && (s.area = r, s.descKey = h, o.Util.isValid(this.toggle) && this.toggle && (this.toggle = !1, a.Logger.log("Toggled", a.LogLevel.Verbose), t.process())), a.Logger.log("Quest Target Area: " + s.area, a.LogLevel.Verbose)
			}, e.prototype.enableLeverElement = function(t) {
				o.Util.isValid(this.leverGuideHand) && (this.leverGuideHand.visible = t)
			}, e.prototype.highlightLever = function(t, e, i, n, a) {
				e.getTag() === i && (this.leverGuideHand = o.Util.hilightObjectOnLayer(this.game, n, a, null, t.content), this.enableLeverElement(!0))
			}, e.prototype.isLeverLocked = function(t) {
				return !(this.getCurrentQuestID() > 14) && 1 === this.getState("lever" + (t + 1))
			}, e.prototype.toggleLever = function(t, e, i, n) {
				if (!this.isLeverLocked(e)) {
					var a = this.game.prodigy.event.create();
					a.validPath(t.user, t.path, n.x, n.y, !1), a.function(this.faceLever.bind(this, t)), a.enableInput(!1), a.function(this.bonfireSetStates.bind(this, i, e)), a.shake(0, 3e3, 10, "v"), a.enableInput(!0), a.function(t.process.bind(t)), a.start()
				}
			}, e.prototype.faceLever = function(t) {
				t.user.isFacingLeft() && t.user.flip()
			}, e.prototype.bonfireSetStates = function(t, e) {
				var i = 1 !== this.getState("lever" + (e + 1)),
					n = i ? e + 1 : e;
				this.setState("lever1", null), this.setState("lever2", null), this.setState("lever3", null);
				for (var a = 0; a < n; a++) this.setState("lever" + (a + 1), 1);
				this.toggle = !0, t.toggleDynamicLayer(this.game, 3, i), t.toggleDynamicLayer(this.game, 4, !i), i && o.Util.isValid(this.leverGuideHand) && (this.leverGuideHand.visible = !1)
			}, e.prototype.processLeverQuest = function(t, e) {
				1 === this.getState("lever" + e) && this.isOnSequence(e, 0) && (this.completeSequence(e, 0), t.process())
			}, e.prototype.processLavaLayers = function(t) {
				var e = [this.getState("lever1"), this.getState("lever2"), this.getState("lever3")];
				if (o.Util.isValid(t.leverNumber)) {
					var i = !(1 === e[t.leverNumber - 1]),
						n = this.game.prodigy.player.backpack.hasItem("key", 12) > 0;
					t.enableLayerID(0, !i), t.enableLayerID(1, i && !n), t.enableLayerID(2, i)
				}
			}, e
		}(r.Zone);
	e.BonfireSpireZone = V
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(65),
		r = i(0),
		s = function(t) {
			function e(e, i, n) {
				var a = this,
					o = "map-archives-" + n.tilemap;
				return (a = t.call(this, e, "map", "MAP_ACADEMY_ARCHIVES", 640, 280, [], i.concat([o, "spine-80", "sfx-34"])) || this).mapConfig = n, a.file = o, a.archivesZone = e, a.key = a.mapConfig.x + "-" + a.mapConfig.y, a
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				var s = this;
				t.prototype.setup.call(this, e, i, n);
				var l = this.archivesZone.collectedItems[this.key];
				r.Util.isValid(l) || (l = this.archivesZone.collectedItems[this.key] = []), i.zoneName = "archives-" + e.prodigy.player.userID;
				for (var c = 0; c < 4; c++) this.toggleDynamicLayer(this.game, c + 1, !1);
				for (var h = function(t) {
						var n = null,
							a = !1,
							o = u.mapConfig.connections[t],
							r = o.direction,
							l = {
								w: 120,
								h: 120,
								rect: !0
							},
							c = {
								x: 0,
								y: 0
							},
							h = {
								x: 0,
								y: 0
							},
							p = {
								x: 0,
								y: 0
							};
						switch (r) {
							case 0:
								l.x = 640, l.y = 160, c.x = 640, c.y = 560, h.x = 640, h.y = 220, p.x = 640, p.y = 155, n = "front-glow";
								var d = e.add.spine(p.x, p.y, "spine-80");
								d.setToSetupPose(), d.setAnimationByName(0, "front-light", !0), i.content.add(d);
								break;
							case 1:
								l.x = 1180, l.y = 400, c.x = 180, c.y = 420, h.x = 1135, h.y = 430, p.x = 1160, p.y = 395, a = !0, n = "side-2-glow";
								break;
							case 2:
								l.x = 640, l.y = 640, c.x = 640, c.y = 280, h.x = 640, h.y = 595, p.x = 640, p.y = 595, n = "bottom-glow";
								break;
							case 3:
								l.x = 100, l.y = 400, c.x = 1100, c.y = 420, h.x = 140, h.y = 430, p.x = 120, p.y = 395, n = "side-2-glow"
						}
						u.addAreaEvent(e, i, l, null, null, null, function() {
							s.archivesZone.teleportInDungeon(o.map, c.x, c.y)
						});
						var g = u.game.prodigy.create.sprite(l.x, l.y, "atlas-18", "empty", {
							x: .5,
							y: .5
						}, null, 200, 200);
						g.events.onInputUp.add(function() {
							s.walkToDoorway(h.x, h.y)
						}), g.inputEnabled = !0, u.screen.content.add(g), u.toggleDynamicLayer(u.game, r + 1, !0);
						var f = e.add.spine(p.x, p.y, "spine-80");
						f.setToSetupPose(), f.setAnimationByName(0, n, !0), f.scale.x = a ? -1 : 1, i.above.add(f)
					}, u = this, p = 0; p < this.mapConfig.connections.length; p++) h(p);
				for (var d = 0; d < this.mapConfig.components.length; d++) {
					var g = this.mapConfig.components[d];
					switch (g.type) {
						case "exit":
							if (0 === g.id) {
								this.toggleDynamicLayer(this.game, 1, !0), this.addAreaEvent(e, i, {
									x: 640,
									y: 180,
									w: 120,
									h: 120,
									canReTrigger: !0
								}, null, null, null, function() {
									var t = s.game.prodigy.player.backpack.hasItem("currency", 18);
									s.game.prodigy.open.archivesExitMenu(5, t)
								});
								var f = this.game.prodigy.create.sprite(640, 180, "atlas-18", "empty", {
									x: .5,
									y: .5
								}, null, 200, 200);
								f.events.onInputUp.add(function() {
									s.walkToDoorway(640, 220)
								}), f.inputEnabled = !0, this.screen.content.add(f)
							} else 1 === g.id && this.addAreaEvent(e, i, {
								x: 640,
								y: 400,
								w: 150,
								h: 150,
								canReTrigger: !0
							}, null, null, null, function() {
								var t = s.game.prodigy.player.backpack.hasItem("currency", 18);
								t < 5 ? s.game.prodigy.open.archivesExitMenu(5, t) : s.game.prodigy.open.archivesRoulette(3)
							});
							break;
						case "monster":
							l.indexOf("monster") < 0 && (this.monsterConfig = g);
							break;
						case "currency":
							18 === g.id ? l.indexOf("goldenPage") < 0 && (this.goldenPageConfig = g) : 19 === g.id && (this.pageConfig = g, this.pageConfig.collected = o(l, function(t) {
								return t.indexOf("page") >= 0
							}))
					}
				}
				if (r.Util.isValid(this.mapConfig.initFsm)) {
					var y = e.prodigy.gameContainer.get(a.GameIdentifiers.IFSMController),
						m = e.prodigy.gameContainer.get(a.GameIdentifiers.FSMService);
					y.execute(m.getStateMachine(this.mapConfig.initFsm), {
						game: this.game,
						map: this,
						monsterConfig: this.monsterConfig,
						goldenPageConfig: this.goldenPageConfig,
						pageConfig: this.pageConfig
					}, null)
				}
			}, e.prototype.walkToDoorway = function(t, e) {
				var i = this;
				this.screen.path.findPath(this.screen.user.x, this.screen.user.y, t, e, function(t) {
					r.Util.isValid(t) && i.screen.user.setPath(t, null)
				})
			}, e.prototype.addCollected = function(t) {
				this.archivesZone.addCollected(this.key, t)
			}, e
		}(i(10).Map);
	e.ArchivesMap = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || Object.assign || function(t) {
			for (var e, i = 1, n = arguments.length; i < n; i++)
				for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
			return t
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(11),
		r = i(6),
		s = i(188),
		l = i(186),
		c = i(0),
		h = i(32),
		u = i(686),
		p = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				return i.name = "The Academy Archives", i.ID = "archives", i.battleBG = "battle-archives", i.onFaint = "academy-GH3", i.questHub = "academy-GH3", i.bgmID = 19, i.currency = 1, i.states = ["daily"], i.monsters = [], i
			}
			return n(e, t), e.prototype.teleport = function(t, e, i, n, a) {
				var o = ["tileset-archives", "tileset-collisions", "bgm-" + this.bgmID, "sfx-19", "singleImage-122"];
				if (c.Util.isValid(this.mapConfig)) {
					var r = new u.ArchivesMap(this, o, this.mapConfig);
					this.map = r;
					var s = null;
					c.Util.isValid(this.game.prodigy.world.currentZone) && (s = this.game.prodigy.world.currentZone, this.game.prodigy.world.previousZone = this.game.prodigy.world.currentZone), this.game.prodigy.world.currentZone = this.ID + "-" + t, this.game.state.states.TileScreen.initMap(r, this, e, i);
					var l = a || {};
					l.assets = l.assets || [], l.assets = l.assets.concat(["map-pathing"]).concat(r.assets), l.assets = l.assets.concat(this.game.prodigy.skin.getAssets(r.zoneName));
					var h = this.getCurrentQuest();
					c.Util.isValid(h) && (l.assets = l.assets.concat(h.assets)), l.title = c.Util.isValid(l.title) ? l.title : r.getName(), l.x = e, l.y = i, l.fadeIn = !0, l.fadeOut = !0, l.time = 200, this.game.prodigy.start("TileScreen", l), c.Util.isValid(s) && s === this.game.prodigy.world.getCurrentMap() || this.game.prodigy.network.sendZoneEvent("map-enter")
				} else this.enterDungeon()
			}, e.prototype.teleportInDungeon = function(t, e, i) {
				void 0 === e && (e = 640), void 0 === i && (i = 280), c.Util.isValid(this.collectedItems) || (this.collectedItems = {}), this.mapConfig = t, this.teleport("" + this.mapConfig.tilemap, e, i, null, null)
			}, e.prototype.enterDungeon = function(t) {
				this.generatorConfig = a({}, i(151));
				var e = "archives-run";
				if (c.Util.isValid(o(this.game.prodigy.player.data, "lastArchiveRun", null)) || (e = "first-archives-run", this.generatorConfig = i(243)), this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.FeatureFlagProvider).isRecordingFeature("archives-run")) {
					var n = this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.SessionRecorder);
					n.isRecording() && n.stopRecording(), n.startRecording(e)
				}
				c.Util.isValid(t) ? this.generatorConfig.seed = t : this.generatorConfig.seed = Date.now(), this.resetCooldown();
				var h = new s.DungeonGenerator(this.generatorConfig, new l.ProdigyRandomDataGenerator([0]));
				this.dungeonLayout = h.createLayout(), this.collectedItems = null, this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("Academy-Archives", "Archives-Run-Start", void 0, void 0, this.generatorConfig.seed).broadcast();
				var u = this.game.prodigy.player.backpack.hasItem("currency", 18);
				this.game.prodigy.player.backpack.consume("currency", 18, u), this.teleportInDungeon(this.dungeonLayout.start, 640, 280)
			}, e.prototype.exitDungeon = function(t) {
				void 0 === t && (t = null), this.consumeGoldenPages(t), this.game.prodigy.world.teleport("academy-GH3", 855, 480)
			}, e.prototype.consumeGoldenPages = function(t) {
				void 0 === t && (t = null);
				var e = this.game.prodigy.player.backpack.hasItem("currency", 18);
				if (this.game.prodigy.player.backpack.consume("currency", 18, e), c.Util.isValid(this.generatorConfig)) {
					var i = {
						startTime: this.generatorConfig.seed,
						goldenPagesCollected: e,
						prizeEarned: null !== t ? t.type + "-" + t.ID : null
					};
					this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("Academy-Archives", "Archives-Run-Complete", void 0, void 0, void 0, void 0, void 0, void 0, i).broadcast()
				}
			}, e.prototype.resetCooldown = function() {
				this.game.prodigy.player.data.lastArchiveRun = Date.now(), this.game.prodigy.player.updated = !0
			}, e.prototype.getBattle = function(t, e, i, n, a) {
				var o = {
					intro: e,
					catch: !1,
					run: !1,
					screen: t.zone.battleBG,
					drops: [{
						ID: 19,
						type: "currency",
						quantity: 5
					}]
				};
				return this.game.prodigy.battle.start.bind(this.game.prodigy.battle, o, null, n, a, this.onFaint)
			}, e.prototype.goToEnd = function() {
				for (var t = s.DungeonGenerator.getAllRooms(this.dungeonLayout), e = 0; e < t.length; e++)
					if ("end" === t[e].tilemap) {
						this.teleportInDungeon(t[e]);
						break
					}
			}, e.prototype.addCollected = function(t, e) {
				c.Util.isValid(this.collectedItems[t]) || (this.collectedItems[t] = []), this.collectedItems[t].push(e)
			}, e.prototype.defeatMonster = function(e, i, n) {
				t.prototype.defeatMonster.call(this, e, i, n), this.map.addCollected("monster")
			}, e
		}(h.Zone);
	e.ArchivesZone = p
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "C2", "MAP_ACTIVITY_RIVER_BRIDGE", 100, 480, ["activity_zone-C1", "activity_zone-B2"], i) || this;
				return n.mapId = 5, n.monsterCoords = [{
					x: 440,
					y: 160
				}, {
					x: 760,
					y: 160
				}, {
					x: 660,
					y: 500
				}], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1060,
					y: 40,
					w: 120,
					h: 80,
					rect: !0
				}, "activity_zone-C1", 1040, 620, null, a.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
					x: 40,
					y: 480,
					w: 80,
					h: 160,
					rect: !0
				}, "activity_zone-B2", 1180, 480, null, a.EAreaEventAngle.LEFT, !1), null
			}, e
		}(i(68).ActivityZoneMap);
	e.ActivityZoneC2 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "C1", "MAP_ACTIVITY_NORTHEAST", 520, 500, ["activity_zone-B1", "activity_zone-C2"], i) || this;
				return n.mapId = 4, n.monsterCoords = [{
					x: 440,
					y: 160
				}, {
					x: 840,
					y: 280
				}, {
					x: 300,
					y: 420
				}], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 40,
					y: 140,
					w: 80,
					h: 200,
					rect: !0
				}, "activity_zone-B1", 1180, 220, null, a.EAreaEventAngle.LEFT, !1), this.addAreaEvent(e, i, {
					x: 40,
					y: 620,
					w: 80,
					h: 120,
					rect: !0
				}, "activity_zone-B2", 1160, 100, null, a.EAreaEventAngle.LEFT, !1), this.addAreaEvent(e, i, {
					x: 40,
					y: 360,
					w: 80,
					h: 160,
					rect: !0
				}, "activity_zone-B1", 1180, 420, null, a.EAreaEventAngle.LEFT, !1), this.addAreaEvent(e, i, {
					x: 1080,
					y: 680,
					w: 240,
					h: 80,
					rect: !0
				}, "activity_zone-C2", 1060, 100, null, a.EAreaEventAngle.DOWN, !1), this.addChest(e, i, "chest1", 230, 600, [{
					type: "item",
					ID: 96
				}, {
					type: "item",
					ID: 97
				}, {
					type: "item",
					ID: 106
				}]), null
			}, e
		}(i(68).ActivityZoneMap);
	e.ActivityZoneC1 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(19),
		o = i(33),
		r = function(t) {
			function e(e, i, n, a, r) {
				var s = this,
					l = new o.NPC(e);
				return l.init({
					name: "NPC_NAME_SWOOPY"
				}), (s = t.call(this, e, i, l, null, n, a) || this).nameText.GameObject.position.set(25, -100), s.tweens = [], s.content = i, s.coords = {
					x: n,
					y: a
				}, s.onClick = r, s.setup(), s
			}
			return n(e, t), e.prototype.setup = function() {
				var t = "atlas-139";
				this.sprite = this.game.prodigy.create.element(this.content, this.coords.x, this.coords.y);
				for (var e = this.sprite.add(this.game.prodigy.create.sprite(0, -43, t, "backpack-0")), i = this.sprite.add(this.game.prodigy.create.sprite(36, -33, t, "l-arm-0")), n = this.sprite.add(this.game.prodigy.create.sprite(0, -33, t, "r-arm-0")), o = this.sprite.add(this.game.prodigy.create.sprite(11, -80, t, "puff-0")), r = this.sprite.add(this.game.prodigy.create.sprite(2, -50, t, "body-0")), s = 0; s < this.sprite.children.length; s++) this.sprite.children[s].inputEnabled = !0, this.sprite.children[s].events.onInputDown.add(this.onClick);
				this.standTween1 = [], this.standTween1.push(new a.TweenController(r)), this.standTween1[0].set("y", [r.y, r.y + 1, r.y + 1, r.y], 150, 9999), this.standTween1.push(new a.TweenController(o)), this.standTween1[1].set("y", [o.y, o.y, o.y + 1, o.y + 1], 150, 9999), this.standTween1.push(new a.TweenController(n)), this.standTween1[2].set("y", [n.y, n.y + 1, n.y + 1, n.y], 150, 9999), this.standTween1.push(new a.TweenController(i)), this.standTween1[3].set("y", [i.y, i.y + 1, i.y + 1, i.y], 150, 9999), this.standTween1.push(new a.TweenController(e)), this.standTween1[4].set("y", [e.y, e.y + 1, e.y + 1, e.y], 150, 9999), this.standTween1[4].end(this.updateIdleCounter.bind(this)), this.standTween2 = [], this.standTween2.push(new a.TweenController(r)), this.standTween2[0].set("frameName", ["body-0", "body-0", "body-1", "body-1", "body-0", "body-0", "body-0", "body-0", "body-0", "body-2", "body-2", "body-0", "body-0"], 150, 9999), this.standTween2.push(new a.TweenController(r)), this.standTween2[1].set("y", [r.y, r.y, r.y + 1, r.y + 1, r.y, r.y, r.y, r.y, r.y, r.y + 1, r.y + 1, r.y, r.y], 150, 9999), this.standTween2.push(new a.TweenController(o)), this.standTween2[2].set("y", [o.y, o.y, o.y, o.y + 1, o.y + 1, o.y, o.y, o.y - 1, o.y - 1, o.y, o.y, o.y + 1, o.y + 1], 150, 9999), this.standTween2.push(new a.TweenController(n)), this.standTween2[3].set("y", [n.y, n.y, n.y + 1, n.y + 2, n.y + 1, n.y - 1, n.y - 1, n.y, n.y, n.y, n.y, n.y, n.y], 150, 9999), this.standTween2.push(new a.TweenController(i)), this.standTween2[4].set("frameName", ["l-arm-0", "l-arm-0", "l-arm-1", "l-arm-2", "l-arm-2", "l-arm-2", "l-arm-2", "l-arm-2", "l-arm-2", "l-arm-2", "l-arm-2", "l-arm-0", "l-arm-0"], 150, 9999), this.standTween2.push(new a.TweenController(i)), this.standTween2[5].set("y", [i.y, i.y, i.y + 1, i.y + 1, i.y, i.y - 2, i.y - 2, i.y - 1, i.y - 1, i.y, i.y, i.y, i.y], 150, 9999), this.standTween2.push(new a.TweenController(e)), this.standTween2[6].set("y", [e.y, e.y, e.y + 1, e.y + 1, e.y + 1, e.y, e.y - 1, e.y - 1, e.y + 1, e.y + 1, e.y, e.y], 150, 9999), this.standTween2[6].end(this.resetToDefaultIdle.bind(this)), this.tweens = this.standTween1, this.showName(), this.stand()
			}, e.prototype.update = function() {
				t.prototype.update.call(this);
				for (var e = 0; e < this.tweens.length; e++) this.tweens[e].update()
			}, e.prototype.walk = function() {
				this.stand()
			}, e.prototype.stand = function() {
				for (var t = 0; t < this.tweens.length; t++) this.tweens[t].start()
			}, e.prototype.updateIdleCounter = function() {
				this.idleCounter++, this.idleCounter > 3 * Math.random() + 3 && (this.tweens = this.standTween2, this.stand(), this.idleCounter = 0)
			}, e.prototype.resetToDefaultIdle = function() {
				this.tweens = this.standTween1, this.stand()
			}, e
		}(i(17).CreatureContainer);
	e.Swoopy = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(690),
		o = i(3),
		r = i(0),
		s = function(t) {
			function e(e, i) {
				return t.call(this, e, "B3", "MAP_ACTIVITY_CENTRAL_VILLAGE", 640, 360, ["activity_zone-B2"], i.concat("atlas-76")) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 200,
					y: 40,
					w: 160,
					h: 80,
					rect: !0
				}, "activity_zone-B2", 200, 620, null, o.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
					x: 1080,
					y: 40,
					w: 160,
					h: 80,
					rect: !0
				}, "activity_zone-B2", 1080, 620, null, o.EAreaEventAngle.UP, !1), new a.Swoopy(e, i.content, 585, 300, this.zone.onNpcClicked.bind(this.zone, i)), r.Util.isValid(this.zone.getState("firstVisit")) && !0 !== this.zone.getState("firstVisit") || this.zone.setState("firstVisit", !1), null
			}, e
		}(i(68).ActivityZoneMap);
	e.ActivityZoneB3 = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B2", "MAP_ACTIVITY_ISLAND_CENTER", 640, 360, ["activity_zone-B1", "activity_zone-A2", "activity_zone-C2", "activity_zone-B3"], i) || this;
				return n.mapId = 3, n.monsterCoords = [{
					x: 240,
					y: 340
				}, {
					x: 1e3,
					y: 340
				}], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 40,
					y: 500,
					w: 80,
					h: 280,
					rect: !0
				}, "activity_zone-A2", 1180, 480, null, a.EAreaEventAngle.LEFT, !1), this.addAreaEvent(e, i, {
					x: 1240,
					y: 480,
					w: 80,
					h: 200,
					rect: !0
				}, "activity_zone-C2", 100, 480, null, a.EAreaEventAngle.RIGHT, !1), this.addAreaEvent(e, i, {
					x: 200,
					y: 40,
					w: 160,
					h: 80,
					rect: !0
				}, "activity_zone-B1", 220, 620, null, a.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
					x: 1160,
					y: 40,
					w: 160,
					h: 80,
					rect: !0
				}, "activity_zone-C1", 100, 620, null, a.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
					x: 200,
					y: 680,
					w: 160,
					h: 80,
					rect: !0
				}, "activity_zone-B3", 200, 100, null, a.EAreaEventAngle.DOWN, !1), this.addAreaEvent(e, i, {
					x: 1080,
					y: 680,
					w: 160,
					h: 80,
					rect: !0
				}, "activity_zone-B3", 1080, 100, null, a.EAreaEventAngle.DOWN, !1), null
			}, e
		}(i(68).ActivityZoneMap);
	e.ActivityZoneB2 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B1", "MAP_ACTIVITY_SWING_BRIDGE", 320, 480, ["activity_zone-A1", "activity_zone-C1", "activity_zone-B2"], i) || this;
				return n.mapId = 2, n.monsterCoords = [{
					x: 640,
					y: 570
				}], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 40,
					y: 220,
					w: 80,
					h: 120,
					rect: !0
				}, "activity_zone-A1", 1180, 220, null, a.EAreaEventAngle.LEFT, !1), this.addAreaEvent(e, i, {
					x: 1240,
					y: 200,
					w: 80,
					h: 120,
					rect: !0
				}, "activity_zone-C1", 100, 160, null, a.EAreaEventAngle.RIGHT, !1), this.addAreaEvent(e, i, {
					x: 220,
					y: 680,
					w: 120,
					h: 80,
					rect: !0
				}, "activity_zone-B2", 200, 100, null, a.EAreaEventAngle.DOWN, !1), this.addAreaEvent(e, i, {
					x: 1180,
					y: 700,
					w: 120,
					h: 40,
					rect: !0
				}, "activity_zone-B2", 1160, 100, null, a.EAreaEventAngle.DOWN, !1), this.addAreaEvent(e, i, {
					x: 1260,
					y: 620,
					w: 40,
					h: 120,
					rect: !0
				}, "activity_zone-C1", 100, 620, null, a.EAreaEventAngle.RIGHT, !1), this.addAreaEvent(e, i, {
					x: 1240,
					y: 380,
					w: 80,
					h: 120,
					rect: !0
				}, "activity_zone-C1", 100, 360, null, a.EAreaEventAngle.RIGHT, !1), this.addAreaEvent(e, i, {
					x: 40,
					y: 420,
					w: 80,
					h: 120,
					rect: !0
				}, "activity_zone-A1", 1180, 440, null, a.EAreaEventAngle.RIGHT, !1), null
			}, e
		}(i(68).ActivityZoneMap);
	e.ActivityZoneB1 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "A2", "MAP_ACTIVITY_WESTERN_SHORE", 1180, 480, ["activity_zone-B2", "activity_zone-A1"], i) || this;
				return n.mapId = 1, n.monsterCoords = [{
					x: 480,
					y: 240
				}, {
					x: 800,
					y: 440
				}], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 280,
					y: 40,
					w: 120,
					h: 80,
					rect: !0
				}, "activity_zone-A1", 260, 620, null, a.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
					x: 1100,
					y: 40,
					w: 120,
					h: 80,
					rect: !0
				}, "activity_zone-A1", 1140, 620, null, a.EAreaEventAngle.UP, !1), this.addAreaEvent(e, i, {
					x: 1240,
					y: 480,
					w: 80,
					h: 120,
					rect: !0
				}, "activity_zone-B2", 100, 500, null, a.EAreaEventAngle.RIGHT, !1), null
			}, e
		}(i(68).ActivityZoneMap);
	e.ActivityZoneA2 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(3),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "A1", "MAP_ACTIVITY_NORTHWEST", 260, 620, ["activity_zone-B1", "activity_zone-A2"], i) || this;
				return n.mapId = 0, n.monsterCoords = [{
					x: 260,
					y: 250
				}, {
					x: 680,
					y: 320
				}, {
					x: 760,
					y: 560
				}], n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				return t.prototype.setup.call(this, e, i, n), this.addAreaEvent(e, i, {
					x: 1240,
					y: 220,
					w: 80,
					h: 120,
					rect: !0
				}, "activity_zone-B1", 100, 240, null, a.EAreaEventAngle.RIGHT, !1), this.addAreaEvent(e, i, {
					x: 1240,
					y: 420,
					w: 80,
					h: 120,
					rect: !0
				}, "activity_zone-B1", 100, 420, null, a.EAreaEventAngle.RIGHT, !1), this.addAreaEvent(e, i, {
					x: 260,
					y: 680,
					w: 120,
					h: 80,
					rect: !0
				}, "activity_zone-A2", 300, 100, null, a.EAreaEventAngle.DOWN, !1), this.addAreaEvent(e, i, {
					x: 1140,
					y: 680,
					w: 120,
					h: 80,
					rect: !0
				}, "activity_zone-A2", 1060, 100, null, a.EAreaEventAngle.UP, !1), null
			}, e
		}(i(68).ActivityZoneMap);
	e.ActivityZoneA1 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(117),
		r = i(152),
		s = i(36),
		l = i(153),
		c = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "GH1", i.concat(["atlas-81", "atlas-83", "atlas-82", "atlas-116", "bgm-11", "bgm-12", "spine-68", "spine-69", "spine-71", "spine-73"]), "map-academy-GH1") || this;
				return n.noot = null, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), i.user.position.x = 320, i.user.position.y = 520, this.noot = i.addNPC(430, 520, "atlas-81"), this.noot.float(!0), this.noot.walkSpeed = 2, this.master = new r.PuppetMaster(e, i.content, 640, 480), this.pippet = new o.Pippet(e, i.content, 815, 490, i.user, i.path, null, !1), this.pippet.flip(), this.master.alpha = this.pippet.alpha = 1, l.AcademyGH1.addEffects(e, i)
			}, e.prototype.start = function(e, i) {
				t.prototype.start.call(this, e, i, 12);
				var n = this.game.prodigy.gameContainer.get(a.GameIdentifiers.IFSMController),
					o = this.game.prodigy.gameContainer.get(a.GameIdentifiers.FSMService);
				n.execute(o.getStateMachine(77), {
					game: this.game,
					screen: this.screen,
					scene: this,
					player: this.screen.user,
					noot: this.noot,
					path: this.screen.path,
					puppetmaster: this.master,
					pippet: this.pippet,
					pathfinder: this.screen.path
				}, null)
			}, e
		}(s.Scene);
	e.GreatHallPt4 = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = i(117),
		s = i(152),
		l = i(36),
		c = i(153),
		h = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "GH1", i.concat(["atlas-81", "atlas-83", "atlas-82", "atlas-116", "bgm-11", "bgm-12", "spine-68", "spine-69", "spine-71", "spine-73"]), "map-academy-GH1") || this;
				return n.noot = null, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), i.user.position.x = 640, i.user.position.y = 850, this.master = new s.PuppetMaster(e, i.content, 640, 0), this.pippet = new r.Pippet(e, i.content, 640, 0, i.user, i.path, null, !1), this.pippet.flip(), this.master.alpha = this.pippet.alpha = 1, c.AcademyGH1.addEffects(e, i)
			}, e.prototype.start = function(e, i) {
				t.prototype.start.call(this, e, i, 12), this.noot = i.addNPC(640, 800, "atlas-81"), this.noot.float(!0), this.noot.walkSpeed = 2;
				var n = e.prodigy.gameContainer.get(a.GameIdentifiers.IFSMController),
					o = e.prodigy.gameContainer.get(a.GameIdentifiers.FSMService);
				n.execute(o.getStateMachine(55), {
					game: e,
					screen: i,
					scene: this,
					player: i.user,
					noot: this.noot,
					path: i.path,
					puppetmaster: this.master,
					pippet: this.pippet,
					pathfinder: i.path
				}, null)
			}, e.prototype.battle = function(t) {
				var e = this,
					i = {
						intro: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("COMBAT_MINION_BATTLE"),
						screen: "battle-academy-gh-stairs",
						encounter: [{
							ID: 69
						}],
						drops: [{
							type: "gold",
							N: 50
						}],
						dropsDisabled: !0,
						epicAttacksDisabled: !0,
						switchDisabled: !0,
						difficulty: 3,
						minTeamSize: 2,
						maxTeamSize: 2,
						playerImmortal: !0,
						catch: !1,
						bench: [{
							petID: 122,
							weight: 1
						}]
					};
				this.game.prodigy.player.setEnergy(1), t.prodigy.battle.start(i, function() {
					e.endBattle()
				}, function() {
					e.endBattle()
				}, function() {
					e.endBattle()
				}, "academy-GH1")
			}, e.prototype.endBattle = function() {
				this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("tutorial_2", "academy_minion_battle").broadcast(), this.game.prodigy.world.teleport("academy-GH1"), this.zone.completeSequence(1, 0)
			}, e
		}(l.Scene);
	e.GreatHallPt3 = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(36),
		r = i(247),
		s = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "GH2", i.concat(["atlas-81", "atlas-83", "atlas-82", "atlas-116", "bgm-11", "bgm-12", "spine-67", "spine-69", "spine-72", "spine-73", "spine-74", "sfx-38", "sfx-36"]), "map-academy-GH2") || this;
				return n.noot = null, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), i.user.position.x = 640, i.user.position.y = 850, this.keystonesSpine = this.game.add.spine(640, 403, "spine-65"), this.keystonesSpine.setToSetupPose(), this.screen.content.add(this.keystonesSpine), this.debris = this.game.add.spine(640, 480, "spine-67"), this.debris.setToSetupPose(), this.screen.foreground.add(this.debris), r.AcademyGH2.addEffects(e, i)
			}, e.prototype.start = function(e, i) {
				t.prototype.start.call(this, e, i, 12), this.noot = i.addNPC(640, 800, "atlas-81"), this.noot.float(!0), this.noot.walkSpeed = 2;
				var n = e.prodigy.gameContainer.get(a.GameIdentifiers.IFSMController),
					o = e.prodigy.gameContainer.get(a.GameIdentifiers.FSMService);
				n.execute(o.getStateMachine(54), {
					game: e,
					screen: i,
					scene: this,
					player: i.user,
					noot: this.noot,
					keystones: this.keystonesSpine,
					debris: this.debris
				}, null)
			}, e
		}(o.Scene);
	e.GreatHallPt2 = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "GH3", i.concat(["atlas-81", "atlas-83", "atlas-82", "atlas-116", "bgm-11", "bgm-12", "spine-67", "spine-69", "spine-72", "sfx-37"]), "map-academy-GH3") || this;
				return n.noot = null, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), i.user.position.x = 640, i.user.position.y = 850, this.debris = this.game.add.spine(640, 480, "spine-67"), this.debris.setToSetupPose(), this.screen.foreground.add(this.debris)
			}, e.prototype.start = function(e, i) {
				t.prototype.start.call(this, e, i, 20), this.noot = i.addNPC(640, 760, "atlas-81"), this.noot.float(!0), this.noot.walkSpeed = 2;
				var n = e.prodigy.gameContainer.get(a.GameIdentifiers.IFSMController),
					o = e.prodigy.gameContainer.get(a.GameIdentifiers.FSMService);
				n.execute(o.getStateMachine(53), {
					game: e,
					screen: i,
					scene: this,
					player: i.user,
					noot: this.noot,
					path: i.path,
					pathfinder: i.path,
					debris: this.debris
				}, null)
			}, e
		}(i(36).Scene);
	e.GreatHallPt1 = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(246),
		r = i(245),
		s = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "GH3", i.concat(["atlas-81", "atlas-83", "atlas-82", "atlas-116", "bgm-11", "bgm-12", "spine-81", "spine-83", "spine-84", "spine-75", "sfx-34", "sfx-35"]), "map-academy-GH3") || this;
				return n.noot = null, n.gale = null, n.portal = null, n.trapDoor = null, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), i.user.scale.set(0, 0), i.user.position.x = 370, i.user.position.y = 350, this.gale = new r.Gale(e, i, 915, 235), this.gale.walkSpeed = 2, new o.AcademyMerchant(e, i, 350, 180), this.portal = e.add.spine(370, 300, "spine-81"), this.portal.setToSetupPose(), i.content.add(this.portal), this.trapDoor = e.add.spine(949, 450, "spine-75"), this.trapDoor.setAnimationByName(0, "animation", !0), this.trapDoor.scale.x = -1, i.content.add(this.trapDoor)
			}, e.prototype.start = function(e, i) {
				t.prototype.start.call(this, e, i), this.noot = i.addNPC(370, 350, "atlas-81"), this.noot.scale.set(0, 0), this.noot.float(!0), this.noot.walkSpeed = 2;
				var n = e.prodigy.gameContainer.get(a.GameIdentifiers.IFSMController),
					o = e.prodigy.gameContainer.get(a.GameIdentifiers.FSMService);
				n.execute(o.getStateMachine(76), {
					game: e,
					screen: i,
					scene: this,
					player: i.user,
					noot: this.noot,
					gale: this.gale,
					path: i.path,
					pathfinder: i.path,
					portal: this.portal
				}, null)
			}, e.prototype.resizeContainer = function(t, e) {
				this.game.prodigy.effects.resizeContainer(t, e)
			}, e
		}(i(36).Scene);
	e.AcademyIntroPt2 = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(117),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, "B0", i.concat(["tileset-generic-new", "tileset-town-new", "tileset-forest-new", "spine-81", "bgm-9", "bgm-12", "sfx-34", "sfx-35"]), "map-lamplight-B0") || this;
				return n.noot = null, n.pippet = null, n.portal = null, n
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				t.prototype.setup.call(this, e, i, n), i.user.position.x = 120, i.user.position.y = 880, this.portal = e.add.spine(870, 425, "spine-81"), this.portal.setToSetupPose(), i.content.add(this.portal)
			}, e.prototype.start = function(e, i) {
				t.prototype.start.call(this, e, i), this.noot = i.addNPC(150, 850, "atlas-81"), this.noot.float(!0), this.noot.walkSpeed = 2, this.pippet = new o.Pippet(e, i.content, 120, 880, i.user, i.path, null, !1);
				var n = e.prodigy.gameContainer.get(a.GameIdentifiers.IFSMController),
					r = e.prodigy.gameContainer.get(a.GameIdentifiers.FSMService);
				n.execute(r.getStateMachine(67), {
					game: e,
					screen: i,
					scene: this,
					player: i.user,
					noot: this.noot,
					pippet: this.pippet,
					path: i.path,
					pathfinder: i.path,
					portal: this.portal
				}, null)
			}, e.prototype.resizeContainer = function(t, e) {
				this.game.prodigy.effects.resizeContainer(t, e)
			}, e.prototype.removePippet = function() {
				this.pippet.destroy()
			}, e.prototype.playNextScene = function() {
				this.game.prodigy.world.playScene("academy-introPt2")
			}, e
		}(i(36).Scene);
	e.AcademyIntroPt1 = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 1, "", {
				type: "seq",
				N: 1
			}, ["academy-GH1"], [], [], [], [], !1) || this
		}
		return n(e, t), e.prototype.setup = function(e, i, n) {
			return t.prototype.setup.call(this, e, i, n), "GH3" === n.getTag() ? e.prodigy.world.playScene("academy-greatHallPt1") : "GH2" === n.getTag() ? e.prodigy.world.playScene("academy-greatHallPt2") : "GH1" === n.getTag() && (this.zone.isOnSequence(1, 0) ? e.prodigy.world.playScene("academy-greatHallPt3") : e.prodigy.world.playScene("academy-greatHallPt4")), {
				quit: !0
			}
		}, e
	}(i(8).Quest);
	e.AcademyTutorial = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(11),
		o = i(246),
		r = i(245),
		s = i(0),
		l = function(t) {
			function e(e, i) {
				return t.call(this, e, "GH3", "MAP_ACADEMY_GREATHALL", 640, 500, ["academy-GH2"], i.concat(["spine-69", "spine-75", "spine-83", "spine-84"])) || this
			}
			return n(e, t), e.prototype.setup = function(e, i, n) {
				var l = this;
				t.prototype.setup.call(this, e, i, n);
				var c = this.game.prodigy.player.data;
				this.addAreaEvent(e, i, {
					x: 640,
					y: 40,
					w: 1110,
					h: 80,
					rect: !0
				}, "academy-GH2", 640, 570), this.addAreaEvent(e, i, {
					x: 640,
					y: 600,
					w: 500,
					h: 180,
					canReTrigger: !0
				}, null, null, null, function() {
					l.game.prodigy.open.map(!1, l.game.prodigy.classModeController.getInClassDisabledZones())
				}), this.addAreaEvent(e, i, {
					x: 900,
					y: 465,
					w: 150,
					h: 120,
					rect: !0,
					canReTrigger: !0
				}, null, null, null, function() {
					var t = a(c, "lastArchiveRun", 0);
					l.game.prodigy.open.archivesEntranceMenu(36e5, t)
				});
				var h = this.game.prodigy.create.sprite(900, 465, "atlas-18", "empty", {
					x: .5,
					y: .5
				}, null, 150, 120);
				h.events.onInputUp.add(function() {
					l.screen.path.findPath(l.screen.user.x, l.screen.user.y, h.x - 40, h.y + 20, function(t) {
						s.Util.isValid(t) && l.screen.user.setPath(t, null)
					})
				}), h.inputEnabled = !0, this.screen.content.add(h), new r.Gale(e, i, 915, 180), new o.AcademyMerchant(e, i, 350, 180);
				var u = e.add.spine(949, 450, "spine-75");
				(u.setAnimationByName(0, "animation", !0), u.scale.x = -1, s.Util.isValid(c.lastArchiveRun) && 0 !== c.lastArchiveRun) || e.prodigy.create.element(i.foreground, 880, 410).highlight(!0);
				i.content.add(u)
			}, e
		}(i(10).Map);
	e.AcademyGH3 = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(14),
		o = i(0),
		r = i(32),
		s = i(153),
		l = i(247),
		c = i(703),
		h = i(702),
		u = i(701),
		p = i(700),
		d = i(699),
		g = i(698),
		f = i(697),
		y = i(696),
		m = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				i.name = "The Academy", i.ID = "academy", i.battleBG = "battle-academy-gh-stairs", i.onFaint = "academy-GH3", i.questHub = "academy-GH3", i.bgmID = 20, i.currency = 13, i.states = ["daily"], i.monsters = [];
				var n = ["tileset-academy", "tileset-collisions", "bgm-" + i.bgmID];
				return i.maps = {
					GH1: new s.AcademyGH1(i, n),
					GH2: new l.AcademyGH2(i, n),
					GH3: new c.AcademyGH3(i, n)
				}, i.quests = {
					1: new h.AcademyTutorial(i, n)
				}, i.scenes = {
					greatHallPt1: new d.GreatHallPt1(i, n),
					greatHallPt2: new g.GreatHallPt2(i, n),
					greatHallPt3: new f.GreatHallPt3(i, n),
					greatHallPt4: new y.GreatHallPt4(i, n),
					introPt1: new u.AcademyIntroPt1(i, n),
					introPt2: new p.AcademyIntroPt2(i, n)
				}, i
			}
			return n(e, t), e.prototype.placeDaily = function(t, e, i) {}, e.prototype.init = function(e, i, n) {
				t.prototype.init.call(this, e, i, n), !o.Util.isValid(this.getCurrentQuest()) && e.prodigy.player.backpack.hasItem("key", 22) <= 0 && !this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(a.Breadcrumbs.BREADCRUMB_UNLOCK_ACADEMY, a.Breadcrumbs.BREADCRUMB_UNLOCK_ACADEMY_NOOT_DIALOGUE) ? (this.bgmID = 12, this.startQuest(1)) : this.bgmID = 20
			}, e.prototype.teleport = function(e, i, n, a, o) {
				this.game.prodigy.player.hasCompletedTutorial() && this.game.prodigy.player.backpack.hasItem("key", 22) <= 0 ? this.game.prodigy.world.teleport("lamplight-B0") : t.prototype.teleport.call(this, e, i, n, a, o)
			}, e
		}(r.Zone);
	e.AcademyZone = m
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(11),
		a = i(122),
		o = i(0),
		r = i(704),
		s = i(244),
		l = i(687),
		c = i(685),
		h = i(242),
		u = i(167),
		p = i(606),
		d = i(582),
		g = i(569),
		f = i(548),
		y = i(507),
		m = i(474),
		_ = i(443),
		v = function() {
			function t(t) {
				this.game = t, this.zones = {
					forest: new p.ForestZone(t),
					shiverchill: new y.ShiverchillZone(t),
					skywatch: new m.SkywatchZone(t),
					lamplight: new g.LamplightZone(t),
					dyno: new u.DynoZone(t),
					bonfire_spire: new c.BonfireSpireZone(t),
					house: new d.HouseZone(t),
					toyzone: new _.ToyZone(t),
					shipwreck_shore: new f.ShipwreckShoreZone(t),
					activity_zone: new s.ActivityZone(t),
					darktower: new h.DarktowerZone(t),
					academy: new r.AcademyZone(t),
					archives: new l.ArchivesZone(t)
				}, this.pippetEncounterDaily = null, this.pippetEncounterSpawn = null
			}
			return t.prototype.enter = function() {
				this.pippetEncounterDaily = new a.PippetEncounter(this.game, this.game.prodigy.player), !this.pippetEncounterDaily.isInitialized() || this.pippetEncounterDaily.hasDateIdChanged() ? (this.pippetEncounterDaily.init(), this.pippetEncounterSpawn = this.pippetEncounterDaily.getSpawn()) : this.pippetEncounterDaily.isComplete() || (this.pippetEncounterSpawn = this.pippetEncounterDaily.getSpawn());
				var t = this.zones.house.getQuestState(),
					e = this.zones.academy.getQuestState();
				if (!o.Util.isDefined(t) || 1 === n(t, "ID", 0) && n(t, "seq", 0) < 2) this.game.prodigy.player.resetAccount(), this.zones.house.startQuest(1), this.teleport("house");
				else if (o.Util.isDefined(t) && 1 === n(t, "ID", 0) && n(t, "seq", 0) > 4) o.Util.isValid(this.game.prodigy.player.state.data.zone.academy) && (this.game.prodigy.player.state.data.zone.academy.quest = null), this.teleport("academy-GH3");
				else if (!this.game.prodigy.player.hasCompletedTutorial() && "academy-GH1" === n(this.game.prodigy.player.data, "zone", "") && e.ID >= 2) this.teleport("house-exterior");
				else {
					var i = n(this.game.prodigy.player.data, "zone", "");
					if (i = this.game.prodigy.skin.checkForExclusiveMap(i), this.game.prodigy.player.hasCompletedTutorial() && this.game.prodigy.classModeController.isClassMode() && this.game.prodigy.classModeController.isLockedZone(i)) this.teleport("forest-C8");
					else if (o.Util.isDefined(i) && i.indexOf("-") > 0) {
						if ("archives" === i.split("-")[0]) this.zones.archives.exitDungeon();
						else this.teleport(i)
					} else this.teleport("house")
				}
			}, t.prototype.isValidLocation = function(t) {
				var e = t.split("-");
				return "archives" === e[0] || o.Util.isValid(this.zones[e[0]]) && o.Util.isValid(this.zones[e[0]].maps[e[1]])
			}, t.prototype.teleport = function(t, e, i, n, a) {
				void 0 === a && (a = {}), this.process();
				var r = t.replace("tower-0", "darktower-A1");
				a.assets = o.Util.isValid(a.assets) ? a.assets : [], a.assets = a.assets.concat("sfx-19");
				var s = r.split("-");
				if ("house" === r) this.zones.house.teleport("house", e, i, n, a);
				else if (o.Util.isValid(this.zones[s[0]]) && this.isValidLocation(r)) this.zones[s[0]].teleport(s[1], e, i, n, a);
				else {
					var l = void 0;
					switch (o.Util.isValid(e) && o.Util.isValid(i) && (l = {
							playerPosition: {
								x: e,
								y: i
							}
						}), r) {
						case "dino-1":
							this.game.prodigy.start("Museum", a, l);
							break;
						default:
							this.zones.house.teleport("house", e, i, n, a)
					}
				}
			}, t.prototype.playScene = function(t) {
				this.process();
				var e = t.split("-");
				o.Util.isValid(this.zones[e[0]]) && this.zones[e[0]].playScene(e[1])
			}, t.prototype.getCurrentMap = function() {
				return this.currentZone
			}, t.prototype.getCurrentCurrency = function() {
				return this.zones[this.currentZone.split("-")[0]].currency
			}, t.prototype.getState = function(t) {
				return this.game.prodigy.player.state.get("world-" + t)
			}, t.prototype.setState = function(t, e) {
				this.game.prodigy.player.state.set("world-" + t, e)
			}, t.prototype.getZone = function(t) {
				return this.zones[t]
			}, t.prototype.process = function() {
				this.getWorldDate() !== this.getTownState("bounty") && (this.game.prodigy.bounty.generateBounties(this.getWorldDate()), this.setTownState(this.getWorldDate(), "bounty"))
			}, t.prototype.getTownState = function(t) {
				return this.getZone("lamplight").getState(t)
			}, t.prototype.setTownState = function(t, e) {
				this.getZone("lamplight").setState(e, t)
			}, t.prototype.getWorldDate = function() {
				var t = new Date,
					e = t.getDate(),
					i = t.getMonth() + 1,
					n = t.getFullYear();
				return e < 10 && (e = "0" + e), i < 10 && (i = "0" + i), "" + i + e + n
			}, t
		}();
	e.World = v
}, function(t) {
	t.exports = {
		noot: [{
			textKey: "DIALOGUE_NOOT_0",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-12",
				s: 0,
				d: 1
			}
		}, {
			textKey: "DIALOGUE_NOOT_1",
			face: 3,
			anim: 1,
			audio: {
				tag: "voice-10-12",
				s: 1,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_2",
			face: 0,
			audio: {
				tag: "voice-10-12",
				s: 5,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_NOOT_3",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-10-13",
				s: 0,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_NOOT_4",
			face: 1,
			audio: {
				tag: "voice-10-13",
				s: 7,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_5",
			face: 4,
			audio: {
				tag: "voice-10-13",
				s: 13,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_NOOT_6",
			face: 4,
			audio: {
				tag: "voice-10-14",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_7",
			face: 3,
			anim: 2,
			audio: {
				tag: "voice-10-14",
				s: 6,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_8",
			face: 0,
			audio: {
				tag: "voice-10-87",
				s: 0,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_9",
			face: 1,
			audio: {
				tag: "voice-10-1",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_10",
			face: 0,
			audio: {
				tag: "voice-10-1",
				s: 6,
				d: 3.5
			}
		}, {
			textKey: "DIALOGUE_NOOT_11",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-2",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_12",
			face: 3,
			audio: {
				tag: "voice-10-2",
				s: 4,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_13",
			face: 4,
			audio: {
				tag: "voice-10-4",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_14",
			face: 0,
			audio: {
				tag: "voice-10-15",
				s: 8,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_15",
			face: 0,
			audio: {
				tag: "voice-10-5",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_16",
			face: 4,
			audio: {
				tag: "voice-10-5",
				s: 4,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_17",
			face: 3,
			audio: {
				tag: "voice-10-5",
				s: 8,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_18",
			face: 2,
			audio: {
				tag: "voice-10-6",
				s: 2.8,
				d: 3.2
			}
		}, {
			textKey: "DIALOGUE_NOOT_19",
			face: 0,
			audio: {
				tag: "voice-10-7",
				s: 0,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_20",
			face: 4,
			audio: {
				tag: "voice-10-7",
				s: 3,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_21",
			face: 0,
			audio: {
				tag: "voice-10-7",
				s: 6,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_22",
			face: 1,
			anim: 1,
			audio: {
				tag: "voice-10-8",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_23",
			face: 4,
			audio: {
				tag: "voice-10-8",
				s: 4,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_24",
			face: 3,
			anim: 2,
			audio: {
				tag: "voice-10-16",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_25",
			face: 5,
			anim: 4,
			audio: {
				tag: "voice-10-16",
				s: 4,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_26",
			face: 4,
			audio: {
				tag: "voice-10-16",
				s: 7,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_NOOT_27",
			face: 0,
			audio: {
				tag: "voice-10-15",
				s: 0,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_NOOT_28",
			face: 1,
			audio: {
				tag: "voice-10-12",
				s: 12,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_29",
			face: 5,
			anim: 2,
			audio: {
				tag: "voice-10-17",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_30",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-17",
				s: 6,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_NOOT_31",
			face: 1,
			audio: {
				tag: "voice-10-17",
				s: 14,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_32",
			face: 3,
			audio: {
				tag: "voice-10-18",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_33",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-18",
				s: 5,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_34",
			face: 0,
			audio: {
				tag: "voice-10-16",
				s: 15,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_35",
			face: 0,
			audio: {
				tag: "voice-10-19",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_36",
			face: 2,
			audio: {
				tag: "voice-10-19",
				s: 10,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_37",
			face: 3,
			anim: 2,
			audio: {
				tag: "voice-10-19",
				s: 6,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_38",
			face: 3,
			anim: 2,
			audio: {
				tag: "voice-10-20",
				s: 0,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_39",
			face: 1,
			audio: {
				tag: "voice-10-20",
				s: 3,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_NOOT_40",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-20",
				s: 5,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_41",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-20",
				s: 8,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_42",
			face: 0,
			audio: {
				tag: "voice-10-19",
				s: 15,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_NOOT_43",
			face: 0,
			audio: {
				tag: "voice-10-19",
				s: 22,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_44",
			face: 0,
			audio: {
				tag: "voice-10-21",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_45",
			face: 2,
			audio: {
				tag: "voice-10-21",
				s: 4,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_46",
			face: 3,
			audio: {
				tag: "voice-10-21",
				s: 7,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_47",
			face: 4,
			audio: {
				tag: "voice-10-21",
				s: 11,
				d: 1
			}
		}, {
			textKey: "DIALOGUE_NOOT_48",
			face: 1,
			audio: {
				tag: "voice-10-21",
				s: 12,
				d: 1
			}
		}, {
			textKey: "DIALOGUE_NOOT_49",
			face: 2,
			audio: {
				tag: "voice-10-21",
				s: 13,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_NOOT_50",
			face: 3,
			audio: {
				tag: "voice-10-21",
				s: 15,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_NOOT_51",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-21",
				s: 17,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_52",
			face: 1,
			audio: {
				tag: "voice-10-21",
				s: 21,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_53",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-22",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_54",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-23",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_55",
			face: 0,
			audio: {
				tag: "voice-10-23",
				s: 6,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_56",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-10-24",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_57",
			face: 2,
			audio: {
				tag: "voice-10-24",
				s: 4,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_58",
			face: 4,
			audio: {
				tag: "voice-10-24",
				s: 8,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_NOOT_59",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-25",
				s: 0,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_NOOT_60",
			face: 5,
			audio: {
				tag: "voice-10-26",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_61",
			face: 1,
			audio: {
				tag: "voice-10-27",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_62",
			face: 3,
			audio: {
				tag: "voice-10-27",
				s: 6,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_NOOT_63",
			face: 5,
			audio: {
				tag: "voice-10-27",
				s: 8,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_64",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-28",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_65",
			face: 3,
			audio: {
				tag: "voice-10-28",
				s: 4,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_66",
			face: 1,
			audio: {
				tag: "voice-10-21",
				s: 25,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_67",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-10-29",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_68",
			face: 1,
			audio: {
				tag: "voice-10-30",
				s: 0,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_NOOT_69",
			face: 4,
			audio: {
				tag: "voice-10-31",
				s: 0,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_NOOT_70",
			face: 5,
			audio: {
				tag: "voice-10-32",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_71",
			face: 1,
			audio: {
				tag: "voice-10-33",
				s: 0,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_72",
			face: 4,
			audio: {
				tag: "voice-10-33",
				s: 3,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_NOOT_73",
			face: 3,
			anim: 2,
			audio: {
				tag: "voice-10-34",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_74",
			face: 1,
			audio: {
				tag: "voice-10-35",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_75",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-10-35",
				s: 5,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_76",
			face: 1,
			audio: {
				tag: "voice-10-35",
				s: 11,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_77",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-36",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_78",
			face: 2,
			anim: 4,
			audio: {}
		}, {
			textKey: "DIALOGUE_NOOT_79",
			face: 3
		}, {
			textKey: "DIALOGUE_NOOT_80",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-37",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_81",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-37",
				s: 6,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_82",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-37",
				s: 11,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_83",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-38",
				s: 0,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_NOOT_84",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-38",
				s: 8,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_NOOT_85",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-39",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_86",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-39",
				s: 5,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_87",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-39",
				s: 9,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_88",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-40",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_89",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-40",
				s: 4,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_90",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-40",
				s: 9,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_91",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-41",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_92",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-41",
				s: 4,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_NOOT_93",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-41",
				s: 12,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_94",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-42",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_95",
			face: 5,
			anim: 1,
			audio: {
				tag: "voice-10-43",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_96",
			face: 5,
			anim: 4,
			audio: {
				tag: "voice-10-43",
				s: 4,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_NOOT_97",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-10-44",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_98",
			face: 4,
			anim: 1,
			audio: {
				tag: "voice-10-45",
				s: 0,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_NOOT_99",
			face: 1
		}, {
			textKey: "DIALOGUE_NOOT_100",
			face: 5,
			anim: 4,
			audio: {
				tag: "voice-10-46",
				s: 0,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_NOOT_101",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-10-47",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_102",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-47",
				s: 4,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_103",
			face: 4,
			anim: 1,
			audio: {
				tag: "voice-10-50",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_104",
			face: 5,
			anim: 1,
			audio: {
				tag: "voice-10-51",
				s: 0,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_NOOT_105",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-10-51",
				s: 2,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_106",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-10-51",
				s: 5,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_107",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-10-52",
				s: 0,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_108",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-48",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_109",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-10-49",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_110",
			face: 3,
			anim: 4
		}, {
			textKey: "DIALOGUE_NOOT_111",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-20",
				s: 9,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_NOOT_112",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-10-66",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_113",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-10-66",
				s: 6,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_114",
			face: 4,
			anim: 4,
			audio: {
				tag: "voice-10-66",
				s: 12,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_115",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-66",
				s: 17,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_116",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-66",
				s: 21,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_117",
			face: 2
		}, {
			textKey: "DIALOGUE_NOOT_118",
			face: 1,
			audio: {
				tag: "voice-10-53",
				s: 0,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_NOOT_119",
			face: 5,
			anim: 2,
			audio: {
				tag: "voice-10-53",
				s: 2,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_NOOT_120",
			face: 5,
			anim: 4,
			audio: {
				tag: "voice-10-53",
				s: 6.4,
				d: 3.2
			}
		}, {
			textKey: "DIALOGUE_NOOT_121",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-54",
				s: 0,
				d: 1
			}
		}, {
			textKey: "DIALOGUE_NOOT_122",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-10-54",
				s: 3,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_123",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-10-54",
				s: 8,
				d: 1
			}
		}, {
			textKey: "DIALOGUE_NOOT_124",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-55",
				s: 0,
				d: 1
			}
		}, {
			textKey: "DIALOGUE_NOOT_125",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-10-55",
				s: 1,
				d: 1
			}
		}, {
			textKey: "DIALOGUE_NOOT_126",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-10-55",
				s: 4,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_127",
			face: 1,
			anim: 3,
			audio: {
				tag: "voice-10-55",
				s: 9,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_128",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-10-56",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_129",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-10-56",
				s: 4,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_130",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-10-56",
				s: 9,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_131",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-10-56",
				s: 14,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_NOOT_132",
			face: 3,
			anim: 2,
			audio: {
				tag: "voice-10-57",
				s: 0,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_NOOT_133",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-10-57",
				s: 7,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_134",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-10-57",
				s: 12,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_135",
			face: 0,
			audio: {
				tag: "voice-10-57",
				s: 16.4,
				d: .5
			}
		}, {
			textKey: "DIALOGUE_NOOT_136",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-57",
				s: 22,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_137",
			face: 4,
			anim: 3,
			audio: {
				tag: "voice-10-57",
				s: 26,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_138",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-10-57",
				s: 29,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_139",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-10-57",
				s: 16.4,
				d: .5
			}
		}, {
			textKey: "DIALOGUE_NOOT_140",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-10-58",
				s: 4,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_141",
			face: 5,
			anim: 2,
			audio: {
				tag: "voice-10-59",
				s: 0,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_NOOT_142",
			face: 5,
			anim: 4,
			audio: {
				tag: "voice-10-60",
				s: 0,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_143",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-10-61",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_144",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-10-61",
				s: 5,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_NOOT_145",
			face: 1,
			anim: 3,
			audio: {
				tag: "voice-10-61",
				s: 14,
				d: 1
			}
		}, {
			textKey: "DIALOGUE_NOOT_146",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-10-61",
				s: 15,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_147",
			face: 1,
			anim: 1,
			audio: {
				tag: "voice-10-62",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_148",
			face: 5,
			anim: 4,
			audio: {
				tag: "voice-10-62",
				s: 4,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_149",
			face: 5,
			anim: 2,
			audio: {
				tag: "voice-10-62",
				s: 7,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_150",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-10-63",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_151",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-10-63",
				s: 5,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_152",
			face: 5,
			anim: 2,
			audio: {
				tag: "voice-10-63",
				s: 8,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_NOOT_153",
			face: 1,
			anim: 3,
			audio: {
				tag: "voice-10-63",
				s: 15,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_154",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-10-64",
				s: 0,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_NOOT_155",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-10-64",
				s: 7,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_156",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-86",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_157",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-10-64",
				s: 15,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_158",
			face: 3,
			anim: 2,
			audio: {
				tag: "voice-10-64",
				s: 20,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_159",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-10-64",
				s: 24,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_160",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-64",
				s: 29,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_NOOT_161",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-10-64",
				s: 31,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_162",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-10-86",
				s: 6,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_NOOT_163",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-10-64",
				s: 40,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_NOOT_164",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-10-64",
				s: 47,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_NOOT_165",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-18",
				s: 7,
				d: 1.6
			}
		}, {
			textKey: "DIALOGUE_NOOT_166",
			face: 1
		}, {
			textKey: "DIALOGUE_NOOT_167",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-25-1",
				s: 0,
				d: 2.8
			}
		}, {
			textKey: "DIALOGUE_NOOT_168",
			face: 1,
			audio: {
				tag: "voice-25-1",
				s: 3,
				d: 5.5
			}
		}, {
			textKey: "DIALOGUE_NOOT_169",
			face: 1,
			audio: {
				tag: "voice-25-1",
				s: 9,
				d: 1.6
			}
		}, {
			textKey: "DIALOGUE_NOOT_170",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-25-1",
				s: 11,
				d: 3.1
			}
		}, {
			textKey: "DIALOGUE_NOOT_171",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-25-1",
				s: 15,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_NOOT_172",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-25-1",
				s: 32,
				d: 7.3
			}
		}, {
			textKey: "DIALOGUE_NOOT_173",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-25-1",
				s: 40,
				d: 2.9
			}
		}, {
			textKey: "DIALOGUE_NOOT_174",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-25-1",
				s: 44,
				d: 5.4
			}
		}, {
			textKey: "DIALOGUE_NOOT_175",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-25-1",
				s: 50,
				d: 1.4
			}
		}, {
			textKey: "DIALOGUE_NOOT_176",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-25-1",
				s: 52,
				d: 2.74
			}
		}, {
			textKey: "DIALOGUE_NOOT_177",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-10-65",
				s: 0,
				d: 2.54
			}
		}, {
			textKey: "DIALOGUE_NOOT_178",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-67",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_179",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-10-67",
				s: 5.5,
				d: 8.5
			}
		}, {
			textKey: "DIALOGUE_NOOT_180",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-10-67",
				s: 15,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_181",
			face: 0,
			audio: {
				tag: "voice-10-67",
				s: 19,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_NOOT_182",
			face: 3,
			anim: 2,
			audio: {
				tag: "voice-10-67",
				s: 28,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_183",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-67",
				s: 33,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_184",
			face: 0,
			anim: 4
		}, {
			textKey: "DIALOGUE_NOOT_185",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-70",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_186",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-71",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_187",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-72",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_188",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-73",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_189",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-74",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_190",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-75",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_191",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-76",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_192",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-77",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_193",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-78",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_194",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-79",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_195",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-80",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_196",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-81",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_197",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-82",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_198",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-57",
				s: 32.5,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_NOOT_199",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-16",
				s: 0,
				d: 1.2
			}
		}, {
			textKey: "DIALOGUE_NOOT_200",
			face: 4,
			anim: 4,
			audio: {
				tag: "voice-10-87",
				s: 3,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_201",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-10-87",
				s: 8,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_202",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-10-87",
				s: 12,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_203",
			face: 1,
			anim: 1,
			audio: {
				tag: "voice-10-87",
				s: 18,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_204",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-10-87",
				s: 22,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_205",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-10-87",
				s: 26,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_206",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-10-87",
				s: 31,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_207",
			face: 3,
			anim: 3,
			audio: {
				tag: "voice-10-87",
				s: 35,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_208",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-10-87",
				s: 41,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_209",
			face: 4,
			anim: 1,
			audio: {
				tag: "voice-10-87",
				s: 47,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_NOOT_210",
			face: 4,
			anim: 1,
			audio: {
				tag: "voice-10-87",
				s: 54,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_211",
			face: 4,
			anim: 1,
			audio: {
				tag: "voice-10-87",
				s: 58,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_212",
			face: 4,
			anim: 1,
			audio: {
				tag: "voice-10-87",
				s: 63,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_213",
			face: 3,
			anim: 0,
			audio: {
				tag: "voice-10-87",
				s: 67,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_214",
			face: 3,
			anim: 0,
			audio: {
				tag: "voice-10-87",
				s: 71,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_NOOT_215",
			face: 3,
			anim: 0,
			audio: {
				tag: "voice-10-87",
				s: 77,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_216",
			face: 3,
			anim: 0,
			audio: {
				tag: "voice-10-87",
				s: 80,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_217",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-10-87",
				s: 85,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_218",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-10-87",
				s: 90,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_219",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-87",
				s: 94,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_NOOT_220",
			face: 3,
			anim: 0,
			audio: {
				tag: "voice-10-87",
				s: 0,
				d: 0
			}
		}, {
			textKey: "DIALOGUE_NOOT_221",
			face: 4,
			anim: 1,
			audio: {
				tag: "voice-10-87",
				s: 102,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_NOOT_222",
			face: 5,
			anim: 3,
			audio: {
				tag: "voice-10-88",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_NOOT_223",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-10-88",
				s: 5,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_NOOT_224",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-10-88",
				s: 15,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_225",
			face: 5,
			anim: 2,
			audio: {
				tag: "voice-10-88",
				s: 20,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_226",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-88",
				s: 25,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_227",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-10-88",
				s: 30,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_NOOT_228",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-10-88",
				s: 40,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_229",
			face: 3,
			anim: 2,
			audio: {
				tag: "voice-10-88",
				s: 45,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_230",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-10-88",
				s: 50,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_NOOT_231",
			face: 0,
			audio: {
				tag: "voice-10-88",
				s: 60,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_232",
			face: 0,
			audio: {
				tag: "voice-10-88",
				s: 65,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_233",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-10-88",
				s: 70,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_NOOT_234",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-10-88",
				s: 80,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_NOOT_235",
			face: 0,
			audio: {
				tag: "voice-10-88",
				s: 85,
				d: 4
			}
		}],
		flora: [{
			textKey: "DIALOGUE_FLORA_0",
			face: 5,
			anim: 4,
			audio: {
				tag: "voice-8-1",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_FLORA_1",
			face: 3,
			audio: {
				tag: "voice-8-1",
				s: 6,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_FLORA_2",
			face: 2,
			audio: {
				tag: "voice-8-1",
				s: 12,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_FLORA_3",
			face: 6,
			anim: 2,
			audio: {
				tag: "voice-8-1",
				s: 15,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_FLORA_4",
			face: 2,
			audio: {
				tag: "voice-8-2",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_FLORA_5",
			face: 1,
			audio: {
				tag: "voice-8-2",
				s: 4,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_FLORA_6",
			face: 2,
			audio: {
				tag: "voice-8-2",
				s: 12,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_FLORA_7",
			face: 1,
			audio: {
				tag: "voice-8-2",
				s: 15,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_FLORA_8",
			face: 2,
			audio: {
				tag: "voice-8-3",
				s: 2.1,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_FLORA_9",
			face: 5,
			audio: {
				tag: "voice-8-3",
				s: 4,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_FLORA_10",
			face: 3,
			audio: {
				tag: "voice-8-3",
				s: 10,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_FLORA_11",
			face: 4,
			anim: 4,
			audio: {
				tag: "voice-8-4",
				s: 0,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_FLORA_12",
			face: 6,
			audio: {
				tag: "voice-8-4",
				s: 7,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_FLORA_13",
			face: 7,
			audio: {
				tag: "voice-8-4",
				s: 13,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_FLORA_14",
			face: 2,
			audio: {
				tag: "voice-8-5",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_FLORA_15",
			face: 0,
			audio: {
				tag: "voice-8-5",
				s: 5,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_FLORA_16",
			face: 6,
			anim: 1,
			audio: {
				tag: "voice-8-6",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_FLORA_17",
			face: 6,
			audio: {
				tag: "voice-8-6",
				s: 5,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_FLORA_18",
			face: 3,
			audio: {
				tag: "voice-8-7",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_FLORA_19",
			face: 6,
			audio: {
				tag: "voice-8-7",
				s: 6,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_FLORA_20",
			face: 1,
			audio: {
				tag: "voice-8-7",
				s: 11,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_FLORA_21",
			face: 6,
			anim: 4,
			audio: {
				tag: "voice-8-8",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_FLORA_22",
			face: 7,
			audio: {
				tag: "voice-8-8",
				s: 6,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_FLORA_23",
			face: 6,
			audio: {
				tag: "voice-8-8",
				s: 10,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_FLORA_24",
			face: 6,
			anim: 2,
			audio: {
				tag: "voice-8-9",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_FLORA_25",
			face: 2,
			audio: {
				tag: "voice-8-9",
				s: 6,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_FLORA_26",
			face: 6,
			anim: 4,
			audio: {
				tag: "voice-8-9",
				s: 12,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_FLORA_27",
			face: 2,
			audio: {
				tag: "voice-8-10",
				s: 0,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_FLORA_28",
			face: 7,
			audio: {
				tag: "voice-8-10",
				s: 7,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_FLORA_29",
			face: 0,
			audio: {
				tag: "voice-8-10",
				s: 12,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_FLORA_30",
			face: 6,
			anim: 2,
			audio: {
				tag: "voice-8-10",
				s: 16,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_FLORA_31",
			face: 6,
			anim: 4,
			audio: {
				tag: "voice-8-11",
				s: 0,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_FLORA_32",
			face: 6,
			audio: {
				tag: "voice-8-11",
				s: 9,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_FLORA_33",
			face: 3,
			audio: {
				tag: "voice-8-12",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_FLORA_34",
			face: 2,
			audio: {
				tag: "voice-8-12",
				s: 4,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_FLORA_35",
			face: 4,
			anim: 4,
			audio: {
				tag: "voice-8-12",
				s: 10,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_FLORA_36",
			face: 5,
			audio: {
				tag: "voice-8-13",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_FLORA_37",
			face: 4,
			audio: {
				tag: "voice-8-13",
				s: 6,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_FLORA_38",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-8-14",
				s: 0,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_FLORA_39",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-8-14",
				s: 2,
				d: 2
			}
		}],
		bok: [{
			textKey: "DIALOGUE_BOK_0",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-1-1",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_BOK_1",
			face: 7,
			anim: 2,
			audio: {
				tag: "voice-1-1",
				s: 5,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_BOK_2",
			face: 2,
			audio: {
				tag: "voice-1-1",
				s: 13,
				d: 1
			}
		}, {
			textKey: "DIALOGUE_BOK_3",
			face: 1,
			audio: {
				tag: "voice-1-2",
				s: 0,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_BOK_4",
			face: 6,
			anim: 1,
			audio: {
				tag: "voice-1-2",
				s: 8,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_BOK_5",
			face: 3,
			audio: {
				tag: "voice-1-2",
				s: 16,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_BOK_6",
			face: 4,
			audio: {
				tag: "voice-1-2",
				s: 22,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_BOK_7",
			face: 8,
			audio: {
				tag: "voice-1-3",
				s: 0,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_BOK_8",
			face: 6,
			audio: {
				tag: "voice-1-3",
				s: 8,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_BOK_9",
			face: 3,
			audio: {
				tag: "voice-1-3",
				s: 16,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_BOK_10",
			face: 0,
			audio: {
				tag: "voice-1-4",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_BOK_11",
			face: 1,
			audio: {
				tag: "voice-1-4",
				s: 5,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_BOK_12",
			face: 5,
			audio: {
				tag: "voice-1-5",
				s: 0,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_BOK_13",
			face: 0,
			audio: {
				tag: "voice-1-5",
				s: 9,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_BOK_14",
			face: 3,
			anim: 2,
			audio: {
				tag: "voice-1-5",
				s: 18,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_BOK_15",
			face: 8,
			audio: {
				tag: "voice-1-5",
				s: 24,
				d: 10
			}
		}, {
			textKey: "DIALOGUE_BOK_16",
			face: 5,
			audio: {
				tag: "voice-1-5",
				s: 34,
				d: 12
			}
		}, {
			textKey: "DIALOGUE_BOK_17",
			face: 4,
			audio: {
				tag: "voice-1-6",
				s: 0,
				d: 11
			}
		}, {
			textKey: "DIALOGUE_BOK_18",
			face: 8,
			anim: 2,
			audio: {
				tag: "voice-1-6",
				s: 11,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_BOK_19",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-1-6",
				s: 19,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_BOK_20",
			face: 0,
			audio: {
				tag: "voice-1-7",
				s: 0,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_BOK_21",
			face: 8,
			audio: {
				tag: "voice-1-8",
				s: 0,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_BOK_22",
			face: 0,
			audio: {
				tag: "voice-1-8",
				s: 7,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_BOK_23",
			face: 5,
			audio: {
				tag: "voice-1-9",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_BOK_24",
			face: 1,
			audio: {
				tag: "voice-1-9",
				s: 6,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_BOK_25",
			face: 8,
			audio: {
				tag: "voice-1-9",
				s: 13,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_BOK_26",
			face: 3,
			audio: {
				tag: "voice-1-10",
				s: 0,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_BOK_27",
			face: 0,
			audio: {
				tag: "voice-1-11",
				s: 0,
				d: 10
			}
		}, {
			textKey: "DIALOGUE_BOK_28",
			face: 4,
			audio: {
				tag: "voice-1-11",
				s: 10,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_BOK_29",
			face: 6,
			audio: {
				tag: "voice-1-11",
				s: 17,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_BOK_30",
			face: 0,
			audio: {
				tag: "voice-1-12",
				s: 0,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_BOK_31",
			face: 3,
			audio: {
				tag: "voice-1-12",
				s: 3,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_BOK_32",
			face: 5,
			audio: {
				tag: "voice-1-12",
				s: 8,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_BOK_33",
			face: 1,
			audio: {
				tag: "voice-1-12",
				s: 13,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_BOK_34",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-1-13",
				s: 0,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_BOK_35",
			face: 4,
			audio: {
				tag: "voice-1-13",
				s: 7,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_BOK_36",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-1-14",
				s: 7,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_BOK_37",
			face: 5,
			audio: {
				tag: "voice-1-14",
				s: 13,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_BOK_38",
			face: 7,
			anim: 4,
			audio: {
				tag: "voice-1-15",
				s: 0,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_BOK_39",
			face: 5
		}],
		merchant: [{
			textKey: "DIALOGUE_MERCHANT_0",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-11",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_MERCHANT_1",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-11",
				s: 24,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_MERCHANT_2",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-11",
				s: 6,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_MERCHANT_3",
			face: 0,
			audio: {
				tag: "voice-11",
				s: 9,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_MERCHANT_4",
			face: 0,
			audio: {
				tag: "voice-11",
				s: 19,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_MERCHANT_5",
			face: 0,
			audio: {
				tag: "voice-11",
				s: 14,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_MERCHANT_6",
			face: 0,
			audio: {
				tag: "voice-11",
				s: 4,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_MERCHANT_7",
			face: 0,
			audio: {
				tag: "voice-11-1",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_MERCHANT_8",
			face: 0,
			audio: {
				tag: "voice-11-1",
				s: 6,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_MERCHANT_9",
			face: 0,
			audio: {
				tag: "voice-11-2",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_MERCHANT_10",
			face: 0,
			audio: {
				tag: "voice-11-2",
				s: 4,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_MERCHANT_11",
			face: 0,
			audio: {
				tag: "voice-11-2",
				s: 10,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_MERCHANT_12",
			face: 0,
			audio: {
				tag: "voice-11-2",
				s: 14,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_MERCHANT_13"
		}, {
			textKey: "DIALOGUE_MERCHANT_14"
		}, {
			textKey: "DIALOGUE_MERCHANT_15"
		}, {
			textKey: "DIALOGUE_MERCHANT_16"
		}, {
			textKey: "DIALOGUE_MERCHANT_17"
		}, {
			textKey: "DIALOGUE_MERCHANT_18",
			face: 0
		}, {
			textKey: "DIALOGUE_MERCHANT_19",
			face: 0
		}, {
			textKey: "DIALOGUE_MERCHANT_20",
			face: 0
		}, {
			textKey: "DIALOGUE_MERCHANT_21",
			face: 0
		}, {
			textKey: "DIALOGUE_MERCHANT_22",
			face: 0
		}, {
			textKey: "DIALOGUE_MERCHANT_23",
			face: 0
		}, {
			textKey: "DIALOGUE_MERCHANT_24",
			face: 0
		}, {
			textKey: "DIALOGUE_MERCHANT_25",
			face: 0
		}, {
			textKey: "DIALOGUE_MERCHANT_26",
			face: 0
		}, {
			textKey: "DIALOGUE_MERCHANT_27",
			face: 0
		}, {
			textKey: "DIALOGUE_MERCHANT_28",
			face: 0
		}, {
			textKey: "DIALOGUE_MERCHANT_29",
			face: 0
		}, {
			textKey: "DIALOGUE_MERCHANT_30",
			face: 0
		}, {
			textKey: "DIALOGUE_MERCHANT_31",
			face: 0
		}, {
			textKey: "DIALOGUE_MERCHANT_32",
			face: 0
		}, {
			textKey: "DIALOGUE_MERCHANT_33",
			face: 0
		}, {
			textKey: "DIALOGUE_MERCHANT_34",
			face: 0
		}, {
			textKey: "DIALOGUE_MERCHANT_35",
			face: 0
		}, {
			textKey: "DIALOGUE_MERCHANT_36",
			face: 0
		}, {
			textKey: "DIALOGUE_MERCHANT_37",
			face: 1,
			anim: 1,
			audio: {
				tag: "voice-11-3",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_MERCHANT_38",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-11-3",
				s: 6,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_MERCHANT_39",
			face: 1,
			audio: {
				tag: "voice-11-3",
				s: 10,
				d: 8
			}
		}],
		winterfest: [{
			textKey: "DIALOGUE_WINTERFEST_0",
			audio: {}
		}, {
			textKey: "DIALOGUE_WINTERFEST_1",
			audio: {}
		}],
		benni: [{
			textKey: "DIALOGUE_BENNI_0",
			face: 7,
			anim: 4,
			audio: {
				tag: "voice-12-1",
				s: 0,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_BENNI_1",
			face: 4,
			anim: 4,
			audio: {
				tag: "voice-12-1",
				s: 2,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_BENNI_2",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-12-2",
				s: 0,
				d: 5.05
			}
		}, {
			textKey: "DIALOGUE_BENNI_3",
			face: 6,
			anim: 2,
			audio: {
				tag: "voice-12-2",
				s: 5,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_BENNI_4",
			face: 10,
			anim: 2,
			audio: {
				tag: "voice-12-2",
				s: 8,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_BENNI_5",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-12-2",
				s: 10,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_BENNI_6",
			face: 6,
			anim: 1,
			audio: {
				tag: "voice-12-2",
				s: 14,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_BENNI_7",
			face: 10,
			anim: 2,
			audio: {
				tag: "voice-12-2",
				s: 20,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_BENNI_8",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-12-3",
				s: 0,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_BENNI_9",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-12-4",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_BENNI_10",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-12-4",
				s: 6,
				d: 10
			}
		}, {
			textKey: "DIALOGUE_BENNI_11",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-12-4",
				s: 16,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_BENNI_12",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-12-4",
				s: 19,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_BENNI_13",
			face: 2,
			audio: {
				tag: "voice-12-5",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_BENNI_14",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-12-5",
				s: 6,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_BENNI_15",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-12-5",
				s: 10,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_BENNI_16",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-12-6",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_BENNI_17",
			face: 9,
			audio: {
				tag: "voice-12-6",
				s: 5,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_BENNI_18",
			face: 1,
			anim: 1,
			audio: {
				tag: "voice-12-6",
				s: 8,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_BENNI_19",
			face: 3,
			audio: {
				tag: "voice-12-7",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_BENNI_20",
			face: 8,
			anim: 2,
			audio: {
				tag: "voice-12-7",
				s: 5,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_BENNI_21",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-12-7",
				s: 10,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_BENNI_22",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-12-7",
				s: 16,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_BENNI_23",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-12-8",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_BENNI_24",
			face: 5,
			anim: 2,
			audio: {
				tag: "voice-12-8",
				s: 5,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_BENNI_25",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-12-9",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_BENNI_26",
			face: 4,
			anim: 4,
			audio: {
				tag: "voice-12-10",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_BENNI_27",
			face: 8,
			anim: 2,
			audio: {
				tag: "voice-12-10",
				s: 4,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_BENNI_28",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-12-10",
				s: 6,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_BENNI_29",
			face: 5,
			anim: 2,
			audio: {
				tag: "voice-12-11",
				s: 0,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_BENNI_30",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-12-12",
				s: 0,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_BENNI_31",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-12-13",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_BENNI_32",
			face: 8,
			anim: 2,
			audio: {
				tag: "voice-12-13",
				s: 4,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_BENNI_33",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-12-13",
				s: 7,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_BENNI_34",
			face: 9,
			audio: {
				tag: "voice-12-14",
				s: 0,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_BENNI_35",
			face: 3,
			anim: 1,
			audio: {
				tag: "voice-12-14",
				s: 3,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_BENNI_36",
			face: 5,
			anim: 2,
			audio: {
				tag: "voice-12-14",
				s: 7,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_BENNI_37",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-12-15",
				s: 0,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_BENNI_38",
			face: 6,
			anim: 2,
			audio: {
				tag: "voice-12-15",
				s: 7,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_BENNI_39",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-12-16",
				s: 0,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_BENNI_40",
			face: 6,
			anim: 1,
			audio: {
				tag: "voice-12-16",
				s: 3,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_BENNI_41",
			face: 15,
			anim: 4,
			audio: {
				tag: "voice-12-16",
				s: 6,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_BENNI_42",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-12-17",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_BENNI_43",
			face: 8,
			anim: 4,
			audio: {
				tag: "voice-12-17",
				s: 5,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_BENNI_44",
			face: 4,
			audio: {
				tag: "voice-12-17",
				s: 8,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_BENNI_45",
			face: 15,
			anim: 4,
			audio: {
				tag: "voice-12-17",
				s: 11,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_BENNI_46",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-12-18",
				s: 0,
				d: 3
			}
		}],
		broccolina: [{
			textKey: "DIALOGUE_BROCCOLINA_0",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-13-1",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_BROCCOLINA_1",
			face: 3,
			anim: 2
		}],
		eugene: [{
			textKey: "DIALOGUE_EUGENE_0",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-14-1",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_EUGENE_1",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-14-2",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_EUGENE_2",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-14-2",
				s: 4,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_EUGENE_3",
			face: 4,
			anim: 4,
			audio: {
				tag: "voice-14-2",
				s: 10,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_EUGENE_4",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-14-2",
				s: 12,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_EUGENE_5",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-14-2",
				s: 16,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_EUGENE_6",
			face: 4,
			anim: 1,
			audio: {
				tag: "voice-14-2",
				s: 25,
				d: 6
			}
		}],
		cebollini: [{
			textKey: "DIALOGUE_CEBOLLINI_0",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-2",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_CEBOLLINI_1",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-3",
				s: 0,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_CEBOLLINI_2",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-3",
				s: 3,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_CEBOLLINI_3",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-3",
				s: 6,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_CEBOLLINI_4",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-3",
				s: 11,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_CEBOLLINI_5",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-4",
				s: 0,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_CEBOLLINI_6",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-4",
				s: 3,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_CEBOLLINI_7",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-4",
				s: 10,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_CEBOLLINI_8",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-5",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_CEBOLLINI_9",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-5",
				s: 5,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_CEBOLLINI_10",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-5",
				s: 10,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_CEBOLLINI_11",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-5",
				s: 13,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_CEBOLLINI_12",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-5",
				s: 17,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_CEBOLLINI_13",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-5",
				s: 20,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_CEBOLLINI_14",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-5",
				s: 29,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_CEBOLLINI_15",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-5",
				s: 33,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_CEBOLLINI_16",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-1",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_CEBOLLINI_17",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-1",
				s: 5,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_CEBOLLINI_18",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-1",
				s: 14,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_CEBOLLINI_19",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-18-1",
				s: 17,
				d: 4
			}
		}],
		slime_queen: [{
			textKey: "DIALOGUE_SLIME_QUEEN_0",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-16-3",
				s: 0,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_SLIME_QUEEN_1",
			face: 1,
			anim: 2
		}, {
			textKey: "DIALOGUE_SLIME_QUEEN_2",
			face: 5,
			anim: 1,
			audio: {
				tag: "voice-16-3",
				s: 7,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_SLIME_QUEEN_3",
			face: 5,
			anim: 4,
			audio: {
				tag: "voice-16-3",
				s: 11,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_SLIME_QUEEN_4",
			face: 5,
			anim: 1,
			audio: {
				tag: "voice-16-3",
				s: 19,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_SLIME_QUEEN_5",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-16-1",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_SLIME_QUEEN_6",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-16-3",
				s: 7.8,
				d: .85
			}
		}, {
			textKey: "DIALOGUE_SLIME_QUEEN_7",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-16-1",
				s: 5,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_SLIME_QUEEN_8",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-16-1",
				s: 11,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_SLIME_QUEEN_9",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-16-1",
				s: 19,
				d: 10
			}
		}, {
			textKey: "DIALOGUE_SLIME_QUEEN_10",
			face: 4,
			anim: 1,
			audio: {
				tag: "voice-16-2",
				s: 0,
				d: 5
			}
		}],
		slime_guard: [{
			textKey: "DIALOGUE_SLIME_GUARD_0",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-17-3",
				s: 0,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_SLIME_GUARD_1",
			face: 3,
			anim: 2,
			audio: {
				tag: "voice-17-4",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_SLIME_GUARD_2",
			face: 0,
			anim: 1,
			audio: {
				tag: "voice-17-4",
				s: 4,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_SLIME_GUARD_3",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-17-4",
				s: 8,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_SLIME_GUARD_4",
			face: 2,
			anim: 1,
			audio: {
				tag: "voice-17-4",
				s: 12,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_SLIME_GUARD_5",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-17-2",
				s: 0,
				d: 6
			}
		}],
		slime_worker: [{
			textKey: "DIALOGUE_SLIME_WORKER_0",
			face: 3,
			anim: 1,
			audio: {
				tag: "voice-17-1",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_SLIME_WORKER_1",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-17-1",
				s: 4,
				d: 6
			}
		}],
		slurpy: [{
			textKey: "DIALOGUE_SLURPY_0",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-15-2",
				s: 0,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_SLURPY_1",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-15-7",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_SLURPY_2",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-15-1",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_SLURPY_3",
			face: 4,
			anim: 4,
			audio: {
				tag: "voice-15-1",
				s: 6,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_SLURPY_4",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-15-1",
				s: 13,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_SLURPY_5",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-15-1",
				s: 18,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_SLURPY_6",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-15-3",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_SLURPY_7",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-15-3",
				s: 4,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_SLURPY_8",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-15-4",
				s: 0,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_SLURPY_9",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-15-4",
				s: 9,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_SLURPY_10",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-15-5",
				s: 0,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_SLURPY_11",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-15-5",
				s: 9,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_SLURPY_12",
			face: 2,
			anim: 1,
			audio: {
				tag: "voice-15-5",
				s: 12,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_SLURPY_13",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-15-6",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_SLURPY_14",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-15-6",
				s: 6,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_SLURPY_15",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-15-8",
				s: 0,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_SLURPY_16",
			face: 2,
			anim: 1,
			audio: {
				tag: "voice-15-8",
				s: 7,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_SLURPY_17",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-15-9",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_SLURPY_18",
			face: 2,
			anim: 1,
			audio: {
				tag: "voice-15-9",
				s: 6,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_SLURPY_19",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-15-9",
				s: 13,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_SLURPY_20",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-15-9",
				s: 17,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_SLURPY_21",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-15-9",
				s: 19,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_SLURPY_22",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-15-10",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_SLURPY_23",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-15-10",
				s: 6,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_SLURPY_24",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-15-10",
				s: 12,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_SLURPY_25",
			face: 2,
			anim: 1,
			audio: {
				tag: "voice-15-11",
				s: 0,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_SLURPY_26",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-15-11",
				s: 7,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_SLURPY_27",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-15-12",
				s: 0,
				d: 10
			}
		}, {
			textKey: "DIALOGUE_SLURPY_28",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-15-12",
				s: 10,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_SLURPY_29",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-15-13",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_SLURPY_30",
			face: 0,
			anim: 2
		}, {
			textKey: "DIALOGUE_SLURPY_31",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-15-13",
				s: 4,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_SLURPY_32",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-15-13",
				s: 9,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_SLURPY_33",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-15-13",
				s: 15,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_SLURPY_34",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-15-13",
				s: 23,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_SLURPY_35",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-15-14",
				s: 0,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_SLURPY_36",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-15-14",
				s: 3,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_SLURPY_37",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-15-14",
				s: 8,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_SLURPY_38",
			face: 3,
			anim: 1,
			audio: {
				tag: "voice-15-16",
				s: 0,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_SLURPY_39",
			face: 4,
			anim: 4,
			audio: {
				tag: "voice-15-16",
				s: 8,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_SLURPY_40",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-15-16",
				s: 10,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_SLURPY_41",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-15-17",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_SLURPY_42",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-15-17",
				s: 4,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_SLURPY_43",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-15-17",
				s: 8,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_SLURPY_44",
			face: 2,
			anim: 1,
			audio: {
				tag: "voice-15-17",
				s: 11,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_SLURPY_45",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-15-17",
				s: 13,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_SLURPY_46",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-15-17",
				s: 20,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_SLURPY_47",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-15-17",
				s: 22,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_SLURPY_48",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-15-18",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_SLURPY_49",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-15-18",
				s: 5,
				d: 9
			}
		}],
		puppetmaster: [{
			textKey: "DIALOGUE_PUPPET_MASTER_0",
			face: 0,
			audio: {
				tag: "voice-20-1",
				s: 0,
				d: 10
			}
		}, {
			textKey: "DIALOGUE_PUPPET_MASTER_1",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-20-1",
				s: 10,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_PUPPET_MASTER_2",
			face: 0,
			audio: {
				tag: "voice-20-1",
				s: 15,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_PUPPET_MASTER_3",
			face: 0,
			audio: {
				tag: "voice-20-1",
				s: 20,
				d: 10
			}
		}, {
			textKey: "DIALOGUE_PUPPET_MASTER_4",
			face: 2,
			audio: {
				tag: "voice-20-1",
				s: 30,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_PUPPET_MASTER_5",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-20-1",
				s: 33,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_PUPPET_MASTER_6",
			face: 3,
			anim: 1,
			audio: {
				tag: "voice-20-1",
				s: 38,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_PUPPET_MASTER_7",
			face: 3,
			anim: 1,
			audio: {
				tag: "voice-20-1",
				s: 41,
				d: 4.3
			}
		}, {
			textKey: "DIALOGUE_PUPPET_MASTER_8",
			face: 1,
			audio: {
				tag: "voice-20-1",
				s: 48,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_PUPPET_MASTER_9",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-20-1",
				s: 50,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_PUPPET_MASTER_10",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-20-2",
				s: 0,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_PUPPET_MASTER_11",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-20-2",
				s: 9,
				d: 11
			}
		}, {
			textKey: "DIALOGUE_PUPPET_MASTER_12",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-20-2",
				s: 21,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_PUPPET_MASTER_13",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-20-2",
				s: 26,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_PUPPET_MASTER_14",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-20-2",
				s: 33,
				d: 6
			}
		}],
		pippet: [{
			textKey: "DIALOGUE_PIPPIT_0",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-19-1",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_PIPPIT_1",
			face: 3,
			anim: 2,
			audio: {
				tag: "voice-19-1",
				s: 5,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_PIPPIT_2",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-19-1",
				s: 13,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_PIPPIT_3",
			face: 5,
			anim: 4,
			audio: {
				tag: "voice-28-1",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_PIPPIT_4",
			face: 3,
			anim: 2,
			audio: {
				tag: "voice-28-1",
				s: 7,
				d: 4.5
			}
		}, {
			textKey: "DIALOGUE_PIPPIT_5",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-28-1",
				s: 12,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_PIPPIT_6",
			face: 5,
			anim: 2,
			audio: {
				tag: "voice-28-1",
				s: 17,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_PIPPIT_7",
			face: 5,
			anim: 4,
			audio: {
				tag: "voice-28-1",
				s: 25,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_PIPPIT_8",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-28-1",
				s: 31,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_PIPPIT_9",
			face: 5,
			anim: 4
		}],
		julia_ghoulia: [{
			textKey: "DIALOGUE_JULIA_GHOULIA_0",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-21-2",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_JULIA_GHOULIA_1",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-21-1",
				s: 0,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_JULIA_GHOULIA_2",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-21-1",
				s: 3,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_JULIA_GHOULIA_3",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-21-1",
				s: 10,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_JULIA_GHOULIA_4",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-21-1",
				s: 15,
				d: 11
			}
		}, {
			textKey: "DIALOGUE_JULIA_GHOULIA_5",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-21-1",
				s: 26,
				d: 7
			}
		}],
		mama_star: [{
			textKey: "DIALOGUE_MAMA_STAR_0",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-22-1",
				s: 34,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_MAMA_STAR_1",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-22-1",
				s: 34,
				d: 11
			}
		}, {
			textKey: "DIALOGUE_MAMA_STAR_2",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-22-1",
				s: 45,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_MAMA_STAR_3",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-22-1",
				s: 0,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_MAMA_STAR_4",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-22-1",
				s: 6,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_MAMA_STAR_5",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-22-1",
				s: 12,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_MAMA_STAR_6",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-22-1",
				s: 17,
				d: 10
			}
		}, {
			textKey: "DIALOGUE_MAMA_STAR_7",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-22-1",
				s: 27,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_MAMA_STAR_8",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-22-2",
				s: 0,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_MAMA_STAR_9",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-22-2",
				s: 7,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_MAMA_STAR_10",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-22-2",
				s: 12,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_MAMA_STAR_11",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-22-2",
				s: 21,
				d: 10
			}
		}, {
			textKey: "DIALOGUE_MAMA_STAR_12",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-22-2",
				s: 31,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_MAMA_STAR_13",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-22-2",
				s: 40,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_MAMA_STAR_14",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-22-2",
				s: 46,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_MAMA_STAR_15",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-22-2",
				s: 54,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_MAMA_STAR_16",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-22-2",
				s: 62,
				d: 5
			}
		}],
		toy: [{
			textKey: "DIALOGUE_TOY_0",
			face: 0,
			audio: {
				tag: "voice-23-1",
				s: 0,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_TOY_1",
			face: 0,
			audio: {
				tag: "voice-23-1",
				s: 8,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_TOY_2",
			face: 0,
			audio: {
				tag: "voice-23-1",
				s: 8,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_TOY_3",
			face: 0,
			audio: {
				tag: "voice-23-2",
				s: 12.6,
				d: 10.4
			}
		}, {
			textKey: "DIALOGUE_TOY_4",
			face: 0,
			audio: {
				tag: "voice-23-2",
				s: 23.1,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_TOY_5",
			face: 0,
			audio: {
				tag: "voice-23-2",
				s: 32.4,
				d: 9.6
			}
		}, {
			textKey: "DIALOGUE_TOY_6",
			face: 0,
			audio: {
				tag: "voice-23-2",
				s: 42,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_TOY_7",
			face: 0,
			audio: {
				tag: "voice-23-2",
				s: 50,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_TOY_8",
			face: 0,
			audio: {
				tag: "voice-23-2",
				s: 59,
				d: 7.3
			}
		}, {
			textKey: "DIALOGUE_TOY_9",
			face: 0,
			audio: {
				tag: "voice-23-2",
				s: 67.5,
				d: 8.5
			}
		}, {
			textKey: "DIALOGUE_TOY_10",
			face: 0,
			audio: {
				tag: "voice-23-2",
				s: 0,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_TOY_11",
			face: 0,
			audio: {
				tag: "voice-23-2",
				s: 7,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_TOY_12",
			face: 0
		}, {
			textKey: "DIALOGUE_TOY_13",
			face: 0,
			audio: {
				tag: "voice-23-3",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_TOY_14",
			face: 0,
			audio: {
				tag: "voice-23-3",
				s: 22,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_TOY_15",
			face: 0,
			audio: {
				tag: "voice-23-3",
				s: 31,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_TOY_16",
			face: 0,
			audio: {
				tag: "voice-23-3",
				s: 5,
				d: 9
			}
		}, {
			textKey: "DIALOGUE_TOY_17",
			face: 0,
			audio: {
				tag: "voice-23-3",
				s: 14,
				d: 8
			}
		}],
		howard_cornelius: [{
			textKey: "DIALOGUE_HOWARD_CORNELIUS_0",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-24-1",
				s: 21.9,
				d: 5.1
			}
		}, {
			textKey: "DIALOGUE_HOWARD_CORNELIUS_1",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-24-1",
				s: 27,
				d: 2.25
			}
		}, {
			textKey: "DIALOGUE_HOWARD_CORNELIUS_2",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-24-1",
				s: 29.25,
				d: 3.5
			}
		}, {
			textKey: "DIALOGUE_HOWARD_CORNELIUS_3",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-24-1",
				s: 0,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_HOWARD_CORNELIUS_4",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-24-1",
				s: 5.9,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_HOWARD_CORNELIUS_5",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-24-1",
				s: 13.9,
				d: 8
			}
		}],
		"sir-vey": [{
			textKey: "DIALOGUE_SIR_VEY_0",
			anim: 4,
			face: 0
		}, {
			textKey: "DIALOGUE_SIR_VEY_1",
			anim: 4,
			face: 1
		}],
		"mozza-ella": [{
			textKey: "DIALOGUE_MOZZA_ELLE_0",
			face: 0
		}, {
			textKey: "DIALOGUE_MOZZA_ELLE_1",
			face: 0
		}, {
			textKey: "DIALOGUE_MOZZA_ELLE_2",
			face: 0
		}, {
			textKey: "DIALOGUE_MOZZA_ELLE_3",
			face: 0
		}, {
			textKey: "DIALOGUE_MOZZA_ELLE_4",
			face: 0
		}, {
			textKey: "DIALOGUE_MOZZA_ELLE_5",
			face: 0
		}, {
			textKey: "DIALOGUE_MOZZA_ELLE_6",
			face: 0
		}, {
			textKey: "DIALOGUE_MOZZA_ELLE_7",
			face: 0
		}, {
			textKey: "DIALOGUE_MOZZA_ELLE_8",
			face: 0
		}, {
			textKey: "DIALOGUE_MOZZA_ELLE_9",
			face: 0
		}, {
			textKey: "DIALOGUE_MOZZA_ELLE_10",
			face: 0
		}, {
			textKey: "DIALOGUE_MOZZA_ELLE_11",
			face: 1
		}],
		potion: [{
			textKey: "DIALOGUE_POTION_0",
			face: 1
		}, {
			textKey: "DIALOGUE_POTION_1",
			face: 0
		}, {
			textKey: "DIALOGUE_POTION_2",
			face: 1
		}, {
			textKey: "DIALOGUE_POTION_3",
			face: 0
		}, {
			textKey: "DIALOGUE_POTION_4",
			face: 0
		}, {
			textKey: "DIALOGUE_POTION_5",
			face: 1
		}, {
			textKey: "DIALOGUE_POTION_6",
			face: 0
		}, {
			textKey: "DIALOGUE_POTION_7",
			face: 0
		}],
		swoopy: [{
			textKey: "DIALOGUE_SWOOPY_0",
			face: 1
		}, {
			textKey: "DIALOGUE_SWOOPY_1",
			face: 0
		}, {
			textKey: "DIALOGUE_SWOOPY_2",
			face: 1
		}, {
			textKey: "DIALOGUE_SWOOPY_3",
			face: 0
		}, {
			textKey: "DIALOGUE_SWOOPY_4",
			face: 0
		}],
		eve: [{
			textKey: "DIALOGUE_EVE_0",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-27-1",
				s: 62,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_EVE_1",
			face: 3,
			audio: {
				tag: "voice-27-1",
				s: 0,
				d: 1.2
			}
		}, {
			textKey: "DIALOGUE_EVE_2",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-27-1",
				s: 2,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_EVE_3",
			face: 0,
			audio: {
				tag: "voice-27-1",
				s: 11,
				d: 8.2
			}
		}, {
			textKey: "DIALOGUE_EVE_4",
			face: 0,
			audio: {
				tag: "voice-27-1",
				s: 20,
				d: 4.2
			}
		}, {
			textKey: "DIALOGUE_EVE_5",
			face: 4,
			audio: {
				tag: "voice-27-1",
				s: 25,
				d: 7.5
			}
		}, {
			textKey: "DIALOGUE_EVE_6",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-27-1",
				s: 34,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_EVE_7",
			face: 4,
			audio: {
				tag: "voice-27-1",
				s: 41,
				d: 5.5
			}
		}, {
			textKey: "DIALOGUE_EVE_8",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-27-1",
				s: 47,
				d: 5.5
			}
		}, {
			textKey: "DIALOGUE_EVE_9",
			face: 0,
			audio: {
				tag: "voice-27-1",
				s: 53,
				d: 7.5
			}
		}, {
			textKey: "DIALOGUE_EVE_10",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-27-1",
				s: 66,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_EVE_11",
			face: 4,
			audio: {
				tag: "voice-27-1",
				s: 71,
				d: 5.5
			}
		}, {
			textKey: "DIALOGUE_EVE_12",
			face: 0,
			audio: {
				tag: "voice-27-1",
				s: 77,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_EVE_13",
			face: 4,
			audio: {
				tag: "voice-27-1",
				s: 85,
				d: 4.5
			}
		}, {
			textKey: "DIALOGUE_EVE_14",
			face: 5,
			anim: 2,
			audio: {
				tag: "voice-25-1",
				s: 24,
				d: 4.2
			}
		}, {
			textKey: "DIALOGUE_EVE_15",
			face: 4,
			audio: {
				tag: "voice-27-1",
				s: 90,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_EVE_16",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-27-1",
				s: 96,
				d: 3.5
			}
		}, {
			textKey: "DIALOGUE_EVE_17",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-27-1",
				s: 100,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_EVE_18",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-27-1",
				s: 106,
				d: 4.5
			}
		}, {
			textKey: "DIALOGUE_EVE_19",
			face: 2,
			audio: {
				tag: "voice-27-1",
				s: 111,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_EVE_20",
			face: 0,
			audio: {
				tag: "voice-27-1",
				s: 115,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_EVE_21",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-27-1",
				s: 123,
				d: 3.2
			}
		}, {
			textKey: "DIALOGUE_EVE_22",
			face: 6,
			anim: 2,
			audio: {
				tag: "voice-25-1",
				s: 29,
				d: 2.5
			}
		}, {
			textKey: "DIALOGUE_EVE_23",
			face: 1,
			audio: {
				tag: "voice-27-1",
				s: 127,
				d: 5.5
			}
		}, {
			textKey: "DIALOGUE_EVE_24",
			face: 3,
			anim: 2,
			audio: {
				tag: "voice-27-1",
				s: 133,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_EVE_25",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-27-1",
				s: 138,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_EVE_26",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-27-1",
				s: 141,
				d: 7.5
			}
		}, {
			textKey: "DIALOGUE_EVE_27",
			face: 3,
			audio: {
				tag: "voice-27-1",
				s: 150,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_EVE_28",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-27-1",
				s: 157,
				d: 7.5
			}
		}, {
			textKey: "DIALOGUE_EVE_29",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-27-1",
				s: 165,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_EVE_30",
			face: 2,
			audio: {
				tag: "voice-27-1",
				s: 172,
				d: 5.5
			}
		}, {
			textKey: "DIALOGUE_EVE_31",
			face: 3,
			audio: {
				tag: "voice-27-1",
				s: 178,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_EVE_32",
			face: 2,
			anim: 2,
			audio: {
				tag: "voice-27-1",
				s: 182,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_EVE_33",
			face: 3,
			anim: 2,
			audio: {
				tag: "voice-27-1",
				s: 190,
				d: 7.5
			}
		}, {
			textKey: "DIALOGUE_EVE_34",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-27-1",
				s: 198,
				d: 2.5
			}
		}, {
			textKey: "DIALOGUE_EVE_35",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-27-1",
				s: 201,
				d: 8.5
			}
		}, {
			textKey: "DIALOGUE_EVE_36",
			face: 2,
			audio: {
				tag: "voice-27-1",
				s: 210,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_EVE_37",
			face: 3,
			anim: 2,
			audio: {
				tag: "voice-27-1",
				s: 219,
				d: 8.5
			}
		}, {
			textKey: "DIALOGUE_EVE_38",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-27-1",
				s: 228,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_EVE_39",
			face: 0,
			audio: {
				tag: "voice-27-1",
				s: 231,
				d: 3.5
			}
		}, {
			textKey: "DIALOGUE_EVE_40",
			face: 3,
			anim: 2,
			audio: {
				tag: "voice-27-1",
				s: 235,
				d: 10
			}
		}, {
			textKey: "DIALOGUE_EVE_41",
			face: 3,
			audio: {
				tag: "voice-27-1",
				s: 246,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_EVE_42",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-27-1",
				s: 253,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_EVE_43",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-27-1",
				s: 260,
				d: 2.5
			}
		}, {
			textKey: "DIALOGUE_EVE_44",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-27-1",
				s: 265,
				d: 3.5
			}
		}, {
			textKey: "DIALOGUE_EVE_45",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-27-1",
				s: 269,
				d: 4.5
			}
		}, {
			textKey: "DIALOGUE_EVE_46",
			face: 4,
			anim: 2,
			audio: {
				tag: "voice-27-1",
				s: 274,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_EVE_47",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-27-1",
				s: 282,
				d: 3
			}
		}],
		jim: [{
			textKey: "DIALOGUE_JELLY_JIM_0",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-26-1",
				s: 0,
				d: 7.2
			}
		}, {
			textKey: "DIALOGUE_JELLY_JIM_1",
			face: 1,
			audio: {
				tag: "voice-26-1",
				s: 8,
				d: 9.2
			}
		}, {
			textKey: "DIALOGUE_JELLY_JIM_2",
			face: 0,
			audio: {
				tag: "voice-26-1",
				s: 18,
				d: 9.5
			}
		}, {
			textKey: "DIALOGUE_JELLY_JIM_3",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-26-1",
				s: 28,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_JELLY_JIM_4",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-26-1",
				s: 33,
				d: 7.2
			}
		}, {
			textKey: "DIALOGUE_JELLY_JIM_5",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-26-1",
				s: 41,
				d: 5.7
			}
		}, {
			textKey: "DIALOGUE_JELLY_JIM_6",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-26-1",
				s: 47,
				d: 8.4
			}
		}, {
			textKey: "DIALOGUE_JELLY_JIM_7",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-26-1",
				s: 56,
				d: 10.3
			}
		}],
		harvey: [{
			textKey: "DIALOGUE_HARVEY_0",
			face: 0,
			anim: 2,
			audio: {
				tag: "voice-29-1",
				s: 0,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_HARVEY_1",
			face: 1,
			audio: {
				tag: "voice-29-1",
				s: 5,
				d: 10
			}
		}, {
			textKey: "DIALOGUE_HARVEY_2",
			face: 1,
			audio: {
				tag: "voice-29-1",
				s: 16,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_HARVEY_3",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-29-1",
				s: 20,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_HARVEY_4",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-29-1",
				s: 28,
				d: 4
			}
		}],
		professor_scoog: [{
			textKey: "DIALOGUE_PROFESSOR_SCOOG_0",
			face: 1,
			audio: {
				tag: "voice-9",
				s: 3,
				d: 2
			},
			anim: 2
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_1",
			face: 0,
			audio: {
				tag: "voice-9",
				s: 7,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_2",
			face: 2,
			audio: {
				tag: "voice-9",
				s: 3,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_3",
			face: 1,
			audio: {
				tag: "voice-9",
				s: 0,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_4",
			face: 3
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_5",
			face: 2,
			audio: {
				tag: "voice-9",
				s: 9,
				d: 2
			},
			anim: 3
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_6",
			face: 1
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_7",
			face: 0
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_8",
			face: 1,
			audio: {
				tag: "voice-9",
				s: 3,
				d: 2
			},
			anim: 2
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_9",
			face: 0,
			audio: {
				tag: "voice-9",
				s: 11,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_10",
			face: 1,
			anim: 2
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_11",
			face: 0
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_12",
			face: 0
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_13",
			face: 0
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_14",
			anim: 1,
			face: 2,
			audio: {
				tag: "voice-9",
				s: 5,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_15",
			anim: 2,
			face: 1,
			audio: {
				tag: "voice-9",
				s: 3,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_16",
			face: 2
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_17",
			face: 3
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_18",
			face: 1,
			anim: 3,
			audio: {
				tag: "voice-9",
				s: 3,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_19",
			anim: 4,
			face: 1
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_20",
			face: 1,
			audio: {
				tag: "voice-9",
				s: 9,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_21",
			face: 3
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_22",
			face: 1,
			anim: 4
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_23",
			face: 0
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_24",
			face: 3,
			anim: 1
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_25",
			face: 2
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_26",
			face: 3,
			anim: 4
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_27",
			face: 3,
			anim: 1,
			audio: {
				tag: "voice-9",
				s: 5,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_28",
			face: 2
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_29",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-9",
				s: 3,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_30",
			face: 3,
			anim: 1,
			audio: {
				tag: "voice-9",
				s: 5,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_31",
			face: 1,
			anim: 4
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_32",
			face: 1
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_33",
			face: 2
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_34",
			face: 3
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_35",
			face: 3,
			audio: {
				tag: "voice-9",
				s: 9,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_36",
			face: 0,
			anim: 4
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_37",
			face: 0
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_38",
			face: 2
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_39",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-9",
				s: 3,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_40",
			face: 3
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_41",
			face: 3,
			anim: 1,
			audio: {
				tag: "voice-9",
				s: 5,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_42",
			face: 0
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_43",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-9",
				s: 3,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_44",
			face: 2
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_45",
			face: 0
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_46",
			face: 3,
			anim: 2,
			audio: {
				tag: "voice-9",
				s: 5,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_47",
			face: 3,
			anim: 4
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_48",
			face: 3,
			anim: 2,
			audio: {
				tag: "voice-9",
				s: 5,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_49",
			face: 2
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_50",
			face: 1
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_51",
			face: 0
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_52",
			face: 2
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_53",
			face: 1,
			anim: 4
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_54",
			face: 2,
			audio: {
				tag: "voice-9",
				s: 9,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_55",
			face: 3,
			anim: 4,
			audio: {
				tag: "voice-9",
				s: 9,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_56",
			face: 2
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_57",
			face: 3,
			anim: 4
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_58",
			face: 3,
			anim: 2
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_59",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-9",
				s: 3,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_60",
			face: 1
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_61",
			face: 0
		}, {
			textKey: "DIALOGUE_PROFESSOR_SCOOG_62",
			face: 1,
			anim: 2,
			audio: {
				tag: "voice-9",
				s: 11,
				d: 3
			}
		}],
		"don-zorro": [{
			textKey: "DIALOGUE_DON_ZORRO_0",
			face: 2
		}, {
			textKey: "DIALOGUE_DON_ZORRO_1",
			face: 1
		}, {
			textKey: "DIALOGUE_DON_ZORRO_2",
			face: 1
		}, {
			textKey: "DIALOGUE_DON_ZORRO_3",
			face: 1
		}, {
			textKey: "DIALOGUE_DON_ZORRO_4",
			face: 0
		}, {
			textKey: "DIALOGUE_DON_ZORRO_5",
			face: 0
		}, {
			textKey: "DIALOGUE_DON_ZORRO_6",
			face: 2
		}, {
			textKey: "DIALOGUE_DON_ZORRO_7",
			face: 1
		}, {
			textKey: "DIALOGUE_DON_ZORRO_8",
			face: 0
		}, {
			textKey: "DIALOGUE_DON_ZORRO_9",
			face: 2
		}, {
			textKey: "DIALOGUE_DON_ZORRO_10",
			face: 1
		}, {
			textKey: "DIALOGUE_DON_ZORRO_11",
			face: 0
		}, {
			textKey: "DIALOGUE_DON_ZORRO_12",
			face: 1
		}, {
			textKey: "DIALOGUE_DON_ZORRO_13",
			face: 2
		}, {
			textKey: "DIALOGUE_DON_ZORRO_14",
			face: 0
		}],
		harriet: [{
			textKey: "DIALOGUE_HARRIET_0",
			face: 1
		}, {
			textKey: "DIALOGUE_HARRIET_1",
			face: 0
		}, {
			textKey: "DIALOGUE_HARRIET_2",
			face: 2
		}, {
			textKey: "DIALOGUE_HARRIET_3",
			face: 0
		}, {
			textKey: "DIALOGUE_HARRIET_4",
			face: 1
		}, {
			textKey: "DIALOGUE_HARRIET_5",
			face: 0
		}, {
			textKey: "DIALOGUE_HARRIET_6",
			face: 2
		}, {
			textKey: "DIALOGUE_HARRIET_7",
			face: 1
		}, {
			textKey: "DIALOGUE_HARRIET_8",
			face: 0
		}, {
			textKey: "DIALOGUE_HARRIET_9",
			face: 2
		}, {
			textKey: "DIALOGUE_HARRIET_10",
			face: 2
		}, {
			textKey: "DIALOGUE_HARRIET_11",
			face: 1
		}, {
			textKey: "DIALOGUE_HARRIET_12",
			face: 0
		}],
		verna: [{
			textKey: "DIALOGUE_VERNA_0",
			face: 0
		}, {
			textKey: "DIALOGUE_VERNA_1",
			face: 2
		}, {
			textKey: "DIALOGUE_VERNA_2",
			face: 0
		}, {
			textKey: "DIALOGUE_VERNA_3",
			face: 1
		}],
		"bargo-bunny": [{
			textKey: "DIALOGUE_BARGO_0",
			face: 0
		}, {
			textKey: "DIALOGUE_BARGO_1",
			face: 1
		}, {
			textKey: "DIALOGUE_BARGO_2",
			face: 3
		}, {
			textKey: "DIALOGUE_BARGO_3",
			face: 1
		}, {
			textKey: "DIALOGUE_BARGO_4",
			face: 2
		}],
		gale: [{
			textKey: "DIALOGUE_GALE_0",
			face: 1,
			anim: 4,
			audio: {
				tag: "voice-30-1",
				s: 0,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_GALE_1",
			face: 1,
			anim: 0,
			audio: {
				tag: "voice-30-1",
				s: 3,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_GALE_2",
			face: 3,
			anim: 3,
			audio: {
				tag: "voice-30-1",
				s: 9,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_GALE_3",
			face: 0,
			anim: 0,
			audio: {
				tag: "voice-30-1",
				s: 16,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_GALE_4",
			face: 3,
			anim: 0,
			audio: {
				tag: "voice-30-1",
				s: 20,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_GALE_5",
			face: 3,
			anim: 0,
			audio: {
				tag: "voice-30-1",
				s: 27,
				d: 4
			}
		}, {
			textKey: "DIALOGUE_GALE_6",
			face: 0,
			anim: 4,
			audio: {
				tag: "voice-30-1",
				s: 32,
				d: 2
			}
		}, {
			textKey: "DIALOGUE_GALE_7",
			face: 2,
			anim: 0,
			audio: {
				tag: "voice-30-1",
				s: 35,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_GALE_8",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-30-1",
				s: 43,
				d: 1
			}
		}, {
			textKey: "DIALOGUE_GALE_9",
			face: 0,
			anim: 0,
			audio: {
				tag: "voice-30-1",
				s: 45,
				d: 6
			}
		}, {
			textKey: "DIALOGUE_GALE_10",
			face: 3,
			anim: 0,
			audio: {
				tag: "voice-30-1",
				s: 52,
				d: 8
			}
		}, {
			textKey: "DIALOGUE_GALE_11",
			face: 3,
			anim: 3,
			audio: {
				tag: "voice-30-1",
				s: 61,
				d: 10
			}
		}, {
			textKey: "DIALOGUE_GALE_12",
			face: 0,
			anim: 0,
			audio: {
				tag: "voice-30-1",
				s: 72,
				d: 7
			}
		}, {
			textKey: "DIALOGUE_GALE_13",
			face: 0,
			anim: 0,
			audio: {
				tag: "voice-30-1",
				s: 80,
				d: 5
			}
		}, {
			textKey: "DIALOGUE_GALE_14",
			face: 2,
			anim: 4,
			audio: {
				tag: "voice-30-1",
				s: 86,
				d: 3
			}
		}, {
			textKey: "DIALOGUE_GALE_15",
			face: 3
		}, {
			textKey: "DIALOGUE_GALE_16",
			face: 0,
			anim: 2
		}]
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = function() {
			function t(t) {
				for (var e in this.data = null, this.data = i(706), this.data)
					for (var a = this.data[e], o = function(e) {
							var i = a[e];
							Object.defineProperty(i, "text", {
								get: function() {
									return t.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText(i.textKey)
								},
								configurable: !0
							})
						}, r = 0; r < a.length; r++) o(r)
			}
			return t.prototype.get = function(t, e) {
				return this.data[t][e]
			}, t
		}();
	e.Dialogues = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(0),
		a = i(2),
		o = function() {
			function t() {}
			return t.prototype.calculateDamage = function(t, e, i, a, o) {
				void 0 === a && (a = 0), void 0 === o && (o = 1);
				var r = 0;
				n.Util.isValid(t) && n.Util.isValid(t.data.damage) && (r = t.data.damage);
				var s = t.data.element,
					l = i.getElement();
				return "Glacial Shield" !== t.data.name && 0 === i.modifiers.ignoreElement && (this.isStrong(s, l) ? r += 4 : this.isWeak(s, l) && (r -= 3) <= 0 && (r = 2)), r = Math.floor(10 * r * o), Math.max(Math.floor(r + (n.Util.isValid(a) ? a : 0)), 0)
			}, t.prototype.isStrong = function(t, e) {
				return n.Util.isValid(t) && n.Util.isValid(e) && ("fire" === t && ("ice" === e || "earth" === e || "ice & fire" === e) || "water" === t && ("fire" === e || "ice & fire" === e) || "earth" === t && "water" === e || "storm" === t && "water" === e || "mech" === t && "mech" === e || "ice" === t && ("storm" === e || "mech" === e) || "shadow" === t && "wizard" !== e || "wizard" === t && "shadow" === e)
			}, t.prototype.isWeak = function(t, e) {
				return n.Util.isValid(t) && n.Util.isValid(e) && ("fire" === t && "water" === e || "water" === t && ("earth" === e || "storm" === e || "mech" === e) || "earth" === t && ("fire" === e || "ice & fire" === e) || "storm" === t && "ice" === e || "ice & fire" === e || "mech" === t && "ice" === e || "ice & fire" === e || "ice" === t && "fire" === e || "ice & fire" === e || "shadow" === t && "wizard" === e || "wizard" !== t && "shadow" === e)
			}, t.prototype.getBestAttack = function(t, e, i) {
				if (void 0 === i && (i = 0), t.length <= 0) return null;
				for (var n, a = [], o = 0; o < t.length; o++) "Glacial Shield" === (n = this.getAttack(t[o])).data.name ? a[o] = {
					dmg: 0,
					ID: t[o]
				} : a[o] = {
					dmg: this.calculateDamage(n, null, e, 0, 1),
					ID: t[o]
				};
				a.sort(function(t, e) {
					return e.dmg - t.dmg
				});
				var r = a[a.length - 1].ID,
					s = i;
				for (o = 0; o < a.length; o++) {
					if (Math.random() > s) {
						r = a[o].ID;
						break
					}
					s *= .75
				}
				return this.getAttack(r)
			}, t.prototype.getAttack = function(t) {
				return a.Items.getItem("spell", t)
			}, t.prototype.getHealingAttack = function(t) {
				for (var e, i = 0; i < t.length; i++)
					if ((e = this.getAttack(t[i])).data.heal) return e;
				return null
			}, t.prototype.getAttackPriority = function(t) {
				return n.Util.isValid(t.data.priority) ? t.data.priority : 0
			}, t
		}();
	e.Attacks = o
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(11),
		a = i(6),
		o = i(99),
		r = i(0),
		s = i(2),
		l = function() {
			function t(t) {
				this.assets = null;
				var e = "v1/tilesets/",
					i = "v1/tiled-data/";
				this.assets = {
					"login-buttons": {
						type: "local",
						v: "1",
						key: "general-login"
					},
					"tileset-bonfire": {
						type: "spritesheet",
						base: e,
						url: "tileset-bonfire/12/tileset-bonfire.png",
						w: 40,
						h: 40
					},
					"tileset-cloud": {
						type: "spritesheet",
						base: e,
						url: "tileset-cloud/2/tileset-cloud.png",
						w: 40,
						h: 40
					},
					"tileset-cloud-no-collisions": {
						type: "spritesheet",
						base: e,
						url: "tileset-cloud-no-collisions/2/tileset-cloud-no-collisions.png",
						w: 40,
						h: 40
					},
					"tileset-collisions": {
						type: "spritesheet",
						base: e,
						url: "tileset-collisions/2/tileset-collisions.png",
						w: 40,
						h: 40
					},
					"tileset-forest": {
						type: "spritesheet",
						base: e,
						url: "tileset-forest/2/tileset-forest.png",
						w: 40,
						h: 40
					},
					"tileset-forest-new": {
						type: "spritesheet",
						base: e,
						url: "tileset-forest-new/10/tileset-forest-new.png",
						w: 40,
						h: 40
					},
					"tileset-firefly-new": {
						type: "spritesheet",
						base: e,
						url: "tileset-firefly-new/6/tileset-firefly-new.png",
						w: 40,
						h: 40
					},
					"tileset-generic": {
						type: "spritesheet",
						base: e,
						url: "tileset-generic/2/tileset-generic.png",
						w: 40,
						h: 40
					},
					"tileset-generic-new": {
						type: "spritesheet",
						base: e,
						url: "tileset-generic-new/7/tileset-generic-new.png",
						w: 40,
						h: 40
					},
					"tileset-icecave": {
						type: "spritesheet",
						base: e,
						url: "tileset-icecave/4/tileset-icecave.png",
						w: 40,
						h: 40
					},
					"tileset-interior": {
						type: "spritesheet",
						base: e,
						url: "tileset-interior/2/tileset-interior.png",
						w: 40,
						h: 40
					},
					"tileset-interior-general": {
						type: "spritesheet",
						base: e,
						url: "tileset-interior-general/2/tileset-interior-general.png",
						w: 40,
						h: 40
					},
					"tileset-outside": {
						type: "spritesheet",
						base: e,
						url: "tileset-outside/2/tileset-outside.png",
						w: 40,
						h: 40
					},
					"tileset-outsidesnow": {
						type: "spritesheet",
						base: e,
						url: "tileset-outsidesnow/2/tileset-outsidesnow.png",
						w: 40,
						h: 40
					},
					"tileset-railruins": {
						type: "spritesheet",
						base: e,
						url: "tileset-railruins/2/tileset-railruins.png",
						w: 40,
						h: 40
					},
					"tileset-town": {
						type: "spritesheet",
						base: e,
						url: "tileset-town/2/tileset-town.png",
						w: 40,
						h: 40
					},
					"tileset-town-december": {
						type: "spritesheet",
						base: e,
						url: "tileset-town-december/2/tileset-town-december.png",
						w: 40,
						h: 40
					},
					"tileset-town-new": {
						type: "spritesheet",
						base: e,
						url: "tileset-town-new/9/tileset-town-new.png",
						w: 40,
						h: 40
					},
					"tileset-town-november": {
						type: "spritesheet",
						base: e,
						url: "tileset-town-november/2/tileset-town-november.png",
						w: 40,
						h: 40
					},
					"tileset-town-october": {
						type: "spritesheet",
						base: e,
						url: "tileset-town-october/2/tileset-town-october.png",
						w: 40,
						h: 40
					},
					"tileset-toyzone": {
						type: "spritesheet",
						base: e,
						url: "tileset-toyzone/4/tileset-toyzone.png",
						w: 40,
						h: 40
					},
					"tileset-toyzone-dragons": {
						type: "spritesheet",
						base: e,
						url: "tileset-toyzone-dragons/3/tileset-toyzone-dragons.png",
						w: 40,
						h: 40
					},
					"tileset-toy-ruins-test": {
						type: "spritesheet",
						base: e,
						url: "tileset-toyzone/3/tileset-toyzone.png",
						w: 40,
						h: 40
					},
					"tileset-volcano": {
						type: "spritesheet",
						base: e,
						url: "tileset-volcano/2/tileset-volcano.png",
						w: 40,
						h: 40
					},
					"tileset-volcano-new": {
						type: "spritesheet",
						base: e,
						url: "tileset-volcano-new/11/tileset-volcano-new.png",
						w: 40,
						h: 40
					},
					"tileset-wall-collisions": {
						type: "spritesheet",
						base: e,
						url: "tileset-wall-collisions/2/tileset-wall-collisions.png",
						w: 40,
						h: 40
					},
					"tileset-interior-icecave": {
						type: "spritesheet",
						base: e,
						url: "tileset-interior-icecave/2/tileset-interior-icecave.png",
						w: 40,
						h: 40
					},
					"tileset-firepit": {
						type: "spritesheet",
						base: e,
						url: "tileset-firepit/2/tileset-firepit.png",
						w: 40,
						h: 40
					},
					"tileset-interior-treehouse": {
						type: "spritesheet",
						base: e,
						url: "tileset-interior-treehouse/2/tileset-interior-treehouse.png",
						w: 40,
						h: 40
					},
					"tileset-UI": {
						type: "spritesheet",
						base: e,
						url: "tileset-UI/1/tileset-UI.png",
						w: 40,
						h: 40
					},
					"tileset-twilight-arcade": {
						type: "spritesheet",
						base: e,
						url: "tileset-twilight-arcade/2/tileset-twilight-arcade.png",
						w: 40,
						h: 40
					},
					"tileset-shiverchill-new": {
						type: "spritesheet",
						base: e,
						url: "tileset-shiverchill-new/1/tileset-shiverchill-new.png",
						w: 40,
						h: 40
					},
					"tileset-water-new": {
						type: "spritesheet",
						base: e,
						url: "tileset-water-new/20/tileset-water-new.png",
						w: 40,
						h: 40
					},
					"tileset-activityzone": {
						type: "spritesheet",
						base: e,
						url: "tileset-activityzone/2/tileset-activityzone.png",
						w: 40,
						h: 40
					},
					"tileset-generic-snow": {
						type: "spritesheet",
						base: e,
						url: "tileset-generic-snow/2/tileset-generic-snow.png",
						w: 40,
						h: 40
					},
					"tileset-icecave-new": {
						type: "spritesheet",
						base: e,
						url: "tileset-icecave-new/4/tileset-icecave-new.png",
						w: 40,
						h: 40
					},
					"tileset-iceruins": {
						type: "spritesheet",
						base: e,
						url: "tileset-iceruins/2/tileset-iceruins.png",
						w: 40,
						h: 40
					},
					"tileset-minecarts": {
						type: "spritesheet",
						base: e,
						url: "tileset-minecarts/2/tileset-minecarts.png",
						w: 40,
						h: 40
					},
					"tileset-ship-exterior": {
						type: "spritesheet",
						base: e,
						url: "tileset-ship-exterior/3/tileset-ship-exterior.png",
						w: 40,
						h: 40
					},
					"tileset-ship-interior": {
						type: "spritesheet",
						base: e,
						url: "tileset-ship-interior/4/tileset-ship-interior.png",
						w: 40,
						h: 40
					},
					"tileset-shiverchill": {
						type: "spritesheet",
						base: e,
						url: "tileset-shiverchill/2/tileset-shiverchill.png",
						w: 40,
						h: 40
					},
					"tileset-cloud-new": {
						type: "spritesheet",
						base: e,
						url: "tileset-cloud-new/11/tileset-cloud-new.png",
						w: 40,
						h: 40
					},
					"tileset-skywatch-factory": {
						type: "spritesheet",
						base: e,
						url: "tileset-skywatch-factory/6/tileset-skywatch-factory.png",
						w: 40,
						h: 40
					},
					"tileset-skywatch-buildings": {
						type: "spritesheet",
						base: e,
						url: "tileset-skywatch-buildings/4/tileset-skywatch-buildings.png",
						w: 40,
						h: 40
					},
					"tileset-skywatch": {
						type: "spritesheet",
						base: e,
						url: "tileset-skywatch/12/tileset-skywatch.png",
						w: 40,
						h: 40
					},
					"tileset-darktower": {
						type: "spritesheet",
						base: e,
						url: "tileset-darktower/21/tileset-darktower.png",
						w: 40,
						h: 40
					},
					"tileset-springfest": {
						type: "spritesheet",
						base: e,
						url: "tileset-springfest/4/tileset-springfest.png",
						w: 40,
						h: 40
					},
					"tileset-exterior-general": {
						type: "spritesheet",
						base: e,
						url: "tileset-exterior-general/1/tileset-exterior-general.png",
						w: 40,
						h: 40
					},
					"tileset-academy": {
						type: "spritesheet",
						base: e,
						url: "tileset-academy/14/tileset-academy.png",
						w: 40,
						h: 40
					},
					"tileset-archives": {
						type: "spritesheet",
						base: e,
						url: "tileset-archives/11/tileset-archives.png",
						w: 40,
						h: 40
					},
					"map-pathing": {
						type: "json",
						base: i,
						url: "map-pathing/1/map-pathing.json"
					},
					"map-tutorial-b9": {
						type: "json",
						base: i,
						url: "map-tutorial-b9/1/map-tutorial-b9.json"
					},
					"map-tutorial-c9": {
						type: "json",
						base: i,
						url: "map-tutorial-c9/1/map-tutorial-c9.json"
					},
					"map-tutorial-d8": {
						type: "json",
						base: i,
						url: "map-tutorial-d8/1/map-tutorial-d8.json"
					},
					"map-tutorial-d9": {
						type: "json",
						base: i,
						url: "map-tutorial-d9/1/map-tutorial-d9.json"
					},
					"map-forest-a3": {
						type: "json",
						base: i,
						url: "map-forest-a3/5/map-forest-a3.json"
					},
					"map-forest-a4": {
						type: "json",
						base: i,
						url: "map-forest-a4/5/map-forest-a4.json"
					},
					"map-forest-a5": {
						type: "json",
						base: i,
						url: "map-forest-a5/6/map-forest-a5.json"
					},
					"map-forest-b5": {
						type: "json",
						base: i,
						url: "map-forest-b5/4/map-forest-b5.json"
					},
					"map-forest-b6": {
						type: "json",
						base: i,
						url: "map-forest-b6/4/map-forest-b6.json"
					},
					"map-forest-b7": {
						type: "json",
						base: i,
						url: "map-forest-b7/5/map-forest-b7.json"
					},
					"map-forest-b8": {
						type: "json",
						base: i,
						url: "map-forest-b8/5/map-forest-b8.json"
					},
					"map-forest-c4": {
						type: "json",
						base: i,
						url: "map-forest-c4/4/map-forest-c4.json"
					},
					"map-forest-c7": {
						type: "json",
						base: i,
						url: "map-forest-c7/4/map-forest-c7.json"
					},
					"map-forest-c8": {
						type: "json",
						base: i,
						url: "map-forest-c8/8/map-forest-c8.json"
					},
					"map-forest-d3": {
						type: "json",
						base: i,
						url: "map-forest-d3/15/map-forest-d3.json"
					},
					"map-shiverchill-a5": {
						type: "json",
						base: i,
						url: "map-shiverchill-a5/6/map-shiverchill-a5.json"
					},
					"map-shiverchill-a6": {
						type: "json",
						base: i,
						url: "map-shiverchill-a6/5/map-shiverchill-a6.json"
					},
					"map-shiverchill-a7": {
						type: "json",
						base: i,
						url: "map-shiverchill-a7/4/map-shiverchill-a7.json"
					},
					"map-shiverchill-a11": {
						type: "json",
						base: i,
						url: "map-shiverchill-a11/5/map-shiverchill-a11.json"
					},
					"map-shiverchill-a10": {
						type: "json",
						base: i,
						url: "map-shiverchill-a10/6/map-shiverchill-a10.json"
					},
					"map-shiverchill-a9": {
						type: "json",
						base: i,
						url: "map-shiverchill-a9/5/map-shiverchill-a9.json"
					},
					"map-shiverchill-b3": {
						type: "json",
						base: i,
						url: "map-shiverchill-b3/5/map-shiverchill-b3.json"
					},
					"map-shiverchill-b6": {
						type: "json",
						base: i,
						url: "map-shiverchill-b6/4/map-shiverchill-b6.json"
					},
					"map-shiverchill-b7": {
						type: "json",
						base: i,
						url: "map-shiverchill-b7/5/map-shiverchill-b7.json"
					},
					"map-shiverchill-b1": {
						type: "json",
						base: i,
						url: "map-shiverchill-b1/5/map-shiverchill-b1.json"
					},
					"map-shiverchill-b10": {
						type: "json",
						base: i,
						url: "map-shiverchill-b10/6/map-shiverchill-b10.json"
					},
					"map-shiverchill-a4": {
						type: "json",
						base: i,
						url: "map-shiverchill-a4/5/map-shiverchill-a4.json"
					},
					"map-shiverchill-a3": {
						type: "json",
						base: i,
						url: "map-shiverchill-a3/4/map-shiverchill-a3.json"
					},
					"map-shiverchill-a2": {
						type: "json",
						base: i,
						url: "map-shiverchill-a2/4/map-shiverchill-a2.json"
					},
					"map-shiverchill-b2": {
						type: "json",
						base: i,
						url: "map-shiverchill-b2/5/map-shiverchill-b2.json"
					},
					"map-shiverchill-b8": {
						type: "json",
						base: i,
						url: "map-shiverchill-b8/5/map-shiverchill-b8.json"
					},
					"map-shiverchill-b9": {
						type: "json",
						base: i,
						url: "map-shiverchill-b9/4/map-shiverchill-b9.json"
					},
					"map-lamplight-a2": {
						type: "json",
						base: i,
						url: "map-lamplight-a2/1/map-lamplight-a2.json"
					},
					"map-lamplight-a3": {
						type: "json",
						base: i,
						url: "map-lamplight-a3/2/map-lamplight-a3.json"
					},
					"map-lamplight-a4": {
						type: "json",
						base: i,
						url: "map-lamplight-a4/1/map-lamplight-a4.json"
					},
					"map-lamplight-b0": {
						type: "json",
						base: i,
						url: "map-lamplight-b0/3/map-lamplight-b0.json"
					},
					"map-lamplight-b1": {
						type: "json",
						base: i,
						url: "map-lamplight-b1/3/map-lamplight-b1.json"
					},
					"map-lamplight-b2": {
						type: "json",
						base: i,
						url: "map-lamplight-b2/1/map-lamplight-b2.json"
					},
					"map-lamplight-b3": {
						type: "json",
						base: i,
						url: "map-lamplight-b3/3/map-lamplight-b3.json"
					},
					"map-lamplight-b4": {
						type: "json",
						base: i,
						url: "map-lamplight-b4/1/map-lamplight-b4.json"
					},
					"map-lamplight-b5": {
						type: "json",
						base: i,
						url: "map-lamplight-b5/1/map-lamplight-b5.json"
					},
					"map-lamplight-c1": {
						type: "json",
						base: i,
						url: "map-lamplight-c1/1/map-lamplight-c1.json"
					},
					"map-lamplight-c2": {
						type: "json",
						base: i,
						url: "map-lamplight-c2/1/map-lamplight-c2.json"
					},
					"map-lamplight-c3": {
						type: "json",
						base: i,
						url: "map-lamplight-c3/3/map-lamplight-c3.json"
					},
					"map-lamplight-c4": {
						type: "json",
						base: i,
						url: "map-lamplight-c4/1/map-lamplight-c4.json"
					},
					"map-lamplight-coliseum": {
						type: "json",
						base: i,
						url: "map-lamplight-coliseum/2/map-lamplight-coliseum.json"
					},
					"map-lamplight-a2-pumpkinfest": {
						type: "json",
						base: i,
						url: "map-lamplight-a2-pumpkinfest/2/map-lamplight-a2-pumpkinfest.json"
					},
					"map-lamplight-a3-pumpkinfest": {
						type: "json",
						base: i,
						url: "map-lamplight-a3-pumpkinfest/3/map-lamplight-a3-pumpkinfest.json"
					},
					"map-lamplight-a4-pumpkinfest": {
						type: "json",
						base: i,
						url: "map-lamplight-a4-pumpkinfest/2/map-lamplight-a4-pumpkinfest.json"
					},
					"map-lamplight-b0-pumpkinfest": {
						type: "json",
						base: i,
						url: "map-lamplight-b0-pumpkinfest/1/map-lamplight-b0-pumpkinfest.json"
					},
					"map-lamplight-b1-pumpkinfest": {
						type: "json",
						base: i,
						url: "map-lamplight-b1-pumpkinfest/4/map-lamplight-b1-pumpkinfest.json"
					},
					"map-lamplight-b2-pumpkinfest": {
						type: "json",
						base: i,
						url: "map-lamplight-b2-pumpkinfest/3/map-lamplight-b2-pumpkinfest.json"
					},
					"map-lamplight-b3-pumpkinfest": {
						type: "json",
						base: i,
						url: "map-lamplight-b3-pumpkinfest/2/map-lamplight-b3-pumpkinfest.json"
					},
					"map-lamplight-b4-pumpkinfest": {
						type: "json",
						base: i,
						url: "map-lamplight-b4-pumpkinfest/2/map-lamplight-b4-pumpkinfest.json"
					},
					"map-lamplight-b5-pumpkinfest": {
						type: "json",
						base: i,
						url: "map-lamplight-b5-pumpkinfest/1/map-lamplight-b5-pumpkinfest.json"
					},
					"map-lamplight-c1-pumpkinfest": {
						type: "json",
						base: i,
						url: "map-lamplight-c1-pumpkinfest.json"
					},
					"map-lamplight-c2-pumpkinfest": {
						type: "json",
						base: i,
						url: "map-lamplight-c2-pumpkinfest/2/map-lamplight-c2-pumpkinfest.json"
					},
					"map-lamplight-c3-pumpkinfest": {
						type: "json",
						base: i,
						url: "map-lamplight-c3-pumpkinfest/5/map-lamplight-c3-pumpkinfest.json"
					},
					"map-lamplight-c4-pumpkinfest": {
						type: "json",
						base: i,
						url: "map-lamplight-c4-pumpkinfest/2/map-lamplight-c4-pumpkinfest.json"
					},
					"map-lamplight-a2-starlight_festival": {
						type: "json",
						base: i,
						url: "map-lamplight-a2-starlight_festival/1/map-lamplight-a2-starlight_festival.json"
					},
					"map-lamplight-a3-starlight_festival": {
						type: "json",
						base: i,
						url: "map-lamplight-a3-starlight_festival/3/map-lamplight-a3-starlight_festival.json"
					},
					"map-lamplight-a4-starlight_festival": {
						type: "json",
						base: i,
						url: "map-lamplight-a4-starlight_festival/1/map-lamplight-a4-starlight_festival.json"
					},
					"map-lamplight-b0-starlight_festival": {
						type: "json",
						base: i,
						url: "map-lamplight-b0-starlight_festival/1/map-lamplight-b0-starlight_festival.json"
					},
					"map-lamplight-b1-starlight_festival": {
						type: "json",
						base: i,
						url: "map-lamplight-b1-starlight_festival/1/map-lamplight-b1-starlight_festival.json"
					},
					"map-lamplight-b2-starlight_festival": {
						type: "json",
						base: i,
						url: "map-lamplight-b2-starlight_festival/1/map-lamplight-b2-starlight_festival.json"
					},
					"map-lamplight-b3-starlight_festival": {
						type: "json",
						base: i,
						url: "map-lamplight-b3-starlight_festival/2/map-lamplight-b3-starlight_festival.json"
					},
					"map-lamplight-b4-starlight_festival": {
						type: "json",
						base: i,
						url: "map-lamplight-b4-starlight_festival/1/map-lamplight-b4-starlight_festival.json"
					},
					"map-lamplight-b5-starlight_festival": {
						type: "json",
						base: i,
						url: "map-lamplight-b5-starlight_festival/1/map-lamplight-b5-starlight_festival.json"
					},
					"map-lamplight-c1-starlight_festival": {
						type: "json",
						base: i,
						url: "map-lamplight-c1-starlight_festival.json"
					},
					"map-lamplight-c2-starlight_festival": {
						type: "json",
						base: i,
						url: "map-lamplight-c2-starlight_festival/1/map-lamplight-c2-starlight_festival.json"
					},
					"map-lamplight-c3-starlight_festival": {
						type: "json",
						base: i,
						url: "map-lamplight-c3-starlight_festival/3/map-lamplight-c3-starlight_festival.json"
					},
					"map-lamplight-c4-starlight_festival": {
						type: "json",
						base: i,
						url: "map-lamplight-c4-starlight_festival/1/map-lamplight-c4-starlight_festival.json"
					},
					"map-lamplight-a2-winterfest": {
						type: "json",
						base: i,
						url: "map-lamplight-a2-winterfest/1/map-lamplight-a2-winterfest.json"
					},
					"map-lamplight-a3-winterfest": {
						type: "json",
						base: i,
						url: "map-lamplight-a3-winterfest/3/map-lamplight-a3-winterfest.json"
					},
					"map-lamplight-a4-winterfest": {
						type: "json",
						base: i,
						url: "map-lamplight-a4-winterfest/2/map-lamplight-a4-winterfest.json"
					},
					"map-lamplight-b0-winterfest": {
						type: "json",
						base: i,
						url: "map-lamplight-b0-winterfest/1/map-lamplight-b0-winterfest.json"
					},
					"map-lamplight-b1-winterfest": {
						type: "json",
						base: i,
						url: "map-lamplight-b1-winterfest/1/map-lamplight-b1-winterfest.json"
					},
					"map-lamplight-b2-winterfest": {
						type: "json",
						base: i,
						url: "map-lamplight-b2-winterfest/1/map-lamplight-b2-winterfest.json"
					},
					"map-lamplight-b3-winterfest": {
						type: "json",
						base: i,
						url: "map-lamplight-b3-winterfest/3/map-lamplight-b3-winterfest.json"
					},
					"map-lamplight-b4-winterfest": {
						type: "json",
						base: i,
						url: "map-lamplight-b4-winterfest/2/map-lamplight-b4-winterfest.json"
					},
					"map-lamplight-b5-winterfest": {
						type: "json",
						base: i,
						url: "map-lamplight-b5-winterfest/1/map-lamplight-b5-winterfest.json"
					},
					"map-lamplight-c2-winterfest": {
						type: "json",
						base: i,
						url: "map-lamplight-c2-winterfest/1/map-lamplight-c2-winterfest.json"
					},
					"map-lamplight-c3-winterfest": {
						type: "json",
						base: i,
						url: "map-lamplight-c3-winterfest/7/map-lamplight-c3-winterfest.json"
					},
					"map-lamplight-c4-winterfest": {
						type: "json",
						base: i,
						url: "map-lamplight-c4-winterfest/2/map-lamplight-c4-winterfest.json"
					},
					"map-lamplight-a1-springfest": {
						type: "json",
						base: i,
						url: "map-lamplight-a1-springfest/4/map-lamplight-a1-springfest.json"
					},
					"map-lamplight-a2-springfest": {
						type: "json",
						base: i,
						url: "map-lamplight-a2-springfest/4/map-lamplight-a2-springfest.json"
					},
					"map-lamplight-a3-springfest": {
						type: "json",
						base: i,
						url: "map-lamplight-a3-springfest/4/map-lamplight-a3-springfest.json"
					},
					"map-lamplight-b2-springfest": {
						type: "json",
						base: i,
						url: "map-lamplight-b2-springfest/5/map-lamplight-b2-springfest.json"
					},
					"map-lamplight-b3-springfest": {
						type: "json",
						base: i,
						url: "map-lamplight-b3-springfest/5/map-lamplight-b3-springfest.json"
					},
					"map-lamplight-b4-springfest": {
						type: "json",
						base: i,
						url: "map-lamplight-b4-springfest/1/map-lamplight-b4-springfest.json"
					},
					"map-lamplight-c2-springfest": {
						type: "json",
						base: i,
						url: "map-lamplight-c2-springfest/1/map-lamplight-c2-springfest.json"
					},
					"map-lamplight-c3-springfest": {
						type: "json",
						base: i,
						url: "map-lamplight-c3-springfest/5/map-lamplight-c3-springfest.json"
					},
					"map-lamplight-c4-springfest": {
						type: "json",
						base: i,
						url: "map-lamplight-c4-springfest/1/map-lamplight-c4-springfest.json"
					},
					"map-lamplight-d3-springfest": {
						type: "json",
						base: i,
						url: "map-lamplight-d3-springfest/5/map-lamplight-d3-springfest.json"
					},
					"map-skywatch-a0": {
						type: "json",
						base: i,
						url: "map-cloudzone-a0/4/map-cloudzone-a0.json"
					},
					"map-skywatch-a1": {
						type: "json",
						base: i,
						url: "map-cloudzone-a1/3/map-cloudzone-a1.json"
					},
					"map-skywatch-b1": {
						type: "json",
						base: i,
						url: "map-cloudzone-b1/7/map-cloudzone-b1.json"
					},
					"map-skywatch-b2": {
						type: "json",
						base: i,
						url: "map-cloudzone-b2/7/map-cloudzone-b2.json"
					},
					"map-skywatch-b3": {
						type: "json",
						base: i,
						url: "map-cloudzone-b3/10/map-cloudzone-b3.json"
					},
					"map-skywatch-c1": {
						type: "json",
						base: i,
						url: "map-cloudzone-c1/3/map-cloudzone-c1.json"
					},
					"map-skywatch-c2": {
						type: "json",
						base: i,
						url: "map-cloudzone-c2/4/map-cloudzone-c2.json"
					},
					"map-skywatch-c3": {
						type: "json",
						base: i,
						url: "map-cloudzone-c3/3/map-cloudzone-c3.json"
					},
					"map-skywatch-c4": {
						type: "json",
						base: i,
						url: "map-cloudzone-c4/12/map-cloudzone-c4.json"
					},
					"map-skywatch-c5": {
						type: "json",
						base: i,
						url: "map-cloudzone-c5/1/map-cloudzone-c5.json"
					},
					"map-skywatch-d1": {
						type: "json",
						base: i,
						url: "map-cloudzone-d1/6/map-cloudzone-d1.json"
					},
					"map-skywatch-d2": {
						type: "json",
						base: i,
						url: "map-cloudzone-d2/11/map-cloudzone-d2.json"
					},
					"map-skywatch-d3": {
						type: "json",
						base: i,
						url: "map-cloudzone-d3/12/map-cloudzone-d3.json"
					},
					"map-skywatch-e1": {
						type: "json",
						base: i,
						url: "map-cloudzone-e1/3/map-cloudzone-e1.json"
					},
					"map-skywatch-e2": {
						type: "json",
						base: i,
						url: "map-cloudzone-e2/6/map-cloudzone-e2.json"
					},
					"map-skywatch-e3": {
						type: "json",
						base: i,
						url: "map-cloudzone-e3/3/map-cloudzone-e3.json"
					},
					"map-skywatch-e4": {
						type: "json",
						base: i,
						url: "map-cloudzone-e4/3/map-cloudzone-e4.json"
					},
					"map-skywatch-e5": {
						type: "json",
						base: i,
						url: "map-cloudzone-e5/5/map-cloudzone-e5.json"
					},
					"map-bonfire_spire-a1": {
						type: "json",
						base: i,
						url: "map-bonfire_spire-a1/4/map-bonfire_spire-a1.json"
					},
					"map-bonfire_spire-a4": {
						type: "json",
						base: i,
						url: "map-bonfire_spire-a4/6/map-bonfire_spire-a4.json"
					},
					"map-bonfire_spire-b1": {
						type: "json",
						base: i,
						url: "map-bonfire_spire-b1/10/map-bonfire_spire-b1.json"
					},
					"map-bonfire_spire-b2": {
						type: "json",
						base: i,
						url: "map-bonfire_spire-b2/8/map-bonfire_spire-b2.json"
					},
					"map-bonfire_spire-b4": {
						type: "json",
						base: i,
						url: "map-bonfire_spire-b4/11/map-bonfire_spire-b4.json"
					},
					"map-bonfire_spire-b5": {
						type: "json",
						base: i,
						url: "map-bonfire_spire-b5/7/map-bonfire_spire-b5.json"
					},
					"map-bonfire_spire-c1": {
						type: "json",
						base: i,
						url: "map-bonfire_spire-c1/6/map-bonfire_spire-c1.json"
					},
					"map-bonfire_spire-c2": {
						type: "json",
						base: i,
						url: "map-bonfire_spire-c2/7/map-bonfire_spire-c2.json"
					},
					"map-bonfire_spire-c3": {
						type: "json",
						base: i,
						url: "map-bonfire_spire-c3/7/map-bonfire_spire-c3.json"
					},
					"map-bonfire_spire-c4": {
						type: "json",
						base: i,
						url: "map-bonfire_spire-c4/7/map-bonfire_spire-c4.json"
					},
					"map-bonfire_spire-c6": {
						type: "json",
						base: i,
						url: "map-bonfire_spire-c6/10/map-bonfire_spire-c6.json"
					},
					"map-bonfire_spire-d1": {
						type: "json",
						base: i,
						url: "map-bonfire_spire-d1/8/map-bonfire_spire-d1.json"
					},
					"map-bonfire_spire-d2": {
						type: "json",
						base: i,
						url: "map-bonfire_spire-d2/4/map-bonfire_spire-d2.json"
					},
					"map-bonfire_spire-d3": {
						type: "json",
						base: i,
						url: "map-bonfire_spire-d3/5/map-bonfire_spire-d3.json"
					},
					"map-bonfire_spire-d4": {
						type: "json",
						base: i,
						url: "map-bonfire_spire-d4/7/map-bonfire_spire-d4.json"
					},
					"map-bonfire_spire-d5": {
						type: "json",
						base: i,
						url: "map-bonfire_spire-d5/5/map-bonfire_spire-d5.json"
					},
					"map-bonfire_spire-d6": {
						type: "json",
						base: i,
						url: "map-bonfire_spire-d6/5/map-bonfire_spire-d6.json"
					},
					"map-bonfire_spire-e5": {
						type: "json",
						base: i,
						url: "map-bonfire_spire-e5/5/map-bonfire_spire-e5.json"
					},
					"map-bonfire_spire-e6": {
						type: "json",
						base: i,
						url: "map-bonfire_spire-e6/9/map-bonfire_spire-e6.json"
					},
					"map-dyno-a0": {
						type: "json",
						base: i,
						url: "map-dyno-a0/2/map-dyno-a0.json"
					},
					"map-house-exterior": {
						type: "json",
						base: i,
						url: "map-house-exterior/6/map-house-exterior.json"
					},
					"map-house-exit": {
						type: "json",
						base: i,
						url: "map-house-exit/1/map-house-exit.json"
					},
					"map-house-suburbs": {
						type: "json",
						base: i,
						url: "map-house-suburbs/2/map-house-suburbs.json"
					},
					"map-house-icecaves": {
						type: "json",
						base: i,
						url: "map-house-icecaves/1/map-house-icecaves.json"
					},
					"map-house-treehouse": {
						type: "json",
						base: i,
						url: "map-house-treehouse/1/map-house-treehouse.json"
					},
					"map-house-cool-cave": {
						type: "json",
						base: i,
						url: "map-house-cool-cave/2/map-house-cool-cave.json"
					},
					"map-house-fire-pit": {
						type: "json",
						base: i,
						url: "map-house-fire-pit/3/map-house-fire-pit.json"
					},
					"map-house-forest": {
						type: "json",
						base: i,
						url: "map-house-forest/3/map-house-forest.json"
					},
					"map-house-large-0": {
						type: "json",
						base: i,
						url: "map-house-large-0/2/map-house-large-0.json"
					},
					"map-house-large-1": {
						type: "json",
						base: i,
						url: "map-house-large-1/2/map-house-large-1.json"
					},
					"map-house-medium-0": {
						type: "json",
						base: i,
						url: "map-house-medium-0/2/map-house-medium-0.json"
					},
					"map-house-medium-1": {
						type: "json",
						base: i,
						url: "map-house-medium-1/2/map-house-medium-1.json"
					},
					"map-house-small-0": {
						type: "json",
						base: i,
						url: "map-house-small-0/2/map-house-small-0.json"
					},
					"map-house-small-1": {
						type: "json",
						base: i,
						url: "map-house-small-1/2/map-house-small-1.json"
					},
					"map-toyzone-a1": {
						type: "json",
						base: i,
						url: "map-toyzone-a1/10/map-toyzone-a1.json"
					},
					"map-toyzone-b1": {
						type: "json",
						base: i,
						url: "map-toyzone-b1/12/map-toyzone-b1.json"
					},
					"map-toyzone-b2": {
						type: "json",
						base: i,
						url: "map-toyzone-b2/13/map-toyzone-b2.json"
					},
					"map-house-fire-pit-2": {
						type: "json",
						base: i,
						url: "map-house-fire-pit-2/3/map-house-fire-pit-2.json"
					},
					"map-house-fire-pit-3": {
						type: "json",
						base: i,
						url: "map-house-fire-pit-3/2/map-house-fire-pit-3.json"
					},
					"map-house-house-large-3": {
						type: "json",
						base: i,
						url: "map-house-house-large-3/4/map-house-house-large-3.json"
					},
					"map-house-house-large-4": {
						type: "json",
						base: i,
						url: "map-house-house-large-4/5/map-house-house-large-4.json"
					},
					"map-house-cool-cave-unique-1": {
						type: "json",
						base: i,
						url: "map-house-cool-cave-unique-1/9/map-house-cool-cave-unique-1.json"
					},
					"map-house-cool-cave-unique-2": {
						type: "json",
						base: i,
						url: "map-house-cool-cave-unique-2/2/map-house-cool-cave-unique-2.json"
					},
					"map-house-treehouse-unique-1": {
						type: "json",
						base: i,
						url: "map-house-treehouse-unique-1/3/map-house-treehouse-unique-1.json"
					},
					"map-house-treehouse-unique-2": {
						type: "json",
						base: i,
						url: "map-house-treehouse-unique-2/5/map-house-treehouse-unique-2.json"
					},
					"map-lamplight-b3-twilight-wheel": {
						type: "json",
						base: i,
						url: "map-lamplight-b3-twilight-wheel/5/map-lamplight-b3-twilight-wheel.json"
					},
					"map-lamplight-c3-twilight-wheel": {
						type: "json",
						base: i,
						url: "map-lamplight-c3-twilight-wheel/2/map-lamplight-c3-twilight-wheel.json"
					},
					"map-activity_zone-a1": {
						type: "json",
						base: i,
						url: "map-activity_zone-a1/7/map-activity_zone-a1.json"
					},
					"map-activity_zone-a2": {
						type: "json",
						base: i,
						url: "map-activity_zone-a2/5/map-activity_zone-a2.json"
					},
					"map-activity_zone-b1": {
						type: "json",
						base: i,
						url: "map-activity_zone-b1/9/map-activity_zone-b1.json"
					},
					"map-activity_zone-b2": {
						type: "json",
						base: i,
						url: "map-activity_zone-b2/9/map-activity_zone-b2.json"
					},
					"map-activity_zone-c1": {
						type: "json",
						base: i,
						url: "map-activity_zone-c1/8/map-activity_zone-c1.json"
					},
					"map-activity_zone-c2": {
						type: "json",
						base: i,
						url: "map-activity_zone-c2/7/map-activity_zone-c2.json"
					},
					"map-activity_zone-b3": {
						type: "json",
						base: i,
						url: "map-activity_zone-b3/6/map-activity_zone-b3.json"
					},
					"map-shipwreck_shore-a1": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-a1/5/map-shipwreck_shore-a1.json"
					},
					"map-shipwreck_shore-a2": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-a2/4/map-shipwreck_shore-a2.json"
					},
					"map-shipwreck_shore-a3": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-a3/5/map-shipwreck_shore-a3.json"
					},
					"map-shipwreck_shore-a4": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-a4/4/map-shipwreck_shore-a4.json"
					},
					"map-shipwreck_shore-a5": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-a5/9/map-shipwreck_shore-a5.json"
					},
					"map-shipwreck_shore-a7": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-a7/5/map-shipwreck_shore-a7.json"
					},
					"map-shipwreck_shore-b10": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-b10/5/map-shipwreck_shore-b10.json"
					},
					"map-shipwreck_shore-b11": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-b11/6/map-shipwreck_shore-b11.json"
					},
					"map-shipwreck_shore-b12": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-b12/7/map-shipwreck_shore-b12.json"
					},
					"map-shipwreck_shore-b13": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-b13/6/map-shipwreck_shore-b13.json"
					},
					"map-shipwreck_shore-b2": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-b2/4/map-shipwreck_shore-b2.json"
					},
					"map-shipwreck_shore-b4": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-b4/3/map-shipwreck_shore-b4.json"
					},
					"map-shipwreck_shore-b5": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-b5/5/map-shipwreck_shore-b5.json"
					},
					"map-shipwreck_shore-b6": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-b6/7/map-shipwreck_shore-b6.json"
					},
					"map-shipwreck_shore-b7": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-b7/7/map-shipwreck_shore-b7.json"
					},
					"map-shipwreck_shore-b8": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-b8/4/map-shipwreck_shore-b8.json"
					},
					"map-shipwreck_shore-c10": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-c10/5/map-shipwreck_shore-c10.json"
					},
					"map-shipwreck_shore-c11": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-c11/6/map-shipwreck_shore-c11.json"
					},
					"map-shipwreck_shore-c12": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-c12/5/map-shipwreck_shore-c12.json"
					},
					"map-shipwreck_shore-c6": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-c6/4/map-shipwreck_shore-c6.json"
					},
					"map-shipwreck_shore-c7": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-c7/4/map-shipwreck_shore-c7.json"
					},
					"map-shipwreck_shore-c8": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-c8/6/map-shipwreck_shore-c8.json"
					},
					"map-shipwreck_shore-c9": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-c9/8/map-shipwreck_shore-c9.json"
					},
					"map-darktower-a1": {
						type: "json",
						base: i,
						url: "map-darktower-a1/14/map-darktower-a1.json"
					},
					"map-darktower-a2": {
						type: "json",
						base: i,
						url: "map-darktower-a2/23/map-darktower-a2.json"
					},
					"map-darktower-a3": {
						type: "json",
						base: i,
						url: "map-darktower-a3/9/map-darktower-a3.json"
					},
					"map-shipwreck_shore-titan": {
						type: "json",
						base: i,
						url: "map-shipwreck_shore-titan/5/map-shipwreck_shore-titan.json"
					},
					"map-forest-titan": {
						type: "json",
						base: i,
						url: "map-forest-titan/2/map-forest-titan.json"
					},
					"map-academy-gh1": {
						type: "json",
						base: i,
						url: "map-academy-gh1/13/map-academy-gh1.json"
					},
					"map-academy-gh2": {
						type: "json",
						base: i,
						url: "map-academy-gh2/10/map-academy-gh2.json"
					},
					"map-academy-gh3": {
						type: "json",
						base: i,
						url: "map-academy-gh3/19/map-academy-gh3.json"
					},
					"map-archives-1": {
						type: "json",
						base: i,
						url: "map-archives-1/8/map-archives-1.json"
					},
					"map-archives-2": {
						type: "json",
						base: i,
						url: "map-archives-2/7/map-archives-2.json"
					},
					"map-archives-3": {
						type: "json",
						base: i,
						url: "map-archives-3/10/map-archives-3.json"
					},
					"map-archives-4": {
						type: "json",
						base: i,
						url: "map-archives-4/8/map-archives-4.json"
					},
					"map-archives-5": {
						type: "json",
						base: i,
						url: "map-archives-5/9/map-archives-5.json"
					},
					"map-archives-6": {
						type: "json",
						base: i,
						url: "map-archives-6/9/map-archives-6.json"
					},
					"map-archives-m1": {
						type: "json",
						base: i,
						url: "map-archives-m1/10/map-archives-m1.json"
					},
					"map-archives-m2": {
						type: "json",
						base: i,
						url: "map-archives-m2/9/map-archives-m2.json"
					},
					"map-archives-m3": {
						type: "json",
						base: i,
						url: "map-archives-m3/8/map-archives-m3.json"
					},
					"map-archives-m4": {
						type: "json",
						base: i,
						url: "map-archives-m4/8/map-archives-m4.json"
					},
					"map-archives-m5": {
						type: "json",
						base: i,
						url: "map-archives-m5/10/map-archives-m5.json"
					},
					"map-archives-m6": {
						type: "json",
						base: i,
						url: "map-archives-m6/8/map-archives-m6.json"
					},
					"map-archives-m7": {
						type: "json",
						base: i,
						url: "map-archives-m7/7/map-archives-m7.json"
					},
					"map-archives-m8": {
						type: "json",
						base: i,
						url: "map-archives-m8/7/map-archives-m8.json"
					},
					"map-archives-m9": {
						type: "json",
						base: i,
						url: "map-archives-m9/7/map-archives-m9.json"
					},
					"map-archives-end": {
						type: "json",
						base: i,
						url: "map-archives-end/4/map-archives-end.json"
					},
					"battle-shiverchill-outside": {
						type: "json",
						base: i,
						url: "battle-shiverchill-outside/1/battle-shiverchill-outside.json"
					},
					"battle-shiverchill-inside": {
						type: "json",
						base: i,
						url: "battle-shiverchill-inside/4/battle-shiverchill-inside.json"
					},
					"battle-shipwreck-outside": {
						type: "json",
						base: i,
						url: "battle-shipwreck-outside/4/battle-shipwreck-outside.json"
					},
					"battle-shipwreck-underwater": {
						type: "json",
						base: i,
						url: "battle-shipwreck-underwater/1/battle-shipwreck-underwater.json"
					},
					"battle-bonfire-outside": {
						type: "json",
						base: i,
						url: "battle-bonfire-outside/3/battle-bonfire-outside.json"
					},
					"battle-bonfire-inside": {
						type: "json",
						base: i,
						url: "battle-bonfire-inside/1/battle-bonfire-inside.json"
					},
					"battle-bonfire-lava": {
						type: "json",
						base: i,
						url: "battle-bonfire-lava/3/battle-bonfire-lava.json"
					},
					"battle-tower-inside": {
						type: "json",
						base: i,
						url: "battle-tower-inside/3/battle-tower-inside.json"
					},
					"battle-coliseum-outside": {
						type: "json",
						base: i,
						url: "battle-colosseum-outside/1/battle-colosseum-outside.json"
					},
					"battle-lamplight-outside": {
						type: "json",
						base: i,
						url: "battle-lamplight-outside/1/battle-lamplight-outside.json"
					},
					"battle-forest-outside": {
						type: "json",
						base: i,
						url: "battle-forest-outside/1/battle-forest-outside.json"
					},
					"battle-skywatch-outside": {
						type: "json",
						base: i,
						url: "battle-skywatch-outside/3/battle-skywatch-outside.json"
					},
					"battle-skywatch-inside": {
						type: "json",
						base: i,
						url: "battle-skywatch-inside/4/battle-skywatch-inside.json"
					},
					"battle-forest-generic": {
						type: "json",
						base: i,
						url: "battle-forest-generic/1/battle-forest-generic.json"
					},
					"battle-archives": {
						type: "json",
						base: i,
						url: "battle-archives/5/battle-archives.json"
					},
					"battle-academy-gh-stairs": {
						type: "json",
						base: i,
						url: "battle-academy-gh-stairs/1/battle-academy-gh-stairs.json"
					},
					"voice-1-1": {
						type: "sfx",
						v: 5
					},
					"voice-1-2": {
						type: "sfx",
						v: 5
					},
					"voice-1-3": {
						type: "sfx",
						v: 5
					},
					"voice-1-4": {
						type: "sfx",
						v: 5
					},
					"voice-1-5": {
						type: "sfx",
						v: 5
					},
					"voice-1-6": {
						type: "sfx",
						v: 5
					},
					"voice-1-7": {
						type: "sfx",
						v: 5
					},
					"voice-1-8": {
						type: "sfx",
						v: 5
					},
					"voice-1-9": {
						type: "sfx",
						v: 5
					},
					"voice-1-10": {
						type: "sfx",
						v: 5
					},
					"voice-1-11": {
						type: "sfx",
						v: 5
					},
					"voice-1-12": {
						type: "sfx",
						v: 5
					},
					"voice-1-13": {
						type: "sfx",
						v: 5
					},
					"voice-1-14": {
						type: "sfx",
						v: 5
					},
					"voice-1-15": {
						type: "sfx",
						v: 5
					},
					"voice-0": {
						type: "sfx",
						v: 5
					},
					"voice-2": {
						type: "sfx",
						v: 5
					},
					"voice-3": {
						type: "sfx",
						v: 5
					},
					"voice-4": {
						type: "sfx",
						v: 5
					},
					"voice-5": {
						type: "sfx",
						v: 5
					},
					"voice-6": {
						type: "sfx",
						v: 5
					},
					"voice-7": {
						type: "sfx",
						v: 5
					},
					"voice-8-1": {
						type: "sfx",
						v: 5
					},
					"voice-8-2": {
						type: "sfx",
						v: 5
					},
					"voice-8-3": {
						type: "sfx",
						v: 10
					},
					"voice-8-4": {
						type: "sfx",
						v: 5
					},
					"voice-8-5": {
						type: "sfx",
						v: 5
					},
					"voice-8-6": {
						type: "sfx",
						v: 5
					},
					"voice-8-7": {
						type: "sfx",
						v: 5
					},
					"voice-8-8": {
						type: "sfx",
						v: 5
					},
					"voice-8-9": {
						type: "sfx",
						v: 5
					},
					"voice-8-10": {
						type: "sfx",
						v: 5
					},
					"voice-8-11": {
						type: "sfx",
						v: 5
					},
					"voice-8-12": {
						type: "sfx",
						v: 5
					},
					"voice-8-13": {
						type: "sfx",
						v: 5
					},
					"voice-8-14": {
						type: "sfx",
						v: 5
					},
					"voice-9": {
						type: "sfx",
						v: 5
					},
					"voice-10-1": {
						type: "sfx",
						v: 5
					},
					"voice-10-2": {
						type: "sfx",
						v: 5
					},
					"voice-10-3": {
						type: "sfx",
						v: 5
					},
					"voice-10-4": {
						type: "sfx",
						v: 5
					},
					"voice-10-5": {
						type: "sfx",
						v: 5
					},
					"voice-10-6": {
						type: "sfx",
						v: 5
					},
					"voice-10-7": {
						type: "sfx",
						v: 5
					},
					"voice-10-8": {
						type: "sfx",
						v: 5
					},
					"voice-10-9": {
						type: "sfx",
						v: 5
					},
					"voice-10-10": {
						type: "sfx",
						v: 5
					},
					"voice-10-11": {
						type: "sfx",
						v: 5
					},
					"voice-10-12": {
						type: "sfx",
						v: 5
					},
					"voice-10-13": {
						type: "sfx",
						v: 5
					},
					"voice-10-14": {
						type: "sfx",
						v: 5
					},
					"voice-10-15": {
						type: "sfx",
						v: 5
					},
					"voice-10-16": {
						type: "sfx",
						v: 5
					},
					"voice-10-17": {
						type: "sfx",
						v: 5
					},
					"voice-10-18": {
						type: "sfx",
						v: 5
					},
					"voice-10-19": {
						type: "sfx",
						v: 5
					},
					"voice-10-20": {
						type: "sfx",
						v: 5
					},
					"voice-10-21": {
						type: "sfx",
						v: 5
					},
					"voice-10-22": {
						type: "sfx",
						v: 5
					},
					"voice-10-23": {
						type: "sfx",
						v: 5
					},
					"voice-10-24": {
						type: "sfx",
						v: 5
					},
					"voice-10-25": {
						type: "sfx",
						v: 5
					},
					"voice-10-26": {
						type: "sfx",
						v: 5
					},
					"voice-10-27": {
						type: "sfx",
						v: 5
					},
					"voice-10-28": {
						type: "sfx",
						v: 5
					},
					"voice-10-29": {
						type: "sfx",
						v: 5
					},
					"voice-10-30": {
						type: "sfx",
						v: 5
					},
					"voice-10-31": {
						type: "sfx",
						v: 5
					},
					"voice-10-32": {
						type: "sfx",
						v: 5
					},
					"voice-10-33": {
						type: "sfx",
						v: 5
					},
					"voice-10-34": {
						type: "sfx",
						v: 5
					},
					"voice-10-35": {
						type: "sfx",
						v: 5
					},
					"voice-10-36": {
						type: "sfx",
						v: 5
					},
					"voice-10-37": {
						type: "sfx",
						v: 5
					},
					"voice-10-38": {
						type: "sfx",
						v: 5
					},
					"voice-10-39": {
						type: "sfx",
						v: 5
					},
					"voice-10-40": {
						type: "sfx",
						v: 5
					},
					"voice-10-41": {
						type: "sfx",
						v: 5
					},
					"voice-10-42": {
						type: "sfx",
						v: 5
					},
					"voice-10-43": {
						type: "sfx",
						v: 5
					},
					"voice-10-44": {
						type: "sfx",
						v: 5
					},
					"voice-10-45": {
						type: "sfx",
						v: 5
					},
					"voice-10-46": {
						type: "sfx",
						v: 5
					},
					"voice-10-47": {
						type: "sfx",
						v: 5
					},
					"voice-10-48": {
						type: "sfx",
						v: 5
					},
					"voice-10-49": {
						type: "sfx",
						v: 5
					},
					"voice-10-50": {
						type: "sfx",
						v: 5
					},
					"voice-10-51": {
						type: "sfx",
						v: 5
					},
					"voice-10-52": {
						type: "sfx",
						v: 5
					},
					"voice-10-53": {
						type: "sfx",
						v: 5
					},
					"voice-10-54": {
						type: "sfx",
						v: 5
					},
					"voice-10-55": {
						type: "sfx",
						v: 5
					},
					"voice-10-56": {
						type: "sfx",
						v: 5
					},
					"voice-10-57": {
						type: "sfx",
						v: 5
					},
					"voice-10-58": {
						type: "sfx",
						v: 5
					},
					"voice-10-59": {
						type: "sfx",
						v: 5
					},
					"voice-10-60": {
						type: "sfx",
						v: 5
					},
					"voice-10-61": {
						type: "sfx",
						v: 5
					},
					"voice-10-62": {
						type: "sfx",
						v: 5
					},
					"voice-10-63": {
						type: "sfx",
						v: 5
					},
					"voice-10-64": {
						type: "sfx",
						v: 5
					},
					"voice-10-65": {
						type: "sfx",
						v: 3
					},
					"voice-10-66": {
						type: "sfx",
						v: 5
					},
					"voice-10-67": {
						type: "sfx",
						v: 2
					},
					"voice-10-68": {
						type: "sfx",
						v: 1
					},
					"voice-10-69": {
						type: "sfx",
						v: 1
					},
					"voice-10-70": {
						type: "sfx",
						v: 1
					},
					"voice-10-71": {
						type: "sfx",
						v: 1
					},
					"voice-10-72": {
						type: "sfx",
						v: 1
					},
					"voice-10-73": {
						type: "sfx",
						v: 1
					},
					"voice-10-74": {
						type: "sfx",
						v: 1
					},
					"voice-10-75": {
						type: "sfx",
						v: 1
					},
					"voice-10-76": {
						type: "sfx",
						v: 1
					},
					"voice-10-77": {
						type: "sfx",
						v: 1
					},
					"voice-10-78": {
						type: "sfx",
						v: 1
					},
					"voice-10-79": {
						type: "sfx",
						v: 1
					},
					"voice-10-80": {
						type: "sfx",
						v: 1
					},
					"voice-10-81": {
						type: "sfx",
						v: 1
					},
					"voice-10-82": {
						type: "sfx",
						v: 1
					},
					"voice-10-83": {
						type: "sfx",
						v: 1
					},
					"voice-10-84": {
						type: "sfx",
						v: 1
					},
					"voice-10-85": {
						type: "sfx",
						v: 1
					},
					"voice-10-86": {
						type: "sfx",
						v: 1
					},
					"voice-10-87": {
						type: "sfx",
						v: 1
					},
					"voice-10-88": {
						type: "sfx",
						v: 1
					},
					"voice-11": {
						type: "sfx",
						v: 5
					},
					"voice-11-1": {
						type: "sfx",
						v: 5
					},
					"voice-11-2": {
						type: "sfx",
						v: 5
					},
					"voice-11-3": {
						type: "sfx",
						v: 5
					},
					"voice-12-1": {
						type: "sfx",
						v: 5
					},
					"voice-12-2": {
						type: "sfx",
						v: 5
					},
					"voice-12-3": {
						type: "sfx",
						v: 5
					},
					"voice-12-4": {
						type: "sfx",
						v: 5
					},
					"voice-12-5": {
						type: "sfx",
						v: 5
					},
					"voice-12-6": {
						type: "sfx",
						v: 5
					},
					"voice-12-7": {
						type: "sfx",
						v: 5
					},
					"voice-12-8": {
						type: "sfx",
						v: 5
					},
					"voice-12-9": {
						type: "sfx",
						v: 5
					},
					"voice-12-10": {
						type: "sfx",
						v: 5
					},
					"voice-12-11": {
						type: "sfx",
						v: 5
					},
					"voice-12-12": {
						type: "sfx",
						v: 5
					},
					"voice-12-13": {
						type: "sfx",
						v: 5
					},
					"voice-12-14": {
						type: "sfx",
						v: 5
					},
					"voice-12-15": {
						type: "sfx",
						v: 5
					},
					"voice-12-16": {
						type: "sfx",
						v: 5
					},
					"voice-12-17": {
						type: "sfx",
						v: 5
					},
					"voice-12-18": {
						type: "sfx",
						v: 5
					},
					"voice-13-1": {
						type: "sfx",
						v: 5
					},
					"voice-14-1": {
						type: "sfx",
						v: 5
					},
					"voice-14-2": {
						type: "sfx",
						v: 5
					},
					"voice-15-1": {
						type: "sfx",
						v: 5
					},
					"voice-15-2": {
						type: "sfx",
						v: 5
					},
					"voice-15-3": {
						type: "sfx",
						v: 5
					},
					"voice-15-4": {
						type: "sfx",
						v: 5
					},
					"voice-15-5": {
						type: "sfx",
						v: 5
					},
					"voice-15-6": {
						type: "sfx",
						v: 5
					},
					"voice-15-7": {
						type: "sfx",
						v: 5
					},
					"voice-15-8": {
						type: "sfx",
						v: 5
					},
					"voice-15-9": {
						type: "sfx",
						v: 5
					},
					"voice-15-10": {
						type: "sfx",
						v: 5
					},
					"voice-15-11": {
						type: "sfx",
						v: 5
					},
					"voice-15-12": {
						type: "sfx",
						v: 5
					},
					"voice-15-13": {
						type: "sfx",
						v: 5
					},
					"voice-15-14": {
						type: "sfx",
						v: 5
					},
					"voice-15-15": {
						type: "sfx",
						v: 5
					},
					"voice-15-16": {
						type: "sfx",
						v: 5
					},
					"voice-15-17": {
						type: "sfx",
						v: 5
					},
					"voice-15-18": {
						type: "sfx",
						v: 5
					},
					"voice-16-1": {
						type: "sfx",
						v: 5
					},
					"voice-16-2": {
						type: "sfx",
						v: 5
					},
					"voice-16-3": {
						type: "sfx",
						v: 5
					},
					"voice-17-1": {
						type: "sfx",
						v: 5
					},
					"voice-17-2": {
						type: "sfx",
						v: 5
					},
					"voice-17-3": {
						type: "sfx",
						v: 5
					},
					"voice-17-4": {
						type: "sfx",
						v: 5
					},
					"voice-18-1": {
						type: "sfx",
						v: 5
					},
					"voice-18-2": {
						type: "sfx",
						v: 5
					},
					"voice-18-3": {
						type: "sfx",
						v: 5
					},
					"voice-18-4": {
						type: "sfx",
						v: 5
					},
					"voice-18-5": {
						type: "sfx",
						v: 5
					},
					"voice-19-1": {
						type: "sfx",
						v: 5
					},
					"voice-20-1": {
						type: "sfx",
						v: 6
					},
					"voice-20-2": {
						type: "sfx",
						v: 3
					},
					"voice-21-1": {
						type: "sfx",
						v: 5
					},
					"voice-21-2": {
						type: "sfx",
						v: 5
					},
					"voice-22-1": {
						type: "sfx",
						v: 8
					},
					"voice-22-2": {
						type: "sfx",
						v: 3
					},
					"voice-23-1": {
						type: "sfx",
						v: 5
					},
					"voice-23-2": {
						type: "sfx",
						v: 3
					},
					"voice-23-3": {
						type: "sfx",
						v: 3
					},
					"voice-24-1": {
						type: "sfx",
						v: 5
					},
					"voice-25-1": {
						type: "sfx",
						v: 4
					},
					"voice-26-1": {
						type: "sfx",
						v: 4
					},
					"voice-27-1": {
						type: "sfx",
						v: 4
					},
					"voice-28-1": {
						type: "sfx",
						v: 4
					},
					"voice-29-1": {
						type: "sfx",
						v: 3
					},
					"voice-30-1": {
						type: "sfx",
						v: 1
					}
				};
				var n = t.get(a.EProdigyInjectionIdentifiers.EnvironmentProvider);
				n.getCurrentEnvironment() !== o.EEnvironment.QABox && (this.assets["feature-flag-data"] = {
					type: "json",
					fullURL: t.get(a.EProdigyInjectionIdentifiers.URLProvider).getCDNRootUrl() + "/flags/" + n.getEnvironmentString() + "/prodigy-game.json"
				})
			}
			return t.prototype.getAsset = function(t) {
				if (!r.Util.isValid(this.assets[t])) {
					var e = null,
						i = null,
						a = 0 === t.indexOf("horizontal-dorm") || 0 === t.indexOf("vertical-dorm") || 0 === t.indexOf("sheets-dorm"),
						o = 0 === t.indexOf("default-pet-") || 0 === t.indexOf("reduced-pet-") || 0 === t.indexOf("small-pet-"),
						l = 0 === t.indexOf("male-outfit-") || 0 === t.indexOf("female-outfit-"),
						c = 0 === t.indexOf("above-mount-") || 0 === t.indexOf("below-mount-");
					if (0 === t.indexOf("icon-")) {
						if ((e = t.split("-")).length > 2)
							if ("storeTab" === e[1]) {
								var h = s.Items.getItem("singleImage", parseInt(e[2]) + 22);
								this.assets[t] = {
									type: "singleImage",
									v: n(h, "metadata.v", 1),
									key: t
								}
							} else i = s.Items.getItemMetadata(e[1], parseInt(e[2])), this.assets[t] = {
								type: "singleImage",
								v: n(i, "vIcon", 1)
							}
					} else if (a || o || l || c || 0 === t.indexOf("default-boss-") || 0 === t.indexOf("default-follow-") || 0 === t.indexOf("default-titan-"))(e = t.split("-")).length > 2 && (i = s.Items.getItemMetadata(e[1], parseInt(e[2])), r.Util.isValid(i) && (this.assets[t] = i.assets[e[0]]));
					else if (0 === t.indexOf("default-emote-"))(e = t.split("-")).length > 2 && (i = s.Items.getItemMetadata(e[1], parseInt(e[2])).assets[e[0]], r.Util.isValid(i) && (this.assets[t] = {
						type: i.type,
						v: r.Util.isValid(i) && r.Util.isValid(i.v) ? i.v : 1
					}));
					else if (0 === t.indexOf("atlas-") || 0 === t.indexOf("bitmapFont-") || 0 === t.indexOf("sfx-") || 0 === t.indexOf("bgm-") || 0 === t.indexOf("singleImage-") || 0 === t.indexOf("spine-")) {
						if (2 === (e = t.split("-")).length) {
							h = s.Items.getItem(e[0], parseInt(e[1]));
							this.assets[t] = {
								filename: h.data.filename,
								type: e[0],
								v: n(h, "metadata.assets.default.v", 1)
							}
						}
					} else this.assets[t] = {}
				}
				return this.assets[t]
			}, t.prototype.getImageBounds = function(t) {
				var e = this.getAsset(t);
				return r.Util.isValid(e) ? [e.x, e.y, e.w, e.h] : [0, 0, 0, 0]
			}, t.prototype.getImagePivots = function(t) {
				var e = this.getAsset(t);
				return r.Util.isValid(e) ? [r.Util.isValid(e.pivotX) ? e.pivotX : null, r.Util.isValid(e.pivotY) ? e.pivotY : null] : [null, null]
			}, t.prototype.appendAssets = function(t) {
				for (var e in t) this.assets[e] = t[e]
			}, t
		}();
	e.Assets = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e) {
			return t.call(this, e, [], ["shiverchill-B1", "shiverchill-A2", "shiverchill-A5", "shiverchill-B8", "shiverchill-A11"]) || this
		}
		return n(e, t), e.prototype.applySkin = function(e) {
			t.prototype.init.call(this, e);
			var i = {
				type: "LINE_ZONE",
				x1: -200,
				y1: 0,
				x2: 1280,
				y2: 0
			};
			this.game.prodigy.create.createParticleEmitter(e.foreground, 1, new Phaser.Point(0, 0), i), this.game.prodigy.create.createParticleEmitter(e.foreground, 2, new Phaser.Point(0, 0), i)
		}, e
	}(i(118).Skin);
	e.Snow = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(5),
		o = function(t) {
			function e(e) {
				var i = t.call(this, e, [], ["forest-A3", "forest-A4", "forest-A5", "forest-B5", "forest-B6", "forest-B7", "forest-B8", "forest-C4", "forest-C7", "forest-C8", "forest-D3"]) || this;
				return i.count = 0, i.magicParticle = [], i
			}
			return n(e, t), e.prototype.init = function(e) {
				t.prototype.init.call(this, e);
				var i = e.foreground;
				this.initListeners();
				for (var n = 0; n < 5; n++) this.magicParticle.push(i.add(this.game.prodigy.create.sprite(Math.floor(1280 * Math.random()), Math.floor(720 * Math.random()), "atlas-18", "sparkle-yellow-1")));
				return {}
			}, e.prototype.initListeners = function() {
				this.game.broadcaster.addAppListener(a.EGameObjEvents.Update, this.update.bind(this), this, this.game)
			}, e.prototype.stopListeners = function() {
				this.game.broadcaster.removeAppListener(a.EGameObjEvents.Update, this, this.game)
			}, e.prototype.randomizePosition = function() {
				for (var t = 0, e = this.magicParticle; t < e.length; t++) {
					var i = e[t];
					i.x = Math.floor(1280 * Math.random()), i.y = Math.floor(720 * Math.random())
				}
			}, e.prototype.update = function() {
				for (var t = 0, e = this.magicParticle; t < e.length; t++) {
					e[t].y -= 1
				}
				this.count++, this.count > 180 && (this.randomizePosition(), this.count = 0)
			}, e
		}(i(118).Skin);
	e.MagicParticle = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(29),
		o = i(0),
		r = function(t) {
			function e(e) {
				return t.call(this, e, [], ["shipwreck_shore-A2", "shipwreck_shore-A3", "shipwreck_shore-A5", "shipwreck_shore-A7", "shipwreck_shore-B5", "shipwreck_shore-B6", "shipwreck_shore-B7", "shipwreck_shore-B8", "shipwreck_shore-B10", "shipwreck_shore-B13", "shipwreck_shore-C6", "shipwreck_shore-C7", "shipwreck_shore-C8", "shipwreck_shore-C9"]) || this
			}
			return n(e, t), e.prototype.init = function(e) {
				t.prototype.init.call(this, e), this.bubbles = [];
				for (var i = 0; i < 5; i++) {
					var n = e.foreground.add(this.game.prodigy.create.sprite(a.Random.integerInRange(0, 1280), a.Random.integerInRange(0, 720), "atlas-156", "tiny-bubble"));
					this.initBubble(n, !0), this.bubbles.push(n)
				}
				return {}
			}, e.prototype.initBubble = function(t, e) {
				if (o.Util.isValid(this.game)) {
					var i = a.Random.integerInRange(0, 2e3) + 5e3;
					t.x = a.Random.integerInRange(0, 1280), e ? (t.y = a.Random.integerInRange(70, 770), i -= Math.floor(i / 770 * t.y)) : t.y = 770, this.game.add.tween(t).to({
						x: "-10"
					}, 1e3, Phaser.Easing.Sinusoidal.InOut).to({
						x: "+10"
					}, 1e3, Phaser.Easing.Sinusoidal.InOut).loop().start();
					var n = this.game.add.tween(t).to({
						y: -50
					}, i, Phaser.Easing.Linear.None);
					n.onComplete.addOnce(this.initBubble.bind(this, t, !1)), n.start()
				}
			}, e
		}(i(118).Skin);
	e.Bubbles = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(249),
		a = i(712),
		o = i(711),
		r = i(710),
		s = function() {
			function t(t) {
				this.gameFestivalsData = [{
					festivalName: "Springfest",
					destinationMap: "lamplight-B3",
					exclusiveMap: ["lamplight-A1", "lamplight-D3"]
				}], this.game = t, this.active = [new r.Snow(t), new o.MagicParticle(t), new a.Bubbles(t)]
			}
			return t.prototype.getButtons = function() {
				for (var t = [], e = 0; e < this.active.length; e++) {
					var i = this.active[e];
					t = t.concat(i.getButtons())
				}
				return t
			}, t.prototype.getAssets = function(t) {
				for (var e = [], i = 0; i < this.active.length; i++) {
					var n = this.active[i];
					n.active(t) && (e = e.concat(n.getAssets(t)))
				}
				return e
			}, t.prototype.init = function(t) {
				for (var e = {}, i = 0; i < this.active.length; i++) {
					var n = this.active[i];
					n.active(t.saveTag) && Object.assign(e, n.init(t))
				}
				return e
			}, t.prototype.applySkin = function(t) {
				for (var e = 0; e < this.active.length; e++) {
					var i = this.active[e];
					i.active(t.saveTag) && i.applySkin(t)
				}
			}, t.prototype.checkForExclusiveMap = function(t) {
				for (var e = 0; e < this.gameFestivalsData.length; e++)
					for (var i = this.gameFestivalsData[e], n = 0; n < i.exclusiveMap.length; n++)
						if (t === i.exclusiveMap[n] && !this.isFestivalActive(i.festivalName)) return i.destinationMap;
				return t
			}, t.prototype.isFestivalActive = function(t) {
				for (var e = 0; e < this.active.length; e++) {
					var i = this.active[e];
					if (i instanceof n.GameFestival && i.festivalName === t) return !0
				}
				return !1
			}, t
		}();
	e.SkinManager = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(5),
		r = i(0),
		s = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				return i.titan = null, e.broadcaster.addAppListener(o.ENetworkHandlerEvents.Setup, function() {
					i.setup()
				}, i, "NetworkHandlers", !0), i
			}
			return n(e, t), e.prototype.getTitans = function() {
				this.game.prodigy.player.hasCompletedTutorial() && (this.game.prodigy.loading(!0), this.game.prodigy.network.getTitans(this.getTitansSuccess.bind(this), this.networkCallFailure.bind(this)))
			}, e.prototype.getTitan = function(t, e) {
				void 0 === e && (e = "Titan"), this.game.prodigy.player.hasCompletedTutorial() && (this.game.prodigy.loading(!0), this.game.prodigy.network.getTitan(t, this.getTitanSuccess.bind(this, e), this.getTitanFailure.bind(this, e)))
			}, e.prototype.getTitanUserData = function() {
				this.game.prodigy.player.hasCompletedTutorial() && this.game.prodigy.network.getTitanUserData(null, null)
			}, e.prototype.hitTitan = function(t, e) {
				this.game.prodigy.player.hasCompletedTutorial() && (this.game.prodigy.loading(!0), this.game.prodigy.network.hitTitan(t, this.hitTitanSuccess.bind(this), this.networkCallFailure.bind(this)), e && this.game.prodigy.network.hitTitan(t, this.hitTitanSuccess.bind(this), this.networkCallFailure.bind(this)))
			}, e.prototype.isTitanAlive = function() {
				return !(!r.Util.isValid(this.titan) || !r.Util.isValid(this.titan.id)) && (this.titan.health > 0 && !this.titan.processed)
			}, e.prototype.setup = function() {
				this.game.broadcaster.removeAppListener(o.ENetworkHandlerEvents.Setup, this, "NetworkHandlers"), this.getTitanUserData()
			}, e.prototype.getTitansSuccess = function(t) {
				this.game.prodigy.loading(!1), this.titan = t, this.game.broadcaster.broadcast(o.ETitanEvents.GotTitans, "Titan", [t])
			}, e.prototype.getTitanSuccess = function(t, e) {
				this.game.prodigy.loading(!1), this.titan = e, this.game.broadcaster.broadcast(o.ETitanEvents.GotTitan, t, [e])
			}, e.prototype.getTitanFailure = function(t) {
				this.game.prodigy.loading(!1), a.Logger.log("Error: Titan network call failure", a.LogLevel.Verbose), this.titan = null, this.game.broadcaster.broadcast(o.ETitanEvents.GotTitan, t, [null])
			}, e.prototype.hitTitanSuccess = function(t) {
				this.game.prodigy.loading(!1), this.titan.hits = t.hits
			}, e.prototype.networkCallFailure = function() {
				this.game.prodigy.loading(!1), this.titan = null, a.Logger.log("Error: Titan network call failure", a.LogLevel.Verbose), this.game.broadcaster.broadcast(o.ETitanEvents.GotTitan, "Titan", [null])
			}, e
		}(i(93).NetworkHandler);
	e.TitansNetworkHandler = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(5),
		s = i(0),
		l = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				return i.seasonID = null, i.seasonName = "", i.leaderboard = null, i.isInitialized = !1, i.rank = {
					points: 0
				}, i.startListeners(), i
			}
			return n(e, t), Object.defineProperty(e.prototype, "userLeaderboard", {
				get: function() {
					return this.leaderboard
				},
				set: function(t) {
					this.leaderboard = t;
					var e = o.GameConstants.get("GameConstants.PVP.OVERRIDE_USER_POINTS");
					s.Util.isValid(e) && (this.leaderboard.points = e)
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "userRank", {
				get: function() {
					return this.rank
				},
				set: function(t) {
					this.rank = t;
					var e = o.GameConstants.get("GameConstants.PVP.OVERRIDE_USER_RANK");
					s.Util.isValid(e) && (this.rank = e)
				},
				enumerable: !0,
				configurable: !0
			}), e.prototype.startListeners = function() {
				a.Logger.log("PVPNetworkHandler: Starting listeners", a.LogLevel.Verbose), this.game.broadcaster.addAppListener(r.ENetworkHandlerEvents.Setup, this.setup.bind(this), this, "NetworkHandlers", !0)
			}, e.prototype.stopListeners = function() {
				a.Logger.log("PVPNetworkHandler: Stopping listeners", a.LogLevel.Verbose), this.game.broadcaster.removeAppListener(r.ENetworkHandlerEvents.Setup, this, "NetworkHandlers")
			}, e.prototype.setup = function() {
				a.Logger.log("PVPNetworkHandler: setup", a.LogLevel.Verbose), this.stopListeners(), this.initUserLeaderboard()
			}, e.prototype.initUserLeaderboard = function() {
				this.game.prodigy.player.hasCompletedTutorial() && (a.Logger.log("Initializing user leaderboard", a.LogLevel.Verbose), this.game.prodigy.network.initUserLeaderboard(this.initUserLeaderboardSuccess.bind(this), this.initUserLeaderboardFailure.bind(this)))
			}, e.prototype.initUserLeaderboardSuccess = function(t) {
				a.Logger.log("Successfully initialized user leaderboard", a.LogLevel.Verbose), this.isInitialized = !0, this.seasonID = s.Util.isValid(t.seasonID) ? t.seasonID : null, this.userRank = {
					points: t.points
				}, this.seasonName = t.name
			}, e.prototype.initUserLeaderboardFailure = function() {
				a.Logger.log("Failed to initialize user leaderboard", a.LogLevel.Error), this.isInitialized = !1
			}, e.prototype.updateUserLeaderboard = function(t, e, i) {
				this.game.prodigy.player.hasCompletedTutorial() && (a.Logger.log("Updating user leaderboard", a.LogLevel.Verbose), this.updatePlayerWinLoss(t), this.game.prodigy.network.updateUserLeaderboard(t, this.updateUserLeaderboardSuccess.bind(this, e), this.updateUserLeaderboardFailure.bind(this, i)))
			}, e.prototype.updatePlayerWinLoss = function(t) {
				"win" === t ? this.game.prodigy.player.addWin() : "loss" === t && this.game.prodigy.player.addLoss()
			}, e.prototype.updateUserLeaderboardSuccess = function(t, e) {
				s.Util.isValid(e) && s.Util.isValid(e.points) && (s.Util.isValid(this.userRank) || (this.userRank = {
					points: 0
				}), this.userRank.points = e.points), s.Util.isValid(t) && t(this.userRank.points)
			}, e.prototype.updateUserLeaderboardFailure = function(t) {
				a.Logger.log("Failed to update user leaderboard", a.LogLevel.Error), s.Util.isValid(t) && t()
			}, e.prototype.getUserLeaderboard = function(t, e) {
				this.enableInput(!1), this.game.prodigy.network.getUserLeaderboard(this.getUserLeaderboardSuccess.bind(this, t), this.onPVPNetworkFailure.bind(this, e))
			}, e.prototype.getUserLeaderboardSuccess = function(t, e) {
				this.enableInput(!0), this.seasonID = e.seasonID, this.userLeaderboard = e, t(this.userLeaderboard)
			}, e.prototype.onPVPNetworkFailure = function(t) {
				this.enableInput(!0), s.Util.isValid(t) && t()
			}, e.prototype.getUserRank = function(t, e, i) {
				this.enableInput(!1), this.game.prodigy.network.getUserRank(t, this.getUserRankSuccess.bind(this, e), this.onPVPNetworkFailure.bind(this, i))
			}, e.prototype.getUserRankSuccess = function(t, e) {
				this.enableInput(!0), this.userRank = e, t(this.userRank)
			}, e.prototype.getSeasonLeaderboard = function(t, e, i) {
				this.enableInput(!1), this.game.prodigy.network.getSeasonLeaderboard(t, e, this.getSeasonLeaderboardSuccess.bind(this, i), this.onPVPNetworkFailure.bind(this))
			}, e.prototype.getSeasonLeaderboardSuccess = function(t, e) {
				this.enableInput(!0), t(e)
			}, e.prototype.getClassLeaderboard = function(t, e, i) {
				var n = this;
				this.enableInput(!1), this.game.prodigy.network.getClassLeaderboard(t, this.seasonID, function(t) {
					n.getClassLeaderboardSuccess(e, t)
				}, this.onPVPNetworkFailure.bind(this, i))
			}, e.prototype.getClassLeaderboardSuccess = function(t, e) {
				this.enableInput(!0), t(e)
			}, e.prototype.enableInput = function(t) {
				if (this.game.input.enabled = t, !t)
					for (var e = 0; e < this.game.input.pointers.length; e++) this.game.input.pointers[e].active = !1
			}, e
		}(i(93).NetworkHandler);
	e.PVPNetworkHandler = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(5),
		r = i(0),
		s = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				return i.totalMail = null, e.broadcaster.addAppListener(o.ENetworkHandlerEvents.Setup, function() {
					i.setup()
				}, i, "NetworkHandlers", !0), i
			}
			return n(e, t), e.prototype.getMailerData = function() {
				return this.totalMail
			}, e.prototype.setup = function() {
				this.game.broadcaster.addAppListener(o.EMailerEvents.GetTotalMail, this.getTotalMail.bind(this), this, "ProdigyMailerButton", !0), this.game.broadcaster.addAppListener(o.EMailerEvents.GetTotalMail, this.getTotalMail.bind(this), this, "ProdigyMailer", !0), this.game.broadcaster.addAppListener(o.EMailerEvents.GetAllMail, this.getAllMail.bind(this), this, "ProdigyMailer", !0), this.game.broadcaster.addAppListener(o.EMailerEvents.MarkAsRead, this.markAsRead.bind(this), this, "ProdigyMailView", !0), this.game.broadcaster.addAppListener(o.EMailerEvents.DeleteMail, this.deleteMail.bind(this), this, "ProdigyMailer", !0), this.game.broadcaster.removeAppListener(o.ENetworkHandlerEvents.Setup, this, "NetworkHandlers")
			}, e.prototype.getTotalMail = function(t) {
				this.game.prodigy.network.getTotalMail(this.getTotalMailSuccess.bind(this, t), this.getTotalMailFailure.bind(this))
			}, e.prototype.getTotalMailSuccess = function(t, e) {
				this.totalMail = e, this.game.broadcaster.broadcast(o.EMailerEvents.UpdateMailCounters, "ProdigyMailerButton", [e]), r.Util.isValid(t) && t(e)
			}, e.prototype.getTotalMailFailure = function() {
				this.game.input.enabled = !0, a.Logger.log("Could not get total mail.", a.LogLevel.Error), this.game.broadcaster.broadcast(o.EMailerEvents.GetTotalMailFailure, "ProdigyMailer")
			}, e.prototype.getAllMail = function(t, e) {
				this.game.prodigy.network.getAllMail(t, e, this.getAllMailSuccess.bind(this), this.getAllMailFailure.bind(this))
			}, e.prototype.getAllMailSuccess = function(t) {
				this.game.broadcaster.broadcast(o.EMailerEvents.GetAllMailSuccess, "ProdigyMailer", [t])
			}, e.prototype.getAllMailFailure = function() {
				this.game.input.enabled = !0, this.game.broadcaster.broadcast(o.EMailerEvents.GetAllMailFailure, "ProdigyMailer"), a.Logger.log("Could not get all mail.", a.LogLevel.Error)
			}, e.prototype.markAsRead = function(t, e) {
				this.game.prodigy.network.markAsRead(e.id, e, function(e) {
					r.Util.isValid(t) && t(e)
				}, this.markAsReadFailure.bind(this))
			}, e.prototype.markAsReadFailure = function() {
				this.game.input.enabled = !0, this.game.broadcaster.broadcast(o.EMailerEvents.MarkAsReadFailure, "ProdigyMailer"), a.Logger.log("Could not mark as read.", a.LogLevel.Error)
			}, e.prototype.deleteMail = function(t, e) {
				var i = this;
				r.Util.isValid(t) ? this.game.prodigy.network.deleteMail(t.id, function() {
					i.deleteMailSuccessful(t, e)
				}, this.deleteMailFailure.bind(this)) : a.Logger.log("Mail model data is not defined.", a.LogLevel.Error)
			}, e.prototype.deleteMailSuccessful = function(t, e) {
				var i = t.isOpened;
				this.game.broadcaster.broadcast(o.EMailerEvents.DeleteMailSuccess, "ProdigyMailView" + e, [t, e, i]), this.game.broadcaster.broadcast(o.EMailerEvents.DeleteMailSuccess, "ProdigyMailer", [t, e, i])
			}, e.prototype.deleteMailFailure = function() {
				this.game.input.enabled = !0, this.game.broadcaster.broadcast(o.EMailerEvents.DeleteMailFailure, "ProdigyMailer"), a.Logger.log("Could not delete mail.", a.LogLevel.Error)
			}, e
		}(i(93).NetworkHandler);
	e.MailerNetworkHandler = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(5),
		r = i(0),
		s = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				return i.startListeners(), i
			}
			return n(e, t), e.prototype.startListeners = function() {
				var t = this;
				this.game.broadcaster.addAppListener(o.ENetworkHandlerEvents.Setup, function() {
					t.setup()
				}, this, "NetworkHandlers", !0)
			}, e.prototype.stopListeners = function() {
				this.game.broadcaster.removeAppListener(o.ENetworkHandlerEvents.Setup, this, "NetworkHandlers")
			}, e.prototype.setup = function() {
				this.stopListeners(), this.getGiftBoxes()
			}, e.prototype.getGiftBoxes = function() {
				this.game.prodigy.player.hasCompletedTutorial() && this.game.prodigy.network.getGiftBoxes(this.getGiftBoxesSuccess.bind(this), this.getGiftBoxesFailure.bind(this))
			}, e.prototype.getGiftBoxesSuccess = function(t) {
				this.game.input.enabled = !0, r.Util.isValid(t) && (this.game.prodigy.giftBoxController.setupGiftBoxes(t), this.game.broadcaster.broadcast(o.EGiftBoxEvents.UpdateConjureCubeCount, "HUD", []))
			}, e.prototype.getGiftBoxesFailure = function() {
				this.game.input.enabled = !0, a.Logger.log("Could not get total boxes.", a.LogLevel.Error)
			}, e
		}(i(93).NetworkHandler);
	e.GiftBoxNetworkHandler = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || Object.assign || function(t) {
			for (var e, i = 1, n = arguments.length; i < n; i++)
				for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
			return t
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = i(11),
		s = i(6),
		l = i(5),
		c = i(12),
		h = i(71),
		u = i(0),
		p = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				return i.pendingRequests = null, i.friendsCap = null, i.totalFriends = null, i.friendsList = [], i.classList = [], i.friendRequestList = [], i.hasReceivedFriends = !1, i.hasReceivedClass = !1, e.broadcaster.addAppListener(l.ENetworkHandlerEvents.Setup, function() {
					i.setup()
				}, i, "NetworkHandlers", !0), e.broadcaster.addAppListener(l.EGameObjEvents.PlayerInitialized, function() {
					i.getUserClass()
				}, i, null, !0), i
			}
			return n(e, t), e.prototype.getFriendsCap = function() {
				return this.friendsCap
			}, e.prototype.hasPendingRequests = function() {
				return this.pendingRequests > 0
			}, e.prototype.getTotalFriends = function() {
				return this.totalFriends
			}, e.prototype.isFriendsListDownloaded = function() {
				return this.hasReceivedFriends
			}, e.prototype.isClassmatesListDownloaded = function() {
				return this.hasReceivedClass
			}, e.prototype.getFriend = function(t) {
				for (var e = null, i = 0; i < this.friendsList.length; i++)
					if (this.friendsList[i].userID === t) {
						e = this.friendsList[i];
						break
					} if (null === e)
					for (i = 0; i < this.classList.length; i++) this.classList[i].userID === t && (e = this.classList[i]);
				if (null !== e) {
					var n = new c.Player(this.game);
					return n.init(e), n
				}
				return null
			}, e.prototype.getFriendQuestProgress = function(t) {
				for (var e = [], i = 0; i < this.friendsList.length; i++) {
					var n = {
							isMember: 0
						},
						o = this.friendsList[i];
					if (n.questProgress = r(o, "zone." + t + ".quest.ID", 0), u.Util.isValid(o.appearance) && u.Util.isValid(o.appearance.name) && u.Util.isValid(o.data) && u.Util.isValid(o.data.level) && u.Util.isValid(o.userID)) {
						var l = this.game.prodigy.gameContainer.get(s.EProdigyInjectionIdentifiers.PlayerService).getPlayer(a({}, o, {
								version: 1
							})),
							c = this.game.prodigy.gameContainer.resolve(h.DataNameResolver);
						c.init(u.Util.isValid(l) ? l.getAppearance().getName() : null, this.game.prodigy.player.appearance.getGender()), n.name = c.getNameWithoutNickname(), n.appearance = o.appearance, n.level = o.data.level, n.isMember = u.Util.isValid(o.isMember) ? o.isMember : 0, n.userID = o.userID, e.push(n)
					}
				}
				return e
			}, e.prototype.rejectFriendRequest = function(t, e) {
				this.game.prodigy.loading(!0), this.game.prodigy.network.rejectFriendRequest(t, this.rejectFriendRequestSuccess.bind(this, t, e), this.networkCallFailure.bind(this))
			}, e.prototype.getFriendRequestList = function(t, e) {
				this.game.prodigy.loading(!0), this.game.prodigy.network.getFriendRequestList(u.Util.isValid(t) ? t : this.friendRequestList.length, e, this.getFriendRequestListSuccess.bind(this), this.networkCallFailure.bind(this))
			}, e.prototype.acceptFriendRequest = function(t, e) {
				this.game.prodigy.loading(!0), this.game.prodigy.network.acceptFriendRequest(t, this.acceptFriendRequestSuccess.bind(this, t, e), this.networkCallFailure.bind(this))
			}, e.prototype.setup = function() {
				this.game.broadcaster.removeAppListener(l.ENetworkHandlerEvents.Setup, this, "NetworkHandlers"), this.game.broadcaster.removeAppListener(l.EGameObjEvents.PlayerInitialized, this), this.game.broadcaster.addAppListener(l.EFriendsListEvents.SendRequest, this.sendFriendRequest.bind(this), this, "Card", !0), this.game.broadcaster.addAppListener(l.EFriendsListEvents.CancelRequest, this.cancelFriendRequest.bind(this), this, "Card", !0), this.game.broadcaster.addAppListener(l.EFriendsListEvents.RemoveFriend, this.removeFriend.bind(this), this, "Card", !0), this.game.broadcaster.addAppListener(l.EFriendsListEvents.RemoveFriend, this.removeFriend.bind(this), this, "FriendsList", !0), this.game.broadcaster.addAppListener(l.EFriendsListEvents.GetTotalFriendRequests, this.getTotalFriendRequests.bind(this), this, "FriendsList", !0), this.game.broadcaster.addAppListener(l.EFriendsListEvents.GetFriendList, this.getFriendsList.bind(this), this, "FriendsList", !0), this.game.broadcaster.addAppListener(l.EFriendsListEvents.ClearFriendRequestsCache, this.clearFriendRequestsCache.bind(this), this, "FriendsList", !0)
			}, e.prototype.getTotalFriendRequests = function(t) {
				void 0 === t && (t = !1), this.game.prodigy.player.hasCompletedTutorial() && (this.game.prodigy.loading(!0), this.game.prodigy.network.getTotalFriendRequests(this.getTotalFriendRequestsSuccess.bind(this, t), this.getTotalFriendRequestsFailure.bind(this)))
			}, e.prototype.getTotalFriendRequestsSuccess = function(t, e) {
				this.pendingRequests = e.data.pendingRequests, this.friendsCap = e.meta.friendsCap, this.totalFriends = e.meta.totalFriends, this.game.broadcaster.broadcast(l.EFriendsListEvents.GetTotalFriendRequests, "HUD", [this.pendingRequests]), t || this.game.broadcaster.broadcast(l.EFriendsListEvents.GetFriendList, "FriendsList")
			}, e.prototype.getTotalFriendRequestsFailure = function(t, e) {
				this.game.prodigy.loading(!1), this.game.broadcaster.broadcast(l.EFriendsListEvents.GetTotalFriendRequestsFailure, "FriendsList")
			}, e.prototype.getUserClass = function() {
				if (this.game.prodigy.player.hasCompletedTutorial() && this.game.prodigy.player.classIDs.length > 0) {
					this.game.prodigy.loading(!0);
					var t = this.game.prodigy.player,
						e = u.Util.getLatestClassID(t.owners, t.playerTeachers, t.playerParents);
					this.game.prodigy.network.getUserClass(e, this.getUserClassSuccess.bind(this), this.networkCallFailure.bind(this))
				}
			}, e.prototype.getUserClassSuccess = function(t) {
				this.game.prodigy.loading(!1);
				for (var e = 0; e < t.data.length; e++)
					if (t.data[e].userID === this.game.prodigy.player.userID) {
						t.data.splice(e, 1);
						break
					} this.classList = t.data, this.hasReceivedClass = !0, this.getUserAppearance(this.classList, !0)
			}, e.prototype.getFriendsList = function() {
				this.game.prodigy.player.hasCompletedTutorial() && (this.game.prodigy.loading(!0), this.game.prodigy.network.getFriendsList(this.getFriendsListSuccess.bind(this), this.networkCallFailure.bind(this)))
			}, e.prototype.getFriendsListSuccess = function(t) {
				this.game.prodigy.loading(!1), this.friendsList = t.data, this.friendsCap = t.meta.friendsCap, this.totalFriends = t.meta.totalFriends, this.hasReceivedFriends = !0, this.game.broadcaster.broadcast(l.EFriendsListEvents.GotFriendsList, "FriendsList", [this.friendsList]), this.getUserAppearance(this.friendsList)
			}, e.prototype.getFriendRequestListSuccess = function(t) {
				this.game.prodigy.loading(!1), this.friendsCap = t.meta.friendsCap, this.totalFriends = t.meta.totalFriends;
				for (var e = this.friendRequestList.length, i = 0; i < t.data.length; i++) {
					for (var n = !0, a = 0; a < e; a++)
						if (t.data[i].userID === this.friendRequestList[a].userID) {
							n = !1;
							break
						} n && this.friendRequestList.push(t.data[i])
				}
				var o = "",
					r = "";
				for (i = 0; i < this.friendRequestList.length; i++) r = this.friendRequestList[i].userID + ",", o = o.concat(r);
				(o = o.replace(/,$/, "")).length > 0 && this.game.prodigy.network.getCharData(o, ["appearance", "state"], this.getUserData.bind(this), null)
			}, e.prototype.getUserData = function(t) {
				for (var e in t)
					for (var i = 0; i < this.friendRequestList.length; i++)
						if (this.friendRequestList[i].userID === parseInt(e)) {
							var n = this.game.prodigy.gameContainer.get(s.EProdigyInjectionIdentifiers.PlayerService).getPlayer(a({}, t[e], {
									version: 1
								})),
								o = this.game.prodigy.gameContainer.resolve(h.DataNameResolver);
							o.init(u.Util.isValid(n) ? n.getAppearance().getName() : null, this.game.prodigy.player.appearance.getGender()), this.friendRequestList[i].name = o.getNameWithoutNickname()
						} this.game.broadcaster.broadcast(l.EFriendsListEvents.GotFriendRequestList, "FriendsList", [this.friendRequestList])
			}, e.prototype.clearFriendRequestsCache = function() {
				this.friendRequestList = []
			}, e.prototype.sendFriendRequest = function(t) {
				this.game.prodigy.loading(!0), this.game.prodigy.network.sendFriendRequest(t, this.sendFriendRequestSuccess.bind(this, t), this.networkCallFailure.bind(this))
			}, e.prototype.sendFriendRequestSuccess = function(t, e) {
				var i = this;
				if (this.game.prodigy.loading(!1), "ACCEPT" === e.data.action) this.acceptFriendRequestSuccess(t, 0, e);
				else {
					this.friendsCap = e.meta.friendsCap, this.totalFriends = e.meta.totalFriends, this.friendsList.push({
						userID: t,
						status: 0,
						isMember: 0
					}), this.getUserAppearance(this.friendsList.slice(this.friendsList.length - 1, this.friendsList.length));
					var n = this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService);
					this.game.prodigy.open.message(n.getText("FRIENDS_LIST_SENT_MESSAGE_BODY"), function() {
						i.game.broadcaster.broadcast(l.EFriendsListEvents.RequestSent, "FriendsList", [t]), i.game.broadcaster.broadcast(l.EFriendsListEvents.RequestSent, "Card", [])
					}, null, n.getText("FRIENDS_LIST_SENT_MESSAGE_TITLE")), this.broadcastSocialEvent("friend-request-sent", "generated", "hub", t)
				}
			}, e.prototype.cancelFriendRequest = function(t) {
				this.game.prodigy.loading(!0), this.game.prodigy.network.cancelFriendRequest(t, this.cancelFriendRequestSuccess.bind(this, t), this.networkCallFailure.bind(this))
			}, e.prototype.cancelFriendRequestSuccess = function(t, i) {
				this.game.prodigy.loading(!1), this.friendsCap = i.meta.friendsCap, this.totalFriends = i.meta.totalFriends, e.removeUserFromArray(this.friendsList, t), this.game.prodigy.open.message(this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("FRIENDS_LIST_CANCEL_MESSAGE_BODY"), this.onCancelFriendRequestClose.bind(this, t), null, this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("FRIENDS_LIST_CANCEL_MESSAGE_TITLE"))
			}, e.prototype.onCancelFriendRequestClose = function(t) {
				this.game.broadcaster.broadcast(l.EFriendsListEvents.RequestCancelled, "FriendsList", [t]), this.game.broadcaster.broadcast(l.EFriendsListEvents.RequestCancelled, "Card", [t])
			}, e.prototype.acceptFriendRequestSuccess = function(t, i, n) {
				this.game.prodigy.loading(!1), u.Util.isValid(n) && (this.friendsCap = n.meta.friendsCap, this.totalFriends = n.meta.totalFriends), this.friendsList.push({
					userID: t,
					status: 1,
					isMember: 0
				}), this.getUserAppearance(this.friendsList.slice(this.friendsList.length - 1, this.friendsList.length)), e.removeUserFromArray(this.friendRequestList, t), this.pendingRequests--, this.game.broadcaster.broadcast(l.EFriendsListEvents.RequestAccepted, "FriendsList", [t, i]), this.game.broadcaster.broadcast(l.EFriendsListEvents.RequestAccepted, "HUD", [this.pendingRequests]), this.game.broadcaster.broadcast(l.EFriendsListEvents.RequestAccepted, "Card", []), this.broadcastSocialEvent("friend-request-accepted", "generated", "hub", t, i)
			}, e.prototype.getUserAppearance = function(t, e) {
				void 0 === e && (e = !1);
				for (var i = "", n = "", a = 0; a < t.length; a++) n = t[a].userID + ",", i = i.concat(n);
				(i = i.replace(/,$/, "")).length > 0 && this.game.prodigy.network.getCharData(i, ["appearance", "isMember", "equipment", "data", "state"], this.onGetUserAppearance.bind(this, e), this.networkCallFailure.bind(this))
			}, e.prototype.onGetUserAppearance = function(t, e) {
				var i = t ? this.classList : this.friendsList;
				for (var n in e)
					for (var a = 0; a < i.length; a++) i[a].userID === parseInt(n) && u.Util.isValid(e[n]) && (u.Util.isValid(e[n].appearance) && (i[a].appearance = e[n].appearance), u.Util.isValid(e[n].isMember) && (i[a].isMember = e[n].isMember), u.Util.isValid(e[n].data) && (i[a].data = e[n].data), u.Util.isValid(e[n].equipment) && (i[a].equipment = e[n].equipment), u.Util.isValid(e[n].state) && (i[a].zone = e[n].state.zone));
				this.game.broadcaster.broadcast(l.EFriendsListEvents.GotFriendsListAppearance, "FriendsList", [this.friendsList])
			}, e.prototype.rejectFriendRequestSuccess = function(t, i, n) {
				this.game.prodigy.loading(!1), this.friendsCap = n.meta.friendsCap, this.totalFriends = n.meta.totalFriends, e.removeUserFromArray(this.friendRequestList, t), this.pendingRequests--, this.game.broadcaster.broadcast(l.EFriendsListEvents.RequestRejected, "FriendsList", [t, i]), this.game.broadcaster.broadcast(l.EFriendsListEvents.RequestRejected, "HUD", [this.pendingRequests]), this.broadcastSocialEvent("friend-request-denied", "generated", "hub", t, i)
			}, e.prototype.removeFriend = function(t) {
				this.game.prodigy.loading(!0), this.game.prodigy.network.removeFriend(t, this.removeFriendSuccess.bind(this, t), this.networkCallFailure.bind(this))
			}, e.prototype.removeFriendSuccess = function(t, i) {
				this.game.prodigy.loading(!1), this.friendsCap = i.meta.friendsCap, this.totalFriends = i.meta.totalFriends, e.removeUserFromArray(this.friendsList, t), this.game.broadcaster.broadcast(l.EFriendsListEvents.FriendRemoved, "FriendsList", [t]), this.game.broadcaster.broadcast(l.EFriendsListEvents.FriendRemoved, "Card", [])
			}, e.prototype.networkCallFailure = function(t, e) {
				this.game.prodigy.loading(!1);
				var i = this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService);
				423 === e ? this.game.prodigy.open.message(i.getText("FRIENDS_LIST_FULL_MESSAGE_BODY"), null, null, i.getText("MESSAGE_TITLE_OOPS")) : 406 === e ? "cancelFriendRequest" === t && o.Logger.log("Illogical friend request cancellation", o.LogLevel.Verbose) : this.game.prodigy.open.message(i.getText("FRIENDS_LIST_ERROR_MESSAGE_BODY"), null, null, i.getText("MESSAGE_TITLE_OOPS"))
			}, e.removeUserFromArray = function(t, e) {
				for (var i = 0; i < t.length; i++) e === t[i].userID && t.splice(i, 1)
			}, e.prototype.broadcastSocialEvent = function(t, e, i, n, a) {
				var o = this.game.prodigy.friendsListNetworkHandler.friendsList.length,
					r = this.game.prodigy.friendsListNetworkHandler.classList.length;
				this.game.prodigy.gameContainer.get(s.EProdigyInjectionIdentifiers.GameSocialDataFactory).create(t, e, i, o, r, void 0, void 0, a).broadcast()
			}, e
		}(i(93).NetworkHandler);
	e.FriendsListNetworkHandler = p
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(0),
		o = function() {
			function t() {
				this.receivers = []
			}
			return t.prototype.add = function(t, e, i) {
				this.receivers.push({
					action: t,
					callback: e,
					once: i
				})
			}, t.prototype.clear = function(t) {
				if (a.Util.isValid(t))
					for (var e = this.receivers.length - 1; e >= 0; e--) {
						this.receivers[e].action === t && this.receivers.splice(e, 1)
					} else this.receivers = []
			}, t.prototype.onMessage = function(t) {
				n.Logger.log("Message received: " + t.action, n.LogLevel.Verbose);
				for (var e = this.receivers.length - 1; e >= 0; e--) {
					var i = this.receivers[e];
					i.action === t.action && (i.callback(t.data), i.once && this.receivers.splice(e, 1))
				}
			}, t
		}();
	e.MessageListener = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(26),
		r = i(9),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.getEventName = function() {
				return [o.EventEnum.AnonymousGameComplete, o.EventEnum.GameAvatar, o.EventEnum.GameComplete, o.EventEnum.GameDiscovery, o.EventEnum.GameQuestion, o.EventEnum.GameBattle, o.EventEnum.GameSocial]
			}, e = a([r.injectable()], e)
		}(i(250).AnalyticsReceiverBase);
	e.TelemetryGameEventReceiver = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(26),
		r = i(9),
		s = i(6),
		l = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.getEventName = function() {
				return [o.EventEnum.GameComplete]
			}, e.prototype.onEventReceived = function(t) {
				this.getGame().prodigy.gameContainer.get(s.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_complete", {
					type: t.getType(),
					name: t.getName()
				})
			}, e = a([r.injectable()], e)
		}(i(250).AnalyticsReceiverBase);
	e.LegacyGameCompleteAnalyticsReceiver = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		a = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		o = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var r = i(9),
		s = i(6),
		l = i(31),
		c = function() {
			function t(t, i) {
				this.listeners = t, this.game = i;
				for (var n = 0; n < this.listeners.length; n++)
					for (var a = this.listeners[n].getEventName(), o = 0; o < a.length; o++) this.game.broadcaster.addAppListener("" + e.PREFIX + a[o].toUpperCase(), this.listeners[n].onEventReceived.bind(this.listeners[n]), this, this.game, !0)
			}
			return e = t, t.prototype.broadcast = function(t) {
				this.game.broadcaster.broadcast("" + e.PREFIX + t.getEventName().toUpperCase(), this.game, [t])
			}, t.PREFIX = "Prodigy.Events.Telemetry.", t = e = n([r.injectable(), o(0, r.multiInject(s.EProdigyInjectionIdentifiers.GameEventReceivers)), o(1, r.inject(s.EProdigyInjectionIdentifiers.Game)), a("design:paramtypes", [Array, l.ProdigyGame])], t);
			var e
		}();
	e.GameEventBroadcaster = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		o = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		r = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var s = i(26),
		l = i(9),
		c = i(59),
		h = i(6),
		u = i(31),
		p = i(77),
		d = i(76),
		g = function(t) {
			function e(e, i) {
				return t.call(this, e, i) || this
			}
			return n(e, t), e.prototype.create = function(t, e, i, n, a, o, r, l) {
				void 0 === o && (o = null), void 0 === r && (r = null), void 0 === l && (l = null);
				var c = this.buildBaseEvent(s.GameEvent.V3.GameSocialData);
				return c.setType(t), c.setAction(e), c.setSource(i), c.setNumFriends(n), c.setNumClassmates(a), c.setCategory(o), c.setSubCategory(r), c.setOrigin(l), new d.GameEventBroadcastWrapper(this.getGame(), c)
			}, e = a([l.injectable(), r(0, l.inject(h.EProdigyInjectionIdentifiers.EventBuilder)), r(1, l.inject(h.EProdigyInjectionIdentifiers.Game)), o("design:paramtypes", [c.GameEventDataBuilder, u.ProdigyGame])], e)
		}(p.GameDataFactoryBase);
	e.GameSocialDataFactory = g
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		o = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		r = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var s = i(26),
		l = i(9),
		c = i(59),
		h = i(6),
		u = i(31),
		p = i(77),
		d = i(76),
		g = function(t) {
			function e(e, i) {
				return t.call(this, e, i) || this
			}
			return n(e, t), e.prototype.create = function(t, e, i) {
				var n = this.buildBaseEvent(s.GameEvent.V3.GameQuestionData);
				return n.setSuccess(t), n.setDuration(e), n.setEnergyCost(i), new d.GameEventBroadcastWrapper(this.getGame(), n)
			}, e = a([l.injectable(), r(0, l.inject(h.EProdigyInjectionIdentifiers.EventBuilder)), r(1, l.inject(h.EProdigyInjectionIdentifiers.Game)), o("design:paramtypes", [c.GameEventDataBuilder, u.ProdigyGame])], e)
		}(p.GameDataFactoryBase);
	e.GameQuestionDataFactory = g
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		o = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		r = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var s = i(26),
		l = i(9),
		c = i(59),
		h = i(6),
		u = i(31),
		p = i(0),
		d = i(77),
		g = i(76),
		f = function(t) {
			function e(e, i) {
				return t.call(this, e, i) || this
			}
			return n(e, t), e.prototype.create = function(t, e, i, n, a, o) {
				void 0 === e && (e = null), void 0 === i && (i = null), void 0 === n && (n = null), void 0 === a && (a = !0), void 0 === o && (o = !1);
				var r = this.buildBaseEvent(s.GameEvent.V3.GameDiscoveryData, a, o);
				return r.setEventType(t), r.setType(e), r.setSubType(i), p.Util.isValid(n) ? r.setValue(n) : r.setValue(i), new g.GameEventBroadcastWrapper(this.getGame(), r)
			}, e = a([l.injectable(), r(0, l.inject(h.EProdigyInjectionIdentifiers.EventBuilder)), r(1, l.inject(h.EProdigyInjectionIdentifiers.Game)), o("design:paramtypes", [c.GameEventDataBuilder, u.ProdigyGame])], e)
		}(d.GameDataFactoryBase);
	e.GameDiscoveryDataFactory = f
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		o = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		r = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var s = i(26),
		l = i(9),
		c = i(59),
		h = i(6),
		u = i(31),
		p = i(77),
		d = i(76),
		g = function(t) {
			function e(e, i) {
				return t.call(this, e, i) || this
			}
			return n(e, t), e.prototype.create = function(t, e, i, n, a, o, r, l, c) {
				void 0 === i && (i = null), void 0 === n && (n = null), void 0 === a && (a = null), void 0 === o && (o = null), void 0 === r && (r = !0), void 0 === l && (l = !1), void 0 === c && (c = null);
				var h = null;
				return (h = l ? this.buildBaseEvent(s.AnonymousEvent.V3.AnonymousGameCompleteData, r, l) : this.buildBaseEvent(s.GameEvent.V3.GameCompleteData, r, l)).setType(t), h.setName(e), h.setId(i), h.setRank(n), h.setTimeDelta(a), h.setValue(o), h.setCustom(c), new d.GameEventBroadcastWrapper(this.getGame(), h)
			}, e = a([l.injectable(), r(0, l.inject(h.EProdigyInjectionIdentifiers.EventBuilder)), r(1, l.inject(h.EProdigyInjectionIdentifiers.Game)), o("design:paramtypes", [c.GameEventDataBuilder, u.ProdigyGame])], e)
		}(p.GameDataFactoryBase);
	e.GameCompleteDataFactory = g
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		o = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		r = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var s = i(26),
		l = i(9),
		c = i(59),
		h = i(6),
		u = i(31),
		p = i(77),
		d = i(76),
		g = function(t) {
			function e(e, i) {
				return t.call(this, e, i) || this
			}
			return n(e, t), e.prototype.create = function(t, e, i, n, a, o, r) {
				void 0 === o && (o = null), void 0 === r && (r = null);
				var l = this.buildBaseEvent(s.GameEvent.V3.GameBattleData);
				return l.setType(t), l.setSuccess(e), l.setEnergy(i), l.setEnergyCost(n), l.setDuration(Math.round(a / 1e3)), l.setSeasonId(o), l.setPoints(r), new d.GameEventBroadcastWrapper(this.getGame(), l)
			}, e = a([l.injectable(), r(0, l.inject(h.EProdigyInjectionIdentifiers.EventBuilder)), r(1, l.inject(h.EProdigyInjectionIdentifiers.Game)), o("design:paramtypes", [c.GameEventDataBuilder, u.ProdigyGame])], e)
		}(p.GameDataFactoryBase);
	e.GameBattleDataFactory = g
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		o = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		r = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var s = i(26),
		l = i(9),
		c = i(59),
		h = i(6),
		u = i(31),
		p = i(77),
		d = i(76),
		g = function(t) {
			function e(e, i) {
				return t.call(this, e, i) || this
			}
			return n(e, t), e.prototype.create = function(t, e, i) {
				void 0 === i && (i = null);
				var n = this.buildBaseEvent(s.GameEvent.V3.GameAvatarData);
				return n.setType(t), n.setAvatarName(e), n.setId(i), new d.GameEventBroadcastWrapper(this.getGame(), n)
			}, e = a([l.injectable(), r(0, l.inject(h.EProdigyInjectionIdentifiers.EventBuilder)), r(1, l.inject(h.EProdigyInjectionIdentifiers.Game)), o("design:paramtypes", [c.GameEventDataBuilder, u.ProdigyGame])], e)
		}(p.GameDataFactoryBase);
	e.GameAvatarDataFactory = g
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
		var a, o = arguments.length,
			r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
		else
			for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
		return o > 3 && r && Object.defineProperty(e, i, r), r
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(9),
		o = i(2),
		r = function() {
			function t() {}
			return t.prototype.getStateMachine = function(t) {
				return o.Items.getItem("fsm", t).data
			}, t = n([a.injectable()], t)
		}();
	e.FSMItemsDataProvider = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(7),
		o = i(0),
		r = function(t) {
			function e(e, i, n, a, o, r, s, l) {
				var c = t.call(this, e, i, n, a) || this;
				return c.sprite = c.game.prodigy.create.sprite(0, 0, o, 0), c.sprite.inputEnabled = !0, c.sprite.events.onInputDown.add(c.onClicked, c), c.add(c.sprite), c.callback = l, c.font = c.game.prodigy.create.font(c, 0, 60, "", {
					size: 20,
					width: 100,
					align: "left"
				}), c.icon = c.game.prodigy.create.font(c, 0, 0, "@", {
					size: 16
				}), c.icon.alpha = 0, c.add(c.icon), c.visible = !1, c.setValue(o, r, s), c
			}
			return n(e, t), e.prototype.setValue = function(t, e, i) {
				if (i <= 0 || !o.Util.isValid(i)) return this.visible = !1, this.icon.alpha = 0, void this.font.setText("");
				this.visible = !0, o.Util.isValid(t) && o.Util.isValid(this.sprite.key) && this.sprite.loadNewTexture(t, e), o.Util.isValid(e) && (this.sprite.frameName = e), this.font.setText(o.Util.isValid(i) && i > 1 ? "" + i : "")
			}, e.prototype.setCallback = function(t) {
				this.callback = t
			}, e.prototype.onClicked = function() {
				o.Util.isValid(this.callback) && this.callback()
			}, e.prototype.centerAnchor = function() {
				this.sprite.anchor.setTo(.5, .5)
			}, e
		}(a.Element);
	e.QuantityIcon = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(730),
		a = i(82),
		o = i(40),
		r = i(61),
		s = i(2),
		l = i(0),
		c = function() {
			function t(t) {
				this.game = t
			}
			return t.prototype.createIcon = function(t, e, i, n, o, r, s, l) {
				return void 0 === n && (n = null), void 0 === l && (l = !0), new a.Sprite(this.game, t, e, i, null, n, o, r, s, l)
			}, t.prototype.gold = function(t, e, i, n, a, o) {
				return this.createIcon(t, e, "icon-currency-1", i, n, a, o)
			}, t.prototype.createFromData = function(t, e, i, n, a, o, r, c) {
				var h;
				return void 0 === n && (n = null), "gold" === t.type ? this.gold(e, i, n, a, o, r) : "hairColor" === t.type ? ((h = this.game.prodigy.create.sprite(e, i, "atlas-21", this.iconKey(t), n, a, o, r)).tint = l.Util.rgb2hex(t.data.colors[2][0], t.data.colors[2][1], t.data.colors[2][2]), h) : "eyeColor" === t.type ? ((h = this.game.prodigy.create.sprite(e, i, "atlas-21", this.iconKey(t), n, a, o, r)).tint = l.Util.rgbArrayToHex(t.data.colors[0]), h) : "skinColor" === t.type ? ((h = this.game.prodigy.create.sprite(e, i, "atlas-21", this.iconKey(t), n, a, o, r)).tint = l.Util.rgbArrayToHex(t.data.colors[1]), h) : l.Util.isValid(t.type) && l.Util.isValid(t.ID) ? this.createIcon(e, i, this.iconKey(t), n, a, o, r, c) : this.game.prodigy.create.sprite(0, 0, s.Items.getIconAtlas(t), l.Util.convertItemToIcon(t))
			}, t.prototype.createFromDataAdvanced = function(t, e, i, n, a, c, h, u, p) {
				var d = this.game.prodigy.create.element(e, i, n),
					g = null,
					f = a ? new Phaser.Point(.5, 1) : null;
				if ("gold" === t.type ? g = this.gold(0, 0, a, c, h, u) : "hairColor" === t.type ? (g = this.game.prodigy.create.sprite(0, 0, "atlas-21", this.iconKey(t), f, c, h, u)).tint = l.Util.rgb2hex(t.data.colors[2][0], t.data.colors[2][1], t.data.colors[2][2]) : "eyeColor" === t.type ? (g = this.game.prodigy.create.sprite(0, 0, "atlas-21", this.iconKey(t), f, c, h, u)).tint = l.Util.rgbArrayToHex(t.data.colors[0]) : "skinColor" === t.type ? (g = this.game.prodigy.create.sprite(0, 0, "atlas-21", this.iconKey(t), f, c, h, u)).tint = l.Util.rgbArrayToHex(t.data.colors[1]) : g = l.Util.isValid(t.type) && l.Util.isValid(t.ID) ? this.createIcon(0, 0, this.iconKey(t), a, c, h, u, p) : this.game.prodigy.create.sprite(0, 0, s.Items.getIconAtlas(t), l.Util.convertItemToIcon(t)), d.add(g), "item" === t.type) {
					var y = s.Items.getItem(t.type, t.ID).data;
					if (l.Util.isValid(y.effect) && l.Util.isValid(y.effect.transform)) {
						var m = r.RenderFactory.createRenderer("spine-11", {
							type: "spine",
							anchor: {
								x: .5,
								y: 1
							}
						});
						new o.GameObject(this.game, d, [m], 48, 11), m.playAnimation("animation", !0)
					}
				}
				return d
			}, t.prototype.createWithQuantity = function(t, e, i, a, o, r) {
				return new n.QuantityIcon(this.game, t, e, i, a, null, o, r)
			}, t.prototype.iconKey = function(t) {
				if ("gold" === t.type) return "icon-item-26";
				if ("hairColor" === t.type || "skinColor" === t.type || "eyeColor" === t.type) return "empty";
				if ("item" === t.type) {
					var e = s.Items.getItem(t.type, t.ID).data;
					if (l.Util.isValid(e.effect) && l.Util.isValid(e.effect.transform)) return "icon-" + e.effect.transform + "-" + e.effect.ID
				}
				return "icon-" + t.type + "-" + t.ID
			}, t
		}();
	e.IconFactory = c
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(6),
		o = i(4),
		r = i(278),
		s = i(14),
		l = i(0),
		c = function() {
			function t(t) {
				this.isNew = !1, this.game = null, this.originalBGMVolume = null, this.rankUpArray = null, this.game = t
			}
			return t.prototype.openFull = function() {
				this.game.stage.visible = !1
			}, t.prototype.closeFull = function() {
				this.game.stage.visible = !0
			}, t.prototype.question = function(t, e, i) {
				this.game.prodigy.network.stopInactiveTimer(), this.game.input.keyboard.clearCaptures(), this.reduceBGMVolumeBeforeQuestion();
				var n = "PVP" === this.game.state.current ? 0 : 1;
				l.Util.isValid(e) && (n = e ? 1 : 0);
				var a = {
					selector: "#external-content",
					userID: this.game.prodigy.player.userID,
					callback: this.answerQuestion.bind(this, t, i),
					classIDs: this.game.prodigy.player.classIDs,
					isTeacher: !1,
					hideCallback: this.openFull.bind(this),
					showAnswerBonus: n,
					showAnswerBonusAnimation: 0
				};
				o.GameConstants.get("GameConstants.Debug.SET_NFACTOR") && (a.nFactor = o.GameConstants.get("GameConstants.Debug.SET_NFACTOR")), QI.showQuestion(a)
			}, t.prototype.updateStrandBasedPlacementTest = function(t) {
				n.Logger.log("updateStrandBasedPlacementTest", n.LogLevel.Verbose), n.Logger.log(JSON.stringify(t), n.LogLevel.Verbose), this.game.prodigy.network.updateStrandBasedPlacementTest(t)
			}, t.prototype.answerQuestion = function(t, e, i) {
				this.game.prodigy.network.startInactiveTimer(), this.restoreBGMVolumeAfterQuestion(), this.game.input.keyboard.addKeyCapture([Phaser.Keyboard.BACKSPACE]), this.game.prodigy.network.answerQuestion(i), this.closeFull(), l.Util.isValid(t) && t(i.wasCorrect, i.respTime, i.nFactor, e), this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.GameQuestionDataFactory).create(i.wasCorrect, i.respTime, e).broadcast()
			}, t.prototype.reduceBGMVolumeBeforeQuestion = function() {
				this.originalBGMVolume = this.game.prodigy.audio.getBGMVolume(), this.originalBGMVolume > .05 && this.game.prodigy.audio.setBGMVolume(.05, !0)
			}, t.prototype.restoreBGMVolumeAfterQuestion = function() {
				l.Util.isValid(this.originalBGMVolume) && this.game.prodigy.audio.setBGMVolume(this.originalBGMVolume, !0)
			}, t.prototype.closeQuestion = function() {
				this.game.prodigy.network.startInactiveTimer(), QI.close(), this.closeFull()
			}, t.prototype.initialize = function(t) {
				this.game.prodigy.player.grade = l.Util.isValid(t.chosenGrade) ? t.chosenGrade : r.GradePage.MIN_GRADE, QI.on("assignment-complete", this.finishAssignment.bind(this)), QI.on("update-user", this.updateUser.bind(this)), QI.on("grade-complete", this.finishGrade.bind(this)), QI.on("placement-complete", this.finishPlacement.bind(this)), QI.on("placement-test-by-strand-update placement-test-by-strand-complete", this.updateStrandBasedPlacementTest.bind(this)), QI.on("update-plan-student", this.updatePlanStudent.bind(this)), QI.on("topics-ranked-up", this.updateBreadcrumbs.bind(this)), QI.on("education-event", this.sendEducationEvent.bind(this)), QI.init(t)
			}, t.prototype.processAnswerResponses = function() {
				l.Util.isValid(QI.processAnswerResponses) && QI.processAnswerResponses()
			}, t.prototype.getMasteredSkills = function() {
				return 0
			}, t.prototype.getAllTopicBadges = function() {
				return []
			}, t.prototype.getRankUpBadges = function() {
				return []
			}, t.prototype.updateUser = function(t) {
				this.game.prodigy.network.updateUser(t, function() {})
			}, t.prototype.updatePlanStudent = function(t) {
				this.game.prodigy.network.updatePlanStudent(t)
			}, t.prototype.updateBreadcrumbs = function(t) {
				var e = this;
				if (this.rankUpArray = t, l.Util.isValid(this.rankUpArray) && this.rankUpArray.length > 0)
					for (var i = function(t) {
							for (var i = QI.getAllTopicBadges().find(function(i) {
									return i.id === e.rankUpArray[t].collectionId
								}), a = 0; a < i.topics.length; a++) i.topics[a].id === n.rankUpArray[t].topicId && i.topics[a].numSkillsMastered >= i.topics[a].ranks[i.topics[a].ranks.length - 1] && n.game.prodigy.breadcrumbManager.resetBreadcrumbs(s.Breadcrumbs.FEATURE_BADGES)
						}, n = this, a = 0; a < this.rankUpArray.length; a++) i(a)
			}, t.prototype.finishPlacement = function(t) {
				this.game.prodigy.network.finishPlacement(t.grade, this.game.prodigy.player.classIDs)
			}, t.prototype.finishAssignment = function(t) {
				this.game.prodigy.network.completeAssignment(t.assignmentID)
			}, t.prototype.finishGrade = function(t) {}, t.prototype.sendEducationEvent = function(t) {
				var e = t.eventData;
				e.setIsMember(!!this.game.prodigy.player.isMember), e.setPlayLocation(this.game.prodigy.player.locationSelectionType), e.setToken(this.game.prodigy.network.getKey()), e.setUserId(this.game.prodigy.player.userID);
				this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.AnalyticsService).sendAnalytic(e, {
					socketEvent: "educationEvents"
				})
			}, t
		}();
	e.ExternalFactory = c
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(0),
		a = function() {
			function t(t, e) {
				this.game = null, this.ID = 0, this.npc = null, this.dialogue = [], this.events = [], this.game = t, this.ID = e, this.end()
			}
			return t.prototype.start = function() {
				this.text(), this.next()
			}, t.prototype.end = function(t) {
				void 0 === t && (t = null), n.Util.isValid(t) && t(), this.npc = null, this.dialogue = [], this.events = []
			}, t.prototype.next = function() {
				if (this.events.length > 0) {
					var t = this.events[0];
					this.events.splice(0, 1), t()
				} else this.end()
			}, t.prototype.add = function(t) {
				this.text(), this.events.push(t)
			}, t.prototype.text = function(t, e, i) {
				var a = this,
					o = this.game.prodigy.dialogue.create();
				if (this.dialogue.length > 0 && (e !== this.npc || !n.Util.isValid(t))) {
					this.events.push(function(t, e) {
						for (var n = 0; n < e.length; n++) o.setText(e[n]);
						o.setText({
							callback: a.next.bind(a)
						}), o.start(t, i)
					}.bind(this, this.npc, this.dialogue)), this.dialogue = []
				} else n.Util.isValid(t) && this.dialogue.push(t);
				this.npc = e
			}, t.prototype.yesNoText = function(t, e, i) {
				var n = {
					index: t,
					yes: this.next.bind(this),
					no: this.end.bind(this, i)
				};
				this.text(n, e)
			}, t.prototype.function = function(t) {
				this.add(function(e) {
					t(), e()
				}.bind(this, this.next.bind(this)))
			}, t.prototype.animation = function(t, e) {
				var i = this;
				void 0 === e && (e = !1);
				this.add(function() {
					e ? t().onComplete.add(i.next.bind(i)) : (t(), i.next())
				}.bind(this))
			}, t.prototype.enableInput = function(t) {
				var e = this;
				this.add(function() {
					if (e.game.input.enabled = t, !t)
						for (var i = 0; i < e.game.input.pointers.length; i++) e.game.input.pointers[i].active = !1;
					e.next()
				}.bind(this))
			}, t.prototype.enableSave = function(t) {
				var e = this;
				this.add(function() {
					e.game.prodigy.player.saveEnabled = t, e.next()
				}.bind(this))
			}, t.prototype.set = function(t, e, i) {
				var n = this;
				this.add(function() {
					t[e] = i, n.next()
				})
			}, t.prototype.path = function(t, e, i, n) {
				var a = this;
				void 0 === n && (n = !1);
				this.add(function() {
					n ? (t.setPath(e, null, i), a.next()) : t.setPath(e, a.next.bind(a), i)
				}.bind(this))
			}, t.prototype.validPath = function(t, e, i, n, a) {
				var o = this;
				void 0 === a && (a = !1);
				this.add(function(a) {
					a ? (t.setValidPath(e, i, n, null), o.next()) : t.setValidPath(e, i, n, o.next.bind(o))
				}.bind(this, a))
			}, t.prototype.hop = function(t, e, i, n, a) {
				var o = this;
				void 0 === a && (a = !1);
				this.add(function() {
					a ? (t.hop(e, null, i, n), o.next()) : t.hop(e, o.next.bind(o), i, n)
				}.bind(this))
			}, t.prototype.delay = function(t) {
				this.add(this.game.time.events.add.bind(this.game.time.events, t, this.next, this))
			}, t.prototype.explode = function(t, e, i, n, a, o, r) {
				var s = this;
				void 0 === o && (o = !1), void 0 === r && (r = !1);
				this.add(function() {
					o ? (s.game.prodigy.effects.explode(t, e, i, n, a, null, r), s.next()) : s.game.prodigy.effects.explode(t, e, i, n, a, s.next.bind(s), r)
				}.bind(this))
			}, t.prototype.fire = function(t, e, i, n, a, o, r) {
				var s = this;
				void 0 === r && (r = !1);
				this.add(function() {
					r ? (s.game.prodigy.effects.fire(t, e, i, n, a, o), s.next()) : s.game.prodigy.effects.fire(t, e, i, n, a, o, s.next.bind(s))
				}.bind(this))
			}, t.prototype.portalEffect = function(t, e, i) {
				var n = this;
				void 0 === i && (i = !1);
				this.add(function() {
					i ? (n.game.prodigy.effects.portalEffect(t, e), n.next()) : n.game.prodigy.effects.portalEffect(t, e, n.next.bind(n))
				}.bind(this))
			}, t.prototype.shake = function(t, e, i, n, a) {
				var o = this;
				void 0 === a && (a = !1);
				this.add(function() {
					a ? (o.game.prodigy.effects.shake(t, e, i, n), o.next()) : o.game.prodigy.effects.shake(t, e, i, n, o.next.bind(o))
				}.bind(this))
			}, t.prototype.firework = function(t, e) {
				var i = this;
				this.add(function() {
					i.game.prodigy.effects.firework(t, e, i.next.bind(i))
				}.bind(this))
			}, t.prototype.confetti = function(t, e) {
				var i = this;
				this.add(function() {
					i.game.prodigy.effects.confetti(t, e, i.next.bind(i))
				}.bind(this))
			}, t.prototype.goldwork = function(t, e) {
				var i = this;
				this.add(function() {
					i.game.prodigy.effects.goldWork(t, e, i.next.bind(i))
				}.bind(this))
			}, t.prototype.sound = function(t, e, i) {
				var n = this;
				if (void 0 === i && (i = !1), i) this.add(this.game.prodigy.audio.playSFX.bind(this.game.prodigy.audio, t, e, this.next.bind(this)));
				else {
					this.add(function() {
						n.game.prodigy.audio.playSFX(t, e), n.next()
					})
				}
			}, t.prototype.bgm = function(t) {
				var e = this;
				this.add(function() {
					n.Util.isValid(t) ? (e.game.prodigy.audio.playBGM(t, !0), e.game.prodigy.audio.resumeBGM()) : e.game.prodigy.audio.pauseBGM(), e.next()
				}.bind(this))
			}, t.prototype.tween = function(t, e, i, n, a) {
				var o = this;
				this.add(function() {
					var r = o.game.add.tween(t).to(e, i, n);
					a ? o.next() : r.onComplete.add(o.next.bind(o)), r.start()
				}.bind(this))
			}, t.prototype.cameraFlash = function() {
				var t = this;
				this.add(function() {
					var e = t.game.add.group();
					e.add(new Phaser.TileSprite(t.game, 0, 0, 1280, 720, "atlas-161", "overlay-light")), e.alpha = 0, t.game.prodigy.audio.playSFX(20, "camera");
					var i = t.game.add.tween(e).to({
						alpha: 1
					}, 150, Phaser.Easing.Linear.None).to({
						alpha: 0
					}, 150, Phaser.Easing.Linear.None);
					i.onComplete.add(function() {
						e.destroy(), t.set(e, "visible", !1), t.next()
					}), i.start()
				}.bind(this))
			}, t.prototype.reward = function(t, e) {
				n.Util.isValid(t) && t.length > 0 && this.add(this.game.prodigy.open.gotItem.bind(this.game.prodigy.open, t, this.next.bind(this), null, e))
			}, t.prototype.popup = function(t) {
				this.add(this.game.prodigy.open.message.bind(this.game.prodigy.open, t, this.next.bind(this)))
			}, t.prototype.functionCallback = function(t) {
				var e = this;
				this.add(function() {
					t(e.next.bind(e))
				}.bind(this))
			}, t
		}();
	e.EventController = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(733),
		a = function() {
			function t(t) {
				this.game = null, this.eventID = 0, this.game = t
			}
			return t.prototype.create = function() {
				return this.eventID++, new n.EventController(this.game, this.eventID)
			}, t
		}();
	e.EventFactory = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(4),
		a = i(0),
		o = function() {
			function t(t) {
				this.menuLayer = void 0, this.game = null, this.events = [], this.currentID = 0, this.spinner = null, this.face = null, this.text = null, this.yesButton = null, this.noButton = null, this.nextButton = null, this.onClose = null, this.audioCallback = null, this.overlayMode = !1, this.window = null, this.overlay = null, this.element = null, this.currentSound = null, this.current = null, this.faceAnim = null, this.game = t
			}
			return t.prototype.create = function(t, e, i, n) {
				var o = this;
				a.Util.isValid(this.game) && n && (this.spinner.destroy(), t.alpha = 1, this.face = this.game.prodigy.create.sprite(180, 188, e, "face_0"), this.face.anchor.setTo(.5, 1), t.add(this.face), this.text = this.game.prodigy.create.font(t, 300, 20, "", {
					size: 30,
					width: 680,
					lineHeight: 40
				}), this.yesButton = this.game.prodigy.create.button(t, 1e3, 20, "atlas-18", "yes-btn", function() {
					o.yes()
				}), this.nextButton = this.game.prodigy.create.button(t, 1e3, 115, "atlas-18", "next-btn", function() {
					o.next(o.currentID)
				}), this.noButton = this.game.prodigy.create.button(t, 1e3, 115, "atlas-18", "no-btn", function() {
					o.no()
				}), this.nextButton.highlight(!0, -20, -10), this.next(this.currentID))
			}, t.prototype.start = function(e, i, o, r, s, l) {
				var c = this;
				this.game.prodigy.notifications.clearNotifications(), this.game.prodigy.notifications.dialogueOpen = !0;
				var h = 0;
				h = 0 === r ? 20 : 1 === r ? 255 : 510, this.game.prodigy.open.closeChat(), this.currentID++, this.onClose = o, this.cleanup(), this.audioCallback = l;
				for (var u = 0; u < this.events.length; u++) {
					var p = this.events[u];
					if (a.Util.isValid(p.index)) {
						var d = this.game.prodigy.dialogues.get(e, p.index);
						p.text = d.text, p.face = d.face, p.audio = d.audio, p.anim = d.anim
					}
				}
				this.window = this.game.prodigy.create.element(this.menuLayer, 0, 0), this.overlayMode = i, this.overlay = this.window.add(this.game.prodigy.create.sprite(0, 0)), this.overlay.width = this.game.world.width, this.overlay.height = this.game.world.height, this.overlay.inputEnabled = !0, this.overlay.visible = !i, this.element = this.game.prodigy.create.element(this.window, 0, 0);
				var g = this.game.prodigy.create.element(this.window, 103, h);
				if (g.x = 0, !s)
					for (u = 0; u < 26; u++) g.add(this.game.prodigy.create.sprite(50 * u, 0, "atlas-18", "dialogue"));
				g.alpha = .8, this.spinner = this.window.add(this.game.prodigy.create.sprite(645, 610, "atlas-18", "loading")), this.spinner.alpha = 0, this.spinner.anchor.setTo(.5, .5), this.game.add.tween(this.spinner).to({
					angle: 360
				}, 1500, Phaser.Easing.Linear.None, !0, 0, n.GameConstants.MAX_SAFE_INTEGER, !1), this.game.add.tween(this.spinner).to({
					alpha: 1
				}, 500, Phaser.Easing.Linear.None, !0, 300);
				var f = [];
				for (u = 0; u < this.events.length; u++) a.Util.isValid(this.events[u].audio) && (a.Util.inArray(f, this.events[u].audio.tag) || f.push(this.events[u].audio.tag));
				this.game.prodigy.load.assets(f.concat(t.atlasIDs[e]), function(i, n) {
					c.create(g, t.atlasIDs[e], i, n)
				})
			}, t.prototype.setText = function(t, e, i) {
				if (void 0 === e && (e = null), void 0 === i && (i = null), a.Util.isValid(t)) {
					var n = {};
					if (isNaN(t)) {
						var o = t;
						a.Util.isValid(o.index) && (n.index = o.index), a.Util.isValid(o.text) && (n.text = o.text), a.Util.isValid(o.face) && (n.face = o.face), a.Util.isValid(o.audio) && (n.audio = o.audio), a.Util.isValid(o.yes) && (n.yes = o.yes), a.Util.isValid(o.no) && (n.no = o.no), a.Util.isValid(o.callback) && (n.callback = o.callback), a.Util.isValid(o.anim) && (n.anim = o.anim), a.Util.isValid(o.element) && (n.element = o.element), a.Util.isValid(o.hideNext) && (n.hideNext = o.hideNext)
					} else n.index = t, a.Util.isValid(e) && (n.yes = e), a.Util.isValid(i) && (n.no = i);
					this.events.push(n)
				}
			}, t.prototype.close = function(t) {
				void 0 === t && (t = !1), this.cleanup(), a.Util.isValid(this.currentSound) && this.currentSound.stop(), this.events = [], this.current = null, a.Util.isValid(this.element) && this.element.removeAll(!0), a.Util.isValid(this.onClose) && !t && this.onClose(), this.game.prodigy.notifications.dialogueOpen = !1
			}, t.prototype.cleanup = function() {
				a.Util.isValid(this.window) && (this.window.destroy(), this.window = null)
			}, t.prototype.next = function(t) {
				if (this.game.prodigy.notifications.dialogueOpen = !0, t === this.currentID)
					if (a.Util.isValid(this.currentSound) && this.currentSound.stop(), this.events.length > 0) {
						var e = !1;
						this.current = this.events[0], this.events.splice(0, 1), this.yesButton.visible = this.noButton.visible = !1, this.nextButton.visible = !this.current.hideNext && !this.overlayMode, a.Util.isValid(this.current.text) && this.text.setText(this.current.text), a.Util.isValid(this.current.face) ? (this.face.visible = !0, this.face.frameName = "face_" + this.current.face) : this.face.visible = !1, a.Util.isValid(this.current.audio) && (this.currentSound = this.game.prodigy.audio.playVoice(this.current.audio.tag, this.audioCallback, this.current.audio.s, this.current.audio.d)), this.setAnimation(this.current.anim), (a.Util.isValid(this.current.yes) || a.Util.isValid(this.current.no)) && (this.noButton.visible = this.yesButton.visible = !this.overlayMode, this.nextButton.visible = !1), a.Util.isValid(this.current.callback) && (this.current.callback(), e = !0), a.Util.isValid(this.current.element) && (this.element.removeAll(!0), this.current.element(this.element), e = !0), e && this.next(t)
					} else this.close()
			}, t.prototype.setAnimation = function(t) {
				a.Util.isValid(this.faceAnim) && this.game.tweens.remove(this.faceAnim), this.face.x = 185, this.face.y = 188, this.face.scale.x = this.face.scale.y = 1, a.Util.isValid(t) && (1 === t ? this.faceAnim = this.game.add.tween(this.face).to({
					x: this.face.x + 10
				}, 100, Phaser.Easing.Quadratic.Out, !1).to({
					x: this.face.x - 10
				}, 200, Phaser.Easing.Quadratic.InOut).to({
					x: this.face.x + 10
				}, 200, Phaser.Easing.Quadratic.InOut).to({
					x: this.face.x - 10
				}, 200, Phaser.Easing.Quadratic.InOut).to({
					x: this.face.x
				}, 100, Phaser.Easing.Quadratic.InOut).start() : 2 === t ? this.faceAnim = this.game.add.tween(this.face).to({
					y: this.face.y - 20
				}, 1e3, Phaser.Easing.Sinusoidal.InOut, !0, 0, 9999, !0) : 3 === t ? this.faceAnim = this.game.add.tween(this.face.scale).to({
					x: -1
				}, 50, Phaser.Easing.Quadratic.InOut, !1).to({
					x: 1
				}, 50, Phaser.Easing.Quadratic.InOut, !1, 300).to({
					x: -1
				}, 50, Phaser.Easing.Quadratic.InOut, !1, 300).to({
					x: 1
				}, 50, Phaser.Easing.Quadratic.InOut, !1, 300).start() : 4 === t && (this.faceAnim = this.game.add.tween(this.face.scale).to({
					x: 1.2,
					y: 1.1
				}, 300, Phaser.Easing.Linear.None, !1).to({
					y: 1.3,
					x: 1.1
				}, 200, Phaser.Easing.Quadratic.InOut).to({
					x: 1,
					y: 1
				}, 300, Phaser.Easing.Quadratic.InOut).start()))
			}, t.prototype.yes = function() {
				var t = this.current.yes;
				this.close(), a.Util.isValid(t) && t()
			}, t.prototype.no = function() {
				var t = this.current.no;
				this.close(), a.Util.isValid(t) && t()
			}, t.atlasIDs = {
				benni: "atlas-30",
				bok: "atlas-31",
				boombox: "atlas-32",
				broccolina: "atlas-33",
				cebollini: "atlas-34",
				clankboot: "atlas-35",
				cumulo: "atlas-36",
				eugene: "atlas-37",
				eve: "atlas-38",
				flora: "atlas-39",
				gale: "atlas-173",
				guard: "atlas-40",
				harvey: "atlas-41",
				howard_cornelius: "atlas-42",
				julia_ghoulia: "atlas-43",
				mama_star: "atlas-44",
				merchant: "atlas-45",
				mira: "atlas-46",
				morris: "atlas-47",
				"mozza-ella": "atlas-48",
				mugs: "atlas-49",
				noot: "atlas-50",
				pippet: "atlas-51",
				puppetmaster: "atlas-52",
				scoog: "atlas-53",
				slime_guard: "atlas-54",
				slime_queen: "atlas-55",
				slime_worker: "atlas-56",
				slurpy: "atlas-57",
				stache: "atlas-58",
				toy: "atlas-59",
				wizard: "atlas-60",
				"bargo-bunny": "atlas-92",
				"don-zorro": "atlas-93",
				verna: "atlas-94",
				harriet: "atlas-95",
				"sir-vey": "atlas-129",
				potion: "atlas-135",
				windsail: "atlas-136",
				swoopy: "atlas-138",
				jim: "atlas-152",
				fishthing: "atlas-154"
			}, t
		}();
	e.DialogueController = o
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(735),
		a = function() {
			function t(t) {
				this.game = null, this.game = t
			}
			return t.prototype.create = function() {
				return new n.DialogueController(this.game)
			}, t
		}();
	e.DialogueFactory = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(5),
		s = i(0),
		l = function(t) {
			function e(e, i, n, a, l, c) {
				var h = t.call(this, e, i, n, a) || this;
				h.callback = null, h.contents = null, h.topIcon = null, h.isActive = !0, h.oldY = null, h.tween = null, h.callback = c, h.contents = h.game.prodigy.create.element(h, 0, 0);
				for (var u = !1, p = 0; p < l.length; p++) {
					var d = l[p];
					if (s.Util.isValid(d.tag)) {
						var g = null;
						g = "object" == typeof d.tag ? h.topIcon = h.addIcon(d.tag, d.x, d.y, d.w, d.h) : h.topIcon = h.addImage(d.tag, d.x, d.y, d.w, d.h), u || (u = !0, g.inputEnabled = !0, g.events.onInputDown.add(h.onDown, h), g.events.onInputUp.add(h.onUp, h), g.events.onInputOver.add(h.onOver, h), g.events.onInputOut.add(h.onOut, h))
					} else if (s.Util.isValid(d.text)) {
						var f = s.Util.isValid(d.x) ? d.x : 0,
							y = s.Util.isValid(d.y) ? d.y : 0;
						h.game.prodigy.create.font(h.contents, f, y, d.text, {
							width: 80,
							align: "center",
							size: s.Util.isValid(d.size) ? d.size : 20
						})
					}
				}
				return o.GameConstants.get("GameConstants.Build.DEBUG") && s.Util.isValid(h.topIcon.frameName) && (h.game.prodigy.automation.addTrigger({
					ID: "autoclick-" + h.topIcon.frameName,
					context: h,
					callback: function() {
						return {
							x: h.worldPosition.x + .5 * h.topIcon.width,
							y: h.worldPosition.y + .5 * h.topIcon.height
						}
					}
				}), h.game.broadcaster.addAppListener(r.EDebugEvents.AutoClick, h.onDebugAutoClick.bind(h), h)), h.onDestroy.add(h.handleDestroy.bind(h)), h
			}
			return n(e, t), e.prototype.addImage = function(t, e, i, n, a) {
				var o = this.contents.add(this.game.prodigy.create.sprite(s.Util.isValid(e) ? e : 0, s.Util.isValid(i) ? i : 0, "atlas-21", t));
				return s.Util.isValid(n) && (o.width = n), s.Util.isValid(a) && (o.height = a), o
			}, e.prototype.addIcon = function(t, e, i, n, a) {
				var o = this.contents.add(this.game.prodigy.icon.createFromData(t, s.Util.isValid(e) ? e : 0, s.Util.isValid(i) ? i : 0));
				return s.Util.isValid(n) && (o.width = n), s.Util.isValid(a) && (o.height = a), o
			}, e.prototype.enable = function(t) {
				s.Util.isValid(this.topIcon) && (this.topIcon.tint = t ? 16777215 : 2236962), this.isActive = t
			}, e.prototype.setActive = function() {
				this.isActive = !0
			}, e.prototype.setInactive = function() {
				this.isActive = !1, this.contents.y = 0
			}, e.prototype.select = function() {
				this.y = s.Util.isValid(this.oldY) ? this.oldY : this.y, this.oldY = this.y, s.Util.isValid(this.tween) && this.tween.stop(), this.tween = this.game.add.tween(this).to({
					y: this.y - 10
				}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0)
			}, e.prototype.deselect = function() {
				this.isActive = !0, s.Util.isValid(this.tween) && (this.tween.stop(), this.tween = null), this.y = s.Util.isValid(this.oldY) ? this.oldY : this.y
			}, e.prototype.onDown = function() {
				this.isActive && (this.contents.y = 0, this.game.prodigy.audio.playSFX(18, "pop"), s.Util.isValid(this.callback) && this.callback())
			}, e.prototype.onUp = function() {
				this.isActive && (this.contents.y = -3)
			}, e.prototype.onOver = function() {
				this.isActive && (this.contents.y = -3)
			}, e.prototype.onOut = function() {
				this.isActive && (this.contents.y = 0)
			}, e.prototype.handleDestroy = function() {
				o.GameConstants.get("GameConstants.Build.DEBUG") && s.Util.isValid(this.topIcon.frameName) && (this.game.prodigy.automation.removeAllTriggers(this), this.game.broadcaster.removeAppListener(r.EDebugEvents.AutoClick, this))
			}, e.prototype.onDebugAutoClick = function(t) {
				s.Util.isValid(this.topIcon.frameName) && (s.Util.isValid(t) ? t === this.topIcon.frameName && this.onDown() : a.Logger.log("Button Stack Tag: " + this.topIcon.frameName, a.LogLevel.Verbose))
			}, e
		}(i(7).Element);
	e.StackButton = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(5),
		o = i(0),
		r = function(t) {
			function e(e, i, n, o, r, s, l) {
				var c = t.call(this, e, i, n, o) || this;
				c.page = 0, c.len = 0, c.isVertical = !1, c.bar = null, c.lower = null, c.higher = null, c.slide = null, c.pages = 0, c.paging = 0, c.inc = 0, c.items = 0, c.itemsPerPage = 0, c.callback = null, c.len = r - 100, c.isVertical = s, l && c.game.broadcaster.addAppListener(a.EInputEvents.OnMouseWheel, c.onScroll.bind(c), c, "Input", !1), c.isVertical ? c.bar = c.add(new Phaser.TileSprite(c.game, 50, 0, r, 50, "atlas-161", "slider")) : c.bar = c.add(new Phaser.TileSprite(c.game, 0, 0, r, 50, "atlas-161", "slider")), c.bar.inputEnabled = !0, c.bar.events.onInputDown.add(c.barClick, c), c.isVertical ? (c.lower = c.game.prodigy.create.button(c, 50, 0, "atlas-18", "arrow-btn-back", c.btnClick.bind(c, -1)), c.higher = c.game.prodigy.create.button(c, 50, c.len + 50, "atlas-18", "arrow-btn-next", c.btnClick.bind(c, 1))) : (c.lower = c.game.prodigy.create.button(c, 0, 0, "atlas-18", "arrow-btn-back", c.btnClick.bind(c, -1)), c.higher = c.game.prodigy.create.button(c, c.len + 50, 0, "atlas-18", "arrow-btn-next", c.btnClick.bind(c, 1))), c.lower.setInactive(), c.higher.setInactive(), c.isVertical && (c.bar.angle = 90, c.lower.angle = 90, c.higher.angle = 90);
				var h = c.isVertical ? new Phaser.Rectangle(0, 50, 50, c.len) : new Phaser.Rectangle(50, 0, c.len, 50);
				return c.slide = c.add(c.game.prodigy.create.sprite(h.x, h.y, "atlas-18", "btn-white")), c.slide.anchor.setTo(c.isVertical ? 0 : .5, c.isVertical ? .5 : 0), c.slide.visible = !1, c.slide.inputEnabled = !0, c.slide.input.enableDrag(), c.slide.input.boundsRect = h, c.slide.events.onDragStop.add(c.onDragStop, c), c
			}
			return n(e, t), e.prototype.destroy = function(e, i) {
				o.Util.isValid(this.game) && this.game.broadcaster.removeAppListener(a.EInputEvents.OnMouseWheel, this, "Input"), t.prototype.destroy.call(this, e, i)
			}, e.prototype.reset = function(t, e, i, n) {
				this.items = t, this.callback = n, o.Util.isValid(e) ? this.itemsPerPage = e : this.itemsPerPage = 1, this.paging = i < 0 ? this.itemsPerPage : 1, i >= 0 ? (this.page = Math.max(0, i - e), this.pages = Math.max(1, this.items - this.itemsPerPage + 1)) : (this.page = 0, this.pages = Math.max(1, Math.ceil(this.items / this.itemsPerPage))), this.inc = this.pages > 1 ? (this.len - 50) / (this.pages - 1) : this.len - 50, this.slide.visible = this.pages > 1, this.btnClick(0), this.callback(this.page * this.paging)
			}, e.prototype.process = function() {
				this.callback(this.page * this.paging)
			}, e.prototype.onDragStop = function() {
				var t = 0;
				t = this.isVertical ? Math.round((this.slide.y - 50 - 25) / this.inc) : Math.round((this.slide.x - 50 - 25) / this.inc), this.btnClick(t - this.page)
			}, e.prototype.barClick = function(t, e) {
				var i = 0;
				i = this.isVertical ? Math.round((e.y - this.bar.world.y - 50 - 25) / this.inc) : Math.round((e.x - this.bar.world.x - 50 - 25) / this.inc), this.btnClick(i - this.page)
			}, e.prototype.btnClick = function(t) {
				var e = this.page;
				this.page += t, this.page > this.pages - 1 && (this.page = this.pages - 1), this.page < 0 && (this.page = 0), 0 === this.page ? this.lower.setInactive() : this.lower.setActive(), this.page === this.pages - 1 ? this.higher.setInactive() : this.higher.setActive(), this.isVertical ? this.slide.y = 75 + Math.round(this.inc * this.page) : this.slide.x = 75 + Math.round(this.inc * this.page), e !== this.page && this.callback(this.page * this.paging)
			}, e.prototype.onScroll = function(t) {
				o.Util.isValid(this.game) && this.visible && this.btnClick(-Math.floor(this.game.input.mouse.wheelDelta))
			}, e
		}(i(7).Element);
	e.Slider = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(7),
		o = i(22),
		r = function(t) {
			function e(e, i, n, a, r, s) {
				var l = t.call(this, e, i, n, a) || this;
				return l.callback = null, l.scroll = null, l.up = null, l.down = null, l.pages = 0, l.diff = 0, l.page = 0, l.callback = s, l.height = r, l.add(new Phaser.TileSprite(l.game, 0, 25, 50, r - 50, "atlas-161", "panel-side")), l.add(new Phaser.TileSprite(l.game, 50, 25, 50, r - 50, "atlas-161", "panel-side2")), l.scroll = l.add(l.game.prodigy.create.sprite(0, 50, "atlas-18", "btn-mini")), l.up = l.game.prodigy.create.textButton(l, 0, 0, {
					icon: "up",
					size: o.TextButton.MINI
				}, l.clickScrollBar.bind(l, -1)), l.up.icon.x = 25, l.down = l.game.prodigy.create.textButton(l, 0, r - 50, {
					icon: "down",
					size: o.TextButton.MINI
				}, l.clickScrollBar.bind(l, 1)), l.down.icon.x = 25, l
			}
			return n(e, t), e.prototype.setPages = function(t, e) {
				void 0 === e && (e = 0), this.page = e, this.pages = t, this.diff = (this.height - 100 - 50) / Math.max(1, t - 1), this.clickScrollBar(0)
			}, e.prototype.clickScrollBar = function(t) {
				this.page = this.page + t, this.page < 0 && (this.page = 0), this.page >= this.pages && (this.page = this.pages - 1), 0 === this.page ? this.up.setInactive() : this.up.setActive(), this.page === this.pages - 1 ? this.down.setInactive() : this.down.setActive(), this.scroll.y = this.diff * this.page + 50, this.scroll.y < 50 && (this.scroll.y = 50), this.callback(this.page)
			}, e
		}(a.Element);
	e.ScrollBar = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i, n, a, o) {
			var r = t.call(this, e, i, n, a) || this;
			r.barWidth = 0, r.bar = null, r.text = null, r.barWidth = o - 12;
			var s = o - 80;
			return r.add(r.game.prodigy.create.sprite(0, 0, "atlas-18", "bar-corner")), r.add(new Phaser.TileSprite(r.game, 40, 0, s, 40, "atlas-161", "bar-top")), r.add(r.game.prodigy.create.sprite(s + 40, 0, "atlas-18", "bar-corner2")), r.bar = r.add(new Phaser.TileSprite(r.game, 6, 6, 0, 28, "atlas-161", "bar-fill")), r.text = r.game.prodigy.create.font(r, 0, 8, "", {
				width: s + 80,
				align: "center",
				size: 16
			}), r
		}
		return n(e, t), e.prototype.setProgress = function(t, e) {
			void 0 === e && (e = ""), this.bar.width = Math.floor(t * this.barWidth), this.text.setText(e)
		}, e
	}(i(7).Element);
	e.ProgressBar = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = i(0),
		r = function(t) {
			function e(e, i, n, o, r, s, l, c, h) {
				void 0 === h && (h = {});
				var u = t.call(this, e, i, n, o) || this;
				return u.callback = null, u.content = null, u.isActive = !0, u.isActive = !0, u.callback = c, u.content = u.game.prodigy.create.element(u), u.game.prodigy.create.panel(u.content, 0, 0, r, s, l, h).setClickable(u.onDown.bind(u), u.onUp.bind(u), u.onOver.bind(u), u.onOut.bind(u)), a.GameConstants.get("GameConstants.Build.DEBUG") && u.game.prodigy.automation.addTrigger({
					ID: "autoclick-" + l,
					context: u,
					callback: function() {
						return {
							x: u.worldPosition.x + .5 * u.width,
							y: u.worldPosition.y + .5 * u.height
						}
					}
				}), u.onDestroy.add(u.handleDestroy.bind(u)), u
			}
			return n(e, t), e.prototype.setActive = function(t) {
				this.isActive = t, this.content.y = 0
			}, e.prototype.handleDestroy = function() {
				a.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this)
			}, e.prototype.onDown = function() {
				this.isActive && (this.content.y = 0, this.game.prodigy.audio.playSFX(18, "pop"), o.Util.isValid(this.callback) && this.callback())
			}, e.prototype.onUp = function() {
				this.isActive && (this.content.y = -3)
			}, e.prototype.onOver = function() {
				this.isActive && (this.content.y = -3)
			}, e.prototype.onOut = function() {
				this.isActive && (this.content.y = 0)
			}, e
		}(i(7).Element);
	e.PanelButton = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i, n, o, r, s, l, c) {
				void 0 === c && (c = {});
				var h = t.call(this, e, i, n, o) || this;
				h.totalWidth = 0, h.totalHeight = 0, h.images = [];
				var u = 0,
					p = 0,
					d = null,
					g = c;
				a.Util.isValid(g) || (g = {});
				for (var f = 0; f < r; f++) {
					p = 0;
					for (var y = 0; y < s; y++) {
						var m = null;
						m = a.Util.isValid(l) ? l + "-" : "panel-", g.hideLeft || 0 !== f || 0 !== y ? g.hideRight || f !== r - 1 || 0 !== y ? g.hideRight || f !== r - 1 || y !== s - 1 ? g.hideLeft || 0 !== f || y !== s - 1 ? g.hideLeft || 0 !== f ? g.hideRight || f !== r - 1 ? m += 0 === y ? "top" : y === s - 1 ? "top2" : "mid" : m += "side2" : m += "side" : m += "corner4" : m += "corner3" : m += "corner2" : m += "corner", p += (d = h.add(new Phaser.Image(h.game, u, p, "atlas-18", m))).height, h.totalHeight += d.height, d.inputEnabled = !0, h.images.push(d)
					}
					u += d.width, h.totalWidth += d.width
				}
				return h
			}
			return n(e, t), e.prototype.setClickable = function(t, e, i, n) {
				if (a.Util.isValid(t))
					for (var o = 0; o < this.images.length; o++) t && this.images[o].events.onInputDown.add(t), e && this.images[o].events.onInputUp.add(e), i && this.images[o].events.onInputOver.add(i), n && this.images[o].events.onInputOut.add(n)
			}, e.prototype.changePanel = function(t) {
				var e = this.images[0];
				if (e.frameName !== t)
					for (var i = e.frameName.replace("-corner", ""), n = 0; n < this.images.length; n++) this.images[n].frameName = this.images[n].frameName.replace(i, t)
			}, e
		}(i(7).Element);
	e.Panel = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i, n) {
			return t.call(this, e, i, n, "atlas-21", "exclamation") || this
		}
		return n(e, t), e.prototype.addTween = function() {
			this.game.add.tween(this).to({
				y: this.y - 10
			}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, -1, !0)
		}, e
	}(Phaser.Image);
	e.Indicator = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i, n, o, r, s, l, c, h, u, p, d, g) {
				var f = t.call(this, e, i, n, o) || this;
				return f.back = null, f.bar = null, f.icon = null, f.label = null, f.direction = 0, f.fillFunction = null, f.onFill = null, f.current = 0, f.target = 0, f.delay = 0, f.currentLevel = 0, f.speed = 1, f.callback = null, f.fillFunction = c, f.direction = l, f.onFill = g, f.back = f.add(f.game.prodigy.create.sprite(0, 0, "atlas-18", "overlay-small")), f.bar = f.add(f.game.prodigy.create.sprite(1, s - 1, "atlas-18", "overlay-light")), f.bar.anchor.setTo(0, 1), f.back.width = r, f.back.height = s, f.bar.width = r - 2, f.bar.height = s - 2, f.bar.tint = a.Util.isValid(h) ? h : 16777215, f.bar.alpha = p, f.icon = f.game.prodigy.create.element(f, -Math.floor((80 - r) / 2), -60), a.Util.isValid(u) && ("string" == typeof u ? f.icon.add(f.game.prodigy.create.sprite(0, 0, "atlas-21", u)) : f.icon.add(f.game.prodigy.icon.createFromData(u, 0, 0))), f.label = f.game.prodigy.create.font(f.icon, 0, 20, "", {
					size: 30,
					width: 80,
					align: "center"
				}), f.current = 0, f.target = 0, f.delay = 0, f.currentLevel = 0, d && (f.back.visible = !1), f.setBar(), f
			}
			return n(e, t), e.prototype.update = function() {
				t.prototype.update.call(this), this.current !== this.target ? (this.delay--, this.delay <= 0 && (this.delay = this.speed, this.current < this.target ? this.current++ : this.current > this.target && this.current--, this.setBar())) : a.Util.isValid(this.callback) && (this.callback(), this.callback = null)
			}, e.prototype.setValue = function(t) {
				this.current = this.target = t, this.setBar()
			}, e.prototype.addValue = function(t, e, i) {
				return this.target += t, this.target < 0 && (this.target = 0), a.Util.isValid(e) ? this.speed = e : this.speed = 1, this.callback = i, this.target
			}, e.prototype.getValue = function() {
				return this.current
			}, e.prototype.getLevel = function() {
				return this.currentLevel
			}, e.prototype.setBar = function() {
				for (var t = {
						target: 0,
						text: null,
						color: null
					}, e = {
						target: 0,
						text: null,
						color: null
					}, i = 1, n = 0, o = !0; o;) {
					if (-1 === (t = this.fillFunction(i)).target) {
						this.current = this.target, n = 1, o = !1;
						break
					}
					if (this.current < t.target) {
						n = (this.current - e.target) / (t.target - e.target), o = !1;
						break
					}
					e = t, i++
				}
				0 === this.direction ? this.bar.width = Math.floor((this.back.width - 2) * n) : this.bar.height = Math.floor((this.back.height - 2) * n), this.label.setText(t.text), a.Util.isValid(t.color) && (this.bar.tint = t.color), i > this.currentLevel ? (a.Util.isValid(this.onFill) && this.onFill(i), this.game.add.tween(this.icon).to({
					y: -70
				}, 250, Phaser.Easing.Quadratic.Out).to({
					y: -60
				}, 250, Phaser.Easing.Quadratic.In).start()) : i < this.currentLevel && (a.Util.isValid(this.onFill) && this.onFill(i), this.game.add.tween(this.icon).to({
					x: this.icon.x - 5
				}, 100, Phaser.Easing.Linear.None).to({
					x: this.icon.x + 5
				}, 100, Phaser.Easing.Linear.None).to({
					x: this.icon.x - 5
				}, 100, Phaser.Easing.Linear.None).to({
					x: this.icon.x
				}, 100, Phaser.Easing.Linear.None).start()), this.currentLevel = i
			}, e
		}(i(7).Element);
	e.FillBar = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i, n, o, r, s) {
				void 0 === s && (s = {});
				var l = t.call(this, e, i) || this;
				return l.lines = 0, l.text = "", l.sprites = [], l.boundsWidth = 1280, l.fontSize = 20, l.alignment = null, l.fontID = 10, l.fontName = null, l.lineHeight = 0, l.monoSpace = 0, l.iconOffsetY = 0, l.x = n, l.y = o, a.Util.isValid(s.width) && (l.boundsWidth = s.width), a.Util.isValid(s.size) && (l.fontSize = s.size), l.alignment = s.align, a.Util.isValid(s.fontID) && (l.fontID = s.fontID), l.fontName = "atlas-" + l.fontID, l.lineHeight = s.lineHeight, l.monoSpace = s.mono, a.Util.isValid(s.iconOffsetY) && (l.iconOffsetY = s.iconOffsetY), a.Util.isValid(r) && l.setText(r), l
			}
			return n(e, t), e.prototype.setText = function(t) {
				if (a.Util.isValid(this.game)) {
					this.text = t;
					for (var e = 0, i = 0, n = 0, o = [], r = 0, s = null, l = 0; l < this.sprites.length; l++) this.sprites[l].kill();
					for (var c = 0; c < t.length; c++) {
						var h = t.charCodeAt(c),
							u = null;
						if (91 !== h) {
							if (93 === h) u = s, s = null;
							else if (a.Util.isValid(s)) {
								r++, s += t[c];
								continue
							}
							l = c - r;
							var p = 10;
							a.Util.isValid(this.monoSpace) && (p = this.monoSpace);
							var d = null;
							if (l >= this.sprites.length ? (d = this.game.prodigy.create.sprite(e, i, this.fontName), this.add(d), this.sprites.push(d)) : (d = this.sprites[l]).revive(), d.x = e, d.y = i, a.Util.isValid(u)) {
								var g = u.split(":");
								if (2 === g.length && "single-image" === g[0]) {
									var f = g[1];
									d.key !== f && (this.remove(d), d = this.game.prodigy.icon.createIcon(e, i, f), this.add(d), this.sprites.splice(l, 1, d))
								} else "atlas-21" !== d.key && d.loadTexture("atlas-21"), d.frameName = u;
								d.y += this.iconOffsetY
							} else d.key !== this.fontName && d.loadTexture(this.fontName), 10 !== h && (d.frameName = h + "-" + this.fontSize);
							if (32 === h || c === t.length - 1 || 10 === h) {
								var y = 0;
								if (y = a.Util.isValid(this.lineHeight) ? this.lineHeight : this.fontSize + 5, e >= this.boundsWidth) {
									var m = e;
									e = 0, i += y;
									for (var _ = n; _ <= l; _++) this.sprites[_].x = e, this.sprites[_].y = i, "atlas-21" === this.sprites[_].key && (this.sprites[_].y += (this.sprites[_].height - this.fontSize) / 2), a.Util.isValid(this.monoSpace) ? e += this.monoSpace : e += this.sprites[_].width;
									o.push(m - e)
								} else 10 === h && (d.kill(), i += y, e = 0);
								n = l + 1, 32 === h && (e += p)
							}
							10 !== h && (a.Util.isValid(this.monoSpace) ? e += this.monoSpace : e += d.width), c === t.length - 1 && o.push(e)
						} else r++, s = ""
					}
					if (this.lines = o.length, a.Util.isValid(this.alignment) && "left" !== this.alignment) {
						var v = -1,
							E = 0,
							b = -1;
						for (l = 0; l < this.sprites.length; l++) {
							var O = this.sprites[l];
							v !== O.y && (v = O.y, b++, a.Util.isValid(o[b]) && ("center" === this.alignment ? E = Math.floor((this.boundsWidth - o[b]) / 2) : "right" === this.alignment && (E = Math.floor(this.boundsWidth - o[b])))), O.x += E
						}
					}
				}
			}, e.prototype.setCenterAnchor = function() {
				for (var t = this.width >> 1, e = this.height >> 1, i = 0; i < this.sprites.length; i++) this.sprites[i].x -= t, this.sprites[i].y -= e
			}, e.prototype.addClickCallback = function(t, e, i) {
				var n = this.add(this.game.prodigy.create.sprite(0, 0, "atlas-18", "overlay-light"));
				n.width = e, n.height = i, n.alpha = 0, n.inputEnabled = !0, n.events.onInputDown.add(t)
			}, e
		}(Phaser.Group);
	e.BitmapFont = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i, n, a, o, r, s, l) {
				void 0 === r && (r = null);
				var c = t.call(this, e, i, n, a, o[0], r) || this;
				return c.frames = [], c.frameIndex = 0, c.frames = o, c.scaleValues = s, c.positionValues = l, c.updateFrameProperties(), c
			}
			return n(e, t), Object.defineProperty(e.prototype, "frameNumber", {
				get: function() {
					return this.frameIndex
				},
				set: function(t) {
					a.Util.isValid(this.frames) && (this.frameIndex = Math.floor(t), this.frameName = this.frames[this.frameIndex], this.updateFrameProperties())
				},
				enumerable: !0,
				configurable: !0
			}), e.prototype.updateFrameProperties = function() {
				a.Util.isValid(this.scaleValues) && (this.scale.x = this.scaleValues[this.frameIndex], this.scale.y = this.scaleValues[this.frameIndex]), a.Util.isValid(this.positionValues) && (this.x = this.positionValues[this.frameIndex].x, this.y = this.positionValues[this.frameIndex].y)
			}, e
		}(i(82).Sprite);
	e.AnimatedSprite = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(5),
		s = i(2),
		l = i(0),
		c = function(t) {
			function e(e, i, n, a, c, h) {
				var u = t.call(this, e, i, n, a) || this;
				u.sprite = null, u.isActive = !0, u.disabled = !1, u.data = null, u.callback = null, u.content = null, u.data = c, u.callback = h, u.content = u.game.prodigy.create.element(u), u.sprite = u.content.add(u.game.prodigy.create.sprite(0, 0, "atlas-18", "btn-core")), u.sprite.inputEnabled = !0, u.sprite.events.onInputDown.add(u.onDown, u), u.sprite.events.onInputUp.add(u.onUp, u), u.sprite.events.onInputOver.add(u.onOver, u), u.sprite.events.onInputOut.add(u.onOut, u);
				var p = null,
					d = null;
				if (l.Util.isValid(c.icon)) {
					var g = l.Util.isValid(c.icon.forcedWidth) ? c.icon.forcedWidth : null,
						f = l.Util.isValid(c.icon.forcedHeight) ? c.icon.forcedHeight : null;
					p = l.Util.isValid(c.atlas) ? c.atlas : s.Items.getIconAtlas(c.icon), d = s.Items.getIconFrame(c.icon), u.content.add(u.game.prodigy.create.sprite(0, 0, p, d, null, u.resize.bind(u), g, f)).alpha = .4
				}
				if (l.Util.isValid(c.top) && u.game.prodigy.create.font(u.content, 5, 8, c.top, {
						size: 16,
						align: "center",
						width: u.sprite.width - 10
					}), l.Util.isValid(c.bot) && u.game.prodigy.create.font(u.content, 5, u.sprite.height - 33, c.bot, {
						size: 16,
						align: "center",
						width: u.sprite.width - 10
					}), o.GameConstants.get("GameConstants.Build.DEBUG")) {
					var y = u.generateButtonKey();
					y.length > 0 && u.game.prodigy.automation.addTrigger({
						ID: "autoclick-" + y,
						context: u,
						callback: function() {
							return {
								x: u.worldPosition.x + .5 * u.sprite.width,
								y: u.worldPosition.y + .5 * u.sprite.height
							}
						}
					}), u.game.broadcaster.addAppListener(r.EDebugEvents.AutoClick, u.onDebugAutoClick.bind(u), u)
				}
				return u.onDestroy.add(u.handleDestroy, u), u
			}
			return n(e, t), e.prototype.disable = function() {
				this.setActive(!1), this.disabled = !0
			}, e.prototype.enable = function() {
				this.setActive(!0), this.disabled = !1
			}, e.prototype.setActive = function(t) {
				this.disabled || (this.isActive = t, this.sprite.tint = t ? 16777215 : 5789784, this.content.y = 0)
			}, e.prototype.resize = function(t) {
				t.x = Math.floor(.5 * (this.width - t.width)), t.y = Math.floor(.5 * (this.height - t.height))
			}, e.prototype.handleDestroy = function() {
				o.GameConstants.get("GameConstants.Build.DEBUG") && (this.game.prodigy.automation.removeAllTriggers(this), this.game.broadcaster.removeAppListener(r.EDebugEvents.AutoClick, this))
			}, e.prototype.onDown = function() {
				this.isActive && !this.disabled && (this.content.y = 0, this.game.prodigy.audio.playSFX(18, "pop"), l.Util.isValid(this.callback) && this.callback())
			}, e.prototype.onUp = function() {
				this.isActive && !this.disabled && (this.content.y = -3)
			}, e.prototype.onOver = function() {
				this.isActive && !this.disabled && (this.content.y = -3)
			}, e.prototype.onOut = function() {
				this.isActive && !this.disabled && (this.content.y = 0)
			}, e.prototype.generateButtonKey = function() {
				var t = "",
					e = l.Util.isValid(this.data.top) && this.data.top.length > 0,
					i = l.Util.isValid(this.data.bot) && this.data.bot.length > 0;
				if (e && (t += this.data.top, i && (t += "-")), i && (t += this.data.bot), 0 === t.length && l.Util.isValid(this.data.icon)) {
					var n = l.Util.isValid(this.data.atlas) ? this.data.atlas : s.Items.getIconAtlas(this.data.icon),
						a = s.Items.getIconFrame(this.data.icon);
					l.Util.isValid(n) && (t = l.Util.isValid(a) ? n + "-" + a : n)
				}
				return t
			}, e.prototype.onDebugAutoClick = function(t) {
				var e = this.generateButtonKey();
				e.length > 0 && (e = e.toLowerCase(), l.Util.isValid(t) ? e === t && this.onDown() : a.Logger.log("Button Tag: " + e, a.LogLevel.Verbose))
			}, e
		}(i(7).Element);
	e.AdvButton = c
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(747),
		o = i(746),
		r = i(745),
		s = i(155),
		l = i(7),
		c = i(744),
		h = i(743),
		u = i(742),
		p = i(741),
		d = i(740),
		g = i(739),
		f = i(738),
		y = i(82),
		m = i(737),
		_ = i(22),
		v = i(2),
		E = i(44),
		b = i(0),
		O = function() {
			function t(t) {
				this.game = null, this.game = t
			}
			return t.prototype.indicator = function(t, e) {
				return new h.Indicator(this.game, t, e)
			}, t.prototype.advButton = function(t, e, i, n, o) {
				return new a.AdvButton(this.game, t, e, i, n, o)
			}, t.prototype.button = function(t, e, i, n, a, o, r, l, c, h, u) {
				return void 0 === c && (c = !1), new s.Button(this.game, t, e, i, n, a, o, r, l, c, h, u)
			}, t.prototype.hudButton = function(t, e, i, n) {
				return new t(this.game, e, i, n)
			}, t.prototype.element = function(t, e, i) {
				return new l.Element(this.game, t, e, i)
			}, t.prototype.fillBar = function(t, e, i, n, a, o, r, s, l, h, u, p) {
				return new c.FillBar(this.game, t, e, i, n, a, o, r, s, l, h, u, p)
			}, t.prototype.font = function(t, e, i, n, a) {
				return new r.BitmapFont(this.game, t, e, i, n, a)
			}, t.prototype.nameFont = function(t, e, i, a) {
				var o = new n.GameObject(this.game, t, e, i).addComponent(n.Text);
				return o.TextConfig = v.Items.getItem("fontStyle", 16).data, o.Alignment = n.EAnchor.TopCenter, o.setText(a), o
			}, t.prototype.panel = function(t, e, i, n, a, o, r) {
				switch (o) {
					case "bases/backgroundwood":
					case "bases/matte":
					case "base/matte":
					case "banners/banner":
					case "banner/banner":
					case "banners/rope-horiz":
					case "banners/tag":
						var s = 144;
						b.Util.isValid(r) && b.Util.isValid(r.atlasID) && (s = r.atlasID);
						var l = {
							elements: [{
								type: "SlicedGraphic",
								name: "Panel",
								anchorX: 0,
								anchorY: 0,
								x: e,
								y: i,
								width: 40 * n,
								height: 40 * a
							}]
						};
						l.elements[0].atlasID = s, l.elements[0].baseFrameName = o, l.elements[0].sliceType = "nineScale";
						var c = l.elements[0];
						switch (o) {
							case "banners/banner":
							case "banner/banner":
								c.type = "SlicedBanner", c.sliceType = "three", c.isThreeSlice = !0;
								break;
							case "banners/rope-horiz":
							case "banners/tag":
								c.sliceType = "three"
						}
						return new E.UIParser(this.game).createUIElements(l.elements, t)[0];
					default:
						return new u.Panel(this.game, t, e, i, n, a, o, r)
				}
			}, t.prototype.panelButton = function(t, e, i, n, a, o, r, s) {
				return new p.PanelButton(this.game, t, e, i, n, a, o, r, s)
			}, t.prototype.progressBar = function(t, e, i, n) {
				return new d.ProgressBar(this.game, t, e, i, n)
			}, t.prototype.scrollBar = function(t, e, i, n, a) {
				return new g.ScrollBar(this.game, t, e, i, n, a)
			}, t.prototype.slider = function(t, e, i, n, a, o) {
				return new f.Slider(this.game, t, e, i, n, a, o)
			}, t.prototype.sprite = function(t, e, i, n, a, o, r, s) {
				return new y.Sprite(this.game, t, e, i, n, a, o, r, s, !1)
			}, t.prototype.animatedSprite = function(t, e, i, n, a, r, s) {
				return new o.AnimatedSprite(this.game, t, e, i, n, a, r, s)
			}, t.prototype.stackButton = function(t, e, i, n, a) {
				return new m.StackButton(this.game, t, e, i, n, a)
			}, t.prototype.textButton = function(t, e, i, n, a) {
				return new _.TextButton(this.game, t, e, i, n, a)
			}, t
		}();
	e.GameObjectFactory = O
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(5),
		o = i(0),
		r = function(t) {
			function e(e, i, n, o) {
				var r = t.call(this, e, i, n, o, "atlas-28", "conjure-cube-hud-icon", e.prodigy.open.conjureCube.bind(e.prodigy.open), 94, 94) || this;
				return r.toOpenCounterBG = null, r.toOpenCounter = null, r.createIcons(), r.game.broadcaster.addAppListener(a.EGiftBoxEvents.UpdateConjureCubeCount, r.updateCubesCount.bind(r), r, "ConjureCubes"), r.updateCubesCount(), r
			}
			return n(e, t), e.prototype.destroy = function(e, i) {
				o.Util.isValid(this.game) && this.game.broadcaster.removeAppListener(a.EGiftBoxEvents.UpdateConjureCubeCount, this, "ConjureCubes"), t.prototype.destroy.call(this, e, i)
			}, e.prototype.createIcons = function() {
				this.toOpenCounterBG = this.game.prodigy.create.sprite(65, 60, "atlas-28", "conjure-cube-counter-bg"), this.toOpenCounterBG.visible = !0, this.sprite.addChild(this.toOpenCounterBG), this.toOpenCounter = this.game.prodigy.create.font(this, -7, 8, "", {
					fontID: 11,
					width: 46,
					align: "center",
					lineHeight: 46
				}), this.toOpenCounterBG.addChild(this.toOpenCounter), this.toOpenCounterBG.visible = !1
			}, e.prototype.updateCubesCount = function() {
				if (this.toOpenCounterBG.visible = !1, o.Util.isValid(this.game.prodigy.giftBoxController.giftBoxesToOpen)) {
					var t = Math.min(this.game.prodigy.giftBoxController.getUnopenedConjureCubesCount(), 99);
					t > 0 ? (this.toOpenCounter.setText(t.toString()), this.toOpenCounterBG.visible = !0) : this.visible = !1
				}
			}, e
		}(i(30).HUDButton);
	e.ConjureCubeButton = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = i(48),
		r = i(306),
		s = function(t) {
			function e(e) {
				var i = t.call(this) || this;
				return i.animations = null, i.timesPlayed = 0, i.targetLoops = 0, i.nextIdleAnim = 0, i.renderer = null, i.animations = e, i
			}
			return n(e, t), e.prototype.create = function() {
				this.renderer = this.gameObject.findComponent(r.SpineRenderer), this.renderer.setAnchor(.5, 0), this.idle()
			}, e.prototype.idle = function() {
				a.Util.isValid(this.renderer.spine) ? (this.chooseRandomAnimation(), this.renderer.spine.onComplete.has(this.chooseRandomAnimation, this) && this.renderer.spine.onComplete.remove(this.chooseRandomAnimation, this), this.renderer.spine.onComplete.add(this.chooseRandomAnimation, this)) : (this.renderer.onLoaded.has(this.idle, this) && this.renderer.onLoaded.remove(this.idle, this), this.renderer.onLoaded.addOnce(this.idle, this))
			}, e.prototype.chooseRandomAnimation = function() {
				this.timesPlayed === this.targetLoops ? (this.targetLoops = this.animations[this.nextIdleAnim].min + Math.floor(Math.random() * (this.animations[this.nextIdleAnim].max + 1 - this.animations[this.nextIdleAnim].min)), this.renderer.getAnimationLength(this.animations[this.nextIdleAnim].name) > 0 && this.renderer.playAnimation(this.animations[this.nextIdleAnim].name, !0), this.timesPlayed = 1, this.nextIdleAnim++, this.nextIdleAnim = this.nextIdleAnim % this.animations.length) : this.timesPlayed++
			}, e
		}(o.Component);
	e.PlayAnimationList = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e) {
			var i = t.call(this) || this;
			return i.text = null, i.xCoord = 0, i.yCoord = 0, i.text = e.text, i.xCoord = e.x, i.yCoord = e.y, i
		}
		return n(e, t), e.prototype.create = function() {
			this.gameObject.game.prodigy.create.nameFont(this.gameObject, this.gameObject.position.x + this.xCoord, this.gameObject.position.y + this.yCoord, this.text)
		}, e
	}(i(48).Component);
	e.NameLabel = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(40),
		o = i(61),
		r = i(0),
		s = function(t) {
			function e(e, i, n, a, o, s) {
				var l = t.call(this, e, i, n, a) || this;
				return l.callback = null, l.maxTime = 6e4, l.timeDelta = 1e4, l.radius = 30, l.clickMessage = "", l.hideElements = [], l.blocks = [], l.currentBlockIndex = -1, l.renderer = null, l.gameObject = null, l.time = 0, l.endTransformMessage = null, l.numberOfSquares = [], l.callback = s, r.Util.isValid(o.maxTime) && (l.maxTime = o.maxTime), r.Util.isValid(o.timeDelta) && (l.timeDelta = o.timeDelta), r.Util.isValid(o.radius) && (l.radius = o.radius), r.Util.isValid(o.clickMessage) && (l.clickMessage = o.clickMessage), r.Util.isValid(o.hideElements) && (l.hideElements = o.hideElements), r.Util.isValid(o.storedTime) && (l.storedTime = o.storedTime), l.setup(), l
			}
			return n(e, t), e.prototype.setup = function() {
				for (var t = 0; t < this.hideElements.length; t++) r.Util.isValid(this.hideElements[t]) && (this.hideElements[t].visible = !1);
				this.renderer = o.RenderFactory.createRenderer("spine-11", {
					type: "spine",
					anchor: {
						x: .5,
						y: .5
					}
				}), this.renderer.playAnimation("animation", !0), this.gameObject = new a.GameObject(this.game, this, [this.renderer], -33, -33), this.renderer.inputSprite = this.gameObject.add(this.game.prodigy.create.sprite(0, 0, "atlas-18", "empty")), this.renderer.playAnimation("", !0, 0), this.renderer.setInputEnabled(!0);
				var e = this.renderer.getEvents();
				r.Util.isValid(e) && e.onInputDown.add(this.onClick, this), this.setupTimerVisuals(this.maxTime, this.timeDelta, this.radius)
			}, e.prototype.updateTimerValue = function(t) {
				this.updateTimerVisuals(t, this.timeDelta, this.radius)
			}, e.prototype.autoUpdateTimer = function(t) {
				var e = this;
				this.update = t ? function() {
					r.Util.isValid(e.time) || (e.time = 0), e.time += 1 / 60, e.updateTimerVisuals(e.time, .5, 10)
				} : function() {}
			}, e.prototype.onClick = function() {
				this.endTransformMessage = this.game.prodigy.open.messageBox(this.clickMessage, this.callback)
			}, e.prototype.setupTimerVisuals = function(t, e, i) {
				var n = this,
					a = t / e,
					o = Math.floor(360 / a / 3),
					s = Math.floor(360 / a) * Math.PI / 180,
					l = 3 * Math.PI / 180,
					c = r.Util.isValid(this.storedTime) ? Math.floor(this.storedTime / e - 1) : -1;
				this.numberOfSquares = [];
				for (var h = function(t, e, i, n) {
						t.anchor.setTo(.5, .5), t.scale.x = 3 * n * .1, t.angle = 180 * i / Math.PI - 90, e.add(t)
					}, u = function(t, e, i, a, o, r) {
						if (n.numberOfSquares[t]--, 0 === n.numberOfSquares[t]) {
							h(r, e, a, o);
							var s = n.game.prodigy.create.element(n, 0, 0),
								l = n.game.add.renderTexture(74, 74);
							l.renderXY(e, 37, 37, !0), s.add(new Phaser.Image(n.game, -37, -37, l)), e.destroy(), n.blocks.push({
								block: s,
								direction: i
							})
						}
					}, p = 0; p < a; p++) {
					var d = this.game.prodigy.create.element(this, 0, 0),
						g = -(Math.PI / 2 - (p + .5) * s + .5 * l),
						f = {
							x: Math.cos(g),
							y: Math.sin(g)
						},
						y = p * s + .5 * l;
					this.numberOfSquares.push(o);
					for (var m = 0; m < o; m++) {
						var _ = -(Math.PI / 2 - (y + m * l)),
							v = i * Math.cos(_),
							E = i * Math.sin(_),
							b = "block-middle",
							O = 1;
						if (0 === m ? (b = "block-white", O = .6) : m === o - 1 && (b = "block-white", O = .6), p > c) {
							var I = this.game.prodigy.create.sprite(v, E, "atlas-162", b, null, u.bind(this, p, d, f, _, O));
							r.Util.isValid(d) && h(I, d, _, O)
						} else d.destroy()
					}
				}
			}, e.prototype.updateTimerVisuals = function(t, e, i) {
				var n = this,
					a = Math.floor(t / e - 1),
					o = r.Util.isValid(this.storedTime) ? Math.floor(this.storedTime / e - 1) + 1 : -1;
				if (o > -1 && (a -= o), a > this.currentBlockIndex && a < this.blocks.length) {
					this.currentBlockIndex = a;
					for (var s = null, l = 0; l <= a; l++) {
						var c = this.blocks[l];
						s = this.game.add.tween(c.block).to({
							x: i * c.direction.x,
							y: i * c.direction.y,
							alpha: 0
						}, 3e3, Phaser.Easing.Exponential.Out).start()
					}
					if (a === this.blocks.length - 1) {
						this.renderer.setInputEnabled(!1), r.Util.isValid(this.endTransformMessage) && this.endTransformMessage.destroy(!0);
						this.game.add.tween(this.gameObject).to({
							alpha: 0
						}, 3e3, Phaser.Easing.Exponential.Out).start(), s.onComplete.add(function() {
							for (var t = 0; t < n.hideElements.length; t++) r.Util.isValid(n.hideElements[t]) && (n.hideElements[t].visible = !0);
							n.destroy(!0)
						}.bind(this))
					}
				}
			}, e.prototype.endTimer = function() {
				this.updateTimerValue(this.maxTime)
			}, e
		}(i(7).Element);
	e.TimerControl = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(7),
		r = i(0),
		s = function(t) {
			function e(e, i, n, a, o) {
				var r = t.call(this, e, i, n, a) || this;
				(r.eventFormat = !1, o) || (r.game.prodigy.create.panel(r, 0, 0, 6, 2, "white").alpha = .8);
				return r.text = r.game.prodigy.create.font(r, 0, 10, "00:00", {
					width: 240,
					size: 40,
					align: "center"
				}), r.msg = r.game.prodigy.create.font(r, 0, 55, "", {
					width: 240,
					size: 16,
					align: "center"
				}), r
			}
			return n(e, t), e.prototype.processTime = function(t) {
				if (t <= 0) return "00:00";
				var e, i = Math.floor(t / 36e5),
					n = Math.floor((t - 36e5 * i) / 6e4),
					o = Math.floor((t - 36e5 * i - 6e4 * n) / 1e3);
				0 === i ? e = "00" : i < 10 && (e = "0" + i);
				var r = "" + n;
				0 === n ? r = "00" : n < 10 && (r = "0" + n);
				var s = "" + o;
				return 0 === o ? s = "00" : o < 10 && (s = "0" + o), "00" === e ? r + ":" + s : i < 24 ? e + ":" + r + ":" + s : this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("TIMER_FORMAT_DAYS", Math.floor(i / 24))
			}, e.prototype.processTimeFormatted = function(t) {
				if (t <= 0) return "0";
				var e = Math.floor(t / 864e5),
					i = t - 864e5 * e,
					n = Math.floor(i / 36e5);
				i -= 36e5 * n;
				var o = Math.floor(i / 6e4),
					r = n.toString();
				n < 10 && (r = "0" + n);
				var s = o.toString();
				return o < 10 && (s = "0" + o), this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("TIMER_FORMAT", e, r, s)
			}, e.prototype.setTime = function(t) {
				this.target = t, this.text.setText(this.eventFormat ? this.processTimeFormatted(t) : this.processTime(t))
			}, e.prototype.setMsg = function(t) {
				this.msg.setText(t)
			}, e.prototype.start = function(t, e, i) {
				void 0 === i && (i = !1), this.eventFormat = i, this.setTime(t), this.callback = e, this.targetTime = (new Date).getTime() + this.target, this.clear(), this.timer = setInterval(this.process.bind(this), 100)
			}, e.prototype.pause = function() {
				this.paused = this.targetTime - (new Date).getTime()
			}, e.prototype.resume = function() {
				this.targetTime = (new Date).getTime() + this.paused, this.paused = null
			}, e.prototype.blink = function() {
				this.game.add.tween(this.text).to({
					y: 0
				}, 500, Phaser.Easing.Quadratic.Out).to({
					y: 10
				}, 500, Phaser.Easing.Quadratic.In).start()
			}, e.prototype.add = function(t) {
				this.targetTime += t, this.process(), this.blink()
			}, e.prototype.clear = function() {
				r.Util.isValid(this.timer) && (window.clearInterval(this.timer), this.timer = null)
			}, e.prototype.process = function() {
				if (!r.Util.isValid(this.paused)) {
					var t = this.targetTime - (new Date).getTime();
					this.text.setText(this.eventFormat ? this.processTimeFormatted(t) : this.processTime(t)), t <= 0 && (this.clear(), r.Util.isValid(this.callback) && this.callback())
				}
			}, e.prototype.isInProgress = function() {
				return r.Util.isValid(this.timer)
			}, e.prototype.destroy = function() {
				this.clear(), t.prototype.destroy.call(this)
			}, e
		}(o.Element);
	e.TimerContainer = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(19),
		o = i(2),
		r = i(33),
		s = i(0),
		l = function(t) {
			function e(e, i, n, a, l) {
				var c = this,
					h = new r.NPC(e);
				return h.init({
					name: ""
				}), (c = t.call(this, e, i, h, null, s.Util.isValid(a) ? a.x : 0, s.Util.isValid(a) ? a.y : -1) || this).mode = -1, c.tweens = [], c.coords = [], c.itemData = o.Items.getItem("follow", n).data, c.assets = ["pets"], c.player = a, c
			}
			return n(e, t), e.prototype.startLoad = function() {
				t.prototype.startLoad.call(this), this.loading = !0, this.assets = ["atlas-29", "atlas-19"], this.game.prodigy.load.assets(this.assets, this.setup.bind(this))
			}, e.prototype.setup = function(t) {
				var e = this;
				if (s.Util.isValid(this.game) && t && s.Util.isValid(this.assets)) {
					var i = this.itemData.tag;
					this.sprite = this.game.prodigy.create.element(this.sprites, 0, 0), i.indexOf("cat") > -1 ? i.indexOf("sparkle") > -1 ? this.createSparkleCat(i, this.itemData.spriteOffsets) : this.createCat(i, this.itemData.spriteOffsets) : i.indexOf("dog") > -1 ? i.indexOf("sparkle") > -1 ? this.createSparkleDog(i) : this.createDog(i) : i.indexOf("rodent") > -1 ? i.indexOf("sparkle") > -1 ? this.createSparkleRodent(i) : this.createRodent(i) : i.indexOf("bird") > -1 ? this.createBird(i) : i.indexOf("lizard") > -1 ? this.createLizard(i) : i.indexOf("turtle") > -1 ? this.createTurtle(i, this.itemData.spriteOffsets) : i.indexOf("reindeer") > -1 ? this.createReindeer(i) : i.indexOf("penguin") > -1 ? this.createPenguin(i) : i.indexOf("snowman") > -1 ? this.createSnowman(i) : i.indexOf("panda") > -1 ? this.createPanda(i) : i.indexOf("sheep") > -1 ? this.createSheep(i) : i.indexOf("cactus") > -1 ? this.createCactus(i) : i.indexOf("fox") > -1 && this.createFox(i), s.Util.isValid(this.itemData.extraAnims) && this.itemData.extraAnims.forEach(function(t) {
						var n = e.sprite.add(e.game.prodigy.create.sprite(t.offsets.x, t.offsets.y, "atlas-29", i + "/" + t.animFrames[0])),
							o = null;
						(o = "walk" === t.targetCycle ? e.walkTween : e.standTween).push(new a.TweenController(n)), o[o.length - 1].set("frameName", t.animFrames.map(function(t) {
							return i + "/" + t
						}, e), 80, 9999)
					}, this), this.complete = !0, this.loading = !1, s.Util.isValid(this.loadedCallback) && this.loadedCallback()
				}
			}, e.prototype.setupWalk = function(t) {
				var e = t + "/walk/";
				this.walkTween = [], this.walkTween.push(new a.TweenController(this.body)), this.walkTween[0].set("y", [this.body.y, this.body.y + 1], 150, 9999), this.walkTween.push(new a.TweenController(this.legs)), this.walkTween[1].set("frameName", [e + "legs-0", e + "legs-1", e + "legs-2", e + "legs-3"], 150, 9999), s.Util.isValid(this.tail) && (this.walkTween.push(new a.TweenController(this.tail)), this.walkTween[2].set("frameName", [e + "tail-0", e + "tail-1"], 150, 9999), this.walkTween.push(new a.TweenController(this.tail)), this.walkTween[3].set("y", [this.tail.y, this.tail.y + 1], 150, 9999))
			}, e.prototype.setupStand = function(t) {
				var e = t + "/idle/";
				this.standTween = [], s.Util.isValid(this.tail) && (this.standTween.push(new a.TweenController(this.tail)), this.standTween[0].set("y", [this.tail.y + 6], 1e4, 9999), this.standTween.push(new a.TweenController(this.tail)), this.standTween[1].set("frameName", [e + "tail-0", e + "tail-1", e + "tail-2"], 150, 9999))
			}, e.prototype.setSpriteDefaults = function(t) {
				var e = function(t, e) {
					s.Util.isValid(e) && (s.Util.isValid(e._defaultAnims) && (e.frameName = e._defaultAnims[t]), s.Util.isValid(e._defaultVisibility) && (e.visible = e._defaultVisibility[t]), s.Util.isValid(e._defaults) && (e.x = e._defaults[t][0], e.y = e._defaults[t][1]))
				};
				e(t, this.head), e(t, this.body), e(t, this.legs), e(t, this.tail)
			}, e.prototype.createCat = function(t, e) {
				var i = s.Util.isValid(e) ? e : {};
				s.Util.isValid(i.tail) || (i.tail = {
					x: -12,
					y: 1
				}), s.Util.isValid(i.body) || (i.body = {
					x: 0,
					y: 0
				}), s.Util.isValid(i.legs) || (i.legs = {
					x: -1,
					y: 29
				}), this.tail = this.sprite.add(this.game.prodigy.create.sprite(0 + i.tail.x, 0 + i.tail.y, "atlas-29", t + "/walk/tail-0")), this.body = this.sprite.add(this.game.prodigy.create.sprite(0 + i.body.x, 0 + i.body.y, "atlas-29", t + "/walk/body-0")), this.legs = this.sprite.add(this.game.prodigy.create.sprite(0 + i.legs.x, 0 + i.legs.y, "atlas-29", t + "/walk/legs-0")), this.sprite.y = -this.body.height - this.legs.height, this.sprite.x = -Math.floor(this.body.width / 2), this.setupWalk(t), this.setupStand(t)
			}, e.prototype.createSparkleCat = function(t, e) {
				var i = s.Util.isValid(e) ? e : {};
				s.Util.isValid(i.tail) || (i.tail = {
					x: -12,
					y: 1
				}), s.Util.isValid(i.body) || (i.body = {
					x: 0,
					y: 0
				}), s.Util.isValid(i.legs) || (i.legs = {
					x: -1,
					y: 29
				}), this.tail = this.sprite.add(this.game.prodigy.create.sprite(0 + i.tail.x, 0 + i.tail.y, "atlas-29", t + "/walk/tail-0")), this.tail._defaultVisibility = {
					walk: !0,
					stand: !1
				}, this.body = this.sprite.add(this.game.prodigy.create.sprite(0 + i.body.x, 0 + i.body.y, "atlas-29", t + "/walk/body-0")), this.body._defaults = {
					walk: [0, 0],
					stand: [-12, 0]
				}, this.legs = this.sprite.add(this.game.prodigy.create.sprite(0 + i.legs.x, 0 + i.legs.y, "atlas-29", t + "/walk/legs-0")), this.legs._defaultVisibility = {
					walk: !0,
					stand: !1
				}, this.sprite.y = -this.body.height - this.legs.height, this.sprite.x = -Math.floor(.5 * this.body.width), this.setupWalk(t);
				var n = t + "/idle/";
				this.standTween = [], this.standTween.push(new a.TweenController(this.body)), this.standTween[0].set("frameName", [n + "body-0", n + "body-1", n + "body-2", n + "body-3"], 150, 9999)
			}, e.prototype.createDog = function(t) {
				this.tail = this.sprite.add(this.game.prodigy.create.sprite(-12, 9, "atlas-29", t + "/walk/tail-0")), this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/body-0")), this.legs = this.sprite.add(this.game.prodigy.create.sprite(-1, 33, "atlas-29", t + "/walk/legs-0")), this.sprite.y = -this.body.height - this.legs.height, this.sprite.x = -Math.floor(this.body.width / 2), this.setupWalk(t), this.setupStand(t)
			}, e.prototype.createSparkleDog = function(t) {
				this.tail = this.sprite.add(this.game.prodigy.create.sprite(-12, 9, "atlas-29", t + "/walk/tail-0")), this.tail._defaultVisibility = {
					walk: !0,
					stand: !1
				}, this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/body-0")), this.body._defaults = {
					walk: [0, 0],
					stand: [-12, 0]
				}, this.legs = this.sprite.add(this.game.prodigy.create.sprite(-1, 33, "atlas-29", t + "/walk/legs-0")), this.legs._defaultVisibility = {
					walk: !0,
					stand: !1
				}, this.sprite.y = -this.body.height - this.legs.height, this.sprite.x = -Math.floor(.5 * this.body.width), this.setupWalk(t);
				var e = t + "/idle/";
				this.standTween = [], this.standTween.push(new a.TweenController(this.body)), this.standTween[0].set("frameName", [e + "body-0", e + "body-1", e + "body-2", e + "body-3"], 150, 9999)
			}, e.prototype.createRodent = function(t) {
				this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/body-0")), this.legs = this.sprite.add(this.game.prodigy.create.sprite(2, 18, "atlas-29", t + "/walk/legs-0")), this.sprite.y = -this.body.height - this.legs.height, this.sprite.x = -Math.floor(this.body.width / 2), this.setupWalk(t), this.setupStand(t)
			}, e.prototype.createSparkleRodent = function(t) {
				this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/body-0")), this.sprite.y = -this.body.height, this.sprite.x = -Math.floor(.5 * this.body.width);
				var e = t + "/walk/";
				this.walkTween = [], this.walkTween.push(new a.TweenController(this.body)), this.walkTween[0].set("frameName", [e + "body-0", e + "body-1", e + "body-2", e + "body-3"], 150, 9999);
				var i = t + "/idle/";
				this.standTween = [], this.standTween.push(new a.TweenController(this.body)), this.standTween[0].set("frameName", [i + "body-0", i + "body-1", i + "body-2", i + "body-3"], 150, 9999)
			}, e.prototype.createBird = function(t) {
				var e = s.Util.isValid(this.itemData.numWalkAnimFrames) ? this.itemData.numWalkAnimFrames : 4;
				this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/body-0")), this.sprite.y = -this.body.height - 30, this.sprite.x = -Math.floor(this.body.width / 2);
				var i = t + "/walk/";
				this.walkTween = [], this.walkTween.push(new a.TweenController(this.body));
				for (var n = [], o = 0; o < e; o++) n.push(i + "body-" + o);
				this.walkTween[0].set("frameName", n, 80, 9999), this.standTween = this.walkTween
			}, e.prototype.createLizard = function(t) {
				var e = s.Util.isValid(this.itemData.numStandAnimFrames) ? this.itemData.numStandAnimFrames : 0,
					i = t + "/walk/",
					n = t + "/idle/",
					o = [],
					r = [];
				if (this.walkTween = [], this.standTween = [], this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/body-0")), this.tail = this.sprite.add(this.game.prodigy.create.sprite(-16, 6, "atlas-29", t + "/walk/tail-0")), this.head = this.sprite.add(this.game.prodigy.create.sprite(22, 0, "atlas-29", t + "/walk/head-0")), this.head._defaultVisibility = {
						walk: !0,
						stand: !1
					}, this.sprite.y = -this.body.height, this.sprite.x = -Math.floor(this.body.width / 2), this.walkTween.push(new a.TweenController(this.body)), this.walkTween[0].set("frameName", [i + "body-0", i + "body-1", i + "body-2", i + "body-3"], 150, 9999), this.walkTween.push(new a.TweenController(this.tail)), this.walkTween[1].set("frameName", [i + "tail-0", i + "tail-1"], 150, 9999), this.walkTween.push(new a.TweenController(this.head)), this.walkTween[2].set("y", [this.tail.y, this.tail.y - 1], 150, 9999), this.walkTween.push(new a.TweenController(this.head)), this.walkTween[3].set("y", [this.head.y, this.head.y + 1], 150, 9999), e > 0) {
					this.standTween.push(new a.TweenController(this.body)), this.standTween.push(new a.TweenController(this.tail));
					for (var l = 0; l < e; l++) o.push(n + "body-" + l), r.push(n + "tail-" + l);
					this.standTween[0].set("frameName", o, 150, 9999), this.standTween[1].set("frameName", r, 150, 9999)
				}
			}, e.prototype.createTurtle = function(t, e) {
				var i = s.Util.isValid(e) ? e : {};
				s.Util.isValid(i.body) || (i.body = {
					x: 0,
					y: 0
				}), s.Util.isValid(i.legs) || (i.legs = {
					x: 0,
					y: 0
				}), this.body = this.sprite.add(this.game.prodigy.create.sprite(i.body.x, i.body.y, "atlas-29", t + "/walk/body-0")), this.legs = this.sprite.add(this.game.prodigy.create.sprite(i.legs.x, i.legs.y + this.body.height, "atlas-29", t + "/walk/legs-0")), this.sprite.y = -(this.body.height + this.legs.height), this.sprite.x = -Math.floor(this.body.width / 2);
				var n = t + "/walk/";
				this.walkTween = [], this.walkTween.push(new a.TweenController(this.body)), this.walkTween[0].set("frameName", [n + "body-0"], 150, 9999), this.walkTween.push(new a.TweenController(this.legs)), this.walkTween[1].set("frameName", [n + "legs-0", n + "legs-1", n + "legs-2", n + "legs-3"], 150, 9999), this.standTween = []
			}, e.prototype.createReindeer = function(t) {
				this.body = this.sprite.add(this.game.prodigy.create.sprite(7, 0, "atlas-29", t + "/walk/body-0")), this.legs = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/legs-0")), this.tail = this.sprite.add(this.game.prodigy.create.sprite(0, 26, "atlas-29", t + "/walk/tail-0")), this.body._defaults = {
					walk: [3, 0],
					stand: [7, 0]
				}, this.legs._defaults = {
					walk: [3, 32],
					stand: [0, 0]
				}, this.tail._defaults = {
					walk: [0, 18],
					stand: [0, 26]
				}, this.sprite.y = -(this.body.height + this.legs.height), this.sprite.x = -Math.floor(this.body.width / 2);
				var e = t + "/walk/";
				this.walkTween = [], this.setSpriteDefaults("walk"), this.walkTween.push(new a.TweenController(this.body)), this.walkTween[0].set("frameName", [e + "body-0"], 150, 9999), this.walkTween.push(new a.TweenController(this.legs)), this.walkTween[1].set("frameName", [e + "legs-0", e + "legs-1", e + "legs-2", e + "legs-3"], 150, 9999), this.walkTween.push(new a.TweenController(this.tail)), this.walkTween[2].set("frameName", [e + "tail-0", e + "tail-1", e + "tail-0", e + "tail-1"], 150, 9999), this.walkTween.push(new a.TweenController(this.body)), this.walkTween[3].set("y", [this.body.y, this.body.y + 1, this.body.y, this.body.y + 1], 150, 9999), this.walkTween.push(new a.TweenController(this.tail)), this.walkTween[4].set("y", [this.tail.y, this.tail.y + 1, this.tail.y, this.tail.y + 1], 150, 9999);
				var i = t + "/idle/";
				this.standTween = [], this.setSpriteDefaults("stand"), this.standTween.push(new a.TweenController(this.body)), this.standTween[0].set("frameName", [i + "body-0"], 150, 9999), this.standTween.push(new a.TweenController(this.tail)), this.standTween[1].set("frameName", [i + "tail-0", i + "tail-2", i + "tail-1", i + "tail-2"], 150, 9999)
			}, e.prototype.createPenguin = function(t) {
				this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/body-0")), this.head = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/head-0")), this.body._defaults = {
					walk: [0, 0],
					stand: [0, 0]
				}, this.head._defaults = {
					walk: [8, -15],
					stand: [5, -15]
				}, this.sprite.y = -this.body.height, this.sprite.x = -Math.floor(this.body.width / 2);
				var e = t + "/walk/";
				this.walkTween = [], this.setSpriteDefaults("walk"), this.walkTween.push(new a.TweenController(this.body)), this.walkTween[0].set("frameName", [e + "body-0", e + "body-1", e + "body-2", e + "body-3"], 150, 9999), this.walkTween.push(new a.TweenController(this.head)), this.walkTween[1].set("frameName", [e + "head-0"], 150, 9999), this.walkTween.push(new a.TweenController(this.head)), this.walkTween[2].set("y", [this.head.y, this.head.y + 1, this.head.y, this.head.y + 1], 150, 9999);
				var i = t + "/idle/";
				this.standTween = [], this.setSpriteDefaults("stand"), this.standTween.push(new a.TweenController(this.body)), this.standTween[0].set("frameName", [i + "body-0", i + "body-1", i + "body-2"], 150, 9999), this.standTween.push(new a.TweenController(this.head)), this.standTween[1].set("frameName", [i + "head-0"], 150, 9999)
			}, e.prototype.createSnowman = function(t) {
				this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/body-0")), this.head = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", t + "/walk/head-0")), this.body._defaults = {
					walk: [0, 0],
					stand: [0, 0]
				}, this.head._defaults = {
					walk: [8, -17],
					stand: [8, -18]
				}, this.sprite.y = -this.body.height, this.sprite.x = -Math.floor(this.body.width / 2);
				var e = t + "/walk/";
				this.walkTween = [], this.setSpriteDefaults("walk"), this.walkTween.push(new a.TweenController(this.body)), this.walkTween[0].set("frameName", [e + "body-0", e + "body-1", e + "body-2", e + "body-3"], 150, 9999), this.walkTween.push(new a.TweenController(this.head)), this.walkTween[1].set("frameName", [e + "head-0"], 150, 9999), this.walkTween.push(new a.TweenController(this.head)), this.walkTween[2].set("x", [this.head.x, this.head.x + 1, this.head.x + 2, this.head.x + 1], 150, 9999), this.walkTween.push(new a.TweenController(this.head)), this.walkTween[3].set("y", [this.head.y, this.head.y - 1, this.head.y - 1, this.head.y], 150, 9999);
				var i = t + "/idle/";
				this.standTween = [], this.setSpriteDefaults("stand"), this.standTween.push(new a.TweenController(this.body)), this.standTween[0].set("frameName", [i + "body-0", i + "body-1", i + "body-1", i + "body-0"], 150, 9999), this.standTween.push(new a.TweenController(this.head)), this.standTween[1].set("frameName", [i + "head-0"], 150, 9999), this.standTween.push(new a.TweenController(this.head)), this.standTween[2].set("y", [this.head.y, this.head.y - 1, this.head.y - 2, this.head.y - 1], 150, 9999)
			}, e.prototype.createPanda = function(t) {
				var e = t + "/walk/",
					i = t + "/idle/";
				this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", e + "body-0")), this.sprite.y = -this.body.height, this.sprite.x = -Math.floor(this.body.width / 2), this.walkTween = [new a.TweenController(this.body)], this.walkTween[this.walkTween.length - 1].set("frameName", [e + "body-0", e + "body-1", e + "body-2", e + "body-3"], 150, 9999), this.standTween = [new a.TweenController(this.body)], this.standTween[this.standTween.length - 1].set("frameName", [i + "body-0", i + "body-1", i + "body-2"], 150, 9999)
			}, e.prototype.createSheep = function(t) {
				var e = t + "/walk/",
					i = t + "/idle/";
				this.walkTween = [], this.standTween = [], this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", e + "body-0")), this.legs = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", e + "shadow-0")), this.legs._defaults = {
					walk: [15, 43],
					stand: [13, 29]
				}, this.legs._defaultAnims = {
					walk: e + "shadow-0",
					stand: i + "legs-0"
				}, this.legs._defaultVisibility = {
					walk: !0,
					stand: !0
				}, this.sprite.y = -(this.body.height + this.legs.height), this.sprite.x = -Math.floor(this.body.width / 2), this.walkTween.push(new a.TweenController(this.body)), this.walkTween[this.walkTween.length - 1].set("frameName", [e + "body-0", e + "body-1", e + "body-1", e + "body-0"], 150, 9999), this.walkTween.push(new a.TweenController(this.body)), this.walkTween[this.walkTween.length - 1].set("y", [this.body.y, this.body.y - 1, this.body.y - 2, this.body.y - 1], 150, 9999), this.walkTween.push(new a.TweenController(this.legs)), this.walkTween[this.walkTween.length - 1].set("frameName", [e + "shadow-0"], 150, 9999), this.standTween.push(new a.TweenController(this.body)), this.standTween[this.standTween.length - 1].set("frameName", [i + "body-0", i + "body-0", i + "body-1", i + "body-1"], 150, 9999), this.standTween.push(new a.TweenController(this.body)), this.standTween[this.standTween.length - 1].set("y", [this.body.y, this.body.y - 1, this.body.y, this.body.y + 1], 150, 9999), this.standTween.push(new a.TweenController(this.legs)), this.standTween[this.standTween.length - 1].set("frameName", [i + "legs-0", i + "legs-1", i + "legs-2", i + "legs-3"], 150, 9999), this.setSpriteDefaults("walk"), this.setSpriteDefaults("stand")
			}, e.prototype.createCactus = function(t) {
				var e = t + "/walk/",
					i = t + "/idle/";
				this.body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", e + "body-0")), this.head = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "atlas-29", e + "flower-0")), this.head._defaults = {
					walk: [11, -17],
					stand: [11, -17]
				}, this.head._defaultAnims = {
					walk: e + "flower-0",
					stand: i + "flower-0"
				}, this.sprite.y = -this.body.height, this.sprite.x = -Math.floor(this.body.width / 2), this.walkTween = [], this.standTween = [], this.walkTween.push(new a.TweenController(this.body)), this.walkTween[this.walkTween.length - 1].set("frameName", [e + "body-0", e + "body-1", e + "body-2", e + "body-3"], 150, 9999), this.walkTween.push(new a.TweenController(this.head)), this.walkTween[this.walkTween.length - 1].set("frameName", [e + "flower-0", e + "flower-1", e + "flower-2", e + "flower-3"], 150, 9999), this.standTween.push(new a.TweenController(this.body)), this.standTween[this.standTween.length - 1].set("frameName", [i + "body-0", i + "body-1", i + "body-2", i + "body-3"], 150, 9999), this.standTween.push(new a.TweenController(this.head)), this.standTween[this.standTween.length - 1].set("frameName", [i + "flower-0", i + "flower-1", i + "flower-2", i + "flower-3"], 150, 9999), this.setSpriteDefaults("walk"), this.setSpriteDefaults("stand")
			}, e.prototype.createFox = function(t) {
				var e = t + "/walk/",
					i = t + "/idle/";
				this.tail = this.sprite.add(this.game.prodigy.create.sprite(0, 14, "atlas-29", t + "/walk/tail-0")), this.body = this.sprite.add(this.game.prodigy.create.sprite(19, 0, "atlas-29", t + "/walk/body-0")), this.legs = this.sprite.add(this.game.prodigy.create.sprite(18, 30, "atlas-29", t + "/walk/legs-0")), this.tail._defaults = {
					walk: [0, 14],
					stand: [0, 13]
				}, this.body._defaults = {
					walk: [19, 0],
					stand: [13, 0]
				}, this.legs._defaults = {
					walk: [18, 30],
					stand: [0, 0]
				}, this.sprite.y = -this.body.height - this.legs.height, this.sprite.x = -Math.floor(.5 * this.body.width), this.standTween = [], this.walkTween = [];
				for (var n = [], o = Math.round(2350 / 150), r = 0; r < o; r++) n.push(i + "body-0");
				n.push(i + "body-1");
				var s = [],
					l = Math.round(850 / 150);
				for (r = 0; r < l; r++) s.push(i + "tail-0");
				s.push(i + "tail-1"), this.standTween.push(new a.TweenController(this.body)), this.standTween[this.standTween.length - 1].set("frameName", n, 150, 9999), this.standTween.push(new a.TweenController(this.tail)), this.standTween[this.standTween.length - 1].set("frameName", s, 150, 9999), this.walkTween.push(new a.TweenController(this.body)), this.walkTween[this.walkTween.length - 1].set("y", [this.body.y, this.body.y + 1], 150, 9999), this.walkTween.push(new a.TweenController(this.legs)), this.walkTween[this.walkTween.length - 1].set("frameName", [e + "legs-0", e + "legs-1", e + "legs-2", e + "legs-3"], 150, 9999), this.walkTween.push(new a.TweenController(this.tail)), this.walkTween[this.walkTween.length - 1].set("frameName", [e + "tail-0", e + "tail-1"], 150, 9999), this.walkTween.push(new a.TweenController(this.tail)), this.walkTween[this.walkTween.length - 1].set("y", [this.tail.y, this.tail.y + 1], 150, 9999), this.setSpriteDefaults("stand"), this.setSpriteDefaults("walk")
			}, e.prototype.update = function() {
				if (t.prototype.update.call(this), this.complete) {
					if (s.Util.isValid(this.tweens))
						for (var e = 0; e < this.tweens.length; e++) this.tweens[e].update();
					if (s.Util.isValid(this.player)) {
						var i = this.coords[this.coords.length - 1],
							n = Math.round(this.player.x),
							a = Math.round(this.player.y);
						s.Util.isValid(i) && i.x === this.player.x && i.y === this.player.y || this.coords.push({
							x: n,
							y: a
						}), this.coords.length > 20 || this.x <= 0 && this.y <= 0 ? (this.x < this.coords[0].x ? this.sprites.scale.x = 1 : this.x > this.coords[0].x && (this.sprites.scale.x = -1), this.x = this.coords[0].x, this.y = this.coords[0].y, this.walk(), this.coords.splice(0, 1)) : this.stand()
					}
				}
			}, e.prototype.walk = function() {
				if (0 !== this.mode) {
					this.mode = 0, s.Util.isValid(this.legs) && (this.legs.visible = !0), s.Util.isValid(this.body) && (this.body.frameName = this.itemData.tag + "/walk/body-0"), this.setSpriteDefaults("walk"), this.tweens = this.walkTween;
					for (var t = 0; t < this.tweens.length; t++) this.tweens[t].start()
				}
			}, e.prototype.stand = function() {
				if (1 !== this.mode) {
					this.mode = 1, s.Util.isValid(this.legs) && (this.legs.visible = !1), s.Util.isValid(this.body) && (this.body.frameName = this.itemData.tag + "/idle/body-0"), this.setSpriteDefaults("stand"), this.tweens = this.standTween;
					for (var t = 0; t < this.tweens.length; t++) this.tweens[t].start()
				}
			}, e
		}(i(17).CreatureContainer);
	e.Pet = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(2),
		o = i(0),
		r = function(t) {
			function e(e, i, n, o, r, s) {
				var l = t.call(this, e, i, n, o, r, s, !0, null) || this;
				return l.monsterAsset = a.Items.getItem("pet", l.source.data.ID).metadata.assets.default, l
			}
			return n(e, t), e.prototype.startLoad = function() {
				t.prototype.startLoad.call(this), this.loading = !0, this.assets = ["spine-" + this.monsterAsset.ID], this.game.prodigy.load.assets(this.assets, this.setup.bind(this))
			}, e.prototype.walk = function() {
				this.spine.setToSetupPose(), this.spine.setAnimationByName(0, "walk", !0), this.mode = 0
			}, e.prototype.stand = function() {
				this.spine.setToSetupPose(), this.spine.setAnimationByName(0, "idle", !0), this.mode = 1
			}, e.prototype.attack = function() {
				var t = this;
				setTimeout(function() {
					t.spine.setToSetupPose(), t.spine.setAnimationByName(0, "attack", !1), t.spine.onComplete.addOnce(t.stand.bind(t))
				}, 10)
			}, e.prototype.setup = function(t, e) {
				o.Util.isValid(this.game) && (!o.Util.isValid(e) || e) && o.Util.isValid(this.assets) && (this.sprites.removeAll(!0), this.battleScale = o.Util.isValid(this.monsterAsset.battleScale) ? this.monsterAsset.battleScale : 1, this.spine = this.game.add.spine(0, 0, this.assets[0]), this.spine.setToSetupPose(), this.spine.setAnimationByName(0, "idle", !0), this.spine.scale.x = o.Util.isValid(this.monsterAsset.flip) && this.monsterAsset.flip ? -1 : 1, this.sprites.add(this.spine), this.complete = !0, this.loading = !1, o.Util.isValid(this.loadedCallback) && this.loadedCallback(this))
			}, e
		}(i(46).MonsterContainer);
	e.MonsterSpineContainer = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(7),
		s = i(82),
		l = i(251),
		c = i(56),
		h = i(34),
		u = i(2),
		p = i(12),
		d = i(0),
		g = i(264),
		f = function(t) {
			function e(e, i, n, a, r, s, l) {
				void 0 === r && (r = {});
				var c = t.call(this, e, i, n, a) || this;
				if (c.owned = !1, c.price = 0, d.Util.isValid(r.data) || (r.data = {}), c.itemObject = r, d.Util.isValid(r.ID) && (c.ID = r.ID), d.Util.isValid(r.type) && (c.itemType = r.type), d.Util.isValid(r.N) && (c.N = r.N), d.Util.isValid(s) && (c.mode = s), c.onClick = l, c.drawCard(c.mode), o.GameConstants.get("GameConstants.Build.DEBUG") && d.Util.isValid(c.itemObject.ID) && d.Util.isValid(c.itemObject.type)) {
					var h = u.Items.getItem(c.itemType, c.ID);
					c.game.prodigy.automation.addTrigger({
						ID: "autoclick-" + h.data.name,
						context: c,
						callback: c.onAutoClick.bind(c)
					})
				}
				return c.onDestroy.add(c.handleDestroy.bind(c)), c
			}
			return n(e, t), e.prototype.onAutoClick = function() {
				return {
					x: this.panel.worldPosition.x,
					y: this.panel.worldPosition.y
				}
			}, e.prototype.handleDestroy = function() {
				o.GameConstants.get("GameConstants.Build.DEBUG") && d.Util.isValid(this.itemObject.ID) && d.Util.isValid(this.itemObject.type) && this.game.prodigy.automation.removeAllTriggers(this)
			}, e.prototype.drawCard = function(t) {
				var e = {
					data: {}
				};
				if (e = "gold" === this.itemType || "bounty" === this.itemType ? {
						type: this.itemType
					} : "spell" === this.itemType ? this.game.prodigy.attacks.getAttack(this.ID) : u.Items.getItem(this.itemType, this.ID), "pet" === this.itemType) {
					var i = this.itemObject.data.nickname;
					e.data.nickname = d.Util.isValid(i) ? i : e.data.name
				}
				switch (t) {
					case h.EItemInfoMode.Icon:
						this.createSmall(e, !0);
						break;
					case h.EItemInfoMode.IconNoBackground:
						this.createSmall(e, !1);
						break;
					case h.EItemInfoMode.Inventory:
						this.createInventory(e);
						break;
					case h.EItemInfoMode.Store:
						this.createStore(e);
						break;
					case h.EItemInfoMode.Card:
						this.createCard(e);
						break;
					case h.EItemInfoMode.Info:
						this.createLarge(e);
						break;
					case h.EItemInfoMode.StylistCard:
						this.createStylistCard(e)
				}
			}, e.prototype.createPanel = function(t, e, i, n, a) {
				if (d.Util.isValid(this.panel) && this.panel.destroy(), d.Util.isValid(a)) this.panel = this.game.prodigy.create.panel(this, 0, 0, i, n, a);
				else if ("gold" === this.itemType || "bounty" === this.itemType) this.panel = this.game.prodigy.create.panel(this, 0, 0, i, n, "item-currency");
				else if ("spell" === this.itemType) this.panel = this.game.prodigy.create.panel(this, 0, 0, i, n, "item-" + this.itemType);
				else if ("item" === this.itemType && !d.Util.isValid(e) || "fossil" === this.itemType || "currency" === this.itemType || "giftBox" === this.itemType || "gender" === this.itemType || "hairColor" === this.itemType || "eyeColor" === this.itemType || "skinColor" === this.itemType || "hair" === this.itemType || "face" === this.itemType) this.panel = this.game.prodigy.create.panel(this, 0, 0, i, n, "item-common");
				else if (d.Util.isValid(e)) {
					var o = null;
					switch (e) {
						case 0:
							o = "common";
							break;
						case 1:
							o = "uncommon";
							break;
						case 2:
							o = "rare";
							break;
						case 3:
							o = "epic";
							break;
						case 4:
							o = "legend";
							break;
						default:
							o = "common"
					}
					this.panel = this.game.prodigy.create.panel(this, 0, 0, i, n, "item-" + o)
				} else this.panel = this.game.prodigy.create.panel(this, 0, 0, i, n, "empty");
				d.Util.isValid(this.onClick) && this.panel.setClickable(this.clicked.bind(this))
			}, e.prototype.createSmall = function(t, e) {
				this.panel = this.game.prodigy.create.element(this, 0, 0);
				var i = d.Util.isValid(t),
					n = null,
					a = null,
					o = {
						x: 0,
						y: 0
					};
				if (d.Util.isValid(e) && !e || (a = this.game.prodigy.create.sprite(0, 0, "atlas-18", i ? "white-icon" : "empty-icon"), this.panel.add(a), o.x = 10, o.y = 10), i ? n = this.game.prodigy.icon.createFromDataAdvanced(t, this.panel, o.x, o.y) : (n = this.game.prodigy.create.sprite(o.x, o.y, "atlas-21", "empty-" + this.itemType)).alpha = .6, this.panel.add(n), d.Util.isValid(this.onClick)) {
					var r = null;
					d.Util.isValid(a) ? r = a : n instanceof s.Sprite && (r = n), d.Util.isValid(r) && (r.inputEnabled = !0, r.events.onInputDown.add(this.clicked.bind(this)))
				}
			}, e.prototype.createMedium = function(t) {
				if (d.Util.isValid(t)) {
					d.Util.isValid(t.data) || (t.data = {}), this.createPanel(null, t.data.rarity, 4, 5);
					var e = this.game.prodigy.create.font(this, 10, 0, t.data.name, {
						width: 140,
						size: 16,
						align: "center",
						lineHeight: 18
					});
					if (e.y = e.lines > 1 ? 2 : 8, e.lines > 2 && (e.destroy(), (e = this.game.prodigy.create.font(this, 10, 0, t.data.name, {
							width: 180,
							size: 16,
							align: "center",
							lineHeight: 18
						})).y = 2, e.width = 130), "gold" === this.itemType ? (this.panel.add(this.game.prodigy.icon.gold(50, 70)), e.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("CURRENCY_GOLD_COINS"))) : "giftBox" === this.itemType ? (this.panel.add(this.game.prodigy.create.sprite(40, 60, "atlas-28", "conjure-cube-icon")), e.setText("Conjure Cube")) : "bounty" === this.itemType ? (this.panel.add(this.game.prodigy.create.sprite(40, 50, "atlas-21", "bounty")), e.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("CURRENCY_BOUNTY_POINTS"))) : "spell" === this.itemType ? this.game.prodigy.icon.createFromDataAdvanced(t, this.panel, 40, 70) : "item" === this.itemType && d.Util.isValid(t.type) && "potion" === t.type ? this.game.prodigy.icon.createFromDataAdvanced({
							type: this.itemType,
							ID: this.ID
						}, this.panel, 40, 60) : "gender" === this.itemType || "hairColor" === this.itemType || "eyeColor" === this.itemType || "skinColor" === this.itemType || "hair" === this.itemType || "face" === this.itemType ? this.panel.add(this.game.prodigy.icon.createFromData(t, 40, 50, null, this.onTextureLoaded.bind(this))) : (this.game.prodigy.icon.createFromDataAdvanced(t, this.panel, 40, 50), "pet" === this.itemType && d.Util.isValid(t.data.nickname) && e.setText(t.data.nickname)), "gold" === this.itemType || "bounty" === this.itemType) this.game.prodigy.create.font(this.panel, 0, 165, "" + this.N, {
						width: 160,
						align: "center"
					});
					else if (this.N > 1) {
						"currency" !== this.itemType && this.panel.add(this.game.prodigy.create.sprite(10, 150, "atlas-21", "mail-empty"));
						var i = d.Util.isValid(this.N) ? String(this.N) : "99";
						"currency" === this.itemType ? this.game.prodigy.create.font(this.panel, 0, 165, i, {
							width: 160,
							align: "center"
						}) : this.game.prodigy.create.font(this.panel, 10, 155, i, {
							width: 40,
							align: "center"
						})
					}
				}
			}, e.prototype.onTextureLoaded = function(t) {
				if (d.Util.isValid(t)) {
					var e = d.Util.getCenteredXY(t.width, t.height, 0, 0, this.panel.width, this.panel.height);
					t.x = e.x, t.y = e.y
				}
			}, e.prototype.createLarge = function(t) {
				if (d.Util.isValid(t)) {
					this.createPanel(null, t.data.rarity, 19, 10);
					var e = new Phaser.TileSprite(this.game, 3, 40, 230, 360, "atlas-161", "overlay-small");
					e.alpha = .1, this.panel.add(e);
					var i = u.Items.getItem(t.type, t.ID).data,
						n = "item" === t.type && d.Util.isValid(i.effect) && d.Util.isValid(i.effect.transform);
					if (this.game.prodigy.create.font(this, 0, 0, t.data.name, {
							fontID: 9,
							size: 36,
							width: 680,
							align: "center"
						}), "gender" === t.type || "hair" === t.type || "eyeColor" === t.type || "skinColor" === t.type || "hairColor" === t.type || "outfit" === t.type || "hat" === t.type || "weapon" === t.type || "face" === t.type || n) {
						var a = this.createCharacter(t, 40, 65, !1);
						n && this.transformEffect(i, a)
					} else if ("follow" === t.type) {
						var o = this.game.prodigy.create.element(this.panel, 120, 160);
						this.followContainer = this.game.prodigy.create.follow(this.panel, t.ID, 1, o, null), d.Util.isValid(this.followContainer.reload) && this.followContainer.reload()
					} else this.game.prodigy.icon.createFromDataAdvanced(t, this.panel, 80, 80);
					this.game.prodigy.create.font(this.panel, 260, 60, t.data.flavorText, {
						size: 20,
						fontID: 8,
						width: 480,
						lineHeight: 30
					}), d.Util.isValid(t.data.lockLevel) && this.game.prodigy.player.getLevel() < t.data.lockLevel && this.game.prodigy.create.font(this.panel, 15, 45, "[icon-lock-mini]Level " + t.data.lockLevel, {
						align: "center",
						width: 200,
						size: 20,
						iconOffsetY: -6
					}), this.checkForItemAffixes(t)
				}
			}, e.prototype.transformEffect = function(t, e) {
				if (d.Util.isValid(this.game) && d.Util.isValid(e)) {
					var i = t.effect,
						n = this.game.prodigy.event.create();
					n.delay(500), n.function(e.transformToItem.bind(e, i.transform, i.ID, !0)), n.delay(5e3), n.function(e.resetItemTransformation.bind(e, !0)), n.delay(1e3), n.function(this.transformEffect.bind(this, t, e)), n.start()
				}
			}, e.prototype.checkForItemAffixes = function(t) {
				var e = [],
					i = 360;
				if (d.Util.isValid(t.data.effects) && t.data.effects.length > 0) {
					var n = u.Items.getItemData("affix", t.data.effects[0]);
					if (d.Util.isValid(n)) {
						var o = String(n.label) + String(n.value);
						d.Util.isValid(n.valuePercent) && (o = "" + (o = String(n.label) + String(100 * n.valuePercent))), e.push(this.game.prodigy.create.font(this, 260, 265, o, {
							size: 20,
							width: 400,
							fontID: 8
						}))
					}
				} else d.Util.isValid(t.data.effect) && (d.Util.isValid(t.data.effect.hpPercent) ? e.push(this.game.prodigy.create.font(this, 260, 265, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("ITEM_HEAL_HP", 100 * t.data.effect.hpPercent), {
					size: 36,
					width: 400,
					fontID: 9
				})) : d.Util.isValid(t.data.type) && "potion" === t.data.type && e.push(this.game.prodigy.create.font(this, 260, 235, t.data.effect, {
					size: 20,
					width: 400,
					fontID: 8
				})));
				var r = "",
					s = "";
				if (d.Util.isValid(t.data.spellID)) {
					var l = u.Items.getItem("spell", t.data.spellID);
					r = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SPELL") + " [icon-" + l.data.element + "-mini] " + l.data.name, s = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("RANGE") + "[icon-attackrange-on]";
					for (var c = 0; c < 2; c++) s += "[icon-attackrange-" + ("aoe" === l.data.targetType ? "on" : "off") + "]"
				}
				e.push(this.game.prodigy.create.font(this, 260, 235, s, {
					size: 20,
					width: 400,
					fontID: 8
				})), e.push(this.game.prodigy.create.font(this, 260, 235, r, {
					size: 20,
					width: 400,
					fontID: 8,
					iconOffsetY: -6
				}));
				for (c = 0; c < e.length; c++) e[c].y = i - 40 * e[c].lines, i -= 40 * e[c].lines
			}, e.prototype.createInventory = function(t) {
				if (!d.Util.isValid(t)) return null;
				this.createMedium(t), 1 !== this.itemObject.L || this.game.prodigy.player.hasMembership() || this.panel.add(this.game.prodigy.create.sprite(110, 150, "atlas-21", "mail-member")), this.game.prodigy.player.equipment.getEquipment(this.itemType) === t.ID && this.panel.add(this.game.prodigy.create.sprite(4, 40, "atlas-18", "ribbon"))
			}, e.prototype.createCard = function(t) {
				if (d.Util.isValid(t) && (this.createMedium(t), t.data.member > 0 && !this.game.prodigy.player.hasMembership())) {
					if (d.Util.isValid(t.isGift) && t.isGift) return null;
					this.panel.add(this.game.prodigy.create.sprite(110, 150, "atlas-21", "mail-member"))
				}
			}, e.prototype.createStylistCard = function(t) {
				if (!d.Util.isValid(t)) return null;
				this.createCharacter(t, 0, 0, !0), t.data.member > 0 && !this.game.prodigy.player.hasMembership() && (d.Util.isValid(t.isGift) && t.isGift || this.panel.add(this.game.prodigy.create.sprite(110, 150, "atlas-21", "mail-member")))
			}, e.prototype.createCharacter = function(t, e, i, n) {
				if (!d.Util.isValid(t)) return null;
				n && this.game.prodigy.create.panel(this, e, i, 4, 5, "shine");
				var a = new p.Player(this.game),
					o = new g.UserEquipment(this.game, this, e - 88, i - 75, a, 1, !1);
				return this.resetPlayer(a, o, t), o.user
			}, e.prototype.resetPlayer = function(t, e, i) {
				var n = this.game.prodigy.player.appearance.getGender(),
					a = this.game.prodigy.player.appearance.getHair(),
					o = a.color,
					r = a.style,
					s = this.game.prodigy.player.appearance.getEyeColor(),
					l = this.game.prodigy.player.appearance.getSkinColor(),
					c = this.game.prodigy.player.appearance.getFace(),
					h = this.game.prodigy.player.equipment.getEquipment("outfit"),
					u = this.game.prodigy.player.equipment.getEquipment("hat"),
					p = this.game.prodigy.player.equipment.getEquipment("weapon");
				"gender" === i.type ? (n = 1 === i.ID ? "male" : "female", c = 1 === i.ID ? 4 : 12) : "hair" === i.type ? r = i.ID : "eyeColor" === i.type ? s = i.ID : "skinColor" === i.type ? l = i.ID : "hairColor" === i.type ? o = i.ID : "face" === i.type ? c = i.ID : "outfit" === i.type ? h = i.ID : "hat" === i.type ? u = i.ID : "weapon" === i.type && (p = i.ID, e.user.forceWeaponVisual = !0), t.appearance.setGender(n), t.appearance.setHair(r, o), t.appearance.setEyeColor(s), t.appearance.setSkinColor(l), t.appearance.setFace(c), t.equipment.setOutfit(h, !1), t.equipment.setHat(u, !1), t.equipment.setWeapon(p, !1), t.appearanceChanged = !0, e.user.reload()
			}, e.prototype.createStore = function(t) {
				if (!d.Util.isValid(t)) return null;
				this.createMedium(t);
				var e = this.game.prodigy.player.backpack.hasItem(this.itemType, this.ID);
				if (this.owned = e > 0, "dorm" === this.itemType) this.owned = this.game.prodigy.player.house.getOwned(this.ID) >= 9;
				else if ("pet" === this.itemType) this.owned = this.game.prodigy.player.kennel.hasPet(this.ID);
				else if ("dormbg" === this.itemType) this.owned = this.game.prodigy.player.house.getCurrentHouseTag() === t.data.tag;
				else if ("gender" === this.itemType) {
					this.owned = {
						male: 1,
						female: 2
					} [this.game.prodigy.player.appearance.getGender()] === this.ID
				} else "hair" === this.itemType ? this.owned = this.game.prodigy.player.appearance.getHair().style === this.ID : "eyeColor" === this.itemType ? this.owned = this.game.prodigy.player.appearance.getEyeColor() === this.ID : "skinColor" === this.itemType ? this.owned = this.game.prodigy.player.appearance.getSkinColor() === this.ID : "hairColor" === this.itemType ? this.owned = this.game.prodigy.player.appearance.getHair().color === this.ID : "face" === this.itemType && (this.owned = this.game.prodigy.player.appearance.getFace() === this.ID);
				this.cost = this.itemObject.cost;
				var i = "[mail-gold]";
				if ("currency" === this.cost.type && 1 === this.cost.ID || (i = "[" + u.Items.getItem(this.cost.type, this.cost.ID).data.icon + "]"), "item" === this.itemType && e >= 99 || "item" !== this.itemType && this.owned) {
					var n = void 0;
					n = "dorm" === this.itemType || e >= 99 ? this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("ITEM_MAX") : "gender" === this.itemType || "hair" === this.itemType || "eyeColor" === this.itemType || "skinColor" === this.itemType || "hairColor" === this.itemType || "face" === this.itemType ? this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("ITEM_CURRENT") : this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("ITEM_OWNED"), this.game.prodigy.create.font(this.panel, 10, 166, n, {
						size: 20
					})
				} else this.cost.N <= 0 ? this.game.prodigy.create.font(this.panel, 10, 166, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("ITEM_FREE"), {
					size: 20
				}) : this.game.prodigy.create.font(this.panel, 6, 166, i + d.Util.numberToString(this.cost.N), {
					size: 20
				});
				t.data.member > 0 && this.panel.add(this.game.prodigy.create.sprite(120, 160, "atlas-21", "mail-member"))
			}, e.prototype.clicked = function() {
				d.Util.isValid(this.onClick) && this.onClick({
					type: this.itemType,
					ID: this.ID
				}, this.owned, this.price)
			}, e.prototype.update = function() {
				if (t.prototype.update.call(this), d.Util.isValid(this.followContainer)) {
					if (d.Util.isValid(this.followContainer.player) && (this.followContainer.player = null), d.Util.isValid(this.followContainer.findComponent) && !d.Util.isValid(this.renderComponent)) {
						var e = this.followContainer.findComponent(l.Follow);
						d.Util.isValid(e) && this.followContainer.removeComponent(e), d.Util.isValid(this.followContainer.findComponent(c.Renderer)) && (this.renderComponent = this.followContainer.findComponent(c.Renderer))
					}
					if (d.Util.isValid(this.itemContainerWalking) || (this.itemContainerWalking = !0), !d.Util.isValid(this.itemContainerAnimDuration) || this.itemContainerAnimDuration <= 0) {
						this.itemContainerAnimDuration = 0;
						var i = !1;
						this.itemContainerWalking ? d.Util.isValid(this.followContainer.tweens) && d.Util.isValid(this.followContainer.standTween) ? (this.followContainer.stand(), i = !0) : d.Util.isValid(this.renderComponent) && (this.renderComponent.playAnimation("idle", !0), i = !0) : d.Util.isValid(this.followContainer.tweens) && d.Util.isValid(this.followContainer.standTween) ? (this.followContainer.walk(), i = !0) : d.Util.isValid(this.renderComponent) && (this.renderComponent.playAnimation("walk", !0), i = !0), i && (this.itemContainerAnimDuration = 3e3 * Math.random() + 1e3, this.itemContainerWalking = !this.itemContainerWalking)
					}
					d.Util.isValid(this.followTimer) || (this.followTimer = new Phaser.Time(this.game)), this.itemContainerAnimDuration -= this.followTimer.physicsElapsedMS
				}
			}, e
		}(r.Element);
	e.ItemContainer = f
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = i(0),
		r = function(t) {
			function e(e, i, n, o, r, s) {
				var l = t.call(this, e, i, n, o, r.x, r.y - 1, !1, s) || this;
				return l.coordinates = [], l.elementToFollow = r, a.GameConstants.get("GameConstants.Build.DEBUG") && l.game.prodigy.automation.addTrigger({
					ID: "autoclick-follow-" + n.data.ID,
					context: l,
					callback: l.onAddTrigger.bind(l)
				}), l.onDestroy.add(l.handleDestroy.bind(l)), l
			}
			return n(e, t), e.prototype.onAddTrigger = function() {
				return {
					x: this.x,
					y: this.y
				}
			}, e.prototype.handleDestroy = function() {
				a.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this)
			}, e.prototype.update = function() {
				if (t.prototype.update.call(this), o.Util.isValid(this.elementToFollow)) {
					var e = this.coordinates[this.coordinates.length - 1],
						i = Math.round(this.elementToFollow.x),
						n = Math.round(this.elementToFollow.y);
					o.Util.isValid(e) && e.x === this.elementToFollow.x && e.y === this.elementToFollow.y || this.coordinates.push({
						x: i,
						y: n
					}), this.coordinates.length > 50 || this.x <= 0 && this.y <= 0 ? (this.x < this.coordinates[0].x ? this.sprites.scale.x = 1 : this.x > this.coordinates[0].x && (this.sprites.scale.x = -1), this.x = this.coordinates[0].x, this.y = this.coordinates[0].y, this.walk(), this.coordinates.splice(0, 1)) : this.stand()
				}
			}, e
		}(i(46).MonsterContainer);
	e.FollowContainer = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i, n, a, o) {
			return t.call(this, e, i, n, a, o) || this
		}
		return n(e, t), e.prototype.setup = function() {
			var t = this.game.prodigy.create.element(this.sprites, 0, 0);
			this.spine = this.game.add.spine(0, 0, "default-boss-16"), this.idle(), t.add(this.spine), this.complete = !0
		}, e.prototype.idle = function() {
			this.spine.setAnimationByName(0, "idle", !0), this.spine.setToSetupPose()
		}, e.prototype.attack = function() {
			this.spine.setAnimationByName(0, "attack", !1), this.spine.addAnimationByName(0, "idle", !0), this.spine.setToSetupPose()
		}, e
	}(i(47).BossContainer);
	e.IceWyrmBossContainer = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i, n, a, o, r) {
				var s = t.call(this, e, i, n, a, o) || this;
				return s.elementMode = r, s
			}
			return n(e, t), e.prototype.setup = function(t) {
				if (a.Util.isValid(this.game) && t && a.Util.isValid(this.assets)) {
					if ("water" === this.elementMode || "ice" === this.elementMode || "earth" === this.elementMode) {
						this.miniBoss = !0;
						var e = void 0,
							i = void 0;
						"ice" === this.elementMode ? (e = this.game.prodigy.create.sprite(-100, -200, "default-boss-12", "ice_cloud"), i = this.game.prodigy.create.sprite(-38, -149, "default-boss-12", "med_face_0")) : "water" === this.elementMode ? (e = this.game.prodigy.create.sprite(-100, -200, "default-boss-12", "water_cloud"), i = this.game.prodigy.create.sprite(-38, -149, "default-boss-12", "med_face_1")) : "earth" === this.elementMode && (e = this.game.prodigy.create.sprite(-100, -200, "default-boss-12", "earth_cloud"), i = this.game.prodigy.create.sprite(-38, -149, "default-boss-12", "med_face_2")), this.cloudParts = {
							base: e,
							eyes: i
						}, this.floatTweens = {
							base: [],
							eyes: []
						}, this.add(this.cloudParts.base), this.add(this.cloudParts.eyes), this.floatClouds(this.cloudParts.base, "base", 1400, 20), this.floatClouds(this.cloudParts.eyes, "eyes", 1400, 20)
					} else {
						for (var n in this.waterActive = !0, this.iceActive = !0, this.earthActive = !0, this.attacks = [81, 82, 83, 86], this.coords = {
								main: {
									x: -200,
									y: -200
								},
								unactive_water: {
									x: 45,
									y: -185
								},
								unactive_ice: {
									x: -150,
									y: -300
								},
								active: {
									x: -300,
									y: -100
								},
								unactive_earth: {
									x: -110,
									y: -20
								}
							}, this.cloudParts = {
								base: this.game.prodigy.create.sprite(this.coords.main.x, this.coords.main.y, "default-boss-12", "main_cloud"),
								eyes: this.game.prodigy.create.sprite(this.coords.main.x + 94, this.coords.main.y + 72, "default-boss-12", "main_eyes_1"),
								ice_cloud: this.game.prodigy.create.sprite(this.coords.unactive_ice.x, this.coords.unactive_ice.y, "default-boss-12", "ice_cloud"),
								ice_eyes: this.game.prodigy.create.sprite(this.coords.unactive_ice.x + 94, this.coords.unactive_ice.y + 92, "default-boss-12", "med_face_0", new Phaser.Point(.5, 1)),
								water_cloud: this.game.prodigy.create.sprite(this.coords.unactive_water.x, this.coords.unactive_water.y, "default-boss-12", "water_cloud"),
								water_eyes: this.game.prodigy.create.sprite(this.coords.unactive_water.x + 94, this.coords.unactive_water.y + 72 + 20, "default-boss-12", "med_face_1", new Phaser.Point(.5, 1)),
								earth_cloud: this.game.prodigy.create.sprite(this.coords.unactive_earth.x, this.coords.unactive_earth.y, "default-boss-12", "earth_cloud"),
								earth_eyes: this.game.prodigy.create.sprite(this.coords.unactive_earth.x + 94, this.coords.unactive_earth.y + 92, "default-boss-12", "med_face_2", new Phaser.Point(.5, 1))
							}, this.cloudParts) this.cloudParts.hasOwnProperty(n) && this.add(this.cloudParts[n]);
						this.floatTweens = {
							base: [],
							eyes: [],
							ice_cloud: [],
							ice_eyes: [],
							water_cloud: [],
							water_eyes: [],
							earth_cloud: [],
							earth_eyes: []
						}, this.floatTimes = {
							ice: 1500,
							water: 1600,
							earth: 1300
						}, this.floatClouds(this.cloudParts.base, "base", 1400, 20), this.floatClouds(this.cloudParts.eyes, "eyes", 1400, 20), this.floatClouds(this.cloudParts.ice_cloud, "ice_cloud", this.floatTimes.ice, 10, !0), this.floatClouds(this.cloudParts.ice_eyes, "ice_eyes", this.floatTimes.ice, 10, !0), this.floatClouds(this.cloudParts.water_cloud, "water_cloud", this.floatTimes.water, 10, !0), this.floatClouds(this.cloudParts.water_eyes, "water_eyes", this.floatTimes.water, 10, !0), this.floatClouds(this.cloudParts.earth_cloud, "earth_cloud", this.floatTimes.earth, 10, !0), this.floatClouds(this.cloudParts.earth_eyes, "earth_eyes", this.floatTimes.earth, 10, !0), this.cloudParts.earth_eyes.scale.x = -1
					}
					this.complete = !0, this.loading = !1
				}
			}, e.prototype.floatClouds = function(t, e, i, n, o) {
				a.Util.isValid(this.floatTweens[e][0]) && this.floatTweens[e][0].stop(), a.Util.isValid(this.floatTweens[e][1]) && this.floatTweens[e][1].stop(), this.floatTweens[e][0] = this.game.add.tween(t).to({
					y: "-" + n
				}, i, Phaser.Easing.Quadratic.InOut).to({
					y: "" + n
				}, i, Phaser.Easing.Quadratic.InOut).loop().start(), o && (this.floatTweens[e][1] = this.game.add.tween(t).to({
					x: "-" + n
				}, Math.floor(i / 2), Phaser.Easing.Quadratic.InOut).to({
					x: "" + n
				}, Math.floor(i / 2), Phaser.Easing.Quadratic.InOut).loop().start())
			}, e.prototype.stormMode = function() {
				if ("storm" !== this.elementMode) {
					var t = this.game.add.tween(this.cloudParts[this.elementMode + "_cloud"]).to({
							x: this.coords["unactive_" + this.elementMode].x,
							y: this.coords["unactive_" + this.elementMode].y
						}, 1500, Phaser.Easing.Quadratic.InOut).start(),
						e = this.game.add.tween(this.cloudParts[this.elementMode + "_eyes"]).to({
							x: this.coords["unactive_" + this.elementMode].x + 94,
							y: this.coords["unactive_" + this.elementMode].y + 92
						}, 1500, Phaser.Easing.Quadratic.InOut).start();
					t.onComplete.add(this.floatClouds.bind(this, this.cloudParts[this.elementMode + "_cloud"], this.elementMode + "_cloud", this.floatTimes[this.elementMode], 10, !0)), e.onComplete.add(this.floatClouds.bind(this, this.cloudParts[this.elementMode + "_eyes"], this.elementMode + "_eyes", this.floatTimes[this.elementMode], 10, !0))
				}
				this.attacks = [81, 82, 83, 86], this.elementMode = "storm", this.source.element = "storm", this.source.source.element = "storm"
			}, e.prototype.iceMode = function() {
				if (this.iceActive && "ice" !== this.elementMode) {
					if ("storm" !== this.elementMode) {
						var t = this.game.add.tween(this.cloudParts[this.elementMode + "_cloud"]).to({
								x: this.coords["unactive_" + this.elementMode].x,
								y: this.coords["unactive_" + this.elementMode].y
							}, 1500, Phaser.Easing.Quadratic.InOut).start(),
							e = this.game.add.tween(this.cloudParts[this.elementMode + "_eyes"]).to({
								x: this.coords["unactive_" + this.elementMode].x + 94,
								y: this.coords["unactive_" + this.elementMode].y + 92
							}, 1500, Phaser.Easing.Quadratic.InOut).start();
						t.onComplete.add(this.floatClouds.bind(this, this.cloudParts[this.elementMode + "_cloud"], this.elementMode + "_cloud", this.floatTimes[this.elementMode], 10, !0)), e.onComplete.add(this.floatClouds.bind(this, this.cloudParts[this.elementMode + "_eyes"], this.elementMode + "_eyes", this.floatTimes[this.elementMode], 10, !0))
					}
					this.attacks = [63, 64, 65, 66], this.elementMode = "ice", this.source.element = "ice", this.source.source.element = "ice";
					var i = this.game.add.tween(this.cloudParts.ice_cloud).to({
							x: this.coords.active.x,
							y: this.coords.active.y
						}, 1500, Phaser.Easing.Quadratic.InOut).start(),
						n = this.game.add.tween(this.cloudParts.ice_eyes).to({
							x: this.coords.active.x + 94,
							y: this.coords.active.y + 92
						}, 1500, Phaser.Easing.Quadratic.InOut).start();
					i.onComplete.add(this.floatClouds.bind(this, this.cloudParts.ice_cloud, "ice_cloud", this.floatTimes.ice, 10, !0)), n.onComplete.add(this.floatClouds.bind(this, this.cloudParts.ice_eyes, "ice_eyes", this.floatTimes.ice, 10, !0))
				}
			}, e.prototype.earthMode = function() {
				if (this.earthActive && "earth" !== this.elementMode) {
					if ("storm" !== this.elementMode) {
						var t = this.game.add.tween(this.cloudParts[this.elementMode + "_cloud"]).to({
								x: this.coords["unactive_" + this.elementMode].x,
								y: this.coords["unactive_" + this.elementMode].y
							}, 1500, Phaser.Easing.Quadratic.InOut).start(),
							e = this.game.add.tween(this.cloudParts[this.elementMode + "_eyes"]).to({
								x: this.coords["unactive_" + this.elementMode].x + 94,
								y: this.coords["unactive_" + this.elementMode].y + 92
							}, 1500, Phaser.Easing.Quadratic.InOut).start();
						t.onComplete.add(this.floatClouds.bind(this, this.cloudParts[this.elementMode + "_cloud"], this.elementMode + "_cloud", this.floatTimes[this.elementMode], 10, !0)), e.onComplete.add(this.floatClouds.bind(this, this.cloudParts[this.elementMode + "_eyes"], this.elementMode + "_eyes", this.floatTimes[this.elementMode], 10, !0))
					}
					this.attacks = [67, 68, 69, 70], this.elementMode = "earth", this.source.element = "earth", this.source.source.element = "earth";
					var i = this.game.add.tween(this.cloudParts.earth_cloud).to({
							x: this.coords.active.x,
							y: this.coords.active.y
						}, 1500, Phaser.Easing.Quadratic.InOut).start(),
						n = this.game.add.tween(this.cloudParts.earth_eyes).to({
							x: this.coords.active.x + 94,
							y: this.coords.active.y + 92
						}, 1500, Phaser.Easing.Quadratic.InOut).start();
					i.onComplete.add(this.floatClouds.bind(this, this.cloudParts.earth_cloud, "earth_cloud", this.floatTimes.earth, 10, !0)), n.onComplete.add(this.floatClouds.bind(this, this.cloudParts.earth_eyes, "earth_eyes", this.floatTimes.earth, 10, !0))
				}
			}, e.prototype.waterMode = function() {
				if (this.waterActive && "water" !== this.elementMode) {
					if ("storm" !== this.elementMode) {
						var t = this.game.add.tween(this.cloudParts[this.elementMode + "_cloud"]).to({
								x: this.coords["unactive_" + this.elementMode].x,
								y: this.coords["unactive_" + this.elementMode].y
							}, 1500, Phaser.Easing.Quadratic.InOut).start(),
							e = this.game.add.tween(this.cloudParts[this.elementMode + "_eyes"]).to({
								x: this.coords["unactive_" + this.elementMode].x + 94,
								y: this.coords["unactive_" + this.elementMode].y + 92
							}, 1500, Phaser.Easing.Quadratic.InOut).start();
						t.onComplete.add(this.floatClouds.bind(this, this.cloudParts[this.elementMode + "_cloud"], this.elementMode + "_cloud", this.floatTimes[this.elementMode], 10, !0)), e.onComplete.add(this.floatClouds.bind(this, this.cloudParts[this.elementMode + "_eyes"], this.elementMode + "_eyes", this.floatTimes[this.elementMode], 10, !0))
					}
					this.attacks = [81, 82, 83, 84], this.elementMode = "water", this.source.element = "water", this.source.source.element = "water";
					var i = this.game.add.tween(this.cloudParts.water_cloud).to({
							x: this.coords.active.x,
							y: this.coords.active.y
						}, 1500, Phaser.Easing.Quadratic.InOut).start(),
						n = this.game.add.tween(this.cloudParts.water_eyes).to({
							x: this.coords.active.x + 94,
							y: this.coords.active.y + 92
						}, 1500, Phaser.Easing.Quadratic.InOut).start();
					i.onComplete.add(this.floatClouds.bind(this, this.cloudParts.water_cloud, "water_cloud", this.floatTimes.water, 10, !0)), n.onComplete.add(this.floatClouds.bind(this, this.cloudParts.water_eyes, "water_eyes", this.floatTimes.water, 10, !0))
				}
			}, e.prototype.updateClouds = function() {
				var t = this.source.getCurrentHearts() / this.source.getMaxHearts();
				t < .25 ? (this.waterActive = !1, this.cloudParts.water_cloud.frameName = "small_cloud", this.cloudParts.water_eyes.visible = !1, "water" === this.elementMode && this.stormMode()) : t < .5 ? (this.earthActive = !1, this.cloudParts.earth_cloud.frameName = "small_cloud", this.cloudParts.earth_eyes.visible = !1, "earth" === this.elementMode && this.stormMode()) : t < .75 && (this.iceActive = !1, this.cloudParts.ice_cloud.frameName = "small_cloud", this.cloudParts.ice_eyes.visible = !1, "ice" === this.elementMode && this.stormMode())
			}, e
		}(i(47).BossContainer);
	e.CloudContainer = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(252),
		o = i(33),
		r = i(0),
		s = function(t) {
			function e(e, i, n, a, o) {
				var r = t.call(this, e, i, n, a, o) || this;
				return r.foodMode = "soup", r
			}
			return n(e, t), e.prototype.setup = function(t) {
				if (r.Util.isValid(this.game) && t && r.Util.isValid(this.assets)) {
					var e;
					for (e in this.potParts = {
							pot: this.game.prodigy.create.sprite(-100, 0, "default-boss-13", "pot"),
							lid: this.game.prodigy.create.sprite(140, -140, "default-boss-13", "pot-lid")
						}, this.potParts.lid.anchor.setTo(1, 1), this.potParts.pot.anchor.setTo(0, 1), this.burgerParts = {
							dish: this.game.prodigy.create.sprite(300, -50, "default-boss-13", "dish"),
							bottom: this.game.prodigy.create.sprite(320, -10, "default-boss-13", "burger-bottom"),
							top: this.game.prodigy.create.sprite(510, -70, "default-boss-13", "burger-lid")
						}, this.burgerParts.top.anchor.setTo(1, 1), this.burgerParts.bottom.anchor.setTo(0, 1), this.cakeParts = {
							dish: this.game.prodigy.create.sprite(300, -50, "default-boss-13", "dish"),
							lava: this.game.prodigy.create.sprite(310, 0, "default-boss-13", "lava"),
							face: this.game.prodigy.create.sprite(350, 10, "default-boss-13", "expression-1"),
							strawberry: this.game.prodigy.create.sprite(400, -200, "default-boss-13", "berry")
						}, this.cakeParts.face.animations.add("attack", ["expression-1", "expression-2", "expression-3", "expression-3", "expression-3", "expression-2", "expression-1"], 10, !1, !1), this.cakeParts.lava.anchor.setTo(0, 1), this.cakeParts.face.anchor.setTo(0, 1), this.potParts) this.potParts.hasOwnProperty(e) && this.add(this.potParts[e]);
					for (e in this.burgerParts) this.burgerParts.hasOwnProperty(e) && (this.add(this.burgerParts[e]), this.burgerParts[e].visible = !1);
					for (e in this.cakeParts) this.cakeParts.hasOwnProperty(e) && (this.add(this.cakeParts[e]), this.cakeParts[e].visible = !1);
					var i = new o.NPC(this.game);
					i.init({
						name: ""
					}), this.npc = new a.CebolliniEvent(this.game, this, -100, 0, "atlas-65", null, i), this.npc.flip(), this.npc.bossStart(this.game), this.complete = !0, this.loading = !1
				}
			}, e.prototype.setDoneCallback = function(t) {
				this.doneAnimationCallback = t
			}, e.prototype.attack = function() {
				var t, e, i = this.game.prodigy.animation;
				"soup" === this.foodMode ? ((t = this.game.prodigy.event.create()).animation(i.rotate.bind(i, this.potParts.lid, "35", 1e3, 0, null, !0)), t.animation(i.translate.bind(i, this.potParts.lid, "0", "-20", 1e3, 0, null, !0), !0), t.animation(i.rotate.bind(i, this.potParts.lid, "-35", 1e3, 0, null, !0)), t.animation(i.translate.bind(i, this.potParts.lid, "0", "20", 1e3, 0, null, !0)), (e = this.game.prodigy.event.create()).animation(i.rotate.bind(i, this.potParts.pot, "-10", 1e3, 0, null, !0), !0), e.animation(i.rotate.bind(i, this.potParts.pot, "10", 1e3, 0, null, !0)), t.start(), e.start()) : "burger" === this.foodMode ? ((t = this.game.prodigy.event.create()).animation(i.rotate.bind(i, this.burgerParts.top, "25", 700, 0, null, !0)), t.animation(i.translate.bind(i, this.burgerParts.top, "0", "-20", 700, 0, null, !0), !0), t.animation(i.rotate.bind(i, this.burgerParts.top, "-25", 700, 0, null, !0)), t.animation(i.translate.bind(i, this.burgerParts.top, "0", "20", 700, 0, null, !0)), (e = this.game.prodigy.event.create()).animation(i.rotate.bind(i, this.burgerParts.bottom, "-10", 700, 0, null, !0), !0), e.animation(i.rotate.bind(i, this.burgerParts.bottom, "10", 700, 0, null, !0)), t.start(), e.start()) : "cake" === this.foodMode && this.cakeParts.face.animations.play("attack")
			}, e.prototype.startEntree = function() {
				this.foodMode = "burger", this.npc.entreeStart();
				var t, e = this.game.prodigy.event.create();
				for (t in e.text(11, "cebollini"), e.enableInput(!1), this.potParts) this.potParts.hasOwnProperty(t) && e.animation(this.game.prodigy.animation.hop.bind(this.game.prodigy.animation, this.potParts[t], "400", "-150", "+150", 2e3, !1, !0));
				for (t in e.delay(2e3), this.potParts) this.potParts.hasOwnProperty(t) && e.set(this.potParts[t], "visible", !1);
				for (t in this.burgerParts) this.burgerParts.hasOwnProperty(t) && e.set(this.burgerParts[t], "visible", !0);
				for (t in this.burgerParts) this.burgerParts.hasOwnProperty(t) && e.animation(this.game.prodigy.animation.hop.bind(this.game.prodigy.animation, this.burgerParts[t], "-400", "-150", "+150", 2e3, !1, !0));
				e.delay(2e3), e.function(this.doneAnimationCallback), e.enableInput(!0), e.start()
			}, e.prototype.startDessert = function() {
				this.foodMode = "cake", this.npc.dessertStart();
				var t, e = this.game.prodigy.event.create();
				for (t in e.text(12, "cebollini"), e.enableInput(!1), this.burgerParts) this.burgerParts.hasOwnProperty(t) && e.animation(this.game.prodigy.animation.hop.bind(this.game.prodigy.animation, this.burgerParts[t], "400", "-150", "+150", 2e3, !1, !0));
				for (t in e.delay(2e3), this.burgerParts) this.burgerParts.hasOwnProperty(t) && e.set(this.burgerParts[t], "visible", !1);
				for (t in this.cakeParts) this.cakeParts.hasOwnProperty(t) && e.set(this.cakeParts[t], "visible", !0);
				for (t in this.cakeParts) this.cakeParts.hasOwnProperty(t) && e.animation(this.game.prodigy.animation.hop.bind(this.game.prodigy.animation, this.cakeParts[t], "-400", "-150", "+150", 2e3, !1, !0));
				e.delay(2e3), e.function(this.doneAnimationCallback), e.enableInput(!0), e.start()
			}, e
		}(i(47).BossContainer);
	e.BonfireContainer = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(11),
		o = i(7),
		r = i(2),
		s = i(0),
		l = function(t) {
			function e(e, i, n, a, o) {
				var r = t.call(this, e, i, n, a) || this;
				r.achievement = null, r.iconContainer = null, r.achievementName = null, r.description = null, r.progress = null, r.stars = [], r.award = null, r.star = null, r.icon = null, r.achievement = o;
				var s = r.game.prodigy.create.panel(r, 0, 0, 16, 3, "award");
				s.add(r.game.prodigy.create.sprite(10, 10, "atlas-18", "award-frame")), r.iconContainer = r.game.prodigy.create.panel(s, 550, 10, 2, 2, "white"), r.achievementName = r.game.prodigy.create.font(s, 120, 6, "", {}), r.description = r.game.prodigy.create.font(s, 120, 93, "", {
					align: "right",
					width: 510,
					size: 16
				}), r.progress = r.game.prodigy.create.progressBar(s, 120, 50, 420), r.stars = [];
				for (var l = 0; l < 5; l++) r.stars.push(s.add(r.game.prodigy.create.sprite(60, 60, "atlas-18", "star-empty"))), r.stars[l].anchor.setTo(.5, .5), r.stars[l].visible = !1;
				return r.star = s.add(r.game.prodigy.create.sprite(60, 60, "atlas-18", "star-full")), r.star.anchor.setTo(.5, .5), r.star.visible = !1, r.award = s.add(r.game.prodigy.create.sprite(60, 55, "atlas-18", "award-ribbon")), r.award.anchor.setTo(.5, .5), r.award.visible = !1, r
			}
			return n(e, t), e.prototype.setSource = function(t) {
				if (this.achievement !== t && (this.achievement = t, this.visible = s.Util.isValid(this.achievement), this.visible)) {
					this.achievementName.setText(this.game.prodigy.achievements.getName(this.achievement)), this.description.setText(this.game.prodigy.achievements.getDesc(this.achievement)), this.progress.setProgress(this.game.prodigy.achievements.getProgress(this.achievement), this.game.prodigy.achievements.getCompletionText(this.achievement)), s.Util.isValid(this.icon) && (this.iconContainer.remove(this.icon), this.icon = null);
					var e = a(this.achievement, "metadata.icon", null);
					"string" == typeof this.achievement.metadata.icon && 0 === e.indexOf("icon-") && (this.icon = this.game.prodigy.icon.createIcon(40, 40, e, {
						x: .5,
						y: .5
					})), s.Util.isValid(this.icon) || (this.icon = this.game.prodigy.create.sprite(40, 40, "atlas-18", "empty"), this.icon.loadNewTexture(r.Items.getIconAtlas(this.achievement), s.Util.convertItemToIcon(this.achievement)), this.icon.anchor.setTo(.5, .5)), this.icon.scale.x = this.icon.scale.y = .8, this.iconContainer.add(this.icon);
					for (var i = this.achievement.data.ranks.length <= 1 ? .5 * Math.PI : Math.PI - (.5236 + .5236 * (2 - .5 * (this.achievement.data.ranks.length - 1))), n = this.game.prodigy.player.achievements.getProgress(this.achievement.ID), o = 0; o < 5; o++) {
						var l = this.stars[o];
						o >= this.achievement.data.ranks.length ? l.visible = !1 : (l.visible = !0, l.x = Math.floor(40 * Math.cos(i - .5236 * o) + 60), l.y = Math.floor(40 * Math.sin(i - .5236 * o) + 60), l.frameName = o < n ? "star-full" : "star-empty")
					}
					this.award.visible = n >= this.achievement.data.ranks.length
				}
			}, e
		}(o.Element);
	e.AchievementContainer = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(156),
		o = i(761),
		r = i(47),
		s = i(760),
		l = i(759),
		c = i(298),
		h = i(758),
		u = i(125),
		p = i(757),
		d = i(756),
		g = i(46),
		f = i(755),
		y = i(754),
		m = i(175),
		_ = i(753),
		v = i(752),
		E = i(251),
		b = i(751),
		O = i(750),
		I = i(40),
		T = i(174),
		A = i(61),
		C = i(749),
		S = i(2),
		w = i(35),
		D = i(23),
		P = i(0),
		L = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.achievement = function(t, e, i, n) {
				return new o.AchievementContainer(this.game, t, e, i, n)
			}, e.prototype.boss = function(t, e, i, n) {
				return new r.BossContainer(this.game, t, e, i, n)
			}, e.prototype.forestBoss = function(t, e, i, n) {
				return new c.ForestContainer(this.game, t, e, i, n)
			}, e.prototype.cloudBoss = function(t, e, i, n, a) {
				return new l.CloudContainer(this.game, t, e, i, n, a)
			}, e.prototype.bonfireBoss = function(t, e, i, n) {
				return new s.BonfireContainer(this.game, t, e, i, n)
			}, e.prototype.shiverchillBoss = function(t, e, i, n) {
				var a = new h.IceWyrmBossContainer(this.game, t, e, i, n);
				return a.flip(), a
			}, e.prototype.item = function(t, e, i, n, a, o) {
				return new d.ItemContainer(this.game, t, e, i, n, a, o)
			}, e.prototype.conjureCubeButton = function(t, e, i) {
				return new C.ConjureCubeButton(this.game, t, e, i)
			}, e.prototype.follow = function(t, e, i, n, a) {
				var o = S.Items.getItem("follow", e);
				if (P.Util.isValid(o.metadata) && P.Util.isValid(o.metadata.type)) switch (o.metadata.type) {
					case "spine":
					case "multiple":
						var r = A.RenderFactory.createRenderer("default-follow-" + e, o.metadata),
							s = new I.GameObject(this.game, t, [r, new E.Follow(n, 20)], n.x, n.y - 1);
						if (r.setAnchor(.5, 1), !D.Device.isTablet() && !D.Device.isIOS()) {
							var l = o.data.particleEffects;
							if (P.Util.isValid(l))
								for (var c = 0; c < l.length; ++c) {
									var h = new T.ParticleEmitter(l[c], this.game.particleStorm, this.game.time);
									s.addComponent(h), h.sortTargets = [s, n]
								}
						}
						return s;
					case "pet":
						var u = e;
						return P.Util.isValid(o.metadata.petID) && (u = o.metadata.petID), new p.FollowContainer(this.game, t, new w.Monster(this.game, {
							ID: u
						}), i, n, a)
				}
				return new y.Pet(this.game, t, e, n, a)
			}, e.prototype.monster = function(t, e, i, n, a, o) {
				return "spine" === e.source.assetType ? new f.MonsterSpineContainer(this.game, t, e, i, n, a) : new g.MonsterContainer(this.game, t, e, i, n, a, o)
			}, e.prototype.character = function(t, e, i, n, a, o, r, s, l) {
				return void 0 === o && (o = !1), void 0 === r && (r = !1), void 0 === s && (s = !1), void 0 === l && (l = !1), new u.CharacterContainer(this.game, t, e, i, n, a, o, r, s, l)
			}, e.prototype.player = function(t, e, i, n, a, o, r, s, l, c) {
				return void 0 === o && (o = !1), void 0 === r && (r = !1), void 0 === s && (s = !1), void 0 === l && (l = !1), void 0 === c && (c = !1), new m.PlayerContainer(this.game, t, e, i, n, a, o, r, s, l, c)
			}, e.prototype.timer = function(t, e, i, n) {
				return void 0 === n && (n = !1), new _.TimerContainer(this.game, t, e, i, n)
			}, e.prototype.houseItem = function(t, e, i, n, o, r) {
				return new I.GameObject(this.game, t, [new a.HouseItem(this.game, r, e, o)], i, n)
			}, e.prototype.createParticleEmitter = function(t, e, i, n) {
				P.Util.isValid(n.x1) || (n.x1 = 0), P.Util.isValid(n.y1) || (n.y1 = 0), P.Util.isValid(n.x2) || (n.x2 = 0), P.Util.isValid(n.y2) || (n.y2 = 0);
				var a = S.Items.getItem("particleEffect", e).data;
				P.Util.isValid(this.game.particleStorm.getData(e.toString())) || this.game.particleStorm.addData(e.toString(), a.particle);
				var o = JSON.parse(JSON.stringify(a.emitter));
				P.Util.isValid(n) && ("LINE_ZONE" === n.type ? o.zone = this.game.particleStorm.createLineZone(n.x1, n.y1, n.x2, n.y2) : o.zone = null);
				var r = this.game.particleStorm.createEmitter(Phaser.ParticleStorm.SPRITE_BATCH, a.force);
				return r.addToWorld(t), r.emit(e.toString(), i.x, i.y, o), r
			}, e.prototype.animatedSpineNPC = function(t, e, i, n, a, o, r, s, l) {
				var c = A.RenderFactory.createRenderer(e, n),
					h = new I.GameObject(this.game, t, [c, new O.PlayAnimationList(r), new b.NameLabel(i)], a, o);
				if (P.Util.isValid(l)) {
					var u = function() {
						c.setInputEnabled(!0), c.getEvents().onInputDown.add(l, c)
					};
					P.Util.isValid(c.spine) ? u() : c.onLoaded.addOnce(u)
				}
				return h
			}, e.prototype.countdownTimer = function(t, e, i, n, a) {
				return new v.TimerControl(this.game, t, e, i, n, a)
			}, e
		}(i(748).GameObjectFactory);
	e.AdvGameObjectFactory = L
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		o = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		r = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		},
		s = this && this.__awaiter || function(t, e, i, n) {
			return new(i || (i = Promise))(function(a, o) {
				function r(t) {
					try {
						l(n.next(t))
					} catch (t) {
						o(t)
					}
				}

				function s(t) {
					try {
						l(n.throw(t))
					} catch (t) {
						o(t)
					}
				}

				function l(t) {
					t.done ? a(t.value) : new i(function(e) {
						e(t.value)
					}).then(r, s)
				}
				l((n = n.apply(t, e || [])).next())
			})
		},
		l = this && this.__generator || function(t, e) {
			var i, n, a, o, r = {
				label: 0,
				sent: function() {
					if (1 & a[0]) throw a[1];
					return a[1]
				},
				trys: [],
				ops: []
			};
			return o = {
				next: s(0),
				throw: s(1),
				return: s(2)
			}, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
				return this
			}), o;

			function s(o) {
				return function(s) {
					return function(o) {
						if (i) throw new TypeError("Generator is already executing.");
						for (; r;) try {
							if (i = 1, n && (a = n[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(a = a.call(n, o[1])).done) return a;
							switch (n = 0, a && (o = [0, a.value]), o[0]) {
								case 0:
								case 1:
									a = o;
									break;
								case 4:
									return r.label++, {
										value: o[1],
										done: !1
									};
								case 5:
									r.label++, n = o[1], o = [0];
									continue;
								case 7:
									o = r.ops.pop(), r.trys.pop();
									continue;
								default:
									if (!(a = (a = r.trys).length > 0 && a[a.length - 1]) && (6 === o[0] || 2 === o[0])) {
										r = 0;
										continue
									}
									if (3 === o[0] && (!a || o[1] > a[0] && o[1] < a[3])) {
										r.label = o[1];
										break
									}
									if (6 === o[0] && r.label < a[1]) {
										r.label = a[1], a = o;
										break
									}
									if (a && r.label < a[2]) {
										r.label = a[2], r.ops.push(o);
										break
									}
									a[2] && r.ops.pop(), r.trys.pop();
									continue
							}
							o = e.call(t, r)
						} catch (t) {
							o = [6, t], n = 0
						} finally {
							i = a = 0
						}
						if (5 & o[0]) throw o[1];
						return {
							value: o[0] ? o[1] : void 0,
							done: !0
						}
					}([o, s])
				}
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var c = i(9),
		h = i(6),
		u = i(154),
		p = i(253),
		d = i(157),
		g = function(t) {
			function e(e, i) {
				var n = t.call(this, e) || this;
				return n.authProvider = null, n.authProvider = i, n
			}
			return n(e, t), e.prototype.getVoucherCode = function(t) {
				return s(this, void 0, void 0, function() {
					return l(this, function(e) {
						return [2, this.httpClient.get(d.UrlRootProvider.getApiRootUrl() + "game-voucher-api/v2/codes/" + t, this.authProvider)]
					})
				})
			}, e.prototype.redeemCode = function(t) {
				return s(this, void 0, void 0, function() {
					return l(this, function(e) {
						return [2, this.httpClient.post(d.UrlRootProvider.getApiRootUrl() + "game-voucher-api/v2/codes/" + t + "/activate", this.authProvider)]
					})
				})
			}, e = a([r(0, c.inject(h.EProdigyInjectionIdentifiers.HttpClient)), r(1, c.inject(h.EProdigyInjectionIdentifiers.LegacyAuthenticationProvider)), o("design:paramtypes", [Object, u.LegacyAuthProvider])], e)
		}(p.HttpDataProvider);
	e.VoucherCodeHttpDataProvider = g
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		o = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		r = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		},
		s = this && this.__awaiter || function(t, e, i, n) {
			return new(i || (i = Promise))(function(a, o) {
				function r(t) {
					try {
						l(n.next(t))
					} catch (t) {
						o(t)
					}
				}

				function s(t) {
					try {
						l(n.throw(t))
					} catch (t) {
						o(t)
					}
				}

				function l(t) {
					t.done ? a(t.value) : new i(function(e) {
						e(t.value)
					}).then(r, s)
				}
				l((n = n.apply(t, e || [])).next())
			})
		},
		l = this && this.__generator || function(t, e) {
			var i, n, a, o, r = {
				label: 0,
				sent: function() {
					if (1 & a[0]) throw a[1];
					return a[1]
				},
				trys: [],
				ops: []
			};
			return o = {
				next: s(0),
				throw: s(1),
				return: s(2)
			}, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
				return this
			}), o;

			function s(o) {
				return function(s) {
					return function(o) {
						if (i) throw new TypeError("Generator is already executing.");
						for (; r;) try {
							if (i = 1, n && (a = n[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(a = a.call(n, o[1])).done) return a;
							switch (n = 0, a && (o = [0, a.value]), o[0]) {
								case 0:
								case 1:
									a = o;
									break;
								case 4:
									return r.label++, {
										value: o[1],
										done: !1
									};
								case 5:
									r.label++, n = o[1], o = [0];
									continue;
								case 7:
									o = r.ops.pop(), r.trys.pop();
									continue;
								default:
									if (!(a = (a = r.trys).length > 0 && a[a.length - 1]) && (6 === o[0] || 2 === o[0])) {
										r = 0;
										continue
									}
									if (3 === o[0] && (!a || o[1] > a[0] && o[1] < a[3])) {
										r.label = o[1];
										break
									}
									if (6 === o[0] && r.label < a[1]) {
										r.label = a[1], a = o;
										break
									}
									if (a && r.label < a[2]) {
										r.label = a[2], r.ops.push(o);
										break
									}
									a[2] && r.ops.pop(), r.trys.pop();
									continue
							}
							o = e.call(t, r)
						} catch (t) {
							o = [6, t], n = 0
						} finally {
							i = a = 0
						}
						if (5 & o[0]) throw o[1];
						return {
							value: o[0] ? o[1] : void 0,
							done: !0
						}
					}([o, s])
				}
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var c = i(9),
		h = i(6),
		u = i(0),
		p = i(154),
		d = i(253),
		g = function(t) {
			function e(e, i) {
				var n = t.call(this, e) || this;
				return n.legacyAuthProvider = i, n
			}
			return n(e, t), i = e, e.prototype.getStore = function(t) {
				return s(this, void 0, void 0, function() {
					var e;
					return l(this, function(n) {
						return e = "" + d.HttpDataProvider.ENVIRONMENT_URLS[u.Util.getEnvironment()] + i.BASE_URL + t, [2, this.httpClient.get(e, this.legacyAuthProvider)]
					})
				})
			}, e.BASE_URL = "game-store-api/v1/store/", e = i = a([c.injectable(), r(0, c.inject(h.EProdigyInjectionIdentifiers.HttpClient)), r(1, c.inject(h.EProdigyInjectionIdentifiers.LegacyAuthenticationProvider)), o("design:paramtypes", [Object, p.LegacyAuthProvider])], e);
			var i
		}(d.HttpDataProvider);
	e.StoreHttpDataProvider = g
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		return function(t, e) {
			this.statusCode = t, this.errorMessage = e
		}
	}();
	e.HttpDataProviderFailure = n
}, function(t, e, i) {
	t.exports = function(t) {
		var e = {};

		function i(t) {
			return "string" == typeof t || t && "object" == typeof t && "[object String]" == Object.prototype.toString.call(t) || !1
		}

		function n(t, n) {
			return t && !i(t) && (n = t, t = void 0), {
				key: t || e.defaults.key,
				storage: n || e.defaults.storage
			}
		}
		return e.defaults = {
			key: "JWT_TOKEN",
			tokenPrefix: "Bearer ",
			storage: t.localStorage,
			padding: !1
		}, e.encode64 = function(i) {
			var n = t.btoa(t.unescape(t.encodeURIComponent(i)));
			return e.defaults.padding ? n : n.replace(/=+$/, "")
		}, e.decode64 = function(e) {
			return t.decodeURIComponent(t.escape(t.atob(e)))
		}, e.write = function(t) {
			return e.defaults.tokenPrefix + e.encode64(JSON.stringify(t.header)) + "." + e.encode64(JSON.stringify(t.claim)) + "." + (t.signature || "")
		}, e.read = function(t) {
			0 === t.indexOf(e.defaults.tokenPrefix) && (t = t.substring(e.defaults.tokenPrefix.length));
			var i = t.split(".");
			return {
				header: JSON.parse(e.decode64(i[0])),
				claim: JSON.parse(e.decode64(i[1])),
				signature: i[2] || ""
			}
		}, e.validateClaim = function(t, e, i) {
			var n = Date.now() / 1e3;
			return t && (!t.exp || t.exp > n) && (!t.nbf || t.nbf < n) && (void 0 === e || e === t.iss) && (void 0 === i || i === t.aud)
		}, e.validate = function(t, n, a) {
			return i(t) && (t = e.read(t)), t && t.claim && e.validateClaim(t.claim, n, a)
		}, e.set = function(t, e, i) {
			var a = n(e, i);
			return a.storage.setItem(a.key, t)
		}, e.get = function(t, e) {
			var i = n(t, e);
			return i.storage.getItem(i.key)
		}, e.remove = function(t, e) {
			var i = n(t, e);
			return i.storage.removeItem(i.key)
		}, e.keep = function(t, n, a) {
			return e.set(i(t) ? t : e.write(t), n, a)
		}, e.remember = function(t, i) {
			var n = e.get(t, i);
			return n && e.read(n)
		}, e.forget = e.remove, e
	}
}, function(t, e, i) {
	t.exports = i(766)(window)
}, function(t, e, i) {
	"use strict";
	var n = new RegExp("%[a-f0-9]{2}", "gi"),
		a = new RegExp("(%[a-f0-9]{2})+", "gi");

	function o(t, e) {
		try {
			return decodeURIComponent(t.join(""))
		} catch (t) {}
		if (1 === t.length) return t;
		e = e || 1;
		var i = t.slice(0, e),
			n = t.slice(e);
		return Array.prototype.concat.call([], o(i), o(n))
	}

	function r(t) {
		try {
			return decodeURIComponent(t)
		} catch (a) {
			for (var e = t.match(n), i = 1; i < e.length; i++) e = (t = o(e, i).join("")).match(n);
			return t
		}
	}
	t.exports = function(t) {
		if ("string" != typeof t) throw new TypeError("Expected `encodedURI` to be of type `string`, got `" + typeof t + "`");
		try {
			return t = t.replace(/\+/g, " "), decodeURIComponent(t)
		} catch (e) {
			return function(t) {
				for (var e = {
						"%FE%FF": "",
						"%FF%FE": ""
					}, i = a.exec(t); i;) {
					try {
						e[i[0]] = decodeURIComponent(i[0])
					} catch (t) {
						var n = r(i[0]);
						n !== i[0] && (e[i[0]] = n)
					}
					i = a.exec(t)
				}
				e["%C2"] = "";
				for (var o = Object.keys(e), s = 0; s < o.length; s++) {
					var l = o[s];
					t = t.replace(new RegExp(l, "g"), e[l])
				}
				return t
			}(t)
		}
	}
}, function(t, e, i) {
	"use strict";
	/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
	var n = Object.getOwnPropertySymbols,
		a = Object.prototype.hasOwnProperty,
		o = Object.prototype.propertyIsEnumerable;
	t.exports = function() {
		try {
			if (!Object.assign) return !1;
			var t = new String("abc");
			if (t[5] = "de", "5" === Object.getOwnPropertyNames(t)[0]) return !1;
			for (var e = {}, i = 0; i < 10; i++) e["_" + String.fromCharCode(i)] = i;
			if ("0123456789" !== Object.getOwnPropertyNames(e).map(function(t) {
					return e[t]
				}).join("")) return !1;
			var n = {};
			return "abcdefghijklmnopqrst".split("").forEach(function(t) {
				n[t] = t
			}), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, n)).join("")
		} catch (t) {
			return !1
		}
	}() ? Object.assign : function(t, e) {
		for (var i, r, s = function(t) {
				if (null === t || void 0 === t) throw new TypeError("Object.assign cannot be called with null or undefined");
				return Object(t)
			}(t), l = 1; l < arguments.length; l++) {
			for (var c in i = Object(arguments[l])) a.call(i, c) && (s[c] = i[c]);
			if (n) {
				r = n(i);
				for (var h = 0; h < r.length; h++) o.call(i, r[h]) && (s[r[h]] = i[r[h]])
			}
		}
		return s
	}
}, function(t, e, i) {
	"use strict";
	t.exports = function(t) {
		return encodeURIComponent(t).replace(/[!'()*]/g, function(t) {
			return "%" + t.charCodeAt(0).toString(16).toUpperCase()
		})
	}
}, function(t, e, i) {
	"use strict";
	var n = i(770),
		a = i(769),
		o = i(768);

	function r(t, e) {
		return e.encode ? e.strict ? n(t) : encodeURIComponent(t) : t
	}
	e.extract = function(t) {
		return t.split("?")[1] || ""
	}, e.parse = function(t, e) {
		var i = function(t) {
				var e;
				switch (t.arrayFormat) {
					case "index":
						return function(t, i, n) {
							e = /\[(\d*)\]$/.exec(t), t = t.replace(/\[\d*\]$/, ""), e ? (void 0 === n[t] && (n[t] = {}), n[t][e[1]] = i) : n[t] = i
						};
					case "bracket":
						return function(t, i, n) {
							e = /(\[\])$/.exec(t), t = t.replace(/\[\]$/, ""), e ? void 0 !== n[t] ? n[t] = [].concat(n[t], i) : n[t] = [i] : n[t] = i
						};
					default:
						return function(t, e, i) {
							void 0 !== i[t] ? i[t] = [].concat(i[t], e) : i[t] = e
						}
				}
			}(e = a({
				arrayFormat: "none"
			}, e)),
			n = Object.create(null);
		return "string" != typeof t ? n : (t = t.trim().replace(/^(\?|#|&)/, "")) ? (t.split("&").forEach(function(t) {
			var e = t.replace(/\+/g, " ").split("="),
				a = e.shift(),
				r = e.length > 0 ? e.join("=") : void 0;
			r = void 0 === r ? null : o(r), i(o(a), r, n)
		}), Object.keys(n).sort().reduce(function(t, e) {
			var i = n[e];
			return Boolean(i) && "object" == typeof i && !Array.isArray(i) ? t[e] = function t(e) {
				return Array.isArray(e) ? e.sort() : "object" == typeof e ? t(Object.keys(e)).sort(function(t, e) {
					return Number(t) - Number(e)
				}).map(function(t) {
					return e[t]
				}) : e
			}(i) : t[e] = i, t
		}, Object.create(null))) : n
	}, e.stringify = function(t, e) {
		var i = function(t) {
			switch (t.arrayFormat) {
				case "index":
					return function(e, i, n) {
						return null === i ? [r(e, t), "[", n, "]"].join("") : [r(e, t), "[", r(n, t), "]=", r(i, t)].join("")
					};
				case "bracket":
					return function(e, i) {
						return null === i ? r(e, t) : [r(e, t), "[]=", r(i, t)].join("")
					};
				default:
					return function(e, i) {
						return null === i ? r(e, t) : [r(e, t), "=", r(i, t)].join("")
					}
			}
		}(e = a({
			encode: !0,
			strict: !0,
			arrayFormat: "none"
		}, e));
		return t ? Object.keys(t).sort().map(function(n) {
			var a = t[n];
			if (void 0 === a) return "";
			if (null === a) return r(n, e);
			if (Array.isArray(a)) {
				var o = [];
				return a.slice().forEach(function(t) {
					void 0 !== t && o.push(i(n, t, o.length))
				}), o.join("&")
			}
			return r(n, e) + "=" + r(a, e)
		}).filter(function(t) {
			return t.length > 0
		}).join("&") : ""
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(5),
		o = function() {
			function t(t) {
				this.game = null, this.surveyData = null, this.game = t, this.surveyData = [{
					id: 12,
					type: 2,
					questionKeys: ["SURVEY_WIZARD_QUESTION"],
					answers: [
						[{
							id: "1",
							textKey: "SURVEY_MEMBERSHIP_ANSWER_1"
						}, {
							id: "2",
							textKey: "SURVEY_MEMBERSHIP_ANSWER_2"
						}, {
							id: "3",
							textKey: "SURVEY_MEMBERSHIP_ANSWER_3"
						}, {
							id: "moreThan3",
							textKey: "SURVEY_MEMBERSHIP_ANSWER_MORE"
						}]
					]
				}];
				for (var e = function(e) {
						var a = i.surveyData[e];
						Object.defineProperty(a, "question", {
							get: function() {
								for (var e = [], i = 0; i < a.questionKeys.length; i++) e.push(t.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText(a.questionKeys[i]));
								return e
							}
						});
						for (var o = 0; o < a.answers.length; o++)
							for (var r = a.answers[o], s = function(e) {
									var i = r[e];
									Object.defineProperty(i, "text", {
										get: function() {
											return t.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText(i.textKey)
										}
									})
								}, l = 0; l < r.length; l++) s(l)
					}, i = this, a = 0; a < this.surveyData.length; a++) e(a)
			}
			return t.prototype.getSurveyData = function() {
				for (var t = 0; t < this.surveyData.length; t++) {
					var e = this.surveyData[t];
					if (this.game.prodigy.player.getSurvey() < e.id) return this.game.broadcaster.broadcast(a.ESurveyEvents.OnGetDataComplete, null, [e]), e
				}
				return this.game.broadcaster.broadcast(a.ESurveyEvents.OnGetDataComplete, null, [{}]), {}
			}, t
		}();
	e.SurveyController = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = i(163),
		r = function(t) {
			function e(e) {
				return t.call(this, e) || this
			}
			return n(e, t), e.prototype.startPVP = function(t, e, i, n, r) {
				var s = {
					screen: "battle-coliseum-outside"
				};
				for (var l in o.BattleController.MOD_DEFAULTS) {
					var c = o.BattleController.MOD_DEFAULTS[l];
					a.Util.isValid(s[l]) || (s[l] = c)
				}
				s.arena = r, s.catch = !1, s.run = !1;
				var h = "zone-battle-" + t + "-",
					u = {
						mods: s,
						zoneName: h += e.userID === t ? i.userID : e.userID,
						callback: n,
						challengerID: t,
						playerA: e,
						playerB: i
					};
				this.game.prodigy.start("PVP", u, u)
			}, e
		}(o.BattleController);
	e.PVPController = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(0),
		o = function() {
			function t(t) {
				this.game = null, this.mail = [], this.callbacks = [], this.game = t
			}
			return t.prototype.cleanup = function() {
				this.callbacks = []
			}, t.prototype.getMailCount = function() {
				return this.mail.length
			}, t.prototype.getMail = function(t, e) {
				return this.mail.slice(t, t + e)
			}, t.prototype.add = function(t) {
				n.Logger.log("MailController, mail received", n.LogLevel.Verbose), n.Logger.log(JSON.stringify(t), n.LogLevel.Verbose), this.game.prodigy.audio.playSFX(18, "dig"), this.mail = this.mail.concat(t), a.Util.isValid(t.time) && window.setTimeout(this.remove.bind(this, t), t.time), this.invokeCallbacks(t)
			}, t.prototype.remove = function(t) {
				for (var e = 0; e < this.mail.length; e++)
					if (this.mail[e] === t) {
						this.mail.splice(e, 1);
						break
					} this.invokeCallbacks()
			}, t.prototype.addUpdateCallback = function(t) {
				this.callbacks.push(t)
			}, t.prototype.removeUpdateCallback = function(t) {
				this.callbacks.splice(this.callbacks.indexOf(t), 1)
			}, t.prototype.invokeCallbacks = function(t) {
				for (var e = 0; e < this.callbacks.length; e++) a.Util.isValid(this.callbacks[e]) && this.callbacks[e](this.getMailCount(), t)
			}, t
		}();
	e.MailController = o
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t(t) {
			this.game = null, this.game = t
		}
		return t.prototype.setResolutionSmall = function() {
			this.game.scale.maxWidth = 640, this.game.scale.maxHeight = 360, this.game.scale.updateLayout()
		}, t.prototype.setResolutionMedium = function() {
			this.game.scale.maxWidth = 1280, this.game.scale.maxHeight = 720, this.game.scale.updateLayout()
		}, t.prototype.setResolutionLarge = function() {
			this.game.scale.maxWidth = 0, this.game.scale.maxHeight = 0, this.game.scale.scaleMode = Phaser.ScaleManager.EXACT_FIT, this.game.scale.refresh()
		}, t
	}();
	e.GraphicsController = n
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(102),
		a = i(5),
		o = i(2),
		r = i(0),
		s = function() {
			function t(t) {
				this.game = null, this.giftBoxes = {}, this.giftBoxesToOpen = [], this.game = t
			}
			return t.prototype.setupGiftBoxes = function(t) {
				for (var e in this.giftBoxes = t, t) {
					var i = t[e];
					!i.isOpen && this.isConjureCubeGiftBox(i.ID) && this.giftBoxesToOpen.push(+e)
				}
			}, t.prototype.isConjureCubeGiftBox = function(t) {
				return 1 === t || 2 === t
			}, t.prototype.receiveGiftBox = function(t, e) {
				if (r.Util.isValid(e)) {
					var i = o.Items.getItem("giftBox", e.ID);
					if (r.Util.isValid(i)) {
						r.Util.isValid(t) && this.game.prodigy.open.gotItem([i], t, null, "receive-conjure-cube");
						var a = n(this.giftBoxes) + 1;
						this.giftBoxes[a] = {
							ID: e.ID,
							isOpen: !1
						}, 1 !== e.ID && 2 !== e.ID || this.giftBoxesToOpen.push(a), this.game.prodigy.network.addGiftBox(e.ID, null, null)
					}
				}
			}, t.prototype.openConjureCube = function(t) {
				if (this.giftBoxesToOpen.length > 0) {
					var e = this.giftBoxesToOpen.pop();
					r.Util.isValid(this.giftBoxes[e]) && (this.giftBoxes[e].isOpen = !0, this.game.prodigy.network.updateGiftBox(e, this.giftBoxes[e], this.completeOpenConjureCube.bind(this, e, t), null))
				}
			}, t.prototype.completeOpenConjureCube = function(t, e) {
				this.giftBoxes.hasOwnProperty(t) && (this.game.prodigy.network.sendAnalytics("Conjure-Cube-Opened", "Cube-Opened-at-Level-" + this.game.prodigy.player.data.level), this.game.broadcaster.broadcast(a.EGiftBoxEvents.UpdateConjureCubeCount, "ConjureCubes", []), this.game.prodigy.open.gotItem(e, null, null, "open-conjure-cube"))
			}, t.prototype.getGiftBoxesCount = function(t) {
				var e = 0;
				for (var i in this.giftBoxes) {
					if (this.giftBoxes.hasOwnProperty(i)) this.giftBoxes[i].ID === t && e++
				}
				return e
			}, t.prototype.getUnopenedConjureCubesCount = function() {
				for (var t = 0, e = 0; e < this.giftBoxesToOpen.length; e++) {
					var i = this.giftBoxes[this.giftBoxesToOpen[e]];
					r.Util.isValid(i) && this.isConjureCubeGiftBox(i.ID) && t++
				}
				return t
			}, t.prototype.hasConjureCubes = function() {
				for (var t = 0; t < this.giftBoxesToOpen.length; t++) {
					var e = this.giftBoxes[this.giftBoxesToOpen[t]];
					if (r.Util.isValid(e) && this.isConjureCubeGiftBox(e.ID)) return !0
				}
				return !1
			}, t
		}();
	e.GiftBoxController = s
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(2),
		a = i(0),
		o = function() {
			function t(t) {
				this.game = null, this.baseDictionary = {}, this.isBaseReady = {}, this.isColorReady = {}, this.baseColor = [], this.newColor = [], this.game = t
			}
			return t.prototype.checkColorAsset = function(t, e, i) {
				var n = this.generateAssetName(t, e);
				a.Util.isValid(this.isColorReady[n]) ? this.isColorReady[n].ready ? this.safeCallback(i) : this.isColorReady[n].callbacks.push(i) : a.Util.isValid(this.isBaseReady[t]) ? this.isBaseReady[t].ready ? (this.isColorReady[n] = {
					ready: !1,
					callbacks: [i]
				}, this.generateNewColor(t, e)) : this.isBaseReady[t].callbacks.push({
					colorReplaceData: e,
					callback: i
				}) : (this.isBaseReady[t] = {
					ready: !1,
					callbacks: [{
						colorReplaceData: e,
						callback: i
					}]
				}, this.game.prodigy.create.sprite(0, 0, t, 0, null, this.onBaseColorReady.bind(this, t)))
			}, t.prototype.generateAssetName = function(t, e) {
				for (var i = t, n = 0; n < e.length; n++) i += "-" + e[n].color;
				return i
			}, t.prototype.onBaseColorReady = function(t, e) {
				if ("__missing" !== e.key)
					for (this.isBaseReady[e.key].ready = !0, this.baseDictionary[e.key] = e; this.isBaseReady[e.key].callbacks.length > 0;) {
						var i = this.isBaseReady[e.key].callbacks.pop(),
							n = this.generateAssetName(e.key, i.colorReplaceData);
						a.Util.isValid(this.isColorReady[n]) ? this.isColorReady[n].ready ? this.safeCallback(i.callback) : this.isColorReady[n].callbacks.push(i.callback) : (this.isColorReady[n] = {
							ready: !1,
							callbacks: [i.callback]
						}, this.generateNewColor(e.key, i.colorReplaceData))
					} else
						for (this.isBaseReady[t].ready = !0, this.baseDictionary[t] = e; this.isBaseReady[t].callbacks.length > 0;) {
							i = this.isBaseReady[t].callbacks.pop();
							this.safeCallback(i.callback)
						}
			}, t.prototype.pixelColorReplace = function(t) {
				for (var e = 0; e < this.baseColor.length; e++) t.r === this.baseColor[e][0] && t.g === this.baseColor[e][1] && t.b === this.baseColor[e][2] && (t.r = this.newColor[e][0], t.g = this.newColor[e][1], t.b = this.newColor[e][2]);
				return t
			}, t.prototype.generateNewColor = function(t, e) {
				var i = this.generateAssetName(t, e),
					o = new Phaser.BitmapData(this.game, null, this.baseDictionary[t].width, this.baseDictionary[t].height);
				o.draw(this.baseDictionary[t]), o.update();
				for (var r = [], s = [], l = 0; l < e.length; l++) r = r.concat(a.Util.isValid(e[l].base) ? e[l].base : n.Items.getItemData(e[l].itemColor, 1).colors), s = s.concat(n.Items.getItemData(e[l].itemColor, e[l].color).colors);
				for (l = r.length - 1; l >= 0; l--) r[l][0] === s[l][0] && r[l][1] === s[l][1] && r[l][2] === s[l][2] && (r.splice(l, 1), s.splice(l, 1));
				r.length > 0 && o.processPixelRGB(this.pixelColorReplace, {
					baseColor: r,
					newColor: s
				}), o.generateTexture(i, this.textureGenerated.bind(this, t, i, o))
			}, t.prototype.textureGenerated = function(t, e, i, n) {
				var o = this.game.cache.getFrameData(t, 2);
				a.Util.isValid(o) && (o = {
					frames: {}
				}), o.getFrames && (o = a.Util.frameDataToFrameJson(o.getFrames())), this.game.cache.addTextureAtlas(e, "", n.baseTexture.source, o, Phaser.Loader.TEXTURE_ATLAS_JSON_HASH), i.clear(), Phaser.CanvasPool.removeByCanvas(i.canvas), i.destroy();
				for (var r = this.isColorReady[e].callbacks, s = 0; s < r.length; ++s) this.safeCallback(r[s]);
				this.isColorReady[e] = {
					ready: !0
				}
			}, t.prototype.safeCallback = function(t) {
				a.Util.isValid(t) && t()
			}, t
		}();
	e.ColorReplaceController = o
}, function(t, e, i) {
	var n = i(83),
		a = i(104);
	t.exports = function(t) {
		return n(t, a(t))
	}
}, function(t, e, i) {
	var n = i(73),
		a = i(193),
		o = i(51),
		r = "[object Object]",
		s = Function.prototype,
		l = Object.prototype,
		c = s.toString,
		h = l.hasOwnProperty,
		u = c.call(Object);
	t.exports = function(t) {
		if (!o(t) || n(t) != r) return !1;
		var e = a(t);
		if (null === e) return !0;
		var i = h.call(e, "constructor") && e.constructor;
		return "function" == typeof i && i instanceof i && c.call(i) == u
	}
}, function(t, e, i) {
	var n = i(258),
		a = i(346),
		o = i(344),
		r = i(128),
		s = i(343),
		l = i(110),
		c = i(18),
		h = i(335),
		u = i(109),
		p = i(216),
		d = i(52),
		g = i(779),
		f = i(134),
		y = i(257),
		m = i(778);
	t.exports = function(t, e, i, _, v, E, b) {
		var O = y(t, i),
			I = y(e, i),
			T = b.get(I);
		if (T) n(t, i, T);
		else {
			var A = E ? E(O, I, i + "", t, e, b) : void 0,
				C = void 0 === A;
			if (C) {
				var S = c(I),
					w = !S && u(I),
					D = !S && !w && f(I);
				A = I, S || w || D ? c(O) ? A = O : h(O) ? A = r(O) : w ? (C = !1, A = a(I, !0)) : D ? (C = !1, A = o(I, !0)) : A = [] : g(I) || l(I) ? (A = O, l(O) ? A = m(O) : (!d(O) || _ && p(O)) && (A = s(I))) : C = !1
			}
			C && (b.set(I, A), v(A, I, _, E, b), b.delete(I)), n(t, i, A)
		}
	}
}, function(t, e, i) {
	var n = i(140),
		a = i(258),
		o = i(378),
		r = i(780),
		s = i(52),
		l = i(104),
		c = i(257);
	t.exports = function t(e, i, h, u, p) {
		e !== i && o(i, function(o, l) {
			if (s(o)) p || (p = new n), r(e, i, l, h, t, u, p);
			else {
				var d = u ? u(c(e, l), o, l + "", e, i, p) : void 0;
				void 0 === d && (d = o), a(e, l, d)
			}
		}, l)
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t() {}
		return t.DATA = [{
			id: 0,
			subject: "Hello World 0",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42. This text is particularly long so we can figure out what happens when it's very long! Arguably there has to be a logical limit to the size of the text but putting in an entire paragraph is probably a pretty good test of the max size.",
			attachments: [{
				type: "item",
				ID: 1
			}, {
				type: "item",
				ID: 2
			}, {
				type: "item",
				ID: 3
			}]
		}, {
			id: 1,
			subject: "SPLIT TEST MAIL",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: [{
				type: "item",
				ID: 1
			}, {
				type: "item",
				ID: 2
			}, {
				type: "item",
				ID: 3
			}, {
				type: "item",
				ID: 4
			}],
			gameMethod: {
				name: "openMembershipSignUp",
				params: [2]
			}
		}, {
			id: 2,
			subject: "Hello World 2",
			isOpened: !1,
			image: "noImage",
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: [{
				type: "item",
				ID: 1
			}, {
				type: "item",
				ID: 2
			}]
		}, {
			id: 3,
			subject: "Hello World 3",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: [{
				type: "currency",
				ID: 11,
				N: 50
			}]
		}, {
			id: 4,
			subject: "Hello World 4",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 5,
			subject: "You have a Reward Goal!",
			isOpened: !1,
			membership: 0,
			image: null,
			message: "Your parent has setup a goal for you! Answer 10 correct questions and your parent will sent you a Reward!",
			attachments: [],
			gameMethod: {
				name: "openGiftBox",
				params: [3]
			}
		}, {
			id: 5,
			subject: "You have a Member Box!",
			isOpened: !1,
			membership: 2,
			image: null,
			message: "Your parent has setup a goal for you! Answer 10 correct questions and your parent will sent you a Reward!",
			attachments: [{
				type: "item",
				ID: 1
			}, {
				type: "item",
				ID: 2
			}, {
				type: "item",
				ID: 3
			}, {
				type: "item",
				ID: 4
			}, {
				type: "item",
				ID: 5
			}],
			gameMethod: {
				name: "openGiftBox"
			}
		}, {
			id: 5,
			subject: "Sign Up for Membership!",
			isOpened: !1,
			membership: 1,
			image: null,
			message: "Your parent has setup a goal for you! Answer 10 correct questions and your parent will sent you a Reward!",
			attachments: [],
			gameMethod: {
				name: "openMembershipSignUp"
			}
		}, {
			id: 10,
			subject: "Hello World 10",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 20,
			subject: "Hello World 20",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 30,
			subject: "Hello World 30",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 40,
			subject: "Hello World 40",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 50,
			subject: "Hello World 50",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 60,
			subject: "Hello World 60",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 70,
			subject: "Hello World 70",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 80,
			subject: "Hello World 80",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 90,
			subject: "Hello World 90",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 100,
			subject: "Hello World 100",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 1e3,
			subject: "Hello World 1000",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 2e3,
			subject: "Hello World 2000",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 3e3,
			subject: "Hello World 3000",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 4e3,
			subject: "Hello World 4000",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 5e3,
			subject: "Hello World 5000",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 6e3,
			subject: "Hello World 6000",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 7e3,
			subject: "Hello World 7000",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 8e3,
			subject: "Hello World 8000",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 9e3,
			subject: "Hello World 9000",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}, {
			id: 1e4,
			subject: "Hello World 10000",
			isOpened: !1,
			image: null,
			message: "The answer to the ultimate question of life, the universe, and everything is 42.",
			attachments: []
		}], t.TOTAL_MAIL = {
			totalUnread: 0
		}, t
	}();
	e.TestMail = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(7),
		o = i(0),
		r = function(t) {
			function e(e, i, n, a, o, r) {
				var s = t.call(this, e, i, o, r) || this;
				return s.onIconPressed = null, s.itemIcon = null, s.quantityLabel = null, s.itemID = -1, s.quantityLabel = s.game.prodigy.create.font(s, 0, 65, "0", {
					width: 80,
					align: "right"
				}), s.setItemID(n), s.setQuantity(a), s
			}
			return n(e, t), e.prototype.setItemID = function(t) {
				this.itemID = t, o.Util.isValid(this.itemIcon) ? this.itemIcon.loadNewTexture("icon-dorm-" + t) : (this.itemIcon = this.add(this.game.prodigy.create.sprite(0, 0, "icon-dorm-" + t)), this.itemIcon.inputEnabled = !0, this.itemIcon.events.onInputDown.add(this.iconPressed, this))
			}, e.prototype.setQuantity = function(t) {
				this.quantityLabel.setText("" + t)
			}, e.prototype.iconPressed = function(t, e) {
				o.Util.isValid(this.onIconPressed) && this.onIconPressed.dispatch(this.itemID, Math.floor(e.x), Math.floor(e.y))
			}, e
		}(a.Element);
	e.HouseItemIcon = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(7),
		o = i(783),
		r = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, n, a) || this;
				return o.onIconPressed = new Phaser.Signal, o.houseItems = [], o.pageNumber = 0, o.itemIcons = [], o.pageBackground = null, o.prevPageButton = null, o.nextPageButton = null, o.pageBackground = o.add(o.game.prodigy.create.sprite(25, 30, "atlas-18", "overlay-light")), o.pageBackground.alpha = .2, o.pageBackground.width = 670, o.pageBackground.height = 50, o.pageBackground.visible = !1, o.prevPageButton = o.game.prodigy.create.button(o, 0, 30, "atlas-21", "back", o.decreasePageNumber.bind(o)), o.nextPageButton = o.game.prodigy.create.button(o, 670, 30, "atlas-21", "next", o.increasePageNumber.bind(o)), o.prevPageButton.visible = !1, o.nextPageButton.visible = !1, o
			}
			return n(e, t), e.prototype.getItemCount = function() {
				return this.houseItems.length
			}, e.prototype.showItems = function(t) {
				this.houseItems = t.slice(), t.length > 0 ? (this.showItemPages(!0), this.setPage(0), this.updatePrevPageButton(), this.updateNextPageButton()) : this.showItemPages(!1)
			}, e.prototype.setPage = function(t) {
				void 0 === t && (t = 0), this.pageNumber = Phaser.Math.clamp(t, 0, this.getPageCount());
				for (var e = this.houseItems.slice(6 * this.pageNumber, 6 * (this.pageNumber + 1)), i = 0; i < Math.max(this.itemIcons.length, e.length); ++i) i < e.length ? this.setItemIcon(i, e[i].ID, e[i].N) : this.itemIcons[i].visible = !1
			}, e.prototype.reduceQuantity = function(t) {
				var e = this.getItemIndex(t);
				if (e > -1) {
					this.houseItems[e].N -= 1, this.houseItems[e].N <= 0 && this.houseItems.splice(e, 1);
					var i = 6 * this.pageNumber;
					return e >= i && e < i + 6 && (this.houseItems.length > 0 ? (this.pageNumber > this.getPageCount() - 1 ? this.setPage(this.pageNumber - 1) : this.setPage(this.pageNumber), this.updateNextPageButton()) : this.showItemPages(!1)), this.houseItems
				}
				return []
			}, e.prototype.increaseQuantity = function(t) {
				var e = this.getItemIndex(t); - 1 === e && (0 === this.houseItems.length && this.showItemPages(), e = this.houseItems.push({
					ID: t,
					N: 0
				}) - 1), this.houseItems[e].N += 1, this.houseItems.sort(function(t, e) {
					return t.ID - e.ID
				}), e = this.getItemIndex(t);
				var i = 6 * this.pageNumber;
				return e >= i && e < i + 6 && this.setPage(this.pageNumber), this.updateNextPageButton(), this.updatePrevPageButton(), this.houseItems
			}, e.prototype.getItemIndex = function(t) {
				return this.houseItems.findIndex(function(e) {
					return e.ID === t
				})
			}, e.prototype.getPageCount = function() {
				return Math.ceil(this.houseItems.length / 6)
			}, e.prototype.increasePageNumber = function() {
				this.setPage(this.pageNumber + 1), this.updateNextPageButton(), this.updatePrevPageButton()
			}, e.prototype.decreasePageNumber = function() {
				this.setPage(this.pageNumber - 1), this.updatePrevPageButton(), this.updateNextPageButton()
			}, e.prototype.updatePrevPageButton = function() {
				this.pageNumber <= 0 ? this.prevPageButton.setInactive() : this.prevPageButton.isActive || this.prevPageButton.setActive()
			}, e.prototype.updateNextPageButton = function() {
				this.pageNumber >= this.getPageCount() - 1 ? this.nextPageButton.setInactive() : this.nextPageButton.isActive || this.nextPageButton.setActive()
			}, e.prototype.setItemIcon = function(t, e, i) {
				if (t < this.itemIcons.length) this.itemIcons[t].setItemID(e), this.itemIcons[t].setQuantity(i), this.itemIcons[t].visible = !0;
				else {
					var n = new o.HouseItemIcon(this.game, this, e, i, 100 * t + 70, 0);
					n.onIconPressed = this.onIconPressed, this.itemIcons.push(n)
				}
				var a = "vertical-dorm-" + e;
				this.game.cache.checkImageKey(a) || this.game.prodigy.load.assets([a], null)
			}, e.prototype.showItemPages = function(t) {
				void 0 === t && (t = !0), this.pageBackground.visible = t, this.nextPageButton.visible = t, this.prevPageButton.visible = t;
				for (var e = 0; e < this.itemIcons.length; ++e) this.itemIcons[e].visible = t
			}, e
		}(a.Element);
	e.HouseItemsScroll = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(156),
		r = i(6),
		s = i(155),
		l = i(55),
		c = i(5),
		h = i(40),
		u = i(56),
		p = i(2),
		d = i(0),
		g = i(784),
		f = function(t) {
			function e(e, i, n, o) {
				var r = t.call(this, e, i, -1, {
					hideMenu: !0,
					hideOverlay: !0,
					hideContent: !1
				}) || this;
				return r.focusedItem = null, r.screen = null, r.houseMap = null, r.itemsScroll = null, r.currentCategory = null, r.categories = null, r.trashIcon = null, r.rotateButton = null, r.editStartTime = 0, r.screen = o, r.game = e, r.houseMap = n, r.categories = [{
					icon: {
						ID: 1,
						type: "dorm"
					},
					callback: function() {
						r.showCategoryPage("Comfy")
					},
					category: "Comfy"
				}, {
					icon: {
						ID: 3,
						type: "dorm"
					},
					callback: function() {
						r.showCategoryPage("Surface")
					},
					category: "Surface"
				}, {
					icon: {
						ID: 6,
						type: "dorm"
					},
					callback: function() {
						r.showCategoryPage("Plants")
					},
					category: "Plants"
				}, {
					icon: {
						ID: 13,
						type: "dorm"
					},
					callback: function() {
						r.showCategoryPage("Storage")
					},
					category: "Storage"
				}, {
					icon: {
						ID: 18,
						type: "dorm"
					},
					callback: function() {
						r.showCategoryPage("Wall")
					},
					category: "Wall"
				}, {
					icon: {
						ID: 41,
						type: "dorm"
					},
					callback: function() {
						r.showCategoryPage("Lamps")
					},
					category: "Lamps"
				}, {
					icon: {
						ID: 22,
						type: "dorm"
					},
					callback: function() {
						r.showCategoryPage("Items")
					},
					category: "Items"
				}], r.trashIcon = r.game.prodigy.create.button(r, 1160, 500, "atlas-21", "dorm-trash", r.game.prodigy.open.messageBox.bind(r.game.prodigy.open, r.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("HOUSE_EDITOR_CONFIRM_PACK_UP"), function() {
					r.removeAllItems()
				})), r.updateTrashIcon(), r.rotateButton = r.game.prodigy.create.button(r, 0, 0, "atlas-21", "dorm-rotate", function() {
					r.rotateCurrentFocusedItem()
				}), r.rotateButton.visible = !1, r.rotateButton.sprite.anchor.setTo(.5, .5), o.menuBar.show(!1), r.setup(), r.setEditing(), r.game.input.onUp.add(r.inputReleased, r, -999), r
			}
			return n(e, t), e.prototype.menuSetup = function() {
				t.prototype.menuSetup.call(this);
				var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.showFrame("map", e.getText("HOUSE_EDITOR_TITLE"), this.categories);
				var i = this.game.prodigy.create.textButton(this, 0, 0, {
					icon: "close",
					text: e.getText("BUTTON_CLOSE")
				}, this.close.bind(this));
				this.showBtns([], [i]), this.updateCategoryTabState(), this.itemsScroll = new g.HouseItemsScroll(this.game, this, 190, 620), this.itemsScroll.onIconPressed.add(this.spawnHouseItem, this), this.btns[0].isActive ? this.btns[0].onDown() : this.showCategoryPage(this.categories[0].category), this.editStartTime = Math.floor(Date.now() / 1e3)
			}, e.prototype.close = function() {
				var e = Math.floor(Date.now() / 1e3) - this.editStartTime;
				this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_mod", {
					type: "house",
					id: "",
					tag: this.game.prodigy.player.house.getCurrentHouseTag(),
					length: e
				}), this.screen.menuBar.show(!0), this.game.broadcaster.broadcast(c.EHouseEvents.CloseEditor, this.game), this.setEditing(!1), this.game.input.onUp.remove(this.inputReleased, this), t.prototype.close.call(this)
			}, e.prototype.showCategoryPage = function(t) {
				d.Util.isValid(this.itemsScroll) && (this.currentCategory = t, this.itemsScroll.showItems(this.getUnplacedItemsInCategory(t)))
			}, e.prototype.updateCategoryTabState = function() {
				for (var t = 0; t < this.categories.length; ++t) this.getUnplacedItemsInCategory(this.categories[t].category).length > 0 ? this.btns[t].setActive() : this.btns[t].setInactive()
			}, e.prototype.getUnplacedItemsInCategory = function(t) {
				return this.game.prodigy.player.house.getUnplacedItems().filter(function(e) {
					var i = p.Items.getItem("dorm", e.ID).data;
					return i.category.toLowerCase() === t.toLowerCase() ? i : null
				})
			}, e.prototype.getIndexOfCategory = function(t) {
				return this.categories.findIndex(function(e) {
					return e.category === t
				})
			}, e.prototype.spawnHouseItem = function(t, e, i) {
				var n = this;
				this.clearFocusedItem();
				var a = e + (20 - e % 20),
					r = i - i % 20,
					s = this.game.prodigy.create.houseItem(this.houseMap.content, t, Math.floor(a), Math.floor(r), 0, this.houseMap).findComponent(o.HouseItem);
				s.setEditable();
				this.game.time.events.add(33, function(t) {
					var e = t.getRenderer().getInputHandler();
					n.game.input.activePointer.isDown && d.Util.isValid(e) ? (e._pointerData[n.game.input.activePointer.id].isDown = !0, e.startDrag(n.game.input.activePointer)) : t.gameObject.destroy()
				}, this, s), s.onItemDropped.addOnce(this.itemWasPlacedInHouse, this)
			}, e.prototype.itemWasPlacedInHouse = function(t, e, i) {
				if (this.itemsScroll.reduceQuantity(t.itemID), this.itemsScroll.getItemCount() < 1) {
					var n = this.getIndexOfCategory(this.currentCategory);
					this.resetButton(n), this.btns[n].setInactive(), this.currentBtn = -1
				}
				this.houseMap.addHouseItem(t.gameObject), this.registerHouseItemListeners(t), this.game.prodigy.player.house.setActive(t.itemID, e, i, 0, 0, 0, 0, 0), this.updateTrashIcon()
			}, e.prototype.setEditing = function(t) {
				if (void 0 === t && (t = !0), d.Util.isValid(this.houseMap))
					for (var e = 0; e < this.houseMap.houseItems.length; ++e) {
						var i = this.houseMap.houseItems[e].findComponent(o.HouseItem);
						i.setEditable(t), t ? this.registerHouseItemListeners(i) : this.unregisterHouseItemListeners(i)
					}
			}, e.prototype.registerHouseItemListeners = function(t) {
				t.onItemInputDown.add(this.itemReceivedFocus, this, 0, t), t.onItemDropped.add(this.checkDeleteItem, this, 0, t), t.onItemMoved.add(this.itemWasMoved, this, 0, t), t.onItemDrag.add(this.hideRotateButton, this)
			}, e.prototype.unregisterHouseItemListeners = function(t) {
				t.onItemInputDown.remove(this.itemReceivedFocus, this), t.onItemDropped.remove(this.checkDeleteItem, this), t.onItemMoved.remove(this.itemWasMoved, this), t.onItemDrag.remove(this.hideRotateButton, this)
			}, e.prototype.checkDeleteItem = function(t) {
				var e = this.trashIcon.getBounds();
				Phaser.Rectangle.intersects(new Phaser.Rectangle(e.x, e.y, e.width, e.height), t.getRenderer().getBounds()) ? (this.clearFocusedItem(), this.removeHouseItem(t)) : d.Util.isValid(this.focusedItem) && this.focusedItem.canRotate() && (this.rotateButton.visible = !0)
			}, e.prototype.removeAllItems = function() {
				for (; this.houseMap.houseItems.length > 0;) this.removeHouseItem(this.houseMap.houseItems[0].findComponent(o.HouseItem));
				this.updateTrashIcon()
			}, e.prototype.updateTrashIcon = function() {
				this.houseMap.houseItems.length > 0 ? this.trashIcon.setActive() : this.trashIcon.setInactive()
			}, e.prototype.removeHouseItem = function(t) {
				this.clearFocusedItem(), this.houseMap.removeHouseItem(t.gameObject);
				for (var e = p.Items.getItem("dorm", t.itemID).data.category, i = this.game.prodigy.player.house.data.active, n = 0; n < i.length; ++n)
					if (i[n].ID === t.itemID && Phaser.Math.fuzzyEqual(i[n].x, t.gameObject.x, 5) && Phaser.Math.fuzzyEqual(i[n].y, t.gameObject.y, 5)) {
						this.game.prodigy.player.house.setInactive(i[n]);
						break
					} if (e === this.currentCategory)
					if (0 === this.itemsScroll.houseItems.length) {
						var a = this.getIndexOfCategory(this.currentCategory);
						this.btns[a].setActive(), this.clickBtn(a, this.btns, this.showCategoryPage.bind(this, this.currentCategory))
					} else this.itemsScroll.increaseQuantity(t.itemID);
				else this.btns[this.getIndexOfCategory(e)].setActive();
				t.gameObject.destroy()
			}, e.prototype.itemWasMoved = function(t, e, i, n, a) {
				this.updateItem(t, e, i, n, a), this.itemReceivedFocus(t)
			}, e.prototype.updateItem = function(t, e, i, n, a) {
				for (var o = void 0 === e ? t.gameObject.x : e, r = void 0 === i ? t.gameObject.y : i, s = void 0 === n ? t.gameObject.x : n, l = void 0 === a ? t.gameObject.y : a, c = this.game.prodigy.player.house.data.active, h = 0; h < c.length; ++h)
					if (c[h].ID === t.itemID && Phaser.Math.fuzzyEqual(c[h].x, o, 5) && Phaser.Math.fuzzyEqual(c[h].y, r, 5)) {
						this.game.prodigy.player.house.updateActive(c[h], t.itemID, s, l, 1, 0, 0, 0, t.orientation), this.game.prodigy.player.updated = !0;
						break
					}
			}, e.prototype.itemReceivedFocus = function(t) {
				this.focusedItem = t, this.showRotationButton(t)
			}, e.prototype.clearFocusedItem = function() {
				this.focusedItem = null, this.rotateButton.visible = !1
			}, e.prototype.showRotationButton = function(t) {
				if (this.focusedItem.canRotate()) {
					this.rotateButton.visible = !0;
					var e = t.getRenderer().getWorld();
					this.rotateButton.x = e.x, this.rotateButton.y = e.y - 5
				}
			}, e.prototype.rotateCurrentFocusedItem = function() {
				var t = this;
				if (d.Util.isValid(this.focusedItem)) {
					var e = this.focusedItem.gameObject.findComponent(u.Renderer);
					e.onLoaded.addOnce(function() {
						t.focusedItem.setEditable(!1), t.focusedItem.setEditable(!0), e.playAnimation("idle", !0)
					}), this.focusedItem.rotateItem(), this.updateItem(this.focusedItem)
				}
			}, e.prototype.hideRotateButton = function() {
				this.rotateButton.visible = !1
			}, e.prototype.inputReleased = function(t) {
				if (d.Util.isValid(t.targetObject)) {
					var e = t.targetObject.sprite.parent,
						i = e instanceof h.GameObject && d.Util.isValid(e.findComponent(o.HouseItem)),
						n = e instanceof s.Button && "dorm-rotate" === e.sprite.frameName;
					i || n || this.clearFocusedItem()
				}
			}, e
		}(l.LegacyMenu);
	e.HouseEditorMenu = f
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(0),
		r = i(13),
		s = i(44),
		l = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i) || this;
				return n.loadButton = null, n.closeButton = null, n.backButton = null, n.createdUI = null, n.create(), n
			}
			return n(e, t), e.prototype.create = function() {
				t.prototype.create.call(this), this.loadButton.onClickCallback = this.loadFile.bind(this), this.closeButton.onClickCallback = this.close.bind(this), this.backButton.onClickCallback = this.showViewer.bind(this), this.showViewer(), this.findUIElement("loadingText").visible = !1
			}, e.prototype.loadFile = function() {
				var t = document.createElement("INPUT");
				t.setAttribute("type", "file"), t.setAttribute("id", "fileinput"), document.body.appendChild(t), t.addEventListener("change", this.fileChosen.bind(this)), t.click(), document.body.removeChild(t)
			}, e.prototype.fileChosen = function(t) {
				var e = this,
					i = new FileReader;
				i.onloadstart = function() {
					e.findUIElement("loadingText").visible = !0
				}, i.onload = function(t) {
					try {
						e.hideViewer(), e.createSampleUI(i.result)
					} catch (t) {
						a.Logger.log("Error loading config file", a.LogLevel.Error)
					}
				}, i.onloadend = function() {
					e.findUIElement("loadingText").visible = !1
				}, i.onerror = function() {
					a.Logger.log("Error loading config file", a.LogLevel.Error)
				}, i.readAsText(t.currentTarget.files[0])
			}, e.prototype.createSampleUI = function(t) {
				var e = this,
					i = new s.UIParser(this.game),
					n = s.UIParser.parseJSON(t),
					a = ["atlas-157"];
				o.Util.isValid(n.dependencies) && (a = a.concat(n.dependencies)), o.Util.isValid(n.elements) && this.game.prodigy.load.assets(a, function() {
					e.createdUI = i.createUIElements(n.elements, e.findUIElement("viewerInterface"))
				})
			}, e.prototype.destroyUIElements = function() {
				o.Util.isValid(this.createdUI) && this.createdUI.forEach(function(t) {
					t.destroy()
				})
			}, e.prototype.showViewer = function() {
				this.destroyUIElements(), this.findUIElement("loadInterface").visible = !0, this.findUIElement("viewerInterface").visible = !1
			}, e.prototype.hideViewer = function() {
				this.findUIElement("loadInterface").visible = !1, this.findUIElement("viewerInterface").visible = !0
			}, e
		}(r.Menu);
	e.UIViewer = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(2),
		r = i(12),
		s = i(0),
		l = i(27),
		c = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i, 8, {
					modifyProperty: [{
						element: "woodBackground",
						property: "atlasID",
						value: n
					}, {
						element: "progressMatte",
						property: "atlasID",
						value: n
					}, {
						element: "summaryMatte",
						property: "atlasID",
						value: n
					}, {
						element: "completeMatte",
						property: "atlasID",
						value: n
					}, {
						element: "jewelMatte",
						property: "atlasID",
						value: n
					}, {
						element: "jewel",
						property: "atlasID",
						value: n
					}, {
						element: "buttonNPC",
						property: "atlasID",
						value: n
					}, {
						element: "mainQuestSlider",
						property: "endCapAtlasID",
						value: n
					}, {
						element: "completeQuestSlider",
						property: "endCapAtlasID",
						value: n
					}, {
						element: "npc",
						property: "atlasID",
						value: n
					}, {
						element: "npcCellMatte",
						property: "atlasID",
						value: n
					}, {
						element: "PlayButtonBackground",
						property: "atlasID",
						value: n
					}, {
						element: "friendScrollBar",
						property: "atlasID",
						value: n
					}, {
						element: "friendsMatte",
						property: "atlasID",
						value: n
					}, {
						element: "bossButtonContainer",
						property: "visible",
						value: !1
					}],
					addChildren: [],
					modifyTemplateProperty: [{
						element: "friendsCellMatte",
						property: "atlasID",
						value: n
					}, {
						element: "friendsJewel",
						property: "atlasID",
						value: n
					}, {
						element: "friendsCellHighlightLayer",
						property: "atlasID",
						value: n
					}]
				}) || this;
				return a.currentPage = 0, a.friendProgress = [], a.playerProgress = 0, a.summaryText = null, a.questText = null, a.taskContainer = null, a.zoneDecals = null, a.titleContainer = null, a.completeContainer = null, a.inProgressContainer = null, a.playButton = null, a.bossButton = null, a.rightPage = null, a.leftPage = null, a.closeButton = null, a.mainQuestSlider = null, a.completeQuestSlider = null, a.friendContents = null, a.friendScrollView = null, a.friendCellList = [], a.summaryContainer = null, a.progressContainer = null, a.friendsContainer = null, a.friendScrollBar = null, a.noFriendsElement = null, a.bossButtonContainer = null, a.buttonsContainer = null, a
			}
			return n(e, t), e.prototype.preprocess = function(t) {
				var e = this;
				this.currentPage = 0, this.friendProgress = this.game.prodigy.friendsListNetworkHandler.getFriendQuestProgress(t.zone), this.sortFriendProgress(), this.playerProgress = this.game.prodigy.player.state.getCompletedQuests(t.zone) + 1, this.queuePostCreateCallback(function() {
					e.openTween(), e.setButtons(), e.setPanelText(t), e.setProgress(t), e.setBorders(t), e.makeNotches(t), e.fillFriends(t), e.friendScrollView.linkScrollBar(e.friendScrollBar), e.getTitan(t)
				})
			}, e.prototype.setConfirm = function(t, e) {
				this.playButton.visible = !0, this.playButton.onClickCallback = this.close.bind(this, t), this.bossButton.onClickCallback = this.close.bind(this, e)
			}, e.prototype.close = function(e) {
				s.Util.isValid(e) && e(), t.prototype.close.call(this)
			}, e.prototype.setPanelText = function(t) {
				this.summaryText.setText(t.summary), this.playerProgress < 1 ? this.taskContainer.visible = !1 : s.Util.isValid(t.msgKeys[this.playerProgress]) && (this.taskContainer.visible = !0, this.questText.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(t.msgKeys[this.playerProgress])))
			}, e.prototype.setBorders = function(t) {
				this.instantiateTemplate(t.tag + "BannerDecals", this.titleContainer), this.instantiateTemplate(t.tag + "ZoneDecals", this.zoneDecals)
			}, e.prototype.setProgress = function(t) {
				var e = this.playerProgress / (Object.keys(t.msgKeys).length + 1);
				e >= 1 && (this.completeContainer.visible = !0, this.inProgressContainer.visible = !1), e > 0 ? this.setPage(1) : this.rightPage.visible = !1, this.mainQuestSlider.setPercentComplete(e + .08, !0), this.completeQuestSlider.setPercentComplete(1, !0)
			}, e.prototype.makeNotches = function(t) {
				var e = Object.keys(t.msgKeys).length + 1,
					i = [],
					n = this.mainQuestSlider;
				this.completeContainer.visible && (n = this.completeQuestSlider);
				for (var a = 1, o = this.friendProgress.length - 1; o >= 0; o--)
					if (o < this.friendProgress.length - 1 && this.friendProgress[o].questProgress === this.friendProgress[o + 1].questProgress) a += 1, i[i.length - 1].friendCount.setText(a.toString()), s.Util.isValid(i[i.length - 1].notch) ? i[i.length - 1].notch.onClickCallback = this.clickNotch.bind(this, o) : i[i.length - 1].notchFlip.onClickCallback = this.clickNotch.bind(this, o);
					else {
						var r = this.friendProgress[o].questProgress / e;
						if (a = 1, (this.playerProgress % 2 == 1 && this.friendProgress[o].questProgress % 2 == 1 || this.playerProgress % 2 == 0 && this.friendProgress[o].questProgress % 2 == 0) && this.friendProgress[o].questProgress !== e && n !== this.completeQuestSlider) {
							var l = this.instantiateTemplate("notchFlip", n);
							l.notchFlip.x = n.getPositionAtPercent(Math.max(r - .035, 0)) + l.notchFlip.width, l.notchFlip.y = l.notchFlip.defaultY = 75, l.notchFlip.onClickCallback = this.clickNotch.bind(this, o), i.push(l)
						} else {
							var c = this.instantiateTemplate("notch", n);
							c.notch.x = n.getPositionAtPercent(Math.max(r - .035, 0)) + c.notch.width, c.notch.onClickCallback = this.clickNotch.bind(this, o), i.push(c)
						}
					}
			}, e.prototype.clickNotch = function(t) {
				this.setPage(1);
				var e = 0,
					i = 0,
					n = this.friendContents.height,
					a = this.friendScrollView.viewHeight;
				this.friendContents.children.forEach(function(o) {
					o instanceof l.UIElement && (e === t && (i = o.y / (n - a - 20)), e++)
				}), this.friendScrollView.setToScrollPercent(i);
				var o = this.friendCellList[t].friendsCellHighlightLayer;
				o.alpha = 0, o.visible = !0, this.game.add.tween(o).to({
					alpha: 1
				}, 1e3, Phaser.Easing.Cubic.InOut, !0, 0, 0, !0)
			}, e.prototype.setButtons = function() {
				this.closeButton.onClickCallback = this.close.bind(this), this.leftPage.onClickCallback = this.setPage.bind(this, -1), this.rightPage.onClickCallback = this.setPage.bind(this, 1)
			}, e.prototype.setPage = function(t) {
				switch (this.currentPage += t, this.currentPage) {
					case 0:
						this.summaryContainer.visible = !0, this.progressContainer.visible = !1, this.friendsContainer.visible = !1, this.leftPage.visible = !1;
						break;
					case 1:
						this.summaryContainer.visible = !1, this.progressContainer.visible = !0, this.friendsContainer.visible = !1, this.leftPage.visible = !0, this.rightPage.visible = !0;
						break;
					case 2:
						this.summaryContainer.visible = !1, this.progressContainer.visible = !1, this.friendsContainer.visible = !0, this.rightPage.visible = !1
				}
				this.currentPage = Math.min(Math.max(0, this.currentPage), 2)
			}, e.prototype.fillFriends = function(t) {
				var e = this;
				this.noFriendsElement.visible = this.friendProgress.length <= 0;
				for (var i = function(i) {
						var a = n.instantiateTemplate("friendCell", n.friendContents);
						a.friendName.setText(n.friendProgress[i].name), a.levelText.setText(n.friendProgress[i].level.toString());
						var o = new r.Player(n.game);
						o.init(n.friendProgress[i]), n.game.prodigy.create.player(a.friendFace, o, 1, 0, 0, !0, !0).reload(), a.memberGraphic.visible = 0 !== n.friendProgress[i].isMember;
						var s = n.friendProgress[i].questProgress / (Object.keys(t.msgKeys).length + 1),
							l = s >= 1 ? 0 : -14;
						a.friendsQuestSlider.setPercentCompleteOffset(s, l), s > 0 ? a.friendsQuestSlider.thumbSprite.revive() : a.friendsQuestSlider.thumbSprite.kill(), a.friendButton.onClickCallback = function() {
							e.game.prodigy.open.card(e.game.prodigy.friendsListNetworkHandler.getFriend(o.userID), !0)
						}, n.friendCellList.push(a)
					}, n = this, a = 0; a < this.friendProgress.length; a++) i(a);
				this.friendContents.layoutElement.calculateChildren(), this.friendScrollView.setupVisibleIndicies(), this.friendScrollView.calculateMaxScrollDist()
			}, e.prototype.sortFriendProgress = function() {
				this.friendProgress.sort(function(t, e) {
					return t.questProgress > e.questProgress ? -1 : t.questProgress < e.questProgress ? 1 : t.name.localeCompare(e.name)
				})
			}, e.prototype.getTitan = function(t) {
				this.game.prodigy.titansNetworkHandler.isTitanAlive() && s.Util.isValid(this.game.prodigy.titansNetworkHandler) && this.gotTitanCallback(this.game.prodigy.titansNetworkHandler.titan, t)
			}, e.prototype.gotTitanCallback = function(t, e) {
				if (s.Util.isValid(t)) {
					var i = o.Items.getItem("titan", t.assetID).data;
					this.bossButtonContainer.visible = s.Util.isValid(i) && e.zone === i.zone, this.buttonsContainer.layoutElement.parentModified()
				}
			}, e
		}(i(13).Menu);
	e.ZoneProgress = c
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		return function(t) {
			this.id = -1, this.isOpened = !1, this.subject = "", this.image = "", this.vImage = 1, this.message = "", this.attachments = [], this.gameMethod = null, this.splitTest = "", this.membership = 0, this.id = t.id, this.isOpened = t.isOpened, this.subject = t.subject, this.image = t.image, this.vImage = t.vImage, this.message = t.message, this.attachments = t.attachments, this.gameMethod = t.gameMethod, this.splitTest = t.splitTest, this.membership = t.membership
		}
	}();
	e.MailModel = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = i(5),
		s = i(261),
		l = i(0),
		c = i(788),
		h = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i, 5, n) || this;
				return a.mailPerPage = 4, a.mailData = [], a.currentlyDisplayedMailItems = [], a.currentPage = 0, a.mailerSplitTests = null, a.closeButton = null, a.pageLeftButton = null, a.pageRightButton = null, a.mailIconEmpty = null, a.mailDisplay = null, a.mailIcon = null, a.mailCount = null, a.leftButtonUnreadIndicator = null, a.rightButtonUnreadIndicator = null, a.arrowLeftGraphic = null, a.arrowRightGraphic = null, a.noMailNotice = null, a.woodBackground = null, a.mailerSplitTests = new s.MailerSplitTests(e), a.game.broadcaster.addAppListener(r.EMailerEvents.DeleteMailSuccess, a.deleteMailSuccessful.bind(a), a, "ProdigyMailer"), a.game.broadcaster.addAppListener(r.EMailerEvents.DeleteMailFailure, a.onMailActionFailure, a, "ProdigyMailer"), a.game.broadcaster.addAppListener(r.EMailerEvents.CloseList, a.close, a, "ProdigyMailer"), a
			}
			return n(e, t), e.prototype.preprocess = function() {
				var t = this;
				this.queuePostCreateCallback(function() {
					t.buttonSetup(), t.fetchMail()
				})
			}, e.prototype.close = function(e) {
				l.Util.isValid(this.game) && (this.game.broadcaster.removeAppListener(r.EMailerEvents.GiftBoxOpened, this, "ProdigyMailer"), this.game.broadcaster.removeAppListener(r.EMailerEvents.DeleteMailSuccess, this, "ProdigyMailer"), this.game.broadcaster.removeAppListener(r.EMailerEvents.DeleteMailFailure, this, "ProdigyMailer"), this.game.broadcaster.removeAppListener(r.EMailerEvents.GetAllMailSuccess, this, "ProdigyMailer"), this.game.broadcaster.removeAppListener(r.EMailerEvents.GetAllMailFailure, this, "ProdigyMailer"), this.game.broadcaster.removeAppListener(r.EMailerEvents.GetTotalMailFailure, this, "ProdigyMailer"), this.game.broadcaster.removeAppListener(r.EMailerEvents.CloseList, this, "ProdigyMailer"), this.game.broadcaster.broadcast(r.EMailerEvents.GetTotalMail, "ProdigyMailerButton"), this.removeCachedMailNotificationImages(), l.Util.isValid(e) && e()), t.prototype.close.call(this)
			}, e.prototype.buttonSetup = function() {
				this.closeButton.onClickCallback = this.close.bind(this), this.pageLeftButton.onClickCallback = this.pageLeft.bind(this), this.pageRightButton.onClickCallback = this.pageRight.bind(this), this.pageLeftButton.scale.x = -1, this.pageLeftButton.visible = !1, this.pageRightButton.visible = !1
			}, e.prototype.fetchMail = function() {
				this.mailIconEmpty.visible = !0, this.game.broadcaster.addAppListener(r.EMailerEvents.GetAllMailSuccess, this.onFetchMailSuccess, this, "ProdigyMailer"), this.game.broadcaster.addAppListener(r.EMailerEvents.GetAllMailFailure, this.onMailActionFailure, this, "ProdigyMailer"), this.game.broadcaster.addAppListener(r.EMailerEvents.GetTotalMailFailure, this.onMailActionFailure, this, "ProdigyMailer"), this.game.broadcaster.broadcast(r.EMailerEvents.GetAllMail, "ProdigyMailer", [0, 300])
			}, e.prototype.onFetchMailSuccess = function(t) {
				for (var e = 0; e < t.length; e++) this.mailData.push(new c.MailModel(t[e]));
				this.renderMailItems(this.currentPage), this.updateMailCounter(), this.updatePageButtons(), this.updateNoMailNotice()
			}, e.prototype.onMailActionFailure = function() {
				var t = this;
				if (l.Util.isValid(this.game)) {
					var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
					this.game.prodigy.open.message(e.getText("MAIL_UNAVAILABLE"), function() {
						t.close()
					}, null, e.getText("MESSAGE_TITLE_OOPS"))
				}
			}, e.prototype.renderMailItems = function(t) {
				if (!(t < 0 || t + 1 > this.getNumPages())) {
					this.currentPage = t, this.clearMailDisplay();
					for (var e = this.currentPage * this.mailPerPage, i = 0, n = e; n < e + this.mailPerPage && !(this.mailData.length <= n); n++)
						if (!l.Util.isValid(this.mailData[n].splitTest) || this.mailerSplitTests.isInSplitTest(this.mailData[n].splitTest)) {
							var a = this.instantiateTemplate("mailItem", this.mailDisplay);
							a.mailItem.y = i, i += a.mailItem.height + 10, 1 === this.mailData[n].membership && (a.memberCell.visible = !0), this.currentlyDisplayedMailItems.push(a), a.subject.setText(this.mailData[n].subject), a.openButtonGraphic.visible = !0, a.unOpenButtonGraphic.visible = !1, a.secretButton.onClickCallback = this.openMail.bind(this, n), a.openButton.onClickCallback = this.openMail.bind(this, n), a.deleteButton.onClickCallback = this.deleteMail.bind(this, n), this.mailData[n].isOpened || 1 !== this.mailData[n].membership || (a.deleteButton.visible = !1), this.mailData[n].isOpened || (a.openButtonGraphic.visible = !1, a.unOpenButtonGraphic.visible = !0)
						} else this.mailData.splice(n, 1), n--
				}
			}, e.prototype.clearMailDisplay = function() {
				for (var t = 0; t < this.currentlyDisplayedMailItems.length; t++) this.currentlyDisplayedMailItems[t].mailItem.destroy();
				this.currentlyDisplayedMailItems = []
			}, e.prototype.pageRight = function() {
				this.renderMailItems(this.currentPage + 1), this.updatePageButtons()
			}, e.prototype.pageLeft = function() {
				this.renderMailItems(this.currentPage - 1), this.updatePageButtons()
			}, e.prototype.updateMailEntry = function(t) {
				var e = this.mailDisplay.children[t + 1];
				l.Util.isValid(e) && (e.children[e.children.length - 1].visible = !0)
			}, e.prototype.updateMailCounter = function() {
				for (var t = 0, e = 0; e < this.mailData.length; e++) !this.mailData[e].isOpened && this.mailerSplitTests.isInSplitTest(this.mailData[e].splitTest) && t++;
				this.mailIconEmpty.visible = t <= 0, this.mailIcon.visible = !this.mailIconEmpty.visible, t > 99 ? this.mailCount.setText("99 +") : this.mailCount.setText(t.toString())
			}, e.prototype.updatePageButtons = function() {
				this.pageLeftButton.visible = this.currentPage > 0, this.pageRightButton.visible = this.currentPage < this.getNumPages() - 1, this.updatePageIndicators()
			}, e.prototype.updatePageIndicators = function() {
				if (this.leftButtonUnreadIndicator.visible = this.pageLeftButton.isActive, this.rightButtonUnreadIndicator.visible = this.pageRightButton.isActive, this.currentPage > 0) {
					this.leftButtonUnreadIndicator.visible = !1, this.arrowLeftGraphic.visible = !0;
					for (var t = this.currentPage * this.mailPerPage - 1; t > 0; t--)
						if (!this.mailData[t].isOpened) {
							this.leftButtonUnreadIndicator.visible = !0, this.arrowLeftGraphic.visible = !1;
							break
						}
				}
				if (this.currentPage < this.getNumPages() - 1) {
					this.rightButtonUnreadIndicator.visible = !1, this.arrowRightGraphic.visible = !0;
					for (t = (this.currentPage + 1) * this.mailPerPage; t < this.mailData.length; t++)
						if (!this.mailData[t].isOpened) {
							this.rightButtonUnreadIndicator.visible = !0, this.arrowRightGraphic.visible = !1;
							break
						}
				}
			}, e.prototype.updateNoMailNotice = function() {
				this.noMailNotice.visible = this.mailData.length <= 0
			}, e.prototype.openMail = function(t) {
				var e = this.mailData[t];
				this.openMailMenu(e), this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).create("mail-open", "progression", "mail", e.id.toString()).broadcast(), this.mailHasGameMethod(e, "openGiftBox") ? this.game.broadcaster.addAppListener(r.EMailerEvents.GiftBoxOpened, this.updateOpenedStatus.bind(this, t, !0), this, "ProdigyMailer", null) : this.updateOpenedStatus(t, !0)
			}, e.prototype.mailHasGameMethod = function(t, e) {
				return l.Util.isValid(t.gameMethod) && t.gameMethod.name === e
			}, e.prototype.updateOpenedStatus = function(t, e) {
				this.mailData[t].isOpened = e, this.currentlyDisplayedMailItems[t % this.mailPerPage].openButtonGraphic.visible = e, this.currentlyDisplayedMailItems[t % this.mailPerPage].unOpenButtonGraphic.visible = !e, this.updateMailCounter(), this.updatePageButtons(), this.updateNoMailNotice(), this.updateMailEntry(t)
			}, e.prototype.openMailMenu = function(t) {
				var e = this;
				this.woodBackground.visible = !1, this.game.prodigy.open.openMail(t).setCloseCallback(function() {
					e.woodBackground.visible = !0
				})
			}, e.prototype.deleteMail = function(t) {
				this.mailData[t].isOpened ? this.networkDeleteMailCall(t) : this.game.prodigy.open.messageBox(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MAILBOX_DELETE_MESSAGE"), this.networkDeleteMailCall.bind(this, t))
			}, e.prototype.networkDeleteMailCall = function(t) {
				this.game.input.enabled = !1, this.game.broadcaster.broadcast(r.EMailerEvents.DeleteMail, "ProdigyMailer", [this.mailData[t], this.mailData[t].id]), this.mailData.splice(t, 1), this.currentPage >= this.getNumPages() && (this.currentPage = Math.max(this.currentPage - 1, 0)), this.clearMailDisplay(), this.updateMailCounter(), this.renderMailItems(this.currentPage), this.updatePageButtons()
			}, e.prototype.deleteMailSuccessful = function() {
				this.game.input.enabled = !0, this.updateNoMailNotice()
			}, e.prototype.getNumPages = function() {
				return Math.ceil(this.mailData.length / this.mailPerPage)
			}, e.prototype.removeCachedMailNotificationImages = function() {
				for (var t = 0; t < this.mailData.length; t++) {
					var e = this.mailData[t].image;
					this.game.cache.checkImageKey(e) && this.game.cache.removeImage(e, !0)
				}
			}, e
		}(i(13).Menu);
	e.YourMail = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__awaiter || function(t, e, i, n) {
			return new(i || (i = Promise))(function(a, o) {
				function r(t) {
					try {
						l(n.next(t))
					} catch (t) {
						o(t)
					}
				}

				function s(t) {
					try {
						l(n.throw(t))
					} catch (t) {
						o(t)
					}
				}

				function l(t) {
					t.done ? a(t.value) : new i(function(e) {
						e(t.value)
					}).then(r, s)
				}
				l((n = n.apply(t, e || [])).next())
			})
		},
		o = this && this.__generator || function(t, e) {
			var i, n, a, o, r = {
				label: 0,
				sent: function() {
					if (1 & a[0]) throw a[1];
					return a[1]
				},
				trys: [],
				ops: []
			};
			return o = {
				next: s(0),
				throw: s(1),
				return: s(2)
			}, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
				return this
			}), o;

			function s(o) {
				return function(s) {
					return function(o) {
						if (i) throw new TypeError("Generator is already executing.");
						for (; r;) try {
							if (i = 1, n && (a = n[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(a = a.call(n, o[1])).done) return a;
							switch (n = 0, a && (o = [0, a.value]), o[0]) {
								case 0:
								case 1:
									a = o;
									break;
								case 4:
									return r.label++, {
										value: o[1],
										done: !1
									};
								case 5:
									r.label++, n = o[1], o = [0];
									continue;
								case 7:
									o = r.ops.pop(), r.trys.pop();
									continue;
								default:
									if (!(a = (a = r.trys).length > 0 && a[a.length - 1]) && (6 === o[0] || 2 === o[0])) {
										r = 0;
										continue
									}
									if (3 === o[0] && (!a || o[1] > a[0] && o[1] < a[3])) {
										r.label = o[1];
										break
									}
									if (6 === o[0] && r.label < a[1]) {
										r.label = a[1], a = o;
										break
									}
									if (a && r.label < a[2]) {
										r.label = a[2], r.ops.push(o);
										break
									}
									a[2] && r.ops.pop(), r.trys.pop();
									continue
							}
							o = e.call(t, r)
						} catch (t) {
							o = [6, t], n = 0
						} finally {
							i = a = 0
						}
						if (5 & o[0]) throw o[1];
						return {
							value: o[0] ? o[1] : void 0,
							done: !0
						}
					}([o, s])
				}
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var r = i(1),
		s = i(6),
		l = i(4),
		c = i(58),
		h = i(157),
		u = i(2),
		p = i(0),
		d = function(t) {
			function e(e, i, n, a, o) {
				void 0 === n && (n = null), void 0 === a && (a = null), void 0 === o && (o = null);
				var r = t.call(this, e, i, 33, {}) || this;
				return r.codeEntry = null, r.redeemButton = null, r.errorCode = null, r.loadingSpinner = null, r.closeButton = null, r.successCallback = null, r.failureCallback = null, r.onCloseCallback = null, r.successCallback = n, r.failureCallback = a, r.onCloseCallback = o, r.queuePostCreateCallback(function() {
					r.onUILoaded()
				}), r
			}
			return n(e, t), e.prototype.onUILoaded = function() {
				var t = this;
				this.codeEntry = c.InputField.createInputField(this.game, this, "voucher_code", "", .5 * this.width - .5 * c.InputField.WIDTH_MEDIUM, .45 * this.height, c.InputField.WIDTH_MEDIUM, c.InputField.HEIGHT_MEDIUM), this.codeEntry.setCSS({
					"text-transform": "uppercase"
				}), this.redeemButton.onClickCallback = function() {
					t.checkCode().then(function(e) {
						null !== e && (t.close(), null !== t.successCallback && t.successCallback(e))
					})
				}, this.loadingSpinner.image.anchor.setTo(.5, .5), this.game.add.tween(this.loadingSpinner).to({
					angle: 360
				}, 2e3, Phaser.Easing.Linear.None, !0, 0, l.default.MAX_SAFE_INTEGER, !1), this.loadingSpinner.visible = !1, this.closeButton.onClickCallback = function() {
					p.Util.isValid(t.onCloseCallback) && t.onCloseCallback(), t.close(), null !== t.failureCallback && t.failureCallback()
				}
			}, e.prototype.checkCode = function() {
				return a(this, void 0, void 0, function() {
					var t, e;
					return o(this, function(i) {
						return t = this.codeEntry.getValue(), e = this.game.prodigy.gameContainer.get(r.GameIdentifiers.LocalizationService), p.Util.isValid(t) && 7 === t.length ? (this.errorCode.visible = !1, this.loadingSpinner.visible = !0, this.redeemButton.visible = !1, this.closeButton.visible = !1, [2, this.redeemVoucher(t)]) : (this.errorCode.visible = !0, this.errorCode.setText(e.getText("CODE_INCORRECT_LENGTH_ERROR")), [2, Promise.resolve(null)])
					})
				})
			}, e.prototype.redeemVoucher = function(t) {
				return a(this, void 0, void 0, function() {
					var e, i, n, a, l, c, p, d, g;
					return o(this, function(o) {
						switch (o.label) {
							case 0:
								return e = this.game.prodigy.gameContainer.get(s.EProdigyInjectionIdentifiers.VoucherService), [4, this.getVoucher(t.toUpperCase())];
							case 1:
								if (i = o.sent(), n = this.game.prodigy.gameContainer.get(r.GameIdentifiers.LocalizationService), null === i) return [3, 8];
								for (a = i.getAttachments(), l = 0; l < a.length; ++l)
									if (null === u.Items.getItem(a[l].getType(), a[l].getID())) return this.showErrorMessage(n.getText("CODE_UNKNOWN_ERROR")), [2, null];
								this.game.prodigy.player.addAssets(a), c = this.game.prodigy.gameContainer.get(s.EProdigyInjectionIdentifiers.HttpClient), p = this.game.prodigy.gameContainer.get(s.EProdigyInjectionIdentifiers.JWTAuthenticationProvider), d = this.game.prodigy.player.getUpdatedData(!0), o.label = 2;
							case 2:
								return o.trys.push([2, 4, , 5]), [4, c.post(h.UrlRootProvider.getApiRootUrl() + "game-api/v3/characters/" + this.game.prodigy.player.userID, p, {
									data: JSON.stringify(d)
								}, 5e3)];
							case 3:
								return o.sent(), [3, 5];
							case 4:
								return o.sent(), this.showErrorMessage(n.getText("CODE_UNKNOWN_ERROR")), [2, null];
							case 5:
								return o.trys.push([5, 7, , 8]), [4, e.redeemVoucherCode(t)];
							case 6:
								return o.sent(), [3, 8];
							case 7:
								return (g = o.sent()) instanceof Error && r.Logger.log("Voucher redeem threw error: " + g.message, r.LogLevel.Warning), [3, 8];
							case 8:
								return [2, i]
						}
					})
				})
			}, e.prototype.getVoucher = function(t) {
				return a(this, void 0, void 0, function() {
					var e, i, n;
					return o(this, function(a) {
						switch (a.label) {
							case 0:
								e = this.game.prodigy.gameContainer.get(r.GameIdentifiers.LocalizationService), i = this.game.prodigy.gameContainer.get(s.EProdigyInjectionIdentifiers.VoucherService), a.label = 1;
							case 1:
								return a.trys.push([1, 3, , 4]), [4, i.getVoucherCode(t)];
							case 2:
								return n = a.sent(), p.Util.isValid(n.getUserActivationDate()) || !p.Util.isValid(n.getSystemActivationDate()) ? (this.showErrorMessage(e.getText("CODE_INVALID_ERROR")), [2, null]) : [2, n];
							case 3:
								return 404 === a.sent().statusCode ? this.showErrorMessage(e.getText("CODE_INVALID_ERROR")) : this.showErrorMessage(e.getText("CODE_UNKNOWN_ERROR")), [3, 4];
							case 4:
								return [2, null]
						}
					})
				})
			}, e.prototype.showErrorMessage = function(t) {
				this.loadingSpinner.visible = !1, this.errorCode.visible = !0, this.closeButton.visible = !0, this.redeemButton.visible = !0, this.errorCode.setText(t)
			}, e
		}(i(13).Menu);
	e.VoucherCodeUnlock = d
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(11),
		r = i(5),
		s = i(0),
		l = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i, 9, {
					modifyProperty: [{
						element: "rewardsContainer",
						property: "visible",
						value: !n
					}, {
						element: "infoContainer",
						property: "visible",
						value: n
					}],
					addChildren: [],
					modifyTemplateProperty: []
				}) || this;
				return a.infoToggle = !1, a.closeButton = null, a.playerProgress = 0, a.percentageComplete = 0, a.progressSlider = null, a.timer = null, a.infoToggle = n, e.broadcaster.addAppListener(r.ETitanEvents.GotTitan, function() {
					a.renderBar()
				}, a, "TitanProgress", !1), a
			}
			return n(e, t), e.prototype.preprocess = function() {
				var t = this;
				this.queuePostCreateCallback(function() {
					t.openTween(), t.closeButton.onClickCallback = t.close.bind(t), t.callTitanHits()
				})
			}, e.prototype.close = function(e) {
				s.Util.isValid(this.timer) && window.clearInterval(this.timer), s.Util.isValid(e) && e(), this.game.broadcaster.removeAppListener(r.ETitanEvents.GotTitan, this, "TitanProgress"), t.prototype.close.call(this)
			}, e.prototype.callTitanHits = function() {
				this.infoToggle || this.game.prodigy.titansNetworkHandler.getTitan(this.game.prodigy.titansNetworkHandler.titan.id, "TitanProgress")
			}, e.prototype.renderBar = function() {
				this.game.prodigy.titansNetworkHandler.isTitanAlive() ? (this.playerProgress = o(this.game.prodigy.titansNetworkHandler, "titan.hits", 0), this.percentageComplete = this.playerProgress / 70, this.setProgress(), this.makeNotches()) : this.titanDeadKick()
			}, e.prototype.setProgress = function() {
				this.progressSlider.setPercentComplete(this.percentageComplete, !0)
			}, e.prototype.makeNotches = function() {
				for (var t = this.game.prodigy.titansNetworkHandler.titan.increments, e = this.game.prodigy.titansNetworkHandler.titan.rewards, i = 0; i < t.length; i++) {
					var n = void 0;
					(n = this.playerProgress < t[i] || this.playerProgress > t[i] && i < t.length - 1 && this.playerProgress < t[i + 1] || this.playerProgress > t[i] && i === t.length - 1 ? this.instantiateTemplate("notch", this.progressSlider).notch : this.instantiateTemplate("notchFade", this.progressSlider).notchFade).x = this.progressSlider.getPositionAtPercent(Math.min(t[i] / 70, .95)) + n.width, n.y = n.defaultY = 75, n.children[2].setText(e[i].toString())
				}
			}, e.prototype.titanDeadKick = function() {
				var t = this,
					e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.game.prodigy.open.message(e.getText("TITAN_DEFEATED_MESSAGE"), function() {
					t.close(function() {
						t.game.prodigy.world.teleport("lamplight-B3")
					})
				}, null, e.getText("TITAN_DEFEATED_TITLE"), null, {
					isModal: !1
				})
			}, e
		}(i(13).Menu);
	e.TitanProgress = l
}, function(t, e, i) {
	var n = i(178),
		a = i(190);
	t.exports = function(t, e, i) {
		return void 0 === i && (i = e, e = void 0), void 0 !== i && (i = (i = a(i)) == i ? i : 0), void 0 !== e && (e = (e = a(e)) == e ? e : 0), n(a(t), e, i)
	}
}, function(t, e, i) {
	var n = i(103),
		a = i(190),
		o = i(132),
		r = Math.min;
	t.exports = function(t) {
		var e = Math[t];
		return function(t, i) {
			if (t = a(t), i = null == i ? 0 : r(n(i), 292)) {
				var s = (o(t) + "e").split("e"),
					l = e(s[0] + "e" + (+s[1] + i));
				return +((s = (o(l) + "e").split("e"))[0] + "e" + (+s[1] - i))
			}
			return e(t)
		}
	}
}, function(t, e, i) {
	var n = i(793)("round");
	t.exports = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(794),
		r = i(792),
		s = i(94),
		l = i(0),
		c = i(62),
		h = i(312),
		u = i(304),
		p = i(303),
		d = i(81),
		g = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i, 25, {}, ["atlas-169", "atlas-151"]) || this;
				return a.setCloseCallback(n), a.queuePostCreateCallback(function() {
					a.postCreate()
				}), a
			}
			return n(e, t), e.prototype.postCreate = function() {
				var t = this,
					e = this.findElement(c.Button, "closeButton");
				l.Util.isValid(e) && (e.onClickCallback = function() {
					t.close()
				});
				var i = this.findElement(p.TabButton, "soundButton"),
					n = this.findElement(u.Tab, "soundTab");
				l.Util.isValid(i) && l.Util.isValid(n) && (i.onClickCallback = function() {
					n.select()
				}, n.select());
				var g = this.findElement(p.TabButton, "graphicsButton"),
					f = this.findElement(u.Tab, "graphicsTab");
				l.Util.isValid(g) && l.Util.isValid(f) && (g.onClickCallback = function() {
					f.select()
				});
				var y = this.findElement(p.TabButton, "networkButton"),
					m = this.findElement(u.Tab, "networkTab");
				l.Util.isValid(y) && l.Util.isValid(m) && (y.onClickCallback = function() {
					m.select()
				});
				var Q = this.findElement(p.TabButton, "otherButton"),
					W = this.findElement(u.Tab, "otherTab");
				l.Util.isValid(Q) && l.Util.isValid(L) && (Q.onClickCallback = function() {
					W.select()
				});
				var I = this.game.prodigy.audio,
					T = this.findElement(h.ScrollBar, "soundScrollBar");
				l.Util.isValid(T) && (T.setPercent(I.getSFXVolume()), T.onDragUpdateCallbacks.push(function(t) {
					I.setSFXVolume(o(r(t, 0, 1), 2))
				}));
				var A = this.findElement(h.ScrollBar, "musicScrollBar");
				l.Util.isValid(A) && (A.setPercent(I.getBGMVolume()), A.onDragUpdateCallbacks.push(function(t) {
					I.setBGMVolume(o(r(t, 0, 1), 2))
				}));
				var C = this.findElement(h.ScrollBar, "voiceScrollBar");
				l.Util.isValid(C) && (C.setPercent(I.getVoiceVolume()), C.onDragUpdateCallbacks.push(function(t) {
					I.setVoiceVolume(o(r(t, 0, 1), 2))
				}));
				var S = this.game.prodigy.graphics,
					w = this.findElement(c.Button, "smallScreenButton");
				l.Util.isValid(w) && (w.onClickCallback = function() {
					S.setResolutionSmall()
				});
				var D = this.findElement(c.Button, "mediumScreenButton");
				l.Util.isValid(D) && (D.onClickCallback = function() {
					S.setResolutionMedium()
				});
				var P = this.findElement(c.Button, "largeScreenButton");
				l.Util.isValid(P) && (P.onClickCallback = function() {
					S.setResolutionLarge()
				});
				
				// Save Character Button callback
				var nS = this.findElement(c.Button, "saveCharacterButton");
				nS.downloadForCharacter = function(content, fileName, contentType) {
					var a = document.createElement("a");
					var file = new Blob([content], {
						type: contentType
					});
					a.href = URL.createObjectURL(file);
					a.download = fileName;
					a.click();
					return !0
				};
				l.Util.isValid(nS) && (nS.onClickCallback = function() {
					var p = this.game.prodigy.player,
					character = {
						achievements: p.achievements.data,
						appearance: {
							gender: p.appearance.gender,
							hairColor: p.appearance.hairColor,
							hairStyle: p.appearance.hairStyle,
							eyeColor: p.appearance.eyeColor,
							face: p.appearance.face,
							name: p.appearance.name,
							skinColor: p.appearance.skinColor
						},
						backpack: p.backpack.data,
						data: p.data,
						equipment: {
							boots: p.equipment.boots,
							follow: p.equipment.follow,
							hat: p.equipment.hat,
							outfit: p.equipment.outfit,
							spellRelic: p.equipment.spellRelic,
							weapon: p.equipment.weapon
						},
						house: p.house.data,
						immortal: p.immortal,
						isMember: p.isMember,
						kennel: p.kennel.data,
						broadcastId: p.broadcastId,
						battleCounter: p.battleCounter,
						catchAttempt: p.catchAttempt,
						justLeveled: p.justLeveled,
						quests: p.quests.data,
						saveEnabled: p.saveEnabled,
						spellStreak: p.spellStreak,
						starsEarned: p.starsEarned,
						state: p.state.data,
						tutorial: p.tutorial.data,
						userID: p.userID,
						gameVersion: this.game.prodigy.version
					};
					this.downloadForCharacter(JSON.stringify(character), this.game.prodigy.player.name.getFullName() + ".json", "text/plain")
				});
				
				// Membership button callback
				var oM = this.findElement(c.Button, "toggleMemberButton");
				l.Util.isValid(oM) && (oM.onClickCallback = function() {
					this.game.prodigy.player.isMember = !this.game.prodigy.player.isMember;
					if (this.game.prodigy.player.isMember == !0)
						this.game.prodigy.open.message("You have activated Membership!", null, null, "Membership")
					else
						this.game.prodigy.open.message("You have deactivated Membership!", null, null, "Membership")
				});
				
				// Get epic button callback
				var oE = this.findElement(c.Button, "getEpicsButton");
				oE.getEpic = function(id) {
					if (!this.game.prodigy.player.kennel.hasPet(id)) {
						this.game.prodigy.player.kennel.add(id, null, (importer(49)).Creature.starsToLevel(20), 20)
						this.game.prodigy.player.backpack.add("follow", id)
					}
				};
				l.Util.isValid(oE) && (oE.onClickCallback = function() {
					this.getEpic(125),
					this.getEpic(126),
					this.getEpic(127),
					this.getEpic(128),
					this.getEpic(129),
					this.getEpic(130),
					this.getEpic(131),
					this.getEpic(132),
					this.getEpic(133),
					this.game.prodigy.open.message("Any epics you didn't have before have been added to your team!", null, null, "Epics Unlocked!")
				});
				
				var L = this.findElement(d.WebFontText, "networkText");
				l.Util.isValid(y) && l.Util.isValid(m) && L.setText(l.Util.isValid(this.game.prodigy.player.world) ? this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SETTINGS_YOUR_WORLD", this.game.prodigy.player.world.name) : this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SETTINGS_OFFLINE"));
				var x = this.game.prodigy.network,
					M = this.findElement(c.Button, "logoutButton");
				l.Util.isValid(M) && (M.onClickCallback = function() {
					x.logout()
				})
			}, e
		}(i(13).Menu);
	e.SystemMenu = g
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(0),
		r = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, n, a, 21) || this;
				return o.newAttackList = [], o.newAttackList = a.diffAttackSlots(n.getLevel()), o.queuePostCreateCallback(o.showNextSpell.bind(o), o.setupButton.bind(o)), o
			}
			return n(e, t), e.prototype.showNextSpell = function() {
				this.newAttackList.length <= 0 ? this.close() : (this.game.prodigy.audio.playSFX(32, "popUpDisplay"), this.loadSpell(this.newAttackList.shift()))
			}, e.prototype.loadSpell = function(t) {
				var e = this,
					i = this.game.prodigy.attacks.getAttack(t.oldID),
					n = this.game.prodigy.attacks.getAttack(t.newID);
				t.newlyUnlocked ? this.setActionText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SUMMARY_POPUP_SPELL_UNLOCKED", this.currentCreature.getFirstName(), n.data.name)) : this.setActionText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SUMMARY_POPUP_SPELL_EVOLVED", i.data.name, n.data.name));
				var r = n.data.element;
				r = o.Util.convertLegacyElements(r), this.ballDisplay.image.frameName = "pet-icon-backers/pet-icon-backers-" + ("plant" === r ? "earth" : r), o.Util.isValid(this.spellIcon) && (this.spellIcon.destroy(), this.spellIcon = null), this.okayButton.visible = !1, this.spellIcon = this.game.prodigy.create.sprite(0, 15, "atlas-167", "icons/icon-" + r + "-ss", new Phaser.Point(.5, .5), function(t) {
					o.Util.isValid(e.spriteHolder) && (e.spriteHolder.add(t), e.game.add.tween(t.scale).from({
						x: 0,
						y: 0
					}, 1e3, Phaser.Easing.Elastic.Out, !0), e.game.prodigy.audio.playSFX(32, "popUpDisplay"), e.okayButton.visible = !0)
				})
			}, e.prototype.setupButton = function() {
				this.okayButton.onUpCallback = this.showNextSpell.bind(this)
			}, e.prototype.isRequired = function() {
				return this.newAttackList.length > 0
			}, e.prototype.getBannerLocKey = function() {
				return "SUMMARY_POPUP_NEW_SPELL"
			}, e
		}(i(158).SummaryPopup);
	e.SpellSummary = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(0),
		r = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, n, a, 21) || this;
				return o.numHeartsGained = 0, o.numHeartsGained = n.getBaseMaxHearts() - a.getBaseMaxHearts(), o.queuePostCreateCallback(o.setup.bind(o)), o
			}
			return n(e, t), e.prototype.isRequired = function() {
				return this.numHeartsGained > 0
			}, e.prototype.getBannerLocKey = function() {
				return "SUMMARY_POPUP_NEW_HEARTS"
			}, e.prototype.setup = function() {
				var t = this;
				this.game.prodigy.audio.playSFX(32, "popUpDisplay"), this.game.prodigy.create.sprite(0, 0, "atlas-17", "icon-heart", new Phaser.Point(.5, .5), function(e) {
					o.Util.isValid(t.spriteHolder) && (t.spriteHolder.add(e), t.game.add.tween(e.scale).from({
						x: 0,
						y: 0
					}, 1e3, Phaser.Easing.Elastic.Out, !0))
				}), this.setActionText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SUMMARY_POPUP_HEARTS_EARNED", this.currentCreature.getFirstName(), this.numHeartsGained))
			}, e
		}(i(158).SummaryPopup);
	e.HeartSummary = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = i(0),
		s = i(20),
		l = i(16),
		c = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, n, a, 20) || this;
				return o.evolutionTime = 5e3, o.modalContainerNames = ["stopButtonContainer", "okayButtonContainer", "evolveButtonContainer"], o.queuePostCreateCallback(o.sparkle.bind(o), o.fillElements.bind(o), o.setupButtons.bind(o)), o.startEvolutionLevel = a.getLevel(), o.availableEvolutions = n.getAvailableEvolutions(), o
			}
			return n(e, t), e.prototype.isRequired = function() {
				return this.currentCreature.getLevel() > this.startEvolutionLevel && this.availableEvolutions.length > 0
			}, e.prototype.getBannerLocKey = function() {
				return "SUMMARY_POPUP_EVOLUTION"
			}, e.prototype.showButtonSet = function(t) {
				for (var e = 0; e < this.modalContainerNames.length; e++) this[this.modalContainerNames[e]].visible = this.modalContainerNames[e] === t
			}, e.prototype.sparkle = function() {
				this.evolutionEffect.playAnimation("just sparkle", !0)
			}, e.prototype.setupButtons = function() {
				this.evolveButton.onUpCallback = this.performEvolution.bind(this), this.stopButton.onUpCallback = this.stopEvolution.bind(this), this.okayButton.onUpCallback = this.onOkayButtonPress.bind(this), this.closeButton.onUpCallback = this.closeTween.bind(this)
			}, e.prototype.fillElements = function() {
				this.game.prodigy.audio.playSFX(32, "popUpDisplay"), this.game.prodigy.player.hasMembership() ? this.setActionText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("CREATURE_IS_EVOLVING", this.originalCreatureCopy.getFirstName())) : this.setActionText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("CREATURE_TRYING_TO_EVOLVE", this.originalCreatureCopy.getFirstName())), this.currentCreature.getLevel() >= 100 && this.evolveLaterText.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DO_NOT_EVOLVE")), this.game.prodigy.player.hasMembership() ? (this.showButtonSet("stopButtonContainer"), this.startEvolutionTimer()) : this.showButtonSet("evolveButtonContainer"), this.loadMonsterSprite(this.originalCreatureCopy.getID());
				var t = this.originalCreatureCopy.getElement();
				t = r.Util.convertLegacyElements(t), this.ballDisplay.image.frameName = "pet-icon-backers/pet-icon-backers-" + t
			}, e.prototype.performEvolution = function() {
				this.game.prodigy.player.hasMembership() ? this.evolveSuccess() : (this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create(s.EFunnelEventIDs.FunnelEvolutionMemberLock, s.EFunnelEventIDs.StageEvolutionClickButton).broadcast(), this.game.prodigy.open.membershipInfo(this.memberConverted.bind(this), {
					conversionFunnelName: s.EFunnelEventIDs.FunnelEvolutionMemberLock,
					conversionStage: s.EFunnelEventIDs.StageEvolutionConverted
				}, l.MembershipInfo.EVOLVE_PETS))
			}, e.prototype.memberConverted = function() {
				this.game.prodigy.player.hasMembership() && (this.showButtonSet(""), setTimeout(this.evolveSuccess.bind(this), 100))
			}, e.prototype.stopEvolution = function() {
				this.setActionText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("CREATURE_STOPPED_EVOLVING", this.originalCreatureCopy.getFirstName())), clearTimeout(this.evolutionTimerID), this.okayButton.onUpCallback = this.closeTween.bind(this), this.evolutionEffect.alpha = 0, this.showButtonSet("okayButtonContainer")
			}, e.prototype.startEvolutionTimer = function() {
				this.evolutionTimerID = window.setTimeout(this.performEvolution.bind(this), this.evolutionTime)
			}, e.prototype.evolveSuccess = function() {
				if (this.game.prodigy.player.hasMembership()) {
					var t = this.availableEvolutions[0],
						e = Math.max(this.startEvolutionLevel, t.lvl),
						i = r.Util.isValid(t.evolveID) ? t.evolveID : t.e;
					this.currentCreature.evolve(i, e), this.doEvolveAnimation()
				}
			}, e.prototype.doEvolveAnimation = function() {
				var t = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("CREATURE_IS_EVOLVING", this.originalCreatureCopy.getFirstName());
				this.actionText.text.text !== t && this.setActionText(t), this.showButtonSet(""), setTimeout(this.loadMonsterSprite.bind(this, this.currentCreature.getID()), 2e3), this.evolutionEffect.playAnimation("sparkle mask", !1, this.doneEvolveAnimation.bind(this))
			}, e.prototype.doneEvolveAnimation = function() {
				this.game.prodigy.audio.playSFX(32, "popUpDisplay"), this.setActionText(this.currentCreature.getFirstName() + "!"), this.showButtonSet("okayButtonContainer")
			}, e.prototype.loadMonsterSprite = function(t) {
				var e = this;
				r.Util.isValid(this.monsterIcon) && (this.monsterIcon.destroy(), this.monsterIcon = null), this.monsterIcon = this.game.prodigy.create.sprite(0, 0, "icon-pet-" + t, null, new Phaser.Point(.5, .5), function(t) {
					r.Util.isValid(e.spriteHolder) && e.spriteHolder.add(t)
				})
			}, e.prototype.onOkayButtonPress = function() {
				this.availableEvolutions = this.currentCreature.getAvailableEvolutions(), this.availableEvolutions.length > 0 ? (this.originalCreatureCopy = this.currentCreature.createDataClone(), this.fillElements()) : this.closeTween()
			}, e
		}(i(158).SummaryPopup);
	e.EvolutionSummary = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a, o = i(6),
		r = i(4),
		s = i(69),
		l = i(2),
		c = i(12),
		h = i(14),
		u = i(0),
		p = i(13);
	! function(t) {
		t[t.All = 0] = "All", t[t.Me = 1] = "Me", t[t.Friend = 2] = "Friend"
	}(a = e.CurrentTab || (e.CurrentTab = {}));
	var d = function(t) {
		function e(i, n, o) {
			var r = t.call(this, i, n, 22, e.configModifiers) || this;
			return r.friendCellList = [], r.friendsIDList = [], r.feedData = [], r.feedDatalimit = 20, r.currentTab = a.All, r.shareScrollPercent = 0, r.allButton = r.allButton, r.allTab = r.allTab, r.friendButton = r.friendButton, r.friendTab = r.friendTab, r.meButton = r.meButton, r.meTab = r.meTab, r.closeButton = r.closeButton, r.feedScrollView = r.feedScrollView, r.feedScrollBar = r.feedScrollBar, r.noFeedAll = r.noFeedAll, r.noFeedMe = r.noFeedMe, r.noFeedFriend = r.noFeedFriend, r.feedContents = r.feedContents, i.prodigy.notifications.getFeedDate = new Date, t.prototype.setCloseCallback.call(r, o), r.game.prodigy.load.assets(["spine-79"]), r
		}
		return n(e, t), e.prototype.preprocess = function() {
			var t = this,
				e = this.game.prodigy.friendsListNetworkHandler.friendsList.length,
				i = this.game.prodigy.friendsListNetworkHandler.classList.length;
			if (this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_social", {
					meta: JSON.stringify({
						name: "game_social",
						type: "hub",
						action: "open",
						num_friends: e,
						num_classmates: i
					})
				}), !this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(h.Breadcrumbs.FEATURE_SOCIAL_FEED, h.Breadcrumbs.BREADCRUMB_SOCIAL_FEED_OPENED)) {
				this.game.prodigy.breadcrumbManager.completeBreadcrumb(h.Breadcrumbs.FEATURE_SOCIAL_FEED, h.Breadcrumbs.BREADCRUMB_SOCIAL_FEED_OPENED);
				this.game.prodigy.load.assets(["voice-10-85"], this.game.prodigy.audio.playVoice.bind(this.game.prodigy.audio, "voice-10-85", null, 18, 4))
			}
			this.queuePostCreateCallback(function() {
				t.getLists(), t.setButtons()
			})
		}, e.prototype.getLists = function() {
			var t = [],
				e = this.feedDatalimit;
			this.friendsIDList = u.Util.getFriendAndClassmateIds(this.game), this.currentTab === a.Friend ? t = this.friendsIDList : this.currentTab === a.All && (t = this.friendsIDList).push(this.game.prodigy.player.userID), u.Util.isValid(r.GameConstants.get("GameConstants.Debug.FEED_LIMIT")) && (e = r.GameConstants.get("GameConstants.Debug.FEED_LIMIT")), this.getUserFeed("", t, 0, e)
		}, e.prototype.getUserFeed = function(t, e, i, n) {
			this.game.prodigy.network.getUserFeed(t, e, i, n, null, this.getUserFeedSuccess.bind(this), this.getUserFeedFailure.bind(this))
		}, e.prototype.getUserFeedSuccess = function(t) {
			this.feedData = u.Util.isValid(t.events) ? t.events : [], this.clearScrollView(), this.fillView()
		}, e.prototype.getUserFeedFailure = function() {
			this.clearScrollView(), this.fillView()
		}, e.prototype.setButtons = function() {
			this.allButton.onUpCallback = this.switchTab.bind(this, a.All), this.friendButton.onUpCallback = this.switchTab.bind(this, a.Friend), this.meButton.onUpCallback = this.switchTab.bind(this, a.Me), this.closeButton.onClickCallback = this.close.bind(this)
		}, e.prototype.switchTab = function(t) {
			t !== this.currentTab && (this.shareScrollPercent = 0), this.currentTab = t, this.getLists()
		}, e.prototype.setupScrollBar = function() {
			u.Util.isValid(this.feedScrollView) && (this.feedScrollView.linkScrollBar(this.feedScrollBar), this.feedScrollView.setToScrollPercent(this.shareScrollPercent))
		}, e.prototype.fillView = function() {
			this.friendButton.visible = !(this.currentTab === a.Friend), this.meButton.visible = !(this.currentTab === a.Me), this.allButton.visible = !(this.currentTab === a.All), this.friendTab.visible = !this.friendButton.visible, this.meTab.visible = !this.meButton.visible, this.allTab.visible = !this.allButton.visible, this.feedData.length > 0 && this.renderFeedGroup(), this.noFeedAll.visible = this.friendCellList.length <= 0 && this.currentTab === a.All, this.noFeedMe.visible = this.friendCellList.length <= 0 && this.currentTab === a.Me, this.noFeedFriend.visible = this.friendCellList.length <= 0 && this.currentTab === a.Friend, this.feedContents.layoutElement.calculateChildren(), this.feedScrollView.setupVisibleIndicies(), this.feedScrollView.calculateMaxScrollDist(), this.setupScrollBar(), this.feedScrollBar.visible = this.friendCellList.length > 1
		}, e.prototype.renderFeedGroup = function() {
			var t = new Date;
			t.setDate(t.getDate() - 1), t.setHours(15, 1, 0);
			var e = new Date;
			e.setHours(5, 59, 0), new Date < e && (t.setDate(t.getDate() - 1), e.setDate(e.getDate() - 1));
			for (var i = [], n = [], o = [], r = [], s = [], l = 0; l < this.feedData.length; l++) {
				if (this.currentTab === a.Me && this.feedData[l].userID !== this.game.prodigy.player.userID || this.currentTab === a.Friend && this.feedData[l].userID === this.game.prodigy.player.userID) return;
				if (this.feedData[l].shared) {
					this.currentTab === a.Me && o.push(this.feedData[l]);
					var c = new Date(this.feedData[l].createdDate);
					c > t && c < e ? (i.push(this.feedData[l]), this.feedData[l].group = "last-night") : c < t ? (r.push(this.feedData[l]), this.feedData[l].group = "awhile-ago") : (s.push(this.feedData[l]), this.feedData[l].group = "right-now")
				} else n.push(this.feedData[l])
			}
			if (i.length > 0 && this.currentTab !== a.Me) {
				this.updateConfigProperty(this.configObj.templates, "feedGroupNight", "height", (190 * i.length + 95).toString());
				var h = this.instantiateTemplate("feedGroupNight", this.feedContents);
				this.fillFeedGroup(i, h.feedGroupNight)
			}
			if (n.length > 0) this.updateConfigProperty(this.configObj.templates, "feedGroupShare", "height", "285"), (u = this.instantiateTemplate("feedGroupShare", this.feedContents)).shareNumText.setText(n.length + " left!"), this.fillFeedGroup([n[0]], u.feedGroupShare);
			else if (this.currentTab === a.Me && o.length > 0) {
				var u;
				this.updateConfigProperty(this.configObj.templates, "feedGroupShare", "height", "190"), (u = this.instantiateTemplate("feedGroupShare", this.feedContents)).shareNumText.visible = !1, u.sharedMessage.visible = !1, u.noSharesText.visible = !0
			}
			if (this.currentTab !== a.Me) {
				var p;
				if (s.length > 0) this.updateConfigProperty(this.configObj.templates, "feedGroupBeige", "height", (190 * s.length + 95).toString()), (p = this.instantiateTemplate("feedGroupBeige", this.feedContents)).todayText.visible = !0, this.fillFeedGroup(s, p.feedGroupBeige);
				else this.updateConfigProperty(this.configObj.templates, "feedGroupBeige", "height", "190"), (p = this.instantiateTemplate("feedGroupBeige", this.feedContents)).todayText.visible = !0, p.noTodayFeedText.visible = !0;
				if (r.length > 0) {
					this.updateConfigProperty(this.configObj.templates, "feedGroupBeige", "height", (190 * r.length + 95).toString());
					var d = this.instantiateTemplate("feedGroupBeige", this.feedContents);
					d.oldText.visible = !0, this.fillFeedGroup(r, d.feedGroupBeige)
				}
				this.instantiateTemplate("feedEndCell", this.feedContents)
			} else if (o.length > 0) {
				this.updateConfigProperty(this.configObj.templates, "feedGroupBeige", "height", (190 * o.length + 95).toString());
				var g = this.instantiateTemplate("feedGroupBeige", this.feedContents);
				g.sharesText.visible = !0, this.fillFeedGroup(o, g.feedGroupBeige)
			}
		}, e.prototype.fillFeedGroup = function(t, e) {
			for (var i = 0; i < t.length; i++) {
				var n = this.renderFeedCell(t[i], e, i);
				u.Util.isValid(n) && this.friendCellList.push(n)
			}
		}, e.prototype.renderFeedCell = function(t, e, i) {
			var n = this,
				a = null,
				o = l.Items.getItem("gameFeed", t.feedTypeID);
			if (o.metadata = t.metaData, u.Util.isValid(t) && u.Util.isValid(t.mapping) && 2 !== t.feedTypeID) {
				(a = this.instantiateTemplate("notificationCell", e)).notificationCell.y = 190 * i + 75;
				for (var r = o.data.feedText, h = 0; h < t.mapping.length; h++) r = -1 === t.mapping[h].ID || "achievement" === t.mapping[h].type || "store" === t.mapping[h].type ? r.replace("${mapping[" + h + "]}", t.mapping[h].value) : r.replace("${mapping[" + h + "]}", l.Items.getItem(t.mapping[h].type, t.mapping[h].ID).data.name);
				var p = this.game.add.graphics(0, 0);
				if (p.drawCircle(75, 75, 150), a.friendCircle.add(p), a.friendCircle.mask = p, t.userID === this.game.prodigy.player.userID) {
					(f = this.game.prodigy.create.player(a.friendCircle, this.game.prodigy.player, 1, 80, 130, !1, !0, !1, !1, !0)).forceWeaponVisual = !0, f.reload(), a.memberIcon.visible = this.game.prodigy.player.isMember, a.notificationText.setText(r)
				} else {
					r = '"' + r + '"', a.notificationText.setText(r);
					var d = this.game.prodigy.friendsListNetworkHandler.classList,
						g = this.game.prodigy.friendsListNetworkHandler.friendsList;
					g = g.concat(d);
					for (h = 0; h < g.length; h++)
						if (g[h].userID === t.userID) {
							if (!u.Util.isValid(g[h].appearance)) return null;
							var f, y = new c.Player(this.game);
							y.init(g[h]), (f = this.game.prodigy.create.player(a.friendCircle, y, 1, 80, 130, !1, !0, !1, !1, !0)).forceWeaponVisual = !0, f.reload(), u.Util.isValid(t.metaData) && u.Util.isValid(t.metaData.locationSelectionType) && "none" !== t.metaData.locationSelectionType ? a.nameText.setText(y.getName() + " - At " + t.metaData.locationSelectionType) : a.nameText.setText("" + y.getName()), a.memberIcon.visible = g[h].isMember, u.Util.isValid(t.metaData) && u.Util.isValid(o.metadata.zone) ? (this.game.prodigy.classModeController.isClassMode() && this.game.prodigy.classModeController.isLockedZone(o.metadata.zone) ? a.checkItOutButton.onDownCallback = this.game.prodigy.classModeController.onClassMode.bind(this.game.prodigy.classModeController, o.metadata.zone) : a.checkItOutButton.onDownCallback = this.checkItOutClicked.bind(this, t, o, y), a.checkItOutButton.visible = !0) : "membership" !== o.data.category || this.game.prodigy.player.isMember || (a.becomeMemeberButton.onDownCallback = function() {
								n.game.prodigy.open.membershipInfo(null, null, null, null, null, "social-feed")
							}, a.becomeMemeberText.setText("Become a Member"), a.becomeMemeberButton.visible = !0);
							break
						}
				}
				if (t.feedTypeID !== s.NotificationType.MEMBERSHIP && t.feedTypeID !== s.NotificationType.MEMBERBOX || !t.shared || (a.mememberCellMatte.visible = !0, a.meCellMatte.visible = !1, a.friendsCellMatte.visible = !1), t.shared) {
					if (a.friendsCellMatte.visible = !0, t.userID === this.game.prodigy.player.userID) a.shareButton.visible = !1, a.deleteButton.visible = !1, a.likeButton.visible = t.numLikes > 0, a.likeButton.toggleActive(), a.likeButton.setButtonState("down"), a.likeCountText.setText("" + t.numLikes), u.Util.isValid(t.metaData) && u.Util.isValid(t.metaData.locationSelectionType) && "none" !== t.metaData.locationSelectionType ? a.nameText.setText(this.game.prodigy.player.getName() + " - At " + t.metaData.locationSelectionType) : a.nameText.setText("" + this.game.prodigy.player.getName());
					else if (a.shareButton.visible = !1, a.likeButton.visible = !0, a.likeButton.onDownCallback = this.likeNotification.bind(this, t, "hub", a), 0 === t.numLikes && (a.likeCountText.visible = !1, a.likeThumb.x = a.likeThumb.centerX + a.likeThumb.width / 4), a.likeCountText.setText("" + t.numLikes), "" !== t.likes) - 1 !== t.likes.split(",").indexOf(this.game.prodigy.player.userID.toString()) && (a.likeButton.toggleActive(), a.likeButton.setButtonState("down"))
				} else a.meCellMatte.visible = !0, a.likeButton.visible = !1, a.checkItOutButton.visible = !1, a.shareButton.visible = !0, a.deleteButton.visible = !0, u.Util.isValid(t.metaData.locationSelectionType) && "none" !== t.metaData.locationSelectionType ? a.nameText.setText(this.game.prodigy.player.getName() + " - At " + t.metaData.locationSelectionType) : a.nameText.setText("" + this.game.prodigy.player.getName()), a.shareButton.onDownCallback = this.shareNotification.bind(this, t, "hub", a), a.deleteButton.onDownCallback = this.deleteNotification.bind(this, t, "hub", a)
			}
			return a
		}, e.prototype.createModalData = function(t, e, i) {
			if (-1 === t.mapping[0].ID || t.feedTypeID !== s.NotificationType.ITEMWHEEL && u.Util.isValid(t.mapping[1]) && -1 === t.mapping[1].ID) return {
				title: "",
				body: ""
			};
			var n = {
					title: "",
					body: ""
				},
				a = this.game.prodigy.world.getZone(t.metaData.zone.split("-")[0]).name;
			n.title = e.data.modal.title, n.image = t.mapping[0], n.actionText = e.data.modal.action;
			var o = e.data.modal.body;
			return t.feedTypeID === s.NotificationType.LAMPLIGHTPURCHASE ? (o = (o = o.replace("${userName}", i.getName())).replace("${mapping[0]}", l.Items.getItem(t.mapping[0].type, t.mapping[0].ID).data.name), n.action = this.teleportClicked.bind(this, t, e, t.metaData.zone)) : t.feedTypeID === s.NotificationType.STOREPURCHASE ? (o = (o = (o = o.replace("${userName}", i.getName())).replace("${mapping[0]}", l.Items.getItem(t.mapping[0].type, t.mapping[0].ID).data.name)).replace("${mapping[1]}", t.mapping[1].value), 16 === t.mapping[1].ID ? (o = o.replace("${zoneName}", "the Epics Subspace"), n.actionText = n.actionText.replace("${zoneName}", "the Epics Subspace"), n.action = this.teleportClicked.bind(this, t, e, "toyzone-B1")) : 10 === t.mapping[1].ID ? (o = o.replace("${zoneName}", "Lamplight Town"), n.actionText = n.actionText.replace("${zoneName}", "Lamplight Town"), n.action = this.teleportClicked.bind(this, t, e, "lamplight-C3")) : 21 === t.mapping[1].ID ? (o = o.replace("${zoneName}", "Lamplight Town"), n.actionText = n.actionText.replace("${zoneName}", "Lamplight Town"), n.action = this.teleportClicked.bind(this, t, e, "lamplight-A3")) : 23 === t.mapping[1].ID ? (o = o.replace("${zoneName}", "Dyno Dig Oasis"), n.actionText = n.actionText.replace("${zoneName}", "Dyno Dig Oasis"), n.action = this.teleportClicked.bind(this, t, e, t.metaData.zone)) : (o = o.replace("${zoneName}", a), n.actionText = n.actionText.replace("${zoneName}", a), n.action = this.teleportClicked.bind(this, t, e, t.metaData.zone))) : t.feedTypeID === s.NotificationType.ITEMWHEEL && (o = (o = (o = (o = o.replace("${userName}", i.getName())).replace("${mapping[0]}", l.Items.getItem(t.mapping[0].type, t.mapping[0].ID).data.name)).replace("${mapping[1]}", t.mapping[1].value)).replace("${zoneName}", a), n.actionText = n.actionText.replace("${zoneName}", a), n.action = this.teleportClicked.bind(this, t, e, t.metaData.zone)), n.body = o, n
		}, e.prototype.checkItOutClicked = function(t, e, i) {
			this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_complete", {
				meta: JSON.stringify({
					name: "step1",
					type: "social_closing_loop",
					item: "item" === e.data.category ? t.mapping[0] : null
				})
			}), this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("social_closing_loop", "step1", void 0, void 0, void 0, void 0, !0, !1, "item" === e.data.category ? t.mapping[0] : void 0).broadcast(), this.game.prodigy.open.PopUpModal(this.createModalData(t, e, i))
		}, e.prototype.teleportClicked = function(t, e, i) {
			this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_complete", {
				meta: JSON.stringify({
					name: "step2",
					type: "social_closing_loop",
					item: "item" === e.data.category ? t.mapping[0] : null
				})
			}), this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("social_closing_loop", "step2", void 0, void 0, void 0, void 0, !0, !1, "item" === e.data.category ? t.mapping[0] : void 0).broadcast(), this.game.prodigy.world.teleport(i)
		}, e.prototype.likeNotification = function(t, e, i) {
			(i.likeCountText.setText("" + (t.numLikes + 1)), i.likeCountText.visible = !0, this.playLikeAnimation(i), "" !== t.likes) && (-1 !== t.likes.split(",").indexOf(this.game.prodigy.player.userID.toString()) && i.likeButton.toggleActive());
			this.game.prodigy.notifications.likeNotification(t, e)
		}, e.prototype.playLikeAnimation = function(t) {
			t.likeCounter.visible = !0, this.game.add.tween(t.likeCounter).to({
				y: -50,
				alpha: 0
			}, 700, Phaser.Easing.Linear.None, !0, 0)
		}, e.prototype.shareNotification = function(t, e, i) {
			var n = this;
			i.notificationCell.visible = !1, this.game.prodigy.notifications.shareNotification(t, e), setTimeout(function() {
				n.shareScrollPercent = n.feedScrollBar.getPercent(), n.switchTab(n.currentTab)
			}, 1e3)
		}, e.prototype.deleteNotification = function(t, e, i) {
			var n = this;
			i.notificationCell.visible = !1;
			for (var a = i.notificationCell.parent.children, o = 0; o < a.length; o++) "sharedMessage" === a[o].name && (a[o].visible = !1);
			var r = this.game.add.spine(450, 175, "spine-79");
			r.setAnimationByName(0, "animation", !1), i.notificationCell.parent.addChild(r), this.game.prodigy.notifications.deleteNotification(t, e), setTimeout(function() {
				n.shareScrollPercent = n.feedScrollBar.getPercent(), n.switchTab(n.currentTab)
			}, 1e3)
		}, e.prototype.clearScrollView = function() {
			u.Util.isValid(this.feedScrollBar) && (this.feedScrollBar.visible = !1);
			for (var t = 0; t < this.friendCellList.length; t++)
				for (var e in this.friendCellList[t]) this.friendCellList[t][e].destroy();
			u.Util.isValid(this.feedScrollView) && this.feedScrollView.clearScrollView(), this.friendCellList = [], this.setupScrollBar()
		}, e.prototype.close = function(e) {
			this.game.prodigy.notifications.friendNotificationQueue = [], u.Util.isValid(e) && e(), this.game.prodigy.notifications.getSocialNotifications(3), t.prototype.close.call(this)
		}, e
	}(p.Menu);
	e.SocialFeed = d
}, function(t, e, i) {
	"use strict";
	var n;
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			t[t.Day = 0] = "Day", t[t.Hour = 1] = "Hour", t[t.Minute = 2] = "Minute", t[t.Second = 3] = "Second"
		}(n = e.CountdownTimerType || (e.CountdownTimerType = {}));
	var a = function() {
		function t(t, e, i) {
			this.DAY = 864e5, this.HOUR = 36e5, this.MINUTE = 6e4, this.SECOND = 1e3, this.game = t, this.tickCallback = i, this.targetTimestamp = e.getTime(), this.timerEvent = t.time.events.loop(1e3, this.updateTime, this), this.updateTime()
		}
		return t.prototype.stop = function() {
			this.game.time.events.remove(this.timerEvent)
		}, t.prototype.updateTime = function() {
			var t = new Date,
				e = this.targetTimestamp - t.getTime(),
				i = null,
				a = 0;
			e < 0 && (e = 0), e >= this.DAY ? (a = Math.floor(e / this.DAY), i = n.Day) : e >= this.HOUR ? (a = Math.floor(e / this.HOUR), i = n.Hour) : e >= this.MINUTE ? (a = Math.floor(e / this.MINUTE), i = n.Minute) : (a = Math.floor(e / this.SECOND), i = n.Second), this.tickCallback(a, i)
		}, t
	}();
	e.CountdownTimer = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i) || this;
				return n.game = e, n.jarBack = e.add.group(n), n.jarMiddle = e.add.group(n), n.jarFront = e.add.group(n), n.spriteParentLoadWrap(0, 0, "atlas-164", "jar-back", n.jarBack), n.spriteParentLoadWrap(0, 0, "atlas-164", "jar-front", n.jarFront), n.cork = n.spriteParentLoadWrap(40, 0, "atlas-164", "cork", n.jarMiddle), n
			}
			return n(e, t), e.prototype.spriteParentLoadWrap = function(t, e, i, n, a) {
				return this.game.prodigy.create.sprite(t, e, i, n, null, function(t) {
					a.add(t)
				})
			}, e.prototype.fillJar = function(t) {
				var e = this;
				if (t >= 1) {
					this.jarFillLevel = t;
					var i = this.getSpriteFillFrame(t);
					this.game.prodigy.create.sprite(0, 0, "atlas-164", i, null, function(t) {
						e.jarMiddle.add(t, !1, 0), e.filledStars = t
					})
				} else t < 0 && this.game.prodigy.create.sprite(0, 0, "atlas-164", "dust", null, function(t) {
					e.jarMiddle.add(t, !1, 0)
				})
			}, e.prototype.fillJarAnimate = function(t, e) {
				var i = this;
				if (void 0 === e && (e = 0), t >= 1 && t !== this.jarFillLevel) {
					if (!a.Util.isValid(this) || !a.Util.isValid(this.game)) return;
					this.jarFillLevel = t;
					var n = this.getSpriteFillFrame(t);
					this.game.prodigy.create.sprite(0, 0, "atlas-164", n, null, function(t) {
						i.jarMiddle.add(t, !1, 0);
						var n = i.game.add.tween(t).from({
							alpha: 0
						}, 1e3, Phaser.Easing.Linear.None, !1, e);
						n.onStart.add(function() {
							i.game.prodigy.audio.playSound(22)
						}), n.onComplete.add(function() {
							a.Util.isValid(i.filledStars) && i.filledStars.destroy(), i.filledStars = t
						}), n.start()
					})
				}
			}, e.prototype.openJar = function() {
				this.game.prodigy.audio.playSound(26);
				this.game.add.tween(this.cork).to({
					y: this.cork.y - 100,
					alpha: 0
				}, 1e3, Phaser.Easing.Cubic.Out, !0), this.doStarFlyOutAnimation(), this.doStarFadeAnimation()
			}, e.prototype.doStarFadeAnimation = function() {
				var t = this,
					e = 0,
					i = [this.filledStars];
				for (e = this.jarFillLevel - 1; e > 0; e--) {
					var n = this.game.prodigy.create.sprite(0, 0, "atlas-164", "stars-fill-" + e, null, function(e) {
						t.jarMiddle.add(e, !1, 0)
					});
					i.push(n)
				}
				var a = 2500 / i.length,
					o = 0;
				for (o = 0; o < i.length; o++) this.game.add.tween(i[o]).to({
					alpha: 0
				}, a, Phaser.Easing.Linear.None, !0, o * a + 500)
			}, e.prototype.doStarFlyOutAnimation = function() {
				var t = 0;
				for (t = 0; t < 20; t++) setTimeout(this.flyOneStar.bind(this), 100 * t)
			}, e.prototype.flyOneStar = function() {
				var t = this.game.prodigy.create.sprite(100, 200, "atlas-19", "member-star");
				this.jarBack.add(t);
				var e = this.game.add.tween(t),
					i = this.game.add.tween(t);
				e.to({
					y: Phaser.Math.between(-360, -200)
				}, 500, Phaser.Easing.Cubic.Out), e.to({
					y: 400
				}, 500, Phaser.Easing.Cubic.In), e.delay(500), e.start(), i.to({
					x: -Phaser.Math.between(-500, 500)
				}, 1e3, Phaser.Easing.Linear.None, !0, 500)
			}, e.prototype.getSpriteFillFrame = function(t) {
				return "stars-fill-" + Math.min(4, t)
			}, e
		}(Phaser.Group);
	e.StarJarContainer = o
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(40),
		a = i(61),
		o = function() {
			return function(t, e, i, o) {
				this.starComponent = a.RenderFactory.createRenderer("spine-18", {
					type: "spine"
				}), this.starComponent.onLoaded.add(function() {
					setTimeout(t.prodigy.audio.playSound.bind(t.prodigy.audio, 24), 367), setTimeout(t.prodigy.audio.playSound.bind(t.prodigy.audio, 23), 2450)
				}), new n.GameObject(t, e, [this.starComponent], i, o), this.starComponent.playAnimation("animation")
			}
		}();
	e.MemberStarAnimation = o
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(802),
		o = i(6),
		r = i(801),
		s = i(159),
		l = i(800),
		c = i(0),
		h = i(20),
		u = i(16),
		p = function() {
			function t(t, e, i) {
				void 0 === i && (i = null), this.showingMembership = !1, this.game = t, this.parentMenu = e, this.starController = new s.MemberStarController(this.game), this.openCallback = i, e.onDestroy.add(this.destroy.bind(this))
			}
			return t.prototype.beginAnimation = function(t) {
				this.parentMenu.memberSectionContents.alpha = 0;
				var e = 3700;
				this.starController.hasExpired() && !this.game.prodigy.player.hasMembership() && this.starController.getNumberOfStoredStars() > 0 ? e = 700 : setTimeout(this.showMemberStar.bind(this), 700), setTimeout(this.fillMemberJar.bind(this, t), e), setTimeout(this.fadeDisplay.bind(this, !0), e)
			}, t.prototype.createMemberStarsGain = function() {
				this.parentMenu.memberStarsGot.visible = !0, this.parentMenu.memberStarsGot.setText(this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText(this.parentMenu.getTeamSize() > 1 ? "GAINED_MEMBER_STARS_EACH" : "GAINED_MEMBER_STARS", this.parentMenu.xpGained.memberXP)), this.parentMenu.starJarTimer.visible = !1, this.parentMenu.wizardLevels.visible = !1, this.parentMenu.wizardLevelsWorth.visible = !1, this.parentMenu.starsInJarLabel.visible = !1, this.parentMenu.bonusStarsButton.visible = !1, setTimeout(this.openCallback.bind(this.parentMenu, this.parentMenu.xpGained.memberXP, !1), 1e3)
			}, t.prototype.createExpiredJar = function() {
				this.starJar.fillJar(-1), this.parentMenu.starJarTimer.visible = !1, this.parentMenu.bonusStarsButton.visible = !1, this.parentMenu.wizardLevels.visible = !1, this.parentMenu.bottomMemberTitleText.setText(this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText("JAR_EXPIRED")), this.parentMenu.starsInJarLabel.setText(this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText("JAR_BECOME_MEMBER")), this.parentMenu.wizardLevelsWorth.visible = !1, this.parentMenu.starsInJarLabel.x += 70, this.starJar.x += 125, this.starJar.y += 10, this.starController.doLoseStars(), setTimeout(this.parentMenu.showCloseButton.bind(this.parentMenu, !0), 1500)
			}, t.prototype.ceateRegularJar = function(t, e) {
				var i = this;
				this.starJar.fillJar(this.starController.calculateStarJarTier(this.starController.getNumberOfStoredStars() - e)), this.starJar.fillJarAnimate(this.starController.getStarJarTier(), 700), this.parentMenu.wizardLevelsValue.setText(t), this.parentMenu.starsInJarValue.setText(this.starController.getNumberOfStoredStars() - e), t <= 0 ? (this.parentMenu.wizardLevels.visible = !1, this.parentMenu.wizardLevelsWorth.visible = !1, this.parentMenu.wizardLevelsValue.visible = !1) : 1 === t && this.parentMenu.wizardLevels.setText(this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText("WIZARD_LEVEL"));
				var a = {
						number: this.starController.getNumberOfStoredStars() - e
					},
					o = this.game.add.tween(a).to({
						number: this.starController.getNumberOfStoredStars()
					}, 1e3, Phaser.Easing.Quadratic.Out, !0, 700);
				o.onUpdateCallback(function() {
					i.parentMenu.starsInJarValue.setText(Math.round(a.number))
				}), o.onComplete.add(function() {
					i.parentMenu.starsInJarValue.setText(a.number)
				}), this.createCountdownTimer(), this.setupJarClickables(), this.starController.getNumberOfStoredStars() > 0 && this.game.prodigy.player.hasMembership() ? (this.parentMenu.bottomDisplayBlueStar.image.inputEnabled = !1, this.parentMenu.starJarTimer.visible = !1, this.parentMenu.bonusStarsButton.visible = !1, setTimeout(this.openJar.bind(this), 2500), this.parentMenu.bonusStarsButton.visible = !1) : setTimeout(this.parentMenu.showCloseButton.bind(this.parentMenu, !0), 1500)
			}, t.prototype.fillMemberJar = function(t) {
				if (this.game.prodigy.player.hasMembership() && this.starController.getNumberOfStoredStars() <= 0) this.createMemberStarsGain();
				else {
					this.starJar = new r.StarJarContainer(this.game, this.parentMenu.starJarContainer);
					var e = this.starController.getNumberOfLevels(this.parentMenu.getTeamSize());
					this.starJar.x -= Math.round(this.starJar.width / 2), this.starJar.y -= Math.round(this.starJar.height / 2), this.starJar.scale = new Phaser.Point(.8, .8), this.starController.hasExpired() ? this.createExpiredJar() : this.ceateRegularJar(e, t)
				}
			}, t.prototype.fadeDisplay = function(t) {
				this.game.add.tween(this.parentMenu.memberSectionContents).to({
					alpha: t ? 1 : 0
				}, 500, Phaser.Easing.Linear.None, !0)
			}, t.prototype.destroy = function() {
				c.Util.isValid(this.countdownTimer) && this.countdownTimer.stop()
			}, t.prototype.showMemberStar = function() {
				new a.MemberStarAnimation(this.game, this.parentMenu.bottomDisplayBlueStar, 280, 30)
			}, t.prototype.createCountdownTimer = function() {
				var t = this;
				this.countdownTimer = new l.CountdownTimer(this.game, this.starController.getNextExpirationDate(), function(e, i) {
					switch (t.parentMenu.jarTimeValue.setText(e.toString()), i) {
						case l.CountdownTimerType.Day:
							t.parentMenu.jarTimeLeft.setText(t.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText(1 === e ? "COUNTDOWN_DAY_LEFT" : "COUNTDOWN_DAYS_LEFT"));
							break;
						case l.CountdownTimerType.Hour:
							t.parentMenu.jarTimeLeft.setText(t.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText(1 === e ? "COUNTDOWN_HOUR_LEFT" : "COUNTDOWN_HOURS_LEFT"));
							break;
						case l.CountdownTimerType.Minute:
							t.parentMenu.jarTimeLeft.setText(t.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText(1 === e ? "COUNTDOWN_MINUTE_LEFT" : "COUNTDOWN_MINUTES_LEFT"));
							break;
						case l.CountdownTimerType.Second:
							e > 0 && t.parentMenu.jarTimeValue.setText("1"), t.parentMenu.jarTimeLeft.setText(t.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText(0 === e ? "COUNTDOWN_MINUTES_LEFT" : "COUNTDOWN_MINUTE_LEFT"))
					}
				})
			}, t.prototype.setupJarClickables = function() {
				this.parentMenu.bottomDisplayBlueStar.image.inputEnabled = !0, this.parentMenu.bottomDisplayBlueStar.image.events.onInputUp.add(this.onStarJarMembershipClick.bind(this)), this.parentMenu.bonusStarsButton.onUpCallback = this.onStarJarMembershipClick.bind(this)
			}, t.prototype.onStarJarMembershipClick = function() {
				var t = this;
				if (!this.showingMembership) {
					this.showingMembership = !0;
					var e = {
						conversionFunnelName: "NonMember-Star-Jar",
						conversionStage: "Member-Converted",
						conversionFunnelMetadata: null
					};
					this.game.prodigy.network.sendConversionFunnelEvent(e.conversionFunnelName, h.EFunnelEventIDs.StageClickStars, e.conversionFunnelMetadata), this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("NonMember-Star-Jar", "Jar-Click").broadcast(), this.game.prodigy.open.membershipInfo(function() {
						t.showingMembership = !1, t.game.prodigy.player.hasMembership() && (t.parentMenu.showCloseButton(!1), t.openJar())
					}, e, u.MembershipInfo.MORE_EXP)
				}
			}, t.prototype.openJar = function() {
				this.parentMenu.bottomDisplayBlueStar.image.inputEnabled = !1, this.parentMenu.starJarTimer.visible = !1, this.parentMenu.bonusStarsButton.visible = !1, this.starJar.openJar(), this.parentMenu.starsInJarLabel.setText("Gained Stars:");
				var t = this.starController.obtainStoredMemberStars() / this.parentMenu.getTeamSize();
				setTimeout(this.openCallback.bind(this.parentMenu, t, !0), 1e3)
			}, t
		}();
	e.StarJarUI = p
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t(t, e, i, n, a) {
			this.currentCreature = t, this.originalCreatureCopy = e, this.menuFactory = i, this.onFinalSummaryClosed = a, this.onPopupCreated = n
		}
		return t.prototype.launchSummaryPopups = function() {
			var t = this,
				e = this.menuFactory.evolutionSummary(this.currentCreature, this.originalCreatureCopy);
			e.setOnCreateCallback(this.onPopupCreated), e.setCloseCallback(function() {
				var e = t.menuFactory.heartSummary(t.currentCreature, t.originalCreatureCopy);
				e.setOnCreateCallback(t.onPopupCreated), e.setCloseCallback(function() {
					var e = t.menuFactory.spellSummary(t.currentCreature, t.originalCreatureCopy);
					e.setOnCreateCallback(t.onPopupCreated), e.setCloseCallback(t.onFinalSummaryClosed)
				})
			})
		}, t
	}();
	e.SummaryPopupController = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(7),
		s = i(5),
		l = i(16),
		c = i(0),
		h = i(20),
		u = function(t) {
			function e(e, i, n, a, o, r) {
				var s = t.call(this, e, i) || this;
				if (s.levelUp = !1, s.openCallback = null, s.chests = [], s.locked = !1, s.chestOpened = null, s.rewards = null, s.openCallback = r, Math.random() > .6 && s.game.prodigy.player.getLevel() >= -5 && n) {
					var l = 0 === Math.floor(2 * Math.random());
					s.chests.push(s.createChest(l ? 110 : -110, a)), s.chests.push(s.createChest(l ? -110 : 110, a.concat(o), !0))
				} else s.chests.push(s.createChest(0, a));
				return s.rewards = s.game.prodigy.create.element(s, 0, 0), s.initListeners(), s
			}
			return n(e, t), e.prototype.createChest = function(t, e, i) {
				var n = this;
				void 0 === i && (i = !1);
				var a = this.game.prodigy.create.element(this, t, 0),
					o = this.game.prodigy.create.sprite(0, 95, "atlas-17", i ? "member-chest-bottom" : "chest-bottom");
				o.inputEnabled = !0, a.add(o);
				var r = this.game.prodigy.create.sprite(0, i ? -25 : 0, "atlas-17", i ? "member-chest-closed" : "chest-closed");
				r.inputEnabled = !0, a.add(r);
				var s = {
					element: a,
					reward: e,
					specialChest: i,
					chestId: i ? 2 : 1,
					box: o,
					lid: r
				};
				return r.events.onInputDown.add(function() {
					n.onDown(s)
				}, this), o.events.onInputDown.add(function() {
					n.onDown(s)
				}, this), s
			}, e.prototype.initListeners = function() {
				var t = this;
				o.default.get("GameConstants.Build.DEBUG") && (this.game.broadcaster.addAppListener(s.EDebugEvents.AutoClickScene, function(e) {
					t.onDebugAutoClick(e)
				}, this), this.game.broadcaster.addAppListener(s.EDebugEvents.AutoClickList, function() {
					t.onDebugAutoClickList()
				}, this)), this.game.broadcaster.addAppListener(s.EChestEvents.ShowMemberStars, function() {
					t.game.broadcaster.broadcast(s.EFlyingStarsEvents.MemberStarsDone, t.game, [t.levelUp])
				}, this, this.game), this.onDestroy.add(this.stopListeners, this)
			}, e.prototype.stopListeners = function() {
				c.Util.isValid(this.chestOpened) && c.Util.isValid(this.chestOpened.box) && this.chestOpened.box.destroy(), this.game.broadcaster.removeAppListener(s.EChestEvents.ShowMemberStars, this, this.game), o.default.get("GameConstants.Build.DEBUG") && (this.game.broadcaster.removeAppListener(s.EDebugEvents.AutoClickScene, this, this.game), this.game.broadcaster.removeAppListener(s.EDebugEvents.AutoClickList, this, this.game))
			}, e.prototype.onDebugAutoClick = function(t) {
				"chest_1" === t ? this.onDown(this.chests[0]) : "chest_2" === t && this.onDown(this.chests[1])
			}, e.prototype.onDebugAutoClickList = function() {
				for (var t = 0; t < this.chests.length; t++) a.Logger.log("Scene Tag: chest_" + this.chests[t].chestId, a.LogLevel.Verbose)
			}, e.prototype.onDown = function(t) {
				var e = this;
				if (!this.locked) {
					if (t.lid.y = -30, this.chestOpened = t, t.specialChest && this.game.prodigy.network.sendAnalytics("Select-Member-Chest"), t.specialChest && !this.game.prodigy.player.hasMembership()) {
						var i = {
							conversionFunnelName: h.EFunnelEventIDs.FunnelOpenMemberChestBattle
						};
						return this.game.prodigy.network.sendConversionFunnelEvent(i.conversionFunnelName, h.EFunnelEventIDs.StageOpenChest), void this.game.prodigy.open.membershipInfo(null, i, l.MembershipInfo.MEMBER_CHESTS)
					}
					t.lid.frameName = t.specialChest ? "member-chest-open" : "chest-open", this.locked = !0, this.animateIconPopcorn(t), c.Util.isValid(this.openCallback) && (this.game.prodigy.audio.playSFX(32, t.specialChest ? "chestOpenMember" : "chestOpen", null, .6), setTimeout(function() {
						e.openCallback(t.specialChest)
					}, 2500))
				}
			}, e.prototype.animateIconPopcorn = function(t) {
				for (var e = [], i = 0; i < t.reward.length; i++)
					if ("gold" === t.reward[i].type)
						for (var n = 0; n < t.reward[i].N / 10; n++) e.push(this.game.prodigy.icon.gold(0, 0));
					else e.push(this.game.prodigy.icon.createFromData(t.reward[i], 0, 0));
				for (i = 0; i < e.length; i++) {
					e[i].anchor.setTo(.5, .5), e[i].x = t.element.x + 60 + 30 * Math.random(), e[i].y = t.element.y + 60, e[i].visible = !1, this.rewards.add(e[i]);
					var a = 100 * i,
						o = this.game.add.tween(e[i]).to({
							y: Phaser.Math.between(-500, -300)
						}, 600, Phaser.Easing.Quadratic.Out).delay(a);
					o.onStart.add(function() {
						this.visible = !0
					}, e[i]), o.to({
						y: 400
					}, 600, Phaser.Easing.Quadratic.In), o.start(), this.game.add.tween(e[i]).to({
						x: Phaser.Math.between(-500, 500),
						angle: Math.floor(360 * Math.random())
					}, 1200, Phaser.Easing.Linear.None).delay(a).to({
						alpha: 0
					}, 100, Phaser.Easing.Linear.None).start(), o.start()
				}
			}, e
		}(r.Element);
	e.ChestContainer = u
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(805),
		s = i(159),
		l = i(804),
		c = i(5),
		h = i(2),
		u = i(49),
		p = i(12),
		d = i(14),
		g = i(0),
		f = i(803),
		y = function(t) {
			function e(i, n, a, o, r, l) {
				var c = t.call(this, i, n, 19, e.configModifiers, ["atlas-151", "atlas-164", "atlas-168", "sfx-22", "sfx-23", "sfx-24", "sfx-26", "sfx-32", "sfx-33"]) || this;
				return c.originalCreatures = [], c.summaryPopupControllers = [], c.drops = [], c.memberDrops = [], c.conjureCubeDrops = [], c.creatureDisplays = [], c.eventQueue = [], c.choseMemberChest = !1, c.game = i, c.currentCreatures = a, c.xpGained = o, c.drops = r, c.memberDrops = l, c.starController = new s.MemberStarController(i), c.starXP = Math.ceil((c.xpGained.baseXP + c.xpGained.parentLinkXP + c.xpGained.pippetXP) * a.length * .5), c.setupListeners(), c.cloneCreatures(), c.queuePostCreateCallback(c.createCreatureDisplays.bind(c), c.setupUIElements.bind(c), c.buildEventQueue.bind(c), c.animateDropIn.bind(c)), c
			}
			return n(e, t), e.prototype.getTeamSize = function() {
				return this.currentCreatures.length
			}, e.prototype.showCloseButton = function(t) {
				this.closeButton.visible = t
			}, e.prototype.bottomSectionFadeOutAnimation = function(t, e) {
				void 0 === e && (e = null);
				var i = t.x;
				this.game.add.tween(t).to({
					x: t.x - 50,
					alpha: 0
				}, 500, Phaser.Easing.Cubic.Out, !0).onComplete.add(function() {
					t.x = i, g.Util.isValid(e) && e()
				}, this)
			}, e.prototype.bottomSectionFadeInAnimation = function(t, e) {
				void 0 === e && (e = null), t.visible = !0, t.alpha = 1, this.woodBackground.bringToTop(t), this.game.add.tween(t).from({
					x: t.x + 50,
					alpha: 0
				}, 500, Phaser.Easing.Cubic.Out, !0).onComplete.add(function() {
					g.Util.isValid(e) && e()
				}, this)
			}, e.prototype.buildEventQueue = function() {
				this.eventQueue.push(this.runNextEvent.bind(this, 300)), this.eventQueue.push(this.showStarsEarned.bind(this)), this.eventQueue.push(this.applyXPGainToTeam.bind(this, this.currentCreatures, this.xpGained)), this.eventQueue.push(this.unlockAcademyDialogue.bind(this)), this.buildPopupEvents(), this.eventQueue.push(this.runNextEvent.bind(this, 1500)), this.eventQueue.push(this.bottomSectionFadeOutAnimation.bind(this, this.bottomDisplayContainer, this.runNextEvent.bind(this))), this.game.prodigy.player.hasMembership() && this.starController.getNumberOfStoredStars() <= 0 ? (this.eventQueue.push(this.createJar.bind(this)), this.eventQueue.push(this.bottomSectionFadeInAnimation.bind(this, this.bottomDisplayContainerMember)), this.eventQueue.push(this.bottomSectionFadeOutAnimation.bind(this, this.bottomDisplayContainerMember, this.runNextEvent.bind(this))), this.eventQueue.push(this.createChests.bind(this, !0, this.drops, this.memberDrops)), this.eventQueue.push(this.awardDrops.bind(this)), this.eventQueue.push(this.close.bind(this))) : (this.eventQueue.push(this.createChests.bind(this, !0, this.drops, this.memberDrops)), this.eventQueue.push(this.awardDrops.bind(this)), this.eventQueue.push(this.bottomSectionFadeOutAnimation.bind(this, this.bottomDisplayContainer, this.runNextEvent.bind(this))), this.eventQueue.push(this.createJar.bind(this)), this.eventQueue.push(this.bottomSectionFadeInAnimation.bind(this, this.bottomDisplayContainerMember, this.runNextEvent.bind(this, 4e3))))
			}, e.prototype.runNextEvent = function(t) {
				void 0 === t && (t = 0), t > 0 ? setTimeout(this.runNextEvent.bind(this, 0), t) : this.eventQueue.length > 0 && this.eventQueue.shift()()
			}, e.prototype.buildPopupEvents = function() {
				for (var t = 0; t < this.currentCreatures.length; t++) this.eventQueue.push(this.playShineAnimation.bind(this, t)), this.eventQueue.push(this.launchSummaries.bind(this, t))
			}, e.prototype.cloneCreatures = function() {
				this.originalCreatures = [];
				for (var t = 0; t < this.currentCreatures.length; t++) this.originalCreatures.push(this.currentCreatures[t].createDataClone())
			}, e.prototype.hasAnyEvents = function(t) {
				if (this.currentCreatures[t].getLevel() > this.originalCreatures[t].getLevel()) {
					if (this.currentCreatures[t].getAvailableEvolutions().length > 0) return !0;
					if (this.originalCreatures[t].diffAttackSlots(this.currentCreatures[t].getLevel()).length > 0) return !0;
					if (this.currentCreatures[t].getBaseMaxHearts() - this.originalCreatures[t].getBaseMaxHearts() > 0) return !0
				}
				return !1
			}, e.prototype.createCreatureDisplays = function() {
				for (var t = 0, e = !0; t < this.currentCreatures.length; t++) this.creatureDisplays.push(this.createCreatureDisplay(this.currentCreatures[t])), e && u.Creature.levelFromStars(this.currentCreatures[t].getStars() + this.xpGained.baseXP + this.xpGained.pippetXP) < 100 && (e = !1);
				e ? this.battleStarsEarned.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MAX_STARS_EARNED")) : this.battleStarsEarned.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(1 === this.getTeamSize() ? "SUMMARY_BATTLE_STARS_EARNED_SINGULAR" : "SUMMARY_BATTLE_STARS_EARNED", this.xpGained.baseXP + this.xpGained.parentLinkXP + this.xpGained.pippetXP))
			}, e.prototype.createCreatureDisplay = function(t) {
				var e = this.instantiateTemplate("creatureDisplay", this.creatureDisplayContainer);
				if (e.levelNumberText.setText(t.getLevel().toString()), e.xpBar.setPercentCompleteOffset(g.Util.clampedLerp(.085, 1, t.getPercentToLevel()), -20), t.getLevel() >= 100 && e.xpBar.setPercentCompleteOffset(1, -20), t instanceof p.Player) {
					e.creatureName.setText(t.getFirstName());
					var i = this.game.prodigy.create.player(e.spriteHolder, this.game.prodigy.player, 1, 0, 50, !1, !0, !1, !1);
					i.reload(function() {
						if (i.standStill(), i.isInTransformedMode) try {
							i.transformedPet.sprites.children[0].animations.stop(), i.transformedPet.hideName(), i.y = i.transformedPet.height / 2
						} catch (t) {
							a.Logger.log(t, a.LogLevel.Verbose)
						}
					})
				} else e.creatureName.setText(t.source.name), this.loadPetIcon(e, t.data.ID);
				var n = g.Util.convertLegacyElements(t.getElement());
				return "plant" === n && (n = "earth"), e.creatureDisplay.image.frameName = "pet-icon-backers/pet-icon-backers-" + n, e
			}, e.prototype.close = function() {
				this.removeListeners(), t.prototype.close.call(this)
			}, e.prototype.setupListeners = function() {
				for (var t = 0, e = this.currentCreatures; t < e.length; t++) {
					var i = e[t];
					if (i.data === this.game.prodigy.player.data) {
						this.game.broadcaster.addAppListener(c.ECreatureEvents.LevelUp, this.onMainPlayerLevelUp.bind(this), this, i);
						break
					}
				}
			}, e.prototype.removeListeners = function() {
				for (var t = 0, e = this.currentCreatures; t < e.length; t++) {
					var i = e[t];
					if (i.data === this.game.prodigy.player.data) {
						this.game.broadcaster.removeAppListener(c.ECreatureEvents.LevelUp, this, i);
						break
					}
				}
			}, e.prototype.onMainPlayerLevelUp = function(t) {/* NO CONJURE CUBES TODAY FAM
														(they're empty and empty conjure cubes are ew)
														
				for (var e = this.game.prodigy.player.getLevel(), i = e - t; i <= e; i++) {
					if (i % 5 == 0)
						if (this.game.prodigy.giftBoxController.getGiftBoxesCount(1) < i / 5) {
							var n = h.Items.getItem("giftBox", 1);
							this.conjureCubeDrops.push(n), this.game.prodigy.giftBoxController.receiveGiftBox(null, n)
						}
				}*/
			}, e.prototype.createChests = function(t, e, i) {
				var n = this;
				void 0 === t && (t = !0), void 0 === e && (e = []), void 0 === i && (i = []), this.chestGoldBackground.visible = !0, this.battleStarsEarned.visible = !1, this.bottomTitleText.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("OPEN_CHEST")), new r.ChestContainer(this.game, this.chestContainer, t, e, i, function(t) {
					n.choseMemberChest = t, n.runNextEvent()
				}), this.bottomSectionFadeInAnimation(this.bottomDisplayContainer)
			}, e.prototype.createJar = function() {
				this.starController.hasExpired() && this.starController.getNumberOfStoredStars() > 0 && !this.game.prodigy.player.hasMembership() && this.bottomMemberTitleText.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("JAR_EXPIRED")), this.starJar.beginAnimation(this.starXP), this.runNextEvent()
			}, e.prototype.loadPetIcon = function(t, e) {
				for (var i = 0; i < t.spriteHolder.children.length; i++) t.spriteHolder.children[i].destroy();
				t.spriteHolder.children = [];
				var n = this.game.prodigy.create.sprite(0, 0, "icon-pet-" + e, null, new Phaser.Point(.5, .5));
				return t.spriteHolder.add(n), n
			}, e.prototype.enableOverlay = function(t) {
				t && !g.Util.isValid(this.blackOverlay) ? (this.blackOverlay = this.uiRoot.add(this.game.prodigy.create.sprite(-10, -10, "atlas-18", "overlay-small")), this.blackOverlay.width = 1300, this.blackOverlay.height = 740, this.blackOverlay.alpha = .75) : !t && g.Util.isValid(this.blackOverlay) && (this.blackOverlay.destroy(), this.blackOverlay = null)
			}, e.prototype.playShineAnimation = function(t) {
				this.hasAnyEvents(t) ? (this.game.prodigy.audio.playSFX(32, "highlight"), this.creatureDisplays[t].characterShine.playAnimation("curve horiz", !1, this.runNextEvent.bind(this, 200))) : this.runNextEvent()
			}, e.prototype.launchSummaries = function(t) {
				this.summaryPopupControllers.push(new l.SummaryPopupController(this.currentCreatures[t], this.originalCreatures[t], this.game.prodigy.open, this.enableOverlay.bind(this, !0), this.processSummaryPopupController.bind(this))), this.processSummaryPopupController(), this.currentCreatures[t] instanceof p.Player && this.eventQueue.unshift(this.awardConjureCubeDrops.bind(this))
			}, e.prototype.showStarsEarned = function() {
				this.battleStarsEarned.visible = !0, this.game.add.tween(this.battleStarsEarned.scale).from({
					x: 0,
					y: 0
				}, 1e3, Phaser.Easing.Back.Out, !0).onComplete.add(this.runNextEvent.bind(this))
			}, e.prototype.animateDropIn = function() {
				this.game.add.tween(this.woodBackground).from({
					y: this.woodBackground.y - 1e3
				}, 1e3, Phaser.Easing.Cubic.Out, !0).onComplete.add(this.runNextEvent, this), g.Util.isValid(this.game.state.states.Battle.heartsLayer) && this.game.add.tween(this.game.state.states.Battle.heartsLayer).to({
					y: -300
				}, 1e3, Phaser.Easing.Cubic.In, !0)
			}, e.prototype.processSummaryPopupController = function() {
				(this.handleEvolutions(), this.summaryPopupControllers.length > 0) ? this.summaryPopupControllers.shift().launchSummaryPopups(): (this.enableOverlay(!1), this.runNextEvent())
			}, e.prototype.handleEvolutions = function() {
				for (var t = 0; t < this.creatureDisplays.length; t++) this.originalCreatures[t].data.ID !== this.currentCreatures[t].data.ID && (this.creatureDisplays[t].creatureName.setText(this.currentCreatures[t].getFirstName()), this.loadPetIcon(this.creatureDisplays[t], this.currentCreatures[t].data.ID))
			}, e.prototype.awardDrops = function() {
				if (this.drops.length > 0) {
					var t = this.drops;
					this.choseMemberChest && (t = t.concat(this.memberDrops)), this.game.prodigy.open.gotItem(t, this.runNextEvent.bind(this), null, "battle-victory-drops"), this.drops = [], this.memberDrops = []
				} else this.runNextEvent()
			}, e.prototype.awardConjureCubeDrops = function() {
				this.conjureCubeDrops.length > 0 ? (this.game.prodigy.open.gotItem(this.conjureCubeDrops, this.runNextEvent.bind(this), null, "receive-conjure-cube"), this.conjureCubeDrops = []) : this.runNextEvent()
			}, e.prototype.setupUIElements = function() {
				this.closeButton.onClickCallback = this.close.bind(this), this.starJar = new f.StarJarUI(this.game, this, this.memberXPGained.bind(this)), o.GameConstants.get("GameConstants.Build.DEBUG") && o.GameConstants.get("GameConstants.Debug.CLOSE_BATTLE_RESULTS_SCREEN") && this.showCloseButton(!0)
			}, e.prototype.memberXPGained = function(t, e) {
				void 0 === e && (e = !1), this.showCloseButton(!1), this.cloneCreatures();
				var i = {
					baseXP: t,
					memberXP: 0,
					pippetXP: 0,
					parentLinkXP: 0
				};
				if (e) this.buildPopupEvents(), this.eventQueue.push(this.unlockAcademyDialogue.bind(this)), this.eventQueue.push(this.showCloseButton.bind(this, !0));
				else
					for (var n = this.currentCreatures.length - 1; n >= 0; n--) this.eventQueue.unshift(this.launchSummaries.bind(this, n)), this.eventQueue.unshift(this.playShineAnimation.bind(this, n));
				this.applyXPGainToTeam(this.currentCreatures, i)
			}, e.prototype.applyXPGainToTeam = function(t, e) {
				for (var i = this, n = e.baseXP + e.parentLinkXP + e.pippetXP, a = 0, o = this.game.prodigy.audio.playSound(33, !0), r = function() {
						++a >= t.length && (o.stop(), i.runNextEvent())
					}, s = 0; s < t.length; s++) {
					var l = t[s].getLevel();
					this.doStarsGainAnimation(s, n, r.bind(this)), t[s].addStars(n), t[s].getLevel() > l && t[s].changeCurrentHearts(t[s].getMaxHearts())
				}(this.game.prodigy.player.hasMembership() && this.starController.getNumberOfStoredStars() > 0 || !this.game.prodigy.player.hasMembership() && !this.starController.hasExpired()) && this.starController.giveStoredMemberStars(this.starXP)
			}, e.prototype.doStarsGainAnimation = function(t, e, i) {
				var n = this,
					a = this.creatureDisplays[t],
					o = this.currentCreatures[t].getLevel(),
					r = u.Creature.levelFromStars(this.currentCreatures[t].getStars() + e),
					s = u.Creature.getLevelPercent(this.currentCreatures[t].getStars() + e);
				s = g.Util.clampedLerp(.085, 1, s);
				var l = {
						percent: g.Util.clampedLerp(.085, 1, u.Creature.getLevelPercent(this.currentCreatures[t].getStars())),
						level: o
					},
					c = l.percent;
				if (o >= 100 || r < o) i();
				else {
					a.xpBarGlow.playAnimation("idle", !0), this.game.prodigy.audio.playSFX(32, "highlight");
					var h = this.game.add.tween(l);
					h.onUpdateCallback(function() {
						a.xpBar.setPercentCompleteOffset(l.percent, -20), c > l.percent && (a.xpBarExplode.playAnimation("levelup"), l.level++, g.Util.isValid(n.levelUpSound) && n.levelUpSound.stop(), n.levelUpSound = n.game.prodigy.audio.playSFX(32, "levelUp"), setTimeout(function() {
							a.levelNumberText.setText(l.level.toString())
						}, 400)), c = l.percent
					});
					for (var p = o; p <= r && p <= 100; p++)
						if (100 === p) h.to({
							percent: 1
						}, 1e3, Phaser.Easing.Quadratic.Out);
						else if (p === r) {
						h.to({
							percent: s
						}, 1e3, Phaser.Easing.Quadratic.Out)
					} else h.to({
						percent: 1
					}, 1e3, Phaser.Easing.Quadratic.Out), h.to({
						percent: 0
					}, 1, Phaser.Easing.Linear.None);
					h.onComplete.add(i), h.onComplete.add(function() {
						a.xpBarGlow.playAnimation("idle", !1)
					}), h.start()
				}
			}, e.prototype.unlockAcademyDialogue = function() {
				if (!this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(d.Breadcrumbs.BREADCRUMB_UNLOCK_ACADEMY, d.Breadcrumbs.BREADCRUMB_UNLOCK_ACADEMY_NOOT_DIALOGUE) && this.game.prodigy.player.getLevel() >= o.GameConstants.get("GameConstants.Features.LevelLock.ACADEMY") && this.game.prodigy.player.backpack.hasItem("key", 22) <= 0) {
					var t = this.game.prodigy.gameContainer.get(a.GameIdentifiers.IFSMController),
						e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.FSMService);
					t.execute(e.getStateMachine(57), {
						game: this.game,
						menu: this
					}, null)
				} else this.runNextEvent()
			}, e.configModifiers = {}, e
		}(i(13).Menu);
	e.ResultsMenu = y
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(2),
		s = i(0),
		l = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i, 13, n) || this;
				return a.spinnerTween = null, a.spinner = null, a.closeButton = null, a.lowerPrizes = null, a.upperPrizes = null, a.contentBackground = null, a.titleText = null, a.disclaimer = null, a
			}
			return n(e, t), e.prototype.preprocess = function() {
				var t = this;
				this.queuePostCreateCallback(function() {
					t.closeButton.onClickCallback = t.close.bind(t), t.setup()
				})
			}, e.prototype.setup = function() {
				this.spinner.image.pivot.x = .5, this.spinner.image.pivot.y = .5, this.spinner.image.anchor.x = .5, this.spinner.image.anchor.y = .5, this.spinner.image.x += .5 * this.spinner.width, this.spinner.image.y += .5 * this.spinner.height, this.setSpinner(!0), this.game.prodigy.pvpNetworkHandler.getUserLeaderboard(this.populatePrizes.bind(this)), this.localize()
			}, e.prototype.populatePrizes = function(t) {
				for (var e = 0; e < t.seasonRewards.length; e++) this.addPrizeElement(t.seasonRewards[e], e < 2 ? this.upperPrizes : this.lowerPrizes, "prizeItem", "PVP_PRIZES_POINTS_REQUIREMENT");
				s.Util.isValid(t.reward) && this.addPrizeElement(t.reward, this.contentBackground, "grandPrize", "PVP_PRIZES_RANK_REQUIREMENT"), this.setSpinner(!1)
			}, e.prototype.addPrizeElement = function(t, e, i, n) {
				var o = r.Items.getItem(t.type, t.id),
					l = t.requirement,
					c = this.instantiateTemplate(i, e);
				c.prizeName.setText(o.data.name), c.infoButton.onClickCallback = this.viewPrizeInfo.bind(this, o), c.requirements.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(n, l.value));
				var h = this.game.prodigy.icon.createFromData(o, 0, 0, {
					x: .5,
					y: .5
				}, function(t) {
					c.prizeIcon.add(t)
				});
				s.Util.resizeSpriteMaintainingAspectRatio(h, c.background.width - 15, c.background.height - 15)
			}, e.prototype.setSpinner = function(t) {
				this.spinner.visible = t, t ? this.spinnerTween = this.game.add.tween(this.spinner.image).to({
					angle: 360
				}, 2e3, Phaser.Easing.Linear.None, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !1) : s.Util.isValid(this.spinnerTween) && this.spinnerTween.stop()
			}, e.prototype.localize = function() {
				this.titleText.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("PVP_PRIZES_TITLE")), this.disclaimer.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("PVP_PRIZES_DISCLAIMER"))
			}, e.prototype.viewPrizeInfo = function(t) {
				this.game.prodigy.open.itemInfo(t)
			}, e
		}(i(13).Menu);
	e.PVPPrizes = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i) {
			return t.call(this, e, i, 40, {}, ["atlas-172"]) || this
		}
		return n(e, t), e.prototype.create = function() {
			var e = this;
			t.prototype.create.call(this), this.findUIElement("backButton").onUpCallback = function() {
				e.close()
			}, this.findUIElement("loginButton").onUpCallback = function() {
				e.reloadPage()
			}
		}, e.prototype.reloadPage = function() {
			location.reload(!0)
		}, e
	}(i(13).Menu);
	e.ParentalLinkPopup = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(6),
		o = i(4),
		r = i(5),
		s = i(23),
		l = i(0),
		c = i(70),
		h = function() {
			function t(t) {
				this.game = null, this.membershipParentOpen = !1, this.game = t
			}
			return t.prototype.runFunction = function(t, e) {
				this.doesFunctionExist(t) ? this[t].apply(this, e) : n.Logger.log("Error " + t + " not found in MailerMethods", n.LogLevel.Verbose)
			}, t.prototype.doesFunctionExist = function(t) {
				return l.Util.isValid(this[t])
			}, t.prototype.openStore = function(t) {
				this.game.prodigy.open.store(t)
			}, t.prototype.openMembershipSignUp = function() {
				if (!this.game.prodigy.player.hasMembership()) {
					this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("Sneak-Peek-FTP", "Click-Become-Member").broadcast();
					var t = this.game.prodigy.player,
						e = l.Util.isValid(t.locationSelectionType) && t.locationSelectionType === o.default.get("GameConstants.LocationSelection.SCHOOL");
					this.membershipParentOpen || (this.membershipParentOpen = !0, this.game.prodigy.open.membershipParent(this, !e, null, null, null))
				}
			}, t.prototype.openGiftBox = function(t, e) {
				t.length > 0 && this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("Membership-Box-Collection", "Collect-Gift-Member").broadcast(), this.game.broadcaster.broadcast(r.EMailerEvents.GiftBoxOpened, "ProdigyMailer", []), this.game.prodigy.open.reward(e, t)
			}, t.prototype.openLink = function(t) {
				s.Device.isNativeApp() ? this.game.prodigy.open.message(this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText("OPEN_URL_IN_APP")) : l.Util.isValid(t) ? c.NetworkManager.openWebsite(t) : n.Logger.log("ERROR: Not a valid link!", n.LogLevel.Verbose)
			}, t
		}();
	e.MailerMethods = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = i(4),
		s = i(5),
		l = i(809),
		c = i(0),
		h = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i, 4, n) || this;
				return a.mailModel = null, a.attachments = [], a.attachmentImageID = 0, a.shouldRenderAttachments = !0, a.mailerMethods = null, a.closeButton = null, a.titleText = null, a.bodyText = null, a.imageContainer = null, a.imageLoader = null, a.loadingSpinner = null, a.actionButtonText = null, a.actionButtonContainer = null, a.actionButton = null, a.attachmentContainer = null, a.content = null, a.woodBackground = null, e.broadcaster.addAppListener(s.EMailerEvents.MarkAsRead, a.markAsReadFailed, a, "ProdigyMailer"), a.mailerMethods = new l.MailerMethods(e), a
			}
			return n(e, t), e.prototype.preprocess = function(t) {
				var e = this;
				this.mailModel = t, "noImage" !== t.image && this.addImageToAssets(t.image, t.vImage), this.queuePostCreateCallback(function() {
					e.tweenLoader(), e.render(), e.closeButton.onClickCallback = e.close.bind(e)
				}), 1 === this.mailModel.membership && this.matchGameMethod("openGiftBox") && (this.sendGameComplete("Membership-Box-Collection", "Open-Mail-MemberBox"), this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).create("monthly-member-box-opened", "conversion", "membership", "month").broadcast()), t.isOpened || this.matchGameMethod("openGiftBox") || this.queuePostCreateCallback(function() {
					e.game.broadcaster.broadcast(s.EMailerEvents.MarkAsRead, "ProdigyMailView", [function() {
						e.markReadSuccess()
					}, e.mailModel])
				})
			}, e.prototype.close = function() {
				this.game.broadcaster.removeAppListener(s.EMailerEvents.MarkAsReadFailure, this, "ProdigyMailer"), t.prototype.close.call(this), this.destroy()
			}, e.prototype.markReadSuccess = function() {
				1 === this.mailModel.membership ? this.sendGameComplete("Membership-Box-Collection", "Open-Mail-Member") : 2 === this.mailModel.membership && this.sendGameComplete("Sneak-Peek-FTP", "Open-Mail-NonMember-SneakPeek");
				var t = this.mailModel.attachments;
				!this.matchGameMethod("openGiftBox") && c.Util.isValid(t) && t.length > 0 && this.game.prodigy.open.gotItem(t, null, null, "mail-open")
			}, e.prototype.markAsReadFailed = function() {
				if (c.Util.isValid(this.game)) {
					var t = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
					this.game.prodigy.open.message(t.getText("MAIL_UNAVAILABLE"), this.closeOnFailed.bind(this), null, t.getText("MESSAGE_TITLE_OOPS"))
				}
			}, e.prototype.render = function() {
				this.titleText.setText(this.mailModel.subject.toUpperCase()), this.bodyText.setText(this.mailModel.message), this.renderImages(), this.renderCheckItOutButton(), this.renderAttachments(), this.resize()
			}, e.prototype.renderImages = function() {
				if ("noImage" !== this.mailModel.image) {
					var t = c.Util.isValid(this.mailModel.image) ? this.mailModel.image : "singleImage-22";
					this.game.prodigy.create.sprite(Math.floor(this.imageContainer.width / 2), Math.floor(this.imageContainer.height / 2), t, null, {
						x: .5,
						y: .5
					}, this.fixImage.bind(this), null, null)
				}
			}, e.prototype.tweenLoader = function() {
				if ("noImage" === this.mailModel.image) return this.imageContainer.destroy(), void this.resize();
				this.imageLoader.image.pivot.x = .5, this.imageLoader.image.pivot.y = .5, this.imageLoader.image.anchor.x = .5, this.imageLoader.image.anchor.y = .5, this.imageLoader.image.x += .5 * this.imageLoader.width, this.imageLoader.image.y += .5 * this.imageLoader.height, this.loadingSpinner = this.game.add.tween(this.imageLoader.image).to({
					angle: 360
				}, 2e3, Phaser.Easing.Linear.None, !0, 0, r.GameConstants.MAX_SAFE_INTEGER, !1)
			}, e.prototype.fixImage = function(t) {
				c.Util.isValid(this.loadingSpinner) && (this.loadingSpinner.stop(), this.loadingSpinner = null), this.imageLoader.visible = !1;
				var e = this.imageContainer.width - 40;
				if (this.imageContainer.add(t), t.smoothed = !1, t.y = .5 * this.imageContainer.height, t.width > e) {
					var i = 1 - (t.width - e) / e;
					t.scale.x = i, t.scale.y = i
				}
				this.resize()
			}, e.prototype.renderCheckItOutButton = function() {
				c.Util.isValid(this.mailModel.gameMethod) && this.mailerMethods.doesFunctionExist(this.mailModel.gameMethod.name) ? (this.matchGameMethod("openGiftBox") ? c.Util.isValid(this.actionButtonText) && (this.actionButtonText.setText("CLICK TO OPEN"), this.shouldRenderAttachments = !1, c.Util.isValid(this.mailModel.gameMethod.params) && 3 !== this.mailModel.gameMethod.params[0] || (this.mailModel.gameMethod.params = []), this.mailModel.attachments.length > 0 && this.actionButtonText.setText("OPEN MY BOX!"), c.Util.isValid(this.mailModel.gameMethod.params) && 0 !== this.mailModel.gameMethod.params.length || this.mailModel.gameMethod.params.push(this.mailModel.attachments)) : this.matchGameMethod("openMembershipSignUp") && this.actionButtonText.setText("BECOME A MEMBER!"), c.Util.isValid(this.mailModel.gameMethod.buttonText) && this.actionButtonText.setText(this.mailModel.gameMethod.buttonText), this.actionButtonContainer.visible = this.shouldShowActionButtonContainer(), this.actionButton.onClickCallback = this.runMailAction.bind(this, this.mailModel.gameMethod)) : this.actionButtonContainer.visible = !1
			}, e.prototype.shouldShowActionButtonContainer = function() {
				return !this.mailModel.isOpened || !this.matchGameMethod("openGiftBox")
			}, e.prototype.matchGameMethod = function(t) {
				return c.Util.isValid(this.mailModel.gameMethod) && this.mailModel.gameMethod.name === t
			}, e.prototype.renderAttachments = function() {
				var t = this;
				if (this.shouldRenderAttachments) {
					this.attachmentImageID = 0;
					for (var e = this.attachmentContainer, i = 0; i < this.mailModel.attachments.length; i++) {
						var n = this.instantiateTemplate("attachmentItem", e);
						this.attachments.push(n);
						var a = this.mailModel.attachments[i],
							o = this.game.prodigy.icon.iconKey(a);
						this.game.prodigy.icon.createIcon(Math.floor(.5 * n.attachmentItem.width), Math.floor(.5 * n.attachmentItem.height) - 3, o, {
							x: .5,
							y: .5
						}, function(e) {
							t.attachments[t.attachmentImageID++].attachmentImage.add(e)
						}), c.Util.isValid(a.N) && a.N > 1 && (n.amount.visible = !0, n.amount.setText(a.N.toString()))
					}
					this.attachments.length <= 0 && this.attachmentContainer.destroy()
				} else this.attachmentContainer.destroy()
			}, e.prototype.runMailAction = function(t) {
				this.game.prodigy.network.sendAnalytics("mail-check-it-out-clicked", "click-check-it-out-" + this.mailModel.subject, "Events"), this.matchGameMethod("openGiftBox") ? this.mailModel.isOpened || (this.mailModel.isOpened = !0, this.actionButtonContainer.visible = !1, this.mailerMethods.runFunction(this.mailModel.gameMethod.name, this.mailModel.gameMethod.params.concat(this.mailModel))) : (this.actionButtonContainer.visible = this.shouldShowActionButtonContainer(), this.mailerMethods.runFunction(t.name, t.params))
			}, e.prototype.resize = function() {
				this.content.layoutElement.calculateChildren();
				var t = this.content.layoutElement.getContentHeight() + 30;
				this.woodBackground.resize(this.woodBackground.width - 20, t), this.woodBackground.y = Math.floor((720 - t) / 2)
			}, e.prototype.closeOnFailed = function() {
				this.game.broadcaster.broadcast(s.EMailerEvents.CloseList, "ProdigyMailer"), this.close()
			}, e.prototype.addImageToAssets = function(t, e) {
				void 0 === e && (e = 1);
				var i = {};
				i[t] = {
					type: "singleImage",
					v: c.Util.isValid(e) ? e : 1
				}, this.game.prodigy.assets.appendAssets(i)
			}, e.prototype.sendGameComplete = function(t, e) {
				this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create(t, e).broadcast()
			}, e
		}(i(13).Menu);
	e.OpenMail = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i, n, o) {
				var r = t.call(this, e, i, 16, n, null, ["atlas-165", "atlas-128"]) || this;
				return a.Util.isValid(o) && r.onDestroy.add(o), r
			}
			return n(e, t), e.prototype.setCallbacks = function() {
				t.prototype.setCallbacks.call(this), this.closeButton.onUpCallback = this.close.bind(this)
			}, e
		}(i(300).PaginatedMenu);
	e.MembershipSuccess = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(187),
		r = i(11),
		s = i(354),
		l = i(141),
		c = i(5),
		h = i(12),
		u = i(0),
		p = function(t) {
			function e(i, n) {
				var a = t.call(this, i, n, 14, e.configModifiers) || this;
				return a.friendCellList = [], a.friendsList = [], a.classList = [], a.friendRequestList = [], i.broadcaster.addAppListener(c.EFriendsListEvents.RequestCancelled, a.onListUpdate.bind(a), a, "FriendsList"), i.broadcaster.addAppListener(c.EFriendsListEvents.FriendRemoved, a.onListUpdate.bind(a), a, "FriendsList"), i.broadcaster.addAppListener(c.EFriendsListEvents.RequestAccepted, a.onListUpdate.bind(a), a, "FriendsList"), i.broadcaster.addAppListener(c.EFriendsListEvents.RequestRejected, a.onListUpdate.bind(a), a, "FriendsList"), a
			}
			return n(e, t), e.prototype.preprocess = function() {
				this.getLists(), this.queuePostCreateCallback(this.fillView.bind(this, this.friendsList), this.setButtons.bind(this))
			}, e.prototype.onListUpdate = function() {
				this.getLists(), this.setButtons(), this.fillView(this.friendsList, !1)
			}, e.prototype.getLists = function() {
				this.game.prodigy.friendsListNetworkHandler.getFriendRequestList(0, 20), this.game.prodigy.friendsListNetworkHandler.getUserAppearance(this.game.prodigy.friendsListNetworkHandler.classList, !0), this.friendsList = this.game.prodigy.friendsListNetworkHandler.friendsList, this.classList = this.game.prodigy.friendsListNetworkHandler.classList, this.friendRequestList = this.game.prodigy.friendsListNetworkHandler.friendRequestList
			}, e.prototype.setButtons = function() {
				this.closeButton.onClickCallback = this.close.bind(this), this.friendButton.onUpCallback = this.fillView.bind(this, this.friendsList), this.classmatesButton.onUpCallback = this.fillView.bind(this, this.classList, !0), this.requestsButton.onUpCallback = this.game.prodigy.open.friendRequests.bind(this.game.prodigy.open, this.preprocess.bind(this)), this.requestsButton.visible = this.friendRequestList.length > 0
			}, e.prototype.setupScrollBar = function() {
				this.friendScrollView.linkScrollBar(this.friendScrollBar), this.friendScrollView.setToScrollPercent(0)
			}, e.prototype.fillView = function(t, e) {
				var i = this;
				void 0 === e && (e = !1), this.friendButton.setActive(e), this.classmatesButton.setActive(!e), this.clearScrollView(), o(t, function(t) {
					return !u.Util.isValid(t.appearance) || !u.Util.isValid(r(t, "data.level", null))
				});
				for (var n = s(l(t, function(t) {
						var e = new h.Player(i.game);
						return e.init(t), {
							player: e,
							status: t.status
						}
					}), function(t) {
						return t.player.getNameWithoutNickname()
					}), p = function(t) {
						if (!u.Util.isValid(n[t].player.appearance) || !u.Util.isValid(n[t].player.data) || !u.Util.isValid(n[t].player.data.level)) return "continue";
						if (!e) {
							for (var a = !1, o = 0; o < d.classList.length; o++) d.classList[o].userID === n[t].player.userID && (a = !0, d.game.broadcaster.broadcast(c.EFriendsListEvents.RemoveFriend, "FriendsList", [n[t].player.userID]));
							if (a) return "continue"
						}
						var r = d.instantiateTemplate("friendCell", d.friendContents);
						if (!e && 0 === n[t].status) {
							for (var s in r) "PendingText" !== s && r[s].setAll("tint", 13882323);
							r.PendingText.visible = !0
						}
						r.friendName.setText(n[t].player.getName().split(" ").join("\n")), r.levelText.setText(n[t].player.data.level.toString()), d.game.prodigy.create.player(r.friendFace, n[t].player, 1, 0, 0, !0, !0, !1, !0, !0).reload(), r.memberGraphic.visible = n[t].player.isMember, r.friendButton.onClickCallback = function() {
							i.game.prodigy.open.card(i.game.prodigy.friendsListNetworkHandler.getFriend(n[t].player.userID), !0)
						}, d.friendCellList.push(r)
					}, d = this, g = 0; g < n.length; g++) p(g);
				if (this.friendContents.layoutElement.calculateChildren(), this.friendScrollView.setupVisibleIndicies(), this.friendScrollView.calculateMaxScrollDist(), this.setupScrollBar(), n.length <= 0) {
					var f = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
					e ? this.noFriendsText.setText(f.getText("UI_ZONE_NO_CLASSMATES")) : this.noFriendsText.setText(f.getText("UI_ZONE_NO_FRIENDS"))
				}
				this.noFriendsElement.visible = n.length <= 0, this.friendScrollBar.visible = n.length > 2
			}, e.prototype.clearScrollView = function() {
				for (var t = 0; t < this.friendCellList.length; t++)
					for (var e in this.friendCellList[t]) this.friendCellList[t][e].destroy();
				this.friendCellList = [], this.setupScrollBar()
			}, e.prototype.close = function(e) {
				this.game.broadcaster.removeAppListener(c.EFriendsListEvents.RequestCancelled, this, "FriendsList"), this.game.broadcaster.removeAppListener(c.EFriendsListEvents.FriendRemoved, this, "FriendsList"), this.game.broadcaster.removeAppListener(c.EFriendsListEvents.RequestAccepted, this, "FriendsList"), this.game.broadcaster.removeAppListener(c.EFriendsListEvents.RequestRejected, this, "FriendsList"), u.Util.isValid(e) && e(), t.prototype.close.call(this)
			}, e.configModifiers = {}, e
		}(i(13).Menu);
	e.FriendsListMenu = p
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(0),
		r = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i, 24, n, ["atlas-169", "atlas-170"]) || this;
				return a.okayButton = null, a.okayText = null, a
			}
			return n(e, t), e.prototype.preprocess = function(t, e, i, n) {
				void 0 === e && (e = null), void 0 === i && (i = null);
				var a = o.Util.isValid(e) ? "[" + e + "] " + i : i;
				this.updateConfigModifierProperty("lockImage", "frameName", n), this.updateConfigModifierProperty("bannerText", "text", a), this.updateConfigModifierProperty("contentText", "text", t)
			}, e.prototype.setOkay = function(t, e) {
				void 0 === t && (t = null), this.okayButton.visible = !0, this.okayText.setText(o.Util.isValid(t) ? t : this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUTTON_OKAY_CAPITAL")), this.okayButton.onClickCallback = this.close.bind(this, e)
			}, e
		}(i(13).Menu);
	e.ClassModeMessage = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(96),
		o = i(11),
		r = i(2),
		s = i(29),
		l = i(119),
		c = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i, 38, {}, ["sfx-32", "spine-77", "spine-11"]) || this;
				return a.prizeItems = [], a.spineContainer = null, a.pageCombineSpine = null, a.morphMarbleIcon = null, a.prizeWheelID = n, a.prizeItems = l.Wheel.getWheelItems(e, a.prizeWheelID), a
			}
			return n(e, t), e.prototype.create = function() {
				var e = this;
				t.prototype.create.call(this), this.iconAssets = [], this.morphMarbles = [], this.prizeItems = a(this.prizeItems);
				for (var i = 0; i < this.prizeItems.length; i++) {
					var n = r.Items.getItem(this.prizeItems[i].item.type, this.prizeItems[i].item.ID);
					this.iconAssets.push(this.game.prodigy.icon.iconKey(n)), o(n, "data.effect.transform", null) && this.morphMarbles.push(i)
				}
				this.game.prodigy.load.assets(this.iconAssets, function() {
					e.getRouletteItems()
				})
			}, e.prototype.getRouletteItems = function() {
				var t = this.prizeItems.indexOf(s.Random.weightedArrayElement(this.prizeItems));
				this.rewardItem(t)
			}, e.prototype.rewardItem = function(t) {
				var e = this,
					i = r.Items.getItem(this.prizeItems[t].item.type, this.prizeItems[t].item.ID);
				this.pageCombineSpine = this.game.add.spine(0, 0, "spine-77"), this.pageCombineSpine.visible = !0, this.spineContainer.add(this.pageCombineSpine), this.pageCombineSpine.setToSetupPose(), this.spineTrack = this.pageCombineSpine.setAnimationByName(0, "animation", !1), this.game.time.events.add(4300, function() {
					e.spineTrack.timeScale = 0, e.spinShilouettes(i, t)
				})
			}, e.prototype.spinShilouettes = function(t, e) {
				var i = this,
					n = this.game.prodigy.icon.iconKey(t);
				this.morphMarbleIcon = this.game.add.spine(0, 0, "spine-11"), this.game.prodigy.create.sprite(0, 0, n, null, {
					x: .5,
					y: .5
				}, function(a) {
					i.spineContainer.add(a), a.scale.x = 2, a.scale.y = 2, a.x -= 30, a.y -= 30, a.tint = 3289650, a.addChild(i.morphMarbleIcon), i.morphMarbleIcon.setTint(a.tint), i.morphMarbleIcon.x = 30, i.morphMarbleIcon.y = 30, i.morphMarbleIcon.scale.x = .5, i.morphMarbleIcon.scale.y = .5;
					var o = {
							i: 0
						},
						r = i.game.add.tween(o);
					r.to({
						i: 3 * i.iconAssets.length
					}, 4e3, Phaser.Easing.Exponential.Out), r.onUpdateCallback(function() {
						var t = Math.floor(o.i) % i.iconAssets.length,
							e = i.iconAssets[t];
						a.loadTexture(e), i.morphMarbles.indexOf(t) >= 0 ? i.morphMarbleIcon.visible = !0 : i.morphMarbleIcon.visible = !1
					}), r.onComplete.addOnce(function() {
						a.loadTexture(n), i.morphMarbles.indexOf(e) >= 0 ? i.morphMarbleIcon.visible = !0 : i.morphMarbleIcon.visible = !1, i.popPrize(a, t, e)
					}), r.start()
				})
			}, e.prototype.popPrize = function(t, e, i) {
				var n = this,
					a = e;
				if (this.game.prodigy.player.isItemOwned({
						type: e.type,
						ID: e.ID
					})) {
					var o = {
						type: "currency",
						ID: 19,
						N: this.prizeItems[i].item.duplicateValue
					};
					a = o
				}
				var r = this.game.prodigy.event.create();
				r.delay(1500), r.function(function() {
					t.alpha = 0, n.spineTrack.timeScale = 1
				}), r.delay(100), r.function(function() {
					t.alpha = 1, t.tint = 16777215, n.morphMarbles.indexOf(i) >= 0 ? (n.morphMarbleIcon.visible = !0, n.morphMarbleIcon.setTint(16777215)) : n.morphMarbleIcon.visible = !1, t.sendToBack(), n.game.add.tween(t).to({
						y: Phaser.Math.between(-300, -200)
					}, 1e3, Phaser.Easing.Quadratic.Out).to({
						y: 800
					}, 1e3, Phaser.Easing.Quadratic.In).delay(400).start(), n.game.add.tween(t).to({
						x: Phaser.Math.between(-200, 200),
						angle: Math.floor(s.Random.integerInRange(90, 360))
					}, 2e3, Phaser.Easing.Linear.None).delay(400).start()
				}), r.delay(2200), r.function(function() {
					if ("currency" === a.type) {
						t.alpha = 0;
						for (var e = 0; e < a.N && e < 20; e++) {
							var i = n.game.prodigy.icon.createFromData(a, 0, 0, {
								x: .5,
								y: .5
							});
							n.spineContainer.add(i), i.x = t.x, i.y = t.y, n.game.add.tween(i).to({
								y: Phaser.Math.between(i.y - 400, i.y - 200)
							}, 400, Phaser.Easing.Quadratic.Out).to({
								y: 800
							}, 1e3, Phaser.Easing.Sinusoidal.In).start(), n.game.add.tween(i).to({
								x: Phaser.Math.between(-300, 300)
							}, 600, Phaser.Easing.Quadratic.Out).start(), n.game.add.tween(i).to({
								angle: Math.floor(s.Random.integerInRange(90, 360))
							}, 1400, Phaser.Easing.Quadratic.Out).start()
						}
					}
				}), r.delay(1400), r.function(function() {
					n.game.prodigy.open.gotItem([a], function() {
						n.showPrizes(a)
					}, null, null)
				}), r.start()
			}, e.prototype.showPrizes = function(t) {
				var e = this;
				this.game.prodigy.open.archivesPrizesMenu(3, function() {
					var i = e.game.prodigy.world.zones.archives;
					i.resetCooldown(), i.exitDungeon(t), e.close()
				})
			}, e
		}(i(13).Menu);
	e.ArchivesRoulette = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(34),
		o = i(2),
		r = i(0),
		s = i(119),
		l = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, 37, {}, ["sfx-32", "atlas-172"]) || this;
				return o.prizeItems = [], o.closeButton = null, o.upperPrizesPanel = null, o.lowerPrizesPanel = null, o.prizeWheelID = n, o.closeCallback = a, o.prizeItems = s.Wheel.getWheelItems(e, o.prizeWheelID), o
			}
			return n(e, t), e.prototype.create = function() {
				var e = this;
				t.prototype.create.call(this), this.closeButton.onClickCallback = function() {
					r.Util.isValid(e.closeCallback) && e.closeCallback(), e.close()
				}, this.populatePrizes(this.prizeItems)
			}, e.prototype.populatePrizes = function(t) {
				for (var e = 0; e < t.length; e++) {
					var i = o.Items.getItem(t[e].item.type, t[e].item.ID);
					this.addPrizeElement(i, e < 4 ? this.upperPrizesPanel : this.lowerPrizesPanel, this.checkItemOwned(i) ? "prizeItemPanel-owned" : "prizeItemPanel")
				}
			}, e.prototype.addPrizeElement = function(t, e, i) {
				var n = this.instantiateTemplate(i, e);
				n.itemName.setText(t.data.name), n[i].onClickCallback = this.viewPrizeInfo.bind(this, t);
				var a = this.game.prodigy.icon.createFromDataAdvanced(t, n.prizeGraphic, 0, 0, {
					x: .5,
					y: .5
				});
				a.children.length > 1 && (a.x = -10, a.y = -20, a.getChildAt(1).x = 10, a.getChildAt(1).y = -25)
			}, e.prototype.viewPrizeInfo = function(t) {
				this.game.prodigy.open.itemInfo(t, null, this.checkItemOwned(t) ? a.EItemInfoMode.Equip : null)
			}, e.prototype.checkItemOwned = function(t) {
				return "dorm" === t.type ? this.game.prodigy.player.hasHouseItem({
					type: t.type,
					ID: t.ID
				}) : this.game.prodigy.player.backpack.hasItem(t.type, t.ID) > 0
			}, e
		}(i(13).Menu);
	e.ArchivesPrizesMenu = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i, n, a, o, r) {
				void 0 === o && (o = !1);
				var s = t.call(this, e, i, 36, {}, ["sfx-32", "atlas-172"]) || this;
				return s.closeButton = null, s.leaveButton = null, s.stayButton = null, s.goldenPagesPanel = null, s.warningContainer = null, s.endRoom = !1, s.maxGoldenPages = n, s.currentGoldenPages = a, s.leaveCallback = r, s.endRoom = o, s
			}
			return n(e, t), e.prototype.create = function() {
				var e = this;
				t.prototype.create.call(this), this.closeButton.onUpCallback = function() {
					e.close()
				}, this.stayButton.onUpCallback = function() {
					e.close()
				}, this.leaveButton.onUpCallback = function() {
					e.onLeaveButtonClick()
				}, this.populatePageIcons(), this.endRoom || this.populateWarning()
			}, e.prototype.onLeaveButtonClick = function() {
				if (a.Util.isValid(this.leaveCallback)) this.leaveCallback();
				else {
					var t = this.game.prodigy.world.zones.archives;
					t.resetCooldown(), t.exitDungeon()
				}
				this.close()
			}, e.prototype.populatePageIcons = function() {
				for (var t = 0; t < this.maxGoldenPages; t++) t >= this.currentGoldenPages ? this.instantiateTemplate("greyedPageGraphic", this.goldenPagesPanel) : this.instantiateTemplate("goldenPageGraphic", this.goldenPagesPanel)
			}, e.prototype.populateWarning = function() {
				this.maxGoldenPages === this.currentGoldenPages ? this.instantiateTemplate("allPagesWarning", this.warningContainer) : this.instantiateTemplate("missingPagesWarning", this.warningContainer)
			}, e
		}(i(13).Menu);
	e.ArchivesExitMenu = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, 35, {}, ["sfx-32", "atlas-172", "atlas-173"]) || this;
				return o.closeButton = null, o.mainPanelButtons = null, o.actionContainer = null, o.lockoutTime = n, o.lastAttemptTime = a, o
			}
			return n(e, t), e.prototype.create = function() {
				var i = this;
				t.prototype.create.call(this), this.closeButton.onClickCallback = function() {
					i.close()
				};
				var n = e.getMinutesSinceLastArchiveAttempt(this.lastAttemptTime, Date.now());
				this.setEntranceTemplate(this.lockoutTime, n)
			}, e.prototype.onEnterButtonClick = function() {
				this.game.prodigy.world.zones.archives.enterDungeon()
			}, e.prototype.onCatalogButtonClick = function() {
				this.game.prodigy.open.archivesPrizesMenu(3)
			}, e.prototype.setEntranceTemplate = function(t, e) {
				var i = this,
					n = t / 6e4;
				if (e >= n) {
					var o = this.instantiateTemplate("unusedAttemptsTemplate", this.mainPanelButtons);
					o.enterButton.onUpCallback = function() {
						i.onEnterButtonClick()
					}, o.catalogButton.onUpCallback = function() {
						i.onCatalogButtonClick()
					}, this.instantiateTemplate("unusedAttemptsContent", this.actionContainer)
				} else {
					this.instantiateTemplate("maxAttemptsTemplate", this.mainPanelButtons).catalogSoloButton.onUpCallback = function() {
						i.onCatalogButtonClick()
					};
					var r = "" + (n - e);
					this.instantiateTemplate("maxAttemptsContent", this.actionContainer).timerText.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("ARCHIVES_ENTRANCE_TIMER", r))
				}
			}, e.getMinutesSinceLastArchiveAttempt = function(t, e) {
				return Math.floor((e - t) / 6e4)
			}, e
		}(i(13).Menu);
	e.ArchivesEntranceMenu = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i, n, o, r, s, l, c) {
				var h = t.call(this, e, i, n, o) || this;
				h.selected = !1, h.answerData = null, h.originalY = 0, h.callback = null, h.checkbox = null, h.originalY = o, h.answerData = s, h.callback = l;
				var u = h.game.prodigy.create.element(h, 0, 0);
				u.add(h.game.prodigy.create.sprite(0, 0, "atlas-21", a.Util.isValid(c) ? "survey/survey-box-icon" : "survey/survey-box-square-icon")), h.checkbox = h.game.prodigy.create.sprite(0, 0, "atlas-21", "survey/survey-check-icon"), h.checkbox.alpha = h.selected ? 1 : 0, u.add(h.checkbox);
				var p = h.game.prodigy.create.font(u, 70, 0, h.answerData.text, {
						width: r - 70,
						align: "left",
						size: 30
					}),
					d = h.game.prodigy.create.sprite(0, 0, "atlas-18", "empty");
				return d.width = r, d.height = p.height + 40, d.alpha = .5, u.add(d), d.inputEnabled = !0, d.input.useHandCursor = !0, d.events.onInputDown.add(h.onMouseDown, h), d.events.onInputUp.add(h.onMouseUp, h), d.events.onInputOver.add(h.onMouseOver, h), d.events.onInputOut.add(h.onMouseOut, h), h
			}
			return n(e, t), e.prototype.setSelected = function(t) {
				this.selected = t, this.checkbox.alpha = this.selected ? 1 : 0
			}, e.prototype.onMouseDown = function() {
				this.y = this.originalY
			}, e.prototype.onMouseUp = function() {
				this.setSelected(!this.selected), a.Util.isValid(this.callback) && this.callback(this)
			}, e.prototype.onMouseOver = function() {
				this.y = this.originalY - 2
			}, e.prototype.onMouseOut = function() {
				this.y = this.originalY
			}, e
		}(i(7).Element);
	e.CheckBoxButton = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(96),
		r = i(6),
		s = i(818),
		l = i(7),
		c = i(22),
		h = i(0),
		u = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i, 0, 0) || this;
				return a.surveyData = null, a.answers = [], a.answeredData = [], a.rearOverlay = null, a.container = null, a.doneButton = null, a.question = null, a.currentPage = -1, a.surveyData = n, a.createMenu(), a
			}
			return n(e, t), e.prototype.createMenu = function() {
				var t = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				switch (this.rearOverlay = this.add(this.game.prodigy.create.sprite(-5, -5, "atlas-18", "overlay-small")), this.rearOverlay.width = 1290, this.rearOverlay.height = 730, this.rearOverlay.alpha = .5, this.rearOverlay.inputEnabled = !0, this.game.add.tween(this.rearOverlay).from({
						alpha: 0
					}, 500, Phaser.Easing.Linear.None, !0), this.container = this.game.prodigy.create.element(this, 40, 40), this.container.setRenderState(!0), this.game.prodigy.create.panel(this.container, 0, 0, 30, 16, "shine"), 5 === this.surveyData.type ? this.doneButton = this.game.prodigy.create.textButton(this.container, .5 * this.container.width - 150, this.container.height - 70, {
						icon: "yes",
						text: t.getText("BUTTON_NEXT_CAPITAL"),
						size: c.TextButton.MED
					}, this.setupImagePool.bind(this)) : 2 === this.surveyData.type ? this.doneButton = this.game.prodigy.create.textButton(this.container, .5 * this.container.width - 150, this.container.height - 70, {
						icon: "yes",
						text: t.getText("BUTTON_NEXT_CAPITAL"),
						size: c.TextButton.MED
					}, this.setupRadioBox.bind(this)) : this.doneButton = this.game.prodigy.create.textButton(this.container, .5 * this.container.width - 150, this.container.height - 70, {
						icon: "yes",
						text: t.getText("SURVEY_BUTTON_DONE"),
						size: c.TextButton.MED
					}, this.onClose.bind(this)), this.surveyData.type) {
					case 1:
						this.setupCheckBox();
						break;
					case 2:
						this.setupRadioBox();
						break;
					case 3:
						this.setupImage();
						break;
					case 4:
						this.setupFeedback();
						break;
					case 5:
						this.setupImagePool();
						break;
					default:
						this.setupCheckBox()
				}
				this.game.add.tween(this.container).from({
					y: 720
				}, 600, Phaser.Easing.Back.Out, !0), this.checkDoneButton()
			}, e.prototype.onAnswerClicked = function(t) {
				if (this.game.prodigy.audio.playSFX(18, "pop"), this.doneButton.setEnabled(!0), 2 === this.surveyData.type) {
					for (var e = 0; e < this.answers.length; e++) this.answers[e].setSelected(!1);
					t.setSelected(!0)
				}
				this.checkDoneButton()
			}, e.prototype.checkDoneButton = function() {
				for (var t = 0; t < this.answers.length; t++)
					if (this.answers[t].selected) return void this.doneButton.setEnabled(!0);
				this.doneButton.setEnabled(!1)
			}, e.prototype.setupCheckBox = function() {}, e.prototype.setupRadioBox = function() {
				if (this.currentPage = this.currentPage + 1, this.currentPage === this.surveyData.question.length - 1) this.doneButton.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SURVEY_BUTTON_DONE"));
				else if (this.currentPage >= this.surveyData.question.length) {
					for (var t = 0; t < this.answers.length; t++) this.answers[t].selected && this.answeredData.push({
						selected: this.answers[t].selected,
						answerData: this.answers[t].answerData
					});
					return void this.onClose()
				}
				if (this.doneButton.setEnabled(!1), h.Util.isValid(this.question) && h.Util.isValid(this.answers)) {
					this.question.destroy();
					for (t = 0; t < this.answers.length; t++) this.answers[t].selected && this.answeredData.push({
						selected: this.answers[t].selected,
						answerData: this.answers[t].answerData
					}), this.answers[t].destroy()
				}
				this.question = this.game.prodigy.create.font(this.container, 30, 30, this.surveyData.question[this.currentPage], {
					width: this.container.width - 60,
					align: "center",
					size: 40
				}), this.surveyData.answers[this.currentPage] = o(this.surveyData.answers[this.currentPage]);
				for (t = 0; t < this.surveyData.answers[this.currentPage].length; t++) {
					var e = t > 0 ? this.answers[t - 1].y + this.answers[t - 1].height : 150;
					this.answers[t] = new s.CheckBoxButton(this.game, this.container, 155, e, 900, this.surveyData.answers[this.currentPage][t], this.onAnswerClicked.bind(this), !0)
				}
			}, e.prototype.setupImage = function() {}, e.prototype.setupImagePool = function() {}, e.prototype.setupFeedback = function() {}, e.prototype.onClose = function() {
				var t = this;
				this.game.prodigy.audio.playSFX(18, "pop"), this.game.add.tween(this.container).to({
					y: 720
				}, 600, Phaser.Easing.Back.In, !0).onComplete.add(function() {
					for (var e = "", i = 0; i < t.answeredData.length; i++) t.answeredData[i].selected && (e += t.answeredData[i].answerData.id + " - ");
					e = e.substring(0, e.length - 2), a.Logger.log("SurveyID: " + t.surveyData.id + "  -- Answer selected: " + e, a.LogLevel.Verbose), t.game.prodigy.network.sendAnalytics("Survey-" + t.surveyData.id, e, "Surveys");
					try {
						t.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("survey-results", {
							survey: t.surveyData.id,
							answer: h.Util.strip(t.answeredData[i].answerData.id)
						}), t.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("survey-results", h.Util.strip(t.answeredData[i].answerData.id), t.surveyData.id).broadcast()
					} catch (t) {}
					t.game.prodigy.open.gotItem([{
						type: "item",
						ID: 25,
						N: 1
					}], null, null, "survey"), t.game.prodigy.player.setSurvey(t.surveyData.id), t.game.prodigy.surveyController.getSurveyData(), t.destroy()
				})
			}, e
		}(l.Element);
	e.Survey = u
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(264),
		r = i(55),
		s = i(2),
		l = i(12),
		c = i(0),
		h = i(78),
		u = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i, 21, {
					hideMenu: !0,
					hideContent: !0,
					tile: "bg-tile-white"
				}) || this;
				return a.player = n, a.setup(), a
			}
			return n(e, t), e.prototype.menuSetup = function() {
				t.prototype.menuSetup.call(this);
				var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.scroll = this.game.prodigy.create.scrollBar(this, 60, 180, 345, this.setPage.bind(this)), this.playerCopy = new l.Player(this.game), this.data = new o.UserEquipment(this.game, this, 872, 200, this.playerCopy), this.content = this.game.prodigy.create.element(this, 0, 0), this.buyText = this.game.prodigy.create.font(this.data, 0, 250, e.getText("STYLIST_BUY_LOOK"), {
					size: 20,
					width: 348,
					align: "center"
				}), this.buyBtn = this.game.prodigy.create.textButton(this.data, 74, 290, {
					text: "250",
					textY: 5,
					icon: {
						needsMemberIcon: this.player.hasMembership(),
						atlas: "atlas-21",
						type: "item",
						ID: 26,
						metadata: {
							vIcon: 1
						}
					}
				}), this.game.prodigy.create.font(this, 50, 655, "[gold] " + this.game.prodigy.player.getGold(), {
					size: 40,
					iconOffsetY: 10
				}), this.buyBtn.visible = !1, this.buyText.visible = !1;
				var i = [{
					icon: "hair-2",
					callback: this.setStyles.bind(this),
					title: e.getText("STYLIST_CHOOSE_HAIR_STYLE")
				}, {
					icon: {
						type: "item",
						ID: "46",
						metadata: {
							vIcon: 1
						}
					},
					callback: this.setColors.bind(this),
					title: e.getText("STYLIST_CHOOSE_HAIR_COLOR")
				}, {
					icon: "eyes-2",
					callback: this.setEyes.bind(this),
					title: e.getText("STYLIST_CHOOSE_EYE_COLOR")
				}];
				this.showFrame("player", e.getText("STYLIST_TITLE"), i, 0);
				var n = this.game.prodigy.create.textButton(this, 0, 0, {
					icon: "close",
					text: e.getText("BUTTON_CLOSE")
				}, this.close.bind(this));
				this.showBtns([], [n]), this.setupComplete = !0
			}, e.prototype.resetPlayer = function() {
				var t = this.player.appearance.getHair();
				this.playerCopy.appearance.setGender(this.player.appearance.getGender()), this.playerCopy.appearance.setHair(t.style, t.color), this.playerCopy.appearance.setEyeColor(this.player.appearance.getEyeColor()), this.playerCopy.appearance.setSkinColor(this.player.appearance.getSkinColor()), this.playerCopy.appearance.setFace(this.player.appearance.getFace()), this.playerCopy.equipment.setOutfit(this.player.equipment.getOutfit(), !1), this.playerCopy.equipment.setHat(this.player.equipment.getHat(), !1), this.playerCopy.equipment.setWeapon(this.player.equipment.getWeapon(), !1), this.playerCopy.equipment.setBoots(this.player.equipment.getBoots(), !1), this.playerCopy.appearanceChanged = !0, this.buyBtn.visible = !1, this.buyText.visible = !1, this.data.user.reload()
			}, e.prototype.setPage = function(t) {
				this.content.removeAll(!0);
				for (var e = 0; e < 6; e++) {
					var i = 6 * t + e;
					i < this.current.length && this.showItem(this.current[i], 330 * Math.floor(e / 3) + 190, e % 3 * 120 + 180)
				}
			}, e.prototype.showItem = function(t, e, i) {
				var n = t.cost[0],
					o = this.game.prodigy.create.element(this.content, e, i),
					r = o.add(this.game.prodigy.create.sprite(0, 0, "atlas-19", "store-panel"));
				r.inputEnabled = !0, r.events.onInputDown.add(this.changeAppearance.bind(this, t), this);
				var s = o.add(this.game.prodigy.create.sprite(15, 15, "atlas-21", t.icon));
				"empty" === t.icon && (s.tint = t.tint), this.game.prodigy.create.font(o, 80, -2, t.name), this.game.prodigy.create.font(o, 70, 44, n.N <= 0 ? this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("ITEM_FREE") : "" + n.N, {
					size: 30,
					align: "right",
					width: 140
				}), this.costsGold(n) && o.add(this.game.prodigy.icon.gold(238, 60)), 1 === t.member && o.add(this.game.prodigy.create.sprite(90, 35, "atlas-21", "membership"))
			}, e.prototype.setStyles = function() {
				this.resetPlayer(), this.content.removeAll(!0), this.locked = !1, this.current = [];
				for (var t = "male" === this.playerCopy.appearance.getGender() ? [16, 17, 18, 19, 20, 21, 22, 23, 37, 40, 41, 42] : [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 38, 39, 43, 44], e = 0; e < t.length; e++) {
					var i = s.Items.getItem("hair", t[e]),
						n = {
							type: "hair",
							ID: i.ID,
							icon: i.metadata.icon,
							cost: [s.Items.getCost("hair", i.ID)],
							member: i.data.member,
							name: i.data.name
						};
					this.current.push(n)
				}
				this.scroll.setPages(Math.floor((this.current.length - 1) / 6) + 1)
			}, e.prototype.setColors = function() {
				this.resetPlayer(), this.content.removeAll(!0), this.locked = !1, this.current = [];
				for (var t = s.Items.getCategoryItems("hairColor"), e = 0; e < t.length; e++) {
					var i = {
						type: "hairColor",
						ID: t[e].ID,
						icon: "empty",
						cost: [s.Items.getCost("hairColor", t[e].ID)],
						member: t[e].data.member,
						name: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("STYLIST_HAIR_COLOR"),
						tint: c.Util.rgb2hex(t[e].data.colors[2][0], t[e].data.colors[2][1], t[e].data.colors[2][2])
					};
					this.current.push(i)
				}
				this.scroll.setPages(Math.floor((this.current.length - 1) / 6) + 1)
			}, e.prototype.setEyes = function() {
				this.resetPlayer(), this.content.removeAll(!0), this.locked = !1, this.current = [];
				for (var t = s.Items.getCategoryItems("eyeColor"), e = 0; e < t.length; e++) {
					var i = {
						type: "eyeColor",
						ID: t[e].ID,
						icon: "empty",
						cost: [s.Items.getCost("eyeColor", t[e].ID)],
						member: t[e].data.member,
						name: t[e].data.name,
						tint: c.Util.rgbArrayToHex(t[e].data.colors[0])
					};
					this.current.push(i)
				}
				this.scroll.setPages(Math.floor((this.current.length - 1) / 6) + 1)
			}, e.prototype.changeAppearance = function(t) {
				this.locked = 1 === t.member && !this.game.prodigy.player.hasMembership(), "eyeColor" === t.type ? this.playerCopy.appearance.setEyeColor(t.ID) : "hairColor" === t.type ? this.playerCopy.appearance.setHair(-1, t.ID) : "hair" === t.type && this.playerCopy.appearance.setHair(t.ID, -1), this.locked ? this.buyBtn.setIcon("membership") : this.buyBtn.setIcon("item/26"), this.buyBtn.callback = this.buy.bind(this, t), this.buyBtn.setText(t.cost[0].N.toString()), this.buyBtn.visible = !0, this.buyText.visible = !0, this.data.user.reload()
			}, e.prototype.buy = function(t) {
				this.locked && this.game.prodigy.network.sendAnalytics("Buy-Member-Style");
				var e = s.Items.getItem(t.type, t.ID).data,
					i = t.cost[0];
				this.player.hasMembership() || 1 !== e.member ? this.costsGold(i) || this.canPlayerAffordItem(i) ? this.costsGold(i) && !this.canPlayerAffordItemWithGold(i) ? this.player.hasMembership() ? this.displayPlayerNeedsMoreGoldMessage(i) : this.displayMemberAd(h.MemberAd.MORE_GOLD) : this.purchaseConfirmation(t) : this.displayYouNeedMoreItemsMessage(i) : this.displayMemberAd(h.MemberAd.STYLE)
			}, e.prototype.costsGold = function(t) {
				return "currency" === t.type && 1 === t.ID
			}, e.prototype.canPlayerAffordItem = function(t) {
				return this.player.backpack.hasItem(t.type, t.ID) >= t.N
			}, e.prototype.canPlayerAffordItemWithGold = function(t) {
				return this.player.getGold() >= t.N
			}, e.prototype.displayYouNeedMoreItemsMessage = function(t) {
				var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					i = s.Items.getItem(t.type, t.ID).data.icon,
					n = this.player.backpack.hasItem(t.type, t.ID),
					o = e.getText("PURCHASING_MESSAGE_NEED_MORE_CURRENCY_BODY", i, t.N, n);
				this.game.prodigy.open.message(o, null, "gold", e.getText("MESSAGE_TITLE_UH_OH"))
			}, e.prototype.displayPlayerNeedsMoreGoldMessage = function(t) {
				var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					i = e.getText("STYLIST_MESSAGE_NEED_MORE_GOLD_BODY", t.N, c.Util.numberToString(this.player.getGold()));
				this.game.prodigy.open.message(i, null, "gold", e.getText("MESSAGE_TITLE_UH_OH"))
			}, e.prototype.displayMemberAd = function(t) {
				this.game.prodigy.open.membershipInfo(null, {}, t)
			}, e.prototype.purchaseConfirmation = function(t) {
				var e = t.cost[0],
					i = s.Items.getItem(e.type, e.ID).data,
					n = e.N + " " + i.name,
					o = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("STYLIST_CONFIRM_MESSAGE_BODY", n);
				this.game.prodigy.open.messageBox(o, this.completePurchase.bind(this, e))
			}, e.prototype.completePurchase = function(t) {
				this.costsGold(t) ? this.game.prodigy.player.changeGold(-t.N, "Stylist") : this.game.prodigy.player.backpack.consume(t.type, t.ID, t.N);
				var e = this.playerCopy.appearance.getHair();
				this.player.appearance.setHair(e.style, e.color), this.player.appearance.setEyeColor(this.playerCopy.appearance.getEyeColor()), this.player.appearanceChanged = !0, this.close()
			}, e
		}(r.LegacyMenu);
	e.Stylist = u
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i, 10) || this;
				return n.bountyPointRequirementText = null, n.bountyPageLockedText = null, n
			}
			return n(e, t), e.prototype.setupInfoPanel = function() {
				var t = this.game.prodigy.create.element(this, 80, 360);
				this.game.prodigy.create.panel(t, 0, 0, 8, 6, "white").alpha = .5, t.add(this.game.prodigy.create.sprite(160, 50, "atlas-21", "emblem-bounty", new Phaser.Point(.5, 0))), this.bountyPointRequirementText = this.game.prodigy.create.font(t, 0, 5, "", {
					width: 320,
					align: "center",
					fontID: 9,
					size: 36
				}), this.bountyPageLockedText = this.game.prodigy.create.font(t, 0, 175, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("RANK_STORE_NOT_REACHED"), {
					width: 320,
					align: "center",
					size: 20
				})
			}, e.prototype.setMode = function(i) {
				t.prototype.setMode.call(this, i), this.bountyPointRequirementText.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BOUNTY_POINTS_" + e.POINT_REQUIREMENTS[i])), this.bountyPageLockedText.visible = this.game.prodigy.player.getBountyScore() < e.POINT_REQUIREMENTS[i]
			}, e.prototype.itemClicked = function(i) {
				this.game.prodigy.player.getBountyScore() < e.POINT_REQUIREMENTS[this.page] ? this.game.prodigy.open.message(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("RANK_STORE_HIGHER_BOUNTY_MESSAGE", e.POINT_REQUIREMENTS[this.page])) : t.prototype.itemClicked.call(this, i)
			}, e.POINT_REQUIREMENTS = [5, 20, 50, 100], e
		}(i(267).Store);
	e.BountyStore = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(14),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i, 18, {
					isModal: !1,
					backgroundAlpha: 0
				}, ["atlas-166", "atlas-168"]) || this;
				n.currentCollection = 0, n.numberOfCollections = 1, n.badgeData = [], n.badgesNames = ["Stone", "Amber", "Garnet", "Emerald", "Ruby", "Topaz", "Amethyst", "Diamond"], n.topicFillFrames = ["gray-large-fill", "yellow-large-fill", "bronze-large-fill", "green-large-fill", "pink-large-fill", "gold-large-fill", "purple-large-fill", "blue-large-fill"], n.collectionElements = [], n.game = e;
				try {
					n.badgeData = n.game.prodigy.education.getAllTopicBadges()
				} catch (t) {
					n.badgeData = []
				}
				return n.numberOfCollections = null !== n.badgeData ? n.badgeData.length : 0, t.prototype.queuePostCreateCallback.call(n, function() {
					n.collectionElements = [n.badgeProgressSlider, n.badgeProgressText, n.collectionNameText, n.collectionIcon, n.leftButton, n.rightButton]
				}, function() {
					n.setupArrows()
				}, function() {
					n.switchCollection(n.game.prodigy.player.grade - 1)
				}, function() {
					n.setupScrollBar()
				}), n
			}
			return n(e, t), e.prototype.setupScrollBar = function() {
				this.topicScrollView.linkScrollBar(this.topicScrollBar)
			}, e.prototype.setupArrows = function() {
				var t = this;
				this.skillsMasteredText.setText("Skills Mastered: " + e.getAllSkillsMastered(this.badgeData)), this.badgesEarnedText.setText("Badges Completed: " + e.getAllBadgesCompleted(this.badgeData)), this.leftButton.onClickCallback = function() {
					t.switchCollection(-1)
				}, this.rightButton.onClickCallback = function() {
					t.switchCollection(1)
				}, this.game.prodigy.breadcrumbManager.completeBreadcrumb(a.Breadcrumbs.FEATURE_BADGES, a.Breadcrumbs.BREADCRUMB_CLICKED_BADGES_BUTTON)
			}, e.prototype.switchCollection = function(t) {
				for (var i = 0 === this.badgeData.length, n = 0; n < this.collectionElements.length; n++) this.collectionElements[n].visible = !i;
				if (!i) {
					this.currentCollection += t, this.currentCollection >= this.numberOfCollections ? this.currentCollection = 0 : this.currentCollection < 0 && (this.currentCollection = this.numberOfCollections - 1), this.collectionIcon.setImageFrameName("collections-" + this.badgeData[this.currentCollection].gameIconAssetId), this.collectionNameText.setText(this.badgesNames[this.currentCollection] + " Badges"), this.checkForBreadcrumbs(this.badgeData[this.currentCollection]);
					var a = this.badgeData[this.currentCollection].topics;
					this.fillTopics(a);
					var o = e.getBadgesCompleted(this.badgeData[this.currentCollection].topics);
					this.badgeProgressSlider.setActive3SlicedImage("scroll-tracks/" + this.topicFillFrames[this.currentCollection]), this.badgeProgressSlider.setPercentComplete(o / a.length, !0), this.badgeProgressText.setText(o + "/" + a.length + " Badges")
				}
			}, e.prototype.checkForBreadcrumbs = function(t) {
				var e = !1,
					i = this.game.prodigy.education.getRankUpBadges(),
					n = 0;
				if (o.Util.isValid(i) && i.length > 0)
					for (var a = 0; a < i.length; a++)
						if (i[a].collectionId === t.id) {
							for (var r = 0; r < t.topics.length; r++) t.topics[r].id === i[a].topicId && (e = t.topics[r].numSkillsMastered >= t.topics[r].ranks[t.topics[r].ranks.length - 1]);
							n = a
						} this.collectionIconBreadcrumb.visible = e, e && i.splice(n, 1)
			}, e.prototype.fillTopics = function(i) {
				this.topicScrollView.clearScrollView();
				for (var n = 0; n < i.length; n++) {
					var a = t.prototype.instantiateTemplate.call(this, "topicCell", this.topicContents);
					a.topicText.setText(i[n].name), a.topicButton.setImageFrameName("badges-" + i[n].gameIconAssetId), a.topicProgressSlider.setActive3SlicedImage("scroll-tracks/" + this.topicFillFrames[this.currentCollection]), e.fillTopicStars(a, i[n])
				}
				this.topicContents.layoutElement.calculateChildren(), this.topicScrollView.setupVisibleIndicies(), this.topicScrollView.calculateMaxScrollDist()
			}, e.fillTopicStars = function(t, i) {
				var n = [];
				switch (i.ranks.length) {
					case 1:
						n.push(4);
						break;
					case 2:
						n.push(3, 5);
						break;
					case 3:
						n.push(3, 4, 5);
						break;
					case 4:
						n.push(2, 3, 5, 6);
						break;
					case 5:
						n.push(2, 3, 4, 5, 6);
						break;
					case 6:
						n.push(1, 2, 3, 5, 6, 7);
						break;
					case 7:
						n.push(1, 2, 3, 4, 5, 6, 7)
				}
				for (var a = 0; a < i.ranks.length; a++) t["progressStar" + n[a]].visible = !0, i.numSkillsMastered >= i.ranks[a] && t["progressStar" + n[a]].setImageFrameName("tier-on");
				e.setSkillsProgress(t, i)
			}, e.setSkillsProgress = function(t, e) {
				var i = 0;
				if (e.numSkillsMastered >= e.ranks[e.ranks.length - 1]) t.topicProgressText.setText("Complete"), i = 1;
				else
					for (var n = 0; n < e.ranks.length; n++)
						if (e.numSkillsMastered < e.ranks[n]) {
							t.topicProgressText.setText(e.numSkillsMastered + " / " + e.ranks[n] + " Skills"), i = e.numSkillsMastered / e.ranks[n];
							break
						} t.topicProgressSlider.setPercentComplete(i, !0)
			}, e.getBadgesCompleted = function(t) {
				for (var e = 0, i = 0; i < t.length; i++) t[i].numSkillsMastered >= t[i].ranks[t[i].ranks.length - 1] && e++;
				return e
			}, e.getAllSkillsMastered = function(t) {
				for (var e = 0, i = 0; i < t.length; i++)
					for (var n = 0; n < t[i].topics.length; n++) e += t[i].topics[n].numSkillsMastered;
				return e
			}, e.getAllBadgesCompleted = function(t) {
				for (var e = 0, i = 0; i < t.length; i++)
					for (var n = 0; n < t[i].topics.length; n++) t[i].topics[n].numSkillsMastered >= t[i].topics[n].ranks[t[i].topics[n].ranks.length - 1] && e++;
				return e
			}, e.prototype.addTransparent = function(e) {
				t.prototype.addTransparent.call(this, 0), this.background.children.slice(-1)[0].inputEnabled = !1
			}, e
		}(i(13).Menu);
	e.BadgesMenu = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(7),
		r = i(2),
		s = i(12),
		l = i(44),
		c = i(0),
		h = function(t) {
			function e(e, i, n, o, r) {
				var s = t.call(this, e, i, n - 40, o) || this;
				return s.leadersPerPage = 7, s.player = null, s.leaders = null, s.page = 0, s.yourRankPanel = null, s.yourRankTitle = null, s.seasonPrizesContainer = null, s.seasonPrizesText = null, s.seasonPrizeIcon = null, s.list = null, s.player = s.game.prodigy.player, s.leaders = r, c.Util.isValid(s.game.prodigy.pvpNetworkHandler.seasonID) ? s.game.prodigy.pvpNetworkHandler.getUserRank(s.player.userID, s.getUserRankSuccess.bind(s), s.addErrorBanner.bind(s, s.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("LEADERBOARD_ERROR_TEMPORARILY_UNAVAILABLE"))) : s.game.prodigy.pvpNetworkHandler.isInitialized ? s.addErrorBanner(s.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SEASON_COMPLETED")) : s.addErrorBanner(s.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("LEADERBOARD_ERROR_TEMPORARILY_UNAVAILABLE")), s.registerGetElementListener(), s
			}
			return n(e, t), e.prototype.createIcon = function(t, e, i) {
				var n = this.game.prodigy.create.element(t, e, i);
				return this.game.prodigy.create.panel(n, 0, 0, 12, 1, "lb").setClickable(this.openCard.bind(this, n)), n.curr = this.game.prodigy.create.panel(n, 0, 0, 12, 1, "lb-green"), n.curr.setClickable(this.openCard.bind(this, n)), n.curr.visible = !1, n.place = this.game.prodigy.create.font(n, 10, 0, "", {
					width: 50,
					align: "center",
					size: 30
				}), n.nameFont = this.game.prodigy.create.font(n, 70, 10, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("PVP_PLAYERNAME"), {
					size: 16,
					width: 350,
					align: "left"
				}), n.typeFont = this.game.prodigy.create.font(n, 100, 8, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("PVP_WIN_LOSS"), {
					size: 20,
					width: 350,
					align: "right"
				}), this.setIconData(n, null), n
			}, e.prototype.addErrorBanner = function(t) {
				var e = [{
					type: "SlicedGraphic",
					anchorX: 0,
					anchorY: 0,
					x: 290,
					y: 100,
					width: 620,
					height: 200,
					atlasName: "ui-shared",
					baseFrameName: "bases/matte",
					sliceType: "nineScale",
					children: [{
						type: "Text",
						name: "titleText",
						anchorX: 0,
						anchorY: 0,
						x: 20,
						y: 20,
						width: 580,
						height: 160,
						text: t.toUpperCase(),
						font: "black",
						fontSize: 20,
						horizontalAlignment: "center",
						verticalAlignment: "center"
					}]
				}];
				new l.UIParser(this.game).createUIElements(e, this)
			}, e.prototype.openCard = function(t) {
				var e = null;
				t.data.id === this.game.prodigy.player.userID ? e = this.game.prodigy.player : (e = new s.Player(this.game)).init(t.data), this.game.prodigy.open.card(e, !0, !0)
			}, e.prototype.setIconData = function(t, e) {
				if (c.Util.isValid(e)) {
					var i = e.place,
						n = e.isMember ? "@ " : "",
						a = new s.Player(this.game);
					a.init(e), t.place.setText(i.toString()), t.typeFont.setText("[arena]" + e.points);
					var o = a.getName();
					o.length > 18 && (o = o.substring(0, 18) + "..."), t.nameFont.setText(n + o), t.curr.visible = e.id === this.game.prodigy.player.userID, t.data = e
				} else c.Util.isValid(t) && delete t.data;
				t.visible = c.Util.isValid(e)
			}, e.prototype.renderUserRankContainer = function() {
				this.yourRankPanel = this.game.prodigy.create.panel(this, 32, 20, 14, 8, "bases/matte"), this.game.prodigy.create.panel(this.yourRankPanel, 40, -23, 12, 0, "banners/tag"), this.game.prodigy.create.panel(this.yourRankPanel, 20, -5, 1, 0, "banners/rope-horiz"), this.game.prodigy.create.panel(this.yourRankPanel, 500, -5, 1, 0, "banners/rope-horiz"), this.yourRankTitle = this.game.prodigy.create.font(this.yourRankPanel, 0, -20, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SEASON_YOUR_RANK_TITLE"), {
					fontID: 9,
					size: 36,
					width: 560,
					align: "center"
				});
				var t = this.game.prodigy.create.sprite(0, 220, "atlas-18", "overlay-light", null, null, 560, 60);
				t.alpha = .25, this.yourRankPanel.add(t);
				this.yourRankPanel.yourPoints = this.game.prodigy.create.font(this.yourRankPanel, 40, 220, "", {
					size: 20,
					align: "right",
					width: 480
				}), this.yourRankPanel.yourNextRank = this.game.prodigy.create.font(this.yourRankPanel, 40, 250, "", {
					size: 20,
					align: "right",
					width: 480
				})
			}, e.prototype.getUserRankSuccess = function(t) {
				this.renderUserRankContainer(), this.renderSeasonPrizesContainer(), this.renderSeasonLeaderboardContainer(), this.renderUserRank(t), this.game.prodigy.pvpNetworkHandler.getSeasonLeaderboard(0, 30, this.getSeasonLeaderboardSuccess.bind(this))
			}, e.prototype.renderUserRank = function(t) {
				c.Util.isValid(this.yourRankPanel.player) && this.yourRankPanel.player.destroy(), this.yourRankPanel.player = this.game.prodigy.create.player(this.yourRankPanel, this.game.prodigy.player, 2, 135, 270, !1, !0), this.yourRankPanel.player.reload(), t.rank > 0 ? this.yourRankTitle.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SEASON_YOUR_RANK", t.rank)) : this.yourRankTitle.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SEASON_YOUR_RANK", this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("RANKS_UNRANKED"))), this.yourRankPanel.yourPoints.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SEASON_YOUR_POINTS", t.points));
				var e = t.toNextRank,
					i = "SEASON_NEXT_RANK";
				t.rank > 1e3 && (e = t.toBaseRank, i = "SEASON_TO_TOP"), e > 0 && this.yourRankPanel.yourNextRank.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(i, e))
			}, e.prototype.getSeasonLeaderboardSuccess = function(t) {
				this.renderSeasonPrizes(t), this.renderSeasonLeaderboard(t)
			}, e.prototype.renderSeasonPrizesContainer = function() {
				this.seasonPrizesContainer = this.game.prodigy.create.panel(this, this.yourRankPanel.x, this.yourRankPanel.y + 320 + 14, 14, 2, "bases/matte");
				var t = 90,
					e = 10;
				this.seasonPrizesText = this.game.prodigy.create.font(this.seasonPrizesContainer, t, e, "", {
					size: 20,
					width: 560 - t,
					align: "left"
				})
			}, e.prototype.renderSeasonPrizes = function(t) {
				var e = t.reward,
					i = r.Items.getItem(e.type, e.id);
				this.seasonPrizeIcon = this.game.prodigy.icon.createFromData(i, 0, 0, null, null, 80, 80), this.seasonPrizesContainer.add(this.seasonPrizeIcon), this.seasonPrizesText.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SEASON_TOP_PLAYERS", i.data.name)), this.renderSeasonLeaderboard(t)
			}, e.prototype.renderSeasonLeaderboardContainer = function() {
				this.list = this.game.prodigy.create.panel(this, this.yourRankPanel.x + 560 + 14, this.yourRankPanel.y, 14, 10.35, "bases/matte"), this.game.prodigy.create.panel(this.list, 40, -23, 12, 0, "banners/tag"), this.game.prodigy.create.panel(this.list, 20, -5, 1, 0, "banners/rope-horiz"), this.game.prodigy.create.panel(this.list, 500, -5, 1, 0, "banners/rope-horiz"), this.game.prodigy.create.font(this.list, 0, -20, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("ARENA_LEADERBOARD_TOP_PLAYERS"), {
					fontID: 9,
					size: 36,
					width: 560,
					align: "center"
				}), this.list.error = this.game.prodigy.create.font(this.list, 20, 100, "", {
					size: 20,
					width: 560,
					align: "center"
				}), this.list.error.visible = !1, this.list.chars = this.game.prodigy.create.element(this.list), this.list.icons = [];
				for (var t = 0; t < this.leadersPerPage; t++) this.list.icons.push(this.createIcon(this.list.chars, 25, 45 * t + 63));
				this.list.bar = this.game.prodigy.create.slider(this.list, 485, 63, 310, !0, !0)
			}, e.prototype.renderSeasonLeaderboard = function(t) {
				if (c.Util.isValid(this.game)) {
					if (!c.Util.isValid(t)) return this.list.error.visible = !0, c.Util.isValid(this.list.chars) && c.Util.isValid(this.list.bar) && (this.list.chars.visible = !1, this.list.bar.visible = !1), void this.list.error.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("LEADERBOARD_ERROR_LOADING_BOARD"));
					this.list.error.visible = !1, this.list.chars.visible = !0, this.list.bar.visible = !0, this.leaders = t.playerList, this.leaders.length > 0 && this.getPlayerListData(this.leaders)
				}
			}, e.prototype.getPlayerListData = function(t) {
				var e = c.Util.joinByProperty(t, "id");
				this.game.prodigy.network.getCharData(e, ["appearance", "isMember", "equipment", "data"], this.onGetPlayerListDataSuccess.bind(this))
			}, e.prototype.onGetPlayerListDataSuccess = function(t) {
				if (c.Util.isValid(this.game)) {
					for (var e = 0, i = null, n = 0; n < this.leaders.length; n++)
						for (var a in t)
							if (this.leaders[n].id === parseInt(a)) {
								var o = this.leaders[n].points;
								if (this.leaders[n] = {}, this.leaders[n].data = t[a], this.leaders[n].points = c.Util.isValid(o) ? o : "N/A", !c.Util.isValid(t[a].data)) {
									this.leaders.splice(n, 1), n--;
									break
								}
								for (var r in i = t[a].data) "stars" !== r && (this.leaders[n].data[r] = i[r]);
								this.leaders[n].appearance = t[a].appearance, this.leaders[n].equipment = t[a].equipment, this.leaders[n].isMember = !!c.Util.isValid(t[a].isMember) && t[a].isMember, this.leaders[n].place = e + 1, this.leaders[n].id = parseInt(a), e++
							} e > 0 && this.list.bar.reset(e, this.leadersPerPage, 0, this.setPage.bind(this))
				}
			}, e.prototype.setPage = function(t) {
				var e = Math.round(t);
				if (c.Util.isValid(this.leaders)) {
					this.page = e;
					for (var i = 0; i < this.leadersPerPage; i++) {
						var n = this.page + i;
						this.setIconData(this.list.icons[i], this.leaders[n])
					}
				}
			}, e
		}(o.Element);
	e.SeasonLeaders = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = i(7),
		s = i(5),
		l = i(2),
		c = i(12),
		h = i(180),
		u = i(44),
		p = i(0),
		d = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, n, a) || this;
				return o.seasonBanner = null, o.seasonCountdown = null, o.detailsPanel = null, o.bonusTimer = null, o.seasonTimer = null, o.weeklyBonus = null, o.message = null, o.registerGetElementListener(), o.checkDeserter(), o.setup(), o
			}
			return n(e, t), e.prototype.setup = function() {
				p.Util.isValid(this.game.prodigy.pvpNetworkHandler.seasonID) ? this.game.prodigy.pvpNetworkHandler.getUserLeaderboard(this.onGetUserLeaderboard.bind(this), this.addErrorBanner.bind(this, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("LEADERBOARD_ERROR_TEMPORARILY_UNAVAILABLE"))) : this.game.prodigy.pvpNetworkHandler.isInitialized ? this.addErrorBanner(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SEASON_COMPLETED")) : this.addErrorBanner(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("LEADERBOARD_ERROR_TEMPORARILY_UNAVAILABLE"))
			}, e.prototype.addErrorBanner = function(t) {
				var e = [{
					type: "SlicedGraphic",
					anchorX: 0,
					anchorY: 0,
					x: 250,
					y: 100,
					width: 620,
					height: 200,
					atlasName: "ui-shared",
					baseFrameName: "bases/matte",
					sliceType: "nineScale",
					children: [{
						type: "Text",
						name: "titleText",
						anchorX: 0,
						anchorY: 0,
						x: 20,
						y: 20,
						width: 580,
						height: 160,
						text: t.toUpperCase(),
						font: "black",
						fontSize: 20,
						horizontalAlignment: "center",
						verticalAlignment: "center"
					}]
				}];
				new u.UIParser(this.game).createUIElements(e, this)
			}, e.prototype.onGetUserLeaderboard = function(t) {
				this.seasonBanner = this.addSeasonBanner(), this.addButtons(), this.addProgressPanel(t), this.addWeeklyBonus(t), this.startTimers(t), this.game.prodigy.load.assets(["atlas-157"], this.addBannerInfo.bind(this, t))
			}, e.prototype.addButtons = function() {
				var t = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					e = this.game.prodigy.create.button(this, this.seasonBanner.x + 122, this.seasonBanner.y + 208, "atlas-151", "find-challenger-button", this.tryFindChallenger.bind(this)),
					i = this.game.prodigy.create.button(this, e.x + 6, e.y + 167, "atlas-151", "view-season-prizes", this.viewPrizes.bind(this));
				this.game.prodigy.create.font(i.sprite, 0, 10, t.getText("SEASON_DETAILS_PRIZE_BUTTON"), {
					fontID: 10,
					size: 16,
					width: 258,
					align: "center"
				}), this.game.prodigy.create.font(e.sprite, 0, 35, t.getText("SEASON_DETAILS_CHALLENGE_BUTTON_FIND"), {
					fontID: 9,
					size: 36,
					width: 270,
					align: "center"
				}), this.game.prodigy.create.font(e.sprite, 0, 70, t.getText("SEASON_DETAILS_CHALLENGE_BUTTON_CHALLENGER"), {
					fontID: 9,
					size: 36,
					width: 270,
					align: "center"
				})
			}, e.prototype.addSeasonBanner = function() {
				var t = this.game.prodigy.create.sprite(15, 0, "atlas-151", "season-details-banner");
				return this.add(t), this.seasonCountdown = this.game.prodigy.create.font(t, 0, 123, "", {
					fontID: 10,
					size: 16,
					width: 512,
					align: "center"
				}), t
			}, e.prototype.addBannerInfo = function(t) {
				this.game.prodigy.create.font(this.seasonBanner, 0, 30, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MONTH_NAME_" + (new Date(t.startDate).getUTCMonth() + 1)), {
					fontID: 10,
					size: 20,
					width: 512,
					align: "center"
				});
				var e = {
					elements: [{
						type: "Text",
						name: "titleText",
						anchorX: .5,
						anchorY: .5,
						x: 257,
						y: 85,
						width: 512,
						height: 100,
						text: t.name.toUpperCase(),
						fontID: 157,
						fontSize: 0,
						horizontalAlignment: "center",
						verticalAlignment: "center"
					}]
				};
				new u.UIParser(this.game).createUIElements(e.elements, this.seasonBanner)
			}, e.prototype.addProgressPanel = function(t) {
				var i = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					n = t.points,
					o = this.game.prodigy.create.panel(this, 566, 20, 14, 10, "bases/matte");
				this.detailsPanel = o;
				var r = this.game.prodigy.create.panel(o, 40, -23, 12, 0, "banners/tag");
				this.game.prodigy.create.panel(r, -20, 18, 1, 0, "banners/rope-horiz"), this.game.prodigy.create.panel(r, r.width - 40, 18, 1, 0, "banners/rope-horiz"), this.game.prodigy.create.font(r, 0, 5, i.getText("SEASON_DETAILS_POINTS_TITLE", n), {
					fontID: 9,
					size: 36,
					width: 480,
					align: "center"
				});
				var s = e.getNextPrizeIndex(t),
					l = s >= 0 ? t.seasonRewards[s] : null,
					c = s > 0 ? t.seasonRewards[s - 1] : null,
					h = null;
				if (p.Util.isValid(l)) {
					this.game.prodigy.create.font(o, 0, 60, i.getText("SEASON_DETAILS_NEXT_PRIZE"), {
						fontID: 10,
						size: 20,
						width: 560,
						align: "center"
					});
					var u = this.game.prodigy.create.progressBar(o, 75, 100, 340),
						d = 0;
					d = p.Util.isValid(c) ? (n - c.requirement.value) / (l.requirement.value - c.requirement.value) : n / l.requirement.value, d *= .98, u.setProgress(d), h = this.game.prodigy.create.panel(o, u.x + u.width - 10, u.y - 20, 2, 2, "base/matte", {
						atlasID: 150,
						anchorX: .5,
						anchorY: .5
					}), this.addPrizeIcon(l, h, 10), this.game.prodigy.create.font(h, -20, h.height + 5, i.getText("SEASON_DETAILS_POINTS", l.requirement.value), {
						fontID: 10,
						size: 16,
						width: h.width + 40,
						align: "center"
					})
				} else {
					var g = t.reward;
					"rank" === g.requirement.type && (l = g), p.Util.isValid(l) && (this.game.prodigy.create.font(o, 30, 60, i.getText("SEASON_DETAILS_REACH_TOP", l.requirement.value), {
						fontID: 10,
						size: 20,
						width: 500,
						align: "center"
					}), h = this.game.prodigy.create.panel(o, o.width / 2 - 60, 120, 3, 3, "base/matte", {
						atlasID: 150,
						anchorX: .5,
						anchorY: .5
					}), this.addPrizeIcon(l, h, 10))
				}
			}, e.prototype.startTimers = function(t) {
				var i = e.getEndOfWeek(new Date(t.endDate), t.currentTimeMs).getTime() - t.currentTimeMs,
					n = new Date(t.endDate).getTime() - t.currentTimeMs;
				this.bonusTimer = this.game.prodigy.create.timer(this.weeklyBonus, 100, 40, !0), this.bonusTimer.start(i, null, !0), this.bonusTimer.visible = !1, this.seasonTimer = this.game.prodigy.create.timer(this.seasonCountdown, 100, 100, !0), this.seasonTimer.start(n, null, !0), this.seasonTimer.visible = !1, this.updateTimerText(t)
			}, e.prototype.addWeeklyBonus = function(t) {
				if (this.weeklyBonus = this.game.prodigy.create.font(this.detailsPanel, 30, 280, "", {
						fontID: 10,
						size: 16,
						width: 500,
						align: "center"
					}), p.Util.isValid(t.numMatches) || (t.numMatches = 0), t.numMatches < 10) {
					for (var e = null, i = new u.UIParser(this.game).createUIElements([{
							type: "UIElement",
							name: "progressBar",
							relativeWidth: 1,
							relativeHeight: 1,
							children: [{
								type: "Slider",
								name: "bonusSlider",
								x: 100,
								y: 30,
								anchorX: 0,
								anchorY: 0,
								width: 300,
								height: 80,
								atlasName: "atlas-144",
								activeTrackBaseFrameName: "scroll-tracks/red-large-fill",
								inactiveTrackBaseFrameName: "scroll-tracks/red-large-track",
								showHead: !1,
								isVertical: !1,
								isInteractive: !1
							}]
						}], this.weeklyBonus), n = 0; n < i.length; n++)
						if (i[n] instanceof h.Slider) {
							e = i[n];
							break
						} e.setPercentComplete(t.numMatches / 10), this.game.prodigy.create.font(e, 0, 36, t.numMatches + "/10", {
						fontID: 10,
						size: 16,
						width: 300,
						align: "center"
					})
				} else this.weeklyBonus.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SEASON_DETAILS_WEEKLY_EARNED"))
			}, e.prototype.addPrizeIcon = function(t, e, i) {
				var n = 2 * i,
					a = l.Items.getItem(t.type, t.id),
					o = this.game.prodigy.icon.createFromData(a);
				e.add(o), p.Util.resizeSpriteMaintainingAspectRatio(o, e.width - n, e.height - n), o.x += i, o.y += i
			}, e.prototype.viewPrizes = function() {
				this.game.prodigy.open.pvpPrizes()
			}, e.prototype.tryFindChallenger = function() {
				p.Util.isValid(this.game.prodigy.player.world) ? (this.game.prodigy.network.sendAnalytics("PVP", "try-match", "Events"), this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("PVP", {
					type: "try-match",
					classID: this.game.prodigy.player.getLatestClassIDLegacy(),
					grade: this.game.prodigy.player.grade
				}), this.game.prodigy.network.stopInactiveTimer(), this.findChallenger()) : this.message = this.game.prodigy.open.message(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("ARENA_OFFLINE_MESSAGE"))
			}, e.prototype.findChallenger = function() {
				if (p.Util.isValid(this.game)) {
					this.game.prodigy.messageListener.add("arena", this.messageReceived.bind(this), !1);
					var t = {
						userID: this.game.prodigy.player.userID,
						equipment: this.game.prodigy.player.equipment.getData(),
						appearance: this.game.prodigy.player.appearance.getData(),
						data: this.game.prodigy.player.data,
						isMember: this.game.prodigy.player.hasMembership()
					};
					this.game.prodigy.network.startMatchmaking(this.game.prodigy.player.getLevel(), this.game.prodigy.player.getArenaPoints(), t, this.startMatchmakingSuccessful.bind(this), this.startMatchmakingFailure.bind(this), this.showMaintenanceWarning.bind(this))
				}
			}, e.prototype.startMatchmakingSuccessful = function() {
				p.Util.isValid(this.message) || (this.message = this.game.prodigy.open.messageBoxOkay(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("PVP_FINDING_MATCH_BODY"), this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUTTON_CANCEL_UPPERCASE"), this.closeMessage.bind(this, !0), null, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("PVP_FINDING_MATCH_TITLE")))
			}, e.prototype.startMatchmakingFailure = function() {
				this.game.prodigy.open.message(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("ARENA_CHECK_INTERNET_MESSAGE")), this.closeMessage(!1)
			}, e.prototype.showMaintenanceWarning = function() {
				this.game.prodigy.open.message(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("ARENA_DOWN_MESSAGE")), this.closeMessage(!1)
			}, e.prototype.messageReceived = function(t) {
				this.message.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("PVP_CONNECTING_NOW")), this.game.prodigy.network.sendAnalytics("PVP", "found-match", "Events"), this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("PVP", {
					type: "found-match",
					classID: this.game.prodigy.player.getLatestClassIDLegacy(),
					grade: this.game.prodigy.player.grade
				}), "string" == typeof t.playerA.data.isMember && (t.playerB.data.isMember = "true" === t.playerB.data.isMember || "1" === t.playerB.data.isMember ? 1 : 0), "string" == typeof t.playerA.data.isMember && (t.playerA.data.isMember = "true" === t.playerA.data.isMember || "1" === t.playerA.data.isMember ? 1 : 0), t.playerA.id = parseInt(t.playerA.id), t.playerB.id = parseInt(t.playerB.id), this.game.prodigy.network.startInactiveTimer();
				var e = new c.Player(this.game);
				if (t.playerA.id !== this.game.prodigy.player.userID) {
					var i = t.playerA.data.appearance.name;
					this.parseName(i), "boolean" == typeof t.playerA.data.isMember && (t.playerA.data.isMember = t.playerA.data.isMember ? 1 : 0), e.init(t.playerA.data)
				} else if (t.playerB.id !== this.game.prodigy.player.userID) {
					var n = t.playerB.data.appearance.name;
					this.parseName(n), "boolean" == typeof t.playerB.data.isMember && (t.playerB.data.isMember = t.playerB.data.isMember ? 1 : 0), e.init(t.playerB.data)
				}
				a.Logger.log("typeof " + typeof t.playerB.data.isMember, a.LogLevel.Verbose);
				var r = this.game.broadcaster.broadcast(s.EPlayerLocomotionEvents.GetTarget, this.game, [!0]);
				this.game.prodigy.network.sendBattleStartTypeEvent("PVP-Matchmaking"), this.game.prodigy.pvp.startPVP(t.playerA.id, this.game.prodigy.player, e, function(t, e) {
					t.prodigy.world.teleport(t.prodigy.player.data.zone, e.x, e.y)
				}.bind(this, this.game, r), !0)
			}, e.prototype.parseName = function(t) {
				p.Util.isValid(t) ? (t.first = parseInt(t.first), t.middle = parseInt(t.middle), t.last = parseInt(t.last), t.nick = parseInt(t.nick), isNaN(t.first) && (a.Logger.log("name.first is NaN.", a.LogLevel.Error), t.first = null), isNaN(t.middle) && (a.Logger.log("name.middle is NaN.", a.LogLevel.Error), t.middle = null), isNaN(t.last) && (a.Logger.log("name.last is NaN.", a.LogLevel.Error), t.last = null), isNaN(t.nick) && (a.Logger.log("name.nick is NaN.", a.LogLevel.Error), t.nick = null)) : a.Logger.log("invalid name schema found.", a.LogLevel.Error)
			}, e.prototype.closeMessage = function(t) {
				this.game.prodigy.messageListener.clear("arena"), this.message = null, t && this.game.prodigy.network.quitMatchmaking(this.onMatchMakingQuit.bind(this), this.onMatchMakingQuit.bind(this))
			}, e.prototype.onMatchMakingQuit = function() {
				this.game.prodigy.network.startInactiveTimer()
			}, e.prototype.checkDeserter = function() {
				if (this.game.prodigy.player.processDeserter()) {
					var t = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
					this.game.prodigy.open.message(t.getText("PVP_DISCONNECT_WARNING_BODY"), null, "info", t.getText("PVP_DISCONNECT_WARNING_TITLE")), this.game.prodigy.network.sendAnalytics("PVP ", "view-deserter-message", "Events"), this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("PVP", {
						type: "view-deserter-message",
						classID: this.game.prodigy.player.getLatestClassIDLegacy(),
						grade: this.game.prodigy.player.grade
					})
				}
			}, e.prototype.updateTimerText = function(t) {
				p.Util.isValid(this.weeklyBonus) && t.numMatches < 10 && this.weeklyBonus.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SEASON_DETAILS_EARN_BONUS", 1e3, 10, this.bonusTimer.text.text)), p.Util.isValid(this.seasonCountdown) && this.seasonCountdown.setText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SEASON_DETAILS_SEASON_ENDS", this.seasonTimer.text.text))
			}, e.getEndOfWeek = function(t, e) {
				var i = t.getTime() - e,
					n = Math.floor(i / 7 / 24 / 60 / 60 / 1e3);
				return n > 0 && t.setDate(t.getDate() - 7 * n), t
			}, e.getNextPrizeIndex = function(t) {
				for (var e = 0; e < t.seasonRewards.length; e++) {
					var i = t.seasonRewards[e];
					if ("points" === i.requirement.type && t.points < i.requirement.value) return e
				}
				return -1
			}, e
		}(r.Element);
	e.SeasonDetails = d
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(7),
		r = i(0),
		s = i(276),
		l = function(t) {
			function e(e, i, n, o) {
				var l = t.call(this, e, i, n, o) || this;
				l.game.prodigy.create.panel(l, 0, 120, 5, 8, "white"), l.add(l.game.prodigy.create.sprite(-13, 0, "atlas-19", "emblem-bounty")), l.game.prodigy.create.font(l, 65, 100, "" + e.prodigy.player.getBountyScore(), {
					size: 36,
					fontID: 9,
					width: 74,
					align: "center"
				}), l.game.prodigy.create.font(l, 10, 300, l.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BOUNTIES_INCREASE_RANK"), {
					width: 180
				});
				for (var c = l.game.prodigy.player.state.get("world-bounties"), h = 0; h < 3; h++) r.Util.isValid(c[h]) && new s.BountyContainer(l.game, l, 305 * h + 230, 0, l.game.prodigy.bounty.getBounty(h), h, !0);
				return l
			}
			return n(e, t), e
		}(o.Element);
	e.BountiesPanel = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || Object.assign || function(t) {
			for (var e, i = 1, n = arguments.length; i < n; i++)
				for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
			return t
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = i(6),
		s = i(7),
		l = i(5),
		c = i(12),
		h = i(71),
		u = i(0),
		p = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, n, a) || this;
				return o.requestsPerPage = 3, o.scroll = null, o.content = null, o.lastIndex = 0, o.create(), o
			}
			return n(e, t), e.prototype.create = function() {
				this.content = this.game.prodigy.create.element(this, 320, 40), this.scroll = this.game.prodigy.create.slider(this, 820, 40, 380, !0, !0), this.scroll.reset(this.game.prodigy.mail.getMailCount(), 1, -1, this.setMail.bind(this)), this.game.prodigy.mail.addUpdateCallback(this.process.bind(this))
			}, e.prototype.setMail = function(t) {
				void 0 === t && (t = 0), this.lastIndex = t, this.content.removeAll(!0);
				for (var e = this.game.prodigy.mail.getMail(t, 4), i = 0; i < this.requestsPerPage; i++) this.createChallenge(0, 130 * i, e[i])
			}, e.prototype.process = function() {
				u.Util.isValid(this.game) && this.scroll.reset(this.game.prodigy.mail.getMailCount(), 1, this.lastIndex, this.setMail.bind(this))
			}, e.prototype.createChallenge = function(t, e, i) {
				var n = this;
				if (u.Util.isValid(i)) {
					var s = this.game.prodigy.create.panel(this.content, t + 10, e, 12, 3, "mail");
					s.add(this.game.prodigy.create.sprite(3, 3, "atlas-21", "mail-challenge"));
					var l = this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.PlayerService).getPlayer(a({}, i.data.player, {
							version: 1
						})),
						c = this.game.prodigy.gameContainer.resolve(h.DataNameResolver);
					c.init(u.Util.isValid(l) ? l.getAppearance().getName() : null, this.game.prodigy.player.appearance.getGender()), this.game.prodigy.create.font(s, 39, 8, this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("BATTLE_REQUEST_NAME", c.getName(), i.data.player.data.level), {
						size: 16
					}), this.game.prodigy.create.font(s, 20, 80, this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("BATTLE_REQUEST_ACCEPT"), {
						fontID: 8,
						size: 20
					}), this.game.prodigy.create.button(s, 410, 50, "atlas-21", "close", function() {
						n.processChallenge(i, !1)
					}), this.game.prodigy.create.button(s, 340, 50, "atlas-21", "yes", function() {
						n.processChallenge(i, !0)
					})
				}
			}, e.prototype.processChallenge = function(t, e) {
				if (this.game.prodigy.mail.remove(t), e) {
					var i = this.game.broadcaster.broadcast(l.EPlayerLocomotionEvents.GetTarget, this.game, [!0]),
						n = this.game.state.current,
						a = new c.Player(this.game);
					"boolean" == typeof t.data.player.isMember && (t.data.player.isMember = t.data.player.isMember ? 1 : 0), a.init({
						equipment: t.data.player.equipment,
						appearance: t.data.player.appearance,
						data: t.data.player.data,
						isMember: t.data.player.isMember
					}), this.game.prodigy.network.sendBattleStartTypeEvent("PVP-Duel"), this.game.prodigy.pvp.startPVP(t.data.userID, this.game.prodigy.player, a, this.pvpCallback.bind(this, this.game, n, i), !1)
				}
			}, e.prototype.pvpCallback = function(t, e, i) {
				u.Util.isValid(e) && "Tower" === e ? (t.state.states.Tower.startX = i.x, t.state.states.Tower.startY = i.y, t.prodigy.start("Tower")) : t.prodigy.world.teleport(t.prodigy.player.data.zone, i.x, i.y)
			}, e
		}(s.Element);
	e.BattleRequestsPanel = p
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, n, a) || this;
				return o.data = null, o.scroll = null, o.achievementScroll = null, o.achievements = [], o.data = o.game.prodigy.achievements.getData(), o.createData(), o.createCategories(), o.onDestroy.add(o.handleDestroy.bind(o)), o
			}
			return n(e, t), e.prototype.handleDestroy = function() {
				a.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this)
			}, e.prototype.createCategories = function() {
				var t = this,
					e = null;
				a.GameConstants.get("GameConstants.Build.DEBUG") && (e = function(t) {
					return {
						x: t.worldPosition.x + .5 * t.totalWidth,
						y: t.worldPosition.y + .5 * t.totalHeight
					}
				});
				for (var i = [], n = 0; n < 9; n++) i.push(this.createCategory(0, 40 + 40 * n)), i[n].setClickable(this.categorySelected.bind(this, i[n])), a.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.addTrigger({
					ID: "autoclick-category-" + n,
					context: this,
					callback: e.bind(this, i[n])
				});
				this.scroll = this.game.prodigy.create.slider(this, 310, 40, 360, !0, !1), this.scroll.reset(this.data.length, 9, 0, function(e) {
					t.showCategories(i, e)
				}), this.categorySelected(i[0])
			}, e.prototype.showCategories = function(t, e) {
				for (var i = 0; i < t.length; i++) e < this.data.length && this.setCategory(t[i], this.data[e + i])
			}, e.prototype.createCategory = function(t, e) {
				var i = this.game.prodigy.create.panel(this, t, e, 8, 1, "lb");
				return i.category = this.game.prodigy.create.font(i, 8, 6, "", {}), i
			}, e.prototype.setCategory = function(t, e) {
				t.category.setText(e.tag), t.data = e, t.data.selected ? t.changePanel("lb-green") : t.changePanel("lb")
			}, e.prototype.categorySelected = function(t) {
				for (var e = 0; e < this.data.length; e++) this.data[e].selected = !1;
				t.data.selected = !0, this.scroll.process(), this.achievementScroll.reset(t.data.data.length, 3, 0, this.showAchievements.bind(this, t.data.data)), this.achievementScroll.process()
			}, e.prototype.createData = function() {
				this.achievements = [];
				for (var t = 0; t < 3; t++) this.achievements.push(this.game.prodigy.create.achievement(this, 420, 130 * t + 40));
				this.achievementScroll = this.game.prodigy.create.slider(this, 1070, 40, 380, !0, !0)
			}, e.prototype.showAchievements = function(t, e) {
				for (var i = 0; i < this.achievements.length; i++) this.achievements[i].setSource(t[e + i])
			}, e
		}(i(7).Element);
	e.AchievementsPanel = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(65),
		o = i(127),
		r = i(0),
		s = i(62),
		l = i(81),
		c = i(269),
		h = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, 39, {
					isModal: !1,
					backgroundAlpha: 0
				}, ["atlas-169"]) || this;
				return o.classIndex = 0, o.addTransparent(), o.onClassCodeSuccess = n, o.onCloseCallback = a, t.prototype.queuePostCreateCallback.call(o, function() {
					o.setupMenu()
				}), o
			}
			return n(e, t), e.prototype.setupMenu = function() {
				var t = this;
				this.classText = this.findElement(l.WebFontText, "classText"), this.leftArrowButton = this.findElement(s.Button, "leftButton"), this.leftArrowButton.onClickCallback = function() {
					t.onArrowClick(t.classIndex - 1)
				}, this.rightArrowButton = this.findElement(s.Button, "rightButton"), this.rightArrowButton.onClickCallback = function() {
					t.onArrowClick(t.classIndex + 1)
				}, this.closeButton = this.findElement(s.Button, "closeButton"), this.closeButton.visible = !0, this.closeButton.onClickCallback = function() {
					t.close()
				}, this.playButton = this.findElement(s.Button, "applyButton"), this.playButton.onClickCallback = function() {
					t.game.prodigy.player.setPlayerClass(t.selectedClass), t.onClassCodeSuccess()
				}, this.playButton.setActive(!1), this.joinClassButton = this.findElement(s.Button, "joinClassButton"), this.joinClassButton.visible = !0, this.joinClassButton.onClickCallback = function() {
					new c.ClassCode(t.game, t.parent, function() {
						t.onNewClassCode(!0)
					}, function() {
						t.onNewClassCode(!1)
					}, !0)
				}, this.game.prodigy.network.getUserClassCodes(function(e) {
					t.onClassCodeList(e)
				})
			}, e.prototype.close = function() {
				r.Util.isValid(this.onCloseCallback) && this.onCloseCallback(), t.prototype.close.call(this)
			}, e.prototype.onClassCodeList = function(t, e) {
				if (void 0 === e && (e = !1), r.Util.isValid(t) && t.data.length > 0) {
					this.playButton.setActive(!0), this.playerClasses = a(t.data, function(t) {
						return "teacher" === t.owners[0].type
					});
					var i = this.game.prodigy.player.getPlayerClass();
					if (e) this.onArrowClick(this.playerClasses.length - 1);
					else if (0 === this.playerClasses.length) this.playButton.setActive(!0);
					else if (r.Util.isValid(i) && "" !== i) {
						var n = this.game.prodigy.player.getPlayerClass(),
							s = o(this.playerClasses, function(t) {
								return t.class_code === n
							}); - 1 === s && (s = 0), this.onArrowClick(s)
					} else this.onArrowClick(0)
				} else this.playButton.setActive(!0)
			}, e.prototype.onArrowClick = function(t) {
				var e;
				this.classIndex = t, 1 === this.playerClasses.length ? (this.leftArrowButton.visible = !1, this.rightArrowButton.visible = !1) : this.classIndex >= this.playerClasses.length - 1 ? (this.classIndex = this.playerClasses.length - 1, this.rightArrowButton.visible = !1, this.leftArrowButton.visible = !0) : this.classIndex <= 0 ? (this.classIndex = 0, this.leftArrowButton.visible = !1, this.rightArrowButton.visible = !0) : (this.leftArrowButton.visible = !0, this.rightArrowButton.visible = !0), this.selectedClass = this.playerClasses[this.classIndex].class_code;
				var i = 0;
				e = (i = r.Util.isValid(QI.CurriculumAPI) && r.Util.isValid(QI.CurriculumAPI.getGradeNumFromCurriculumGradeId) ? QI.CurriculumAPI.getGradeNumFromCurriculumGradeId(this.playerClasses[this.classIndex].grade) : this.playerClasses[this.classIndex].grade) < 1 ? "Class code: " + this.playerClasses[this.classIndex].class_code : "Grade: " + i + " \n Class code: " + this.playerClasses[this.classIndex].class_code, this.classText.setText(e)
			}, e.prototype.onNewClassCode = function(t) {
				var e = this;
				t && this.game.prodigy.network.getUserClassCodes(function(t) {
					e.onClassCodeList(t, !0)
				})
			}, e
		}(i(13).Menu);
	e.ClassSelect = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = i(4),
		s = i(55),
		l = i(269),
		c = i(828),
		h = i(94),
		u = i(0),
		p = function(t) {
			function e(e, i, n, a, o, r) {
				var s = t.call(this, e, i, 12, {
					hideMenu: !0,
					hideContent: !0
				}) || this;
				return s.dialogue = null, s.isClosed = !1, s.serverList = u.Util.getOptionalParameter(n, null), s.onServerSelectedCallback = u.Util.getOptionalParameter(a, null), s.onSchoolCallback = o, s.onHomeCallback = r, s.game.prodigy.load.assets(["atlas-158"], s.setup.bind(s)), s
			}
			return n(e, t), e.prototype.menuSetup = function() {
				var i = this;
				t.prototype.menuSetup.call(this), this.add(this.game.prodigy.create.sprite(0, 0, "singleImage-5"));
				this.createPanel(40, 220, "atlas-158", "school-image", "school", this.onSchoolClick.bind(this)), this.createPanel(1280 - (40 * e.PANEL_DIMENSIONS.tileNumWidth + 40), 220, "atlas-158", "house-image", "home", this.onHomeClick.bind(this));
				var n = this.game.prodigy.create.player(this, this.game.prodigy.player, 2, 640, 500);
				n.reload(), n.showName(), u.Util.isClassSelectExperiment(this.game) && u.Util.isValid(u.Util.getUrlVariable("unlock")) ? this.game.prodigy.open.toyUnlock(this.parent, this.createDialogue.bind(this)) : this.createDialogue(), this.game.prodigy.create.panel(this, 240, 640, 20, 3, "shine2"), u.Util.isClassSelectExperiment(this.game) ? this.game.prodigy.create.textButton(this, 260, 660, {
					icon: "back",
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUTTON_BACK")
				}, function() {
					i.game.state.states.Login.avoidParsingUrlParamsNextScreenSetupCall(), i.game.prodigy.network.loggedIn = !1, i.game.prodigy.start("Login")
				}) : this.game.prodigy.create.textButton(this, 260, 660, {
					icon: "back",
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUTTON_BACK")
				}, this.onBackClick.bind(this))
			}, e.prototype.onMenuOpen = function(t) {
				this.isClosed || this.showDialogue(t)
			}, e.prototype.createPanel = function(t, i, n, a, o, r) {
				var s = this.game.prodigy.create.panel(this, t, i, e.PANEL_DIMENSIONS.tileNumWidth, e.PANEL_DIMENSIONS.tileNumHeight, "shine2"),
					l = 40 * e.PANEL_DIMENSIONS.tileNumWidth - 22,
					c = 40 * e.PANEL_DIMENSIONS.tileNumHeight - 120,
					h = c - 80;
				s.add(new Phaser.TileSprite(this.game, 11, 36, l, 40, "atlas-161", "blue-top")), s.add(new Phaser.TileSprite(this.game, 11, 76, l, h, "atlas-161", "blue-mid")), s.add(new Phaser.TileSprite(this.game, 11, 76 + h, l, 40, "atlas-161", "blue-top2"));
				var p = this.game.prodigy.create.button(s, 0, 0, n, a, r),
					d = u.Util.getCenteredXY(p.width, p.height, 11, 36, l, c);
				p.x = d.x, p.y = d.y;
				var g = this.game.prodigy.create.button(s, 0, 0, n, o, r),
					f = 76 + h + 40;
				return d = u.Util.getCenteredXY(g.width, g.height, 11, f, l, s.height - f - 11), g.x = d.x, g.y = d.y, s.highlight(!0, 40, 60), s
			}, e.prototype.onServerSelected = function(t, e) {
				e || (this.onServerSelectedCallback(t, e), this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_session_start", {
					success: !0,
					error: ""
				}), this.close())
			}, e.prototype.onSchoolClick = function() {
				this.isClassCodeExperiment() && !this.game.prodigy.player.isClassCodeAttached && (!u.Util.isValid(this.game.prodigy.player.classIDs) || this.game.prodigy.player.classIDs.length <= 0) ? (this.destroyDialogue(), new l.ClassCode(this.game, this, this.onSchoolSuccess.bind(this), this.createDialogue.bind(this))) : u.Util.isClassSelectExperiment(this.game) ? (this.destroyDialogue(), new c.ClassSelect(this.game, this, this.onSchoolSuccess.bind(this), this.createDialogue.bind(this))) : !this.game.prodigy.player.hasValidatedParentEmail() && this.canViewParentalLink() ? (this.destroyDialogue(), this.game.prodigy.open.parentalLinkAtSchoolPrompt(this.createDialogue.bind(this), this.onSchoolSuccess.bind(this))) : (this.destroyDialogue(), this.onSchoolSuccess())
			}, e.prototype.onSchoolSuccess = function() {
				u.Util.isValid(this.onSchoolCallback) && this.onSchoolCallback(), this.game.prodigy.classModeController.setClassMode(), this.game.prodigy.player.locationSelectionType = r.default.get("GameConstants.LocationSelection.SCHOOL"), this.game.prodigy.open.server(this.serverList, this.onServerSelected.bind(this), !0)
			}, e.prototype.onHomeClick = function() {
				!this.game.prodigy.player.hasValidatedParentEmail() && this.canViewParentalLink(!0) ? (this.destroyDialogue(), this.game.prodigy.open.parentalLinkInfoPrompt(h.ParentLinkBenefitsConfig.ANALYTICS_SOURCE_LOGIN, this.createDialogue.bind(this), this.onHomeSuccess.bind(this))) : this.onHomeSuccess()
			}, e.prototype.onHomeSuccess = function() {
				u.Util.isValid(this.onHomeCallback) && this.onHomeCallback(), this.game.prodigy.player.locationSelectionType = r.default.get("GameConstants.LocationSelection.HOME"), this.game.prodigy.open.server(this.serverList, this.onServerSelected.bind(this), !1)
			}, e.prototype.onBackClick = function() {
				this.onServerSelectedCallback(!1, !0), this.close()
			}, e.prototype.showDialogue = function(t) {
				this.destroyDialogue(), t && this.createDialogue()
			}, e.prototype.destroyDialogue = function() {
				u.Util.isValid(this.dialogue) && (this.dialogue.close(), this.dialogue = null)
			}, e.prototype.createDialogue = function() {
				this.dialogue = this.game.prodigy.dialogue.create(), this.dialogue.setText(177), this.dialogue.start("noot", !0, null, 0)
			}, e.prototype.close = function() {
				this.destroyDialogue(), this.isClosed = !0, t.prototype.close.call(this)
			}, e.prototype.isClassCodeExperiment = function() {
				var t = new Date(2018, 8, 4).getTime(),
					e = new Date(2018, 8, 30).getTime();
				return u.Util.inTestGroupsBetweenSessionDates(this.game.prodigy.player, [4], 1e3, 10, t, e)
			}, e.prototype.canViewParentalLink = function(t) {
				var e;
				return void 0 === t && (t = !1), e = t ? this.game.prodigy.player.data.atHomeTimestamp : this.game.prodigy.player.data.atSchoolTimestamp, !u.Util.isValid(e) || u.Util.getDateTime() - e >= 864e5
			}, e.PANEL_DIMENSIONS = {
				tileNumWidth: 11,
				tileNumHeight: 10
			}, e
		}(s.LegacyMenu);
	e.ServerSelectMode = p
}, function(t, e, i) {
	var n = i(379),
		a = i(294);
	t.exports = function(t, e) {
		return t && n(t, a(e))
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(830),
		r = i(6),
		s = i(4),
		l = i(55),
		c = i(22),
		h = i(5),
		u = i(0),
		p = function(t) {
			function e(e, i, n, a, o) {
				void 0 === o && (o = !1);
				var r = t.call(this, e, i, 11) || this;
				return r.callback = null, r.servers = [], r.isAutoSelect = !1, r.backButton = null, r.playOfflineButton = null, r.content = null, r.serverPage = null, r.scroll = null, r.callback = a, r.servers = n, r.isAutoSelect = o, r.setup(), s.default.get("GameConstants.Build.DEBUG") && r.game.broadcaster.addAppListener(h.EDebugEvents.AutoClick, r.onDebugAutoClick.bind(r), r), r.onDestroy.add(r.handleDestroy.bind(r)), r
			}
			return n(e, t), e.getSuggested = function(t, e, i) {
				if (t.length < e) return t;
				var n, a = i ? t.length - e : t.length;
				for (n = 0; n < a && !(t[n].full <= 75); n++);
				return t.slice(n, n + e)
			}, e.determineTotalWorldListFullness = function(t) {
				for (var e = 0, i = 0; i < t.length; i++) e += t[i].full;
				return e
			}, e.groupServersByCluster = function(t, e) {
				for (var i = {}, n = [], a = 0, r = null, s = 0; s < t.length; s++) r = t[s], a = e.getMultiplayerClusterForWorld(r.id).ID, u.Util.isValid(i[a]) || (i[a] = []), i[a].push(r);
				return o(i, function(t) {
					n.push(t)
				}), n
			}, e.determineSuggestedWorldsForLoadBalancing = function(t, i) {
				var n = [],
					a = e.groupServersByCluster(t, i);
				a = a.sort(function(t, i) {
					return e.determineTotalWorldListFullness(t) - e.determineTotalWorldListFullness(i)
				});
				for (var o = 0; o < a.length; o++) {
					var r = a[o].sort(function(t, e) {
							return e.full - t.full
						}),
						s = e.getSuggested(r, e.SUGGESTED_NUM - n.length, o === a.length - 1);
					if ((n = n.concat(s)).length >= e.SUGGESTED_NUM) break
				}
				return n.sort(function(t, e) {
					return e.full - t.full
				})
			}, e.prototype.menuSetup = function() {
				t.prototype.menuSetup.call(this);
				var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.showFrame("map", e.getText("SERVER_CHOOSE_WORLD_TITLE"), []), this.game.prodigy.create.font(this, 125, 60, e.getText("SERVER_PICK_SAME_WORLD"), {
					size: 20
				}), this.playOfflineButton = this.game.prodigy.create.textButton(this, 930, 20, {
					size: c.TextButton.MED,
					icon: "next",
					text: e.getText("SERVERS_BUTTON_PLAY_OFFLINE")
				}, this.closeMenu.bind(this, !0)), this.backButton = this.game.prodigy.create.textButton(this, 50, 650, {
					icon: "back",
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUTTON_BACK")
				}, this.closeMenu.bind(this, !1, !0)), this.content = this.game.prodigy.create.element(this, 0, 0), this.showSuggestedServers(), this.setupComplete = !0
			}, e.prototype.handleDestroy = function() {
				s.default.get("GameConstants.Build.DEBUG") && this.game.broadcaster.removeAppListener(h.EDebugEvents.AutoClick, this)
			}, e.prototype.showSuggestedServers = function() {
				var t = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				if (this.content.removeAll(!0), !u.Util.isValid(this.servers)) return this.game.prodigy.create.font(this.content, 0, 320, t.getText("SERVER_LOADING_LIST"), {
					size: 30,
					width: 1280,
					align: "center"
				}), void this.game.prodigy.network.getWorldList(this.showSuggestedServers.bind(this), this.showError.bind(this, t.getText("SERVER_ERROR_FAILED_LOAD"), this.showSuggestedServers.bind(this)));
				for (var i = e.determineSuggestedWorldsForLoadBalancing(this.servers, this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.FeatureFlagProvider)), n = 0; n < i.length; n++) {
					var o = i[n];
					u.Util.isValid(o) && this.createButton(o, this.content, n % 3 * 350 + 140, 140 * Math.floor(n / 3) + 210, this.showSuggestedServers.bind(this))
				}
				if (this.content.add(this.game.prodigy.create.sprite(520, 530, "atlas-18", "server-icon")).tint = 8111468, this.game.prodigy.create.font(this.content, 560, 540, t.getText("SERVER_WIZARDS_ONLINE"), {
						size: 20
					}), this.game.prodigy.create.textButton(this.content, 880, 650, {
						size: c.TextButton.LG,
						text: t.getText("SERVERS_BUTTON_MORE_WORLDS"),
						icon: "map"
					}, this.showAllServers.bind(this)), this.isAutoSelect) {
					var s = this.game.prodigy.player,
						l = u.Util.getLatestClassID(s.owners, s.playerTeachers, s.playerParents);
					if (l > 0 || this.game.prodigy.player.isClassCodeAttached) {
						var h = this.determineClassWorld(l, this.servers);
						u.Util.isValid(h) ? (this.backButton.visible = !1, this.playOfflineButton.visible = !1, this.connect(h, this.onAutoConnectFail.bind(this))) : a.Logger.log("Server.showSuggestedServers - couldn't find a class world for this player.  Going to manual select mode", a.LogLevel.Verbose)
					} else a.Logger.log("Server.showSuggestedServers - couldn't find a teacher-owned class for this player.  Going to manual select mode", a.LogLevel.Verbose);
					this.isAutoSelect = !1
				}
			}, e.prototype.onAutoConnectFail = function() {
				this.isAutoSelect = !1, this.showAllServers()
			}, e.prototype.determineClassWorld = function(t, e) {
				var i = null,
					n = null;
				return e.length > 0 ? i = (n = e.sort(function(t, e) {
					return t.id.toString().localeCompare(e.id.toString())
				}))[t % n.length] : a.Logger.log("Server.determineClassWorld - worldData array is empty.  Could not determine class world", a.LogLevel.Verbose), i
			}, e.prototype.showAllServers = function() {
				var t = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				if (this.content.removeAll(!0), this.playOfflineButton.visible = !0, this.backButton.visible = !0, !u.Util.isValid(this.servers)) return this.game.prodigy.create.font(this.content, 0, 320, t.getText("SERVER_LOADING_LIST"), {
					size: 30,
					width: 1280,
					align: "center"
				}), void this.game.prodigy.network.getWorldList(this.showAllServers.bind(this), this.showError.bind(this, t.getText("SERVER_ERROR_FAILED_LOAD"), this.showAllServers.bind(this)));
				var e = this.servers.sort(function(t, e) {
					return t.name.localeCompare(e.name)
				});
				this.serverPage = this.game.prodigy.create.element(this.content, 200, 180), this.scroll = this.game.prodigy.create.scrollBar(this.content, 60, 180, 345, this.setPage.bind(this, e)), this.scroll.setPages(Math.floor((e.length - 1) / 9 + 1)), this.game.prodigy.create.textButton(this.content, 880, 650, {
					size: c.TextButton.LG,
					text: t.getText("SERVERS_BUTTON_MY_WORLDS"),
					icon: "star"
				}, this.showSuggestedServers.bind(this))
			}, e.prototype.setPage = function(t, e) {
				this.serverPage.removeAll(!0);
				for (var i = 0, n = 9 * e; n < 9 * e + 9 && n < t.length; n++) {
					var a = t[n],
						o = i % 3 * 350 + 15,
						r = 120 * Math.floor(i / 3);
					i++, this.createButton(a, this.serverPage, o, r, this.showAllServers.bind(this))
				}
			}, e.prototype.createButton = function(t, e, i, n, a) {
				var o = this.game.prodigy.create.element(e, i, n),
					r = o.add(this.game.prodigy.create.sprite(0, 0, "atlas-19", "store-panel"));
				r.inputEnabled = !0, r.events.onInputDown.add(this.connect.bind(this, t, a), this), u.Util.isValid(t.meta) && o.add(this.game.prodigy.icon.createFromData(t.meta, 0, 0)), this.game.prodigy.create.font(o, 85, -2, t.name);
				for (var s = 0 === t.full ? 12364703 : t.full <= 80 ? 8111468 : t.full < 95 ? 15194464 : 14307665, l = 0; l < 5; l++) {
					o.add(this.game.prodigy.create.sprite(39 * l + 96, 36, "atlas-18", "server-icon")).tint = t.full >= 20 * l ? s : 12364703
				}
				return o
			}, e.prototype.connect = function(t, e) {
				var i = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				!this.isAutoSelect && t.full >= 100 ? this.showError(i.getText("SERVER_ERROR_WORLD_SELECTED_FULL"), e) : (this.content.removeAll(!0), this.game.prodigy.create.font(this.content, 0, 320, i.getText("SERVER_CONNECTING_MESSAGE", u.Util.isValid(t.name) ? t.name : "server"), {
					size: 30,
					width: 1280,
					align: "center"
				}), this.game.prodigy.network.joinMultiplayerServer(t, "zone-login", this.connected.bind(this, !0), this.connected.bind(this, !1, e), this.connected.bind(this, !1, e, i.getText("SERVER_ERROR_WORLD_FULL"))))
			}, e.prototype.connected = function(t, e, i) {
				u.Util.isValid(this) && u.Util.isValid(this.game) && (this.content.removeAll(!0), t ? this.closeMenu(!0) : this.showError(u.Util.isValid(i) ? i : this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SERVER_ERROR_FALLBACK"), e))
			}, e.prototype.showError = function(t, e) {
				this.content.removeAll(!0), this.game.prodigy.create.panel(this.content, 240, 260, 16, 4), this.game.prodigy.create.font(this.content, 270, 300, t, {
					size: 30,
					width: 740,
					align: "center"
				}), this.game.prodigy.create.textButton(this.content, 465, 430, {
					size: c.TextButton.LG,
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SERVERS_BUTTON_BACK_TO_WORLDS"),
					icon: "back"
				}, e)
			}, e.prototype.closeMenu = function(e, i) {
				u.Util.isValid(this.callback) && this.callback(e, i), t.prototype.close.call(this)
			}, e.prototype.onDebugAutoClick = function(t) {
				var e;
				if (u.Util.isValid(t))
					for (e = 0; e < this.servers.length; e++) {
						var i = this.servers[e];
						if (t === i.name.toLowerCase()) return void this.connect(i)
					} else
						for (e = 0; e < this.servers.length; e++) a.Logger.log("Button tag: " + this.servers[e].name.toLowerCase(), a.LogLevel.Verbose)
			}, e.SUGGESTED_NUM = 6, e
		}(l.LegacyMenu);
	e.Server = p
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(55),
		s = i(23),
		l = i(0),
		c = function(t) {
			function e(e, i, n) {
				var o = t.call(this, e, i, -1, {
					hideMenu: !0,
					hideContent: !1
				}) || this;
				if (o.callback = n, l.Util.isValid(o.game.prodigy.player.data.rate) && o.game.prodigy.player.data.rate > 3) try {
					s.Device.nativeAppVersion() > 1 ? window.postMessage(JSON.stringify({
						type: "REVIEW_APP"
					}), "*") : webkit.messageHandlers.reviewApp.postMessage(0)
				} catch (t) {
					a.Logger.log(t, a.LogLevel.Error)
				}
				return l.Util.isValid(o.game.prodigy.player.data.rate) ? (o.close(), o) : (o.setup(), o)
			}
			return n(e, t), e.prototype.setup = function() {
				t.prototype.menuSetup.call(this), this.base = this.game.prodigy.create.element(this, 320, 150);
				var e = this.game.prodigy.create.element(this.base, 0, 0);
				this.game.prodigy.create.panel(e, 0, 0, 16, 10, "shine"), e.add(new Phaser.TileSprite(this.game, 11, 200, 618, 40, "atlas-161", "blue-top")), e.add(new Phaser.TileSprite(this.game, 11, 240, 618, 20, "atlas-161", "blue-mid")), e.add(new Phaser.TileSprite(this.game, 11, 260, 618, 40, "atlas-161", "blue-top2")), this.game.prodigy.create.panel(e, 40, 40, 14, 3, "banner"), this.base.add(this.game.prodigy.create.sprite(100, -30, "atlas-19", "menu-noot")), this.game.prodigy.create.font(this.base, 260, 58, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("RATING_PROMPT"), {
					size: 36,
					fontID: 9,
					width: 300,
					align: "center",
					lineHeight: 38
				}), this.game.prodigy.create.button(this.base, 600, -10, "atlas-21", "close", this.close.bind(this)), this.cBtn = this.game.prodigy.create.textButton(this.base, 220, 320, {
					icon: "yes",
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUTTON_OKAY")
				}, this.close.bind(this, !0)), this.cBtn.setInactive();
				for (var i = [], n = 0; n < 5; n++) {
					var r = this.base.add(this.game.prodigy.create.sprite(90 * n + 140, 250, "atlas-21", "star"));
					r.anchor.setTo(.5, .5), r.angle = -15, this.game.add.tween(r).to({
						angle: 15
					}, 1500, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0), r.tint = 7829367, r.inputEnabled = !0, r.events.onInputDown.add(this.rate.bind(this, i, n)), i.push(r)
				}
			}, e.prototype.rate = function(t, e) {
				for (var i = 0; i < t.length; i++) {
					var n = t[i];
					n.tint = i <= e ? 16777215 : 7829367
				}
				this.cBtn.setActive(), this.rating = e + 1
			}, e.prototype.close = function(e) {
				if (e && this.rating > 3) try {
					s.Device.nativeAppVersion() > 1 ? window.postMessage(JSON.stringify({
						type: "REVIEW_APP"
					}), "*") : webkit.messageHandlers.reviewApp.postMessage(0)
				} catch (t) {
					a.Logger.log(t, a.LogLevel.Error)
				}
				e && l.Util.isValid(this.rating) && (this.game.prodigy.player.data.rate = this.rating, this.game.prodigy.player.updated = !0), l.Util.isValid(this.callback) && this.callback(), t.prototype.close.call(this)
			}, e
		}(r.LegacyMenu);
	e.Rating = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(15),
		r = i(22),
		s = i(0),
		l = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
				return o.questData = n, o.callback = a, o.create(), o
			}
			return n(e, t), e.prototype.create = function() {
				this.addTransparent();
				var e, i = this.game.prodigy.create.element(this, 0, 0);
				s.Util.isValid(this.questData.yOffset) && (e = Math.ceil(-this.questData.yOffset / 40));
				var n = this.game.prodigy.create.panel(i, 400, 360 - 20 * (e + 6), 12, e + 6, "shine");
				if (n.setRenderState(!0), this.game.prodigy.create.button(n, 440, -10, "atlas-21", "close", this.close.bind(this)), this.game.prodigy.create.font(n, 60, 20, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("QUEST_TODAY"), {
						size: 30,
						width: 350,
						align: "center"
					}), s.Util.isValid(this.questData.description) && this.game.prodigy.create.font(n, 60, 80, this.questData.description, {
						width: 350,
						align: "center"
					}), s.Util.isValid(this.questData.source)) {
					var o = this.game.prodigy.icon.createIcon(200, 180, this.questData.source);
					this.game.prodigy.load.isFileLoaded(this.questData.source) ? this.positionSource(o, e) : o.onTextureLoaded = this.positionSource.bind(this, o, e), n.add(o), this.game.prodigy.event.create()
				}
				this.game.prodigy.create.textButton(n, 90, 40 * e + 120, {
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("QUESTS_BUTTON_START_QUEST"),
					textY: 4,
					size: r.TextButton.MED
				}, this.startQuest.bind(this)), t.prototype.create.call(this)
			}, e.prototype.startQuest = function() {
				this.callback(), this.close()
			}, e.prototype.positionSource = function(t, e) {
				var i = s.Util.isValid(this.questData.xOffset) ? this.questData.xOffset : 0,
					n = s.Util.isValid(this.questData.yOffset) ? this.questData.yOffset : 0;
				t.x = i + 240, t.y = n + 40 * e + 100
			}, e
		}(o.RenderMenu);
	e.QuestDescription = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(15),
		r = i(2),
		s = i(16),
		l = i(0),
		c = i(20),
		h = i(34),
		u = function(t) {
			function e(e, i, n, a, o, r) {
				var s = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
				return s.player = null, s.itemType = null, s.selected = null, s.panel = null, s.content = null, s.bar = null, s.owned = [], s.player = n, s.itemType = a, s.onClose = o, s.selected = r, s.create(), s
			}
			return n(e, t), e.prototype.create = function() {
				var e = this;
				this.addTransparent(), this.panel = this.game.prodigy.create.panel(this, 220, 100, 21, 13, "shine"), this.panel.setRenderState(!0), this.game.prodigy.create.button(this, this.panel.x + 800, this.panel.y - 10, "atlas-21", "close", function() {
					e.close()
				}), this.content = this.game.prodigy.create.element(this, 260, 180), this.game.prodigy.create.panel(this, 260, 180, 19, 10, "white"), this.game.prodigy.create.font(this, 290, 120, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("POUCH_CHOOSE_" + this.itemType.toUpperCase()), {
					fontID: 9,
					size: 36,
					width: 720,
					align: "center"
				}), t.prototype.create.call(this), this.setMode(0)
			}, e.prototype.close = function() {
				l.Util.isValid(this.bar) && this.bar.destroy(), t.prototype.close.call(this)
			}, e.prototype.setMode = function(e) {
				t.prototype.setMode.call(this, e), this.listItemsOfType()
			}, e.prototype.switchSpell = function(t) {
				t !== this.selected && this.player.swapSpells(this.selected, t), this.close()
			}, e.prototype.scrollItems = function(t) {
				var e = this;
				l.Util.isValid(this.content) && this.content.destroy(), this.content = this.game.prodigy.create.element(this, 100, 180);
				for (var i = 0, n = function(t) {
						t < a.owned.length && ("spell" === a.itemType ? a.game.prodigy.create.item(a.content, 180 * i + 190, 100, {
							ID: a.owned[t].ID,
							type: a.itemType
						}, h.EItemInfoMode.Inventory, function() {
							e.switchSpell(e.owned[t].ID)
						}) : a.game.prodigy.create.item(a.content, 180 * i + 190, 100, {
							ID: a.owned[t].ID,
							type: a.itemType,
							N: a.owned[t].N,
							L: a.owned[t].L
						}, h.EItemInfoMode.Inventory, function() {
							e.equipItem(e.owned[t])
						})), i++
					}, a = this, o = t; o < t + 4; o++) n(o);
				for (o = Math.min(this.owned.length, 4); o < 4; o++) this.game.prodigy.create.panel(this.content, 180 * o + 190, 100, 4, 5, "empty")
			}, e.prototype.listItemsOfType = function() {
				var t = this;
				if (l.Util.isValid(this.bar) && this.bar.destroy(), "spell" === this.itemType) {
					var e = this.player.getAllAttacks();
					this.owned = [];
					for (var i = 0; i < e.length; i++) this.owned.push({
						ID: e[i]
					})
				} else this.owned = this.player.backpack.getBackpackItemsByType(this.itemType);
				this.bar = this.game.prodigy.create.slider(this, 290, 500, 700, !1, !0), this.bar.reset(this.owned.length - 3, 1, -1, function(e) {
					t.scrollItems(e)
				})
			}, e.prototype.equipItem = function(t) {
				var e = this;
				if (1 === t.L) {
					var i = {
						conversionFunnelName: c.EFunnelEventIDs.FunnelEquipCardLockedItem,
						conversionFunnelMetadata: this.itemType + "-" + t.ID
					};
					this.game.prodigy.network.sendConversionFunnelEvent(i.conversionFunnelName, c.EFunnelEventIDs.StageEquipItem, i.conversionFunnelMetadata), this.game.prodigy.open.membershipInfo(null, i, s.MembershipInfo.PREMIUM_ITEM)
				} else {
					var n = r.Items.getItem(this.itemType, t.ID).data;
					if (l.Util.isValid(n.lockLevel) && this.game.prodigy.player.getLevel() < n.lockLevel) {
						var o = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("LEVEL_LOCK_EQUIP", n.name, n.lockLevel);
						this.game.prodigy.open.message(o).onClose = function() {
							e.game.prodigy.player.hasMembership() || e.game.prodigy.open.membershipInfo(null, {}, s.MembershipInfo.MORE_EXP)
						}
					} else this.player.equip(t.ID, this.itemType) ? (this.player.appearanceChanged = !0, this.game.prodigy.audio.playSFX(18, "whoosh"), this.close()) : this.close()
				}
			}, e
		}(o.RenderMenu);
	e.Pouch = u
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
				return a.itemInfo = n, a.create(), a
			}
			return n(e, t), e.prototype.create = function() {
				this.addTransparent(), this.content = this.game.prodigy.create.element(this, 350, 150), this.panel = this.game.prodigy.create.panel(this, 330, 200, 15, 8, "shine"), this.panel.setRenderState(!0), this.game.prodigy.create.button(this, this.panel.x + 560, this.panel.y - 10, "atlas-21", "close", this.close.bind(this)), this.game.prodigy.create.font(this.content, 30, 100, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("POTION_USE_ALREADY_ONE"), {
					size: 30,
					width: 540
				}), this.game.prodigy.create.button(this, this.panel.x + 40, this.panel.y + 200, "atlas-18", "yes-btn", this.onConfirm.bind(this)), this.game.prodigy.create.button(this, this.panel.x + 560 - 40 - 100 - 60, this.panel.y + 200, "atlas-18", "no-btn", this.onGoBack.bind(this)), t.prototype.create.call(this)
			}, e.prototype.onConfirm = function() {
				this.itemInfo.confirmItemUse(), this.close()
			}, e.prototype.onGoBack = function() {
				this.itemInfo.close(), this.close()
			}, e
		}(i(15).RenderMenu);
	e.ConfirmPotionUse = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(15),
		o = i(80),
		r = i(0),
		s = i(34),
		l = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
				return o.itemType = "item", o.player = n, o.attackMenu = a, o.create(), o
			}
			return n(e, t), e.prototype.create = function() {
				this.consumables = this.player.backpack.getBattleItems(), this.addTransparent(), this.content = this.game.prodigy.create.element(this, 350, 150), this.createBaseSetup(17, 12, "shine", null, [], !0), this.game.prodigy.create.element(this, 0, 0).setRenderState(!0), t.prototype.create.call(this), this.bar = this.game.prodigy.create.slider(this, 900, 160, 380, !0, !0), this.setMode(0), this.reload()
			}, e.prototype.setMode = function(e) {
				t.prototype.setMode.call(this, e), this.listItemsOfType()
			}, e.prototype.itemSelected = function(t) {
				this.game.prodigy.open.itemInfo({
					ID: t.ID,
					L: t.L,
					type: r.Util.isValid(t.type) ? t.type : this.itemType
				}, this.reload.bind(this), s.EItemInfoMode.Item)
			}, e.prototype.reload = function(t) {
				void 0 === t && (t = !1), this.game.input.clearEnterCallback(), this.bar.process(), t && (this.close(), o.Bam.canUseItems = !1, this.attackMenu.close())
			}, e.prototype.scrollItems = function(t) {
				this.page = r.Util.isValid(t) ? t : r.Util.isValid(this.page) ? this.page : 0;
				for (var e = t; e < t + 6; e++) {
					var i = e - t;
					e >= this.consumables.length ? this.game.prodigy.create.panel(this.content, i % 3 * 180, 220 * Math.floor(i / 3), 4, 5, "empty") : this.game.prodigy.create.item(this.content, i % 3 * 180, 220 * Math.floor(i / 3), {
						ID: this.consumables[e].ID,
						type: this.itemType,
						L: this.consumables[e].L,
						N: this.consumables[e].N
					}, s.EItemInfoMode.Inventory, this.itemSelected.bind(this, this.consumables[e]))
				}
			}, e.prototype.listItemsOfType = function() {
				this.bar.reset(this.consumables.length - 3, 3, -1, this.scrollItems.bind(this))
			}, e
		}(a.RenderMenu);
	e.BattlePotionSelect = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(7),
		o = i(0),
		r = function(t) {
			function e(e, i, n, a, o) {
				var r = t.call(this, e, i) || this;
				return r.flagBanners = [], r.flagIcons = [], r.flag = r.add(r.game.prodigy.create.sprite(0, 0, "atlas-19", "user-bar-flag-back")), r.setSource(o), r
			}
			return n(e, t), e.prototype.setSource = function(t) {
				if (o.Util.isValid(t)) {
					this.initSpriteArray(this.flagBanners, 1, 7, -5, "atlas-19", "user-bar-flag-wizard"), this.initSpriteArray(this.flagIcons, 1, 40, 139, "atlas-21", "icon-bar-wizard"), this.setSpriteFrames(t), this.flag.bringToTop()
				}
			}, e.prototype.initSpriteArray = function(t, e, i, n, a, o) {
				if (e > 0)
					if (t.length > e) this.shrinkSpriteArray(t, e), this.redrawMasks(t);
					else if (t.length < e) {
					for (; t.length < e;) t.push(this.add(this.game.prodigy.create.sprite(i, n, a, o)));
					this.redrawMasks(t)
				}
			}, e.prototype.redrawMasks = function(t) {
				if (1 === t.length) o.Util.isValid(t[0].mask) && (t[0].mask.destroy(), t[0].mask = null);
				else if (t.length > 1)
					for (var e = t[0].width / t.length, i = t[0].height, n = 0; n < t.length; ++n) {
						o.Util.isValid(t[n].mask) && t[n].mask.destroy();
						var a = this.game.add.graphics(t[n].x, t[n].y, this);
						a.beginFill(16777215, 1), a.drawRect(e * n, 0, e, i), t[n].mask = a
					}
			}, e.prototype.shrinkSpriteArray = function(t, e) {
				for (var i = t.splice(e), n = 0; n < i.length; ++n) o.Util.isValid(i[n].mask) && i[n].mask.destroy(), i[n].destroy()
			}, e.prototype.setSpriteFrames = function(t) {
				var e = t.getElement(),
					i = ["earth" === e ? e : o.Util.convertLegacyElements(e)];
				if (i.length === this.flagIcons.length && i.length === this.flagBanners.length)
					for (var n = 0; n < this.flagIcons.length; ++n) this.flagIcons[n].frameName = "icon-bar-" + i[n], this.flagBanners[n].frameName = "user-bar-flag-" + i[n]
			}, e
		}(a.Element);
	e.ElementBanner = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(7),
		o = i(5),
		r = i(49),
		s = i(307),
		l = i(0),
		c = i(837),
		h = function(t) {
			function e(i, n, a, o, r, l) {
				void 0 === l && (l = !1);
				var h = t.call(this, i, n) || this;
				h.baseX = 0, h.reverseHearts = !1, h.hideStars = !1, h.barMask = null, h.heartsBase = null, h.heartsIcon = null, h.heartsFill = null, h.heartsBarText = null, h.starsBase = null, h.starsIcon = null, h.starsFill = null, h.elementBanner = null, h.levelTitle = null, h.nextSrc = null, h.heartsPercentage = 2, h.starPercentage = 2, h.retryUpdateHearts = !1, h.playerName = null, h.levelText = null, h.ready = !0, h.player = null, h.level = 0, h.totalHearts = 0, h.currentHearts = 0, h.currentStars = 0, h.starsToLevel = 0, h.displayCurrentHearts = 0, h.displayCurrentTotalHearts = 0, h.x = a, h.y = o, h.baseX = a, h.reverseHearts = l, h.hideStars = h.reverseHearts;
				return h.barMask = s.DrawUtil.createBox(h.game, h.reverseHearts ? e.WIDTH - 426 : 138, 30, 288, 96, 0, 1, h), h.heartsBase = h.game.prodigy.create.sprite(0, 0, "atlas-19", "user-bar-base"), h.heartsBase.x = h.reverseHearts ? e.WIDTH - 138 : 138, h.heartsBase.y = 40, h.heartsBase.scale.x = h.reverseHearts ? -1 : 1, h.add(h.heartsBase), h.heartsIcon = h.game.prodigy.create.sprite(h.reverseHearts ? -8 : e.WIDTH - 41, h.heartsBase.y, "atlas-19", "user-bar-heart"), h.heartsIcon.anchor.setTo(.5, .5), h.heartsIcon.x += h.heartsIcon.width >> 1, h.heartsIcon.y += h.heartsIcon.height >> 1, h.add(h.heartsIcon), h.heartsFill = h.game.prodigy.create.sprite(h.heartsBase.x, h.heartsBase.y + 2, "atlas-19", "user-bar-fill-heart"), h.heartsFill.scale.x = h.reverseHearts ? -1 : 1, h.heartsFill.mask = h.barMask, h.add(h.heartsFill), h.heartsBarText = h.game.prodigy.create.font(h, h.reverseHearts ? 32 : 107, h.heartsBase.y + 8, null, {
					size: 2,
					width: 328,
					align: "center",
					fontID: 12
				}), h.heartsBarText.setText(""), h.starsBase = h.game.prodigy.create.sprite(0, 0, "atlas-19", "user-bar-base"), h.starsBase.x = h.heartsBase.x + (h.reverseHearts ? e.STAR_SHIFT : -e.STAR_SHIFT), h.starsBase.y = 80, h.starsBase.scale.x = h.reverseHearts ? -1 : 1, h.starsBase.visible = !h.hideStars, h.add(h.starsBase), h.starsIcon = h.game.prodigy.create.sprite(h.reverseHearts ? e.STAR_SHIFT : h.heartsIcon.x - e.STAR_SHIFT, h.starsBase.y, "atlas-19", "user-bar-star"), h.starsIcon.anchor.setTo(.5, .5), h.starsIcon.y += h.starsIcon.height >> 1, h.starsIcon.visible = !h.hideStars, h.add(h.starsIcon), h.starsFill = h.game.prodigy.create.sprite(h.starsBase.x, h.starsBase.y + 2, "atlas-19", "user-bar-fill-star"), h.starsFill.mask = h.barMask, h.starsFill.scale.x = h.reverseHearts ? -1 : 1, h.starsFill.visible = !h.hideStars, h.add(h.starsFill), h.elementBanner = new c.ElementBanner(i, h, 0, 0, r), h.elementBanner.x = h.reverseHearts ? e.WIDTH - h.elementBanner.width : 0, h.add(h.elementBanner), h.playerName = h.game.prodigy.create.font(h, 0, 5, "", {
					size: 20
				}), h.levelTitle = h.game.prodigy.create.sprite(h.elementBanner.x + 30, 7, "atlas-19", "user-bar-level"), h.add(h.levelTitle), h.levelText = h.game.prodigy.create.font(h, h.elementBanner.x + 7, 39, null, {
					size: 1,
					width: 126,
					align: "center",
					fontID: 12,
					mono: 44
				}), h.setSource(r), h
			}
			return n(e, t), e.prototype.moveOut = function() {
				this.game.add.tween(this).to({
					x: this.reverseHearts ? 1300 : -e.WIDTH
				}, 700, Phaser.Easing.Quadratic.In, !0)
			}, e.prototype.setSource = function(t) {
				l.Util.isValid(t) && (this.nextSrc !== t ? (this.nextSrc = t, this.updateData(), this.x !== this.baseX && (this.game.tweens.removeFrom(this), this.x = this.baseX, this.y = -300, this.game.add.tween(this).to({
					y: 0,
					x: this.baseX
				}, 1200, Phaser.Easing.Quadratic.Out, !0))) : this.x !== this.baseX && (this.game.tweens.removeFrom(this), this.moveIn()))
			}, e.prototype.moveIn = function() {
				this.game.add.tween(this).to({
					x: this.baseX
				}, 2100, Phaser.Easing.Quadratic.In, !0)
			}, e.prototype.updateData = function() {
				this.player = this.nextSrc, this.elementBanner.setSource(this.player), this.playerName.setText(this.player.getName()), this.playerName.x = this.reverseHearts ? e.WIDTH - 143 - this.playerName.width : 143, this.playerName.y = 5, this.level = this.player.getLevel(), this.totalHearts = this.player.getMaxHearts(), this.currentHearts = this.player.getCurrentHearts(), this.currentStars = this.player.getStars(), this.starsToLevel = this.player.getStarsToLevel(), this.levelText.setText(this.level.toString()), this.displayCurrentHearts = 0, this.displayCurrentTotalHearts = 0, this.heartsPercentage = 2, this.starPercentage = 2, this.updateHeartsBarText(!1), this.updateHeartsBar(!1), this.updateStarsBar(!1)
			}, e.prototype.updateHeartsBar = function(t) {
				if (l.Util.isValid(this.player) && this.player.hasHeartsEventInQueue()) return !0;
				var e = Math.round(this.currentHearts / this.totalHearts * 100) / 100;
				if (l.Util.isValid(this.player.modifiers) && this.player.modifiers.barrier ? (this.heartsFill.frameName = "user-bar-fill-barrier", this.heartsIcon.frameName = "user-bar-shield") : (this.heartsFill.frameName = "user-bar-fill-heart", this.heartsIcon.frameName = "user-bar-heart"), t && (this.currentHearts > this.displayCurrentHearts ? this.bumpHearts() : this.bumpDownHearts()), e !== this.heartsPercentage) {
					this.heartsPercentage = e;
					var i = this.heartsBase.x + (this.reverseHearts ? Math.round(278 * (1 - this.heartsPercentage)) : -Math.round(278 * (1 - this.heartsPercentage)));
					t ? this.game.add.tween(this.heartsFill).to({
						x: i
					}, 1e3, Phaser.Easing.Quadratic.Out, !0) : this.heartsFill.x = i
				}
				return !1
			}, e.prototype.updateHeartsBarText = function(t) {
				if (!l.Util.isValid(this.player) || !this.player.hasHeartsEventInQueue()) {
					if (this.displayCurrentHearts !== this.currentHearts || 0 === this.heartsBarText.text.length) {
						t || (this.displayCurrentHearts = this.currentHearts);
						var e = Math.round(.05 * Math.abs(this.displayCurrentHearts - this.currentHearts));
						e < 1 && (e = 1), this.displayCurrentHearts += this.displayCurrentHearts < this.currentHearts ? e : -e, this.heartsBarText.setText(Math.round(this.displayCurrentHearts) + "/" + this.totalHearts)
					}
					this.displayCurrentTotalHearts !== this.totalHearts && (this.displayCurrentTotalHearts = this.totalHearts, this.heartsBarText.setText(Math.round(this.displayCurrentHearts) + "/" + this.totalHearts))
				}
			}, e.prototype.updateStarsBar = function(t) {
				var e = this,
					i = r.Creature.starsToLevel(this.level > 0 ? this.level : 0);
				this.starsToLevel = r.Creature.starsToLevel(this.level + 1), this.currentStars < i && (this.currentStars = i);
				var n = this.player.getPercentToLevel();
				if (this.level >= 100 && (n = 1), n !== this.starPercentage) {
					var a = this.reverseHearts ? this.starsBase.x + Math.round(258 * (1 - n)) : this.starsBase.x - Math.round(258 * (1 - n));
					if (t) {
						if (n < this.starPercentage) {
							var o = this.game.add.tween(this.starsFill).to({
									x: this.starsBase.x
								}, 1e3, Phaser.Easing.Quadratic.Out, !1, 700),
								s = this.game.add.tween(this.starsFill).to({
									alpha: 0
								}, 100, Phaser.Easing.Linear.None),
								l = this.game.add.tween(this.starsFill).to({
									x: a
								}, 1e3, Phaser.Easing.Quadratic.Out);
							s.onComplete.add(function() {
								e.starsFill.alpha = 1, e.starsFill.x = e.starsBase.x + (e.reverseHearts ? 278 : -278)
							}, this), o.chain(s), s.chain(l), o.start()
						} else this.game.add.tween(this.starsFill).to({
							x: a
						}, 1e3, Phaser.Easing.Quadratic.Out, !0, 700);
						this.bumpStars()
					} else this.starsFill.x = a;
					this.starPercentage = n
				}
			}, e.prototype.bumpStars = function() {
				this.game.add.tween(this.starsIcon.scale).to({
					y: 1.4,
					x: 1.4
				}, 220, Phaser.Easing.Quadratic.Out, !0, 800, 2, !0)
			}, e.prototype.bumpHearts = function() {
				this.game.add.tween(this.heartsIcon.scale).to({
					y: 1.4,
					x: 1.4
				}, 250, Phaser.Easing.Quadratic.Out, !0, 400, 5, !0)
			}, e.prototype.bumpDownHearts = function() {
				var t = this.heartsIcon;
				this.game.add.tween(t.scale).to({
					y: .9,
					x: .9
				}, 700, Phaser.Easing.Quadratic.Out, !0).onComplete.add(function() {
					t.scale.setTo(1, 1)
				}, t)
			}, e.prototype.updateLevelText = function() {
				this.levelText.setText(this.level.toString())
			}, e.prototype.updateLevel = function(t) {
				l.Util.isValid(t) ? (this.game.add.tween(this.levelText).to({
					y: -100
				}, 500, Phaser.Easing.Quadratic.Out, !0, 0, 0, !0), this.game.time.events.add(500, this.updateLevelText, this)) : this.updateLevelText()
			}, e.prototype.animateMultipleLevels = function(t, e, i) {
				for (var n = this, a = t, s = [], c = this.game.state.states.Battle.teams[0].current, h = function(t) {
						t < s.length ? (t < s.length - 1 && s[t].onComplete.add(function() {
							n.levelText.setText((++a).toString()), n.game.broadcaster.broadcast(o.ECreatureEvents.LevelUpAnimation, c, [!1, !0])
						}), s[t].onComplete.add(h.bind(n, t + 1)), s[t].start()) : l.Util.isValid(i) && i()
					}, u = t; u <= e; u++) {
					var p = null;
					if (u === e) {
						var d = r.Creature.starsToLevel(e - 1),
							g = r.Creature.starsToLevel(e),
							f = (this.currentStars - d) / (g - d);
						e >= 100 && (f = 1), p = this.game.add.tween(this.starsFill).to({
							x: this.starsBase.x - 278 * (1 - f)
						}, 500, Phaser.Easing.Quadratic.Out)
					} else(p = this.game.add.tween(this.starsFill).to({
						x: this.starsBase.x
					}, 500, Phaser.Easing.Quadratic.Out).to({
						alpha: 0
					}, 200, Phaser.Easing.Linear.None)).onComplete.add(function() {
						n.starsFill.x = n.starsBase.x - 278, n.starsFill.alpha = 1
					}, this);
					s.push(p)
				}
				h.bind(this, 0)()
			}, e.prototype.update = function() {
				var e = this;
				if (t.prototype.update.call(this), l.Util.isValid(this.player) && l.Util.isValid(this.ready) && (this.updateHeartsBarText(!0), this.game.prodigy.updateCount % 15 == 0)) {
					var i = this.player.getMaxHearts(),
						n = this.player.getCurrentHearts(),
						a = this.player.getStars(),
						o = this.player.getStarsToLevel(),
						r = this.player.getLevel(),
						s = this.player.getName();
					if (r !== this.level) r - this.level > 1 ? (this.ready = null, setTimeout(this.animateMultipleLevels.bind(this, this.level, r, function() {
						e.level = r, e.ready = !0, e.updateStarsBar(!1)
					}), 1e3)) : (this.level = r, this.starPercentage = 1, this.game.time.events.add(3e3, this.updateLevel.bind(this, !0), this));
					(i !== this.totalHearts || this.retryUpdateHearts) && (this.totalHearts = i, this.currentHearts = n, this.retryUpdateHearts = this.updateHeartsBar(!0)), (n !== this.currentHearts || this.retryUpdateHearts) && (this.currentHearts = n, this.retryUpdateHearts = this.updateHeartsBar(!0)), this.starsToLevel === o && this.currentStars === a || (this.currentStars = a, this.starsToLevel = o, this.updateStarsBar(!0)), this.playerName.text !== s && this.playerName.setText(s)
				}
			}, e.STAR_SHIFT = 20, e.WIDTH = 460, e
		}(a.Element);
	e.Hearts = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(11),
		r = i(4),
		s = i(838),
		l = i(55),
		c = i(22),
		h = i(5),
		u = i(2),
		p = i(272),
		d = i(35),
		g = i(12),
		f = i(0),
		y = function(t) {
			function e(e, i, n, a) {
				void 0 === a && (a = 0);
				var o = t.call(this, e, i, 23) || this;
				return o.inspect = !1, o.callback = n, o.mode = a, o.setup(), o.onDestroy.add(o.handleDestroy.bind(o)), o
			}
			return n(e, t), e.prototype.handleDestroy = function() {
				r.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this)
			}, e.prototype.menuSetup = function() {
				t.prototype.menuSetup.call(this);
				var i = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					n = [{
						icon: "team",
						callback: this.switchTeam.bind(this, e.TEAM),
						title: i.getText("PET_MENU_MY_TEAM")
					}, {
						icon: {
							type: "item",
							ID: 62
						},
						callback: this.allPets.bind(this),
						title: i.getText("PET_MENU_BESTIARY")
					}];
				this.showFrame("pet", "", n, 0);
				var o = [this.game.prodigy.create.textButton(this, 0, 0, {
					icon: "close",
					text: i.getText("BUTTON_CLOSE")
				}, this.close.bind(this))];
				this.showBtns([], o), this.setupComplete = !0, this.game.broadcaster.broadcast(h.EPlayerLocomotionEvents.StopPlayer)
			}, e.prototype.close = function(e) {
				f.Util.isValid(this.callback) && this.callback(e), t.prototype.close.call(this)
			}, e.prototype.createList = function() {
				var t = this.game.prodigy.create.element(this.content, 660, 170);
				this.game.prodigy.create.panel(t, 0, 0, 10, 8), this.game.prodigy.create.font(t, 10, -25, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("PETS_I_OWN"), {
					size: 20
				}), this.icons = [];
				for (var e = 0; e < 20; e++) this.icons.push(t.add(this.game.prodigy.create.sprite(e % 5 * 90 + 30, 90 * Math.floor(e / 5) + 25, "atlas-21", "icon-base"))), this.icons[e].inputEnabled = !0, this.icons[e].events.onInputDown.add(this.showInfo.bind(this, this.icons[e], null)), r.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.addTrigger({
					ID: "autoclick-bestiary-" + e,
					context: this,
					callback: this.onAutoClick.bind(this, e)
				});
				this.scrollUp = this.game.prodigy.create.button(t, -20, 135, "atlas-21", "next", this.scrollList.bind(this, -1)), this.scrollUp.sprite.angle = -90, this.scrollDown = this.game.prodigy.create.button(t, 30, 265, "atlas-21", "next", this.scrollList.bind(this, 1)), this.scrollDown.sprite.angle = 90
			}, e.prototype.onAutoClick = function(t) {
				return {
					x: this.icons[t].worldPosition.x + .5 * this.icons[t].width,
					y: this.icons[t].worldPosition.y + .5 * this.icons[t].height
				}
			}, e.prototype.onAutoClickTeam = function(t) {
				return {
					x: this.teamIcons[t].worldPosition.x + .5 * this.teamIcons[t].width,
					y: this.teamIcons[t].worldPosition.y + .5 * this.teamIcons[t].height
				}
			}, e.prototype.onAutoClickSprite = function(t) {
				return {
					x: t.worldPosition.x + .5 * t.width,
					y: t.worldPosition.y + .5 * t.height
				}
			}, e.prototype.createBoxes = function() {
				this.box = this.game.prodigy.create.element(this.content, 120, 170), this.game.prodigy.create.panel(this.box, 0, 0, 10, 8), this.icons = [];
				for (var t = 0; t < 20; t++) this.icons.push(this.box.add(this.game.prodigy.create.sprite(t % 5 * 90 + 30, 90 * Math.floor(t / 5) + 25, "atlas-21", "icon-base"))), this.icons[t].inputEnabled = !0, this.icons[t].events.onInputDown.add(this.selectIcon.bind(this, this.icons[t], null)), r.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.addTrigger({
					ID: "autoclick-teamless-" + t,
					context: this,
					callback: this.onAutoClick.bind(this, t)
				});
				this.btns = [];
				for (t = 0; t < 8; t++) this.btns.unshift(this.game.prodigy.create.stackButton(this.box, 240 - 55 * t + 200, -40, [{
					tag: "empty"
				}, {
					text: "" + (8 - t),
					y: 8,
					x: -15
				}], this.openBox.bind(this, 7 - t)));
				var e = this.box.add(this.game.prodigy.create.sprite(10, -40, "atlas-21", "inspect"));
				e.inputEnabled = !0, e.events.onInputDown.add(this.inspectParent.bind(this, e)), r.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.addTrigger({
					ID: "autoclick-inspect",
					context: this,
					callback: this.onAutoClickSprite.bind(this, e)
				})
			}, e.prototype.inspectParent = function(t) {
				this.inspect = !this.inspect, t.tint = this.inspect ? 4473924 : 16777215, f.Util.isValid(this.preview) && (this.preview.destroy(), this.preview = null)
			}, e.prototype.createTeam = function() {
				var t;
				this.panel = this.game.prodigy.create.element(this.content, 660, 170), this.game.prodigy.create.panel(this.panel, 0, 0, 7, 3), this.game.prodigy.create.font(this.panel, 10, -25, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("PETS_MY_TEAM"), {
					size: 20
				}), this.teamIcons = [];
				for (var e = 0; e < 3; e++) {
					t = this.game.prodigy.create.sprite(90 * e + 45, e % 2 * 20 + 25, "atlas-21", "icon-base-active"), this.panel.add(t);
					var i = this.game.prodigy.create.sprite(0, 0, "atlas-21", "icon-base");
					this.game.prodigy.create.element(this.panel, 90 * e + 45, e % 2 * 20 + 25).add(i), this.teamIcons.push(i), this.teamIcons[e].inputEnabled = !0, this.teamIcons[e].events.onInputDown.add(this.selectIcon.bind(this, this.teamIcons[e], e)), r.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.addTrigger({
						ID: "autoclick-team-" + e,
						context: this,
						callback: this.onAutoClickTeam.bind(this, e)
					})
				}
			}, e.prototype.switchTeam = function(t) {
				if (void 0 === t && (t = 0), this.mode = t, r.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this), f.Util.isValid(this.content) && this.content.destroy(), this.content = this.game.prodigy.create.element(this, 0, 0), this.inspect = !1, this.createTeam(), this.refreshTeam(), this.createBoxes(), this.openBox(0), this.game.prodigy.player.tutorial.getMenuValue(this.menuID, 0) < 1 && this.game.prodigy.player.kennel.getPets().length > 0) {
					this.game.prodigy.player.tutorial.setMenuValue(this.menuID, 0, 1);
					var e = this.game.prodigy.dialogue.create();
					e.setText(19), e.setText({
						callback: f.Util.highlightAll.bind(f.Util, [this.box], !0)
					}), e.setText(20), e.setText({
						callback: f.Util.highlightAll.bind(f.Util, [this.box], !1)
					}), e.setText({
						callback: f.Util.highlightAll.bind(f.Util, [this.panel], !0)
					}), e.setText(21), e.setText({
						callback: f.Util.highlightAll.bind(f.Util, [this.panel], !1)
					}), e.start("noot")
				}
			}, e.prototype.allPets = function() {
				this.mode = e.ALL, r.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this), f.Util.isValid(this.content) && this.content.destroy(), this.content = this.game.prodigy.create.element(this, 0, 0), this.fullIndex = 0, this.createList(), this.scrollList(0)
			}, e.prototype.onFirstIconClick = function(t) {
				f.Util.isValid(t.srcData) && (this.tween = this.game.add.tween(t).to({
					y: t.y - 10
				}, 500, Phaser.Easing.Quadratic.InOut, !0, 0, r.GameConstants.MAX_SAFE_INTEGER, !0), this.game.prodigy.audio.playSFX(18, "pop"), this.current = t, t.oldY = t.y)
			}, e.prototype.onEmptySlotClick = function(t) {
				this.current.srcData instanceof p.ActivePlayer ? f.Util.isValid(t) ? (this.game.prodigy.audio.playSFX(18, "heart"), this.current.srcData.data.team = t, this.current.srcData.updated = !0) : this.game.prodigy.audio.playSFX(18, "blop") : (this.game.prodigy.audio.playSFX(18, "heart"), this.game.prodigy.player.kennel.setTeam(this.current.srcData, t))
			}, e.prototype.onOccupiedSlotClick = function(t, e) {
				this.current.srcData instanceof p.ActivePlayer ? f.Util.isValid(e) ? (this.game.prodigy.audio.playSFX(18, "heart"), this.game.prodigy.player.kennel.setTeam(t.srcData, this.current.srcData.data.team), this.current.srcData.data.team = e, this.current.srcData.updated = !0) : this.game.prodigy.audio.playSFX(18, "blop") : t.srcData instanceof g.Player ? f.Util.isValid(this.current.srcData.team) ? (this.game.prodigy.audio.playSFX(18, "heart"), t.srcData.data.team = this.current.srcData.team, t.srcData.updated = !0, this.game.prodigy.player.kennel.setTeam(this.current.srcData, e)) : this.game.prodigy.audio.playSFX(18, "blop") : (this.game.prodigy.audio.playSFX(18, "heart"), this.game.prodigy.player.kennel.setTeam(this.current.srcData, t.srcData))
			}, e.prototype.selectIcon = function(t, e) {
				if (this.inspect) {
					if (f.Util.isValid(t.srcData)) {
						if (f.Util.isValid(this.preview) && this.preview.destroy(), t.srcData instanceof g.Player) return;
						this.preview = new s.Hearts(this.game, this.content, 660, 350, new d.Monster(this.game, t.srcData));
						var i = u.Items.getItem("pet", t.srcData.ID);
						!1 === o(i, "data.unique", !1) && this.game.prodigy.create.textButton(this.preview, 150, 130, {
							size: c.TextButton.MED,
							text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("PETS_BUTTON_SET_FREE"),
							icon: "close"
						}, this.openLeavePetConfirmation.bind(this, t.srcData))
					}
				} else f.Util.isValid(this.tween) && (this.tween.stop(), this.tween = null, this.current.y = this.current.oldY), f.Util.isValid(this.current) ? (t !== this.current ? f.Util.isValid(t.srcData) ? this.onOccupiedSlotClick(t, e) : this.onEmptySlotClick(e) : this.game.prodigy.audio.playSFX(18, "blop"), this.current = null, this.openBox(this.currentBox), this.refreshTeam()) : this.onFirstIconClick(t)
			}, e.prototype.scrollList = function(t) {
				var e = Math.ceil((u.Items.getItemCount("pet") - this.icons.length) / 5);
				this.fullIndex = Phaser.Math.clamp(this.fullIndex + t, 0, e), this.fullIndex <= 0 ? this.scrollUp.setInactive() : this.scrollUp.setActive(), this.fullIndex >= e ? this.scrollDown.setInactive() : this.scrollDown.setActive();
				for (var i = u.Items.getRangeByAmount("pet", 5 * this.fullIndex, 20), n = 0; n < this.icons.length; n++) this.icons[n].alpha = 1, n >= i.length || !f.Util.isValid(i[n]) || !this.game.prodigy.player.kennel.hasPet(i[n].ID) ? (this.icons[n].loadNewTexture("atlas-21", "mystery"), n >= i.length && (this.icons[n].alpha = 0), this.icons[n].srcData = null) : (this.icons[n].loadNewTexture(u.Items.getIconAtlas(i[n]), null, new Phaser.Point(0, 0), !0), this.icons[n].srcData = i[n])
			}, e.prototype.openBox = function(t) {
				f.Util.isValid(this.tween) && (this.tween.stop(), this.tween = null), f.Util.isValid(this.current) && (this.current.y = this.current.oldY, this.current = null);
				for (var i = 0; i < this.btns.length; i++) t === i ? this.btns[i].select() : this.btns[i].deselect();
				this.currentBox = t;
				var n = this.game.prodigy.player.kennel.getPets(this.mode !== e.ALL),
					a = 20 * t;
				for (i = 0; i < this.icons.length; i++) i + a >= n.length ? (this.icons[i].alpha = 0, this.icons[i].loadNewTexture("atlas-21", "icon-base"), this.icons[i].srcData = null) : (this.icons[i].alpha = 1, this.icons[i].loadNewTexture(u.Items.getIconAtlas({
					type: "pet",
					ID: n[i + a].ID
				}), null, new Phaser.Point(0, 0), !0), this.icons[i].srcData = n[i + a])
			}, e.prototype.showInfo = function(t) {
				if (0 !== t.alpha) {
					f.Util.isValid(this.preview) && this.preview.destroy();
					var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
						i = f.Util.isValid(t.srcData) ? u.Items.getItem("pet", t.srcData.ID).data : null;
					if (this.preview = this.game.prodigy.create.element(this.content, 120, 170), this.game.prodigy.create.panel(this.preview, 0, 0, 10, 2), this.game.prodigy.create.panel(this.preview, 0, 150, 10, 5), this.game.prodigy.create.font(this.preview, 100, -25, f.Util.isValid(i) ? i.name : e.getText("NPC_NAME_UNKNOWN"), {
							size: 20
						}), this.game.prodigy.create.font(this.preview, 10, 125, e.getText("PETS_DESCRIPTION"), {
							size: 20
						}), this.game.prodigy.create.font(this.preview, 30, 180, f.Util.isValid(i) ? i.flavorText : e.getText("PETS_DONT_OWN"), {
							size: 20,
							width: 440
						}), f.Util.isValid(i) ? this.preview.add(this.game.prodigy.icon.createFromData({
							type: "pet",
							ID: t.srcData.ID
						}, 0, -25)) : this.preview.add(this.game.prodigy.create.sprite(0, -25, "atlas-21", "mystery")), f.Util.isValid(i)) {
						for (var n = i.element.split(" "), o = 0; o < n.length; ++o) n[o] = f.Util.capitalize(f.Util.convertLegacyElements(n[o]));
						this.game.prodigy.create.font(this.preview, 180, 35, e.getText("PETS_TYPE", n.join(" ")), {
							size: 20
						})
					}
				}
			}, e.prototype.refreshTeam = function() {
				this.game.prodigy.player.kennel.reconcilePVPTeam();
				for (var t = this.game.prodigy.player.kennel.getTeam(), e = 0; e < this.teamIcons.length; e++) this.teamIcons[e].srcData = null, f.Util.isValid(t[e]) ? t[e] instanceof g.Player ? (this.teamIcons[e].loadNewTexture("atlas-21", "player"), this.teamIcons[e].srcData = t[e]) : t[e] instanceof d.Monster && (this.teamIcons[e].loadNewTexture(u.Items.getIconAtlas({
					type: "pet",
					ID: t[e].getID()
				}), null, new Phaser.Point(0, 0), !0), this.teamIcons[e].srcData = t[e].data) : this.teamIcons[e].loadNewTexture("atlas-21", "icon-base")
			}, e.prototype.openLeavePetConfirmation = function(t) {
				this.game.prodigy.open.messageBox(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("PETS_CONFIRM_LEAVE"), this.releasePet.bind(this, t))
			}, e.prototype.releasePet = function(t) {
				this.game.prodigy.player.kennel.remove(t), f.Util.isValid(this.preview) && this.preview.destroy(), this.openBox(this.currentBox), this.refreshTeam()
			}, e.TEAM = 0, e.ALL = 1, e
		}(l.LegacyMenu);
	e.PetsMenu = y
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(86),
		o = i(1),
		r = i(55),
		s = i(2),
		l = i(71),
		c = i(16),
		h = i(0),
		u = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, 18, {
					hideMenu: !0,
					hideContent: !1,
					hideClose: !0
				}) || this;
				return o.names = n, o.user = a, o.setup(), o
			}
			return n(e, t), e.prototype.menuSetup = function() {
				var e = this;
				t.prototype.menuSetup.call(this);
				var i = this.game.prodigy.create.panel(this, 390, 80, 10, 10);
				i.add(this.game.prodigy.create.sprite(-15, -15, "icon-item-12")), this.game.prodigy.create.font(i, 80, 15, this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("NAME_CHANGE_CHANGE_TO"), {
					align: "left",
					size: 30
				});
				var n = new a.NameData,
					r = this.game.prodigy.player.appearance.getName();
				n.setFirstName(r.getFirstName()), n.setMiddleName(r.getMiddleName()), n.setLastName(r.getLastName()), n.setNickname(r.getNickname());
				var s = this.game.prodigy.gameContainer.resolve(l.DataNameResolver);
				s.init(n, this.game.prodigy.player.appearance.getGender());
				for (var c = 0; c < this.names.length; c++) {
					n.setNickname(this.names[c].ID);
					var h = !0 === this.names[c].member && !this.game.prodigy.player.hasMembership(),
						u = this.isLocked(this.names[c]),
						p = this.game.prodigy.create.element(i, 30, 60 * c + 80),
						d = this.game.prodigy.create.sprite(0, 0, "atlas-18", "overlay-small");
					d.inputEnabled = !0, d.events.onInputDown.add(this.setCurrent.bind(this, h || u, this.names[c], 60 * c + 75)), d.width = 440, d.alpha = h || u ? .5 : .2, h || u ? (this.game.prodigy.create.font(p, 60, 8, s.getName(), {
						align: "left",
						size: 20
					}), p.add(d)) : (p.add(d), this.game.prodigy.create.font(p, 60, 8, s.getName(), {
						align: "left",
						size: 20
					})), h && p.add(this.game.prodigy.create.sprite(-5, -5, "atlas-21", "membership"))
				}
				var g = this.game.prodigy.create.sprite(0, 0, "atlas-18", "overlay-small");
				g.inputEnabled = !0, g.events.onInputDown.add(function() {
					e.selected.visible = !0, e.selected.y = 60 * e.names.length + 75, e.current = null, e.applyButton.setActive()
				}), g.width = 440, g.alpha = .2;
				var f = this.game.prodigy.create.element(i, 30, 60 * this.names.length + 80);
				f.add(g), this.game.prodigy.create.font(f, 60, 8, this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("NAME_CHANGE_REVERT_CHANGE"), {
					align: "left",
					size: 20
				}), this.selected = i.add(this.game.prodigy.create.sprite(25, -5, "atlas-21", "yes")), this.selected.visible = !1, this.game.prodigy.create.textButton(i, 40, 470, {
					icon: "close",
					text: this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("BUTTON_CANCEL")
				}, this.close.bind(this)), this.applyButton = this.game.prodigy.create.textButton(i, 260, 470, {
					icon: "next",
					text: this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("BUTTON_APPLY")
				}, this.apply.bind(this)), this.applyButton.setInactive()
			}, e.prototype.isLocked = function(t) {
				if (!h.Util.isValid(t.req)) return !1;
				for (var e = 0; e < t.req.length; e++) {
					var i = t.req[e];
					if ("pet" === i.rtype && !this.game.prodigy.player.kennel.hasPet(i.ID)) return !0;
					if ("item" === i.rtype && 0 === this.game.prodigy.player.backpack.hasItem(i.type, i.ID)) return !0;
					if ("quest" === i.rtype && this.game.prodigy.world.getZone(i.zone).getCurrentQuestID > i.Q) return !0
				}
				return !1
			}, e.prototype.setCurrent = function(t, e, i) {
				!0 === e.member && (this.game.prodigy.network.sendAnalytics("Set-Nickname", s.Items.getItem("nickname", e.ID).data.value), t) ? this.game.prodigy.open.membershipInfo(null, {}, c.MembershipInfo.NICKNAME) : t && h.Util.isValid(e) ? this.game.prodigy.open.message(e.fail, null, null, this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("MESSAGE_TITLE_UH_OH")) : (this.selected.visible = !0, this.selected.y = i, this.current = e, this.applyButton.setActive())
			}, e.prototype.apply = function() {
				this.game.prodigy.player.appearance.getName().setNickname(h.Util.isValid(this.current) ? this.current.ID : null), this.game.prodigy.player.appearance.updated = !0, this.user.showName();
				var t = this.game.prodigy.player;
				this.game.prodigy.network.emitMessage({
					action: "change",
					data: {
						userID: t.userID,
						appearance: t.appearance.getData()
					}
				}), this.close()
			}, e
		}(r.LegacyMenu);
	e.Nicknamer = u
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(22),
		r = i(0),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.createBuyModeUI = function(e, i) {
				var n = this;
				t.prototype.createBuyModeUI.call(this, e, i);
				var s = this.game.prodigy.create.textButton(this, 0, 0, {
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("HOUSE_BUTTON_VISIT"),
					size: o.TextButton.SMALL
				}, function() {
					n.game.prodigy.world.getZone("house").gotoPreview(i.tag)
				});
				s.y = 435;
				var l = e.width / 3;
				s.x = r.Util.getCenteredXY(s.width, 0, e.x + l, 0, 2 * l, 0).x
			}, e
		}(i(273).ItemInfo);
	e.HouseItemInfo = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(11),
		r = i(6),
		s = i(69),
		l = i(15),
		c = i(5),
		h = i(2),
		u = i(16),
		p = i(0),
		d = i(20),
		g = i(34),
		f = function(t) {
			function e(e, i, n, o, r, s) {
				var l = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
				return l.game = e, l.items = l.splitItems(n), l.itemsLeft = n.length, l.onClose = o, l.shouldStartDialogueOnCreate = !p.Util.isValid(r) || r, l.eventType = s, l.create(), a.Logger.log("GotItem------------------------------------", a.LogLevel.Verbose), l
			}
			return n(e, t), e.prototype.create = function() {
				this.addTransparent(), this.content = this.game.prodigy.create.element(this, 0, 0), this.overlay = this.game.prodigy.create.element(this, 0, 0), t.prototype.create.call(this), this.dialogue = this.game.prodigy.dialogue.create(), this.getDialogue(), this.shouldStartDialogueOnCreate && this.dialogue.start("noot")
			}, e.prototype.startDialogue = function() {
				p.Util.isValid(this.dialogue) ? this.dialogue.start("noot") : a.Logger.log("GotItem.startDialogue - dialogue was null.  Cannot start", a.LogLevel.Error)
			}, e.prototype.getItems = function(t, e) {
				for (var i = 0; i < t; i++) a.Logger.log(this.items[i + e].type + " " + (i + e), a.LogLevel.Verbose), this.revealItem(.5 * (1280 - (160 * t + 20 * (t - 1))) + 180 * i, this.items[i + e], 400 * i), this.bagItem(this.items[i + e]), this.itemsLeft--, a.Logger.log(this.itemsLeft + " remaining", a.LogLevel.Verbose)
			}, e.prototype.splitItems = function(t) {
				for (var e, i = [], n = 0, o = 0; o < t.length; o++) "gold" === t[o].type ? n += t[o].N : "spell" === t[o].type ? e = t[o] : i.push(t[o]);
				return 0 !== n && i.unshift({
					type: "gold",
					N: n
				}), p.Util.isValid(e) && i.unshift(e), a.Logger.log(i.toString(), a.LogLevel.Verbose), i
			}, e.prototype.getDialogue = function() {
				if (1 === this.items.length) this.getSingleDialogue(this.items[0], 0), this.dialogue.setText({
					callback: this.close.bind(this)
				});
				else if ("memberBox-reward" === this.eventType) {
					var t = this.game.rnd.integerInRange(191, 197),
						e = this.game.prodigy.dialogues.get("noot", t);
					this.getItems(this.items.length, 0), this.dialogue.setText(e), this.dialogue.setText({
						callback: this.close.bind(this)
					})
				} else {
					var i = this.items[this.items.length - 1],
						n = !1,
						o = !1;
					"hat" !== i.type && "outfit" !== i.type && "weapon" !== i.type && "boots" !== i.type && "follow" !== i.type || (n = !0), "spell" === this.items[0].type && (o = !0);
					var r = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
					n ? (this.items.length > 2 ? (this.getItems(this.items.length - 1, 0), this.dialogue.setText({
						text: r.getText("GOT_ITEM_YOU_GOT_SOMETHING"),
						face: 2,
						anim: 1
					})) : this.getSingleDialogue(this.items[0], 0), this.dialogue.setText({
						callback: this.getSingleDialogue.bind(this, i, this.items.length - 1)
					})) : o ? (this.items.length > 2 ? (this.getItems(this.items.length - 1, 1), this.dialogue.setText({
						text: r.getText("GOT_ITEM_YOU_GOT_SOMETHING"),
						face: 2,
						anim: 1
					})) : this.getSingleDialogue(i, this.items.length - 1), this.dialogue.setText({
						callback: this.getSingleDialogue.bind(this, this.items[0], 0)
					})) : (this.getItems(this.items.length, 0), this.dialogue.setText({
						text: r.getText("GOT_ITEM_YOU_GOT_SOMETHING"),
						face: 2,
						anim: 1
					}), this.dialogue.setText({
						callback: this.close.bind(this)
					}))
				}
			}, e.prototype.getSingleDialogue = function(t, e) {
				this.clearItems();
				var i = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				if ("pet" === t.type) this.getItems(1, e), this.dialogue.setText({
					text: i.getText("GOT_ITEM_YOU_GOT_PET"),
					face: 2,
					anim: 1
				});
				else if ("dorm" === t.type) this.getItems(1, e), this.dialogue.setText({
					text: i.getText("GOT_ITEM_YOU_GOT_FURNITURE"),
					face: 2,
					anim: 1
				});
				else if ("dormbg" === t.type) this.getItems(1, e), this.dialogue.setText({
					text: i.getText("GOT_ITEM_MOVED_HOUSE"),
					face: 2,
					anim: 1
				});
				else if ("bounty" === t.type) this.getItems(1, e), this.dialogue.setText({
					text: i.getText("GOT_ITEM_BOUNTY_POINTS"),
					face: 2,
					anim: 1
				});
				else if ("gold" === t.type) this.getItems(1, e), this.dialogue.setText({
					text: i.getText("GOT_ITEM_GOLD"),
					face: 2,
					anim: 1
				});
				else if ("spell" === t.type) this.getItems(1, e), this.dialogue.setText({
					text: i.getText("GOT_ITEM_SPELL"),
					face: 2,
					anim: 1
				}), this.items.length > 1 && this.dialogue.setText({
					callback: this.close.bind(this)
				});
				else if ("hat" === t.type || "outfit" === t.type || "weapon" === t.type || "boots" === t.type || "follow" === t.type) {
					var n = i.getText("GOT_ITEM_GENERIC", t.type);
					"boots" === t.type && (n = i.getText("GOT_ITEM_BOOTS", t.type)), "follow" === t.type && (n = i.getText("GOT_ITEM_FOLLOW")), this.getItems(1, e), this.dialogue.setText({
						text: n,
						yes: this.wearItem.bind(this, t),
						no: this.close.bind(this),
						face: 3,
						anim: 4
					})
				} else "giftBox" === t.type ? (this.getItems(1, e), this.dialogue.setText({
					text: i.getText("GOT_ITEM_GIFT_BOX"),
					face: 2,
					anim: 1
				})) : "gender" === t.type || "hair" === t.type || "eyeColor" === t.type || "skinColor" === t.type || "hairColor" === t.type || "face" === t.type ? (this.getItems(1, e), this.dialogue.setText({
					text: i.getText("GOT_ITEM_LOOK"),
					face: 2,
					anim: 1
				})) : (this.getItems(1, e), this.dialogue.setText({
					text: i.getText("GOT_ITEM_OTHER"),
					face: 2,
					anim: 1
				}))
			}, e.prototype.revealItem = function(t, e, i) {
				if ("gender" === e.type || "hair" === e.type || "eyeColor" === e.type || "skinColor" === e.type || "hairColor" === e.type || "face" === e.type) this.game.prodigy.create.item(this.content, t, 150, e, g.EItemInfoMode.StylistCard);
				else {
					this.game.prodigy.create.item(this.content, t, 150, e, g.EItemInfoMode.Card);
					var n = this.game.prodigy.create.panel(this.overlay, t, 150, 4, 5, "orange");
					n.alpha = 1, this.game.add.tween(n).to({
						alpha: 0
					}, 200, Phaser.Easing.Linear.None, !0, i + 500)
				}
				this.shootStars(i + 500, t + 80)
			}, e.prototype.clearItems = function() {
				p.Util.isValid(this.content) && (this.content.destroy(), this.content = this.game.prodigy.create.element(this, 0, 0)), p.Util.isValid(this.overlay) && (this.overlay.destroy(), this.overlay = this.game.prodigy.create.element(this, 0, 0))
			}, e.prototype.skip = function() {
				p.Util.isValid(this.overlay) && this.overlay.destroy(), this.overlay = this.game.prodigy.create.element(this, 0, 0)
			}, e.prototype.bagItem = function(t) {
				this.game.prodigy.network.sendItemChangeEvent(p.Util.isValid(this.eventType) ? this.eventType : "got-item", {
					type: t.type,
					ID: p.Util.isValid(t.ID) ? t.ID : -1,
					N: p.Util.isValid(t.N) ? t.N : 1
				});
				var e = o(h.Items.getItem(t.type, t.ID), "data", null);
				if (this.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_source", {
						eventType: p.Util.isValid(this.eventType) ? this.eventType : "got-item",
						type: t.type,
						id: t.ID,
						name: p.Util.isValid(e) ? e.name : "",
						amount: p.Util.isValid(t.N) ? t.N : 1
					}), "gold" === t.type) this.game.prodigy.player.changeGold(t.N);
				else if ("pet" === t.type) this.game.prodigy.player.kennel.add(t.ID, t.data.hp, t.data.stars, t.data.level, t.data.nickname);
				else if ("spell" === t.type) this.game.prodigy.player.addSpell(t.ID);
				else if ("dorm" === t.type) "store" !== this.eventType && "memberBox-reward" !== this.eventType && "parent-reward" !== this.eventType && "wheel-of-wonder" !== this.eventType && "twilight-wheel" !== this.eventType && this.game.prodigy.notifications.initNotificationTemplate(s.NotificationType.ITEMGENERIC, [{
					ID: t.ID,
					type: t.type
				}]), this.game.prodigy.player.house.add(t.ID);
				else if ("dormbg" === t.type) this.game.prodigy.player.house.setCurrentHouseTag(t.data.tag);
				else if ("key" === t.type) this.game.prodigy.player.backpack.addKeyItem(t.ID, t.lvl, t.data);
				else if ("giftBox" === t.type) this.game.prodigy.network.sendAnalytics("Conjure-Cubes-Earned-for-Free", "Earned-at-Level-" + this.game.prodigy.player.data.level);
				else if ("item" === t.type) {
					p.Util.isValid(t.type) && "potion" === t.type ? this.game.prodigy.player.backpack.add("item", t.ID, !(1 === e.member) || !this.game.prodigy.player.hasMembership() && 1 === e.member, p.Util.isValid(t.N) ? t.N : 1) : p.Util.isValid(t.data.seed) ? this.game.prodigy.player.backpack.addBountyNote(t.type, t.ID, t.data.seed) : this.game.prodigy.player.backpack.add("item", t.ID, !1, p.Util.isValid(t.N) ? t.N : 1)
				} else if ("currency" === t.type) {
					var i = 1 === h.Items.getItemData(t.type, t.ID).member && !this.game.prodigy.player.hasMembership();
					this.game.prodigy.player.backpack.add(t.type, t.ID, i, t.N)
				} else if ("hair" === t.type) {
					var n = this.game.prodigy.player.appearance.getHair();
					this.game.prodigy.player.appearance.setHair(t.ID, n.color), this.game.prodigy.player.appearanceChanged = !0, this.game.broadcaster.broadcast(c.EPlayerContainerEvents.PlayerAppearanceUpdated, "Card", [])
				} else if ("gender" === t.type) this.game.prodigy.player.appearance.setGender(1 === t.ID ? "male" : "female"), this.game.prodigy.player.appearance.setFace(1 === t.ID ? 4 : 12), this.game.prodigy.player.appearanceChanged = !0, this.game.broadcaster.broadcast(c.EPlayerContainerEvents.PlayerAppearanceUpdated, "Card", []);
				else if ("eyeColor" === t.type) this.game.prodigy.player.appearance.setEyeColor(t.ID), this.game.prodigy.player.appearanceChanged = !0, this.game.broadcaster.broadcast(c.EPlayerContainerEvents.PlayerAppearanceUpdated, "Card", []);
				else if ("skinColor" === t.type) this.game.prodigy.player.appearance.setSkinColor(t.ID), this.game.prodigy.player.appearanceChanged = !0, this.game.broadcaster.broadcast(c.EPlayerContainerEvents.PlayerAppearanceUpdated, "Card", []);
				else if ("hairColor" === t.type) {
					n = this.game.prodigy.player.appearance.getHair();
					this.game.prodigy.player.appearance.setHair(n.style, t.ID), this.game.prodigy.player.appearanceChanged = !0, this.game.broadcaster.broadcast(c.EPlayerContainerEvents.PlayerAppearanceUpdated, "Card", [])
				} else if ("face" === t.type) this.game.prodigy.player.appearance.setFace(t.ID), this.game.prodigy.player.appearanceChanged = !0, this.game.broadcaster.broadcast(c.EPlayerContainerEvents.PlayerAppearanceUpdated, "Card", []);
				else if ("bounty" !== t.type) {
					i = 1 === h.Items.getItemData(t.type, t.ID).member && !this.game.prodigy.player.hasMembership();
					p.Util.isValid(t.isGift) && t.isGift && (i = !1), p.Util.isValid(t.data.seed) ? this.game.prodigy.player.backpack.addBountyNote(t.type, t.ID, t.data.seed) : ("store" !== this.eventType && "memberBox-reward" !== this.eventType && "parent-reward" !== this.eventType && "wheel-of-wonder" !== this.eventType && "twilight-wheel" !== this.eventType && this.game.prodigy.notifications.initNotificationTemplate(s.NotificationType.ITEMGENERIC, [{
						ID: t.ID,
						type: t.type
					}]), this.game.prodigy.player.backpack.add(t.type, t.ID, i, t.N))
				}
			}, e.prototype.wearItem = function(t) {
				var e = h.Items.getItem(t.type, t.ID).data;
				if (this.game.prodigy.player.hasMembership() || 1 !== e.member || p.Util.isValid(t.isGift))
					if (p.Util.isValid(e.lockLevel) && this.game.prodigy.player.getLevel() < e.lockLevel) {
						var i = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("LEVEL_LOCK_EQUIP", e.name, e.lockLevel);
						this.game.prodigy.open.message(i).onClose = this.showLevelLockMembershipAd.bind(this)
					} else this.game.prodigy.player.equip(t.ID, t.type), this.game.prodigy.player.appearanceChanged = !0, this.close();
				else {
					var n = {
						conversionFunnelName: d.EFunnelEventIDs.FunnelEquipNewLockedItem,
						conversionFunnelMetadata: t.type + "-" + t.ID
					};
					this.game.prodigy.network.sendConversionFunnelEvent(n.conversionFunnelName, d.EFunnelEventIDs.StageEquipItem, n.conversionFunnelMetadata), this.game.prodigy.network.sendAnalytics("Equip-Member-Item", e.name), this.game.prodigy.open.membershipInfo(this.close.bind(this), n, u.MembershipInfo.PREMIUM_ITEM)
				}
			}, e.prototype.showLevelLockMembershipAd = function() {
				this.game.prodigy.player.hasMembership() || this.game.prodigy.open.membershipInfo(null, {}, u.MembershipInfo.MORE_EXP), this.close()
			}, e.prototype.shootStars = function(t, e) {
				for (var i = this.game.prodigy.create.element(this.overlay), n = 0; n < 5; n++) {
					var a = e - 100 + 50 * n,
						o = this.game.world.centerY - 100 - 150;
					0 === n || 4 === n ? o += 120 : 1 !== n && 3 !== n || (o += 50);
					var r = this.game.prodigy.create.sprite(e, this.game.world.centerY - 100, "atlas-21", "star");
					i.add(r), r.anchor.setTo(.5, .5), r.alpha = 0, this.game.add.tween(r).to({
						alpha: .5
					}, 1, Phaser.Easing.Linear.None).delay(t).to({
						x: a,
						alpha: 0
					}, 1e3, Phaser.Easing.Quadratic.Out).start(), this.game.add.tween(r).to({
						y: o
					}, 1e3, Phaser.Easing.Quadratic.Out).delay(t).start()
				}
			}, e
		}(l.RenderMenu);
	e.GotItem = f
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || Object.assign || function(t) {
			for (var e, i = 1, n = arguments.length; i < n; i++)
				for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
			return t
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(6),
		r = i(2),
		s = i(71),
		l = i(0),
		c = function(t) {
			function e(i, n, a, o, r) {
				void 0 === o && (o = null), void 0 === r && (r = null);
				var s = t.call(this, i, n, 23, e.configModifiers) || this;
				return s.data = null, s.notificationCallback = null, s.closeCallback = null, s.notificationDelay = 3e3, s.currentTween = null, s.game = i, s.data = a, s.notificationCallback = o, s.closeCallback = r, s.isNotificationCell = !0, s
			}
			return n(e, t), e.prototype.preprocess = function() {
				this.queuePostCreateCallback(this.renderCell.bind(this), this.setAnimation.bind(this))
			}, e.prototype.setAnimation = function() {
				this.background.visible = !1, this.game.prodigy.audio.playSFX(31, "open"), this.currentTween = this.game.add.tween(this.notificationContainer).to({
					y: 25
				}, 250, Phaser.Easing.Linear.None).to({
					y: 25
				}, 0, Phaser.Easing.Linear.None, !0, this.notificationDelay), this.currentTween.onComplete.add(this.closeNotification, this)
			}, e.prototype.closeNotification = function() {
				this.currentTween.stop(), this.currentTween = this.game.add.tween(this.notificationContainer).to({
					alpha: 0
				}, 250, Phaser.Easing.Linear.None, !0, 0), this.currentTween.onComplete.add(this.close, this)
			}, e.prototype.runNotificationCallback = function() {
				this.notificationCallback(), this.closeNotification()
			}, e.prototype.likeNotification = function() {
				this.currentTween.stop(), this.shareButton.visible = !1, this.likeButton.active = !1, this.contractButton.onUpCallback = null, this.closeButton.onUpCallback = null, this.game.time.events.add(2e3, this.runNotificationCallback, this)
			}, e.prototype.shareNotification = function() {
				this.currentTween.stop(), this.sharedCellMatte.visible = !0, this.sharedText.visible = !0, this.faceCircle.visible = !1, this.memberFaceCircle.visible = !1, this.meCellMatte.visible = !1, this.mememberCellMatte.visible = !1, this.notificationText.visible = !1, this.shareButton.visible = !1, this.contractButton.onUpCallback = null, this.closeButton.onUpCallback = null, this.game.time.events.add(2e3, this.runNotificationCallback, this)
			}, e.prototype.renderCell = function() {
				if (this.contractButton.onUpCallback = this.closeNotification.bind(this), this.closeButton.onUpCallback = this.closeNotification.bind(this), l.Util.isValid(this.data)) {
					var t = "faceCircle",
						e = "friendFace";
					"membership" === this.data.notificationConfig.data.category && (this.mememberCellMatte.visible = !0, this.meCellMatte.visible = !1, t = "memberFaceCircle", e = "memberFriendFace");
					var i = l.Util.isValid(this.data.notificationConfig.metadata.isLike) ? this.data.notificationConfig.data.notification.friend : this.data.notificationConfig.data.notification.self;
					l.Util.isValid(this.data.notificationFeedObject.jsonMapping) && (this.data.notificationFeedObject.mapping = this.data.notificationFeedObject.jsonMapping);
					for (var n = 0; n < this.data.notificationFeedObject.mapping.length; n++) i = -1 === this.data.notificationFeedObject.mapping[n].ID || "achievement" === this.data.notificationFeedObject.mapping[n].type || "store" === this.data.notificationFeedObject.mapping[n].type ? i.replace("${mapping[" + n + "]}", this.data.notificationFeedObject.mapping[n].value) : i.replace("${mapping[" + n + "]}", r.Items.getItem(this.data.notificationFeedObject.mapping[n].type, this.data.notificationFeedObject.mapping[n].ID).data.name);
					var c = this.game.add.graphics(0, 0);
					if (c.drawCircle(46, 46, 92), this[t].add(c), this[t].mask = c, this[t].visible = !0, l.Util.isValid(this.data.notificationConfig.metadata.isLike)) {
						this.shareButton.visible = !1, l.Util.isValid(this.notificationCallback) && (this.likeButton.visible = !0, this.likeButton.onDownCallback = this.likeNotification.bind(this)), l.Util.renderFriendAndClassmateFace(this.game, this.data.notificationFeedObject.userID, this[e]);
						var h = this.game.prodigy.friendsListNetworkHandler.classList,
							u = this.game.prodigy.friendsListNetworkHandler.friendsList;
						u = u.concat(h);
						for (n = 0; n < u.length; n++)
							if (u[n].userID === this.data.notificationFeedObject.userID && l.Util.isValid(u[n].appearance)) {
								var p = this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.PlayerService).getPlayer(a({}, u[n], {
										version: 1
									})),
									d = this.game.prodigy.gameContainer.resolve(s.DataNameResolver);
								d.init(l.Util.isValid(p) ? p.getAppearance().getName() : null, this.game.prodigy.player.appearance.getGender()), i = i.replace("${userName}", d.getName()), this.notificationText.setText(i);
								break
							}
					} else {
						l.Util.isValid(this.notificationCallback) && (this.shareButton.visible = !0, this.shareButton.onUpCallback = this.shareNotification.bind(this)), this.game.prodigy.create.player(this[e], this.game.prodigy.player, 1, 0, 0, !1, !0, !1, !1, !0).reload()
					}
					this.notificationText.setText(i)
				}
			}, e.prototype.forceClose = function() {
				l.Util.isValid(this.currentTween) && this.currentTween.stop(), l.Util.isValid(this.closeCallback) && this.closeCallback(), t.prototype.close.call(this)
			}, e.prototype.close = function() {
				this.currentTween.stop(), l.Util.isValid(this.game) && this.game.prodigy.notifications.notificationPlayed(), l.Util.isValid(this.closeCallback) && this.closeCallback(), t.prototype.close.call(this)
			}, e.configModifiers = {}, e
		}(i(13).Menu);
	e.NotificationCell = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(11),
		r = i(69),
		s = i(15),
		l = i(5),
		c = i(29),
		h = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
				return o.rewards = null, o.mailData = null, o.content = null, o.mailData = n, o.rewards = a, e.broadcaster.addAppListener(l.EMailerEvents.MarkAsRead, function() {
					o.close()
				}, o, "ProdigyMailer"), o.game.prodigy.load.assets(["spine-7", "spine-17"], function() {
					o.create()
				}), o
			}
			return n(e, t), e.prototype.create = function() {
				t.prototype.create.call(this), this.addTransparent(.45);
				var e = this.game.prodigy.create.element(this, 250, 100),
					i = this.game.prodigy.create.element(e, 0, 0);
				this.rewards.length <= 0 && (i.add(this.game.prodigy.create.sprite(0, 0, "atlas-163", "base-yellow")), i.add(this.game.prodigy.create.sprite(50, 50, "atlas-163", "animation-bg"))), this.content = this.game.prodigy.create.element(i, 0, 0), this.openParentReward()
			}, e.prototype.close = function() {
				this.game.broadcaster.removeAppListener(l.EMailerEvents.MarkAsReadFailure, this, "ProdigyMailer"), t.prototype.close.call(this)
			}, e.prototype.openParentReward = function() {
				var t = this.game.prodigy.event.create(),
					e = this.game.prodigy.create.element(this.content, 310, 330);
				e.visible = !0;
				var i = this.rewards.length <= 0 ? this.game.add.spine(0, 0, "spine-7") : this.game.add.spine(75, 0, "spine-17");
				i.setAnimationByName(0, "animation", !1), e.add(i), t.delay(50), t.set(e, "visible", !1), t.delay(150), t.set(e, "visible", !0), t.delay(2e3), t.function(this.receiveReward.bind(this)), t.start()
			}, e.prototype.receiveReward = function() {
				this.rewards.length <= 0 ? (this.game.prodigy.notifications.initNotificationTemplate(r.NotificationType.PARENTREWARD, []), this.game.prodigy.open.gotItem(this.getRewards(), this.close.bind(this), null, "parent-reward"), this.game.prodigy.network.sendGiftBoxEvent(), this.game.broadcaster.broadcast(l.EMailerEvents.MarkAsRead, "ProdigyMailView", [this.markReadSuccess.bind(this), this.mailData])) : (this.game.prodigy.notifications.initNotificationTemplate(r.NotificationType.MEMBERBOX, []), this.game.prodigy.open.gotItem(this.rewards, this.close.bind(this), null, "memberBox-reward"), this.game.broadcaster.broadcast(l.EMailerEvents.MarkAsRead, "ProdigyMailView", [this.markReadSuccess.bind(this), this.mailData]))
			}, e.prototype.markReadSuccess = function() {
				a.Logger.log("Mail Read Success", a.LogLevel.Verbose)
			}, e.prototype.getRewards = function() {
				var t = [],
					e = o(this.mailData, "membership", 0);
				return 0 === e ? t = [{
					item: {
						type: "item",
						ID: 1,
						N: 1
					},
					weight: 14
				}, {
					item: {
						type: "item",
						ID: 11,
						N: 1
					},
					weight: 14
				}, {
					item: {
						type: "item",
						ID: 22,
						N: 1
					},
					weight: 14
				}, {
					item: {
						type: "item",
						ID: 77,
						N: 1
					},
					weight: 15
				}, {
					item: {
						type: "item",
						ID: 4,
						N: 1
					},
					weight: 14
				}, {
					item: {
						type: "item",
						ID: 76,
						N: 1
					},
					weight: 15
				}, {
					item: {
						type: "item",
						ID: 3,
						N: 1
					},
					weight: 14
				}] : 1 === e && (t = this.getParentMemberReward()), [c.Random.weightedArrayElement(t).item]
			}, e.prototype.getParentMemberReward = function() {
				for (var t = this.game.prodigy.player.backpack.data, e = [{
						item: {
							type: "boots",
							ID: 25,
							N: 1
						},
						weight: 6.6
					}, {
						item: {
							type: "boots",
							ID: 36,
							N: 1
						},
						weight: 6.6
					}, {
						item: {
							type: "boots",
							ID: 27,
							N: 1
						},
						weight: 6.6
					}, {
						item: {
							type: "boots",
							ID: 37,
							N: 1
						},
						weight: 6.6
					}, {
						item: {
							type: "boots",
							ID: 3,
							N: 1
						},
						weight: 6.6
					}, {
						item: {
							type: "hat",
							ID: 120,
							N: 1
						},
						weight: 6.6
					}, {
						item: {
							type: "hat",
							ID: 99,
							N: 1
						},
						weight: 6.6
					}, {
						item: {
							type: "hat",
							ID: 112,
							N: 1
						},
						weight: 6.6
					}, {
						item: {
							type: "hat",
							ID: 108,
							N: 1
						},
						weight: 6.6
					}, {
						item: {
							type: "hat",
							ID: 117,
							N: 1
						},
						weight: 6.6
					}, {
						item: {
							type: "hat",
							ID: 77,
							N: 1
						},
						weight: 6.6
					}, {
						item: {
							type: "outfit",
							ID: 64,
							N: 1
						},
						weight: 6.6
					}, {
						item: {
							type: "outfit",
							ID: 79,
							N: 1
						},
						weight: 6.6
					}, {
						item: {
							type: "outfit",
							ID: 34,
							N: 1
						},
						weight: 6.6
					}, {
						item: {
							type: "outfit",
							ID: 35,
							N: 1
						},
						weight: 6.6
					}], i = e.length - 1; i >= 0; i -= 1) {
					var n = e[i].item,
						a = n.type;
					if (t.hasOwnProperty(a))
						for (var o = 0; o < t[a].length; o += 1)
							if (t[a][o].ID === n.ID) {
								e.splice(i, 1);
								break
							}
				}
				return e.length > 0 ? e : [{
					item: {
						type: "currency",
						ID: 12,
						N: 400
					},
					weight: 4
				}, {
					item: {
						type: "currency",
						ID: 13,
						N: 400
					},
					weight: 4
				}, {
					item: {
						type: "currency",
						ID: 14,
						N: 400
					},
					weight: 4
				}, {
					item: {
						type: "currency",
						ID: 15,
						N: 400
					},
					weight: 4
				}, {
					item: {
						type: "currency",
						ID: 16,
						N: 400
					},
					weight: 4
				}, {
					item: {
						type: "item",
						ID: 97,
						N: 2
					},
					weight: 5.71
				}, {
					item: {
						type: "item",
						ID: 97,
						N: 2
					},
					weight: 5.71
				}, {
					item: {
						type: "item",
						ID: 101,
						N: 2
					},
					weight: 5.71
				}, {
					item: {
						type: "item",
						ID: 103,
						N: 2
					},
					weight: 5.71
				}, {
					item: {
						type: "item",
						ID: 105,
						N: 2
					},
					weight: 5.71
				}, {
					item: {
						type: "item",
						ID: 107,
						N: 2
					},
					weight: 5.71
				}, {
					item: {
						type: "item",
						ID: 109,
						N: 2
					},
					weight: 5.71
				}, {
					item: {
						type: "item",
						ID: 111,
						N: 2
					},
					weight: 5.71
				}, {
					item: {
						type: "item",
						ID: 117,
						N: 2
					},
					weight: 5.71
				}, {
					item: {
						type: "item",
						ID: 118,
						N: 2
					},
					weight: 5.71
				}, {
					item: {
						type: "item",
						ID: 119,
						N: 2
					},
					weight: 5.71
				}, {
					item: {
						type: "item",
						ID: 120,
						N: 2
					},
					weight: 5.71
				}, {
					item: {
						type: "item",
						ID: 121,
						N: 2
					},
					weight: 5.71
				}, {
					item: {
						type: "item",
						ID: 122,
						N: 2
					},
					weight: 5.71
				}]
			}, e
		}(s.RenderMenu);
	e.RewardView = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(85),
		o = i(11),
		r = i(4),
		s = i(15),
		l = i(2),
		c = i(29),
		h = i(0),
		u = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
				return a.content = null, a.mainPrizeSlotItem = null, a.secondPrizeSlotItem = null, a.thirdPrizeSlotItem = null, a.spinner = null, a.onClose = n, a.create(), a
			}
			return n(e, t), e.prototype.create = function() {
				var e = this;
				t.prototype.create.call(this), this.addTransparent(.45);
				var i = this.game.prodigy.create.element(this, 250, 100),
					n = this.game.prodigy.create.element(i, 0, 0);
				n.add(this.game.prodigy.create.sprite(0, 0, "atlas-28", "base-yellow")), n.add(this.game.prodigy.create.sprite(50, 50, "atlas-28", "animation-bg")), this.content = this.game.prodigy.create.element(n, 0, 0), this.spinner = this.content.add(this.game.prodigy.create.sprite(.5 * n.width, .5 * n.height, "atlas-18", "loading")), this.spinner.alpha = 0, this.spinner.anchor.setTo(.5, .5), this.game.add.tween(this.spinner).to({
					angle: 360
				}, 1500, Phaser.Easing.Linear.None, !0, 0, r.GameConstants.MAX_SAFE_INTEGER, !1), this.game.add.tween(this.spinner).to({
					alpha: 1
				}, 500, Phaser.Easing.Linear.None, !0, 300), this.game.prodigy.load.assets("spine-5", function() {
					e.spinner.destroy(), e.openCube()
				})
			}, e.prototype.close = function() {
				h.Util.isValid(this.onClose) && this.onClose(), t.prototype.close.call(this)
			}, e.prototype.receiveLoot = function() {
				this.mainPrizeSlotItem = this.rollMainSlotItem(), this.secondPrizeSlotItem = this.rollSecondSlotItem(), this.thirdPrizeSlotItem = this.rollThirdSlotItem();
				var t = [this.mainPrizeSlotItem, this.secondPrizeSlotItem, this.thirdPrizeSlotItem];
				this.game.prodigy.giftBoxController.openConjureCube(t)
			}, e.prototype.rollMainSlotItem = function() {
				for (var t = [{
						type: "GreenEquip",
						weight: 600
					}, {
						type: "BlueHouse",
						weight: 200
					}, {
						type: "BlueEquip",
						weight: 190
					}, {
						type: "PurpleEquip",
						weight: 4
					}, {
						type: "PurpleHouse",
						weight: 5
					}, {
						type: "Buddy",
						weight: 1
					}], e = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 26, 27, 28, 29, 30, 31, 32, 33], i = null; null === i && 0 !== t.length;) {
					var n = c.Random.weightedArrayElement(t),
						o = null;
					switch (n.type) {
						case "GreenEquip":
							o = {
								outfit: [1, 2, 3, 4, 5, 8, 22, 28, 30, 34, 36, 37, 41],
								weapon: [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 50, 52, 55, 61, 63, 65, 69],
								boots: [2, 3, 4, 21, 22],
								hat: [1, 2, 3, 4, 5, 6, 7, 8, 11, 37, 38, 39, 40, 41, 45, 55]
							}, i = this.getEquipLoot(o), h.Util.removeFromArray(n, t);
							break;
						case "BlueHouse":
							i = this.getHouseLoot(2), h.Util.removeFromArray(n, t);
							break;
						case "BlueEquip":
							o = {
								outfit: [7, 27, 29, 31, 33, 35, 43, 48],
								weapon: [10, 64, 66, 67, 70, 73],
								boots: [5, 6, 23, 24, 25, 27],
								hat: [9, 31, 32, 33, 34, 46]
							}, i = this.getEquipLoot(o), h.Util.removeFromArray(n, t);
							break;
						case "PurpleEquip":
							i = this.getEquipLoot(), h.Util.removeFromArray(n, t);
							break;
						case "PurpleHouse":
							i = this.getHouseLoot(3), h.Util.removeFromArray(n, t);
							break;
						case "Buddy":
							for (; 0 !== e.length && null === i;) i = l.Items.getItem("follow", a(e)), h.Util.isValid(i) && this.game.prodigy.player.backpack.hasItem("follow", i.ID) > 0 && (h.Util.removeFromArray(i.ID, e), i = null);
							null === i && h.Util.removeFromArray(n, t)
					}
				}
				return null === i ? this.rollSecondSlotItem() : (i.isGift = !0, i)
			}, e.prototype.rollSecondSlotItem = function() {
				for (var t = [{
						type: "LowPotions",
						weight: 400
					}, {
						type: "MidPotions",
						weight: 150
					}, {
						type: "HighPotions",
						weight: 50
					}, {
						type: "CommonHouse",
						weight: 370
					}, {
						type: "GreenEquip",
						weight: 20
					}, {
						type: "BlueHouse",
						weight: 10
					}], e = [96, 98, 100, 102, 104, 106, 108], i = [97, 99, 101, 103, 105, 107], n = [109, 110, 111], o = null; null === o && 0 !== t.length;) {
					var r = c.Random.weightedArrayElement(t),
						s = null;
					switch (r.type) {
						case "LowPotions":
							s = a(e), o = l.Items.getItem("item", s);
							break;
						case "MidPotions":
							s = a(i), o = l.Items.getItem("item", s);
							break;
						case "HighPotions":
							s = a(n), o = l.Items.getItem("item", s);
							break;
						case "CommonHouse":
							o = this.getHouseLoot(1), h.Util.removeFromArray(r, t);
							break;
						case "GreenEquip":
							o = this.getEquipLoot({
								outfit: [1, 2, 3, 4, 5, 8, 22, 28, 30, 34, 36, 37, 41],
								weapon: [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 50, 52, 55, 61, 63, 65, 69],
								boots: [2, 3, 4, 21, 22],
								hat: [1, 2, 3, 4, 5, 6, 7, 8, 11, 37, 38, 39, 40, 41, 45, 55]
							}), h.Util.removeFromArray(r, t), o = h.Util.isValid(o) && h.Util.isValid(this.mainPrizeSlotItem) && h.Util.isValid(this.mainPrizeSlotItem.ID) && h.Util.isValid(this.mainPrizeSlotItem.type) && o.ID === this.mainPrizeSlotItem.ID && o.type === this.mainPrizeSlotItem.type ? null : o;
							break;
						case "BlueHouse":
							o = this.getHouseLoot(2), h.Util.removeFromArray(r, t), o = h.Util.isValid(o) && h.Util.isValid(this.mainPrizeSlotItem) && o === this.mainPrizeSlotItem ? null : o
					}
				}
				return o.isGift = !0, o
			}, e.prototype.rollThirdSlotItem = function() {
				var t = null;
				switch (c.Random.weightedArrayElement([{
						type: "Apple",
						weight: 100
					}, {
						type: "Salad",
						weight: 100
					}, {
						type: "Croissant",
						weight: 100
					}, {
						type: "Cake",
						weight: 100
					}, {
						type: "Chicken",
						weight: 100
					}, {
						type: "Confetti",
						weight: 250
					}, {
						type: "Firework",
						weight: 250
					}]).type) {
					case "Apple":
						t = l.Items.getItem("item", 1);
						break;
					case "Salad":
						t = l.Items.getItem("item", 3);
						break;
					case "Croissant":
						t = l.Items.getItem("item", 4);
						break;
					case "Cake":
						t = l.Items.getItem("item", 11);
						break;
					case "Chicken":
						t = l.Items.getItem("item", 22);
						break;
					case "Confetti":
						t = l.Items.getItem("item", 77);
						break;
					case "Firework":
						t = l.Items.getItem("item", 76)
				}
				return t.isGift = !0, t
			}, e.prototype.getHouseLoot = function(t) {
				for (var e = l.Items.getItemsWithFilter("dorm", function(e) {
						return o(e, "data.rarity", null) === t
					}), i = null; 0 !== e.length && null === i;) i = a(e), (h.Util.isValid(i.ID) && this.game.prodigy.player.house.getOwned(i.ID) >= 9 || i.ID > 71) && (h.Util.removeFromArray(i, e), i = null);
				return i
			}, e.prototype.getEquipLoot = function(t) {
				for (var e = ["outfit", "weapon", "boots", "hat"], i = null; 0 !== e.length && null === i;) {
					var n = a(e),
						o = [];
					if (h.Util.isValid(t) && 0 !== t[n].length)
						for (var r = 0; r < t[n].length; r++) {
							var s = l.Items.getItem(n, t[n][r]);
							h.Util.isValid(s) && (s.type = n, o.push(s))
						}
					for (; 0 !== o.length && null === i;) i = a(o), h.Util.isValid(i.ID) && this.game.prodigy.player.backpack.hasItem(i.type, i.ID) > 0 && (h.Util.removeFromArray(i, o), i = null);
					h.Util.removeFromArray(n, e)
				}
				return i
			}, e.prototype.openCube = function() {
				var t = this,
					e = this.game.prodigy.event.create(),
					i = this.game.prodigy.create.element(this.content, 380, 280);
				i.visible = !0;
				var n = this.game.add.spine(0, 0, "spine-5");
				n.setAnimationByName(0, "animation", !1), i.add(n), e.delay(50), e.set(i, "visible", !1), e.delay(150), e.set(i, "visible", !0), e.delay(2e3), e.function(function() {
					t.receiveLoot()
				}), e.delay(100), e.function(function() {
					t.close()
				}), e.start()
			}, e
		}(s.RenderMenu);
	e.ConjureCubeView = u
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(7),
		r = i(0),
		s = function(t) {
			function e(e, i, n, o, s) {
				var l = t.call(this, e, n, 0, 0) || this,
					c = e.prodigy.create.panel(l, o + 10, s, 14, 2, "mail"),
					h = e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				c.add(e.prodigy.create.sprite(3, 3, "atlas-21", "mail-heart")), e.prodigy.create.font(c, 39, 8, h.getText("FRIEND_REQUEST_ADD_FRIEND"), {
					size: 16
				}), l.mainText = e.prodigy.create.font(c, 20, 40, "", {
					fontID: 8,
					size: 20
				});
				var u = e.prodigy.create.button(c, 490, 0, "atlas-21", "close", l.game.prodigy.open.messageBox.bind(l.game.prodigy.open, h.getText("FRIENDS_LIST_CONFIRM_CANCEL_BODY"), i.rejectRequest.bind(i), null, null, h.getText("FRIENDS_LIST_CONFIRM_CANCEL_TITLE")));
				r.Util.centreObject(u, null, 40, null, u.height);
				var p = e.prodigy.create.button(c, u.x - 50 - 20, 0, "atlas-21", "yes", i.acceptRequest.bind(i));
				return r.Util.centreObject(p, null, 40, null, p.height), l
			}
			return n(e, t), e.prototype.render = function(t) {
				this.visible = r.Util.isValid(t), this.visible && this.mainText.setText(t)
			}, e
		}(o.Element);
	e.FriendRequestView = s
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		return function() {
			this.userID = -1, this.username = ""
		}
	}();
	e.FriendRequestModel = n
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t(t, e, i) {
			this.game = t, this.model = e, this.requestID = i
		}
		return t.prototype.setUserID = function(t) {
			this.model.userID = t
		}, t.prototype.getUserID = function() {
			return this.model.userID
		}, t.prototype.setUsername = function(t) {
			this.model.username = t
		}, t.prototype.getUsername = function() {
			return this.model.username
		}, t.prototype.acceptRequest = function() {
			this.game.prodigy.friendsListNetworkHandler.acceptFriendRequest(this.getUserID(), this.requestID)
		}, t.prototype.rejectRequest = function() {
			this.game.prodigy.friendsListNetworkHandler.rejectFriendRequest(this.getUserID(), this.requestID)
		}, t
	}();
	e.FriendRequestController = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(15),
		r = i(5),
		s = i(0),
		l = i(848),
		c = i(847),
		h = i(846),
		u = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
				return a.friendRequests = [], a.requestControllers = [], a.requestViews = [], a.requestsPerPage = 4, a.offset = 0, a.onClose = n, a.friendRequests = [], a.requestControllers = [], a.requestViews = [], a.create(), e.broadcaster.addAppListener(r.EFriendsListEvents.GotFriendRequestList, a.setupFriendRequests.bind(a), a, "FriendsList", !1), e.broadcaster.addAppListener(r.EFriendsListEvents.RequestAccepted, a.acceptRequestSuccessful.bind(a), a, "FriendsList", !1), e.broadcaster.addAppListener(r.EFriendsListEvents.RequestRejected, a.rejectRequestSuccessful.bind(a), a, "FriendsList", !1), e.broadcaster.broadcast(r.EFriendsListEvents.ClearFriendRequestsCache, "FriendsList", []), a.loadPage(a.offset), a
			}
			return n(e, t), e.prototype.create = function() {
				this.addTransparent();
				var e, i, n, o = this.game.prodigy.create.element(this, 280, 20),
					r = this.game.prodigy.create.element(o, 0, 0);
				this.game.prodigy.create.panel(r, 0, 0, 18, 17, "shine"), r.add(new Phaser.TileSprite(this.game, 11, 149, 698, 40, "atlas-161", "blue-top")), r.add(new Phaser.TileSprite(this.game, 11, 189, 698, 320, "atlas-161", "blue-mid")), r.add(new Phaser.TileSprite(this.game, 11, 509, 698, 40, "atlas-161", "blue-top2")), this.game.prodigy.create.panel(r, 40, 40, 16, 2, "banner"), this.game.prodigy.create.font(r, 0, 60, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("FRIEND_REQUESTS_TITLE"), {
					fontID: 9,
					size: 36,
					width: 698,
					align: "center",
					lineHeight: 38
				}), this.game.prodigy.create.button(o, 680, -10, "atlas-21", "close", this.close.bind(this));
				for (var u = 0; u < this.requestsPerPage; u++) e = new c.FriendRequestModel, i = new l.FriendRequestController(this.game, e, u), (n = new h.FriendRequestView(this.game, i, r, 0, 160 + 100 * u)).render(null), s.Util.centreObject(n, 349, null, 560, null), this.requestControllers.push(i), this.requestViews.push(n);
				this.prevPage = this.game.prodigy.create.button(r, 68, 604, "atlas-24", "up-circle-arrow", this.loadPage.bind(this, -this.requestsPerPage)), this.nextPage = this.game.prodigy.create.button(r, 657, 604, "atlas-24", "up-circle-arrow", this.loadPage.bind(this, this.requestsPerPage)), this.prevPage.sprite.rotateMiddleBased(-90), this.nextPage.sprite.rotateMiddleBased(90), this.prevPage.setInactive(), this.nextPage.setInactive(), t.prototype.create.call(this)
			}, e.prototype.close = function() {
				this.game.broadcaster.removeAppListener(r.EFriendsListEvents.GotFriendRequestList, this, "FriendsList"), this.game.broadcaster.removeAppListener(r.EFriendsListEvents.RequestAccepted, this, "FriendsList"), this.game.broadcaster.removeAppListener(r.EFriendsListEvents.RequestRejected, this, "FriendsList"), s.Util.isValid(this.onClose) && this.onClose(), t.prototype.close.call(this)
			}, e.prototype.setupFriendRequests = function(t) {
				this.friendRequests = t, this.refreshUI()
			}, e.prototype.refreshUI = function() {
				this.renderRequests(), this.renderPaginationButtons()
			}, e.prototype.renderRequests = function() {
				var t, e = 0;
				for (this.offset === this.friendRequests.length && (this.offset = Math.max(0, this.offset - this.requestsPerPage)), t = this.offset; t < this.offset + this.requestsPerPage; t++) {
					e = t % this.requestsPerPage;
					var i = this.friendRequests[t];
					s.Util.isValid(i) ? (this.requestControllers[e].setUserID(i.userID), this.requestControllers[e].setUsername(i.name), this.requestViews[e % this.requestsPerPage].render(i.name)) : this.requestViews[e % this.requestsPerPage].render(null)
				}
			}, e.prototype.acceptRequestSuccessful = function(t, e) {
				this.requestViews[e].render(null), this.getNextRequest()
			}, e.prototype.rejectRequestSuccessful = function(t, e) {
				this.requestViews[e].render(null), this.getNextRequest()
			}, e.prototype.requestCancelled = function(t) {
				this.friendRequests = t, this.refreshUI()
			}, e.prototype.getNextRequest = function() {
				this.friendRequests.length > this.requestsPerPage ? this.game.prodigy.friendsListNetworkHandler.getFriendRequestList(null, 1) : this.refreshUI()
			}, e.prototype.renderPaginationButtons = function() {
				this.offset > 0 ? this.prevPage.setActive() : this.prevPage.setInactive(), s.Util.isValid(this.friendRequests[this.offset + this.requestsPerPage]) ? this.nextPage.setActive() : this.nextPage.setInactive()
			}, e.prototype.loadPage = function(t) {
				if (this.offset += t, t < 0) this.setupFriendRequests(this.friendRequests);
				else {
					var e = 0 === this.offset ? 2 * this.requestsPerPage : this.requestsPerPage;
					this.offset + e + 1 > this.friendRequests.length ? this.game.prodigy.friendsListNetworkHandler.getFriendRequestList(this.offset > 0 ? this.offset + this.requestsPerPage : this.offset, 0 === this.offset ? 2 * this.requestsPerPage : this.requestsPerPage) : this.setupFriendRequests(this.friendRequests)
				}
			}, e
		}(o.RenderMenu);
	e.FriendRequests = u
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(15),
		r = i(22),
		s = i(2),
		l = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
				return o.callback = null, o.panel = null, o.callback = a, o.createWithID(n), o
			}
			return n(e, t), e.prototype.createWithID = function(t) {
				var e = this,
					i = s.Items.getItem("pet", t).data;
				this.panel = this.game.prodigy.create.panel(this, 400, 200, 12, 9, "shine"), this.panel.add(new Phaser.TileSprite(this.game, 11, 80, 458, 40, "atlas-161", "blue-top")), this.panel.add(new Phaser.TileSprite(this.game, 11, 120, 458, 120, "atlas-161", "blue-mid")), this.panel.add(new Phaser.TileSprite(this.game, 11, 240, 458, 40, "atlas-161", "blue-top2")), this.panel.add(this.game.prodigy.icon.createFromData({
					type: "pet",
					ID: t
				}, 40, 30)), this.game.prodigy.create.font(this.panel, 140, 35, i.name, {
					size: 36,
					fontID: 9
				}), this.game.prodigy.create.font(this.panel, 40, 130, i.flavorText, {
					width: 400,
					fontID: 8
				}), this.game.prodigy.create.button(this, this.panel.x + 440, this.panel.y - 10, "atlas-21", "close", function() {
					e.closeWithSuccess(!1)
				}), this.game.prodigy.create.textButton(this, this.panel.x + 65, this.panel.y + 290, {
					icon: "yes",
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("CHOOSE_PET_BUTTON", i.name),
					size: r.TextButton.LG
				}, function() {
					e.closeWithSuccess(!0)
				}), this.create()
			}, e.prototype.closeWithSuccess = function(e) {
				e && this.callback(), t.prototype.close.call(this)
			}, e
		}(o.RenderMenu);
	e.ChoosePet = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(7),
		o = i(5),
		r = i(2),
		s = i(16),
		l = i(14),
		c = i(0),
		h = function(t) {
			function e(e, i, n, a, o) {
				var r = t.call(this, e, i, n, a) || this;
				return r.onHide = null, r.buttonData = null, r.currentPage = 0, r.iconsPerPage = 6, r.emoteButtons = [], r.emotesPanel = null, r.nextPage = null, r.prevPage = null, r.dabIndicatorImage = null, r.buttonData = o, r.createPanel(), r
			}
			return n(e, t), e.prototype.createPanel = function() {
				this.emotesPanel = this.game.prodigy.create.element(this, 0, 0), this.emotesPanel.add(this.game.prodigy.create.sprite(0, 0, "atlas-159", "tabmenu")), this.nextPage = this.game.prodigy.create.button(this.emotesPanel, 366, 47, "atlas-159", "arrow", this.loadEmotes.bind(this, 1)), this.nextPage.sprite.rotateMiddleBased(0), this.prevPage = this.game.prodigy.create.button(this.emotesPanel, -7, 47, "atlas-159", "arrow", this.loadEmotes.bind(this, -1)), this.prevPage.sprite.rotateMiddleBased(180), this.game.prodigy.create.button(this.emotesPanel, 165, -5, "atlas-159", "closetabarrow1", this.hide.bind(this), null, null, !0), this.loadEmotes(0)
			}, e.prototype.loadEmotes = function(t) {
				for (var e = 0; e < this.emoteButtons.length; e++) this.emoteButtons[e].destroy();
				this.emoteButtons = [], this.prevPage.setActive(), this.nextPage.setActive(), 0 === Math.floor(this.buttonData.length / this.iconsPerPage) && (this.prevPage.visible = !1, this.nextPage.visible = !1), this.currentPage += t;
				var i = Math.floor(this.buttonData.length / this.iconsPerPage) - 1;
				this.currentPage <= 0 ? (this.currentPage = 0, this.prevPage.setInactive()) : this.currentPage >= i && (this.currentPage = i, this.nextPage.setInactive());
				for (e = this.currentPage * this.iconsPerPage; e < this.currentPage * this.iconsPerPage + this.iconsPerPage && e < this.buttonData.length; e++) {
					var n = null;
					if ("dance" === this.buttonData[e].type) {
						if (1 === this.buttonData[e].data.member) {
							if (this.game.prodigy.player.hasMembership()) n = this.game.prodigy.create.button(this.emotesPanel, e % this.iconsPerPage * 54 + 45, 47, "icon-" + this.buttonData[e].type + "-" + this.buttonData[e].ID, null, this.sendEmote.bind(this, this.buttonData[e].data.name, this.buttonData[e].type), null, null, !1, 48, 50);
							else {
								n = this.game.prodigy.create.button(this.emotesPanel, e % this.iconsPerPage * 54 + 45, 47, "icon-" + this.buttonData[e].type + "-" + this.buttonData[e].ID, null, this.dabMemberPrompt.bind(this), null, null, !1, 48, 50);
								var a = this.setButtonIcon.bind(this, n);
								this.game.prodigy.create.sprite(32, -3, "icon-mini-member-b", null, null, a)
							}
							this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(l.Breadcrumbs.BREADCRUMB_CLICKED_DAB, l.Breadcrumbs.BREADCRUMB_CLICKED_DAB_DAB_BUTTON) || (this.dabIndicatorImage = new Phaser.Image(this.game, 0, 0, "atlas-21", "exclamation"), n.addChild(this.dabIndicatorImage), this.dabIndicatorImage.x += 3, this.dabIndicatorImage.y -= 42, n.y += 21, this.game.add.tween(this.dabIndicatorImage).to({
								y: this.dabIndicatorImage.y - 10
							}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, -1, !0))
						} else n = this.game.prodigy.create.button(this.emotesPanel, e % this.iconsPerPage * 54 + 45, 47, "icon-" + this.buttonData[e].type + "-" + this.buttonData[e].ID, null, this.sendEmote.bind(this, this.buttonData[e].data.name, this.buttonData[e].type), null, null, !1, 48, 50);
						n.x -= Math.floor(.5 * n.width), n.y -= Math.floor(.5 * n.height)
					} else(n = this.game.prodigy.create.button(this.emotesPanel, e % this.iconsPerPage * 54 + 45, 47, "atlas-159", "backgroundbutton", this.sendEmote.bind(this, this.buttonData[e].ID, this.buttonData[e].type), null, null, !1, 48, 50)).x -= Math.floor(.5 * n.width), n.y -= Math.floor(.5 * n.height), n.addOverlay(5, 5, "icon-" + this.buttonData[e].type + "-" + this.buttonData[e].ID, null);
					this.emoteButtons.push(n)
				}
			}, e.prototype.setButtonIcon = function(t, e) {
				t.sprite.addChild(e)
			}, e.prototype.dabMemberPrompt = function() {
				this.game.prodigy.breadcrumbManager.completeBreadcrumb(l.Breadcrumbs.BREADCRUMB_CLICKED_DAB, l.Breadcrumbs.BREADCRUMB_CLICKED_DAB_DAB_BUTTON), this.game.prodigy.network.sendAnalytics("emotes", "dab-usage-non-member", "Events"), this.game.broadcaster.broadcast(o.EHUDEvents.HideChatNotif, "chatButton"), this.game.prodigy.open.membershipInfo(null, {}, s.MembershipInfo.DANCE)
			}, e.prototype.sendEmote = function(t, e) {
				if (c.Util.isValid(t))
					if ("dance" === e) "dab" === t ? (this.game.prodigy.network.sendAnalytics("emotes", t + "-usage-member", "Events"), this.dabIndicatorImage && this.dabIndicatorImage.destroy(), this.game.prodigy.breadcrumbManager.completeBreadcrumb(l.Breadcrumbs.BREADCRUMB_CLICKED_DAB, l.Breadcrumbs.BREADCRUMB_CLICKED_DAB_DAB_BUTTON), this.game.broadcaster.broadcast(o.EHUDEvents.HideChatNotif, "chatButton")) : this.game.prodigy.network.sendAnalytics("emotes", t + "-usage", "Events"), this.game.prodigy.player.danceID = t, this.game.prodigy.network.emitMessage({
						action: "chat",
						data: {
							userID: this.game.prodigy.player.userID,
							danceID: t
						}
					});
					else {
						var i = r.Items.getItem(e, t);
						this.game.prodigy.network.sendAnalytics("emotes", i.data.name + "-usage", "Events"), this.game.prodigy.player.emoteID = t, this.game.prodigy.network.emitMessage({
							action: "chat",
							data: {
								userID: this.game.prodigy.player.userID,
								emoteID: t
							}
						})
					}
			}, e.prototype.hide = function() {
				this.visible = !1, null !== this.onHide && this.onHide()
			}, e
		}(a.Element);
	e.ChatPanel = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(7),
		o = i(58),
		r = i(2),
		s = i(14),
		l = i(0),
		c = i(851),
		h = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i) || this;
				return a.onClose = null, a.data = [], a.emotes = [], a.dances = [], a.currentText = "", a.suggestions = [], a.emotesPanel = null, a.emoteButton = null, a.dancesPanel = null, a.danceButton = null, a.textField = null, a.results = [], a.indicatorImage = null, a.onClose = n, a.data = a.game.prodigy.chat.getPhrases(), a.emotes = r.Items.getCategoryItems("emote"), a.dances = [{
					ID: 1,
					type: "dance",
					data: {
						name: "shimmy"
					}
				}, {
					ID: 2,
					type: "dance",
					data: {
						name: "hammer"
					}
				}, {
					ID: 3,
					type: "dance",
					data: {
						name: "moonwalk"
					}
				}, {
					ID: 4,
					type: "dance",
					data: {
						name: "runningMan"
					}
				}, {
					ID: 5,
					type: "dance",
					data: {
						name: "dab",
						member: 1
					}
				}], a.createMenu(), a
			}
			return n(e, t), e.prototype.close = function() {
				l.Util.isValid(this.onClose) && this.onClose(), this.game.prodigy.open.chatMenu = null, this.destroy()
			}, e.prototype.createMenu = function() {
				this.game.prodigy.notifications.clearNotifications();
				for (var t = 1; t <= 5; t++) {
					var e = this.game.prodigy.create.panel(this, 420, 630 - 40 * t, 12, 1, "lb"),
						i = {
							panel: e,
							text: this.game.prodigy.create.font(e, 10, 5, ""),
							textID: 0
						};
					i.panel.setClickable(this.selectItem.bind(this, i)), i.panel.visible = !1, this.suggestions.push(i)
				}
				this.emotesPanel = new c.ChatPanel(this.game, this, 480, 567, this.emotes), this.emotesPanel.visible = !1, this.emotesPanel.onHide = this.determineDanceBreadcrumbState.bind(this), this.add(this.emotesPanel), this.dancesPanel = new c.ChatPanel(this.game, this, 480, 567, this.dances), this.dancesPanel.visible = !1, this.dancesPanel.onHide = this.determineDanceBreadcrumbState.bind(this), this.add(this.dancesPanel);
				var n = this.game.prodigy.create.element(this, 445, 638);
				n.add(this.game.prodigy.create.sprite(0, 0, "atlas-18", "HUD-end"));
				var a = 30;
				for (t = 0; t < 6; t++) n.add(this.game.prodigy.create.sprite(a, 0, "atlas-18", "HUD-mid")), a += 62;
				n.add(this.game.prodigy.create.sprite(a + 30, 0, "atlas-18", "HUD-end")).scale.x = -1, n.add(this.game.prodigy.create.sprite(117, 17, "atlas-159", "chatendcap")), a = 157;
				for (t = 0; t < 5; t++) n.add(this.game.prodigy.create.sprite(a, 17, "atlas-159", "chatmiddlebar")), a += 40;
				n.add(this.game.prodigy.create.sprite(a + 40, 17, "atlas-159", "chatendcap")).scale.x = -1, this.textField = new o.InputField(this.game, this, "AC", null, 570, 663, 230, 35, {
					background: "transparent",
					border: "none"
				}), this.textField.input.onkeyup = this.search.bind(this, !0), this.emoteButton = this.game.prodigy.create.button(n, 10, 17, "atlas-159", "emotebutton", this.toggleEmotes.bind(this)), this.danceButton = this.game.prodigy.create.button(n, 63, 17, "atlas-159", "dancebutton", this.toggleDances.bind(this)), this.game.prodigy.create.button(n, 370, 17, "atlas-159", "chatbutton", this.setChatFocus.bind(this), null, null, !0), this.game.prodigy.create.button(n, 410, -7, "atlas-159", "closebutton", this.close.bind(this)), this.game.prodigy.user.isInTransformedMode ? this.setChatButtons(!1) : this.determineDanceBreadcrumbState()
			}, e.prototype.setChatButtons = function(t) {
				t ? (this.emoteButton.setActive(), this.danceButton.setActive()) : (this.emoteButton.setInactive(), this.danceButton.setInactive())
			}, e.prototype.toggleEmotes = function(t) {
				l.Util.isValid(t) ? this.emotesPanel.visible = t : this.emotesPanel.visible = !this.emotesPanel.visible, this.emotesPanel.visible && (this.dancesPanel.visible = !1, this.clearSearch()), this.textField.setFocus(null), this.determineDanceBreadcrumbState()
			}, e.prototype.toggleDances = function(t) {
				l.Util.isValid(t) ? this.dancesPanel.visible = t : this.dancesPanel.visible = !this.dancesPanel.visible, this.dancesPanel.visible && (this.emotesPanel.visible = !1, this.clearSearch()), this.textField.setFocus(null), this.determineDanceBreadcrumbState()
			}, e.prototype.setChatFocus = function() {
				this.toggleEmotes(!1), this.toggleDances(!1), setTimeout(function() {
					$("#AC").get(0).focus()
				}, 100)
			}, e.prototype.selectItem = function(t) {
				this.clearSearch(), this.textField.setFocus(null), this.sendChat(t.textID)
			}, e.prototype.search = function(t) {
				var i = this.textField.getValue();
				t && (this.toggleEmotes(!1), this.toggleDances(!1)), i.length <= 0 ? this.results = [] : i.length < this.currentText.length || this.currentText.length <= 0 ? this.results = e.match(i, this.data) : this.results = e.match(i, this.results), this.currentText = i;
				for (var n = 0; n < this.suggestions.length; n++) {
					var a = this.suggestions[n];
					if (n < this.results.length && t) {
						a.panel.visible = !0, a.text.setText(this.results[n]);
						var o = this.game.prodigy.chat.getPhraseIndex(this.results[n]);
						a.textID = -1 === o ? 0 : o
					} else a.panel.visible = !1
				}
			}, e.prototype.sendChat = function(t) {
				this.game.prodigy.player.chatID = t, this.game.prodigy.network.emitMessage({
					action: "chat",
					data: {
						userID: this.game.prodigy.player.userID,
						chatID: t
					}
				})
			}, e.prototype.clearSearch = function() {
				this.textField.setValue(""), this.search(!1)
			}, e.prototype.determineDanceBreadcrumbState = function() {
				this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(s.Breadcrumbs.BREADCRUMB_CLICKED_DAB, s.Breadcrumbs.BREADCRUMB_CLICKED_DAB_DAB_BUTTON) || this.dancesPanel.visible ? l.Util.isValid(this.indicatorImage) && (this.indicatorImage.destroy(), this.indicatorImage = null) : l.Util.isValid(this.indicatorImage) || (this.indicatorImage = new Phaser.Image(this.game, 0, 0, "atlas-21", "exclamation"), this.danceButton.addChild(this.indicatorImage), this.indicatorImage.x += 3, this.indicatorImage.y -= 42, this.game.add.tween(this.indicatorImage).to({
					y: this.indicatorImage.y - 10
				}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, -1, !0))
			}, e.match = function(t, e) {
				var i = new RegExp(t.split("").join("\\w*").replace(/\W/, ""), "i");
				return e.filter(function(t) {
					if (t.match(i)) return t
				})
			}, e
		}(a.Element);
	e.Chat = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(15),
		r = i(0),
		s = i(34),
		l = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
				return n.panel = null, n.content = null, n.create(), n
			}
			return n(e, t), e.prototype.create = function() {
				this.addTransparent(), this.panel = this.game.prodigy.create.panel(this, 240, 80, 20, 14, "shine"), this.panel.setRenderState(!0), this.game.prodigy.create.button(this, this.panel.x + 760, this.panel.y - 10, "atlas-21", "close", this.close.bind(this)), this.panel.add(new Phaser.TileSprite(this.game, 11, 120, 778, 40, "atlas-161", "blue-top")), this.panel.add(new Phaser.TileSprite(this.game, 11, 160, 778, 300, "atlas-161", "blue-mid")), this.panel.add(new Phaser.TileSprite(this.game, 11, 460, 778, 40, "atlas-161", "blue-top2")), this.game.prodigy.create.panel(this.panel, 200, -10, 10, 2, "banner"), this.game.prodigy.create.font(this, 290, 86, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SPELLBOOK_TITLE"), {
					fontID: 9,
					size: 36,
					width: 720,
					align: "center"
				}), this.game.prodigy.create.panel(this.panel, 240, 140, 8, 4, "white").alpha = .5, this.game.prodigy.create.font(this.panel, 250, 150, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("SPELLBOOK_DESCRIPTION"), {
					fontID: 8,
					width: 318
				}), this.content = this.game.prodigy.create.element(this, 500, 170), t.prototype.create.call(this), this.updateSpells()
			}, e.prototype.updateSpells = function() {
				r.Util.isValid(this.content) && this.content.destroy(), this.content = this.game.prodigy.create.element(this, 290, 180);
				for (var t = this.game.prodigy.player.getAttacks(), e = [
						[0, 0],
						[0, 1],
						[1, 1],
						[2, 1],
						[3, 1],
						[3, 0]
					], i = 0; i < 6; i++) i >= t.length ? this.game.prodigy.create.panel(this.content, 180 * e[i][0], 220 * e[i][1], 4, 5, "empty") : this.game.prodigy.create.item(this.content, 180 * e[i][0], 220 * e[i][1], {
					ID: t[i],
					type: "spell"
				}, s.EItemInfoMode.Inventory, this.spellSelected.bind(this, t[i]))
			}, e.prototype.spellSelected = function(t) {
				this.game.prodigy.open.pouch("spell", this.updateSpells.bind(this), t)
			}, e
		}(o.RenderMenu);
	e.Character = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(15),
		r = i(5),
		s = i(2),
		l = i(14),
		c = i(0),
		h = i(34),
		u = function(t) {
			function e(e, i, n, a, o) {
				var s = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
				return s.hideFriendsButton = !1, s.hideFriendsButton = o, s.viewOnly = a, s.player = n, e.broadcaster.addAppListener(r.EFriendsListEvents.RequestSent, s.setupFriendRequestButton.bind(s), s, "Card", !1), e.broadcaster.addAppListener(r.EFriendsListEvents.RequestCancelled, s.setupFriendRequestButton.bind(s), s, "Card", !1), e.broadcaster.addAppListener(r.EFriendsListEvents.RequestAccepted, s.setupFriendRequestButton.bind(s), s, "Card", !1), e.broadcaster.addAppListener(r.EFriendsListEvents.RequestRejected, s.setupFriendRequestButton.bind(s), s, "Card", !1), e.broadcaster.addAppListener(r.EFriendsListEvents.FriendRemoved, s.setupFriendRequestButton.bind(s), s, "Card", !1), e.broadcaster.addAppListener(r.EPlayerContainerEvents.PlayerAppearanceUpdated, s.updateAppearance.bind(s), s, "Card", !1), s.create(), s
			}
			return n(e, t), e.prototype.create = function() {
				this.addTransparent(), this.game.prodigy.network.sendAnalytics("Friend-Card-Actions", "Open-Friend-Card", "Events"), this.base = this.game.prodigy.create.element(this, 300, 120);
				var e = this.game.prodigy.create.element(this, this.base.x, this.base.y);
				this.game.prodigy.create.panel(e, 0, 0, 17, 2, "card-top"), this.game.prodigy.create.panel(e, 0, 80, 17, 10, "card-bot");
				var i = e.add(this.game.prodigy.create.sprite(6, 360, "atlas-18", "overlay-small"));
				i.width = 668, i.height = 80, i.alpha = .1, e.setRenderState(!0), this.playerContainer = this.game.prodigy.create.player(this.base, this.player, 2, 110, 320), this.playerContainer.reload(), this.playerName = this.game.prodigy.create.font(this.base, 10, 3, (this.player.hasMembership() ? "[membership] " : "") + this.player.getName(), {
					size: 36,
					fontID: 9
				}), this.game.prodigy.create.font(this.base, 10, 53, "$" + this.player.getLevel(), {
					size: 36,
					fontID: 9
				}), this.game.prodigy.create.button(this.base, 640, -10, "atlas-21", "close", this.close.bind(this)), this.buttons = [], this.player.userID === this.game.prodigy.player.userID ? this.setupPlayer(this.buttons) : this.setupStranger(this.buttons), this.content = this.game.prodigy.create.element(this.base), this.setMode(0, 0), t.prototype.create.call(this)
			}, e.prototype.close = function() {
				this.game.broadcaster.removeAppListener(r.EFriendsListEvents.RequestSent, this, "Card"), this.game.broadcaster.removeAppListener(r.EFriendsListEvents.RequestCancelled, this, "Card"), this.game.broadcaster.removeAppListener(r.EFriendsListEvents.RequestAccepted, this, "Card"), this.game.broadcaster.removeAppListener(r.EFriendsListEvents.RequestRejected, this, "Card"), this.game.broadcaster.removeAppListener(r.EFriendsListEvents.FriendRemoved, this, "Card"), this.game.broadcaster.removeAppListener(r.EPlayerContainerEvents.PlayerAppearanceUpdated, this, "Card"), t.prototype.close.call(this)
			}, e.prototype.setupPlayer = function(t) {
				var e = this,
					i = 15,
					n = 350,
					o = this.game.prodigy.player.state.get("zone-lamplight"),
					r = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				if (this.game.prodigy.create.advButton(this.base, i, n, {
						icon: "move",
						top: r.getText("PLAYER_CARD_GO_TO_HOUSE_BUTTON_TOP"),
						bot: r.getText("PLAYER_CARD_GO_TO_HOUSE_BUTTON_BOT")
					}, this.toHouse.bind(this)).setActive(!c.Util.isValid(o) || !c.Util.isValid(o.quest) || o.quest.ID > 1), this.game.prodigy.player.hasCompletedTutorial()) {
					var s = this.game.prodigy.create.advButton(this.base, 125, n, {
						atlas: "atlas-109",
						icon: "stylist-icon",
						top: r.getText("PLAYER_CARD_CHANGE_STYLE_BUTTON_TOP"),
						bot: r.getText("PLAYER_CARD_CHANGE_STYLE_BUTTON_BOT")
					}, function() {
						c.Util.isValid(e.stylistBreadcrumbIndicator) && (e.stylistBreadcrumbIndicator.destroy(), e.stylistBreadcrumbIndicator = null), e.game.prodigy.breadcrumbManager.completeBreadcrumb(l.Breadcrumbs.FEATURE_STYLIST, l.Breadcrumbs.BREADCRUMB_CLICKED_CARD_STYLIST_BUTTON), e.game.prodigy.open.stylistStore(null, null, null, {
							onCreateEvent: {
								action: "Stylist-Interaction",
								label: "Visit-From-Player-Card"
							}
						})
					});
					this.game.prodigy.classModeController.isClassMode() || this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(l.Breadcrumbs.FEATURE_STYLIST, l.Breadcrumbs.BREADCRUMB_CLICKED_CARD_STYLIST_BUTTON) || (this.stylistBreadcrumbIndicator = this.createBreadcrumbIndicator(this.game, this.base, "atlas-21", "exclamation", s))
				}
				t.push(this.game.prodigy.create.advButton(this.base, 235, n, {
					icon: "bag",
					top: r.getText("PLAYER_CARD_GEAR_BUTTON_TOP"),
					bot: r.getText("PLAYER_CARD_GEAR_BUTTON_BOT")
				}, this.setMode.bind(this, 0, 0))), t.push(this.game.prodigy.create.advButton(this.base, 345, n, {
					icon: {
						type: "item",
						ID: 21
					},
					bot: r.getText("PLAYER_CARD_GEMS_BUTTON_BOT")
				}, this.setMode.bind(this, 1, 1))), t.push(this.game.prodigy.create.advButton(this.base, 455, n, {
					icon: {
						type: "item",
						ID: 75
					},
					top: r.getText("PLAYER_CARD_KEY_ITEMS_BUTTON_TOP"),
					bot: r.getText("PLAYER_CARD_KEY_ITEMS_BUTTON_BOT")
				}, this.setMode.bind(this, 2, 2))), t.push(this.game.prodigy.create.advButton(this.base, 565, n, {
					icon: "player",
					top: r.getText("PLAYER_CARD_STATS_BUTTON_TOP"),
					bot: r.getText("PLAYER_CARD_STATS_BUTTON_BOT")
				}, this.setMode.bind(this, 3, 3)))
			}, e.prototype.setupStranger = function(t) {
				var e = this.player.getAllowsHouseVisitors(),
					i = 350,
					n = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					o = this.game.prodigy.create.advButton(this.base, 15, i, {
						icon: "move",
						top: n.getText("PLAYER_CARD_VISIT_HOUSE_BUTTON_TOP"),
						bot: n.getText("PLAYER_CARD_VISIT_HOUSE_BUTTON_BOT")
					}, this.toHouse.bind(this));
				o.setActive(e), e && this.game.prodigy.player.hasCompletedTutorial() && !this.game.prodigy.classModeController.isClassMode() && (this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(l.Breadcrumbs.FEATURE_HOUSE_VISITING, l.Breadcrumbs.BREADCRUMB_CLICKED_CARD_VISIT_BUTTON) || (this.exclamationSprite = this.createBreadcrumbIndicator(this.game, this.base, "atlas-21", "exclamation", o))), this.game.prodigy.classModeController.isClassMode() && o.setActive(!1), this.game.prodigy.create.advButton(this.base, 125, i, {
					icon: "challenge",
					top: n.getText("PLAYER_CARD_BATTLE_BUTTON_TOP")
				}, this.challenge.bind(this)).setActive(!this.viewOnly), t.push(this.game.prodigy.create.advButton(this.base, 455, i, {
					icon: "bag",
					top: n.getText("PLAYER_CARD_GEAR_BUTTON_TOP"),
					bot: n.getText("PLAYER_CARD_GEAR_BUTTON_BOT")
				}, this.setMode.bind(this, 0, 0))), t.push(this.game.prodigy.create.advButton(this.base, 565, i, {
					icon: "player",
					top: n.getText("PLAYER_CARD_STATS_BUTTON_TOP"),
					bot: n.getText("PLAYER_CARD_STATS_BUTTON_BOT")
				}, this.setMode.bind(this, 3, 1))), this.setupFriendRequestButton(235, i)
			}, e.prototype.setupFriendRequestButton = function(t, e) {
				if (c.Util.isValid(this.game)) {
					if (this.game.prodigy.friendsListNetworkHandler.hasReceivedFriends) {
						for (var i = this.game.prodigy.friendsListNetworkHandler.classList, n = 0; n < i.length; n++)
							if (i[n].userID === this.player.userID) return;
						var o, s, l = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
							h = this.game.prodigy.friendsListNetworkHandler.friendsList,
							u = -1;
						for (n = 0; n < h.length; n++)
							if (this.player.userID === h[n].userID) {
								u = h[n].status;
								break
							} var p = null,
							d = "delete-friend";
						1 === u ? (o = l.getText("PLAYER_CARD_REMOVE_FRIEND_TOP"), s = l.getText("PLAYER_CARD_REMOVE_FRIEND_BOT"), p = r.EFriendsListEvents.RemoveFriend, this.hideFriendsButton = !1) : 0 === u ? (o = l.getText("PLAYER_CARD_CANCEL_FRIEND_TOP"), s = l.getText("PLAYER_CARD_CANCEL_FRIEND_BOT"), p = r.EFriendsListEvents.CancelRequest, this.hideFriendsButton = !1) : (o = l.getText("PLAYER_CARD_ADD_FRIEND_TOP"), s = l.getText("PLAYER_CARD_ADD_FRIEND_BOT"), p = r.EFriendsListEvents.SendRequest, d = "add-friend");
						var g = t,
							f = e;
						c.Util.isValid(t) && c.Util.isValid(e) || (g = this.cmdFriendRequest.x, f = this.cmdFriendRequest.y), c.Util.isValid(this.cmdFriendRequest) && this.cmdFriendRequest.destroy(), this.cmdFriendRequest = this.game.prodigy.create.advButton(this.base, g, f, {
							atlas: "atlas-24",
							icon: d,
							top: o,
							bot: s
						}, this.onRequestClicked.bind(this, p)), this.cmdFriendRequest.setActive(!this.hideFriendsButton)
					}
				} else a.Logger.log("Friend Button failed to render", a.LogLevel.Error)
			}, e.prototype.onRequestClicked = function(t) {
				t === r.EFriendsListEvents.RemoveFriend ? this.game.prodigy.open.messageBox(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("PLAYER_CARD_CONFIRM_REMOVE_BODY", this.player.getName()), this.game.broadcaster.broadcast.bind(this.game.broadcaster, t, "Card", [this.player.userID]), null, null, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("PLAYER_CARD_CONFIRM_REMOVE_TITLE")) : this.game.broadcaster.broadcast(t, "Card", [this.player.userID])
			}, e.prototype.setMode = function(e, i) {
				this.page = e, t.prototype.setMode.call(this, i);
				var n = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				if (this.content.removeAll(!0), 0 === e) {
					this.game.prodigy.network.sendAnalytics("Friend-Card-Actions", "Click-Gear-Card", "Events");
					for (var o = ["hat", "weapon", "follow", "outfit", "boots", "spellRelic"], r = 0; r < o.length; r++) this.player.userID === this.game.prodigy.player.userID ? this.game.prodigy.create.item(this.content, r % 3 * 140 + 260, 140 * Math.floor(r / 3) + 67, {
						ID: this.player.equipment.getEquipment(o[r]),
						type: o[r]
					}, h.EItemInfoMode.Icon, this.openPouch.bind(this, o[r])) : this.game.prodigy.create.item(this.content, r % 3 * 140 + 260, 140 * Math.floor(r / 3) + 67, {
						ID: this.player.equipment.getEquipment(o[r]),
						type: o[r]
					}, h.EItemInfoMode.Icon, this.itemSelected.bind(this, this.player.equipment.getEquipment(o[r]), o[r], h.EItemInfoMode.View, 0))
				} else if (1 === e || 2 === e) {
					var l = this.game.prodigy.player.backpack.getBackpackItemsByType("key"),
						u = [],
						p = 1 === e;
					for (r = 0; r < l.length; ++r) {
						p === (1 === s.Items.getItemMetadata("key", l[r].ID).subType) && u.push(l[r])
					}
					for (r = 0; r < 3; r++) {
						var d = this.content.add(this.game.prodigy.create.sprite(260, 90 * r + 120, "atlas-18", "overlay-small"));
						d.width = 414, d.height = 40, d.alpha = .05;
						for (var g = 0; g < 4; g++)
							if (4 * r + g < u.length) {
								var f = this.content.add(this.game.prodigy.icon.createIcon(d.x + 100 * g + 20, d.y - 50, "icon-key-" + u[4 * r + g].ID));
								f.inputEnabled = !0, f.events.onInputDown.add(this.itemSelected.bind(this, u[4 * r + g].ID, "key", h.EItemInfoMode.Inventory, e))
							}
					}
				} else if (3 === e) {
					this.game.prodigy.network.sendAnalytics("Friend-Card-Actions", "Click-Show-Stats", "Events");
					var y = this.player.getCurrentHearts() + "/" + this.player.getMaxHearts(),
						m = this.game.prodigy.create.panel(this.content, 330, 65, 4, 2, "stat");
					if (this.game.prodigy.create.font(m, 5, 5, n.getText("PLAYER_CARD_HEARTS"), {
							size: 20
						}), this.game.prodigy.create.font(m, -20, 46, y, {
							fontID: 8,
							align: "center",
							width: 200
						}), y = this.player.getStars() + "/" + (this.player.getStars() + this.player.getStarsToLevel()), this.player.getLevel() >= 100 && (y = n.getText("PLAYER_CARD_MAX")), m = this.game.prodigy.create.panel(this.content, 500, 65, 4, 2, "stat"), this.game.prodigy.create.font(m, 5, 5, n.getText("PLAYER_CARD_STARS"), {
							size: 20
						}), this.game.prodigy.create.font(m, -20, 46, y, {
							fontID: 8,
							align: "center",
							width: 200
						}), m = this.game.prodigy.create.panel(this.content, 330, 155, 4, 2, "stat"), this.game.prodigy.create.font(m, 5, 5, n.getText("PLAYER_CARD_GOLD"), {
							size: 20
						}), this.game.prodigy.create.font(m, 5, 46, c.Util.numberToString(this.player.getGold()), {
							fontID: 8,
							align: "right",
							width: 145
						}), m = this.game.prodigy.create.panel(this.content, 500, 155, 4, 2, "stat"), this.game.prodigy.create.font(m, 5, 5, n.getText("PLAYER_CARD_TOWER"), {
							size: 20
						}), this.game.prodigy.create.font(m, 5, 46, n.getText("PLAYER_CARD_FLOOR", this.player.getTowerProgress()), {
							fontID: 8,
							align: "center",
							width: 145
						}), this.game.prodigy.player.userID === this.player.userID && this.game.prodigy.player.hasCompletedTutorial()) {
						m = this.game.prodigy.create.panel(this.content, 330, 245, 4, 2, "stat"), this.game.prodigy.create.font(m, 5, 5, n.getText("PLAYER_CARD_ARENA"), {
							size: 20
						});
						var _ = this.game.prodigy.create.font(m, 5, 46, "[arena]", {
							fontID: 8,
							align: "right",
							width: 145
						});
						c.Util.isValid(this.game.prodigy.pvpNetworkHandler.seasonID) ? this.game.prodigy.pvpNetworkHandler.getUserRank(this.player.userID, function(t) {
							_.setText("[arena]" + t.points)
						}, function() {
							_.setText("[arena] - ")
						}) : _.setText("[arena] - "), m = this.game.prodigy.create.panel(this.content, 500, 245, 4, 2, "stat"), this.game.prodigy.create.font(m, 5, 5, n.getText("PLAYER_CARD_WIN_LOSS"), {
							size: 20
						}), this.game.prodigy.create.font(m, 5, 46, this.player.getWins() + "/" + this.player.getLosses(), {
							fontID: 8,
							align: "center",
							width: 145
						})
					}
				}
			}, e.prototype.toHouse = function() {
				this.game.prodigy.world.teleport("house-" + this.game.prodigy.player.house.data.currentHouseTag)
			}, e.prototype.challenge = function() {
				this.game.prodigy.network.sendAnalytics("Friend-Card-Actions", "Click-Battle", "Events");
				var t = this.game.broadcaster.broadcast(r.EPlayerLocomotionEvents.GetTarget, this.game, [!0]),
					e = {
						equipment: this.game.prodigy.player.equipment.getData(),
						appearance: this.game.prodigy.player.appearance.getData(),
						data: this.game.prodigy.player.data,
						isMember: this.game.prodigy.player.hasMembership() ? 1 : 0
					};
				this.game.prodigy.network.emitMessage({
					action: "challenge",
					target: this.player.userID,
					time: 6e4,
					data: {
						userID: this.game.prodigy.player.userID,
						player: e
					}
				}), this.game.prodigy.network.sendBattleStartTypeEvent("PVP-Duel"), this.game.prodigy.pvp.startPVP(this.game.prodigy.player.userID, this.game.prodigy.player, this.player, function(t, e, i) {
					c.Util.isValid(i) && "Tower" === i ? (t.state.states.Tower.startX = e.x, t.state.states.Tower.startY = e.y, t.prodigy.start("Tower")) : t.prodigy.world.teleport(t.prodigy.player.data.zone, e.x, e.y)
				}.bind(this, this.game, t, this.game.state.current), !1)
			}, e.prototype.sendGift = function() {
				var t = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.game.prodigy.open.message(t.getText("SEND_GIFT_FEATURE_SOON_MESSAGE_BODY"), null, null, t.getText("SEND_GIFT_FEATURE_SOON_MESSAGE_TITLE"))
			}, e.prototype.updatePlayer = function(t) {
				this.playerContainer.reload(), this.game.input.clearEnterCallback(), this.setMode(t, t)
			}, e.prototype.updateAppearance = function() {
				c.Util.isValid(this.playerContainer) && (this.playerContainer.reload(), this.playerName.setText(this.player.getName()))
			}, e.prototype.itemSelected = function(t, e, i, n) {
				c.Util.isValid(t) && this.game.prodigy.open.itemInfo({
					ID: t,
					type: e
				}, this.updatePlayer.bind(this, n), i)
			}, e.prototype.openPouch = function(t) {
				"ring" === t || c.Util.isValid(this.player.equipment.getEquipment(t)) ? this.itemSelected(this.player.equipment.getEquipment(t), t, h.EItemInfoMode.Equip, 0) : this.game.prodigy.open.pouch(t, this.updatePlayer.bind(this, 0), null)
			}, e.prototype.createBreadcrumbIndicator = function(t, e, i, n, a) {
				var o = t.prodigy.create.sprite(0, 0, i, n);
				e.add(o);
				var r = c.Util.getOptionalParameter(a, e),
					s = c.Util.getCenteredXY(o.width, 0, r.x, r.y, r.width, 0);
				return o.x = s.x, o.y = r.y - o.height, t.add.tween(o).to({
					y: o.y - 10
				}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, -1, !0), o
			}, e
		}(o.RenderMenu);
	e.Card = u
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(15),
		r = i(2),
		s = i(0),
		l = i(97),
		c = function(t) {
			function e(e, i, n, a, o) {
				var r = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
				return r.game = e, r.id = n, r.message = a, r.urlMessage = o, r.game.prodigy.load.assets(["atlas-98", "atlas-21"], r.create.bind(r)), r
			}
			return n(e, t), e.prototype.create = function() {
				var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.addTransparent(.5);
				var i = this.game.prodigy.create.element(this, 350, 100);
				this.game.prodigy.create.panel(i, 100, 0, 10, 13, "shine2"), this.game.prodigy.create.font(i, 150, 20, s.Util.isValid(this.message) ? this.message : e.getText("BUY_TOY_MESSAGE"), {
					width: 300,
					align: "center"
				});
				var n = i.add(this.game.prodigy.create.sprite(150, 100, "atlas-98", this.id + "_1"));
				n.scale.x = 25 / 35, n.scale.y = 25 / 35;
				var o = r.Items.getItem("pet", this.id).data;
				this.game.prodigy.create.font(i, -320, 310, " " + o.name, {
					size: 36,
					fontID: 9,
					align: "center"
				});
				var l = o.name.length;
				i.add(this.game.prodigy.create.sprite(300 - 8 * l - 60, 300, "atlas-21", "icon-bar-" + o.element));
				var c = this.game.prodigy.create.panelButton(i, 120, 395, 9, 2, "button", this.openWebsite.bind(this, s.Util.isValid(this.urlMessage) ? this.urlMessage : "epics arena!"));
				c.content.add(this.game.prodigy.icon.createFromData({
					type: "pet",
					ID: this.id
				}, 10, -10)), this.game.prodigy.create.font(c.content, 100, 15, e.getText("BUY_TOY_BUY_NOW"), {
					width: 250,
					size: 36,
					fontID: 9,
					align: "center"
				}), this.game.prodigy.create.button(i, 462, -5, "atlas-21", "close", this.close.bind(this)), this.game.add.tween(i).from({
					y: 720
				}, 400, Phaser.Easing.Back.Out, !0), t.prototype.create.call(this)
			}, e.prototype.openWebsite = function(t) {
				var e = !1;
				if (s.Util.isValid(this.urlMessage) && "epic attacks!" === this.urlMessage)
					for (var i = 125; i < 131; i++) this.game.prodigy.player.kennel.hasPet(i) && (e = !0);
				e && !this.game.prodigy.player.kennel.hasPet(this.id) && this.game.prodigy.network.sendAnalytics("other-epic-attack", "try-buy-other", "Events"), l.ToyStore.openWebsite(this.game, t.replace(/\s/g, "-").replace("!", ""), !1, this.id)
			}, e
		}(o.RenderMenu);
	e.BuyToy = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(276),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
				return n.content = null, n.create(), n
			}
			return n(e, t), e.prototype.create = function() {
				this.addTransparent(), this.createBaseSetup(27, 16, "shine", null, null, !0);
				var e = this.game.prodigy.create.element(this, -5, 20);
				e.add(this.game.prodigy.create.sprite(145, 60, "atlas-18", "board-corner"));
				for (var i = 0; i < 21; i++) e.add(this.game.prodigy.create.sprite(40 * i + 225, 60, "atlas-18", "board-top")), e.add(this.game.prodigy.create.sprite(40 * i + 225, 100, "atlas-18", "board-panel-mid"));
				e.add(this.game.prodigy.create.sprite(1065, 60, "atlas-18", "board-corner2")), this.content = this.game.prodigy.create.element(this, e.x, e.y), this.game.prodigy.create.panel(e, 145, 140, 25, 12, "board-panel"), t.prototype.create.call(this)
			}, e.prototype.process = function() {
				t.prototype.process.call(this), this.content.removeAll(!0), this.content.add(this.game.prodigy.create.sprite(128, 107, "atlas-18", "lantern")), this.content.add(this.game.prodigy.create.sprite(1104, 107, "atlas-18", "lantern"));
				for (var e = 0; e < this.game.prodigy.player.state.get("world-bounties").length; e++) new a.BountyContainer(this.game, this, 300 * e + 205, 150, this.game.prodigy.bounty.getBounty(e), e)
			}, e
		}(i(15).RenderMenu);
	e.BountyBoardMenu = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(55),
		r = i(2),
		s = i(16),
		l = i(20),
		c = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, 4, {
					hideMenu: !0,
					hideContent: !1,
					hideClose: !0
				}) || this;
				return o.boosts = n, o.callback = a, o.setup(), o
			}
			return n(e, t), e.prototype.menuSetup = function() {
				t.prototype.menuSetup.call(this);
				var e = this.game.prodigy.create.panel(this, 390, 160, 10, 6);
				e.add(this.game.prodigy.create.sprite(-15, -15, "atlas-21", "member")), this.game.prodigy.create.font(e, 80, 15, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BOOST_MENU_TITLE"), {
					align: "left",
					size: 30
				});
				for (var i = 0; i < this.boosts.length; i++) {
					var n = this.boosts[i];
					if (n) {
						var o = this.game.prodigy.create.element(e, 150 * i + 60, i % 2 * 50 + 80),
							s = o.add(this.game.prodigy.create.sprite(0, 0, "atlas-21", "icon-base"));
						s.inputEnabled = !0, s.events.onInputDown.add(this.setCurrent.bind(this, i, o.x, o.y));
						var l = this.game.prodigy.create.sprite(0, 0, r.Items.getIconAtlas(n.icon), r.Items.getIconFrame(n.icon));
						l.x += Math.floor((80 - l.width) / 2), l.y += Math.floor((80 - l.height) / 2), o.add(l), this.game.prodigy.create.font(e, o.x - 110, o.y + 90, this.boosts[i].d, {
							width: 300,
							align: "center",
							size: 20
						})
					}
				}
				this.selected = e.add(this.game.prodigy.create.sprite(25, -5, "atlas-21", "yes")), this.selected.visible = !1, this.game.prodigy.create.textButton(e, 40, 270, {
					icon: "close",
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BOOST_MENU_BUTTON_NONE")
				}, this.apply.bind(this, !0)), this.applyButton = this.game.prodigy.create.textButton(e, 260, 270, {
					icon: "next",
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BUTTON_APPLY")
				}, this.apply.bind(this)), this.applyButton.setInactive()
			}, e.prototype.setCurrent = function(t, e, i) {
				this.selected.visible = !0, this.selected.x = e - 10, this.selected.y = i - 10, this.currentBoost = t, this.applyButton.setActive()
			}, e.prototype.apply = function(t) {
				if (t || this.game.prodigy.network.sendAnalytics("Use-Boost", this.currentBoost), !t && !this.game.prodigy.player.hasMembership()) {
					var e = {
						conversionFunnelName: l.EFunnelEventIDs.FunnelUseBoost,
						conversionFunnelMetadata: this.boosts[this.currentBoost].d
					};
					return this.game.prodigy.network.sendConversionFunnelEvent(e.conversionFunnelName, l.EFunnelEventIDs.StageClickBoost, e.conversionFunnelMetadata), void this.game.prodigy.open.membershipInfo(null, e, s.MembershipInfo.BOOSTS)
				}
				t ? this.callback() : this.callback(this.currentBoost), this.close()
			}, e
		}(o.LegacyMenu);
	e.BoostSelect = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(175),
		r = i(15),
		s = i(5),
		l = i(44),
		c = i(14),
		h = i(0),
		u = i(34),
		p = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
				return a.player = null, a.content = null, a.bar = null, a.p = null, a.equip = null, a.itemType = null, a.owned = [], a.indicatorImage = null, a.player = n, a.create(), a
			}
			return n(e, t), e.prototype.create = function() {
				this.addTransparent(), this.content = this.game.prodigy.create.element(this, 610, 220);
				var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.createBaseSetup(31, 16, "shine", null, [{
					icon: {
						type: "hat",
						ID: "5",
						metadata: {
							vIcon: 1
						}
					},
					bot: e.getText("BACKPACK_BUTTON_HATS")
				}, {
					icon: {
						type: "outfit",
						ID: "1",
						metadata: {
							vIcon: 1
						}
					},
					bot: e.getText("BACKPACK_BUTTON_OUTFITS"),
					metadata: {
						vIcon: 1
					}
				}, {
					icon: {
						type: "weapon",
						ID: "1",
						metadata: {
							vIcon: 1
						}
					},
					bot: e.getText("BACKPACK_BUTTON_WANDS"),
					metadata: {
						vIcon: 1
					}
				}, {
					icon: {
						type: "spellRelic",
						ID: "13",
						metadata: {
							vIcon: 1
						}
					},
					bot: e.getText("BACKPACK_BUTTON_RELICS"),
					metadata: {
						vIcon: 1
					}
				}, {
					icon: {
						type: "boots",
						ID: "7",
						metadata: {
							vIcon: 1
						}
					},
					bot: e.getText("BACKPACK_BUTTON_BOOTS"),
					metadata: {
						vIcon: 1
					}
				}, {
					icon: {
						type: "follow",
						ID: "2",
						metadata: {
							vIcon: 1
						}
					},
					bot: e.getText("BACKPACK_BUTTON_BUDDIES"),
					metadata: {
						vIcon: 1
					}
				}, {
					icon: {
						type: "item",
						ID: "5",
						metadata: {
							vIcon: 1
						}
					},
					bot: e.getText("BACKPACK_BUTTON_ITEMS"),
					metadata: {
						vIcon: 1
					}
				}, {
					icon: {
						type: "item",
						ID: "26",
						metadata: {
							vIcon: 1
						}
					},
					bot: e.getText("BACKPACK_BUTTON_CURRENCY"),
					metadata: {
						vIcon: 1
					}
				}], !0);
				var i = this.game.prodigy.create.element(this, 0, 0);
				i.setRenderState(!0), i.add(new Phaser.TileSprite(this.game, 51, 240, 449, 40, "atlas-161", "blue-top")), i.add(new Phaser.TileSprite(this.game, 51, 280, 449, 300, "atlas-161", "blue-mid")), i.add(new Phaser.TileSprite(this.game, 51, 580, 449, 40, "atlas-161", "blue-top2")), i.add(new Phaser.TileSprite(this.game, 500, 280, 40, 300, "atlas-161", "blue-side2")), i.add(this.game.prodigy.create.sprite(500, 240, "atlas-18", "blue-corner2")), i.add(this.game.prodigy.create.sprite(500, 580, "atlas-18", "blue-corner3")), i.add(new Phaser.TileSprite(this.game, 631, 240, 598, 40, "atlas-161", "blue-top")), i.add(new Phaser.TileSprite(this.game, 631, 280, 598, 300, "atlas-161", "blue-mid")), i.add(new Phaser.TileSprite(this.game, 631, 580, 598, 40, "atlas-161", "blue-top2")), i.add(new Phaser.TileSprite(this.game, 591, 280, 40, 300, "atlas-161", "blue-side")), i.add(this.game.prodigy.create.sprite(591, 240, "atlas-18", "blue-corner")), i.add(this.game.prodigy.create.sprite(591, 580, "atlas-18", "blue-corner4")), i.add(this.game.prodigy.create.sprite(90, 63, "atlas-19", "backpack")), this.game.prodigy.create.panel(i, 100, 270, 10, 8, "white").alpha = .5, t.prototype.create.call(this), this.bar = this.game.prodigy.create.slider(this, 1150, 240, 380, !0, !0), this.p = this.game.prodigy.create.player(this, this.player, 2, 300, 515, !1, !1, !0), this.equip = this.game.prodigy.create.element(this, 80, 220), this.game.prodigy.player.backpack.hasItem("mount", 1) > 0 && this.addMountToggle(250, 550), this.setMode(0), this.reload()
			}, e.prototype.setMode = function(e) {
				switch (t.prototype.setMode.call(this, e), this.clearContents(), e) {
					case 1:
						this.itemType = "outfit";
						break;
					case 2:
						this.itemType = "weapon";
						break;
					case 3:
						this.itemType = "spellRelic";
						break;
					case 4:
						this.itemType = "boots";
						break;
					case 5:
						this.itemType = "follow";
						break;
					case 6:
						this.itemType = "item";
						break;
					case 7:
						this.itemType = "currency";
						break;
					default:
						this.itemType = "hat"
				}
				this.listItemsOfType()
			}, e.prototype.clearContents = function() {
				h.Util.isValid(this.content) && this.content.removeAll(!0)
			}, e.prototype.itemSelected = function(t) {
				this.game.prodigy.open.itemInfo({
					ID: t.ID,
					L: t.L,
					type: h.Util.isValid(t.type) ? t.type : this.itemType
				}, this.reload.bind(this), u.EItemInfoMode.Equip)
			}, e.prototype.reload = function(t) {
				this.equip.removeAll(!0);
				for (var e = ["hat", "weapon", "outfit", "boots", "follow", "spellRelic"], i = 0; i < e.length; i++) {
					var n = {
							ID: this.player.equipment.getEquipment(e[i]),
							type: e[i]
						},
						a = this.itemSelected.bind(this, n);
					h.Util.isValid(n.ID) || (a = this.game.prodigy.open.pouch.bind(this.game.prodigy.open, e[i], this.reload.bind(this))), this.game.prodigy.create.item(this.equip, i % 2 * 340, 120 * Math.floor(i / 2) + 40, n, u.EItemInfoMode.Icon, "ring" === e[i] ? null : a)
				}
				this.game.input.clearEnterCallback(), this.p.reload(), this.bar.process(), t && this.close()
			}, e.prototype.scrollItems = function(t) {
				this.page = h.Util.isValid(t) ? t : this.page, this.clearContents(), this.owned = this.player.backpack.getBackpackItemsByType(this.itemType);
				for (var e = this.page; e < this.page + 6; e++) {
					var i = e - this.page;
					e >= this.owned.length ? this.game.prodigy.create.panel(this.content, i % 3 * 180, 220 * Math.floor(i / 3), 4, 5, "empty") : this.game.prodigy.create.item(this.content, i % 3 * 180, 220 * Math.floor(i / 3), {
						ID: h.Util.isValid(this.owned[e].ID) ? this.owned[e].ID : this.owned[e].gameID,
						type: this.itemType,
						L: this.owned[e].L,
						N: this.owned[e].N
					}, u.EItemInfoMode.Inventory, this.itemSelected.bind(this, this.owned[e]))
				}
			}, e.prototype.listItemsOfType = function() {
				this.owned = this.player.backpack.getBackpackItemsByType(this.itemType), this.bar.reset(this.owned.length - 3, 3, -1, this.scrollItems.bind(this))
			}, e.prototype.close = function() {
				o.PlayerContainer.overrideSmoothing(null), this.game.prodigy.user.reload(), t.prototype.close.call(this)
			}, e.prototype.addMountToggle = function(t, e) {
				var i = this,
					n = {
						type: "ButtonToggle",
						name: "toggleMount",
						x: t,
						y: e,
						width: 96,
						height: 50,
						visible: !0,
						atlasName: "atlas-144",
						frameNameOn: "buttons/mount-toggle-on",
						frameNameOff: "buttons/mount-toggle-off",
						defaultToggleState: this.game.prodigy.user.isMounted() ? 1 : 0,
						children: []
					},
					a = new l.UIParser(this.game).createUIElements([n], this)[0];
				if (!this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(c.Breadcrumbs.FEATURE_CLOUD_MOUNT, c.Breadcrumbs.BREADCRUMB_CLOUD_MOUNT_TOGGLED)) {
					this.indicatorImage = new Phaser.Image(this.game, 0, 0, "atlas-21", "exclamation"), a.addChild(this.indicatorImage);
					var o = h.Util.getCenteredXY(this.indicatorImage.width, this.indicatorImage.height + 2 * this.indicatorImage.height, 0, 0, a.width, a.height);
					this.indicatorImage.x = o.x, this.indicatorImage.y = o.y, this.game.add.tween(this.indicatorImage).to({
						y: this.indicatorImage.y - 10
					}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, -1, !0)
				}
				a.setOnClickCallback(function() {
					i.game.broadcaster.broadcast(s.EUIEvents.MountTogglePressed, "mount"), i.game.prodigy.breadcrumbManager.completeBreadcrumb(c.Breadcrumbs.FEATURE_CLOUD_MOUNT, c.Breadcrumbs.BREADCRUMB_CLOUD_MOUNT_TOGGLED), h.Util.isValid(i.indicatorImage) && (i.indicatorImage.destroy(), i.indicatorImage = null)
				})
			}, e
		}(r.RenderMenu);
	e.BackpackMenu = p
}, function(t, e, i) {
	var n = i(352),
		a = i(18);
	t.exports = function(t, e, i, o) {
		return null == t ? [] : (a(e) || (e = null == e ? [] : [e]), a(i = o ? void 0 : i) || (i = null == i ? [] : [i]), n(t, e, i))
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(2),
		o = function(t) {
			function e(e, i, n, a, o) {
				void 0 === o && (o = !1);
				var r = t.call(this, e, i, n, a, o) || this;
				return r.previousPlayerName = null, r.previousPlayerName = r.game.prodigy.player.appearance.getName(), r.setPage(0), r
			}
			return n(e, t), e.prototype.create = function() {
				var e = this;
				t.prototype.create.call(this), this.game.prodigy.create.button(this, 930, 140, "atlas-21", "close", function() {
					e.closeMenuWithoutSettingName()
				})
			}, e.prototype.selectNamesList = function() {
				var t = this.game.prodigy.player.appearance.getGender(),
					e = "male" === t ? 2 : 1;
				this.reverseGender && (e = "male" === t ? 1 : 2), this.names = a.Items.getItemsWithFilter("name", function(t) {
					return 0 === t.data.type && t.data.gender === e
				})
			}, e.prototype.closeMenuWithoutSettingName = function() {
				this.onClose = null, this.game.prodigy.player.appearance.setName(this.previousPlayerName), this.close()
			}, e
		}(i(277).NameChange);
	e.AdvancedNameChange = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(58),
		r = i(0),
		s = function(t) {
			function e(e, i, n, r) {
				var s = t.call(this, e, i, n) || this;
				return s.pw1 = o.InputField.createInputField(s.game, s, "pw1", "", 640 - o.InputField.WIDTH_MEDIUM / 2, 190, o.InputField.WIDTH_MEDIUM, o.InputField.HEIGHT_MEDIUM), s.pw1.setLabel(s, e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("TEXTBOX_TITLE_PASSWORD")), s.pw1.hide(0), s.pw2 = o.InputField.createInputField(s.game, s, "pw2", "", 640 - o.InputField.WIDTH_MEDIUM / 2, 290, o.InputField.WIDTH_MEDIUM, o.InputField.HEIGHT_MEDIUM), s.pw2.setLabel(s, e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("TEXTBOX_TITLE_REENTER_PASSWORD")), s.pw2.hide(0), s.closeCallback = r, s.error = s.game.prodigy.create.font(s, 410, 340, "", {
					align: "center",
					width: 460
				}), s
			}
			return n(e, t), e.prototype.open = function() {
				t.prototype.open.call(this), this.pw1.show(0), this.pw2.show(0), r.Util.isValid(this.data.password) && (this.pw2.setValue(this.data.password), this.pw1.setValue(this.data.password)), this.dialogue = this.game.prodigy.dialogue.create(), this.dialogue.setText(46), this.dialogue.start("noot", !0)
			}, e.prototype.close = function() {
				this.closeCallback(), t.prototype.close.call(this), this.pw1.hide(0), this.pw2.hide(0)
			}, e.prototype.update = function() {
				if (t.prototype.update.call(this), this.counter++, !(this.counter < 10)) {
					this.counter = 0;
					var e = this.pw1.getValue(),
						i = this.pw2.getValue(),
						n = "",
						o = !1,
						r = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
					"" === e || "" === i || (e.length < 4 ? n = r.getText("PASSWORD_ERROR_TOO_SHORT") : e.length > 10 ? n = r.getText("PASSWORD_ERROR_TOO_LONG") : e.indexOf(" ") >= 0 ? n = r.getText("PASSWORD_ERROR_NO_SPACES") : e !== i ? n = r.getText("PASSWORD_ERROR_NO_MATCH") : (n = r.getText("PASSWORD_ERROR_MATCHES"), this.data.password = e, o = !0)), this.error.text !== n && this.error.setText(n), !o || this.nextBtn.arrow && this.nextBtn.isActive ? o || this.pw1.arrow || (this.nextBtn.setInactive(), this.pw1.highlight(!0, 280, -35), this.pw2.highlight(!0, 280, -35), this.nextBtn.highlight(!1)) : (this.nextBtn.setActive(), this.nextBtn.highlight(!0), this.pw1.highlight(!1), this.pw2.highlight(!1))
				}
			}, e
		}(i(95).RegisterPage);
	e.PasswordPage = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(58),
		r = i(0),
		s = function(t) {
			function e(e, i, n, r) {
				var s = t.call(this, e, i, n) || this;
				return s.firstNameField = o.InputField.createInputField(s.game, s, "firstName", "", 370, 240, 250, 50), s.firstNameField.setLabel(s, e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("TEXTBOX_TITLE_FIRST_NAME")), s.firstNameField.hide(0), s.lastNameField = o.InputField.createInputField(s.game, s, "lastName", "", 660, 240, 250, 50), s.lastNameField.setLabel(s, e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("TEXTBOX_TITLE_LAST_NAME")), s.lastNameField.hide(0), s.closeCallback = r, s
			}
			return n(e, t), e.prototype.open = function() {
				t.prototype.open.call(this), this.firstNameField.show(0), this.lastNameField.show(0), r.Util.isValid(this.data.firstName) && this.firstNameField.setValue(this.data.firstName), r.Util.isValid(this.data.lastName) && this.lastNameField.setValue(r.Util.isValid(this.data.email) ? this.data.lastName.substring(0, 1) : this.data.lastName), this.dialogue = this.game.prodigy.dialogue.create(), this.lastNameField.setLabel(this, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("TEXTBOX_TITLE_LAST_NAME_INITIAL")), this.dialogue.setText(117), this.dialogue.start("noot", !0)
			}, e.prototype.next = function() {
				this.data.lastName = this.data.lastName.substring(0, 1), t.prototype.next.call(this)
			}, e.prototype.close = function() {
				this.closeCallback(), t.prototype.close.call(this), this.firstNameField.hide(0), this.lastNameField.hide(0)
			}, e.prototype.update = function() {
				if (t.prototype.update.call(this), this.counter++, !(this.counter < 10)) {
					this.counter = 0;
					var e = this.firstNameField.getValue(),
						i = this.lastNameField.getValue();
					e = e.replace(" ", "");
					var n = "" === (i = i.replace(" ", "")),
						a = "" === e;
					n || (this.data.lastName = i.substring(0, 1), this.lastNameField.setValue(this.data.lastName)), a || (this.data.firstName = e.substring(0, 30), this.firstNameField.setValue(this.data.firstName)), a || n ? this.lastNameField.arrow || (this.nextBtn.setInactive(), this.firstNameField.highlight(!0, 180, -35), this.lastNameField.highlight(!0, 180, -35), this.nextBtn.highlight(!1)) : (this.data.firstName = e, this.nextBtn.arrow && this.nextBtn.isActive || (this.nextBtn.setActive(), this.nextBtn.highlight(!0), this.firstNameField.highlight(!1), this.lastNameField.highlight(!1)))
				}
			}, e
		}(i(95).RegisterPage);
	e.NamePage = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(5),
		r = i(0),
		s = function(t) {
			function e(e, i, n, s) {
				var l = t.call(this, e, i, n) || this;
				l.desiredTileDimensions = {
					horizontalTileNum: 24,
					verticalTileNum: 10
				}, l.defaultTileDimensions = l.game.broadcaster.broadcast(o.EAccountCreateEvents.GetBackgroundPanelTileDimensions);
				var c = e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				l.panelA = l.game.prodigy.create.element(l, 0, 140), l.game.prodigy.create.font(l.panelA, 0, -35, c.getText("ACCOUNT_LOCATION_TITLE_CANADA"), {
					size: 36,
					fontID: 9,
					width: 200,
					align: "center",
					iconOffsetY: 7
				}), l.panelB = l.game.prodigy.create.element(l, 240, 140), l.game.prodigy.create.font(l.panelB, 0, -35, c.getText("ACCOUNT_LOCATION_TITLE_USA"), {
					size: 36,
					fontID: 9,
					width: 420,
					align: "center",
					iconOffsetY: 7
				}), l.panelC = l.game.prodigy.create.element(l, 700, 140), l.game.prodigy.create.font(l.panelC, 0, -35, c.getText("ACCOUNT_LOCATION_TITLE_OTHER"), {
					size: 36,
					fontID: 9,
					width: 200,
					align: "center",
					iconOffsetY: 7
				}), l.buttons = [], l.buttons.push(l.game.prodigy.create.textButton(l.panelA, 0, 25, {
					text: c.getText("ACCOUNT_LOCATION_ONTARIO")
				}, l.selectLocation.bind(l, 0, 1, 0))), l.buttons.push(l.game.prodigy.create.textButton(l.panelA, 0, 85, {
					text: c.getText("ACCOUNT_LOCATION_OTHER")
				}, l.selectLocation.bind(l, 1, 1, 0))), l.buttons.push(l.game.prodigy.create.textButton(l.panelB, 0, 25, {
					text: c.getText("ACCOUNT_LOCATION_COLORADO")
				}, l.selectLocation.bind(l, 2, 2, 3))), l.buttons.push(l.game.prodigy.create.textButton(l.panelB, 0, 85, {
					text: c.getText("ACCOUNT_LOCATION_FLORIDA")
				}, l.selectLocation.bind(l, 3, 2, 1))), l.buttons.push(l.game.prodigy.create.textButton(l.panelB, 0, 145, {
					text: c.getText("ACCOUNT_LOCATION_NEW_YORK")
				}, l.selectLocation.bind(l, 4, 2, 6))), l.buttons.push(l.game.prodigy.create.textButton(l.panelB, 220, 25, {
					text: c.getText("ACCOUNT_LOCATION_TENNESSEE")
				}, l.selectLocation.bind(l, 5, 2, 4))), l.buttons.push(l.game.prodigy.create.textButton(l.panelB, 220, 85, {
					text: c.getText("ACCOUNT_LOCATION_TEXAS")
				}, l.selectLocation.bind(l, 6, 2, 2))), l.buttons.push(l.game.prodigy.create.textButton(l.panelB, 220, 145, {
					text: c.getText("ACCOUNT_LOCATION_VIRGINIA")
				}, l.selectLocation.bind(l, 7, 2, 5))), l.buttons.push(l.game.prodigy.create.textButton(l.panelB, 110, 205, {
					text: c.getText("ACCOUNT_LOCATION_OTHER")
				}, l.selectLocation.bind(l, 8, 2, 0))), l.buttons.push(l.game.prodigy.create.textButton(l.panelC, 0, 25, {
					text: c.getText("ACCOUNT_LOCATION_AUSTRALIA")
				}, l.selectLocation.bind(l, 9, 3, 0))), l.buttons.push(l.game.prodigy.create.textButton(l.panelC, 0, 85, {
					text: c.getText("ACCOUNT_LOCATION_ENGLAND")
				}, l.selectLocation.bind(l, 10, 4, 0))), l.buttons.push(l.game.prodigy.create.textButton(l.panelC, 0, 145, {
					text: c.getText("ACCOUNT_LOCATION_INDIA")
				}, l.selectLocation.bind(l, 11, 5, 0))), l.buttons.push(l.game.prodigy.create.textButton(l.panelC, 0, 205, {
					text: c.getText("ACCOUNT_LOCATION_OTHER")
				}, l.selectLocation.bind(l, 12, 1, 0)));
				var h = 40 * (l.desiredTileDimensions.horizontalTileNum - l.defaultTileDimensions.horizontalTileNum) * .5;
				l.backBtn.x = l.backBtn.x - h, l.nextBtn.x = Number(l.nextBtn.x) + h;
				var u = {
						x: Number(l.backBtn.x) + Number(l.backBtn.width),
						y: 0,
						width: l.nextBtn.x - l.backBtn.x - l.backBtn.width,
						height: 0
					},
					p = {
						width: l.panelC.x + l.panelC.width,
						height: l.panelC.height
					},
					d = r.Util.getCenteredXY(p.width, p.height, u.x, 0, u.width, 0);
				return l.panelA.x += d.x, l.panelB.x += d.x, l.panelC.x += d.x, l.closeCallback = s, l
			}
			return n(e, t), e.prototype.open = function(e) {
				if (t.prototype.open.call(this), r.Util.isValid(this.data.classCode)) return this.data.country = null, this.data.sub = null, void(-1 === e ? this.back() : this.next());
				r.Util.isValid(this.selectedButton) && this.selectedButton.deselect(), this.selectLocation(this.data.locationIndex, this.data.country, this.data.sub), this.dialogue = this.game.prodigy.dialogue.create(), this.dialogue.setText(47), this.dialogue.start("noot", !0), this.game.broadcaster.broadcast(o.EAccountCreateEvents.SetBackgroundPanelTileDimensions, null, [this.desiredTileDimensions.horizontalTileNum, this.desiredTileDimensions.verticalTileNum])
			}, e.prototype.selectLocation = function(t, e, i) {
				r.Util.isValid(this.selectedButton) && this.selectedButton.deselect(), this.selectedButton = this.buttons[t], r.Util.isValid(this.selectedButton) ? (this.selectedButton.select(), this.data.country = e, this.data.sub = i, this.data.curriculumTreeID = QI.getLocationID(e, i), this.data.locationIndex = t, this.nextBtn.setActive(), this.nextBtn.highlight(!0)) : (this.selectedButton = null, this.data.country = this.data.sub = this.data.curriculumTreeID = null, this.nextBtn.setInactive(), this.nextBtn.highlight(!1))
			}, e.prototype.close = function() {
				this.closeCallback(), this.game.broadcaster.broadcast(o.EAccountCreateEvents.SetBackgroundPanelTileDimensions, null, [this.defaultTileDimensions.horizontalTileNum, this.defaultTileDimensions.verticalTileNum]), t.prototype.close.call(this)
			}, e
		}(i(95).RegisterPage);
	e.LocationPage = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(58),
		s = i(5),
		l = i(0),
		c = function(t) {
			function e(e, i, n, l) {
				var c = t.call(this, e, i, n) || this;
				return c.codeField = r.InputField.createInputField(c.game, c, "classcodeg", "", 640 - r.InputField.WIDTH_MEDIUM / 2, 180, r.InputField.WIDTH_MEDIUM, r.InputField.HEIGHT_MEDIUM), c.codeField.setLabel(c, e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("TEXTBOX_TITLE_CLASS_CODE")), c.codeField.hide(0), c.emailField = r.InputField.createInputField(c.game, c, "emailg", "", 640 - r.InputField.WIDTH_MEDIUM / 2, 180, r.InputField.WIDTH_MEDIUM, r.InputField.HEIGHT_MEDIUM), c.emailField.setLabel(c, e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("TEXTBOX_TITLE_PARENT_EMAIL")), c.emailField.hide(0), c.btns = c.game.prodigy.create.element(c, 640, 270), c.spinner = c.add(c.game.prodigy.create.sprite(860, 200, "atlas-18", "loading")), c.spinner.anchor.setTo(.5, .5), c.game.add.tween(c.spinner).to({
					angle: 360
				}, 2e3, Phaser.Easing.Linear.None, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !1), c.spinner.visible = !1, c.statusIcon = c.add(c.game.prodigy.create.sprite(860, 200, "atlas-21", "close")), c.statusIcon.anchor.setTo(.5, .5), c.statusIcon.visible = !1, c.statusIcon.inputEnabled = !0, c.statusIcon.events.onInputDown.add(c.tryNext.bind(c)), c.dialogue = c.game.prodigy.dialogue.create(), c.onDestroy.add(c.handleDestroy.bind(c)), c.closeCallback = l, c.game.broadcaster.addAppListener(s.EWebEvents.POST_MESSAGE_RECEIVED, function(t, e) {
					"class-code-entry" === e.name && c.setCode(e.classCode)
				}, c, c.game), c
			}
			return n(e, t), e.prototype.handleDestroy = function() {
				o.GameConstants.get("GameConstants.Build.DEBUG") && this.game.prodigy.automation.removeAllTriggers(this), this.game.broadcaster.removeAppListener(s.EWebEvents.POST_MESSAGE_RECEIVED, this, this.game)
			}, e.prototype.setClassCodeContent = function() {
				var t = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.nextBtn.setInactive(), this.codeField.highlight(!1, 180, -35), this.nextBtn.highlight(!1), this.btns.removeAll(!0), this.mode = "cc", this.codeField.show(0), this.emailField.hide(0);
				var e = this.game.prodigy.create.panel(this.btns, -300, 0, 7, 3, "button");
				e.setClickable(this.getCode.bind(this)), this.game.prodigy.create.font(e, 0, 25, t.getText("CLASS_CODE_PROMPT_TEACHER_CLICK_0"), {
					size: 20,
					align: "center",
					width: 280
				}), this.game.prodigy.create.font(e, 0, 60, t.getText("CLASS_CODE_PROMPT_TEACHER_CLICK_1"), {
					size: 20,
					align: "center",
					width: 280
				});
				var i = this.game.prodigy.create.panel(this.btns, 20, 0, 7, 3, "button");
				i.setClickable(this.setEmailContent.bind(this)), this.game.prodigy.create.font(i, 0, 25, t.getText("CLASS_CODE_PLAYING_AT_HOME"), {
					size: 20,
					align: "center",
					width: 280
				}), this.game.prodigy.create.font(i, 0, 60, t.getText("BUTTON_CLICK_HERE"), {
					size: 20,
					align: "center",
					width: 280
				}), this.dialogue.setText(44), this.dialogue.start("noot", !0), o.GameConstants.get("GameConstants.Build.DEBUG") && (this.game.prodigy.automation.addTrigger({
					ID: "autoclick-getClassCode",
					context: this,
					callback: function() {
						return {
							x: Number(e.worldPosition.x) + .5 * e.width,
							y: Number(e.worldPosition.y) + .5 * e.height
						}
					}
				}), this.game.prodigy.automation.addTrigger({
					ID: "autoclick-playingAtHome",
					context: this,
					callback: function() {
						return {
							x: Number(i.worldPosition.x) + .5 * i.width,
							y: Number(i.worldPosition.y) + .5 * i.height
						}
					}
				}))
			}, e.prototype.setEmailContent = function() {
				this.nextBtn.setInactive(), this.emailField.highlight(!1, 180, -35), this.nextBtn.highlight(!1), this.btns.removeAll(!0), this.mode = "email", this.emailField.show(0), this.codeField.hide(0);
				var t = this.game.prodigy.create.panel(this.btns, -140, 0, 7, 3, "button"),
					e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				t.setClickable(this.setClassCodeContent.bind(this)), this.game.prodigy.create.font(t, 0, 25, e.getText("CLASS_CODE_PLAYING_AT_SCHOOL"), {
					size: 20,
					align: "center",
					width: 280
				}), this.game.prodigy.create.font(t, 0, 60, e.getText("BUTTON_CLICK_HERE"), {
					size: 20,
					align: "center",
					width: 280
				}), this.dialogue.setText(66), this.dialogue.start("noot", !0)
			}, e.prototype.tryNext = function() {
				"yes" === this.statusIcon.frameName && this.next()
			}, e.prototype.getCode = function() {
				this.codeField.clearEvents(!1), this.game.input.keyboard.clearCaptures(), prodigyWeb.getClassCode.open()
			}, e.prototype.setCode = function(t) {
				this.codeField.clearEvents(!0), this.game.input.keyboard.addKeyCapture([Phaser.Keyboard.BACKSPACE]), this.codeField.setValue(t)
			}, e.prototype.open = function() {
				t.prototype.open.call(this), this.status = {
					code: "",
					valid: !1
				}, l.Util.isValid(this.data.email) ? this.setEmailContent() : (l.Util.isValid(this.data.classCode) && this.setCode(this.data.classCode), this.setClassCodeContent()), this.data.parentEmail = void 0, this.data.classCode = null, this.nextBtn.setInactive()
			}, e.prototype.close = function() {
				this.codeField.hide(0), this.emailField.hide(0), this.closeCallback(this.data.parentEmail, this.data.classCode), t.prototype.close.call(this)
			}, e.prototype.update = function() {
				if (t.prototype.update.call(this), this.counter++, !(this.counter < 10))
					if (this.counter = 0, "cc" === this.mode) {
						var e = this.codeField.getValue().toUpperCase();
						this.codeField.setValue(e), this.statusIcon.visible = l.Util.isValid(e) && e.length >= 6, l.Util.isValid(e) && 6 === e.length ? e !== this.status.code || !this.status.valid || this.nextBtn.arrow && this.nextBtn.isActive ? this.validating || e === this.status.code || (this.statusIcon.visible = !1, this.nextBtn.setInactive(), this.validateCode(e)) : (this.statusIcon.frameName = "yes", this.nextBtn.setActive(), this.nextBtn.highlight(!0), this.codeField.highlight(!1)) : this.codeField.arrow || (this.statusIcon.frameName = "close", this.nextBtn.setInactive(), this.codeField.highlight(!0, 180, -35), this.nextBtn.highlight(!1))
					} else if ("email" === this.mode) {
					this.statusIcon.visible = !1;
					var i = this.emailField.getValue();
					l.Util.isValid(i) && i.length > 0 ? (this.data.parentEmail = i, this.data.classCode = null, this.data.teacherID = null, this.nextBtn.arrow && this.nextBtn.isActive || (this.nextBtn.setActive(), this.nextBtn.highlight(!0), this.emailField.highlight(!1))) : this.emailField.arrow || (this.nextBtn.setInactive(), this.emailField.highlight(!0, 180, -35), this.nextBtn.highlight(!1))
				}
			}, e.prototype.validationComplete = function(t, e) {
				this.statusIcon.visible = !0, this.spinner.visible = this.validating = !1, this.status.valid = t, t ? (this.data.email = null, this.data.classCode = e, this.statusIcon.frameName = "yes") : this.statusIcon.frameName = "close"
			}, e.prototype.validateCode = function(t) {
				var e = this;
				this.statusIcon.visible = !1, this.status = {
					code: t,
					valid: !1
				}, this.spinner.visible = this.validating = !0, this.game.prodigy.network.verifyClassCode(t, function() {
					e.validationComplete(!0, t)
				}, function() {
					e.validationComplete(!1, t)
				})
			}, e
		}(i(95).RegisterPage);
	e.ClassCodePage = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = i(4),
		s = i(864),
		l = i(278),
		c = i(863),
		h = i(862),
		u = i(861),
		p = i(15),
		d = i(5),
		g = i(12),
		f = i(0),
		y = i(70),
		m = function(t) {
			function e(e, i, n, a) {
				void 0 === n && (n = {}), void 0 === a && (a = null);
				var o = t.call(this, e, i, 0, 0, e.prodigy.textureMenu) || this;
				if (o.username = null, o.password = null, o.hasLocation = !1, o.googleData = null, o.data = null, o.eventType = null, o.backgroundContainer = null, o.rightArrowPanel = null, o.leftArrowPanel = null, o.content = null, o.spinner = null, o.modules = [], o.backgroundPanel = null, o.onClose = a, o.username = n.username, o.password = n.password, o.hasLocation = f.Util.isValid(n.curriculumTreeID), f.Util.isValid(n.idToken)) {
					var r = window.gapi.auth2.getAuthInstance().currentUser.get();
					o.googleData = {
						idToken: n.idToken,
						name: r.getBasicProfile().getName(),
						email: r.getBasicProfile().getEmail()
					}, o.sendGameComplete("signup_start", "google_signup")
				} else o.sendGameComplete("signup_start", "default_signup");
				return o.data = {
					firstName: "",
					lastName: "",
					curriculumTreeID: f.Util.isValid(n.curriculumTreeID) ? n.curriculumTreeID : 1
				}, o.data.player = new g.Player(o.game), o.data.player.setDefault("male"), o.data.player.appearance.setName(null), o.data.player.data.new = !0, o.create(), o
			}
			return n(e, t), e.prototype.create = function() {
				this.game.broadcaster.addAppListener(d.EAccountCreateEvents.SetBackgroundPanelTileDimensions, this.setBackgroundPanelSize.bind(this), this), this.game.broadcaster.addAppListener(d.EAccountCreateEvents.GetBackgroundPanelTileDimensions, function() {
					return {
						horizontalTileNum: 18,
						verticalTileNum: 10
					}
				}, this), this.addTransparent(), this.backgroundContainer = this.game.prodigy.create.element(this.background), this.rightArrowPanel = this.game.prodigy.create.panel(this.backgroundContainer, 0, 0, 4, 6, "shine"), this.leftArrowPanel = this.game.prodigy.create.panel(this.backgroundContainer, 0, 0, 4, 6, "shine"), this.setBackgroundPanelSize(18, 10), t.prototype.create.call(this), this.content = this.game.prodigy.create.element(this), this.spinner = this.add(this.game.prodigy.create.sprite(640, 300, "atlas-18", "loading")), this.spinner.anchor.setTo(.5, .5), this.game.add.tween(this.spinner).to({
					angle: 360
				}, 2e3, Phaser.Easing.Linear.None, !0, 0, r.GameConstants.MAX_SAFE_INTEGER, !1), this.spinner.visible = !1, this.modules = [], f.Util.isValid(this.username) || (this.modules.push(new s.ClassCodePage(this.game, this.content, this.data, this.onClassCodeClose.bind(this))), f.Util.isValid(this.googleData) || (this.modules.push(new h.NamePage(this.game, this.content, this.data, this.onNamePageClose.bind(this))), this.modules.push(new u.PasswordPage(this.game, this.content, this.data, this.onPasswordPageClose.bind(this))))), this.hasLocation || this.modules.push(new c.LocationPage(this.game, this.content, this.data, this.onLocationPageClose.bind(this))), this.modules.push(new l.GradePage(this.game, this.content, this.data, this.onGradePageClose.bind(this)));
				for (var e = 0; e < this.modules.length; e++) {
					var i = this.modules[e - 1],
						n = this.modules[e + 1];
					this.modules[e].init(i ? i.open.bind(i, -1) : this.close.bind(this, !1), n ? n.open.bind(n, 1) : this.processResults.bind(this))
				}
				this.modules[0].open();
				var o = this.game.prodigy.create.panel(this, 5, 40, 5, 1, "blue");
				o.scale.y = -1, o.setClickable(y.NetworkManager.openWebsite.bind(this.game.prodigy.network, "www.prodigygame.com/privacy-policy/")), o.alpha = .5, this.game.prodigy.create.font(o, 0, 35, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("ACCOUNT_CREATE_PRIVACY_POLICY"), {
					align: "center",
					width: 200
				}).scale.y = -1
			}, e.prototype.setBackgroundPanelSize = function(t, e) {
				f.Util.isValid(this.backgroundPanel) && this.backgroundPanel.destroy(), this.backgroundPanel = this.game.prodigy.create.panel(this.backgroundContainer, 0, 60, t, e, "shine"), this.backgroundPanel.x = f.Util.getCenteredXY(this.backgroundPanel.width, 0, 0, 0, 1280, 0).x, this.backgroundPanel.add(new Phaser.TileSprite(this.game, 11, 40, this.backgroundPanel.width - 22, 40, "atlas-161", "blue-top")), this.backgroundPanel.add(new Phaser.TileSprite(this.game, 11, 80, this.backgroundPanel.width - 22, this.backgroundPanel.height - 160, "atlas-161", "blue-mid")), this.backgroundPanel.add(new Phaser.TileSprite(this.game, 11, this.backgroundPanel.height - 80, this.backgroundPanel.width - 22, 40, "atlas-161", "blue-top2")), this.leftArrowPanel.x = this.backgroundPanel.x - this.leftArrowPanel.width + 40, this.leftArrowPanel.y = f.Util.getCenteredXY(0, this.leftArrowPanel.height, 0, this.backgroundPanel.y, 0, this.backgroundPanel.height).y, this.rightArrowPanel.x = this.backgroundPanel.x + this.backgroundPanel.width - 40, this.rightArrowPanel.y = this.leftArrowPanel.y, this.process()
			}, e.prototype.processResults = function() {
				this.content.removeAll(!0);
				var t = {
					data: this.data.player.data,
					equipment: this.data.player.equipment.getData(),
					pets: this.data.player.kennel.data,
					inventory: this.data.player.backpack.data,
					appearance: this.data.player.appearance.getData()
				};
				if (this.spinner.visible = !0, f.Util.isValid(this.username)) {
					var e = {
						chosenGrade: this.data.grade,
						grade: this.data.grade
					};
					f.Util.isValid(this.data.curriculumTreeID) && (e.curriculumTreeID = this.data.curriculumTreeID), this.game.prodigy.network.updateUser(e, this.createCharacter.bind(this, t))
				} else if (t.data = JSON.stringify(t.data), t.equipment = JSON.stringify(t.equipment), t.pets = JSON.stringify(t.pets), t.inventory = JSON.stringify(t.inventory), t.appearance = JSON.stringify(t.appearance), t.grade = t.chosenGrade = this.data.grade, t.password = this.data.password, f.Util.isValid(this.data.curriculumTreeID) && (t.curriculumTreeID = this.data.curriculumTreeID), t.classCode = this.data.classCode, t.email = this.data.email, t.parentEmail = this.data.parentEmail, f.Util.isValid(this.googleData)) {
					t.idToken = this.googleData.idToken, t.email = decodeURIComponent(this.googleData.email);
					var i = decodeURI(this.googleData.name).split("+"),
						n = i[0],
						a = i.length > 1 ? i[i.length - 1] : "";
					this.game.prodigy.network.createPlayerWithGoogle(n, a, t, this.fail.bind(this), this.close.bind(this, !0))
				} else this.game.prodigy.network.createPlayer(this.data.firstName, this.data.lastName, t, this.fail.bind(this), this.complete.bind(this))
			}, e.prototype.createCharacter = function(t) {
				this.game.prodigy.network.createCharacter(this.game.prodigy.player.userID, t, this.fail.bind(this), this.complete.bind(this))
			}, e.prototype.fail = function() {
				this.spinner.visible = !1;
				var t = this.game.prodigy.event.create();
				t.yesNoText(52, "noot", this.close.bind(this, !1)), t.function(this.processResults.bind(this)), t.start()
			}, e.prototype.complete = function(t) {
				this.spinner.visible = !1;
				var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.game.prodigy.create.font(this.content, 240, 190, e.getText("ACCOUNT_CREATE_USERNAME"), {
					size: 36,
					fontID: 9,
					width: 280,
					align: "right"
				}), this.game.prodigy.create.font(this.content, 240, 270, e.getText("ACCOUNT_CREATE_PASSWORD"), {
					size: 36,
					fontID: 9,
					width: 280,
					align: "right"
				}), this.game.prodigy.create.font(this.content, 560, 190, t.username, {
					size: 40
				}), this.game.prodigy.create.font(this.content, 560, 270, t.password, {
					size: 40
				}), f.Util.isValid(this.data.email) && f.Util.setCookie("prodigyUsername", f.Util.isValid(t.username) ? t.username : "", 5), f.Util.isValid(this.username) ? this.close(!0, this.username, this.password) : this.showResults(t), f.Util.isValid(this.data.country) && this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).create("chosen-country", "progression", "registration", this.data.country.toString(), !1, !0).broadcast()
			}, e.prototype.showResults = function(t) {
				var e = this.game.prodigy.event.create();
				e.text(51, "noot"), e.function(this.close.bind(this, !0, t.username, t.password)), e.start()
			}, e.prototype.onClassCodeClose = function(t, e) {
				f.Util.isValid(t) ? (this.eventType = "parent_email", this.sendGameComplete(this.eventType, "parent_email")) : f.Util.isValid(e) ? (this.eventType = "class_code", this.sendGameComplete(this.eventType, "class_code")) : this.eventType = "NA"
			}, e.prototype.onNamePageClose = function() {
				this.sendGameComplete(this.eventType, "first_last_name")
			}, e.prototype.onPasswordPageClose = function() {
				this.sendGameComplete(this.eventType, "password")
			}, e.prototype.onLocationPageClose = function() {
				this.sendGameComplete(this.eventType, "location")
			}, e.prototype.onGradePageClose = function() {
				this.sendGameComplete(this.eventType, "grade")
			}, e.prototype.close = function(e, i, n) {
				this.game.prodigy.network.logout(!0), e && this.sendGameComplete(this.eventType, "account_review"), t.prototype.close.call(this, e, i, n)
			}, e.prototype.sendGameComplete = function(t, e) {
				this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create(t, e, void 0, void 0, void 0, void 0, !1, !0).broadcast()
			}, e.prototype.destroy = function(e, i) {
				this.game.broadcaster.removeAppListener(d.EAccountCreateEvents.SetBackgroundPanelTileDimensions, this), this.game.broadcaster.removeAppListener(d.EAccountCreateEvents.GetBackgroundPanelTileDimensions, this), t.prototype.destroy.call(this, e, i)
			}, e
		}(p.RenderMenu);
	e.AccountCreate = m
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i, 27) || this;
				return a.game = e, a.data = n, a
			}
			return n(e, t), e.prototype.preprocess = function() {
				this.queuePostCreateCallback(this.render.bind(this), this.setButtons.bind(this))
			}, e.prototype.setButtons = function() {
				this.closeButton.onClickCallback = this.close.bind(this)
			}, e.prototype.render = function() {
				this.titleText.setText(this.data.title), a.Util.isValid(this.data.image) && this.image.add(this.game.prodigy.icon.createFromData({
					type: this.data.image.type,
					ID: this.data.image.ID
				}, 75, 75, new Phaser.Point(.5, .5), null, null, null, !1)), this.bodyText.setText(this.data.body), a.Util.isValid(this.data.actionText) && this.actionText.setText(this.data.actionText), a.Util.isValid(this.data.action) && (this.actionButton.onUpCallback = this.data.action)
			}, e
		}(i(13).Menu);
	e.PopUpModal = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__assign || Object.assign || function(t) {
			for (var e, i = 1, n = arguments.length; i < n; i++)
				for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
			return t
		},
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		o = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		r = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		},
		s = this && this.__awaiter || function(t, e, i, n) {
			return new(i || (i = Promise))(function(a, o) {
				function r(t) {
					try {
						l(n.next(t))
					} catch (t) {
						o(t)
					}
				}

				function s(t) {
					try {
						l(n.throw(t))
					} catch (t) {
						o(t)
					}
				}

				function l(t) {
					t.done ? a(t.value) : new i(function(e) {
						e(t.value)
					}).then(r, s)
				}
				l((n = n.apply(t, e || [])).next())
			})
		},
		l = this && this.__generator || function(t, e) {
			var i, n, a, o, r = {
				label: 0,
				sent: function() {
					if (1 & a[0]) throw a[1];
					return a[1]
				},
				trys: [],
				ops: []
			};
			return o = {
				next: s(0),
				throw: s(1),
				return: s(2)
			}, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
				return this
			}), o;

			function s(o) {
				return function(s) {
					return function(o) {
						if (i) throw new TypeError("Generator is already executing.");
						for (; r;) try {
							if (i = 1, n && (a = n[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(a = a.call(n, o[1])).done) return a;
							switch (n = 0, a && (o = [0, a.value]), o[0]) {
								case 0:
								case 1:
									a = o;
									break;
								case 4:
									return r.label++, {
										value: o[1],
										done: !1
									};
								case 5:
									r.label++, n = o[1], o = [0];
									continue;
								case 7:
									o = r.ops.pop(), r.trys.pop();
									continue;
								default:
									if (!(a = (a = r.trys).length > 0 && a[a.length - 1]) && (6 === o[0] || 2 === o[0])) {
										r = 0;
										continue
									}
									if (3 === o[0] && (!a || o[1] > a[0] && o[1] < a[3])) {
										r.label = o[1];
										break
									}
									if (6 === o[0] && r.label < a[1]) {
										r.label = a[1], a = o;
										break
									}
									if (a && r.label < a[2]) {
										r.label = a[2], r.ops.push(o);
										break
									}
									a[2] && r.ops.pop(), r.trys.pop();
									continue
							}
							o = e.call(t, r)
						} catch (t) {
							o = [6, t], n = 0
						} finally {
							i = a = 0
						}
						if (5 & o[0]) throw o[1];
						return {
							value: o[0] ? o[1] : void 0,
							done: !0
						}
					}([o, s])
				}
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var c = i(26),
		h = i(1),
		u = i(9),
		p = i(11),
		d = i(6),
		g = i(164),
		f = i(0),
		y = i(165),
		m = function() {
			function t(t, e, i, n, a) {
				this.loggedInPlayer = null, this.featureFlagProvider = null, this.deviceInfoProvider = null, this.socketInterface = null, this.factoryContainer = null, this.loggedInPlayer = t, this.featureFlagProvider = e, this.deviceInfoProvider = i, this.socketInterface = n, this.socketInterface.connect(a.getAPIRootUrl(), null, {
					path: "/events-api/socket.io/",
					query: {
						userId: this.loggedInPlayer.getPlayer().userID,
						userToken: this.loggedInPlayer.getAuthToken()
					},
					reconnectionAttempts: 5,
					transports: ["websocket"]
				}), this.socketInterface.addListener("connect", function() {
					h.Logger.log("Analytics Socket Initialized", h.LogLevel.Verbose)
				}), this.socketInterface.addListener("INFO", function(t) {
					"ACCEPTED" !== t.status && h.Logger.log("Analytics socket returned non-accepted status: " + t.status + "\nFor events:\n" + JSON.stringify(t.rejectedEvents), h.LogLevel.Warning)
				}), this.socketInterface.addListener("ERROR", function(t) {
					h.Logger.log("Analytics socket returned an error: " + t.message, h.LogLevel.Warning)
				}), this.factoryContainer = new u.Container, this.factoryContainer.bind(c.EventEnum.GameSessionLength + "-v3").to(c.GameEvent.V3.SessionLengthFactory), this.factoryContainer.bind(c.EventEnum.GameComplete + "-v3").to(c.GameEvent.V3.GameCompleteFactory), this.factoryContainer.bind(c.EventEnum.GameAvatar + "-v3").to(c.GameEvent.V3.GameAvatarFactory), this.factoryContainer.bind(c.EventEnum.GameDiscovery + "-v3").to(c.GameEvent.V3.GameDiscoveryFactory), this.factoryContainer.bind(c.EventEnum.GameQuestion + "-v3").to(c.GameEvent.V3.GameQuestionFactory), this.factoryContainer.bind(c.EventEnum.GameBattle + "-v3").to(c.GameEvent.V3.GameBattleFactory), this.factoryContainer.bind(c.EventEnum.GameSocial + "-v3").to(c.GameEvent.V3.GameSocialFactory), this.factoryContainer.bind(c.EventEnum.AnonymousGameComplete + "-v3").to(c.AnonymousEvent.V3.AnonymousGameCompleteFactory), this.factoryContainer.bind(c.EventEnum.EducationLessonEncounter + "-v3").to(c.EducationEvent.V3.EducationLessonEncounterFactory)
			}
			return t.prototype.sendAnalytic = function(t, e) {
				return s(this, void 0, void 0, function() {
					var i, n, a;
					return l(this, function(o) {
						if (this.featureFlagProvider.isEventEnabled(t.getEventName())) {
							if (i = this.factoryContainer.get(t.getEventName() + "-v" + t.getSchemaVersion()), n = null, i && (n = i.serialize(t)), null !== n) return !0 === this.featureFlagProvider.getValue("enableVerboseAnalytics") ? h.Logger.log("\n========= Sending analytics: " + t.getEventName() + " =========\n" + JSON.stringify(n) + "\n========= Sending analytics END =========", h.LogLevel.Verbose) : h.Logger.log("========= Sending analytics: " + t.getEventName() + " =========", h.LogLevel.Verbose), a = f.Util.isValid(e) && f.Util.isString(e.socketEvent) ? e.socketEvent : "gameEvents", this.socketInterface.emitEvent(a, n), [2, Promise.resolve(!0)];
							!0 === this.featureFlagProvider.getValue("enableVerboseAnalytics") ? h.Logger.log("Analytic " + t.getEventName() + " cannot be serialized. eventData:\n" + JSON.stringify(t), h.LogLevel.Warning) : h.Logger.log("Analytic " + t.getEventName() + " cannot be serialized.", h.LogLevel.Warning)
						} else h.Logger.log("Analytic " + t.getEventName() + " is disabled. It will not be sent.", h.LogLevel.Warning);
						return [2, Promise.resolve(!1)]
					})
				})
			}, t.prototype.updateSessionState = function(t) {
				return s(this, void 0, void 0, function() {
					var e, i;
					return l(this, function(n) {
						return e = this.factoryContainer.get(t.getEventName() + "-v" + t.getSchemaVersion()), i = null, e && (i = e.serialize(t)), null !== i ? (!0 === this.featureFlagProvider.getValue("enableVerboseAnalytics") ? h.Logger.log("\n========= Updating session state =========\n" + JSON.stringify(i) + "\n========= Updating session state END =========", h.LogLevel.Verbose) : h.Logger.log("========= Updating session state =========", h.LogLevel.Verbose), this.socketInterface.emitEvent("trackCharacter", i), [2, Promise.resolve(!0)]) : (h.Logger.log("Analytic " + t.getEventName() + " cannot be serialized.", h.LogLevel.Warning), [2, Promise.resolve(!1)])
					})
				})
			}, t.prototype.sendLegacyV1Analytic = function(t) {
				return s(this, void 0, void 0, function() {
					var e, i, n;
					return l(this, function(a) {
						return this.featureFlagProvider.isEventEnabled(t) ? (e = this.loggedInPlayer.getPlayer(), i = e.isMember ? "true" : "false", e.data.isTrialMember && (i = "trial"), n = {
							name: t,
							details: {
								token: this.loggedInPlayer.getAuthToken(),
								member: i
							},
							user: {
								userID: p(e, "userID", 0)
							},
							timestamp: (new Date).getTime()
						}, !0 === this.featureFlagProvider.getValue("enableVerboseAnalytics") ? h.Logger.log("\n========= Sending analyticV1: " + n.name + " =========\n" + JSON.stringify(n) + "\n========= Sending analytic END =========", h.LogLevel.Verbose) : h.Logger.log("========= Sending analyticV1: " + n.name + " =========", h.LogLevel.Verbose), this.socketInterface.emitEvent("gameEvents", {
							events: [n]
						}), [2, Promise.resolve(!0)]) : (h.Logger.log("AnalyticV1 " + t + " is disabled. It will not be sent.", h.LogLevel.Warning), [2, Promise.resolve(!1)])
					})
				})
			}, t.prototype.sendLegacyAnalytic = function(t, e, i) {
				return void 0 === e && (e = null), void 0 === i && (i = !0), s(this, void 0, void 0, function() {
					var a, o, r, s;
					return l(this, function(l) {
						return this.featureFlagProvider.isEventEnabled(t) ? (a = this.loggedInPlayer.getPlayer(), o = {
							name: t,
							user: {
								userID: p(a, "userID", 0)
							},
							details: n({}, e),
							device: {
								width: this.deviceInfoProvider.getScreenWidth(),
								height: this.deviceInfoProvider.getScreenHeight(),
								os: this.deviceInfoProvider.getPlatformName()
							}
						}, i && (r = a.isMember ? "true" : "false", a.data.isTrialMember && (r = "trial"), o.details = n({}, o.details, {
							user_id: o.user.userID,
							timestamp: f.Util.isValid(e.timestamp) ? e.timestamp : (new Date).getTime(),
							level: a.data.level,
							grade: p(a, "grade", 0),
							location: p(a, "locationSelectionType", ""),
							gold: a.data.gold,
							token: this.loggedInPlayer.getAuthToken(),
							is_member: r,
							curriculumTreeID: p(a, "curriculumTreeID", 0),
							platform: ""
						}), f.Util.isValid(a.data.zone) && (s = a.data.zone.split("-"), o.details.zone = f.Util.isValid(s[0]) ? s[0] : "", o.details.map = f.Util.isValid(s[1]) ? s[1] : "")), !0 === this.featureFlagProvider.getValue("enableVerboseAnalytics") ? h.Logger.log("\n========= Sending analytic: " + o.name + " =========\n" + JSON.stringify(o) + "\n========= Sending analytic END =========", h.LogLevel.Verbose) : h.Logger.log("========= Sending analytic: " + o.name + " =========", h.LogLevel.Verbose), this.socketInterface.emitEvent("gameEvents", {
							events: [o]
						}), [2, Promise.resolve(!0)]) : (h.Logger.log("Analytic " + t + " is disabled. It will not be sent.", h.LogLevel.Warning), [2, Promise.resolve(!1)])
					})
				})
			}, t = a([u.injectable(), r(0, u.inject(d.EProdigyInjectionIdentifiers.LoggedInPlayer)), r(1, u.inject(d.EProdigyInjectionIdentifiers.FeatureFlagProvider)), r(2, u.inject(d.EProdigyInjectionIdentifiers.DeviceInfo)), r(3, u.inject(d.EProdigyInjectionIdentifiers.SocketService)), r(4, u.inject(d.EProdigyInjectionIdentifiers.URLProvider)), o("design:paramtypes", [g.LoggedInPlayerDataProvider, Object, Object, Object, y.URLProvider])], t)
		}();
	e.AuthenticatedAnalyticsService = m
}, function(t, e, i) {
	var n = i(123),
		a = i(129);
	t.exports = function(t) {
		return n(a(t))
	}
}, function(t, e, i) {
	var n = i(128),
		a = i(123);
	t.exports = function(t) {
		return a(n(t))
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(4),
		o = i(161),
		r = function() {
			function t(t) {
				this.lockedZones = ["lamplight", "house", "dyno"], this.lockedMaps = [], this.game = t
			}
			return t.prototype.setClassMode = function() {
				this.isClassMode() && this.game.prodigy.player.setAllowsHouseVisitors(!1)
			}, t.prototype.isClassMode = function() {
				return this.game.prodigy.player.locationSelectionType === a.GameConstants.get("GameConstants.LocationSelection.SCHOOL")
			}, t.prototype.getInClassDisabledZones = function() {
				return this.isClassMode() ? ["WORLD_DYNO_DIG_OASIS", "WORLD_LAMPLIGHT_TOWN", "WORLD_YOUR_HOUSE"] : []
			}, t.prototype.isLockedZone = function(t) {
				for (var e = t.split("-"), i = 0; i < this.lockedZones.length; i++)
					if (e[0] === this.lockedZones[i]) return !0;
				for (i = 0; i < this.lockedMaps.length; i++)
					if (t === this.lockedMaps[i]) return !0;
				return !1
			}, t.prototype.onClassMode = function(t) {
				var e = t.split("-"),
					i = o.WorldMap.getZoneData(e[0]);
				this.game.prodigy.open.classModeMessage(this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText(i.classCodeKey), null, null, this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText(i.nameKey), i.classModeFrame, {
					isModal: !0
				})
			}, t
		}();
	e.ClassModeController = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return n(e, t), e.prototype.init = function(e) {
			t.prototype.init.call(this, e), this.name = e.name
		}, e.prototype.getName = function() {
			return this.name
		}, e.prototype.setName = function(t) {
			this.name = t
		}, e
	}(i(196).CharacterAppearance);
	e.WizardAppearance = a
}, function(t, e) {
	t.exports = function(t, e) {
		for (var i, n = -1, a = t.length; ++n < a;) {
			var o = e(t[n]);
			void 0 !== o && (i = void 0 === i ? o : i + o)
		}
		return i
	}
}, function(t, e, i) {
	var n = i(54),
		a = i(872);
	t.exports = function(t, e) {
		return t && t.length ? a(t, n(e, 2)) : 0
	}
}, function(t, e, i) {
	var n = i(83),
		a = i(280),
		o = i(104),
		r = a(function(t, e) {
			n(e, o(e), t)
		});
	t.exports = r
}, function(t, e, i) {
	t.exports = i(874)
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(0),
		o = function() {
			function t(t) {
				this.game = null, this.receivedEvents = {}, this.automationTriggers = [], this.game = t
			}
			return t.prototype.startListen = function(t, e) {
				var i = this;
				void 0 === e && (e = !1);
				this.game.broadcaster.addAppListener(t, function() {
					for (var n = [], a = 0; a < arguments.length; a++) n[a] = arguments[a];
					i.receivedEvents[t] = n, e && i.stopListen(t)
				}, this)
			}, t.prototype.retrieveOccurrence = function(t) {
				var e = this.receivedEvents[t];
				return a.Util.isValid(e) ? e : null
			}, t.prototype.removeOccurrence = function(t) {
				return !!this.receivedEvents.hasOwnProperty(t) && (delete this.receivedEvents[t], !0)
			}, t.prototype.stopListen = function(t) {
				this.game.broadcaster.removeAppListener(t, this)
			}, t.prototype.addTrigger = function(t) {
				a.Util.isValid(t.context) || (t.context = this.game), t.ID = t.ID.toLowerCase().replace(/[^\w\s-]/gi, "").replace(" ", "-");
				for (var e = t.ID, i = 1, n = !0; n;) {
					for (var o = !0, r = 0; r < this.automationTriggers.length; r++) {
						if (this.automationTriggers[r].ID === e) {
							o = !1;
							break
						}
					}
					o ? (t.ID = e, n = !1) : (e = t.ID + "_" + i, i++)
				}
				this.automationTriggers.unshift(t)
			}, t.prototype.trigger = function(t, e) {
				var i, o = this.automationTriggers.slice(),
					r = null;
				if (a.Util.isValid(t)) {
					for (i = 0; i < o.length; i++)
						if ((r = o[i]).ID === t && a.Util.isValid(r.callback)) return r.callback(e)
				} else
					for (i = 0; i < o.length; i++) n.Logger.log("[" + o[i].ID + "]", n.LogLevel.Verbose);
				return null
			}, t.prototype.removeTrigger = function(t, e) {
				var i = e;
				a.Util.isValid(e) || (i = this.game);
				for (var n = 0; n < this.automationTriggers.length; n++) {
					var o = this.automationTriggers[n];
					o.ID === t && o.context === i && (this.automationTriggers.splice(n, 1), n--)
				}
			}, t.prototype.removeAllTriggers = function(t) {
				var e = t;
				a.Util.isValid(t) || (e = this.game);
				for (var i = 0; i < this.automationTriggers.length; i++) {
					this.automationTriggers[i].context === e && (this.automationTriggers.splice(i, 1), i--)
				}
			}, t
		}();
	e.AutomationController = o
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(2),
		a = i(23),
		o = i(0),
		r = function() {
			function t(t) {
				this.game = null, this.currentBgm = null, this.currentVoice = null, this.game = t;
				var e = null,
					i = null;
				void 0 !== document.hidden ? (e = "hidden", i = "visibilitychange") : void 0 !== document.msHidden ? (e = "msHidden", i = "msvisibilitychange") : void 0 !== document.webkitHidden ? (e = "webkitHidden", i = "webkitvisibilitychange") : void 0 !== document.mozHidden && (e = "mozHidden", i = "mozvisibilitychange"), null !== e && document.addEventListener(i, this.onVisibilityChanged.bind(this, e))
			}
			return t.prototype.clearOldSounds = function() {
				for (var t = this.game.sound._sounds.length - 1; t >= 0;) this.game.sound._sounds[t].isPlaying || this.game.sound._sounds.splice(t, 1), t--
			}, t.prototype.setMute = function(t) {
				t ? (this.setSFXVolume(0), this.setBGMVolume(0)) : (this.setSFXVolume(.6), this.setBGMVolume(.2))
			}, t.prototype.playSFX = function(t, e, i, a) {
				void 0 === i && (i = null), void 0 === a && (a = 1), this.clearOldSounds();
				var r = n.Items.getItem("sfx", t).data.clips[e],
					s = this.getSFXVolume() * a,
					l = this.game.sound.add("sfx-" + t, s);
				return o.Util.isValid(i) && l.onMarkerComplete.add(i), l.addMarker("play", r.s, r.d), l.play("play", 0, s), l
			}, t.prototype.playSound = function(t, e) {
				void 0 === e && (e = !1);
				var i = a.Device.getIOSVersion();
				this.clearOldSounds();
				var n = this.getSFXVolume(),
					o = this.game.add.sound("sfx-" + t, n);
				return o.play("", 0, n, e && (null === i || i > 9)), o
			}, t.prototype.playSFXOld = function(t, e, i) {
				this.clearOldSounds();
				var n = this.getSFXVolume(),
					a = {
						ui: {
							whoosh: {
								s: 0,
								d: 1
							},
							blop: {
								s: 1,
								d: 1
							},
							heart: {
								s: 2,
								d: 1
							},
							pop: {
								s: 3,
								d: 1
							},
							dig: {
								s: 4,
								d: 1
							}
						},
						world: {
							item: {
								s: 0,
								d: 3
							},
							monster: {
								s: 3,
								d: 3
							},
							tick: {
								s: 6,
								d: 1
							}
						},
						"dance-dance": {
							bell: {
								s: 0,
								d: 1
							},
							ready: {
								s: 1,
								d: 1
							},
							go: {
								s: 2,
								d: 1.2
							},
							victory: {
								s: 3.2,
								d: 1.8
							},
							aw: {
								s: 5,
								d: 1
							},
							yay: {
								s: 6,
								d: 1
							},
							damage: {
								s: 7,
								d: 1
							}
						},
						"dino-dig": {
							bell: {
								s: 0,
								d: 1
							}
						},
						skywatch: {
							machines: {
								s: 0,
								d: 4
							},
							elevator: {
								s: 4,
								d: 3.5
							},
							wind: {
								s: 8,
								d: 3
							},
							window: {
								s: 11,
								d: 2
							}
						},
						"bonfire-spire-q5": {
							plop: {
								s: 0,
								d: .5
							},
							cooking: {
								s: 1,
								d: 3
							}
						},
						"bonfire-spire-q6-and-q14": {
							eating: {
								s: 0,
								d: 3
							}
						},
						"atlas-17": {
							run: {
								s: 0,
								d: 1
							},
							"normal-hit": {
								s: 1,
								d: .9
							},
							"critical-hit": {
								s: 2,
								d: 1.9
							},
							cast: {
								s: 4,
								d: 1
							},
							miss: {
								s: 6,
								d: 1.5
							},
							"level-up": {
								s: 8,
								d: 1
							}
						},
						pvp: {
							victory: {
								s: 0,
								d: 2
							}
						},
						"house-intro": {
							door: {
								s: 0,
								d: 1
							},
							knock: {
								s: 1,
								d: 1
							}
						},
						lamplight: {
							door: {
								s: 0,
								d: 1
							}
						},
						"lamplight-pets": {
							window: {
								s: 0,
								d: 2
							}
						},
						"shipwreck-shore": {
							"boss-monster": {
								s: 0,
								d: 2.8
							},
							"clear-ink": {
								s: 3,
								d: 2.8
							},
							squeak: {
								s: 6,
								d: .8
							},
							camera: {
								s: 7,
								d: 2
							}
						},
						titan: {
							cloud: {
								s: 0,
								d: 3
							}
						}
					} [t][e],
					r = this.game.sound.add("sfx-" + t, n);
				return o.Util.isValid(i) && r.onMarkerComplete.add(i), r.addMarker("play", a.s, a.d), r.play("play", 0, n), r
			}, t.prototype.setSFXVolume = function(t) {
				this.game.prodigy.player.setSFXVolume(t)
			}, t.prototype.getSFXVolume = function() {
				return this.game.prodigy.player.getSettings().sfxVolume
			}, t.prototype.playBGM = function(t, e) {
				var i = a.Device.getIOSVersion();
				if (null === i || i > 9) {
					var n = "bgm-" + t;
					if (!o.Util.isValid(this.currentBgm) || this.currentBgm.key !== n) {
						var r = this.getBGMVolume();
						o.Util.isValid(this.currentBgm) && this.currentBgm.stop(), this.clearOldSounds(), this.currentBgm = this.game.add.audio(n, r, e), this.currentBgm.play("", 0, r, e)
					}
				}
			}, t.prototype.playBGMOld = function(t, e) {
				if (!o.Util.isValid(this.currentBgm) || this.currentBgm.key !== t) {
					var i = this.getBGMVolume();
					o.Util.isValid(this.currentBgm) && this.currentBgm.stop(), this.clearOldSounds(), this.currentBgm = this.game.add.audio(t, i, e), this.currentBgm.play("", 0, i, e)
				}
			}, t.prototype.pauseBGM = function() {
				o.Util.isValid(this.currentBgm) && this.currentBgm.pause()
			}, t.prototype.resumeBGM = function() {
				o.Util.isValid(this.currentBgm) && this.currentBgm.resume()
			}, t.prototype.setBGMVolume = function(t, e) {
				void 0 === e && (e = !1), o.Util.isValid(this.currentBgm) && (e ? this.game.add.tween(this.currentBgm).to({
					volume: t
				}, 500, Phaser.Easing.Linear.None).start() : this.currentBgm.volume = t), this.game.prodigy.player.setBGMVolume(t)
			}, t.prototype.getBGMVolume = function() {
				return this.game.prodigy.player.getSettings().bgmVolume
			}, t.prototype.playVoice = function(t, e, i, n) {
				void 0 === i && (i = 0), void 0 === n && (n = -1), this.clearOldSounds(), o.Util.isValid(this.currentVoice) && this.currentVoice.stop();
				var a = this.getVoiceVolume(),
					r = this.game.add.sound(t, a);
				o.Util.isValid(e) && r.onMarkerComplete.add(e);
				var s = -1 !== n ? n : r.duration;
				return r.addMarker("play", i, s), r.play("play", 0, a), this.currentVoice = r, r
			}, t.prototype.stopVoice = function() {
				o.Util.isValid(this.currentVoice) && (this.currentVoice.stop(), this.currentVoice = null)
			}, t.prototype.setVoiceVolume = function(t) {
				this.game.prodigy.player.setVoiceVolume(t)
			}, t.prototype.getVoiceVolume = function() {
				return this.game.prodigy.player.getSettings().voiceVolume
			}, t.prototype.onVisibilityChanged = function(t) {
				(a.Device.isIOS() || a.Device.isAndroid()) && (document[t] ? (this.pauseBGM(), this.currentVoice && this.currentVoice.pause()) : (this.resumeBGM(), this.currentVoice && this.currentVoice.resume()))
			}, t
		}();
	e.AudioController = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(6),
		o = i(4),
		r = i(0),
		s = function() {
			function t(t) {
				this.game = null, this.game = t
			}
			return t.prototype.getData = function(t) {
				var e = this,
					i = this.game.prodigy.player,
					a = i.backpack,
					o = i.kennel,
					s = i.house,
					l = i.state,
					c = this.game.prodigy.education,
					h = this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService),
					u = [{
						tag: h.getText("ACHIEVEMENT_GROUP_GENERAL"),
						data: [{
							ID: 1,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_NEWBIE_NAME"),
								desc: h.getText("ACHIEVEMENT_NEWBIE_DESC"),
								valueFunction: i.hasCompletedTutorial.bind(i),
								ranks: [1]
							},
							metatype: "achievement",
							metadata: {
								icon: "icon-weapon-1"
							}
						}, {
							ID: 2,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_COIN_COLLECT_NAME"),
								desc: h.getText("ACHIEVEMENT_COIN_COLLECT_DESC"),
								valueFunction: this.processValue.bind(this, "gE"),
								ranks: [1e3, 1e5, 1e6]
							},
							metatype: "achievement",
							metadata: {
								icon: "icon-item-26"
							}
						}, {
							ID: 3,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_SHOPAHOLIC_NAME"),
								desc: h.getText("ACHIEVEMENT_SHOPAHOLIC_DESC"),
								valueFunction: this.processValue.bind(this, "gS"),
								ranks: [1e3, 1e5, 1e6]
							},
							metatype: "achievement",
							metadata: {
								icon: "catalogue"
							}
						}, {
							ID: 4,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_RUNWAY_MODEL_NAME"),
								desc: h.getText("ACHIEVEMENT_RUNWAY_MODEL_DESC"),
								valueFunction: a.getItemCount.bind(a, ["outfit", "boots", "hat", "weapon", "relic"]),
								ranks: [10, 50, 100]
							},
							metatype: "achievement",
							metadata: {
								icon: "icon-outfit-1"
							}
						}, {
							ID: 5,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_PACKRAT_NAME"),
								desc: h.getText("ACHIEVEMENT_PACKRAT_DESC"),
								valueFunction: a.getItemCount.bind(a, ["item"]),
								ranks: [10, 25, 50]
							},
							metatype: "achievement",
							metadata: {
								icon: "icon-item-2"
							}
						}, {
							ID: 6,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_ANTIQUARIAN_NAME"),
								desc: h.getText("ACHIEVEMENT_ANTIQUARIAN_DESC"),
								valueFunction: s.getItemCount.bind(s),
								ranks: [10, 25, 50]
							},
							metatype: "achievement",
							metadata: {
								icon: 1,
								iconAtlas: "atlas-23"
							}
						}, {
							ID: 7,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_DECORATOR_NAME"),
								desc: h.getText("ACHIEVEMENT_DECORATOR_DESC"),
								valueFunction: s.getActiveCount.bind(s),
								ranks: [10, 25, 50]
							},
							metatype: "achievement",
							metadata: {
								icon: 5,
								iconAtlas: "atlas-23"
							}
						}, {
							ID: 8,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_CATCH_PET_NAME"),
								desc: h.getText("ACHIEVEMENT_CATCH_PET_DESC"),
								valueFunction: o.getNumPets.bind(o),
								ranks: [5, 20, 50, 100]
							},
							metadata: {
								icon: "pet"
							}
						}]
					}, {
						tag: h.getText("ACHIEVEMENT_GROUP_BATTLE"),
						data: [{
							ID: 9,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_PRODIGY_NAME"),
								desc: h.getText("ACHIEVEMENT_PRODIGY_DESC"),
								valueFunction: i.getLevel.bind(i),
								ranks: [5, 20, 50, 75, 100]
							},
							metadata: {
								icon: "star2"
							}
						}, {
							ID: 42,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_SPELLMASTER_NAME"),
								desc: h.getText("ACHIEVEMENT_SPELLMASTER_DESC"),
								valueFunction: i.getNumRelics.bind(i),
								ranks: [3, 6, 10, 15]
							},
							metadata: {
								icon: "book"
							}
						}, {
							ID: 11,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_MONSTER_HUNTER_NAME"),
								desc: h.getText("ACHIEVEMENT_MONSTER_HUNTER_DESC"),
								valueFunction: this.processValue.bind(this, "kills"),
								ranks: [10, 50, 250, 500, 1e3]
							},
							metadata: {
								icon: "boss"
							}
						}]
					}, {
						tag: h.getText("ACHIEVEMENT_GROUP_PVP"),
						data: [{
							ID: 12,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_CHALLENGER_NAME"),
								desc: h.getText("ACHIEVEMENT_CHALLENGER_DESC"),
								valueFunction: i.getWins.bind(i),
								ranks: [5, 25, 50, 100, 250]
							},
							metadata: {
								icon: "icon-weapon-4"
							}
						}, {
							ID: 13,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_CHAMP_NAME"),
								desc: h.getText("ACHIEVEMENT_CHAMP_DESC"),
								valueFunction: i.getArenaPoints.bind(i),
								ranks: [1e3, 3e3, 8e3, 15e3]
							},
							metadata: {
								icon: "icon-weapon-6"
							}
						}]
					}, {
						tag: h.getText("ACHIEVEMENT_GROUP_FIREFLY"),
						data: [{
							ID: 15,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_FOREST_QUESTS_NAME"),
								desc: h.getText("ACHIEVEMENT_FOREST_QUESTS_DESC"),
								valueFunction: l.getCompletedQuests.bind(l, "forest"),
								ranks: [12]
							},
							metadata: {
								icon: "icon-key-3"
							}
						}, {
							ID: 16,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_FOREST_SET_NAME"),
								desc: h.getText("ACHIEVEMENT_FOREST_SET_DESC"),
								valueFunction: a.hasItems.bind(a, [{
									ID: 33,
									type: "hat"
								}, {
									ID: 24,
									type: "weapon"
								}, {
									ID: 29,
									type: "outfit"
								}]),
								ranks: [3]
							},
							metadata: {
								icon: "icon-outfit-29"
							}
						}, {
							ID: 17,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_FOREST_CHESTS_NAME"),
								desc: h.getText("ACHIEVEMENT_FOREST_CHESTS_DESC"),
								valueFunction: l.getZoneVars.bind(l, this.game, "forest", "chest"),
								ranks: [4]
							},
							metadata: {
								icon: 21,
								iconAtlas: "atlas-23"
							}
						}, {
							ID: 18,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_FOREST_DEFEAT_WIZARDS_NAME"),
								desc: h.getText("ACHIEVEMENT_FOREST_DEFEAT_WIZARDS_DESC"),
								valueFunction: l.getZoneVars.bind(l, this.game, "forest", "wizard"),
								ranks: [4]
							},
							metadata: {
								icon: "icon-weapon-22"
							}
						}]
					}, {
						tag: h.getText("ACHIEVEMENT_GROUP_SHIVERCHILL"),
						data: [{
							ID: 19,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_SHIVERCHILL_QUESTS_NAME"),
								desc: h.getText("ACHIEVEMENT_SHIVERCHILL_QUESTS_DESC"),
								valueFunction: l.getCompletedQuests.bind(l, "shiverchill"),
								ranks: [15]
							},
							metadata: {
								icon: "icon-key-4"
							}
						}, {
							ID: 20,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_SHIVERCHILL_SET_NAME"),
								desc: h.getText("ACHIEVEMENT_SHIVERCHILL_SET_DESC"),
								valueFunction: a.hasItems.bind(a, [{
									ID: 37,
									type: "hat"
								}, {
									ID: 63,
									type: "weapon"
								}, {
									ID: 33,
									type: "outfit"
								}]),
								ranks: [3]
							},
							metadata: {
								icon: "icon-outfit-33"
							}
						}, {
							ID: 21,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_SHIVERCHILL_CHESTS_NAME"),
								desc: h.getText("ACHIEVEMENT_SHIVERCHILL_CHESTS_DESC"),
								valueFunction: l.getZoneVars.bind(l, this.game, "shiverchill", "chest"),
								ranks: [6]
							},
							metadata: {
								icon: 21,
								iconAtlas: "atlas-23"
							}
						}, {
							ID: 22,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_SHIVERCHILL_DEFEAT_WIZARDS_NAME"),
								desc: h.getText("ACHIEVEMENT_SHIVERCHILL_DEFEAT_WIZARDS_DESC"),
								valueFunction: l.getZoneVars.bind(l, this.game, "shiverchill", "wizard"),
								ranks: [4]
							},
							metadata: {
								icon: "icon-weapon-22"
							}
						}, {
							ID: 23,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_TURN_UP_HEAT_NAME"),
								desc: h.getText("ACHIEVEMENT_TURN_UP_HEAT_DESC"),
								valueFunction: l.get.bind(l, "zone-shiverchill-9"),
								ranks: [4]
							},
							metadata: {
								icon: "icon-item-71"
							}
						}]
					}, {
						tag: h.getText("ACHIEVEMENT_GROUP_SKYWATCH"),
						data: [{
							ID: 24,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_SKYWATCH_QUESTS_NAME"),
								desc: h.getText("ACHIEVEMENT_SKYWATCH_QUESTS_DESC"),
								valueFunction: l.getCompletedQuests.bind(l, "skywatch"),
								ranks: [13]
							},
							metadata: {
								icon: "icon-key-10"
							}
						}, {
							ID: 25,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_SKYWATCH_SET_NAME"),
								desc: h.getText("ACHIEVEMENT_SKYWATCH_SET_DESC"),
								valueFunction: a.hasItems.bind(a, [{
									ID: 41,
									type: "hat"
								}, {
									ID: 67,
									type: "weapon"
								}, {
									ID: 37,
									type: "outfit"
								}]),
								ranks: [3]
							},
							metadata: {
								icon: "icon-outfit-37"
							}
						}, {
							ID: 26,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_SKYWATCH_CHESTS_NAME"),
								desc: h.getText("ACHIEVEMENT_SKYWATCH_CHESTS_DESC"),
								valueFunction: l.getZoneVars.bind(l, this.game, "skywatch", "chest"),
								ranks: [5]
							},
							metadata: {
								icon: 21,
								iconAtlas: "atlas-23"
							}
						}, {
							ID: 27,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_SKYWATCH_DEFEAT_WIZARDS_NAME"),
								desc: h.getText("ACHIEVEMENT_SKYWATCH_DEFEAT_WIZARDS_DESC"),
								valueFunction: l.getZoneVars.bind(l, this.game, "skywatch", "wizard"),
								ranks: [2]
							},
							metadata: {
								icon: "icon-weapon-22"
							}
						}]
					}, {
						tag: h.getText("ACHIEVEMENT_GROUP_BONFIRE"),
						data: [{
							ID: 33,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_BONFIRE_QUESTS_NAME"),
								desc: h.getText("ACHIEVEMENT_BONFIRE_QUESTS_DESC"),
								valueFunction: l.getCompletedQuests.bind(l, "bonfire_spire"),
								ranks: [14]
							},
							metadata: {
								icon: "icon-key-11"
							}
						}, {
							ID: 34,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_BONFIRE_SET_NAME"),
								desc: h.getText("ACHIEVEMENT_BONFIRE_SET_DESC"),
								valueFunction: a.hasItems.bind(a, [{
									ID: 38,
									type: "hat"
								}, {
									ID: 64,
									type: "weapon"
								}, {
									ID: 34,
									type: "outfit"
								}]),
								ranks: [3]
							},
							metadata: {
								icon: "icon-outfit-34"
							}
						}, {
							ID: 35,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_BONFIRE_CHESTS_NAME"),
								desc: h.getText("ACHIEVEMENT_BONFIRE_CHESTS_DESC"),
								valueFunction: l.getZoneVars.bind(l, this.game, "bonfire_spire", "chest"),
								ranks: [7]
							},
							metadata: {
								icon: 21,
								iconAtlas: "atlas-23"
							}
						}, {
							ID: 36,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_BONFIRE_DEFEAT_WIZARDS_NAME"),
								desc: h.getText("ACHIEVEMENT_BONFIRE_DEFEAT_WIZARDS_DESC"),
								valueFunction: l.getZoneVars.bind(l, this.game, "bonfire_spire", "wizard"),
								ranks: [2]
							},
							metadata: {
								icon: "icon-weapon-22"
							}
						}]
					}, {
						tag: h.getText("ACHIEVEMENT_GROUP_SHIPWRECK"),
						data: [{
							ID: 37,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_SHIPWRECK_QUESTS_NAME"),
								desc: h.getText("ACHIEVEMENT_SHIPWRECK_QUESTS_DESC"),
								valueFunction: l.getCompletedQuests.bind(l, "shipwreck_shore"),
								ranks: [11]
							},
							metadata: {
								icon: "icon-key-17"
							}
						}, {
							ID: 38,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_SHIPWRECK_SET_NAME"),
								desc: h.getText("ACHIEVEMENT_SHIPWRECK_SET_DESC"),
								valueFunction: a.hasItems.bind(a, [{
									ID: 76,
									type: "hat"
								}, {
									ID: 57,
									type: "outfit"
								}, {
									ID: 29,
									type: "boots"
								}]),
								ranks: [3]
							},
							metadata: {
								icon: "icon-outfit-57"
							}
						}, {
							ID: 39,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_SHIPWRECK_CHESTS_NAME"),
								desc: h.getText("ACHIEVEMENT_SHIPWRECK_CHESTS_DESC"),
								valueFunction: function() {
									return e.game.prodigy.world.getZone("shipwreck_shore").getCompletedStatesCount(["chestA3", "chestA5", "chestB5", "chestB13", "chestB10"])
								},
								ranks: [5]
							},
							metadata: {
								icon: 21,
								iconAtlas: "atlas-23"
							}
						}, {
							ID: 40,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_SHIPWRECK_DEFEAT_WIZARDS_NAME"),
								desc: h.getText("ACHIEVEMENT_SHIPWRECK_DEFEAT_WIZARDS_DESC"),
								valueFunction: function() {
									return e.game.prodigy.world.getZone("shipwreck_shore").getCompletedStatesCount(["wizardC8", "wizardA5"])
								},
								ranks: [2]
							},
							metadata: {
								icon: "icon-weapon-22"
							}
						}, {
							ID: 41,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_SHIPWRECK_CLEAR_INK_NAME"),
								desc: h.getText("ACHIEVEMENT_SHIPWRECK_CLEAR_INK_DESC"),
								valueFunction: function() {
									return e.game.prodigy.world.getZone("shipwreck_shore").getCompletedStatesCount(["inkA5", "inkB5", "inkB6", "inkA7", "inkB7", "inkC9"])
								},
								ranks: [6]
							},
							metadata: {
								icon: "icon-item-112"
							}
						}]
					}, {
						tag: h.getText("ACHIEVEMENT_GROUP_EDUCATION"),
						data: [{
							ID: 28,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_QUESTIONNAIRE_NAME"),
								desc: h.getText("ACHIEVEMENT_QUESTIONNAIRE_DESC"),
								valueFunction: this.processValue.bind(this, "qC"),
								ranks: [20, 100, 500, 1e3]
							},
							metadata: {
								icon: "icon-hat-5"
							}
						}, {
							ID: 29,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_SEQUENCING_NAME"),
								desc: h.getText("ACHIEVEMENT_SEQUENCING_DESC"),
								valueFunction: i.getSpellStreak.bind(i),
								ranks: [3, 5, 10]
							},
							metadata: {
								icon: "icon-hat-4"
							}
						}, {
							ID: 30,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_MASTER_SKILLS_NAME"),
								desc: h.getText("ACHIEVEMENT_MASTER_SKILLS_DESC"),
								valueFunction: c.getMasteredSkills.bind(c),
								ranks: [5, 20, 50, 100]
							},
							metadata: {
								icon: "icon-hat-6"
							}
						}]
					}, {
						tag: h.getText("ACHIEVEMENT_GROUP_EXPLORATION"),
						data: [{
							ID: 31,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_TOWER_FLOORS_NAME"),
								desc: h.getText("ACHIEVEMENT_TOWER_FLOORS_DESC"),
								valueFunction: i.getTowerProgress.bind(i),
								ranks: [25, 50, 75, 100]
							},
							metadata: {
								icon: "icon-weapon-68"
							}
						}, {
							ID: 32,
							type: "achievement",
							data: {
								name: h.getText("ACHIEVEMENT_COLISEUM_DEFEAT_NAME"),
								desc: h.getText("ACHIEVEMENT_COLISEUM_DEFEAT_DESC"),
								valueFunction: i.getColiseum.bind(i),
								ranks: [5, 10, 15, 20]
							},
							metadata: {
								icon: "icon-weapon-62"
							}
						}]
					}];
				if (!r.Util.isValid(t)) return u;
				for (var p = 0; p < u.length; p++)
					for (var d = u[p], g = 0; g < d.data.length; g++)
						if (d.data[g].ID === t) return d.data[g]
			}, t.prototype.process = function() {
				if (o.default.get("GameConstants.Debug.DISABLE_ACHIEVEMENTS")) return [];
				for (var t = [], e = this.getData(), i = 0; i < e.length; i++)
					for (var n = e[i].data, r = 0; r < n.length; r++) {
						var s = n[r],
							l = this.game.prodigy.player.achievements.getProgress(s.ID);
						if (!(l >= s.data.ranks.length)) s.data.valueFunction() >= s.data.ranks[l] && (t.push(s), this.game.prodigy.gameContainer.get(a.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("achievement", s.data.name, s.ID, l).broadcast())
					}
				return t
			}, t.prototype.getZero = function() {
				return 0
			}, t.prototype.getCompletionText = function(t) {
				var e = this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService);
				return this.game.prodigy.player.achievements.getProgress(t.ID) >= t.data.ranks.length ? e.getText("ACHIEVEMENT_FINISHED") : this.getProgress(t) >= 1 ? e.getText("ACHIEVEMENT_COMPLETED") : this.getCurrent(t) + " / " + this.getTarget(t)
			}, t.prototype.getCurrent = function(t) {
				var e = t.data.valueFunction();
				return (!r.Util.isValid(e) || e < 0) && (e = 0), e
			}, t.prototype.getTarget = function(t) {
				var e = this.game.prodigy.player.achievements.getProgress(t.ID);
				return e >= t.data.ranks.length ? 0 : t.data.ranks[e]
			}, t.prototype.getProgress = function(t) {
				if (this.game.prodigy.player.achievements.getProgress(t.ID) >= t.data.ranks.length) return 1;
				var e = this.getCurrent(t),
					i = this.getTarget(t);
				return Math.min(1, e / i)
			}, t.prototype.getName = function(t) {
				return t.data.name
			}, t.prototype.getDesc = function(t) {
				var e = this.game.prodigy.player.achievements.getProgress(t.ID);
				e >= t.data.ranks.length && e--;
				var i = t.data.ranks[e];
				return r.Util.isValid(i) ? t.data.desc.replace("[X]", i.toString()) : "Nothing"
			}, t.prototype.processValue = function(t) {
				return this.game.prodigy.player.achievements.get(t)
			}, t
		}();
	e.AchievementController = s
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t(t) {
			this.game = null, this.duration = 1, this.game = t
		}
		return t.prototype.getDuration = function() {
			return this.duration
		}, t.prototype.setDuration = function(t) {
			this.duration = t
		}, t.prototype.tickDuration = function() {
			this.duration--
		}, t.prototype.init = function(t) {
			this.setDuration(t.duration)
		}, t.prototype.apply = function() {
			for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e]
		}, t
	}();
	e.StatusEffect = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e) {
			var i = t.call(this, e) || this;
			return i.blockedSpells = [], i.init({
				duration: 3
			}), i
		}
		return n(e, t), e
	}(i(879).StatusEffect);
	e.Ink = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(880),
		a = function() {
			function t() {}
			return t.prototype.getById = function(t) {
				switch (t) {
					case 0:
						return n.Ink;
					default:
						return null
				}
			}, t
		}();
	e.StatusEffectManager = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		a = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = i(9),
		s = i(199),
		l = i(187),
		c = i(0),
		h = function() {
			function t() {
				this.recording = !1, this.canRecord = !0, document.cookie = "sc.ASP.NET_SESSIONID=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;", c.Util.isValid(window.SessionCamRecorder) && (window.sessionCamRecorder = new SessionCamRecorder("https://ws.sessioncam.com/Record", "", 100))
			}
			return t.prototype.startRecording = function(t) {
				void 0 === t && (t = null), s(window.sessionCamRecorder) ? o.Logger.log("Called start but Session cam is not loaded", o.LogLevel.Warning) : this.canRecord ? this.recording ? o.Logger.log("Called start recording while already recording the session", o.LogLevel.Warning) : (o.Logger.log("Starting SessionCam recording", o.LogLevel.Verbose), null !== t && this.tagRecording(t), window.sessionCamRecorder.start(), this.recording = !0) : o.Logger.log("Recording is currently disabled", o.LogLevel.Warning)
			}, t.prototype.stopRecording = function() {
				this.recording ? (o.Logger.log("Ending SessionCam recording", o.LogLevel.Verbose), this.recording = !1, window.sessionCamRecorder.endSession()) : o.Logger.log("Called end session without a session running", o.LogLevel.Warning)
			}, t.prototype.isRecording = function() {
				return this.recording
			}, t.prototype.tagRecording = function(t) {
				window.sessioncamConfiguration || (window.sessioncamConfiguration = {}), window.sessioncamConfiguration.customDataObjects ? l(window.sessioncamConfiguration.customDataObjects, function(t) {
					return "campaign-tag" === t.key
				}) : window.sessioncamConfiguration.customDataObjects = [], window.sessioncamConfiguration.customDataObjects.push({
					key: "campaign-tag",
					value: t
				})
			}, t.prototype.setAllowRecording = function(t) {
				void 0 === t && (t = !0), this.canRecord = t
			}, t = n([r.injectable(), a("design:paramtypes", [])], t)
		}();
	e.SessionCamSessionRecorder = h
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(26),
		a = i(86),
		o = i(1),
		r = i(9),
		s = i(11),
		l = i(281),
		c = i(59),
		h = i(882),
		u = i(881),
		p = i(6),
		d = i(4),
		g = i(878),
		f = i(877),
		y = i(876),
		m = i(163),
		_ = i(870),
		v = i(777),
		E = i(776),
		b = i(775),
		O = i(774),
		I = i(69),
		T = i(773),
		A = i(772),
		C = i(256),
		S = i(164),
		w = i(764),
		D = i(763),
		P = i(5),
		L = i(762),
		x = i(736),
		M = i(124),
		U = i(734),
		N = i(732),
		R = i(731),
		k = i(279),
		B = i(729),
		G = i(728),
		V = i(727),
		F = i(726),
		j = i(725),
		H = i(724),
		z = i(723),
		W = i(722),
		K = i(721),
		Y = i(720),
		q = i(719),
		Q = i(718),
		X = i(717),
		Z = i(716),
		J = i(715),
		$ = i(714),
		tt = i(713),
		et = i(709),
		it = i(708),
		nt = i(707),
		at = i(248),
		ot = i(272),
		rt = i(255),
		st = i(154),
		lt = i(70),
		ct = i(254),
		ht = i(165),
		ut = i(705),
		pt = i(439),
		dt = i(438),
		gt = i(437),
		ft = i(434),
		yt = i(240),
		mt = i(433),
		_t = i(23),
		vt = i(432),
		Et = i(431),
		bt = i(0),
		Ot = i(166),
		It = i(430),
		Tt = i(429),
		At = function() {
			function t(t) {
				var e = this;
				this.version = null, this.gameContainer = null, this.game = null, this.player = null, this.user = null, this.breadcrumbManager = null, this.updateCount = 0, this.assets = null, this.load = null, this.graphics = null, this.audio = null, this.mail = null, this.giftBoxController = null, this.battle = null, this.pvp = null, this.achievements = null, this.surveyController = null, this.colorReplaceController = null, this.automation = null, this.notifications = null, this.open = null, this.effects = null, this.event = null, this.eventBroadcaster = null, this.dialogue = null, this.education = null, this.skin = null, this.create = null, this.icon = null, this.animation = null, this.giftBoxNetworkHandler = null, this.mailNetworkHandler = null, this.friendsListNetworkHandler = null, this.titansNetworkHandler = null, this.pvpNetworkHandler = null, this.messageListener = null, this.world = null, this.dialogues = null, this.hints = null, this.debugMisc = null, this.debugQuests = null, this.totalElapsedTime = 0, this.elapsedTimeBuffer = [], this.frameBufferMaxSize = 60, this.previousNow = 0, this.textureBelow = null, this.textureAbove = null, this.textureMenu = null, this.spinner = null, this.timeManager = null, this.game = t, t.prodigy = this, this.version = "version " + d.GameConstants.get("GameConstants.Build.VERSION"), this.initializeInjectionContainer(), this.game = t, o.Logger.setColoredLogsEnabled(!t.device.ie), o.Logger.setLogLevel(d.GameConstants.get("GameConstants.Build.FRAMEWORK_LOG_LEVEL")), this.timeManager = this.gameContainer.get(p.EProdigyInjectionIdentifiers.TimeManager), this.game.versioned = window.location.href.indexOf("feature") > -1 || window.location.href.indexOf("release") > -1, this.game.clientVersion = this.game.versioned ? null : bt.Util.validateVersion(d.GameConstants.get("GameConstants.Build.VERSION")), this.player = new ot.ActivePlayer(this.game), this.breadcrumbManager = this.gameContainer.get(dt.BreadcrumbManager), this.breadcrumbManager.init(this.player.state, new gt.GameBreadcrumbConfig), this.assets = new et.Assets(this.gameContainer), this.load = new Et.Loader(t), this.graphics = new b.GraphicsController(t), this.audio = new f.AudioController(t), this.mail = new O.MailController(t), this.giftBoxController = new E.GiftBoxController(t), this.battle = new m.BattleController(t), this.pvp = new T.PVPController(t), this.achievements = new g.AchievementController(t), this.surveyController = new A.SurveyController(t), this.colorReplaceController = new v.ColorReplaceController(t), this.automation = new y.AutomationController(t), this.notifications = new I.NotificationController(t), this.classModeController = new _.ClassModeController(t), this.open = new k.MenuFactory(t), this.effects = new M.EffectFactory(t), this.event = new U.EventFactory(t), this.dialogue = new x.DialogueFactory(t), this.education = new N.ExternalFactory(t), this.skin = new tt.SkinManager(t), this.create = new L.AdvGameObjectFactory(t), this.icon = new R.IconFactory(t), this.animation = new vt.GenAnimation(t), this.chat = this.gameContainer.resolve(ft.ChatManager), this.network = new lt.NetworkManager(t, this.gameContainer, this.timeManager), this.bounty = new pt.BountyManager(t), this.attacks = new it.Attacks, this.statusEffects = new u.StatusEffectManager, this.giftBoxNetworkHandler = new X.GiftBoxNetworkHandler(t), this.mailNetworkHandler = new Z.MailerNetworkHandler(t), this.friendsListNetworkHandler = new Q.FriendsListNetworkHandler(t), this.titansNetworkHandler = new $.TitansNetworkHandler(t), this.pvpNetworkHandler = new J.PVPNetworkHandler(t), this.messageListener = new q.MessageListener, this.world = new ut.World(t), this.dialogues = new nt.Dialogues(t), this.hints = new at.Hints, this.game.broadcaster.addAppListener(P.EGameObjEvents.PlayerInitialized, function() {
					e.initializeBreadcrumbs()
				}, this, null);
				var i = function(t) {
					try {
						e.game.broadcaster.broadcast(P.EWebEvents.POST_MESSAGE_RECEIVED, e.game, [t.origin, JSON.parse(t.data)])
					} catch (t) {}
				};
				_t.Device.isNativeApp() ? document.addEventListener("message", i) : window.addEventListener("message", i), this.debugMisc = new yt.DebugMisc, this.debugQuests = new mt.DebugQuests, o.Logger.log(this.version, o.LogLevel.Verbose)
			}
			return t.prototype.init = function() {
				this.textureBelow = this.game.add.renderTexture(1280, 720), this.textureAbove = this.game.add.renderTexture(1280, 720), this.textureMenu = this.game.add.renderTexture(1280, 720), this.previousNow = this.game.time.now
			}, t.prototype.update = function() {
				this.updateCount++, this.game.broadcaster.broadcast(P.EGameObjEvents.Update, this.game, null);
				var t = this.game.time.now,
					e = t - this.previousNow;
				if (this.previousNow = t, this.totalElapsedTime += e, this.elapsedTimeBuffer.push(e), this.elapsedTimeBuffer.length > this.frameBufferMaxSize)
					for (var i = this.elapsedTimeBuffer.splice(0, this.elapsedTimeBuffer.length - this.frameBufferMaxSize), n = i.length - 1; n >= 0; --n) this.totalElapsedTime -= i[n]
			}, t.prototype.cleanup = function() {
				this.mail.cleanup(), this.open.cleanup(), this.messageListener.clear(), this.game.broadcaster.clear()
			}, t.prototype.start = function(t, e, i) {
				void 0 === e && (e = {}), void 0 === i && (i = null), e.target = t, e.assets = s(e, "assets", []), e.assets = e.assets.concat(this.game.state.states[t].assets), this.game.state.states[t].screenData = i, "PVP" === t ? this.game.state.states.PVPLoading.startLoading(e) : bt.Util.isValid(this.game.state.states[this.game.state.current].fadeOut) ? this.game.state.states[this.game.state.current].fadeOut(e.fadeOut, this.game.state.states.Loading.startLoading.bind(this.game.state.states.Loading, e)) : this.game.state.states.Loading.startLoading(e)
			}, t.prototype.loading = function(t) {
				t ? (bt.Util.isValid(this.spinner) || (this.spinner = this.create.sprite(640, 360, "atlas-18", "loading"), this.game.broadcaster.broadcast(P.EScreenEvents.AddChild, this.game, [this.spinner, "overlay"])), this.spinner.alpha = 1, this.spinner.anchor.setTo(.5, .5), this.game.add.tween(this.spinner).to({
					angle: 360
				}, 1500, Phaser.Easing.Linear.None, !0, 0, d.GameConstants.MAX_SAFE_INTEGER, !1), this.game.add.tween(this.spinner).to({
					alpha: 1
				}, 500, Phaser.Easing.Linear.None, !0, 300)) : bt.Util.isValid(this.spinner) && (this.spinner.destroy(), this.spinner = null)
			}, t.prototype.getAverageFPS = function() {
				return Math.floor(1e3 / (this.totalElapsedTime / this.elapsedTimeBuffer.length))
			}, t.prototype.initializeBreadcrumbs = function() {
				this.breadcrumbManager.init(this.player.state, new gt.GameBreadcrumbConfig)
			}, t.prototype.initializeInjectionContainer = function() {
				this.gameContainer = new r.Container, this.gameContainer.bind(p.EProdigyInjectionIdentifiers.Game).toConstantValue(this.game), this.gameContainer.bind(o.GameIdentifiers.LocalizationService).to(o.Localizer).inSingletonScope(), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.EnvironmentProvider).to(Tt.WindowLocationEnvironmentProvider).inSingletonScope(), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.URLProvider).to(ht.URLProvider).inSingletonScope();
				var e = this.gameContainer.resolve(o.FSMFactories);
				e.init(this.gameContainer), this.gameContainer.bind(o.GameIdentifiers.IFSMController).to(o.FSMController).inSingletonScope(), this.gameContainer.bind(o.GameIdentifiers.FSMFactories).toConstantValue(e), this.gameContainer.bind(o.GameIdentifiers.FSMService).to(o.FSMService).inSingletonScope(), this.gameContainer.bind(o.GameIdentifiers.FSMDataProvider).to(B.FSMItemsDataProvider).inSingletonScope(), this.gameContainer.bind(dt.BreadcrumbManager).to(dt.BreadcrumbManager), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.HttpClient).to(C.FetchLibraryHttpClient).inSingletonScope(), this.gameContainer.bind(a.EInjectionIdentifiers.CacheExpirationStrategy).to(a.TimedCacheExpiration), this.gameContainer.bind(a.EInjectionIdentifiers.CacheStorageStrategy).to(a.MemoryCacheStorage), this.gameContainer.bind(a.EInjectionIdentifiers.StoreDataProvider).to(w.StoreHttpDataProvider).inSingletonScope(), this.gameContainer.get(a.EInjectionIdentifiers.CacheExpirationStrategy).setExpiryTimeInMinutes(5), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.StoreService).to(a.StoreService).inSingletonScope(), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.SessionRecorder).to(h.SessionCamSessionRecorder).inSingletonScope(), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.TimeManager).to(ct.TimeManager).inSingletonScope(), this.gameContainer.bind(a.EInjectionIdentifiers.VoucherDataProvider).to(D.VoucherCodeHttpDataProvider).inSingletonScope(), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.VoucherService).to(a.VoucherService).inSingletonScope(), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.JWTAuthenticationProvider).to(rt.JWTAuthProvider).inSingletonScope(), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.LegacyAuthenticationProvider).to(st.LegacyAuthProvider).inSingletonScope(), this.gameContainer.get(o.GameIdentifiers.LocalizationService).setDataSource(new o.LocalLanguageDataCollection(i(149))), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.AnalyticsService).to(l.AnonymousAnalyticsService).inSingletonScope(), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.DeviceInfo).to(It.WebDeviceInfoProvider), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.SocketService).to(o.SocketIOWebSocket), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.UUIDProvider).to(Ot.UUIDProvider).inSingletonScope(), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.LoggedInPlayer).to(S.LoggedInPlayerDataProvider).inSingletonScope(), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.EventBuilder).to(c.GameEventDataBuilder), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.GameEventReceivers).to(Y.TelemetryGameEventReceiver), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.GameEventReceivers).to(K.LegacyGameCompleteAnalyticsReceiver), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.GameEventBroadcaster).to(W.GameEventBroadcaster).inSingletonScope(), this.eventBroadcaster = this.gameContainer.get(p.EProdigyInjectionIdentifiers.GameEventBroadcaster), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.GameAvatarDataFactory).to(G.GameAvatarDataFactory).inSingletonScope(), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.GameBattleDataFactory).to(V.GameBattleDataFactory).inSingletonScope(), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.GameCompleteDataFactory).to(F.GameCompleteDataFactory).inSingletonScope(), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.GameDiscoveryDataFactory).to(j.GameDiscoveryDataFactory).inSingletonScope(), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.GameQuestionDataFactory).to(H.GameQuestionDataFactory).inSingletonScope(), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.GameSocialDataFactory).to(z.GameSocialDataFactory).inSingletonScope(), this.gameContainer.bind(p.EProdigyInjectionIdentifiers.PlayerService).to(a.PlayerService).inSingletonScope(), t.firstLoad && (r.decorate(r.injectable(), n.GameEvent.V3.SessionLengthFactory), r.decorate(r.injectable(), n.GameEvent.V3.GameEventFactory), r.decorate(r.injectable(), n.DataFactory), t.firstLoad = !1)
			}, t.firstLoad = !0, t
		}();
	e.GameObj = At
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(0),
		o = function() {
			function t(t) {
				this.callbacks = {}, this.listeners = {}, this.broadcastIdCount = 0, this.game = t
			}
			return t.prototype.clear = function() {
				var t;
				for (var e in this.callbacks)
					for (var i in this.callbacks[e]) {
						for (t = 0; this.callbacks[e][i].length > t;) this.callbacks[e][i].persistent ? t++ : this.callbacks[e][i].pop();
						0 === t && (this.callbacks[e][i] = void 0, delete this.callbacks[e][i])
					}
				for (var e in this.listeners)
					for (var n in this.listeners[e]) {
						for (t = 0; this.listeners[e][n].length > t;) this.listeners[e][n].persistent ? t++ : this.listeners[e][n].pop();
						0 === t && (this.listeners[e][n] = void 0, delete this.listeners[e][n])
					}
			}, t.prototype.addAppListener = function(t, e, i, o, r) {
				void 0 === r && (r = null);
				var s = a.Util.isValid(o) ? o : this.game;
				a.Util.isValid(t) && a.Util.isValid(e) && a.Util.isValid(i) || n.Logger.log("addAppListener - Invalid arguments", n.LogLevel.Error), s = this.hashContext(s), void 0 === this.callbacks[s] && (this.callbacks[s] = {}), void 0 === this.listeners[s] && (this.listeners[s] = {}), void 0 === this.callbacks[s][t] && (this.callbacks[s][t] = []), void 0 === this.listeners[s][t] && (this.listeners[s][t] = []), this.callbacks[s][t].push(e), this.listeners[s][t].push(i), this.callbacks[s][t].persistent = a.Util.isValid(r), this.listeners[s][t].persistent = a.Util.isValid(r)
			}, t.prototype.removeAppListener = function(t, e, i) {
				var o = a.Util.isValid(i) ? i : this.game;
				if (a.Util.isValid(t)) {
					if (o = this.hashContext(o), void 0 !== this.callbacks[o] && void 0 !== this.callbacks[o][t] && void 0 !== this.listeners[o] && void 0 !== this.listeners[o][t]) {
						for (var r = 0; r < this.callbacks[o][t].length; r++) a.Util.isValid(e) && this.listeners[o][t][r] !== e || (this.callbacks[o][t].splice(r, 1), this.listeners[o][t].splice(r, 1), r--);
						0 === this.callbacks[o][t].length && delete this.callbacks[o][t], 0 === this.listeners[o][t].length && delete this.listeners[o][t]
					}
				} else n.Logger.log("removeAppListener - Invalid arguments", n.LogLevel.Error)
			}, t.prototype.broadcast = function(t, e, i) {
				var o = a.Util.isValid(e) ? e : this.game;
				if (a.Util.isValid(t) || n.Logger.log("removeAppListener - Invalid arguments", n.LogLevel.Error), o = this.hashContext(o), void 0 === this.callbacks[o] || void 0 === this.callbacks[o][t] || void 0 === this.listeners[o] || void 0 === this.listeners[o][t]) return null;
				if (1 === this.callbacks[o][t].length) return this.callbacks[o][t][0].apply(this.listeners[o][t][0], i);
				for (var r = {
						listeners: [],
						output: []
					}, s = this.listeners[o][t].slice(), l = this.callbacks[o][t].slice(), c = 0; c < l.length; c++) r.listeners.push(s[c]), r.output.push(l[c].apply(s[c], i));
				return r
			}, t.prototype.hashContext = function(t) {
				return "string" != typeof t ? (void 0 === t.broadcastId && (t.broadcastId = this.broadcastIdCount, this.broadcastIdCount++), "bId" + t.broadcastId) : t
			}, t
		}();
	e.Broadcaster = o
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(5),
		a = i(0),
		o = function() {
			function t(t) {
				this.game = t, this.game.input.keyboard.addKeyCapture([Phaser.Keyboard.BACKSPACE]), t.input.mouse.mouseWheelCallback = this.dispatchMouseEvent.bind(this, n.EInputEvents.OnMouseWheel), t.input.keyboard.onDownCallback = this.dispatchKeyboardEvent.bind(this, "Prodigy.Events.Input.ON_KEY_DOWN_"), t.input.keyboard.onUpCallback = this.dispatchKeyboardEvent.bind(this, "Prodigy.Events.Input.ON_KEY_UP_"), t.input.keyboard.onPressCallback = this.dispatchKeyPressEvent.bind(this, "Prodigy.Events.Input.ON_KEY_PRESS_")
			}
			return t.prototype.dispatchMouseEvent = function(t, e) {
				this.game.broadcaster.broadcast(t, "Input", [e])
			}, t.prototype.dispatchKeyboardEvent = function(t, e) {
				var i = "";
				a.Util.isValid(e.key) && (i = e.key.toUpperCase()), this.game.broadcaster.broadcast(t + i, "Input", [e])
			}, t.prototype.dispatchKeyPressEvent = function(t, e, i) {
				this.game.broadcaster.broadcast(t + "_" + i.keyCode, "Input", [i])
			}, t
		}();
	e.InputDispatcher = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(7),
		r = i(22),
		s = i(0),
		l = i(168),
		c = function(t) {
			function e(e, i, n, o, s) {
				var l = t.call(this, e, i, 440, 150) || this;
				return l.startCallback = n, l.instructionsCallback = o, l.game.prodigy.create.panel(l, 25, 25, 7, 6), l.game.prodigy.create.textButton(l, 50, 50, {
					size: r.TextButton.MED,
					atlas: "icon-key-1",
					icon: "icon-key-1",
					text: l.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MINI_GAME_BUTTON_START")
				}, l.tryStart.bind(l)), l.game.prodigy.create.textButton(l, 50, 130, {
					size: r.TextButton.MED,
					icon: "star",
					text: l.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MINI_GAME_BUTTON_HOW_TO")
				}, l.instructions.bind(l)), l.game.prodigy.create.textButton(l, 50, 250, {
					size: r.TextButton.MED,
					icon: "back",
					text: l.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MINI_GAME_BUTTON_CANCEL")
				}, s), l
			}
			return n(e, t), e.prototype.tryStart = function() {
				var t = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					e = this.game.prodigy.dialogue.create();
				0 === this.game.prodigy.player.backpack.hasItem("key", 1) ? e.setText({
					text: t.getText("DYNO_DIG_START_NO_SHOVEL"),
					face: 4
				}) : l.DinoDig.getNewFossils(this.game.prodigy.player.backpack).length <= 0 ? e.setText({
					text: t.getText("DYNO_DIG_START_NO_MORE_FOSSILS"),
					face: 4,
					yes: this.start.bind(this, 200)
				}) : e.setText({
					text: t.getText("DYNO_DIG_READY_TO_START"),
					face: 4,
					yes: this.start.bind(this, 300)
				}), e.start("scoog")
			}, e.prototype.start = function(t) {
				if (!s.Util.isValid(t) || this.game.prodigy.player.getGold() >= t) s.Util.isValid(t) && this.game.prodigy.player.changeGold(-t, "Dino Dig"), this.startCallback();
				else {
					var e = this.game.prodigy.dialogue.create();
					e.setText({
						text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MINI_GAME_NOT_ENOUGH_GOLD"),
						face: 4
					}), e.start("scoog")
				}
			}, e.prototype.instructions = function() {
				s.Util.isValid(this.instructionsCallback) && this.instructionsCallback()
			}, e
		}(o.Element);
	e.DinoDigMenu = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(7),
		s = i(0),
		l = function(t) {
			function e(e, i, n, o, r, s) {
				void 0 === s && (s = !1);
				var l = t.call(this, e, i) || this;
				return l.npc = null, l.indicator = null, l.x = n, l.y = o, l.npc = l.game.prodigy.create.sprite(0, 0, "atlas-84", 0), l.npc.animations.add("stand", ["npc_0", "npc_1", "npc_2", "npc_3", "npc_4", "npc_5", "npc_6", "npc_7"], 10, !0, !1), l.npc.animations.play("stand"), l.npc.inputEnabled = !0, l.npc.anchor.setTo(.5, 1), l.npc.events.onInputDown.add(r, l), s && (l.npc.scale.x = -1), l.add(l.npc), l.game.prodigy.create.nameFont(l, -15, -l.npc.height - 20, e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("NPC_NAME_PROFESSOR_SCOOG")), l
			}
			return n(e, t), e.prototype.setIndicator = function(t) {
				s.Util.isValid(this.indicator) || (this.indicator = this.game.prodigy.create.sprite(-14, -(this.npc.height - 10), "atlas-21", t), this.indicator.anchor.setTo(.5, 1), this.add(this.indicator), this.game.add.tween(this.indicator).to({
					y: this.indicator.y - 50
				}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0)), this.indicator.frameName = t
			}, e
		}(r.Element);
	e.Scoog = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(4),
		r = i(887),
		s = i(45),
		l = function(t) {
			function e(e, i) {
				return t.call(this, e, "A0", "MAP_DYNO_DIG_OASIS", 280, 440, [], i.concat(["atlas-84", "tileset-collisions"])) || this
			}
			return n(e, t), e.prototype.setup = function(e, i) {
				t.prototype.setup.call(this, e, i, null), new r.Scoog(e, i.content, 800, 450, this.onScoogClicked.bind(this), !1).setIndicator("store"), i.addClickableEvent(295, 200, 50, 80, this.toMuseum.bind(this, i), null, 0, null);
				var n = e.prodigy.create.element(i.content, 975, 150),
					l = n.add(e.prodigy.create.sprite(40, 40, "atlas-21", "star2"));
				l.anchor.setTo(.5, .5), l.inputEnabled = !0, l.angle = -20, l.events.onInputDown.add(this.toDynoDig, this), n.add(e.prodigy.create.sprite(0, 10, "icon-key-1")), e.prodigy.create.font(n, -20, 0, e.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_TITLE"), {
					width: 120,
					size: 20,
					align: "center"
				}), e.add.tween(l).to({
					angle: 20
				}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, o.GameConstants.MAX_SAFE_INTEGER, !0), new s.ToyMerchant(e, i.content, 160, 400).flip()
			}, e.prototype.onScoogClicked = function() {
				var t = this,
					e = this.game.prodigy.dialogue.create();
				e.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DYNO_DIG_SHOP_WELCOME"),
					face: 0,
					yes: function() {
						t.game.prodigy.open.store(23)
					}
				}), e.start("scoog")
			}, e.prototype.toMuseum = function(t) {
				var e = this.game.prodigy.event.create();
				e.validPath(t.user, t.path, 320, 300), e.set(this.game.state.states.Museum, "startX", 634), e.set(this.game.state.states.Museum, "startY", 560), e.function(this.game.prodigy.start.bind(this.game.prodigy, "Museum")), e.start()
			}, e.prototype.toDynoDig = function() {
				this.game.prodigy.start("DinoDig", {}, {
					playerPosition: this.screen.user.position
				})
			}, e
		}(i(10).Map);
	e.DynoA0 = l
}, function(t, e) {
	t.exports = window.EasyStar
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(7),
		o = i(0),
		r = i(283),
		s = function(t) {
			function e(e, i, n, a) {
				var o = t.call(this, e, i, n, a) || this;
				return o.pose = null, o.bar1 = null, o.bar2 = null, o.callback = null, o.startTime = null, o.targetTime = null, o.pose = new r.DancePose(o.game, o, 0, 0), o.pose.flip(), o.bar1 = o.add(o.game.prodigy.create.sprite(0, 34, "atlas-18", "overlay-light")), o.bar1.anchor.setTo(1, 0), o.bar2 = o.add(o.game.prodigy.create.sprite(100, 34, "atlas-18", "overlay-light")), o.bar1.height = o.bar2.height = 30, o.bar1.width = o.bar2.width = 244, o.bar1.alpha = o.bar2.alpha = .7, o.bar1.tint = o.bar2.tint = 8768643, o
			}
			return n(e, t), e.prototype.start = function(t, e, i) {
				this.pose.randomPose(t, []), this.callback = i;
				var n = 2.5 - .35 * (t - 1);
				n += e, n *= 1e3, this.bar1.width = this.bar2.width = 244;
				var a = this.game.add.tween(this.pose).to({
					y: -10
				}, 250, Phaser.Easing.Quadratic.Out).to({
					y: 0
				}, 250, Phaser.Easing.Quadratic.In);
				return a.onComplete.addOnce(this.beginTimer.bind(this, n), this), a.start(), this.pose
			}, e.prototype.update = function() {
				if (t.prototype.update.call(this), o.Util.isValid(this.bar1) && o.Util.isValid(this.bar2) && o.Util.isValid(this.targetTime)) {
					var e = (new Date).getTime();
					if (e >= this.targetTime) this.bar1.width = this.bar2.width = 0, this.targetTime = null, this.callback();
					else {
						var i = (this.targetTime - e) / (this.targetTime - this.startTime),
							n = Math.floor(244 * i);
						this.bar1.width = this.bar2.width = n
					}
				}
			}, e.prototype.beginTimer = function(t) {
				this.startTime = (new Date).getTime(), this.targetTime = (new Date).getTime() + t
			}, e
		}(a.Element);
	e.DanceTimer = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(7),
		r = i(22),
		s = i(0),
		l = function(t) {
			function e(e, i, n, a, o) {
				var r = t.call(this, e, i) || this;
				r.startCallback = null, r.instructionsCallback = null, r.cancelCallback = null, r.menu = null, r.yes = null, r.difficulty = null, r.startCallback = n, r.cancelCallback = o, r.instructionsCallback = a;
				var s = r.add(r.game.prodigy.create.sprite(0, 0, "atlas-18", "overlay-small"));
				return s.alpha = .5, s.width = 1280, s.height = 720, r.game.prodigy.player.backpack.hasItem("key", 2) > 0 ? r.createMenu() : r.giveItem(), r
			}
			return n(e, t), e.prototype.giveItem = function() {
				var t = this,
					e = this.game.prodigy.dialogue.create();
				e.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DANCE_DANCE_GET_ROBOT_0"),
					face: 4,
					anim: 4
				}), e.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DANCE_DANCE_GET_ROBOT_1"),
					face: 2
				}), e.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DANCE_DANCE_GET_ROBOT_2"),
					face: 1,
					audio: {
						tag: "voice-0",
						s: 8,
						d: 2
					}
				}), e.setText({
					callback: function() {
						t.game.prodigy.open.gotItem([{
							type: "key",
							ID: 2,
							lvl: 1
						}], function() {
							var e = t.game.prodigy.dialogue.create();
							e.setText({
								text: t.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DANCE_DANCE_GET_ROBOT_3"),
								face: 1
							}), e.setText({
								callback: function() {
									t.createMenu()
								}
							}), e.start("boombox")
						})
					}
				}), e.start("boombox")
			}, e.prototype.createMenu = function() {
				var t = this;
				s.Util.isValid(this.menu) && this.menu.destroy(), this.menu = this.game.prodigy.create.element(this, 465, 220), this.game.prodigy.create.panel(this.menu, 0, 0, 7, 5), this.game.prodigy.create.textButton(this.menu, 25, 20, {
					size: r.TextButton.MED,
					icon: {
						type: "key",
						ID: 2
					},
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MINI_GAME_BUTTON_START")
				}, function() {
					t.createDifficulty()
				}), this.game.prodigy.create.textButton(this.menu, 25, 100, {
					size: r.TextButton.MED,
					icon: "star",
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MINI_GAME_BUTTON_HOW_TO")
				}, function() {
					t.instructionsCallback()
				}), this.game.prodigy.create.textButton(this.menu, 25, 180, {
					size: r.TextButton.MED,
					icon: "back",
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MINI_GAME_BUTTON_CANCEL")
				}, function() {
					t.cancelCallback()
				})
			}, e.prototype.createDifficulty = function() {
				var t = this,
					e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				s.Util.isValid(this.menu) && this.menu.destroy(), this.menu = this.game.prodigy.create.element(this, 390, 220);
				var i = this.game.prodigy.player.backpack.getKeyItemData(2, "lvl");
				this.game.prodigy.create.panel(this.menu, 0, 0, 10, 6), this.game.prodigy.create.font(this.menu, 110, 20, e.getText("DANCE_DANCE_CHOOSE_DIFFICULTY"), {
					size: 36,
					fontID: 9
				}), this.game.prodigy.create.font(this.menu, 110, 60, e.getText("DANCE_DANCE_HIGHER_LEVEL")), this.menu.add(this.game.prodigy.create.sprite(10, 10, "icon-key-2"));
				for (var n = function(n) {
						var a = 90 * n + 30;
						i >= n + 1 ? o.game.prodigy.create.stackButton(o.menu, a, 110, [{
							tag: "star2"
						}, {
							text: "" + (n + 1),
							y: 20,
							size: 30
						}], function() {
							t.chooseDifficulty(n + 1)
						}) : o.game.prodigy.create.stackButton(o.menu, a, 110, [{
							tag: "empty",
							x: 15,
							y: 15
						}, {
							text: "" + (n + 1),
							y: 20,
							size: 30
						}], function() {
							t.game.prodigy.open.message(e.getText("DANCE_DANCE_MESSAGE_LEVEL_BODY"), null, null, e.getText("MESSAGE_TITLE_UH_OH"))
						})
					}, o = this, l = 0; l < 5; l++) n(l);
				this.game.prodigy.create.textButton(this.menu, 40, 230, {
					size: r.TextButton.SMALL,
					icon: "back",
					text: e.getText("DANCE_DANCE_BUTTON_BACK")
				}, function() {
					t.createMenu()
				}), this.game.prodigy.create.textButton(this.menu, 260, 230, {
					size: r.TextButton.SMALL,
					icon: "yes",
					text: e.getText("DANCE_DANCE_BUTTON_GO")
				}, function() {
					t.tryStart()
				}), this.yes = this.menu.add(this.game.prodigy.create.sprite(0, 170, "atlas-21", "yes")), this.yes.width = this.yes.height = 25, this.chooseDifficulty(Math.min(i, 5))
			}, e.prototype.chooseDifficulty = function(t) {
				this.difficulty = t, this.yes.x = 90 * t - 10
			}, e.prototype.tryStart = function() {
				s.Util.isValid(this.menu) && this.menu.destroy();
				var t = this.game.prodigy.dialogue.create();
				t.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DANCE_DANCE_READY_TO_START"),
					face: 4,
					yes: this.openBoosts.bind(this, 200),
					no: this.createMenu.bind(this)
				}), t.start("boombox")
			}, e.prototype.openBoosts = function(t) {
				var e = this;
				if (!s.Util.isValid(t) || this.game.prodigy.player.getGold() >= t) {
					s.Util.isValid(t) && this.game.prodigy.player.changeGold(-t, "Dance Menu");
					var i = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
						n = [{
							icon: {
								type: "item",
								ID: 47
							},
							d: i.getText("BOOST_DESCRIPTION_MORE_GEARS")
						}, {
							icon: {
								type: "fossil",
								ID: 1
							},
							d: i.getText("BOOST_DESCRIPTION_SLOW_TIME")
						}, {
							icon: "star2",
							d: i.getText("BOOST_DESCRIPTION_MULTIPLIER")
						}];
					this.game.prodigy.open.boostSelect(n, function(t) {
						e.startCallback(e.difficulty, t)
					})
				} else {
					var o = this.game.prodigy.dialogue.create();
					o.setText({
						text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("MINI_GAME_NOT_ENOUGH_GOLD"),
						face: 3,
						anim: 1,
						audio: {
							tag: "voice-0",
							s: 10,
							d: 2
						}
					}), o.setText({
						callback: function() {
							e.createMenu()
						}
					}), o.start("boombox")
				}
			}, e
		}(o.Element);
	e.DanceMenu = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i, n, a) {
			var o = t.call(this, e, i, n, a) || this;
			return o.robot = null, o.robot = o.add(o.game.prodigy.create.sprite(-100, -200, "atlas-14", "pose1-1")), o.robot.animations.add("-3", ["pose2-1"], 1, !0, !1), o.robot.animations.add("-2", ["poseSuccess"], 1, !0, !1), o.robot.animations.add("-1", ["poseFail"], 1, !0, !1), o.robot.animations.add("0", ["pose0-1", "pose0-2"], 1, !0, !1), o.robot.animations.add("1", ["pose1-1", "pose1-2"], 1, !0, !1), o.robot.animations.add("2", ["pose2-1", "pose2-2"], 1, !0, !1), o.robot.animations.add("3", ["pose3-1", "pose3-2"], 1, !0, !1), o.robot.animations.add("4", ["pose4-1", "pose4-2"], 1, !0, !1), o.robot.animations.add("5", ["pose5-1", "pose5-2"], 1, !0, !1), o.robot.animations.add("6", ["pose6-1", "pose6-2"], 1, !0, !1), o.robot.animations.add("7", ["pose7-1", "pose7-2"], 1, !0, !1), o.robot.animations.add("8", ["pose8-1", "pose8-2"], 1, !0, !1), o.robot.animations.add("9", ["pose9-1", "pose9-2"], 1, !0, !1), o.setPose(-3), o
		}
		return n(e, t), e.prototype.setPose = function(t) {
			this.robot.animations.play("" + t, 2.15, !0), -1 === t && this.game.add.tween(this.robot).to({
				x: -105
			}, 100, Phaser.Easing.Linear.None).to({
				x: -95
			}, 100, Phaser.Easing.Linear.None).to({
				x: -105
			}, 100, Phaser.Easing.Linear.None).to({
				x: -95
			}, 100, Phaser.Easing.Linear.None).to({
				x: -105
			}, 100, Phaser.Easing.Linear.None).to({
				x: -95
			}, 100, Phaser.Easing.Linear.None).to({
				x: -100
			}, 100, Phaser.Easing.Linear.None).start(), -2 === t && this.game.add.tween(this.robot).to({
				y: -230
			}, 250, Phaser.Easing.Linear.None, !0, 0, 1, !0)
		}, e
	}(i(7).Element);
	e.DanceBot = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(85),
		r = i(60),
		s = i(0),
		l = i(892),
		c = i(891),
		h = i(283),
		u = i(890),
		p = function(t) {
			function e(e) {
				var i = t.call(this, e, "The Stage", "atlas-14", ["atlas-14", "bgm-6", "bgm-7", "sfx-11"]) || this;
				return i.startedSpeed = !1, i.danceBots = [], i.menu = null, i.timer = null, i.gearBar = null, i.bonusBar = null, i.scoreText = null, i.highScoreText = null, i.multiplier = null, i.gearBonus = null, i.maxMultiplier = null, i.speedOffset = null, i.currentScore = 0, i.startTime = null, i.finishTime = null, i.speedTime = null, i.timeDelay = null, i.poses = [], i.processLightEvent = null, i.difficulty = null, i.poseContainer = null, i.correctPose = null, i.correct = null, i.answerID = null, i.lights = null, i
			}
			return n(e, t), e.prototype.create = function() {
				this.game.prodigy.audio.pauseBGM(), this.game.prodigy.player.saveEnabled = !1, t.prototype.create.call(this, ["atlas-14", "bgm-6", "bgm-7"])
			}, e.prototype.screenSetup = function() {
				var e = this;
				t.prototype.screenSetup.call(this), this.background.add(this.game.prodigy.create.sprite(0, 0, "atlas-14", "bg")), this.danceBots = [], this.danceBots.push(new l.DanceBot(this.game, this.content, 260, 285)), this.danceBots.push(new l.DanceBot(this.game, this.content, 640, 420)), this.danceBots.push(new l.DanceBot(this.game, this.content, 1030, 285)), this.danceBots[0].scale.x = this.danceBots[0].scale.y = .5, this.danceBots[2].scale.x = this.danceBots[2].scale.y = .5, this.danceBots[0].setPose(1), this.danceBots[2].setPose(1), this.menu = new c.DanceMenu(this.game, this.content, function(t, i) {
					e.startGame(t, i)
				}, function() {
					e.showInstructions()
				}, function() {
					e.returnToLamplight()
				})
			}, e.prototype.shutdown = function() {
				this.game.time.events.remove(this.processLightEvent), t.prototype.shutdown.call(this)
			}, e.prototype.showInstructions = function() {
				var t = this;
				this.menu.visible = !1;
				var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService),
					i = this.game.prodigy.dialogue.create();
				i.setText({
					text: e.getText("DANCE_DANCE_INSTRUCTIONS_0"),
					face: 0,
					anim: 4
				}), i.setText({
					text: e.getText("DANCE_DANCE_INSTRUCTIONS_1"),
					face: 1,
					anim: 0
				}), i.setText({
					text: e.getText("DANCE_DANCE_INSTRUCTIONS_2"),
					face: 2,
					anim: 0
				}), i.setText({
					callback: function() {
						t.menu.visible = !0
					}
				}), i.start("boombox")
			}, e.prototype.createUI = function(t) {
				var e = this;
				this.timer = new u.DanceTimer(this.game, this.content, 590, 30), this.gearBar = this.game.prodigy.create.fillBar(this.content, 65, 415, 34, 250, 1, function(t) {
					for (var e = 50, i = 2; i <= t; i++) e += Math.max(0, Math.floor(i / 9 * 5 * 100));
					return t >= 10 && (e = -1), {
						target: e,
						text: "" + t
					}
				}, 15975263, "star2", .7, !0);
				var i = this.game.prodigy.player.backpack.getKeyItemData(2, "gears");
				this.gearBar.setValue(s.Util.isValid(i) ? i : 0);
				var n = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				this.bonusBar = this.game.prodigy.create.fillBar(this.content, 1181, 415, 34, 250, 1, function(e) {
					var i = 15975263,
						a = Math.max(0, 5 * e);
					return e >= t && (a = -1), e <= 1 && (i = 15157320), {
						target: a,
						color: i,
						text: e <= 1 ? n.getText("DANCE_DANCE_UH_OH") : "x" + (e - 1)
					}
				}, 15314234, {
					type: "item",
					ID: 47
				}, .7, !0, function(t) {
					e.setMultiplier(t)
				}), this.bonusBar.setValue(5);
				var o = this.game.prodigy.create.element(this.content, 20, 20);
				this.scoreText = this.game.prodigy.create.font(o, 0, 0, "[single-image:icon-item-47]0", {
					size: 36,
					fontID: 9
				});
				var r = this.game.prodigy.player.backpack.getKeyItemData(2, "score"),
					l = this.game.prodigy.create.element(this.content, 960, 20);
				this.highScoreText = this.game.prodigy.create.font(l, 0, 0, (s.Util.isValid(r) ? r : 0) + " [single-image:icon-item-47]", {
					size: 36,
					fontID: 9,
					align: "right",
					width: 300
				}), this.game.prodigy.create.font(l, 0, 40, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DANCE_DANCE_BEST_SCORE"), {
					size: 16,
					width: 220,
					align: "right"
				})
			}, e.prototype.setMultiplier = function(t) {
				t > 1 ? this.game.prodigy.audio.playSFX(11, "yay") : s.Util.isValid(this.multiplier) && this.multiplier !== t && this.game.prodigy.audio.playSFX(11, "aw"), this.multiplier = t
			}, e.prototype.startGame = function(t, e) {
				var i = this;
				this.menu.visible = !1, this.gearBonus = 0 === e ? 1 : 0, this.speedOffset = 1 === e ? .25 : 0, this.maxMultiplier = 2 === e ? 5 : 4, this.createUI(this.maxMultiplier), this.processLightEvent = this.game.time.events.loop(500, this.processLights, this), this.startTime = (new Date).getTime(), this.finishTime = this.startTime + 7e4, this.speedTime = this.startTime + 4e4, this.timeDelay = 1500, this.currentScore = 0, this.setDifficulty(t), this.game.prodigy.audio.playBGM(6, !0), this.game.prodigy.audio.playSFX(11, "ready"), this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DANCE_DANCE_READY"), function() {
					i.game.prodigy.audio.playSFX(11, "go"), i.game.prodigy.effects.flashText(i.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DANCE_DANCE_START")), i.nextPose()
				})
			}, e.prototype.endGame = function(t) {
				var e = this;
				this.timer.visible = !1;
				for (var i = 0; i < this.poses.length; i++) this.poses[i].visible = !1;
				this.game.prodigy.audio.pauseBGM(), t ? this.game.prodigy.audio.playSFX(11, "victory") : this.game.prodigy.audio.playSFX(11, "bell");
				for (i = 0; i < this.danceBots.length; i++) this.danceBots[i].setPose(t ? -3 : -1);
				this.danceBots[1].setPose(t ? -2 : -1), this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText(t ? "DANCE_DANCE_SUCCESS" : "DANCE_DANCE_FAILED"), function() {
					e.finalize(t)
				})
			}, e.prototype.finalize = function(t) {
				var e = this,
					i = this.game.prodigy.dialogue.create();
				if (t) {
					var n = this.game.prodigy.player.backpack.getKeyItemData(2, "score");
					(!s.Util.isValid(n) || n < this.currentScore) && (this.game.prodigy.player.backpack.setKeyItemData(2, "score", this.currentScore), this.highScoreText.setText(this.currentScore + " [single-image:icon-item-47]"), i.setText({
						text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DANCE_DANCE_NEW_HIGH_SCORE"),
						face: 4,
						anim: 4,
						audio: {
							tag: "voice-0",
							s: 5,
							d: 3
						}
					})), i.setText({
						text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DANCE_DANCE_EARNED_GEARS"),
						face: 0
					}), i.setText({
						callback: this.gearBar.addValue.bind(this.gearBar, this.currentScore, null, this.finishFill.bind(this))
					})
				} else this.difficulty > 1 ? i.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DANCE_DANCE_LOWER_DIFFICULTY"),
					face: 3,
					audio: {
						tag: "voice-0",
						s: 10,
						d: 2
					}
				}) : i.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DANCE_DANCE_TRY_AGAIN"),
					face: 3,
					audio: {
						tag: "voice-0",
						s: 10,
						d: 2
					}
				}), i.setText({
					callback: function() {
						e.returnToLamplight()
					}
				});
				i.start("boombox")
			}, e.prototype.finishFill = function() {
				var t = this,
					e = this.game.prodigy.player.backpack.getKeyItemData(2, "lvl"),
					i = this.gearBar.getLevel(),
					n = this.game.prodigy.dialogue.create();
				if (this.game.prodigy.player.backpack.setKeyItemData(2, "gears", this.gearBar.getValue()), i > e) {
					var o = [{
						type: "gold",
						N: 500 * (i - e)
					}];
					this.game.prodigy.player.backpack.setKeyItemData(2, "lvl", i), i < 5 ? n.setText({
						text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DANCE_DANCE_LEVEL_UP_UNDER_5", i),
						face: 4,
						anim: 4,
						audio: {
							tag: "voice-0",
							s: 5,
							d: 3
						}
					}) : i < 10 ? n.setText({
						text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DANCE_DANCE_LEVEL_UP_UNDER_10"),
						face: 4,
						anim: 4,
						audio: {
							tag: "voice-0",
							s: 5,
							d: 3
						}
					}) : (n.setText({
						text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DANCE_DANCE_LEVEL_UP_MAX"),
						face: 4,
						anim: 4,
						audio: {
							tag: "voice-0",
							s: 8,
							d: 2
						}
					}), o.push({
						type: "hat",
						ID: 47
					}), o.push({
						type: "outfit",
						ID: 42
					})), n.setText({
						text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DANCE_DANCE_REWARD"),
						face: 1
					}), n.setText({
						callback: function() {
							t.game.prodigy.open.gotItem(o, function() {
								t.returnToLamplight()
							}, null, "dance-dance")
						}
					})
				} else e < 10 ? n.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DANCE_DANCE_TRY_NEW_DIFFICULTY"),
					face: 4
				}) : n.setText({
					text: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DANCE_DANCE_MAX_LEVEL"),
					face: 4,
					anim: 4,
					audio: {
						tag: "voice-0",
						s: 8,
						d: 2
					}
				}), n.setText({
					callback: function() {
						t.returnToLamplight()
					}
				});
				n.start("boombox")
			}, e.prototype.setDifficulty = function(t) {
				this.difficulty = t, this.poseContainer = this.game.prodigy.create.element(this.content, 0, 600);
				var e = t < 3 ? 3 : t < 5 ? 4 : 5;
				this.poses = [];
				for (var i = 0; i < e; i++) this.poses[i] = new h.DancePose(this.game, this.poseContainer, 130 * i, 0, this.selectAnswer.bind(this, i));
				this.poseContainer.x = 640 - .5 * this.poseContainer.width
			}, e.prototype.nextPose = function() {
				var t = this,
					e = this.timer.start(this.difficulty, this.speedOffset, function() {
						t.pose()
					});
				this.correctPose = e.currentPose, this.correct = Math.floor(Math.random() * this.poses.length);
				for (var i = [e], n = 0; n < this.poses.length; n++) n === this.correct ? this.poses[n].setPose(e) : this.poses[n].randomPose(this.difficulty, i), i.push(this.poses[n]), this.poses[n].flip();
				this.answerID = null, this.deselectAll()
			}, e.prototype.selectAnswer = function(t) {
				this.answerID = t, this.deselectAll()
			}, e.prototype.deselectAll = function() {
				for (var t = 0; t < this.poses.length; t++) this.poses[t].deselect()
			}, e.prototype.pose = function() {
				for (var t = this.answerID === this.correct, e = 0; e < this.poses.length; e++) this.poses[e].flip();
				for (e = 0; e < this.danceBots.length; e++) 1 === e ? this.danceBots[e].setPose(t ? this.correctPose : -1) : this.danceBots[e].setPose(this.correctPose);
				if (t) this.game.prodigy.audio.playSFX(18, "heart"), this.currentScore += (this.poses.length + this.gearBonus) * (this.bonusBar.getLevel() - 1), this.scoreText.setText("[single-image:icon-item-47]" + this.currentScore), this.bonusBar.addValue(1);
				else if (this.game.prodigy.audio.playSFX(11, "damage"), this.bonusBar.getValue() > 5) this.bonusBar.setValue(5);
				else if (this.bonusBar.addValue(-1) <= 0) return void this.endGame(!1);
				var i = (new Date).getTime();
				i > this.finishTime ? this.endGame(!0) : (i > this.speedTime && (this.startedSpeed || (this.startedSpeed = !0, this.speedOffset -= .25, this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("DANCE_DANCE_SPEED_UP")), this.game.prodigy.audio.playBGM(7, !0)), this.timeDelay = Math.max(500, this.timeDelay - 150)), this.game.time.events.add(this.timeDelay, this.nextPose, this))
			}, e.prototype.processLights = function() {
				if (!s.Util.isValid(this.lights)) {
					this.lights = [];
					for (var t = 0; t < 3; t++) this.lights.push(this.background.add(this.game.prodigy.create.sprite(0, 0, "atlas-21", "empty"))), this.lights[t].alpha = .25;
					this.lights[0].tint = 14492708, this.lights[1].tint = 15396941, this.lights[2].tint = 5107440
				}
				var i = [o(e.RED_LIGHTS), o(e.YELLOW_LIGHTS), o(e.BLUE_LIGHTS)];
				for (t = 0; t < 3; t++) this.lights[t].x = i[t].x - 25, this.lights[t].y = i[t].y - 25
			}, e.prototype.returnToLamplight = function() {
				this.game.prodigy.world.teleport("lamplight-B4", 660, 400)
			}, e.RED_LIGHTS = [{
				x: 192,
				y: 65
			}, {
				x: 403,
				y: 40
			}, {
				x: 613,
				y: 68
			}, {
				x: 791,
				y: 83
			}, {
				x: 908,
				y: 88
			}, {
				x: 408,
				y: 539
			}, {
				x: 887,
				y: 538
			}], e.YELLOW_LIGHTS = [{
				x: 118,
				y: 47
			}, {
				x: 318,
				y: 78
			}, {
				x: 376,
				y: 164
			}, {
				x: 744,
				y: 79
			}, {
				x: 1103,
				y: 139
			}, {
				x: 1129,
				y: 49
			}, {
				x: 1232,
				y: 39
			}, {
				x: 305,
				y: 474
			}, {
				x: 746,
				y: 572
			}], e.BLUE_LIGHTS = [{
				x: 66,
				y: 37
			}, {
				x: 338,
				y: 119
			}, {
				x: 396,
				y: 183
			}, {
				x: 652,
				y: 72
			}, {
				x: 1039,
				y: 97
			}, {
				x: 1071,
				y: 38
			}, {
				x: 548,
				y: 571
			}, {
				x: 984,
				y: 476
			}], e
		}(r.Screen);
	e.DanceDance = p
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			t.Ready = "ready", t.Switch = "switch", t.Spell = "spell"
		}(e.EPVPAction || (e.EPVPAction = {}))
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		return function() {
			this.defaultComboIncrease = 1, this.maxCombo = 5, this.damageBonusPerLevel = .1, this.comboLevelOffsets = [{
				x: 4,
				y: 57
			}, {
				x: 65,
				y: 57
			}, {
				x: 129,
				y: 36
			}, {
				x: 193,
				y: 36
			}, {
				x: 257,
				y: -22
			}], this.comboMaxOffset = {
				x: 346,
				y: 46
			}
		}
	}();
	e.PVPComboMeterConfig = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(195),
		o = i(19),
		r = i(7),
		s = i(5),
		l = function(t) {
			function e(e, i, n, o, r) {
				var s = t.call(this, e, i, n, o) || this;
				return s.baseY = 870, s.baseX = 30, s.comboTween = [], s.comboLevelBars = [], s.flipped = !1, s.moveComplete = !0, s.config = a(r), s.setupComponents(), s
			}
			return n(e, t), e.prototype.setupListeners = function(t) {
				this.game.broadcaster.addAppListener(s.EBattleEvents.PvpComboIncrease, this.updateComboBars.bind(this), this, t, null), this.game.broadcaster.addAppListener(s.EBattleEvents.PvpComboBreak, this.updateComboBars.bind(this), this, t, null), this.game.broadcaster.addAppListener(s.EBattleEvents.PvpUpdate, this.updateComboTween.bind(this), this, t, null), this.game.broadcaster.addAppListener(s.EBattleEvents.PvpComboMeterMoveIn, this.moveIn.bind(this), this, t, null), this.game.broadcaster.addAppListener(s.EBattleEvents.PvpComboMeterMoveOut, this.moveOut.bind(this), this, t, null)
			}, e.prototype.flip = function() {
				this.comboMeterBg.scale.x *= -1, this.flipSprite(this.comboMaxOff), this.flipSprite(this.comboMaxOn), this.flipped = !0
			}, e.prototype.setupComponents = function() {
				this.comboMeterBg = this.add(this.game.prodigy.create.sprite(0, 0, "atlas-17", "combo-metre-bg"));
				for (var t = null, e = 1; e < this.config.maxCombo + 1; e++) {
					var i = this.game.prodigy.create.sprite(this.config.comboLevelOffsets[e - 1].x, this.config.comboLevelOffsets[e - 1].y, "atlas-17", "combo-level-" + e + "-1");
					i.visible = !1, this.comboLevelBars.push(this.comboMeterBg.addChild(i)), t = [];
					for (var n = 1; n < 5; n++) t.push("combo-level-" + e + "-" + n);
					this.comboTween.push(new o.TweenController(i)), this.comboTween[e - 1].set("frameName", t, 200, 9999)
				}
				this.comboMaxOff = this.comboMeterBg.addChild(this.game.prodigy.create.sprite(this.config.comboMaxOffset.x, this.config.comboMaxOffset.y, "atlas-17", "combo-max-off")), this.comboMaxOn = this.comboMeterBg.addChild(this.game.prodigy.create.sprite(this.config.comboMaxOffset.x, this.config.comboMaxOffset.y, "atlas-17", "combo-max-on-1")), this.comboMaxOn.visible = !1, t = [];
				for (e = 1; e < 5; e++) t.push("combo-max-on-" + e);
				this.comboTween.push(new o.TweenController(this.comboMaxOn)), this.comboTween[this.comboTween.length - 1].set("frameName", t, 200, 9999), this.startComboTween()
			}, e.prototype.moveIn = function() {
				this.moveComplete && (this.game.add.tween(this).from({
					y: this.baseY
				}, 2100, Phaser.Easing.Quadratic.In, !0).onComplete.add(this.onMoveComplete.bind(this)), this.moveComplete = !1)
			}, e.prototype.moveOut = function() {
				this.moveComplete && (this.game.add.tween(this).to({
					x: this.flipped ? -this.comboMeterBg.width + this.baseX + 1280 : -(this.comboMeterBg.width + this.baseX)
				}, 700, Phaser.Easing.Quadratic.In, !0).onComplete.add(this.onMoveComplete.bind(this)), this.moveComplete = !1)
			}, e.prototype.onMoveComplete = function() {
				this.moveComplete = !0
			}, e.prototype.updateComboBars = function(t) {
				for (var e = 0; e < this.comboLevelBars.length; e++) this.comboLevelBars[e].visible = e < t;
				this.comboMaxOn.visible = t === this.config.maxCombo
			}, e.prototype.startComboTween = function() {
				for (var t = 0; t < this.comboTween.length; t++) this.comboTween[t].start()
			}, e.prototype.updateComboTween = function() {
				for (var t = 0; t < this.comboTween.length; t++) this.comboTween[t].update()
			}, e.prototype.flipSprite = function(t) {
				t.x -= -t.width, t.scale.x *= -1
			}, e
		}(r.Element);
	e.ComboMeterUI = l
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(5),
		a = i(896),
		o = i(1),
		r = function() {
			function t(t, e) {
				this.currentComboLevel = 0, this.broadcasterContext = null, this.config = e, this.broadcaster = t
			}
			return t.prototype.increaseCombo = function() {
				this.currentComboLevel < this.config.maxCombo && (this.currentComboLevel += this.config.defaultComboIncrease, this.broadcaster.broadcast(n.EBattleEvents.PvpComboIncrease, this.broadcasterContext, [this.currentComboLevel])), o.Logger.log("Combo Increased: " + this.currentComboLevel, o.LogLevel.Verbose)
			}, t.prototype.breakCombo = function() {
				this.currentComboLevel > 0 && (this.currentComboLevel = 0, this.broadcaster.broadcast(n.EBattleEvents.PvpComboBreak, this.broadcasterContext, [this.currentComboLevel])), o.Logger.log("Combo Broken: " + this.currentComboLevel, o.LogLevel.Verbose)
			}, t.prototype.setBroadcasterContext = function(t) {
				this.broadcasterContext = t
			}, t.prototype.createUI = function(t, e, i, n) {
				return new a.ComboMeterUI(t, e, i, n, this.config)
			}, t.prototype.getDamageBoost = function() {
				return this.config.damageBonusPerLevel * this.currentComboLevel + 1
			}, t
		}();
	e.ComboMeter = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = i(4),
		s = i(5),
		l = i(40),
		c = i(317),
		h = i(314),
		u = i(80),
		p = i(23),
		d = i(0),
		g = i(291),
		f = i(897),
		y = i(895),
		m = i(286),
		_ = i(285),
		v = i(177),
		E = function(t) {
			function e(e) {
				var i = t.call(this, e, "atlas-17", "atlas-14", ["battle-coliseum-outside", "atlas-17", "atlas-16", "bgm-2", "bgm-1", "sfx-8", "sfx-16", "tileset-water-new", "tileset-town-new"]) || this;
				return i.playerA = null, i.playerB = null, i.mods = null, i.teamComboMeter = null, i.opponentComboMeter = null, i.callback = null, i.data = null, i.teamHearts = null, i.opponentHearts = null, i.currentState = null, i.timeoutTimestamp = null, i.nextHeartbeat = null, i.inCombat = !1, i.processConnections = !0, i.teamA = [], i.teamB = [], i.msgPanel = null, i.timerRect = null, i.messageTop = null, i.messageBottom = null, i.timerPanel = null, i.stateDirty = !1, i.timerRunning = !1, i.timerStart = null, i.textChangeCheck = 0, i.currentManager = null, i.previousTeamHP = [], i.screenName = "battle-", i
			}
			return n(e, t), e.prototype.create = function() {
				this.game.prodigy.network.leaveZone(), this.game.prodigy.network.setZone(this), this.inCombat = !1, this.processConnections = !0, t.prototype.create.call(this), this.currentState = m.EPVPState.RequestData, this.timeoutTimestamp = Date.now() + 45e3, this.nextHeartbeat = Date.now() + 3e3
			}, e.prototype.screenSetup = function() {
				this.groupDim = this.game.add.group(this.content, "battleDimLayer"), this.groupBack = this.game.add.group(this.content, "battleBackLayer"), this.groupMiddle = this.game.add.group(this.content, "battleMidLayer"), this.groupFront = this.game.add.group(this.content, "battleFrontLayer"), this.game.prodigy.player.saveEnabled = !1, this.game.prodigy.network.sendAnalytics("PVP", "start", "Events"), this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("PVP", {
					type: "start",
					startType: this.getStartTypeString(),
					classID: this.game.prodigy.player.getLatestClassIDLegacy(),
					grade: this.game.prodigy.player.grade
				});
				var e = new c.TiledRenderer(this.game, this);
				new l.GameObject(this.game, this.background, [e], 0, 0), e.render({
					mapName: "battle-coliseum-outside"
				}), this.teamHearts = new h.CharacterStatus(this.game, this.overlay), this.opponentHearts = new h.CharacterStatus(this.game, this.overlay, !1), this.teamComboMeter = new f.ComboMeter(this.game.broadcaster, new y.PVPComboMeterConfig), this.opponentComboMeter = new f.ComboMeter(this.game.broadcaster, new y.PVPComboMeterConfig);
				var i = this.teamComboMeter.createUI(this.game, this.overlay, 30, 560),
					n = this.opponentComboMeter.createUI(this.game, this.overlay, 1250, 560);
				n.flip();
				for (var r = 0; r < this.teamA.length; r++) this.previousTeamHP.push(this.teamA[r].data.hp);
				this.setupBattleHP(this.teamA, !0), this.setupBattleHP(this.teamB, !0);
				var s = new v.Team(this.game, this.content, this.teamA, !0, -200, 500, 345, 500, !0),
					u = new v.Team(this.game, this.content, this.teamB, !1, 1480, 500, 935, 500, !0);
				this.teams[0] = s, this.teams[1] = u, this.teamComboMeter.setBroadcasterContext(s), this.opponentComboMeter.setBroadcasterContext(u), i.setupListeners(s), n.setupListeners(u), this.registerSignals(this.teamHearts, s, !1), this.registerSignals(this.opponentHearts, u, !0), s.setEnergy(0), u.setEnergy(0), p.Device.isNativeApp() || this.game.prodigy.audio.playBGM(2, !0), this.msgPanel = this.game.prodigy.create.panel(this.overlay, 520, 600, 6, 2, "item-common"), this.timerPanel = this.game.prodigy.create.panel(this.msgPanel, 0, 0, 6, 1, "item-epic"), this.timerPanel.scale.y *= -1, this.timerPanel.y += 80, this.timerRect = this.game.add.graphics(0, 0, this.msgPanel), this.timerRect.beginFill(0, 1), this.timerRect.lineTo(240, 0), this.timerRect.lineTo(240, 40), this.timerRect.lineTo(0, 40), this.timerRect.lineTo(0, 0), this.timerRect.endFill(), this.timerRect.y = 46, this.timerPanel.mask = this.timerRect, this.messageTop = this.game.prodigy.create.font(this.msgPanel, 5, 5, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("PVP_SELECT_ACTION"), {
					width: 230,
					align: "center"
				}), this.messageBottom = this.game.prodigy.create.font(this.msgPanel, 5, 45, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("PVP_TIME_REMAINING"), {
					width: 230,
					align: "center"
				}), this.msgPanel.visible = !1, this.startCombat(), t.prototype.screenSetup.call(this)
			}, e.prototype.openBam = function(t, e, i, n) {
				return d.Util.isValid(this.bam) ? this.bam.open() : (this.bam = new u.Bam(this.game, this.overlay, this.teams[0], this.teams[1]), this.overlay.sendToBack(this.bam), this.bam.onSpellCast.add(t), this.bam.onTeamSwitch.add(e), this.bam.onTeamForceSwitch.add(e), this.bam.onEpicAttack.add(i), this.bam.onItemClick.add(n)), this.bam
			}, e.prototype.registerSignals = function(t, e, i) {
				t.onLoadComplete.add(function() {
					t.x = i ? 1280 - t.width : 0, t.setInfoFromTeam(e)
				}, this), e.onCurrentMemberHPChange.add(function(e, i) {
					t.setCurrentHealth(e.getCurrentHearts())
				}, this), e.onMoveCreatureIn.add(function() {
					t.moveOnScreen()
				}, this), e.onMoveCreatureOut.add(function() {
					t.moveOffScreen()
				}, this), e.onCurrentMemberSwitch.add(function() {
					t.moveOnScreen(), t.setInfoFromTeam(e)
				}, this), e.onEnergyChangeStart.add(function(i) {
					t.setEnergyMeterPercentage(i / e.getMaxEnergy())
				}, this)
			}, e.prototype.unregisterSignals = function(t, e) {
				t.onLoadComplete.removeAll(), e.onCurrentMemberHPChange.removeAll(), e.onMoveCreatureIn.removeAll(), e.onMoveCreatureOut.removeAll(), e.onCurrentMemberSwitch.removeAll(), e.onEnergyChangeStart.removeAll()
			}, e.prototype.onMessage = function(t) {
				d.Util.isValid(this.game) && ("request_data" === t.action ? this.emitMessage({
					action: "data",
					data: {
						userID: this.game.prodigy.player.userID,
						equipment: this.game.prodigy.player.equipment.getData(),
						appearance: this.game.prodigy.player.appearance.getData(),
						data: this.game.prodigy.player.data,
						pets: this.game.prodigy.player.kennel.data
					}
				}) : "request_init" === t.action ? this.emitMessage({
					action: "init",
					data: {}
				}) : "request_action" === t.action && d.Util.isValid(this.currentManager.currentAction) ? this.emitMessage({
					action: "action",
					data: this.currentManager.currentAction
				}) : "request_next" === t.action && d.Util.isValid(this.currentManager.nextAction) ? this.emitMessage({
					action: "next",
					data: this.currentManager.nextAction
				}) : "action" === t.action && this.currentState === m.EPVPState.RequestAction && d.Util.isValid(t.data) && t.data.turn === this.currentManager.turn ? (this.currentState = m.EPVPState.Working, this.currentManager.processAction(t.data)) : "next" === t.action && this.currentState === m.EPVPState.RequestNextTurn && (this.currentState = m.EPVPState.Working, this.currentManager.playerTurn(t.data)), this.timeoutTimestamp = Date.now() + 6e4)
			}, e.prototype.setState = function(t) {
				this.currentState = t, this.stateDirty = !0
			}, e.prototype.endCombat = function(t) {
				void 0 === t && (t = "fail"), this.mods.arena && (delete this.game.prodigy.player.data.deserter, this.game.prodigy.player.updated = !0), this.game.prodigy.education.closeQuestion(), this.processConnections = !1, this.nextHeartbeat = null, this.timeoutTimestamp = null, this.game.prodigy.network.sendAnalytics("PVP", t, "Events"), this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("PVP", {
					type: t,
					startType: this.getStartTypeString(),
					classID: this.game.prodigy.player.getLatestClassIDLegacy(),
					grade: this.game.prodigy.player.grade
				}), this.endPVP()
			}, e.prototype.update = function() {
				if (t.prototype.update.call(this), this.timerRunning) {
					var i = Date.now() - this.timerStart;
					i > e.SELECT_TIMEOUT ? this.timerRunning && this.currentManager.generateMissAttack() : this.timerRect.x = -i / e.SELECT_TIMEOUT * 240
				}
				this.processConnections && d.Util.isValid(this.timeoutTimestamp) && this.timeoutTimestamp < Date.now() && (this.inCombat ? (this.processConnections = !1, this.nextHeartbeat = null, this.timeoutTimestamp = null, this.currentManager.processEnd(!0)) : this.endCombat("fail")), this.processConnections && d.Util.isValid(this.nextHeartbeat) && (this.nextHeartbeat < Date.now() || this.stateDirty) && (this.emitMessage({
					action: this.currentState,
					data: {}
				}), this.nextHeartbeat = Date.now() + 3e3, this.stateDirty = !1)
			}, e.prototype.screenUpdate = function() {
				t.prototype.screenUpdate.call(this);
				var e = this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService);
				if (d.Util.isValid(this.currentManager)) {
					this.msgPanel.visible = this.currentManager.waitingToSelect || this.currentState !== m.EPVPState.Loading && this.currentState !== m.EPVPState.Working && this.currentState !== m.EPVPState.Deserted;
					var i = (this.msgPanel.visible ? 1 : 0) + (this.currentManager.waitingToSelect ? 2 : 0);
					if (this.msgPanel.visible && (this.timerPanel.visible = this.currentManager.waitingToSelect, this.textChangeCheck !== i || this.game.prodigy.updateCount % 25 == 0))
						if (this.currentManager.waitingToSelect) this.messageTop.setText(e.getText("PVP_SELECT_ACTION")), this.messageBottom.setText(e.getText("PVP_TIME_REMAINING"));
						else switch (this.messageTop.setText(e.getText("PVP_WAITING_ON_PLAYER")), this.messageBottom.text.length) {
							case 0:
								this.messageBottom.setText(".");
								break;
							case 1:
								this.messageBottom.setText("..");
								break;
							case 2:
								this.messageBottom.setText("...");
								break;
							default:
								this.messageBottom.setText("")
						}
					this.textChangeCheck = i, this.timerRunning ? this.timerRunning = 3 === this.textChangeCheck : (this.timerRunning = 3 === this.textChangeCheck, this.timerRunning && this.startTimer())
				}
				this.game.broadcaster.broadcast(s.EBattleEvents.PvpUpdate, this.teams[0], []), this.game.broadcaster.broadcast(s.EBattleEvents.PvpUpdate, this.teams[1], [])
			}, e.prototype.getOtherPlayerID = function() {
				var t = this.playerB.userID;
				return this.game.prodigy.player.userID === t && (t = this.playerA.userID), d.Util.isValid(t) ? t : this.data.challengerID
			}, e.prototype.emitMessage = function(t) {
				t.target = this.getOtherPlayerID(), this.game.prodigy.network.emitMessage(t)
			}, e.prototype.startTimer = function() {
				d.Util.isValid(this.timerRect) && (this.timerRect.x = 0, this.game.tweens.removeFrom(this.timerRect), this.timerRunning = !0, this.timerStart = Date.now())
			}, e.prototype.setupBattleHP = function(t, e) {
				for (var i = 0; i < t.length; i++) t[i].inPVP = e, e && t[i].changeCurrentHearts(r.GameConstants.MAX_SAFE_INTEGER)
			}, e.prototype.startCombat = function() {
				this.mods.arena && (this.game.prodigy.player.saveEnabled = !0, this.game.prodigy.player.data.deserter = 1, this.game.prodigy.player.updated = !0, this.game.prodigy.network.updateCharacter(), this.game.prodigy.player.saveEnabled = !1), this.game.add.tween(this.teamHearts).to({
					y: 0
				}, 1e3, Phaser.Easing.Quadratic.Out).start(), this.teams[1].isBoss() && !this.teams[1].showHearts() || this.game.add.tween(this.opponentHearts).to({
					y: 0
				}, 1e3, Phaser.Easing.Quadratic.Out).start(), this.currentManager = new _.PVPManager(this.game, this), this.inCombat = !0
			}, e.prototype.endPVP = function() {
				this.game.prodigy.education.processAnswerResponses();
				for (var t = 0; t < this.teamA.length; t++) this.teamA[t].inPVP = !1;
				if (d.Util.isValid(this.game.prodigy.player.data.zone) && !this.game.prodigy.player.data.zone.includes("darktower")) this.game.prodigy.player.healTeam(r.GameConstants.MAX_SAFE_INTEGER);
				else
					for (t = 0; t < this.teamA.length; t++) this.teamA[t].data.hp = this.previousTeamHP[t];
				this.game.prodigy.player.saveEnabled = !0, this.game.prodigy.network.processPlayer = !0, this.destroyBam(), this.callback(), this.unregisterSignals(this.teamHearts, this.teams[0]), this.unregisterSignals(this.opponentHearts, this.teams[1]), this.teamHearts.destroy(), this.opponentHearts.destroy(), this.teamHearts = null, this.opponentHearts = null
			}, e.prototype.destroyBam = function() {
				this.bam.destroy(), this.bam = null
			}, e.prototype.getStartTypeString = function() {
				var t = "unknown";
				return d.Util.isValid(this.mods) && d.Util.isValid(this.mods.arena) && (t = this.mods.arena ? "findChallenger" : "directChallenge"), t
			}, e.SELECT_TIMEOUT = 3e4, e
		}(g.BattleScreenBase);
	e.PVP = E
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(0),
		a = function() {
			function t(t, e, i, n, a, o) {
				this.game = null, this.player = null, this.stateName = null, this.questId = 0, this.defaultValue = null, this.completeValue = null, this.game = t, this.player = e, this.stateName = i, this.questId = n, this.defaultValue = a, this.completeValue = o
			}
			return t.prototype.isInitialized = function() {
				return n.Util.isValid(this.player.state.get(this.stateName))
			}, t.prototype.init = function() {
				this.player.state.set(this.stateName, {
					questId: this.questId,
					dateId: n.Util.getDateId(),
					questState: this.defaultValue
				})
			}, t.prototype.isComplete = function() {
				return this.player.state.get(this.stateName + "-questState") === this.completeValue
			}, t.prototype.complete = function() {
				this.player.state.set(this.stateName + "-questState", this.completeValue)
			}, t.prototype.hasDateIdChanged = function() {
				return n.Util.getDateId() !== this.player.state.get(this.stateName + "-dateId")
			}, t
		}();
	e.Daily = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(4),
		a = i(176),
		o = i(122),
		r = i(2),
		s = i(0),
		l = function() {
			function t(t) {
				this.game = t
			}
			return t.prototype.setup = function(t) {
				this.battleScreen = t, this.team = t.teams[0], this.opponents = t.teams[1], this.game.prodigy.player.achievements.increment("kills", this.opponents.team.length);
				for (var e = [], i = 0, n = this.team.team; i < n.length; i++) {
					var a = n[i];
					a.captured || e.push(a.source)
				}
				var o = this.calculateEarnedXP(this.opponents, this.game.prodigy.player.hasMembership(), this.game.prodigy.player.hasValidatedParentEmail());
				this.game.prodigy.open.resultsMenu(e, o, this.getBattleDrops(), this.getMemberBattleDrops()).setCloseCallback(this.onResultsMenuClosed.bind(this))
			}, t.prototype.onResultsMenuClosed = function() {
				this.battleScreen.endBattle("win")
			}, t.prototype.getBattleDrops = function() {
				return r.Items.getRandomizedDropsFromCreatures(this.battleScreen.drops, this.opponents, !(s.Util.isValid(this.battleScreen.mods) && this.battleScreen.mods.dropsDisabled))
			}, t.prototype.getMemberBattleDrops = function() {
				var t = [];
				return this.opponents.getCurrent() instanceof a.TitanContainer || ("archives" === this.game.prodigy.world.getCurrentMap().split("-")[0] ? t.push({
					type: "gold",
					N: 250
				}) : t.push({
					type: "gold",
					N: 100
				})), t
			}, t.prototype.calculateEarnedXP = function(t, e, i) {
				var a = t.team.length * n.GameConstants.get("GameConstants.Battle.STARS_EARNED_PER_OPPONENT");
				a = Math.ceil(a * this.battleScreen.mods.starMod), s.Util.isValid(this.battleScreen.mods.starOverride) && (a = this.battleScreen.mods.starOverride);
				var r = i ? a * n.GameConstants.get("GameConstants.Battle.VALID_PARENT_EMAIL_STARS_PERCENTAGE") : 0,
					l = s.Util.isValid(this.battleScreen.mods.boss) && s.Util.isValid(this.battleScreen.mods.boss.pippetBattle) ? o.PippetEncounter.data.bonusStars : 0,
					c = e ? (a + l) * n.GameConstants.get("GameConstants.Battle.MEMBER_STARS_PERCENTAGE") : 0;
				return c += i ? Math.ceil(.05 * c) : 0, r = Math.ceil(r), l = Math.ceil(l), {
					baseXP: a,
					memberXP: c = Math.ceil(c),
					parentLinkXP: r,
					pippetXP: l
				}
			}, t
		}();
	e.VictoryManager = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.mask = null, e.beamGroup = null, e.startLocation = null, e.endLocation = null, e.distanceBetweenPoints = 0, e.spineCap = null, e.spineSummon = null, e.animationWidth = 1, e
		}
		return n(e, t), e.prototype.onLoadComplete = function() {
			t.prototype.onLoadComplete.call(this), this.startLocation = this.getStartPosition(), this.endLocation = this.getEndPosition(), this.makeGroup(), this.setAnimation("beam-travel", !0), this.makeMask(), this.stretchBetweenPoints(), this.summonCreate(), this.capCreate(), this.doTween(), this.beamGroup.angle = this.getFacingAngle()
		}, e.prototype.stretchBetweenPoints = function() {
			this.distanceBetweenPoints = Phaser.Point.distance(this.startLocation, this.endLocation), this.beamGroup.scale.x = this.distanceBetweenPoints / this.animationWidth
		}, e.prototype.makeGroup = function() {
			this.beamGroup = this.game.add.group(this.parent), this.beamGroup.pivot.y = .5, this.beamGroup.x = this.startLocation.x, this.beamGroup.y = this.startLocation.y
		}, e.prototype.makeMask = function() {
			this.mask = this.game.add.graphics(0, 0), this.mask.beginFill(16711680), this.mask.drawRect(0, -100, 1, 200), this.mask.endFill(), this.beamGroup.add(this.mask), this.beamGroup.add(this.spineMain), this.spineMain.x = 0, this.spineMain.y = 0, this.animationWidth = this.beamGroup.width, this.spineMain.mask = this.mask
		}, e.prototype.capCreate = function() {
			this.spineCap = this.makeClone("cap-travel", 0, 0, !0), this.beamGroup.add(this.spineCap)
		}, e.prototype.capImpact = function() {
			this.spineCap.setAnimationByName(0, "cap-impact", !0), this.spineCap.setToSetupPose(), this.impact(), setTimeout(this.doEnd.bind(this), this.spellDataParser.getInt("sustainDuration"))
		}, e.prototype.capEnd = function() {
			this.spineCap.setAnimationByName(0, "cap-end", !1), this.spineCap.setToSetupPose()
		}, e.prototype.beamEnd = function() {
			this.setAnimation("beam-end", !0)
		}, e.prototype.summonCreate = function() {
			this.spellCharacterCreateAnimation(), this.spineSummon = this.makeClone("summon-create", 0, 0), this.beamGroup.add(this.spineSummon), setTimeout(this.summonTravel.bind(this), 1e3 * this.spineSummon.skeletonData.findAnimation("summon-create").duration)
		}, e.prototype.summonTravel = function() {
			this.spineSummon.setToSetupPose(), this.spineSummon.destroy(), this.spineSummon = this.makeClone("summon-travel", 0, 0, !0), this.beamGroup.add(this.spineSummon)
		}, e.prototype.summonEnd = function() {
			this.spineSummon.setToSetupPose(), this.spineSummon.destroy(), this.spineSummon = this.makeClone("summon-end", 0, 0), this.beamGroup.add(this.spineSummon)
		}, e.prototype.doTween = function() {
			var t = this.spellDataParser.getInt("travelDuration"),
				e = this.spellDataParser.getEasing("travelEasing");
			this.game.add.tween(this.mask.scale).to({
				x: this.animationWidth
			}, t, e, !0, 0, 0), this.game.add.tween(this.spineCap).to({
				x: this.animationWidth
			}, t, e, !0, 0, 0).onComplete.add(this.capImpact.bind(this))
		}, e.prototype.doEnd = function() {
			this.summonEnd(), this.capEnd(), this.beamEnd();
			var t = this.spellDataParser.getEasing("endEasing"),
				e = this.spellDataParser.getInt("endDuration");
			this.game.add.tween(this.spineMain).to({
				x: this.animationWidth + 10
			}, e, t, !0).onComplete.add(this.doneEverything.bind(this))
		}, e.prototype.doneEverything = function() {
			this.spineSummon.destroy(), this.spineCap.destroy(), this.spineMain.destroy()
		}, e
	}(i(287).SpellBase);
	e.SpellBeam = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(2),
		a = i(0),
		o = function() {
			function t(t) {
				this.spellKey = t, this.spellData = n.Items.getItem("spell", t).metadata
			}
			return t.prototype.getEasing = function(t) {
				if (a.Util.isValid(this.spellData.animationData[t])) {
					var e = this.spellData.animationData[t].split(".");
					return Phaser.Easing[e[0]][e[1]]
				}
				return Phaser.Easing.Linear.None
			}, t.prototype.getName = function() {
				return n.Items.getItem("spell", this.spellKey).data.name
			}, t.prototype.getInt = function(t) {
				return a.Util.isValid(this.spellData.animationData[t]) ? parseInt(this.spellData.animationData[t]) : 0
			}, t.prototype.getValue = function(t) {
				return this.spellData.animationData[t]
			}, t
		}();
	e.SpellDataParser = o
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t(t) {
			this.game = t, t.tweens.easeMap["Custom.wiggle"] = function(t) {
				var e = t * Math.PI * 6;
				return Math.sin(e + Math.PI * Math.random()) * (1 - t)
			}
		}
		return t.prototype.animateCharacters = function(t, e, i, n) {
			for (var a = 0; a < i.length; a++)
				if (void 0 !== this[t]) {
					if (void 0 !== n && n > 0) {
						setTimeout(this.animateCharacters.bind(this, t, e, i, 0), n);
						break
					}
					this[t].apply(this, [i[a], e])
				}
		}, t.prototype.damage = function(t, e) {
			var i = this.game.add.tween(t),
				n = this.game.add.tween(t);
			i.to({
				x: t.x + 5
			}, e, "Custom.wiggle", !0, 0), n.to({
				y: t.y + 5
			}, e, "Custom.wiggle", !0, 0)
		}, t.prototype.vibrate = function(t, e) {
			var i = t.x,
				n = t.x - 5,
				a = t.x + 5,
				o = Math.round((e - 200) / 100 * .5),
				r = this.game.add.tween(t),
				s = this.game;
			r.to({
				x: n
			}, 100, Phaser.Easing.Linear.None, !0).onComplete.add(function() {
				var e = s.add.tween(t);
				e.to({
					x: a
				}, 100, Phaser.Easing.Linear.None, !0, 0, o, !0), e.onComplete.add(function() {
					s.add.tween(t).to({
						x: i
					}, 100, Phaser.Easing.Linear.None, !0)
				})
			})
		}, t
	}();
	e.SpellCharacterAnimator = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return n(e, t), e.prototype.getEndPosition = function() {
			return this.isTravelingRight() ? {
				x: 1065,
				y: 450
			} : {
				x: 215,
				y: 450
			}
		}, e
	}(i(288).SpellProjectile);
	e.SpellAOE = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n, a, o = i(1),
		r = i(79),
		s = i(289),
		l = i(6),
		c = i(4),
		h = i(176),
		u = i(46),
		p = i(124),
		d = i(2),
		g = i(173),
		f = i(172),
		y = i(171),
		m = i(170),
		_ = i(126),
		v = i(35),
		E = i(12),
		b = i(292),
		O = i(80),
		I = i(14),
		T = i(0),
		A = i(20),
		C = i(41);
	! function(t) {
		t[t.Idle = 1] = "Idle", t[t.DefendingDamage = 2] = "DefendingDamage", t[t.AttackingHit = 3] = "AttackingHit", t[t.AttackingMiss = 4] = "AttackingMiss"
	}(n || (n = {})),
	function(t) {
		t[t.None = 0] = "None", t[t.InPlace = 1] = "InPlace", t[t.MoveIn = 2] = "MoveIn"
	}(a = e.EEpicAttackType || (e.EEpicAttackType = {}));
	var S = function() {
		function t(t) {
			this.game = null, this.state = n.Idle, this.battleScreen = null, this.bounty = null, this.nickname = null, this.turn = 0, this.firstQuestion = !0, this.firstEpicAttack = !0, this.epicAttackMonster = null, this.isPlayerTurn = !1, this.attackSyncSemaphore = 0, this.enemyDamageAdjustmenet = .75, this.lowLevelEnemyDamageAdjustment = .75, this.playerLevelEasyThreshhold = 5, this.game = t
		}
		return t.prototype.setup = function(t) {
			this.battleScreen = t, this.state = n.Idle, this.bounty = this.battleScreen.mods.bounty, T.Util.isValid(this.battleScreen.mods.encounter) && (this.nickname = this.battleScreen.mods.encounter[0].nickname), this.playerTeam = this.battleScreen.teams[0], this.opponentTeam = this.battleScreen.teams[1], this.playerTeam.moveTeamIn(), this.opponentTeam.moveTeamIn(), this.turn = 0, this.firstQuestion = !0, T.Util.isValid(this.battleScreen.mods.epicArena) && this.battleScreen.mods.epicArena > 1 || (this.firstEpicAttack = !0, this.game.prodigy.gameContainer.get(l.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("epicAttacks", {
				action: "newBattleStarted"
			})), this.battleScreen.mods.potionMode = this.game.prodigy.player.tutorial.getMenuValue(3, 2) >= 1;
			var e = this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("COMBAT_WIZARD_BATTLE");
			this.battleScreen.teams[1].isBoss() && (e = this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("COMBAT_BOSS_TIME")), T.Util.isValid(this.battleScreen.mods.intro) && "" !== this.battleScreen.mods.intro && (e = this.battleScreen.mods.intro), this.game.prodigy.effects.flashText(e, this.playerTurn.bind(this))
		}, t.prototype.playerTurn = function() {
			if (this.isPlayerTurn || (O.Bam.canUseItems = !0, this.playerTeam.changeEnergy(1), this.turn++), this.attackSyncSemaphore = 0, this.isPlayerTurn = !0, this.epicAttackMonster = null, this.processEvents(this.playerTurn.bind(this))) {
				var t = this.battleScreen.teams[0];
				this.battleScreen.teams[1].pairOpponent(t.getCurrent());
				var e = t.getUnRun().length > 0,
					i = t.isDefeated();
				e ? t.runAwayDefeated(this.playerTurn.bind(this)) : i ? (t.runAwayDefeated(), this.battleScreen.destroyBam(), this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("COMBAT_LOST"), this.battleScreen.endBattle.bind(this.battleScreen, "lose")), this.game.prodigy.network.sendZoneEvent("battle-complete", "false")) : this.openBam(), this.state = n.Idle
			}
		}, t.prototype.openBam = function() {
			var t = this;
			if (this.battleScreen.isBamCreated()) return this.battleScreen.openBam();
			var e = this.battleScreen.openBam();
			return e.onSpellCast.add(this.openQuestion.bind(this)), e.onTeamSwitch.add(this.playerTeam.swapPlayersHop.bind(this.playerTeam, this.afterAttack.bind(this, !1, this.playerTeam.getCurrent()))), e.onTeamForceSwitch.add(this.playerTeam.swapPlayersHop.bind(this.playerTeam, this.playerTurn.bind(this))), e.onEpicAttack.add(this.startEpicAttack.bind(this)), e.onCatchClick.add(function(e) {
				t.attemptCatch(e)
			}), e
		}, t.prototype.canCastEpic = function() {
			return this.firstEpicAttack
		}, t.prototype.processEvents = function(t) {
			for (var e = T.Util.isValid(this.battleScreen.mods.events) ? this.battleScreen.mods.events : [], i = 0; i < e.length; i++) {
				var a = !1,
					o = e[i];
				if (T.Util.isValid(o.repeat) || (o.repeat = 0), !(o.lastProc === this.turn || o.repeat < 0) && ("turn" === o.action && o.value === this.turn ? a = !0 : "miss" === o.action && this.state === n.AttackingMiss ? a = !0 : "hit" === o.action && this.state === n.AttackingHit ? a = !0 : "dmg" === o.action && this.state === n.DefendingDamage && (a = !0), a)) return o.repeat--, o.lastProc = this.turn, o.callback(this.game, t), !1
			}
			return !0
		}, t.prototype.opponentTurn = function() {
			var t = this;
			if (this.isPlayerTurn && this.battleScreen.teams[1].changeEnergy(1), this.attackSyncSemaphore = 0, this.isPlayerTurn = !1, this.processEvents(this.opponentTurn.bind(this))) {
				var e = this.battleScreen.teams[1],
					i = this.battleScreen.teams[0];
				if (this.battleScreen.mods.itemUsed = !1, e.getUnRun().length > 0) e.runAwayDefeated(this.opponentTurn.bind(this));
				else if (e.isDefeated()) {
					if (e.runAwayDefeated(), this.bounty > 0) this.game.prodigy.effects.bountyComplete(this.game.prodigy.bounty.getReward(this.bounty), this.battleScreen.startVictory.bind(this.battleScreen));
					else {
						this.battleScreen.destroyBam();
						var n = this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText(e.getCurrent() instanceof h.TitanContainer ? "COMBAT_TITAN_HIT" : "COMBAT_WON");
						this.game.prodigy.effects.flashText(n, this.battleScreen.startVictory.bind(this.battleScreen))
					}
					this.game.prodigy.network.sendZoneEvent("battle-complete", "true"), e.getCurrent() instanceof h.TitanContainer && this.game.prodigy.titansNetworkHandler.hitTitan(this.game.prodigy.titansNetworkHandler.titan.id, e.getCurrent().source.source.catapult)
				} else if (e.getCurrent().source.isKnockedOut() || e.getCurrent().captured) e.swapPlayersHop(this.opponentTurn.bind(this), e.chooseNextCandidate(i.getCurrent()));
				else {
					var a = this.battleScreen.mods.difficulty;
					e.getCurrent().source instanceof f.CloudBoss && !e.getCurrent().miniBoss || e.getCurrent().source instanceof g.BonfireBoss || e.getCurrent().source instanceof y.OldOneBoss || e.getCurrent().source instanceof m.PippetBoss ? e.getCurrent().source.chooseAction(a, e.getCurrent(), i, function(e, i, n, a, o) {
						t.attack(!1, e, i, n, a, o, t.battleScreen.mods)
					}, this.playerTurn.bind(this)) : this.game.prodigy.battle.chooseAction(a, e.getCurrent(), i.getCurrent(), e, i, function(e, i, n, a, o) {
						t.attack(!1, e, i, n, a, o, t.battleScreen.mods)
					}, e.swapPlayersHop.bind(e), this.playerTurn.bind(this))
				}
			}
		}, t.prototype.answerQuestion = function(t, e, i, a) {
			void 0 === a && (a = 1);
			var r = a,
				s = "NFactor Bonus: " + r;
			(!T.Util.isValid(r) || r < 1 || r > 10) && (s += "; invalid setting to default: " + (r = 1)), o.Logger.log(s, o.LogLevel.Verbose), c.GameConstants.get("GameConstants.Debug.SET_NFACTOR") && (r = c.GameConstants.get("GameConstants.Debug.SET_NFACTOR"), o.Logger.log("NFactor Debug Override: " + r, o.LogLevel.Verbose)), this.battleScreen.mods.nFactor = r, this.setContentVisible(!0), this.state = e ? n.AttackingHit : n.AttackingMiss, this.game.prodigy.player.castSpell(e), e ? this.attack(!0, this.playerTeam.getCurrent(), this.opponentTeam, this.opponentTurn.bind(this), t, null, this.battleScreen.mods) : this.opponentTurn()
		}, t.prototype.moveEpicIn = function(t, e) {
			var i = this,
				n = new u.MonsterContainer(this.game, this.playerTeam.getCurrent().parent, new v.Monster(this.game, {
					ID: t,
					level: this.game.prodigy.player.getLevel()
				}), 2, -200, 500, !1);
			n.loadedCallback = function(o) {
				o.sprites.scale.x = o.battleScale, o.sprites.scale.y = o.battleScale, o.hideName(), r([130, 131, 132, 133], t) && (n.sprites.scale.x = 1, n.sprites.scale.y = 1);
				var s = i.game.prodigy.event.create();
				s.path(o, [{
					x: 345
				}]), s.function(function() {
					i.attack(!0, o, i.opponentTeam, i.moveEpicOut.bind(i, o), e, null, i.battleScreen.mods, a.MoveIn)
				}), s.start()
			}, n.startLoad()
		}, t.prototype.moveEpicOut = function(t) {
			var e = this.game.prodigy.event.create();
			e.path(t, [{
				x: -200
			}]), e.start()
		}, t.prototype.answerEpicQuestion = function(t, e, i) {
			var a = i,
				r = "NFactor Bonus: " + a;
			(!T.Util.isValid(a) || a < 1 || a > 10) && (r += "; invalid setting to default: " + (a = 1)), o.Logger.log(r, o.LogLevel.Verbose), c.GameConstants.get("GameConstants.Debug.SET_NFACTOR") && (a = c.GameConstants.get("GameConstants.Debug.SET_NFACTOR"), o.Logger.log("NFactor Debug Override: " + a, o.LogLevel.Verbose)), this.battleScreen.mods.nFactor = a, this.battleScreen.content.visible = this.battleScreen.menus.visible = !0, this.battleScreen.setUIVisible(!0), this.state = e ? n.AttackingHit : n.AttackingMiss, this.game.prodigy.player.castSpell(e);
			var s = this.battleScreen.teams[0],
				l = t.epicId;
			e ? s.isIdInBattle(l) ? this.swapEpicAttack(t) : this.moveEpicIn(l, t.spellId) : s.movePlayerIn(this.opponentTurn.bind(this), s.getCurrent())
		}, t.prototype.swapEpicAttack = function(t) {
			var e = this,
				i = this.battleScreen.teams[0];
			this.epicAttackMonster = i.getContainerOfTeamId(t.epicId);
			i.fakeSwap(this.epicAttackMonster, i.getCurrent(), function() {
				e.attack(!0, e.epicAttackMonster, e.battleScreen.teams[1], i.fakeSwap.bind(i, i.getCurrent(), e.epicAttackMonster, null), t.spellId, !1, {}, a.InPlace)
			})
		}, t.prototype.setContentVisible = function(t) {
			this.battleScreen.content.visible = t, this.battleScreen.menus.visible = t, this.battleScreen.setUIVisible(t)
		}, t.prototype.openQuestion = function(t, e) {
			if (this.setContentVisible(!1), c.GameConstants.get("GameConstants.Debug.EDUCATION_ENABLED")) {
				var i = 0;
				if (this.firstQuestion) {
					var n = this.game.prodigy.player.state.get("tutorial-0");
					(i = T.Util.isValid(n) ? n : 0) < 4 && i++, this.game.prodigy.player.state.set("tutorial-0", i), this.firstQuestion = !1
				}
				this.game.prodigy.education.question(this.answerQuestion.bind(this, t), !0, e)
			} else this.answerQuestion(t, Math.random() <= c.GameConstants.get("GameConstants.Debug.AUTO_ANSWER_CORRECT_PERCENT"), 0)
		}, t.prototype.startEpicAttack = function(t) {
			this.firstEpicAttack && (this.firstEpicAttack = !1, this.playerTeam.isIdInBattle(t.epicId) ? this.openEpicQuestion(t) : this.playerTeam.movePlayerOut.call(this.playerTeam, this.openEpicQuestion.bind(this, t), this.playerTeam.getCurrent()))
		}, t.prototype.openEpicQuestion = function(t) {
			if (this.battleScreen.content.visible = this.battleScreen.menus.visible = !1, this.battleScreen.setUIVisible(!1), c.GameConstants.get("GameConstants.Debug.EDUCATION_ENABLED")) {
				var e = 0;
				this.firstQuestion && ((e = T.Util.isValid(this.game.prodigy.player.state.get("tutorial-0")) ? this.game.prodigy.player.state.get("tutorial-0") : 0) < 4 && e++, this.game.prodigy.player.state.set("tutorial-0", e), this.firstQuestion = !1), this.game.prodigy.education.question(this.answerEpicQuestion.bind(this, t), e > 0, 0), this.game.prodigy.education.isNew = !1
			} else this.answerEpicQuestion(t, Math.random() <= c.GameConstants.get("GameConstants.Debug.AUTO_ANSWER_CORRECT_PERCENT"))
		}, t.prototype.afterAttack = function(t, e, i) {
			var n = this;
			setTimeout(function() {
				if (t === a.MoveIn) n.playerTeam.movePlayerIn(n.afterAttack.bind(n, !1, e), n.playerTeam.getCurrent()), n.epicAttackMonster = null, T.Util.isValid(i) && i();
				else if (t === a.InPlace) n.epicAttackMonster = null, T.Util.isValid(i) && i(), n.afterAttack(a.None, e, null);
				else if (n.isPlayerTurn)
					if (n.game.prodigy.breadcrumbManager.isBreadcrumbComplete(I.Breadcrumbs.FEATURE_BATTLE_TUTORIAL, I.Breadcrumbs.BREADCRUMB_FIRST_ENEMY_HURT)) n.opponentTurn();
					else {
						n.game.prodigy.breadcrumbManager.completeBreadcrumb(I.Breadcrumbs.FEATURE_BATTLE_TUTORIAL, I.Breadcrumbs.BREADCRUMB_FIRST_ENEMY_HURT);
						var o = n.game.prodigy.dialogue.create();
						o.setText(5), o.setText({
							callback: n.opponentTurn.bind(n)
						}), o.start("noot")
					}
				else n.playerTurn()
			}, 1e3)
		}, t.prototype.creatureAttackAnimation = function(t) {
			T.Util.isValid(this.epicAttackMonster) ? this.epicAttackMonster.attack() : t.attack()
		}, t.prototype.afterAttackSync = function(t, e, i) {
			--this.attackSyncSemaphore <= 0 && this.afterAttack(t, e, i)
		}, t.prototype.attack = function(t, e, i, n, o, r, l, c) {
			var h = this;
			this.attackSyncSemaphore = 1;
			var u = o;
			"number" != typeof o && (u = T.Util.spellConversion(o));
			var p = 1;
			t || (p = this.game.prodigy.player.getLevel() < this.playerLevelEasyThreshhold ? this.lowLevelEnemyDamageAdjustment : this.enemyDamageAdjustmenet);
			var g = "aoe" === d.Items.getItem("spell", u).metadata.animationData.animationType,
				f = null,
				y = "normal-hit",
				m = c === a.InPlace || c === a.MoveIn ? this.game.prodigy.player : e.getSource();
			this.creatureAttackAnimation(e);
			var _ = !(t || !this.battleScreen.mods.invincible) || r;
			g ? (this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(I.Breadcrumbs.FEATURE_BATTLE_TUTORIAL, I.Breadcrumbs.BREADCRUMB_FIRST_AOE_READY) && (this.battleScreen.mods.switchDisabled = !1), (f = s.SpellFactory.makeSpell(this.game, e.parent, u, e, i.team)).onImpact.add(function() {
				for (var t = 0; t < i.getTeamSize(); t++)
					if (!i.team[t].getSource().isKnockedOut() && !i.team[t].captured) {
						h.attackSyncSemaphore++;
						var a = C.CombatFormulas.calculateDamage(e.getSource(), i.team[t].getSource(), u, l);
						a.miss = _, a.damage = Math.round(a.damage * p);
						var o = i.team[t];
						_ ? y = "miss" : (o.getSource().changeCurrentHearts(-1 * a.damage), a.critical && (y = "critical-hit")), o.displayDamage(a, o !== i.getCurrent(), h.afterAttackSync.bind(h, c, e, n))
					} h.game.prodigy.audio.playSFX(8, y)
			})) : (this.attackSyncSemaphore++, (f = s.SpellFactory.makeSpell(this.game, e.parent, u, e, [i.getCurrent()])).onImpact.add(function() {
				var a = C.CombatFormulas.calculateDamage(m, i.getCurrent().source, u, l);
				a.miss = _, a.damage = Math.round(a.damage * p), _ ? y = "miss" : ((l.enemiesImmortal && t || l.playerImmortal && i.getCurrent().source instanceof E.Player && !t) && i.getCurrent().getSource().getCurrentHearts() - a.damage <= 0 && (a.damage = i.getCurrent().getSource().getCurrentHearts() - 1, a.damage <= 0 && (a.miss = !0)), i.getCurrent().source.changeCurrentHearts(-1 * a.damage), a.critical && (y = "critical-hit")), h.game.prodigy.audio.playSFX(8, y), i.getCurrent().displayDamage(a, !1, h.afterAttackSync.bind(h, c, e, n))
			})), f.onSpellComplete.add(this.afterAttackSync.bind(this, c, e, n));
			var v = f.getName();
			return T.Util.isValid(c) && c !== a.None && (v = b.BamEpicButton.getSpellName(e.getSource().getID())), this.displaySpellCast(e, v), f
		}, t.prototype.displaySpellCast = function(t, e) {
			this.game.prodigy.audio.playSFX(8, "cast");
			var i = t.source.getName();
			t.source instanceof _.TitanBoss && (i = "Titan"), this.game.prodigy.effects.flashText(this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText("COMBAT_ATTACK_USED", i, e), null, p.EffectFactory.BASE, p.EffectFactory.SMALL, 1e3, !0)
		}, t.prototype.attemptCatch = function(t) {
			var e = this;
			t.onQuestionOpen.add(function() {
				e.setContentVisible(!1)
			}), t.onQuestionClose.add(function(t) {
				e.setContentVisible(!0), t ? e.succeedCatch() : e.failCatch()
			}), t.start()
		}, t.prototype.failCatch = function() {
			var t = this.opponentTeam.getCurrent(),
				e = this.opponentTeam.getCurrentSource();
			this.game.prodigy.audio.playSFX(8, "miss"), this.game.prodigy.effects.fadeFlyingImage(t.x, t.y - (t.height >> 1), "atlas-17", "text-miss"), this.opponentTeam.getCurrentSource().catchAttempt++, this.game.prodigy.player.hasMembership() || this.game.prodigy.network.sendConversionFunnelEvent(A.EFunnelEventIDs.FunnelCatchPetAgain, A.EFunnelEventIDs.StageCatchPetFail, "" + e.data.ID), this.game.time.events.add(1500, this.opponentTurn.bind(this), this)
		}, t.prototype.succeedCatch = function() {
			var t = this,
				e = this.opponentTeam.getCurrent(),
				i = this.opponentTeam.getCurrentSource();
			e.captured = !0, T.Util.isValid(this.nickname) && (i.data.nickname = this.nickname), 1 === i.source.member && (this.game.prodigy.gameContainer.get(l.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_complete", {
				type: "Member-Locked-Pets",
				name: "Locked-Pet-Captured",
				pet: i.source.name
			}), this.game.prodigy.gameContainer.get(l.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("Member-Locked-Pets", "Locked-Pet-Captured", void 0, void 0, void 0, i.source.name).broadcast()), this.opponentTeam.rescue(function() {
				t.receivePet(e)
			})
		}, t.prototype.receivePet = function(t) {
			var e = this;
			this.game.prodigy.open.gotItem([{
				type: "pet",
				ID: t.source.data.ID,
				N: 1,
				data: t.source.data
			}], function() {
				if (e.game.prodigy.breadcrumbManager.isBreadcrumbComplete(I.Breadcrumbs.FEATURE_BATTLE_TUTORIAL, I.Breadcrumbs.BREADCRUMB_FIRST_PET_RESCUED)) e.opponentTurn();
				else {
					e.game.prodigy.breadcrumbManager.completeBreadcrumb(I.Breadcrumbs.FEATURE_BATTLE_TUTORIAL, I.Breadcrumbs.BREADCRUMB_FIRST_PET_RESCUED);
					var t = e.game.prodigy.dialogue.create();
					t.setText({
						index: 219
					}), t.setText({
						callback: e.opponentTurn.bind(e)
					}), t.start("noot", !1)
				}
			}, null, "on-catch-pet")
		}, t
	}();
	e.CombatManager = S
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i, n, a) {
			var o = t.call(this, e, i) || this;
			return o.ID = 0, o.text = null, o.x = n, o.y = a, o.text = o.game.prodigy.create.font(o, 0, 5), o
		}
		return n(e, t), e.prototype.setMsg = function(t, e) {
			var i = this;
			this.visible = !0, this.ID++, this.alpha = 0, this.game.add.tween(this).to({
				alpha: 1
			}, 400, Phaser.Easing.Quadratic.Out).start(), this.text.setText(t);
			this.game.time.events.add(e, function(t) {
				t === i.ID && (i.visible = !1)
			}.bind(this, this.ID), this)
		}, e
	}(i(7).Element);
	e.ScreenMessage = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = t.call(this) || this;
			return e.mousePositionText = null, e.updateRate = 1e3, e.requestedHeight = 30, e.requestedWidth = 300, e.mousePositionText = null, e
		}
		return n(e, t), e.prototype.onLayout = function() {
			t.prototype.onLayout.call(this), this.mousePositionText.position.setTo(this.position.x + 10, this.position.y + 5)
		}, e.prototype.createUI = function() {
			t.prototype.createUI.call(this), this.mousePositionText = this.gameObject.game.add.text(0, 0, "", {
				font: "14pt Arial",
				fill: "#FFFFFF",
				strokeThickness: 4,
				stroke: "#000000"
			})
		}, e.prototype.cleanUpUI = function() {
			t.prototype.cleanUpUI.call(this), this.mousePositionText.destroy(), this.mousePositionText = null
		}, e.prototype.updateUI = function() {
			this.mousePositionText.setText("Mouse Position: X = " + this.gameObject.game.input.x + " Y = " + this.gameObject.game.input.y)
		}, e
	}(i(169).DebugValueRenderer);
	e.MousePositionDebugRenderer = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e() {
				var i = t.call(this) || this;
				return i.memoryUsageElement = null, i.textElement = null, i.graphElement = null, i.lastUsedHeap = 0, i.minBarHeight = 100, i.maxBarHeight = 0, i.redrawMBThreshold = 0, i.requestedHeight = 60, i.requestedWidth = 100, i.updateRate = 1e3, i.redrawMBThreshold = e.GRAPH_HEIGHT, i
			}
			return n(e, t), e.prototype.destroy = function() {
				this.cleanUpUI()
			}, e.prototype.onLayout = function() {
				t.prototype.onLayout.call(this), this.memoryUsageElement.style.left = this.position.x + 15 + "px", this.memoryUsageElement.style.top = this.position.y + 10 + "px"
			}, e.prototype.createUI = function() {
				t.prototype.createUI.call(this);
				var i = document.createElement("div");
				i.id = "stats", i.style.cssText = "width:80px;height:48px;opacity:0.9;cursor:pointer;overflow:hidden;z-index:10000;will-change:transform;", i.style.position = "fixed", i.style.left = "0px", i.style.top = "0px";
				var n = document.createElement("div");
				for (n.id = "ms", n.style.cssText = "padding:0 0 3px 3px;text-align:left;background-color:#020;", i.appendChild(n), this.textElement = document.createElement("div"), this.textElement.id = "msText", this.textElement.style.cssText = "color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px", this.textElement.innerHTML = "Memory", n.appendChild(this.textElement), this.graphElement = document.createElement("div"), this.graphElement.id = "msGraph", this.graphElement.style.cssText = "position:relative;width:74px;height:" + e.GRAPH_HEIGHT + "px;background-color:#0f0", n.appendChild(this.graphElement); this.graphElement.children.length < 74;) {
					var a = document.createElement("span");
					a.style.cssText = "width:1px;height:" + e.GRAPH_HEIGHT + "px;float:left;background-color:#131", this.graphElement.appendChild(a)
				}
				this.memoryUsageElement = i, document.body.appendChild(i)
			}, e.prototype.cleanUpUI = function() {
				t.prototype.cleanUpUI.call(this), document.body.removeChild(this.memoryUsageElement), this.memoryUsageElement = null
			}, e.prototype.updateUI = function() {
				if (a.Util.isValid(window.performance.memory)) {
					var t = window.performance.memory.usedJSHeapSize - this.lastUsedHeap;
					this.lastUsedHeap = window.performance.memory.usedJSHeapSize;
					var i = t < 0 ? "#830" : "#131",
						n = this.lastUsedHeap;
					this.minBarHeight = Math.min(this.minBarHeight, n), this.maxBarHeight = Math.max(this.maxBarHeight, n), this.textElement.textContent = "Mem: " + this.bytesToSize(n, 2);
					var o = n / 1048576;
					if (o > this.redrawMBThreshold) {
						var r = (o - o % e.GRAPH_HEIGHT) / e.GRAPH_HEIGHT,
							s = e.GRAPH_HEIGHT * (r + 1);
						this.redrawGraph(this.graphElement, e.GRAPH_HEIGHT / this.redrawMBThreshold, e.GRAPH_HEIGHT / s), this.redrawMBThreshold = s
					}
					this.updateGraph(this.graphElement, e.GRAPH_HEIGHT - o * (e.GRAPH_HEIGHT / this.redrawMBThreshold), i)
				}
			}, e.prototype.updateGraph = function(t, e, i) {
				var n = t.appendChild(t.firstChild);
				n.style.height = e + "px", a.Util.isValid(i) && (n.style.backgroundColor = i)
			}, e.prototype.redrawGraph = function(t, i, n) {
				[].forEach.call(t.children, function(t) {
					var a = parseInt(t.style.height.substr(0, t.style.height.length - 2)),
						o = e.GRAPH_HEIGHT - (e.GRAPH_HEIGHT - a) / i * n;
					t.style.height = o + "px"
				})
			}, e.prototype.bytesToSize = function(t, i) {
				if (void 0 === i && (i = 0), 0 === t) return "N/A";
				var n = Math.pow(10, i),
					a = Math.floor(Math.log(t) / Math.log(1024));
				return Math.round(t * n / Math.pow(1024, a)) / n + " " + e.SIZES[a]
			}, e.GRAPH_HEIGHT = 30, e.SIZES = ["Bytes", "KB", "MB", "GB", "TB"], e
		}(i(169).DebugValueRenderer);
	e.MemoryUsageDebugRenderer = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = t.call(this) || this;
			return e.averageFPSText = null, e.requestedHeight = 35, e.requestedWidth = 175, e.updateRate = 500, e
		}
		return n(e, t), e.prototype.createUI = function() {
			t.prototype.createUI.call(this), this.averageFPSText = this.gameObject.game.add.text(0, 0, "", {
				font: "14pt Arial",
				fill: "#FFFFFF",
				strokeThickness: 4,
				stroke: "#000000"
			})
		}, e.prototype.cleanUpUI = function() {
			t.prototype.cleanUpUI.call(this), this.averageFPSText.destroy(), this.averageFPSText = null
		}, e.prototype.onLayout = function() {
			t.prototype.onLayout.call(this), this.averageFPSText.position.setTo(this.position.x + 10, this.position.y + 5)
		}, e.prototype.updateUI = function() {
			this.averageFPSText.setText("Average FPS: " + this.gameObject.game.prodigy.getAverageFPS())
		}, e
	}(i(169).DebugValueRenderer);
	e.AverageFPSRenderer = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			t[t.Vertical = 0] = "Vertical", t[t.Horizontal = 1] = "Horizontal"
		}(e.EDebugLayoutType || (e.EDebugLayoutType = {}))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(48),
		o = i(910),
		r = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e.debugRenderers = [], e.layout = [], e.currentLayoutType = o.EDebugLayoutType.Vertical, e
			}
			return n(e, t), Object.defineProperty(e.prototype, "selectedLayout", {
				get: function() {
					return this.currentLayoutType
				},
				set: function(t) {
					this.currentLayoutType !== t && (this.currentLayoutType = t, this.refreshLayout())
				},
				enumerable: !0,
				configurable: !0
			}), e.prototype.addRenderer = function(t) {
				this.debugRenderers.push(t), this.gameObject.addComponent(t), this.layoutRenderer(t)
			}, e.prototype.insertRenderer = function(t, e) {
				e <= this.debugRenderers.length && (this.debugRenderers.splice(e, 0, t), this.gameObject.addComponent(t)), this.refreshLayout()
			}, e.prototype.removeRenderer = function(t) {
				for (var e = 0; e < this.debugRenderers.length; ++e)
					if (this.debugRenderers[e] === t) {
						this.removeRendererAt(e);
						break
					} this.refreshLayout()
			}, e.prototype.findRendererByType = function(t) {
				for (var e = 0; e < this.debugRenderers.length; ++e)
					if (this.debugRenderers[e] instanceof t) return this.debugRenderers[e];
				return null
			}, e.prototype.removeRendererAt = function(t) {
				var e = this.debugRenderers[t];
				e.onRemovedFromLayout(), this.debugRenderers.splice(t, 1), this.gameObject.removeComponent(e)
			}, e.prototype.refreshLayout = function() {
				this.layout = [];
				for (var t = 0; t < this.debugRenderers.length; ++t) this.layoutRenderer(this.debugRenderers[t])
			}, e.prototype.layoutRenderer = function(t) {
				this.findPosition(t), this.layout.push(t)
			}, e.prototype.findPosition = function(t) {
				var e = new Phaser.Rectangle(0, 0, t.requestedWidth, t.requestedHeight);
				if (this.layout.length > 0) {
					var i = this.layout[this.layout.length - 1];
					this.selectedLayout === o.EDebugLayoutType.Horizontal ? (e.x = i.position.x + i.requestedWidth + 1, e.x + t.requestedWidth > this.gameObject.game.width && (e.x = 0)) : (e.y = i.position.y + i.requestedHeight + 1, e.y + t.requestedHeight > this.gameObject.game.height && (e.y = 0))
				}
				for (var n = new Phaser.Rectangle(0, 0, 0, 0), a = 0; a < this.layout.length; ++a) n.setTo(this.layout[a].position.x, this.layout[a].position.y, this.layout[a].requestedWidth, this.layout[a].requestedHeight), n.intersects(e, 0) && (this.selectedLayout === o.EDebugLayoutType.Horizontal ? e.y = n.bottom + 1 : e.x = n.right + 1);
				t.position.setTo(e.x, e.y), t.onLayout()
			}, e
		}(a.Component);
	e.DebugLayout = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(2),
		a = function() {
			return function(t, e) {
				var i = n.Items.getItem("spell", e).data;
				t.elementSprite.setImageFrameName("icons/icon-" + i.element + "-mini"), t.spellName.setText(i.name)
			}
		}();
	e.BamSpellInfo = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(65),
		a = i(295),
		o = i(293),
		r = i(14),
		s = function() {
			function t(t, e) {
				this.game = t, this.bam = e, this.dialogue = this.game.prodigy.dialogue.create(), this.warningDialogue = this.game.prodigy.dialogue.create()
			}
			return t.prototype.playFromQueue = function() {
				for (var t = 0; t < this.queue.length; t++) {
					if (this.queue[t]()) {
						this.queue.splice(t, 1);
						break
					}
				}
			}, t.prototype.init = function(t) {
				var e = this,
					i = this.game.prodigy.breadcrumbManager;
				this.queue = [], i.isBreadcrumbComplete(r.Breadcrumbs.FEATURE_BATTLE_TUTORIAL, r.Breadcrumbs.BREADCRUMB_FIRST_BATTLE_STARTED) || this.queue.push(function() {
					return e.handleAttackChoiceTutorial()
				}), i.isBreadcrumbComplete(r.Breadcrumbs.FEATURE_BATTLE_TUTORIAL, r.Breadcrumbs.BREADCRUMB_FIRST_PET_RESCUABLE) || this.queue.push(function() {
					return e.handleRescueIntroTutorial()
				}), i.isBreadcrumbComplete(r.Breadcrumbs.FEATURE_BATTLE_TUTORIAL, r.Breadcrumbs.BREADCRUMB_FIRST_PET_RESCUED) || this.queue.push(function() {
					return e.handleRescueTutorial()
				}), i.isBreadcrumbComplete(r.Breadcrumbs.FEATURE_BATTLE_TUTORIAL, r.Breadcrumbs.BREADCRUMB_FIRST_ENERGY_GAINED) || this.queue.push(function() {
					return e.handleEnergyTutorial()
				}), i.isBreadcrumbComplete(r.Breadcrumbs.FEATURE_BATTLE_TUTORIAL, r.Breadcrumbs.BREADCRUMB_FIRST_AOE_READY) || this.queue.push(function() {
					return e.handleAOETutorial(t)
				})
			}, t.prototype.handleAttackChoiceTutorial = function() {
				var t = this;
				this.game.prodigy.breadcrumbManager.completeBreadcrumb(r.Breadcrumbs.FEATURE_BATTLE_TUTORIAL, r.Breadcrumbs.BREADCRUMB_FIRST_BATTLE_STARTED), this.dialogue.setText(8), this.dialogue.start("noot", !0), this.bam.setTabsActive(!1);
				var e = n(this.bam.getAttackButtons(), function(t) {
					return t.canCastSpell()
				});
				return this.highlightAll(e, !0), this.bam.onHide.addOnce(function() {
					t.dialogue.close(), t.highlightAll(e, !1), t.bam.setTabsActive(!0)
				}), !0
			}, t.prototype.handleEnergyTutorial = function() {
				var t = this,
					e = n(this.bam.getAttackButtons(), function(e) {
						var i = e.getEnergyCost();
						return !e.isLocked() && i > 0 && t.game.prodigy.player.getEnergy() <= i
					});
				if (e.length <= 0) return !1;
				this.game.prodigy.breadcrumbManager.completeBreadcrumb(r.Breadcrumbs.FEATURE_BATTLE_TUTORIAL, r.Breadcrumbs.BREADCRUMB_FIRST_ENERGY_GAINED), this.dialogue.setText(203), this.dialogue.setText(204), this.dialogue.setText(205), this.dialogue.setText({
					callback: function() {
						t.highlightAll(e, !0)
					}
				}), this.dialogue.start("noot", !1);
				for (var i = function() {
						t.highlightAll(e, !1)
					}, a = function() {
						for (var n = 0; n < e.length; n++) e[n].spellBlocked.remove(i);
						t.bam.onHide.remove(i)
					}, o = 0; o < e.length; o++) e[o].spellBlocked.add(i), e[o].spellBlocked.add(a);
				return this.bam.onHide.add(i), this.bam.onHide.add(a), !0
			}, t.prototype.highlightAll = function(t, e) {
				a(t, function(t) {
					t.getUIElement().highlight(e, -5, 20)
				})
			}, t.prototype.handleAOETutorial = function(t) {
				var e = this,
					i = n(this.bam.getAttackButtons(), function(t) {
						return "aoe" === t.getTargetType() && t.canCastSpell()
					});
				return !(i.length <= 0 || t.getLiving().length <= 1) && (this.game.prodigy.breadcrumbManager.completeBreadcrumb(r.Breadcrumbs.FEATURE_BATTLE_TUTORIAL, r.Breadcrumbs.BREADCRUMB_FIRST_AOE_READY), this.dialogue.setText(206), this.dialogue.setText(207), this.dialogue.setText(208), this.dialogue.setText({
					callback: function() {
						e.highlightAll(i, !0)
					}
				}), this.dialogue.start("noot", !1), this.bam.onHide.addOnce(function() {
					e.highlightAll(i, !1)
				}), !0)
			}, t.prototype.handleRescueIntroTutorial = function() {
				var t = this.bam.getRescueButton();
				return !(!t.visible || this.game.prodigy.player.kennel.isFull()) && (this.bam.setTabsActive(!1), this.bam.setAttackButtonsActive(this.game.prodigy.player.hasCompletedTutorial()), this.dialogue.setText(217), this.dialogue.setText(218), this.dialogue.setText({
					callback: function() {
						t.highlight(!0, -8, 13)
					}
				}), this.dialogue.start("noot", !1), !0)
			}, t.prototype.handleRescueTutorial = function() {
				return !(!this.bam.getRescueButton().visible || this.game.prodigy.player.hasCompletedTutorial() || this.game.prodigy.player.kennel.isFull()) && (this.bam.setTabsActive(!1), this.bam.setAttackButtonsActive(!1), this.game.prodigy.breadcrumbManager.isBreadcrumbComplete(r.Breadcrumbs.FEATURE_BATTLE_TUTORIAL, r.Breadcrumbs.BREADCRUMB_FIRST_PET_RESCUED))
			}, t.prototype.handleSpellBlocked = function(t) {
				t === o.BamButtonLockType.SEAL ? this.handleSealedSpell() : t === o.BamButtonLockType.WAND ? this.handleEmptyWand() : t === o.BamButtonLockType.RELIC ? this.handleEmptyRelic() : t === o.BamButtonLockType.NONE && this.handleUnchargedSpell()
			}, t.prototype.handleUnchargedSpell = function() {
				this.warningDialogue.setText(209), this.warningDialogue.start("noot", !1)
			}, t.prototype.handleSealedSpell = function() {
				this.warningDialogue.setText(210), this.warningDialogue.start("noot", !1)
			}, t.prototype.handleEmptyWand = function() {
				this.warningDialogue.setText(211), this.warningDialogue.start("noot", !1)
			}, t.prototype.handleEmptyRelic = function() {
				this.warningDialogue.setText(212), this.warningDialogue.start("noot", !1)
			}, t.prototype.handleBlockedInput = function() {
				this.warningDialogue.setText(221), this.warningDialogue.start("noot", !1)
			}, t
		}();
	e.BattleTutorial = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(5),
		o = i(0),
		r = i(48),
		s = i(56),
		l = function(t) {
			function e(e) {
				var i = t.call(this) || this;
				return i.player = null, i.renderer = null, i.animStates = {
					stand: "idle",
					walk: "walk"
				}, i.player = e, i
			}
			return n(e, t), e.prototype.create = function() {
				t.prototype.create.call(this), this.renderer = this.gameObject.findComponent(s.Renderer), this.renderer.setAnchor(.5, 0), this.gameObject.game.broadcaster.addAppListener(a.EPlayerContainerEvents.NewAnimationStateSet, this.playAnimation.bind(this), this, this.player), this.playAnimation(this.player.animStates.STAND)
			}, e.prototype.hasUniqueInstance = function() {
				return !0
			}, e.prototype.destroy = function() {
				o.Util.isValid(this.gameObject.game) && this.gameObject.game.broadcaster.removeAppListener(a.EPlayerContainerEvents.NewAnimationStateSet, this, this.player)
			}, e.prototype.playAnimation = function(t) {
				var e = this.animStates[t];
				o.Util.isValid(e) ? this.renderer.playAnimation(e, !0) : this.renderer.playAnimation(this.animStates.stand, !0)
			}, e
		}(r.Component);
	e.MountBehaviour = l
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(914),
		a = i(40),
		o = i(174),
		r = i(56),
		s = i(61),
		l = i(2),
		c = i(0),
		h = function() {
			function t(t, e, i) {
				this.mountBelowGameObject = null, this.mountAboveGameObject = null, this.game = null, this.player = null, this.id = 0, this.mountBelowRenderer = null, this.particleEmitterGameObject = null, this.itemData = null, this.game = t, this.player = e, this.id = i, this.create()
			}
			return t.prototype.create = function() {
				this.itemData = l.Items.getItem("mount", this.id), this.mountBelowGameObject = this.createMountGameObject("below-mount-" + this.id, this.itemData.metadata.assets.below), this.mountBelowGameObject.z = 0, this.mountBelowRenderer = this.mountBelowGameObject.findComponent(r.Renderer), this.mountAboveGameObject = this.createMountGameObject("above-mount-" + this.id, this.itemData.metadata.assets.above), this.mountAboveGameObject.z = this.player.sprites.children.length + 1, this.player.sprites.sort("z", Phaser.Group.SORT_ASCENDING)
			}, t.prototype.createMountGameObject = function(t, e) {
				var i = new n.MountBehaviour(this.player),
					o = s.RenderFactory.createRenderer(t, e);
				return new a.GameObject(this.game, null, [o, i], e.x * (1 / this.player.sprites.scale.x), e.y * (1 / this.player.sprites.scale.y))
			}, t.prototype.createParticleEmitter = function() {
				return new o.ParticleEmitter({
					ID: 5,
					x: -50,
					y: 20
				}, this.game.particleStorm, this.game.time, Phaser.ParticleStorm.SPRITE)
			}, t.prototype.update = function() {
				var t = {
					x: 0,
					y: -40
				};
				this.player.isFacingLeft() && (t.x = this.mountBelowRenderer.getWidth() + 5), c.Util.isValid(this.particleEmitterGameObject) && (this.particleEmitterGameObject.x = this.player.x + t.x, this.particleEmitterGameObject.y = this.player.y + t.y)
			}, t.prototype.destroy = function() {
				c.Util.isValid(this.mountAboveGameObject) && (this.mountAboveGameObject.destroy(), this.mountAboveGameObject = null), c.Util.isValid(this.mountBelowGameObject) && (this.mountBelowGameObject.destroy(), this.mountBelowGameObject = null), this.stopParticles()
			}, t.prototype.startParticles = function() {
				if (!c.Util.isValid(this.particleEmitterGameObject)) {
					var t = new Phaser.Point(this.player.x + this.itemData.metadata.assets.below.x, this.player.y + this.itemData.metadata.assets.below.y),
						e = this.createParticleEmitter();
					this.particleEmitterGameObject = new a.GameObject(this.game, this.player.parent, [e], t.x, t.y)
				}
			}, t.prototype.stopParticles = function() {
				c.Util.isValid(this.particleEmitterGameObject) && (c.Util.isValid(this.particleEmitterGameObject.game) && this.particleEmitterGameObject.destroy(), this.particleEmitterGameObject = null)
			}, t
		}();
	e.MountRenderer = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i, n, a, o) {
			return t.call(this, e, i, n, a, o) || this
		}
		return n(e, t), e.prototype.startLoad = function() {
			this.outOfDate = !1, this.loading = !0, this.game.prodigy.load.assets(["spine-15"], this.setup.bind(this))
		}, e.prototype.setup = function() {
			var t = this.game.prodigy.create.element(this.sprites, 0, 0);
			this.spine = this.game.add.spine(0, 0, "spine-15"), this.visible = !0, this.idle(), t.add(this.spine), this.complete = !0, this.loading = !1
		}, e.prototype.idle = function() {
			this.spine.setAnimationByName(0, "idle", !0), this.spine.setToSetupPose()
		}, e.prototype.attack = function() {
			this.spine.setAnimationByName(0, "attack", !1), this.spine.addAnimationByName(0, "idle", !0), this.spine.setToSetupPose()
		}, e
	}(i(47).BossContainer);
	e.PippetContainer = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i, n, a, o) {
			return t.call(this, e, i, n, a, o) || this
		}
		return n(e, t), e.prototype.setup = function() {
			var t = this.game.prodigy.create.element(this.sprites, 0, 0);
			this.spine = this.game.add.spine(0, 0, "default-boss-15"), this.idle(), t.add(this.spine), this.showName("Old One"), this.nameText.GameObject.y = -430, this.nameText.GameObject.x -= 10, this.visible = !0
		}, e.prototype.idle = function() {
			this.spine.setAnimationByName(0, "idle", !0), this.spine.setToSetupPose()
		}, e.prototype.attack = function() {
			this.spine.setAnimationByName(0, "attack", !1), this.spine.addAnimationByName(0, "idle", !0), this.spine.setToSetupPose()
		}, e
	}(i(47).BossContainer);
	e.OldOneContainer = a
}, function(t) {
	t.exports = {
		stand: {
			loop: !0,
			head: {
				y: {
					interval: 30,
					frames: [0, -.2, -.4, -.6, -.8, -1, -1.2, -1.4, -1.6, -1.8, -2, -2.2, -2.4, -2.6, -2.8, -3, -2.8, -2.6, -2.4, -2.2, -2, -1.8, -1.6, -1.4, -1.2, -1, -.8, -.6, -.4, -.3, -.15]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				xScale: {
					interval: 1e4,
					frames: [1]
				},
				yScale: {
					interval: 1e4,
					frames: [1]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			legs: {
				frameName: {
					interval: 1e4,
					frames: [0]
				},
				y: {
					interval: 1e4,
					frames: [0]
				},
				x: {
					interval: 1e4,
					frames: [0]
				}
			},
			shirt: {
				y: {
					interval: 30,
					frames: [0, -.15, -.3, -.45, -.6, -.75, -.9, -1.05, -1.2, -1.35, -1.5, -1.65, -1.8, -1.95, -2.1, -2.25, -2.4, -2.4, -2.2, -2, -1.8, -1.6, -1.4, -1.2, -1, -.8, -.6, -.4, -.3, -.2, -.1]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			leftArm: {
				y: {
					interval: 30,
					frames: [0, -.25, -.5, -.75, -1, -1.25, -1.5, -1.75, -2, -2.25, -2.5, -2.75, -3, -3.25, -3.5, -3.75, -3.75, -3.5, -3.25, -3, -2.75, -2.5, -2.25, -2, -1.75, -1.5, -1.25, -1, -.75, -.5, -.25]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			rightArm: {
				y: {
					interval: 30,
					frames: [0, -.25, -.5, -.75, -1, -1.25, -1.5, -1.75, -2, -2.25, -2.5, -2.75, -3, -3.25, -3.5, -3.75, -3.75, -3.5, -3.25, -3, -2.75, -2.5, -2.25, -2, -1.75, -1.5, -1.25, -1, -.75, -.5, -.25]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			weapon: {
				x: {
					interval: 93,
					frames: [0, -.1, -.2, -.3, -.4, -.5, -.4, -.3, -.2, -.1]
				},
				y: {
					interval: 30,
					frames: [0, -.35, -.7, -1.05, -1.4, -1.75, -2.1, -2.45, -2.8, -3.15, -3.5, -3.85, -4.2, -4.55, -4.9, -5.25, -5.25, -4.9, -4.55, -4.2, -3.85, -3.5, -3.15, -2.8, -2.45, -2.1, -1.75, -1.4, -1.05, -.7, -.35]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			transformedObject: {
				y: {
					interval: 30,
					frames: [0, -.15, -.3, -.45, -.6, -.75, -.9, -1.05, -1.2, -1.35, -1.5, -1.65, -1.8, -1.95, -2.1, -2.25, -2.4, -2.4, -2.2, -2, -1.8, -1.6, -1.4, -1.2, -1, -.8, -.6, -.4, -.3, -.2, -.1]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			}
		},
		standFloat: {
			loop: !0,
			head: {
				y: {
					interval: 30,
					frames: [0, -.2, -.4, -.6, -.8, -1, -1.2, -1.4, -1.6, -1.8, -2, -2.2, -2.4, -2.6, -2.8, -3, -2.8, -2.6, -2.4, -2.2, -2, -1.8, -1.6, -1.4, -1.2, -1, -.8, -.6, -.4, -.3, -.15]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				xScale: {
					interval: 1e4,
					frames: [1]
				},
				yScale: {
					interval: 1e4,
					frames: [1]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			legs: {
				frameName: {
					interval: 1e4,
					frames: [3]
				},
				y: {
					interval: 30,
					frames: [0, .1, .2, .3, .4, .5, .6, .7, .8, .9, .9, .85, .8, .75, .7, .65, .6, .55, .5, .45, .4, .35, .3, .25, .2, .15, .1, .05, 0, -.05, -.05]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			shirt: {
				y: {
					interval: 30,
					frames: [0, -.15, -.3, -.45, -.6, -.75, -.9, -1.05, -1.2, -1.35, -1.5, -1.65, -1.8, -1.95, -2.1, -2.25, -2.4, -2.4, -2.2, -2, -1.8, -1.6, -1.4, -1.2, -1, -.8, -.6, -.4, -.3, -.2, -.1]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			leftArm: {
				y: {
					interval: 30,
					frames: [0, -.25, -.5, -.75, -1, -1.25, -1.5, -1.75, -2, -2.25, -2.5, -2.75, -3, -3.25, -3.5, -3.75, -3.75, -3.5, -3.25, -3, -2.75, -2.5, -2.25, -2, -1.75, -1.5, -1.25, -1, -.75, -.5, -.25]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			rightArm: {
				y: {
					interval: 30,
					frames: [0, -.25, -.5, -.75, -1, -1.25, -1.5, -1.75, -2, -2.25, -2.5, -2.75, -3, -3.25, -3.5, -3.75, -3.75, -3.5, -3.25, -3, -2.75, -2.5, -2.25, -2, -1.75, -1.5, -1.25, -1, -.75, -.5, -.25]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			weapon: {
				x: {
					interval: 93,
					frames: [0, -.1, -.2, -.3, -.4, -.5, -.4, -.3, -.2, -.1]
				},
				y: {
					interval: 30,
					frames: [0, -.35, -.7, -1.05, -1.4, -1.75, -2.1, -2.45, -2.8, -3.15, -3.5, -3.85, -4.2, -4.55, -4.9, -5.25, -5.25, -4.9, -4.55, -4.2, -3.85, -3.5, -3.15, -2.8, -2.45, -2.1, -1.75, -1.4, -1.05, -.7, -.35]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			}
		},
		walk: {
			loop: !0,
			head: {
				y: {
					interval: 30,
					frames: [0, -1, -2, -2.6, -2.4, -2.2, -2, -1.8, -.5, .2, 1.2, 1.4, 1.5, 1.6]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				xScale: {
					interval: 1e4,
					frames: [1]
				},
				yScale: {
					interval: 1e4,
					frames: [1]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			shirt: {
				y: {
					interval: 30,
					frames: [0, -.4, -.8, -1, -1.2, -1.5, -1.5, -1.6, -.6, .6, 1.6, 1.5, 1.4, 1.3]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			leftArm: {
				y: {
					interval: 30,
					frames: [0, -.6, -1.3, -1.7, -2, -2.5, -2.4, -2.3, -1, .2, 1.5, 1.7, 1.9, 2]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			rightArm: {
				y: {
					interval: 30,
					frames: [0, -.6, -1.3, -1.7, -2, -2.5, -2.4, -2.3, -1, .2, 1.5, 1.7, 1.9, 2]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			weapon: {
				y: {
					interval: 30,
					frames: [0, -.7, -1.4, -1.9, -2.4, -2.8, -2.8, -2.7, -1.4, -.1, 1.2, 1.3, 1.4, 1.5]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			legs: {
				frameName: {
					interval: 80,
					frames: [1, 2, 3, 4]
				},
				y: {
					interval: 1e4,
					frames: [0]
				},
				x: {
					interval: 1e4,
					frames: [0]
				}
			},
			transformedObject: {
				y: {
					interval: 30,
					frames: [0, -2.4, -4.8, -6, -7.2, -9, -9, -9.6, -3.6, 1.8, 9.6, 9, 8.4, 7.8]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			}
		},
		walkFloat: {
			loop: !0,
			head: {
				y: {
					interval: 30,
					frames: [-.4, 0, .5, 1, 1.4, 1.9, 2.3, 2.1, 2, 1.8, 1.2, .6, .4, .2, 0, 0, -.1, -.2]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				xScale: {
					interval: 1e4,
					frames: [1]
				},
				yScale: {
					interval: 1e4,
					frames: [1]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			shirt: {
				y: {
					interval: 30,
					frames: [1.3, 1.5, 1.7, 1.9, 2, 2.2, 2.4, 2.5, 2.7, 2.9, 2.6, 2.3, 1.9, 1.6, 1.3, 1.2, 1.1, 1]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			leftArm: {
				y: {
					interval: 30,
					frames: [1.3, 1.5, 1.7, 1.9, 2, 2.2, 2.4, 2.5, 2.7, 2.9, 2.6, 2.3, 1.9, 1.6, 1.3, 1.2, 1.1, 1]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			rightArm: {
				y: {
					interval: 30,
					frames: [1.3, 1.5, 1.7, 1.9, 2, 2.2, 2.4, 2.5, 2.7, 2.9, 2.6, 2.3, 1.9, 1.6, 1.3, 1.2, 1.1, 1]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			weapon: {
				y: {
					interval: 30,
					frames: [1.3, 1.5, 1.7, 1.9, 2, 2.2, 2.4, 2.5, 2.7, 2.9, 2.6, 2.3, 1.9, 1.6, 1.3, 1.2, 1.1, 1]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			legs: {
				y: {
					interval: 30,
					frames: [0, -.3, -.6, -.9, -1.2, -1.5, -1.8, -2.1, -1.9, -1.7, -1.5, -1.3, -1.1, -.9, -.7, -.5, -.3, -.1]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				frameName: {
					interval: 1e4,
					frames: [3]
				},
				angle: {
					interval: 1e4,
					frames: [15]
				}
			}
		},
		dig: {
			loop: !1,
			head: {
				x: {
					interval: 30,
					frames: [-4.4, -1, 2.2, 5.6, 5.4, 5.2, 5, 4.9, 4.7, 4.5, 4.4, 4.2, 4, 3.9, 3.8, 3.6, 2.8, 1.4, .6, -.1, -.9, -1.6, -2.4, -3.1, 0]
				},
				y: {
					interval: 30,
					frames: [.4, .2, .9, 1.6, 1.5, 1.4, 1.3, 1.2, 1, 1, .9, .8, .8, .8, .8, .8, .6, .2, 0, -.2, -.4, -.6, -.8, -1, 0]
				},
				angle: {
					interval: 30,
					frames: [-4, 0, 2, 6, 10, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 8, 6, 5, 4, 3, 2, 1, 0, 0]
				}
			},
			shirt: {
				angle: {
					interval: 30,
					frames: [0, 5, 11, 17, 16, 16, 15, 15, 15, 14, 14, 14, 13, 13, 13, 12, 11, 10, 9, 8, 7, 6, 4, 2, 0]
				},
				x: {
					interval: 30,
					frames: [0, .9, 1.8, 2.7, 2.5, 2.5, 2.4, 2.2, 2.1, 2, 1.9, 1.8, 1.7, 1.6, 1.5, 1.4, 1.2, 1.1, 1, .9, .8, .7, .6, .4, 0]
				},
				y: {
					interval: 30,
					frames: [0, .5, 1, 1.5, 1.5, 1.4, 1.3, 1.3, 1.2, 1.1, 1, 1, .9, .8, .8, .7, .6, .5, .5, .4, .3, .3, .2, .1, 0]
				}
			},
			rightArm: {
				angle: {
					interval: 30,
					frames: [0, 11, 22, 34, 40, 45, 42, 38, 35, 32, 29, 25, 22, 19, 15, 12, 8, 4, 0, -4, -8, -12, -16, -20, -24]
				},
				x: {
					interval: 30,
					frames: [0, 2.4, 4.9, 7.4, 7, 6.8, 6.5, 6.2, 5.9, 5.7, 5.4, 5.1, 4.8, 4.6, 4.3, 4, 3.5, 3.1, 2.7, 2.3, 1.8, 1.4, 1, .6, .2]
				}
			},
			leftArm: {
				angle: {
					interval: 30,
					frames: [0, 5, 10, 15, 15, 20, 18, 16, 16, 15, 13, 12, 10, 9, 6, 3, 0, -4, -7, -11, -14, -18, -22, -25, -29]
				},
				x: {
					interval: 30,
					frames: [0, 2.4, 4.6, 6.8, 6.6, 6.4, 6.2, 6, 5.8, 5.6, 5.4, 5.2, 5, 4.9, 4.7, 4.5, 4, 3.7, 3.3, 2.9, 2.6, 2.2, 1.7, 1.4, .9]
				},
				y: {
					interval: 30,
					frames: [0, 1.2, 2.4, 3.9, 3.7, 3.6, 3.5, 3.3, 3.2, 3, 2.9, 2.8, 2.6, 2.5, 2.4, 2.3, 2, 1.8, 1.5, 1.3, 1.1, .9, .7, .5, .2]
				}
			},
			legs: {
				frameName: {
					interval: 1e4,
					frames: [1]
				},
				y: {
					interval: 1e4,
					frames: [0]
				}
			},
			weapon: {
				x: {
					interval: 30,
					frames: [-25.2, -24.5, -23.8, -22.9, -23.5, -24.8, -24.6, -24.3, -24.2, -24, -23.8, -23.7, -23.5, -22.8, -22.1, -21.5, -20.9, -20.2, -19.6, -18.9, -18.3, -17.7, -17.1, -16.6, -16.2]
				},
				y: {
					interval: 30,
					frames: [.4, .1, -.6, -1.3, -1.4, -3.4, -3.1, -2.8, -2.6, -2.3, -2, -1.8, -1.6, -1.4, -1, -.6, -.2, 0, .3, .4, .4, .4, .2, 0, 0, -.5]
				},
				angle: {
					interval: 30,
					frames: [45, 46, 60, 67, 68, 75, 74, 73, 72, 70, 69, 68, 67, 66, 64, 61, 59, 55, 53, 50, 47, 43, 41, 38, 35, 33]
				}
			}
		},
		attack: {
			loop: !1,
			head: {
				y: {
					interval: 30,
					frames: [0, -.1, -.1, -.2, -.2, -.3, .3, .8, 1.4, 2.6, 0, -2.7, -5.4, -8, -10.7, -13.5, -16.1, -18.8, -21.5, -24.2, -26, -28, -24.8, -21.5, -18.3, -15, -11.8, -8.6, -5.4, -2, 1.5, 2, 2, 1.8, 1, 0, -.4, -.8, -.6, -.4, -.2, 0, 0, 0, 0, 0, 0, 0, 0, 0]
				}
			},
			shirt: {
				y: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			legs: {
				y: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -2.2, -4.4, -6.6, -8.7, -10.9, -13.1, -15.3, -17.5, -19.7, -21.9, -24.1, -26.27, -23.3, -20.3, -17.4, -14.4, -11.5, -8.5, -5.5, -2.6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
				},
				frameName: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
				}
			},
			rightArm: {
				y: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0]
				},
				angle: {
					interval: 30,
					frames: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 14, 16, 18, 20, 28, 36, 44, 52, 60, 68, 76, 84, 92, 100, 93, 86, 79, 72, 65, 58, 51, 44, 37, 30, 23, 16, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
				}
			},
			leftArm: {
				y: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0]
				},
				angle: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, 0, -8, -16, -24, -32, -40, -48, -56, -64, -72, -80, -85, -90, -95, -100, -104, -107, -97, -87, -77, -67, -57, -47, -37, -27, -17, -7, -5, -3, -2, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
				}
			},
			weapon: {
				y: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, .9, .2, -.7, -1, 8, -3, -7.7, -12.4, -17.13, -21.9, -26.6, -31.3, -35.8, -40.3, -44.5, -48.6, -48.3, -47.7, -41.6, -35.3, -28.9, -22.6, -16.5, -12.8, -9.1, -5.5, -1.8, 0, -.2, -.6, -1, -1.4, -1.8, -2.3, -2.6, -3, -2.9, -2.8, -2.4, -2, -1.5, -1, -.5, 0]
				},
				x: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, 1.5, 3, 4.2, 5.2, 5.9, 6.4, 6.5, 6.4, 6, 5.4, 4.5, 3.3, 1.9, .4, 2.7, 4.5, 5.7, 6.4, 6.5, 5.8, 4.7, 4.5, 4.2, 3.9, 3.6, 3.6, 3.5, 3.5, 3.5, 3.4, 3.4, 3.3, 3.3, 3.3, 3.2, 3.2, 3.1, 2.9, 2.5, 2, 1.5, 1, .5, 0]
				},
				angle: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, -8, -15, -23, -31, -37, -46, -54, -62, -69, -77, -84, -92, -100, -73, -58, -43, -28, -13, 2, 17, 32, 37, 43, 48, 53, 58, 55, 52, 49, 45, 42, 38, 35, 32, 29, 25, 22, 18, 15, 12, 9, 6, 3, 0]
				}
			},
			transformedObject: {
				y: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			}
		},
		attackFloat: {
			loop: !1,
			head: {
				y: {
					interval: 30,
					frames: [0, -.1, -.1, -.2, -.2, -.3, .3, .8, 1.4, 2.6, 0, -2.7, -5.4, -8, -10.7, -13.5, -16.1, -18.8, -21.5, -24.2, -26, -28, -24.8, -21.5, -18.3, -15, -11.8, -8.6, -5.4, -2, 1.5, 2, 2, 1.8, 1, 0, -.4, -.8, -.6, -.4, -.2, 0, 0, 0, 0, 0, 0, 0, 0, 0]
				}
			},
			shirt: {
				y: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			legs: {
				y: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -2.2, -4.4, -6.6, -8.7, -10.9, -13.1, -15.3, -17.5, -19.7, -21.9, -24.1, -26.27, -23.3, -20.3, -17.4, -14.4, -11.5, -8.5, -5.5, -2.6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
				},
				frameName: {
					interval: 1e4,
					frames: [3]
				},
				angle: {
					interval: 30,
					frames: [0, 0, 0, 0, -1, -2, -3, -5, -8, -10, -12, -14, -16, -18, -20, -22, -24, -24, -24, -24, -24, -24, -24, -24, -24, -24, -23, -22, -21, -20, -19, -18, -17, -16, -15, -14, -13, -12, -11, -10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0]
				}
			},
			rightArm: {
				y: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0]
				},
				angle: {
					interval: 30,
					frames: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 14, 16, 18, 20, 28, 36, 44, 52, 60, 68, 76, 84, 92, 100, 93, 86, 79, 72, 65, 58, 51, 44, 37, 30, 23, 16, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
				}
			},
			leftArm: {
				y: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0]
				},
				angle: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, 0, -8, -16, -24, -32, -40, -48, -56, -64, -72, -80, -85, -90, -95, -100, -104, -107, -97, -87, -77, -67, -57, -47, -37, -27, -17, -7, -5, -3, -2, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
				}
			},
			weapon: {
				y: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, .9, .2, -.7, -1, 8, -3, -7.7, -12.4, -17.13, -21.9, -26.6, -31.3, -35.8, -40.3, -44.5, -48.6, -48.3, -47.7, -41.6, -35.3, -28.9, -22.6, -16.5, -12.8, -9.1, -5.5, -1.8, 0, -.2, -.6, -1, -1.4, -1.8, -2.3, -2.6, -3, -2.9, -2.8, -2.4, -2, -1.5, -1, -.5, 0]
				},
				x: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, 1.5, 3, 4.2, 5.2, 5.9, 6.4, 6.5, 6.4, 6, 5.4, 4.5, 3.3, 1.9, .4, 2.7, 4.5, 5.7, 6.4, 6.5, 5.8, 4.7, 4.5, 4.2, 3.9, 3.6, 3.6, 3.5, 3.5, 3.5, 3.4, 3.4, 3.3, 3.3, 3.3, 3.2, 3.2, 3.1, 2.9, 2.5, 2, 1.5, 1, .5, 0]
				},
				angle: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, -8, -15, -23, -31, -37, -46, -54, -62, -69, -77, -84, -92, -100, -73, -58, -43, -28, -13, 2, 17, 32, 37, 43, 48, 53, 58, 55, 52, 49, 45, 42, 38, 35, 32, 29, 25, 22, 18, 15, 12, 9, 6, 3, 0]
				}
			}
		},
		attackBig: {
			loop: !1,
			head: {
				y: {
					interval: 30,
					frames: [0, -.1, -.1, -.2, -.2, -.3, .3, .8, 1.4, 2.6, 0, -2.7, -5.4, -8, -10.7, -13.5, -16.1, -18.8, -21.5, -24.2, -26, -28, -24.8, -21.5, -18.3, -15, -11.8, -8.6, -5.4, -2, 1.5, 2, 2, 1.8, 1, 0, -.4, -.8, -.6, -.4, -.2, 0, 0, 0, 0, 0, 0, 0, 0, 0]
				}
			},
			shirt: {
				y: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0]
				},
				x: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			legs: {
				y: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -2.2, -4.4, -6.6, -8.7, -10.9, -13.1, -15.3, -17.5, -19.7, -21.9, -24.1, -26.27, -23.3, -20.3, -17.4, -14.4, -11.5, -8.5, -5.5, -2.6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
				},
				frameName: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
				}
			},
			rightArm: {
				y: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0]
				},
				angle: {
					interval: 30,
					frames: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 14, 16, 18, 20, 28, 36, 44, 52, 60, 68, 76, 84, 92, 100, 93, 86, 79, 72, 65, 58, 51, 44, 37, 30, 23, 16, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
				}
			},
			leftArm: {
				y: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, .6, 1.2, 1.8, 2.4, 3, .3, -2.3, -5, -7.7, -10.4, -13, -15.8, -18.4, -21.1, -23.8, -25.7, -27.6, -24.4, -21.1, -17.9, -14.7, -11.5, -8.2, -5, -1.5, 1.4, 1.7, 1.2, .8, .4, .3, .2, .1, 0, -.1, -.2, -.3, -.3, -.2, -.2, -.1, -.1, 0, 0]
				},
				angle: {
					interval: 30,
					frames: [0, 0, 0, 0, 0, 0, 0, -8, -16, -24, -32, -40, -48, -56, -64, -72, -80, -85, -90, -95, -100, -104, -107, -97, -87, -77, -67, -57, -47, -37, -27, -17, -7, -5, -3, -2, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
				}
			},
			weapon: {
				angle: {
					interval: 30,
					frames: [23, 24, 26, 27, 29, 30, 32, 33, 25, 16, 8, 0, -8, -16, -25, -33, -29, -26, -20, -15, -9, -3, 3, 8.5, 14, 22, 26, 31, 36, 40, 43, 43, 44, 45, 45, 46, 47, 48, 49, 47, 45, 43, 42, 40, 41, 42, 42, 43, 44, 45]
				},
				x: {
					interval: 30,
					frames: [-26.1, -27.6, -29.2, -31, -32.7, -34.6, -36.6, -38.6, -35, -31.6, -28.7, -26.6, -25.1, -24, -23.5, -23.5, -23.5, -23.5, -23, -22.4, -22, -22, -21.4, -21.4, -21.7, -22.2, -24.1, -26, -28, -30.3, -32.7, -32, -33, -33, -33, -34, -34, -34.3, -34.6, -36.5, -38.5, -40.4, -42.3, -44.2, -38.2, -32.3, -27, -21, -16, -6]
				},
				y: {
					interval: 30,
					frames: [13.5, 14.6, 15.7, 16.6, 17.4, 18, 18.5, 18.8, 19.8, 19.8, 19.1, 17, 14.7, 5.2, -4.2, -13.4, -21.5, -29.6, -36, -42.2, -37, -31.6, -26, -19.9, -13.6, -7.1, -2, 3, 8, 12, 15.8, 15.2, 15, 15, 15, 15, 15, 14.7, 14.6, 14.5, 14.3, 14, 14, 13.4, 15.2, 16, 16, 15, 15, 12.4]
				}
			}
		},
		moonwalkfemale: {
			loop: !0,
			rightArm: {
				x: {
					interval: 40,
					frames: [0, .5, 1, 1.4, 1.9, 1.5, 1, .5, 0, .4, .9, 1.4, 1.9, 1.5, 1, .5, 0, .4, .9, 1.4, 2, 1.5, 1, .5, 0, .4, .9, 1.5, 2, 1.5, 1, .5, 0, .4, 1, 1.5, 2.1, 1.6, 1, .4, -.2, .4, 1, 1.6, 2.3, 1.6, .8, 0, -.9]
				},
				y: {
					interval: 40,
					frames: [0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0]
				}
			},
			character: {
				x: {
					interval: 40,
					frames: [0, -1.2, -2.4, -3.6, -4.8, -6, -7.2, -8.4, -9.6, -11.2, -12.4, -13.6, -14.8, -16, -17.2, -18.4, -19.6, -21.2, -22.4, -23.6, -24.8, -26, -27.2, -28.4, -29.6, -28.8, -27.6, -26.4, -25.2, -24, -22.8, -21.6, -20.4, -18.8, -17.6, -16.4, -15.2, -14, -12.8, -11.6, -10.4, -8.8, -7.6, -6.4, -5.2, -4, -2.8, -1.6, -.4]
				},
				xScale: {
					interval: 40,
					frames: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]
				}
			},
			head: {
				y: {
					interval: 40,
					frames: [0, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1]
				},
				xScale: {
					interval: 1e4,
					frames: [1]
				},
				yScale: {
					interval: 1e4,
					frames: [1]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				},
				x: {
					interval: 1e4,
					frames: [0]
				}
			},
			shirt: {
				y: {
					interval: 40,
					frames: [0, 0, 0, 0, 0, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, -2]
				}
			},
			leftArm: {
				x: {
					interval: 40,
					frames: [0, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1]
				},
				y: {
					interval: 40,
					frames: [0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0]
				}
			},
			legs: {
				frameName: {
					interval: 40,
					frames: [3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4]
				}
			}
		},
		moonwalkmale: {
			loop: !0,
			rightArm: {
				x: {
					interval: 40,
					frames: [0, .5, 1, 1.4, 1.9, 1.5, 1, .5, 0, .4, .9, 1.4, 1.9, 1.5, 1, .5, 0, .4, .9, 1.4, 2, 1.5, 1, .5, 0, .4, .9, 1.5, 2, 1.5, 1, .5, 0, .4, 1, 1.5, 2.1, 1.6, 1, .4, -.2, .4, 1, 1.6, 2.3, 1.6, .8, 0, -.9]
				},
				y: {
					interval: 40,
					frames: [0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0]
				}
			},
			character: {
				x: {
					interval: 40,
					frames: [0, -1.2, -2.4, -3.6, -4.8, -6, -7.2, -8.4, -9.6, -11.2, -12.4, -13.6, -14.8, -16, -17.2, -18.4, -19.6, -21.2, -22.4, -23.6, -24.8, -26, -27.2, -28.4, -29.6, -28.8, -27.6, -26.4, -25.2, -24, -22.8, -21.6, -20.4, -18.8, -17.6, -16.4, -15.2, -14, -12.8, -11.6, -10.4, -8.8, -7.6, -6.4, -5.2, -4, -2.8, -1.6, -.4]
				},
				xScale: {
					interval: 40,
					frames: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]
				}
			},
			head: {
				y: {
					interval: 40,
					frames: [0, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1, -.5, -1, -1.4, -1.9, -1.5, -1, -.6, -.1]
				},
				xScale: {
					interval: 1e4,
					frames: [1]
				},
				yScale: {
					interval: 1e4,
					frames: [1]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				},
				x: {
					interval: 1e4,
					frames: [0]
				}
			},
			shirt: {
				y: {
					interval: 40,
					frames: [0, 0, 0, 0, 0, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, 0, 0, 0, 0, -2, -2, -2, -2, -2]
				}
			},
			leftArm: {
				x: {
					interval: 40,
					frames: [0, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1]
				},
				y: {
					interval: 40,
					frames: [0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0]
				}
			},
			legs: {
				frameName: {
					interval: 40,
					frames: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 4]
				}
			}
		},
		runningMan: {
			loop: !0,
			character: {
				x: {
					interval: 40,
					frames: [0, 0, 2.67, 2.67, 4.67, 4.67, 6.67, 8.67, 8.67, 8.67, 8.67, 8.67, 7.67, 6.67, 5.67, 4.67, 2.67, 2.67, 0, 0, 0, 0]
				}
			},
			leftArm: {
				x: {
					interval: 1e4,
					frames: [-1.31]
				},
				y: {
					interval: 1e4,
					frames: [1.52]
				},
				xScale: {
					interval: 1e4,
					frames: [1]
				},
				yScale: {
					interval: 1e4,
					frames: [1]
				},
				angle: {
					interval: 40,
					frames: [-18.45, -13.9, -9.4, -4.8, -.3, -2.4, -5.3, -8.1, -10.9, -13.7, -16.5, -27.2, -36, -44.7, -53.5, -62.3, -59.3, -49.1, -38.9, -28.7]
				}
			},
			rightArm: {
				x: {
					interval: 1e4,
					frames: [-1]
				},
				y: {
					interval: 1e4,
					frames: [-1]
				},
				angle: {
					interval: 40,
					frames: [.39, -5.4, -11.3, -17.1, -23, -28.8, -26.8, -20, -13.2, -6.4, 13.8, 27.2, 40.6, 54, 67.3, 62.8, 47.2, 31.6, 16, 8]
				}
			},
			head: {
				y: {
					interval: 40,
					frames: [-2, -1.5, -1.1, -.6, -.2, .3, .7, .3, -.4, -1.2, -1.9, -1.6, -1.1, -.7, -.2, .2, .7, .3, -.4, -1.2, -1.9]
				},
				xScale: {
					interval: 1e4,
					frames: [1]
				},
				yScale: {
					interval: 1e4,
					frames: [1]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				},
				x: {
					interval: 1e4,
					frames: [0]
				}
			},
			shirt: {
				y: {
					interval: 40,
					frames: [-2, -1.7, -1.4, -1.1, -.8, -.5, -.2, -.5, -1, -1.4, -1.9, -1.8, -1.6, -1.4, -1.2, -1, -.8, -1.2, -1.8, -2.3, -2.9]
				}
			},
			legs: {
				frameName: {
					interval: 40,
					frames: [1, 1, 2, 2, 2, 2, 3, 3, 3, 4, 4, 1, 1, 2, 2, 2, 3, 3, 3, 3, 4, 4]
				}
			}
		},
		hammermale: {
			loop: !0,
			character: {
				x: {
					interval: 40,
					frames: [0, .4, .7, 1.1, 1.4, 1.8, 2.2, 2.5, 2.9, 3.9, 4.8, 5.7, 6.9, 7.8, 8.7, 9.9, 10.8, 11.7, 12.9, 13.8, 14.7, 15.9, 16.8, 17.7, 17.4, 16.8, 16.2, 15.6, 14.1, 13.2, 12.3, 11.1, 10.2, 9.3, 8.1, 7.2, 6.3, 5.1, 4.2, 3.3, 2.1, 1.2, .3, 0, 0, 0]
				},
				y: {
					interval: 1e4,
					frames: [0]
				}
			},
			head: {
				x: {
					interval: 40,
					frames: [0, .4, .8, 1.6, 2.4, 2.8, 2.4, 1.6, 1.2, .4, -.4, -.8, -1.6, -2.4, -2.8, -2.4, -1.6, -1.2, -.4, .4, .8, 1.6, 2.4, 2.8, 2.4, 1.6, 1.2, .4, -.4, -.8, -1.6, -2.4, -2.8, -2.4, -1.6, -1.2, -.4]
				},
				y: {
					interval: 1e4,
					frames: [0]
				},
				xScale: {
					interval: 1e4,
					frames: [1]
				},
				yScale: {
					interval: 1e4,
					frames: [1]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			rightArm: {
				x: {
					interval: 40,
					frames: [0, .2, .3, .5, .6, .8, 1, 1.1, 1.3, 1.4, 1.6, 1.8, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1]
				},
				y: {
					interval: 40,
					frames: [0, 0, 0, 0, 0, 0, 0, 0, 0, -.1, -.1, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0]
				},
				angle: {
					interval: 40,
					frames: [0, 8.7, 17.4, 26, 34.7, 43.4, 52.1, 60.7, 69.4, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 54.9, 37.6, 20.3, 3]
				}
			},
			leftArm: {
				x: {
					interval: 40,
					frames: [0, .2, .3, .5, .6, .8, 1, 1.1, 1.3, 1.4, 1.6, 1.8, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1]
				},
				y: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 40,
					frames: [0, -6.9, -13.8, -20.6, -27.5, -34.4, -41.3, -48.2, -55, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -43.6, -29.8, -16.1, -2.4]
				}
			},
			legs: {
				frameName: {
					interval: 40,
					frames: [2, 2, 2, 2, 2, 0, 0, 0, 0, 2, 2, 2, 0, 0, 0, 0, 2, 2, 2, 0, 0, 0, 2, 2, 2, 2, 0, 0, 0, 0, 0, 2, 2, 2, 0, 0, 0, 2, 2, 2, 2, 0, 0, 0, 2, 2, 2, 0, 0, 0, 0]
				}
			}
		},
		hammerfemale: {
			loop: !0,
			character: {
				x: {
					interval: 40,
					frames: [0, .4, .7, 1.1, 1.4, 1.8, 2.2, 2.5, 2.9, 3.9, 4.8, 5.7, 6.9, 7.8, 8.7, 9.9, 10.8, 11.7, 12.9, 13.8, 14.7, 15.9, 16.8, 17.7, 17.4, 16.8, 16.2, 15.6, 14.1, 13.2, 12.3, 11.1, 10.2, 9.3, 8.1, 7.2, 6.3, 5.1, 4.2, 3.3, 2.1, 1.2, .3, 0, 0, 0]
				},
				y: {
					interval: 1e4,
					frames: [0]
				}
			},
			head: {
				x: {
					interval: 40,
					frames: [0, .4, .8, 1.6, 2.4, 2.8, 2.4, 1.6, 1.2, .4, -.4, -.8, -1.6, -2.4, -2.8, -2.4, -1.6, -1.2, -.4, .4, .8, 1.6, 2.4, 2.8, 2.4, 1.6, 1.2, .4, -.4, -.8, -1.6, -2.4, -2.8, -2.4, -1.6, -1.2, -.4]
				},
				y: {
					interval: 1e4,
					frames: [0]
				},
				xScale: {
					interval: 1e4,
					frames: [1]
				},
				yScale: {
					interval: 1e4,
					frames: [1]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				}
			},
			rightArm: {
				x: {
					interval: 40,
					frames: [0, .2, .3, .5, .6, .8, 1, 1.1, 1.3, 1.4, 1.6, 1.8, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1]
				},
				y: {
					interval: 40,
					frames: [0, 0, 0, 0, 0, 0, 0, 0, 0, -.1, -.1, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0, 0, 0, -.1, -.1, -.1, 0, 0, 0]
				},
				angle: {
					interval: 40,
					frames: [0, 8.7, 17.4, 26, 34.7, 43.4, 52.1, 60.7, 69.4, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 72.2, 54.9, 37.6, 20.3, 3]
				}
			},
			leftArm: {
				x: {
					interval: 40,
					frames: [0, .2, .3, .5, .6, .8, 1, 1.1, 1.3, 1.4, 1.6, 1.8, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1, .5, 1, 1.4, 1.9, 1.5, 1, .6, .1]
				},
				y: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 40,
					frames: [0, -6.9, -13.8, -20.6, -27.5, -34.4, -41.3, -48.2, -55, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -57.3, -43.6, -29.8, -16.1, -2.4]
				}
			},
			legs: {
				frameName: {
					interval: 40,
					frames: [1, 1, 1, 1, 1, 1, 3, 3, 3, 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 3, 3, 3, 4, 4, 4, 4, 1, 1, 1, 1, 1, 3, 3, 3, 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 3, 3, 3, 4, 4, 4, 4]
				}
			}
		},
		shimmy: {
			loop: !0,
			rightArm: {
				x: {
					interval: 1e4,
					frames: [0]
				},
				y: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 40,
					frames: [.13, -17, -34.2, -51.4, -68.5, -103, -120.4, -118.4, -107.8, -97.1, -86.5, -93.9, -111.9, -129.9, -118.2, -100.6, -83.1, -68.4, -59.5, -50.6, -41.7, -51.9, -63.6, -75.3, -68.8, -58.5, -48.2, -37.9, -43, -58.4, -73.8, -64.6, -50, -35.4, -41.8, -53, -64.2, -75.3, -72.4, -67.5, -62.6, -57.7, -52.9, -48, -43.1, -38.2, -33.3, -28.5, -23.6, -18.7, -13.8, -8.9, -4]
				}
			},
			leftArm: {
				x: {
					interval: 1e4,
					frames: [0]
				},
				y: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 40,
					frames: [0, -10.3, -20.6, -30.8, -41.1, -56.6, -61.8, -51.3, -38.2, -25.1, -12, -17.9, -36.9, -55.9, -45.1, -28.1, -11.1, -19.3, -32.9, -46.6, -60.2, -41.8, -21, -.2, -7.5, -21.5, -35.5, -49.5, -42.2, -20.9, .4, -14, -35.9, -57.7, -61, -57.1, -53.2, -49.3, -45.4, -41.5, -37.6, -33.8, -29.9, -26, -22.1, -18.2, -14.3, -10.4, -6.6, -2.7, 1.2, 5.1, 9]
				}
			},
			head: {
				x: {
					interval: 1e4,
					frames: [0]
				},
				y: {
					interval: 40,
					frames: [0, .4, .8, 1.2, 1.7, 1.2, .4, .7, 1.3, 2, 2.6, 2, .8, -.5, .2, 1.2, 2.3, 1.9, 1.1, .3, -.5, .4, 1.5, 2.5, 2.1, 1.3, .6, -.2, -.1, .7, 1.5, 1.4, 1.1, .8, 1.1, 1.5, 1.9, 2.4, 2.3, 2.1, 2, 1.8, 1.7, 1.5, 1.4, 1.3, 1.1, 1, .8, .7, .5, .4, .2]
				},
				angle: {
					interval: 1e4,
					frames: [0]
				},
				xScale: {
					interval: 1e4,
					frames: [1]
				},
				yScale: {
					interval: 1e4,
					frames: [1]
				}
			},
			legs: {
				frameName: {
					interval: 40,
					frames: [3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
				}
			}
		},
		dabfemale: {
			loop: !0,
			character: {
				xScale: {
					interval: 2040,
					frames: [1, -1]
				}
			},
			legs: {
				frameName: {
					interval: 40,
					frames: [4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
				},
				x: {
					interval: 40,
					frames: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6, -2.6]
				}
			},
			rightArm: {
				x: {
					interval: 1e4,
					frames: [0]
				},
				y: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 40,
					frames: [0, -6.7, -13.4, -20.2, -26.9, -33.6, -40.3, -47.1, -60.8, -70.5, -80.2, -90.9, -100.7, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120]
				}
			},
			leftArm: {
				x: {
					interval: 1e4,
					frames: [0]
				},
				y: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 40,
					frames: [0, -6.1, -12.2, -18.4, -24.5, -30.6, -36.7, -42.9, -49, -55.1, -61.2, -67.3, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80]
				}
			},
			head: {
				x: {
					interval: 40,
					frames: [0, -.2, -.4, -.6, -.8, -1, -1.3, -1.5, -1.7, -1.9, -2.1, -2.3, -2.3, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12]
				},
				y: {
					interval: 40,
					frames: [0, -.4, -.7, -1.1, -1.5, -1.9, -2.2, -2.6, -3, -3, -3, -3, -3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2]
				},
				xScale: {
					interval: 40,
					frames: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]
				},
				angle: {
					interval: 40,
					frames: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94]
				}
			},
			shirt: {
				x: {
					interval: 1e4,
					frames: [0]
				},
				y: {
					interval: 40,
					frames: [0, -.3, -.5, -.8, -1.1, -1.4, -1.6, -1.9, -2.2, -2.4, -2.7, -3, 1, .9, .7, .6, .5, .3, .2, 0, .1, .1, .2, .3, .3, .4, .5, .5, .6, .7, .7, .8, .9, .9, 1, 1.1, 1, .9, .8, .7, .6, .5, .4, .3, .2, .1, 0, 0, 0, 0, 0]
				}
			}
		},
		dabmale: {
			loop: !0,
			character: {
				xScale: {
					interval: 2040,
					frames: [1, -1]
				}
			},
			legs: {
				frameName: {
					interval: 40,
					frames: [4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
				}
			},
			rightArm: {
				x: {
					interval: 1e4,
					frames: [-2]
				},
				y: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 40,
					frames: [0, -6.7, -13.4, -20.2, -26.9, -33.6, -40.3, -47.1, -60.8, -70.5, -80.2, -90.9, -100.7, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120, -120]
				}
			},
			leftArm: {
				x: {
					interval: 1e4,
					frames: [0]
				},
				y: {
					interval: 1e4,
					frames: [0]
				},
				angle: {
					interval: 40,
					frames: [0, -6.1, -12.2, -18.4, -24.5, -30.6, -36.7, -42.9, -49, -55.1, -61.2, -67.3, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80, -80]
				}
			},
			head: {
				x: {
					interval: 40,
					frames: [0, -.2, -.4, -.6, -.8, -1, -1.3, -1.5, -1.7, -1.9, -2.1, -2.3, -2.3, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12, -12]
				},
				y: {
					interval: 40,
					frames: [0, -.4, -.7, -1.1, -1.5, -1.9, -2.2, -2.6, -3, -3, -3, -3, -3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
				},
				xScale: {
					interval: 40,
					frames: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]
				},
				angle: {
					interval: 40,
					frames: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94, -15.94]
				}
			},
			shirt: {
				x: {
					interval: 1e4,
					frames: [0]
				},
				y: {
					interval: 40,
					frames: [0, -.3, -.5, -.8, -1.1, -1.4, -1.6, -1.9, -2.2, -2.4, -2.7, -3, 1, .9, .7, .6, .5, .3, .2, 0, .1, .1, .2, .3, .3, .4, .5, .5, .6, .7, .7, .8, .9, .9, 1, 1.1, 1, .9, .8, .7, .6, .5, .4, .3, .2, .1, 0, 0, 0, 0, 0]
				}
			}
		},
		floatDig: {},
		setup: {}
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(5),
		a = function() {
			function t(t, e, i) {
				this.game = t, this.x = e - 10, this.y = i - 10, this.animate()
			}
			return t.prototype.animate = function() {
				for (var t = 0; t < 10; t++) this.addStar(80 * t + 50 * Math.random(), 9 === t)
			}, t.prototype.finish = function() {
				this.game.broadcaster.broadcast(n.EFlyingStarsEvents.Done, this.game, null)
			}, t.prototype.addStar = function(t, e) {
				var i = this.game.prodigy.create.sprite(this.x + 20 * Math.random(), this.y + 20 * Math.random(), "atlas-19", "user-star");
				i.anchor.setTo(.5, .5), i.scale.setTo(0, 0), i.angle += Math.round(90 * Math.random()), this.game.broadcaster.broadcast(n.EScreenEvents.AddChild, this.game, [i, "overlay"]);
				var a = .3 * Math.random(),
					o = this.game.add.tween(i.scale).to({
						x: 1,
						y: 1
					}, 200, Phaser.Easing.Quadratic.Out).delay(t),
					r = this.game.add.tween(i.scale).to({
						x: 1.3,
						y: 1.3
					}, 250, Phaser.Easing.Quadratic.InOut),
					s = this.game.add.tween(i.scale).to({
						x: a + 1,
						y: a + 1
					}, 250, Phaser.Easing.Quadratic.InOut),
					l = this.game.add.tween(i.scale).to({
						x: 0,
						y: 0
					}, 200, Phaser.Easing.Quadratic.In);
				l.onComplete.add(this.onStarComplete.bind(this, i), i), e && l.onComplete.add(this.finish.bind(this), this), o.chain(r), r.chain(s), s.chain(l), this.game.add.tween(i).to({
					y: 10 * Math.random() + 90
				}, 900, Phaser.Easing.Quadratic.In).delay(t).start(), this.game.add.tween(i).to({
					x: 40 * Math.random() + 279
				}, 900, Phaser.Easing.Quadratic.Out).delay(t).start(), o.start()
			}, t.prototype.onStarComplete = function(t) {
				t.kill()
			}, t
		}();
	e.FlyingStars = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(182),
		o = i(0),
		r = function() {
			function t(t, e) {
				var i = this;
				this.game = t, this.target = e, this.healthOverlay = new a.Overlay(t, 31, e, ["atlas-144"]), this.healthOverlay.addOnLoadCallback(function() {
					var t = i.healthOverlay.getUiElement("healthBar");
					t.y -= i.target.sprites.height, t.alpha = 0, t.setPercentComplete(1), i.puppetControllerBreak = i.healthOverlay.getUiElement("puppetControllerBreak"), i.puppetControllerBreak.y -= i.target.sprites.height, i.puppetControllerBreak.x -= 120
				})
			}
			return t.prototype.showDamage = function(t, e, i) {
				void 0 === e && (e = !1), this.onDisplaysCompleteCallback = i, this.damageObject = t, this.showHealthBar = e, t.miss ? this.showMiss() : this.showDamageNumbers()
			}, t.prototype.showMiss = function() {
				var t = this;
				this.game.prodigy.effects.fadeFlyingImage(this.target.x, this.target.y - (this.target.height >> 1), "atlas-17", "text-miss"), setTimeout(function() {
					o.Util.isValid(t.onDisplaysCompleteCallback) && t.doCallback()
				}, 2e3)
			}, t.prototype.showDamageNumbers = function() {
				this.game.prodigy.effects.characterText("-" + this.damageObject.damage, this.target.x, this.target.y, 0, {
					size: 1,
					fontID: 12,
					mono: 44
				}, this.showHealthBars.bind(this)), this.showNFactor()
			}, t.prototype.showHealthBars = function() {
				var t = this;
				if (this.showHealthBar && o.Util.isValid(this.healthOverlay)) {
					var e = this.healthOverlay.getUiElement("healthBar"),
						i = this.target.source.getCurrentHearts() / this.target.source.getMaxHearts(),
						n = {
							percent: this.healthOverlay.getUiElement("healthBar").getPercentageComplete()
						},
						a = this.game.add.tween(e);
					a.to({
						alpha: 1
					}, 300, Phaser.Easing.Linear.None, !1), a.to({
						alpha: 0
					}, 300, Phaser.Easing.Linear.None, !0, 2300), a.onComplete.add(this.showCritical.bind(this), this), a.start();
					var r = this.game.add.tween(n).to({
						percent: i
					}, 2e3, Phaser.Easing.Cubic.Out, !1, 300);
					r.onUpdateCallback(function() {
						t.healthOverlay.getUiElement("healthBar").setPercentComplete(n.percent)
					}, this), r.start()
				} else this.showCritical()
			}, t.prototype.showCritical = function() {
				this.damageObject.critical ? this.game.prodigy.effects.characterImage(this.game.prodigy.create.sprite(this.target.x, this.target.y + 50, "atlas-17", "text-critical-hit"), 100, this.doCallback.bind(this)) : this.showTypeAdvantage()
			}, t.prototype.showNFactor = function() {
				this.damageObject.nFactor > 2 && this.game.prodigy.effects.characterText(this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText("COMBAT_CAST_BONUS_HIT"), this.target.x, this.target.y + 50, 100, null, null)
			}, t.prototype.showTypeAdvantage = function() {
				var t = this;
				this.damageObject.elementAdvantage > 0 ? this.game.prodigy.effects.characterText(this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText("EFFECT_ATTACK_POWERFUL"), this.target.x, this.target.y + 50, 100, null, function() {
					t.doCallback()
				}) : this.damageObject.elementAdvantage < 0 ? this.game.prodigy.effects.characterText(this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService).getText("EFFECT_ATTACK_WEAK"), this.target.x, this.target.y + 50, 100, null, function() {
					t.doCallback()
				}) : this.doCallback()
			}, t.prototype.doPuppetBreakAnimation = function(t) {
				this.puppetControllerBreak.visible = !0, this.puppetControllerBreak.playAnimation("animation", !1, t)
			}, t.prototype.getOverlay = function() {
				return this.healthOverlay
			}, t.prototype.doCallback = function() {
				o.Util.isValid(this.onDisplaysCompleteCallback) && this.onDisplaysCompleteCallback()
			}, t
		}();
	e.DamageDisplayContainer = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(7),
		o = i(0),
		r = function(t) {
			function e(e, i, n, a, r) {
				var s = t.call(this, e, i, n, a) || this;
				return s.chatID = 0, s.dontHide = o.Util.isValid(r) && r, s.add(s.game.prodigy.create.sprite(-38, -72, "atlas-21", "chat/bubble")), s
			}
			return n(e, t), e.prototype.setID = function(t) {
				o.Util.isValid(this.game) && (this.visible = !0, this.chatID++, this.scale.x = 0, this.scale.y = 0, this.game.add.tween(this.scale).to({
					x: 1.2,
					y: 1.2
				}, 200, Phaser.Easing.Quadratic.Out).to({
					x: .8,
					y: 1
				}, 200, Phaser.Easing.Quadratic.In).to({
					x: 1,
					y: .8
				}, 200, Phaser.Easing.Quadratic.Out).to({
					x: 1,
					y: 1
				}, 200, Phaser.Easing.Quadratic.In).start(), o.Util.isValid(this.emote) && this.emote.destroy(), this.emote = this.game.prodigy.create.sprite(-18, -62, "icon-emote-" + t, null, null, null, 40, 40), this.add(this.emote), this.dontHide || this.game.time.events.add(3e3, this.onTimerEvent.bind(this, this.chatID), this))
			}, e.prototype.onTimerEvent = function(t) {
				t === this.chatID && (this.visible = !1)
			}, e
		}(a.Element);
	e.ChatBubble = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(7),
		o = i(2),
		r = i(0),
		s = function(t) {
			function e(e, i, n) {
				var a = t.call(this, e, i) || this;
				return a.emoteData = null, a.setEmoteData(n), a
			}
			return n(e, t), e.prototype.setEmoteData = function(t) {
				r.Util.isValid(t) && (this.emoteData = t, this.game.prodigy.create.sprite(0, 0, "default-emote-" + this.emoteData.ID, null, {
					x: .5,
					y: .5
				}, this.recolour.bind(this)))
			}, e.prototype.recolour = function(t) {
				if (this.exists && r.Util.isValid(this.parent) && r.Util.isValid(this.parent.data)) {
					var e = new Phaser.BitmapData(this.game, null, t.texture.baseTexture.width, t.texture.baseTexture.height);
					e.draw(t.key), e.update();
					var i = o.Items.getItem("eyeColor", this.parent.data.eyeColor).data.colors;
					e.processPixelRGB(this.pixelColorReplace, {
						baseColor: [85, 85, 85, 255],
						newColor: i
					}), "2.4.4" === Phaser.VERSION ? this.textureGenerated(e, t, e.generateTexture("recolour")) : e.generateTexture("recolour", this.textureGenerated.bind(this, e, t))
				}
			}, e.prototype.textureGenerated = function(t, e, i) {
				var n = this.game.cache.getFrameData(e.key, 2) || {
					frames: []
				};
				n.getFrames && (n = r.Util.frameDataToFrameJson(n.getFrames())), this.game.cache.addTextureAtlas("recolour-atlas", "", i.baseTexture.source, n, Phaser.Loader.TEXTURE_ATLAS_JSON_HASH), t.clear(), Phaser.CanvasPool.removeByCanvas(t.canvas), t.destroy();
				var a = this.emoteData.metadata.assets.default.offSet;
				this.game.prodigy.create.sprite(a.x, a.y, "recolour-atlas", null, new Phaser.Point(.5, .5), this.playEmote.bind(this))
			}, e.prototype.pixelColorReplace = function(t) {
				return t.r === this.baseColor[0] && t.g === this.baseColor[1] && t.b === this.baseColor[2] && (t.r = this.newColor[0][0], t.g = this.newColor[0][1], t.b = this.newColor[0][2]), t
			}, e.prototype.playEmote = function(t) {
				t.scale.set(-1, 1), t.smoothed = !0, this.emoteAnimation = t.animations.add("emote", null, 2, !0), this.emoteAnimation.onLoop.add(this.stopEmote, this), this.emoteAnimation.onComplete.add(this.endEmote, this), t.play("emote");
				var e = this.parent.eyes;
				e.visible = !1, this.parent.head.addChild(t), this.parent.head.swapChildren(e, t)
			}, e.prototype.stopEmote = function(t, e) {
				5 === e.loopCount && (e.loop = !1)
			}, e.prototype.endEmote = function(t) {
				var e = this.parent.eyes;
				e.visible = !0, this.parent.head.swapChildren(e, t), t.destroy()
			}, e
		}(a.Element);
	e.AnimatedEmote = s
}, function(t, e) {
	t.exports = function(t, e, i, n, a) {
		return a(t, function(t, a, o) {
			i = n ? (n = !1, t) : e(i, t, a, o)
		}), i
	}
}, function(t, e) {
	t.exports = function(t, e, i, n) {
		var a = -1,
			o = null == t ? 0 : t.length;
		for (n && o && (i = t[++a]); ++a < o;) i = e(i, t[a], a, t);
		return i
	}
}, function(t, e, i) {
	var n = i(924),
		a = i(106),
		o = i(54),
		r = i(923),
		s = i(18);
	t.exports = function(t, e, i) {
		var l = s(t) ? n : r,
			c = arguments.length < 3;
		return l(t, o(e, 4), i, c, a)
	}
}, function(t, e, i) {
	var n = i(178),
		a = i(123),
		o = i(129);
	t.exports = function(t, e) {
		var i = o(t);
		return a(i, n(e, 0, i.length))
	}
}, function(t, e, i) {
	var n = i(178),
		a = i(128),
		o = i(123);
	t.exports = function(t, e) {
		return o(a(t), n(e, 0, t.length))
	}
}, function(t, e, i) {
	var n = i(927),
		a = i(926),
		o = i(18),
		r = i(84),
		s = i(103);
	t.exports = function(t, e, i) {
		return e = (i ? r(t, e, i) : void 0 === e) ? 1 : s(e), (o(t) ? n : a)(t, e)
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(4),
		a = i(5),
		o = i(0),
		r = function() {
			function t(t) {
				this.target = {
					x: -1,
					y: -1
				}, this.lastTargetBroadcasted = {
					x: -1,
					y: -1
				}, this.lastUpdateCount = 0, this.isMainPlayer = !1, this.screen = null, this.creatureContainer = null, this.game = t
			}
			return t.prototype.setup = function(t, e, i) {
				this.screen = t, this.creatureContainer = e, this.isMainPlayer = i, this.isMainPlayer && (this.game.broadcaster.addAppListener(a.EPlayerLocomotionEvents.MovePlayer, this.onMovePlayer.bind(this), this), this.game.broadcaster.addAppListener(a.EPlayerLocomotionEvents.StopPlayer, this.onStopPlayer.bind(this), this), this.game.broadcaster.addAppListener(a.EPlayerLocomotionEvents.GetTarget, this.onGetTarget.bind(this), this), document.addEventListener("visibilitychange", this.onStopPlayer.bind(this), !1))
			}, t.prototype.destroy = function() {
				this.isMainPlayer && (this.game.broadcaster.removeAppListener(a.EPlayerLocomotionEvents.MovePlayer, this), this.game.broadcaster.removeAppListener(a.EPlayerLocomotionEvents.StopPlayer, this), this.game.broadcaster.removeAppListener(a.EPlayerLocomotionEvents.GetTarget, this), document.removeEventListener("visibilitychange", this.onStopPlayer.bind(this), !1))
			}, t.prototype.update = function() {
				if (this.game.prodigy.updateCount % t.UPDATE_INTERVAL == 0) {
					if (-1 === this.target.x && -1 === this.target.y && (this.creatureContainer.x > 0 || this.creatureContainer.y > 0)) {
						var e = this.screen.path.xyToTile(this.creatureContainer.x, this.creatureContainer.y);
						this.target.x = e.x, this.target.y = e.y
					}
					this.broadcastPosition()
				}
			}, t.prototype.broadcastPosition = function() {
				this.isMainPlayer && !this.creatureContainer.evtProc && (this.lastTargetBroadcasted.x !== this.target.x || this.lastTargetBroadcasted.y !== this.target.y) && this.game.prodigy.updateCount - this.lastUpdateCount > t.EMIT_MESSAGE && (Phaser.Math.distanceSq(this.target.x, this.target.y, this.lastTargetBroadcasted.x, this.lastTargetBroadcasted.y) > t.DISTANCE_THRESHOLD || this.game.prodigy.updateCount - this.lastUpdateCount > 2 * t.EMIT_MESSAGE) && (this.lastUpdateCount = this.game.prodigy.updateCount, this.lastTargetBroadcasted.x = this.target.x, this.lastTargetBroadcasted.y = this.target.y, this.game.prodigy.network.emitMessage({
					action: "move",
					data: {
						userID: this.game.prodigy.player.userID,
						target: this.target
					}
				}))
			}, t.prototype.onGetTarget = function(t) {
				return void 0 === t && (t = !1), t ? {
					x: this.creatureContainer.x,
					y: this.creatureContainer.y
				} : this.target
			}, t.prototype.onFindPath = function(t) {
				if (o.Util.isValid(t)) {
					var e = this.screen.path.xyToTile(t[0].x, t[0].y);
					n.GameConstants.get("GameConstants.Debug.WARP_MODE_ENABLED") ? (this.screen.user.x = t[0].x, this.screen.user.y = t[0].y, this.screen.path.getCallback(e.x, e.y, this.isMainPlayer)) : this.creatureContainer.setPath(t, this.screen.path.getCallback(e.x, e.y, this.isMainPlayer)), this.broadcastPosition()
				}
			}, t.prototype.setNewTarget = function(t, e) {
				if (this.screen.path.isNodeOpen(t, e)) {
					var i = this.screen.path.tileToXY(t, e);
					this.creatureContainer.x <= 0 && this.creatureContainer.y <= 0 ? (this.creatureContainer.x = i.x, this.creatureContainer.y = i.y, o.Util.isValid(this.creatureContainer.follow) && (this.creatureContainer.follow.x = i.x, this.creatureContainer.follow.y = i.y - 1)) : this.target.x === t && this.target.y === e || this.screen.path.findPath(this.creatureContainer.x, this.creatureContainer.y, i.x, i.y, this.onFindPath.bind(this)), this.target.x = t, this.target.y = e
				}
			}, t.prototype.onMovePlayer = function(t, e) {
				var i = this.screen.path.xyToTile(t, e);
				return !!this.screen.path.isNodeOpen(i.x, i.y) && (this.target.x = i.x, this.target.y = i.y, this.screen.path.findPath(this.creatureContainer.x, this.creatureContainer.y, t, e, this.onFindPath.bind(this)), !0)
			}, t.prototype.onStopPlayer = function() {
				if (this.screen.isMapScreen) {
					var t = this.screen.path.xyToTile(this.creatureContainer.x, this.creatureContainer.y);
					this.target.x = t.x, this.target.y = t.y, this.creatureContainer.stand(), this.creatureContainer.stopTweens()
				}
			}, t.DISTANCE_THRESHOLD = 4, t.EMIT_MESSAGE = 120, t.UPDATE_INTERVAL = 200, t
		}();
	e.PlayerLocomotion = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(4),
		o = i(125),
		r = i(2),
		s = i(12),
		l = i(16),
		c = i(14),
		h = i(0),
		u = i(20),
		p = i(177),
		d = function() {
			function t(e, i, o) {
				this.onQuestionOpen = new Phaser.Signal, this.onQuestionClose = new Phaser.Signal, this.freeCatch = !1, this.game = e, this.catcher = i, this.catchee = o, this.creatureData = this.catchee.getSource(), this.localCurrency = this.game.prodigy.world.getCurrentCurrency(), this.currencyOwned = this.game.prodigy.player.backpack.hasItem("currency", this.localCurrency), this.freeCatch = t.isFree(this.game.prodigy.player), this.catchCost = this.freeCatch ? 0 : a.default.get("GameConstants.Battle.CATCH_COST"), this.freeCatch || 1 !== this.localCurrency || (this.catchCost = a.default.get("GameConstants.Battle.CATCH_COST_GOLD")), this.localizer = this.game.prodigy.gameContainer.get(n.GameIdentifiers.LocalizationService)
			}
			return t.prototype.start = function() {
				var e = this,
					i = this.game.prodigy.player,
					n = r.Items.getItem("pet", this.creatureData.getID()).data;
				h.Util.isValid(n.member) && this.game.prodigy.network.sendAnalytics("Catch-Member-Pets", n.name), t.isFree(i) ? this.openCatchConfirmDialogue() : t.isActivityZone(i) ? this.activityZonePopup() : !i.hasMembership() && t.isSecondAttempt(this.creatureData) ? this.secondCatchPopup() : !i.hasMembership() && t.isAtPetLimit(i) ? this.catchMorePetsPopup() : !i.hasMembership() && t.isMemberPet(this.creatureData) ? this.game.prodigy.open.membershipInfo(function() {
					e.recheckCriteria()
				}, {}, l.MembershipInfo.MEMBER_PETS) : t.isKennelFull(i) ? this.kennelFullPopup() : t.hasEnoughCurrency(i) ? this.isWizard(this.catcher) ? this.openCatchConfirmDialogue() : this.game.prodigy.open.message(this.localizer.getText("COMBAT_CATCH_NON_WIZARD")) : this.notEnoughCurrencyPopup()
			}, t.canClick = function(e, i, n) {
				var a = n.getCurrentSource();
				return a.getCurrentHearts() <= a.getMaxHearts() / 2 && a.canCatch() && !i.isKnockedOut() && (t.isActivityZone(e) || t.isValidCurrency(e)) && !h.Util.isValid(p.Team.findFirstPlayer(n.team)) && !t.isCatchDisallowedInBattle(e)
			}, t.isCatchDisallowedInBattle = function(t) {
				return t.game.state.getCurrentState() === t.game.state.states.Battle && !1 === t.game.state.states.Battle.mods.catch
			}, t.canTry = function(e, i) {
				return !t.isMissingMembership(e, i) && !t.isKennelFull(e) && t.hasEnoughCurrency(e) && !e.isKnockedOut()
			}, t.isMissingMembership = function(e, i) {
				return !e.hasMembership() && (t.isSecondAttempt(i) || t.isAtPetLimit(e) || t.isMemberPet(i))
			}, t.canPlayTutorial = function(e) {
				return t.isFree(e) && t.isValidCurrency(e)
			}, t.isFree = function(t) {
				return !t.game.prodigy.breadcrumbManager.isBreadcrumbComplete(c.Breadcrumbs.FEATURE_BATTLE_TUTORIAL, c.Breadcrumbs.BREADCRUMB_FREE_RESCUE)
			}, t.isValidCurrency = function(t) {
				var e = t.game.prodigy.world.getCurrentCurrency();
				return h.Util.isValid(e) && e > 0
			}, t.isActivityZone = function(t) {
				return "activity_zone" === t.game.prodigy.world.getCurrentMap().split("-")[0]
			}, t.isSecondAttempt = function(t) {
				return t.catchAttempt > 0
			}, t.isAtPetLimit = function(t) {
				return t.kennel.getPets().length >= 10
			}, t.isMemberPet = function(t) {
				return !(!(h.Util.isValid(t) && t.getID() > 0) || t instanceof s.Player) && h.Util.isValid(r.Items.getItem("pet", t.getID()).data.member)
			}, t.isKennelFull = function(t) {
				return t.kennel.isFull()
			}, t.hasEnoughCurrency = function(e) {
				if (t.isFree(e)) return !0;
				var i = e.game.prodigy.world.getCurrentCurrency(),
					n = a.default.get("GameConstants.Battle.CATCH_COST");
				return 1 === i ? (n = a.default.get("GameConstants.Battle.CATCH_COST_GOLD"), e.getGold() >= n) : !!(h.Util.isValid(i) && i > 0) && e.backpack.hasItem("currency", e.game.prodigy.world.getCurrentCurrency()) >= n
			}, t.prototype.isWizard = function(t) {
				return t instanceof o.CharacterContainer
			}, t.prototype.activityZonePopup = function() {
				this.game.prodigy.open.message(this.localizer.getText("NO_CATCHING_MONSTER_ON_ISLAND"), null, null, this.localizer.getText("MESSAGE_TITLE_OOPS"))
			}, t.prototype.secondCatchPopup = function() {
				var t = this,
					e = {
						conversionFunnelName: u.EFunnelEventIDs.FunnelCatchPetAgain,
						conversionFunnelMetadata: this.creatureData.getID().toString()
					};
				this.game.prodigy.network.sendConversionFunnelEvent(e.conversionFunnelName, u.EFunnelEventIDs.StageTryAgain, e.conversionFunnelMetadata), this.game.prodigy.network.sendAnalytics("Catch-Pet-Second-Try"), this.game.prodigy.open.membershipInfo(function() {
					t.recheckCriteria()
				}, e, l.MembershipInfo.CATCH)
			}, t.prototype.catchMorePetsPopup = function() {
				var t = this,
					e = {
						conversionFunnelName: u.EFunnelEventIDs.FunnelCatchMorePets,
						conversionFunnelMetadata: this.creatureData.getID()
					};
				this.game.prodigy.network.sendConversionFunnelEvent(e.conversionFunnelName, u.EFunnelEventIDs.StageCatchPet, e.conversionFunnelMetadata), this.game.prodigy.network.sendAnalytics("Catch-More-Pets"), this.game.prodigy.open.membershipInfo(function() {
					t.recheckCriteria()
				}, e, l.MembershipInfo.MEMBER_PETS)
			}, t.prototype.recheckCriteria = function() {
				this.game.prodigy.player.hasMembership() && this.start()
			}, t.prototype.kennelFullPopup = function() {
				this.game.prodigy.open.message(this.localizer.getText("COMBAT_CATCH_TOO_MANY_MESSAGE_BODY"), null, null, this.localizer.getText("MESSAGE_TITLE_UH_OH"))
			}, t.prototype.notEnoughCurrencyPopup = function() {
				var t = null;
				1 === this.localCurrency ? (this.currencyOwned = this.game.prodigy.player.getGold(), t = "mail-gold") : t = r.Items.getItem("currency", this.localCurrency).data.icon, this.game.prodigy.open.message(this.localizer.getText("COMBAT_CATCH_GOLD_MESSAGE_BODY", t, this.catchCost, this.currencyOwned), null, t, this.localizer.getText("MESSAGE_TITLE_UH_OH"))
			}, t.prototype.openCatchConfirmDialogue = function() {
				var t = this,
					e = 1 === this.localCurrency ? "mail-gold" : r.Items.getItem("currency", this.localCurrency).data.icon,
					i = this.freeCatch ? this.localizer.getText("COMBAT_FREE_CATCH_CONFIRM") : this.localizer.getText("COMBAT_CATCH_CONFIRM", e, this.catchCost);
				this.game.prodigy.open.messageBox(i, function() {
					t.attemptCatch()
				})
			}, t.prototype.attemptCatch = function() {
				var t = this,
					e = this.game.prodigy.player;
				e.backpack.consume("currency", this.localCurrency, this.catchCost), this.freeCatch && (1 === this.localCurrency ? this.catchCost = a.default.get("GameConstants.Battle.CATCH_COST_GOLD") : this.catchCost = a.default.get("GameConstants.Battle.CATCH_COST")), e.kennel.getPets().length >= 10 && this.game.prodigy.network.sendAnalytics("Catch-More-Pets"), this.creatureData.catchAttempt > 1 && this.game.prodigy.network.sendAnalytics("Catch-Pet-Second-Try"), this.onQuestionOpen.dispatch(), a.default.get("GameConstants.Debug.EDUCATION_ENABLED") ? this.game.prodigy.education.question(function(e) {
					e && t.freeCatch && (t.freeCatch = !1, t.game.prodigy.breadcrumbManager.completeBreadcrumb(c.Breadcrumbs.FEATURE_BATTLE_TUTORIAL, c.Breadcrumbs.BREADCRUMB_FREE_RESCUE), t.game.prodigy.breadcrumbManager.completeBreadcrumb(c.Breadcrumbs.FEATURE_BATTLE_TUTORIAL, c.Breadcrumbs.BREADCRUMB_FIRST_PET_RESCUABLE)), t.onQuestionClose.dispatch(e)
				}, !1, 0) : this.onQuestionClose.dispatch(!0)
			}, t
		}();
	e.Rescue = d
}, function(t, e, i) {
	var n = i(349),
		a = 4;
	t.exports = function(t) {
		return n(t, a)
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(308),
		o = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.getTopImageFrames = function(e) {
				return t.prototype.getTopImageFrames.call(this, e).concat(["" + e + a.ESlicedGraphicDirection.Top + "-alt"])
			}, e.prototype.getBottomImageFrames = function(e) {
				return t.prototype.getBottomImageFrames.call(this, e).concat(["" + e + a.ESlicedGraphicDirection.Bottom + "-alt"])
			}, e.prototype.getLeftImageFrames = function(e) {
				return t.prototype.getLeftImageFrames.call(this, e).concat(["" + e + a.ESlicedGraphicDirection.Left + "-alt"])
			}, e.prototype.getRightImageFrames = function(e) {
				return t.prototype.getRightImageFrames.call(this, e).concat(["" + e + a.ESlicedGraphicDirection.Right + "-alt"])
			}, e.prototype.getMiddleImageFrames = function(e) {
				return t.prototype.getMiddleImageFrames.call(this, e).concat(["" + e + a.ESlicedGraphicDirection.Middle + "-alt", "" + e + a.ESlicedGraphicDirection.Middle + "-alt2", "" + e + a.ESlicedGraphicDirection.Middle + "-alt3"])
			}, e.prototype.createTopImages = function(e, i, n, o) {
				var r = t.prototype.createTopImages.call(this, e, i, n, o);
				return this.generateNotchReplacements(r, "" + o + a.ESlicedGraphicDirection.Top + "-notch"), r
			}, e.prototype.createBottomImages = function(e, i, n, o) {
				var r = t.prototype.createBottomImages.call(this, e, i, n, o);
				return this.generateNotchReplacements(r, "" + o + a.ESlicedGraphicDirection.Bottom + "-notch"), r
			}, e.prototype.createLeftImages = function(e, i, n, o) {
				var r = t.prototype.createLeftImages.call(this, e, i, n, o);
				return this.generateNotchReplacements(r, "" + o + a.ESlicedGraphicDirection.Left + "-notch"), r
			}, e.prototype.createRightImages = function(e, i, n, o) {
				var r = t.prototype.createRightImages.call(this, e, i, n, o);
				return this.generateNotchReplacements(r, "" + o + a.ESlicedGraphicDirection.Right + "-notch"), r
			}, e.prototype.generateNotchReplacements = function(t, e) {
				for (var i = Math.floor(3 * Math.random()), n = 0; n < i; n++) t[Math.floor(Math.random() * t.length)].frameName = e
			}, e
		}(i(309).SlicedGraphic);
	e.WoodSlicedPanel = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(4),
		o = i(0),
		r = function(t) {
			function e(e, i) {
				return t.call(this, e, i) || this
			}
			return n(e, t), e.prototype.setAsset = function(t, e) {
				if ("spritesheet" === e.type) {
					this.source = t, this.metadata = e, this.sprite.animations.stop();
					for (var i = 0; i < this.sprite.animations._anims.length; ++i) this.sprite.animations._anims[i].destroy();
					this.sprite.animations._anims = {}, this.updateSource()
				}
			}, e.prototype.updateSpriteSource = function() {
				if (t.prototype.updateSpriteSource.call(this), this.hasAnimations())
					for (var e = Object.keys(this.metadata.animations), i = 0; i < e.length; ++i) this.sprite.animations.add(e[i], this.metadata.animations[e[i]].frames, this.metadata.animations[e[i]].frameRate, this.metadata.animations[e[i]].loop)
			}, e.prototype.hasAnimations = function() {
				return o.Util.isValid(this.metadata.animations)
			}, e.prototype.getAnimationLength = function(t) {
				var e = this.metadata.animations[t];
				return o.Util.isValid(e) ? e.frames.length : 0
			}, e.prototype.playAnimation = function(t, e, i) {
				void 0 === e && (e = !1), void 0 === i && (i = 0), o.Util.isValid(this.metadata.animations[t]) && (null !== this.sprite.animations.getAnimation(t) ? (this.sprite.animations.play(t, this.metadata.animations[t].frameRate, e), this.sprite.animations.currentAnim.setFrame(Math.floor(i), !0)) : this.onLoaded.addOnce(this.playAnimation, this, -a.GameConstants.MAX_SAFE_INTEGER, t, e, i))
			}, e
		}(i(305).SpriteRenderer);
	e.SpritesheetRenderer = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(40),
		o = i(61),
		r = i(0),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.populate = function(e) {
				if (t.prototype.populate.call(this, e), this.spineRenderer = o.RenderFactory.createRenderer(e.spineKey, {
						type: "spine"
					}), r.Util.isValid(e.animation)) {
					var i = !!r.Util.isValid(e.loop) && e.loop;
					this.playAnimation(e.animation, i, null)
				}
				new a.GameObject(this.game, this, [this.spineRenderer], 0, 0)
			}, e.prototype.playAnimation = function(t, e, i) {
				void 0 === e && (e = !1), void 0 === i && (i = null), this.spineRenderer.playAnimation(t, e), r.Util.isValid(i) && this.spineRenderer.spine.onComplete.addOnce(i)
			}, e
		}(i(27).UIElement);
	e.SpineUI = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a, o = i(1),
		r = i(0),
		s = i(181),
		l = i(311),
		c = i(310);
	! function(t) {
		t.Middle = "-middle", t.Left = "-left", t.Right = "-right", t.BottomLeft = "-bottomLeft", t.BottomRight = "-bottomRight"
	}(a || (a = {}));
	var h = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.images = [], e.text = null, e
		}
		return n(e, t), e.prototype.populate = function(e) {
			t.prototype.populate.call(this, e);
			var i = r.Util.isValid(e.baseFrameName) ? e.baseFrameName : "",
				n = r.Util.isValid(e.atlasID) ? e.atlasID : 144,
				a = "";
			r.Util.isValid(e.text) ? a = e.text : r.Util.isValid(e.textKey) && (a = this.game.prodigy.gameContainer.get(o.GameIdentifiers.LocalizationService).getText(e.textKey)), this.createBanner("atlas-" + n, i, a, e.isThreeSlice)
		}, e.prototype.createBanner = function(t, e, i, n) {
			this.text = new l.Text(this.game, this);
			var o = n ? 0 : 68;
			if (n) {
				var r = this.add(new Phaser.Image(this.game, 0, 0, t, "" + e + a.Left)),
					s = this.add(new Phaser.Image(this.game, 0, 0, t, "" + e + a.Middle));
				s.scale.setTo((this.width - (r.x + 2 * r.width)) / s.width, 1), s.smoothed = !1, s.x = r.x + r.width;
				var h = this.add(new Phaser.Image(this.game, s.x + s.width, 0, t, "" + e + a.Right));
				this.images.push(r), this.images.push(s), this.images.push(h)
			} else {
				var u = this.add(new Phaser.Image(this.game, 0, 40, t, "" + e + a.BottomLeft)),
					p = u.width;
				this.images.push(u), u = this.add(new Phaser.Image(this.game, this.width - p, 40, t, "" + e + a.BottomRight)), this.images.push(u), p = (u = this.add(new Phaser.Image(this.game, o, 0, t, "" + e + a.Left))).width, this.images.push(u), u = this.add(new Phaser.Image(this.game, this.width - p - o, 0, t, "" + e + a.Right)), this.images.push(u), this.images = this.images.concat(c.UIUtil.floodFillImages(this.game, this, {
					x: p + o,
					y: 0
				}, {
					x: this.width - p - o,
					y: 0
				}, t, ["" + e + a.Middle]))
			}
			var d = {
				type: "Text",
				name: "bannerText",
				anchorX: .5,
				anchorY: 0,
				relativeX: .5,
				relativeY: n ? -.13 : 0,
				relativeWidth: (this.width - 2 * o) / this.width - .05,
				height: 80,
				text: i,
				fontID: 157,
				fontSize: 0,
				horizontalAlignment: "center",
				verticalAlignment: "center",
				forceUpperCase: !0,
				lineHeight: 35
			};
			this.addChild(this.text), this.text.processRelativeFields(d, {
				width: this.width,
				height: this.height
			}), this.text.populate(d)
		}, e.prototype.setText = function(t) {
			r.Util.isValid(this.text) && this.text.setText(t)
		}, e
	}(s.GraphicBase);
	e.SlicedBanner = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(5),
		r = i(0),
		s = i(62),
		l = i(313),
		c = i(27),
		h = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i) || this;
				return n.viewHeight = 0, n.scrollBar = null, n.contents = null, n.maxScrollDist = 0, n.viewWidth = 0, n.contentsArray = [], n.clickDragTresh = 4, n.maxDistanceThisScroll = 0, n.dirty = !1, n.mouseWheelPixelDistance = 20, n.contentsName = null, n.enableTouchScroll = !1, n.rectMask = null, n.scrollStartPos = null, n.onDestroy.add(n.stopWheelListener.bind(n)), n
			}
			return n(e, t), e.prototype.populate = function(e) {
				t.prototype.populate.call(this, e), this.viewHeight = this.height, this.viewWidth = this.width, this.setupScrollWheel(), r.Util.isValid(e.scrollContentsName) && (this.contentsName = e.scrollContentsName), r.Util.isValid(e.enableTouchScroll) ? this.enableTouchScroll = e.enableTouchScroll : a.Logger.log('Scroll view needs a property named "scrollContentsName" which points to the view to scroll', a.LogLevel.Error)
			}, e.prototype.postPopulate = function() {
				for (var t = 0; t < this.children.length; t++)
					if (this.children[t].name === this.contentsName) {
						this.contents = this.children[t];
						break
					} this.setupMask(), this.calculateMaxScrollDist(), this.setupVisibleIndicies()
			}, e.prototype.linkScrollBar = function(t) {
				this.scrollBar = t, this.scrollBar.onDragUpdateCallbacks.push(this.setToScrollPercent.bind(this)), this.scrollBar.setThumbRatio(this.viewHeight / this.contents.height)
			}, e.prototype.calculateMaxScrollDist = function() {
				var t = Math.max(0, this.contents.height / this.viewHeight - 1);
				this.maxScrollDist = this.viewHeight * t
			}, e.prototype.setToScrollPercent = function(t) {
				this.contents.y = Math.round(this.maxScrollDist * Math.min(Math.max(t, 0), 1) * -1), r.Util.isValid(this.scrollBar) && this.scrollBar.setPercent(Math.abs(this.contents.y) / this.maxScrollDist), this.dirty = !0
			}, e.prototype.setupVisibleIndicies = function() {
				for (var t = 0; t < this.contents.children.length; t++) this.contents.children[t] instanceof c.UIElement && this.contentsArray.push(this.contents.children[t]);
				this.dirty = !0
			}, e.prototype.update = function() {
				t.prototype.update.call(this), this.dirty && (this.updateScrollVisibility(), this.dirty = !1)
			}, e.prototype.clearScrollView = function() {
				for (; this.contentsArray.length > 0;) this.contentsArray.pop().destroy()
			}, e.prototype.setupScrollWheel = function() {
				this.game.broadcaster.addAppListener(o.EInputEvents.OnMouseWheel, this.scrollWheelListener.bind(this), this, "Input", !1)
			}, e.prototype.stopWheelListener = function() {
				this.game.broadcaster.removeAppListener(o.EInputEvents.OnMouseWheel, this, "Input")
			}, e.prototype.scrollWheelListener = function() {
				if (!(this.maxScrollDist <= 0)) {
					var t = this.game.input.mouse.wheelDelta * this.mouseWheelPixelDistance + this.contents.y;
					this.setToScrollPercent(-1 * t / this.maxScrollDist)
				}
			}, e.prototype.updateScrollVisibility = function() {
				for (var t = this.rectMask.getLocalBounds(), e = new Phaser.Rectangle(t.x, t.y, t.width, t.height), i = 0; i < this.contentsArray.length; i++) {
					var n = this.contentsArray[i],
						a = new Phaser.Rectangle(n.x + this.contents.x, n.y + this.contents.y, 1, n.height);
					this.checkOverlap(a, e) ? this.contentsArray[i].setAllChildren("visible", !0, !0) : this.contentsArray[i].setAllChildren("visible", !1, !0)
				}
			}, e.prototype.stopDrag = function(t) {
				if (Phaser.InputHandler.prototype.stopDrag.call(this.rectMask.input, t), this.scrollStartPos = null, this.maxDistanceThisScroll <= this.clickDragTresh)
					for (var e = 0; e < this.contentsArray.length; e++) this.contentsArray[e].alpha > 0 && this.simulateDepthClick(this.contentsArray[e], t);
				this.maxDistanceThisScroll = 0
			}, e.prototype.checkOverlap = function(t, e) {
				return Phaser.Rectangle.intersects(t, e)
			}, e.prototype.setupMask = function() {
				this.rectMask = this.game.add.graphics(0, 0), this.add(this.rectMask), this.rectMask.beginFill(0), this.rectMask.drawRect(this.x, this.y, this.viewWidth, this.viewHeight), this.rectMask.endFill(), this.contents.mask = this.rectMask, this.enableTouchScroll && (this.rectMask.inputEnabled = !0, this.rectMask.input.enableDrag(!1), this.rectMask.input.allowVerticalDrag = !0, this.rectMask.input.updateDrag = this.dragView.bind(this), this.rectMask.input.stopDrag = this.stopDrag.bind(this))
			}, e.prototype.dragView = function(t) {
				if (!(this.maxScrollDist <= 0)) {
					r.Util.isValid(this.scrollStartPos) || (this.scrollStartPos = this.contents.y);
					var e = t.y - t.positionDown.y,
						i = this.scrollStartPos + e;
					this.maxDistanceThisScroll = Math.max(this.maxDistanceThisScroll, Math.abs(e)), i < -1 * this.maxScrollDist ? i = -1 * this.maxScrollDist : i > 0 && (i = 0), this.contents.y = Math.round(i), r.Util.isValid(this.scrollBar) && this.scrollBar.setPercent(Math.abs(this.contents.y) / this.maxScrollDist), this.dirty = !0
				}
			}, e.prototype.simulateDepthClick = function(t, e) {
				var i = t.getBounds();
				if (Phaser.Rectangle.containsPoint(new Phaser.Rectangle(i.x, i.y, i.width, i.height), e.position))
					if (t instanceof s.Button || t instanceof l.PhaserButtonWrapper) t.onDown();
					else
						for (var n = 0; n < t.children.length; n++) this.simulateDepthClick(t.children[n], e)
			}, e
		}(c.UIElement);
	e.ScrollView = h
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(5),
		o = i(0),
		r = i(27),
		s = function(t) {
			function e(e, i, n) {
				var r = t.call(this, e, i) || this;
				return r.dirty = !0, r.layoutType = null, r.alignment = "top", r.spacing = 0, r.startOffset = 0, r.ignoreInvisible = !1, r.layoutType = n.type, o.Util.isValid(n.alignment) && (r.alignment = n.alignment), o.Util.isValid(n.spacing) && (r.spacing = n.spacing), o.Util.isValid(n.offset) && (r.startOffset = n.offset), o.Util.isValid(n.ignoreInvisible) && (r.ignoreInvisible = n.ignoreInvisible), r.game.broadcaster.addAppListener(a.EUIEvents.ChildAdded, r.parentModified.bind(r), r, r.parent, !1), r.game.broadcaster.addAppListener(a.EUIEvents.ChildRemoved, r.parentModified.bind(r), r, r.parent, !1), r.calculateChildren(), r
			}
			return n(e, t), e.prototype.calculateChildren = function() {
				this.dirty = !1, "vertical" === this.layoutType ? this.alignVertical() : "horizontal" === this.layoutType && this.alignHorizontal()
			}, e.prototype.alignVertical = function() {
				var t = this.startOffset;
				"center" === this.alignment ? t += Math.round((this.parent.height - this.getContentHeight()) / 2) : "bottom" === this.alignment && (t += Math.round(this.parent.height - this.getContentHeight()));
				for (var e = 0; e < this.parent.children.length; e++)
					if (this.parent.children[e] instanceof r.UIElement && this.parent.children[e].visible) {
						if (this.ignoreInvisible && !this.parent.children[e].visible) continue;
						this.parent.children[e].y = t, t += this.parent.children[e].height + this.spacing
					}
			}, e.prototype.alignHorizontal = function() {
				var t = this.startOffset;
				"center" === this.alignment ? t += Math.round((this.parent.width - this.getContentWidth()) / 2) : "right" === this.alignment && (t += this.parent.width - this.getContentWidth());
				for (var e = 0; e < this.parent.children.length; e++)
					if (this.parent.children[e] instanceof r.UIElement && this.parent.children[e].visible) {
						if (this.ignoreInvisible && !this.parent.children[e].visible) continue;
						this.parent.children[e].x = t, t += this.parent.children[e].width + this.spacing
					}
			}, e.prototype.getContentHeight = function() {
				for (var t = (this.parent.children.length - 1) * this.spacing, e = 0; e < this.parent.children.length; e++)
					if (this.parent.children[e] instanceof r.UIElement && this.parent.children[e].visible) {
						if (this.ignoreInvisible && !this.parent.children[e].visible) continue;
						t += this.parent.children[e].height
					} return t
			}, e.prototype.getContentWidth = function() {
				for (var t = (this.parent.children.length - 1) * this.spacing, e = 0; e < this.parent.children.length; e++)
					if (this.parent.children[e] instanceof r.UIElement && this.parent.children[e].visible) {
						if (this.ignoreInvisible && !this.parent.children[e].visible) continue;
						t += this.parent.children[e].width
					} return t
			}, e.prototype.preUpdate = function() {
				t.prototype.preUpdate.call(this), this.dirty && this.calculateChildren()
			}, e.prototype.parentModified = function() {
				this.dirty = !0
			}, e.prototype.destroy = function() {
				this.game.broadcaster.removeAppListener(a.EUIEvents.ChildAdded, this.parentModified.bind(this), this.parent), this.game.broadcaster.removeAppListener(a.EUIEvents.ChildRemoved, this.parentModified.bind(this), this.parent), t.prototype.destroy.call(this)
			}, e
		}(Phaser.Group);
	e.LayoutElement = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e(e, i) {
				var n = t.call(this, e, i) || this;
				return n.image = null, n
			}
			return n(e, t), e.prototype.populate = function(e) {
				var i = a.Util.isValid(e.frameName) ? e.frameName : "",
					n = e.atlasName;
				a.Util.isValid(e.atlasName) || (n = a.Util.isValid(e.atlasID) ? "atlas-" + e.atlasID : "atlas-144"), this.createImage(n, i), t.prototype.populate.call(this, e), a.Util.isValid(e.tint) && (this.image.tint = e.tint), a.Util.isValid(e.horizontalFlip) && e.horizontalFlip && this.flipHorizontally()
			}, e.prototype.createImage = function(t, e) {
				this.image = this.add(new Phaser.Image(this.game, 0, 0, t, e))
			}, e.prototype.setImageFrameName = function(t) {
				this.image.frameName = t
			}, e.prototype.flipHorizontally = function() {
				this.image.pivot.set(this.image.width, 0), this.image.scale.x *= -1
			}, e.prototype.setActive = function(e) {
				this.image.tint = e ? 16777215 : 5789784, t.prototype.setActive.call(this, e)
			}, e
		}(i(181).GraphicBase);
	e.Graphic = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(0),
		o = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e.currentToggleState = 0, e.stateGraphics = [], e.buttonToggleGraphic = null, e
			}
			return n(e, t), e.prototype.populate = function(e) {
				t.prototype.populate.call(this, e), e.children = [{
					anchorX: 0,
					anchorY: 0,
					relativeX: 0,
					relativeY: 0,
					type: "Graphic",
					name: "buttonToggleGraphic",
					atlasID: e.atlasID,
					frameName: 0 === e.defaultToggleState ? e.frameNameOff : e.frameNameOn
				}], this.currentToggleState = e.defaultToggleState, this.stateGraphics = [{
					frameName: e.frameNameOff
				}, {
					frameName: e.frameNameOn
				}]
			}, e.prototype.postPopulate = function() {
				t.prototype.postPopulate.call(this), this.updateToggleImage()
			}, e.prototype.setOnClickCallback = function(t) {
				var e = this;
				this.onClickCallback = function() {
					a.Util.isValid(t) && t(), e.toggleState(), e.updateToggleImage()
				}
			}, e.prototype.toggleState = function() {
				this.currentToggleState = 1 - this.currentToggleState
			}, e.prototype.updateToggleImage = function() {
				this.setGraphicFrameName(this.stateGraphics[this.currentToggleState])
			}, e.prototype.setGraphicFrameName = function(t) {
				a.Util.isValid(this.buttonToggleGraphic) || (this.buttonToggleGraphic = this.iterate("name", "buttonToggleGraphic", Phaser.Group.RETURN_CHILD)), this.buttonToggleGraphic.setImageFrameName(t.frameName)
			}, e
		}(i(62).Button);
	e.ButtonToggle = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i, n, a, o, r, s, l, c, h) {
			return void 0 === o && (o = 0), void 0 === r && (r = null), t.call(this, e, i, n, a, o, r, s, l, c, h) || this
		}
		return n(e, t), e
	}(i(82).Sprite);
	e.TiledSprite = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e, i, n, a, o) {
			return t.call(this, e, i, n, a, o) || this
		}
		return n(e, t), e
	}(Phaser.Image);
	e.TiledImage = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(6),
		r = i(4),
		s = i(318),
		l = i(5),
		c = i(40),
		h = i(317),
		u = i(315),
		p = i(126),
		d = i(314),
		g = i(80),
		f = i(14),
		y = i(23),
		m = i(0),
		_ = i(291),
		v = i(905),
		E = i(177),
		b = i(900),
		O = function(t) {
			function e(e) {
				var i = t.call(this, e, "battle", "battle", ["atlas-17", "sfx-8", "sfx-22", "sfx-23", "sfx-24", "sfx-26", "spine-70"]) || this;
				return i.defeatZone = null, i.area = "", i.teamA = [], i.teamB = [], i.runAwayCallback = null, i.victoryCallback = null, i.defeatCallback = null, i.isRunning = !0, i.mods = null, i.heartsLayer = null, i.bam = null, i.currentManager = null, i.slotRewardIndex = null, i.epicBattleRound1 = null, i.epicBattleRound2 = null, i.epicBattleRound3 = null, i.drops = [], i.combatManager = null, i.victoryManager = null, i.rendererGameObject = null, i.tiledRendererComponent = null, i.LEFT_TEAM_INDEX = 0, i.RIGHT_TEAM_INDEX = 1, i.rendererGameObject = new c.GameObject(i.game, void 0, [], 0, 0), i.tiledRendererComponent = new h.TiledRenderer(i.game, i), i.rendererGameObject.addComponent(i.tiledRendererComponent, !0), i
			}
			return n(e, t), e.prototype.initListeners = function() {
				t.prototype.initListeners.call(this), this.game.broadcaster.addAppListener(l.EBattleEvents.GetIsRunning, this.getIsRunning.bind(this), this), this.game.broadcaster.addAppListener(l.EBattleEvents.ApplySlotBonus, this.applySlotBonus.bind(this), this), this.game.broadcaster.addAppListener(l.EBattleEvents.EndBattle, this.endBattle.bind(this), this)
			}, e.prototype.stopListeners = function() {
				t.prototype.stopListeners.call(this), this.game.broadcaster.removeAppListener(l.EBattleEvents.GetIsRunning, this), this.game.broadcaster.removeAppListener(l.EBattleEvents.ApplySlotBonus, this), this.game.broadcaster.removeAppListener(l.EBattleEvents.EndBattle, this)
			}, e.prototype.setUIVisible = function(t) {
				this.leftStatusUI.visible = t, this.rightStatusUI.visible = t
			}, e.prototype.getIsRunning = function() {
				return this.isRunning
			}, e.prototype.create = function() {
				this.zoneName = "battle-" + this.game.prodigy.player.userID, t.prototype.create.call(this), this.game.prodigy.player.saveEnabled = !1
			}, e.prototype.screenSetup = function() {
				this.bam = null, this.groupDim = this.game.add.group(this.content, "battleDimLayer"), this.groupBack = this.game.add.group(this.content, "battleBackLayer"), this.groupMiddle = this.game.add.group(this.content, "battleMidLayer"), this.groupFront = this.game.add.group(this.content, "battleFrontLayer"), this.tiledRendererComponent.render({
					mapName: this.mods.screen
				}), this.heartsLayer = new Phaser.Group(this.game, this.foreground), this.teams = [new E.Team(this.game, this.content, this.teamA, !0, -200, 500, 345, 500, !1), new E.Team(this.game, this.content, this.teamB, !1, 1480, 500, 935, 500, !0)], this.resetPotions(), y.Device.isNativeApp() || this.game.prodigy.audio.playBGM(2, !0), this.isRunning = !0, this.slotRewardIndex = null, this.initTeamHUD(0), m.Util.isValid(this.mods.epicArena) ? (this.checkCombatMods(), this.initTeamHUD(1)) : (this.initTeamHUD(1), this.startCombat()), this.game.prodigy.network.leaveZone(), t.prototype.screenSetup.call(this)
			}, e.prototype.screenUpdate = function() {
				t.prototype.screenUpdate.call(this), m.Util.isValid(this.currentManager) && m.Util.isValid(this.currentManager.update) && this.currentManager.update()
			}, e.prototype.openBam = function() {
				return m.Util.isValid(this.bam) ? this.bam.open() : (this.bam = new g.Bam(this.game, this.heartsLayer, this.teams[0], this.teams[1]), this.heartsLayer.sendToBack(this.bam), this.bam.onClose = this.destroyBam.bind(this)), this.bam
			}, e.prototype.isBamCreated = function() {
				return m.Util.isValid(this.bam)
			}, e.prototype.destroyBam = function() {
				m.Util.isValid(this.bam) && (this.bam.destroy(), this.bam = null)
			}, e.prototype.initTeamHUD = function(t) {
				var e = this,
					i = new d.CharacterStatus(this.game, this.heartsLayer, 0 === t, t > 0 && m.Util.isValid(this.mods.boss) && !(this.teams[t].getCurrentSource() instanceof p.TitanBoss)),
					n = 0 === t ? this.game.prodigy.player.getEnergy() : 0;
				this.teams[t].setEnergy(n), this.registerSignals(i, this.teams[t], 0 !== t), 0 === t ? this.leftStatusUI = i : (this.rightStatusUI = i, this.teams[t].getCurrentSource() instanceof p.TitanBoss && this.rightStatusUI.onLoadComplete.add(function() {
					e.rightStatusUI.setIconToTitanShield()
				}))
			}, e.prototype.registerSignals = function(t, e, i) {
				t.onLoadComplete.add(function() {
					t.x = i ? 1280 - t.width : 0, t.setInfoFromTeam(e)
				}), e.onCurrentMemberHPChange.add(function(e, i) {
					t.setCurrentHealth(e.getCurrentHearts())
				}), e.onMoveCreatureIn.add(function() {
					t.moveOnScreen()
				}), e.onMoveCreatureOut.add(function() {
					t.moveOffScreen()
				}), e.onCurrentMemberSwitch.add(function() {
					t.moveOnScreen(), t.setInfoFromTeam(e)
				}), e.onEnergyChangeStart.add(function(i) {
					t.setEnergyMeterPercentage(i / e.getMaxEnergy())
				})
			}, e.prototype.unregisterSignals = function(t, e) {
				t.onLoadComplete.removeAll(this), e.unregisterSignals()
			}, e.prototype.checkCombatMods = function() {
				this.game.prodigy.create.font(this.foreground, 570, 5, this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("BATTLE_INTRO"), {
					size: 20,
					width: 140,
					align: "center"
				}), this.foreground.add(this.game.prodigy.create.sprite(518, 20, "atlas-17", "round-counter")), this.epicBattleRound1 = this.game.prodigy.create.font(this.foreground, 615, 55, "1", {
					size: 2,
					width: 140,
					align: "center",
					fontID: 12,
					mono: 44
				}), this.epicBattleRound2 = this.game.prodigy.create.font(this.foreground, 584, 55, "0", {
					size: 2,
					width: 140,
					align: "center",
					fontID: 12,
					mono: 44
				}), this.epicBattleRound3 = this.game.prodigy.create.font(this.foreground, 553, 55, "0", {
					size: 2,
					width: 140,
					align: "center",
					fontID: 12,
					mono: 44
				}), this.newEpicBattle()
			}, e.prototype.newEpicBattle = function() {
				if (this.enableOverlay(), y.Device.isNativeApp() || this.game.prodigy.audio.playBGM(2, !0), this.mods.starMod = 1, this.mods.level = this.teams[0].getCurrent().source.data.level, this.mods.difficulty = 1, this.drops = [], this.game.add.tween(this.heartsLayer).to({
						y: 0
					}, 1e3, Phaser.Easing.Cubic.Out, !0), this.checkSlotRewardAndEncounter(), this.mods.epicArena < 10) this.epicBattleRound1.setText("" + this.mods.epicArena);
				else if (this.mods.epicArena < 100) {
					var t = this.mods.epicArena % 10;
					this.epicBattleRound1.setText("" + t);
					var e = (this.mods.epicArena - t) / 10;
					this.epicBattleRound2.setText("" + e)
				} else {
					var i = this.mods.epicArena % 100;
					this.epicBattleRound3.setText("" + (this.mods.epicArena - i) / 100);
					t = i % 10;
					this.epicBattleRound1.setText("" + t);
					e = (i - t) / 10;
					this.epicBattleRound2.setText("" + e)
				}
				this.isRunning = !0, this.teamB = this.game.prodigy.battle.initBattle(this.mods, this.game.prodigy.battle.getBattleLevel(this.teamA)), this.teams.pop(), this.teams.push(new E.Team(this.game, this.content, this.teamB, !1, 1480, 500, 935, 500, !0));
				var n = !(this.teams[0].getCurrent().source.getCurrentHearts() >= this.teams[0].getCurrent().source.getMaxHearts());
				this.game.prodigy.open.epicBoostMachine(this.teams[0].getCurrent().source.data.ID, n)
			}, e.prototype.checkSlotRewardAndEncounter = function() {
				var t = "" + this.teams[0].getCurrent().source.data.ID;
				if (this.mods.encounter = [{
						ID: this.game.seededRandom.pick(u.Monsters.epicArena[t].monsters[this.mods.challengeLevel], 1013 * this.mods.epicArena)
					}], this.mods.getAllRewards) {
					if (this.mods.epicArena % 10 == 0) {
						this.slotRewardIndex = m.Util.isValid(this.slotRewardIndex) ? this.slotRewardIndex + 1 : 0;
						var e = u.Monsters.epicArena[t].rewards[this.slotRewardIndex % 3];
						this.game.prodigy.player.house.getOwned(e.ID) >= 9 && (e = {
							type: "gold",
							N: 50
						}), this.drops.push(e)
					}
				} else if (this.mods.epicArena % (5 * this.mods.challengeLevel + 10) == 0) {
					this.slotRewardIndex = this.mods.challengeLevel;
					e = u.Monsters.epicArena[t].rewards[this.mods.challengeLevel];
					this.game.prodigy.player.house.getOwned(e.ID) >= 9 && (e = {
						type: "gold",
						N: 50
					}), this.drops.push(e)
				}
				this.drops.push({
					type: "gold",
					N: -50
				})
			}, e.prototype.applySlotBonus = function(t) {
				var e = this.teams[0].getCurrent().source,
					i = this.teams[1].getCurrent().source;
				e.resetModifiers(), i.resetModifiers(), e.starsEarned = 0, e.getCurrentHearts() >= e.getMaxHearts() && e.changeCurrentHearts(r.GameConstants.MAX_SAFE_INTEGER);
				for (var n = 0, a = 1, o = 0; o < t.length; o++) switch (t[o]) {
					case 1:
						e.updateModifier("maxHearts", .1);
						break;
					case 2:
						e.updateModifier("maxHearts", .2);
						break;
					case 3:
						e.updateModifier("maxHearts", .3);
						break;
					case 4:
						e.updateModifier("maxHearts", -.1);
						break;
					case 5:
						n += .1;
						break;
					case 6:
						n += .2;
						break;
					case 7:
						n += .3;
						break;
					case 8:
						n -= .1;
						break;
					case 9:
						n -= .2;
						break;
					case 10:
						a += .1;
						break;
					case 11:
						a += .2;
						break;
					case 12:
						a += .3;
						break;
					case 13:
						e.updateModifier("damage", .2);
						break;
					case 14:
						e.updateModifier("damage", -.1);
						break;
					case 15:
						this.drops.push({
							type: "gold",
							N: 25
						});
						break;
					case 16:
						i.updateModifier("miss", .25);
						break;
					case 17:
						i.updateModifier("ignoreElement", 1), e.updateModifier("ignoreElement", 1)
				}
				e.changeCurrentHearts(e.getMaxHearts() * n, .01 * e.getMaxHearts()), this.mods.starMod *= a, e.modifiers.maxHearts > 1 && e.changeCurrentHearts(e.getCurrentHearts() * (e.modifiers.maxHearts - 1)), this.disableOverlay(), this.startCombat()
			}, e.prototype.startCombat = function() {
				m.Util.isValid(this.combatManager) || (this.combatManager = new v.CombatManager(this.game)), this.combatManager.setup(this), this.currentManager = this.combatManager, m.Util.isValid(this.mods.towerFloor) || m.Util.isValid(this.mods.epicArena) || this.game.prodigy.player.healTeam(r.GameConstants.MAX_SAFE_INTEGER)
			}, e.prototype.startVictory = function() {
				this.isRunning = !1, y.Device.isNativeApp() || this.game.prodigy.audio.playBGM(1, !0), m.Util.isValid(this.victoryManager) || (this.victoryManager = new b.VictoryManager(this.game)), this.victoryManager.setup(this), this.currentManager = this.victoryManager, this.destroyBam()
			}, e.prototype.processEndBattleQuests = function() {
				for (var t = this.teams[1].getDefeated(), e = 0; e < t.length; e++) m.Util.isValid(this.mods.quest) && this.game.prodigy.player.quests.defeatMonster(this.mods.zoneID, this.mods.quest, t[e].getID());
				m.Util.isValid(this.mods.quest) && this.game.prodigy.player.quests.defeatBoss(this.mods.zoneID), m.Util.isValid(this.mods.dailyQuest) && this.game.prodigy.world.zones[this.mods.zoneID].updateDailyQuest(this.mods.dailyQuest)
			}, e.prototype.endBattle = function(t) {
				console.log("End battle");
				console.log(t);
				this.resetPotions(), this.isRunning = !1;
				if ("win" === t) {
					console.log("Battle victory");
					if (m.Util.isValid(this.mods.towerFloor)) {
						var l = "";
						this.mods.towerFloor < 10 ? l = "00" : this.mods.towerFloor < 100 && (l = "0"), this.game.prodigy.network.sendAnalytics("Dark-Tower-Battle", "Floor" + l + this.mods.towerFloor + "-BattleWon", "Events")
					}
					this.processEndBattleQuests();
					if (m.Util.isValid(this.mods.epicArena)) {
						this.mods.epicArena++,
						this.unregisterSignals(this.leftStatusUI, this.teams[1]),
						this.newEpicBattle(),
						this.initTeamHUD(1)
					} else {
						this.game.prodigy.player.healTeam(r.GameConstants.MAX_SAFE_INTEGER),
						this.victoryCallback(this.mods, this.teams[1].getDefeated())
					}
				} else if ("lose" === t) {
					console.log("Battle defeat");
					if (m.Util.isValid(this.mods.towerFloor) || this.game.prodigy.player.healTeam(r.GameConstants.MAX_SAFE_INTEGER), this.game.prodigy.player.backpack.hasItems([{
							type: "item",
							ID: 1
						}, {
							type: "item",
							ID: 3
						}, {
							type: "item",
							ID: 4
						}, {
							type: "item",
							ID: 11
						}, {
							type: "item",
							ID: 22
						}, {
							type: "item",
							ID: 25
						}]) > 0 ? this.game.prodigy.network.sendAnalytics("battle lost", "battle-lost-with-food", "Events") : this.game.prodigy.network.sendAnalytics("battle lost", "battle-lost-without-food-left", "Events"), m.Util.isValid(this.mods.towerFloor)) {
						l = "";
						this.mods.towerFloor < 10 ? l = "00" : this.mods.towerFloor < 100 && (l = "0"), this.game.prodigy.network.sendAnalytics("Dark-Tower-Battle", "Floor" + l + this.mods.towerFloor + "-BattleLost", "Events")
					}
					if (m.Util.isValid(this.defeatCallback) && this.defeatCallback(), m.Util.isValid(this.mods.epicArena)) return;
					this.game.state.states.Faint.targetZone = this.defeatZone, "academy-GH3" === this.defeatZone && this.game.prodigy.world.zones.archives.consumeGoldenPages(), this.game.prodigy.start("Faint")
				}
				var c = this.game.prodigy.pvpNetworkHandler,
					h = this.game.prodigy.battle.battleStats.type,
					u = m.Util.isValid(c) ? c.seasonID : void 0,
					p = m.Util.isValid(c) ? c.userRank.points : void 0,
					d = "win" === t,
					g = this.game.prodigy.battle.battleStats.energy,
					y = this.game.prodigy.battle.battleStats.energyCost,
					_ = Math.max(0, this.game.prodigy.battle.battleStats.endTime - this.game.prodigy.battle.battleStats.startTime);
				this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameBattleDataFactory).create(h, d, g, y, _, u, p).broadcast()
			}, e.prototype.resetPotions = function() {
				for (var t = 0; t < this.teams.length; t++)
					for (var e = 0; e < this.teams[t].team.length; e++) {
						var i = this.teams[t].team[e];
						i.source.updateModifier("potion", null), m.Util.isValid(i.potionIcon) && (i.potionIcon.destroy(), i.potionIcon = null), m.Util.isValid(i.potencyIcon) && (i.potencyIcon.destroy(), i.potencyIcon = null)
					}
			}, e.prototype.shutdown = function() {
				t.prototype.shutdown.call(this), this.unregisterSignals(this.leftStatusUI, this.teams[this.LEFT_TEAM_INDEX]), this.unregisterSignals(this.rightStatusUI, this.teams[this.RIGHT_TEAM_INDEX])
			}, e
		}(_.BattleScreenBase);
	e.Battle = O
}, function(t, e) {
	t.exports = window.Raven
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(1),
		o = i(183),
		r = i(943),
		s = i(942),
		l = i(898),
		c = i(6),
		h = i(4),
		u = i(5),
		p = i(893),
		d = i(168),
		g = i(885),
		f = i(2),
		y = i(23),
		m = i(99),
		_ = i(31),
		v = i(0),
		E = i(302),
		b = i(427),
		O = i(426),
		I = i(425),
		T = i(424),
		A = i(230),
		C = i(423),
		S = i(422),
		w = i(238),
		D = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e.isLoaded = !1, e
			}
			return n(e, t), e.prototype.preload = function(e) {
				var n = this;
				t.prototype.preload.call(this, e);
				var a = e.prodigy.gameContainer;
				switch (a.get(c.EProdigyInjectionIdentifiers.EnvironmentProvider).getCurrentEnvironment()) {
					case m.EEnvironment.QABox:
						a.get(c.EProdigyInjectionIdentifiers.HttpClient).get("https://" + window.location.hostname + "/feature-flag-api/v1/flags/prodigy-game", null).then(function(t) {
							n.featureFlagsLoaded(t)
						});
						break;
					case m.EEnvironment.Production:
						e.prodigy.load.assets("feature-flag-data", function() {
							n.featureFlagsLoaded(n.game.cache.getJSON("feature-flag-data"))
						});
						break;
					default:
						this.featureFlagsLoaded(i(421))
				}
			}, e.prototype.featureFlagsLoaded = function(t) {
				var e = this.game.prodigy.gameContainer,
					i = e.resolve(E.JsonFeatureFlagsProvider);
				i.initializeWithJson(t), e.bind(c.EProdigyInjectionIdentifiers.FeatureFlagProvider).toConstantValue(i), this.game.prodigy.assets.appendAssets({
					"game-data": {
						type: "json",
						fullURL: window.location.origin + window.location.pathname + "assets/data/data.json"
					}
				});
				var n = i.getValue("gameConstants");
				for (var a in n) h.GameConstants.enableGameConstant(a, n[a]);
				this.game.prodigy.load.assets(["game-data"], this.loadedData.bind(this))
			}, e.prototype.loadedData = function(t, e) {
				var n, a = this.game.cache.getJSON("game-data"),
					o = a.emote;
				for (n = 0; n < o.length; ++n) switch (o[n].ID) {
					case 6:
					case 22:
						o.splice(n, 1), n--
				}
				for (a.particleEffect = [{
						ID: 1,
						type: "particleEffect",
						data: {
							particle: {
								image: "atlas-10",
								frame: "42-16",
								lifespan: 8e3,
								vy: {
									min: 2,
									max: 2
								},
								vx: {
									min: .5,
									max: 1
								},
								rotation: {
									value: 0,
									delta: {
										min: -2,
										max: 2
									}
								}
							},
							emitter: {
								repeat: -1,
								frequency: 50
							}
						},
						metadata: {}
					}, {
						ID: 2,
						type: "particleEffect",
						data: {
							particle: {
								image: "atlas-10",
								frame: "42-30",
								lifespan: 5e3,
								vy: {
									min: 3,
									max: 3
								},
								vx: {
									min: .25,
									max: .75
								},
								rotation: {
									value: 0,
									delta: {
										min: -3,
										max: 3
									}
								}
							},
							emitter: {
								repeat: -1,
								frequency: 150
							}
						},
						metadata: {}
					}, {
						ID: 3,
						type: "particleEffect",
						data: {
							particle: {
								image: "atlas-160",
								frame: "tiny-bubble",
								lifespan: {
									min: 800,
									max: 1200
								},
								vx: {
									min: -.1,
									max: .1
								},
								vy: {
									min: -.8,
									max: -.1
								},
								scale: {
									value: {
										min: .3,
										max: .6
									},
									control: [{
										x: 0,
										y: 1
									}, {
										x: .3,
										y: 1
									}, {
										x: 1,
										y: 2
									}]
								}
							},
							emitter: {
								repeat: -1,
								frequency: {
									min: 350,
									max: 7500
								}
							}
						},
						metadata: {}
					}, {
						ID: 4,
						type: "particleEffect",
						data: {
							particle: {
								image: "atlas-160",
								frame: "ink",
								lifespan: 1500,
								vy: {
									min: -.8,
									max: -.1
								},
								vx: {
									min: -.3,
									max: .3
								},
								scale: {
									value: 1,
									control: [{
										x: 0,
										y: .5
									}, {
										x: 1,
										y: 1
									}]
								},
								alpha: {
									value: 1,
									control: [{
										x: 0,
										y: 1
									}, {
										x: .4,
										y: 1
									}, {
										x: 1,
										y: 0
									}]
								},
								rotation: {
									initial: {
										min: 0,
										max: 360
									},
									delta: {
										min: .5,
										max: 2
									}
								}
							},
							emitter: {
								repeat: 8,
								frequency: {
									min: 20,
									max: 50
								},
								burstFrequency: {
									min: 5e3,
									max: 1e4
								}
							}
						},
						metadata: {}
					}, {
						ID: 5,
						type: "particleEffect",
						data: {
							particle: {
								lifespan: {
									min: 350,
									max: 500
								},
								image: "atlas-160",
								animations: {
									clouds: {
										frames: ["cloud-5", "cloud-4", "cloud-3", "cloud-2", "cloud-1"],
										frameRate: 10,
										loop: !1
									}
								},
								vy: {
									min: -.45,
									max: -.65
								}
							},
							emitter: {
								repeat: -1,
								frequency: 300
							}
						},
						metadata: {}
					}], n = 0; n < a.follow.length; ++n) 130 === a.follow[n].ID ? a.follow[n].data.particleEffects = [{
					ID: 3,
					x: 4,
					y: -15
				}] : 131 === a.follow[n].ID && (a.follow[n].data.particleEffects = [{
					ID: 4,
					x: 0,
					y: 0,
					inFront: !1
				}]);
				f.Items.parseData(a);
				var r = ["boots", "follow", "hat", "mount", "outfit", "weapon", "pet"];
				for (this.game.prodigy.chat.addPhrases(i(420).keys, !0), n = 0; n < r.length; n++) this.game.prodigy.chat.addPhrases(f.Items.data[r[n]].map(function(t) {
					return t.data.name
				}));
				this.initializeParticleEffectsImages(), window.addEventListener("message", function(t) {
					var e = t.data;
					try {
						e.cmd && (e.cmd.indexOf("T2C_") >= 0 || e.cmd.indexOf("C2T_") >= 0) && (e.prodigy || window.postMessage({
							cmd: "T2C_Result",
							param: [
								["Cheating is BAD!", "Stop doing it!"]
							],
							prodigy: !0
						}, "*"))
					} catch (t) {}
				}, !1), this.game.prodigy.load.assets(["bitmapFont-1", "atlas-10", "atlas-9", "atlas-8", "atlas-12", "atlas-13", "atlas-11", "atlas-18", "atlas-20", "atlas-161", "atlas-144", "atlas-145", "atlas-148", "atlas-146", "atlas-147", "atlas-149", "atlas-150", "atlas-166", "atlas-167", "atlas-169"], this.loaded.bind(this))
			}, e.prototype.loaded = function(t, e) {
				this.isLoaded = e, this.game.broadcaster.broadcast(u.EBootEvents.Loaded, null, [])
			}, e.prototype.create = function(e) {
				t.prototype.create.call(this, e), this.game.prodigy.init(), this.game.initPlugins(), h.GameConstants.get("GameConstants.Build.DEBUG") && h.GameConstants.get("GameConstants.Debug.OVERRIDE_FPS") > 0 && (this.game.time.desiredFps = h.GameConstants.get("GameConstants.Debug.OVERRIDE_FPS")), window.navigator.userAgent.indexOf("Edge") > -1 && Phaser.Canvas.setImageRenderingCrisp(this.game.canvas), this.game.time.advancedTiming = !0, this.game.scale.scaleMode = h.GameConstants.get("GameConstants.Build.SCALE_MODE"), this.game.scale.refresh(), this.input.maxPointers = 1, this.game.stage.disableVisibilityChange = !0, this.game.device.desktop ? this.game.scale.pageAlignHorizontally = !0 : this.game.scale.forceLandscape = !0, this.extendInput(), this.game.prodigy.load.setLoader(this.game.load)
			}, e.prototype.extendInput = function() {
				var t = this;
				this.game.inputDispatcher = new g.InputDispatcher(this.game), this.game.input.setEnterCallback = function(e) {
					t.game.input.enterCallback = e
				}, this.game.input.clearEnterCallback = function() {
					delete t.game.input.enterCallback
				}, o(document).on("keyup", function(e) {
					13 === e.keyCode && v.Util.isValid(t.game.input.enterCallback) && t.game.input.enterCallback()
				})
			}, e.prototype.initializeParticleEffectsImages = function() {
				for (var t = f.Items.data.particleEffect, e = [], i = 0; i < t.length; ++i) {
					var n = t[i].data.particle.image; - 1 === e.indexOf(n) && e.push(n)
				}
				this.game.prodigy.load.assets(e, function() {})
			}, e.prototype.update = function(e) {
				t.prototype.update.call(this, e), this.isLoaded && (this.isLoaded = !1, this.game.prodigy.start("Login", {
					assets: ["atlas-21", "atlas-19"],
					title: this.game.prodigy.gameContainer.get(a.GameIdentifiers.LocalizationService).getText("TITLE_LOGIN"),
					time: 3e3
				}))
			}, e.init = function() {
				v.Util.isValid(r) && y.Device.isAndroid() && "production" === v.Util.getEnvironment() ? (r.config("https://a84188f8494e47ea9adc6469ec4f4deb@sentry.io/1217080", {
					release: h.GameConstants.get("GameConstants.Build.VERSION"),
					sampleRate: .5,
					dataCallback: function(t) {
						var e = t.exception && t.exception.values[0].stacktrace;
						return e && e.frames && e.frames.forEach(function(t) {
							if (t.filename.startsWith("/")) {
								var e = t.filename.substring(t.filename.lastIndexOf("/") + 1); - 1 !== e.lastIndexOf(".") && (e = e.substring(0, e.lastIndexOf("."))), t.filename = "app:///" + e
							}
						}), t
					}
				}).install(), r.context(function() {
					e.createGame()
				})) : e.createGame()
			}, e.createGame = function() {
				var t = new _.ProdigyGame({
					width: 1280,
					height: 720,
					renderer: Phaser.CANVAS,
					parent: "game-container"
				});
				window.importer = i;
				t.init(), t.state.add("Boot", e), t.state.add("Loading", A.Loading), t.state.add("PVPLoading", S.PVPLoading), t.state.add("TileScreen", w.TileScreen), t.state.add("Login", C.Login), t.state.add("Battle", s.Battle), t.state.add("PVP", l.PVP), t.state.add("Faint", T.Faint), t.state.add("CharSelect", I.CharSelect), t.state.add("CharCreate", O.CharCreate), t.state.add("Museum", b.Museum), t.state.add("DinoDig", d.DinoDig), t.state.add("DanceDance", p.DanceDance), t.state.start("Boot"), window.clearInput = function() {
					for (var e = 0; e < t.input.pointers.length; e++) t.input.pointers[e].active = !1
				}
			}, e
		}(Phaser.State);
	e.Boot = D
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			return null !== t && t.apply(this, arguments) || this
		}
		return n(e, t), e.prototype.commonSchemaToData = function(t, e) {
			return e.setClientVersion(t.client_version), e.setTimestamp(t.timestamp), e.setUserId(t.user_id), e.setToken(t.token), e.setUserType(t.usertype), e.setPage(t.page), e.setPath(t.path), e.setUuid(t.meta.uuid), void 0 !== t.meta.device_platform && e.setDevicePlatform(t.meta.device_platform), void 0 !== t.meta.device_os && e.setDeviceOs(t.meta.device_os), void 0 !== t.meta.device_height && e.setDeviceHeight(t.meta.device_height), void 0 !== t.meta.device_width && e.setDeviceWidth(t.meta.device_width), void 0 !== t.meta.utm_source && e.setUtmSource(t.meta.utm_source), void 0 !== t.meta.utm_campaign && e.setUtmCampaign(t.meta.utm_campaign), void 0 !== t.meta.utm_medium && e.setUtmMedium(t.meta.utm_medium), void 0 !== t.meta.utm_content && e.setUtmContent(t.meta.utm_content), void 0 !== t.meta.browser && e.setBrowser(t.meta.browser), void 0 !== t.meta.browser_version && e.setBrowserVersion(t.meta.browser_version), void 0 !== t.meta.custom_fields && e.setCustomFields(t.meta.custom_fields), e
		}, e.prototype.commonDataToSchema = function(t) {
			return {
				client_version: t.getClientVersion(),
				timestamp: t.getTimestamp(),
				user_id: t.getUserId(),
				usertype: t.getUsertype(),
				token: t.getToken(),
				name: t.getEventName(),
				path: t.getPath(),
				page: t.getPage(),
				version: t.getSchemaVersion(),
				meta: {
					uuid: t.getUuid(),
					utm_source: t.getUtmSource(),
					utm_campaign: t.getUtmCampaign(),
					utm_medium: t.getUtmMedium(),
					utm_content: t.getUtmContent(),
					device_platform: t.getDevicePlatform(),
					device_height: t.getDeviceHeight(),
					device_width: t.getDeviceWidth(),
					device_os: t.getDeviceOs(),
					browser: t.getBrowser(),
					browser_version: t.getBrowserVersion(),
					custom_fields: t.getCustomFields()
				}
			}
		}, e
	}(i(100).Factory);
	e.WebEventFactory = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = function(e, i) {
				return (t = Object.setPrototypeOf || {
						__proto__: []
					}
					instanceof Array && function(t, e) {
						t.__proto__ = e
					} || function(t, e) {
						for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
					})(e, i)
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || function() {
			return (a = Object.assign || function(t) {
				for (var e, i = 1, n = arguments.length; i < n; i++)
					for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
				return t
			}).apply(this, arguments)
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(945),
		r = i(319),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.convertSchemaToData = function(e) {
				var i = t.prototype.commonSchemaToData.call(this, e, new r.WebMembershipData);
				return i.setAction(e.meta.action), void 0 !== e.meta.country && i.setCountry(e.meta.country), void 0 !== e.meta.is_from_game && i.setIsFromGame(e.meta.is_from_game), void 0 !== e.meta.plan && i.setPlan(e.meta.plan), void 0 !== e.meta.experiment && i.setExperiment(e.meta.experiment), void 0 !== e.meta.experiment_group && i.setExperimentGroup(e.meta.experiment_group), i.isValid() ? i : null
			}, e.prototype.convertDataToSchema = function(e) {
				if (!e.isValid()) return null;
				var i = t.prototype.commonDataToSchema.call(this, e);
				return a({}, i, {
					meta: a({}, i.meta, {
						action: e.getAction(),
						country: e.getCountry(),
						is_from_game: e.getIsFromGame(),
						plan: e.getPlan(),
						experiment: e.getExperiment(),
						experiment_group: e.getExperimentGroup()
					})
				})
			}, e
		}(o.WebEventFactory);
	e.WebMembershipFactory = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = function(e, i) {
			return (t = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(e, i)
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e(e) {
			var i = t.call(this, e, 3) || this;
			return i.userId = null, i.clientVersion = null, i.timestamp = null, i.token = null, i.uuid = null, i.path = null, i.page = null, i.usertype = null, i.utmSource = null, i.utmCampaign = null, i.utmMedium = null, i.utmContent = null, i.devicePlatform = null, i.deviceHeight = null, i.deviceWidth = null, i.deviceOs = null, i.browser = null, i.browserVersion = null, i.customFields = null, i
		}
		return n(e, t), e.prototype.setUserId = function(t) {
			this.userId = t
		}, e.prototype.getUserId = function() {
			return this.userId
		}, e.prototype.setClientVersion = function(t) {
			this.clientVersion = t
		}, e.prototype.getClientVersion = function() {
			return this.clientVersion
		}, e.prototype.setTimestamp = function(t) {
			this.timestamp = t
		}, e.prototype.getTimestamp = function() {
			return this.timestamp
		}, e.prototype.setToken = function(t) {
			this.token = t
		}, e.prototype.getToken = function() {
			return this.token
		}, e.prototype.setUuid = function(t) {
			this.uuid = t
		}, e.prototype.getUuid = function() {
			return this.uuid
		}, e.prototype.setPath = function(t) {
			this.path = t
		}, e.prototype.getPath = function() {
			return this.path
		}, e.prototype.setPage = function(t) {
			this.page = t
		}, e.prototype.getPage = function() {
			return this.page
		}, e.prototype.setUserType = function(t) {
			this.usertype = t
		}, e.prototype.getUsertype = function() {
			return this.usertype
		}, e.prototype.setUtmSource = function(t) {
			this.utmSource = t
		}, e.prototype.getUtmSource = function() {
			return this.utmSource
		}, e.prototype.setUtmMedium = function(t) {
			this.utmMedium = t
		}, e.prototype.getUtmMedium = function() {
			return this.utmMedium
		}, e.prototype.setUtmCampaign = function(t) {
			this.utmCampaign = t
		}, e.prototype.getUtmCampaign = function() {
			return this.utmCampaign
		}, e.prototype.setUtmContent = function(t) {
			this.utmContent = t
		}, e.prototype.getUtmContent = function() {
			return this.utmContent
		}, e.prototype.setDevicePlatform = function(t) {
			this.devicePlatform = t
		}, e.prototype.getDevicePlatform = function() {
			return this.devicePlatform
		}, e.prototype.setDeviceHeight = function(t) {
			this.deviceHeight = t
		}, e.prototype.getDeviceHeight = function() {
			return this.deviceHeight
		}, e.prototype.setDeviceWidth = function(t) {
			this.deviceWidth = t
		}, e.prototype.getDeviceWidth = function() {
			return this.deviceWidth
		}, e.prototype.setDeviceOs = function(t) {
			this.deviceOs = t
		}, e.prototype.getDeviceOs = function() {
			return this.deviceOs
		}, e.prototype.setBrowser = function(t) {
			this.browser = t
		}, e.prototype.getBrowser = function() {
			return this.browser
		}, e.prototype.setBrowserVersion = function(t) {
			this.browserVersion = t
		}, e.prototype.getBrowserVersion = function() {
			return this.browserVersion
		}, e.prototype.setCustomFields = function(t) {
			this.customFields = t
		}, e.prototype.getCustomFields = function() {
			return this.customFields
		}, e.prototype.defineValidation = function() {
			var t = this;
			this.addValidation({
				name: "name",
				value: function() {
					return t.getEventName()
				},
				comparator: function(t) {
					return t.length > 1
				},
				isOptional: !1
			}).addValidation({
				name: "version",
				value: function() {
					return t.getSchemaVersion()
				},
				comparator: function(t) {
					return 3 === t
				},
				isOptional: !1
			}).addValidation({
				name: "user_id",
				value: function() {
					return t.getUserId()
				},
				comparator: function(t) {
					return t > 1
				},
				isOptional: !1
			}).addValidation({
				name: "client_version",
				value: function() {
					return t.getClientVersion()
				},
				comparator: function(t) {
					return t.length > 1
				},
				isOptional: !1
			}).addValidation({
				name: "timestamp",
				value: function() {
					return t.getTimestamp()
				},
				comparator: function(t) {
					return t > 1
				},
				isOptional: !1
			}).addValidation({
				name: "token",
				value: function() {
					return t.getToken()
				},
				comparator: function(t) {
					return t.length > 1
				},
				isOptional: !1
			}).addValidation({
				name: "page",
				value: function() {
					return t.getPage()
				},
				comparator: function(t) {
					return t.length > 1
				},
				isOptional: !1
			}).addValidation({
				name: "path",
				value: function() {
					return t.getPath()
				},
				comparator: function(t) {
					return t.length > 1
				},
				isOptional: !1
			}), this.addValidation({
				name: "meta.uuid",
				value: function() {
					return t.getUuid()
				},
				comparator: function(t) {
					return t.length > 1
				},
				isOptional: !0
			}).addValidation({
				name: "meta.device_height",
				value: function() {
					return t.getDeviceHeight()
				},
				comparator: function(t) {
					return t > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.device_width",
				value: function() {
					return t.getDeviceWidth()
				},
				comparator: function(t) {
					return t > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.device_platform",
				value: function() {
					return t.getDevicePlatform()
				},
				comparator: function(t) {
					return t.length > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.device_os",
				value: function() {
					return t.getDeviceOs()
				},
				comparator: function(t) {
					return t.length > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.browser",
				value: function() {
					return t.getBrowser()
				},
				comparator: function(t) {
					return t.length > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.browser_version",
				value: function() {
					return t.getBrowserVersion()
				},
				comparator: function(t) {
					return t.length > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.utm_medium",
				value: function() {
					return t.getUtmMedium()
				},
				comparator: function(t) {
					return t.length > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.utm_source",
				value: function() {
					return t.getUtmSource()
				},
				comparator: function(t) {
					return t.length > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.utm_content",
				value: function() {
					return t.getUtmContent()
				},
				comparator: function(t) {
					return t.length > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.utm_campaign",
				value: function() {
					return t.getUtmCampaign()
				},
				comparator: function(t) {
					return t.length > 0
				},
				isOptional: !0
			}).addValidation({
				name: "meta.custom_fields",
				value: function() {
					return t.getCustomFields()
				},
				comparator: function(t) {
					return t.length > 0
				},
				isOptional: !0
			})
		}, e
	}(i(101).Event);
	e.WebEventData = a
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(319)), n(i(946))
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
		}(i(948))
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(26),
		a = i(28),
		o = i(949);
	e.V3 = o;
	var r = new n.Mapper;
	e.mapping = r, r.add(a.EventEnum.WebMembership, o.WebMembershipData, o.WebMembershipFactory)
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = function(e, i) {
				return (t = Object.setPrototypeOf || {
						__proto__: []
					}
					instanceof Array && function(t, e) {
						t.__proto__ = e
					} || function(t, e) {
						for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
					})(e, i)
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || function() {
			return (a = Object.assign || function(t) {
				for (var e, i = 1, n = arguments.length; i < n; i++)
					for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
				return t
			}).apply(this, arguments)
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(320),
		r = i(322),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.convertDataToSchema = function(e) {
				var i = t.prototype.commonDataToSchema.call(this, e);
				return a({}, i, {
					meta: a({}, i.meta, {
						action: e.getAction(),
						customFields: e.getCustomFields(),
						lessonEncounteredId: e.getLessonEncounteredId(),
						type: e.getType(),
						videoPercentagePlayed: e.getVideoPercentagePlayed()
					})
				})
			}, e.prototype.convertSchemaToData = function(e) {
				var i = t.prototype.commonSchemaToData.call(this, e, new r.EducationLessonEncounterData);
				return i.setAction(e.meta.action), i.setCustomFields(e.meta.customFields), i.setLessonEncounteredId(e.meta.lessonEncounteredId), i.setType(e.meta.type), void 0 !== e.meta.videoPercentagePlayed && i.setVideoPercentagePlayed(e.meta.videoPercentagePlayed), i
			}, e
		}(o.EducationEventFactory);
	e.EducationLessonEncounterFactory = s
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(322)), n(i(951))
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(952)), n(i(321)), n(i(320))
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(26),
		a = i(28),
		o = i(953);
	e.V3 = o;
	var r = new n.Mapper;
	e.mapping = r, r.add(a.EventEnum.EducationLessonEncounter, o.EducationLessonEncounterData, o.EducationLessonEncounterFactory)
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = function(e, i) {
				return (t = Object.setPrototypeOf || {
						__proto__: []
					}
					instanceof Array && function(t, e) {
						t.__proto__ = e
					} || function(t, e) {
						for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
					})(e, i)
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || function() {
			return (a = Object.assign || function(t) {
				for (var e, i = 1, n = arguments.length; i < n; i++)
					for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
				return t
			}).apply(this, arguments)
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(63),
		r = i(323),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.convertDataToSchema = function(e) {
				var i = t.prototype.commonDataToSchema.call(this, e);
				return a({}, i, {
					meta: a({}, i.meta, {
						num_friends: e.getNumFriends(),
						num_classmates: e.getNumClassmates(),
						type: e.getType(),
						action: e.getAction(),
						source: e.getSource(),
						category: e.getCategory(),
						subcategory: e.getSubCategory(),
						origin: e.getOrigin(),
						filter: e.getFilter(),
						friend_id: e.getFriendId()
					})
				})
			}, e.prototype.convertSchemaToData = function(e) {
				var i = t.prototype.commonSchemaToData.call(this, e, new r.GameSocialData);
				return i.setNumFriends(e.meta.num_friends), i.setNumClassmates(e.meta.num_classmates), i.setType(e.meta.type), i.setAction(e.meta.action), i.setSource(e.meta.source), void 0 !== e.meta.category && i.setCategory(e.meta.category), void 0 !== e.meta.subcategory && i.setSubCategory(e.meta.subcategory), void 0 !== e.meta.origin && i.setOrigin(e.meta.origin), void 0 !== e.meta.filter && i.setFilter(e.meta.filter), void 0 !== e.meta.friend_id && i.setFriendId(e.meta.friend_id), i
			}, e
		}(o.GameEventFactory);
	e.GameSocialFactory = s
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(323)), n(i(955))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = function(e, i) {
				return (t = Object.setPrototypeOf || {
						__proto__: []
					}
					instanceof Array && function(t, e) {
						t.__proto__ = e
					} || function(t, e) {
						for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
					})(e, i)
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || function() {
			return (a = Object.assign || function(t) {
				for (var e, i = 1, n = arguments.length; i < n; i++)
					for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
				return t
			}).apply(this, arguments)
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(63),
		r = i(324),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.convertDataToSchema = function(e) {
				var i = t.prototype.commonDataToSchema.call(this, e);
				return a({}, i, {
					meta: a({}, i.meta, {
						session_length: e.getSessionLength()
					})
				})
			}, e.prototype.convertSchemaToData = function(e) {
				var i = t.prototype.commonSchemaToData.call(this, e, new r.SessionLengthData);
				return i.setSessionLength(e.meta.session_length), i
			}, e
		}(o.GameEventFactory);
	e.SessionLengthFactory = s
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(324)), n(i(957))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = function(e, i) {
				return (t = Object.setPrototypeOf || {
						__proto__: []
					}
					instanceof Array && function(t, e) {
						t.__proto__ = e
					} || function(t, e) {
						for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
					})(e, i)
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || function() {
			return (a = Object.assign || function(t) {
				for (var e, i = 1, n = arguments.length; i < n; i++)
					for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
				return t
			}).apply(this, arguments)
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(63),
		r = i(325),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.convertDataToSchema = function(e) {
				var i = t.prototype.commonDataToSchema.call(this, e);
				return a({}, i, {
					meta: a({}, i.meta, {
						success: e.getSuccess(),
						duration: e.getDuration(),
						energy_cost: e.getEnergyCost()
					})
				})
			}, e.prototype.convertSchemaToData = function(e) {
				var i = t.prototype.commonSchemaToData.call(this, e, new r.GameQuestionData);
				return i.setSuccess(e.meta.success), i.setDuration(e.meta.duration), i.setEnergyCost(e.meta.energy_cost), i
			}, e
		}(o.GameEventFactory);
	e.GameQuestionFactory = s
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(325)), n(i(959))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = function(e, i) {
				return (t = Object.setPrototypeOf || {
						__proto__: []
					}
					instanceof Array && function(t, e) {
						t.__proto__ = e
					} || function(t, e) {
						for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
					})(e, i)
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || function() {
			return (a = Object.assign || function(t) {
				for (var e, i = 1, n = arguments.length; i < n; i++)
					for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
				return t
			}).apply(this, arguments)
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(63),
		r = i(326),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.convertDataToSchema = function(e) {
				var i = t.prototype.commonDataToSchema.call(this, e);
				return a({}, i, {
					meta: a({}, i.meta, {
						event_type: e.getEventType(),
						type: e.getType(),
						subtype: e.getSubType(),
						value: e.getValue()
					})
				})
			}, e.prototype.convertSchemaToData = function(e) {
				var i = t.prototype.commonSchemaToData.call(this, e, new r.GameDiscoveryData);
				return i.setEventType(e.meta.event_type), void 0 !== e.meta.type && i.setType(e.meta.type), void 0 !== e.meta.subtype && i.setSubType(e.meta.subtype), void 0 !== e.meta.value && i.setValue(e.meta.value), i
			}, e
		}(o.GameEventFactory);
	e.GameDiscoveryFactory = s
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(326)), n(i(961))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = function(e, i) {
				return (t = Object.setPrototypeOf || {
						__proto__: []
					}
					instanceof Array && function(t, e) {
						t.__proto__ = e
					} || function(t, e) {
						for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
					})(e, i)
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || function() {
			return (a = Object.assign || function(t) {
				for (var e, i = 1, n = arguments.length; i < n; i++)
					for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
				return t
			}).apply(this, arguments)
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(63),
		r = i(327),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.convertDataToSchema = function(e) {
				var i = t.prototype.commonDataToSchema.call(this, e);
				return a({}, i, {
					meta: a({}, i.meta, {
						type: e.getType(),
						name: e.getName(),
						id: e.getId(),
						rank: e.getRank(),
						timeDelta: e.getTimeDelta(),
						value: e.getValue()
					})
				})
			}, e.prototype.convertSchemaToData = function(e) {
				var i = t.prototype.commonSchemaToData.call(this, e, new r.GameCompleteData);
				return i.setType(e.meta.type), i.setName(e.meta.name), void 0 !== e.meta.id && i.setId(e.meta.id), void 0 !== e.meta.rank && i.setRank(e.meta.rank), void 0 !== e.meta.timeDelta && i.setTimeDelta(e.meta.timeDelta), void 0 !== e.meta.value && i.setValue(e.meta.value), i
			}, e
		}(o.GameEventFactory);
	e.GameCompleteFactory = s
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(327)), n(i(963))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = function(e, i) {
				return (t = Object.setPrototypeOf || {
						__proto__: []
					}
					instanceof Array && function(t, e) {
						t.__proto__ = e
					} || function(t, e) {
						for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
					})(e, i)
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || function() {
			return (a = Object.assign || function(t) {
				for (var e, i = 1, n = arguments.length; i < n; i++)
					for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
				return t
			}).apply(this, arguments)
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(63),
		r = i(328),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.convertDataToSchema = function(e) {
				var i = t.prototype.commonDataToSchema.call(this, e);
				return a({}, i, {
					meta: a({}, i.meta, {
						type: e.getType(),
						season_id: e.getSeasonId(),
						points: e.getPoints(),
						success: e.getSuccess(),
						energy: e.getEnergy(),
						energy_cost: e.getEnergyCost(),
						duration: e.getDuration()
					})
				})
			}, e.prototype.convertSchemaToData = function(e) {
				var i = t.prototype.commonSchemaToData.call(this, e, new r.GameBattleData);
				return i.setType(e.meta.type), i.setSuccess(e.meta.success), i.setEnergy(e.meta.energy), i.setEnergyCost(e.meta.energy_cost), i.setDuration(e.meta.duration), void 0 !== e.meta.season_id && i.setSeasonId(e.meta.season_id), void 0 !== e.meta.points && i.setPoints(e.meta.points), i
			}, e
		}(o.GameEventFactory);
	e.GameBattleFactory = s
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(328)), n(i(965))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = function(e, i) {
				return (t = Object.setPrototypeOf || {
						__proto__: []
					}
					instanceof Array && function(t, e) {
						t.__proto__ = e
					} || function(t, e) {
						for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
					})(e, i)
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || function() {
			return (a = Object.assign || function(t) {
				for (var e, i = 1, n = arguments.length; i < n; i++)
					for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
				return t
			}).apply(this, arguments)
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(63),
		r = i(329),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.convertDataToSchema = function(e) {
				var i = t.prototype.commonDataToSchema.call(this, e);
				return a({}, i, {
					meta: a({}, i.meta, {
						type: e.getType(),
						id: e.getId(),
						name: e.getAvatarName()
					})
				})
			}, e.prototype.convertSchemaToData = function(e) {
				var i = t.prototype.commonSchemaToData.call(this, e, new r.GameAvatarData);
				return i.setType(e.meta.type), i.setAvatarName(e.meta.name), void 0 !== e.meta.id && i.setId(e.meta.id), i
			}, e
		}(o.GameEventFactory);
	e.GameAvatarFactory = s
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(329)), n(i(967))
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(968)), n(i(966)), n(i(964)), n(i(962)), n(i(960)), n(i(958)), n(i(956)), n(i(64)), n(i(63))
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(26),
		a = i(28),
		o = i(969);
	e.V3 = o;
	var r = new n.Mapper;
	e.mapping = r, r.add(a.EventEnum.GameAvatar, o.GameAvatarData, o.GameAvatarFactory).add(a.EventEnum.GameBattle, o.GameBattleData, o.GameBattleFactory).add(a.EventEnum.GameComplete, o.GameCompleteData, o.GameCompleteFactory).add(a.EventEnum.GameDiscovery, o.GameDiscoveryData, o.GameDiscoveryFactory).add(a.EventEnum.GameQuestion, o.GameQuestionData, o.GameQuestionFactory).add(a.EventEnum.GameSessionLength, o.SessionLengthData, o.SessionLengthFactory).add(a.EventEnum.GameSocial, o.GameSocialData, o.GameSocialFactory)
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = function(e, i) {
				return (t = Object.setPrototypeOf || {
						__proto__: []
					}
					instanceof Array && function(t, e) {
						t.__proto__ = e
					} || function(t, e) {
						for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
					})(e, i)
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || function() {
			return (a = Object.assign || function(t) {
				for (var e, i = 1, n = arguments.length; i < n; i++)
					for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
				return t
			}).apply(this, arguments)
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(184),
		r = i(330),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.convertSchemaToData = function(e) {
				var i = t.prototype.commonSchemaToData.call(this, e, new r.AnonymousWebMembershipData);
				return i.setAction(e.meta.action), void 0 !== e.meta.country && i.setCountry(e.meta.country), void 0 !== e.meta.is_from_game && i.setIsFromGame(e.meta.is_from_game), void 0 !== e.meta.plan && i.setPlan(e.meta.plan), void 0 !== e.meta.experiment && i.setExperiment(e.meta.experiment), void 0 !== e.meta.experiment_group && i.setExperimentGroup(e.meta.experiment_group), i.isValid() ? i : null
			}, e.prototype.convertDataToSchema = function(e) {
				var i = t.prototype.commonDataToSchema.call(this, e);
				return a({}, i, {
					meta: a({}, i.meta, {
						action: e.getAction(),
						country: e.getCountry(),
						is_from_game: e.getIsFromGame(),
						plan: e.getPlan(),
						experiment: e.getExperiment(),
						experiment_group: e.getExperimentGroup()
					})
				})
			}, e
		}(o.AnonymousEventFactory);
	e.AnonymousWebMembershipFactory = s
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(330)), n(i(971))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = function(e, i) {
				return (t = Object.setPrototypeOf || {
						__proto__: []
					}
					instanceof Array && function(t, e) {
						t.__proto__ = e
					} || function(t, e) {
						for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
					})(e, i)
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__assign || function() {
			return (a = Object.assign || function(t) {
				for (var e, i = 1, n = arguments.length; i < n; i++)
					for (var a in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a]);
				return t
			}).apply(this, arguments)
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(184),
		r = i(331),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.convertSchemaToData = function(e) {
				var i = t.prototype.commonSchemaToData.call(this, e, new r.AnonymousGameCompleteData);
				return i.setType(e.meta.type), i.setName(e.meta.name), void 0 !== e.meta.id && i.setId(e.meta.id), void 0 !== e.meta.rank && i.setRank(e.meta.rank), void 0 !== e.meta.timeDelta && i.setTimeDelta(e.meta.timeDelta), void 0 !== e.meta.value && i.setValue(e.meta.value), i
			}, e.prototype.convertDataToSchema = function(e) {
				var i = t.prototype.commonDataToSchema.call(this, e);
				return a({}, i, {
					meta: a({}, i.meta, {
						type: e.getType(),
						name: e.getName(),
						id: e.getId(),
						rank: e.getRank(),
						timeDelta: e.getTimeDelta(),
						value: e.getValue()
					})
				})
			}, e
		}(o.AnonymousEventFactory);
	e.AnonymousGameCompleteFactory = s
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(331)), n(i(973))
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(974)), n(i(972)), n(i(185)), n(i(184))
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(26),
		a = i(28),
		o = i(975);
	e.V3 = o;
	var r = new n.Mapper;
	e.mapping = r, r.add(a.EventEnum.AnonymousGameComplete, o.AnonymousGameCompleteData, o.AnonymousGameCompleteFactory).add(a.EventEnum.AnonymousWebMembership, o.AnonymousWebMembershipData, o.AnonymousWebMembershipFactory)
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t() {
			this.map = {}
		}
		return t.prototype.add = function(t, e, i) {
			return this.map[t] = {
				data: e,
				factory: i
			}, this
		}, t.prototype.get = function(t) {
			return this.map[t]
		}, t
	}();
	e.Mapper = n
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t() {
			this.rules = new Map
		}
		return t.prototype.addRule = function(t) {
			this.rules.set(t.name, {
				name: t.name,
				isValid: function() {
					var e = t.value();
					return t.isOptional && null === e || function() {
						try {
							return t.isOptional || null !== e ? t.comparator(e) : (t.message = "Value is null for a required field.", !1)
						} catch (e) {
							return t.message = e.message, !1
						}
					}()
				},
				getMessage: function() {
					var e = ['Validation failed for: "' + t.name + '".'];
					return void 0 !== t.message && e.push(t.message), e.join(" ")
				}
			})
		}, t.prototype.runValidation = function() {
			var t = {
				isValid: !0,
				messages: []
			};
			return this.rules.forEach(function(e) {
				e.isValid() || (t.isValid = !1, t.messages.push(e.getMessage()))
			}), t
		}, t
	}();
	e.Validation = n
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		return function() {}
	}();
	e.Data = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(26),
		r = i(1),
		s = i(6),
		l = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "type", "properties"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game"),
					i = this.findParameter("type"),
					n = this.findParameter("properties");
				switch (i) {
					case o.EventEnum.GameComplete:
						var a = n;
						e.prodigy.gameContainer.get(s.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create(a.type, a.name).broadcast()
				}
				this.finish()
			}, e = a([r.actionable("BroadcastGameEvent")], e)
		}(r.Action);
	e.BroadcastGameEventAction = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = i(0),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["map", "config", "positions"])
			}, e.prototype.execute = function() {
				var e = this;
				t.prototype.execute.call(this), this.map = this.findParameter("map"), this.config = this.findParameter("config");
				var i = this.findParameter("positions");
				if (r.Util.isValid(this.config))
					for (var n = function(t) {
							if (a.config.collected.indexOf("page-" + t) < 0) {
								var n = a.map.game.prodigy.create.sprite(i[t].x, i[t].y, "singleImage-124");
								n.anchor.x = .5, n.anchor.y = .5, n.inputEnabled = !0, n.events.onInputUp.add(function() {
									e.map.screen.path.findPath(e.map.screen.user.x, e.map.screen.user.y, i[t].x, i[t].y, function(i) {
										r.Util.isValid(i) ? e.map.screen.user.setPath(i, function() {
											e.collect(n, t)
										}) : o.Logger.log("Path to this page cannot be found. Fix the position.", o.LogLevel.Error)
									})
								}), a.map.screen.content.add(n)
							}
						}, a = this, s = 0; s < this.config.quantity; s++) n(s);
				this.finish()
			}, e.prototype.collect = function(t, e) {
				this.map.game.prodigy.open.gotItem([{
					type: this.config.type,
					ID: this.config.id,
					N: 1
				}]), t.destroy(), this.map.addCollected("page-" + e)
			}, e = a([o.actionable("CreatePageDungeonComponent")], e)
		}(o.Action);
	e.CreatePageDungeonComponent = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = i(14),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "featureName", "breadcrumbName"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game"),
					i = this.findParameter("featureName"),
					n = this.findParameter("breadcrumbName");
				e.prodigy.breadcrumbManager.completeBreadcrumb(r.Breadcrumbs[i], r.Breadcrumbs[n]), this.finish()
			}, e = a([o.actionable("CompleteBreadcrumb")], e)
		}(o.Action);
	e.CompleteBreadcrumbAction = s
}, function(t, e) {
	t.exports = function(t, e) {
		return t < e
	}
}, function(t, e, i) {
	var n = i(66);
	t.exports = function(t, e, i) {
		for (var a = -1, o = t.length; ++a < o;) {
			var r = t[a],
				s = e(r);
			if (null != s && (void 0 === l ? s == s && !n(s) : i(s, l))) var l = s,
				c = r
		}
		return c
	}
}, function(t, e, i) {
	var n = i(984),
		a = i(54),
		o = i(983);
	t.exports = function(t, e) {
		return t && t.length ? n(t, a(e, 2), o) : void 0
	}
}, function(t, e, i) {
	var n = i(54),
		a = i(50),
		o = i(72);
	t.exports = function(t) {
		return function(e, i, r) {
			var s = Object(e);
			if (!a(e)) {
				var l = n(i, 3);
				e = o(e), i = function(t) {
					return l(s[t], t, s)
				}
			}
			var c = t(e, i, r);
			return c > -1 ? s[l ? e[c] : c] : void 0
		}
	}
}, function(t, e, i) {
	var n = i(986)(i(127));
	t.exports = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = i(29),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["map", "ID", "animation", "x", "y"], {
					layer: "content",
					loop: !0,
					flip: !1,
					randomDelay: !1,
					fadeIn: 0,
					animationChain: []
				})
			}, e.prototype.execute = function() {
				var e = this;
				t.prototype.execute.call(this), this.map = this.findParameter("map");
				var i = this.findParameter("x"),
					n = this.findParameter("y"),
					a = this.findParameter("ID"),
					o = this.findParameter("animation"),
					s = this.findParameter("layer"),
					l = this.findParameter("loop"),
					c = this.findParameter("flip"),
					h = this.findParameter("randomDelay"),
					u = this.findParameter("fadeIn"),
					p = this.findParameter("animationChain");
				this.map.game.prodigy.load.assets(["spine-" + a], function() {
					e.create(e.map, a, o, i, n, l, s, c, h ? 100 * r.Random.integerInRange(0, 20) : 0, u, p)
				}), this.finish()
			}, e.prototype.create = function(t, e, i, n, a, o, r, s, l, c, h) {
				var u = this,
					p = t.game.add.spine(n, a, "spine-" + e);
				if (p.setToSetupPose(), p.scale.x *= s ? -1 : 1, t.screen[r].add(p), 0 === h.length) l > 0 ? (p.visible = !1, setTimeout(function() {
					p.visible = !0, u.fadeIn(p, c), p.setAnimationByName(0, i, o)
				}, l)) : (p.setAnimationByName(0, i, o), this.fadeIn(p, c));
				else {
					p.setAnimationByName(0, h[0], !1);
					for (var d = 1; d < h.length; d++) p.addAnimationByName(0, h[d], d === h.length - 1)
				}
			}, e.prototype.fadeIn = function(t, e) {
				e > 0 && (t.alpha = 0, this.map.game.add.tween(t).to({
					alpha: 1
				}, e, Phaser.Easing.Linear.None, !0))
			}, e = a([o.actionable("CreateSpine")], e)
		}(o.Action);
	e.CreateSpineAction = s
}, function(t, e, i) {
	var n = i(205),
		a = i(358);
	t.exports = function(t, e) {
		return e.length < 2 ? t : n(t, a(e, 0, -1))
	}
}, function(t, e) {
	t.exports = function(t) {
		var e = null == t ? 0 : t.length;
		return e ? t[e - 1] : void 0
	}
}, function(t, e, i) {
	var n = i(204),
		a = i(990),
		o = i(989),
		r = i(107);
	t.exports = function(t, e) {
		return e = n(e, t), null == (t = o(t, e)) || delete t[r(a(e))]
	}
}, function(t, e, i) {
	var n = i(991),
		a = i(135),
		o = Array.prototype.splice;
	t.exports = function(t, e) {
		for (var i = t ? e.length : 0, r = i - 1; i--;) {
			var s = e[i];
			if (i == r || s !== l) {
				var l = s;
				a(s) ? o.call(t, s, 1) : n(t, s)
			}
		}
		return t
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = i(6),
		s = i(188),
		l = i(0),
		c = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["map", "config", "x", "y"], {})
			}, e.prototype.execute = function() {
				var e = this;
				t.prototype.execute.call(this), this.map = this.findParameter("map"), this.config = this.findParameter("config"), this.x = this.findParameter("x"), this.y = this.findParameter("y"), this.y += 25, l.Util.isValid(this.config) && (this.goldenPage = this.map.game.prodigy.create.sprite(this.x, this.y, "singleImage-122"), this.goldenPage.anchor.x = .5, this.goldenPage.anchor.y = 1, this.goldenPage.inputEnabled = !0, this.goldenPage.events.onInputUp.add(function() {
					e.checkPathToPedestal(0)
				}), this.map.screen.content.add(this.goldenPage), this.map.game.add.tween(this.goldenPage).to({
					y: this.y - 20
				}, 1400, Phaser.Easing.Quadratic.InOut).yoyo(!0).loop(!0).start()), this.finish()
			}, e.prototype.checkPathToPedestal = function(t) {
				var e = this,
					i = 0,
					n = 0;
				switch (t) {
					case s.DungeonDirection.North:
						n = -15;
						break;
					case s.DungeonDirection.East:
						i = 80, n = 80;
						break;
					case s.DungeonDirection.South:
						n = 120;
						break;
					case s.DungeonDirection.West:
						i = -80, n = 80;
						break;
					default:
						return o.Logger.log("No path can be found to the pedestal! Fix the position or map collisions.", o.LogLevel.Error), void this.collect()
				}
				this.map.screen.path.reset(), this.map.screen.path.findPath(this.map.screen.user.x, this.map.screen.user.y, this.x + i, this.y + n, function(i) {
					l.Util.isValid(i) ? e.map.screen.user.setPath(i, function() {
						e.collect()
					}) : e.checkPathToPedestal(t + 1)
				})
			}, e.prototype.collect = function() {
				this.map.game.prodigy.open.gotItem([{
					type: this.config.type,
					ID: this.config.id,
					N: this.config.quantity
				}]), this.map.addCollected("goldenPage");
				var t = this.map.zone,
					e = "Archives-Golden-Page-Collected-" + this.map.game.prodigy.player.backpack.hasItem("currency", 18),
					i = {
						startTime: t.generatorConfig.seed
					};
				this.map.game.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.GameCompleteDataFactory).create("Academy-Archives", e, void 0, void 0, void 0, void 0, void 0, void 0, i).broadcast(), this.goldenPage.destroy()
			}, e = a([o.actionable("CreateGoldenPageDungeonComponent")], e)
		}(o.Action);
	e.CreateGoldenPageDungeonComponent = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = i(0),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["map", "config", "x", "y"], {})
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("map"),
					i = this.findParameter("config"),
					n = this.findParameter("x"),
					a = this.findParameter("y");
				if (r.Util.isValid(i)) {
					var o = {
						randDir: !0,
						encounter: [{
							ID: i.id
						}],
						drops: i.drops,
						dropsDisabled: !0
					};
					e.addMonster(e.game, e.screen, 1, n, a, !0, o)
				}
				this.finish()
			}, e = a([o.actionable("CreateMonsterDungeonComponent")], e)
		}(o.Action);
	e.CreateMonsterDungeonComponent = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "map", "x", "y"], {
					data: null,
					loadingData: {}
				})
			}, e.prototype.execute = function() {
				var e = this;
				t.prototype.execute.call(this);
				var i = this.findParameter("game"),
					n = this.findParameter("loadingData");
				n.callback = function() {
					setTimeout(function() {
						e.finish()
					}, 1e3)
				}, i.prodigy.world.teleport(this.findParameter("map"), this.findParameter("x"), this.findParameter("y"), this.findParameter("data"), n)
			}, e = a([o.actionable("Teleport")], e)
		}(o.Action);
	e.TeleportAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["zone", "map", "introText", "data"], {
					wait: !1
				})
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("zone");
				if (e) {
					var i = this.findParameter("map"),
						n = this.findParameter("introText"),
						a = this.findParameter("data");
					this.findParameter("wait") ? e.getBattle(i, n, a, this.finish.bind(this))() : (e.getBattle(i, n, a, null)(), this.finish())
				} else this.finish()
			}, e = a([o.actionable("StartBattle")], e)
		}(o.Action);
	e.StartBattleAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "character", "ID"], {
					overlayMode: !1,
					showYesNo: !1
				})
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game").prodigy.dialogue.create(),
					i = this.findParameter("showYesNo"),
					n = this.findParameter("ID"),
					a = this.findParameter("character"),
					o = this.findParameter("overlayMode");
				if (n.constructor === Array)
					for (var r = n, s = 0; s < r.length; s++) this.setDialogue(e, r[s], i && s + 1 === r.length);
				else this.setDialogue(e, n, i);
				i || e.setText({
					callback: this.finishWithAnswer.bind(this, !1)
				}), e.start(a, o)
			}, e.prototype.setDialogue = function(t, e, i) {
				i ? t.setText({
					index: e,
					yes: this.finishWithAnswer.bind(this, !0),
					no: this.finishWithAnswer.bind(this, !1)
				}) : t.setText(e)
			}, e.prototype.finishWithAnswer = function(t) {
				this.finish({
					result: t
				})
			}, e.prototype.logAction = function() {
				t.prototype.logAction.call(this);
				var e = this.findParameter("ID"),
					i = this.findParameter("character");
				if (Array.isArray(e))
					for (var n = e, a = 0; a < n.length; a++) this.logDialogue(i, n[a]);
				else this.logDialogue(i, e)
			}, e.prototype.logDialogue = function(t, e) {
				var i = this.findParameter("game").prodigy.dialogues.get(t, e);
				o.Logger.log("==== " + t + "-" + e + " ====\nFace - " + i.face + "\nAnimation - " + i.anim + "\nText - " + i.text + "\nAudio - " + JSON.stringify(i.audio), o.LogLevel.Verbose)
			}, e = a([o.actionable("ShowDialogue")], e)
		}(o.Action);
	e.ShowDialogueAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "delay", "time"], {
					intensity: 10,
					direction: null,
					wait: !0
				})
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game"),
					i = this.findParameter("delay"),
					n = this.findParameter("time"),
					a = this.findParameter("intensity"),
					o = this.findParameter("direction");
				this.findParameter("wait") ? e.prodigy.effects.shake(1e3 * i, 1e3 * n, a, o, this.finish.bind(this)) : (e.prodigy.effects.shake(1e3 * i, 1e3 * n, a, o, null), this.finish())
			}, e = a([o.actionable("Shake")], e)
		}(o.Action);
	e.ShakeAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "zone", "state", "value"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game").prodigy.world.getZone(this.findParameter("zone"));
				e && e.setState(this.findParameter("state"), this.findParameter("value")), this.finish()
			}, e = a([o.actionable("SetZoneState")], e)
		}(o.Action);
	e.SetZoneStateAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["creature", "walkSpeed"])
			}, e.prototype.execute = function() {
				var t = this.findParameter("creature");
				t && (t.walkSpeed = this.findParameter("walkSpeed")), this.finish()
			}, e = a([o.actionable("SetWalkSpeed")], e)
		}(o.Action);
	e.SetWalkSpeedAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["pathfinder", "creature", "x", "y"], {
					wait: !0
				})
			}, e.prototype.execute = function() {
				var t = this.findParameter("pathfinder"),
					e = this.findParameter("creature");
				if (e && t) {
					var i = this.findParameter("x"),
						n = this.findParameter("y");
					this.findParameter("wait") ? e.setValidPath(t, i, n, this.finish.bind(this)) : (e.setValidPath(t, i, n, null), this.finish())
				} else this.finish()
			}, e = a([o.actionable("SetValidPath")], e)
		}(o.Action);
	e.SetValidPathAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["creature", "path"], {
					speed: 1,
					wait: !0
				})
			}, e.prototype.execute = function() {
				var t = this.findParameter("creature");
				if (t) {
					var e = this.findParameter("path"),
						i = this.findParameter("speed");
					this.findParameter("wait") ? t.setPath(e, this.finish.bind(this), i) : (t.setPath(e, null, i), this.finish())
				} else this.finish()
			}, e = a([o.actionable("SetPath")], e)
		}(o.Action);
	e.SetPathAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["player", "flag"])
			}, e.prototype.execute = function() {
				var t = this.findParameter("player");
				t && (t.evtProc = this.findParameter("flag")), this.finish()
			}, e = a([o.actionable("SetEventProcessing")], e)
		}(o.Action);
	e.SetEventProcessingAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "zone", "count"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game").prodigy.world.getZone(this.findParameter("zone"));
				e && e.setState("daily", {
					date: e.getState("daily").date,
					flags: e.getState("daily").flags,
					rewards: this.findParameter("count")
				}), this.finish()
			}, e = a([o.actionable("SetDailyRewardCount")], e)
		}(o.Action);
	e.SetDailyRewardCountAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = i(6),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "eventName", "eventData"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game"),
					i = this.findParameter("eventName"),
					n = this.findParameter("eventData");
				e.prodigy.gameContainer.get(r.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic(i, n), this.finish()
			}, e = a([o.actionable("SendAdvancedEvent")], e)
		}(o.Action);
	e.SendAdvancedEventAction = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = i(0),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["spine", "animationName"], {
					loop: !1,
					wait: !0
				})
			}, e.prototype.execute = function() {
				var t = this,
					e = this.findParameter("spine"),
					i = this.findParameter("animationName");
				r.Util.isValid(e) && r.Util.isValid(i) ? (e.setAnimationByName(0, i, this.findParameter("loop")), this.findParameter("wait") ? e.onComplete.addOnce(function() {
					t.finish()
				}) : this.finish()) : (o.Logger.log("Missing animation name or ref to spine", o.LogLevel.Error), this.finish())
			}, e = a([o.actionable("PlaySpine")], e)
		}(o.Action);
	e.PlaySpineAction = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "ID", "clip"], {
					wait: !1,
					delay: 0
				})
			}, e.prototype.execute = function() {
				var t = this,
					e = this.findParameter("game"),
					i = this.findParameter("ID"),
					n = this.findParameter("clip"),
					a = this.findParameter("delay");
				a > 0 ? e.time.events.add(a, function() {
					t.playSFX(e, i, n)
				}) : this.playSFX(e, i, n)
			}, e.prototype.playSFX = function(t, e, i) {
				this.findParameter("wait") ? t.prodigy.audio.playSFX(e, i, this.finish.bind(this)) : (t.prodigy.audio.playSFX(e, i), this.finish())
			}, e = a([o.actionable("PlaySound")], e)
		}(o.Action);
	e.PlaySoundAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "ID"], {
					loop: !0
				})
			}, e.prototype.execute = function() {
				var t = this.findParameter("game");
				t.prodigy.audio.playBGM(this.findParameter("ID"), this.findParameter("loop")), t.prodigy.audio.resumeBGM(), this.finish()
			}, e = a([o.actionable("PlayMusic")], e)
		}(o.Action);
	e.PlayMusicAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "x", "y", "parent"], {
					wait: !1,
					delay: 0
				})
			}, e.prototype.execute = function() {
				var t = this,
					e = this.findParameter("game"),
					i = this.findParameter("wait");
				e.prodigy.effects.firework(this.findParameter("x"), this.findParameter("y"), i ? function() {
					t.finish()
				} : null, this.findParameter("parent"), this.findParameter("delay")), i || this.finish()
			}, e = a([o.actionable("PlayFirework")], e)
		}(o.Action);
	e.PlayFireworkAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game"])
			}, e.prototype.execute = function() {
				this.findParameter("game").prodigy.audio.pauseBGM(), this.finish()
			}, e = a([o.actionable("PauseMusic")], e)
		}(o.Action);
	e.PauseMusicAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "zone", "quest"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game").prodigy.world.getZone(this.findParameter("zone")),
					i = !1;
				e && (i = e.isQuestComplete(this.findParameter("quest"))), this.finish({
					result: i
				})
			}, e = a([o.actionable("IsQuestComplete")], e)
		}(o.Action);
	e.IsQuestCompleteAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "zone", "quest", "sequence"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game").prodigy.world.getZone(this.findParameter("zone")),
					i = !1;
				e && (i = e.isOnSequence(this.findParameter("quest"), this.findParameter("sequence"))), this.finish({
					result: i
				})
			}, e = a([o.actionable("IsOnSequence")], e)
		}(o.Action);
	e.IsOnSequenceAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "zone", "quest"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game").prodigy.world.getZone(this.findParameter("zone")),
					i = !1;
				e && (i = e.isOnQuest(this.findParameter("quest"))), this.finish({
					result: i
				})
			}, e = a([o.actionable("IsOnQuest")], e)
		}(o.Action);
	e.IsOnQuestAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["creature", "time"], {
					wait: !0,
					xOffset: 0,
					height: 0
				})
			}, e.prototype.execute = function() {
				var t = this.findParameter("creature");
				if (t) {
					var e = this.findParameter("time"),
						i = this.findParameter("xOffset"),
						n = this.findParameter("height");
					this.findParameter("wait") ? t.hop(1e3 * e, this.finish.bind(this), i, n) : (t.hop(1e3 * e, null, i, n), this.finish())
				} else this.finish()
			}, e = a([o.actionable("Hop")], e)
		}(o.Action);
	e.HopAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["element", "show"], {
					xOffset: 0,
					yOffset: 0
				})
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("element");
				e && e.highlight(this.findParameter("show"), this.findParameter("xOffset"), this.findParameter("yOffset")), this.finish()
			}, e = a([o.actionable("HighlightElement")], e)
		}(o.Action);
	e.HighlightElementAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["screen", "hide"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("screen");
				e && (e.hideHex = this.findParameter("hide")), this.finish()
			}, e = a([o.actionable("HideFollow")], e)
		}(o.Action);
	e.HideFollowAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "type", "ID"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game"),
					i = this.findParameter("type"),
					n = 0;
				switch (i) {
					case "pet":
						n = e.prodigy.player.kennel.hasPet(this.findParameter("ID")) ? 1 : 0;
						break;
					default:
						n = e.prodigy.player.backpack.hasItem(i, this.findParameter("ID"))
				}
				this.finish({
					amount: n
				})
			}, e = a([o.actionable("HasItem")], e)
		}(o.Action);
	e.HasItemAction = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(0),
		a = function() {
			function t() {
				this.data = {
					zones: {},
					menus: {}
				}, this.updated = !1
			}
			return t.prototype.getDataAndClear = function() {
				return this.updated = !1, this.data
			}, t.prototype.setData = function(t) {
				n.Util.isValid(t.zones) || (t.zones = {}), n.Util.isValid(t.menus) || (t.menus = {}), this.data = t
			}, t.prototype.getMenuValue = function(t, e) {
				return void 0 === e && (e = 0), this.getValue("menus", t, e)
			}, t.prototype.setMenuValue = function(t, e, i) {
				this.setValue("menus", t, e, i)
			}, t.prototype.setValue = function(t, e, i, a) {
				void 0 === i && (i = 0), void 0 === a && (a = 1), n.Util.isValid(this.data[t][e]) || (this.data[t][e] = []), this.data[t][e][i] !== a && (this.data[t][e][i] = a, this.updated = !0)
			}, t.prototype.getValue = function(t, e, i) {
				if (void 0 === i && (i = 0), !n.Util.isValid(this.data[t][e])) return 0;
				var a = this.data[t][e];
				return n.Util.isValid(a[i]) ? a[i] : 0
			}, t
		}();
	e.Tutorial = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(0),
		a = function() {
			function t() {
				this.data = {
					tutorial: {},
					world: {},
					zone: {}
				}, this.updated = !1
			}
			return t.prototype.setData = function(t) {
				if (this.data = t, n.Util.isValid(this.data.zone))
					for (var e in this.data.zone) n.Util.isValid(this.data.zone[e].quest) && n.Util.isValid(this.data.zone[e].quest.gameID) && (this.data.zone[e].quest.ID = this.data.zone[e].quest.gameID, delete this.data.zone[e].quest.gameID)
			}, t.prototype.getDataAndClear = function() {
				return this.updated = !1, this.data
			}, t.prototype.set = function(t, e) {
				if (n.Util.isValid(t)) {
					for (var i = t.split("-"), a = this.data, o = 0; o < i.length; o++) n.Util.isValid(a[i[o]]) || (a[i[o]] = {}), o === i.length - 1 ? a[i[o]] = e : a = a[i[o]];
					this.updated = !0
				}
			}, t.prototype.get = function(t) {
				if (n.Util.isValid(t)) {
					for (var e = t.split("-"), i = this.data, a = 0; a < e.length; a++) {
						if (!n.Util.isValid(i[e[a]])) return null;
						i = i[e[a]]
					}
					return i
				}
				return null
			}, t.prototype.getCompletedQuests = function(t) {
				var e = this.get("zone-" + t + "-quest-ID");
				return n.Util.isValid(e) ? e - 1 : -1
			}, t.prototype.getZoneVars = function(t, e, i) {
				var a = this.get("zone-" + e),
					o = t.prodigy.world.getZone(e),
					r = 0;
				if (n.Util.isValid(a) && n.Util.isValid(o.states))
					for (var s = 0; s < o.states.length; s++) {
						o.states[s].indexOf(i) >= 0 && n.Util.isValid(a[s]) && a[s] > 0 && r++
					}
				return r
			}, t
		}();
	e.State = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(0),
		a = function() {
			function t() {
				this.data = {}, this.updated = !1
			}
			return t.hasEntryForMonster = function(t, e) {
				if (!n.Util.isValid(t)) return !1;
				for (var i = 0; i < t.length; i++)
					if (t[i].ID === e) return !0;
				return !1
			}, t.prototype.defeatMonster = function(e, i, a) {
				if (n.Util.isValid(this.data[e])) {
					if (n.Util.isValid(i.req))
						for (var o = 0; o < i.req.length; o++) "pet" === i.req[o].type && (this.data[e].M || (this.data[e].M = []), t.hasEntryForMonster(this.data[e].M, i.req[o].ID) || this.data[e].M.push({
							ID: i.req[o].ID,
							N: 0
						}));
					if (n.Util.isValid(this.data[e].M))
						for (o = 0; o < this.data[e].M.length; o++) {
							var r = this.data[e].M[o];
							r.ID === a && r.N++
						}
				}
			}, t.prototype.defeatBoss = function(t) {
				n.Util.isValid(this.data[t]) && (this.data[t].B = 1)
			}, t.prototype.setQuests = function(t) {
				this.data = t
			}, t.prototype.getDataAndClear = function() {
				return this.updated = !1, this.data
			}, t
		}();
	e.Quests = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(11),
		o = i(6),
		r = i(0),
		s = i(2),
		l = function(t) {
			function e(e) {
				var i = t.call(this) || this;
				return i.updated = !1, i.game = null, i.game = e, i
			}
			return n(e, t), e.prototype.setFollow = function(e) {
				t.prototype.setFollow.call(this, e), this.updated = !0
			}, e.prototype.setHat = function(e, i) {
				void 0 === i && (i = !0), t.prototype.setHat.call(this, e), i && (r.Util.isValid(e) && e > 0 ? this.handleItemEquip(e, "hat") : this.handleItemUnequip())
			}, e.prototype.setOutfit = function(e, i) {
				void 0 === i && (i = !0), t.prototype.setOutfit.call(this, e), i && (r.Util.isValid(e) && e > 0 ? this.handleItemEquip(e, "outfit") : this.handleItemUnequip())
			}, e.prototype.setWeapon = function(e, i) {
				void 0 === i && (i = !0), t.prototype.setWeapon.call(this, e), i && (r.Util.isValid(e) && e > 0 ? this.handleItemEquip(e, "weapon") : this.handleItemUnequip())
			}, e.prototype.setSpellRelic = function(e, i) {
				void 0 === i && (i = !0), t.prototype.setSpellRelic.call(this, e), i && (r.Util.isValid(e) && e > 0 ? this.handleItemEquip(e, "spellRelic") : this.handleItemUnequip())
			}, e.prototype.setBoots = function(e, i) {
				void 0 === i && (i = !0), t.prototype.setBoots.call(this, e), i && (r.Util.isValid(e) && e > 0 ? this.handleItemEquip(e, "boots") : this.handleItemUnequip())
			}, e.prototype.getData = function() {
				return {
					follow: this.follow,
					hat: this.hat,
					outfit: this.outfit,
					weapon: this.weapon,
					spellRelic: this.spellRelic,
					boots: this.boots
				}
			}, e.prototype.getDataAndClear = function() {
				return this.updated = !1, this.getData()
			}, e.prototype.clearData = function() {
				this.follow = null, this.hat = null, this.outfit = null, this.weapon = null, this.spellRelic = null, this.boots = null
			}, e.prototype.unequipLevelLockedItems = function() {
				this.unequipLevelLockedItem("follow", this.follow), this.unequipLevelLockedItem("hat", this.hat), this.unequipLevelLockedItem("outfit", this.outfit), this.unequipLevelLockedItem("weapon", this.weapon), this.unequipLevelLockedItem("spellRelic", this.spellRelic), this.unequipLevelLockedItem("boots", this.boots)
			}, e.prototype.unequipLevelLockedItem = function(t, e) {
				var i = s.Items.getItem(t, e);
				if (r.Util.isValid(i) && r.Util.isValid(i.data.lockLevel) && this.game.prodigy.player.getLevel() < i.data.lockLevel) switch (t) {
					case "follow":
						this.setFollow(null);
						break;
					case "hat":
						this.setHat(null);
						break;
					case "outfit":
						this.setOutfit(null);
						break;
					case "weapon":
						this.setWeapon(null);
						break;
					case "spellRelic":
						this.setSpellRelic(null);
						break;
					case "boots":
						this.setBoots(null)
				}
			}, e.prototype.handleItemEquip = function(t, e) {
				this.updated = !0;
				var i = s.Items.getItem(e, t).data;
				this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.AnalyticsService).sendLegacyAnalytic("game_avatar", {
					type: e,
					id: t,
					name: a(i, "name", "")
				}, !0), this.game.prodigy.gameContainer.get(o.EProdigyInjectionIdentifiers.GameAvatarDataFactory).create(e, a(i, "name", ""), t).broadcast()
			}, e.prototype.handleItemUnequip = function() {
				this.updated = !0
			}, e
		}(i(350).CharacterEquipment);
	e.PlayerEquipment = l
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(0),
		a = function() {
			function t() {
				this.updated = !1, this.data = {}
			}
			return t.prototype.getDataAndClear = function() {
				return this.updated = !1, this.getMountData()
			}, t.prototype.setMountData = function(t) {
				this.data = t
			}, t.prototype.getMountData = function() {
				return this.data
			}, t.prototype.getMountID = function() {
				return this.data.mountID
			}, t.prototype.clearMountID = function() {
				n.Util.isValid(this.getMountID()) && (this.updated = !0, delete this.data.mountID)
			}, t
		}();
	e.MountEntity = a
}, function(t, e) {
	t.exports = function() {}
}, function(t, e, i) {
	var n = i(384),
		a = i(1023),
		o = i(211),
		r = n && 1 / o(new n([, -0]))[1] == 1 / 0 ? function(t) {
			return new n(t)
		} : a;
	t.exports = r
}, function(t, e, i) {
	var n = i(213),
		a = i(337),
		o = i(336),
		r = i(212),
		s = i(1024),
		l = i(211),
		c = 200;
	t.exports = function(t, e, i) {
		var h = -1,
			u = a,
			p = t.length,
			d = !0,
			g = [],
			f = g;
		if (i) d = !1, u = o;
		else if (p >= c) {
			var y = e ? null : s(t);
			if (y) return l(y);
			d = !1, u = r, f = new n
		} else f = e ? [] : g;
		t: for (; ++h < p;) {
			var m = t[h],
				_ = e ? e(m) : m;
			if (m = i || 0 !== m ? m : 0, d && _ == _) {
				for (var v = f.length; v--;)
					if (f[v] === _) continue t;
				e && f.push(_), g.push(m)
			} else u(f, _, i) || (f !== g && f.push(_), g.push(m))
		}
		return g
	}
}, function(t, e) {
	t.exports = function(t, e, i) {
		for (var n = i - 1, a = t.length; ++n < a;)
			if (t[n] === e) return n;
		return -1
	}
}, function(t, e) {
	t.exports = function(t) {
		return t != t
	}
}, function(t, e, i) {
	var n = i(213),
		a = i(337),
		o = i(336),
		r = i(112),
		s = i(108),
		l = i(212),
		c = 200;
	t.exports = function(t, e, i, h) {
		var u = -1,
			p = a,
			d = !0,
			g = t.length,
			f = [],
			y = e.length;
		if (!g) return f;
		i && (e = r(e, s(i))), h ? (p = o, d = !1) : e.length >= c && (p = l, d = !1, e = new n(e));
		t: for (; ++u < g;) {
			var m = t[u],
				_ = null == i ? m : i(m);
			if (m = h || 0 !== m ? m : 0, d && _ == _) {
				for (var v = y; v--;)
					if (e[v] === _) continue t;
				f.push(m)
			} else p(e, _, h) || f.push(m)
		}
		return f
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1),
		a = i(4),
		o = i(0),
		r = i(35),
		s = function() {
			function t(t) {
				this.data = null, this.updated = !1, this.player = null, this.player = t, this.setPets([])
			}
			return t.prototype.getDataAndClear = function() {
				return this.updated = !1, this.data
			}, t.prototype.setTeam = function(t, e) {
				if (o.Util.isValid(e))
					if ("number" == typeof e) t.team = e;
					else {
						var i = t.team;
						t.team = e.team, e.team = i, o.Util.isValid(t.team) || (e.isPVPTeam = t.isPVPTeam), o.Util.isValid(e.team) || (t.isPVPTeam = e.isPVPTeam)
					}
				else delete t.team;
				o.Util.isValid(t.team) || (t.isPVPTeam = !1), o.Util.isValid(e) && "number" != typeof e && !o.Util.isValid(e.team) && (e.isPVPTeam = !1), this.updated = !0
			}, t.prototype.getTeam = function() {
				for (var t = this.getTeamSource(), e = [], i = 0; i < t.length; i++) {
					var n = t[i];
					o.Util.isValid(n) && (n === this.player.data ? e[i] = this.player : e[i] = new r.Monster(this.player.game, n))
				}
				return e
			}, t.prototype.getAvgTeamLv = function() {
				for (var t = this.getTeamSource(), e = 0, i = 0, n = 0; n < t.length; n++) o.Util.isValid(t[n]) ? o.Util.isValid(t[n].data) ? o.Util.isValid(t[n].data.level) ? e += t[n].data.level : e++ : o.Util.isValid(t[n].level) && (e += t[n].level) : i += 1;
				return Math.floor(e / (t.length - i))
			}, t.prototype.getTeamScore = function() {
				for (var t = this.getTeam(), e = 0, i = 0; i < t.length; i++) o.Util.isValid(t[i]) && !t[i].isKnockedOut() && (e += t[i].getCurrentHearts());
				return e
			}, t.prototype.add = function(t, e, i, s, l) {
				if (o.Util.isValid(t)) {
					var c = {
						ID: t,
						hp: o.Util.isValid(e) ? e : a.GameConstants.MAX_SAFE_INTEGER,
						stars: o.Util.isValid(i) ? i : 0,
						level: o.Util.isValid(s) ? s : 1,
						levelCaught: o.Util.isValid(s) ? s : 1,
						nickname: o.Util.isValid(l) ? l : null
					};
					new r.Monster(this.player.game, c).assignRandomSpells(), this.data.push(c);
					var h = this.findEmptyTeamIndex();
					o.Util.isValid(h) && (this.setTeam(c, h), this.reconcilePVPTeam()), this.updated = !0
				} else n.Logger.log("Malformed pet data.", n.LogLevel.Error)
			}, t.prototype.remove = function(t) {
				for (var e = this.data.length; e >= 0;) e--, this.data[e] === t && this.data.splice(e, 1);
				this.updated = !0
			}, t.prototype.getPets = function(t) {
				void 0 === t && (t = !1);
				for (var e = [], i = 0; i < this.data.length; i++) t && o.Util.isValid(this.data[i].team) || (this.data[i].ID = o.Util.isValid(this.data[i].ID) ? this.data[i].ID : this.data[i].gameID, e.push(this.data[i]));
				return e
			}, t.prototype.setPets = function(t) {
				this.data = t
			}, t.prototype.hasMaxNonMemberPets = function() {
				return this.getPets().length >= 10
			}, t.prototype.hasPet = function(t) {
				for (var e = 0; e < this.data.length; e++)
					if (this.data[e].ID === t) return !0;
				return !1
			}, t.prototype.isFull = function() {
				return this.data.length >= 160
			}, t.prototype.getNumPets = function() {
				return this.data.length
			}, t.prototype.reconcilePVPTeam = function() {
				for (var t = this.getTeamSource(), e = 0, i = -1, n = 0; n < t.length; n++) {
					var r = t[n];
					o.Util.isValid(r) && (r === this.player.data ? i = n : o.Util.isValid(r.isPVPTeam) && r.isPVPTeam && e++)
				}
				for (n = t.length - 1; e > a.GameConstants.get("GameConstants.Battle.MAX_NUM_PETS") && n >= 0; n--) {
					r = t[n];
					n !== i && o.Util.isValid(r) && o.Util.isValid(r.isPVPTeam) && r.isPVPTeam && (r.isPVPTeam = !1, e--, this.updated = !0)
				}
				for (n = 0; e < a.GameConstants.get("GameConstants.Battle.MAX_NUM_PETS") && n < t.length; n++) {
					r = t[n];
					n === i || !o.Util.isValid(r) || o.Util.isValid(r.isPVPTeam) && r.isPVPTeam || (r.isPVPTeam = !0, e++, this.updated = !0)
				}
			}, t.prototype.findEmptyTeamIndex = function() {
				var t = [0, 1, 2];
				o.Util.isValid(this.player.data.team) ? o.Util.removeFromArray(this.player.data.team, t) : o.Util.removeFromArray(0, t);
				for (var e = 0; e < this.data.length; e++) {
					var i = this.data[e].team;
					o.Util.isValid(i) && o.Util.removeFromArray(i, t)
				}
				return t[0]
			}, t.prototype.getTeamSource = function() {
				var t = [];
				o.Util.isValid(this.player.data.team) || (this.player.data.team = 0), t[this.player.data.team] = this.player.data;
				for (var e = 0; e < this.data.length; e++) {
					var i = this.data[e];
					o.Util.isValid(i.team) && (o.Util.isValid(t[i.team]) ? delete i.team : t[i.team] = i)
				}
				if (t.length > 3) {
					t = t.filter(function(t) {
						return o.Util.isValid(t)
					});
					var n = !1;
					for (e = 0; e < t.length; e++) e <= 2 && t[e] === this.player.data ? (n = !0, this.player.data.team = e) : t[e].team = e, e > 2 && (delete t[e].team, this.updated = !0);
					n || (delete t[2].team, this.player.data.team = 2, t[this.player.data.team] = this.player.data, this.updated = !0)
				}
				return t
			}, t
		}();
	e.Kennel = s
}, function(t, e) {
	var i = "[\\ud800-\\udfff]",
		n = "[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",
		a = "\\ud83c[\\udffb-\\udfff]",
		o = "[^\\ud800-\\udfff]",
		r = "(?:\\ud83c[\\udde6-\\uddff]){2}",
		s = "[\\ud800-\\udbff][\\udc00-\\udfff]",
		l = "(?:" + n + "|" + a + ")" + "?",
		c = "[\\ufe0e\\ufe0f]?" + l + ("(?:\\u200d(?:" + [o, r, s].join("|") + ")[\\ufe0e\\ufe0f]?" + l + ")*"),
		h = "(?:" + [o + n + "?", n, r, s, i].join("|") + ")",
		u = RegExp(a + "(?=" + a + ")|" + h + c, "g");
	t.exports = function(t) {
		for (var e = u.lastIndex = 0; u.test(t);) ++e;
		return e
	}
}, function(t, e, i) {
	var n = i(381)("length");
	t.exports = n
}, function(t, e, i) {
	var n = i(1031),
		a = i(201),
		o = i(1030);
	t.exports = function(t) {
		return a(t) ? o(t) : n(t)
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(11),
		a = i(102),
		o = i(0),
		r = function() {
			function t() {
				this.data = {
					bg: {
						active: 1,
						own: [1]
					},
					items: {},
					currentHouseTag: "suburbs"
				}, this.updated = !1
			}
			return t.prototype.getDataAndClear = function() {
				return this.updated = !1, this.data
			}, t.prototype.getItems = function() {
				return this.data.items
			}, t.prototype.setItems = function(t) {
				o.Util.isValid(t) && (o.Util.isValid(t.items) || (t.items = this.data.items), o.Util.isValid(t.bg) || (t.bg = this.data.bg), o.Util.isValid(t.currentHouseTag) || (t.currentHouseTag = this.data.currentHouseTag), this.data = t, o.Util.isValid(this.data.active) || (this.add(17), this.add(3), this.add(18), this.add(18), this.add(14), this.add(1), this.add(13), this.data.active = [], this.setActive(17, 480, 160, 1, 0, 0, 0, 0), this.setActive(3, 400, 160, 1, 0, 0, 0, 0), this.setActive(18, 440, 100, 1, 0, 0, 0, 0), this.setActive(18, 840, 100, 1, 0, 0, 0, 0), this.setActive(14, 880, 240, 1, 0, 0, 0, 0), this.setActive(1, 880, 140, 1, 0, 0, 0, 0), this.setActive(13, 640, 80, 1, 0, 0, 0, 0)))
			}, t.prototype.add = function(t) {
				var e = this.data.items[t];
				o.Util.isValid(e) || (e = this.data.items[t] = {
					N: 0,
					A: []
				}), e.N < 9 && e.N++, this.updated = !0
			}, t.prototype.getSortedActive = function() {
				var t = [];
				if (!o.Util.isValid(this.data.active)) return t;
				for (var e in this.data.items)
					for (var i = 0; i < this.data.active.length; i++) {
						var n = this.data.active[i];
						n.ID === parseInt(e) && t.push(n)
					}
				return t.sort(function(t, e) {
					return t.z - e.z
				}), t
			}, t.prototype.setAllInactive = function() {
				this.data.active = [], this.updated = !0
			}, t.prototype.setActive = function(t, e, i, n, a, r, s, l) {
				var c = this.data.items[t];
				if (o.Util.isValid(c) && c.N > this.getActive(t)) {
					var h = {
						ID: t,
						x: e,
						y: i,
						dx: a,
						dy: r,
						z: n,
						anchorY: s,
						r: l,
						stack: []
					};
					return this.data.active.push(h), this.updated = !0, h
				}
				return null
			}, t.prototype.updateActive = function(t, e, i, n, a, o, r, s, l) {
				for (var c = 0; c < this.data.active.length; c++) {
					var h = this.data.active[c];
					h === t && (h.ID = e, h.x = i, h.y = n, h.z = a, h.dx = o, h.dy = r, h.anchorY = s, h.r = l)
				}
				this.updated = !0
			}, t.prototype.setInactive = function(t) {
				o.Util.removeFromArray(t, this.data.active), this.updated = !0
			}, t.prototype.getCurrentHouseTag = function() {
				return this.data.currentHouseTag
			}, t.prototype.setCurrentHouseTag = function(t) {
				this.data.currentHouseTag = t, this.updated = !0
			}, t.prototype.getBackground = function() {
				return o.Util.isValid(this.data.bg.active) ? this.data.bg.active : 1
			}, t.prototype.getOwned = function(t) {
				return n(this.data.items[t], "N", 0)
			}, t.prototype.getItemCount = function() {
				return a(this.data.items)
			}, t.prototype.getActiveCount = function() {
				return a(this.data.active)
			}, t.prototype.getUnplacedItems = function() {
				var t = [];
				for (var e in this.data.items) {
					var i = this.getActive(parseInt(e));
					i < this.data.items[e].N && t.push({
						ID: parseInt(e),
						N: this.data.items[e].N - i
					})
				}
				return t
			}, t.prototype.getActive = function(t) {
				var e = 0;
				if (o.Util.isValid(this.data.active))
					for (var i = 0; i < this.data.active.length; i++) this.data.active[i].ID === t && e++;
				return e
			}, t
		}();
	e.House = r
}, function(t, e, i) {
	var n = i(106);
	t.exports = function(t, e) {
		var i;
		return n(t, function(t, n, a) {
			return !(i = e(t, n, a))
		}), !!i
	}
}, function(t, e, i) {
	var n = i(392),
		a = i(54),
		o = i(1034),
		r = i(18),
		s = i(84);
	t.exports = function(t, e, i) {
		var l = r(t) ? n : o;
		return i && s(t, e, i) && (e = void 0), l(t, a(e, 3))
	}
}, function(t, e, i) {
	var n = i(88),
		a = i(51),
		o = "[object Set]";
	t.exports = function(t) {
		return a(t) && n(t) == o
	}
}, function(t, e, i) {
	var n = i(1036),
		a = i(108),
		o = i(207),
		r = o && o.isSet,
		s = r ? a(r) : n;
	t.exports = s
}, function(t, e, i) {
	var n = i(88),
		a = i(51),
		o = "[object Map]";
	t.exports = function(t) {
		return a(t) && n(t) == o
	}
}, function(t, e, i) {
	var n = i(1038),
		a = i(108),
		o = i(207),
		r = o && o.isMap,
		s = r ? a(r) : n;
	t.exports = s
}, function(t, e, i) {
	var n = i(52),
		a = Object.create,
		o = function() {
			function t() {}
			return function(e) {
				if (!n(e)) return {};
				if (a) return a(e);
				t.prototype = e;
				var i = new t;
				return t.prototype = void 0, i
			}
		}();
	t.exports = o
}, function(t, e, i) {
	var n = i(89),
		a = n ? n.prototype : void 0,
		o = a ? a.valueOf : void 0;
	t.exports = function(t) {
		return o ? Object(o.call(t)) : {}
	}
}, function(t, e) {
	var i = /\w*$/;
	t.exports = function(t) {
		var e = new t.constructor(t.source, i.exec(t));
		return e.lastIndex = t.lastIndex, e
	}
}, function(t, e, i) {
	var n = i(192);
	t.exports = function(t, e) {
		var i = e ? n(t.buffer) : t.buffer;
		return new t.constructor(i, t.byteOffset, t.byteLength)
	}
}, function(t, e, i) {
	var n = i(192),
		a = i(1043),
		o = i(1042),
		r = i(1041),
		s = i(344),
		l = "[object Boolean]",
		c = "[object Date]",
		h = "[object Map]",
		u = "[object Number]",
		p = "[object RegExp]",
		d = "[object Set]",
		g = "[object String]",
		f = "[object Symbol]",
		y = "[object ArrayBuffer]",
		m = "[object DataView]",
		_ = "[object Float32Array]",
		v = "[object Float64Array]",
		E = "[object Int8Array]",
		b = "[object Int16Array]",
		O = "[object Int32Array]",
		I = "[object Uint8Array]",
		T = "[object Uint8ClampedArray]",
		A = "[object Uint16Array]",
		C = "[object Uint32Array]";
	t.exports = function(t, e, i) {
		var S = t.constructor;
		switch (e) {
			case y:
				return n(t);
			case l:
			case c:
				return new S(+t);
			case m:
				return a(t, i);
			case _:
			case v:
			case E:
			case b:
			case O:
			case I:
			case T:
			case A:
			case C:
				return s(t, i);
			case h:
				return new S;
			case u:
			case g:
				return new S(t);
			case p:
				return o(t);
			case d:
				return new S;
			case f:
				return r(t)
		}
	}
}, function(t, e) {
	var i = Object.prototype.hasOwnProperty;
	t.exports = function(t) {
		var e = t.length,
			n = new t.constructor(e);
		return e && "string" == typeof t[0] && i.call(t, "index") && (n.index = t.index, n.input = t.input), n
	}
}, function(t, e, i) {
	var n = i(389),
		a = i(345),
		o = i(104);
	t.exports = function(t) {
		return n(t, o, a)
	}
}, function(t, e, i) {
	var n = i(83),
		a = i(345);
	t.exports = function(t, e) {
		return n(t, a(t), e)
	}
}, function(t, e, i) {
	var n = i(83),
		a = i(209);
	t.exports = function(t, e) {
		return n(t, a(t), e)
	}
}, function(t, e) {
	t.exports = function(t) {
		var e = [];
		if (null != t)
			for (var i in Object(t)) e.push(i);
		return e
	}
}, function(t, e, i) {
	var n = i(52),
		a = i(133),
		o = i(1049),
		r = Object.prototype.hasOwnProperty;
	t.exports = function(t) {
		if (!n(t)) return o(t);
		var e = a(t),
			i = [];
		for (var s in t)("constructor" != s || !e && r.call(t, s)) && i.push(s);
		return i
	}
}, function(t, e, i) {
	var n = i(83),
		a = i(104);
	t.exports = function(t, e) {
		return t && n(e, a(e), t)
	}
}, function(t, e, i) {
	var n = i(83),
		a = i(72);
	t.exports = function(t, e) {
		return t && n(e, a(e), t)
	}
}, function(t, e, i) {
	var n = i(66),
		a = 4294967294,
		o = Math.floor,
		r = Math.min;
	t.exports = function(t, e, i, s) {
		e = i(e);
		for (var l = 0, c = null == t ? 0 : t.length, h = e != e, u = null === e, p = n(e), d = void 0 === e; l < c;) {
			var g = o((l + c) / 2),
				f = i(t[g]),
				y = void 0 !== f,
				m = null === f,
				_ = f == f,
				v = n(f);
			if (h) var E = s || _;
			else E = d ? _ && (s || y) : u ? _ && y && (s || !m) : p ? _ && y && !m && (s || !v) : !m && !v && (s ? f <= e : f < e);
			E ? l = g + 1 : c = g
		}
		return r(c, a)
	}
}, function(t, e, i) {
	var n = i(1053),
		a = i(87),
		o = i(66),
		r = 2147483647;
	t.exports = function(t, e, i) {
		var s = 0,
			l = null == t ? s : t.length;
		if ("number" == typeof e && e == e && l <= r) {
			for (; s < l;) {
				var c = s + l >>> 1,
					h = t[c];
				null !== h && !o(h) && (i ? h <= e : h < e) ? s = c + 1 : l = c
			}
			return l
		}
		return n(t, e, a, i)
	}
}, function(t, e, i) {
	var n = i(1054);
	t.exports = function(t, e) {
		return n(t, e, !0)
	}
}, function(t, e) {
	var i = 800,
		n = 16,
		a = Date.now;
	t.exports = function(t) {
		var e = 0,
			o = 0;
		return function() {
			var r = a(),
				s = n - (r - o);
			if (o = r, s > 0) {
				if (++e >= i) return arguments[0]
			} else e = 0;
			return t.apply(void 0, arguments)
		}
	}
}, function(t, e) {
	t.exports = function(t) {
		return function() {
			return t
		}
	}
}, function(t, e, i) {
	var n = i(1057),
		a = i(351),
		o = i(87),
		r = a ? function(t, e) {
			return a(t, "toString", {
				configurable: !0,
				enumerable: !1,
				value: n(e),
				writable: !0
			})
		} : o;
	t.exports = r
}, function(t, e, i) {
	var n = i(1058),
		a = i(1056)(n);
	t.exports = a
}, function(t, e) {
	t.exports = function(t, e, i) {
		switch (i.length) {
			case 0:
				return t.call(e);
			case 1:
				return t.call(e, i[0]);
			case 2:
				return t.call(e, i[0], i[1]);
			case 3:
				return t.call(e, i[0], i[1], i[2])
		}
		return t.apply(e, i)
	}
}, function(t, e, i) {
	var n = i(1060),
		a = Math.max;
	t.exports = function(t, e, i) {
		return e = a(void 0 === e ? t.length - 1 : e, 0),
			function() {
				for (var o = arguments, r = -1, s = a(o.length - e, 0), l = Array(s); ++r < s;) l[r] = o[e + r];
				r = -1;
				for (var c = Array(e + 1); ++r < e;) c[r] = o[r];
				return c[e] = i(l), n(t, this, c)
			}
	}
}, function(t, e, i) {
	var n = i(66);
	t.exports = function(t, e) {
		if (t !== e) {
			var i = void 0 !== t,
				a = null === t,
				o = t == t,
				r = n(t),
				s = void 0 !== e,
				l = null === e,
				c = e == e,
				h = n(e);
			if (!l && !h && !r && t > e || r && s && c && !l && !h || a && s && c || !i && c || !o) return 1;
			if (!a && !r && !h && t < e || h && i && o && !a && !r || l && i && o || !s && o || !c) return -1
		}
		return 0
	}
}, function(t, e, i) {
	var n = i(1062);
	t.exports = function(t, e, i) {
		for (var a = -1, o = t.criteria, r = e.criteria, s = o.length, l = i.length; ++a < s;) {
			var c = n(o[a], r[a]);
			if (c) return a >= l ? c : c * ("desc" == i[a] ? -1 : 1)
		}
		return t.index - e.index
	}
}, function(t, e) {
	t.exports = function(t, e) {
		var i = t.length;
		for (t.sort(e); i--;) t[i] = t[i].value;
		return t
	}
}, function(t, e, i) {
	var n = i(89),
		a = i(110),
		o = i(18),
		r = n ? n.isConcatSpreadable : void 0;
	t.exports = function(t) {
		return o(t) || a(t) || !!(r && t && t[r])
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(199),
		a = i(11),
		o = i(0),
		r = function() {
			function t() {
				this.updated = !1, this.data = {
					progress: {}
				}
			}
			return t.prototype.init = function(t) {
				n(t) || (this.data = t)
			}, t.prototype.getDataAndClear = function() {
				return this.updated = !1, this.data
			}, t.prototype.set = function(t, e) {
				this.data[t] = e, this.updated = !0
			}, t.prototype.get = function(t) {
				return this.data[t]
			}, t.prototype.increment = function(t, e) {
				var i = this.get(t);
				this.set(t, e + (o.Util.isValid(i) ? i : 0))
			}, t.prototype.getProgress = function(t) {
				return a(this.data.progress, "" + t, 0)
			}, t.prototype.complete = function(t) {
				o.Util.isValid(this.data.progress) || (this.data.progress = []), o.Util.isValid(this.data.progress[t]) ? this.data.progress[t]++ : this.data.progress[t] = 1, this.updated = !0
			}, t
		}();
	e.Achievements = r
}, function(t, e, i) {
	var n = i(106);
	t.exports = function(t, e) {
		var i = [];
		return n(t, function(t, n, a) {
			e(t, n, a) && i.push(t)
		}), i
	}
}, function(t, e, i) {
	var n = i(112);
	t.exports = function(t, e) {
		return n(e, function(e) {
			return t[e]
		})
	}
}, function(t, e, i) {
	var n = i(357),
		a = i(129);
	t.exports = function(t) {
		return n(a(t))
	}
}, function(t, e) {
	var i = "[\\ud800-\\udfff]",
		n = "[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",
		a = "\\ud83c[\\udffb-\\udfff]",
		o = "[^\\ud800-\\udfff]",
		r = "(?:\\ud83c[\\udde6-\\uddff]){2}",
		s = "[\\ud800-\\udbff][\\udc00-\\udfff]",
		l = "(?:" + n + "|" + a + ")" + "?",
		c = "[\\ufe0e\\ufe0f]?" + l + ("(?:\\u200d(?:" + [o, r, s].join("|") + ")[\\ufe0e\\ufe0f]?" + l + ")*"),
		h = "(?:" + [o + n + "?", n, r, s, i].join("|") + ")",
		u = RegExp(a + "(?=" + a + ")|" + h + c, "g");
	t.exports = function(t) {
		return t.match(u) || []
	}
}, function(t, e) {
	t.exports = function(t) {
		return t.split("")
	}
}, function(t, e, i) {
	var n = i(1071),
		a = i(201),
		o = i(1070);
	t.exports = function(t) {
		return a(t) ? o(t) : n(t)
	}
}, function(t, e, i) {
	var n = i(358);
	t.exports = function(t, e, i) {
		var a = t.length;
		return i = void 0 === i ? a : i, !e && i >= a ? t : n(t, e, i)
	}
}, function(t, e, i) {
	var n = i(1073),
		a = i(201),
		o = i(1072),
		r = i(132);
	t.exports = function(t) {
		return function(e) {
			e = r(e);
			var i = a(e) ? o(e) : void 0,
				s = i ? i[0] : e.charAt(0),
				l = i ? n(i, 1).join("") : e.slice(1);
			return s[t]() + l
		}
	}
}, function(t, e, i) {
	var n = i(1074)("toUpperCase");
	t.exports = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.id = null, e.name = null, e
		}
		return n(e, t), e.prototype.deserialize = function(t) {
			return this.setID(t.revisionID), this.setName(t.featureName), this.isValid() ? this : null
		}, e.prototype.serialize = function() {
			return this.isValid() ? {
				featureName: this.getName(),
				revisionID: this.getID()
			} : null
		}, e.prototype.setID = function(t) {
			this.id = t
		}, e.prototype.getID = function() {
			return this.id
		}, e.prototype.setName = function(t) {
			this.name = t
		}, e.prototype.getName = function() {
			return this.name
		}, e.prototype.isValid = function() {
			return null !== this.id && this.id > 0 && null !== this.name && this.name.length > 0 && !/\s/.test(this.name)
		}, e
	}(i(37).Data);
	e.FeatureRevisionDefinition = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
		}(i(1076))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(130),
		o = i(361),
		r = i(362),
		s = i(363),
		l = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.deserialize = function(t) {
				if (t && 1 === t.version) {
					var e = new s.PlayerData;
					return e.setAppearance(new o.AppearanceData), e.getAppearance().setName(new r.NameData), null !== t.appearance.name && void 0 !== t.appearance.name && (e.getAppearance().getName().setFirstName(t.appearance.name.first), e.getAppearance().getName().setMiddleName(t.appearance.name.middle), e.getAppearance().getName().setLastName(t.appearance.name.last), e.getAppearance().getName().setNickname(t.appearance.name.nick)), void 0 === e.getAppearance().getName().getNickname() && e.getAppearance().getName().setNickname(null), e.isValid() ? e : null
				}
				return null
			}, e.prototype.serialize = function(t) {
				return t.isValid() ? {
					version: 1,
					appearance: {
						name: {
							first: t.getAppearance().getName().getFirstName(),
							middle: t.getAppearance().getName().getMiddleName(),
							last: t.getAppearance().getName().getLastName(),
							nick: t.getAppearance().getName().getNickname()
						}
					}
				} : null
			}, e
		}(a.DataFactory);
	e.PlayerDataFactory = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		o = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var r = i(9),
		s = i(202),
		l = i(360),
		c = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.factoriesContainer = null, e.factoriesContainer = new r.Container, e.factoriesContainer.bind("v1").to(l.PlayerDataFactory), e
			}
			return n(e, t), e.prototype.getPlayer = function(t) {
				return this.factoriesContainer.isBound("v" + t.version) ? this.factoriesContainer.get("v" + t.version).deserialize(t) : (console.log("Unable to deserialize player"), null)
			}, e.prototype.getAppearance = function(t) {
				var e = this.factoriesContainer.get("v1").deserialize({
					appearance: t,
					version: 1
				});
				return e ? e.getAppearance() : (console.log("Unable to deserialize appearance"), null)
			}, e = a([r.injectable(), o("design:paramtypes", [])], e)
		}(s.Service);
	e.PlayerService = c
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(363);
	e.PlayerData = n.PlayerData;
	var a = i(362);
	e.NameData = a.NameData;
	var o = i(361);
	e.AppearanceData = o.AppearanceData;
	var r = i(1079);
	e.PlayerService = r.PlayerService,
		function(t) {
			for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
		}(i(360))
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
		}(i(366))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		o = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		r = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		},
		s = this && this.__awaiter || function(t, e, i, n) {
			return new(i || (i = Promise))(function(a, o) {
				function r(t) {
					try {
						l(n.next(t))
					} catch (t) {
						o(t)
					}
				}

				function s(t) {
					try {
						l(n.throw(t))
					} catch (t) {
						o(t)
					}
				}

				function l(t) {
					t.done ? a(t.value) : new i(function(e) {
						e(t.value)
					}).then(r, s)
				}
				l((n = n.apply(t, e || [])).next())
			})
		},
		l = this && this.__generator || function(t, e) {
			var i, n, a, o, r = {
				label: 0,
				sent: function() {
					if (1 & a[0]) throw a[1];
					return a[1]
				},
				trys: [],
				ops: []
			};
			return o = {
				next: s(0),
				throw: s(1),
				return: s(2)
			}, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
				return this
			}), o;

			function s(o) {
				return function(s) {
					return function(o) {
						if (i) throw new TypeError("Generator is already executing.");
						for (; r;) try {
							if (i = 1, n && (a = n[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(a = a.call(n, o[1])).done) return a;
							switch (n = 0, a && (o = [0, a.value]), o[0]) {
								case 0:
								case 1:
									a = o;
									break;
								case 4:
									return r.label++, {
										value: o[1],
										done: !1
									};
								case 5:
									r.label++, n = o[1], o = [0];
									continue;
								case 7:
									o = r.ops.pop(), r.trys.pop();
									continue;
								default:
									if (!(a = (a = r.trys).length > 0 && a[a.length - 1]) && (6 === o[0] || 2 === o[0])) {
										r = 0;
										continue
									}
									if (3 === o[0] && (!a || o[1] > a[0] && o[1] < a[3])) {
										r.label = o[1];
										break
									}
									if (6 === o[0] && r.label < a[1]) {
										r.label = a[1], a = o;
										break
									}
									if (a && r.label < a[2]) {
										r.label = a[2], r.ops.push(o);
										break
									}
									a[2] && r.ops.pop(), r.trys.pop();
									continue
							}
							o = e.call(t, r)
						} catch (t) {
							o = [6, t], n = 0
						} finally {
							i = a = 0
						}
						if (5 & o[0]) throw o[1];
						return {
							value: o[0] ? o[1] : void 0,
							done: !0
						}
					}([o, s])
				}
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var c = i(9),
		h = i(105),
		u = i(202),
		p = i(368),
		d = i(367),
		g = function(t) {
			function e(e) {
				var i = t.call(this) || this;
				return i.dataProvider = null, i.dataFactories = null, i.dataProvider = e, i.dataFactories = new c.Container, i.dataFactories.bind("voucher-code-v1").to(d.VoucherCodeFactory), i.dataFactories.bind("voucher-redeem-v1").to(p.VoucherCodeRedemptionFactory), i
			}
			return n(e, t), e.prototype.getVoucherCode = function(t) {
				return s(this, void 0, void 0, function() {
					var e;
					return l(this, function(i) {
						switch (i.label) {
							case 0:
								return [4, this.dataProvider.getVoucherCode(t)];
							case 1:
								return e = i.sent(), [2, this.dataFactories.get("voucher-code-v" + e.version).deserialize(e)]
						}
					})
				})
			}, e.prototype.redeemVoucherCode = function(t) {
				return s(this, void 0, void 0, function() {
					var e;
					return l(this, function(i) {
						switch (i.label) {
							case 0:
								return [4, this.dataProvider.redeemCode(t)];
							case 1:
								return e = i.sent(), [2, this.dataFactories.get("voucher-redeem-v" + e.version).deserialize(e)]
						}
					})
				})
			}, e = a([c.injectable(), r(0, c.inject(h.EInjectionIdentifiers.VoucherDataProvider)), o("design:paramtypes", [Object])], e)
		}(u.Service);
	e.VoucherService = g
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(130),
		o = i(364),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.deserialize = function(t) {
				var e = new o.VoucherCodeRedemption;
				return null !== t && 1 === t.version && e.setSuccess(t.success), e.isValid() || (e = null), e
			}, e.prototype.serialize = function(t) {
				return t.isValid() ? {
					version: 1,
					success: t.getSuccess()
				} : null
			}, e
		}(a.DataFactory);
	e.VoucherCodeRedemptionFactory = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
		}(i(368));
	var n = i(365);
	e.VoucherCode = n.VoucherCode;
	var a = i(364);
	e.VoucherCodeRedemption = a.VoucherCodeRedemption;
	var o = i(1082);
	e.VoucherService = o.VoucherService
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
		var a, o = arguments.length,
			r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
		else
			for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
		return o > 3 && r && Object.defineProperty(e, i, r), r
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(9),
		o = function() {
			function t() {
				this.cacheTime = {}, this.expiryMilliseconds = 3e5
			}
			return t.prototype.setExpiryTimeInMinutes = function(t) {
				this.expiryMilliseconds = 6e4 * t
			}, t.prototype.setExpiryTimeInSeconds = function(t) {
				this.expiryMilliseconds = 1e3 * t
			}, t.prototype.cacheItem = function(t) {
				this.cacheTime[t] = Date.now()
			}, t.prototype.hasExpired = function(t) {
				return void 0 === this.cacheTime[t] || Date.now() > this.cacheTime[t] + this.expiryMilliseconds
			}, t.prototype.invalidate = function() {
				this.cacheTime = {}
			}, t = n([a.injectable()], t)
		}();
	e.TimedCacheExpiration = o
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t() {}
		return t.prototype.cacheItem = function(t) {}, t.prototype.hasExpired = function(t) {
			return !0
		}, t.prototype.invalidate = function() {}, t
	}();
	e.NoCacheExpiration = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		o = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var r = i(9),
		s = i(131),
		l = i(1086),
		c = function(t) {
			function e() {
				return t.call(this, new l.NoCacheExpiration) || this
			}
			return n(e, t), e.prototype.hasValue = function(t) {
				return !1
			}, e.prototype.retrieveValueFromStorage = function(t) {
				return null
			}, e.prototype.storeValueInStorage = function(t, e) {}, e = a([r.injectable(), o("design:paramtypes", [])], e)
		}(s.CacheStorage);
	e.NoCacheStorage = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		o = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		r = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var s = i(9),
		l = i(131),
		c = i(105),
		h = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				return i.cache = {}, i
			}
			return n(e, t), e.prototype.hasValue = function(t) {
				return void 0 !== this.cache[t]
			}, e.prototype.invalidate = function() {
				t.prototype.invalidate.call(this), this.cache = {}
			}, e.prototype.retrieveValueFromStorage = function(t) {
				return this.cache[t]
			}, e.prototype.storeValueInStorage = function(t, e) {
				this.cache[t] = e
			}, e = a([s.injectable(), r(0, s.inject(c.EInjectionIdentifiers.CacheExpirationStrategy)), o("design:paramtypes", [Object])], e)
		}(l.CacheStorage);
	e.MemoryCacheStorage = h
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(374)), n(i(373)), n(i(372)), n(i(371)), n(i(370)), n(i(369))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		o = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		r = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		},
		s = this && this.__awaiter || function(t, e, i, n) {
			return new(i || (i = Promise))(function(a, o) {
				function r(t) {
					try {
						l(n.next(t))
					} catch (t) {
						o(t)
					}
				}

				function s(t) {
					try {
						l(n.throw(t))
					} catch (t) {
						o(t)
					}
				}

				function l(t) {
					t.done ? a(t.value) : new i(function(e) {
						e(t.value)
					}).then(r, s)
				}
				l((n = n.apply(t, e || [])).next())
			})
		},
		l = this && this.__generator || function(t, e) {
			var i, n, a, o, r = {
				label: 0,
				sent: function() {
					if (1 & a[0]) throw a[1];
					return a[1]
				},
				trys: [],
				ops: []
			};
			return o = {
				next: s(0),
				throw: s(1),
				return: s(2)
			}, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
				return this
			}), o;

			function s(o) {
				return function(s) {
					return function(o) {
						if (i) throw new TypeError("Generator is already executing.");
						for (; r;) try {
							if (i = 1, n && (a = n[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(a = a.call(n, o[1])).done) return a;
							switch (n = 0, a && (o = [0, a.value]), o[0]) {
								case 0:
								case 1:
									a = o;
									break;
								case 4:
									return r.label++, {
										value: o[1],
										done: !1
									};
								case 5:
									r.label++, n = o[1], o = [0];
									continue;
								case 7:
									o = r.ops.pop(), r.trys.pop();
									continue;
								default:
									if (!(a = (a = r.trys).length > 0 && a[a.length - 1]) && (6 === o[0] || 2 === o[0])) {
										r = 0;
										continue
									}
									if (3 === o[0] && (!a || o[1] > a[0] && o[1] < a[3])) {
										r.label = o[1];
										break
									}
									if (6 === o[0] && r.label < a[1]) {
										r.label = a[1], a = o;
										break
									}
									if (a && r.label < a[2]) {
										r.label = a[2], r.ops.push(o);
										break
									}
									a[2] && r.ops.pop(), r.trys.pop();
									continue
							}
							o = e.call(t, r)
						} catch (t) {
							o = [6, t], n = 0
						} finally {
							i = a = 0
						}
						if (5 & o[0]) throw o[1];
						return {
							value: o[0] ? o[1] : void 0,
							done: !0
						}
					}([o, s])
				}
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var c = i(9),
		h = i(131),
		u = i(105),
		p = i(202),
		d = i(376),
		g = i(375),
		f = function(t) {
			function e(e, i) {
				var n = t.call(this) || this;
				return n.dataProvider = null, n.cache = null, n.factoriesContainer = null, n.dataProvider = e, n.cache = i, n.factoriesContainer = new c.Container, n.factoriesContainer.bind("v1").to(g.StoreDataFactory), n
			}
			return n(e, t), e.prototype.getStore = function(t) {
				return s(this, void 0, void 0, function() {
					var e, i, n, a;
					return l(this, function(o) {
						switch (o.label) {
							case 0:
								return e = "store-" + t, null !== (i = this.cache.getValue(e)) ? [3, 2] : [4, this.dataProvider.getStore(t)];
							case 1:
								if (null === (n = o.sent())) return [2, null];
								a = this.factoriesContainer.get("v" + n.version), i = a.deserialize(n), this.cache.storeValue(e, i), o.label = 2;
							case 2:
								return [2, i]
						}
					})
				})
			}, e.prototype.invalidateCache = function() {
				this.cache.invalidate()
			}, e = a([c.injectable(), r(0, c.inject(u.EInjectionIdentifiers.StoreDataProvider)), r(1, c.inject(u.EInjectionIdentifiers.CacheStorageStrategy)), o("design:paramtypes", [d.IStoreDataProvider, h.CacheStorage])], e)
		}(p.Service);
	e.StoreService = f
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(376)), n(i(1090)), n(i(375)), n(i(1089))
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	})
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(377),
		a = function() {
			function t(t, e, i, n) {
				this.errors = [], this.statusCode = e, this.status = t, this.data = i, this.serverTime = new Date, void 0 !== n && this.addError(n)
			}
			return t.prototype.addError = function(t) {
				this.errors.push(t)
			}, t.prototype.setData = function(t) {
				this.data = t
			}, t.prototype.setServerVersion = function(t) {
				this.serverVersion = t
			}, t.prototype.setServerTime = function(t) {
				this.serverTime = t
			}, t.prototype.serialize = function() {
				return {
					data: this.data,
					errors: this.errors.map(function(t) {
						return t.getObjectForJSON()
					}),
					serverTime: this.serverTime,
					serverVersion: this.serverVersion,
					status: this.status,
					statusCode: this.statusCode
				}
			}, t.prototype.serializeToJSON = function() {
				return JSON.stringify(this.serialize())
			}, t.prototype.send = function(t) {
				t(this.statusCode, this.serialize())
			}, t.deserialize = function(e) {
				var i = new t(e.status, e.statusCode, e.data);
				return e.errors.forEach(function(t) {
					i.addError(new n.ApplicationError(t.id, t.reason_code, t.backtrace.join("\n")))
				}), i.serverTime = new Date(Date.parse(e.serverTime)), i.serverVersion = e.serverVersion, i
			}, t.deserializeFromJSON = function(t) {
				var e = JSON.parse(t);
				return this.deserialize(e)
			}, t
		}();
	e.Response = a
}, function(t, e, i) {
	var n = i(50);
	t.exports = function(t, e) {
		return function(i, a) {
			if (null == i) return i;
			if (!n(i)) return t(i, a);
			for (var o = i.length, r = e ? o : -1, s = Object(i);
				(e ? r-- : ++r < o) && !1 !== a(s[r], r, s););
			return i
		}
	}
}, function(t, e) {
	t.exports = function(t) {
		return function(e, i, n) {
			for (var a = -1, o = Object(e), r = n(e), s = r.length; s--;) {
				var l = r[t ? s : ++a];
				if (!1 === i(o[l], l, o)) break
			}
			return e
		}
	}
}, function(t, e, i) {
	var n = i(205);
	t.exports = function(t) {
		return function(e) {
			return n(e, t)
		}
	}
}, function(t, e, i) {
	var n = i(381),
		a = i(1096),
		o = i(203),
		r = i(107);
	t.exports = function(t) {
		return o(t) ? n(r(t)) : a(t)
	}
}, function(t, e, i) {
	var n = i(204),
		a = i(110),
		o = i(18),
		r = i(135),
		s = i(208),
		l = i(107);
	t.exports = function(t, e, i) {
		for (var c = -1, h = (e = n(e, t)).length, u = !1; ++c < h;) {
			var p = l(e[c]);
			if (!(u = null != t && i(t, p))) break;
			t = t[p]
		}
		return u || ++c != h ? u : !!(h = null == t ? 0 : t.length) && s(h) && r(p, h) && (o(t) || a(t))
	}
}, function(t, e) {
	t.exports = function(t, e) {
		return null != t && e in Object(t)
	}
}, function(t, e, i) {
	var n = i(1099),
		a = i(1098);
	t.exports = function(t, e) {
		return null != t && a(t, e, n)
	}
}, function(t, e, i) {
	var n = i(89),
		a = i(112),
		o = i(18),
		r = i(66),
		s = 1 / 0,
		l = n ? n.prototype : void 0,
		c = l ? l.toString : void 0;
	t.exports = function t(e) {
		if ("string" == typeof e) return e;
		if (o(e)) return a(e, t) + "";
		if (r(e)) return c ? c.call(e) : "";
		var i = e + "";
		return "0" == i && 1 / e == -s ? "-0" : i
	}
}, function(t, e, i) {
	var n = i(215),
		a = "Expected a function";

	function o(t, e) {
		if ("function" != typeof t || null != e && "function" != typeof e) throw new TypeError(a);
		var i = function() {
			var n = arguments,
				a = e ? e.apply(this, n) : n[0],
				o = i.cache;
			if (o.has(a)) return o.get(a);
			var r = t.apply(this, n);
			return i.cache = o.set(a, r) || o, r
		};
		return i.cache = new(o.Cache || n), i
	}
	o.Cache = n, t.exports = o
}, function(t, e, i) {
	var n = i(1102),
		a = 500;
	t.exports = function(t) {
		var e = n(t, function(t) {
				return i.size === a && i.clear(), t
			}),
			i = e.cache;
		return e
	}
}, function(t, e, i) {
	var n = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
		a = /\\(\\)?/g,
		o = i(1103)(function(t) {
			var e = [];
			return 46 === t.charCodeAt(0) && e.push(""), t.replace(n, function(t, i, n, o) {
				e.push(n ? o.replace(a, "$1") : i || t)
			}), e
		});
	t.exports = o
}, function(t, e, i) {
	var n = i(214),
		a = i(11),
		o = i(1100),
		r = i(203),
		s = i(383),
		l = i(382),
		c = i(107),
		h = 1,
		u = 2;
	t.exports = function(t, e) {
		return r(t) && s(e) ? l(c(t), e) : function(i) {
			var r = a(i, t);
			return void 0 === r && r === e ? o(i, t) : n(e, r, h | u)
		}
	}
}, function(t, e, i) {
	var n = i(383),
		a = i(72);
	t.exports = function(t) {
		for (var e = a(t), i = e.length; i--;) {
			var o = e[i],
				r = t[o];
			e[i] = [o, r, n(r)]
		}
		return e
	}
}, function(t, e, i) {
	var n = i(74)(i(53), "WeakMap");
	t.exports = n
}, function(t, e, i) {
	var n = i(74)(i(53), "Promise");
	t.exports = n
}, function(t, e, i) {
	var n = i(74)(i(53), "DataView");
	t.exports = n
}, function(t, e, i) {
	var n = i(385)(Object.keys, Object);
	t.exports = n
}, function(t, e, i) {
	var n = i(73),
		a = i(208),
		o = i(51),
		r = {};
	r["[object Float32Array]"] = r["[object Float64Array]"] = r["[object Int8Array]"] = r["[object Int16Array]"] = r["[object Int32Array]"] = r["[object Uint8Array]"] = r["[object Uint8ClampedArray]"] = r["[object Uint16Array]"] = r["[object Uint32Array]"] = !0, r["[object Arguments]"] = r["[object Array]"] = r["[object ArrayBuffer]"] = r["[object Boolean]"] = r["[object DataView]"] = r["[object Date]"] = r["[object Error]"] = r["[object Function]"] = r["[object Map]"] = r["[object Number]"] = r["[object Object]"] = r["[object RegExp]"] = r["[object Set]"] = r["[object String]"] = r["[object WeakMap]"] = !1, t.exports = function(t) {
		return o(t) && a(t.length) && !!r[n(t)]
	}
}, function(t, e) {
	t.exports = function() {
		return !1
	}
}, function(t, e, i) {
	var n = i(73),
		a = i(51),
		o = "[object Arguments]";
	t.exports = function(t) {
		return a(t) && n(t) == o
	}
}, function(t, e) {
	t.exports = function(t, e) {
		for (var i = -1, n = Array(t); ++i < t;) n[i] = e(i);
		return n
	}
}, function(t, e, i) {
	var n = i(390),
		a = 1,
		o = Object.prototype.hasOwnProperty;
	t.exports = function(t, e, i, r, s, l) {
		var c = i & a,
			h = n(t),
			u = h.length;
		if (u != n(e).length && !c) return !1;
		for (var p = u; p--;) {
			var d = h[p];
			if (!(c ? d in e : o.call(e, d))) return !1
		}
		var g = l.get(t);
		if (g && l.get(e)) return g == e;
		var f = !0;
		l.set(t, e), l.set(e, t);
		for (var y = c; ++p < u;) {
			var m = t[d = h[p]],
				_ = e[d];
			if (r) var v = c ? r(_, m, d, e, t, l) : r(m, _, d, t, e, l);
			if (!(void 0 === v ? m === _ || s(m, _, i, r, l) : v)) {
				f = !1;
				break
			}
			y || (y = "constructor" == d)
		}
		if (f && !y) {
			var E = t.constructor,
				b = e.constructor;
			E != b && "constructor" in t && "constructor" in e && !("function" == typeof E && E instanceof E && "function" == typeof b && b instanceof b) && (f = !1)
		}
		return l.delete(t), l.delete(e), f
	}
}, function(t, e) {
	t.exports = function(t) {
		var e = -1,
			i = Array(t.size);
		return t.forEach(function(t, n) {
			i[++e] = [n, t]
		}), i
	}
}, function(t, e, i) {
	var n = i(89),
		a = i(391),
		o = i(111),
		r = i(393),
		s = i(1116),
		l = i(211),
		c = 1,
		h = 2,
		u = "[object Boolean]",
		p = "[object Date]",
		d = "[object Error]",
		g = "[object Map]",
		f = "[object Number]",
		y = "[object RegExp]",
		m = "[object Set]",
		_ = "[object String]",
		v = "[object Symbol]",
		E = "[object ArrayBuffer]",
		b = "[object DataView]",
		O = n ? n.prototype : void 0,
		I = O ? O.valueOf : void 0;
	t.exports = function(t, e, i, n, O, T, A) {
		switch (i) {
			case b:
				if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset) return !1;
				t = t.buffer, e = e.buffer;
			case E:
				return !(t.byteLength != e.byteLength || !T(new a(t), new a(e)));
			case u:
			case p:
			case f:
				return o(+t, +e);
			case d:
				return t.name == e.name && t.message == e.message;
			case y:
			case _:
				return t == e + "";
			case g:
				var C = s;
			case m:
				var S = n & c;
				if (C || (C = l), t.size != e.size && !S) return !1;
				var w = A.get(t);
				if (w) return w == e;
				n |= h, A.set(t, e);
				var D = r(C(t), C(e), n, O, T, A);
				return A.delete(t), D;
			case v:
				if (I) return I.call(t) == I.call(e)
		}
		return !1
	}
}, function(t, e) {
	t.exports = function(t) {
		return this.__data__.has(t)
	}
}, function(t, e) {
	var i = "__lodash_hash_undefined__";
	t.exports = function(t) {
		return this.__data__.set(t, i), this
	}
}, function(t, e, i) {
	var n = i(140),
		a = i(393),
		o = i(1117),
		r = i(1115),
		s = i(88),
		l = i(18),
		c = i(109),
		h = i(134),
		u = 1,
		p = "[object Arguments]",
		d = "[object Array]",
		g = "[object Object]",
		f = Object.prototype.hasOwnProperty;
	t.exports = function(t, e, i, y, m, _) {
		var v = l(t),
			E = l(e),
			b = v ? d : s(t),
			O = E ? d : s(e),
			I = (b = b == p ? g : b) == g,
			T = (O = O == p ? g : O) == g,
			A = b == O;
		if (A && c(t)) {
			if (!c(e)) return !1;
			v = !0, I = !1
		}
		if (A && !I) return _ || (_ = new n), v || h(t) ? a(t, e, i, y, m, _) : o(t, e, b, i, y, m, _);
		if (!(i & u)) {
			var C = I && f.call(t, "__wrapped__"),
				S = T && f.call(e, "__wrapped__");
			if (C || S) {
				var w = C ? t.value() : t,
					D = S ? e.value() : e;
				return _ || (_ = new n), m(w, D, i, y, _)
			}
		}
		return !!A && (_ || (_ = new n), r(t, e, i, y, m, _))
	}
}, function(t, e, i) {
	var n = i(136);
	t.exports = function(t, e) {
		var i = n(this, t),
			a = i.size;
		return i.set(t, e), this.size += i.size == a ? 0 : 1, this
	}
}, function(t, e, i) {
	var n = i(136);
	t.exports = function(t) {
		return n(this, t).has(t)
	}
}, function(t, e, i) {
	var n = i(136);
	t.exports = function(t) {
		return n(this, t).get(t)
	}
}, function(t, e) {
	t.exports = function(t) {
		var e = typeof t;
		return "string" == e || "number" == e || "symbol" == e || "boolean" == e ? "__proto__" !== t : null === t
	}
}, function(t, e, i) {
	var n = i(136);
	t.exports = function(t) {
		var e = n(this, t).delete(t);
		return this.size -= e ? 1 : 0, e
	}
}, function(t, e, i) {
	var n = i(137),
		a = "__lodash_hash_undefined__";
	t.exports = function(t, e) {
		var i = this.__data__;
		return this.size += this.has(t) ? 0 : 1, i[t] = n && void 0 === e ? a : e, this
	}
}, function(t, e, i) {
	var n = i(137),
		a = Object.prototype.hasOwnProperty;
	t.exports = function(t) {
		var e = this.__data__;
		return n ? void 0 !== e[t] : a.call(e, t)
	}
}, function(t, e, i) {
	var n = i(137),
		a = "__lodash_hash_undefined__",
		o = Object.prototype.hasOwnProperty;
	t.exports = function(t) {
		var e = this.__data__;
		if (n) {
			var i = e[t];
			return i === a ? void 0 : i
		}
		return o.call(e, t) ? e[t] : void 0
	}
}, function(t, e) {
	t.exports = function(t) {
		var e = this.has(t) && delete this.__data__[t];
		return this.size -= e ? 1 : 0, e
	}
}, function(t, e, i) {
	var n = i(137);
	t.exports = function() {
		this.__data__ = n ? n(null) : {}, this.size = 0
	}
}, function(t, e, i) {
	var n = i(1130),
		a = i(1129),
		o = i(1128),
		r = i(1127),
		s = i(1126);

	function l(t) {
		var e = -1,
			i = null == t ? 0 : t.length;
		for (this.clear(); ++e < i;) {
			var n = t[e];
			this.set(n[0], n[1])
		}
	}
	l.prototype.clear = n, l.prototype.delete = a, l.prototype.get = o, l.prototype.has = r, l.prototype.set = s, t.exports = l
}, function(t, e, i) {
	var n = i(1131),
		a = i(139),
		o = i(217);
	t.exports = function() {
		this.size = 0, this.__data__ = {
			hash: new n,
			map: new(o || a),
			string: new n
		}
	}
}, function(t, e) {
	t.exports = function(t, e) {
		return null == t ? void 0 : t[e]
	}
}, function(t, e, i) {
	var n = i(53)["__core-js_shared__"];
	t.exports = n
}, function(t, e, i) {
	var n = i(1134),
		a = function() {
			var t = /[^.]+$/.exec(n && n.keys && n.keys.IE_PROTO || "");
			return t ? "Symbol(src)_1." + t : ""
		}();
	t.exports = function(t) {
		return !!a && a in t
	}
}, function(t, e) {
	var i = Object.prototype.toString;
	t.exports = function(t) {
		return i.call(t)
	}
}, function(t, e, i) {
	var n = i(89),
		a = Object.prototype,
		o = a.hasOwnProperty,
		r = a.toString,
		s = n ? n.toStringTag : void 0;
	t.exports = function(t) {
		var e = o.call(t, s),
			i = t[s];
		try {
			t[s] = void 0;
			var n = !0
		} catch (t) {}
		var a = r.call(t);
		return n && (e ? t[s] = i : delete t[s]), a
	}
}, function(t, e, i) {
	var n = i(216),
		a = i(1135),
		o = i(52),
		r = i(394),
		s = /^\[object .+?Constructor\]$/,
		l = Function.prototype,
		c = Object.prototype,
		h = l.toString,
		u = c.hasOwnProperty,
		p = RegExp("^" + h.call(u).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
	t.exports = function(t) {
		return !(!o(t) || a(t)) && (n(t) ? p : s).test(r(t))
	}
}, function(t, e, i) {
	var n = i(139),
		a = i(217),
		o = i(215),
		r = 200;
	t.exports = function(t, e) {
		var i = this.__data__;
		if (i instanceof n) {
			var s = i.__data__;
			if (!a || s.length < r - 1) return s.push([t, e]), this.size = ++i.size, this;
			i = this.__data__ = new o(s)
		}
		return i.set(t, e), this.size = i.size, this
	}
}, function(t, e) {
	t.exports = function(t) {
		return this.__data__.has(t)
	}
}, function(t, e) {
	t.exports = function(t) {
		return this.__data__.get(t)
	}
}, function(t, e) {
	t.exports = function(t) {
		var e = this.__data__,
			i = e.delete(t);
		return this.size = e.size, i
	}
}, function(t, e, i) {
	var n = i(139);
	t.exports = function() {
		this.__data__ = new n, this.size = 0
	}
}, function(t, e, i) {
	var n = i(138);
	t.exports = function(t, e) {
		var i = this.__data__,
			a = n(i, t);
		return a < 0 ? (++this.size, i.push([t, e])) : i[a][1] = e, this
	}
}, function(t, e, i) {
	var n = i(138);
	t.exports = function(t) {
		return n(this.__data__, t) > -1
	}
}, function(t, e, i) {
	var n = i(138);
	t.exports = function(t) {
		var e = this.__data__,
			i = n(e, t);
		return i < 0 ? void 0 : e[i][1]
	}
}, function(t, e, i) {
	var n = i(138),
		a = Array.prototype.splice;
	t.exports = function(t) {
		var e = this.__data__,
			i = n(e, t);
		return !(i < 0 || (i == e.length - 1 ? e.pop() : a.call(e, i, 1), --this.size, 0))
	}
}, function(t, e) {
	t.exports = function() {
		this.__data__ = [], this.size = 0
	}
}, function(t, e, i) {
	var n = i(140),
		a = i(214),
		o = 1,
		r = 2;
	t.exports = function(t, e, i, s) {
		var l = i.length,
			c = l,
			h = !s;
		if (null == t) return !c;
		for (t = Object(t); l--;) {
			var u = i[l];
			if (h && u[2] ? u[1] !== t[u[0]] : !(u[0] in t)) return !1
		}
		for (; ++l < c;) {
			var p = (u = i[l])[0],
				d = t[p],
				g = u[1];
			if (h && u[2]) {
				if (void 0 === d && !(p in t)) return !1
			} else {
				var f = new n;
				if (s) var y = s(d, g, p, t, e, f);
				if (!(void 0 === y ? a(g, d, o | r, s, f) : y)) return !1
			}
		}
		return !0
	}
}, function(t, e, i) {
	var n = i(1149),
		a = i(1106),
		o = i(382);
	t.exports = function(t) {
		var e = a(t);
		return 1 == e.length && e[0][2] ? o(e[0][0], e[0][1]) : function(i) {
			return i === t || n(i, t, e)
		}
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = i(0),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "zone", "state"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game").prodigy.world.getZone(this.findParameter("zone")),
					i = null;
				if (e) {
					var n = e.getState(this.findParameter("state"));
					r.Util.isValid(n) && (i = n)
				}
				this.finish({
					result: i
				})
			}, e = a([o.actionable("GetZoneState")], e)
		}(o.Action);
	e.GetZoneStateAction = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "zone"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game").prodigy.world.getZone(this.findParameter("zone")),
					i = 0;
				e && (i = e.getState("daily").rewards), this.finish({
					result: i
				})
			}, e = a([o.actionable("GetDailyRewardCount")], e)
		}(o.Action);
	e.GetDailyRewardCountAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["creature"])
			}, e.prototype.execute = function() {
				var t = this.findParameter("creature");
				t && t.flip(), this.finish()
			}, e = a([o.actionable("FlipCreature")], e)
		}(o.Action);
	e.FlipCreatureAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "x", "y", "w", "h", "time"], {
					wait: !0,
					randomize: !1
				})
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game"),
					i = this.findParameter("x"),
					n = this.findParameter("y"),
					a = this.findParameter("w"),
					o = this.findParameter("h"),
					r = this.findParameter("time"),
					s = this.findParameter("randomize");
				this.findParameter("wait") ? e.prodigy.effects.explode(i, n, a, o, r, this.finish.bind(this), s) : (e.prodigy.effects.explode(i, n, a, o, r, null, s), this.finish())
			}, e = a([o.actionable("Explode")], e)
		}(o.Action);
	e.ExplodeAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "enable"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this), this.findParameter("game").prodigy.player.saveEnabled = this.findParameter("enable"), this.finish()
			}, e = a([o.actionable("EnableSave")], e)
		}(o.Action);
	e.EnableSaveAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "parent", "x", "y", "source"], {
					frame: null,
					width: null,
					height: null,
					anchor: null,
					alpha: 1,
					inputEnabled: !1
				})
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game"),
					i = this.findParameter("parent"),
					n = null;
				i && ((n = e.prodigy.create.sprite(this.findParameter("x"), this.findParameter("y"), this.findParameter("source"), this.findParameter("frame"), this.findParameter("anchor"), null, this.findParameter("width"), this.findParameter("height"))).alpha = this.findParameter("alpha"), n.inputEnabled = this.findParameter("inputEnabled"), i.add(n)), this.finish({
					sprite: n
				})
			}, e = a([o.actionable("CreateSprite")], e)
		}(o.Action);
	e.CreateSpriteAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "parent", "type", "ID", "x", "y"], {
					anchor: null
				})
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game"),
					i = this.findParameter("parent"),
					n = null;
				i && (n = e.prodigy.icon.createIcon(this.findParameter("x"), this.findParameter("y"), "icon-" + this.findParameter("type") + "-" + this.findParameter("ID"), this.findParameter("anchor")), i.add(n)), this.finish({
					icon: n
				})
			}, e = a([o.actionable("CreateIcon")], e)
		}(o.Action);
	e.CreateIconAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "parent", "x", "y"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game"),
					i = this.findParameter("parent"),
					n = null;
				i && (n = e.prodigy.create.element(i, this.findParameter("x"), this.findParameter("y"))), this.finish({
					element: n
				})
			}, e = a([o.actionable("CreateElement")], e)
		}(o.Action);
	e.CreateElementAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["creature", "ID"], {
					height: 100,
					dontHide: !1
				})
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("creature");
				if (e) {
					var i = this.findParameter("ID"),
						n = this.findParameter("height"),
						a = this.findParameter("dontHide");
					e.chat(i, n, a)
				}
				this.finish()
			}, e = a([o.actionable("CreateChatBubble")], e)
		}(o.Action);
	e.CreateChatBubbleAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "type", "ID"], {
					amount: 1
				})
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this), this.findParameter("game").prodigy.player.backpack.consume(this.findParameter("type"), this.findParameter("ID"), this.findParameter("amount")), this.finish()
			}, e = a([o.actionable("ConsumeItem")], e)
		}(o.Action);
	e.ConsumeItemAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "zone", "quest", "sequence"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game").prodigy.world.getZone(this.findParameter("zone"));
				e && e.completeSequence(this.findParameter("quest"), this.findParameter("sequence")), this.finish()
			}, e = a([o.actionable("CompleteSequence")], e)
		}(o.Action);
	e.CompleteSequenceAction = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "zone", "quest"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game").prodigy.world.getZone(this.findParameter("zone"));
				e && e.completeQuest(this.findParameter("quest")), this.finish()
			}, e = a([o.actionable("CompleteQuest")], e)
		}(o.Action);
	e.CompleteQuestAction = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t(t) {
			this.container = null, this.container = t
		}
		return t.prototype.getInjectedValue = function(t) {
			return this.container.get(t)
		}, t
	}();
	e.InjectableClass = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(113),
		o = i(218),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.getInjectedValue = function(t) {
				var e = this.GameObject.findComponentInParent(o.GameObjectContext);
				return null !== e ? e.getInjectedValue(t) : null
			}, e
		}(a.Component);
	e.InjectableComponent = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t() {
			this.container = null
		}
		return Object.defineProperty(t.prototype, "Container", {
			get: function() {
				return this.container
			},
			enumerable: !0,
			configurable: !0
		}), t.prototype.install = function(t) {
			this.container = t, this.installBindings()
		}, t.prototype.cleanup = function() {}, t
	}();
	e.Installer = n
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	e.injectProperty = function(t, e) {
		return void 0 === e && (e = !0),
			function(i, n) {
				Object.defineProperty(i, n, {
					get: function() {
						var i = this.getInjectedValue(t);
						return e && null !== i && Object.defineProperty(this, n, {
							get: function() {
								return i
							}
						}), i
					},
					configurable: !0
				})
			}
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(219);
	e.INJECTION_PARAMETER_METADATA_KEY = n.INJECTION_PARAMETER_METADATA_KEY;
	e.injectParameter = function(t) {
		return function(e, i, a) {
			var o = n.INJECTION_PARAMETER_METADATA_KEY + "_" + i,
				r = Reflect.getMetadata(o, e);
			Array.isArray(r) ? r.push({
				identifier: t,
				index: a
			}) : Reflect.defineMetadata(o, [{
				identifier: t,
				index: a
			}], e)
		}
	}
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(219);
	e.injectFunction = function(t, e, i) {
		var a = n.INJECTION_PARAMETER_METADATA_KEY + "_" + e,
			o = i.value;
		i.value = function() {
			for (var e = [], i = 0; i < arguments.length; i++) e[i] = arguments[i];
			var n = Reflect.getMetadata(a, t);
			if (Array.isArray(n))
				for (var r = 0; r < n.length; ++r) {
					var s = n[r];
					void 0 === e[s.index] && (e[s.index] = this.getInjectedValue(s.identifier))
				}
			return o.apply(this, e)
		}
	}
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(113),
		o = i(218),
		r = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e.components = null, e.identifier = null, e.context = null, e
			}
			return n(e, t), Object.defineProperty(e.prototype, "Identifier", {
				get: function() {
					return this.identifier
				},
				set: function(t) {
					var e = this.GameObject.findComponentInParent(o.GameObjectContext);
					null !== e && null !== this.components && (null !== this.identifier && e.Container.unbind(this.identifier), null !== t && this.bindComponents(t, this.components)), this.identifier = t
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "Components", {
				get: function() {
					return this.components
				},
				set: function(t) {
					var e = this.GameObject.findComponentInParent(o.GameObjectContext);
					null !== e && null !== this.identifier && (null !== this.components && e.Container.unbind(this.identifier), null !== t && this.bindComponents(this.identifier, t)), this.components = t
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "Context", {
				get: function() {
					return null !== this.context ? this.context : this.GameObject.findComponentInParent(o.GameObjectContext)
				},
				set: function(t) {
					null !== this.context && this.context.Container.unbind(this.identifier), this.context = t, null !== this.identifier && null !== this.components && this.bindComponents(this.identifier, this.components)
				},
				enumerable: !0,
				configurable: !0
			}), e.prototype.destroy = function() {
				if (null !== this.identifier) {
					var e = this.Context;
					null !== e && e.Container.unbind(this.identifier)
				}
				t.prototype.destroy.call(this)
			}, e.prototype.bindComponents = function(t, e) {
				var i = this.Context;
				null !== i && (1 === e.length ? i.Container.bind(t).toConstantValue(e[0]) : e.length > 1 && i.Container.bind(t).toConstantValue(e))
			}, e
		}(a.Component);
	e.ContextBinding = r
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(398)), n(i(397)), n(i(396))
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(1170)), n(i(219)), n(i(1169)), n(i(218)), n(i(1168)), n(i(1167)), n(i(1166)), n(i(1165)), n(i(1164)), n(i(1163))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(67),
		o = i(75),
		r = function(t) {
			function e(e, i, n, a) {
				void 0 === n && (n = 0), void 0 === a && (a = 0);
				var o = t.call(this, e, i) || this;
				return o.components = [], o.onActiveChanged = new Phaser.Signal, o.onActiveInHierarchyChanged = new Phaser.Signal, o.isActive = !0, o.x = n, o.y = a, o
			}
			return n(e, t), Object.defineProperty(e.prototype, "Parent", {
				get: function() {
					return this.parent instanceof e ? this.parent : null
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "Children", {
				get: function() {
					return a.filter(this.children, function(t) {
						return t instanceof e
					})
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "IsActive", {
				get: function() {
					return this.isActive
				},
				set: function(t) {
					this.isActive = t, this.visible = t, this.onActiveChanged.dispatch();
					for (var e = this.Children, i = 0; i < e.length; ++i) e[i].isActiveInHierarchyChanged()
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "IsActiveInHierarchy", {
				get: function() {
					return this.isActive && (null === this.Parent || this.Parent.IsActiveInHierarchy)
				},
				enumerable: !0,
				configurable: !0
			}), e.prototype.update = function() {
				if (t.prototype.update.call(this), this.IsActiveInHierarchy)
					for (var e = 0; e < this.components.length; ++e) this.components[e].Active && this.components[e].update()
			}, e.prototype.destroy = function(e, i) {
				for (var n = 0, a = this.components.slice(); n < a.length; n++) {
					a[n].destroy()
				}
				t.prototype.destroy.call(this, e, i)
			}, e.prototype.addComponent = function(t) {
				if (o.Utils.isDefined(this.game)) {
					var e = new t;
					return e.hasUniqueInstance() && this.hasComponent(t) ? (e.destroy(), null) : (this.components.push(e), e.GameObject = this, e.OnDestroy.addOnce(this.removeComponent.bind(this)), e.create(), e)
				}
				return null
			}, e.prototype.findComponent = function(t) {
				for (var e = 0, i = this.components; e < i.length; e++) {
					var n = i[e];
					if (n instanceof t) return n
				}
				return null
			}, e.prototype.findComponents = function(t) {
				return a.filter(this.components, function(e) {
					return e instanceof t
				})
			}, e.prototype.hasComponent = function(t) {
				return o.Utils.isDefined(this.findComponent(t))
			}, e.prototype.removeComponent = function(t) {
				for (var e = 0; e < this.components.length; e++)
					if (this.components[e] === t) {
						this.components.splice(e, 1);
						break
					}
			}, e.prototype.findComponentInParent = function(t) {
				var e = this.findComponent(t);
				return null === e && null !== this.Parent ? this.Parent.findComponentInParent(t) : e
			}, e.prototype.findComponentsInChildren = function(t) {
				for (var e = this.findComponents(t), i = this.Children, n = 0; n < i.length; ++n) e = a.concat(e, i[n].findComponentsInChildren(t));
				return e
			}, e.prototype.findComponentInChildren = function(t) {
				var e = this.Children,
					i = this.findComponent(t);
				if (null === i)
					for (var n = 0; n < e.length; ++n)
						if (null !== (i = e[n].findComponentInChildren(t))) return i;
				return i
			}, e.prototype.isActiveInHierarchyChanged = function() {
				this.onActiveInHierarchyChanged.dispatch();
				for (var t = this.Children, e = 0; e < t.length; ++e) t[e].isActiveInHierarchyChanged()
			}, e
		}(Phaser.Group);
	e.GameObject = r
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(113)), n(i(1172))
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	e.isNearlyEqual = function(t, e, i) {
		return void 0 === i && (i = 1e-5), Math.abs(t - e) < i
	};
	e.clamp = function(t, e, i) {
		return Math.max(Math.min(t, i), e)
	}
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(1174)), n(i(75))
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			t[t.Normal = 0] = "Normal", t[t.Bold = 1] = "Bold", t[t.Italic = 2] = "Italic", t[t.BoldAndItalic = 3] = "BoldAndItalic"
		}(e.EFontStyle || (e.EFontStyle = {}))
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
			value: !0
		}),
		function(t) {
			t[t.Top = 1] = "Top", t[t.Middle = 2] = "Middle", t[t.Bottom = 4] = "Bottom", t[t.Left = 8] = "Left", t[t.Center = 16] = "Center", t[t.Right = 32] = "Right", t[t.TopLeft = 9] = "TopLeft", t[t.TopCenter = 17] = "TopCenter", t[t.TopRight = 33] = "TopRight", t[t.MiddleLeft = 10] = "MiddleLeft", t[t.MiddleCenter = 18] = "MiddleCenter", t[t.MiddleRight = 34] = "MiddleRight", t[t.BottomLeft = 12] = "BottomLeft", t[t.BottomCenter = 20] = "BottomCenter", t[t.BottomRight = 36] = "BottomRight"
		}(e.EAnchor || (e.EAnchor = {}))
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(113),
		o = i(399),
		r = i(1),
		s = i(75),
		l = i(400),
		c = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e.textSource = null, e.alignment = o.EAnchor.TopLeft, e.textObject = null, e
			}
			return n(e, t), Object.defineProperty(e.prototype, "Source", {
				get: function() {
					return this.textSource
				},
				set: function(t) {
					null !== this.textSource && this.textSource.OnTextChanged.removeAll(this), this.textSource = t, this.textSource.OnTextChanged.add(this.updateText, this), this.updateText()
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "Font", {
				get: function() {
					return this.textObject.font
				},
				set: function(t) {
					this.textObject.font = t, this.updateAlignment()
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "FontStyle", {
				get: function() {
					var t = o.EFontStyle.Normal;
					return "italic" === this.textObject.fontStyle && (t |= o.EFontStyle.Italic), "bold" === this.textObject.fontWeight && (t |= o.EFontStyle.Bold), t
				},
				set: function(t) {
					this.textObject.fontStyle = (t & o.EFontStyle.Italic) === o.EFontStyle.Italic ? "italic" : "normal", this.textObject.fontWeight = (t & o.EFontStyle.Bold) === o.EFontStyle.Bold ? "bold" : "normal", this.updateAlignment()
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "FontSize", {
				get: function() {
					return parseInt(this.textObject.fontSize)
				},
				set: function(t) {
					this.textObject.fontSize = t, this.updateAlignment()
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "LineSpacing", {
				get: function() {
					return this.textObject.lineSpacing
				},
				set: function(t) {
					this.textObject.lineSpacing = t, this.updateAlignment()
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "Alignment", {
				get: function() {
					return this.alignment
				},
				set: function(t) {
					this.alignment = t, (t & o.EAnchor.Center) === o.EAnchor.Center ? this.textObject.align = "center" : (t & o.EAnchor.Right) === o.EAnchor.Right ? this.textObject.align = "right" : this.textObject.align = "left", this.updateAlignment()
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "FillColor", {
				get: function() {
					return this.textObject.fill
				},
				set: function(t) {
					this.isValidColor(t) ? this.textObject.fill = t : r.Logger.log("Fill color was provided was not a valid color " + t + ".", r.LogLevel.Warning)
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "BlendMode", {
				get: function() {
					return this.textObject.blendMode
				},
				set: function(t) {
					this.textObject.blendMode = t
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "Padding", {
				get: function() {
					return this.textObject.padding
				},
				set: function(t) {
					this.textObject.padding = t, this.updateAlignment()
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "StrokeColor", {
				get: function() {
					return this.textObject.stroke
				},
				set: function(t) {
					this.isValidColor(t) ? this.textObject.stroke = t : r.Logger.log("Stroke color was provided was not a valid color " + t + ".", r.LogLevel.Warning)
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "StrokeThickness", {
				get: function() {
					return this.textObject.strokeThickness
				},
				set: function(t) {
					this.textObject.strokeThickness = t, this.updateAlignment()
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "ShadowOffsetX", {
				get: function() {
					return this.textObject.shadowOffsetX
				},
				set: function(t) {
					this.textObject.shadowOffsetX = t, this.updateAlignment()
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "ShadowOffsetY", {
				get: function() {
					return this.textObject.shadowOffsetY
				},
				set: function(t) {
					this.textObject.shadowOffsetY = t, this.updateAlignment()
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "ShadowColor", {
				get: function() {
					return this.textObject.shadowColor
				},
				set: function(t) {
					this.isValidColor(t) ? this.textObject.shadowColor = t : r.Logger.log("Shadow color was provided was not a valid color " + t + ".", r.LogLevel.Warning)
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "ShadowBlur", {
				get: function() {
					return this.textObject.shadowBlur
				},
				set: function(t) {
					this.textObject.shadowBlur = t
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "ShadowStroke", {
				get: function() {
					return this.textObject.shadowStroke
				},
				set: function(t) {
					this.textObject.shadowStroke = t, this.updateAlignment()
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "ShadowFill", {
				get: function() {
					return this.textObject.shadowFill
				},
				set: function(t) {
					this.textObject.shadowFill = t, this.updateAlignment()
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "TextConfig", {
				set: function(t) {
					s.Utils.isDefined(t.font) && (this.Font = t.font), s.Utils.isDefined(t.fontSize) && (this.FontSize = t.fontSize), s.Utils.isDefined(t.fontWeight) && ("bold" === t.fontWeight ? this.FontStyle = o.EFontStyle.Bold : this.FontStyle = o.EFontStyle.Normal), s.Utils.isDefined(t.fill) && (this.FillColor = t.fill), s.Utils.isDefined(t.blendMode) && (this.BlendMode = t.blendMode), s.Utils.isDefined(t.padding) && (this.Padding = t.padding), s.Utils.isDefined(t.stroke) && (this.StrokeColor = t.stroke), s.Utils.isDefined(t.strokeThickness) && (this.StrokeThickness = t.strokeThickness), s.Utils.isDefined(t.shadowOffsetX) && (this.ShadowOffsetX = t.shadowOffsetX), s.Utils.isDefined(t.shadowOffsetY) && (this.ShadowOffsetY = t.shadowOffsetY), s.Utils.isDefined(t.shadowColor) && (this.ShadowColor = t.shadowColor), s.Utils.isDefined(t.shadowBlur) && (this.ShadowBlur = t.shadowBlur), s.Utils.isDefined(t.shadowStroke) && (this.ShadowStroke = t.shadowStroke), s.Utils.isDefined(t.shadowFill) && (this.ShadowFill = t.shadowFill)
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "TextWidth", {
				get: function() {
					return this.textObject.width
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e.prototype, "TextHeight", {
				get: function() {
					return this.textObject.height
				},
				enumerable: !0,
				configurable: !0
			}), e.prototype.create = function() {
				t.prototype.create.call(this), this.textObject = this.createTextObject(), this.GameObject.add(this.textObject)
			}, e.prototype.setActive = function(e) {
				t.prototype.setActive.call(this, e), this.textObject.visible = e
			}, e.prototype.setText = function(t) {
				this.Source instanceof l.StringTextSource && this.Source.getText() === t || (this.Source = new l.StringTextSource(t))
			}, e.prototype.updateText = function() {
				null === this.textObject ? r.Logger.log("Trying to update the text on a Text component before the text object was created.", r.LogLevel.Warning) : (this.textObject.setText(this.Source.getText()), this.updateAlignment())
			}, e.prototype.updateAlignment = function() {
				var t = this.Alignment;
				(t & o.EAnchor.Center) === o.EAnchor.Center ? (this.textObject.position.x = -Math.round(.5 * this.textObject.width), this.textObject.align = "center") : (t & o.EAnchor.Right) === o.EAnchor.Right ? (this.textObject.position.x = -this.textObject.width, this.textObject.align = "right") : (this.textObject.position.x = 0, this.textObject.align = "left"), (t & o.EAnchor.Middle) === o.EAnchor.Middle ? this.textObject.position.y = -Math.round(.5 * this.textObject.height) : (t & o.EAnchor.Bottom) === o.EAnchor.Bottom ? this.textObject.position.y = -this.textObject.height : this.textObject.position.y = 0
			}, e.prototype.isValidColor = function(t) {
				return !!/^#[0-9A-Fa-f]{6}|[0-9A-Fa-f]{8}$/.test(t)
			}, e.prototype.createTextObject = function() {
				return new Phaser.Text(this.GameObject.game, 0, 0, "")
			}, e
		}(a.Component);
	e.Text = c
}, function(t, e, i) {
	"use strict";

	function n(t) {
		for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i])
	}
	Object.defineProperty(e, "__esModule", {
		value: !0
	}), n(i(401)), n(i(400)), n(i(1178))
}, function(t, e) {
	function i(t) {
		t = t || {}, this.ms = t.min || 100, this.max = t.max || 1e4, this.factor = t.factor || 2, this.jitter = t.jitter > 0 && t.jitter <= 1 ? t.jitter : 0, this.attempts = 0
	}
	t.exports = i, i.prototype.duration = function() {
		var t = this.ms * Math.pow(this.factor, this.attempts++);
		if (this.jitter) {
			var e = Math.random(),
				i = Math.floor(e * this.jitter * t);
			t = 0 == (1 & Math.floor(10 * e)) ? t - i : t + i
		}
		return 0 | Math.min(t, this.max)
	}, i.prototype.reset = function() {
		this.attempts = 0
	}, i.prototype.setMin = function(t) {
		this.ms = t
	}, i.prototype.setMax = function(t) {
		this.max = t
	}, i.prototype.setJitter = function(t) {
		this.jitter = t
	}
}, function(t, e) {
	t.exports = function(t, e) {
		for (var i = [], n = (e = e || 0) || 0; n < t.length; n++) i[n - e] = t[n];
		return i
	}
}, function(t, e) {}, function(t, e, i) {
	(function(e) {
		var n, a = i(220),
			o = i(90),
			r = i(144),
			s = i(143),
			l = i(406),
			c = i(142)("engine.io-client:websocket"),
			h = e.WebSocket || e.MozWebSocket;
		if ("undefined" == typeof window) try {
			n = i(1182)
		} catch (t) {}
		var u = h;

		function p(t) {
			t && t.forceBase64 && (this.supportsBinary = !1), this.perMessageDeflate = t.perMessageDeflate, this.usingBrowserWebSocket = h && !t.forceNode, this.protocols = t.protocols, this.usingBrowserWebSocket || (u = n), a.call(this, t)
		}
		u || "undefined" != typeof window || (u = n), t.exports = p, s(p, a), p.prototype.name = "websocket", p.prototype.supportsBinary = !0, p.prototype.doOpen = function() {
			if (this.check()) {
				var t = this.uri(),
					e = this.protocols,
					i = {
						agent: this.agent,
						perMessageDeflate: this.perMessageDeflate
					};
				i.pfx = this.pfx, i.key = this.key, i.passphrase = this.passphrase, i.cert = this.cert, i.ca = this.ca, i.ciphers = this.ciphers, i.rejectUnauthorized = this.rejectUnauthorized, this.extraHeaders && (i.headers = this.extraHeaders), this.localAddress && (i.localAddress = this.localAddress);
				try {
					this.ws = this.usingBrowserWebSocket ? e ? new u(t, e) : new u(t) : new u(t, e, i)
				} catch (t) {
					return this.emit("error", t)
				}
				void 0 === this.ws.binaryType && (this.supportsBinary = !1), this.ws.supports && this.ws.supports.binary ? (this.supportsBinary = !0, this.ws.binaryType = "nodebuffer") : this.ws.binaryType = "arraybuffer", this.addEventListeners()
			}
		}, p.prototype.addEventListeners = function() {
			var t = this;
			this.ws.onopen = function() {
				t.onOpen()
			}, this.ws.onclose = function() {
				t.onClose()
			}, this.ws.onmessage = function(e) {
				t.onData(e.data)
			}, this.ws.onerror = function(e) {
				t.onError("websocket error", e)
			}
		}, p.prototype.write = function(t) {
			var i = this;
			this.writable = !1;
			for (var n = t.length, a = 0, r = n; a < r; a++) ! function(t) {
				o.encodePacket(t, i.supportsBinary, function(a) {
					if (!i.usingBrowserWebSocket) {
						var o = {};
						if (t.options && (o.compress = t.options.compress), i.perMessageDeflate)("string" == typeof a ? e.Buffer.byteLength(a) : a.length) < i.perMessageDeflate.threshold && (o.compress = !1)
					}
					try {
						i.usingBrowserWebSocket ? i.ws.send(a) : i.ws.send(a, o)
					} catch (t) {
						c("websocket closed before onclose event")
					}--n || s()
				})
			}(t[a]);

			function s() {
				i.emit("flush"), setTimeout(function() {
					i.writable = !0, i.emit("drain")
				}, 0)
			}
		}, p.prototype.onClose = function() {
			a.prototype.onClose.call(this)
		}, p.prototype.doClose = function() {
			void 0 !== this.ws && this.ws.close()
		}, p.prototype.uri = function() {
			var t = this.query || {},
				e = this.secure ? "wss" : "ws",
				i = "";
			return this.port && ("wss" === e && 443 !== Number(this.port) || "ws" === e && 80 !== Number(this.port)) && (i = ":" + this.port), this.timestampRequests && (t[this.timestampParam] = l()), this.supportsBinary || (t.b64 = 1), (t = r.encode(t)).length && (t = "?" + t), e + "://" + (-1 !== this.hostname.indexOf(":") ? "[" + this.hostname + "]" : this.hostname) + i + this.path + t
		}, p.prototype.check = function() {
			return !(!u || "__initialize" in u && this.name === p.prototype.name)
		}
	}).call(this, i(39))
}, function(t, e, i) {
	(function(e) {
		var n = i(407),
			a = i(143);
		t.exports = c;
		var o, r = /\n/g,
			s = /\\n/g;

		function l() {}

		function c(t) {
			n.call(this, t), this.query = this.query || {}, o || (e.___eio || (e.___eio = []), o = e.___eio), this.index = o.length;
			var i = this;
			o.push(function(t) {
				i.onData(t)
			}), this.query.j = this.index, e.document && e.addEventListener && e.addEventListener("beforeunload", function() {
				i.script && (i.script.onerror = l)
			}, !1)
		}
		a(c, n), c.prototype.supportsBinary = !1, c.prototype.doClose = function() {
			this.script && (this.script.parentNode.removeChild(this.script), this.script = null), this.form && (this.form.parentNode.removeChild(this.form), this.form = null, this.iframe = null), n.prototype.doClose.call(this)
		}, c.prototype.doPoll = function() {
			var t = this,
				e = document.createElement("script");
			this.script && (this.script.parentNode.removeChild(this.script), this.script = null), e.async = !0, e.src = this.uri(), e.onerror = function(e) {
				t.onError("jsonp poll error", e)
			};
			var i = document.getElementsByTagName("script")[0];
			i ? i.parentNode.insertBefore(e, i) : (document.head || document.body).appendChild(e), this.script = e, "undefined" != typeof navigator && /gecko/i.test(navigator.userAgent) && setTimeout(function() {
				var t = document.createElement("iframe");
				document.body.appendChild(t), document.body.removeChild(t)
			}, 100)
		}, c.prototype.doWrite = function(t, e) {
			var i = this;
			if (!this.form) {
				var n, a = document.createElement("form"),
					o = document.createElement("textarea"),
					l = this.iframeId = "eio_iframe_" + this.index;
				a.className = "socketio", a.style.position = "absolute", a.style.top = "-1000px", a.style.left = "-1000px", a.target = l, a.method = "POST", a.setAttribute("accept-charset", "utf-8"), o.name = "d", a.appendChild(o), document.body.appendChild(a), this.form = a, this.area = o
			}

			function c() {
				h(), e()
			}

			function h() {
				if (i.iframe) try {
					i.form.removeChild(i.iframe)
				} catch (t) {
					i.onError("jsonp polling iframe removal error", t)
				}
				try {
					var t = '<iframe src="javascript:0" name="' + i.iframeId + '">';
					n = document.createElement(t)
				} catch (t) {
					(n = document.createElement("iframe")).name = i.iframeId, n.src = "javascript:0"
				}
				n.id = i.iframeId, i.form.appendChild(n), i.iframe = n
			}
			this.form.action = this.uri(), h(), t = t.replace(s, "\\\n"), this.area.value = t.replace(r, "\\n");
			try {
				this.form.submit()
			} catch (t) {}
			this.iframe.attachEvent ? this.iframe.onreadystatechange = function() {
				"complete" === i.iframe.readyState && c()
			} : this.iframe.onload = c
		}
	}).call(this, i(39))
}, function(t, e, i) {
	function n(t) {
		var i;

		function n() {
			if (n.enabled) {
				var t = n,
					a = +new Date,
					o = a - (i || a);
				t.diff = o, t.prev = i, t.curr = a, i = a;
				for (var r = new Array(arguments.length), s = 0; s < r.length; s++) r[s] = arguments[s];
				r[0] = e.coerce(r[0]), "string" != typeof r[0] && r.unshift("%O");
				var l = 0;
				r[0] = r[0].replace(/%([a-zA-Z%])/g, function(i, n) {
					if ("%%" === i) return i;
					l++;
					var a = e.formatters[n];
					if ("function" == typeof a) {
						var o = r[l];
						i = a.call(t, o), r.splice(l, 1), l--
					}
					return i
				}), e.formatArgs.call(t, r), (n.log || e.log || console.log.bind(console)).apply(t, r)
			}
		}
		return n.namespace = t, n.enabled = e.enabled(t), n.useColors = e.useColors(), n.color = function(t) {
			var i, n = 0;
			for (i in t) n = (n << 5) - n + t.charCodeAt(i), n |= 0;
			return e.colors[Math.abs(n) % e.colors.length]
		}(t), n.destroy = a, "function" == typeof e.init && e.init(n), e.instances.push(n), n
	}

	function a() {
		var t = e.instances.indexOf(this);
		return -1 !== t && (e.instances.splice(t, 1), !0)
	}(e = t.exports = n.debug = n.default = n).coerce = function(t) {
		return t instanceof Error ? t.stack || t.message : t
	}, e.disable = function() {
		e.enable("")
	}, e.enable = function(t) {
		var i;
		e.save(t), e.names = [], e.skips = [];
		var n = ("string" == typeof t ? t : "").split(/[\s,]+/),
			a = n.length;
		for (i = 0; i < a; i++) n[i] && ("-" === (t = n[i].replace(/\*/g, ".*?"))[0] ? e.skips.push(new RegExp("^" + t.substr(1) + "$")) : e.names.push(new RegExp("^" + t + "$")));
		for (i = 0; i < e.instances.length; i++) {
			var o = e.instances[i];
			o.enabled = e.enabled(o.namespace)
		}
	}, e.enabled = function(t) {
		if ("*" === t[t.length - 1]) return !0;
		var i, n;
		for (i = 0, n = e.skips.length; i < n; i++)
			if (e.skips[i].test(t)) return !1;
		for (i = 0, n = e.names.length; i < n; i++)
			if (e.names[i].test(t)) return !0;
		return !1
	}, e.humanize = i(224), e.instances = [], e.names = [], e.skips = [], e.formatters = {}
}, function(t, e) {
	var i = void 0 !== i ? i : "undefined" != typeof WebKitBlobBuilder ? WebKitBlobBuilder : "undefined" != typeof MSBlobBuilder ? MSBlobBuilder : "undefined" != typeof MozBlobBuilder && MozBlobBuilder,
		n = function() {
			try {
				return 2 === new Blob(["hi"]).size
			} catch (t) {
				return !1
			}
		}(),
		a = n && function() {
			try {
				return 2 === new Blob([new Uint8Array([1, 2])]).size
			} catch (t) {
				return !1
			}
		}(),
		o = i && i.prototype.append && i.prototype.getBlob;

	function r(t) {
		return t.map(function(t) {
			if (t.buffer instanceof ArrayBuffer) {
				var e = t.buffer;
				if (t.byteLength !== e.byteLength) {
					var i = new Uint8Array(t.byteLength);
					i.set(new Uint8Array(e, t.byteOffset, t.byteLength)), e = i.buffer
				}
				return e
			}
			return t
		})
	}

	function s(t, e) {
		e = e || {};
		var n = new i;
		return r(t).forEach(function(t) {
			n.append(t)
		}), e.type ? n.getBlob(e.type) : n.getBlob()
	}

	function l(t, e) {
		return new Blob(r(t), e || {})
	}
	"undefined" != typeof Blob && (s.prototype = Blob.prototype, l.prototype = Blob.prototype), t.exports = n ? a ? Blob : l : o ? s : void 0
}, function(t, e) {
	! function() {
		"use strict";
		for (var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", i = new Uint8Array(256), n = 0; n < t.length; n++) i[t.charCodeAt(n)] = n;
		e.encode = function(e) {
			var i, n = new Uint8Array(e),
				a = n.length,
				o = "";
			for (i = 0; i < a; i += 3) o += t[n[i] >> 2], o += t[(3 & n[i]) << 4 | n[i + 1] >> 4], o += t[(15 & n[i + 1]) << 2 | n[i + 2] >> 6], o += t[63 & n[i + 2]];
			return a % 3 == 2 ? o = o.substring(0, o.length - 1) + "=" : a % 3 == 1 && (o = o.substring(0, o.length - 2) + "=="), o
		}, e.decode = function(t) {
			var e, n, a, o, r, s = .75 * t.length,
				l = t.length,
				c = 0;
			"=" === t[t.length - 1] && (s--, "=" === t[t.length - 2] && s--);
			var h = new ArrayBuffer(s),
				u = new Uint8Array(h);
			for (e = 0; e < l; e += 4) n = i[t.charCodeAt(e)], a = i[t.charCodeAt(e + 1)], o = i[t.charCodeAt(e + 2)], r = i[t.charCodeAt(e + 3)], u[c++] = n << 2 | a >> 4, u[c++] = (15 & a) << 4 | o >> 2, u[c++] = (3 & o) << 6 | 63 & r;
			return h
		}
	}()
}, function(t, e) {
	/*! https://mths.be/utf8js v2.1.2 by @mathias */
	var i, n, a, o = String.fromCharCode;

	function r(t) {
		for (var e, i, n = [], a = 0, o = t.length; a < o;)(e = t.charCodeAt(a++)) >= 55296 && e <= 56319 && a < o ? 56320 == (64512 & (i = t.charCodeAt(a++))) ? n.push(((1023 & e) << 10) + (1023 & i) + 65536) : (n.push(e), a--) : n.push(e);
		return n
	}

	function s(t, e) {
		if (t >= 55296 && t <= 57343) {
			if (e) throw Error("Lone surrogate U+" + t.toString(16).toUpperCase() + " is not a scalar value");
			return !1
		}
		return !0
	}

	function l(t, e) {
		return o(t >> e & 63 | 128)
	}

	function c(t, e) {
		if (0 == (4294967168 & t)) return o(t);
		var i = "";
		return 0 == (4294965248 & t) ? i = o(t >> 6 & 31 | 192) : 0 == (4294901760 & t) ? (s(t, e) || (t = 65533), i = o(t >> 12 & 15 | 224), i += l(t, 6)) : 0 == (4292870144 & t) && (i = o(t >> 18 & 7 | 240), i += l(t, 12), i += l(t, 6)), i += o(63 & t | 128)
	}

	function h() {
		if (a >= n) throw Error("Invalid byte index");
		var t = 255 & i[a];
		if (a++, 128 == (192 & t)) return 63 & t;
		throw Error("Invalid continuation byte")
	}

	function u(t) {
		var e, o;
		if (a > n) throw Error("Invalid byte index");
		if (a == n) return !1;
		if (e = 255 & i[a], a++, 0 == (128 & e)) return e;
		if (192 == (224 & e)) {
			if ((o = (31 & e) << 6 | h()) >= 128) return o;
			throw Error("Invalid continuation byte")
		}
		if (224 == (240 & e)) {
			if ((o = (15 & e) << 12 | h() << 6 | h()) >= 2048) return s(o, t) ? o : 65533;
			throw Error("Invalid continuation byte")
		}
		if (240 == (248 & e) && (o = (7 & e) << 18 | h() << 12 | h() << 6 | h()) >= 65536 && o <= 1114111) return o;
		throw Error("Invalid UTF-8 detected")
	}
	t.exports = {
		version: "2.1.2",
		encode: function(t, e) {
			for (var i = !1 !== (e = e || {}).strict, n = r(t), a = n.length, o = -1, s = ""; ++o < a;) s += c(n[o], i);
			return s
		},
		decode: function(t, e) {
			var s = !1 !== (e = e || {}).strict;
			i = r(t), n = i.length, a = 0;
			for (var l, c = []; !1 !== (l = u(s));) c.push(l);
			return function(t) {
				for (var e, i = t.length, n = -1, a = ""; ++n < i;)(e = t[n]) > 65535 && (a += o((e -= 65536) >>> 10 & 1023 | 55296), e = 56320 | 1023 & e), a += o(e);
				return a
			}(c)
		}
	}
}, function(t, e) {
	function i() {}
	t.exports = function(t, e, n) {
		var a = !1;
		return n = n || i, o.count = t, 0 === t ? e() : o;

		function o(t, i) {
			if (o.count <= 0) throw new Error("after called too many times");
			--o.count, t ? (a = !0, e(t), e = n) : 0 !== o.count || a || e(null, i)
		}
	}
}, function(t, e) {
	t.exports = function(t, e, i) {
		var n = t.byteLength;
		if (e = e || 0, i = i || n, t.slice) return t.slice(e, i);
		if (e < 0 && (e += n), i < 0 && (i += n), i > n && (i = n), e >= n || e >= i || 0 === n) return new ArrayBuffer(0);
		for (var a = new Uint8Array(t), o = new Uint8Array(i - e), r = e, s = 0; r < i; r++, s++) o[s] = a[r];
		return o.buffer
	}
}, function(t, e) {
	t.exports = Object.keys || function(t) {
		var e = [],
			i = Object.prototype.hasOwnProperty;
		for (var n in t) i.call(t, n) && e.push(n);
		return e
	}
}, function(t, e, i) {
	(function(e) {
		var n = i(221),
			a = i(407),
			o = i(91),
			r = i(143),
			s = i(142)("engine.io-client:polling-xhr");

		function l() {}

		function c(t) {
			if (a.call(this, t), this.requestTimeout = t.requestTimeout, this.extraHeaders = t.extraHeaders, e.location) {
				var i = "https:" === location.protocol,
					n = location.port;
				n || (n = i ? 443 : 80), this.xd = t.hostname !== e.location.hostname || n !== t.port, this.xs = t.secure !== i
			}
		}

		function h(t) {
			this.method = t.method || "GET", this.uri = t.uri, this.xd = !!t.xd, this.xs = !!t.xs, this.async = !1 !== t.async, this.data = void 0 !== t.data ? t.data : null, this.agent = t.agent, this.isBinary = t.isBinary, this.supportsBinary = t.supportsBinary, this.enablesXDR = t.enablesXDR, this.requestTimeout = t.requestTimeout, this.pfx = t.pfx, this.key = t.key, this.passphrase = t.passphrase, this.cert = t.cert, this.ca = t.ca, this.ciphers = t.ciphers, this.rejectUnauthorized = t.rejectUnauthorized, this.extraHeaders = t.extraHeaders, this.create()
		}

		function u() {
			for (var t in h.requests) h.requests.hasOwnProperty(t) && h.requests[t].abort()
		}
		t.exports = c, t.exports.Request = h, r(c, a), c.prototype.supportsBinary = !0, c.prototype.request = function(t) {
			return (t = t || {}).uri = this.uri(), t.xd = this.xd, t.xs = this.xs, t.agent = this.agent || !1, t.supportsBinary = this.supportsBinary, t.enablesXDR = this.enablesXDR, t.pfx = this.pfx, t.key = this.key, t.passphrase = this.passphrase, t.cert = this.cert, t.ca = this.ca, t.ciphers = this.ciphers, t.rejectUnauthorized = this.rejectUnauthorized, t.requestTimeout = this.requestTimeout, t.extraHeaders = this.extraHeaders, new h(t)
		}, c.prototype.doWrite = function(t, e) {
			var i = "string" != typeof t && void 0 !== t,
				n = this.request({
					method: "POST",
					data: t,
					isBinary: i
				}),
				a = this;
			n.on("success", e), n.on("error", function(t) {
				a.onError("xhr post error", t)
			}), this.sendXhr = n
		}, c.prototype.doPoll = function() {
			s("xhr poll");
			var t = this.request(),
				e = this;
			t.on("data", function(t) {
				e.onData(t)
			}), t.on("error", function(t) {
				e.onError("xhr poll error", t)
			}), this.pollXhr = t
		}, o(h.prototype), h.prototype.create = function() {
			var t = {
				agent: this.agent,
				xdomain: this.xd,
				xscheme: this.xs,
				enablesXDR: this.enablesXDR
			};
			t.pfx = this.pfx, t.key = this.key, t.passphrase = this.passphrase, t.cert = this.cert, t.ca = this.ca, t.ciphers = this.ciphers, t.rejectUnauthorized = this.rejectUnauthorized;
			var i = this.xhr = new n(t),
				a = this;
			try {
				s("xhr open %s: %s", this.method, this.uri), i.open(this.method, this.uri, this.async);
				try {
					if (this.extraHeaders)
						for (var o in i.setDisableHeaderCheck && i.setDisableHeaderCheck(!0), this.extraHeaders) this.extraHeaders.hasOwnProperty(o) && i.setRequestHeader(o, this.extraHeaders[o])
				} catch (t) {}
				if ("POST" === this.method) try {
					this.isBinary ? i.setRequestHeader("Content-type", "application/octet-stream") : i.setRequestHeader("Content-type", "text/plain;charset=UTF-8")
				} catch (t) {}
				try {
					i.setRequestHeader("Accept", "*/*")
				} catch (t) {}
				"withCredentials" in i && (i.withCredentials = !0), this.requestTimeout && (i.timeout = this.requestTimeout), this.hasXDR() ? (i.onload = function() {
					a.onLoad()
				}, i.onerror = function() {
					a.onError(i.responseText)
				}) : i.onreadystatechange = function() {
					if (2 === i.readyState) try {
						var t = i.getResponseHeader("Content-Type");
						a.supportsBinary && "application/octet-stream" === t && (i.responseType = "arraybuffer")
					} catch (t) {}
					4 === i.readyState && (200 === i.status || 1223 === i.status ? a.onLoad() : setTimeout(function() {
						a.onError(i.status)
					}, 0))
				}, s("xhr data %s", this.data), i.send(this.data)
			} catch (t) {
				return void setTimeout(function() {
					a.onError(t)
				}, 0)
			}
			e.document && (this.index = h.requestsCount++, h.requests[this.index] = this)
		}, h.prototype.onSuccess = function() {
			this.emit("success"), this.cleanup()
		}, h.prototype.onData = function(t) {
			this.emit("data", t), this.onSuccess()
		}, h.prototype.onError = function(t) {
			this.emit("error", t), this.cleanup(!0)
		}, h.prototype.cleanup = function(t) {
			if (void 0 !== this.xhr && null !== this.xhr) {
				if (this.hasXDR() ? this.xhr.onload = this.xhr.onerror = l : this.xhr.onreadystatechange = l, t) try {
					this.xhr.abort()
				} catch (t) {}
				e.document && delete h.requests[this.index], this.xhr = null
			}
		}, h.prototype.onLoad = function() {
			var t;
			try {
				var e;
				try {
					e = this.xhr.getResponseHeader("Content-Type")
				} catch (t) {}
				t = "application/octet-stream" === e && this.xhr.response || this.xhr.responseText
			} catch (t) {
				this.onError(t)
			}
			null != t && this.onData(t)
		}, h.prototype.hasXDR = function() {
			return void 0 !== e.XDomainRequest && !this.xs && this.enablesXDR
		}, h.prototype.abort = function() {
			this.cleanup()
		}, h.requestsCount = 0, h.requests = {}, e.document && (e.attachEvent ? e.attachEvent("onunload", u) : e.addEventListener && e.addEventListener("beforeunload", u, !1))
	}).call(this, i(39))
}, function(t, e) {
	try {
		t.exports = "undefined" != typeof XMLHttpRequest && "withCredentials" in new XMLHttpRequest
	} catch (e) {
		t.exports = !1
	}
}, function(t, e, i) {
	(function(e) {
		var n = i(408),
			a = i(91),
			o = i(142)("engine.io-client:socket"),
			r = i(405),
			s = i(90),
			l = i(412),
			c = i(144);

		function h(t, i) {
			if (!(this instanceof h)) return new h(t, i);
			i = i || {}, t && "object" == typeof t && (i = t, t = null), t ? (t = l(t), i.hostname = t.host, i.secure = "https" === t.protocol || "wss" === t.protocol, i.port = t.port, t.query && (i.query = t.query)) : i.host && (i.hostname = l(i.host).host), this.secure = null != i.secure ? i.secure : e.location && "https:" === location.protocol, i.hostname && !i.port && (i.port = this.secure ? "443" : "80"), this.agent = i.agent || !1, this.hostname = i.hostname || (e.location ? location.hostname : "localhost"), this.port = i.port || (e.location && location.port ? location.port : this.secure ? 443 : 80), this.query = i.query || {}, "string" == typeof this.query && (this.query = c.decode(this.query)), this.upgrade = !1 !== i.upgrade, this.path = (i.path || "/engine.io").replace(/\/$/, "") + "/", this.forceJSONP = !!i.forceJSONP, this.jsonp = !1 !== i.jsonp, this.forceBase64 = !!i.forceBase64, this.enablesXDR = !!i.enablesXDR, this.timestampParam = i.timestampParam || "t", this.timestampRequests = i.timestampRequests, this.transports = i.transports || ["polling", "websocket"], this.transportOptions = i.transportOptions || {}, this.readyState = "", this.writeBuffer = [], this.prevBufferLen = 0, this.policyPort = i.policyPort || 843, this.rememberUpgrade = i.rememberUpgrade || !1, this.binaryType = null, this.onlyBinaryUpgrades = i.onlyBinaryUpgrades, this.perMessageDeflate = !1 !== i.perMessageDeflate && (i.perMessageDeflate || {}), !0 === this.perMessageDeflate && (this.perMessageDeflate = {}), this.perMessageDeflate && null == this.perMessageDeflate.threshold && (this.perMessageDeflate.threshold = 1024), this.pfx = i.pfx || null, this.key = i.key || null, this.passphrase = i.passphrase || null, this.cert = i.cert || null, this.ca = i.ca || null, this.ciphers = i.ciphers || null, this.rejectUnauthorized = void 0 === i.rejectUnauthorized || i.rejectUnauthorized, this.forceNode = !!i.forceNode;
			var n = "object" == typeof e && e;
			n.global === n && (i.extraHeaders && Object.keys(i.extraHeaders).length > 0 && (this.extraHeaders = i.extraHeaders), i.localAddress && (this.localAddress = i.localAddress)), this.id = null, this.upgrades = null, this.pingInterval = null, this.pingTimeout = null, this.pingIntervalTimer = null, this.pingTimeoutTimer = null, this.open()
		}
		t.exports = h, h.priorWebsocketSuccess = !1, a(h.prototype), h.protocol = s.protocol, h.Socket = h, h.Transport = i(220), h.transports = i(408), h.parser = i(90), h.prototype.createTransport = function(t) {
			o('creating transport "%s"', t);
			var e = function(t) {
				var e = {};
				for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
				return e
			}(this.query);
			e.EIO = s.protocol, e.transport = t;
			var i = this.transportOptions[t] || {};
			return this.id && (e.sid = this.id), new n[t]({
				query: e,
				socket: this,
				agent: i.agent || this.agent,
				hostname: i.hostname || this.hostname,
				port: i.port || this.port,
				secure: i.secure || this.secure,
				path: i.path || this.path,
				forceJSONP: i.forceJSONP || this.forceJSONP,
				jsonp: i.jsonp || this.jsonp,
				forceBase64: i.forceBase64 || this.forceBase64,
				enablesXDR: i.enablesXDR || this.enablesXDR,
				timestampRequests: i.timestampRequests || this.timestampRequests,
				timestampParam: i.timestampParam || this.timestampParam,
				policyPort: i.policyPort || this.policyPort,
				pfx: i.pfx || this.pfx,
				key: i.key || this.key,
				passphrase: i.passphrase || this.passphrase,
				cert: i.cert || this.cert,
				ca: i.ca || this.ca,
				ciphers: i.ciphers || this.ciphers,
				rejectUnauthorized: i.rejectUnauthorized || this.rejectUnauthorized,
				perMessageDeflate: i.perMessageDeflate || this.perMessageDeflate,
				extraHeaders: i.extraHeaders || this.extraHeaders,
				forceNode: i.forceNode || this.forceNode,
				localAddress: i.localAddress || this.localAddress,
				requestTimeout: i.requestTimeout || this.requestTimeout,
				protocols: i.protocols || void 0
			})
		}, h.prototype.open = function() {
			var t;
			if (this.rememberUpgrade && h.priorWebsocketSuccess && -1 !== this.transports.indexOf("websocket")) t = "websocket";
			else {
				if (0 === this.transports.length) {
					var e = this;
					return void setTimeout(function() {
						e.emit("error", "No transports available")
					}, 0)
				}
				t = this.transports[0]
			}
			this.readyState = "opening";
			try {
				t = this.createTransport(t)
			} catch (t) {
				return this.transports.shift(), void this.open()
			}
			t.open(), this.setTransport(t)
		}, h.prototype.setTransport = function(t) {
			o("setting transport %s", t.name);
			var e = this;
			this.transport && (o("clearing existing transport %s", this.transport.name), this.transport.removeAllListeners()), this.transport = t, t.on("drain", function() {
				e.onDrain()
			}).on("packet", function(t) {
				e.onPacket(t)
			}).on("error", function(t) {
				e.onError(t)
			}).on("close", function() {
				e.onClose("transport close")
			})
		}, h.prototype.probe = function(t) {
			o('probing transport "%s"', t);
			var e = this.createTransport(t, {
					probe: 1
				}),
				i = !1,
				n = this;

			function a() {
				if (n.onlyBinaryUpgrades) {
					var a = !this.supportsBinary && n.transport.supportsBinary;
					i = i || a
				}
				i || (o('probe transport "%s" opened', t), e.send([{
					type: "ping",
					data: "probe"
				}]), e.once("packet", function(a) {
					if (!i)
						if ("pong" === a.type && "probe" === a.data) {
							if (o('probe transport "%s" pong', t), n.upgrading = !0, n.emit("upgrading", e), !e) return;
							h.priorWebsocketSuccess = "websocket" === e.name, o('pausing current transport "%s"', n.transport.name), n.transport.pause(function() {
								i || "closed" !== n.readyState && (o("changing transport and sending upgrade packet"), p(), n.setTransport(e), e.send([{
									type: "upgrade"
								}]), n.emit("upgrade", e), e = null, n.upgrading = !1, n.flush())
							})
						} else {
							o('probe transport "%s" failed', t);
							var r = new Error("probe error");
							r.transport = e.name, n.emit("upgradeError", r)
						}
				}))
			}

			function r() {
				i || (i = !0, p(), e.close(), e = null)
			}

			function s(i) {
				var a = new Error("probe error: " + i);
				a.transport = e.name, r(), o('probe transport "%s" failed because of error: %s', t, i), n.emit("upgradeError", a)
			}

			function l() {
				s("transport closed")
			}

			function c() {
				s("socket closed")
			}

			function u(t) {
				e && t.name !== e.name && (o('"%s" works - aborting "%s"', t.name, e.name), r())
			}

			function p() {
				e.removeListener("open", a), e.removeListener("error", s), e.removeListener("close", l), n.removeListener("close", c), n.removeListener("upgrading", u)
			}
			h.priorWebsocketSuccess = !1, e.once("open", a), e.once("error", s), e.once("close", l), this.once("close", c), this.once("upgrading", u), e.open()
		}, h.prototype.onOpen = function() {
			if (o("socket open"), this.readyState = "open", h.priorWebsocketSuccess = "websocket" === this.transport.name, this.emit("open"), this.flush(), "open" === this.readyState && this.upgrade && this.transport.pause) {
				o("starting upgrade probes");
				for (var t = 0, e = this.upgrades.length; t < e; t++) this.probe(this.upgrades[t])
			}
		}, h.prototype.onPacket = function(t) {
			if ("opening" === this.readyState || "open" === this.readyState || "closing" === this.readyState) switch (o('socket receive: type "%s", data "%s"', t.type, t.data), this.emit("packet", t), this.emit("heartbeat"), t.type) {
				case "open":
					this.onHandshake(JSON.parse(t.data));
					break;
				case "pong":
					this.setPing(), this.emit("pong");
					break;
				case "error":
					var e = new Error("server error");
					e.code = t.data, this.onError(e);
					break;
				case "message":
					this.emit("data", t.data), this.emit("message", t.data)
			} else o('packet received with socket readyState "%s"', this.readyState)
		}, h.prototype.onHandshake = function(t) {
			this.emit("handshake", t), this.id = t.sid, this.transport.query.sid = t.sid, this.upgrades = this.filterUpgrades(t.upgrades), this.pingInterval = t.pingInterval, this.pingTimeout = t.pingTimeout, this.onOpen(), "closed" !== this.readyState && (this.setPing(), this.removeListener("heartbeat", this.onHeartbeat), this.on("heartbeat", this.onHeartbeat))
		}, h.prototype.onHeartbeat = function(t) {
			clearTimeout(this.pingTimeoutTimer);
			var e = this;
			e.pingTimeoutTimer = setTimeout(function() {
				"closed" !== e.readyState && e.onClose("ping timeout")
			}, t || e.pingInterval + e.pingTimeout)
		}, h.prototype.setPing = function() {
			var t = this;
			clearTimeout(t.pingIntervalTimer), t.pingIntervalTimer = setTimeout(function() {
				o("writing ping packet - expecting pong within %sms", t.pingTimeout), t.ping(), t.onHeartbeat(t.pingTimeout)
			}, t.pingInterval)
		}, h.prototype.ping = function() {
			var t = this;
			this.sendPacket("ping", function() {
				t.emit("ping")
			})
		}, h.prototype.onDrain = function() {
			this.writeBuffer.splice(0, this.prevBufferLen), this.prevBufferLen = 0, 0 === this.writeBuffer.length ? this.emit("drain") : this.flush()
		}, h.prototype.flush = function() {
			"closed" !== this.readyState && this.transport.writable && !this.upgrading && this.writeBuffer.length && (o("flushing %d packets in socket", this.writeBuffer.length), this.transport.send(this.writeBuffer), this.prevBufferLen = this.writeBuffer.length, this.emit("flush"))
		}, h.prototype.write = h.prototype.send = function(t, e, i) {
			return this.sendPacket("message", t, e, i), this
		}, h.prototype.sendPacket = function(t, e, i, n) {
			if ("function" == typeof e && (n = e, e = void 0), "function" == typeof i && (n = i, i = null), "closing" !== this.readyState && "closed" !== this.readyState) {
				(i = i || {}).compress = !1 !== i.compress;
				var a = {
					type: t,
					data: e,
					options: i
				};
				this.emit("packetCreate", a), this.writeBuffer.push(a), n && this.once("flush", n), this.flush()
			}
		}, h.prototype.close = function() {
			if ("opening" === this.readyState || "open" === this.readyState) {
				this.readyState = "closing";
				var t = this;
				this.writeBuffer.length ? this.once("drain", function() {
					this.upgrading ? n() : e()
				}) : this.upgrading ? n() : e()
			}

			function e() {
				t.onClose("forced close"), o("socket closing - telling transport to close"), t.transport.close()
			}

			function i() {
				t.removeListener("upgrade", i), t.removeListener("upgradeError", i), e()
			}

			function n() {
				t.once("upgrade", i), t.once("upgradeError", i)
			}
			return this
		}, h.prototype.onError = function(t) {
			o("socket error %j", t), h.priorWebsocketSuccess = !1, this.emit("error", t), this.onClose("transport error", t)
		}, h.prototype.onClose = function(t, e) {
			if ("opening" === this.readyState || "open" === this.readyState || "closing" === this.readyState) {
				o('socket close with reason: "%s"', t);
				clearTimeout(this.pingIntervalTimer), clearTimeout(this.pingTimeoutTimer), this.transport.removeAllListeners("close"), this.transport.close(), this.transport.removeAllListeners(), this.readyState = "closed", this.id = null, this.emit("close", t, e), this.writeBuffer = [], this.prevBufferLen = 0
			}
		}, h.prototype.filterUpgrades = function(t) {
			for (var e = [], i = 0, n = t.length; i < n; i++) ~r(this.transports, t[i]) && e.push(t[i]);
			return e
		}
	}).call(this, i(39))
}, function(t, e, i) {
	t.exports = i(1194), t.exports.parser = i(90)
}, function(t, e, i) {
	(function(t) {
		var n = i(222),
			a = i(410),
			o = Object.prototype.toString,
			r = "function" == typeof t.Blob || "[object BlobConstructor]" === o.call(t.Blob),
			s = "function" == typeof t.File || "[object FileConstructor]" === o.call(t.File);
		e.deconstructPacket = function(t) {
			var e = [],
				i = t.data,
				o = t;
			return o.data = function t(e, i) {
				if (!e) return e;
				if (a(e)) {
					var o = {
						_placeholder: !0,
						num: i.length
					};
					return i.push(e), o
				}
				if (n(e)) {
					for (var r = new Array(e.length), s = 0; s < e.length; s++) r[s] = t(e[s], i);
					return r
				}
				if ("object" == typeof e && !(e instanceof Date)) {
					var r = {};
					for (var l in e) r[l] = t(e[l], i);
					return r
				}
				return e
			}(i, e), o.attachments = e.length, {
				packet: o,
				buffers: e
			}
		}, e.reconstructPacket = function(t, e) {
			return t.data = function t(e, i) {
				if (!e) return e;
				if (e && e._placeholder) return i[e.num];
				if (n(e))
					for (var a = 0; a < e.length; a++) e[a] = t(e[a], i);
				else if ("object" == typeof e)
					for (var o in e) e[o] = t(e[o], i);
				return e
			}(t.data, e), t.attachments = void 0, t
		}, e.removeBlobs = function(t, e) {
			var i = 0,
				o = t;
			! function t(l, c, h) {
				if (!l) return l;
				if (r && l instanceof Blob || s && l instanceof File) {
					i++;
					var u = new FileReader;
					u.onload = function() {
						h ? h[c] = this.result : o = this.result, --i || e(o)
					}, u.readAsArrayBuffer(l)
				} else if (n(l))
					for (var p = 0; p < l.length; p++) t(l[p], p, l);
				else if ("object" == typeof l && !a(l))
					for (var d in l) t(l[d], d, l)
			}(o), i || e(o)
		}
	}).call(this, i(39))
}, function(t, e) {
	var i = {}.toString;
	t.exports = Array.isArray || function(t) {
		return "[object Array]" == i.call(t)
	}
}, function(t, e) {
	e.read = function(t, e, i, n, a) {
		var o, r, s = 8 * a - n - 1,
			l = (1 << s) - 1,
			c = l >> 1,
			h = -7,
			u = i ? a - 1 : 0,
			p = i ? -1 : 1,
			d = t[e + u];
		for (u += p, o = d & (1 << -h) - 1, d >>= -h, h += s; h > 0; o = 256 * o + t[e + u], u += p, h -= 8);
		for (r = o & (1 << -h) - 1, o >>= -h, h += n; h > 0; r = 256 * r + t[e + u], u += p, h -= 8);
		if (0 === o) o = 1 - c;
		else {
			if (o === l) return r ? NaN : 1 / 0 * (d ? -1 : 1);
			r += Math.pow(2, n), o -= c
		}
		return (d ? -1 : 1) * r * Math.pow(2, o - n)
	}, e.write = function(t, e, i, n, a, o) {
		var r, s, l, c = 8 * o - a - 1,
			h = (1 << c) - 1,
			u = h >> 1,
			p = 23 === a ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
			d = n ? 0 : o - 1,
			g = n ? 1 : -1,
			f = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0;
		for (e = Math.abs(e), isNaN(e) || e === 1 / 0 ? (s = isNaN(e) ? 1 : 0, r = h) : (r = Math.floor(Math.log(e) / Math.LN2), e * (l = Math.pow(2, -r)) < 1 && (r--, l *= 2), (e += r + u >= 1 ? p / l : p * Math.pow(2, 1 - u)) * l >= 2 && (r++, l /= 2), r + u >= h ? (s = 0, r = h) : r + u >= 1 ? (s = (e * l - 1) * Math.pow(2, a), r += u) : (s = e * Math.pow(2, u - 1) * Math.pow(2, a), r = 0)); a >= 8; t[i + d] = 255 & s, d += g, s /= 256, a -= 8);
		for (r = r << a | s, c += a; c > 0; t[i + d] = 255 & r, d += g, r /= 256, c -= 8);
		t[i + d - g] |= 128 * f
	}
}, function(t, e, i) {
	"use strict";
	e.byteLength = function(t) {
		var e = c(t),
			i = e[0],
			n = e[1];
		return 3 * (i + n) / 4 - n
	}, e.toByteArray = function(t) {
		for (var e, i = c(t), n = i[0], r = i[1], s = new o(function(t, e, i) {
				return 3 * (e + i) / 4 - i
			}(0, n, r)), l = 0, h = r > 0 ? n - 4 : n, u = 0; u < h; u += 4) e = a[t.charCodeAt(u)] << 18 | a[t.charCodeAt(u + 1)] << 12 | a[t.charCodeAt(u + 2)] << 6 | a[t.charCodeAt(u + 3)], s[l++] = e >> 16 & 255, s[l++] = e >> 8 & 255, s[l++] = 255 & e;
		2 === r && (e = a[t.charCodeAt(u)] << 2 | a[t.charCodeAt(u + 1)] >> 4, s[l++] = 255 & e);
		1 === r && (e = a[t.charCodeAt(u)] << 10 | a[t.charCodeAt(u + 1)] << 4 | a[t.charCodeAt(u + 2)] >> 2, s[l++] = e >> 8 & 255, s[l++] = 255 & e);
		return s
	}, e.fromByteArray = function(t) {
		for (var e, i = t.length, a = i % 3, o = [], r = 0, s = i - a; r < s; r += 16383) o.push(u(t, r, r + 16383 > s ? s : r + 16383));
		1 === a ? (e = t[i - 1], o.push(n[e >> 2] + n[e << 4 & 63] + "==")) : 2 === a && (e = (t[i - 2] << 8) + t[i - 1], o.push(n[e >> 10] + n[e >> 4 & 63] + n[e << 2 & 63] + "="));
		return o.join("")
	};
	for (var n = [], a = [], o = "undefined" != typeof Uint8Array ? Uint8Array : Array, r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", s = 0, l = r.length; s < l; ++s) n[s] = r[s], a[r.charCodeAt(s)] = s;

	function c(t) {
		var e = t.length;
		if (e % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
		var i = t.indexOf("=");
		return -1 === i && (i = e), [i, i === e ? 0 : 4 - i % 4]
	}

	function h(t) {
		return n[t >> 18 & 63] + n[t >> 12 & 63] + n[t >> 6 & 63] + n[63 & t]
	}

	function u(t, e, i) {
		for (var n, a = [], o = e; o < i; o += 3) n = (t[o] << 16 & 16711680) + (t[o + 1] << 8 & 65280) + (255 & t[o + 2]), a.push(h(n));
		return a.join("")
	}
	a["-".charCodeAt(0)] = 62, a["_".charCodeAt(0)] = 63
}, function(t, e, i) {
	"use strict";
	(function(t) {
		/*!
		 * The buffer module from node.js, for the browser.
		 *
		 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
		 * @license  MIT
		 */
		var n = i(1199),
			a = i(1198),
			o = i(1197);

		function r() {
			return l.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
		}

		function s(t, e) {
			if (r() < e) throw new RangeError("Invalid typed array length");
			return l.TYPED_ARRAY_SUPPORT ? (t = new Uint8Array(e)).__proto__ = l.prototype : (null === t && (t = new l(e)), t.length = e), t
		}

		function l(t, e, i) {
			if (!(l.TYPED_ARRAY_SUPPORT || this instanceof l)) return new l(t, e, i);
			if ("number" == typeof t) {
				if ("string" == typeof e) throw new Error("If encoding is specified then the first argument must be a string");
				return u(this, t)
			}
			return c(this, t, e, i)
		}

		function c(t, e, i, n) {
			if ("number" == typeof e) throw new TypeError('"value" argument must not be a number');
			return "undefined" != typeof ArrayBuffer && e instanceof ArrayBuffer ? function(t, e, i, n) {
				if (e.byteLength, i < 0 || e.byteLength < i) throw new RangeError("'offset' is out of bounds");
				if (e.byteLength < i + (n || 0)) throw new RangeError("'length' is out of bounds");
				e = void 0 === i && void 0 === n ? new Uint8Array(e) : void 0 === n ? new Uint8Array(e, i) : new Uint8Array(e, i, n);
				l.TYPED_ARRAY_SUPPORT ? (t = e).__proto__ = l.prototype : t = p(t, e);
				return t
			}(t, e, i, n) : "string" == typeof e ? function(t, e, i) {
				"string" == typeof i && "" !== i || (i = "utf8");
				if (!l.isEncoding(i)) throw new TypeError('"encoding" must be a valid string encoding');
				var n = 0 | g(e, i),
					a = (t = s(t, n)).write(e, i);
				a !== n && (t = t.slice(0, a));
				return t
			}(t, e, i) : function(t, e) {
				if (l.isBuffer(e)) {
					var i = 0 | d(e.length);
					return 0 === (t = s(t, i)).length ? t : (e.copy(t, 0, 0, i), t)
				}
				if (e) {
					if ("undefined" != typeof ArrayBuffer && e.buffer instanceof ArrayBuffer || "length" in e) return "number" != typeof e.length || function(t) {
						return t != t
					}(e.length) ? s(t, 0) : p(t, e);
					if ("Buffer" === e.type && o(e.data)) return p(t, e.data)
				}
				throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
			}(t, e)
		}

		function h(t) {
			if ("number" != typeof t) throw new TypeError('"size" argument must be a number');
			if (t < 0) throw new RangeError('"size" argument must not be negative')
		}

		function u(t, e) {
			if (h(e), t = s(t, e < 0 ? 0 : 0 | d(e)), !l.TYPED_ARRAY_SUPPORT)
				for (var i = 0; i < e; ++i) t[i] = 0;
			return t
		}

		function p(t, e) {
			var i = e.length < 0 ? 0 : 0 | d(e.length);
			t = s(t, i);
			for (var n = 0; n < i; n += 1) t[n] = 255 & e[n];
			return t
		}

		function d(t) {
			if (t >= r()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + r().toString(16) + " bytes");
			return 0 | t
		}

		function g(t, e) {
			if (l.isBuffer(t)) return t.length;
			if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(t) || t instanceof ArrayBuffer)) return t.byteLength;
			"string" != typeof t && (t = "" + t);
			var i = t.length;
			if (0 === i) return 0;
			for (var n = !1;;) switch (e) {
				case "ascii":
				case "latin1":
				case "binary":
					return i;
				case "utf8":
				case "utf-8":
				case void 0:
					return V(t).length;
				case "ucs2":
				case "ucs-2":
				case "utf16le":
				case "utf-16le":
					return 2 * i;
				case "hex":
					return i >>> 1;
				case "base64":
					return F(t).length;
				default:
					if (n) return V(t).length;
					e = ("" + e).toLowerCase(), n = !0
			}
		}

		function f(t, e, i) {
			var n = t[e];
			t[e] = t[i], t[i] = n
		}

		function y(t, e, i, n, a) {
			if (0 === t.length) return -1;
			if ("string" == typeof i ? (n = i, i = 0) : i > 2147483647 ? i = 2147483647 : i < -2147483648 && (i = -2147483648), i = +i, isNaN(i) && (i = a ? 0 : t.length - 1), i < 0 && (i = t.length + i), i >= t.length) {
				if (a) return -1;
				i = t.length - 1
			} else if (i < 0) {
				if (!a) return -1;
				i = 0
			}
			if ("string" == typeof e && (e = l.from(e, n)), l.isBuffer(e)) return 0 === e.length ? -1 : m(t, e, i, n, a);
			if ("number" == typeof e) return e &= 255, l.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? a ? Uint8Array.prototype.indexOf.call(t, e, i) : Uint8Array.prototype.lastIndexOf.call(t, e, i) : m(t, [e], i, n, a);
			throw new TypeError("val must be string, number or Buffer")
		}

		function m(t, e, i, n, a) {
			var o, r = 1,
				s = t.length,
				l = e.length;
			if (void 0 !== n && ("ucs2" === (n = String(n).toLowerCase()) || "ucs-2" === n || "utf16le" === n || "utf-16le" === n)) {
				if (t.length < 2 || e.length < 2) return -1;
				r = 2, s /= 2, l /= 2, i /= 2
			}

			function c(t, e) {
				return 1 === r ? t[e] : t.readUInt16BE(e * r)
			}
			if (a) {
				var h = -1;
				for (o = i; o < s; o++)
					if (c(t, o) === c(e, -1 === h ? 0 : o - h)) {
						if (-1 === h && (h = o), o - h + 1 === l) return h * r
					} else - 1 !== h && (o -= o - h), h = -1
			} else
				for (i + l > s && (i = s - l), o = i; o >= 0; o--) {
					for (var u = !0, p = 0; p < l; p++)
						if (c(t, o + p) !== c(e, p)) {
							u = !1;
							break
						} if (u) return o
				}
			return -1
		}

		function _(t, e, i, n) {
			i = Number(i) || 0;
			var a = t.length - i;
			n ? (n = Number(n)) > a && (n = a) : n = a;
			var o = e.length;
			if (o % 2 != 0) throw new TypeError("Invalid hex string");
			n > o / 2 && (n = o / 2);
			for (var r = 0; r < n; ++r) {
				var s = parseInt(e.substr(2 * r, 2), 16);
				if (isNaN(s)) return r;
				t[i + r] = s
			}
			return r
		}

		function v(t, e, i, n) {
			return j(V(e, t.length - i), t, i, n)
		}

		function E(t, e, i, n) {
			return j(function(t) {
				for (var e = [], i = 0; i < t.length; ++i) e.push(255 & t.charCodeAt(i));
				return e
			}(e), t, i, n)
		}

		function b(t, e, i, n) {
			return E(t, e, i, n)
		}

		function O(t, e, i, n) {
			return j(F(e), t, i, n)
		}

		function I(t, e, i, n) {
			return j(function(t, e) {
				for (var i, n, a, o = [], r = 0; r < t.length && !((e -= 2) < 0); ++r) i = t.charCodeAt(r), n = i >> 8, a = i % 256, o.push(a), o.push(n);
				return o
			}(e, t.length - i), t, i, n)
		}

		function T(t, e, i) {
			return 0 === e && i === t.length ? n.fromByteArray(t) : n.fromByteArray(t.slice(e, i))
		}

		function A(t, e, i) {
			i = Math.min(t.length, i);
			for (var n = [], a = e; a < i;) {
				var o, r, s, l, c = t[a],
					h = null,
					u = c > 239 ? 4 : c > 223 ? 3 : c > 191 ? 2 : 1;
				if (a + u <= i) switch (u) {
					case 1:
						c < 128 && (h = c);
						break;
					case 2:
						128 == (192 & (o = t[a + 1])) && (l = (31 & c) << 6 | 63 & o) > 127 && (h = l);
						break;
					case 3:
						o = t[a + 1], r = t[a + 2], 128 == (192 & o) && 128 == (192 & r) && (l = (15 & c) << 12 | (63 & o) << 6 | 63 & r) > 2047 && (l < 55296 || l > 57343) && (h = l);
						break;
					case 4:
						o = t[a + 1], r = t[a + 2], s = t[a + 3], 128 == (192 & o) && 128 == (192 & r) && 128 == (192 & s) && (l = (15 & c) << 18 | (63 & o) << 12 | (63 & r) << 6 | 63 & s) > 65535 && l < 1114112 && (h = l)
				}
				null === h ? (h = 65533, u = 1) : h > 65535 && (h -= 65536, n.push(h >>> 10 & 1023 | 55296), h = 56320 | 1023 & h), n.push(h), a += u
			}
			return function(t) {
				var e = t.length;
				if (e <= C) return String.fromCharCode.apply(String, t);
				var i = "",
					n = 0;
				for (; n < e;) i += String.fromCharCode.apply(String, t.slice(n, n += C));
				return i
			}(n)
		}
		e.Buffer = l, e.SlowBuffer = function(t) {
			+t != t && (t = 0);
			return l.alloc(+t)
		}, e.INSPECT_MAX_BYTES = 50, l.TYPED_ARRAY_SUPPORT = void 0 !== t.TYPED_ARRAY_SUPPORT ? t.TYPED_ARRAY_SUPPORT : function() {
			try {
				var t = new Uint8Array(1);
				return t.__proto__ = {
					__proto__: Uint8Array.prototype,
					foo: function() {
						return 42
					}
				}, 42 === t.foo() && "function" == typeof t.subarray && 0 === t.subarray(1, 1).byteLength
			} catch (t) {
				return !1
			}
		}(), e.kMaxLength = r(), l.poolSize = 8192, l._augment = function(t) {
			return t.__proto__ = l.prototype, t
		}, l.from = function(t, e, i) {
			return c(null, t, e, i)
		}, l.TYPED_ARRAY_SUPPORT && (l.prototype.__proto__ = Uint8Array.prototype, l.__proto__ = Uint8Array, "undefined" != typeof Symbol && Symbol.species && l[Symbol.species] === l && Object.defineProperty(l, Symbol.species, {
			value: null,
			configurable: !0
		})), l.alloc = function(t, e, i) {
			return function(t, e, i, n) {
				return h(e), e <= 0 ? s(t, e) : void 0 !== i ? "string" == typeof n ? s(t, e).fill(i, n) : s(t, e).fill(i) : s(t, e)
			}(null, t, e, i)
		}, l.allocUnsafe = function(t) {
			return u(null, t)
		}, l.allocUnsafeSlow = function(t) {
			return u(null, t)
		}, l.isBuffer = function(t) {
			return !(null == t || !t._isBuffer)
		}, l.compare = function(t, e) {
			if (!l.isBuffer(t) || !l.isBuffer(e)) throw new TypeError("Arguments must be Buffers");
			if (t === e) return 0;
			for (var i = t.length, n = e.length, a = 0, o = Math.min(i, n); a < o; ++a)
				if (t[a] !== e[a]) {
					i = t[a], n = e[a];
					break
				} return i < n ? -1 : n < i ? 1 : 0
		}, l.isEncoding = function(t) {
			switch (String(t).toLowerCase()) {
				case "hex":
				case "utf8":
				case "utf-8":
				case "ascii":
				case "latin1":
				case "binary":
				case "base64":
				case "ucs2":
				case "ucs-2":
				case "utf16le":
				case "utf-16le":
					return !0;
				default:
					return !1
			}
		}, l.concat = function(t, e) {
			if (!o(t)) throw new TypeError('"list" argument must be an Array of Buffers');
			if (0 === t.length) return l.alloc(0);
			var i;
			if (void 0 === e)
				for (e = 0, i = 0; i < t.length; ++i) e += t[i].length;
			var n = l.allocUnsafe(e),
				a = 0;
			for (i = 0; i < t.length; ++i) {
				var r = t[i];
				if (!l.isBuffer(r)) throw new TypeError('"list" argument must be an Array of Buffers');
				r.copy(n, a), a += r.length
			}
			return n
		}, l.byteLength = g, l.prototype._isBuffer = !0, l.prototype.swap16 = function() {
			var t = this.length;
			if (t % 2 != 0) throw new RangeError("Buffer size must be a multiple of 16-bits");
			for (var e = 0; e < t; e += 2) f(this, e, e + 1);
			return this
		}, l.prototype.swap32 = function() {
			var t = this.length;
			if (t % 4 != 0) throw new RangeError("Buffer size must be a multiple of 32-bits");
			for (var e = 0; e < t; e += 4) f(this, e, e + 3), f(this, e + 1, e + 2);
			return this
		}, l.prototype.swap64 = function() {
			var t = this.length;
			if (t % 8 != 0) throw new RangeError("Buffer size must be a multiple of 64-bits");
			for (var e = 0; e < t; e += 8) f(this, e, e + 7), f(this, e + 1, e + 6), f(this, e + 2, e + 5), f(this, e + 3, e + 4);
			return this
		}, l.prototype.toString = function() {
			var t = 0 | this.length;
			return 0 === t ? "" : 0 === arguments.length ? A(this, 0, t) : function(t, e, i) {
				var n = !1;
				if ((void 0 === e || e < 0) && (e = 0), e > this.length) return "";
				if ((void 0 === i || i > this.length) && (i = this.length), i <= 0) return "";
				if ((i >>>= 0) <= (e >>>= 0)) return "";
				for (t || (t = "utf8");;) switch (t) {
					case "hex":
						return D(this, e, i);
					case "utf8":
					case "utf-8":
						return A(this, e, i);
					case "ascii":
						return S(this, e, i);
					case "latin1":
					case "binary":
						return w(this, e, i);
					case "base64":
						return T(this, e, i);
					case "ucs2":
					case "ucs-2":
					case "utf16le":
					case "utf-16le":
						return P(this, e, i);
					default:
						if (n) throw new TypeError("Unknown encoding: " + t);
						t = (t + "").toLowerCase(), n = !0
				}
			}.apply(this, arguments)
		}, l.prototype.equals = function(t) {
			if (!l.isBuffer(t)) throw new TypeError("Argument must be a Buffer");
			return this === t || 0 === l.compare(this, t)
		}, l.prototype.inspect = function() {
			var t = "",
				i = e.INSPECT_MAX_BYTES;
			return this.length > 0 && (t = this.toString("hex", 0, i).match(/.{2}/g).join(" "), this.length > i && (t += " ... ")), "<Buffer " + t + ">"
		}, l.prototype.compare = function(t, e, i, n, a) {
			if (!l.isBuffer(t)) throw new TypeError("Argument must be a Buffer");
			if (void 0 === e && (e = 0), void 0 === i && (i = t ? t.length : 0), void 0 === n && (n = 0), void 0 === a && (a = this.length), e < 0 || i > t.length || n < 0 || a > this.length) throw new RangeError("out of range index");
			if (n >= a && e >= i) return 0;
			if (n >= a) return -1;
			if (e >= i) return 1;
			if (e >>>= 0, i >>>= 0, n >>>= 0, a >>>= 0, this === t) return 0;
			for (var o = a - n, r = i - e, s = Math.min(o, r), c = this.slice(n, a), h = t.slice(e, i), u = 0; u < s; ++u)
				if (c[u] !== h[u]) {
					o = c[u], r = h[u];
					break
				} return o < r ? -1 : r < o ? 1 : 0
		}, l.prototype.includes = function(t, e, i) {
			return -1 !== this.indexOf(t, e, i)
		}, l.prototype.indexOf = function(t, e, i) {
			return y(this, t, e, i, !0)
		}, l.prototype.lastIndexOf = function(t, e, i) {
			return y(this, t, e, i, !1)
		}, l.prototype.write = function(t, e, i, n) {
			if (void 0 === e) n = "utf8", i = this.length, e = 0;
			else if (void 0 === i && "string" == typeof e) n = e, i = this.length, e = 0;
			else {
				if (!isFinite(e)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
				e |= 0, isFinite(i) ? (i |= 0, void 0 === n && (n = "utf8")) : (n = i, i = void 0)
			}
			var a = this.length - e;
			if ((void 0 === i || i > a) && (i = a), t.length > 0 && (i < 0 || e < 0) || e > this.length) throw new RangeError("Attempt to write outside buffer bounds");
			n || (n = "utf8");
			for (var o = !1;;) switch (n) {
				case "hex":
					return _(this, t, e, i);
				case "utf8":
				case "utf-8":
					return v(this, t, e, i);
				case "ascii":
					return E(this, t, e, i);
				case "latin1":
				case "binary":
					return b(this, t, e, i);
				case "base64":
					return O(this, t, e, i);
				case "ucs2":
				case "ucs-2":
				case "utf16le":
				case "utf-16le":
					return I(this, t, e, i);
				default:
					if (o) throw new TypeError("Unknown encoding: " + n);
					n = ("" + n).toLowerCase(), o = !0
			}
		}, l.prototype.toJSON = function() {
			return {
				type: "Buffer",
				data: Array.prototype.slice.call(this._arr || this, 0)
			}
		};
		var C = 4096;

		function S(t, e, i) {
			var n = "";
			i = Math.min(t.length, i);
			for (var a = e; a < i; ++a) n += String.fromCharCode(127 & t[a]);
			return n
		}

		function w(t, e, i) {
			var n = "";
			i = Math.min(t.length, i);
			for (var a = e; a < i; ++a) n += String.fromCharCode(t[a]);
			return n
		}

		function D(t, e, i) {
			var n = t.length;
			(!e || e < 0) && (e = 0), (!i || i < 0 || i > n) && (i = n);
			for (var a = "", o = e; o < i; ++o) a += G(t[o]);
			return a
		}

		function P(t, e, i) {
			for (var n = t.slice(e, i), a = "", o = 0; o < n.length; o += 2) a += String.fromCharCode(n[o] + 256 * n[o + 1]);
			return a
		}

		function L(t, e, i) {
			if (t % 1 != 0 || t < 0) throw new RangeError("offset is not uint");
			if (t + e > i) throw new RangeError("Trying to access beyond buffer length")
		}

		function x(t, e, i, n, a, o) {
			if (!l.isBuffer(t)) throw new TypeError('"buffer" argument must be a Buffer instance');
			if (e > a || e < o) throw new RangeError('"value" argument is out of bounds');
			if (i + n > t.length) throw new RangeError("Index out of range")
		}

		function M(t, e, i, n) {
			e < 0 && (e = 65535 + e + 1);
			for (var a = 0, o = Math.min(t.length - i, 2); a < o; ++a) t[i + a] = (e & 255 << 8 * (n ? a : 1 - a)) >>> 8 * (n ? a : 1 - a)
		}

		function U(t, e, i, n) {
			e < 0 && (e = 4294967295 + e + 1);
			for (var a = 0, o = Math.min(t.length - i, 4); a < o; ++a) t[i + a] = e >>> 8 * (n ? a : 3 - a) & 255
		}

		function N(t, e, i, n, a, o) {
			if (i + n > t.length) throw new RangeError("Index out of range");
			if (i < 0) throw new RangeError("Index out of range")
		}

		function R(t, e, i, n, o) {
			return o || N(t, 0, i, 4), a.write(t, e, i, n, 23, 4), i + 4
		}

		function k(t, e, i, n, o) {
			return o || N(t, 0, i, 8), a.write(t, e, i, n, 52, 8), i + 8
		}
		l.prototype.slice = function(t, e) {
			var i, n = this.length;
			if (t = ~~t, e = void 0 === e ? n : ~~e, t < 0 ? (t += n) < 0 && (t = 0) : t > n && (t = n), e < 0 ? (e += n) < 0 && (e = 0) : e > n && (e = n), e < t && (e = t), l.TYPED_ARRAY_SUPPORT)(i = this.subarray(t, e)).__proto__ = l.prototype;
			else {
				var a = e - t;
				i = new l(a, void 0);
				for (var o = 0; o < a; ++o) i[o] = this[o + t]
			}
			return i
		}, l.prototype.readUIntLE = function(t, e, i) {
			t |= 0, e |= 0, i || L(t, e, this.length);
			for (var n = this[t], a = 1, o = 0; ++o < e && (a *= 256);) n += this[t + o] * a;
			return n
		}, l.prototype.readUIntBE = function(t, e, i) {
			t |= 0, e |= 0, i || L(t, e, this.length);
			for (var n = this[t + --e], a = 1; e > 0 && (a *= 256);) n += this[t + --e] * a;
			return n
		}, l.prototype.readUInt8 = function(t, e) {
			return e || L(t, 1, this.length), this[t]
		}, l.prototype.readUInt16LE = function(t, e) {
			return e || L(t, 2, this.length), this[t] | this[t + 1] << 8
		}, l.prototype.readUInt16BE = function(t, e) {
			return e || L(t, 2, this.length), this[t] << 8 | this[t + 1]
		}, l.prototype.readUInt32LE = function(t, e) {
			return e || L(t, 4, this.length), (this[t] | this[t + 1] << 8 | this[t + 2] << 16) + 16777216 * this[t + 3]
		}, l.prototype.readUInt32BE = function(t, e) {
			return e || L(t, 4, this.length), 16777216 * this[t] + (this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3])
		}, l.prototype.readIntLE = function(t, e, i) {
			t |= 0, e |= 0, i || L(t, e, this.length);
			for (var n = this[t], a = 1, o = 0; ++o < e && (a *= 256);) n += this[t + o] * a;
			return n >= (a *= 128) && (n -= Math.pow(2, 8 * e)), n
		}, l.prototype.readIntBE = function(t, e, i) {
			t |= 0, e |= 0, i || L(t, e, this.length);
			for (var n = e, a = 1, o = this[t + --n]; n > 0 && (a *= 256);) o += this[t + --n] * a;
			return o >= (a *= 128) && (o -= Math.pow(2, 8 * e)), o
		}, l.prototype.readInt8 = function(t, e) {
			return e || L(t, 1, this.length), 128 & this[t] ? -1 * (255 - this[t] + 1) : this[t]
		}, l.prototype.readInt16LE = function(t, e) {
			e || L(t, 2, this.length);
			var i = this[t] | this[t + 1] << 8;
			return 32768 & i ? 4294901760 | i : i
		}, l.prototype.readInt16BE = function(t, e) {
			e || L(t, 2, this.length);
			var i = this[t + 1] | this[t] << 8;
			return 32768 & i ? 4294901760 | i : i
		}, l.prototype.readInt32LE = function(t, e) {
			return e || L(t, 4, this.length), this[t] | this[t + 1] << 8 | this[t + 2] << 16 | this[t + 3] << 24
		}, l.prototype.readInt32BE = function(t, e) {
			return e || L(t, 4, this.length), this[t] << 24 | this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3]
		}, l.prototype.readFloatLE = function(t, e) {
			return e || L(t, 4, this.length), a.read(this, t, !0, 23, 4)
		}, l.prototype.readFloatBE = function(t, e) {
			return e || L(t, 4, this.length), a.read(this, t, !1, 23, 4)
		}, l.prototype.readDoubleLE = function(t, e) {
			return e || L(t, 8, this.length), a.read(this, t, !0, 52, 8)
		}, l.prototype.readDoubleBE = function(t, e) {
			return e || L(t, 8, this.length), a.read(this, t, !1, 52, 8)
		}, l.prototype.writeUIntLE = function(t, e, i, n) {
			(t = +t, e |= 0, i |= 0, n) || x(this, t, e, i, Math.pow(2, 8 * i) - 1, 0);
			var a = 1,
				o = 0;
			for (this[e] = 255 & t; ++o < i && (a *= 256);) this[e + o] = t / a & 255;
			return e + i
		}, l.prototype.writeUIntBE = function(t, e, i, n) {
			(t = +t, e |= 0, i |= 0, n) || x(this, t, e, i, Math.pow(2, 8 * i) - 1, 0);
			var a = i - 1,
				o = 1;
			for (this[e + a] = 255 & t; --a >= 0 && (o *= 256);) this[e + a] = t / o & 255;
			return e + i
		}, l.prototype.writeUInt8 = function(t, e, i) {
			return t = +t, e |= 0, i || x(this, t, e, 1, 255, 0), l.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)), this[e] = 255 & t, e + 1
		}, l.prototype.writeUInt16LE = function(t, e, i) {
			return t = +t, e |= 0, i || x(this, t, e, 2, 65535, 0), l.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t, this[e + 1] = t >>> 8) : M(this, t, e, !0), e + 2
		}, l.prototype.writeUInt16BE = function(t, e, i) {
			return t = +t, e |= 0, i || x(this, t, e, 2, 65535, 0), l.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 8, this[e + 1] = 255 & t) : M(this, t, e, !1), e + 2
		}, l.prototype.writeUInt32LE = function(t, e, i) {
			return t = +t, e |= 0, i || x(this, t, e, 4, 4294967295, 0), l.TYPED_ARRAY_SUPPORT ? (this[e + 3] = t >>> 24, this[e + 2] = t >>> 16, this[e + 1] = t >>> 8, this[e] = 255 & t) : U(this, t, e, !0), e + 4
		}, l.prototype.writeUInt32BE = function(t, e, i) {
			return t = +t, e |= 0, i || x(this, t, e, 4, 4294967295, 0), l.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 24, this[e + 1] = t >>> 16, this[e + 2] = t >>> 8, this[e + 3] = 255 & t) : U(this, t, e, !1), e + 4
		}, l.prototype.writeIntLE = function(t, e, i, n) {
			if (t = +t, e |= 0, !n) {
				var a = Math.pow(2, 8 * i - 1);
				x(this, t, e, i, a - 1, -a)
			}
			var o = 0,
				r = 1,
				s = 0;
			for (this[e] = 255 & t; ++o < i && (r *= 256);) t < 0 && 0 === s && 0 !== this[e + o - 1] && (s = 1), this[e + o] = (t / r >> 0) - s & 255;
			return e + i
		}, l.prototype.writeIntBE = function(t, e, i, n) {
			if (t = +t, e |= 0, !n) {
				var a = Math.pow(2, 8 * i - 1);
				x(this, t, e, i, a - 1, -a)
			}
			var o = i - 1,
				r = 1,
				s = 0;
			for (this[e + o] = 255 & t; --o >= 0 && (r *= 256);) t < 0 && 0 === s && 0 !== this[e + o + 1] && (s = 1), this[e + o] = (t / r >> 0) - s & 255;
			return e + i
		}, l.prototype.writeInt8 = function(t, e, i) {
			return t = +t, e |= 0, i || x(this, t, e, 1, 127, -128), l.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)), t < 0 && (t = 255 + t + 1), this[e] = 255 & t, e + 1
		}, l.prototype.writeInt16LE = function(t, e, i) {
			return t = +t, e |= 0, i || x(this, t, e, 2, 32767, -32768), l.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t, this[e + 1] = t >>> 8) : M(this, t, e, !0), e + 2
		}, l.prototype.writeInt16BE = function(t, e, i) {
			return t = +t, e |= 0, i || x(this, t, e, 2, 32767, -32768), l.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 8, this[e + 1] = 255 & t) : M(this, t, e, !1), e + 2
		}, l.prototype.writeInt32LE = function(t, e, i) {
			return t = +t, e |= 0, i || x(this, t, e, 4, 2147483647, -2147483648), l.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t, this[e + 1] = t >>> 8, this[e + 2] = t >>> 16, this[e + 3] = t >>> 24) : U(this, t, e, !0), e + 4
		}, l.prototype.writeInt32BE = function(t, e, i) {
			return t = +t, e |= 0, i || x(this, t, e, 4, 2147483647, -2147483648), t < 0 && (t = 4294967295 + t + 1), l.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 24, this[e + 1] = t >>> 16, this[e + 2] = t >>> 8, this[e + 3] = 255 & t) : U(this, t, e, !1), e + 4
		}, l.prototype.writeFloatLE = function(t, e, i) {
			return R(this, t, e, !0, i)
		}, l.prototype.writeFloatBE = function(t, e, i) {
			return R(this, t, e, !1, i)
		}, l.prototype.writeDoubleLE = function(t, e, i) {
			return k(this, t, e, !0, i)
		}, l.prototype.writeDoubleBE = function(t, e, i) {
			return k(this, t, e, !1, i)
		}, l.prototype.copy = function(t, e, i, n) {
			if (i || (i = 0), n || 0 === n || (n = this.length), e >= t.length && (e = t.length), e || (e = 0), n > 0 && n < i && (n = i), n === i) return 0;
			if (0 === t.length || 0 === this.length) return 0;
			if (e < 0) throw new RangeError("targetStart out of bounds");
			if (i < 0 || i >= this.length) throw new RangeError("sourceStart out of bounds");
			if (n < 0) throw new RangeError("sourceEnd out of bounds");
			n > this.length && (n = this.length), t.length - e < n - i && (n = t.length - e + i);
			var a, o = n - i;
			if (this === t && i < e && e < n)
				for (a = o - 1; a >= 0; --a) t[a + e] = this[a + i];
			else if (o < 1e3 || !l.TYPED_ARRAY_SUPPORT)
				for (a = 0; a < o; ++a) t[a + e] = this[a + i];
			else Uint8Array.prototype.set.call(t, this.subarray(i, i + o), e);
			return o
		}, l.prototype.fill = function(t, e, i, n) {
			if ("string" == typeof t) {
				if ("string" == typeof e ? (n = e, e = 0, i = this.length) : "string" == typeof i && (n = i, i = this.length), 1 === t.length) {
					var a = t.charCodeAt(0);
					a < 256 && (t = a)
				}
				if (void 0 !== n && "string" != typeof n) throw new TypeError("encoding must be a string");
				if ("string" == typeof n && !l.isEncoding(n)) throw new TypeError("Unknown encoding: " + n)
			} else "number" == typeof t && (t &= 255);
			if (e < 0 || this.length < e || this.length < i) throw new RangeError("Out of range index");
			if (i <= e) return this;
			var o;
			if (e >>>= 0, i = void 0 === i ? this.length : i >>> 0, t || (t = 0), "number" == typeof t)
				for (o = e; o < i; ++o) this[o] = t;
			else {
				var r = l.isBuffer(t) ? t : V(new l(t, n).toString()),
					s = r.length;
				for (o = 0; o < i - e; ++o) this[o + e] = r[o % s]
			}
			return this
		};
		var B = /[^+\/0-9A-Za-z-_]/g;

		function G(t) {
			return t < 16 ? "0" + t.toString(16) : t.toString(16)
		}

		function V(t, e) {
			var i;
			e = e || 1 / 0;
			for (var n = t.length, a = null, o = [], r = 0; r < n; ++r) {
				if ((i = t.charCodeAt(r)) > 55295 && i < 57344) {
					if (!a) {
						if (i > 56319) {
							(e -= 3) > -1 && o.push(239, 191, 189);
							continue
						}
						if (r + 1 === n) {
							(e -= 3) > -1 && o.push(239, 191, 189);
							continue
						}
						a = i;
						continue
					}
					if (i < 56320) {
						(e -= 3) > -1 && o.push(239, 191, 189), a = i;
						continue
					}
					i = 65536 + (a - 55296 << 10 | i - 56320)
				} else a && (e -= 3) > -1 && o.push(239, 191, 189);
				if (a = null, i < 128) {
					if ((e -= 1) < 0) break;
					o.push(i)
				} else if (i < 2048) {
					if ((e -= 2) < 0) break;
					o.push(i >> 6 | 192, 63 & i | 128)
				} else if (i < 65536) {
					if ((e -= 3) < 0) break;
					o.push(i >> 12 | 224, i >> 6 & 63 | 128, 63 & i | 128)
				} else {
					if (!(i < 1114112)) throw new Error("Invalid code point");
					if ((e -= 4) < 0) break;
					o.push(i >> 18 | 240, i >> 12 & 63 | 128, i >> 6 & 63 | 128, 63 & i | 128)
				}
			}
			return o
		}

		function F(t) {
			return n.toByteArray(function(t) {
				if ((t = function(t) {
						return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "")
					}(t).replace(B, "")).length < 2) return "";
				for (; t.length % 4 != 0;) t += "=";
				return t
			}(t))
		}

		function j(t, e, i, n) {
			for (var a = 0; a < n && !(a + i >= e.length || a >= t.length); ++a) e[a + i] = t[a];
			return a
		}
	}).call(this, i(39))
}, function(t, e, i) {
	function n(t) {
		var i;

		function n() {
			if (n.enabled) {
				var t = n,
					a = +new Date,
					o = a - (i || a);
				t.diff = o, t.prev = i, t.curr = a, i = a;
				for (var r = new Array(arguments.length), s = 0; s < r.length; s++) r[s] = arguments[s];
				r[0] = e.coerce(r[0]), "string" != typeof r[0] && r.unshift("%O");
				var l = 0;
				r[0] = r[0].replace(/%([a-zA-Z%])/g, function(i, n) {
					if ("%%" === i) return i;
					l++;
					var a = e.formatters[n];
					if ("function" == typeof a) {
						var o = r[l];
						i = a.call(t, o), r.splice(l, 1), l--
					}
					return i
				}), e.formatArgs.call(t, r), (n.log || e.log || console.log.bind(console)).apply(t, r)
			}
		}
		return n.namespace = t, n.enabled = e.enabled(t), n.useColors = e.useColors(), n.color = function(t) {
			var i, n = 0;
			for (i in t) n = (n << 5) - n + t.charCodeAt(i), n |= 0;
			return e.colors[Math.abs(n) % e.colors.length]
		}(t), n.destroy = a, "function" == typeof e.init && e.init(n), e.instances.push(n), n
	}

	function a() {
		var t = e.instances.indexOf(this);
		return -1 !== t && (e.instances.splice(t, 1), !0)
	}(e = t.exports = n.debug = n.default = n).coerce = function(t) {
		return t instanceof Error ? t.stack || t.message : t
	}, e.disable = function() {
		e.enable("")
	}, e.enable = function(t) {
		var i;
		e.save(t), e.names = [], e.skips = [];
		var n = ("string" == typeof t ? t : "").split(/[\s,]+/),
			a = n.length;
		for (i = 0; i < a; i++) n[i] && ("-" === (t = n[i].replace(/\*/g, ".*?"))[0] ? e.skips.push(new RegExp("^" + t.substr(1) + "$")) : e.names.push(new RegExp("^" + t + "$")));
		for (i = 0; i < e.instances.length; i++) {
			var o = e.instances[i];
			o.enabled = e.enabled(o.namespace)
		}
	}, e.enabled = function(t) {
		if ("*" === t[t.length - 1]) return !0;
		var i, n;
		for (i = 0, n = e.skips.length; i < n; i++)
			if (e.skips[i].test(t)) return !1;
		for (i = 0, n = e.names.length; i < n; i++)
			if (e.names[i].test(t)) return !0;
		return !1
	}, e.humanize = i(224), e.instances = [], e.names = [], e.skips = [], e.formatters = {}
}, function(t, e, i) {
	(function(n) {
		function a() {
			var t;
			try {
				t = e.storage.debug
			} catch (t) {}
			return !t && void 0 !== n && "env" in n && (t = n.env.DEBUG), t
		}(e = t.exports = i(1201)).log = function() {
			return "object" == typeof console && console.log && Function.prototype.apply.call(console.log, console, arguments)
		}, e.formatArgs = function(t) {
			var i = this.useColors;
			if (t[0] = (i ? "%c" : "") + this.namespace + (i ? " %c" : " ") + t[0] + (i ? "%c " : " ") + "+" + e.humanize(this.diff), !i) return;
			var n = "color: " + this.color;
			t.splice(1, 0, n, "color: inherit");
			var a = 0,
				o = 0;
			t[0].replace(/%[a-zA-Z%]/g, function(t) {
				"%%" !== t && "%c" === t && (o = ++a)
			}), t.splice(o, 0, n)
		}, e.save = function(t) {
			try {
				null == t ? e.storage.removeItem("debug") : e.storage.debug = t
			} catch (t) {}
		}, e.load = a, e.useColors = function() {
			if ("undefined" != typeof window && window.process && "renderer" === window.process.type) return !0;
			if ("undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) return !1;
			return "undefined" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || "undefined" != typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)
		}, e.storage = "undefined" != typeof chrome && void 0 !== chrome.storage ? chrome.storage.local : function() {
			try {
				return window.localStorage
			} catch (t) {}
		}(), e.colors = ["#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33"], e.formatters.j = function(t) {
			try {
				return JSON.stringify(t)
			} catch (t) {
				return "[UnexpectedJSONParseError]: " + t.message
			}
		}, e.enable(a())
	}).call(this, i(225))
}, function(t, e, i) {
	var n;

	function a(t) {
		function i() {
			if (i.enabled) {
				var t = i,
					a = +new Date,
					o = a - (n || a);
				t.diff = o, t.prev = n, t.curr = a, n = a;
				for (var r = new Array(arguments.length), s = 0; s < r.length; s++) r[s] = arguments[s];
				r[0] = e.coerce(r[0]), "string" != typeof r[0] && r.unshift("%O");
				var l = 0;
				r[0] = r[0].replace(/%([a-zA-Z%])/g, function(i, n) {
					if ("%%" === i) return i;
					l++;
					var a = e.formatters[n];
					if ("function" == typeof a) {
						var o = r[l];
						i = a.call(t, o), r.splice(l, 1), l--
					}
					return i
				}), e.formatArgs.call(t, r), (i.log || e.log || console.log.bind(console)).apply(t, r)
			}
		}
		return i.namespace = t, i.enabled = e.enabled(t), i.useColors = e.useColors(), i.color = function(t) {
			var i, n = 0;
			for (i in t) n = (n << 5) - n + t.charCodeAt(i), n |= 0;
			return e.colors[Math.abs(n) % e.colors.length]
		}(t), "function" == typeof e.init && e.init(i), i
	}(e = t.exports = a.debug = a.default = a).coerce = function(t) {
		return t instanceof Error ? t.stack || t.message : t
	}, e.disable = function() {
		e.enable("")
	}, e.enable = function(t) {
		e.save(t), e.names = [], e.skips = [];
		for (var i = ("string" == typeof t ? t : "").split(/[\s,]+/), n = i.length, a = 0; a < n; a++) i[a] && ("-" === (t = i[a].replace(/\*/g, ".*?"))[0] ? e.skips.push(new RegExp("^" + t.substr(1) + "$")) : e.names.push(new RegExp("^" + t + "$")))
	}, e.enabled = function(t) {
		var i, n;
		for (i = 0, n = e.skips.length; i < n; i++)
			if (e.skips[i].test(t)) return !1;
		for (i = 0, n = e.names.length; i < n; i++)
			if (e.names[i].test(t)) return !0;
		return !1
	}, e.humanize = i(224), e.names = [], e.skips = [], e.formatters = {}
}, function(t, e, i) {
	(function(e) {
		var n = i(412),
			a = i(145)("socket.io-client:url");
		t.exports = function(t, i) {
			var o = t;
			i = i || e.location, null == t && (t = i.protocol + "//" + i.host);
			"string" == typeof t && ("/" === t.charAt(0) && (t = "/" === t.charAt(1) ? i.protocol + t : i.host + t), /^(https?|wss?):\/\//.test(t) || (a("protocol-less url %s", t), t = void 0 !== i ? i.protocol + "//" + t : "https://" + t), a("parse %s", t), o = n(t));
			o.port || (/^(http|ws)$/.test(o.protocol) ? o.port = "80" : /^(http|ws)s$/.test(o.protocol) && (o.port = "443"));
			o.path = o.path || "/";
			var r = -1 !== o.host.indexOf(":") ? "[" + o.host + "]" : o.host;
			return o.id = o.protocol + "://" + r + ":" + o.port, o.href = o.protocol + "://" + r + (i && i.port === o.port ? "" : ":" + o.port), o
		}
	}).call(this, i(39))
}, function(t, e, i) {
	var n = i(1204),
		a = i(223),
		o = i(409),
		r = i(145)("socket.io-client");
	t.exports = e = l;
	var s = e.managers = {};

	function l(t, e) {
		"object" == typeof t && (e = t, t = void 0), e = e || {};
		var i, a = n(t),
			l = a.source,
			c = a.id,
			h = a.path,
			u = s[c] && h in s[c].nsps;
		return e.forceNew || e["force new connection"] || !1 === e.multiplex || u ? (r("ignoring socket cache for %s", l), i = o(l, e)) : (s[c] || (r("new io instance for %s", l), s[c] = o(l, e)), i = s[c]), a.query && !e.query && (e.query = a.query), i.socket(a.path, e)
	}
	e.protocol = a.protocol, e.connect = l, e.Manager = i(409), e.Socket = i(404)
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
		var a, o = arguments.length,
			r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
		else
			for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
		return o > 3 && r && Object.defineProperty(e, i, r), r
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(9),
		o = i(67),
		r = i(1205),
		s = i(75),
		l = function() {
			function t() {}
			return t.prototype.connect = function(t, e, i) {
				void 0 === e && (e = null), void 0 === i && (i = {});
				var n = t;
				null !== e && (n = n + ":" + e), this.socket = r(n, o.merge({
					forceNew: !0,
					transports: ["websocket", "xhr-polling", "jsonp-polling", "htmlfile"]
				}, i))
			}, t.prototype.disconnect = function() {
				s.Utils.isDefined(this.socket) && (this.socket.disconnect(), this.socket = null)
			}, t.prototype.addListener = function(t, e) {
				this.socket.on(t, e)
			}, t.prototype.removeListener = function(t, e) {
				this.socket.off(t, e)
			}, t.prototype.emitEvent = function(t, e) {
				this.socket.emit(t, e)
			}, t = n([a.injectable()], t)
		}();
	e.SocketIOWebSocket = l
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1206);
	e.SocketIOWebSocket = n.SocketIOWebSocket
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(9),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.execute = function(t, e, i) {
				void 0 === i && (i = null), this.createStateMachine(t, e, i).execute(!0)
			}, e = a([o.injectable()], e)
		}(i(414).FSMController);
	e.LogFSMController = r
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
		var a, o = arguments.length,
			r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
		else
			for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
		return o > 3 && r && Object.defineProperty(e, i, r), r
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(9),
		o = i(115),
		r = i(92),
		s = i(147),
		l = function() {
			function t() {
				this.fsmFactories = null, this.data = null, this.variables = null, this.actions = [], this.actionsCompleted = 0, this.onComplete = new s.Signal
			}
			return Object.defineProperty(t.prototype, "OnComplete", {
				get: function() {
					return this.onComplete
				},
				enumerable: !0,
				configurable: !0
			}), t.prototype.init = function(t, e, i) {
				this.fsmFactories = t, this.data = e, this.variables = i
			}, t.prototype.execute = function(t) {
				if (void 0 === t && (t = !1), t && o.Logger.log("Executing STATE " + this.data.Name, r.LogLevel.Verbose), this.data.Actions.length > 0) {
					for (var e = 0; e < this.data.Actions.length; e++) {
						var i = this.data.Actions[e],
							n = this.fsmFactories.createAction(i, this.variables);
						n ? (n.setEnableLog(t), n.OnComplete.addOnce(this.onActionComplete, this), n.validate() && this.actions.push(n)) : o.Logger.log("Action of type " + i.Type + " could not be created.", r.LogLevel.Error)
					}
					if (0 === this.actions.length) this.OnComplete.dispatch();
					else
						for (e = 0; e < this.actions.length; e++) this.actions[e].execute()
				} else this.OnComplete.dispatch()
			}, t.prototype.onActionComplete = function() {
				this.actionsCompleted++, this.actions.length === this.actionsCompleted && (this.actions = [], this.actionsCompleted = 0, this.OnComplete.dispatch())
			}, t = n([a.injectable()], t)
		}();
	e.State = l
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
		var a, o = arguments.length,
			r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
		else
			for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
		return o > 3 && r && Object.defineProperty(e, i, r), r
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a, o = i(9),
		r = i(227);
	! function(t) {
		t.Equals = "equals", t.NotEquals = "notEquals", t.GreaterThan = "greaterThan", t.LessThan = "lessThan"
	}(a || (a = {}));
	var s = function() {
		function t() {
			this.data = null, this.variables = null
		}
		return t.prototype.init = function(t, e) {
			this.data = t, this.variables = e
		}, t.prototype.test = function() {
			var t = r.StateMachine.parseVariable(this.data.Test, this.variables),
				e = r.StateMachine.parseVariable(this.data.Value, this.variables);
			switch (this.data.Type) {
				case a.Equals:
					return t === e;
				case a.NotEquals:
					return t !== e;
				case a.GreaterThan:
					return t < e;
				case a.LessThan:
					return t > e;
				default:
					return !1
			}
		}, t = n([o.injectable()], t)
	}();
	e.Condition = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
		var a, o = arguments.length,
			r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
		else
			for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
		return o > 3 && r && Object.defineProperty(e, i, r), r
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(9),
		o = function() {
			function t() {}
			return t.prototype.init = function(t) {
				this.container = t
			}, t.prototype.create = function(t) {
				for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
				return this.container.get(t + ".Factory").apply(null, e)
			}, t.prototype.add = function(t, e) {
				this.container.bind(t + ".Factory").toFactory(e)
			}, t = n([a.injectable()], t)
		}();
	e.Factories = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(38),
		r = i(42),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["target", "event"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("target");
				if (e && e.hasOwnProperty("events")) {
					var i = e.events[this.findParameter("event")];
					if (i) return void i.addOnce(this.finish, this)
				}
				this.finish()
			}, e = a([r.actionable("WaitForEvent")], e)
		}(o.Action);
	e.WaitForEventAction = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(115),
		r = i(92),
		s = i(38),
		l = i(42),
		c = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "time"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game"),
					i = this.findParameter("time");
				e.time.events.add(1e3 * i, this.finish, this)
			}, e.prototype.logAction = function() {
				t.prototype.logAction.call(this), o.Logger.log("Wait for " + this.findParameter("time"), r.LogLevel.Verbose)
			}, e = a([l.actionable("Wait")], e)
		}(s.Action);
	e.WaitAction = c
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(38),
		r = i(42),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "target", "to"], {
					loop: !1,
					wait: !1
				})
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("target");
				if (e) {
					for (var i = this.findParameter("game"), n = this.findParameter("to"), a = this.findParameter("loop"), o = this.findParameter("wait"), r = i.add.tween(e), s = 0; s < n.length; s++) {
						var l = n[s];
						r.to(l.properties, 1e3 * l.duration, l.ease, !1, l.delay, l.repeat, l.yoyo)
					}
					a && r.loop(), o ? (r.onComplete.add(this.finish.bind(this)), r.start()) : (r.start(), this.finish())
				} else this.finish()
			}, e = a([r.actionable("Tween")], e)
		}(o.Action);
	e.TweenAction = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(38),
		r = i(42),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["target", "visible"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("target"),
					i = this.findParameter("visible");
				e && e.hasOwnProperty("visible") && (e.visible = i), this.finish()
			}, e = a([r.actionable("SetVisible")], e)
		}(o.Action);
	e.SetVisibleAction = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(38),
		r = i(42),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				var e = [];
				for (var i in this.data.Parameters) e.push(i);
				return t.prototype.validate.call(this) && this.validateParameters(e)
			}, e.prototype.execute = function() {
				for (var e in t.prototype.execute.call(this), this.Parameters) this.Variables[e] = this.findParameter(e);
				this.finish()
			}, e = a([r.actionable("SetVariables")], e)
		}(o.Action);
	e.SetVariablesAction = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(38),
		r = i(42),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["name", "value"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("name");
				this.Variables[e] = this.findParameter("value"), this.finish()
			}, e = a([r.actionable("SetVariable")], e)
		}(o.Action);
	e.SetVariableAction = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(38),
		r = i(42),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["target", "alpha"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("target"),
					i = this.findParameter("alpha");
				e && e.hasOwnProperty("alpha") && (e.alpha = i), this.finish()
			}, e = a([r.actionable("SetAlpha")], e)
		}(o.Action);
	e.SetAlphaAction = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(38),
		r = i(42),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["controller", "service", "ID"], {
					variables: {},
					wait: !0
				})
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("controller"),
					i = this.findParameter("service"),
					n = this.findParameter("ID"),
					a = this.findParameter("variables");
				this.findParameter("wait") ? e.execute(i.getStateMachine(n), a, this.finish.bind(this)) : (e.execute(i.getStateMachine(n), a), this.finish())
			}, e = a([r.actionable("ExecuteStateMachine")], e)
		}(o.Action);
	e.ExecuteStateMachineAction = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(38),
		r = i(42),
		s = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e.functionResults = null, e
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["context", "function"], {
					arguments: [],
					wait: !1
				})
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("context");
				if (e) {
					var i = this.findParameter("function"),
						n = this.findParameter("arguments");
					this.findParameter("wait") ? (n.push(this.handleCallback.bind(this)), this.functionResults = e[i].apply(e, n)) : (this.functionResults = e[i].apply(e, n), this.finish({
						functionResult: this.functionResults
					}))
				}
			}, e.prototype.handleCallback = function() {
				this.finish({
					functionResult: this.functionResults
				})
			}, e = a([r.actionable("ExecuteFunction")], e)
		}(o.Action);
	e.ExecuteFunctionAction = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(38),
		r = i(42),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["enable", "game"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game"),
					i = this.findParameter("enable");
				if (e.input.enabled = i, !i)
					for (var n = 0; n < e.input.pointers.length; n++) e.input.pointers[n].active = !1;
				this.finish()
			}, e = a([r.actionable("EnableInput")], e)
		}(o.Action);
	e.EnableInputAction = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(38),
		r = i(42),
		s = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["name", "value"])
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("name"),
					i = this.findParameter("value");
				this.Variables.hasOwnProperty(e) ? this.Variables[e] += i : this.Variables[e] = i, this.finish()
			}, e = a([r.actionable("AddVariable")], e)
		}(o.Action);
	e.AddVariableAction = s
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.state = null, e.conditions = [], e
		}
		return n(e, t), Object.defineProperty(e.prototype, "State", {
			get: function() {
				return this.state
			},
			set: function(t) {
				this.state = t
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(e.prototype, "Conditions", {
			get: function() {
				return this.conditions
			},
			set: function(t) {
				this.conditions = t
			},
			enumerable: !0,
			configurable: !0
		}), e
	}(i(114).BaseData);
	e.TransitionData = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.version = null, e
		}
		return n(e, t), Object.defineProperty(e.prototype, "Version", {
			get: function() {
				return this.version
			},
			set: function(t) {
				this.version = t
			},
			enumerable: !0,
			configurable: !0
		}), e
	}(i(114).BaseData);
	e.VersionedData = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.name = null, e.actions = [], e.transitions = [], e
		}
		return n(e, t), Object.defineProperty(e.prototype, "Name", {
			get: function() {
				return this.name
			},
			set: function(t) {
				this.name = t
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(e.prototype, "Actions", {
			get: function() {
				return this.actions
			},
			set: function(t) {
				this.actions = t
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(e.prototype, "Transitions", {
			get: function() {
				return this.transitions
			},
			set: function(t) {
				this.transitions = t
			},
			enumerable: !0,
			configurable: !0
		}), e
	}(i(114).BaseData);
	e.StateData = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.type = null, e.value = {}, e.test = {}, e
		}
		return n(e, t), Object.defineProperty(e.prototype, "Type", {
			get: function() {
				return this.type
			},
			set: function(t) {
				this.type = t
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(e.prototype, "Value", {
			get: function() {
				return this.value
			},
			set: function(t) {
				this.value = t
			},
			enumerable: !0,
			configurable: !0
		}), Object.defineProperty(e.prototype, "Test", {
			get: function() {
				return this.test
			},
			set: function(t) {
				this.test = t
			},
			enumerable: !0,
			configurable: !0
		}), e
	}(i(114).BaseData);
	e.ConditionData = a
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
		var a, o = arguments.length,
			r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
		else
			for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
		return o > 3 && r && Object.defineProperty(e, i, r), r
	};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(9),
		o = function() {
			function t() {}
			return e = t, t.prototype.deserializeCollection = function(t) {
				return e.deserializeCollection(t, this.deserialize)
			}, t.prototype.serializeCollection = function(t) {
				return e.serializeCollection(t, this.serialize)
			}, t.deserializeCollection = function(t, e) {
				for (var i = [], n = 0; n < t.length; n++) i.push(e(t[n]));
				return i
			}, t.serializeCollection = function(t, e) {
				for (var i = [], n = 0; n < t.length; n++) i.push(e(t[n]));
				return i
			}, t = e = n([a.injectable()], t);
			var e
		}();
	e.DataFactories = o
}, function(t, e, i) {
	"use strict";
	var n = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		},
		a = this && this.__metadata || function(t, e) {
			if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
		},
		o = this && this.__param || function(t, e) {
			return function(i, n) {
				e(i, n, t)
			}
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var r = i(9),
		s = i(229),
		l = i(417),
		c = function() {
			function t(t) {
				this.fsmDataProvider = null, this.container = null, this.fsmDataProvider = t, this.container = new r.Container, this.container.bind("v1").to(l.StateMachineDataFactories)
			}
			return t.prototype.getStateMachine = function(t) {
				var e = this.fsmDataProvider.getStateMachine(t);
				return this.container.get("v" + e.version).deserialize(e)
			}, t = n([r.injectable(), o(0, r.inject(s.GameIdentifiers.FSMDataProvider)), a("design:paramtypes", [Object])], t)
		}();
	e.FSMService = c
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(38);
	e.Action = n.Action;
	var a = i(42);
	e.actionable = a.actionable;
	var o = i(226);
	e.Actions = o.Actions;
	var r = i(1228);
	e.FSMService = r.FSMService;
	var s = i(1222);
	e.AddVariableAction = s.AddVariableAction;
	var l = i(1221);
	e.EnableInputAction = l.EnableInputAction;
	var c = i(1220);
	e.ExecuteFunctionAction = c.ExecuteFunctionAction;
	var h = i(1219);
	e.ExecuteStateMachineAction = h.ExecuteStateMachineAction;
	var u = i(1218);
	e.SetAlphaAction = u.SetAlphaAction;
	var p = i(1217);
	e.SetVariableAction = p.SetVariableAction;
	var d = i(1216);
	e.SetVariablesAction = d.SetVariablesAction;
	var g = i(1215);
	e.SetVisibleAction = g.SetVisibleAction;
	var f = i(1214);
	e.TweenAction = f.TweenAction;
	var y = i(1213);
	e.WaitAction = y.WaitAction;
	var m = i(1212);
	e.WaitForEventAction = m.WaitForEventAction;
	var _ = i(417);
	e.StateMachineDataFactories = _.StateMachineDataFactories;
	var v = i(416);
	e.ActionData = v.ActionData;
	var E = i(415);
	e.StateMachineData = E.StateMachineData;
	var b = i(414);
	e.FSMController = b.FSMController;
	var O = i(413);
	e.FSMFactories = O.FSMFactories;
	var I = i(1208);
	e.LogFSMController = I.LogFSMController
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = i(418),
		o = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.getText = function(e) {
				for (var i = [], n = 1; n < arguments.length; n++) i[n - 1] = arguments[n];
				var o = t.prototype.getText.apply(this, [e].concat(i));
				return a.Logger.log("Resovled " + e + " to " + o, a.LogLevel.Verbose), o
			}, e
		}(i(228).Localizer);
	e.VerboseLocalizer = o
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = function() {
		function t(t) {
			this.languageData = null, this.setData(t)
		}
		return t.prototype.setData = function(t) {
			this.languageData = t
		}, t.prototype.getValue = function(t) {
			return this.languageData.hasOwnProperty(t) ? this.languageData[t] : null
		}, t
	}();
	e.LocalLanguageDataCollection = n
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
		var t = Object.setPrototypeOf || {
			__proto__: []
		}
		instanceof Array && function(t, e) {
			t.__proto__ = e
		} || function(t, e) {
			for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
		};
		return function(e, i) {
			function n() {
				this.constructor = e
			}
			t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
		}
	}();
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var a = function(t) {
		function e() {
			var e = null !== t && t.apply(this, arguments) || this;
			return e.replacementCharacter = "w", e
		}
		return n(e, t), Object.defineProperty(e.prototype, "ReplacementCharacter", {
			get: function() {
				return this.replacementCharacter
			},
			enumerable: !0,
			configurable: !0
		}), e.prototype.getText = function(e) {
			for (var i = [], n = 1; n < arguments.length; n++) i[n - 1] = arguments[n];
			var a = t.prototype.getText.apply(this, [e].concat(i));
			return a === e ? a : a.replace(/[a-zA-Z0-9]/g, this.ReplacementCharacter)
		}, e
	}(i(228).Localizer);
	e.DebugLocalizer = a
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(419);
	e.BaseLocalizer = n.BaseLocalizer;
	var a = i(1232);
	e.DebugLocalizer = a.DebugLocalizer;
	var o = i(228);
	e.Localizer = o.Localizer;
	var r = i(1231);
	e.LocalLanguageDataCollection = r.LocalLanguageDataCollection;
	var s = i(1230);
	e.VerboseLocalizer = s.VerboseLocalizer
}, function(t, e, i) {
	"use strict";
	var n = this && this.__extends || function() {
			var t = Object.setPrototypeOf || {
				__proto__: []
			}
			instanceof Array && function(t, e) {
				t.__proto__ = e
			} || function(t, e) {
				for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
			};
			return function(e, i) {
				function n() {
					this.constructor = e
				}
				t(e, i), e.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
			}
		}(),
		a = this && this.__decorate || function(t, e, i, n) {
			var a, o = arguments.length,
				r = o < 3 ? e : null === n ? n = Object.getOwnPropertyDescriptor(e, i) : n;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(t, e, i, n);
			else
				for (var s = t.length - 1; s >= 0; s--)(a = t[s]) && (r = (o < 3 ? a(r) : o > 3 ? a(e, i, r) : a(e, i)) || r);
			return o > 3 && r && Object.defineProperty(e, i, r), r
		};
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var o = i(1),
		r = function(t) {
			function e() {
				return null !== t && t.apply(this, arguments) || this
			}
			return n(e, t), e.prototype.validate = function() {
				return t.prototype.validate.call(this) && this.validateParameters(["game", "items"], {
					wait: !0,
					eventType: null
				})
			}, e.prototype.execute = function() {
				t.prototype.execute.call(this);
				var e = this.findParameter("game"),
					i = this.findParameter("items"),
					n = this.findParameter("wait"),
					a = this.findParameter("eventType");
				n ? e.prodigy.open.gotItem(i, this.finish.bind(this), !0, a) : (e.prodigy.open.gotItem(i, null, !0, a), this.finish())
			}, e = a([o.actionable("AwardItems")], e)
		}(o.Action);
	e.AwardItemsAction = r
}, function(t, e, i) {
	"use strict";
	Object.defineProperty(e, "__esModule", {
		value: !0
	});
	var n = i(1234);
	e.AwardItemsAction = n.AwardItemsAction;
	var a = i(1162);
	e.CompleteQuestAction = a.CompleteQuestAction;
	var o = i(1161);
	e.CompleteSequenceAction = o.CompleteSequenceAction;
	var r = i(1160);
	e.ConsumeItemAction = r.ConsumeItemAction;
	var s = i(1159);
	e.CreateChatBubbleAction = s.CreateChatBubbleAction;
	var l = i(1158);
	e.CreateElementAction = l.CreateElementAction;
	var c = i(1157);
	e.CreateIconAction = c.CreateIconAction;
	var h = i(1156);
	e.CreateSpriteAction = h.CreateSpriteAction;
	var u = i(1155);
	e.EnableSaveAction = u.EnableSaveAction;
	var p = i(1154);
	e.ExplodeAction = p.ExplodeAction;
	var d = i(1153);
	e.FlipCreatureAction = d.FlipCreatureAction;
	var g = i(1152);
	e.GetDailyRewardCountAction = g.GetDailyRewardCountAction;
	var f = i(1151);
	e.GetZoneStateAction = f.GetZoneStateAction;
	var y = i(1017);
	e.HasItemAction = y.HasItemAction;
	var m = i(1016);
	e.HideFollowAction = m.HideFollowAction;
	var _ = i(1015);
	e.HighlightElementAction = _.HighlightElementAction;
	var v = i(1014);
	e.HopAction = v.HopAction;
	var E = i(1013);
	e.IsOnQuestAction = E.IsOnQuestAction;
	var b = i(1012);
	e.IsOnSequenceAction = b.IsOnSequenceAction;
	var O = i(1011);
	e.IsQuestCompleteAction = O.IsQuestCompleteAction;
	var I = i(1010);
	e.PauseMusicAction = I.PauseMusicAction;
	var T = i(1009);
	e.PlayFireworkAction = T.PlayFireworkAction;
	var A = i(1008);
	e.PlayMusicAction = A.PlayMusicAction;
	var C = i(1007);
	e.PlaySoundAction = C.PlaySoundAction;
	var S = i(1006);
	e.PlaySpineAction = S.PlaySpineAction;
	var w = i(1005);
	e.SendAdvancedEventAction = w.SendAdvancedEventAction;
	var D = i(1004);
	e.SetDailyRewardCountAction = D.SetDailyRewardCountAction;
	var P = i(1003);
	e.SetEventProcessingAction = P.SetEventProcessingAction;
	var L = i(1002);
	e.SetPathAction = L.SetPathAction;
	var x = i(1001);
	e.SetValidPathAction = x.SetValidPathAction;
	var M = i(1e3);
	e.SetWalkSpeedAction = M.SetWalkSpeedAction;
	var U = i(999);
	e.SetZoneStateAction = U.SetZoneStateAction;
	var N = i(998);
	e.ShakeAction = N.ShakeAction;
	var R = i(997);
	e.ShowDialogueAction = R.ShowDialogueAction;
	var k = i(996);
	e.StartBattleAction = k.StartBattleAction;
	var B = i(995);
	e.TeleportAction = B.TeleportAction;
	var G = i(994);
	e.CreateMonsterDungeonComponent = G.CreateMonsterDungeonComponent;
	var V = i(993);
	e.CreateGoldenPageDungeonComponent = V.CreateGoldenPageDungeonComponent;
	var F = i(988);
	e.CreateSpineAction = F.CreateSpineAction;
	var j = i(982);
	e.CompleteBreadcrumbAction = j.CompleteBreadcrumbAction;
	var H = i(981);
	e.CreatePageDungeonComponent = H.CreatePageDungeonComponent;
	var z = i(980);
	e.BroadcastGameEventAction = z.BroadcastGameEventAction
}, function(t, e) {
	! function(t) {
		"use strict";
		if (!t.fetch) {
			var e = {
				searchParams: "URLSearchParams" in t,
				iterable: "Symbol" in t && "iterator" in Symbol,
				blob: "FileReader" in t && "Blob" in t && function() {
					try {
						return new Blob, !0
					} catch (t) {
						return !1
					}
				}(),
				formData: "FormData" in t,
				arrayBuffer: "ArrayBuffer" in t
			};
			if (e.arrayBuffer) var i = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"],
				n = function(t) {
					return t && DataView.prototype.isPrototypeOf(t)
				},
				a = ArrayBuffer.isView || function(t) {
					return t && i.indexOf(Object.prototype.toString.call(t)) > -1
				};
			h.prototype.append = function(t, e) {
				t = s(t), e = l(e);
				var i = this.map[t];
				this.map[t] = i ? i + "," + e : e
			}, h.prototype.delete = function(t) {
				delete this.map[s(t)]
			}, h.prototype.get = function(t) {
				return t = s(t), this.has(t) ? this.map[t] : null
			}, h.prototype.has = function(t) {
				return this.map.hasOwnProperty(s(t))
			}, h.prototype.set = function(t, e) {
				this.map[s(t)] = l(e)
			}, h.prototype.forEach = function(t, e) {
				for (var i in this.map) this.map.hasOwnProperty(i) && t.call(e, this.map[i], i, this)
			}, h.prototype.keys = function() {
				var t = [];
				return this.forEach(function(e, i) {
					t.push(i)
				}), c(t)
			}, h.prototype.values = function() {
				var t = [];
				return this.forEach(function(e) {
					t.push(e)
				}), c(t)
			}, h.prototype.entries = function() {
				var t = [];
				return this.forEach(function(e, i) {
					t.push([i, e])
				}), c(t)
			}, e.iterable && (h.prototype[Symbol.iterator] = h.prototype.entries);
			var o = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
			y.prototype.clone = function() {
				return new y(this, {
					body: this._bodyInit
				})
			}, f.call(y.prototype), f.call(_.prototype), _.prototype.clone = function() {
				return new _(this._bodyInit, {
					status: this.status,
					statusText: this.statusText,
					headers: new h(this.headers),
					url: this.url
				})
			}, _.error = function() {
				var t = new _(null, {
					status: 0,
					statusText: ""
				});
				return t.type = "error", t
			};
			var r = [301, 302, 303, 307, 308];
			_.redirect = function(t, e) {
				if (-1 === r.indexOf(e)) throw new RangeError("Invalid status code");
				return new _(null, {
					status: e,
					headers: {
						location: t
					}
				})
			}, t.Headers = h, t.Request = y, t.Response = _, t.fetch = function(t, i) {
				return new Promise(function(n, a) {
					var o = new y(t, i),
						r = new XMLHttpRequest;
					r.onload = function() {
						var t = {
							status: r.status,
							statusText: r.statusText,
							headers: function(t) {
								var e = new h;
								return t.replace(/\r?\n[\t ]+/g, " ").split(/\r?\n/).forEach(function(t) {
									var i = t.split(":"),
										n = i.shift().trim();
									if (n) {
										var a = i.join(":").trim();
										e.append(n, a)
									}
								}), e
							}(r.getAllResponseHeaders() || "")
						};
						t.url = "responseURL" in r ? r.responseURL : t.headers.get("X-Request-URL");
						var e = "response" in r ? r.response : r.responseText;
						n(new _(e, t))
					}, r.onerror = function() {
						a(new TypeError("Network request failed"))
					}, r.ontimeout = function() {
						a(new TypeError("Network request failed"))
					}, r.open(o.method, o.url, !0), "include" === o.credentials ? r.withCredentials = !0 : "omit" === o.credentials && (r.withCredentials = !1), "responseType" in r && e.blob && (r.responseType = "blob"), o.headers.forEach(function(t, e) {
						r.setRequestHeader(e, t)
					}), r.send(void 0 === o._bodyInit ? null : o._bodyInit)
				})
			}, t.fetch.polyfill = !0
		}

		function s(t) {
			if ("string" != typeof t && (t = String(t)), /[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t)) throw new TypeError("Invalid character in header field name");
			return t.toLowerCase()
		}

		function l(t) {
			return "string" != typeof t && (t = String(t)), t
		}

		function c(t) {
			var i = {
				next: function() {
					var e = t.shift();
					return {
						done: void 0 === e,
						value: e
					}
				}
			};
			return e.iterable && (i[Symbol.iterator] = function() {
				return i
			}), i
		}

		function h(t) {
			this.map = {}, t instanceof h ? t.forEach(function(t, e) {
				this.append(e, t)
			}, this) : Array.isArray(t) ? t.forEach(function(t) {
				this.append(t[0], t[1])
			}, this) : t && Object.getOwnPropertyNames(t).forEach(function(e) {
				this.append(e, t[e])
			}, this)
		}

		function u(t) {
			if (t.bodyUsed) return Promise.reject(new TypeError("Already read"));
			t.bodyUsed = !0
		}

		function p(t) {
			return new Promise(function(e, i) {
				t.onload = function() {
					e(t.result)
				}, t.onerror = function() {
					i(t.error)
				}
			})
		}

		function d(t) {
			var e = new FileReader,
				i = p(e);
			return e.readAsArrayBuffer(t), i
		}

		function g(t) {
			if (t.slice) return t.slice(0);
			var e = new Uint8Array(t.byteLength);
			return e.set(new Uint8Array(t)), e.buffer
		}

		function f() {
			return this.bodyUsed = !1, this._initBody = function(t) {
				if (this._bodyInit = t, t)
					if ("string" == typeof t) this._bodyText = t;
					else if (e.blob && Blob.prototype.isPrototypeOf(t)) this._bodyBlob = t;
				else if (e.formData && FormData.prototype.isPrototypeOf(t)) this._bodyFormData = t;
				else if (e.searchParams && URLSearchParams.prototype.isPrototypeOf(t)) this._bodyText = t.toString();
				else if (e.arrayBuffer && e.blob && n(t)) this._bodyArrayBuffer = g(t.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer]);
				else {
					if (!e.arrayBuffer || !ArrayBuffer.prototype.isPrototypeOf(t) && !a(t)) throw new Error("unsupported BodyInit type");
					this._bodyArrayBuffer = g(t)
				} else this._bodyText = "";
				this.headers.get("content-type") || ("string" == typeof t ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : e.searchParams && URLSearchParams.prototype.isPrototypeOf(t) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"))
			}, e.blob && (this.blob = function() {
				var t = u(this);
				if (t) return t;
				if (this._bodyBlob) return Promise.resolve(this._bodyBlob);
				if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer]));
				if (this._bodyFormData) throw new Error("could not read FormData body as blob");
				return Promise.resolve(new Blob([this._bodyText]))
			}, this.arrayBuffer = function() {
				return this._bodyArrayBuffer ? u(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(d)
			}), this.text = function() {
				var t = u(this);
				if (t) return t;
				if (this._bodyBlob) return function(t) {
					var e = new FileReader,
						i = p(e);
					return e.readAsText(t), i
				}(this._bodyBlob);
				if (this._bodyArrayBuffer) return Promise.resolve(function(t) {
					for (var e = new Uint8Array(t), i = new Array(e.length), n = 0; n < e.length; n++) i[n] = String.fromCharCode(e[n]);
					return i.join("")
				}(this._bodyArrayBuffer));
				if (this._bodyFormData) throw new Error("could not read FormData body as text");
				return Promise.resolve(this._bodyText)
			}, e.formData && (this.formData = function() {
				return this.text().then(m)
			}), this.json = function() {
				return this.text().then(JSON.parse)
			}, this
		}

		function y(t, e) {
			var i = (e = e || {}).body;
			if (t instanceof y) {
				if (t.bodyUsed) throw new TypeError("Already read");
				this.url = t.url, this.credentials = t.credentials, e.headers || (this.headers = new h(t.headers)), this.method = t.method, this.mode = t.mode, i || null == t._bodyInit || (i = t._bodyInit, t.bodyUsed = !0)
			} else this.url = String(t);
			if (this.credentials = e.credentials || this.credentials || "omit", !e.headers && this.headers || (this.headers = new h(e.headers)), this.method = function(t) {
					var e = t.toUpperCase();
					return o.indexOf(e) > -1 ? e : t
				}(e.method || this.method || "GET"), this.mode = e.mode || this.mode || null, this.referrer = null, ("GET" === this.method || "HEAD" === this.method) && i) throw new TypeError("Body not allowed for GET or HEAD requests");
			this._initBody(i)
		}

		function m(t) {
			var e = new FormData;
			return t.trim().split("&").forEach(function(t) {
				if (t) {
					var i = t.split("="),
						n = i.shift().replace(/\+/g, " "),
						a = i.join("=").replace(/\+/g, " ");
					e.append(decodeURIComponent(n), decodeURIComponent(a))
				}
			}), e
		}

		function _(t, e) {
			e || (e = {}), this.type = "default", this.status = void 0 === e.status ? 200 : e.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = "statusText" in e ? e.statusText : "OK", this.headers = new h(e.headers), this.url = e.url || "", this._initBody(t)
		}
	}("undefined" != typeof self ? self : this)
}, function(t, e, i) {
	(function(t) {
		t.SENTRY_RELEASE = {}, t.SENTRY_RELEASE.id = "2-20-0"
	}).call(this, i(39))
}, function(t, e, i) {
	i(1237), i(1236), i(1235), t.exports = i(944)
}]));
//# sourceURL=game.min.js
//# sourceMappingURL=game.min.js.map