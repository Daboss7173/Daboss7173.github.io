function Util() {}

function Device() {}

function ApiClient(e, t) {
	function i(e, t) {
		var i = g[e];
		t.root = i + y, t.url.leaderboard = i + m, t.url.account = i + f, t.url.multiplayer = u[e], t.url.matchmaking = i + b, t.url.mailer = i + w, t.url.friend = i + v, t.url.events = i + I, t.url.gameTools = i + P, t.url.assignments = i + x, t.url.education = i + D
	}

	function a(e, t, i, a, s, r) {
		void 0 === i && (i = {}), void 0 === r && (r = {}), i["auth-key"] = l.uniqueKey, i.token = l.uniqueKey;
		var o = {
			url: t,
			data: i,
			timeout: 3e4,
			type: e,
			success: a["200"],
			crossDomain: !0,
			error: function (e) {
				"Service Unavailable" === e.responseText && (e.status = 503), void 0 !== a[e.status] ? a[e.status](s, e.status) : l.generic_ajax_error(s, e.status)
			}
		};
		r.ignoreHeaders && (o.headers = null), $.ajax(o)
	}

	function s(e, t, i, s) {
		"/status" === e ? a("get", c.root + e.substr(1), t, i, s) : a("get", c.root + c.version + e, t, i, s)
	}

	function r(e, t, i, s) {
		a("post", c.root + c.version + e, t, i, s)
	}

	function o(e, t, i) {
		for (var a = 0, s = t.length; s > a; ++a)
			if (void 0 === e[t[a]]) return Util.log("Missing method for " + i + " statusCode: " + t[a], Util.ERROR), !1;
		return e
	}

	function n(e, t, i) {
		for (var a = $.extend({}, p), s = Object.keys(e), r = 0, n = s.length; n > r; ++r) a[s[r]] = e[s[r]];
		return void 0 !== t ? o(a, t, i) : void 0
	}

	function h(e) {
		return "[object Array]" !== Object.prototype.toString.call(e) && (e = [e]), JSON.stringify(e)
	}
	var l = this,
		d = {},
		p = {};
	this.generic_ajax_error = function () {}, this.uniqueKey = void 0, this.userID = void 0, this.socket = void 0, this.clientVersion = e.clientVersion;
	var c = {
			version: "v1",
			autoping: !0,
			url: {
				leaderboard: void 0,
				multiplayer: void 0,
				messages: void 0,
				matchmaking: void 0
			},
			ajax_timeout: 3e4,
			root: void 0
		},
		g = {
			dev: "/",
			staging: "https://www.prodigygame.org/",
			production: "https://www.prodigygame.com/"
		},
		u = {
			dev: "https://multiplayer-dev.prodigygame.org/",
			staging: "https://multiplayer.prodigygame.org/",
			production: "https://multiplayer.prodigygame.com/"
		},
		y = "game-api/",
		m = "leaderboard-api/",
		f = "account-api/",
		b = "matchmaking-api/",
		v = "friend-api/",
		w = "game-mailer-api/",
		P = "game-tools-api/",
		x = "assignment-api/",
		D = "education-api/",
		I = "events-api/";
	switch (window.location.host) {
	case "dev.prodigygame.org":
		i("dev", c);
		break;
	case "stagingpublic.prodigygame.org":
	case "www.prodigygame.org":
	case "prodigygame.org":
		i("staging", c);
		break;
	case "www.prodigygame.com":
	case "prodigygame.com":
		i("production", c);
		break;
	default:
		i("dev", c)
	}
	var k = window.location.search;
	if (k.indexOf("env=dev") >= 0 ? i("dev", c) : k.indexOf("env=staging") >= 0 ? i("staging", c) : (k.indexOf("env=production") >= 0 || k.indexOf("env=prod") >= 0) && i("production", c), e)
		for (var C = Object.keys(c), T = 0, _ = C.length; _ > T; ++T) void 0 !== e[C[T]] && (c[C[T]] = e[C[T]]);
	if (d = c, p["500"] = function () {
			Util.log("Something happened with the webservice...", Util.ERROR)
		}, p["404"] = function () {
			Util.log("The data you are attempting to access does not exist.")
		}, t)
		for (var E = Object.keys(t), T = 0, _ = E.length; _ > T; ++T) void 0 !== t[E[T]] && (p[E[T]] = t[E[T]]);
	this.joinMultiplayerServer = function (e, t, i, a, s, r, o, h) {
		var d = n(i, ["200", "503"], "Join multiplayer Server");
		if (d) {
			var p = this.userID,
				g = this.uniqueKey;
			if (void 0 == p || void 0 == g) return Util.log("missing user id or token"), !1;
			var u = !1,
				y = c.url.multiplayer;
			/^https:\/\//.test(y) && (u = !0);
			var m = {
				"force new connection": !0,
				reconnection: !1,
				transports: ["websocket", "xhr-polling", "jsonp-polling", "htmlfile"],
				secure: u,
				query: "userId=" + p + "&worldId=" + e + "&userToken=" + g + "&zone=" + t
			};
			l.socket = io.connect(c.url.multiplayer, m), l.socket.on("connect", function () {
				Util.log("client connected")
			}), l.socket.on("connect", d["200"]), l.socket.on("connect_error", function (e) {
				Util.log("connect_error"), Util.log(e, Util.ERROR)
			}), l.socket.on("error", function (e) {
				e && Util.log(e, Util.ERROR), e.code && d[e.code] && d[e.code]()
			}), l.socket.on("connect_error", d["503"]), l.socket.on("message", function (e) {
				a(e)
			}), l.socket.on("playerJoined", function (e) {
				Util.log("player Joined - playerId: " + e), o(e)
			}), l.socket.on("playerLeft", function (e) {
				Util.log("player Left - playerId: " + e), h(e)
			}), l.socket.on("playerList", function (e) {
				Util.log("player list received"), s(e)
			}), l.socket.on("disconnect", function () {
				Util.log("Disconnected from multiplayer server"), r()
			})
		}
	}, this.emitMessage = function (e, t) {
		var i = n(t, ["200"], "emit message");
		return i && l.socket ? (l.socket.emit("message", e), !0) : !1
	}, this.getWorldList = function (e) {
		var t = n(e, ["200", "400", "500", "503"], "get world list");
		if (t) {
			var i = "v2/worlds",
				s = c.root + i;
			return a("get", s, {}, t, "getWorldList", {
				ignoreHeaders: !0
			}), !0
		}
		return !1
	}, this.login = function (e, t, i) {
		var a = n(i, ["200", "401", "404", "426"], "login");
		if (!l.uniqueKey || !l.userID) {
			if (a) {
				var s = a["200"];
				return a["200"] = function (e) {
					l.uniqueKey = e.authToken, l.userID = e.userID, Util.log("SET!", l.userID, l.uniqueKey), s(e)
				}, "undefined" != typeof this.clientVersion && null !== this.clientVersion && (t.clientVersion = this.clientVersion), r("/login/" + e, t, a, "login"), !0
			}
			return !1
		}
	}, this.adminLogin = function (e, t, i, s) {
		var r = n(s, ["200", "401", "404"], "Admin Login");
		if (r) {
			var o = "v1/user/info",
				h = c.root + o;
			r["200"] = function (e) {
				var t = r["200"];
				l.uniqueKey = e.authToken, l.userID = e.userID, Util.log("ADMIN LOGIN", l.userID, l.uniqueKey), t(e)
			};
			var d = {
				userId: e,
				sessionToken: t,
				key: i
			};
			return a("get", h, d, r, "adminLogin", {
				ignoreHeaders: !0
			}), !0
		}
		return !1
	}, this.verifyClassCode = function (e, t) {
		var i = n(t, ["200", "400", "404", "500"], "verifyClassCode");
		if (i) {
			var s = c.root + "v1/classCode/" + e;
			return a("post", s, {}, i, "verify-class-code"), !0
		}
		return !1
	}, this.attachStudentUsingClassCode = function (e, t) {
		var i = n(t, ["200"], "attachStudentUsingClassCode");
		if (i) {
			var s = c.root + "v1/users/" + l.userID + "/teacher";
			return a("post", s, {
				classCode: e
			}, i, "attachStudentUsingCassCode"), !0
		}
		return !1
	}, this.create = function (e, t, i, s) {
		i.first_name = e, i.last_name = t, "undefined" != typeof this.clientVersion && null !== this.clientVersion && (i.clientVersion = this.clientVersion);
		var r = n(s, ["200", "400", "426", "500"], "create");
		if (r) {
			var o = c.root + "v1";
			return a("post", o + "/users", i, r, "create"), !0
		}
		return !1
	}, this.createGoogle = function (e, t, i, s) {
		i.first_name = e, i.last_name = t, "undefined" != typeof this.clientVersion && null !== this.clientVersion && (i.clientVersion = this.clientVersion);
		var r = n(s, ["200", "400", "426", "500"], "create");
		if (r) {
			var o = c.root + "v1";
			return a("post", o + "/users/google", i, r, "create"), !0
		}
		return !1
	}, this.createCharacter = function (e, t, i) {
		var s = n(i, ["200"], "createCharacter");
		if (s) {
			var r = c.root + "v1";
			return a("post", r + "/characters/" + e, t, s, "createCharacter"), !0
		}
		return !1
	}, this.updateUser = function (e, t) {
		var i = n(t, ["200", "401"], "update user properties");
		if (e.clientVersion = this.clientVersion, i) {
			var s = c.root + "v1/users/" + l.userID;
			return a("post", s, e, i, "update"), !0
		}
		return !1
	}, this.setParentEmail = function (e, t) {
		var i = n(t, ["200", "401", "500"], "update user parent email");
		if (i) {
			var s = c.root + "v1/users/" + l.userID;
			return a("post", s, {
				parentEmail: e
			}, i, "updateParentEmail"), !0
		}
		return !1
	}, this.logout = function (e) {
		l.uniqueKey = void 0, l.userID = void 0, void 0 !== l.socket && (l.socket.disconnect(), l.socket = void 0), e["200"] && e["200"]()
	}, this.updateCharacter = function (e, t) {
		var i = n(t, ["200", "401"], "update property");
		if (i) {
			var s = c.root + "v1/characters/" + l.userID;
			return a("post", s, e, i, "update"), !0
		}
		return !1
	}, this.selectInstance = function (e, t, i) {
		i["200"] && i["200"]()
	}, this.switchZones = function (e, t) {
		return void 0 !== l.socket && l.socket.emit("switchZone", e), t["200"] && t["200"](), !0
	}, this.loadSkills = function (e, t, i) {
		var s = n(i, ["200"], "get user ability");
		if (s) {
			var r = c.root + "v1/users/" + e + "/education",
				o = (c.url.education + "v1/users/" + e + "/userAbility", c.url.assignments + "v1/user/" + e + "/assignments/active"),
				h = {
					token: l.uniqueKey,
					userID: l.userID
				},
				d = s["200"],
				p = 0,
				g = 2,
				u = {};
			return s["200"] = function () {
				p++;
				var e = Array.prototype.slice.call(arguments);
				if (u[this.url] = e, p === g) {
					var t, i, a;
					Object.keys(u).forEach(function (e) {
						-1 !== e.indexOf("assignment-api") ? a = u[e] : -1 !== e.indexOf("education-api") ? i = u[e] : t = u[e]
					}), i && i[0] && (t[0].skills = i[0]), t[0].homework = a[0], d.apply(null, t)
				}
			}, a("get", r, {
				classIDs: t.join(",")
			}, s, "load_skills"), a("get", o, h, s, "load_skills"), !0
		}
		return !1
	}, this.updatePlacementTest = function (e, t, i) {
		var s = n(i, ["200"], "update placement test");
		if (s) {
			var r = c.root + "v1/users/" + l.userID + "/education/" + e + "/placement-test";
			return a("post", r, {
				ownerIDs: t
			}, s, "upgradePlacementTest"), !0
		}
		return !1
	}, this.updateUserAbility = function (e, t) {
		var i = n(t, ["200"], "bulk update user ability");
		if (i) {
			e = h(e);
			var s = c.root + "v1/users/" + l.userID + "/ability";
			return a("post", s, {
				userAbilityData: e
			}, i, "bulkUpdateUserAbility"), !0
		}
		return !1
	}, this.saveAnswer = function (e, t) {
		var i = n(t, ["200"], "save answer");
		if (i) {
			var s = c.root + "v1/users/" + l.userID + "/answers";
			return a("post", s, e, i, "saveAnswer"), !0
		}
		return !1
	}, this.getLeaderboard = function (e, t, i, s) {
		var r = n(s, ["200"], "get leaderboard");
		if (r) {
			var o = c.url.leaderboard;
			return a("get", o + "class/" + e, {
				sort: t,
				limit: i
			}, r, "leaderboard", {
				ignoreHeaders: !0
			}), !0
		}
		return !1
	}, this.getPvpLeaderboard = function (e, t, i, s, r) {
		var o = n(r, ["200"], "get pvp leaderboard");
		if (o) {
			var h = c.url.leaderboard;
			return a("get", h + "pvp/" + e.min + "/" + e.max, {
				page: i || 0,
				limit: s || 30,
				player_score: t.arenaScore,
				player_stars: t.stars,
				userID: l.userID
			}, o, "leaderboard", {
				ignoreHeaders: !0
			}), !0
		}
		return !1
	}, this.reopenMail = function (e, t, i) {
		var s = n(i, ["200"], "get mail details"),
			r = {
				userID: l.userID,
				type: t
			};
		if (s) {
			var o = c.url.mailer + "v1/mail/" + e;
			return a("get", o, r, s, "getMail"), !0
		}
		return !1
	}, this.openMail = function (e, t, i) {
		var s = n(i, ["200"], "Mark mail as read"),
			r = {
				rawData: t,
				userID: l.userID
			};
		if (s) {
			var o = c.url.mailer + "v1/mail/" + e;
			return a("post", o, r, s, "openMail"), !0
		}
		return !1
	}, this.getAllMail = function (e, t, i, s) {
		// Wow I removed a function to clean up logs
	}, this.deleteMail = function (e, t) {
		// Wow I removed a function to clean up logs
	}, this.getTotalMail = function (e, t) {
		// Wow I removed a function to clean up logs
	}, this.getUser = function (e, t, i) {
		var s = c.root + "v1/characters/" + e;
		3 === arguments.length ? s += "?fields=" + t.join(",") : i = t;
		var r = n(i, ["200"], "getUserData");
		return r ? (a("get", s, {}, r, "getUser", {
			ignoreHeaders: !0
		}), !0) : !1
	}, this.getUserInfo = function (e, t) {
		var i = n(t, ["200", "401", "404"], "User Info");
		if (i) {
			var s = "v1/user/" + e,
				r = c.root + s,
				o = {
					sessionToken: l.uniqueKey
				};
			return a("get", r, o, i, "getUserInfo", {
				ignoreHeaders: !0
			}), !0
		}
		return !1
	}, this.startMatchmaking = function (e, t, i, s) {
		var r = n(s, ["200"], "startMatchmaking");
		if (r) {
			var o = c.url.matchmaking + "begin";
			return a("post", o, {
				userID: l.userID,
				level: e,
				score: t,
				playerData: i,
				token: l.uniqueKey
			}, r, "startMatchmaking"), !0
		}
		return !1
	}, this.quitMatchmaking = function (e) {
		var t = n(e, ["200"], "quitMatchmaking");
		if (t) {
			var i = c.url.matchmaking + "end";
			return a("post", i, {
				userID: l.userID,
				token: l.uniqueKey
			}, t, "quitMatchmaking"), !0
		}
		return !1
	}, this.saveAsset = function (e, t, i, s, r) {
		var o = n(r, ["200", "401", "409", "500"], "saveAsset");
		if (o) {
			var h = c.url.gameTools + "v1/assets";
			return a("post", h, {
				group: e,
				id: t,
				gender: i,
				data: s
			}, o, "saveAsset", {
				ignoreHeaders: !0
			}), !0
		}
		return !1
	}, this.loadAsset = function (e, t, i, s) {
		var r = n(s, ["200", "401", "409", "500"], "loadAsset");
		if (r) {
			var o = c.url.gameTools + "v1/assets";
			return a("get", o, {
				group: e,
				id: t,
				gender: i
			}, r, "loadAsset", {
				ignoreHeaders: !0
			}), !0
		}
		return !1
	}, this.getFriendList = function (e) {
		var t = n(e, ["200", "400", "401", "404", "406", "409", "423", "500", "503"], "getFriendList");
		if (t) {
			var i = {
					token: l.uniqueKey,
					offset: 0,
					limit: 0
				},
				s = c.url.friend + "v1/friend/" + l.userID;
			return a("get", s, i, t, "getFriendList"), !0
		}
		return !1
	}, this.getTotalFriendRequests = function (e) {
		var t = n(e, ["200", "400", "401", "404", "406", "409", "423", "500", "503"], "getTotalFriendRequests");
		if (t) {
			var i = {
					token: l.uniqueKey
				},
				s = c.url.friend + "v1/friend/" + l.userID + "/countFriendRequest";
			return a("get", s, i, t, "getTotalFriendRequests"), !0
		}
		return !1
	}, this.getFriendRequestList = function (e, t, i) {
		var s = n(i, ["200", "400", "401", "404", "406", "409", "423", "500", "503"], "getFriendRequestList");
		if (s) {
			var r = {
					token: l.uniqueKey,
					offset: e,
					limit: t
				},
				o = c.url.friend + "v1/friend/" + l.userID + "/request";
			return a("get", o, r, s, "getFriendRequestList"), !0
		}
		return !1
	}, this.sendFriendRequest = function (e, t) {
		var i = n(t, ["200", "400", "401", "404", "406", "409", "423", "500", "503"], "sendFriendRequest");
		if (i) {
			var s = {
					token: l.uniqueKey
				},
				r = c.url.friend + "v1/friend/" + l.userID + "/add/" + e;
			return a("post", r, s, i, "sendFriendRequest"), !0
		}
		return !1
	}, this.cancelFriendRequest = function (e, t) {
		var i = n(t, ["200", "400", "401", "404", "406", "409", "423", "500", "503"], "cancelFriendRequest");
		if (i) {
			var s = {
					token: l.uniqueKey
				},
				r = c.url.friend + "v1/friend/" + l.userID + "/cancel/" + e;
			return a("delete", r, s, i, "cancelFriendRequest"), !0
		}
		return !1
	}, this.acceptFriendRequest = function (e, t) {
		var i = n(t, ["200", "400", "401", "404", "406", "409", "423", "500", "503"], "acceptFriendRequest");
		if (i) {
			var s = {
					token: l.uniqueKey
				},
				r = c.url.friend + "v1/friend/" + l.userID + "/accept/" + e;
			return a("post", r, s, i, "acceptFriendRequest"), !0
		}
		return !1
	}, this.rejectFriendRequest = function (e, t) {
		var i = n(t, ["200", "400", "401", "404", "406", "409", "423", "500", "503"], "rejectFriendRequest");
		if (i) {
			var s = {
					token: l.uniqueKey
				},
				r = c.url.friend + "v1/friend/" + l.userID + "/reject/" + e;
			return a("delete", r, s, i, "rejectFriendRequest"), !0
		}
		return !1
	}, this.removeFriend = function (e, t) {
		var i = n(t, ["200", "400", "401", "404", "406", "409", "423", "500", "503"], "removeFriend");
		if (i) {
			var s = {
					token: l.uniqueKey
				},
				r = c.url.friend + "v1/friend/" + l.userID + "/remove/" + e;
			return a("delete", r, s, i, "removeFriend"), !0
		}
		return !1
	}, this.getFriendshipStatus = function (e, t) {
		var i = n(t, ["200", "400", "401", "404", "406", "409", "423", "500", "503"], "getFriendshipStatus");
		if (i) {
			var s = {
					token: l.uniqueKey
				},
				r = c.url.friend + "v1/friend/" + l.userID + "/status/" + e;
			return a("get", r, s, i, "getFriendshipStatus"), !0
		}
		return !1
	}, this.log = function (e, t, i) {
		var a = ["debug", "info", "notice", "warning", "error", "critical", "alert", "emergency"];
		return e = e.toLowerCase(), a.indexOf(e) >= 0 ? (i.message && (i.attr_message = i.message), i.message = t, r("/log/" + e, i, {
			200: function () {}
		}, "log"), !0) : !1
	}, this.track = function (e, t) {
		var i = n(t, ["200"], "trackEvent");
		if (i) {
			var s = {
					userID: l.userID,
					token: l.uniqueKey,
					event: e
				},
				r = c.url.events + "v1/game-event";
			return a("post", r, s, i, "trackEvent"), !0
		}
		return !1
	}, this.completeAssignment = function (e, t) {
		var i = n(t, ["200"], "completeStudentAssignment");
		if (i) {
			var s = {
					token: l.uniqueKey,
					userID: l.userID
				},
				r = c.url.assignments + "v1/users/" + l.userID + "/assignments/" + e;
			return a("post", r, s, i, "completeStudentAssignment"), !1
		}
		return !1
	}, this.status = function (e) {
		var t = n(e, ["200", "503"], "status check");
		return t ? (s("/status", {
			flook: +new Date
		}, t, "status"), !0) : !1
	}
}
var Prodigy = Prodigy || {};
Prodigy.extends = function (e, t, i) {
	e.prototype = Object.create(t.prototype);
	for (var a in i) e.prototype[a] = i[a]
}, Prodigy.NetworkHandlers = {}, Prodigy.Control = {}, Prodigy.Container = {}, Prodigy.Controller = {}, Prodigy.Event = {}, Prodigy.Factory = {}, Prodigy.Listener = {}, Prodigy.Menu = {
	FriendsList: {},
	FriendRequest: {}
}, Prodigy.HUD = {}, Prodigy.Battle = {
	ComboMetre: {}
}, Prodigy.Attack = {}, Prodigy.Component = {
	Wheel: {},
	TwilightWheel: {}
}, Prodigy.Entity = {}, Prodigy.Breadcrumbs = {};
var GameConstants = GameConstants || function () {
	var e = {};
	if (e["GameConstants.Build.VERSION"] = "1-50-0", e["GameConstants.Build.LODASH_VERSION"] = "4.13.1", e["GameConstants.Build.DEBUG"] = !1, e["GameConstants.Build.SHOW_FPS"] = !1, e["GameConstants.Build.MUTE_BGM"] = !1, e["GameConstants.Build.LOG_LEVEL"] = 12, e["GameConstants.Build.ASSETS_LOCATION"] = "https://cdn.prodigygame.com/game/assets/", e["GameConstants.Build.TELEPORT"] = "", e["GameConstants.Build.QUEST"] = [], e["GameConstants.Build.ITEM_TYPE"] = [], e["GameConstants.Build.KILL_GORE"] = !1, e["GameConstants.Build.EASY_MODE"] = !1, e["GameConstants.Build.MEMBERSHIP"] = !1, e["GameConstants.Tower.MAX_FREE_MEMBER_FLOOR"] = 5, e["GameConstants.Debug.DISABLE_DAILY_BONUS"] = !1, e["GameConstants.Debug.ENABLE_MAP"] = !1, e["GameConstants.Debug.AUTO_LOGIN"] = [], e["GameConstants.Debug.GET_PET"] = [], e["GameConstants.Debug.SET_LEVEL"] = 0, e["GameConstants.Debug.DISABLE_ACHIEVEMENTS"] = !1, e["GameConstants.Debug.GET_GOLD"] = 0, e["GameConstants.Debug.GET_SPELL"] = 0, e["GameConstants.Debug.COMPLETE_TUTORIAL"] = !1, e["GameConstants.Debug.FORCE_DROPS"] = [], e["GameConstants.Mailer.TEST_MAIL"] = !1, e["GameConstants.FriendsList.TEST_FRIENDS_LIST"] = !1, e["GameConstants.Features.ENABLE_HOUSE_MOVING"] = !0, e["GameConstants.Features.Wheel.COOLDOWN"] = 5, e["GameConstants.Features.Wheel.DEFAULT_SPINS"] = 1, e["GameConstants.Features.Wheel.MEMBER_SPINS"] = 2, e["GameConstants.Features.Wheel.SPIN_TIME"] = 15e3, e["GameConstants.Features.TwilightWheel.DEFAULT_SPINS"] = 1, e["GameConstants.Features.TwilightWheel.MEMBER_SPINS"] = 2, e["GameConstants.Features.TwilightWheel.SPIN_TIME"] = 15e3, e["GameConstants.Features.SplitTests.PLAY_AT_HOME"] = !0, e["GameConstants.Features.TwilightWheel.RIGGED_REWARD"] = null, e["GameConstants.Features.SplitTests.USER_ID_MOD"] = 4, e["GameConstants.Features.SplitTests.CLASS_ID_MOD"] = 0, e["GameConstants.Features.SplitTests.GRADE_MOD"] = 0, e["GameConstants.Battle.VALID_PARENT_EMAIL_STARS_PERCENTAGE"] = 1.05, e["GameConstants.Battle.MAX_NUM_PETS"] = 1, "undefined" != typeof gameConstantsLocal)
		for (var t in gameConstantsLocal) e[t] = gameConstantsLocal[t];
	return {
		get: function (t) {
			return e[t]
		},
		setLogLevel: function (t) {
			e["GameConstants.Build.LOG_LEVEL"] = t
		},
		enableDebug: function (t, i, a) {
			var s = CryptoJS.MD5(i);
			"EqEeMbbSqu+ms5NROS97KQ==" === s.toString(CryptoJS.enc.Base64) && (e["GameConstants.Build.DEBUG"] = !0, e["GameConstants.Build.SHOW_FPS"] = Util.isDefined(a) && a, t.prodigy.debug.enableDebugCalls(t, !1))
		},
		setNightWOWRewardIndex: function (t, i) {
			e["GameConstants.Features.TwilightWheel.RIGGED_REWARD"] = i
		},
		setDrops: function (t, i) {
			e["GameConstants.Debug.FORCE_DROPS"] = i
		}
	}
}();
Util.capitalize = function (e) {
	return e.charAt(0).toUpperCase() + e.slice(1)
}, Util.setCookie = function (e, t, i) {
	var a = new Date;
	a.setTime(a.getTime() + 24 * i * 60 * 60 * 1e3);
	var s = "expires=" + a.toUTCString();
	document.cookie = e + "=" + t + "; " + s
}, Util.getDate = function () {
	var e = new Date,
		t = e.getDate(),
		i = e.getMonth() + 1,
		a = e.getFullYear();
	return 10 > t && (t = "0" + t), 10 > i && (i = "0" + i), i + "" + t + a
}, Util.DEBUG_DAY_LENGTH = 864e5, Util.getDateId = function () {
	return GameConstants.get("GameConstants.Build.DEBUG") ? Math.floor((new Date).getTime() / Util.DEBUG_DAY_LENGTH) : Math.floor((new Date).getTime() / 864e5)
}, Util.isDateToday = function (e) {
	var t = new Date;
	return e.getUTCDate() == t.getUTCDate() && e.getUTCMonth() == t.getUTCMonth() && e.getUTCFullYear() == t.getUTCFullYear()
}, Util.elapsedTimeInHours = function (e, t) {
	return (t - e) / 36e5
}, Util.getCookie = function (e) {
	e += "=";
	for (var t = document.cookie.split(";"), i = 0; i < t.length; i++) {
		for (var a = t[i];
			" " == a.charAt(0);) a = a.substring(1);
		if (0 == a.indexOf(e)) return a.substring(e.length, a.length)
	}
	return ""
}, Util.convertItemToIcon = function (e) {
	return "gold" === e.type ? "item/26" : "pet" === e.type ? "pets/" + e.ID.toString() : "spell" === e.type ? e.element : "boss" === e.type ? "boss" : "player" === e.type ? "player" : "dorm" === e.type ? "" + e.ID : Util.isDefined(e.previewIcon) ? e.previewIcon : Util.isDefined(e.type) && Util.isDefined(e.ID) ? e.type + "/" + e.ID : Util.isDefined(e.tag) ? e.tag : "string" == typeof e ? e : "empty"
}, Util.numberToString = function (e) {
	e = "" + e;
	for (var t = "", i = 1, a = e.length - 1; a >= 0; a--) t = e.charAt(a) + t, i % 3 === 0 && i > 0 && a > 0 && (t = "," + t), i++;
	return t
}, Util.isSchoolHours = function () {
	var e = new Date,
		t = e.getHours();
	return t >= 8 && 15 >= t
}, Util.isNightTime = function () {
	var e = new Date,
		t = e.getHours();
	return t >= 16 && 23 >= t
}, Util.isDefined = function (e) {
	return !("undefined" == typeof e || null === e || "null" === e)
}, Util.isString = function (e) {
	return "string" == typeof e || e instanceof String
}, Util.getDateTime = function () {
	var e = new Date;
	return new Date(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDay()).getTime()
}, Util.highlightAll = function (e, t, i, a) {
	for (var s = 0; s < e.length; s++) Util.isDefined(e[s].highlight) && e[s].highlight(t, i, a)
}, Util.getObject = function (e) {
	return "null" === e ? null : Util.isString(e) ? JSON.parse(e) : e
}, Util.copyObject = function (e) {
	var t = {};
	if (null == e || "object" != typeof e) return e;
	if (e instanceof Array) {
		t = [];
		for (var i = 0, a = e.length; a > i; i++) t[i] = Util.copyObject(e[i])
	}
	if (e instanceof Object)
		for (var s in e) e.hasOwnProperty(s) && (t[s] = Util.copyObject(e[s]));
	return t
}, Util.isEmptyObject = function (e) {
	if (!Util.isDefined(e)) return !0;
	for (var t in e)
		if (e.hasOwnProperty(t)) return !1;
	return !0
}, Util.inArray = function (e, t) {
	for (var i = 0; i < e.length; i++)
		if (e[i] === t) return !0;
	return !1
}, Util.removeDuplicates = function (e) {
	for (var t = [], i = 0; i < e.length; i++) Util.inArray(t, e[i]) || t.push(e[i]);
	return t
}, Util.equalArrays = function (e, t) {
	if (e === t) return !0;
	if (null == e || null == t) return !1;
	if (e.length != t.length) return !1;
	for (var i = 0; i < e.length; ++i)
		if (e[i] !== t[i]) return !1;
	return !0
}, Util.strip = function (e) {
	try {
		e = e.replace(/[^a-zA-Z0-9]/g, "")
	} catch (t) {}
	return e
}, Util.getUrlVariable = function (e) {
	{
		var t = {};
		window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (e, i, a) {
			t[i] = a
		})
	}
	return t[e]
}, Util.removeParamsFromUrl = function (e, t) {
	for (var i = e, a = "", s = 0; s < t.length; s++) a = t[s], i = i.replace(new RegExp("([?&]+)" + a + "=[^&]*&*", "gi"), function (e, t) {
		return t
	});
	if (i.length > 0) {
		var r = i[i.length - 1];
		("?" === r || "&" === r) && (i = i.substring(0, i.length - 1))
	}
	return i
}, Util.removeFromArray = function (e, t) {
	for (var i = 0; i < t.length; i++)
		if (t[i] === e) {
			t.splice(i, 1);
			break
		}
}, Util.centreObject = function (e, t, i, a, s) {
	Util.isDefined(t) && Util.isDefined(a) && (e.x = t - .5 * a), Util.isDefined(i) && Util.isDefined(s) && (e.y = i - .5 * s)
}, Util.getCenteredXY = function (e, t, i, a, s, r) {
	return {
		x: i + .5 * (s - e),
		y: a + .5 * (r - t)
	}
}, Util.processTime = function (e) {
	if (0 >= e) return "00:00";
	var t = Math.floor(e / 36e5),
		i = Math.floor((e - 36e5 * t) / 6e4),
		a = Math.floor((e - 36e5 * t - 6e4 * i) / 1e3);
	return 0 === t ? t = "00" : 10 > t && (t = "0" + t), 0 === i ? i = "00" : 10 > i && (i = "0" + i), 0 === a ? a = "00" : 10 > a && (a = "0" + a), "00" === t ? i + ":" + a : 24 > t ? t + ":" + i + ":" + a : Math.floor(t / 24) + " days"
}, Util.calculateItemSpacing = function (e, t, i) {
	return (i - e * t) / (e + 1)
}, Util.calculateItemCoordinate = function (e, t, i) {
	return (t + i) * e + i
}, Util.centerItemsWithinContainer = function (e, t, i, a) {
	var s = i ? 0 : t.x,
		r = i ? 0 : t.y;
	Util.isDefined(a) && (s += Util.isDefined(a.x) ? a.x : 0, r += Util.isDefined(a.y) ? a.y : 0);
	var o = Util.calculateItemSpacing(e.length, e[0].width, t.width),
		n = Util.calculateItemSpacing(1, e[0].height, t.height),
		h = r + Util.calculateItemCoordinate(0, e[0].height, n);
	e.forEach(function (e, t) {
		e.x = s + Util.calculateItemCoordinate(t, e.width, o), e.y = h
	})
}, Util.DEV = 1, Util.DEBUG = 2, Util.INFO = 4, Util.ERROR = 8, Util.log = function (e, t) {
	if (t = Util.isDefined(t) ? t : 1, t & GameConstants.get("GameConstants.Build.LOG_LEVEL")) {
		var i = "string" == typeof e;
		switch (t) {
		case 8:
			console.log(i ? "%c[PRODIGY][ERROR] " + e : e, "background: #900; color: #FFF");
			break;
		case 4:
			console.log(i ? "%c[PRODIGY][INFO] " + e : e, "background: #009; color: #FFF");
			break;
		case 2:
			console.log(i ? "[PRODIGY][DEBUG] " + e : e);
			break;
		default:
			console.log(i ? "[PRODIGY][DEV] " + e : e)
		}
	}
}, Util.validateVersion = function (e) {
	return /^[0-9-]+$/.test(e) ? e : null
}, Util.trimText = function (e, t, i) {
	return e.length > t && (e = e.substring(0, t), Util.isDefined(i) && i && (e += "...")), e
}, Util.joinByProperty = function (e, t, i) {
	Util.isDefined(i) || (i = ",");
	for (var a = "", s = e.length, r = 0; s > r; r++) a += e[r][t] + (s - 1 > r ? i : "");
	return a
}, Prodigy.DrawUtil = {
	createBox: function (e, t, i, a, s, r, o, n) {
		var h = e.add.graphics(0, 0, n);
		return h.beginFill(r, o), h.lineTo(a, 0), h.lineTo(a, s), h.lineTo(0, s), h.lineTo(0, 0), h.x = t, h.y = i, h.endFill(), h
	}
}, Prodigy.Events = {}, Prodigy.Events.VictoryManager = {
	SHOW_DROPS: "Prodigy.Events.VictoryManager.SHOW_DROPS",
	COMPLETE: "Prodigy.Events.VictoryManager.COMPLETE"
}, Prodigy.Events.Screen = {
	ADD_CHILD: "Prodigy.Events.Screen.ADD_CHILD",
	GET_LAYER: "Prodigy.Events.Screen.GET_LAYER"
}, Prodigy.Events.FlyingMemberStars = {
	DONE: "Prodigy.Events.FlyingMemberStars.DONE"
}, Prodigy.Events.FlyingStars = {
	DONE: "Prodigy.Events.FlyingStars.DONE"
}, Prodigy.Events.Battle = {
	GET_IS_RUNNING: "Prodigy.Events.Battle.GET_IS_RUNNING",
	POPUP_CLOSED: "Prodigy.Events.Battle.POPUP_CLOSED",
	END_BATTLE: "Prodigy.Events.Battle.END_BATTLE",
	APPLY_SLOT_BONUS: "Prodigy.Events.Battle.APPLY_SLOT_BONUS",
	PVP_COMBO_INCREASE: "Prodigy.Events.Battle.PVP_COMBO_INCREASE",
	PVP_COMBO_BREAK: "Prodigy.Events.Battle.PVP_COMBO_BREAK",
	PVP_UPDATE: "Prodigy.Events.Battle.PVP_UPDATE",
	PVP_COMBO_METRE_MOVE_IN: "Prodigy.Events.Battle.PVP_COMBO_METRE_MOVE_IN",
	PVP_COMBO_METRE_MOVE_OUT: "Prodigy.Events.Battle.PVP_COMBO_METRE_MOVE_OUT"
}, Prodigy.Events.Creature = {
	ANIMATION_DONE: "Prodigy.Events.Creature.ANIMATION_DONE",
	LEVEL_UP: "Prodigy.Events.Creature.LEVEL_UP",
	STARS_ADDED: "Prodigy.Events.Creature.STARS_ADDED"
}, Prodigy.Events.Chest = {
	SHOW_MEMBER_STARS: "Prodigy.Events.Chest.SHOW_MEMBER_STARS"
}, Prodigy.Events.NetworkHandlers = {}, Prodigy.Events.NetworkHandlers.SETUP = "Prodigy.Events.NetworkHandlers.SETUP", Prodigy.Events.HUD = {}, Prodigy.Events.HUD.OPEN_CHAT = "Prodigy.Events.HUD.OPEN_CHAT", Prodigy.Events.HUD.CLOSE_CHAT = "Prodigy.Events.HUD.CLOSE_CHAT", Prodigy.Events.HUD.SET_CLICKED_WORLD_MAP = "Prodigy.Events.HUD.SET_CLICKED_WORLD_MAP", Prodigy.Events.Mailer = {}, Prodigy.Events.Mailer.GET_TOTAL_MAIL = "Prodigy.Events.Mailer.GET_TOTAL_MAIL", Prodigy.Events.Mailer.GET_ALL_MAIL = "Prodigy.Events.Mailer.GET_ALL_MAIL", Prodigy.Events.Mailer.MARK_AS_READ = "Prodigy.Events.Mailer.MARK_AS_READ", Prodigy.Events.Mailer.DELETE_MAIL = "Prodigy.Events.Mailer.DELETE_MAIL", Prodigy.Events.Mailer.DELETE_MAIL_SUCCESSFUL = "Prodigy.Events.Mailer.DELETE_MAIL_SUCCESSFUL", Prodigy.Events.Mailer.UPDATE_MAIL_COUNTERS = "Prodigy.Events.Mailer.UPDATE_MAIL_COUNTERS", Prodigy.Events.Mailer.SHOW_INDICATOR = "Prodigy.Events.Mailer.SHOW_INDICATOR", Prodigy.Events.Survey = {}, Prodigy.Events.Survey.ON_GET_DATA_COMPLETE = "Prodigy.Events.Survey.ON_GET_DATA_COMPLETE", Prodigy.Events.GameObj = {}, Prodigy.Events.GameObj.UPDATE = "Prodigy.Events.GameObj.UPDATE", Prodigy.Events.Loading = {}, Prodigy.Events.Loading.WORKER_LOAD_COMPLETE = "Prodigy.Events.Loading.WORKER_LOAD_COMPLETE", Prodigy.Events.House = {}, Prodigy.Events.House.CLICKED_HOUSE_ICON = "Prodigy.Events.House.CLICKED_HOUSE_ICON", Prodigy.Events.Debug = {}, Prodigy.Events.Debug.AUTO_CLICK = "Prodigy.Events.Debug.AUTO_CLICK", Prodigy.Events.FriendsList = {
	GOT_FRIENDS_LIST: "Prodigy.Events.FriendsList.GOT_FRIENDS_LIST",
	GET_TOTAL_FRIEND_REQUESTS: "Prodigy.Events.FriendsList.GET_TOTAL_FRIEND_REQUESTS",
	CLEAR_FRIEND_REQUESTS_CACHE: "Prodigy.Events.FriendsList.CLEAR_FRIEND_REQUESTS_CACHE",
	GET_FRIEND_REQUEST_LIST: "Prodigy.Events.FriendsList.GET_FRIEND_REQUEST_LIST",
	GOT_FRIEND_REQUEST_LIST: "Prodigy.Events.FriendsList.GOT_FRIEND_REQUEST_LIST",
	SET_REQUESTS: "Prodigy.Events.FriendsList.SET_REQUESTS",
	SEND_REQUEST: "Prodigy.Events.FriendsList.SEND_REQUEST",
	CANCEL_REQUEST: "Prodigy.Events.FriendsList.CANCEL_REQUEST",
	ACCEPT_REQUEST: "Prodigy.Events.FriendsList.ACCEPT_REQUEST",
	REJECT_REQUEST: "Prodigy.Events.FriendsList.REJECT_REQUEST",
	REQUEST_SENT: "Prodigy.Events.FriendsList.REQUEST_SENT",
	REQUEST_CANCELLED: "Prodigy.Events.FriendsList.REQUEST_CANCELLED",
	REQUEST_RECEIVED: "Prodigy.Events.FriendsList.REQUEST_RECEIVED",
	REQUEST_ACCEPTED: "Prodigy.Events.FriendsList.REQUEST_ACCEPTED",
	REQUEST_REJECTED: "Prodigy.Events.FriendsList.REQUEST_REJECTED",
	REMOVE_FRIEND: "Prodigy.Events.FriendsList.REMOVE_FRIEND",
	FRIEND_REMOVED: "Prodigy.Events.FriendsList.FRIEND_REMOVED",
	GET_FRIENDSHIP_STATUS: "Prodigy.Events.FriendsList.GET_FRIENDSHIP_STATUS",
	GOT_FRIENDSHIP_STATUS: "Prodigy.Events.FriendsList.GOT_FRIENDSHIP_STATUS",
	FRIENDS_APPEARANCE_UPDATED: "Prodigy.Events.FriendsList.FRIENDS_APPEARANCE_UPDATED",
	ILLOGICAL_REQUEST_ACTION: "Prodigy.Events.FriendsList.ILLOGICAL_REQUEST_ACTION"
}, Prodigy.Events.PlayerLocomotion = {}, Prodigy.Events.PlayerLocomotion.MOVE_PLAYER = "Prodigy.Events.PlayerLocomotion.MOVE_PLAYER", Prodigy.Events.PlayerLocomotion.GET_TARGET = "Prodigy.Events.PlayerLocomotion.GET_TARGET", Prodigy.Control.Element = function (e, t, i, a) {
	Phaser.Group.call(this, e, t), Util.isDefined(i) && (this.x = i), Util.isDefined(a) && (this.y = a)
}, Prodigy.extends(Prodigy.Control.Element, Phaser.Group, {
	constructor: Prodigy.Control.Element,
	setRenderState: function (e, t) {
		this.renderOnly = e, this.tintElement = t, this.renderUpdate = !0
	},
	showTooltip: function (e, t) {
		if (Util.isDefined(this.tooltip) && (this.tooltip.destroy(), this.tooltip = null), Util.isDefined(e)) {
			this.tooltip = this.game.prodigy.create.element(this, t);
			var i = this.tooltip.add(this.game.prodigy.create.sprite(30, 0, "core", "tooltip"));
			i.alpha = .9, i.width = 300, i.height = 50, this.game.prodigy.create.font(this.tooltip, 90, 11, e, {
				width: 230,
				align: "center"
			}), i = this.tooltip.add(this.game.prodigy.create.sprite(0, 0, "icons", "type")), this.game.add.tween(i).to({
				x: 10
			}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0)
		}
	},
	showHouseTooltip: function (e, t) {
		if (Util.isDefined(this.tooltip) && (this.tooltip.destroy(), this.tooltip = null), Util.isDefined(e)) {
			this.tooltip = this.game.prodigy.create.element(this, t);
			var i = this.tooltip.add(this.game.prodigy.create.sprite(30, 0, "core", "tooltip"));
			i.alpha = .9, i.width = 300, i.height = 50, this.game.prodigy.create.font(this.tooltip, 90, 11, e, {
				width: 230,
				align: "center"
			}), i = this.tooltip.add(this.game.prodigy.create.sprite(0, 0, "icons", "arrow")), this.game.add.tween(i).to({
				x: 10
			}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0)
		}
	},
	hasTooltip: function () {
		return Util.isDefined(this.tooltip)
	},
	highlight: function (e, t, i) {
		Util.isDefined(this.arrow) && (this.arrow.destroy(), this.arrow = null), e && (this.arrow = this.add(this.game.prodigy.create.sprite(0, 0, "icons", "help")), this.arrow.x = (t || 0) + Math.floor(this.width / 2), this.arrow.y = (i || 0) - this.arrow.height + 10, this.game.add.tween(this.arrow).to({
			y: this.arrow.y + 25
		}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0))
	},
	isHighlighted: function () {
		return Util.isDefined(this.arrow)
	}
}), Prodigy.Assets = function () {
	var e = "images/player/reduced/outfits/male/",
		t = "images/player/reduced/outfits/female/",
		i = "images/player/reduced/hair/male/",
		a = "images/player/reduced/hair/female/",
		s = "images/player/reduced/hats/",
		r = "images/player/normal/outfits/male/",
		o = "images/player/normal/outfits/female/",
		n = "images/player/normal/hair/male/",
		h = "images/player/normal/hair/female/",
		l = "images/player/normal/hats/",
		d = "images/player/normal/weapons/",
		p = "v1/tilesets/",
		c = "v1/tiled-data/",
		g = "images/monsters/",
		u = "images/monsters/reduced/",
		y = "images/monsters/small/",
		m = "images/boss/",
		f = "images/boss/small/",
		b = "images/prompts/",
		q = "https://daboss7173.github.io/oldprodigy/1-50-0/images/";
	this._assets = {
		"boss-12": {
			type: "atlas",
			key: "boss-skywatch",
			v: "1"
		},
		"boss-13": {
			type: "atlas",
			key: "boss-bonfire",
			v: "1"
		},
		"event-daily_login_bonus": {
			type: "atlas",
			key: "event-daily-login-bonus",
			v: "1"
		},
		"event-october": {
			type: "atlas",
			key: "event-october",
			v: "1"
		},
		"event-pumpkinfest": {
			type: "atlas",
			key: "event-pumpkinfest",
			v: "1"
		},
		"event-starlight_festival": {
			type: "atlas",
			key: "event-starlight-festival",
			v: "1"
		},
		"event-winterfest": {
			type: "atlas",
			key: "event-winterfest",
			v: "1"
		},
		"font-black": {
			type: "atlas",
			key: "font-black",
			v: "1"
		},
		"font-button": {
			type: "atlas",
			key: "font-button",
			v: "1"
		},
		"font-general": {
			type: "atlas",
			key: "font-general",
			v: "1"
		},
		"font-battle": {
			type: "atlas",
			key: "font-battle",
			v: "6"
		},
		"game-dancedance": {
			type: "atlas",
			key: "game-dancedance",
			v: "1"
		},
		"game-dinodig": {
			type: "atlas",
			key: "game-dinodig",
			v: "1"
		},
		attacks: {
			type: "atlas",
			key: "general-attacks",
			v: "1"
		},
		battle: {
			type: "atlas",
			key: "general-battle",
			v: "16"
		},
		core: {
			type: "atlas",
			key: "general-core",
			v: "3"
		},
		"core-2": {
			type: "atlas",
			key: "general-core-2",
			v: "12"
		},
		heads: {
			type: "atlas",
			key: "general-head",
			v: "1"
		},
		icons: {
			type: "atlas",
			key: "general-icons",
			v: "42"
		},
		"icons-hud": {
			type: "atlas",
			key: "general-icons-hud",
			v: "4"
		},
		"icons-house": {
			type: "atlas",
			key: "icons-house",
			v: "3"
		},
		"icons-menu": {
			type: "atlas",
			key: "icons-menu",
			v: "3"
		},
		"general-hair-icons": {
			type: "atlas",
			key: "general-hair-icons",
			v: "1"
		},
		login: {
			type: "localAtlas",
			base: q,
			key: "general-login",
			v: "1"
		},
		map: {
			type: "atlas",
			key: "general-map",
			v: "6"
		},
		pets: {
			type: "atlas",
			key: "general-pets",
			v: "11"
		},
		player: {
			type: "atlas",
			key: "general-player",
			v: "1"
		},
		"npc-face-benni": {
			type: "atlas",
			key: "npc-face-benni",
			v: "1"
		},
		"npc-face-bok": {
			type: "atlas",
			key: "npc-face-bok",
			v: "1"
		},
		"npc-face-boombox": {
			type: "atlas",
			key: "npc-face-boombox",
			v: "1"
		},
		"npc-face-broccolina": {
			type: "atlas",
			key: "npc-face-broccolina",
			v: "1"
		},
		"npc-face-cebollini": {
			type: "atlas",
			key: "npc-face-cebollini",
			v: "1"
		},
		"npc-face-clankboot": {
			type: "atlas",
			key: "npc-face-clankboot",
			v: "1"
		},
		"npc-face-cumulo": {
			type: "atlas",
			key: "npc-face-cumulo",
			v: "1"
		},
		"npc-face-eugene": {
			type: "atlas",
			key: "npc-face-eugene",
			v: "1"
		},
		"npc-face-eve": {
			type: "atlas",
			key: "npc-face-eve",
			v: "1"
		},
		"npc-face-flora": {
			type: "atlas",
			key: "npc-face-flora",
			v: "1"
		},
		"npc-face-guard": {
			type: "atlas",
			key: "npc-face-guard",
			v: "1"
		},
		"npc-face-howard_cornelius": {
			type: "atlas",
			key: "npc-face-howard-cornelius",
			v: "1"
		},
		"npc-face-julia_ghoulia": {
			type: "atlas",
			key: "npc-face-julia-ghoulia",
			v: "1"
		},
		"npc-face-mama_star": {
			type: "atlas",
			key: "npc-face-mama-star",
			v: "1"
		},
		"npc-face-merchant": {
			type: "atlas",
			key: "npc-face-merchant",
			v: "1"
		},
		"npc-face-mira": {
			type: "atlas",
			key: "npc-face-mira",
			v: "1"
		},
		"npc-face-morris": {
			type: "atlas",
			key: "npc-face-morris",
			v: "1"
		},
		"npc-face-mozza-ella": {
			type: "atlas",
			key: "npc-face-mozza-ella",
			v: "2"
		},
		"npc-face-mugs": {
			type: "atlas",
			key: "npc-face-mugs",
			v: "1"
		},
		"npc-face-noot": {
			type: "atlas",
			key: "npc-face-noot",
			v: "1"
		},
		"npc-face-pippit": {
			type: "atlas",
			key: "npc-face-pippit",
			v: "1"
		},
		"npc-face-puppetmaster": {
			type: "atlas",
			key: "npc-face-puppetmaster",
			v: "1"
		},
		"npc-face-scoog": {
			type: "atlas",
			key: "npc-face-scoog",
			v: "1"
		},
		"npc-face-slime_guard": {
			type: "atlas",
			key: "npc-face-slime-guard",
			v: "1"
		},
		"npc-face-slime_queen": {
			type: "atlas",
			key: "npc-face-slime-queen",
			v: "1"
		},
		"npc-face-slime_worker": {
			type: "atlas",
			key: "npc-face-slime-worker",
			v: "1"
		},
		"npc-face-slurpy": {
			type: "atlas",
			key: "npc-face-slurpy",
			v: "1"
		},
		"npc-face-stache": {
			type: "atlas",
			key: "npc-face-stache",
			v: "1"
		},
		"npc-face-toy": {
			type: "atlas",
			key: "npc-face-toy",
			v: "3"
		},
		"npc-face-wizard": {
			type: "atlas",
			key: "npc-face-wizard",
			v: "1"
		},
		"npc-sprite-benni": {
			type: "atlas",
			key: "npc-sprite-benni",
			v: "1"
		},
		"npc-sprite-bok": {
			type: "atlas",
			key: "npc-sprite-bok",
			v: "1"
		},
		"npc-sprite-boombox": {
			type: "atlas",
			key: "npc-sprite-boombox",
			v: "1"
		},
		"npc-sprite-broccolina": {
			type: "atlas",
			key: "npc-sprite-broccolina",
			v: "1"
		},
		"npc-sprite-cebollini": {
			type: "atlas",
			key: "npc-sprite-cebollini",
			v: "1"
		},
		"npc-sprite-clankboot": {
			type: "atlas",
			key: "npc-sprite-clankboot",
			v: "1"
		},
		"npc-sprite-cumulo": {
			type: "atlas",
			key: "npc-sprite-cumulo",
			v: "1"
		},
		"npc-sprite-eugene": {
			type: "atlas",
			key: "npc-sprite-eugene",
			v: "1"
		},
		"npc-sprite-eve": {
			type: "atlas",
			key: "npc-sprite-eve",
			v: "1"
		},
		"npc-sprite-flora": {
			type: "atlas",
			key: "npc-sprite-flora",
			v: "3"
		},
		"npc-sprite-gnome": {
			type: "atlas",
			key: "npc-sprite-gnome",
			v: "2"
		},
		"npc-sprite-guard": {
			type: "atlas",
			key: "npc-sprite-guard",
			v: "1"
		},
		"npc-sprite-howard_cornelius": {
			type: "atlas",
			key: "npc-sprite-howard-cornelius",
			v: "1"
		},
		"npc-sprite-julia_ghoulia": {
			type: "atlas",
			key: "npc-sprite-julia-ghoulia",
			v: "1"
		},
		"npc-sprite-mama_star": {
			type: "atlas",
			key: "npc-sprite-mama-star",
			v: "1"
		},
		"npc-sprite-merchant": {
			type: "atlas",
			key: "npc-sprite-merchant",
			v: "1"
		},
		"npc-sprite-mira": {
			type: "atlas",
			key: "npc-sprite-mira",
			v: "1"
		},
		"npc-sprite-morris": {
			type: "atlas",
			key: "npc-sprite-morris",
			v: "1"
		},
		"npc-sprite-mozza-ella": {
			type: "atlas",
			key: "npc-sprite-mozza-ella",
			v: "1"
		},
		"npc-sprite-mugs": {
			type: "atlas",
			key: "npc-sprite-mugs",
			v: "1"
		},
		"npc-sprite-noot": {
			type: "atlas",
			key: "npc-sprite-noot",
			v: "1"
		},
		"npc-sprite-pippit": {
			type: "atlas",
			key: "npc-sprite-pippit",
			v: "1"
		},
		"npc-sprite-puppetmaster": {
			type: "atlas",
			key: "npc-sprite-puppetmaster",
			v: "1"
		},
		"npc-sprite-scoog": {
			type: "atlas",
			key: "npc-sprite-scoog",
			v: "1"
		},
		"npc-sprite-slime_guard": {
			type: "atlas",
			key: "npc-sprite-slime-guard",
			v: "1"
		},
		"npc-sprite-slime_queen": {
			type: "atlas",
			key: "npc-sprite-slime-queen",
			v: "1"
		},
		"npc-sprite-worker-slime": {
			type: "atlas",
			key: "npc-sprite-slime-worker",
			v: "1"
		},
		"npc-sprite-slurpy": {
			type: "atlas",
			key: "npc-sprite-slurpy",
			v: "1"
		},
		"npc-sprite-stache": {
			type: "atlas",
			key: "npc-sprite-stache",
			v: "1"
		},
		"npc-sprite-toy": {
			type: "atlas",
			key: "npc-sprite-toy",
			v: "4"
		},
		"npc-sprite-wizard": {
			type: "atlas",
			key: "npc-sprite-wizard",
			v: "1"
		},
		"popup-member": {
			type: "atlas",
			key: "popup-member",
			v: "1"
		},
		"popup-member2": {
			type: "atlas",
			key: "popup-member2",
			v: "1"
		},
		"popup-toyStore": {
			type: "atlas",
			key: "popup-toystore",
			v: "7"
		},
		"popup-after-hours": {
			type: "atlas",
			key: "popup-after-hours",
			v: "1"
		},
		"popup-toyZone": {
			type: "atlas",
			key: "popup-toyzone",
			v: "8"
		},
		"scene-intro": {
			type: "atlas",
			key: "scene-intro",
			v: "1"
		},
		"store-cloud": {
			type: "atlas",
			key: "store-cloud",
			v: "1"
		},
		"store-dorm": {
			type: "atlas",
			key: "store-dorm",
			v: "1"
		},
		"store-forest": {
			type: "atlas",
			key: "store-forest",
			v: "1"
		},
		"store-mountain": {
			type: "atlas",
			key: "store-mountain",
			v: "1"
		},
		"store-pirate": {
			type: "atlas",
			key: "store-pirate",
			v: "1"
		},
		"store-tech": {
			type: "atlas",
			key: "store-tech",
			v: "1"
		},
		"store-volcano": {
			type: "atlas",
			key: "store-volcano",
			v: "1"
		},
		"tileset-core": {
			type: "atlas",
			key: "tileset-core",
			v: "2"
		},
		"zone-arena": {
			type: "atlas",
			key: "zone-arena",
			v: "1"
		},
		"zone-bonfire": {
			type: "atlas",
			key: "zone-bonfire",
			v: "1"
		},
		"zone-cloud": {
			type: "atlas",
			key: "zone-cloud",
			v: "1"
		},
		"zone-dino": {
			type: "atlas",
			key: "zone-dino",
			v: "1"
		},
		"zone-forest": {
			type: "atlas",
			key: "zone-forest",
			v: "1"
		},
		"zone-house": {
			type: "atlas",
			key: "zone-house",
			v: "4"
		},
		"zone-lamplight": {
			type: "atlas",
			key: "zone-lamplight",
			v: "5"
		},
		"zone-museum": {
			type: "atlas",
			key: "zone-museum",
			v: "1"
		},
		"zone-pirate": {
			type: "atlas",
			key: "zone-pirate",
			v: "1"
		},
		"zone-plains": {
			type: "atlas",
			key: "zone-plains",
			v: "1"
		},
		"zone-shiverchill": {
			type: "atlas",
			key: "zone-shiverchill",
			v: "2"
		},
		"zone-skywatch": {
			type: "atlas",
			key: "zone-skywatch",
			v: "1"
		},
		"zone-tech": {
			type: "atlas",
			key: "zone-tech",
			v: "1"
		},
		"zone-tower": {
			type: "atlas",
			key: "zone-tower",
			v: "1"
		},
		"zone-towerbase": {
			type: "atlas",
			key: "zone-towerbase",
			v: "1"
		},
		"zone-toyzone": {
			type: "atlas",
			key: "zone-toyzone",
			v: "1"
		},
		"zone-volcano": {
			type: "atlas",
			key: "zone-volcano",
			v: "1"
		},
		"popup-member-modular": {
			type: "atlas",
			key: "popup-member-modular",
			v: "6"
		},
		"npc-face-sir-vey": {
			type: "atlas",
			key: "npc-face-sir-vey",
			v: "1"
		},
		"boss-gerald": {
			type: "atlas",
			key: "boss-gerald",
			v: "2"
		},
		"icons-house-buying": {
			type: "atlas",
			key: "icons-house-buying",
			v: "1"
		},
		"popup-parent-link": {
			type: "atlas",
			key: "popup-parent-link",
			v: "4"
		},
		"popup-toy-survey": {
			type: "atlas",
			key: "popup-toy-survey",
			v: "2"
		},
		"npc-sprite-potion": {
			type: "atlas",
			key: "npc-sprite-potion",
			v: "2"
		},
		"npc-face-potion": {
			type: "atlas",
			key: "npc-face-potion",
			v: "5"
		},
		"npc-face-swoopy": {
			type: "atlas",
			key: "npc-face-swoopy",
			v: "1"
		},
		"npc-sprite-swoopy": {
			type: "atlas",
			key: "npc-sprite-swoopy",
			v: "1"
		},
		"tileset-cloud": {
			type: "spritesheet",
			base: p,
			url: "tileset-cloud/2/tileset-cloud.png",
			w: 40,
			h: 40
		},
		"tileset-cloud-no-collisions": {
			type: "spritesheet",
			base: p,
			url: "tileset-cloud-no-collisions/2/tileset-cloud-no-collisions.png",
			w: 40,
			h: 40
		},
		"tileset-collisions": {
			type: "spritesheet",
			base: p,
			url: "tileset-collisions/2/tileset-collisions.png",
			w: 40,
			h: 40
		},
		"tileset-forest": {
			type: "spritesheet",
			base: p,
			url: "tileset-forest/2/tileset-forest.png",
			w: 40,
			h: 40
		},
		"tileset-forest-new": {
			type: "spritesheet",
			base: p,
			url: "tileset-forest-new/10/tileset-forest-new.png",
			w: 40,
			h: 40
		},
		"tileset-firefly-new": {
			type: "spritesheet",
			base: p,
			url: "tileset-firefly-new/6/tileset-firefly-new.png",
			w: 40,
			h: 40
		},
		"tileset-generic": {
			type: "spritesheet",
			base: p,
			url: "tileset-generic/2/tileset-generic.png",
			w: 40,
			h: 40
		},
		"tileset-generic-new": {
			type: "spritesheet",
			base: p,
			url: "tileset-generic-new/3/tileset-generic-new.png",
			w: 40,
			h: 40
		},
		"tileset-icecave": {
			type: "spritesheet",
			base: p,
			url: "tileset-icecave/4/tileset-icecave.png",
			w: 40,
			h: 40
		},
		"tileset-interior": {
			type: "spritesheet",
			base: p,
			url: "tileset-interior/2/tileset-interior.png",
			w: 40,
			h: 40
		},
		"tileset-interior-general": {
			type: "spritesheet",
			base: p,
			url: "tileset-interior-general/2/tileset-interior-general.png",
			w: 40,
			h: 40
		},
		"tileset-outside": {
			type: "spritesheet",
			base: p,
			url: "tileset-outside/2/tileset-outside.png",
			w: 40,
			h: 40
		},
		"tileset-outsidesnow": {
			type: "spritesheet",
			base: p,
			url: "tileset-outsidesnow/2/tileset-outsidesnow.png",
			w: 40,
			h: 40
		},
		"tileset-railruins": {
			type: "spritesheet",
			base: p,
			url: "tileset-railruins/2/tileset-railruins.png",
			w: 40,
			h: 40
		},
		"tileset-town": {
			type: "spritesheet",
			base: p,
			url: "tileset-town/2/tileset-town.png",
			w: 40,
			h: 40
		},
		"tileset-town-december": {
			type: "spritesheet",
			base: p,
			url: "tileset-town-december/2/tileset-town-december.png",
			w: 40,
			h: 40
		},
		"tileset-town-new": {
			type: "spritesheet",
			base: p,
			url: "tileset-town-new/7/tileset-town-new.png",
			w: 40,
			h: 40
		},
		"tileset-town-november": {
			type: "spritesheet",
			base: p,
			url: "tileset-town-november/2/tileset-town-november.png",
			w: 40,
			h: 40
		},
		"tileset-town-october": {
			type: "spritesheet",
			base: p,
			url: "tileset-town-october/2/tileset-town-october.png",
			w: 40,
			h: 40
		},
		"tileset-toyzone": {
			type: "spritesheet",
			base: p,
			url: "tileset-toyzone/4/tileset-toyzone.png",
			w: 40,
			h: 40
		},
		"tileset-toy-ruins-test": {
			type: "spritesheet",
			base: p,
			url: "tileset-toyzone/3/tileset-toyzone.png",
			w: 40,
			h: 40
		},
		"tileset-volcano": {
			type: "spritesheet",
			base: p,
			url: "tileset-volcano/2/tileset-volcano.png",
			w: 40,
			h: 40
		},
		"tileset-wall-collisions": {
			type: "spritesheet",
			base: p,
			url: "tileset-wall-collisions/2/tileset-wall-collisions.png",
			w: 40,
			h: 40
		},
		"tileset-interior-icecave": {
			type: "spritesheet",
			base: p,
			url: "tileset-interior-icecave/2/tileset-interior-icecave.png",
			w: 40,
			h: 40
		},
		"tileset-firepit": {
			type: "spritesheet",
			base: p,
			url: "tileset-firepit/2/tileset-firepit.png",
			w: 40,
			h: 40
		},
		"tileset-interior-treehouse": {
			type: "spritesheet",
			base: p,
			url: "tileset-interior-treehouse/2/tileset-interior-treehouse.png",
			w: 40,
			h: 40
		},
		"tileset-UI": {
			type: "spritesheet",
			base: p,
			url: "tileset-UI/1/tileset-UI.png",
			w: 40,
			h: 40
		},
		"tileset-twilight-arcade": {
			type: "spritesheet",
			base: p,
			url: "tileset-twilight-arcade/2/tileset-twilight-arcade.png",
			w: 40,
			h: 40
		},
		"tileset-shiverchill-new": {
			type: "spritesheet",
			base: p,
			url: "tileset-shiverchill-new/1/tileset-shiverchill-new.png",
			w: 40,
			h: 40
		},
		"tileset-activityzone": {
			type: "spritesheet",
			base: p,
			url: "tileset-activityzone/2/tileset-activityzone.png",
			w: 40,
			h: 40
		},
		"tileset-generic-snow": {
			type: "spritesheet",
			base: p,
			url: "tileset-generic-snow/2/tileset-generic-snow.png",
			w: 40,
			h: 40
		},
		"tileset-icecave-new": {
			type: "spritesheet",
			base: p,
			url: "tileset-icecave-new/4/tileset-icecave-new.png",
			w: 40,
			h: 40
		},
		"tileset-iceruins": {
			type: "spritesheet",
			base: p,
			url: "tileset-iceruins/2/tileset-iceruins.png",
			w: 40,
			h: 40
		},
		"tileset-minecarts": {
			type: "spritesheet",
			base: p,
			url: "tileset-minecarts/2/tileset-minecarts.png",
			w: 40,
			h: 40
		},
		"tileset-shiverchill": {
			type: "spritesheet",
			base: p,
			url: "tileset-shiverchill/2/tileset-shiverchill.png",
			w: 40,
			h: 40
		},
		"map-pathing": {
			type: "json",
			base: c,
			url: "map-pathing/1/map-pathing.json"
		},
		"map-tutorial-b9": {
			type: "json",
			base: c,
			url: "map-tutorial-b9/1/map-tutorial-b9.json"
		},
		"map-tutorial-c9": {
			type: "json",
			base: c,
			url: "map-tutorial-c9/1/map-tutorial-c9.json"
		},
		"map-tutorial-d8": {
			type: "json",
			base: c,
			url: "map-tutorial-d8/1/map-tutorial-d8.json"
		},
		"map-tutorial-d9": {
			type: "json",
			base: c,
			url: "map-tutorial-d9/1/map-tutorial-d9.json"
		},
		"map-forest-a3": {
			type: "json",
			base: c,
			url: "map-forest-a3/5/map-forest-a3.json"
		},
		"map-forest-a4": {
			type: "json",
			base: c,
			url: "map-forest-a4/5/map-forest-a4.json"
		},
		"map-forest-a5": {
			type: "json",
			base: c,
			url: "map-forest-a5/6/map-forest-a5.json"
		},
		"map-forest-b5": {
			type: "json",
			base: c,
			url: "map-forest-b5/4/map-forest-b5.json"
		},
		"map-forest-b6": {
			type: "json",
			base: c,
			url: "map-forest-b6/4/map-forest-b6.json"
		},
		"map-forest-b7": {
			type: "json",
			base: c,
			url: "map-forest-b7/5/map-forest-b7.json"
		},
		"map-forest-b8": {
			type: "json",
			base: c,
			url: "map-forest-b8/5/map-forest-b8.json"
		},
		"map-forest-c4": {
			type: "json",
			base: c,
			url: "map-forest-c4/4/map-forest-c4.json"
		},
		"map-forest-c7": {
			type: "json",
			base: c,
			url: "map-forest-c7/4/map-forest-c7.json"
		},
		"map-forest-c8": {
			type: "json",
			base: c,
			url: "map-forest-c8/8/map-forest-c8.json"
		},
		"map-forest-d3": {
			type: "json",
			base: c,
			url: "map-forest-d3/15/map-forest-d3.json"
		},
		"map-shiverchill-a5": {
			type: "json",
			base: c,
			url: "map-shiverchill-a5/6/map-shiverchill-a5.json"
		},
		"map-shiverchill-a6": {
			type: "json",
			base: c,
			url: "map-shiverchill-a6/5/map-shiverchill-a6.json"
		},
		"map-shiverchill-a7": {
			type: "json",
			base: c,
			url: "map-shiverchill-a7/4/map-shiverchill-a7.json"
		},
		"map-shiverchill-a11": {
			type: "json",
			base: c,
			url: "map-shiverchill-a11/5/map-shiverchill-a11.json"
		},
		"map-shiverchill-a10": {
			type: "json",
			base: c,
			url: "map-shiverchill-a10/6/map-shiverchill-a10.json"
		},
		"map-shiverchill-a9": {
			type: "json",
			base: c,
			url: "map-shiverchill-a9/5/map-shiverchill-a9.json"
		},
		"map-shiverchill-b3": {
			type: "json",
			base: c,
			url: "map-shiverchill-b3/5/map-shiverchill-b3.json"
		},
		"map-shiverchill-b6": {
			type: "json",
			base: c,
			url: "map-shiverchill-b6/4/map-shiverchill-b6.json"
		},
		"map-shiverchill-b7": {
			type: "json",
			base: c,
			url: "map-shiverchill-b7/5/map-shiverchill-b7.json"
		},
		"map-shiverchill-b1": {
			type: "json",
			base: c,
			url: "map-shiverchill-b1/5/map-shiverchill-b1.json"
		},
		"map-shiverchill-b10": {
			type: "json",
			base: c,
			url: "map-shiverchill-b10/6/map-shiverchill-b10.json"
		},
		"map-shiverchill-a4": {
			type: "json",
			base: c,
			url: "map-shiverchill-a4/5/map-shiverchill-a4.json"
		},
		"map-shiverchill-a3": {
			type: "json",
			base: c,
			url: "map-shiverchill-a3/4/map-shiverchill-a3.json"
		},
		"map-shiverchill-a2": {
			type: "json",
			base: c,
			url: "map-shiverchill-a2/4/map-shiverchill-a2.json"
		},
		"map-shiverchill-b2": {
			type: "json",
			base: c,
			url: "map-shiverchill-b2/5/map-shiverchill-b2.json"
		},
		"map-shiverchill-b8": {
			type: "json",
			base: c,
			url: "map-shiverchill-b8/5/map-shiverchill-b8.json"
		},
		"map-shiverchill-b9": {
			type: "json",
			base: c,
			url: "map-shiverchill-b9/4/map-shiverchill-b9.json"
		},
		"map-lamplight-a2": {
			type: "json",
			base: c,
			url: "map-lamplight-a2/1/map-lamplight-a2.json"
		},
		"map-lamplight-a3": {
			type: "json",
			base: c,
			url: "map-lamplight-a3/2/map-lamplight-a3.json"
		},
		"map-lamplight-a4": {
			type: "json",
			base: c,
			url: "map-lamplight-a4/1/map-lamplight-a4.json"
		},
		"map-lamplight-b0": {
			type: "json",
			base: c,
			url: "map-lamplight-b0/1/map-lamplight-b0.json"
		},
		"map-lamplight-b1": {
			type: "json",
			base: c,
			url: "map-lamplight-b1/1/map-lamplight-b1.json"
		},
		"map-lamplight-b2": {
			type: "json",
			base: c,
			url: "map-lamplight-b2/1/map-lamplight-b2.json"
		},
		"map-lamplight-b3": {
			type: "json",
			base: c,
			url: "map-lamplight-b3/3/map-lamplight-b3.json"
		},
		"map-lamplight-b4": {
			type: "json",
			base: c,
			url: "map-lamplight-b4/1/map-lamplight-b4.json"
		},
		"map-lamplight-b5": {
			type: "json",
			base: c,
			url: "map-lamplight-b5/1/map-lamplight-b5.json"
		},
		"map-lamplight-c1": {
			type: "json",
			base: c,
			url: "map-lamplight-c1/1/map-lamplight-c1.json"
		},
		"map-lamplight-c2": {
			type: "json",
			base: c,
			url: "map-lamplight-c2/1/map-lamplight-c2.json"
		},
		"map-lamplight-c3": {
			type: "json",
			base: c,
			url: "map-lamplight-c3/3/map-lamplight-c3.json"
		},
		"map-lamplight-c4": {
			type: "json",
			base: c,
			url: "map-lamplight-c4/1/map-lamplight-c4.json"
		},
		"map-lamplight-a2-pumpkinfest": {
			type: "json",
			base: c,
			url: "map-lamplight-a2-pumpkinfest/1/map-lamplight-a2-pumpkinfest.json"
		},
		"map-lamplight-a3-pumpkinfest": {
			type: "json",
			base: c,
			url: "map-lamplight-a3-pumpkinfest/1/map-lamplight-a3-pumpkinfest.json"
		},
		"map-lamplight-a4-pumpkinfest": {
			type: "json",
			base: c,
			url: "map-lamplight-a4-pumpkinfest/1/map-lamplight-a4-pumpkinfest.json"
		},
		"map-lamplight-b0-pumpkinfest": {
			type: "json",
			base: c,
			url: "map-lamplight-b0-pumpkinfest/1/map-lamplight-b0-pumpkinfest.json"
		},
		"map-lamplight-b1-pumpkinfest": {
			type: "json",
			base: c,
			url: "map-lamplight-b1-pumpkinfest/1/map-lamplight-b1-pumpkinfest.json"
		},
		"map-lamplight-b2-pumpkinfest": {
			type: "json",
			base: c,
			url: "map-lamplight-b2-pumpkinfest/1/map-lamplight-b2-pumpkinfest.json"
		},
		"map-lamplight-b3-pumpkinfest": {
			type: "json",
			base: c,
			url: "map-lamplight-b3-pumpkinfest/1/map-lamplight-b3-pumpkinfest.json"
		},
		"map-lamplight-b4-pumpkinfest": {
			type: "json",
			base: c,
			url: "map-lamplight-b4-pumpkinfest/1/map-lamplight-b4-pumpkinfest.json"
		},
		"map-lamplight-b5-pumpkinfest": {
			type: "json",
			base: c,
			url: "map-lamplight-b5-pumpkinfest/1/map-lamplight-b5-pumpkinfest.json"
		},
		"map-lamplight-c1-pumpkinfest": {
			type: "json",
			base: c,
			url: "map-lamplight-c1-pumpkinfest.json"
		},
		"map-lamplight-c2-pumpkinfest": {
			type: "json",
			base: c,
			url: "map-lamplight-c2-pumpkinfest/1/map-lamplight-c2-pumpkinfest.json"
		},
		"map-lamplight-c3-pumpkinfest": {
			type: "json",
			base: c,
			url: "map-lamplight-c3-pumpkinfest/1/map-lamplight-c3-pumpkinfest.json"
		},
		"map-lamplight-c4-pumpkinfest": {
			type: "json",
			base: c,
			url: "map-lamplight-c4-pumpkinfest/1/map-lamplight-c4-pumpkinfest.json"
		},
		"map-lamplight-a2-starlight_festival": {
			type: "json",
			base: c,
			url: "map-lamplight-a2-starlight_festival/1/map-lamplight-a2-starlight_festival.json"
		},
		"map-lamplight-a3-starlight_festival": {
			type: "json",
			base: c,
			url: "map-lamplight-a3-starlight_festival/1/map-lamplight-a3-starlight_festival.json"
		},
		"map-lamplight-a4-starlight_festival": {
			type: "json",
			base: c,
			url: "map-lamplight-a4-starlight_festival/1/map-lamplight-a4-starlight_festival.json"
		},
		"map-lamplight-b0-starlight_festival": {
			type: "json",
			base: c,
			url: "map-lamplight-b0-starlight_festival/1/map-lamplight-b0-starlight_festival.json"
		},
		"map-lamplight-b1-starlight_festival": {
			type: "json",
			base: c,
			url: "map-lamplight-b1-starlight_festival/1/map-lamplight-b1-starlight_festival.json"
		},
		"map-lamplight-b2-starlight_festival": {
			type: "json",
			base: c,
			url: "map-lamplight-b2-starlight_festival/1/map-lamplight-b2-starlight_festival.json"
		},
		"map-lamplight-b3-starlight_festival": {
			type: "json",
			base: c,
			url: "map-lamplight-b3-starlight_festival/1/map-lamplight-b3-starlight_festival.json"
		},
		"map-lamplight-b4-starlight_festival": {
			type: "json",
			base: c,
			url: "map-lamplight-b4-starlight_festival/1/map-lamplight-b4-starlight_festival.json"
		},
		"map-lamplight-b5-starlight_festival": {
			type: "json",
			base: c,
			url: "map-lamplight-b5-starlight_festival/1/map-lamplight-b5-starlight_festival.json"
		},
		"map-lamplight-c1-starlight_festival": {
			type: "json",
			base: c,
			url: "map-lamplight-c1-starlight_festival.json"
		},
		"map-lamplight-c2-starlight_festival": {
			type: "json",
			base: c,
			url: "map-lamplight-c2-starlight_festival/1/map-lamplight-c2-starlight_festival.json"
		},
		"map-lamplight-c3-starlight_festival": {
			type: "json",
			base: c,
			url: "map-lamplight-c3-starlight_festival/1/map-lamplight-c3-starlight_festival.json"
		},
		"map-lamplight-c4-starlight_festival": {
			type: "json",
			base: c,
			url: "map-lamplight-c4-starlight_festival/1/map-lamplight-c4-starlight_festival.json"
		},
		"map-lamplight-a2-winterfest": {
			type: "json",
			base: c,
			url: "map-lamplight-a2-winterfest/1/map-lamplight-a2-winterfest.json"
		},
		"map-lamplight-a3-winterfest": {
			type: "json",
			base: c,
			url: "map-lamplight-a3-winterfest/2/map-lamplight-a3-winterfest.json"
		},
		"map-lamplight-a4-winterfest": {
			type: "json",
			base: c,
			url: "map-lamplight-a4-winterfest/1/map-lamplight-a4-winterfest.json"
		},
		"map-lamplight-b0-winterfest": {
			type: "json",
			base: c,
			url: "map-lamplight-b0-winterfest/1/map-lamplight-b0-winterfest.json"
		},
		"map-lamplight-b1-winterfest": {
			type: "json",
			base: c,
			url: "map-lamplight-b1-winterfest/1/map-lamplight-b1-winterfest.json"
		},
		"map-lamplight-b2-winterfest": {
			type: "json",
			base: c,
			url: "map-lamplight-b2-winterfest/1/map-lamplight-b2-winterfest.json"
		},
		"map-lamplight-b3-winterfest": {
			type: "json",
			base: c,
			url: "map-lamplight-b3-winterfest/1/map-lamplight-b3-winterfest.json"
		},
		"map-lamplight-b4-winterfest": {
			type: "json",
			base: c,
			url: "map-lamplight-b4-winterfest/1/map-lamplight-b4-winterfest.json"
		},
		"map-lamplight-b5-winterfest": {
			type: "json",
			base: c,
			url: "map-lamplight-b5-winterfest/1/map-lamplight-b5-winterfest.json"
		},
		"map-lamplight-c2-winterfest": {
			type: "json",
			base: c,
			url: "map-lamplight-c2-winterfest/1/map-lamplight-c2-winterfest.json"
		},
		"map-lamplight-c3-winterfest": {
			type: "json",
			base: c,
			url: "map-lamplight-c3-winterfest/2/map-lamplight-c3-winterfest.json"
		},
		"map-lamplight-c4-winterfest": {
			type: "json",
			base: c,
			url: "map-lamplight-c4-winterfest/1/map-lamplight-c4-winterfest.json"
		},
		"map-skywatch-a0": {
			type: "json",
			base: c,
			url: "map-cloudzone-a0/1/map-cloudzone-a0.json"
		},
		"map-skywatch-a1": {
			type: "json",
			base: c,
			url: "map-cloudzone-a1/1/map-cloudzone-a1.json"
		},
		"map-skywatch-b1": {
			type: "json",
			base: c,
			url: "map-cloudzone-b1/2/map-cloudzone-b1.json"
		},
		"map-skywatch-b2": {
			type: "json",
			base: c,
			url: "map-cloudzone-b2/1/map-cloudzone-b2.json"
		},
		"map-skywatch-b3": {
			type: "json",
			base: c,
			url: "map-cloudzone-b3/1/map-cloudzone-b3.json"
		},
		"map-skywatch-c1": {
			type: "json",
			base: c,
			url: "map-cloudzone-c1/1/map-cloudzone-c1.json"
		},
		"map-skywatch-c2": {
			type: "json",
			base: c,
			url: "map-cloudzone-c2/1/map-cloudzone-c2.json"
		},
		"map-skywatch-c3": {
			type: "json",
			base: c,
			url: "map-cloudzone-c3/1/map-cloudzone-c3.json"
		},
		"map-skywatch-c4": {
			type: "json",
			base: c,
			url: "map-cloudzone-c4/1/map-cloudzone-c4.json"
		},
		"map-skywatch-d1": {
			type: "json",
			base: c,
			url: "map-cloudzone-d1/1/map-cloudzone-d1.json"
		},
		"map-skywatch-d2": {
			type: "json",
			base: c,
			url: "map-cloudzone-d2/1/map-cloudzone-d2.json"
		},
		"map-skywatch-d3": {
			type: "json",
			base: c,
			url: "map-cloudzone-d3/1/map-cloudzone-d3.json"
		},
		"map-skywatch-e1": {
			type: "json",
			base: c,
			url: "map-cloudzone-e1/1/map-cloudzone-e1.json"
		},
		"map-skywatch-e2": {
			type: "json",
			base: c,
			url: "map-cloudzone-e2/1/map-cloudzone-e2.json"
		},
		"map-skywatch-e3": {
			type: "json",
			base: c,
			url: "map-cloudzone-e3/1/map-cloudzone-e3.json"
		},
		"map-skywatch-e4": {
			type: "json",
			base: c,
			url: "map-cloudzone-e4/1/map-cloudzone-e4.json"
		},
		"map-skywatch-e5": {
			type: "json",
			base: c,
			url: "map-cloudzone-e5/1/map-cloudzone-e5.json"
		},
		"map-bonfire_spire-a1": {
			type: "json",
			base: c,
			url: "map-bonfire_spire-a1/1/map-bonfire_spire-a1.json"
		},
		"map-bonfire_spire-a4": {
			type: "json",
			base: c,
			url: "map-bonfire_spire-a4/1/map-bonfire_spire-a4.json"
		},
		"map-bonfire_spire-b1": {
			type: "json",
			base: c,
			url: "map-bonfire_spire-b1/3/map-bonfire_spire-b1.json"
		},
		"map-bonfire_spire-b2": {
			type: "json",
			base: c,
			url: "map-bonfire_spire-b2/1/map-bonfire_spire-b2.json"
		},
		"map-bonfire_spire-b4": {
			type: "json",
			base: c,
			url: "map-bonfire_spire-b4/1/map-bonfire_spire-b4.json"
		},
		"map-bonfire_spire-b5": {
			type: "json",
			base: c,
			url: "map-bonfire_spire-b5/1/map-bonfire_spire-b5.json"
		},
		"map-bonfire_spire-c1": {
			type: "json",
			base: c,
			url: "map-bonfire_spire-c1/1/map-bonfire_spire-c1.json"
		},
		"map-bonfire_spire-c2": {
			type: "json",
			base: c,
			url: "map-bonfire_spire-c2/1/map-bonfire_spire-c2.json"
		},
		"map-bonfire_spire-c3": {
			type: "json",
			base: c,
			url: "map-bonfire_spire-c3/1/map-bonfire_spire-c3.json"
		},
		"map-bonfire_spire-c4": {
			type: "json",
			base: c,
			url: "map-bonfire_spire-c4/1/map-bonfire_spire-c4.json"
		},
		"map-bonfire_spire-c6": {
			type: "json",
			base: c,
			url: "map-bonfire_spire-c6/1/map-bonfire_spire-c6.json"
		},
		"map-bonfire_spire-d1": {
			type: "json",
			base: c,
			url: "map-bonfire_spire-d1/1/map-bonfire_spire-d1.json"
		},
		"map-bonfire_spire-d2": {
			type: "json",
			base: c,
			url: "map-bonfire_spire-d2/1/map-bonfire_spire-d2.json"
		},
		"map-bonfire_spire-d3": {
			type: "json",
			base: c,
			url: "map-bonfire_spire-d3/1/map-bonfire_spire-d3.json"
		},
		"map-bonfire_spire-d4": {
			type: "json",
			base: c,
			url: "map-bonfire_spire-d4/1/map-bonfire_spire-d4.json"
		},
		"map-bonfire_spire-d5": {
			type: "json",
			base: c,
			url: "map-bonfire_spire-d5/1/map-bonfire_spire-d5.json"
		},
		"map-bonfire_spire-d6": {
			type: "json",
			base: c,
			url: "map-bonfire_spire-d6/1/map-bonfire_spire-d6.json"
		},
		"map-bonfire_spire-e5": {
			type: "json",
			base: c,
			url: "map-bonfire_spire-e5/1/map-bonfire_spire-e5.json"
		},
		"map-bonfire_spire-e6": {
			type: "json",
			base: c,
			url: "map-bonfire_spire-e6/1/map-bonfire_spire-e6.json"
		},
		"map-dyno-a0": {
			type: "json",
			base: c,
			url: "map-dyno-a0/2/map-dyno-a0.json"
		},
		"map-house-exit": {
			type: "json",
			base: c,
			url: "map-house-exit/1/map-house-exit.json"
		},
		"map-house-suburbs": {
			type: "json",
			base: c,
			url: "map-house-suburbs/1/map-house-suburbs.json"
		},
		"map-house-icecaves": {
			type: "json",
			base: c,
			url: "map-house-icecaves/1/map-house-icecaves.json"
		},
		"map-house-treehouse": {
			type: "json",
			base: c,
			url: "map-house-treehouse/1/map-house-treehouse.json"
		},
		"map-house-cool-cave": {
			type: "json",
			base: c,
			url: "map-house-cool-cave/2/map-house-cool-cave.json"
		},
		"map-house-fire-pit": {
			type: "json",
			base: c,
			url: "map-house-fire-pit/3/map-house-fire-pit.json"
		},
		"map-house-forest": {
			type: "json",
			base: c,
			url: "map-house-forest/3/map-house-forest.json"
		},
		"map-house-large-0": {
			type: "json",
			base: c,
			url: "map-house-large-0/2/map-house-large-0.json"
		},
		"map-house-large-1": {
			type: "json",
			base: c,
			url: "map-house-large-1/2/map-house-large-1.json"
		},
		"map-house-medium-0": {
			type: "json",
			base: c,
			url: "map-house-medium-0/2/map-house-medium-0.json"
		},
		"map-house-medium-1": {
			type: "json",
			base: c,
			url: "map-house-medium-1/2/map-house-medium-1.json"
		},
		"map-house-small-0": {
			type: "json",
			base: c,
			url: "map-house-small-0/2/map-house-small-0.json"
		},
		"map-house-small-1": {
			type: "json",
			base: c,
			url: "map-house-small-1/2/map-house-small-1.json"
		},
		"map-toyzone-hub": {
			type: "json",
			base: c,
			url: "map-toyzone-hub/1/map-toyzone-hub.json"
		},
		"map-toyzone-a1": {
			type: "json",
			base: c,
			url: "map-toyzone-a1/7/map-toyzone-a1.json"
		},
		"map-toyzone-a2": {
			type: "json",
			base: c,
			url: "map-toyzone-a2/7/map-toyzone-a2.json"
		},
		"map-toyzone-b1": {
			type: "json",
			base: c,
			url: "map-toyzone-b1/8/map-toyzone-b1.json"
		},
		"map-toyzone-b2": {
			type: "json",
			base: c,
			url: "map-toyzone-b2/10/map-toyzone-b2.json"
		},
		"map-toyzone-c1": {
			type: "json",
			base: c,
			url: "map-toyzone-c1/7/map-toyzone-c1.json"
		},
		"map-toyzone-c2": {
			type: "json",
			base: c,
			url: "map-toyzone-c2/7/map-toyzone-c2.json"
		},
		"map-house-fire-pit-2": {
			type: "json",
			base: c,
			url: "map-house-fire-pit-2/3/map-house-fire-pit-2.json"
		},
		"map-house-fire-pit-3": {
			type: "json",
			base: c,
			url: "map-house-fire-pit-3/2/map-house-fire-pit-3.json"
		},
		"map-house-house-large-3": {
			type: "json",
			base: c,
			url: "map-house-house-large-3/4/map-house-house-large-3.json"
		},
		"map-house-house-large-4": {
			type: "json",
			base: c,
			url: "map-house-house-large-4/5/map-house-house-large-4.json"
		},
		"map-house-cool-cave-unique-1": {
			type: "json",
			base: c,
			url: "map-house-cool-cave-unique-1/9/map-house-cool-cave-unique-1.json"
		},
		"map-house-cool-cave-unique-2": {
			type: "json",
			base: c,
			url: "map-house-cool-cave-unique-2/2/map-house-cool-cave-unique-2.json"
		},
		"map-house-treehouse-unique-1": {
			type: "json",
			base: c,
			url: "map-house-treehouse-unique-1/3/map-house-treehouse-unique-1.json"
		},
		"map-house-treehouse-unique-2": {
			type: "json",
			base: c,
			url: "map-house-treehouse-unique-2/5/map-house-treehouse-unique-2.json"
		},
		"map-lamplight-b3-twilight-wheel": {
			type: "json",
			base: c,
			url: "map-lamplight-b3-twilight-wheel/5/map-lamplight-b3-twilight-wheel.json"
		},
		"map-lamplight-c3-twilight-wheel": {
			type: "json",
			base: c,
			url: "map-lamplight-c3-twilight-wheel/2/map-lamplight-c3-twilight-wheel.json"
		},
		"map-activity_zone-a1": {
			type: "json",
			base: c,
			url: "map-activity_zone-a1/7/map-activity_zone-a1.json"
		},
		"map-activity_zone-a2": {
			type: "json",
			base: c,
			url: "map-activity_zone-a2/5/map-activity_zone-a2.json"
		},
		"map-activity_zone-b1": {
			type: "json",
			base: c,
			url: "map-activity_zone-b1/9/map-activity_zone-b1.json"
		},
		"map-activity_zone-b2": {
			type: "json",
			base: c,
			url: "map-activity_zone-b2/9/map-activity_zone-b2.json"
		},
		"map-activity_zone-c1": {
			type: "json",
			base: c,
			url: "map-activity_zone-c1/8/map-activity_zone-c1.json"
		},
		"map-activity_zone-c2": {
			type: "json",
			base: c,
			url: "map-activity_zone-c2/7/map-activity_zone-c2.json"
		},
		"map-activity_zone-b3": {
			type: "json",
			base: c,
			url: "map-activity_zone-b3/6/map-activity_zone-b3.json"
		},
		"bg-battle-academy": {
			type: "singleImage",
			v: 1
		},
		"bg-battle-arena": {
			type: "singleImage",
			v: 1
		},
		"bg-battle-cloud": {
			type: "singleImage",
			v: 1
		},
		"bg-battle-dino": {
			type: "singleImage",
			v: 1
		},
		"bg-battle-forest": {
			type: "singleImage",
			v: 1
		},
		"bg-battle-mountain": {
			type: "singleImage",
			v: 1
		},
		"bg-battle-pirate": {
			type: "singleImage",
			v: 1
		},
		"bg-battle-tech": {
			type: "singleImage",
			v: 1
		},
		"bg-battle-tower": {
			type: "singleImage",
			v: 1
		},
		"bg-battle-volcano": {
			type: "singleImage",
			v: 1
		},
		"scene-intro-bg1": {
			type: "singleImage",
			v: 1
		},
		"scene-intro-bg2": {
			type: "singleImage",
			v: 1
		},
		"scene-intro-bg3": {
			type: "singleImage",
			v: 1
		},
		"letter-friends-list": {
			type: "singleImage",
			v: 2
		},
		"letter-mail-open-image": {
			type: "singleImage",
			v: 2
		},
		"letter-moving-houses": {
			type: "singleImage",
			v: 2
		},
		"letter-museum": {
			type: "singleImage",
			v: 2
		},
		"letter-toyzone-mail": {
			type: "singleImage",
			v: 2
		},
		"letter-visit-player-house-mail-image": {
			type: "singleImage",
			v: 2
		},
		"letter-after-hours": {
			type: "singleImage",
			v: 2
		},
		"letter-wheel-delay": {
			type: "singleImage",
			v: 3
		},
		"letter-epic-attacks": {
			type: "singleImage",
			v: 2
		},
		"letter-potions": {
			type: "singleImage",
			v: 2
		},
		"letter-pvp-update": {
			type: "singleImage",
			v: 3
		},
		"letter-night-wheel": {
			type: "singleImage",
			v: 2
		},
		"login-bg-1": {
			type: "singleImage",
			v: 5
		},
		"login-bg-2": {
			type: "singleImage",
			v: 2
		},
		"letter-lost-island-mailer-1": {
			type: "singleImage",
			v: 2
		},
		"letter-lost-island-mailer-2": {
			type: "singleImage",
			v: 2
		},
		"voice-1-1": {
			type: "sfx",
			v: 3
		},
		"voice-1-2": {
			type: "sfx",
			v: 3
		},
		"voice-1-3": {
			type: "sfx",
			v: 3
		},
		"voice-1-4": {
			type: "sfx",
			v: 3
		},
		"voice-1-5": {
			type: "sfx",
			v: 3
		},
		"voice-1-6": {
			type: "sfx",
			v: 3
		},
		"voice-1-7": {
			type: "sfx",
			v: 3
		},
		"voice-1-8": {
			type: "sfx",
			v: 3
		},
		"voice-1-9": {
			type: "sfx",
			v: 3
		},
		"voice-1-10": {
			type: "sfx",
			v: 3
		},
		"voice-1-11": {
			type: "sfx",
			v: 3
		},
		"voice-1-12": {
			type: "sfx",
			v: 3
		},
		"voice-1-13": {
			type: "sfx",
			v: 3
		},
		"voice-1-14": {
			type: "sfx",
			v: 3
		},
		"voice-1-15": {
			type: "sfx",
			v: 3
		},
		"voice-0": {
			type: "sfx",
			v: 3
		},
		"voice-2": {
			type: "sfx",
			v: 3
		},
		"voice-3": {
			type: "sfx",
			v: 3
		},
		"voice-4": {
			type: "sfx",
			v: 3
		},
		"voice-5": {
			type: "sfx",
			v: 3
		},
		"voice-6": {
			type: "sfx",
			v: 3
		},
		"voice-7": {
			type: "sfx",
			v: 3
		},
		"voice-8-1": {
			type: "sfx",
			v: 3
		},
		"voice-8-2": {
			type: "sfx",
			v: 3
		},
		"voice-8-3": {
			type: "sfx",
			v: 3
		},
		"voice-8-4": {
			type: "sfx",
			v: 3
		},
		"voice-8-5": {
			type: "sfx",
			v: 3
		},
		"voice-8-6": {
			type: "sfx",
			v: 3
		},
		"voice-8-7": {
			type: "sfx",
			v: 3
		},
		"voice-8-8": {
			type: "sfx",
			v: 3
		},
		"voice-8-9": {
			type: "sfx",
			v: 3
		},
		"voice-8-10": {
			type: "sfx",
			v: 3
		},
		"voice-8-11": {
			type: "sfx",
			v: 3
		},
		"voice-8-12": {
			type: "sfx",
			v: 3
		},
		"voice-8-13": {
			type: "sfx",
			v: 3
		},
		"voice-8-14": {
			type: "sfx",
			v: 3
		},
		"voice-9": {
			type: "sfx",
			v: 3
		},
		"voice-10-1": {
			type: "sfx",
			v: 3
		},
		"voice-10-2": {
			type: "sfx",
			v: 3
		},
		"voice-10-3": {
			type: "sfx",
			v: 3
		},
		"voice-10-4": {
			type: "sfx",
			v: 3
		},
		"voice-10-5": {
			type: "sfx",
			v: 3
		},
		"voice-10-6": {
			type: "sfx",
			v: 3
		},
		"voice-10-7": {
			type: "sfx",
			v: 3
		},
		"voice-10-8": {
			type: "sfx",
			v: 3
		},
		"voice-10-9": {
			type: "sfx",
			v: 3
		},
		"voice-10-10": {
			type: "sfx",
			v: 3
		},
		"voice-10-11": {
			type: "sfx",
			v: 3
		},
		"voice-10-12": {
			type: "sfx",
			v: 3
		},
		"voice-10-13": {
			type: "sfx",
			v: 3
		},
		"voice-10-14": {
			type: "sfx",
			v: 3
		},
		"voice-10-15": {
			type: "sfx",
			v: 3
		},
		"voice-10-16": {
			type: "sfx",
			v: 3
		},
		"voice-10-17": {
			type: "sfx",
			v: 3
		},
		"voice-10-18": {
			type: "sfx",
			v: 3
		},
		"voice-10-19": {
			type: "sfx",
			v: 3
		},
		"voice-10-20": {
			type: "sfx",
			v: 3
		},
		"voice-10-21": {
			type: "sfx",
			v: 3
		},
		"voice-10-22": {
			type: "sfx",
			v: 3
		},
		"voice-10-23": {
			type: "sfx",
			v: 3
		},
		"voice-10-24": {
			type: "sfx",
			v: 3
		},
		"voice-10-25": {
			type: "sfx",
			v: 3
		},
		"voice-10-26": {
			type: "sfx",
			v: 3
		},
		"voice-10-27": {
			type: "sfx",
			v: 3
		},
		"voice-10-28": {
			type: "sfx",
			v: 3
		},
		"voice-10-29": {
			type: "sfx",
			v: 3
		},
		"voice-10-30": {
			type: "sfx",
			v: 3
		},
		"voice-10-31": {
			type: "sfx",
			v: 3
		},
		"voice-10-32": {
			type: "sfx",
			v: 3
		},
		"voice-10-33": {
			type: "sfx",
			v: 3
		},
		"voice-10-34": {
			type: "sfx",
			v: 3
		},
		"voice-10-35": {
			type: "sfx",
			v: 3
		},
		"voice-10-36": {
			type: "sfx",
			v: 3
		},
		"voice-10-37": {
			type: "sfx",
			v: 3
		},
		"voice-10-38": {
			type: "sfx",
			v: 3
		},
		"voice-10-39": {
			type: "sfx",
			v: 3
		},
		"voice-10-40": {
			type: "sfx",
			v: 3
		},
		"voice-10-41": {
			type: "sfx",
			v: 3
		},
		"voice-10-42": {
			type: "sfx",
			v: 3
		},
		"voice-10-43": {
			type: "sfx",
			v: 3
		},
		"voice-10-44": {
			type: "sfx",
			v: 3
		},
		"voice-10-45": {
			type: "sfx",
			v: 3
		},
		"voice-10-46": {
			type: "sfx",
			v: 3
		},
		"voice-10-47": {
			type: "sfx",
			v: 3
		},
		"voice-10-48": {
			type: "sfx",
			v: 3
		},
		"voice-10-49": {
			type: "sfx",
			v: 3
		},
		"voice-10-50": {
			type: "sfx",
			v: 3
		},
		"voice-10-51": {
			type: "sfx",
			v: 3
		},
		"voice-10-52": {
			type: "sfx",
			v: 3
		},
		"voice-10-53": {
			type: "sfx",
			v: 3
		},
		"voice-10-54": {
			type: "sfx",
			v: 3
		},
		"voice-10-55": {
			type: "sfx",
			v: 3
		},
		"voice-10-56": {
			type: "sfx",
			v: 3
		},
		"voice-10-57": {
			type: "sfx",
			v: 3
		},
		"voice-10-58": {
			type: "sfx",
			v: 3
		},
		"voice-10-59": {
			type: "sfx",
			v: 3
		},
		"voice-10-60": {
			type: "sfx",
			v: 3
		},
		"voice-10-61": {
			type: "sfx",
			v: 3
		},
		"voice-10-62": {
			type: "sfx",
			v: 3
		},
		"voice-10-63": {
			type: "sfx",
			v: 3
		},
		"voice-10-64": {
			type: "sfx",
			v: 3
		},
		"voice-11": {
			type: "sfx",
			v: 3
		},
		"voice-11-1": {
			type: "sfx",
			v: 3
		},
		"voice-11-2": {
			type: "sfx",
			v: 3
		},
		"voice-11-3": {
			type: "sfx",
			v: 3
		},
		"voice-12-1": {
			type: "sfx",
			v: 3
		},
		"voice-12-2": {
			type: "sfx",
			v: 3
		},
		"voice-12-3": {
			type: "sfx",
			v: 3
		},
		"voice-12-4": {
			type: "sfx",
			v: 3
		},
		"voice-12-5": {
			type: "sfx",
			v: 3
		},
		"voice-12-6": {
			type: "sfx",
			v: 3
		},
		"voice-12-7": {
			type: "sfx",
			v: 3
		},
		"voice-12-8": {
			type: "sfx",
			v: 3
		},
		"voice-12-9": {
			type: "sfx",
			v: 3
		},
		"voice-12-10": {
			type: "sfx",
			v: 3
		},
		"voice-12-11": {
			type: "sfx",
			v: 3
		},
		"voice-12-12": {
			type: "sfx",
			v: 3
		},
		"voice-12-13": {
			type: "sfx",
			v: 3
		},
		"voice-12-14": {
			type: "sfx",
			v: 3
		},
		"voice-12-15": {
			type: "sfx",
			v: 3
		},
		"voice-12-16": {
			type: "sfx",
			v: 3
		},
		"voice-12-17": {
			type: "sfx",
			v: 3
		},
		"voice-12-18": {
			type: "sfx",
			v: 3
		},
		"voice-13-1": {
			type: "sfx",
			v: 3
		},
		"voice-14-1": {
			type: "sfx",
			v: 3
		},
		"voice-14-2": {
			type: "sfx",
			v: 3
		},
		"voice-15-1": {
			type: "sfx",
			v: 3
		},
		"voice-15-2": {
			type: "sfx",
			v: 3
		},
		"voice-15-3": {
			type: "sfx",
			v: 3
		},
		"voice-15-4": {
			type: "sfx",
			v: 3
		},
		"voice-15-5": {
			type: "sfx",
			v: 3
		},
		"voice-15-6": {
			type: "sfx",
			v: 3
		},
		"voice-15-7": {
			type: "sfx",
			v: 3
		},
		"voice-15-8": {
			type: "sfx",
			v: 3
		},
		"voice-15-9": {
			type: "sfx",
			v: 3
		},
		"voice-15-10": {
			type: "sfx",
			v: 3
		},
		"voice-15-11": {
			type: "sfx",
			v: 3
		},
		"voice-15-12": {
			type: "sfx",
			v: 3
		},
		"voice-15-13": {
			type: "sfx",
			v: 3
		},
		"voice-15-14": {
			type: "sfx",
			v: 3
		},
		"voice-15-15": {
			type: "sfx",
			v: 3
		},
		"voice-15-16": {
			type: "sfx",
			v: 3
		},
		"voice-15-17": {
			type: "sfx",
			v: 3
		},
		"voice-15-18": {
			type: "sfx",
			v: 3
		},
		"voice-16-1": {
			type: "sfx",
			v: 3
		},
		"voice-16-2": {
			type: "sfx",
			v: 3
		},
		"voice-16-3": {
			type: "sfx",
			v: 3
		},
		"voice-17-1": {
			type: "sfx",
			v: 3
		},
		"voice-17-2": {
			type: "sfx",
			v: 3
		},
		"voice-17-3": {
			type: "sfx",
			v: 3
		},
		"voice-17-4": {
			type: "sfx",
			v: 3
		},
		"voice-18-1": {
			type: "sfx",
			v: 3
		},
		"voice-18-2": {
			type: "sfx",
			v: 3
		},
		"voice-18-3": {
			type: "sfx",
			v: 3
		},
		"voice-18-4": {
			type: "sfx",
			v: 3
		},
		"voice-18-5": {
			type: "sfx",
			v: 3
		},
		"voice-19-1": {
			type: "sfx",
			v: 3
		},
		"voice-20-1": {
			type: "sfx",
			v: 3
		},
		"voice-21-1": {
			type: "sfx",
			v: 3
		},
		"voice-21-2": {
			type: "sfx",
			v: 3
		},
		"voice-22-1": {
			type: "sfx",
			v: 3
		},
		"voice-23-1": {
			type: "sfx",
			v: 3
		},
		"voice-23-2": {
			type: "sfx",
			v: 1
		},
		"voice-24-1": {
			type: "sfx",
			v: 3
		},
		"bgm-victory": {
			type: "bgm",
			v: 2
		},
		"bgm-battle": {
			type: "bgm",
			v: 2
		},
		"bgm-intro": {
			type: "bgm",
			v: 2
		},
		"bgm-space": {
			type: "bgm",
			v: 2
		},
		"bgm-game": {
			type: "bgm",
			v: 2
		},
		"bgm-dance1": {
			type: "bgm",
			v: 2
		},
		"bgm-dance2": {
			type: "bgm",
			v: 2
		},
		"bgm-intro-1": {
			type: "bgm",
			v: 2
		},
		"bgm-lamplight": {
			type: "bgm",
			v: 2
		},
		"bgm-tutorial": {
			type: "bgm",
			v: 2
		},
		"bgm-fun": {
			type: "bgm",
			v: 2
		},
		"bgm-puppetmaster": {
			type: "bgm",
			v: 2
		},
		"bgm-winterfest": {
			type: "bgm",
			v: 2
		},
		"sfx-main": {
			type: "sfx",
			v: 2
		},
		"attack-forest-fury": {
			type: "sfx",
			v: 1
		},
		"attack-frigid-blast": {
			type: "sfx",
			v: 1
		},
		"attack-hot-snow": {
			type: "sfx",
			v: 1
		},
		"attack-storm-wrath": {
			type: "sfx",
			v: 1
		},
		"attack-tidal-twister": {
			type: "sfx",
			v: 1
		},
		"sfx-battle": {
			type: "sfx",
			v: 1
		},
		"sfx-bonfire-spire-q5": {
			type: "sfx",
			v: 1
		},
		"sfx-bonfire-spire-q6-and-q14": {
			type: "sfx",
			v: 1
		},
		"sfx-dance-dance": {
			type: "sfx",
			v: 1
		},
		"sfx-dino-dig": {
			type: "sfx",
			v: 1
		},
		"sfx-house-intro": {
			type: "sfx",
			v: 1
		},
		"sfx-lamplight-pets": {
			type: "sfx",
			v: 1
		},
		"sfx-lamplight": {
			type: "sfx",
			v: 1
		},
		"sfx-pvp": {
			type: "sfx",
			v: 1
		},
		"sfx-skywatch": {
			type: "sfx",
			v: 1
		},
		"sfx-ui": {
			type: "sfx",
			v: 1
		},
		"sfx-world": {
			type: "sfx",
			v: 1
		},
		"npc-sir-vey": {
			type: "spine",
			v: 1
		},
		"prompt-more-gold": {
			type: "sprite",
			base: b,
			url: "prompt-more-gold.png"
		},
		"prompt-more-exp": {
			type: "sprite",
			base: b,
			url: "prompt-more-exp.png"
		},
		"prompt-premium-item": {
			type: "sprite",
			base: b,
			url: "prompt-premium-item.png"
		},
		"prompt-wheel-spin": {
			type: "sprite",
			base: b,
			url: "prompt-wheel-spin.png"
		},
		"prompt-bigger-team": {
			type: "sprite",
			base: b,
			url: "prompt-bigger-team.png"
		},
		"prompt-bigger-roster": {
			type: "sprite",
			base: b,
			url: "prompt-bigger-roster.png"
		},
		"boss-small-1": {
			type: "sprite",
			base: f,
			url: "1.png",
			x: 390
		},
		"boss-1": {
			type: "spritesheet",
			base: m,
			url: "1.png",
			x: 390,
			w: 717,
			h: 634
		},
		"boss-small-10": {
			type: "sprite",
			base: f,
			url: "10.png",
			x: 256
		},
		"boss-10": {
			type: "spritesheet",
			base: m,
			url: "10.png",
			x: 256,
			w: 344,
			h: 351
		},
		"boss-small-11": {
			type: "sprite",
			base: f,
			url: "11.png",
			x: 145
		},
		"boss-11": {
			type: "spritesheet",
			base: m,
			url: "11.png",
			x: 145,
			w: 363,
			h: 438
		},
		"boss-small-2": {
			type: "sprite",
			base: f,
			url: "2.png",
			x: 450
		},
		"boss-2": {
			type: "spritesheet",
			base: m,
			url: "2.png",
			x: 450,
			w: 853,
			h: 785
		},
		"boss-small-3": {
			type: "sprite",
			base: f,
			url: "3.png",
			x: 178
		},
		"boss-3": {
			type: "spritesheet",
			base: m,
			url: "3.png",
			x: 178,
			w: 440,
			h: 410
		},
		"boss-small-4": {
			type: "sprite",
			base: f,
			url: "4.png",
			x: 270
		},
		"boss-4": {
			type: "spritesheet",
			base: m,
			url: "4.png",
			x: 270,
			w: 664,
			h: 640
		},
		"boss-small-5": {
			type: "sprite",
			base: f,
			url: "5.png",
			x: 366
		},
		"boss-5": {
			type: "spritesheet",
			base: m,
			url: "5.png",
			x: 366,
			w: 745,
			h: 712
		},
		"boss-small-6": {
			type: "sprite",
			base: f,
			url: "6.png",
			x: 280
		},
		"boss-6": {
			type: "spritesheet",
			base: m,
			url: "6.png",
			x: 280,
			w: 634,
			h: 621
		},
		"boss-small-7": {
			type: "sprite",
			base: f,
			url: "7.png",
			x: 250
		},
		"boss-7": {
			type: "spritesheet",
			base: m,
			url: "7.png",
			x: 250,
			w: 712,
			h: 638
		},
		"boss-small-8": {
			type: "sprite",
			base: f,
			url: "8.png",
			x: 267
		},
		"boss-8": {
			type: "spritesheet",
			base: m,
			url: "8.png",
			x: 267,
			w: 599,
			h: 572
		},
		"boss-small-9": {
			type: "sprite",
			base: f,
			url: "9.png",
			x: 128
		},
		"boss-9": {
			type: "spritesheet",
			base: m,
			url: "9.png",
			x: 128,
			w: 133,
			h: 175
		},
		"monster-small-1": {
			type: "sprite",
			base: y,
			url: "1.png",
			x: 45
		},
		"monster-normal-1": {
			type: "spritesheet",
			base: g,
			url: "1.png",
			x: 45,
			w: 74,
			h: 91
		},
		"monster-reduced-1": {
			type: "spritesheet",
			base: u,
			url: "1.png",
			x: 22,
			w: 37,
			h: 46
		},
		"monster-small-10": {
			type: "sprite",
			base: y,
			url: "10.png",
			x: 55
		},
		"monster-normal-10": {
			type: "spritesheet",
			base: g,
			url: "10.png",
			x: 55,
			w: 113,
			h: 107
		},
		"monster-reduced-10": {
			type: "spritesheet",
			base: u,
			url: "10.png",
			x: 27,
			w: 54,
			h: 42
		},
		"monster-small-100": {
			type: "sprite",
			base: y,
			url: "100.png",
			x: 110
		},
		"monster-normal-100": {
			type: "spritesheet",
			base: g,
			url: "100.png",
			x: 110,
			w: 216,
			h: 185
		},
		"monster-reduced-100": {
			type: "spritesheet",
			base: u,
			url: "100.png",
			x: 55,
			w: 107,
			h: 93
		},
		"monster-small-101": {
			type: "sprite",
			base: y,
			url: "101.png",
			x: 260
		},
		"monster-normal-101": {
			type: "spritesheet",
			base: g,
			url: "101.png",
			x: 260,
			w: 460,
			h: 270
		},
		"monster-reduced-101": {
			type: "spritesheet",
			base: u,
			url: "101.png",
			x: 130,
			w: 190,
			h: 116
		},
		"monster-small-102": {
			type: "sprite",
			base: y,
			url: "102.png",
			x: 40
		},
		"monster-normal-102": {
			type: "spritesheet",
			base: g,
			url: "102.png",
			x: 40,
			w: 81,
			h: 111
		},
		"monster-reduced-102": {
			type: "spritesheet",
			base: u,
			url: "102.png",
			x: 20,
			w: 35,
			h: 47
		},
		"monster-small-103": {
			type: "sprite",
			base: y,
			url: "103.png",
			x: 58
		},
		"monster-normal-103": {
			type: "spritesheet",
			base: g,
			url: "103.png",
			x: 58,
			w: 163,
			h: 179
		},
		"monster-reduced-103": {
			type: "spritesheet",
			base: u,
			url: "103.png",
			x: 29,
			w: 65,
			h: 59
		},
		"monster-small-104": {
			type: "sprite",
			base: y,
			url: "104.png",
			x: 113
		},
		"monster-normal-104": {
			type: "spritesheet",
			base: g,
			url: "104.png",
			x: 113,
			w: 214,
			h: 249
		},
		"monster-reduced-104": {
			type: "spritesheet",
			base: u,
			url: "104.png",
			x: 56,
			w: 96,
			h: 87
		},
		"monster-small-105": {
			type: "sprite",
			base: y,
			url: "105.png",
			x: 120
		},
		"monster-normal-105": {
			type: "spritesheet",
			base: g,
			url: "105.png",
			x: 120,
			w: 246,
			h: 212
		},
		"monster-reduced-105": {
			type: "spritesheet",
			base: u,
			url: "105.png",
			x: 60,
			w: 102,
			h: 99
		},
		"monster-small-106": {
			type: "sprite",
			base: y,
			url: "106.png",
			x: 130
		},
		"monster-normal-106": {
			type: "spritesheet",
			base: g,
			url: "106.png",
			x: 130,
			w: 392,
			h: 224
		},
		"monster-reduced-106": {
			type: "spritesheet",
			base: u,
			url: "106.png",
			x: 65,
			w: 127,
			h: 101
		},
		"monster-small-107": {
			type: "sprite",
			base: y,
			url: "107.png",
			x: 90
		},
		"monster-normal-107": {
			type: "spritesheet",
			base: g,
			url: "107.png",
			x: 90,
			w: 193,
			h: 150
		},
		"monster-reduced-107": {
			type: "spritesheet",
			base: u,
			url: "107.png",
			x: 45,
			w: 85,
			h: 64
		},
		"monster-small-108": {
			type: "sprite",
			base: y,
			url: "108.png",
			x: 90
		},
		"monster-normal-108": {
			type: "spritesheet",
			base: g,
			url: "108.png",
			x: 90,
			w: 252,
			h: 187
		},
		"monster-reduced-108": {
			type: "spritesheet",
			base: u,
			url: "108.png",
			x: 45,
			w: 93,
			h: 94
		},
		"monster-small-109": {
			type: "sprite",
			base: y,
			url: "109.png",
			x: 110
		},
		"monster-normal-109": {
			type: "spritesheet",
			base: g,
			url: "109.png",
			x: 110,
			w: 208,
			h: 176
		},
		"monster-reduced-109": {
			type: "spritesheet",
			base: u,
			url: "109.png",
			x: 55,
			w: 105,
			h: 88
		},
		"monster-small-11": {
			type: "sprite",
			base: y,
			url: "11.png",
			x: 100
		},
		"monster-normal-11": {
			type: "spritesheet",
			base: g,
			url: "11.png",
			x: 100,
			w: 196,
			h: 174
		},
		"monster-reduced-11": {
			type: "spritesheet",
			base: u,
			url: "11.png",
			x: 50,
			w: 76,
			h: 75
		},
		"monster-small-110": {
			type: "sprite",
			base: y,
			url: "110.png",
			x: 160
		},
		"monster-normal-110": {
			type: "spritesheet",
			base: g,
			url: "110.png",
			x: 160,
			w: 254,
			h: 239
		},
		"monster-reduced-110": {
			type: "spritesheet",
			base: u,
			url: "110.png",
			x: 80,
			w: 128,
			h: 120
		},
		"monster-small-111": {
			type: "sprite",
			base: y,
			url: "111.png",
			x: 105
		},
		"monster-normal-111": {
			type: "spritesheet",
			base: g,
			url: "111.png",
			x: 105,
			w: 175,
			h: 180
		},
		"monster-reduced-111": {
			type: "spritesheet",
			base: u,
			url: "111.png",
			x: 52,
			w: 82,
			h: 86
		},
		"monster-small-112": {
			type: "sprite",
			base: y,
			url: "112.png",
			x: 180
		},
		"monster-normal-112": {
			type: "spritesheet",
			base: g,
			url: "112.png",
			x: 180,
			w: 436,
			h: 352
		},
		"monster-reduced-112": {
			type: "spritesheet",
			base: u,
			url: "112.png",
			x: 90,
			w: 157,
			h: 143
		},
		"monster-small-113": {
			type: "sprite",
			base: y,
			url: "113.png",
			x: 124
		},
		"monster-normal-113": {
			type: "spritesheet",
			base: g,
			url: "113.png",
			x: 124,
			w: 246,
			h: 142
		},
		"monster-reduced-113": {
			type: "spritesheet",
			base: u,
			url: "113.png",
			x: 62,
			w: 35,
			h: 59
		},
		"monster-small-114": {
			type: "sprite",
			base: y,
			url: "114.png",
			x: 126
		},
		"monster-normal-114": {
			type: "spritesheet",
			base: g,
			url: "114.png",
			x: 126,
			w: 252,
			h: 207
		},
		"monster-reduced-114": {
			type: "spritesheet",
			base: u,
			url: "114.png",
			x: 63,
			w: 63,
			h: 78
		},
		"monster-small-115": {
			type: "sprite",
			base: y,
			url: "115.png",
			x: 65
		},
		"monster-normal-115": {
			type: "spritesheet",
			base: g,
			url: "115.png",
			x: 65,
			w: 150,
			h: 220
		},
		"monster-reduced-115": {
			type: "spritesheet",
			base: u,
			url: "115.png",
			x: 32,
			w: 42,
			h: 53
		},
		"monster-small-116": {
			type: "sprite",
			base: y,
			url: "116.png",
			x: 116
		},
		"monster-normal-116": {
			type: "spritesheet",
			base: g,
			url: "116.png",
			x: 116,
			w: 239,
			h: 173
		},
		"monster-reduced-116": {
			type: "spritesheet",
			base: u,
			url: "116.png",
			x: 58,
			w: 108,
			h: 76
		},
		"monster-small-117": {
			type: "sprite",
			base: y,
			url: "117.png",
			x: 147
		},
		"monster-normal-117": {
			type: "spritesheet",
			base: g,
			url: "117.png",
			x: 147,
			w: 474,
			h: 421
		},
		"monster-reduced-117": {
			type: "spritesheet",
			base: u,
			url: "117.png",
			x: 73,
			w: 134,
			h: 149
		},
		"monster-small-118": {
			type: "sprite",
			base: y,
			url: "118.png",
			x: 120
		},
		"monster-normal-118": {
			type: "spritesheet",
			base: g,
			url: "118.png",
			x: 120,
			w: 254,
			h: 209
		},
		"monster-reduced-118": {
			type: "spritesheet",
			base: u,
			url: "118.png",
			x: 60,
			w: 73,
			h: 69
		},
		"monster-small-119": {
			type: "sprite",
			base: y,
			url: "119.png",
			x: 100
		},
		"monster-normal-119": {
			type: "spritesheet",
			base: g,
			url: "119.png",
			x: 100,
			w: 241,
			h: 163
		},
		"monster-reduced-119": {
			type: "spritesheet",
			base: u,
			url: "119.png",
			x: 50,
			w: 105,
			h: 82
		},
		"monster-small-12": {
			type: "sprite",
			base: y,
			url: "12.png",
			x: 64
		},
		"monster-normal-12": {
			type: "spritesheet",
			base: g,
			url: "12.png",
			x: 64,
			w: 191,
			h: 150
		},
		"monster-reduced-12": {
			type: "spritesheet",
			base: u,
			url: "12.png",
			x: 32,
			w: 61,
			h: 73
		},
		"monster-small-120": {
			type: "sprite",
			base: y,
			url: "120.png",
			x: 118
		},
		"monster-normal-120": {
			type: "spritesheet",
			base: g,
			url: "120.png",
			x: 118,
			w: 256,
			h: 256
		},
		"monster-reduced-120": {
			type: "spritesheet",
			base: u,
			url: "120.png",
			x: 59,
			w: 128,
			h: 128
		},
		"monster-small-121": {
			type: "sprite",
			base: y,
			url: "121.png",
			x: 132
		},
		"monster-normal-121": {
			type: "spritesheet",
			base: g,
			url: "121.png",
			x: 132,
			w: 256,
			h: 256
		},
		"monster-reduced-121": {
			type: "spritesheet",
			base: u,
			url: "121.png",
			x: 66,
			w: 128,
			h: 128
		},
		"monster-small-122": {
			type: "sprite",
			base: y,
			url: "122.png",
			x: 63
		},
		"monster-normal-122": {
			type: "spritesheet",
			base: g,
			url: "122.png",
			x: 63,
			w: 211,
			h: 150
		},
		"monster-reduced-122": {
			type: "spritesheet",
			base: u,
			url: "122.png",
			x: 31,
			w: 84,
			h: 76
		},
		"monster-small-123": {
			type: "sprite",
			base: y,
			url: "123.png",
			x: 112
		},
		"monster-normal-123": {
			type: "spritesheet",
			base: g,
			url: "123.png",
			x: 112,
			w: 301,
			h: 224
		},
		"monster-reduced-123": {
			type: "spritesheet",
			base: u,
			url: "123.png",
			x: 56,
			w: 98,
			h: 93
		},
		"monster-small-124": {
			type: "sprite",
			base: y,
			url: "124.png",
			x: 132
		},
		"monster-normal-124": {
			type: "spritesheet",
			base: g,
			url: "124.png",
			x: 132,
			w: 330,
			h: 236
		},
		"monster-reduced-124": {
			type: "spritesheet",
			base: u,
			url: "124.png",
			x: 66,
			w: 107,
			h: 117
		},
		"monster-small-125": {
			type: "sprite",
			base: y,
			url: "125.png",
			x: 134
		},
		"monster-normal-125": {
			type: "spritesheet",
			base: g,
			url: "125.png",
			x: 134,
			w: 384,
			h: 252
		},
		"monster-reduced-125": {
			type: "spritesheet",
			base: u,
			url: "125.png",
			x: 67,
			w: 118,
			h: 126
		},
		"monster-small-126": {
			type: "sprite",
			base: y,
			url: "126.png",
			x: 72
		},
		"monster-normal-126": {
			type: "spritesheet",
			base: g,
			url: "126.png",
			x: 72,
			w: 129,
			h: 134
		},
		"monster-reduced-126": {
			type: "spritesheet",
			base: u,
			url: "126.png",
			x: 36,
			w: 57,
			h: 67
		},
		"monster-small-127": {
			type: "sprite",
			base: y,
			url: "127.png",
			x: 134
		},
		"monster-normal-127": {
			type: "spritesheet",
			base: g,
			url: "127.png",
			x: 134,
			w: 379,
			h: 378
		},
		"monster-reduced-127": {
			type: "spritesheet",
			base: u,
			url: "127.png",
			x: 67,
			w: 118,
			h: 113
		},
		"monster-small-128": {
			type: "sprite",
			base: y,
			url: "128.png",
			x: 100
		},
		"monster-normal-128": {
			type: "spritesheet",
			base: g,
			url: "128.png",
			x: 100,
			w: 252,
			h: 247
		},
		"monster-reduced-128": {
			type: "spritesheet",
			base: u,
			url: "128.png",
			x: 50,
			w: 127,
			h: 109
		},
		"monster-small-129": {
			type: "sprite",
			base: y,
			url: "129.png",
			x: 128
		},
		"monster-normal-129": {
			type: "spritesheet",
			base: g,
			url: "129.png",
			x: 128,
			w: 292,
			h: 293
		},
		"monster-reduced-129": {
			type: "spritesheet",
			base: u,
			url: "129.png",
			x: 64,
			w: 117,
			h: 93
		},
		"monster-small-13": {
			type: "sprite",
			base: y,
			url: "13.png",
			x: 65
		},
		"monster-normal-13": {
			type: "spritesheet",
			base: g,
			url: "13.png",
			x: 65,
			w: 170,
			h: 170
		},
		"monster-reduced-13": {
			type: "spritesheet",
			base: u,
			url: "13.png",
			x: 32,
			w: 79,
			h: 81
		},
		"monster-small-14": {
			type: "sprite",
			base: y,
			url: "14.png",
			x: 65
		},
		"monster-normal-14": {
			type: "spritesheet",
			base: g,
			url: "14.png",
			x: 65,
			w: 170,
			h: 168
		},
		"monster-reduced-14": {
			type: "spritesheet",
			base: u,
			url: "14.png",
			x: 32,
			w: 79,
			h: 81
		},
		"monster-small-15": {
			type: "sprite",
			base: y,
			url: "15.png",
			x: 134
		},
		"monster-normal-15": {
			type: "spritesheet",
			base: g,
			url: "15.png",
			x: 134,
			w: 247,
			h: 200
		},
		"monster-reduced-15": {
			type: "spritesheet",
			base: u,
			url: "15.png",
			x: 67,
			w: 124,
			h: 87
		},
		"monster-small-16": {
			type: "sprite",
			base: y,
			url: "16.png",
			x: 60
		},
		"monster-normal-16": {
			type: "spritesheet",
			base: g,
			url: "16.png",
			x: 60,
			w: 185,
			h: 158
		},
		"monster-reduced-16": {
			type: "spritesheet",
			base: u,
			url: "16.png",
			x: 30,
			w: 66,
			h: 74
		},
		"monster-small-17": {
			type: "sprite",
			base: y,
			url: "17.png",
			x: 127
		},
		"monster-normal-17": {
			type: "spritesheet",
			base: g,
			url: "17.png",
			x: 127,
			w: 252,
			h: 186
		},
		"monster-reduced-17": {
			type: "spritesheet",
			base: u,
			url: "17.png",
			x: 63,
			w: 104,
			h: 91
		},
		"monster-small-18": {
			type: "sprite",
			base: y,
			url: "18.png",
			x: 25
		},
		"monster-normal-18": {
			type: "spritesheet",
			base: g,
			url: "18.png",
			x: 25,
			w: 92,
			h: 75
		},
		"monster-reduced-18": {
			type: "spritesheet",
			base: u,
			url: "18.png",
			x: 12,
			w: 27,
			h: 24
		},
		"monster-small-19": {
			type: "sprite",
			base: y,
			url: "19.png",
			x: 78
		},
		"monster-normal-19": {
			type: "spritesheet",
			base: g,
			url: "19.png",
			x: 78,
			w: 203,
			h: 162
		},
		"monster-reduced-19": {
			type: "spritesheet",
			base: u,
			url: "19.png",
			x: 39,
			w: 82,
			h: 80
		},
		"monster-small-2": {
			type: "sprite",
			base: y,
			url: "2.png",
			x: 63
		},
		"monster-normal-2": {
			type: "spritesheet",
			base: g,
			url: "2.png",
			x: 63,
			w: 135,
			h: 103
		},
		"monster-reduced-2": {
			type: "spritesheet",
			base: u,
			url: "2.png",
			x: 31,
			w: 63,
			h: 52
		},
		"monster-small-20": {
			type: "sprite",
			base: y,
			url: "20.png",
			x: 80
		},
		"monster-normal-20": {
			type: "spritesheet",
			base: g,
			url: "20.png",
			x: 80,
			w: 137,
			h: 132
		},
		"monster-reduced-20": {
			type: "spritesheet",
			base: u,
			url: "20.png",
			x: 40,
			w: 69,
			h: 50
		},
		"monster-small-21": {
			type: "sprite",
			base: y,
			url: "21.png",
			x: 110
		},
		"monster-normal-21": {
			type: "spritesheet",
			base: g,
			url: "21.png",
			x: 110,
			w: 240,
			h: 193,
			pivotX: 125
		},
		"monster-reduced-21": {
			type: "spritesheet",
			base: u,
			url: "21.png",
			x: 55,
			w: 120,
			h: 97
		},
		"monster-small-22": {
			type: "sprite",
			base: y,
			url: "22.png",
			x: 120
		},
		"monster-normal-22": {
			type: "spritesheet",
			base: g,
			url: "22.png",
			x: 120,
			w: 254,
			h: 213
		},
		"monster-reduced-22": {
			type: "spritesheet",
			base: u,
			url: "22.png",
			x: 60,
			w: 128,
			h: 106
		},
		"monster-small-23": {
			type: "sprite",
			base: y,
			url: "23.png",
			x: 95
		},
		"monster-normal-23": {
			type: "spritesheet",
			base: g,
			url: "23.png",
			x: 95,
			w: 202,
			h: 140
		},
		"monster-reduced-23": {
			type: "spritesheet",
			base: u,
			url: "23.png",
			x: 47,
			w: 75,
			h: 64
		},
		"monster-small-24": {
			type: "sprite",
			base: y,
			url: "24.png",
			x: 92
		},
		"monster-normal-24": {
			type: "spritesheet",
			base: g,
			url: "24.png",
			x: 92,
			w: 188,
			h: 150
		},
		"monster-reduced-24": {
			type: "spritesheet",
			base: u,
			url: "24.png",
			x: 46,
			w: 88,
			h: 75
		},
		"monster-small-25": {
			type: "sprite",
			base: y,
			url: "25.png",
			x: 30
		},
		"monster-normal-25": {
			type: "spritesheet",
			base: g,
			url: "25.png",
			x: 30,
			w: 77,
			h: 78
		},
		"monster-reduced-25": {
			type: "spritesheet",
			base: u,
			url: "25.png",
			x: 15,
			w: 31,
			h: 34
		},
		"monster-small-26": {
			type: "sprite",
			base: y,
			url: "26.png",
			x: 75
		},
		"monster-normal-26": {
			type: "spritesheet",
			base: g,
			url: "26.png",
			x: 75,
			w: 132,
			h: 117
		},
		"monster-reduced-26": {
			type: "spritesheet",
			base: u,
			url: "26.png",
			x: 37,
			w: 57,
			h: 52
		},
		"monster-small-27": {
			type: "sprite",
			base: y,
			url: "27.png",
			x: 35
		},
		"monster-normal-27": {
			type: "spritesheet",
			base: g,
			url: "27.png",
			x: 35,
			w: 112,
			h: 111
		},
		"monster-reduced-27": {
			type: "spritesheet",
			base: u,
			url: "27.png",
			x: 17,
			w: 35,
			h: 45
		},
		"monster-small-28": {
			type: "sprite",
			base: y,
			url: "28.png",
			x: 70
		},
		"monster-normal-28": {
			type: "spritesheet",
			base: g,
			url: "28.png",
			x: 70,
			w: 122,
			h: 133
		},
		"monster-reduced-28": {
			type: "spritesheet",
			base: u,
			url: "28.png",
			x: 35,
			w: 58,
			h: 55
		},
		"monster-small-29": {
			type: "sprite",
			base: y,
			url: "29.png",
			x: 50
		},
		"monster-normal-29": {
			type: "spritesheet",
			base: g,
			url: "29.png",
			x: 50,
			w: 104,
			h: 98
		},
		"monster-reduced-29": {
			type: "spritesheet",
			base: u,
			url: "29.png",
			x: 25,
			w: 49,
			h: 47
		},
		"monster-small-3": {
			type: "sprite",
			base: y,
			url: "3.png",
			x: 109
		},
		"monster-normal-3": {
			type: "spritesheet",
			base: g,
			url: "3.png",
			x: 109,
			w: 246,
			h: 185
		},
		"monster-reduced-3": {
			type: "spritesheet",
			base: u,
			url: "3.png",
			x: 54,
			w: 109,
			h: 93
		},
		"monster-small-30": {
			type: "sprite",
			base: y,
			url: "30.png",
			x: 105
		},
		"monster-normal-30": {
			type: "spritesheet",
			base: g,
			url: "30.png",
			x: 105,
			w: 216,
			h: 145
		},
		"monster-reduced-30": {
			type: "spritesheet",
			base: u,
			url: "30.png",
			x: 52,
			w: 68,
			h: 73
		},
		"monster-small-31": {
			type: "sprite",
			base: y,
			url: "31.png",
			x: 80
		},
		"monster-normal-31": {
			type: "spritesheet",
			base: g,
			url: "31.png",
			x: 80,
			w: 183,
			h: 137
		},
		"monster-reduced-31": {
			type: "spritesheet",
			base: u,
			url: "31.png",
			x: 40,
			w: 75,
			h: 56
		},
		"monster-small-32": {
			type: "sprite",
			base: y,
			url: "32.png",
			x: 72
		},
		"monster-normal-32": {
			type: "spritesheet",
			base: g,
			url: "32.png",
			x: 72,
			w: 207,
			h: 238
		},
		"monster-reduced-32": {
			type: "spritesheet",
			base: u,
			url: "32.png",
			x: 36,
			w: 61,
			h: 64
		},
		"monster-small-33": {
			type: "sprite",
			base: y,
			url: "33.png",
			x: 80
		},
		"monster-normal-33": {
			type: "spritesheet",
			base: g,
			url: "33.png",
			x: 80,
			w: 206,
			h: 136
		},
		"monster-reduced-33": {
			type: "spritesheet",
			base: u,
			url: "33.png",
			x: 40,
			w: 80,
			h: 51
		},
		"monster-small-34": {
			type: "sprite",
			base: y,
			url: "34.png",
			x: 112
		},
		"monster-normal-34": {
			type: "spritesheet",
			base: g,
			url: "34.png",
			x: 112,
			w: 230,
			h: 214
		},
		"monster-reduced-34": {
			type: "spritesheet",
			base: u,
			url: "34.png",
			x: 56,
			w: 99,
			h: 103
		},
		"monster-small-35": {
			type: "sprite",
			base: y,
			url: "35.png",
			x: 115
		},
		"monster-normal-35": {
			type: "spritesheet",
			base: g,
			url: "35.png",
			x: 115,
			w: 215,
			h: 167
		},
		"monster-reduced-35": {
			type: "spritesheet",
			base: u,
			url: "35.png",
			x: 57,
			w: 103,
			h: 81
		},
		"monster-small-36": {
			type: "sprite",
			base: y,
			url: "36.png",
			x: 115
		},
		"monster-normal-36": {
			type: "spritesheet",
			base: g,
			url: "36.png",
			x: 115,
			w: 212,
			h: 182,
			pivotX: 125
		},
		"monster-reduced-36": {
			type: "spritesheet",
			base: u,
			url: "36.png",
			x: 57,
			w: 102,
			h: 89
		},
		"monster-small-37": {
			type: "sprite",
			base: y,
			url: "37.png",
			x: 105
		},
		"monster-normal-37": {
			type: "spritesheet",
			base: g,
			url: "37.png",
			x: 105,
			w: 201,
			h: 190,
			pivotX: 115
		},
		"monster-reduced-37": {
			type: "spritesheet",
			base: u,
			url: "37.png",
			x: 52,
			w: 98,
			h: 92
		},
		"monster-small-38": {
			type: "sprite",
			base: y,
			url: "38.png",
			x: 105
		},
		"monster-normal-38": {
			type: "spritesheet",
			base: g,
			url: "38.png",
			x: 105,
			w: 201,
			h: 155
		},
		"monster-reduced-38": {
			type: "spritesheet",
			base: u,
			url: "38.png",
			x: 52,
			w: 91,
			h: 71
		},
		"monster-small-39": {
			type: "sprite",
			base: y,
			url: "39.png",
			x: 125
		},
		"monster-normal-39": {
			type: "spritesheet",
			base: g,
			url: "39.png",
			x: 125,
			w: 239,
			h: 181
		},
		"monster-reduced-39": {
			type: "spritesheet",
			base: u,
			url: "39.png",
			x: 62,
			w: 103,
			h: 88
		},
		"monster-small-4": {
			type: "sprite",
			base: y,
			url: "4.png",
			x: 65
		},
		"monster-normal-4": {
			type: "spritesheet",
			base: g,
			url: "4.png",
			x: 65,
			w: 100,
			h: 74
		},
		"monster-reduced-4": {
			type: "spritesheet",
			base: u,
			url: "4.png",
			x: 32,
			w: 51,
			h: 38
		},
		"monster-small-40": {
			type: "sprite",
			base: y,
			url: "40.png",
			x: 90
		},
		"monster-normal-40": {
			type: "spritesheet",
			base: g,
			url: "40.png",
			x: 90,
			w: 150,
			h: 185
		},
		"monster-reduced-40": {
			type: "spritesheet",
			base: u,
			url: "40.png",
			x: 45,
			w: 67,
			h: 80
		},
		"monster-small-41": {
			type: "sprite",
			base: y,
			url: "41.png",
			x: 120
		},
		"monster-normal-41": {
			type: "spritesheet",
			base: g,
			url: "41.png",
			x: 120,
			w: 240,
			h: 239
		},
		"monster-reduced-41": {
			type: "spritesheet",
			base: u,
			url: "41.png",
			x: 60,
			w: 110,
			h: 78
		},
		"monster-small-42": {
			type: "sprite",
			base: y,
			url: "42.png",
			x: 115
		},
		"monster-normal-42": {
			type: "spritesheet",
			base: g,
			url: "42.png",
			x: 115,
			w: 240,
			h: 239
		},
		"monster-reduced-42": {
			type: "spritesheet",
			base: u,
			url: "42.png",
			x: 57,
			w: 110,
			h: 78
		},
		"monster-small-43": {
			type: "sprite",
			base: y,
			url: "43.png",
			x: 90
		},
		"monster-normal-43": {
			type: "spritesheet",
			base: g,
			url: "43.png",
			x: 90,
			w: 167,
			h: 183
		},
		"monster-reduced-43": {
			type: "spritesheet",
			base: u,
			url: "43.png",
			x: 45,
			w: 84,
			h: 87
		},
		"monster-small-44": {
			type: "sprite",
			base: y,
			url: "44.png",
			x: 90
		},
		"monster-normal-44": {
			type: "spritesheet",
			base: g,
			url: "44.png",
			x: 90,
			w: 167,
			h: 183
		},
		"monster-reduced-44": {
			type: "spritesheet",
			base: u,
			url: "44.png",
			x: 45,
			w: 84,
			h: 87
		},
		"monster-small-45": {
			type: "sprite",
			base: y,
			url: "45.png",
			x: 95
		},
		"monster-normal-45": {
			type: "spritesheet",
			base: g,
			url: "45.png",
			x: 95,
			w: 222,
			h: 167
		},
		"monster-reduced-45": {
			type: "spritesheet",
			base: u,
			url: "45.png",
			x: 47,
			w: 102,
			h: 84
		},
		"monster-small-46": {
			type: "sprite",
			base: y,
			url: "46.png",
			x: 60
		},
		"monster-normal-46": {
			type: "spritesheet",
			base: g,
			url: "46.png",
			x: 60,
			w: 180,
			h: 140
		},
		"monster-reduced-46": {
			type: "spritesheet",
			base: u,
			url: "46.png",
			x: 30,
			w: 58,
			h: 59
		},
		"monster-small-47": {
			type: "sprite",
			base: y,
			url: "47.png",
			x: 86
		},
		"monster-normal-47": {
			type: "spritesheet",
			base: g,
			url: "47.png",
			x: 86,
			w: 208,
			h: 167
		},
		"monster-reduced-47": {
			type: "spritesheet",
			base: u,
			url: "47.png",
			x: 43,
			w: 77,
			h: 78
		},
		"monster-small-48": {
			type: "sprite",
			base: y,
			url: "48.png",
			x: 85
		},
		"monster-normal-48": {
			type: "spritesheet",
			base: g,
			url: "48.png",
			x: 85,
			w: 175,
			h: 223
		},
		"monster-reduced-48": {
			type: "spritesheet",
			base: u,
			url: "48.png",
			x: 42,
			w: 88,
			h: 101
		},
		"monster-small-49": {
			type: "sprite",
			base: y,
			url: "49.png",
			x: 120
		},
		"monster-normal-49": {
			type: "spritesheet",
			base: g,
			url: "49.png",
			x: 120,
			w: 221,
			h: 245
		},
		"monster-reduced-49": {
			type: "spritesheet",
			base: u,
			url: "49.png",
			x: 60,
			w: 104,
			h: 118
		},
		"monster-small-5": {
			type: "sprite",
			base: y,
			url: "5.png",
			x: 85
		},
		"monster-normal-5": {
			type: "spritesheet",
			base: g,
			url: "5.png",
			x: 85,
			w: 185,
			h: 204
		},
		"monster-reduced-5": {
			type: "spritesheet",
			base: u,
			url: "5.png",
			x: 42,
			w: 93,
			h: 101
		},
		"monster-small-50": {
			type: "sprite",
			base: y,
			url: "50.png",
			x: 115
		},
		"monster-normal-50": {
			type: "spritesheet",
			base: g,
			url: "50.png",
			x: 115,
			w: 227,
			h: 169
		},
		"monster-reduced-50": {
			type: "spritesheet",
			base: u,
			url: "50.png",
			x: 57,
			w: 96,
			h: 83
		},
		"monster-small-51": {
			type: "sprite",
			base: y,
			url: "51.png",
			x: 122
		},
		"monster-normal-51": {
			type: "spritesheet",
			base: g,
			url: "51.png",
			x: 122,
			w: 235,
			h: 174
		},
		"monster-reduced-51": {
			type: "spritesheet",
			base: u,
			url: "51.png",
			x: 61,
			w: 104,
			h: 85
		},
		"monster-small-52": {
			type: "sprite",
			base: y,
			url: "52.png",
			x: 55
		},
		"monster-normal-52": {
			type: "spritesheet",
			base: g,
			url: "52.png",
			x: 55,
			w: 107,
			h: 163
		},
		"monster-reduced-52": {
			type: "spritesheet",
			base: u,
			url: "52.png",
			x: 27,
			w: 54,
			h: 79
		},
		"monster-small-53": {
			type: "sprite",
			base: y,
			url: "53.png",
			x: 90
		},
		"monster-normal-53": {
			type: "spritesheet",
			base: g,
			url: "53.png",
			x: 90,
			w: 166,
			h: 240,
			pivotX: 94
		},
		"monster-reduced-53": {
			type: "spritesheet",
			base: u,
			url: "53.png",
			x: 45,
			w: 84,
			h: 117
		},
		"monster-small-54": {
			type: "sprite",
			base: y,
			url: "54.png",
			x: 150
		},
		"monster-normal-54": {
			type: "spritesheet",
			base: g,
			url: "54.png",
			x: 150,
			w: 344,
			h: 333
		},
		"monster-reduced-54": {
			type: "spritesheet",
			base: u,
			url: "54.png",
			x: 75,
			w: 143,
			h: 161
		},
		"monster-small-55": {
			type: "sprite",
			base: y,
			url: "55.png",
			x: 80
		},
		"monster-normal-55": {
			type: "spritesheet",
			base: g,
			url: "55.png",
			x: 80,
			w: 157,
			h: 194
		},
		"monster-reduced-55": {
			type: "spritesheet",
			base: u,
			url: "55.png",
			x: 40,
			w: 79,
			h: 98
		},
		"monster-small-56": {
			type: "sprite",
			base: y,
			url: "56.png",
			x: 82
		},
		"monster-normal-56": {
			type: "spritesheet",
			base: g,
			url: "56.png",
			x: 82,
			w: 160,
			h: 140
		},
		"monster-reduced-56": {
			type: "spritesheet",
			base: u,
			url: "56.png",
			x: 41,
			w: 69,
			h: 54
		},
		"monster-small-57": {
			type: "sprite",
			base: y,
			url: "57.png",
			x: 100
		},
		"monster-normal-57": {
			type: "spritesheet",
			base: g,
			url: "57.png",
			x: 100,
			w: 182,
			h: 136
		},
		"monster-reduced-57": {
			type: "spritesheet",
			base: u,
			url: "57.png",
			x: 50,
			w: 91,
			h: 65
		},
		"monster-small-58": {
			type: "sprite",
			base: y,
			url: "58.png",
			x: 80
		},
		"monster-normal-58": {
			type: "spritesheet",
			base: g,
			url: "58.png",
			x: 80,
			w: 157,
			h: 194
		},
		"monster-reduced-58": {
			type: "spritesheet",
			base: u,
			url: "58.png",
			x: 40,
			w: 78,
			h: 98
		},
		"monster-small-59": {
			type: "sprite",
			base: y,
			url: "59.png",
			x: 80
		},
		"monster-normal-59": {
			type: "spritesheet",
			base: g,
			url: "59.png",
			x: 80,
			w: 197,
			h: 177
		},
		"monster-reduced-59": {
			type: "spritesheet",
			base: u,
			url: "59.png",
			x: 40,
			w: 85,
			h: 87
		},
		"monster-small-6": {
			type: "sprite",
			base: y,
			url: "6.png",
			x: 90
		},
		"monster-normal-6": {
			type: "spritesheet",
			base: g,
			url: "6.png",
			x: 90,
			w: 235,
			h: 215
		},
		"monster-reduced-6": {
			type: "spritesheet",
			base: u,
			url: "6.png",
			x: 45,
			w: 91,
			h: 107
		},
		"monster-small-60": {
			type: "sprite",
			base: y,
			url: "60.png",
			x: 82
		},
		"monster-normal-60": {
			type: "spritesheet",
			base: g,
			url: "60.png",
			x: 82,
			w: 253,
			h: 235,
			pivotX: 125
		},
		"monster-reduced-60": {
			type: "spritesheet",
			base: u,
			url: "60.png",
			x: 41,
			w: 97,
			h: 110
		},
		"monster-small-61": {
			type: "sprite",
			base: y,
			url: "61.png",
			x: 102
		},
		"monster-normal-61": {
			type: "spritesheet",
			base: g,
			url: "61.png",
			x: 102,
			w: 233,
			h: 208
		},
		"monster-reduced-61": {
			type: "spritesheet",
			base: u,
			url: "61.png",
			x: 51,
			w: 99,
			h: 99
		},
		"monster-small-62": {
			type: "sprite",
			base: y,
			url: "62.png",
			x: 80
		},
		"monster-normal-62": {
			type: "spritesheet",
			base: g,
			url: "62.png",
			x: 80,
			w: 201,
			h: 193
		},
		"monster-reduced-62": {
			type: "spritesheet",
			base: u,
			url: "62.png",
			x: 40,
			w: 89,
			h: 96
		},
		"monster-small-63": {
			type: "sprite",
			base: y,
			url: "63.png",
			x: 60
		},
		"monster-normal-63": {
			type: "spritesheet",
			base: g,
			url: "63.png",
			x: 60,
			w: 197,
			h: 150
		},
		"monster-reduced-63": {
			type: "spritesheet",
			base: u,
			url: "63.png",
			x: 30,
			w: 81,
			h: 76
		},
		"monster-small-64": {
			type: "sprite",
			base: y,
			url: "64.png",
			x: 122
		},
		"monster-normal-64": {
			type: "spritesheet",
			base: g,
			url: "64.png",
			x: 122,
			w: 295,
			h: 212,
			pivotX: 70
		},
		"monster-reduced-64": {
			type: "spritesheet",
			base: u,
			url: "64.png",
			x: 61,
			w: 97,
			h: 102
		},
		"monster-small-65": {
			type: "sprite",
			base: y,
			url: "65.png",
			x: 134
		},
		"monster-normal-65": {
			type: "spritesheet",
			base: g,
			url: "65.png",
			x: 134,
			w: 343,
			h: 249,
			pivotX: 90
		},
		"monster-reduced-65": {
			type: "spritesheet",
			base: u,
			url: "65.png",
			x: 67,
			w: 107,
			h: 125
		},
		"monster-small-66": {
			type: "sprite",
			base: y,
			url: "66.png",
			x: 60
		},
		"monster-normal-66": {
			type: "spritesheet",
			base: g,
			url: "66.png",
			x: 60,
			w: 197,
			h: 144
		},
		"monster-reduced-66": {
			type: "spritesheet",
			base: u,
			url: "66.png",
			x: 30,
			w: 82,
			h: 73
		},
		"monster-small-67": {
			type: "sprite",
			base: y,
			url: "67.png",
			x: 122
		},
		"monster-normal-67": {
			type: "spritesheet",
			base: g,
			url: "67.png",
			x: 122,
			w: 297,
			h: 222,
			pivotX: 70
		},
		"monster-reduced-67": {
			type: "spritesheet",
			base: u,
			url: "67.png",
			x: 61,
			w: 96,
			h: 90
		},
		"monster-small-68": {
			type: "sprite",
			base: y,
			url: "68.png",
			x: 134
		},
		"monster-normal-68": {
			type: "spritesheet",
			base: g,
			url: "68.png",
			x: 134,
			w: 330,
			h: 233
		},
		"monster-reduced-68": {
			type: "spritesheet",
			base: u,
			url: "68.png",
			x: 67,
			w: 107,
			h: 114
		},
		"monster-small-69": {
			type: "sprite",
			base: y,
			url: "69.png",
			x: 60
		},
		"monster-normal-69": {
			type: "spritesheet",
			base: g,
			url: "69.png",
			x: 60,
			w: 196,
			h: 137
		},
		"monster-reduced-69": {
			type: "spritesheet",
			base: u,
			url: "69.png",
			x: 30,
			w: 83,
			h: 69
		},
		"monster-small-7": {
			type: "sprite",
			base: y,
			url: "7.png",
			x: 55
		},
		"monster-normal-7": {
			type: "spritesheet",
			base: g,
			url: "7.png",
			x: 55,
			w: 108,
			h: 75
		},
		"monster-reduced-7": {
			type: "spritesheet",
			base: u,
			url: "7.png",
			x: 27,
			w: 55,
			h: 38
		},
		"monster-small-70": {
			type: "sprite",
			base: y,
			url: "70.png",
			x: 122
		},
		"monster-normal-70": {
			type: "spritesheet",
			base: g,
			url: "70.png",
			x: 122,
			w: 303,
			h: 234,
			pivotX: 70
		},
		"monster-reduced-70": {
			type: "spritesheet",
			base: u,
			url: "70.png",
			x: 61,
			w: 97,
			h: 99
		},
		"monster-small-71": {
			type: "sprite",
			base: y,
			url: "71.png",
			x: 134
		},
		"monster-normal-71": {
			type: "spritesheet",
			base: g,
			url: "71.png",
			x: 134,
			w: 343,
			h: 247,
			pivotX: 90
		},
		"monster-reduced-71": {
			type: "spritesheet",
			base: u,
			url: "71.png",
			x: 67,
			w: 107,
			h: 124
		},
		"monster-small-72": {
			type: "sprite",
			base: y,
			url: "72.png",
			x: 60
		},
		"monster-normal-72": {
			type: "spritesheet",
			base: g,
			url: "72.png",
			x: 60,
			w: 196,
			h: 144
		},
		"monster-reduced-72": {
			type: "spritesheet",
			base: u,
			url: "72.png",
			x: 30,
			w: 80,
			h: 73
		},
		"monster-small-73": {
			type: "sprite",
			base: y,
			url: "73.png",
			x: 122
		},
		"monster-normal-73": {
			type: "spritesheet",
			base: g,
			url: "73.png",
			x: 122,
			w: 292,
			h: 212
		},
		"monster-reduced-73": {
			type: "spritesheet",
			base: u,
			url: "73.png",
			x: 61,
			w: 98,
			h: 100
		},
		"monster-small-74": {
			type: "sprite",
			base: y,
			url: "74.png",
			x: 134
		},
		"monster-normal-74": {
			type: "spritesheet",
			base: g,
			url: "74.png",
			x: 134,
			w: 343,
			h: 242
		},
		"monster-reduced-74": {
			type: "spritesheet",
			base: u,
			url: "74.png",
			x: 67,
			w: 107,
			h: 122
		},
		"monster-small-75": {
			type: "sprite",
			base: y,
			url: "75.png",
			x: 95
		},
		"monster-normal-75": {
			type: "spritesheet",
			base: g,
			url: "75.png",
			x: 95,
			w: 154,
			h: 168
		},
		"monster-reduced-75": {
			type: "spritesheet",
			base: u,
			url: "75.png",
			x: 47,
			w: 75,
			h: 85
		},
		"monster-small-76": {
			type: "sprite",
			base: y,
			url: "76.png",
			x: 95
		},
		"monster-normal-76": {
			type: "spritesheet",
			base: g,
			url: "76.png",
			x: 95,
			w: 201,
			h: 217
		},
		"monster-reduced-76": {
			type: "spritesheet",
			base: u,
			url: "76.png",
			x: 47,
			w: 93,
			h: 108
		},
		"monster-small-78": {
			type: "sprite",
			base: y,
			url: "78.png",
			x: 93
		},
		"monster-normal-78": {
			type: "spritesheet",
			base: g,
			url: "78.png",
			x: 93,
			w: 156,
			h: 185
		},
		"monster-reduced-78": {
			type: "spritesheet",
			base: u,
			url: "78.png",
			x: 46,
			w: 75,
			h: 91
		},
		"monster-small-79": {
			type: "sprite",
			base: y,
			url: "79.png",
			x: 88
		},
		"monster-normal-79": {
			type: "spritesheet",
			base: g,
			url: "79.png",
			x: 88,
			w: 213,
			h: 194
		},
		"monster-reduced-79": {
			type: "spritesheet",
			base: u,
			url: "79.png",
			x: 44,
			w: 93,
			h: 97
		},
		"monster-small-8": {
			type: "sprite",
			base: y,
			url: "8.png",
			x: 55
		},
		"monster-normal-8": {
			type: "spritesheet",
			base: g,
			url: "8.png",
			x: 55,
			w: 162,
			h: 117
		},
		"monster-reduced-8": {
			type: "spritesheet",
			base: u,
			url: "8.png",
			x: 27,
			w: 56,
			h: 59
		},
		"monster-small-80": {
			type: "sprite",
			base: y,
			url: "80.png",
			x: 100
		},
		"monster-normal-80": {
			type: "spritesheet",
			base: g,
			url: "80.png",
			x: 100,
			w: 229,
			h: 225
		},
		"monster-reduced-80": {
			type: "spritesheet",
			base: u,
			url: "80.png",
			x: 50,
			w: 82,
			h: 112
		},
		"monster-small-81": {
			type: "sprite",
			base: y,
			url: "81.png",
			x: 95
		},
		"monster-normal-81": {
			type: "spritesheet",
			base: g,
			url: "81.png",
			x: 95,
			w: 157,
			h: 162
		},
		"monster-reduced-81": {
			type: "spritesheet",
			base: u,
			url: "81.png",
			x: 47,
			w: 74,
			h: 80
		},
		"monster-small-82": {
			type: "sprite",
			base: y,
			url: "82.png",
			x: 102
		},
		"monster-normal-82": {
			type: "spritesheet",
			base: g,
			url: "82.png",
			x: 102,
			w: 212,
			h: 187
		},
		"monster-reduced-82": {
			type: "spritesheet",
			base: u,
			url: "82.png",
			x: 51,
			w: 93,
			h: 94
		},
		"monster-small-83": {
			type: "sprite",
			base: y,
			url: "83.png",
			x: 85
		},
		"monster-normal-83": {
			type: "spritesheet",
			base: g,
			url: "83.png",
			x: 85,
			w: 217,
			h: 223
		},
		"monster-reduced-83": {
			type: "spritesheet",
			base: u,
			url: "83.png",
			x: 42,
			w: 75,
			h: 108
		},
		"monster-small-84": {
			type: "sprite",
			base: y,
			url: "84.png",
			x: 90
		},
		"monster-normal-84": {
			type: "spritesheet",
			base: g,
			url: "84.png",
			x: 90,
			w: 156,
			h: 171
		},
		"monster-reduced-84": {
			type: "spritesheet",
			base: u,
			url: "84.png",
			x: 45,
			w: 79,
			h: 85
		},
		"monster-small-85": {
			type: "sprite",
			base: y,
			url: "85.png",
			x: 88
		},
		"monster-normal-85": {
			type: "spritesheet",
			base: g,
			url: "85.png",
			x: 88,
			w: 200,
			h: 190
		},
		"monster-reduced-85": {
			type: "spritesheet",
			base: u,
			url: "85.png",
			x: 44,
			w: 93,
			h: 95
		},
		"monster-small-86": {
			type: "sprite",
			base: y,
			url: "86.png",
			x: 115
		},
		"monster-normal-86": {
			type: "spritesheet",
			base: g,
			url: "86.png",
			x: 115,
			w: 242,
			h: 242
		},
		"monster-reduced-86": {
			type: "spritesheet",
			base: u,
			url: "86.png",
			x: 57,
			w: 84,
			h: 115
		},
		"monster-small-87": {
			type: "sprite",
			base: y,
			url: "87.png",
			x: 65
		},
		"monster-normal-87": {
			type: "spritesheet",
			base: g,
			url: "87.png",
			x: 65,
			w: 189,
			h: 120
		},
		"monster-reduced-87": {
			type: "spritesheet",
			base: u,
			url: "87.png",
			x: 32,
			w: 65,
			h: 54
		},
		"monster-small-88": {
			type: "sprite",
			base: y,
			url: "88.png",
			x: 115
		},
		"monster-normal-88": {
			type: "spritesheet",
			base: g,
			url: "88.png",
			x: 115,
			w: 252,
			h: 212,
			pivotX: 135
		},
		"monster-reduced-88": {
			type: "spritesheet",
			base: u,
			url: "88.png",
			x: 57,
			w: 113,
			h: 93
		},
		"monster-small-89": {
			type: "sprite",
			base: y,
			url: "89.png",
			x: 120
		},
		"monster-normal-89": {
			type: "spritesheet",
			base: g,
			url: "89.png",
			x: 120,
			w: 253,
			h: 254
		},
		"monster-reduced-89": {
			type: "spritesheet",
			base: u,
			url: "89.png",
			x: 60,
			w: 123,
			h: 127
		},
		"monster-small-9": {
			type: "sprite",
			base: y,
			url: "9.png",
			x: 120
		},
		"monster-normal-9": {
			type: "spritesheet",
			base: g,
			url: "9.png",
			x: 120,
			w: 250,
			h: 224
		},
		"monster-reduced-9": {
			type: "spritesheet",
			base: u,
			url: "9.png",
			x: 60,
			w: 126,
			h: 111
		},
		"monster-small-90": {
			type: "sprite",
			base: y,
			url: "90.png",
			x: 80
		},
		"monster-normal-90": {
			type: "spritesheet",
			base: g,
			url: "90.png",
			x: 80,
			w: 155,
			h: 128
		},
		"monster-reduced-90": {
			type: "spritesheet",
			base: u,
			url: "90.png",
			x: 40,
			w: 78,
			h: 63
		},
		"monster-small-91": {
			type: "sprite",
			base: y,
			url: "91.png",
			x: 85
		},
		"monster-normal-91": {
			type: "spritesheet",
			base: g,
			url: "91.png",
			x: 85,
			w: 219,
			h: 204
		},
		"monster-reduced-91": {
			type: "spritesheet",
			base: u,
			url: "91.png",
			x: 42,
			w: 88,
			h: 98
		},
		"monster-small-92": {
			type: "sprite",
			base: y,
			url: "92.png",
			x: 80
		},
		"monster-normal-92": {
			type: "spritesheet",
			base: g,
			url: "92.png",
			x: 80,
			w: 155,
			h: 128
		},
		"monster-reduced-92": {
			type: "spritesheet",
			base: u,
			url: "92.png",
			x: 40,
			w: 78,
			h: 63
		},
		"monster-small-93": {
			type: "sprite",
			base: y,
			url: "93.png",
			x: 65
		},
		"monster-normal-93": {
			type: "spritesheet",
			base: g,
			url: "93.png",
			x: 65,
			w: 171,
			h: 150,
			pivotX: 97
		},
		"monster-reduced-93": {
			type: "spritesheet",
			base: u,
			url: "93.png",
			x: 32,
			w: 84,
			h: 73
		},
		"monster-small-94": {
			type: "sprite",
			base: y,
			url: "94.png",
			x: 80
		},
		"monster-normal-94": {
			type: "spritesheet",
			base: g,
			url: "94.png",
			x: 80,
			w: 176,
			h: 187
		},
		"monster-reduced-94": {
			type: "spritesheet",
			base: u,
			url: "94.png",
			x: 40,
			w: 88,
			h: 53
		},
		"monster-small-95": {
			type: "sprite",
			base: y,
			url: "95.png",
			x: 115
		},
		"monster-normal-95": {
			type: "spritesheet",
			base: g,
			url: "95.png",
			x: 115,
			w: 203,
			h: 196
		},
		"monster-reduced-95": {
			type: "spritesheet",
			base: u,
			url: "95.png",
			x: 57,
			w: 101,
			h: 67
		},
		"monster-small-96": {
			type: "sprite",
			base: y,
			url: "96.png",
			x: 130
		},
		"monster-normal-96": {
			type: "spritesheet",
			base: g,
			url: "96.png",
			x: 130,
			w: 233,
			h: 206
		},
		"monster-reduced-96": {
			type: "spritesheet",
			base: u,
			url: "96.png",
			x: 65,
			w: 117,
			h: 79
		},
		"monster-small-97": {
			type: "sprite",
			base: y,
			url: "97.png",
			x: 135
		},
		"monster-normal-97": {
			type: "spritesheet",
			base: g,
			url: "97.png",
			x: 135,
			w: 488,
			h: 245
		},
		"monster-reduced-97": {
			type: "spritesheet",
			base: u,
			url: "97.png",
			x: 67,
			w: 135,
			h: 123
		},
		"monster-small-98": {
			type: "sprite",
			base: y,
			url: "98.png",
			x: 70
		},
		"monster-normal-98": {
			type: "spritesheet",
			base: g,
			url: "98.png",
			x: 70,
			w: 183,
			h: 178
		},
		"monster-reduced-98": {
			type: "spritesheet",
			base: u,
			url: "98.png",
			x: 35,
			w: 74,
			h: 69
		},
		"monster-small-99": {
			type: "sprite",
			base: y,
			url: "99.png",
			x: 130
		},
		"monster-normal-99": {
			type: "spritesheet",
			base: g,
			url: "99.png",
			x: 130,
			w: 254,
			h: 171
		},
		"monster-reduced-99": {
			type: "spritesheet",
			base: u,
			url: "99.png",
			x: 65,
			w: 76,
			h: 86
		},
		"normal-outfit-male-1": {
			type: "spritesheet",
			base: r,
			url: "1.png",
			x: 91,
			y: 144,
			w: 75,
			h: 91
		},
		"normal-outfit-male-10": {
			type: "spritesheet",
			base: r,
			url: "10.png",
			x: 91,
			y: 129,
			w: 75,
			h: 106
		},
		"normal-outfit-male-11": {
			type: "spritesheet",
			base: r,
			url: "11.png",
			x: 91,
			y: 150,
			w: 75,
			h: 85
		},
		"normal-outfit-male-12": {
			type: "spritesheet",
			base: r,
			url: "12.png",
			x: 91,
			y: 138,
			w: 75,
			h: 97
		},
		"normal-outfit-male-13": {
			type: "spritesheet",
			base: r,
			url: "13.png",
			x: 91,
			y: 155,
			w: 75,
			h: 80
		},
		"normal-outfit-male-14": {
			type: "spritesheet",
			base: r,
			url: "14.png",
			x: 91,
			y: 155,
			w: 75,
			h: 80
		},
		"normal-outfit-male-15": {
			type: "spritesheet",
			base: r,
			url: "15.png",
			x: 91,
			y: 155,
			w: 75,
			h: 80
		},
		"normal-outfit-male-16": {
			type: "spritesheet",
			base: r,
			url: "16.png",
			x: 91,
			y: 153,
			w: 75,
			h: 82
		},
		"normal-outfit-male-17": {
			type: "spritesheet",
			base: r,
			url: "17.png",
			x: 61,
			y: 144,
			w: 120,
			h: 91
		},
		"normal-outfit-male-18": {
			type: "spritesheet",
			base: r,
			url: "18.png",
			x: 91,
			y: 156,
			w: 75,
			h: 79
		},
		"normal-outfit-male-19": {
			type: "spritesheet",
			base: r,
			url: "19.png",
			x: 91,
			y: 154,
			w: 75,
			h: 81
		},
		"normal-outfit-male-2": {
			type: "spritesheet",
			base: r,
			url: "2.png",
			x: 68,
			y: 152,
			w: 98,
			h: 83
		},
		"normal-outfit-male-20": {
			type: "spritesheet",
			base: r,
			url: "20.png",
			x: 91,
			y: 154,
			w: 75,
			h: 81
		},
		"normal-outfit-male-21": {
			type: "spritesheet",
			base: r,
			url: "21.png",
			x: 91,
			y: 156,
			w: 75,
			h: 79
		},
		"normal-outfit-male-22": {
			type: "spritesheet",
			base: r,
			url: "22.png",
			x: 91,
			y: 153,
			w: 75,
			h: 82
		},
		"normal-outfit-male-23": {
			type: "spritesheet",
			base: r,
			url: "23.png",
			x: 91,
			y: 153,
			w: 75,
			h: 82
		},
		"normal-outfit-male-24": {
			type: "spritesheet",
			base: r,
			url: "24.png",
			x: 54,
			y: 141,
			w: 112,
			h: 94
		},
		"normal-outfit-male-25": {
			type: "spritesheet",
			base: r,
			url: "25.png",
			x: 91,
			y: 155,
			w: 75,
			h: 80
		},
		"normal-outfit-male-26": {
			type: "spritesheet",
			base: r,
			url: "26.png",
			x: 91,
			y: 153,
			w: 75,
			h: 82
		},
		"normal-outfit-male-27": {
			type: "spritesheet",
			base: r,
			url: "27.png",
			x: 91,
			y: 140,
			w: 75,
			h: 95
		},
		"normal-outfit-male-28": {
			type: "spritesheet",
			base: r,
			url: "28.png",
			x: 86,
			y: 154,
			w: 80,
			h: 81
		},
		"normal-outfit-male-29": {
			type: "spritesheet",
			base: r,
			url: "29.png",
			x: 91,
			y: 155,
			w: 75,
			h: 80
		},
		"normal-outfit-male-3": {
			type: "spritesheet",
			base: r,
			url: "3.png",
			x: 91,
			y: 153,
			w: 75,
			h: 82
		},
		"normal-outfit-male-30": {
			type: "spritesheet",
			base: r,
			url: "30.png",
			x: 91,
			y: 153,
			w: 75,
			h: 82
		},
		"normal-outfit-male-31": {
			type: "spritesheet",
			base: r,
			url: "31.png",
			x: 72,
			y: 144,
			w: 94,
			h: 91
		},
		"normal-outfit-male-32": {
			type: "spritesheet",
			base: r,
			url: "32.png",
			x: 88,
			y: 68,
			w: 78,
			h: 167
		},
		"normal-outfit-male-33": {
			type: "spritesheet",
			base: r,
			url: "33.png",
			x: 74,
			y: 150,
			w: 92,
			h: 85
		},
		"normal-outfit-male-34": {
			type: "spritesheet",
			base: r,
			url: "34.png",
			x: 66,
			y: 138,
			w: 100,
			h: 97
		},
		"normal-outfit-male-35": {
			type: "spritesheet",
			base: r,
			url: "35.png",
			x: 88,
			y: 155,
			w: 79,
			h: 80
		},
		"normal-outfit-male-36": {
			type: "spritesheet",
			base: r,
			url: "36.png",
			x: 91,
			y: 155,
			w: 76,
			h: 80
		},
		"normal-outfit-male-37": {
			type: "spritesheet",
			base: r,
			url: "37.png",
			x: 61,
			y: 153,
			w: 105,
			h: 82
		},
		"normal-outfit-male-38": {
			type: "spritesheet",
			base: r,
			url: "38.png",
			x: 30,
			y: 34,
			w: 165,
			h: 221
		},
		"normal-outfit-male-39": {
			type: "spritesheet",
			base: r,
			url: "39.png",
			x: 91,
			y: 151,
			w: 75,
			h: 84
		},
		"normal-outfit-male-4": {
			type: "spritesheet",
			base: r,
			url: "4.png",
			x: 91,
			y: 154,
			w: 75,
			h: 81
		},
		"normal-outfit-male-40": {
			type: "spritesheet",
			base: r,
			url: "40.png",
			x: 75,
			y: 153,
			w: 91,
			h: 82
		},
		"normal-outfit-male-41": {
			type: "spritesheet",
			base: r,
			url: "41.png",
			x: 91,
			y: 150,
			w: 75,
			h: 85
		},
		"normal-outfit-male-42": {
			type: "spritesheet",
			base: r,
			url: "42.png",
			x: 92,
			y: 154,
			w: 74,
			h: 81
		},
		"normal-outfit-male-43": {
			type: "spritesheet",
			base: r,
			url: "43.png",
			x: 89,
			y: 151,
			w: 95,
			h: 86
		},
		"normal-outfit-male-44": {
			type: "spritesheet",
			base: r,
			url: "44.png",
			x: 78,
			y: 137,
			w: 96,
			h: 98
		},
		"normal-outfit-male-45": {
			type: "spritesheet",
			base: r,
			url: "45.png",
			x: 90,
			y: 153,
			w: 79,
			h: 83
		},
		"normal-outfit-male-46": {
			type: "spritesheet",
			base: r,
			url: "46.png",
			x: 84,
			y: 155,
			w: 77,
			h: 80
		},
		"normal-outfit-male-47": {
			type: "spritesheet",
			base: r,
			url: "47.png",
			x: 89,
			y: 149,
			w: 77,
			h: 88
		},
		"normal-outfit-male-48": {
			type: "spritesheet",
			base: r,
			url: "48.png",
			x: 56,
			y: 138,
			w: 110,
			h: 97
		},
		"normal-outfit-male-49": {
			type: "spritesheet",
			base: r,
			url: "49.png",
			x: 87,
			y: 152,
			w: 83,
			h: 81
		},
		"normal-outfit-male-5": {
			type: "spritesheet",
			base: r,
			url: "5.png",
			x: 54,
			y: 141,
			w: 112,
			h: 94
		},
		"normal-outfit-male-50": {
			type: "spritesheet",
			base: r,
			url: "50.png",
			x: 74,
			y: 150,
			w: 107,
			h: 99
		},
		"normal-outfit-male-51": {
			type: "spritesheet",
			base: r,
			url: "51.png",
			x: 71,
			y: 147,
			w: 98,
			h: 87
		},
		"normal-outfit-male-52": {
			type: "spritesheet",
			base: r,
			url: "52.png",
			x: 78,
			y: 139,
			w: 90,
			h: 99
		},
		"normal-outfit-male-53": {
			type: "spritesheet",
			base: r,
			url: "53.png",
			x: 21,
			y: 75,
			w: 145,
			h: 160
		},
		"normal-outfit-male-54": {
			type: "spritesheet",
			base: r,
			url: "54.png",
			x: 51,
			y: 151,
			w: 123,
			h: 84
		},
		"normal-outfit-male-55": {
			type: "spritesheet",
			base: r,
			url: "55.png",
			x: 60,
			y: 143,
			w: 117,
			h: 92
		},
		"normal-outfit-male-56": {
			type: "spritesheet",
			base: r,
			url: "56.png",
			x: 59,
			y: 132,
			w: 118,
			h: 99
		},
		"normal-outfit-male-6": {
			type: "spritesheet",
			base: r,
			url: "6.png",
			x: 88,
			y: 139,
			w: 78,
			h: 96
		},
		"normal-outfit-male-7": {
			type: "spritesheet",
			base: r,
			url: "7.png",
			x: 74,
			y: 145,
			w: 92,
			h: 90
		},
		"normal-outfit-male-8": {
			type: "spritesheet",
			base: r,
			url: "8.png",
			x: 83,
			y: 137,
			w: 83,
			h: 98
		},
		"normal-outfit-male-9": {
			type: "spritesheet",
			base: r,
			url: "9.png",
			x: 91,
			y: 154,
			w: 75,
			h: 81
		},
		"reduced-outfit-male-1": {
			type: "spritesheet",
			base: e,
			url: "1.png",
			x: 43,
			y: 82,
			w: 38,
			h: 43
		},
		"reduced-outfit-male-10": {
			type: "spritesheet",
			base: e,
			url: "10.png",
			x: 43,
			y: 72,
			w: 38,
			h: 53
		},
		"reduced-outfit-male-11": {
			type: "spritesheet",
			base: e,
			url: "11.png",
			x: 43,
			y: 82,
			w: 38,
			h: 43
		},
		"reduced-outfit-male-12": {
			type: "spritesheet",
			base: e,
			url: "12.png",
			x: 43,
			y: 80,
			w: 38,
			h: 45
		},
		"reduced-outfit-male-13": {
			type: "spritesheet",
			base: e,
			url: "13.png",
			x: 43,
			y: 85,
			w: 38,
			h: 40
		},
		"reduced-outfit-male-14": {
			type: "spritesheet",
			base: e,
			url: "14.png",
			x: 43,
			y: 85,
			w: 38,
			h: 40
		},
		"reduced-outfit-male-15": {
			type: "spritesheet",
			base: e,
			url: "15.png",
			x: 43,
			y: 85,
			w: 38,
			h: 40
		},
		"reduced-outfit-male-16": {
			type: "spritesheet",
			base: e,
			url: "16.png",
			x: 43,
			y: 85,
			w: 38,
			h: 40
		},
		"reduced-outfit-male-17": {
			type: "spritesheet",
			base: e,
			url: "17.png",
			x: 28,
			y: 82,
			w: 60,
			h: 43
		},
		"reduced-outfit-male-18": {
			type: "spritesheet",
			base: e,
			url: "18.png",
			x: 43,
			y: 86,
			w: 38,
			h: 39
		},
		"reduced-outfit-male-19": {
			type: "spritesheet",
			base: e,
			url: "19.png",
			x: 43,
			y: 85,
			w: 38,
			h: 40
		},
		"reduced-outfit-male-2": {
			type: "spritesheet",
			base: e,
			url: "2.png",
			x: 32,
			y: 83,
			w: 49,
			h: 42
		},
		"reduced-outfit-male-20": {
			type: "spritesheet",
			base: e,
			url: "20.png",
			x: 43,
			y: 85,
			w: 38,
			h: 40
		},
		"reduced-outfit-male-21": {
			type: "spritesheet",
			base: e,
			url: "21.png",
			x: 43,
			y: 86,
			w: 38,
			h: 39
		},
		"reduced-outfit-male-22": {
			type: "spritesheet",
			base: e,
			url: "22.png",
			x: 43,
			y: 84,
			w: 38,
			h: 41
		},
		"reduced-outfit-male-23": {
			type: "spritesheet",
			base: e,
			url: "23.png",
			x: 43,
			y: 84,
			w: 38,
			h: 41
		},
		"reduced-outfit-male-24": {
			type: "spritesheet",
			base: e,
			url: "24.png",
			x: 25,
			y: 78,
			w: 56,
			h: 47
		},
		"reduced-outfit-male-25": {
			type: "spritesheet",
			base: e,
			url: "25.png",
			x: 43,
			y: 84,
			w: 38,
			h: 41
		},
		"reduced-outfit-male-26": {
			type: "spritesheet",
			base: e,
			url: "26.png",
			x: 43,
			y: 84,
			w: 38,
			h: 41
		},
		"reduced-outfit-male-27": {
			type: "spritesheet",
			base: e,
			url: "27.png",
			x: 43,
			y: 78,
			w: 38,
			h: 47
		},
		"reduced-outfit-male-28": {
			type: "spritesheet",
			base: e,
			url: "28.png",
			x: 41,
			y: 85,
			w: 40,
			h: 40
		},
		"reduced-outfit-male-29": {
			type: "spritesheet",
			base: e,
			url: "29.png",
			x: 43,
			y: 85,
			w: 38,
			h: 40
		},
		"reduced-outfit-male-3": {
			type: "spritesheet",
			base: e,
			url: "3.png",
			x: 43,
			y: 85,
			w: 38,
			h: 40
		},
		"reduced-outfit-male-30": {
			type: "spritesheet",
			base: e,
			url: "30.png",
			x: 43,
			y: 84,
			w: 38,
			h: 41
		},
		"reduced-outfit-male-31": {
			type: "spritesheet",
			base: e,
			url: "31.png",
			x: 33,
			y: 80,
			w: 48,
			h: 45
		},
		"reduced-outfit-male-32": {
			type: "spritesheet",
			base: e,
			url: "32.png",
			x: 43,
			y: 85,
			w: 38,
			h: 40
		},
		"reduced-outfit-male-33": {
			type: "spritesheet",
			base: e,
			url: "33.png",
			x: 37,
			y: 82,
			w: 44,
			h: 43
		},
		"reduced-outfit-male-34": {
			type: "spritesheet",
			base: e,
			url: "34.png",
			x: 31,
			y: 77,
			w: 50,
			h: 48
		},
		"reduced-outfit-male-35": {
			type: "spritesheet",
			base: e,
			url: "35.png",
			x: 42,
			y: 85,
			w: 38,
			h: 40
		},
		"reduced-outfit-male-36": {
			type: "spritesheet",
			base: e,
			url: "36.png",
			x: 43,
			y: 85,
			w: 38,
			h: 40
		},
		"reduced-outfit-male-37": {
			type: "spritesheet",
			base: e,
			url: "37.png",
			x: 39,
			y: 84,
			w: 44,
			h: 41
		},
		"reduced-outfit-male-38": {
			type: "spritesheet",
			base: e,
			url: "38.png",
			x: 17,
			y: 0,
			w: 78,
			h: 128
		},
		"reduced-outfit-male-39": {
			type: "spritesheet",
			base: e,
			url: "39.png",
			x: 17,
			y: 66,
			w: 79,
			h: 59
		},
		"reduced-outfit-male-4": {
			type: "spritesheet",
			base: e,
			url: "4.png",
			x: 43,
			y: 84,
			w: 38,
			h: 41
		},
		"reduced-outfit-male-40": {
			type: "spritesheet",
			base: e,
			url: "40.png",
			x: 41,
			y: 84,
			w: 42,
			h: 44
		},
		"reduced-outfit-male-41": {
			type: "spritesheet",
			base: e,
			url: "41.png",
			x: 45,
			y: 83,
			w: 38,
			h: 42
		},
		"reduced-outfit-male-42": {
			type: "spritesheet",
			base: e,
			url: "42.png",
			x: 45,
			y: 84,
			w: 37,
			h: 42
		},
		"reduced-outfit-male-43": {
			type: "spritesheet",
			base: e,
			url: "43.png",
			x: 40,
			y: 84,
			w: 52,
			h: 42
		},
		"reduced-outfit-male-44": {
			type: "spritesheet",
			base: e,
			url: "44.png",
			x: 39,
			y: 79,
			w: 48,
			h: 46
		},
		"reduced-outfit-male-45": {
			type: "spritesheet",
			base: e,
			url: "45.png",
			x: 42,
			y: 85,
			w: 43,
			h: 41
		},
		"reduced-outfit-male-46": {
			type: "spritesheet",
			base: e,
			url: "46.png",
			x: 41,
			y: 85,
			w: 38,
			h: 38
		},
		"reduced-outfit-male-47": {
			type: "spritesheet",
			base: e,
			url: "47.png",
			x: 45,
			y: 82,
			w: 38,
			h: 43
		},
		"reduced-outfit-male-48": {
			type: "spritesheet",
			base: e,
			url: "48.png",
			x: 28,
			y: 77,
			w: 55,
			h: 48
		},
		"reduced-outfit-male-49": {
			type: "spritesheet",
			base: e,
			url: "49.png",
			x: 40,
			y: 85,
			w: 44,
			h: 40
		},
		"reduced-outfit-male-5": {
			type: "spritesheet",
			base: e,
			url: "5.png",
			x: 25,
			y: 78,
			w: 56,
			h: 47
		},
		"reduced-outfit-male-50": {
			type: "spritesheet",
			base: e,
			url: "50.png",
			x: 36,
			y: 82,
			w: 53,
			h: 45
		},
		"reduced-outfit-male-51": {
			type: "spritesheet",
			base: e,
			url: "51.png",
			x: 36,
			y: 81,
			w: 49,
			h: 44
		},
		"reduced-outfit-male-52": {
			type: "spritesheet",
			base: e,
			url: "52.png",
			x: 40,
			y: 78,
			w: 45,
			h: 49
		},
		"reduced-outfit-male-53": {
			type: "spritesheet",
			base: e,
			url: "53.png",
			x: 27,
			y: 77,
			w: 56,
			h: 48
		},
		"reduced-outfit-male-54": {
			type: "spritesheet",
			base: e,
			url: "54.png",
			x: 25,
			y: 83,
			w: 63,
			h: 42
		},
		"reduced-outfit-male-55": {
			type: "spritesheet",
			base: e,
			url: "55.png",
			x: 28,
			y: 80,
			w: 60,
			h: 45
		},
		"reduced-outfit-male-56": {
			type: "spritesheet",
			base: e,
			url: "56.png",
			x: 34,
			y: 76,
			w: 54,
			h: 49
		},
		"reduced-outfit-male-6": {
			type: "spritesheet",
			base: e,
			url: "6.png",
			x: 42,
			y: 78,
			w: 39,
			h: 47
		},
		"reduced-outfit-male-7": {
			type: "spritesheet",
			base: e,
			url: "7.png",
			x: 35,
			y: 80,
			w: 46,
			h: 45
		},
		"reduced-outfit-male-8": {
			type: "spritesheet",
			base: e,
			url: "8.png",
			x: 39,
			y: 76,
			w: 42,
			h: 49
		},
		"reduced-outfit-male-9": {
			type: "spritesheet",
			base: e,
			url: "9.png",
			x: 43,
			y: 85,
			w: 38,
			h: 40
		},
		"normal-outfit-female-1": {
			type: "spritesheet",
			base: o,
			url: "1.png",
			x: 94,
			y: 155,
			w: 68,
			h: 79
		},
		"normal-outfit-female-10": {
			type: "spritesheet",
			base: o,
			url: "10.png",
			x: 94,
			y: 129,
			w: 68,
			h: 105
		},
		"normal-outfit-female-11": {
			type: "spritesheet",
			base: o,
			url: "11.png",
			x: 94,
			y: 151,
			w: 68,
			h: 83
		},
		"normal-outfit-female-12": {
			type: "spritesheet",
			base: o,
			url: "12.png",
			x: 94,
			y: 141,
			w: 68,
			h: 93
		},
		"normal-outfit-female-13": {
			type: "spritesheet",
			base: o,
			url: "13.png",
			x: 94,
			y: 156,
			w: 68,
			h: 78
		},
		"normal-outfit-female-14": {
			type: "spritesheet",
			base: o,
			url: "14.png",
			x: 94,
			y: 156,
			w: 68,
			h: 78
		},
		"normal-outfit-female-15": {
			type: "spritesheet",
			base: o,
			url: "15.png",
			x: 94,
			y: 156,
			w: 68,
			h: 78
		},
		"normal-outfit-female-16": {
			type: "spritesheet",
			base: o,
			url: "16.png",
			x: 94,
			y: 155,
			w: 68,
			h: 79
		},
		"normal-outfit-female-17": {
			type: "spritesheet",
			base: o,
			url: "17.png",
			x: 69,
			y: 155,
			w: 104,
			h: 79
		},
		"normal-outfit-female-18": {
			type: "spritesheet",
			base: o,
			url: "18.png",
			x: 94,
			y: 155,
			w: 68,
			h: 79
		},
		"normal-outfit-female-19": {
			type: "spritesheet",
			base: o,
			url: "19.png",
			x: 94,
			y: 154,
			w: 68,
			h: 80
		},
		"normal-outfit-female-2": {
			type: "spritesheet",
			base: o,
			url: "2.png",
			x: 94,
			y: 157,
			w: 68,
			h: 77
		},
		"normal-outfit-female-20": {
			type: "spritesheet",
			base: o,
			url: "20.png",
			x: 94,
			y: 154,
			w: 68,
			h: 80
		},
		"normal-outfit-female-21": {
			type: "spritesheet",
			base: o,
			url: "21.png",
			x: 94,
			y: 155,
			w: 68,
			h: 79
		},
		"normal-outfit-female-22": {
			type: "spritesheet",
			base: o,
			url: "22.png",
			x: 94,
			y: 156,
			w: 68,
			h: 78
		},
		"normal-outfit-female-23": {
			type: "spritesheet",
			base: o,
			url: "23.png",
			x: 94,
			y: 156,
			w: 68,
			h: 78
		},
		"normal-outfit-female-24": {
			type: "spritesheet",
			base: o,
			url: "24.png",
			x: 63,
			y: 145,
			w: 104,
			h: 89
		},
		"normal-outfit-female-25": {
			type: "spritesheet",
			base: o,
			url: "25.png",
			x: 94,
			y: 155,
			w: 68,
			h: 79
		},
		"normal-outfit-female-26": {
			type: "spritesheet",
			base: o,
			url: "26.png",
			x: 94,
			y: 156,
			w: 68,
			h: 78
		},
		"normal-outfit-female-27": {
			type: "spritesheet",
			base: o,
			url: "27.png",
			x: 93,
			y: 140,
			w: 69,
			h: 94
		},
		"normal-outfit-female-28": {
			type: "spritesheet",
			base: o,
			url: "28.png",
			x: 94,
			y: 155,
			w: 68,
			h: 79
		},
		"normal-outfit-female-29": {
			type: "spritesheet",
			base: o,
			url: "29.png",
			x: 94,
			y: 155,
			w: 68,
			h: 79
		},
		"normal-outfit-female-3": {
			type: "spritesheet",
			base: o,
			url: "3.png",
			x: 94,
			y: 157,
			w: 68,
			h: 77
		},
		"normal-outfit-female-30": {
			type: "spritesheet",
			base: o,
			url: "30.png",
			x: 94,
			y: 155,
			w: 68,
			h: 79
		},
		"normal-outfit-female-31": {
			type: "spritesheet",
			base: o,
			url: "31.png",
			x: 94,
			y: 155,
			w: 68,
			h: 79
		},
		"normal-outfit-female-32": {
			type: "spritesheet",
			base: o,
			url: "32.png",
			x: 94,
			y: 156,
			w: 68,
			h: 78
		},
		"normal-outfit-female-33": {
			type: "spritesheet",
			base: o,
			url: "33.png",
			x: 74,
			y: 151,
			w: 88,
			h: 83
		},
		"normal-outfit-female-34": {
			type: "spritesheet",
			base: o,
			url: "34.png",
			x: 66,
			y: 145,
			w: 99,
			h: 89
		},
		"normal-outfit-female-35": {
			type: "spritesheet",
			base: o,
			url: "35.png",
			x: 94,
			y: 154,
			w: 68,
			h: 80
		},
		"normal-outfit-female-36": {
			type: "spritesheet",
			base: o,
			url: "36.png",
			x: 91,
			y: 156,
			w: 72,
			h: 78
		},
		"normal-outfit-female-37": {
			type: "spritesheet",
			base: o,
			url: "37.png",
			x: 72,
			y: 153,
			w: 90,
			h: 81
		},
		"normal-outfit-female-38": {
			type: "spritesheet",
			base: o,
			url: "38.png",
			x: 30,
			y: 34,
			w: 165,
			h: 221
		},
		"normal-outfit-female-39": {
			type: "spritesheet",
			base: o,
			url: "39.png",
			x: 94,
			y: 155,
			w: 68,
			h: 79
		},
		"normal-outfit-female-4": {
			type: "spritesheet",
			base: o,
			url: "4.png",
			x: 94,
			y: 156,
			w: 68,
			h: 78
		},
		"normal-outfit-female-40": {
			type: "spritesheet",
			base: o,
			url: "40.png",
			x: 75,
			y: 155,
			w: 87,
			h: 79
		},
		"normal-outfit-female-41": {
			type: "spritesheet",
			base: o,
			url: "41.png",
			x: 94,
			y: 153,
			w: 68,
			h: 81
		},
		"normal-outfit-female-42": {
			type: "spritesheet",
			base: o,
			url: "42.png",
			x: 94,
			y: 156,
			w: 68,
			h: 78
		},
		"normal-outfit-female-43": {
			type: "spritesheet",
			base: o,
			url: "43.png",
			x: 89,
			y: 151,
			w: 95,
			h: 86
		},
		"normal-outfit-female-44": {
			type: "spritesheet",
			base: o,
			url: "44.png",
			x: 78,
			y: 135,
			w: 95,
			h: 99
		},
		"normal-outfit-female-45": {
			type: "spritesheet",
			base: o,
			url: "45.png",
			x: 94,
			y: 154,
			w: 79,
			h: 82
		},
		"normal-outfit-female-46": {
			type: "spritesheet",
			base: o,
			url: "46.png",
			x: 89,
			y: 156,
			w: 74,
			h: 77
		},
		"normal-outfit-female-47": {
			type: "spritesheet",
			base: o,
			url: "47.png",
			x: 94,
			y: 149,
			w: 68,
			h: 87
		},
		"normal-outfit-female-48": {
			type: "spritesheet",
			base: o,
			url: "48.png",
			x: 64,
			y: 138,
			w: 98,
			h: 96
		},
		"normal-outfit-female-49": {
			type: "spritesheet",
			base: o,
			url: "49.png",
			x: 87,
			y: 152,
			w: 83,
			h: 81
		},
		"normal-outfit-female-5": {
			type: "spritesheet",
			base: o,
			url: "5.png",
			x: 63,
			y: 145,
			w: 104,
			h: 89
		},
		"normal-outfit-female-50": {
			type: "spritesheet",
			base: o,
			url: "50.png",
			x: 89,
			y: 150,
			w: 77,
			h: 84
		},
		"normal-outfit-female-51": {
			type: "spritesheet",
			base: o,
			url: "51.png",
			x: 88,
			y: 147,
			w: 76,
			h: 87
		},
		"normal-outfit-female-52": {
			type: "spritesheet",
			base: o,
			url: "52.png",
			x: 82,
			y: 139,
			w: 83,
			h: 94
		},
		"normal-outfit-female-53": {
			type: "spritesheet",
			base: o,
			url: "53.png",
			x: 76,
			y: 146,
			w: 90,
			h: 88
		},
		"normal-outfit-female-54": {
			type: "spritesheet",
			base: o,
			url: "54.png",
			x: 57,
			y: 154,
			w: 123,
			h: 80
		},
		"normal-outfit-female-55": {
			type: "spritesheet",
			base: o,
			url: "55.png",
			x: 76,
			y: 143,
			w: 101,
			h: 91
		},
		"normal-outfit-female-56": {
			type: "spritesheet",
			base: o,
			url: "56.png",
			x: 59,
			y: 132,
			w: 113,
			h: 98
		},
		"normal-outfit-female-6": {
			type: "spritesheet",
			base: o,
			url: "6.png",
			x: 91,
			y: 140,
			w: 71,
			h: 94
		},
		"normal-outfit-female-7": {
			type: "spritesheet",
			base: o,
			url: "7.png",
			x: 75,
			y: 149,
			w: 87,
			h: 85
		},
		"normal-outfit-female-8": {
			type: "spritesheet",
			base: o,
			url: "8.png",
			x: 92,
			y: 137,
			w: 70,
			h: 97
		},
		"normal-outfit-female-9": {
			type: "spritesheet",
			base: o,
			url: "9.png",
			x: 94,
			y: 153,
			w: 68,
			h: 81
		},
		"reduced-outfit-female-1": {
			type: "spritesheet",
			base: t,
			url: "1.png",
			x: 44,
			y: 86,
			w: 35,
			h: 39
		},
		"reduced-outfit-female-10": {
			type: "spritesheet",
			base: t,
			url: "10.png",
			x: 44,
			y: 72,
			w: 35,
			h: 53
		},
		"reduced-outfit-female-11": {
			type: "spritesheet",
			base: t,
			url: "11.png",
			x: 44,
			y: 83,
			w: 35,
			h: 42
		},
		"reduced-outfit-female-12": {
			type: "spritesheet",
			base: t,
			url: "12.png",
			x: 44,
			y: 78,
			w: 35,
			h: 47
		},
		"reduced-outfit-female-13": {
			type: "spritesheet",
			base: t,
			url: "13.png",
			x: 44,
			y: 86,
			w: 35,
			h: 39
		},
		"reduced-outfit-female-14": {
			type: "spritesheet",
			base: t,
			url: "14.png",
			x: 44,
			y: 86,
			w: 35,
			h: 39
		},
		"reduced-outfit-female-15": {
			type: "spritesheet",
			base: t,
			url: "15.png",
			x: 44,
			y: 86,
			w: 35,
			h: 39
		},
		"reduced-outfit-female-16": {
			type: "spritesheet",
			base: t,
			url: "16.png",
			x: 44,
			y: 85,
			w: 35,
			h: 40
		},
		"reduced-outfit-female-17": {
			type: "spritesheet",
			base: t,
			url: "17.png",
			x: 32,
			y: 84,
			w: 53,
			h: 41
		},
		"reduced-outfit-female-18": {
			type: "spritesheet",
			base: t,
			url: "18.png",
			x: 44,
			y: 86,
			w: 35,
			h: 39
		},
		"reduced-outfit-female-19": {
			type: "spritesheet",
			base: t,
			url: "19.png",
			x: 44,
			y: 86,
			w: 35,
			h: 39
		},
		"reduced-outfit-female-2": {
			type: "spritesheet",
			base: t,
			url: "2.png",
			x: 44,
			y: 86,
			w: 35,
			h: 39
		},
		"reduced-outfit-female-20": {
			type: "spritesheet",
			base: t,
			url: "20.png",
			x: 44,
			y: 86,
			w: 35,
			h: 39
		},
		"reduced-outfit-female-21": {
			type: "spritesheet",
			base: t,
			url: "21.png",
			x: 44,
			y: 86,
			w: 35,
			h: 39
		},
		"reduced-outfit-female-22": {
			type: "spritesheet",
			base: t,
			url: "22.png",
			x: 44,
			y: 85,
			w: 35,
			h: 40
		},
		"reduced-outfit-female-23": {
			type: "spritesheet",
			base: t,
			url: "23.png",
			x: 44,
			y: 85,
			w: 35,
			h: 40
		},
		"reduced-outfit-female-24": {
			type: "spritesheet",
			base: t,
			url: "24.png",
			x: 29,
			y: 79,
			w: 51,
			h: 46
		},
		"reduced-outfit-female-25": {
			type: "spritesheet",
			base: t,
			url: "25.png",
			x: 44,
			y: 86,
			w: 35,
			h: 39
		},
		"reduced-outfit-female-26": {
			type: "spritesheet",
			base: t,
			url: "26.png",
			x: 44,
			y: 86,
			w: 35,
			h: 39
		},
		"reduced-outfit-female-27": {
			type: "spritesheet",
			base: t,
			url: "27.png",
			x: 43,
			y: 77,
			w: 36,
			h: 48
		},
		"reduced-outfit-female-28": {
			type: "spritesheet",
			base: t,
			url: "28.png",
			x: 44,
			y: 86,
			w: 35,
			h: 39
		},
		"reduced-outfit-female-29": {
			type: "spritesheet",
			base: t,
			url: "29.png",
			x: 44,
			y: 86,
			w: 35,
			h: 39
		},
		"reduced-outfit-female-3": {
			type: "spritesheet",
			base: t,
			url: "3.png",
			x: 44,
			y: 86,
			w: 35,
			h: 39
		},
		"reduced-outfit-female-30": {
			type: "spritesheet",
			base: t,
			url: "30.png",
			x: 44,
			y: 85,
			w: 35,
			h: 40
		},
		"reduced-outfit-female-31": {
			type: "spritesheet",
			base: t,
			url: "31.png",
			x: 44,
			y: 85,
			w: 35,
			h: 40
		},
		"reduced-outfit-female-32": {
			type: "spritesheet",
			base: t,
			url: "32.png",
			x: 44,
			y: 86,
			w: 35,
			h: 39
		},
		"reduced-outfit-female-33": {
			type: "spritesheet",
			base: t,
			url: "33.png",
			x: 39,
			y: 83,
			w: 40,
			h: 42
		},
		"reduced-outfit-female-34": {
			type: "spritesheet",
			base: t,
			url: "34.png",
			x: 31,
			y: 80,
			w: 48,
			h: 45
		},
		"reduced-outfit-female-35": {
			type: "spritesheet",
			base: t,
			url: "35.png",
			x: 44,
			y: 84,
			w: 35,
			h: 41
		},
		"reduced-outfit-female-36": {
			type: "spritesheet",
			base: t,
			url: "36.png",
			x: 43,
			y: 86,
			w: 36,
			h: 39
		},
		"reduced-outfit-female-37": {
			type: "spritesheet",
			base: t,
			url: "37.png",
			x: 36,
			y: 83,
			w: 45,
			h: 42
		},
		"reduced-outfit-female-38": {
			type: "spritesheet",
			base: t,
			url: "38.png",
			x: 17,
			y: 0,
			w: 78,
			h: 128
		},
		"reduced-outfit-female-39": {
			type: "spritesheet",
			base: t,
			url: "39.png",
			x: 16,
			y: 68,
			w: 79,
			h: 57
		},
		"reduced-outfit-female-4": {
			type: "spritesheet",
			base: t,
			url: "4.png",
			x: 44,
			y: 86,
			w: 35,
			h: 39
		},
		"reduced-outfit-female-40": {
			type: "spritesheet",
			base: t,
			url: "40.png",
			x: 41,
			y: 85,
			w: 39,
			h: 43
		},
		"reduced-outfit-female-41": {
			type: "spritesheet",
			base: t,
			url: "41.png",
			x: 45,
			y: 84,
			w: 35,
			h: 41
		},
		"reduced-outfit-female-42": {
			type: "spritesheet",
			base: t,
			url: "42.png",
			x: 45,
			y: 86,
			w: 35,
			h: 39
		},
		"reduced-outfit-female-43": {
			type: "spritesheet",
			base: t,
			url: "43.png",
			x: 40,
			y: 84,
			w: 52,
			h: 42
		},
		"reduced-outfit-female-44": {
			type: "spritesheet",
			base: t,
			url: "44.png",
			x: 37,
			y: 75,
			w: 47,
			h: 50
		},
		"reduced-outfit-female-45": {
			type: "spritesheet",
			base: t,
			url: "45.png",
			x: 42,
			y: 85,
			w: 43,
			h: 41
		},
		"reduced-outfit-female-46": {
			type: "spritesheet",
			base: t,
			url: "46.png",
			x: 43,
			y: 85,
			w: 36,
			h: 36
		},
		"reduced-outfit-female-47": {
			type: "spritesheet",
			base: t,
			url: "47.png",
			x: 45,
			y: 82,
			w: 35,
			h: 43
		},
		"reduced-outfit-female-48": {
			type: "spritesheet",
			base: t,
			url: "48.png",
			x: 31,
			y: 77,
			w: 49,
			h: 48
		},
		"reduced-outfit-female-49": {
			type: "spritesheet",
			base: t,
			url: "49.png",
			x: 40,
			y: 85,
			w: 44,
			h: 40
		},
		"reduced-outfit-female-5": {
			type: "spritesheet",
			base: t,
			url: "5.png",
			x: 29,
			y: 79,
			w: 51,
			h: 46
		},
		"reduced-outfit-female-50": {
			type: "spritesheet",
			base: t,
			url: "50.png",
			x: 39,
			y: 82,
			w: 42,
			h: 44
		},
		"reduced-outfit-female-51": {
			type: "spritesheet",
			base: t,
			url: "51.png",
			x: 44,
			y: 83,
			w: 38,
			h: 41
		},
		"reduced-outfit-female-52": {
			type: "spritesheet",
			base: t,
			url: "52.png",
			x: 41,
			y: 79,
			w: 43,
			h: 45
		},
		"reduced-outfit-female-53": {
			type: "spritesheet",
			base: t,
			url: "53.png",
			x: 38,
			y: 80,
			w: 45,
			h: 44
		},
		"reduced-outfit-female-54": {
			type: "spritesheet",
			base: t,
			url: "54.png",
			x: 25,
			y: 85,
			w: 63,
			h: 39
		},
		"reduced-outfit-female-55": {
			type: "spritesheet",
			base: t,
			url: "55.png",
			x: 33,
			y: 80,
			w: 50,
			h: 45
		},
		"reduced-outfit-female-56": {
			type: "spritesheet",
			base: t,
			url: "56.png",
			x: 34,
			y: 76,
			w: 52,
			h: 46
		},
		"reduced-outfit-female-6": {
			type: "spritesheet",
			base: t,
			url: "6.png",
			x: 43,
			y: 77,
			w: 36,
			h: 48
		},
		"reduced-outfit-female-7": {
			type: "spritesheet",
			base: t,
			url: "7.png",
			x: 38,
			y: 82,
			w: 41,
			h: 43
		},
		"reduced-outfit-female-8": {
			type: "spritesheet",
			base: t,
			url: "8.png",
			x: 40,
			y: 76,
			w: 39,
			h: 49
		},
		"reduced-outfit-female-9": {
			type: "spritesheet",
			base: t,
			url: "9.png",
			x: 44,
			y: 85,
			w: 35,
			h: 40
		},
		"normal-hat-1": {
			type: "spritesheet",
			base: l,
			url: "1.png",
			x: 49,
			y: 39,
			w: 131,
			h: 89
		},
		"normal-hat-10": {
			type: "spritesheet",
			base: l,
			url: "10.png",
			x: 97,
			y: 14,
			w: 75,
			h: 105
		},
		"normal-hat-11": {
			type: "spritesheet",
			base: l,
			url: "11.png",
			x: 11,
			y: 28,
			w: 172,
			h: 139
		},
		"normal-hat-12": {
			type: "spritesheet",
			base: l,
			url: "12.png",
			x: 73,
			y: 64,
			w: 105,
			h: 61
		},
		"normal-hat-13": {
			type: "spritesheet",
			base: l,
			url: "13.png",
			x: 73,
			y: 64,
			w: 105,
			h: 61
		},
		"normal-hat-14": {
			type: "spritesheet",
			base: l,
			url: "14.png",
			x: 73,
			y: 64,
			w: 105,
			h: 61
		},
		"normal-hat-15": {
			type: "spritesheet",
			base: l,
			url: "15.png",
			x: 58,
			y: 38,
			w: 129,
			h: 85
		},
		"normal-hat-16": {
			type: "spritesheet",
			base: l,
			url: "16.png",
			x: 58,
			y: 38,
			w: 129,
			h: 85
		},
		"normal-hat-17": {
			type: "spritesheet",
			base: l,
			url: "17.png",
			x: 71,
			y: 35,
			w: 118,
			h: 89
		},
		"normal-hat-18": {
			type: "spritesheet",
			base: l,
			url: "18.png",
			x: 65,
			y: 40,
			w: 117,
			h: 84
		},
		"normal-hat-19": {
			type: "spritesheet",
			base: l,
			url: "19.png",
			x: 63,
			y: 37,
			w: 132,
			h: 90
		},
		"normal-hat-2": {
			type: "spritesheet",
			base: l,
			url: "2.png",
			x: 85,
			y: 34,
			w: 94,
			h: 93
		},
		"normal-hat-20": {
			type: "spritesheet",
			base: l,
			url: "20.png",
			x: 71,
			y: 35,
			w: 118,
			h: 89
		},
		"normal-hat-21": {
			type: "spritesheet",
			base: l,
			url: "21.png",
			x: 65,
			y: 40,
			w: 117,
			h: 84
		},
		"normal-hat-22": {
			type: "spritesheet",
			base: l,
			url: "22.png",
			x: 60,
			y: 37,
			w: 117,
			h: 85
		},
		"normal-hat-23": {
			type: "spritesheet",
			base: l,
			url: "23.png",
			x: 93,
			y: 52,
			w: 77,
			h: 58
		},
		"normal-hat-24": {
			type: "spritesheet",
			base: l,
			url: "24.png",
			x: 49,
			y: 53,
			w: 137,
			h: 78
		},
		"normal-hat-25": {
			type: "spritesheet",
			base: l,
			url: "25.png",
			x: 85,
			y: 43,
			w: 95,
			h: 82
		},
		"normal-hat-26": {
			type: "spritesheet",
			base: l,
			url: "26.png",
			x: 69,
			y: 25,
			w: 124,
			h: 99
		},
		"normal-hat-27": {
			type: "spritesheet",
			base: l,
			url: "27.png",
			x: 88,
			y: 80,
			w: 67,
			h: 65
		},
		"normal-hat-28": {
			type: "spritesheet",
			base: l,
			url: "28.png",
			x: 77,
			y: 68,
			w: 100,
			h: 89
		},
		"normal-hat-29": {
			type: "spritesheet",
			base: l,
			url: "29.png",
			x: 62,
			y: 49,
			w: 118,
			h: 99
		},
		"normal-hat-3": {
			type: "spritesheet",
			base: l,
			url: "3.png",
			x: 93,
			y: 61,
			w: 77,
			h: 56
		},
		"normal-hat-30": {
			type: "spritesheet",
			base: l,
			url: "30.png",
			x: 66,
			y: 16,
			w: 124,
			h: 144
		},
		"normal-hat-31": {
			type: "spritesheet",
			base: l,
			url: "31.png",
			x: 55,
			y: 31,
			w: 130,
			h: 110
		},
		"normal-hat-32": {
			type: "spritesheet",
			base: l,
			url: "32.png",
			x: 26,
			y: 35,
			w: 154,
			h: 109
		},
		"normal-hat-33": {
			type: "spritesheet",
			base: l,
			url: "33.png",
			x: 72,
			y: 32,
			w: 117,
			h: 96
		},
		"normal-hat-34": {
			type: "spritesheet",
			base: l,
			url: "34.png",
			x: 99,
			y: 49,
			w: 76,
			h: 71
		},
		"normal-hat-35": {
			type: "spritesheet",
			base: l,
			url: "35.png",
			x: 102,
			y: 54,
			w: 75,
			h: 70
		},
		"normal-hat-36": {
			type: "spritesheet",
			base: l,
			url: "36.png",
			x: 65,
			y: 15,
			w: 129,
			h: 113
		},
		"normal-hat-37": {
			type: "spritesheet",
			base: l,
			url: "37.png",
			x: 61,
			y: 37,
			w: 124,
			h: 104
		},
		"normal-hat-38": {
			type: "spritesheet",
			base: l,
			url: "38.png",
			x: 57,
			y: 37,
			w: 125,
			h: 96
		},
		"normal-hat-39": {
			type: "spritesheet",
			base: l,
			url: "39.png",
			x: 72,
			y: 63,
			w: 120,
			h: 109
		},
		"normal-hat-4": {
			type: "spritesheet",
			base: l,
			url: "4.png",
			x: 61,
			y: 49,
			w: 141,
			h: 78
		},
		"normal-hat-40": {
			type: "spritesheet",
			base: l,
			url: "40.png",
			x: 79,
			y: 84,
			w: 96,
			h: 77
		},
		"normal-hat-41": {
			type: "spritesheet",
			base: l,
			url: "41.png",
			x: 73,
			y: 72,
			w: 109,
			h: 107
		},
		"normal-hat-42": {
			type: "spritesheet",
			base: l,
			url: "42.png",
			x: 63,
			y: 61,
			w: 112,
			h: 93
		},
		"normal-hat-43": {
			type: "spritesheet",
			base: l,
			url: "43.png",
			x: 78,
			y: 48,
			w: 106,
			h: 83
		},
		"normal-hat-44": {
			type: "spritesheet",
			base: l,
			url: "44.png",
			x: 68,
			y: 54,
			w: 125,
			h: 75
		},
		"normal-hat-45": {
			type: "spritesheet",
			base: l,
			url: "45.png",
			x: 73,
			y: 32,
			w: 115,
			h: 93
		},
		"normal-hat-46": {
			type: "spritesheet",
			base: l,
			url: "46.png",
			x: 59,
			y: 41,
			w: 130,
			h: 117
		},
		"normal-hat-47": {
			type: "spritesheet",
			base: l,
			url: "47.png",
			x: 84,
			y: 70,
			w: 85,
			h: 80
		},
		"normal-hat-48": {
			type: "spritesheet",
			base: l,
			url: "48.png",
			x: 64,
			y: 34,
			w: 136,
			h: 124
		},
		"normal-hat-49": {
			type: "spritesheet",
			base: l,
			url: "49.png",
			x: 72,
			y: 45,
			w: 110,
			h: 117
		},
		"normal-hat-5": {
			type: "spritesheet",
			base: l,
			url: "5.png",
			x: 61,
			y: 27,
			w: 151,
			h: 107
		},
		"normal-hat-50": {
			type: "spritesheet",
			base: l,
			url: "50.png",
			x: 27,
			y: 67,
			w: 149,
			h: 110
		},
		"normal-hat-51": {
			type: "spritesheet",
			base: l,
			url: "51.png",
			x: 88,
			y: 83,
			w: 91,
			h: 91
		},
		"normal-hat-52": {
			type: "spritesheet",
			base: l,
			url: "52.png",
			x: 104,
			y: 99,
			w: 69,
			h: 69
		},
		"normal-hat-53": {
			type: "spritesheet",
			base: l,
			url: "53.png",
			x: 93,
			y: 69,
			w: 80,
			h: 95
		},
		"normal-hat-54": {
			type: "spritesheet",
			base: l,
			url: "54.png",
			x: 80,
			y: 55,
			w: 97,
			h: 79
		},
		"normal-hat-55": {
			type: "spritesheet",
			base: l,
			url: "55.png",
			x: 56,
			y: 37,
			w: 118,
			h: 110
		},
		"normal-hat-56": {
			type: "spritesheet",
			base: l,
			url: "56.png",
			x: 75,
			y: 35,
			w: 115,
			h: 163
		},
		"normal-hat-57": {
			type: "spritesheet",
			base: l,
			url: "57.png",
			x: 77,
			y: 34,
			w: 102,
			h: 135
		},
		"normal-hat-58": {
			type: "spritesheet",
			base: l,
			url: "58.png",
			x: 79,
			y: 57,
			w: 100,
			h: 139
		},
		"normal-hat-59": {
			type: "spritesheet",
			base: l,
			url: "59.png",
			x: 69,
			y: 70,
			w: 107,
			h: 89
		},
		"normal-hat-6": {
			type: "spritesheet",
			base: l,
			url: "6.png",
			x: 105,
			y: 34,
			w: 64,
			h: 89
		},
		"normal-hat-60": {
			type: "spritesheet",
			base: l,
			url: "60.png",
			x: 39,
			y: 34,
			w: 133,
			h: 124
		},
		"normal-hat-61": {
			type: "spritesheet",
			base: l,
			url: "61.png",
			x: 18,
			y: 40,
			w: 163,
			h: 111
		},
		"normal-hat-62": {
			type: "spritesheet",
			base: l,
			url: "62.png",
			x: 56,
			y: 23,
			w: 122,
			h: 149
		},
		"normal-hat-63": {
			type: "spritesheet",
			base: l,
			url: "63.png",
			x: 60,
			y: 55,
			w: 135,
			h: 92
		},
		"normal-hat-64": {
			type: "spritesheet",
			base: l,
			url: "64.png",
			x: 85,
			y: 14,
			w: 95,
			h: 144
		},
		"normal-hat-65": {
			type: "spritesheet",
			base: l,
			url: "65.png",
			x: 76,
			y: 12,
			w: 104,
			h: 139
		},
		"normal-hat-66": {
			type: "spritesheet",
			base: l,
			url: "66.png",
			x: 71,
			y: 68,
			w: 109,
			h: 70
		},
		"normal-hat-67": {
			type: "spritesheet",
			base: l,
			url: "67.png",
			x: 67,
			y: 39,
			w: 118,
			h: 107
		},
		"normal-hat-68": {
			type: "spritesheet",
			base: l,
			url: "68.png",
			x: 57,
			y: 19,
			w: 132,
			h: 128
		},
		"normal-hat-69": {
			type: "spritesheet",
			base: l,
			url: "69.png",
			x: 67,
			y: 45,
			w: 115,
			h: 101
		},
		"normal-hat-7": {
			type: "spritesheet",
			base: l,
			url: "7.png",
			x: 69,
			y: 35,
			w: 116,
			h: 83
		},
		"normal-hat-70": {
			type: "spritesheet",
			base: l,
			url: "70.png",
			x: 68,
			y: 38,
			w: 123,
			h: 108
		},
		"normal-hat-8": {
			type: "spritesheet",
			base: l,
			url: "8.png",
			x: 72,
			y: 57,
			w: 97,
			h: 58
		},
		"normal-hat-9": {
			type: "spritesheet",
			base: l,
			url: "9.png",
			x: 62,
			y: 33,
			w: 127,
			h: 95
		},
		"normal-hat-71": {
			type: "spritesheet",
			base: l,
			url: "71.png",
			x: 63,
			y: 37,
			w: 133,
			h: 128
		},
		"normal-hat-72": {
			type: "spritesheet",
			base: l,
			url: "72.png",
			x: 66,
			y: 22,
			w: 109,
			h: 139
		},
		"normal-hat-73": {
			type: "spritesheet",
			base: l,
			url: "73.png",
			x: 49,
			y: 31,
			w: 142,
			h: 141
		},
		"normal-hat-74": {
			type: "spritesheet",
			base: l,
			url: "74.png",
			x: 77,
			y: 65,
			w: 59,
			h: 50
		},
		"normal-hat-75": {
			type: "spritesheet",
			base: l,
			url: "75.png",
			x: 68,
			y: 13,
			w: 115,
			h: 113
		},
		"reduced-hat-1": {
			type: "spritesheet",
			base: s,
			url: "1.png",
			x: 23,
			y: 29,
			w: 65,
			h: 45
		},
		"reduced-hat-10": {
			type: "spritesheet",
			base: s,
			url: "10.png",
			x: 48,
			y: 15,
			w: 37,
			h: 52
		},
		"reduced-hat-11": {
			type: "spritesheet",
			base: s,
			url: "11.png",
			x: 7,
			y: 24,
			w: 86,
			h: 67
		},
		"reduced-hat-12": {
			type: "spritesheet",
			base: s,
			url: "12.png",
			x: 35,
			y: 39,
			w: 53,
			h: 31
		},
		"reduced-hat-13": {
			type: "spritesheet",
			base: s,
			url: "13.png",
			x: 35,
			y: 39,
			w: 53,
			h: 31
		},
		"reduced-hat-14": {
			type: "spritesheet",
			base: s,
			url: "14.png",
			x: 35,
			y: 39,
			w: 53,
			h: 31
		},
		"reduced-hat-15": {
			type: "spritesheet",
			base: s,
			url: "15.png",
			x: 26,
			y: 29,
			w: 64,
			h: 42
		},
		"reduced-hat-16": {
			type: "spritesheet",
			base: s,
			url: "16.png",
			x: 26,
			y: 29,
			w: 64,
			h: 42
		},
		"reduced-hat-17": {
			type: "spritesheet",
			base: s,
			url: "17.png",
			x: 33,
			y: 25,
			w: 59,
			h: 45
		},
		"reduced-hat-18": {
			type: "spritesheet",
			base: s,
			url: "18.png",
			x: 28,
			y: 29,
			w: 60,
			h: 42
		},
		"reduced-hat-19": {
			type: "spritesheet",
			base: s,
			url: "19.png",
			x: 24,
			y: 24,
			w: 69,
			h: 46
		},
		"reduced-hat-2": {
			type: "spritesheet",
			base: s,
			url: "2.png",
			x: 40,
			y: 23,
			w: 48,
			h: 48
		},
		"reduced-hat-20": {
			type: "spritesheet",
			base: s,
			url: "20.png",
			x: 33,
			y: 25,
			w: 59,
			h: 45
		},
		"reduced-hat-21": {
			type: "spritesheet",
			base: s,
			url: "21.png",
			x: 28,
			y: 29,
			w: 60,
			h: 42
		},
		"reduced-hat-22": {
			type: "spritesheet",
			base: s,
			url: "22.png",
			x: 28,
			y: 30,
			w: 60,
			h: 42
		},
		"reduced-hat-23": {
			type: "spritesheet",
			base: s,
			url: "23.png",
			x: 44,
			y: 34,
			w: 39,
			h: 27
		},
		"reduced-hat-24": {
			type: "spritesheet",
			base: s,
			url: "24.png",
			x: 21,
			y: 35,
			w: 69,
			h: 40
		},
		"reduced-hat-25": {
			type: "spritesheet",
			base: s,
			url: "25.png",
			x: 39,
			y: 27,
			w: 48,
			h: 41
		},
		"reduced-hat-26": {
			type: "spritesheet",
			base: s,
			url: "26.png",
			x: 32,
			y: 20,
			w: 62,
			h: 49
		},
		"reduced-hat-27": {
			type: "spritesheet",
			base: s,
			url: "27.png",
			x: 42,
			y: 48,
			w: 33,
			h: 32
		},
		"reduced-hat-28": {
			type: "spritesheet",
			base: s,
			url: "28.png",
			x: 36,
			y: 42,
			w: 50,
			h: 45
		},
		"reduced-hat-29": {
			type: "spritesheet",
			base: s,
			url: "29.png",
			x: 29,
			y: 32,
			w: 59,
			h: 49
		},
		"reduced-hat-3": {
			type: "spritesheet",
			base: s,
			url: "3.png",
			x: 44,
			y: 34,
			w: 39,
			h: 27
		},
		"reduced-hat-30": {
			type: "spritesheet",
			base: s,
			url: "30.png",
			x: 31,
			y: 16,
			w: 62,
			h: 72
		},
		"reduced-hat-31": {
			type: "spritesheet",
			base: s,
			url: "31.png",
			x: 25,
			y: 24,
			w: 65,
			h: 55
		},
		"reduced-hat-32": {
			type: "spritesheet",
			base: s,
			url: "32.png",
			x: 9,
			y: 33,
			w: 77,
			h: 50
		},
		"reduced-hat-33": {
			type: "spritesheet",
			base: s,
			url: "33.png",
			x: 32,
			y: 24,
			w: 59,
			h: 48
		},
		"reduced-hat-34": {
			type: "spritesheet",
			base: s,
			url: "34.png",
			x: 48,
			y: 31,
			w: 38,
			h: 33
		},
		"reduced-hat-35": {
			type: "spritesheet",
			base: s,
			url: "35.png",
			x: 46,
			y: 30,
			w: 39,
			h: 35
		},
		"reduced-hat-36": {
			type: "spritesheet",
			base: s,
			url: "36.png",
			x: 29,
			y: 16,
			w: 65,
			h: 57
		},
		"reduced-hat-37": {
			type: "spritesheet",
			base: s,
			url: "37.png",
			x: 26,
			y: 25,
			w: 62,
			h: 52
		},
		"reduced-hat-38": {
			type: "spritesheet",
			base: s,
			url: "38.png",
			x: 25,
			y: 28,
			w: 63,
			h: 49
		},
		"reduced-hat-39": {
			type: "spritesheet",
			base: s,
			url: "39.png",
			x: 33,
			y: 39,
			w: 61,
			h: 55
		},
		"reduced-hat-4": {
			type: "spritesheet",
			base: s,
			url: "4.png",
			x: 28,
			y: 31,
			w: 70,
			h: 40
		},
		"reduced-hat-40": {
			type: "spritesheet",
			base: s,
			url: "40.png",
			x: 37,
			y: 47,
			w: 49,
			h: 39
		},
		"reduced-hat-41": {
			type: "spritesheet",
			base: s,
			url: "41.png",
			x: 36,
			y: 42,
			w: 55,
			h: 54
		},
		"reduced-hat-42": {
			type: "spritesheet",
			base: s,
			url: "42.png",
			x: 31,
			y: 38,
			w: 57,
			h: 47
		},
		"reduced-hat-43": {
			type: "spritesheet",
			base: s,
			url: "43.png",
			x: 37,
			y: 32,
			w: 54,
			h: 43
		},
		"reduced-hat-44": {
			type: "spritesheet",
			base: s,
			url: "44.png",
			x: 32,
			y: 34,
			w: 63,
			h: 39
		},
		"reduced-hat-45": {
			type: "spritesheet",
			base: s,
			url: "45.png",
			x: 35,
			y: 22,
			w: 58,
			h: 48
		},
		"reduced-hat-46": {
			type: "spritesheet",
			base: s,
			url: "46.png",
			x: 29,
			y: 28,
			w: 66,
			h: 59
		},
		"reduced-hat-47": {
			type: "spritesheet",
			base: s,
			url: "47.png",
			x: 41,
			y: 43,
			w: 44,
			h: 39
		},
		"reduced-hat-48": {
			type: "spritesheet",
			base: s,
			url: "48.png",
			x: 31,
			y: 24,
			w: 68,
			h: 63
		},
		"reduced-hat-49": {
			type: "spritesheet",
			base: s,
			url: "49.png",
			x: 34,
			y: 30,
			w: 55,
			h: 58
		},
		"reduced-hat-5": {
			type: "spritesheet",
			base: s,
			url: "5.png",
			x: 29,
			y: 20,
			w: 76,
			h: 56
		},
		"reduced-hat-50": {
			type: "spritesheet",
			base: s,
			url: "50.png",
			x: 10,
			y: 41,
			w: 76,
			h: 56
		},
		"reduced-hat-51": {
			type: "spritesheet",
			base: s,
			url: "51.png",
			x: 43,
			y: 48,
			w: 46,
			h: 46
		},
		"reduced-hat-52": {
			type: "spritesheet",
			base: s,
			url: "52.png",
			x: 50,
			y: 56,
			w: 35,
			h: 35
		},
		"reduced-hat-53": {
			type: "spritesheet",
			base: s,
			url: "53.png",
			x: 46,
			y: 43,
			w: 40,
			h: 48
		},
		"reduced-hat-54": {
			type: "spritesheet",
			base: s,
			url: "54.png",
			x: 37,
			y: 31,
			w: 50,
			h: 40
		},
		"reduced-hat-55": {
			type: "spritesheet",
			base: s,
			url: "55.png",
			x: 25,
			y: 26,
			w: 60,
			h: 56
		},
		"reduced-hat-56": {
			type: "spritesheet",
			base: s,
			url: "56.png",
			x: 34,
			y: 26,
			w: 59,
			h: 81
		},
		"reduced-hat-57": {
			type: "spritesheet",
			base: s,
			url: "57.png",
			x: 38,
			y: 21,
			w: 52,
			h: 69
		},
		"reduced-hat-58": {
			type: "spritesheet",
			base: s,
			url: "58.png",
			x: 39,
			y: 32,
			w: 51,
			h: 71
		},
		"reduced-hat-59": {
			type: "spritesheet",
			base: s,
			url: "59.png",
			x: 33,
			y: 41,
			w: 54,
			h: 45
		},
		"reduced-hat-6": {
			type: "spritesheet",
			base: s,
			url: "6.png",
			x: 50,
			y: 23,
			w: 32,
			h: 44
		},
		"reduced-hat-60": {
			type: "spritesheet",
			base: s,
			url: "60.png",
			x: 16,
			y: 25,
			w: 68,
			h: 62
		},
		"reduced-hat-61": {
			type: "spritesheet",
			base: s,
			url: "61.png",
			x: 9,
			y: 27,
			w: 81,
			h: 56
		},
		"reduced-hat-62": {
			type: "spritesheet",
			base: s,
			url: "62.png",
			x: 27,
			y: 18,
			w: 62,
			h: 74
		},
		"reduced-hat-63": {
			type: "spritesheet",
			base: s,
			url: "63.png",
			x: 26,
			y: 33,
			w: 69,
			h: 47
		},
		"reduced-hat-64": {
			type: "spritesheet",
			base: s,
			url: "64.png",
			x: 41,
			y: 13,
			w: 47,
			h: 73
		},
		"reduced-hat-65": {
			type: "spritesheet",
			base: s,
			url: "65.png",
			x: 38,
			y: 16,
			w: 52,
			h: 69
		},
		"reduced-hat-66": {
			type: "spritesheet",
			base: s,
			url: "66.png",
			x: 32,
			y: 41,
			w: 55,
			h: 35
		},
		"reduced-hat-67": {
			type: "spritesheet",
			base: s,
			url: "67.png",
			x: 33,
			y: 27,
			w: 57,
			h: 54
		},
		"reduced-hat-68": {
			type: "spritesheet",
			base: s,
			url: "68.png",
			x: 17,
			y: 11,
			w: 78,
			h: 75
		},
		"reduced-hat-69": {
			type: "spritesheet",
			base: s,
			url: "69.png",
			x: 26,
			y: 26,
			w: 64,
			h: 56
		},
		"reduced-hat-7": {
			type: "spritesheet",
			base: s,
			url: "7.png",
			x: 31,
			y: 28,
			w: 58,
			h: 41
		},
		"reduced-hat-70": {
			type: "spritesheet",
			base: s,
			url: "70.png",
			x: 32,
			y: 26,
			w: 62,
			h: 55
		},
		"reduced-hat-8": {
			type: "spritesheet",
			base: s,
			url: "8.png",
			x: 32,
			y: 35,
			w: 49,
			h: 29
		},
		"reduced-hat-9": {
			type: "spritesheet",
			base: s,
			url: "9.png",
			x: 27,
			y: 23,
			w: 64,
			h: 49
		},
		"reduced-hat-71": {
			type: "spritesheet",
			base: s,
			url: "71.png",
			x: 30,
			y: 28,
			w: 67,
			h: 64
		},
		"reduced-hat-72": {
			type: "spritesheet",
			base: s,
			url: "72.png",
			x: 31,
			y: 19,
			w: 55,
			h: 71
		},
		"reduced-hat-73": {
			type: "spritesheet",
			base: s,
			url: "73.png",
			x: 22,
			y: 23,
			w: 72,
			h: 71
		},
		"reduced-hat-74": {
			type: "spritesheet",
			base: s,
			url: "74.png",
			x: 39,
			y: 40,
			w: 29,
			h: 24
		},
		"reduced-hat-75": {
			type: "spritesheet",
			base: s,
			url: "75.png",
			x: 32,
			y: 13,
			w: 59,
			h: 57
		},
		"normal-weapon-1": {
			type: "spritesheet",
			base: d,
			url: "1.png",
			x: 137,
			y: 140,
			w: 59,
			h: 53
		},
		"normal-weapon-10": {
			type: "spritesheet",
			base: d,
			url: "10.png",
			x: 142,
			y: 131,
			w: 64,
			h: 64
		},
		"normal-weapon-11": {
			type: "spritesheet",
			base: d,
			url: "11.png",
			x: 139,
			y: 133,
			w: 64,
			h: 65
		},
		"normal-weapon-12": {
			type: "spritesheet",
			base: d,
			url: "12.png",
			x: 140,
			y: 132,
			w: 63,
			h: 66
		},
		"normal-weapon-13": {
			type: "spritesheet",
			base: d,
			url: "13.png",
			x: 140,
			y: 131,
			w: 66,
			h: 66
		},
		"normal-weapon-14": {
			type: "spritesheet",
			base: d,
			url: "14.png",
			x: 142,
			y: 130,
			w: 61,
			h: 65
		},
		"normal-weapon-15": {
			type: "spritesheet",
			base: d,
			url: "15.png",
			x: 143,
			y: 138,
			w: 56,
			h: 56
		},
		"normal-weapon-16": {
			type: "spritesheet",
			base: d,
			url: "16.png",
			x: 131,
			y: 58,
			w: 106,
			h: 169
		},
		"normal-weapon-17": {
			type: "spritesheet",
			base: d,
			url: "17.png",
			x: 130,
			y: 49,
			w: 105,
			h: 177
		},
		"normal-weapon-18": {
			type: "spritesheet",
			base: d,
			url: "18.png",
			x: 129,
			y: 41,
			w: 114,
			h: 182
		},
		"normal-weapon-19": {
			type: "spritesheet",
			base: d,
			url: "19.png",
			x: 126,
			y: 57,
			w: 110,
			h: 172
		},
		"normal-weapon-2": {
			type: "spritesheet",
			base: d,
			url: "2.png",
			x: 143,
			y: 142,
			w: 52,
			h: 52
		},
		"normal-weapon-20": {
			type: "spritesheet",
			base: d,
			url: "20.png",
			x: 119,
			y: 15,
			w: 141,
			h: 217
		},
		"normal-weapon-21": {
			type: "spritesheet",
			base: d,
			url: "21.png",
			x: 127,
			y: 31,
			w: 141,
			h: 196
		},
		"normal-weapon-22": {
			type: "spritesheet",
			base: d,
			url: "22.png",
			x: 120,
			y: 13,
			w: 130,
			h: 216
		},
		"normal-weapon-23": {
			type: "spritesheet",
			base: d,
			url: "23.png",
			x: 129,
			y: 32,
			w: 149,
			h: 192
		},
		"normal-weapon-24": {
			type: "spritesheet",
			base: d,
			url: "24.png",
			x: 123,
			y: 37,
			w: 141,
			h: 192
		},
		"normal-weapon-25": {
			type: "spritesheet",
			base: d,
			url: "25.png",
			x: 144,
			y: 142,
			w: 51,
			h: 52
		},
		"normal-weapon-26": {
			type: "spritesheet",
			base: d,
			url: "26.png",
			x: 144,
			y: 142,
			w: 51,
			h: 52
		},
		"normal-weapon-27": {
			type: "spritesheet",
			base: d,
			url: "27.png",
			x: 148,
			y: 137,
			w: 52,
			h: 52
		},
		"normal-weapon-28": {
			type: "spritesheet",
			base: d,
			url: "28.png",
			x: 148,
			y: 137,
			w: 52,
			h: 52
		},
		"normal-weapon-29": {
			type: "spritesheet",
			base: d,
			url: "29.png",
			x: 148,
			y: 137,
			w: 52,
			h: 52
		},
		"normal-weapon-3": {
			type: "spritesheet",
			base: d,
			url: "3.png",
			x: 141,
			y: 136,
			w: 62,
			h: 59
		},
		"normal-weapon-30": {
			type: "spritesheet",
			base: d,
			url: "30.png",
			x: 144,
			y: 131,
			w: 61,
			h: 62
		},
		"normal-weapon-31": {
			type: "spritesheet",
			base: d,
			url: "31.png",
			x: 144,
			y: 129,
			w: 64,
			h: 64
		},
		"normal-weapon-32": {
			type: "spritesheet",
			base: d,
			url: "32.png",
			x: 144,
			y: 131,
			w: 61,
			h: 62
		},
		"normal-weapon-33": {
			type: "spritesheet",
			base: d,
			url: "33.png",
			x: 144,
			y: 129,
			w: 64,
			h: 64
		},
		"normal-weapon-34": {
			type: "spritesheet",
			base: d,
			url: "34.png",
			x: 142,
			y: 125,
			w: 71,
			h: 70
		},
		"normal-weapon-35": {
			type: "spritesheet",
			base: d,
			url: "35.png",
			x: 142,
			y: 125,
			w: 71,
			h: 70
		},
		"normal-weapon-36": {
			type: "spritesheet",
			base: d,
			url: "36.png",
			x: 133,
			y: 90,
			w: 86,
			h: 128
		},
		"normal-weapon-37": {
			type: "spritesheet",
			base: d,
			url: "37.png",
			x: 133,
			y: 90,
			w: 86,
			h: 128
		},
		"normal-weapon-38": {
			type: "spritesheet",
			base: d,
			url: "38.png",
			x: 127,
			y: 68,
			w: 112,
			h: 159
		},
		"normal-weapon-39": {
			type: "spritesheet",
			base: d,
			url: "39.png",
			x: 127,
			y: 68,
			w: 112,
			h: 159
		},
		"normal-weapon-4": {
			type: "spritesheet",
			base: d,
			url: "4.png",
			x: 144,
			y: 140,
			w: 53,
			h: 55
		},
		"normal-weapon-40": {
			type: "spritesheet",
			base: d,
			url: "40.png",
			x: 127,
			y: 68,
			w: 112,
			h: 159
		},
		"normal-weapon-41": {
			type: "spritesheet",
			base: d,
			url: "41.png",
			x: 127,
			y: 51,
			w: 108,
			h: 173
		},
		"normal-weapon-42": {
			type: "spritesheet",
			base: d,
			url: "42.png",
			x: 129,
			y: 48,
			w: 119,
			h: 179
		},
		"normal-weapon-43": {
			type: "spritesheet",
			base: d,
			url: "43.png",
			x: 127,
			y: 51,
			w: 108,
			h: 173
		},
		"normal-weapon-44": {
			type: "spritesheet",
			base: d,
			url: "44.png",
			x: 129,
			y: 48,
			w: 119,
			h: 179
		},
		"normal-weapon-45": {
			type: "spritesheet",
			base: d,
			url: "45.png",
			x: 128,
			y: 31,
			w: 113,
			h: 196
		},
		"normal-weapon-46": {
			type: "spritesheet",
			base: d,
			url: "46.png",
			x: 128,
			y: 31,
			w: 113,
			h: 196
		},
		"normal-weapon-47": {
			type: "spritesheet",
			base: d,
			url: "47.png",
			x: 131,
			y: 58,
			w: 106,
			h: 169
		},
		"normal-weapon-48": {
			type: "spritesheet",
			base: d,
			url: "48.png",
			x: 140,
			y: 143,
			w: 54,
			h: 53
		},
		"normal-weapon-49": {
			type: "spritesheet",
			base: d,
			url: "49.png",
			x: 141,
			y: 126,
			w: 70,
			h: 70
		},
		"normal-weapon-5": {
			type: "spritesheet",
			base: d,
			url: "5.png",
			x: 139,
			y: 128,
			w: 54,
			h: 69
		},
		"normal-weapon-50": {
			type: "spritesheet",
			base: d,
			url: "50.png",
			x: 141,
			y: 134,
			w: 62,
			h: 63
		},
		"normal-weapon-51": {
			type: "spritesheet",
			base: d,
			url: "51.png",
			x: 139,
			y: 137,
			w: 62,
			h: 62
		},
		"normal-weapon-52": {
			type: "spritesheet",
			base: d,
			url: "52.png",
			x: 139,
			y: 133,
			w: 66,
			h: 65
		},
		"normal-weapon-53": {
			type: "spritesheet",
			base: d,
			url: "53.png",
			x: 138,
			y: 127,
			w: 72,
			h: 72
		},
		"normal-weapon-54": {
			type: "spritesheet",
			base: d,
			url: "54.png",
			x: 142,
			y: 130,
			w: 63,
			h: 67
		},
		"normal-weapon-55": {
			type: "spritesheet",
			base: d,
			url: "55.png",
			x: 129,
			y: 50,
			w: 108,
			h: 175
		},
		"normal-weapon-56": {
			type: "spritesheet",
			base: d,
			url: "56.png",
			x: 126,
			y: 56,
			w: 115,
			h: 171
		},
		"normal-weapon-57": {
			type: "spritesheet",
			base: d,
			url: "57.png",
			x: 129,
			y: 52,
			w: 109,
			h: 174
		},
		"normal-weapon-58": {
			type: "spritesheet",
			base: d,
			url: "58.png",
			x: 128,
			y: 30,
			w: 124,
			h: 198
		},
		"normal-weapon-59": {
			type: "spritesheet",
			base: d,
			url: "59.png",
			x: 128,
			y: 46,
			w: 113,
			h: 184
		},
		"normal-weapon-6": {
			type: "spritesheet",
			base: d,
			url: "6.png",
			x: 141,
			y: 127,
			w: 64,
			h: 70
		},
		"normal-weapon-60": {
			type: "spritesheet",
			base: d,
			url: "60.png",
			x: 123,
			y: 16,
			w: 129,
			h: 210
		},
		"normal-weapon-61": {
			type: "spritesheet",
			base: d,
			url: "61.png",
			x: 132,
			y: 33,
			w: 103,
			h: 190
		},
		"normal-weapon-62": {
			type: "spritesheet",
			base: d,
			url: "62.png",
			x: 128,
			y: 26,
			w: 127,
			h: 198
		},
		"normal-weapon-63": {
			type: "spritesheet",
			base: d,
			url: "63.png",
			x: 127,
			y: 43,
			w: 118,
			h: 183
		},
		"normal-weapon-64": {
			type: "spritesheet",
			base: d,
			url: "64.png",
			x: 128,
			y: 28,
			w: 122,
			h: 199
		},
		"normal-weapon-65": {
			type: "spritesheet",
			base: d,
			url: "65.png",
			x: 80,
			y: 109,
			w: 48,
			h: 68
		},
		"normal-weapon-66": {
			type: "spritesheet",
			base: d,
			url: "66.png",
			x: 83,
			y: 143,
			w: 107,
			h: 75
		},
		"normal-weapon-67": {
			type: "spritesheet",
			base: d,
			url: "67.png",
			x: 152,
			y: 116,
			w: 55,
			h: 74
		},
		"normal-weapon-68": {
			type: "spritesheet",
			base: d,
			url: "68.png",
			x: 121,
			y: 3,
			w: 144,
			h: 223
		},
		"normal-weapon-69": {
			type: "spritesheet",
			base: d,
			url: "69.png",
			x: 141,
			y: 124,
			w: 55,
			h: 73
		},
		"normal-weapon-7": {
			type: "spritesheet",
			base: d,
			url: "7.png",
			x: 130,
			y: 53,
			w: 108,
			h: 173
		},
		"normal-weapon-70": {
			type: "spritesheet",
			base: d,
			url: "70.png",
			x: 78,
			y: 120,
			w: 66,
			h: 75
		},
		"normal-weapon-71": {
			type: "spritesheet",
			base: d,
			url: "71.png",
			x: 150,
			y: 131,
			w: 59,
			h: 59
		},
		"normal-weapon-72": {
			type: "spritesheet",
			base: d,
			url: "72.png",
			x: 156,
			y: 143,
			w: 47,
			h: 50
		},
		"normal-weapon-73": {
			type: "spritesheet",
			base: d,
			url: "73.png",
			x: 150,
			y: 119,
			w: 70,
			h: 72
		},
		"normal-weapon-74": {
			type: "spritesheet",
			base: d,
			url: "74.png",
			x: 150,
			y: 139,
			w: 48,
			h: 52
		},
		"normal-weapon-75": {
			type: "spritesheet",
			base: d,
			url: "75.png",
			x: 92,
			y: 150,
			w: 157,
			h: 59
		},
		"normal-weapon-76": {
			type: "spritesheet",
			base: d,
			url: "76.png",
			x: 172,
			y: 131,
			w: 50,
			h: 50
		},
		"normal-weapon-77": {
			type: "spritesheet",
			base: d,
			url: "77.png",
			x: 128,
			y: 6,
			w: 112,
			h: 210
		},
		"normal-weapon-78": {
			type: "spritesheet",
			base: d,
			url: "78.png",
			x: 98,
			y: 113,
			w: 139,
			h: 88
		},
		"normal-weapon-79": {
			type: "spritesheet",
			base: d,
			url: "79.png",
			x: 128,
			y: 99,
			w: 85,
			h: 117
		},
		"normal-weapon-8": {
			type: "spritesheet",
			base: d,
			url: "8.png",
			x: 131,
			y: 61,
			w: 104,
			h: 162
		},
		"normal-weapon-80": {
			type: "spritesheet",
			base: d,
			url: "80.png",
			x: 125,
			y: 60,
			w: 125,
			h: 115
		},
		"normal-weapon-81": {
			type: "spritesheet",
			base: d,
			url: "81.png",
			x: 60,
			y: -10,
			w: 2048,
			h: 256
		},
		"normal-weapon-82": {
			type: "spritesheet",
			base: d,
			url: "82.png",
			x: 122,
			y: 78,
			w: 113,
			h: 147
		},
		"normal-weapon-83": {
			type: "spritesheet",
			base: d,
			url: "83.png",
			x: 138,
			y: 131,
			w: 68,
			h: 68
		},
		"normal-weapon-84": {
			type: "spritesheet",
			base: d,
			url: "84.png",
			x: 134,
			y: 127,
			w: 77,
			h: 77
		},
		"normal-weapon-85": {
			type: "spritesheet",
			base: d,
			url: "85.png",
			x: 132,
			y: 131,
			w: 75,
			h: 75
		},
		"normal-weapon-86": {
			type: "spritesheet",
			base: d,
			url: "86.png",
			x: 132,
			y: 131,
			w: 74,
			h: 73
		},
		"normal-weapon-9": {
			type: "spritesheet",
			base: d,
			url: "9.png",
			x: 142,
			y: 136,
			w: 59,
			h: 59
		},
		"normal-weapon-87": {
			type: "spritesheet",
			base: d,
			url: "87.png",
			x: 130,
			y: 76,
			w: 95,
			h: 147
		},
		"normal-weapon-88": {
			type: "spritesheet",
			base: d,
			url: "88.png",
			x: 145,
			y: 127,
			w: 65,
			h: 65
		},
		"normal-weapon-89": {
			type: "spritesheet",
			base: d,
			url: "89.png",
			x: 142,
			y: 64,
			w: 95,
			h: 137
		},
		"normal-weapon-90": {
			type: "spritesheet",
			base: d,
			url: "90.png",
			x: 148,
			y: 130,
			w: 58,
			h: 64
		},
		"normal-weapon-91": {
			type: "spritesheet",
			base: d,
			url: "91.png",
			x: 145,
			y: 128,
			w: 61,
			h: 61
		},
		"normal-hair-male-1-1": {
			type: "spritesheet",
			base: n,
			url: "1-1.png",
			x: 88,
			y: 74,
			w: 90,
			h: 75
		},
		"normal-hair-male-1-10": {
			type: "spritesheet",
			base: n,
			url: "1-10.png",
			x: 88,
			y: 74,
			w: 90,
			h: 75
		},
		"normal-hair-male-1-11": {
			type: "spritesheet",
			base: n,
			url: "1-11.png",
			x: 88,
			y: 74,
			w: 90,
			h: 75
		},
		"normal-hair-male-1-12": {
			type: "spritesheet",
			base: n,
			url: "1-12.png",
			x: 88,
			y: 74,
			w: 90,
			h: 75
		},
		"normal-hair-male-1-13": {
			type: "spritesheet",
			base: n,
			url: "1-13.png",
			x: 88,
			y: 74,
			w: 90,
			h: 75
		},
		"normal-hair-male-1-14": {
			type: "spritesheet",
			base: n,
			url: "1-14.png",
			x: 88,
			y: 74,
			w: 90,
			h: 75
		},
		"normal-hair-male-1-15": {
			type: "spritesheet",
			base: n,
			url: "1-15.png",
			x: 88,
			y: 74,
			w: 90,
			h: 75
		},
		"normal-hair-male-1-16": {
			type: "spritesheet",
			base: n,
			url: "1-16.png",
			x: 88,
			y: 74,
			w: 90,
			h: 75
		},
		"normal-hair-male-1-2": {
			type: "spritesheet",
			base: n,
			url: "1-2.png",
			x: 88,
			y: 74,
			w: 90,
			h: 75
		},
		"normal-hair-male-1-3": {
			type: "spritesheet",
			base: n,
			url: "1-3.png",
			x: 88,
			y: 74,
			w: 90,
			h: 75
		},
		"normal-hair-male-1-4": {
			type: "spritesheet",
			base: n,
			url: "1-4.png",
			x: 88,
			y: 74,
			w: 90,
			h: 75
		},
		"normal-hair-male-1-5": {
			type: "spritesheet",
			base: n,
			url: "1-5.png",
			x: 88,
			y: 74,
			w: 90,
			h: 75
		},
		"normal-hair-male-1-6": {
			type: "spritesheet",
			base: n,
			url: "1-6.png",
			x: 88,
			y: 74,
			w: 90,
			h: 75
		},
		"normal-hair-male-1-7": {
			type: "spritesheet",
			base: n,
			url: "1-7.png",
			x: 88,
			y: 74,
			w: 90,
			h: 75
		},
		"normal-hair-male-1-8": {
			type: "spritesheet",
			base: n,
			url: "1-8.png",
			x: 88,
			y: 74,
			w: 90,
			h: 75
		},
		"normal-hair-male-1-9": {
			type: "spritesheet",
			base: n,
			url: "1-9.png",
			x: 88,
			y: 74,
			w: 90,
			h: 75
		},
		"normal-hair-male-2-1": {
			type: "spritesheet",
			base: n,
			url: "2-1.png",
			x: 87,
			y: 51,
			w: 94,
			h: 101
		},
		"normal-hair-male-2-10": {
			type: "spritesheet",
			base: n,
			url: "2-10.png",
			x: 87,
			y: 51,
			w: 94,
			h: 101
		},
		"normal-hair-male-2-11": {
			type: "spritesheet",
			base: n,
			url: "2-11.png",
			x: 87,
			y: 51,
			w: 94,
			h: 101
		},
		"normal-hair-male-2-12": {
			type: "spritesheet",
			base: n,
			url: "2-12.png",
			x: 87,
			y: 51,
			w: 94,
			h: 101
		},
		"normal-hair-male-2-13": {
			type: "spritesheet",
			base: n,
			url: "2-13.png",
			x: 87,
			y: 51,
			w: 94,
			h: 101
		},
		"normal-hair-male-2-14": {
			type: "spritesheet",
			base: n,
			url: "2-14.png",
			x: 87,
			y: 51,
			w: 94,
			h: 101
		},
		"normal-hair-male-2-15": {
			type: "spritesheet",
			base: n,
			url: "2-15.png",
			x: 87,
			y: 51,
			w: 94,
			h: 101
		},
		"normal-hair-male-2-16": {
			type: "spritesheet",
			base: n,
			url: "2-16.png",
			x: 87,
			y: 51,
			w: 94,
			h: 101
		},
		"normal-hair-male-2-2": {
			type: "spritesheet",
			base: n,
			url: "2-2.png",
			x: 87,
			y: 51,
			w: 94,
			h: 101
		},
		"normal-hair-male-2-3": {
			type: "spritesheet",
			base: n,
			url: "2-3.png",
			x: 87,
			y: 51,
			w: 94,
			h: 101
		},
		"normal-hair-male-2-4": {
			type: "spritesheet",
			base: n,
			url: "2-4.png",
			x: 87,
			y: 51,
			w: 94,
			h: 101
		},
		"normal-hair-male-2-5": {
			type: "spritesheet",
			base: n,
			url: "2-5.png",
			x: 87,
			y: 51,
			w: 94,
			h: 101
		},
		"normal-hair-male-2-6": {
			type: "spritesheet",
			base: n,
			url: "2-6.png",
			x: 87,
			y: 51,
			w: 94,
			h: 101
		},
		"normal-hair-male-2-7": {
			type: "spritesheet",
			base: n,
			url: "2-7.png",
			x: 87,
			y: 51,
			w: 94,
			h: 101
		},
		"normal-hair-male-2-8": {
			type: "spritesheet",
			base: n,
			url: "2-8.png",
			x: 87,
			y: 51,
			w: 94,
			h: 101
		},
		"normal-hair-male-2-9": {
			type: "spritesheet",
			base: n,
			url: "2-9.png",
			x: 87,
			y: 51,
			w: 94,
			h: 101
		},
		"normal-hair-male-3-1": {
			type: "spritesheet",
			base: n,
			url: "3-1.png",
			x: 86,
			y: 55,
			w: 100,
			h: 97
		},
		"normal-hair-male-3-10": {
			type: "spritesheet",
			base: n,
			url: "3-10.png",
			x: 86,
			y: 55,
			w: 100,
			h: 97
		},
		"normal-hair-male-3-11": {
			type: "spritesheet",
			base: n,
			url: "3-11.png",
			x: 86,
			y: 55,
			w: 100,
			h: 97
		},
		"normal-hair-male-3-12": {
			type: "spritesheet",
			base: n,
			url: "3-12.png",
			x: 86,
			y: 55,
			w: 100,
			h: 97
		},
		"normal-hair-male-3-13": {
			type: "spritesheet",
			base: n,
			url: "3-13.png",
			x: 86,
			y: 55,
			w: 100,
			h: 97
		},
		"normal-hair-male-3-14": {
			type: "spritesheet",
			base: n,
			url: "3-14.png",
			x: 86,
			y: 55,
			w: 100,
			h: 97
		},
		"normal-hair-male-3-15": {
			type: "spritesheet",
			base: n,
			url: "3-15.png",
			x: 86,
			y: 55,
			w: 100,
			h: 97
		},
		"normal-hair-male-3-16": {
			type: "spritesheet",
			base: n,
			url: "3-16.png",
			x: 86,
			y: 55,
			w: 100,
			h: 97
		},
		"normal-hair-male-3-2": {
			type: "spritesheet",
			base: n,
			url: "3-2.png",
			x: 86,
			y: 55,
			w: 100,
			h: 97
		},
		"normal-hair-male-3-3": {
			type: "spritesheet",
			base: n,
			url: "3-3.png",
			x: 86,
			y: 55,
			w: 100,
			h: 97
		},
		"normal-hair-male-3-4": {
			type: "spritesheet",
			base: n,
			url: "3-4.png",
			x: 86,
			y: 55,
			w: 100,
			h: 97
		},
		"normal-hair-male-3-5": {
			type: "spritesheet",
			base: n,
			url: "3-5.png",
			x: 86,
			y: 55,
			w: 100,
			h: 97
		},
		"normal-hair-male-3-6": {
			type: "spritesheet",
			base: n,
			url: "3-6.png",
			x: 86,
			y: 55,
			w: 100,
			h: 97
		},
		"normal-hair-male-3-7": {
			type: "spritesheet",
			base: n,
			url: "3-7.png",
			x: 86,
			y: 55,
			w: 100,
			h: 97
		},
		"normal-hair-male-3-8": {
			type: "spritesheet",
			base: n,
			url: "3-8.png",
			x: 86,
			y: 55,
			w: 100,
			h: 97
		},
		"normal-hair-male-3-9": {
			type: "spritesheet",
			base: n,
			url: "3-9.png",
			x: 86,
			y: 55,
			w: 100,
			h: 97
		},
		"normal-hair-male-4-1": {
			type: "spritesheet",
			base: n,
			url: "4-1.png",
			x: 86,
			y: 73,
			w: 92,
			h: 77
		},
		"normal-hair-male-4-10": {
			type: "spritesheet",
			base: n,
			url: "4-10.png",
			x: 86,
			y: 73,
			w: 92,
			h: 77
		},
		"normal-hair-male-4-11": {
			type: "spritesheet",
			base: n,
			url: "4-11.png",
			x: 86,
			y: 73,
			w: 92,
			h: 77
		},
		"normal-hair-male-4-12": {
			type: "spritesheet",
			base: n,
			url: "4-12.png",
			x: 86,
			y: 73,
			w: 92,
			h: 77
		},
		"normal-hair-male-4-13": {
			type: "spritesheet",
			base: n,
			url: "4-13.png",
			x: 86,
			y: 73,
			w: 92,
			h: 77
		},
		"normal-hair-male-4-14": {
			type: "spritesheet",
			base: n,
			url: "4-14.png",
			x: 86,
			y: 73,
			w: 92,
			h: 77
		},
		"normal-hair-male-4-15": {
			type: "spritesheet",
			base: n,
			url: "4-15.png",
			x: 86,
			y: 73,
			w: 92,
			h: 77
		},
		"normal-hair-male-4-16": {
			type: "spritesheet",
			base: n,
			url: "4-16.png",
			x: 86,
			y: 73,
			w: 92,
			h: 77
		},
		"normal-hair-male-4-2": {
			type: "spritesheet",
			base: n,
			url: "4-2.png",
			x: 86,
			y: 73,
			w: 92,
			h: 77
		},
		"normal-hair-male-4-3": {
			type: "spritesheet",
			base: n,
			url: "4-3.png",
			x: 86,
			y: 73,
			w: 92,
			h: 77
		},
		"normal-hair-male-4-4": {
			type: "spritesheet",
			base: n,
			url: "4-4.png",
			x: 86,
			y: 73,
			w: 92,
			h: 77
		},
		"normal-hair-male-4-5": {
			type: "spritesheet",
			base: n,
			url: "4-5.png",
			x: 86,
			y: 73,
			w: 92,
			h: 77
		},
		"normal-hair-male-4-6": {
			type: "spritesheet",
			base: n,
			url: "4-6.png",
			x: 86,
			y: 73,
			w: 92,
			h: 77
		},
		"normal-hair-male-4-7": {
			type: "spritesheet",
			base: n,
			url: "4-7.png",
			x: 86,
			y: 73,
			w: 92,
			h: 77
		},
		"normal-hair-male-4-8": {
			type: "spritesheet",
			base: n,
			url: "4-8.png",
			x: 86,
			y: 73,
			w: 92,
			h: 77
		},
		"normal-hair-male-4-9": {
			type: "spritesheet",
			base: n,
			url: "4-9.png",
			x: 86,
			y: 73,
			w: 92,
			h: 77
		},
		"normal-hair-male-5-1": {
			type: "spritesheet",
			base: n,
			url: "5-1.png",
			x: 89,
			y: 75,
			w: 87,
			h: 76
		},
		"normal-hair-male-5-10": {
			type: "spritesheet",
			base: n,
			url: "5-10.png",
			x: 89,
			y: 75,
			w: 87,
			h: 76
		},
		"normal-hair-male-5-11": {
			type: "spritesheet",
			base: n,
			url: "5-11.png",
			x: 89,
			y: 75,
			w: 87,
			h: 76
		},
		"normal-hair-male-5-12": {
			type: "spritesheet",
			base: n,
			url: "5-12.png",
			x: 89,
			y: 75,
			w: 87,
			h: 76
		},
		"normal-hair-male-5-13": {
			type: "spritesheet",
			base: n,
			url: "5-13.png",
			x: 89,
			y: 75,
			w: 87,
			h: 76
		},
		"normal-hair-male-5-14": {
			type: "spritesheet",
			base: n,
			url: "5-14.png",
			x: 89,
			y: 75,
			w: 87,
			h: 76
		},
		"normal-hair-male-5-15": {
			type: "spritesheet",
			base: n,
			url: "5-15.png",
			x: 89,
			y: 75,
			w: 87,
			h: 76
		},
		"normal-hair-male-5-16": {
			type: "spritesheet",
			base: n,
			url: "5-16.png",
			x: 89,
			y: 75,
			w: 87,
			h: 76
		},
		"normal-hair-male-5-2": {
			type: "spritesheet",
			base: n,
			url: "5-2.png",
			x: 89,
			y: 75,
			w: 87,
			h: 76
		},
		"normal-hair-male-5-3": {
			type: "spritesheet",
			base: n,
			url: "5-3.png",
			x: 89,
			y: 75,
			w: 87,
			h: 76
		},
		"normal-hair-male-5-4": {
			type: "spritesheet",
			base: n,
			url: "5-4.png",
			x: 89,
			y: 75,
			w: 87,
			h: 76
		},
		"normal-hair-male-5-5": {
			type: "spritesheet",
			base: n,
			url: "5-5.png",
			x: 89,
			y: 75,
			w: 87,
			h: 76
		},
		"normal-hair-male-5-6": {
			type: "spritesheet",
			base: n,
			url: "5-6.png",
			x: 89,
			y: 75,
			w: 87,
			h: 76
		},
		"normal-hair-male-5-7": {
			type: "spritesheet",
			base: n,
			url: "5-7.png",
			x: 89,
			y: 75,
			w: 87,
			h: 76
		},
		"normal-hair-male-5-8": {
			type: "spritesheet",
			base: n,
			url: "5-8.png",
			x: 89,
			y: 75,
			w: 87,
			h: 76
		},
		"normal-hair-male-5-9": {
			type: "spritesheet",
			base: n,
			url: "5-9.png",
			x: 89,
			y: 75,
			w: 87,
			h: 76
		},
		"normal-hair-male-6-1": {
			type: "spritesheet",
			base: n,
			url: "6-1.png",
			x: 87,
			y: 75,
			w: 85,
			h: 76
		},
		"normal-hair-male-6-10": {
			type: "spritesheet",
			base: n,
			url: "6-10.png",
			x: 87,
			y: 75,
			w: 85,
			h: 76
		},
		"normal-hair-male-6-11": {
			type: "spritesheet",
			base: n,
			url: "6-11.png",
			x: 87,
			y: 75,
			w: 85,
			h: 76
		},
		"normal-hair-male-6-12": {
			type: "spritesheet",
			base: n,
			url: "6-12.png",
			x: 87,
			y: 75,
			w: 85,
			h: 76
		},
		"normal-hair-male-6-13": {
			type: "spritesheet",
			base: n,
			url: "6-13.png",
			x: 87,
			y: 75,
			w: 85,
			h: 76
		},
		"normal-hair-male-6-14": {
			type: "spritesheet",
			base: n,
			url: "6-14.png",
			x: 87,
			y: 75,
			w: 85,
			h: 76
		},
		"normal-hair-male-6-15": {
			type: "spritesheet",
			base: n,
			url: "6-15.png",
			x: 87,
			y: 75,
			w: 85,
			h: 76
		},
		"normal-hair-male-6-16": {
			type: "spritesheet",
			base: n,
			url: "6-16.png",
			x: 87,
			y: 75,
			w: 85,
			h: 76
		},
		"normal-hair-male-6-2": {
			type: "spritesheet",
			base: n,
			url: "6-2.png",
			x: 87,
			y: 75,
			w: 85,
			h: 76
		},
		"normal-hair-male-6-3": {
			type: "spritesheet",
			base: n,
			url: "6-3.png",
			x: 87,
			y: 75,
			w: 85,
			h: 76
		},
		"normal-hair-male-6-4": {
			type: "spritesheet",
			base: n,
			url: "6-4.png",
			x: 87,
			y: 75,
			w: 85,
			h: 76
		},
		"normal-hair-male-6-5": {
			type: "spritesheet",
			base: n,
			url: "6-5.png",
			x: 87,
			y: 75,
			w: 85,
			h: 76
		},
		"normal-hair-male-6-6": {
			type: "spritesheet",
			base: n,
			url: "6-6.png",
			x: 87,
			y: 75,
			w: 85,
			h: 76
		},
		"normal-hair-male-6-7": {
			type: "spritesheet",
			base: n,
			url: "6-7.png",
			x: 87,
			y: 75,
			w: 85,
			h: 76
		},
		"normal-hair-male-6-8": {
			type: "spritesheet",
			base: n,
			url: "6-8.png",
			x: 87,
			y: 75,
			w: 85,
			h: 76
		},
		"normal-hair-male-6-9": {
			type: "spritesheet",
			base: n,
			url: "6-9.png",
			x: 87,
			y: 75,
			w: 85,
			h: 76
		},
		"normal-hair-male-7-1": {
			type: "spritesheet",
			base: n,
			url: "7-1.png",
			x: 76,
			y: 73,
			w: 105,
			h: 78
		},
		"normal-hair-male-7-10": {
			type: "spritesheet",
			base: n,
			url: "7-10.png",
			x: 76,
			y: 73,
			w: 105,
			h: 78
		},
		"normal-hair-male-7-11": {
			type: "spritesheet",
			base: n,
			url: "7-11.png",
			x: 76,
			y: 73,
			w: 105,
			h: 78
		},
		"normal-hair-male-7-12": {
			type: "spritesheet",
			base: n,
			url: "7-12.png",
			x: 76,
			y: 73,
			w: 105,
			h: 78
		},
		"normal-hair-male-7-13": {
			type: "spritesheet",
			base: n,
			url: "7-13.png",
			x: 76,
			y: 73,
			w: 105,
			h: 78
		},
		"normal-hair-male-7-14": {
			type: "spritesheet",
			base: n,
			url: "7-14.png",
			x: 76,
			y: 73,
			w: 105,
			h: 78
		},
		"normal-hair-male-7-15": {
			type: "spritesheet",
			base: n,
			url: "7-15.png",
			x: 76,
			y: 73,
			w: 105,
			h: 78
		},
		"normal-hair-male-7-16": {
			type: "spritesheet",
			base: n,
			url: "7-16.png",
			x: 76,
			y: 73,
			w: 105,
			h: 78
		},
		"normal-hair-male-7-2": {
			type: "spritesheet",
			base: n,
			url: "7-2.png",
			x: 76,
			y: 73,
			w: 105,
			h: 78
		},
		"normal-hair-male-7-3": {
			type: "spritesheet",
			base: n,
			url: "7-3.png",
			x: 76,
			y: 73,
			w: 105,
			h: 78
		},
		"normal-hair-male-7-4": {
			type: "spritesheet",
			base: n,
			url: "7-4.png",
			x: 76,
			y: 73,
			w: 105,
			h: 78
		},
		"normal-hair-male-7-5": {
			type: "spritesheet",
			base: n,
			url: "7-5.png",
			x: 76,
			y: 73,
			w: 105,
			h: 78
		},
		"normal-hair-male-7-6": {
			type: "spritesheet",
			base: n,
			url: "7-6.png",
			x: 76,
			y: 73,
			w: 105,
			h: 78
		},
		"normal-hair-male-7-7": {
			type: "spritesheet",
			base: n,
			url: "7-7.png",
			x: 76,
			y: 73,
			w: 105,
			h: 78
		},
		"normal-hair-male-7-8": {
			type: "spritesheet",
			base: n,
			url: "7-8.png",
			x: 76,
			y: 73,
			w: 105,
			h: 78
		},
		"normal-hair-male-7-9": {
			type: "spritesheet",
			base: n,
			url: "7-9.png",
			x: 76,
			y: 73,
			w: 105,
			h: 78
		},
		"normal-hair-male-8-1": {
			type: "spritesheet",
			base: n,
			url: "8-1.png",
			x: 82,
			y: 73,
			w: 104,
			h: 81
		},
		"normal-hair-male-8-10": {
			type: "spritesheet",
			base: n,
			url: "8-10.png",
			x: 82,
			y: 73,
			w: 104,
			h: 81
		},
		"normal-hair-male-8-11": {
			type: "spritesheet",
			base: n,
			url: "8-11.png",
			x: 82,
			y: 73,
			w: 104,
			h: 81
		},
		"normal-hair-male-8-12": {
			type: "spritesheet",
			base: n,
			url: "8-12.png",
			x: 82,
			y: 73,
			w: 104,
			h: 81
		},
		"normal-hair-male-8-13": {
			type: "spritesheet",
			base: n,
			url: "8-13.png",
			x: 82,
			y: 73,
			w: 104,
			h: 81
		},
		"normal-hair-male-8-14": {
			type: "spritesheet",
			base: n,
			url: "8-14.png",
			x: 82,
			y: 73,
			w: 104,
			h: 81
		},
		"normal-hair-male-8-15": {
			type: "spritesheet",
			base: n,
			url: "8-15.png",
			x: 82,
			y: 73,
			w: 104,
			h: 81
		},
		"normal-hair-male-8-16": {
			type: "spritesheet",
			base: n,
			url: "8-16.png",
			x: 82,
			y: 73,
			w: 104,
			h: 81
		},
		"normal-hair-male-8-2": {
			type: "spritesheet",
			base: n,
			url: "8-2.png",
			x: 82,
			y: 73,
			w: 104,
			h: 81
		},
		"normal-hair-male-8-3": {
			type: "spritesheet",
			base: n,
			url: "8-3.png",
			x: 82,
			y: 73,
			w: 104,
			h: 81
		},
		"normal-hair-male-8-4": {
			type: "spritesheet",
			base: n,
			url: "8-4.png",
			x: 82,
			y: 73,
			w: 104,
			h: 81
		},
		"normal-hair-male-8-5": {
			type: "spritesheet",
			base: n,
			url: "8-5.png",
			x: 82,
			y: 73,
			w: 104,
			h: 81
		},
		"normal-hair-male-8-6": {
			type: "spritesheet",
			base: n,
			url: "8-6.png",
			x: 82,
			y: 73,
			w: 104,
			h: 81
		},
		"normal-hair-male-8-7": {
			type: "spritesheet",
			base: n,
			url: "8-7.png",
			x: 82,
			y: 73,
			w: 104,
			h: 81
		},
		"normal-hair-male-8-8": {
			type: "spritesheet",
			base: n,
			url: "8-8.png",
			x: 82,
			y: 73,
			w: 104,
			h: 81
		},
		"normal-hair-male-8-9": {
			type: "spritesheet",
			base: n,
			url: "8-9.png",
			x: 82,
			y: 73,
			w: 104,
			h: 81
		},
		"reduced-hair-male-1-1": {
			type: "spritesheet",
			base: i,
			url: "1-1.png",
			x: 41,
			y: 45,
			w: 46,
			h: 38
		},
		"reduced-hair-male-1-10": {
			type: "spritesheet",
			base: i,
			url: "1-10.png",
			x: 41,
			y: 44,
			w: 46,
			h: 38
		},
		"reduced-hair-male-1-11": {
			type: "spritesheet",
			base: i,
			url: "1-11.png",
			x: 41,
			y: 44,
			w: 46,
			h: 38
		},
		"reduced-hair-male-1-12": {
			type: "spritesheet",
			base: i,
			url: "1-12.png",
			x: 41,
			y: 44,
			w: 46,
			h: 38
		},
		"reduced-hair-male-1-13": {
			type: "spritesheet",
			base: i,
			url: "1-13.png",
			x: 41,
			y: 44,
			w: 46,
			h: 38
		},
		"reduced-hair-male-1-14": {
			type: "spritesheet",
			base: i,
			url: "1-14.png",
			x: 41,
			y: 44,
			w: 46,
			h: 38
		},
		"reduced-hair-male-1-15": {
			type: "spritesheet",
			base: i,
			url: "1-15.png",
			x: 41,
			y: 44,
			w: 46,
			h: 38
		},
		"reduced-hair-male-1-16": {
			type: "spritesheet",
			base: i,
			url: "1-16.png",
			x: 41,
			y: 44,
			w: 46,
			h: 38
		},
		"reduced-hair-male-1-2": {
			type: "spritesheet",
			base: i,
			url: "1-2.png",
			x: 41,
			y: 44,
			w: 46,
			h: 38
		},
		"reduced-hair-male-1-3": {
			type: "spritesheet",
			base: i,
			url: "1-3.png",
			x: 41,
			y: 44,
			w: 46,
			h: 38
		},
		"reduced-hair-male-1-4": {
			type: "spritesheet",
			base: i,
			url: "1-4.png",
			x: 41,
			y: 44,
			w: 46,
			h: 38
		},
		"reduced-hair-male-1-5": {
			type: "spritesheet",
			base: i,
			url: "1-5.png",
			x: 41,
			y: 44,
			w: 46,
			h: 38
		},
		"reduced-hair-male-1-6": {
			type: "spritesheet",
			base: i,
			url: "1-6.png",
			x: 41,
			y: 44,
			w: 46,
			h: 38
		},
		"reduced-hair-male-1-7": {
			type: "spritesheet",
			base: i,
			url: "1-7.png",
			x: 41,
			y: 44,
			w: 46,
			h: 38
		},
		"reduced-hair-male-1-8": {
			type: "spritesheet",
			base: i,
			url: "1-8.png",
			x: 41,
			y: 44,
			w: 46,
			h: 38
		},
		"reduced-hair-male-1-9": {
			type: "spritesheet",
			base: i,
			url: "1-9.png",
			x: 41,
			y: 44,
			w: 46,
			h: 38
		},
		"reduced-hair-male-2-1": {
			type: "spritesheet",
			base: i,
			url: "2-1.png",
			x: 41,
			y: 32,
			w: 47,
			h: 52
		},
		"reduced-hair-male-2-10": {
			type: "spritesheet",
			base: i,
			url: "2-10.png",
			x: 41,
			y: 32,
			w: 47,
			h: 52
		},
		"reduced-hair-male-2-11": {
			type: "spritesheet",
			base: i,
			url: "2-11.png",
			x: 41,
			y: 32,
			w: 47,
			h: 52
		},
		"reduced-hair-male-2-12": {
			type: "spritesheet",
			base: i,
			url: "2-12.png",
			x: 41,
			y: 32,
			w: 47,
			h: 52
		},
		"reduced-hair-male-2-13": {
			type: "spritesheet",
			base: i,
			url: "2-13.png",
			x: 41,
			y: 32,
			w: 47,
			h: 52
		},
		"reduced-hair-male-2-14": {
			type: "spritesheet",
			base: i,
			url: "2-14.png",
			x: 41,
			y: 32,
			w: 47,
			h: 52
		},
		"reduced-hair-male-2-15": {
			type: "spritesheet",
			base: i,
			url: "2-15.png",
			x: 41,
			y: 32,
			w: 47,
			h: 52
		},
		"reduced-hair-male-2-16": {
			type: "spritesheet",
			base: i,
			url: "2-16.png",
			x: 41,
			y: 32,
			w: 47,
			h: 52
		},
		"reduced-hair-male-2-2": {
			type: "spritesheet",
			base: i,
			url: "2-2.png",
			x: 41,
			y: 32,
			w: 47,
			h: 52
		},
		"reduced-hair-male-2-3": {
			type: "spritesheet",
			base: i,
			url: "2-3.png",
			x: 41,
			y: 32,
			w: 47,
			h: 52
		},
		"reduced-hair-male-2-4": {
			type: "spritesheet",
			base: i,
			url: "2-4.png",
			x: 41,
			y: 32,
			w: 47,
			h: 52
		},
		"reduced-hair-male-2-5": {
			type: "spritesheet",
			base: i,
			url: "2-5.png",
			x: 41,
			y: 32,
			w: 47,
			h: 52
		},
		"reduced-hair-male-2-6": {
			type: "spritesheet",
			base: i,
			url: "2-6.png",
			x: 41,
			y: 32,
			w: 47,
			h: 52
		},
		"reduced-hair-male-2-7": {
			type: "spritesheet",
			base: i,
			url: "2-7.png",
			x: 41,
			y: 32,
			w: 47,
			h: 52
		},
		"reduced-hair-male-2-8": {
			type: "spritesheet",
			base: i,
			url: "2-8.png",
			x: 41,
			y: 32,
			w: 47,
			h: 52
		},
		"reduced-hair-male-2-9": {
			type: "spritesheet",
			base: i,
			url: "2-9.png",
			x: 41,
			y: 32,
			w: 47,
			h: 52
		},
		"reduced-hair-male-3-1": {
			type: "spritesheet",
			base: i,
			url: "3-1.png",
			x: 41,
			y: 36,
			w: 50,
			h: 48
		},
		"reduced-hair-male-3-10": {
			type: "spritesheet",
			base: i,
			url: "3-10.png",
			x: 41,
			y: 36,
			w: 50,
			h: 48
		},
		"reduced-hair-male-3-11": {
			type: "spritesheet",
			base: i,
			url: "3-11.png",
			x: 41,
			y: 36,
			w: 50,
			h: 48
		},
		"reduced-hair-male-3-12": {
			type: "spritesheet",
			base: i,
			url: "3-12.png",
			x: 41,
			y: 36,
			w: 50,
			h: 48
		},
		"reduced-hair-male-3-13": {
			type: "spritesheet",
			base: i,
			url: "3-13.png",
			x: 41,
			y: 36,
			w: 50,
			h: 48
		},
		"reduced-hair-male-3-14": {
			type: "spritesheet",
			base: i,
			url: "3-14.png",
			x: 41,
			y: 36,
			w: 50,
			h: 48
		},
		"reduced-hair-male-3-15": {
			type: "spritesheet",
			base: i,
			url: "3-15.png",
			x: 41,
			y: 36,
			w: 50,
			h: 48
		},
		"reduced-hair-male-3-16": {
			type: "spritesheet",
			base: i,
			url: "3-16.png",
			x: 41,
			y: 36,
			w: 50,
			h: 48
		},
		"reduced-hair-male-3-2": {
			type: "spritesheet",
			base: i,
			url: "3-2.png",
			x: 41,
			y: 36,
			w: 50,
			h: 48
		},
		"reduced-hair-male-3-3": {
			type: "spritesheet",
			base: i,
			url: "3-3.png",
			x: 41,
			y: 36,
			w: 50,
			h: 48
		},
		"reduced-hair-male-3-4": {
			type: "spritesheet",
			base: i,
			url: "3-4.png",
			x: 41,
			y: 36,
			w: 50,
			h: 48
		},
		"reduced-hair-male-3-5": {
			type: "spritesheet",
			base: i,
			url: "3-5.png",
			x: 41,
			y: 36,
			w: 50,
			h: 48
		},
		"reduced-hair-male-3-6": {
			type: "spritesheet",
			base: i,
			url: "3-6.png",
			x: 41,
			y: 36,
			w: 50,
			h: 48
		},
		"reduced-hair-male-3-7": {
			type: "spritesheet",
			base: i,
			url: "3-7.png",
			x: 41,
			y: 36,
			w: 50,
			h: 48
		},
		"reduced-hair-male-3-8": {
			type: "spritesheet",
			base: i,
			url: "3-8.png",
			x: 41,
			y: 36,
			w: 50,
			h: 48
		},
		"reduced-hair-male-3-9": {
			type: "spritesheet",
			base: i,
			url: "3-9.png",
			x: 41,
			y: 36,
			w: 50,
			h: 48
		},
		"reduced-hair-male-4-1": {
			type: "spritesheet",
			base: i,
			url: "4-1.png",
			x: 40,
			y: 44,
			w: 47,
			h: 39
		},
		"reduced-hair-male-4-10": {
			type: "spritesheet",
			base: i,
			url: "4-10.png",
			x: 40,
			y: 44,
			w: 47,
			h: 39
		},
		"reduced-hair-male-4-11": {
			type: "spritesheet",
			base: i,
			url: "4-11.png",
			x: 40,
			y: 44,
			w: 47,
			h: 39
		},
		"reduced-hair-male-4-12": {
			type: "spritesheet",
			base: i,
			url: "4-12.png",
			x: 40,
			y: 44,
			w: 47,
			h: 39
		},
		"reduced-hair-male-4-13": {
			type: "spritesheet",
			base: i,
			url: "4-13.png",
			x: 40,
			y: 44,
			w: 47,
			h: 39
		},
		"reduced-hair-male-4-14": {
			type: "spritesheet",
			base: i,
			url: "4-14.png",
			x: 40,
			y: 44,
			w: 47,
			h: 39
		},
		"reduced-hair-male-4-15": {
			type: "spritesheet",
			base: i,
			url: "4-15.png",
			x: 40,
			y: 44,
			w: 47,
			h: 39
		},
		"reduced-hair-male-4-16": {
			type: "spritesheet",
			base: i,
			url: "4-16.png",
			x: 40,
			y: 44,
			w: 47,
			h: 39
		},
		"reduced-hair-male-4-2": {
			type: "spritesheet",
			base: i,
			url: "4-2.png",
			x: 40,
			y: 44,
			w: 47,
			h: 39
		},
		"reduced-hair-male-4-3": {
			type: "spritesheet",
			base: i,
			url: "4-3.png",
			x: 40,
			y: 44,
			w: 47,
			h: 39
		},
		"reduced-hair-male-4-4": {
			type: "spritesheet",
			base: i,
			url: "4-4.png",
			x: 40,
			y: 44,
			w: 47,
			h: 39
		},
		"reduced-hair-male-4-5": {
			type: "spritesheet",
			base: i,
			url: "4-5.png",
			x: 40,
			y: 44,
			w: 47,
			h: 39
		},
		"reduced-hair-male-4-6": {
			type: "spritesheet",
			base: i,
			url: "4-6.png",
			x: 40,
			y: 44,
			w: 47,
			h: 39
		},
		"reduced-hair-male-4-7": {
			type: "spritesheet",
			base: i,
			url: "4-7.png",
			x: 40,
			y: 44,
			w: 47,
			h: 39
		},
		"reduced-hair-male-4-8": {
			type: "spritesheet",
			base: i,
			url: "4-8.png",
			x: 40,
			y: 44,
			w: 47,
			h: 39
		},
		"reduced-hair-male-4-9": {
			type: "spritesheet",
			base: i,
			url: "4-9.png",
			x: 40,
			y: 44,
			w: 47,
			h: 39
		},
		"reduced-hair-male-5-1": {
			type: "spritesheet",
			base: i,
			url: "5-1.png",
			x: 42,
			y: 44,
			w: 44,
			h: 39
		},
		"reduced-hair-male-5-10": {
			type: "spritesheet",
			base: i,
			url: "5-10.png",
			x: 42,
			y: 44,
			w: 44,
			h: 39
		},
		"reduced-hair-male-5-11": {
			type: "spritesheet",
			base: i,
			url: "5-11.png",
			x: 42,
			y: 44,
			w: 44,
			h: 39
		},
		"reduced-hair-male-5-12": {
			type: "spritesheet",
			base: i,
			url: "5-12.png",
			x: 42,
			y: 44,
			w: 44,
			h: 39
		},
		"reduced-hair-male-5-13": {
			type: "spritesheet",
			base: i,
			url: "5-13.png",
			x: 42,
			y: 44,
			w: 44,
			h: 39
		},
		"reduced-hair-male-5-14": {
			type: "spritesheet",
			base: i,
			url: "5-14.png",
			x: 42,
			y: 44,
			w: 44,
			h: 39
		},
		"reduced-hair-male-5-15": {
			type: "spritesheet",
			base: i,
			url: "5-15.png",
			x: 42,
			y: 44,
			w: 44,
			h: 39
		},
		"reduced-hair-male-5-16": {
			type: "spritesheet",
			base: i,
			url: "5-16.png",
			x: 42,
			y: 44,
			w: 44,
			h: 39
		},
		"reduced-hair-male-5-2": {
			type: "spritesheet",
			base: i,
			url: "5-2.png",
			x: 42,
			y: 44,
			w: 44,
			h: 39
		},
		"reduced-hair-male-5-3": {
			type: "spritesheet",
			base: i,
			url: "5-3.png",
			x: 42,
			y: 44,
			w: 44,
			h: 39
		},
		"reduced-hair-male-5-4": {
			type: "spritesheet",
			base: i,
			url: "5-4.png",
			x: 42,
			y: 44,
			w: 44,
			h: 39
		},
		"reduced-hair-male-5-5": {
			type: "spritesheet",
			base: i,
			url: "5-5.png",
			x: 42,
			y: 44,
			w: 44,
			h: 39
		},
		"reduced-hair-male-5-6": {
			type: "spritesheet",
			base: i,
			url: "5-6.png",
			x: 42,
			y: 44,
			w: 44,
			h: 39
		},
		"reduced-hair-male-5-7": {
			type: "spritesheet",
			base: i,
			url: "5-7.png",
			x: 42,
			y: 44,
			w: 44,
			h: 39
		},
		"reduced-hair-male-5-8": {
			type: "spritesheet",
			base: i,
			url: "5-8.png",
			x: 42,
			y: 44,
			w: 44,
			h: 39
		},
		"reduced-hair-male-5-9": {
			type: "spritesheet",
			base: i,
			url: "5-9.png",
			x: 42,
			y: 44,
			w: 44,
			h: 39
		},
		"reduced-hair-male-6-1": {
			type: "spritesheet",
			base: i,
			url: "6-1.png",
			x: 41,
			y: 44,
			w: 45,
			h: 38
		},
		"reduced-hair-male-6-10": {
			type: "spritesheet",
			base: i,
			url: "6-10.png",
			x: 41,
			y: 44,
			w: 45,
			h: 38
		},
		"reduced-hair-male-6-11": {
			type: "spritesheet",
			base: i,
			url: "6-11.png",
			x: 41,
			y: 44,
			w: 45,
			h: 38
		},
		"reduced-hair-male-6-12": {
			type: "spritesheet",
			base: i,
			url: "6-12.png",
			x: 41,
			y: 44,
			w: 45,
			h: 38
		},
		"reduced-hair-male-6-13": {
			type: "spritesheet",
			base: i,
			url: "6-13.png",
			x: 41,
			y: 44,
			w: 45,
			h: 38
		},
		"reduced-hair-male-6-14": {
			type: "spritesheet",
			base: i,
			url: "6-14.png",
			x: 41,
			y: 44,
			w: 45,
			h: 38
		},
		"reduced-hair-male-6-15": {
			type: "spritesheet",
			base: i,
			url: "6-15.png",
			x: 41,
			y: 44,
			w: 45,
			h: 38
		},
		"reduced-hair-male-6-16": {
			type: "spritesheet",
			base: i,
			url: "6-16.png",
			x: 41,
			y: 44,
			w: 45,
			h: 38
		},
		"reduced-hair-male-6-2": {
			type: "spritesheet",
			base: i,
			url: "6-2.png",
			x: 41,
			y: 44,
			w: 45,
			h: 38
		},
		"reduced-hair-male-6-3": {
			type: "spritesheet",
			base: i,
			url: "6-3.png",
			x: 41,
			y: 44,
			w: 45,
			h: 38
		},
		"reduced-hair-male-6-4": {
			type: "spritesheet",
			base: i,
			url: "6-4.png",
			x: 41,
			y: 44,
			w: 45,
			h: 38
		},
		"reduced-hair-male-6-5": {
			type: "spritesheet",
			base: i,
			url: "6-5.png",
			x: 41,
			y: 44,
			w: 45,
			h: 38
		},
		"reduced-hair-male-6-6": {
			type: "spritesheet",
			base: i,
			url: "6-6.png",
			x: 41,
			y: 44,
			w: 45,
			h: 38
		},
		"reduced-hair-male-6-7": {
			type: "spritesheet",
			base: i,
			url: "6-7.png",
			x: 41,
			y: 44,
			w: 45,
			h: 38
		},
		"reduced-hair-male-6-8": {
			type: "spritesheet",
			base: i,
			url: "6-8.png",
			x: 41,
			y: 44,
			w: 45,
			h: 38
		},
		"reduced-hair-male-6-9": {
			type: "spritesheet",
			base: i,
			url: "6-9.png",
			x: 41,
			y: 44,
			w: 45,
			h: 38
		},
		"reduced-hair-male-7-1": {
			type: "spritesheet",
			base: i,
			url: "7-1.png",
			x: 36,
			y: 44,
			w: 53,
			h: 38
		},
		"reduced-hair-male-7-10": {
			type: "spritesheet",
			base: i,
			url: "7-10.png",
			x: 36,
			y: 44,
			w: 53,
			h: 38
		},
		"reduced-hair-male-7-11": {
			type: "spritesheet",
			base: i,
			url: "7-11.png",
			x: 36,
			y: 44,
			w: 53,
			h: 38
		},
		"reduced-hair-male-7-12": {
			type: "spritesheet",
			base: i,
			url: "7-12.png",
			x: 36,
			y: 44,
			w: 53,
			h: 38
		},
		"reduced-hair-male-7-13": {
			type: "spritesheet",
			base: i,
			url: "7-13.png",
			x: 36,
			y: 44,
			w: 53,
			h: 38
		},
		"reduced-hair-male-7-14": {
			type: "spritesheet",
			base: i,
			url: "7-14.png",
			x: 36,
			y: 44,
			w: 53,
			h: 38
		},
		"reduced-hair-male-7-15": {
			type: "spritesheet",
			base: i,
			url: "7-15.png",
			x: 36,
			y: 44,
			w: 53,
			h: 38
		},
		"reduced-hair-male-7-16": {
			type: "spritesheet",
			base: i,
			url: "7-16.png",
			x: 36,
			y: 44,
			w: 53,
			h: 38
		},
		"reduced-hair-male-7-2": {
			type: "spritesheet",
			base: i,
			url: "7-2.png",
			x: 36,
			y: 44,
			w: 53,
			h: 38
		},
		"reduced-hair-male-7-3": {
			type: "spritesheet",
			base: i,
			url: "7-3.png",
			x: 36,
			y: 44,
			w: 53,
			h: 38
		},
		"reduced-hair-male-7-4": {
			type: "spritesheet",
			base: i,
			url: "7-4.png",
			x: 36,
			y: 44,
			w: 53,
			h: 38
		},
		"reduced-hair-male-7-5": {
			type: "spritesheet",
			base: i,
			url: "7-5.png",
			x: 36,
			y: 44,
			w: 53,
			h: 38
		},
		"reduced-hair-male-7-6": {
			type: "spritesheet",
			base: i,
			url: "7-6.png",
			x: 36,
			y: 44,
			w: 53,
			h: 38
		},
		"reduced-hair-male-7-7": {
			type: "spritesheet",
			base: i,
			url: "7-7.png",
			x: 36,
			y: 44,
			w: 53,
			h: 38
		},
		"reduced-hair-male-7-8": {
			type: "spritesheet",
			base: i,
			url: "7-8.png",
			x: 36,
			y: 44,
			w: 53,
			h: 38
		},
		"reduced-hair-male-7-9": {
			type: "spritesheet",
			base: i,
			url: "7-9.png",
			x: 36,
			y: 44,
			w: 53,
			h: 38
		},
		"reduced-hair-male-8-1": {
			type: "spritesheet",
			base: i,
			url: "8-1.png",
			x: 40,
			y: 44,
			w: 50,
			h: 40
		},
		"reduced-hair-male-8-10": {
			type: "spritesheet",
			base: i,
			url: "8-10.png",
			x: 40,
			y: 44,
			w: 50,
			h: 40
		},
		"reduced-hair-male-8-11": {
			type: "spritesheet",
			base: i,
			url: "8-11.png",
			x: 40,
			y: 44,
			w: 50,
			h: 40
		},
		"reduced-hair-male-8-12": {
			type: "spritesheet",
			base: i,
			url: "8-12.png",
			x: 40,
			y: 44,
			w: 50,
			h: 40
		},
		"reduced-hair-male-8-13": {
			type: "spritesheet",
			base: i,
			url: "8-13.png",
			x: 40,
			y: 44,
			w: 50,
			h: 40
		},
		"reduced-hair-male-8-14": {
			type: "spritesheet",
			base: i,
			url: "8-14.png",
			x: 40,
			y: 44,
			w: 50,
			h: 40
		},
		"reduced-hair-male-8-15": {
			type: "spritesheet",
			base: i,
			url: "8-15.png",
			x: 40,
			y: 44,
			w: 50,
			h: 40
		},
		"reduced-hair-male-8-16": {
			type: "spritesheet",
			base: i,
			url: "8-16.png",
			x: 40,
			y: 44,
			w: 50,
			h: 40
		},
		"reduced-hair-male-8-2": {
			type: "spritesheet",
			base: i,
			url: "8-2.png",
			x: 40,
			y: 44,
			w: 50,
			h: 40
		},
		"reduced-hair-male-8-3": {
			type: "spritesheet",
			base: i,
			url: "8-3.png",
			x: 40,
			y: 44,
			w: 50,
			h: 40
		},
		"reduced-hair-male-8-4": {
			type: "spritesheet",
			base: i,
			url: "8-4.png",
			x: 40,
			y: 44,
			w: 50,
			h: 40
		},
		"reduced-hair-male-8-5": {
			type: "spritesheet",
			base: i,
			url: "8-5.png",
			x: 40,
			y: 44,
			w: 50,
			h: 40
		},
		"reduced-hair-male-8-6": {
			type: "spritesheet",
			base: i,
			url: "8-6.png",
			x: 40,
			y: 44,
			w: 50,
			h: 40
		},
		"reduced-hair-male-8-7": {
			type: "spritesheet",
			base: i,
			url: "8-7.png",
			x: 40,
			y: 44,
			w: 50,
			h: 40
		},
		"reduced-hair-male-8-8": {
			type: "spritesheet",
			base: i,
			url: "8-8.png",
			x: 40,
			y: 44,
			w: 50,
			h: 40
		},
		"reduced-hair-male-8-9": {
			type: "spritesheet",
			base: i,
			url: "8-9.png",
			x: 40,
			y: 44,
			w: 50,
			h: 40
		},
		"normal-hair-female-1-1": {
			type: "spritesheet",
			base: h,
			url: "1-1.png",
			x: 54,
			y: 77,
			w: 120,
			h: 107
		},
		"normal-hair-female-1-10": {
			type: "spritesheet",
			base: h,
			url: "1-10.png",
			x: 54,
			y: 77,
			w: 120,
			h: 107
		},
		"normal-hair-female-1-11": {
			type: "spritesheet",
			base: h,
			url: "1-11.png",
			x: 54,
			y: 77,
			w: 120,
			h: 107
		},
		"normal-hair-female-1-12": {
			type: "spritesheet",
			base: h,
			url: "1-12.png",
			x: 54,
			y: 77,
			w: 120,
			h: 107
		},
		"normal-hair-female-1-13": {
			type: "spritesheet",
			base: h,
			url: "1-13.png",
			x: 54,
			y: 77,
			w: 120,
			h: 107
		},
		"normal-hair-female-1-14": {
			type: "spritesheet",
			base: h,
			url: "1-14.png",
			x: 54,
			y: 77,
			w: 120,
			h: 107
		},
		"normal-hair-female-1-15": {
			type: "spritesheet",
			base: h,
			url: "1-15.png",
			x: 54,
			y: 77,
			w: 120,
			h: 107
		},
		"normal-hair-female-1-16": {
			type: "spritesheet",
			base: h,
			url: "1-16.png",
			x: 54,
			y: 77,
			w: 120,
			h: 107
		},
		"normal-hair-female-1-2": {
			type: "spritesheet",
			base: h,
			url: "1-2.png",
			x: 54,
			y: 77,
			w: 120,
			h: 107
		},
		"normal-hair-female-1-3": {
			type: "spritesheet",
			base: h,
			url: "1-3.png",
			x: 54,
			y: 77,
			w: 120,
			h: 107
		},
		"normal-hair-female-1-4": {
			type: "spritesheet",
			base: h,
			url: "1-4.png",
			x: 54,
			y: 77,
			w: 120,
			h: 107
		},
		"normal-hair-female-1-5": {
			type: "spritesheet",
			base: h,
			url: "1-5.png",
			x: 54,
			y: 77,
			w: 120,
			h: 107
		},
		"normal-hair-female-1-6": {
			type: "spritesheet",
			base: h,
			url: "1-6.png",
			x: 54,
			y: 77,
			w: 120,
			h: 107
		},
		"normal-hair-female-1-7": {
			type: "spritesheet",
			base: h,
			url: "1-7.png",
			x: 54,
			y: 77,
			w: 120,
			h: 107
		},
		"normal-hair-female-1-8": {
			type: "spritesheet",
			base: h,
			url: "1-8.png",
			x: 54,
			y: 77,
			w: 120,
			h: 107
		},
		"normal-hair-female-1-9": {
			type: "spritesheet",
			base: h,
			url: "1-9.png",
			x: 54,
			y: 77,
			w: 120,
			h: 107
		},
		"normal-hair-female-10-1": {
			type: "spritesheet",
			base: h,
			url: "10-1.png",
			x: 68,
			y: 77,
			w: 108,
			h: 102
		},
		"normal-hair-female-10-10": {
			type: "spritesheet",
			base: h,
			url: "10-10.png",
			x: 68,
			y: 77,
			w: 108,
			h: 102
		},
		"normal-hair-female-10-11": {
			type: "spritesheet",
			base: h,
			url: "10-11.png",
			x: 68,
			y: 77,
			w: 108,
			h: 102
		},
		"normal-hair-female-10-12": {
			type: "spritesheet",
			base: h,
			url: "10-12.png",
			x: 68,
			y: 77,
			w: 108,
			h: 102
		},
		"normal-hair-female-10-13": {
			type: "spritesheet",
			base: h,
			url: "10-13.png",
			x: 68,
			y: 77,
			w: 108,
			h: 102
		},
		"normal-hair-female-10-14": {
			type: "spritesheet",
			base: h,
			url: "10-14.png",
			x: 68,
			y: 77,
			w: 108,
			h: 102
		},
		"normal-hair-female-10-15": {
			type: "spritesheet",
			base: h,
			url: "10-15.png",
			x: 68,
			y: 77,
			w: 108,
			h: 102
		},
		"normal-hair-female-10-16": {
			type: "spritesheet",
			base: h,
			url: "10-16.png",
			x: 68,
			y: 77,
			w: 108,
			h: 102
		},
		"normal-hair-female-10-2": {
			type: "spritesheet",
			base: h,
			url: "10-2.png",
			x: 68,
			y: 77,
			w: 108,
			h: 102
		},
		"normal-hair-female-10-3": {
			type: "spritesheet",
			base: h,
			url: "10-3.png",
			x: 68,
			y: 77,
			w: 108,
			h: 102
		},
		"normal-hair-female-10-4": {
			type: "spritesheet",
			base: h,
			url: "10-4.png",
			x: 68,
			y: 77,
			w: 108,
			h: 102
		},
		"normal-hair-female-10-5": {
			type: "spritesheet",
			base: h,
			url: "10-5.png",
			x: 68,
			y: 77,
			w: 108,
			h: 102
		},
		"normal-hair-female-10-6": {
			type: "spritesheet",
			base: h,
			url: "10-6.png",
			x: 68,
			y: 77,
			w: 108,
			h: 102
		},
		"normal-hair-female-10-7": {
			type: "spritesheet",
			base: h,
			url: "10-7.png",
			x: 68,
			y: 77,
			w: 108,
			h: 102
		},
		"normal-hair-female-10-8": {
			type: "spritesheet",
			base: h,
			url: "10-8.png",
			x: 68,
			y: 77,
			w: 108,
			h: 102
		},
		"normal-hair-female-10-9": {
			type: "spritesheet",
			base: h,
			url: "10-9.png",
			x: 68,
			y: 77,
			w: 108,
			h: 102
		},
		"normal-hair-female-11-1": {
			type: "spritesheet",
			base: h,
			url: "11-1.png",
			x: 68,
			y: 77,
			w: 106,
			h: 102
		},
		"normal-hair-female-11-10": {
			type: "spritesheet",
			base: h,
			url: "11-10.png",
			x: 68,
			y: 77,
			w: 106,
			h: 102
		},
		"normal-hair-female-11-11": {
			type: "spritesheet",
			base: h,
			url: "11-11.png",
			x: 68,
			y: 77,
			w: 106,
			h: 102
		},
		"normal-hair-female-11-12": {
			type: "spritesheet",
			base: h,
			url: "11-12.png",
			x: 68,
			y: 77,
			w: 106,
			h: 102
		},
		"normal-hair-female-11-13": {
			type: "spritesheet",
			base: h,
			url: "11-13.png",
			x: 68,
			y: 77,
			w: 106,
			h: 102
		},
		"normal-hair-female-11-14": {
			type: "spritesheet",
			base: h,
			url: "11-14.png",
			x: 68,
			y: 77,
			w: 106,
			h: 102
		},
		"normal-hair-female-11-15": {
			type: "spritesheet",
			base: h,
			url: "11-15.png",
			x: 68,
			y: 77,
			w: 106,
			h: 102
		},
		"normal-hair-female-11-16": {
			type: "spritesheet",
			base: h,
			url: "11-16.png",
			x: 68,
			y: 77,
			w: 106,
			h: 102
		},
		"normal-hair-female-11-2": {
			type: "spritesheet",
			base: h,
			url: "11-2.png",
			x: 68,
			y: 77,
			w: 106,
			h: 102
		},
		"normal-hair-female-11-3": {
			type: "spritesheet",
			base: h,
			url: "11-3.png",
			x: 68,
			y: 77,
			w: 106,
			h: 102
		},
		"normal-hair-female-11-4": {
			type: "spritesheet",
			base: h,
			url: "11-4.png",
			x: 68,
			y: 77,
			w: 106,
			h: 102
		},
		"normal-hair-female-11-5": {
			type: "spritesheet",
			base: h,
			url: "11-5.png",
			x: 68,
			y: 77,
			w: 106,
			h: 102
		},
		"normal-hair-female-11-6": {
			type: "spritesheet",
			base: h,
			url: "11-6.png",
			x: 68,
			y: 77,
			w: 106,
			h: 102
		},
		"normal-hair-female-11-7": {
			type: "spritesheet",
			base: h,
			url: "11-7.png",
			x: 68,
			y: 77,
			w: 106,
			h: 102
		},
		"normal-hair-female-11-8": {
			type: "spritesheet",
			base: h,
			url: "11-8.png",
			x: 68,
			y: 77,
			w: 106,
			h: 102
		},
		"normal-hair-female-11-9": {
			type: "spritesheet",
			base: h,
			url: "11-9.png",
			x: 68,
			y: 77,
			w: 106,
			h: 102
		},
		"normal-hair-female-12-1": {
			type: "spritesheet",
			base: h,
			url: "12-1.png",
			x: 68,
			y: 75,
			w: 106,
			h: 104
		},
		"normal-hair-female-12-10": {
			type: "spritesheet",
			base: h,
			url: "12-10.png",
			x: 68,
			y: 75,
			w: 106,
			h: 104
		},
		"normal-hair-female-12-11": {
			type: "spritesheet",
			base: h,
			url: "12-11.png",
			x: 68,
			y: 75,
			w: 106,
			h: 104
		},
		"normal-hair-female-12-12": {
			type: "spritesheet",
			base: h,
			url: "12-12.png",
			x: 68,
			y: 75,
			w: 106,
			h: 104
		},
		"normal-hair-female-12-13": {
			type: "spritesheet",
			base: h,
			url: "12-13.png",
			x: 68,
			y: 75,
			w: 106,
			h: 104
		},
		"normal-hair-female-12-14": {
			type: "spritesheet",
			base: h,
			url: "12-14.png",
			x: 68,
			y: 75,
			w: 106,
			h: 104
		},
		"normal-hair-female-12-15": {
			type: "spritesheet",
			base: h,
			url: "12-15.png",
			x: 68,
			y: 75,
			w: 106,
			h: 104
		},
		"normal-hair-female-12-16": {
			type: "spritesheet",
			base: h,
			url: "12-16.png",
			x: 68,
			y: 75,
			w: 106,
			h: 104
		},
		"normal-hair-female-12-2": {
			type: "spritesheet",
			base: h,
			url: "12-2.png",
			x: 68,
			y: 75,
			w: 106,
			h: 104
		},
		"normal-hair-female-12-3": {
			type: "spritesheet",
			base: h,
			url: "12-3.png",
			x: 68,
			y: 75,
			w: 106,
			h: 104
		},
		"normal-hair-female-12-4": {
			type: "spritesheet",
			base: h,
			url: "12-4.png",
			x: 68,
			y: 75,
			w: 106,
			h: 104
		},
		"normal-hair-female-12-5": {
			type: "spritesheet",
			base: h,
			url: "12-5.png",
			x: 68,
			y: 75,
			w: 106,
			h: 104
		},
		"normal-hair-female-12-6": {
			type: "spritesheet",
			base: h,
			url: "12-6.png",
			x: 68,
			y: 75,
			w: 106,
			h: 104
		},
		"normal-hair-female-12-7": {
			type: "spritesheet",
			base: h,
			url: "12-7.png",
			x: 68,
			y: 75,
			w: 106,
			h: 104
		},
		"normal-hair-female-12-8": {
			type: "spritesheet",
			base: h,
			url: "12-8.png",
			x: 68,
			y: 75,
			w: 106,
			h: 104
		},
		"normal-hair-female-12-9": {
			type: "spritesheet",
			base: h,
			url: "12-9.png",
			x: 68,
			y: 75,
			w: 106,
			h: 104
		},
		"normal-hair-female-13-1": {
			type: "spritesheet",
			base: h,
			url: "13-1.png",
			x: 48,
			y: 77,
			w: 126,
			h: 110
		},
		"normal-hair-female-13-10": {
			type: "spritesheet",
			base: h,
			url: "13-10.png",
			x: 48,
			y: 77,
			w: 126,
			h: 110
		},
		"normal-hair-female-13-11": {
			type: "spritesheet",
			base: h,
			url: "13-11.png",
			x: 48,
			y: 77,
			w: 126,
			h: 110
		},
		"normal-hair-female-13-12": {
			type: "spritesheet",
			base: h,
			url: "13-12.png",
			x: 48,
			y: 77,
			w: 126,
			h: 110
		},
		"normal-hair-female-13-13": {
			type: "spritesheet",
			base: h,
			url: "13-13.png",
			x: 48,
			y: 77,
			w: 126,
			h: 110
		},
		"normal-hair-female-13-14": {
			type: "spritesheet",
			base: h,
			url: "13-14.png",
			x: 48,
			y: 77,
			w: 126,
			h: 110
		},
		"normal-hair-female-13-15": {
			type: "spritesheet",
			base: h,
			url: "13-15.png",
			x: 48,
			y: 77,
			w: 126,
			h: 110
		},
		"normal-hair-female-13-16": {
			type: "spritesheet",
			base: h,
			url: "13-16.png",
			x: 48,
			y: 77,
			w: 126,
			h: 110
		},
		"normal-hair-female-13-2": {
			type: "spritesheet",
			base: h,
			url: "13-2.png",
			x: 48,
			y: 77,
			w: 126,
			h: 110
		},
		"normal-hair-female-13-3": {
			type: "spritesheet",
			base: h,
			url: "13-3.png",
			x: 48,
			y: 77,
			w: 126,
			h: 110
		},
		"normal-hair-female-13-4": {
			type: "spritesheet",
			base: h,
			url: "13-4.png",
			x: 48,
			y: 77,
			w: 126,
			h: 110
		},
		"normal-hair-female-13-5": {
			type: "spritesheet",
			base: h,
			url: "13-5.png",
			x: 48,
			y: 77,
			w: 126,
			h: 110
		},
		"normal-hair-female-13-6": {
			type: "spritesheet",
			base: h,
			url: "13-6.png",
			x: 48,
			y: 77,
			w: 126,
			h: 110
		},
		"normal-hair-female-13-7": {
			type: "spritesheet",
			base: h,
			url: "13-7.png",
			x: 48,
			y: 77,
			w: 126,
			h: 110
		},
		"normal-hair-female-13-8": {
			type: "spritesheet",
			base: h,
			url: "13-8.png",
			x: 48,
			y: 77,
			w: 126,
			h: 110
		},
		"normal-hair-female-13-9": {
			type: "spritesheet",
			base: h,
			url: "13-9.png",
			x: 48,
			y: 77,
			w: 126,
			h: 110
		},
		"normal-hair-female-14-1": {
			type: "spritesheet",
			base: h,
			url: "14-1.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-14-10": {
			type: "spritesheet",
			base: h,
			url: "14-10.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-14-11": {
			type: "spritesheet",
			base: h,
			url: "14-11.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-14-12": {
			type: "spritesheet",
			base: h,
			url: "14-12.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-14-13": {
			type: "spritesheet",
			base: h,
			url: "14-13.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-14-14": {
			type: "spritesheet",
			base: h,
			url: "14-14.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-14-15": {
			type: "spritesheet",
			base: h,
			url: "14-15.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-14-16": {
			type: "spritesheet",
			base: h,
			url: "14-16.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-14-2": {
			type: "spritesheet",
			base: h,
			url: "14-2.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-14-3": {
			type: "spritesheet",
			base: h,
			url: "14-3.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-14-4": {
			type: "spritesheet",
			base: h,
			url: "14-4.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-14-5": {
			type: "spritesheet",
			base: h,
			url: "14-5.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-14-6": {
			type: "spritesheet",
			base: h,
			url: "14-6.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-14-7": {
			type: "spritesheet",
			base: h,
			url: "14-7.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-14-8": {
			type: "spritesheet",
			base: h,
			url: "14-8.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-14-9": {
			type: "spritesheet",
			base: h,
			url: "14-9.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-15-1": {
			type: "spritesheet",
			base: h,
			url: "15-1.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-15-10": {
			type: "spritesheet",
			base: h,
			url: "15-10.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-15-11": {
			type: "spritesheet",
			base: h,
			url: "15-11.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-15-12": {
			type: "spritesheet",
			base: h,
			url: "15-12.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-15-13": {
			type: "spritesheet",
			base: h,
			url: "15-13.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-15-14": {
			type: "spritesheet",
			base: h,
			url: "15-14.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-15-15": {
			type: "spritesheet",
			base: h,
			url: "15-15.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-15-16": {
			type: "spritesheet",
			base: h,
			url: "15-16.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-15-2": {
			type: "spritesheet",
			base: h,
			url: "15-2.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-15-3": {
			type: "spritesheet",
			base: h,
			url: "15-3.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-15-4": {
			type: "spritesheet",
			base: h,
			url: "15-4.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-15-5": {
			type: "spritesheet",
			base: h,
			url: "15-5.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-15-6": {
			type: "spritesheet",
			base: h,
			url: "15-6.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-15-7": {
			type: "spritesheet",
			base: h,
			url: "15-7.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-15-8": {
			type: "spritesheet",
			base: h,
			url: "15-8.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-15-9": {
			type: "spritesheet",
			base: h,
			url: "15-9.png",
			x: 48,
			y: 74,
			w: 125,
			h: 111
		},
		"normal-hair-female-2-1": {
			type: "spritesheet",
			base: h,
			url: "2-1.png",
			x: 54,
			y: 77,
			w: 122,
			h: 107
		},
		"normal-hair-female-2-10": {
			type: "spritesheet",
			base: h,
			url: "2-10.png",
			x: 54,
			y: 77,
			w: 122,
			h: 107
		},
		"normal-hair-female-2-11": {
			type: "spritesheet",
			base: h,
			url: "2-11.png",
			x: 54,
			y: 77,
			w: 122,
			h: 107
		},
		"normal-hair-female-2-12": {
			type: "spritesheet",
			base: h,
			url: "2-12.png",
			x: 54,
			y: 77,
			w: 122,
			h: 107
		},
		"normal-hair-female-2-13": {
			type: "spritesheet",
			base: h,
			url: "2-13.png",
			x: 54,
			y: 77,
			w: 122,
			h: 107
		},
		"normal-hair-female-2-14": {
			type: "spritesheet",
			base: h,
			url: "2-14.png",
			x: 54,
			y: 77,
			w: 122,
			h: 107
		},
		"normal-hair-female-2-15": {
			type: "spritesheet",
			base: h,
			url: "2-15.png",
			x: 54,
			y: 77,
			w: 122,
			h: 107
		},
		"normal-hair-female-2-16": {
			type: "spritesheet",
			base: h,
			url: "2-16.png",
			x: 54,
			y: 77,
			w: 122,
			h: 107
		},
		"normal-hair-female-2-2": {
			type: "spritesheet",
			base: h,
			url: "2-2.png",
			x: 54,
			y: 77,
			w: 122,
			h: 107
		},
		"normal-hair-female-2-3": {
			type: "spritesheet",
			base: h,
			url: "2-3.png",
			x: 54,
			y: 77,
			w: 122,
			h: 107
		},
		"normal-hair-female-2-4": {
			type: "spritesheet",
			base: h,
			url: "2-4.png",
			x: 54,
			y: 77,
			w: 122,
			h: 107
		},
		"normal-hair-female-2-5": {
			type: "spritesheet",
			base: h,
			url: "2-5.png",
			x: 54,
			y: 77,
			w: 122,
			h: 107
		},
		"normal-hair-female-2-6": {
			type: "spritesheet",
			base: h,
			url: "2-6.png",
			x: 54,
			y: 77,
			w: 122,
			h: 107
		},
		"normal-hair-female-2-7": {
			type: "spritesheet",
			base: h,
			url: "2-7.png",
			x: 54,
			y: 77,
			w: 122,
			h: 107
		},
		"normal-hair-female-2-8": {
			type: "spritesheet",
			base: h,
			url: "2-8.png",
			x: 54,
			y: 77,
			w: 122,
			h: 107
		},
		"normal-hair-female-2-9": {
			type: "spritesheet",
			base: h,
			url: "2-9.png",
			x: 54,
			y: 77,
			w: 122,
			h: 107
		},
		"normal-hair-female-3-1": {
			type: "spritesheet",
			base: h,
			url: "3-1.png",
			x: 54,
			y: 77,
			w: 134,
			h: 107
		},
		"normal-hair-female-3-10": {
			type: "spritesheet",
			base: h,
			url: "3-10.png",
			x: 54,
			y: 77,
			w: 134,
			h: 107
		},
		"normal-hair-female-3-11": {
			type: "spritesheet",
			base: h,
			url: "3-11.png",
			x: 54,
			y: 77,
			w: 134,
			h: 107
		},
		"normal-hair-female-3-12": {
			type: "spritesheet",
			base: h,
			url: "3-12.png",
			x: 54,
			y: 77,
			w: 134,
			h: 107
		},
		"normal-hair-female-3-13": {
			type: "spritesheet",
			base: h,
			url: "3-13.png",
			x: 54,
			y: 77,
			w: 134,
			h: 107
		},
		"normal-hair-female-3-14": {
			type: "spritesheet",
			base: h,
			url: "3-14.png",
			x: 54,
			y: 77,
			w: 134,
			h: 107
		},
		"normal-hair-female-3-15": {
			type: "spritesheet",
			base: h,
			url: "3-15.png",
			x: 54,
			y: 77,
			w: 134,
			h: 107
		},
		"normal-hair-female-3-16": {
			type: "spritesheet",
			base: h,
			url: "3-16.png",
			x: 54,
			y: 77,
			w: 134,
			h: 107
		},
		"normal-hair-female-3-2": {
			type: "spritesheet",
			base: h,
			url: "3-2.png",
			x: 54,
			y: 77,
			w: 134,
			h: 107
		},
		"normal-hair-female-3-3": {
			type: "spritesheet",
			base: h,
			url: "3-3.png",
			x: 54,
			y: 77,
			w: 134,
			h: 107
		},
		"normal-hair-female-3-4": {
			type: "spritesheet",
			base: h,
			url: "3-4.png",
			x: 54,
			y: 77,
			w: 134,
			h: 107
		},
		"normal-hair-female-3-5": {
			type: "spritesheet",
			base: h,
			url: "3-5.png",
			x: 54,
			y: 77,
			w: 134,
			h: 107
		},
		"normal-hair-female-3-6": {
			type: "spritesheet",
			base: h,
			url: "3-6.png",
			x: 54,
			y: 77,
			w: 134,
			h: 107
		},
		"normal-hair-female-3-7": {
			type: "spritesheet",
			base: h,
			url: "3-7.png",
			x: 54,
			y: 77,
			w: 134,
			h: 107
		},
		"normal-hair-female-3-8": {
			type: "spritesheet",
			base: h,
			url: "3-8.png",
			x: 54,
			y: 77,
			w: 134,
			h: 107
		},
		"normal-hair-female-3-9": {
			type: "spritesheet",
			base: h,
			url: "3-9.png",
			x: 54,
			y: 77,
			w: 134,
			h: 107
		},
		"normal-hair-female-4-1": {
			type: "spritesheet",
			base: h,
			url: "4-1.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-4-10": {
			type: "spritesheet",
			base: h,
			url: "4-10.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-4-11": {
			type: "spritesheet",
			base: h,
			url: "4-11.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-4-12": {
			type: "spritesheet",
			base: h,
			url: "4-12.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-4-13": {
			type: "spritesheet",
			base: h,
			url: "4-13.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-4-14": {
			type: "spritesheet",
			base: h,
			url: "4-14.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-4-15": {
			type: "spritesheet",
			base: h,
			url: "4-15.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-4-16": {
			type: "spritesheet",
			base: h,
			url: "4-16.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-4-2": {
			type: "spritesheet",
			base: h,
			url: "4-2.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-4-3": {
			type: "spritesheet",
			base: h,
			url: "4-3.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-4-4": {
			type: "spritesheet",
			base: h,
			url: "4-4.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-4-5": {
			type: "spritesheet",
			base: h,
			url: "4-5.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-4-6": {
			type: "spritesheet",
			base: h,
			url: "4-6.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-4-7": {
			type: "spritesheet",
			base: h,
			url: "4-7.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-4-8": {
			type: "spritesheet",
			base: h,
			url: "4-8.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-4-9": {
			type: "spritesheet",
			base: h,
			url: "4-9.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-5-1": {
			type: "spritesheet",
			base: h,
			url: "5-1.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-5-10": {
			type: "spritesheet",
			base: h,
			url: "5-10.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-5-11": {
			type: "spritesheet",
			base: h,
			url: "5-11.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-5-12": {
			type: "spritesheet",
			base: h,
			url: "5-12.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-5-13": {
			type: "spritesheet",
			base: h,
			url: "5-13.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-5-14": {
			type: "spritesheet",
			base: h,
			url: "5-14.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-5-15": {
			type: "spritesheet",
			base: h,
			url: "5-15.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-5-16": {
			type: "spritesheet",
			base: h,
			url: "5-16.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-5-2": {
			type: "spritesheet",
			base: h,
			url: "5-2.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-5-3": {
			type: "spritesheet",
			base: h,
			url: "5-3.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-5-4": {
			type: "spritesheet",
			base: h,
			url: "5-4.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-5-5": {
			type: "spritesheet",
			base: h,
			url: "5-5.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-5-6": {
			type: "spritesheet",
			base: h,
			url: "5-6.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-5-7": {
			type: "spritesheet",
			base: h,
			url: "5-7.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-5-8": {
			type: "spritesheet",
			base: h,
			url: "5-8.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-5-9": {
			type: "spritesheet",
			base: h,
			url: "5-9.png",
			x: 54,
			y: 77,
			w: 119,
			h: 107
		},
		"normal-hair-female-6-1": {
			type: "spritesheet",
			base: h,
			url: "6-1.png",
			x: 48,
			y: 77,
			w: 140,
			h: 110
		},
		"normal-hair-female-6-10": {
			type: "spritesheet",
			base: h,
			url: "6-10.png",
			x: 48,
			y: 77,
			w: 140,
			h: 110
		},
		"normal-hair-female-6-11": {
			type: "spritesheet",
			base: h,
			url: "6-11.png",
			x: 48,
			y: 77,
			w: 140,
			h: 110
		},
		"normal-hair-female-6-12": {
			type: "spritesheet",
			base: h,
			url: "6-12.png",
			x: 48,
			y: 77,
			w: 140,
			h: 110
		},
		"normal-hair-female-6-13": {
			type: "spritesheet",
			base: h,
			url: "6-13.png",
			x: 48,
			y: 77,
			w: 140,
			h: 110
		},
		"normal-hair-female-6-14": {
			type: "spritesheet",
			base: h,
			url: "6-14.png",
			x: 48,
			y: 77,
			w: 140,
			h: 110
		},
		"normal-hair-female-6-15": {
			type: "spritesheet",
			base: h,
			url: "6-15.png",
			x: 48,
			y: 77,
			w: 140,
			h: 110
		},
		"normal-hair-female-6-16": {
			type: "spritesheet",
			base: h,
			url: "6-16.png",
			x: 48,
			y: 77,
			w: 140,
			h: 110
		},
		"normal-hair-female-6-2": {
			type: "spritesheet",
			base: h,
			url: "6-2.png",
			x: 48,
			y: 77,
			w: 140,
			h: 110
		},
		"normal-hair-female-6-3": {
			type: "spritesheet",
			base: h,
			url: "6-3.png",
			x: 48,
			y: 77,
			w: 140,
			h: 110
		},
		"normal-hair-female-6-4": {
			type: "spritesheet",
			base: h,
			url: "6-4.png",
			x: 48,
			y: 77,
			w: 140,
			h: 110
		},
		"normal-hair-female-6-5": {
			type: "spritesheet",
			base: h,
			url: "6-5.png",
			x: 48,
			y: 77,
			w: 140,
			h: 110
		},
		"normal-hair-female-6-6": {
			type: "spritesheet",
			base: h,
			url: "6-6.png",
			x: 48,
			y: 77,
			w: 140,
			h: 110
		},
		"normal-hair-female-6-7": {
			type: "spritesheet",
			base: h,
			url: "6-7.png",
			x: 48,
			y: 77,
			w: 140,
			h: 110
		},
		"normal-hair-female-6-8": {
			type: "spritesheet",
			base: h,
			url: "6-8.png",
			x: 48,
			y: 77,
			w: 140,
			h: 110
		},
		"normal-hair-female-6-9": {
			type: "spritesheet",
			base: h,
			url: "6-9.png",
			x: 48,
			y: 77,
			w: 140,
			h: 110
		},
		"normal-hair-female-7-1": {
			type: "spritesheet",
			base: h,
			url: "7-1.png",
			x: 75,
			y: 74,
			w: 98,
			h: 93
		},
		"normal-hair-female-7-10": {
			type: "spritesheet",
			base: h,
			url: "7-10.png",
			x: 75,
			y: 74,
			w: 98,
			h: 93
		},
		"normal-hair-female-7-11": {
			type: "spritesheet",
			base: h,
			url: "7-11.png",
			x: 75,
			y: 74,
			w: 98,
			h: 93
		},
		"normal-hair-female-7-12": {
			type: "spritesheet",
			base: h,
			url: "7-12.png",
			x: 75,
			y: 74,
			w: 98,
			h: 93
		},
		"normal-hair-female-7-13": {
			type: "spritesheet",
			base: h,
			url: "7-13.png",
			x: 75,
			y: 74,
			w: 98,
			h: 93
		},
		"normal-hair-female-7-14": {
			type: "spritesheet",
			base: h,
			url: "7-14.png",
			x: 75,
			y: 74,
			w: 98,
			h: 93
		},
		"normal-hair-female-7-15": {
			type: "spritesheet",
			base: h,
			url: "7-15.png",
			x: 75,
			y: 74,
			w: 98,
			h: 93
		},
		"normal-hair-female-7-16": {
			type: "spritesheet",
			base: h,
			url: "7-16.png",
			x: 75,
			y: 74,
			w: 98,
			h: 93
		},
		"normal-hair-female-7-2": {
			type: "spritesheet",
			base: h,
			url: "7-2.png",
			x: 75,
			y: 74,
			w: 98,
			h: 93
		},
		"normal-hair-female-7-3": {
			type: "spritesheet",
			base: h,
			url: "7-3.png",
			x: 75,
			y: 74,
			w: 98,
			h: 93
		},
		"normal-hair-female-7-4": {
			type: "spritesheet",
			base: h,
			url: "7-4.png",
			x: 75,
			y: 74,
			w: 98,
			h: 93
		},
		"normal-hair-female-7-5": {
			type: "spritesheet",
			base: h,
			url: "7-5.png",
			x: 75,
			y: 74,
			w: 98,
			h: 93
		},
		"normal-hair-female-7-6": {
			type: "spritesheet",
			base: h,
			url: "7-6.png",
			x: 75,
			y: 74,
			w: 98,
			h: 93
		},
		"normal-hair-female-7-7": {
			type: "spritesheet",
			base: h,
			url: "7-7.png",
			x: 75,
			y: 74,
			w: 98,
			h: 93
		},
		"normal-hair-female-7-8": {
			type: "spritesheet",
			base: h,
			url: "7-8.png",
			x: 75,
			y: 74,
			w: 98,
			h: 93
		},
		"normal-hair-female-7-9": {
			type: "spritesheet",
			base: h,
			url: "7-9.png",
			x: 75,
			y: 74,
			w: 98,
			h: 93
		},
		"normal-hair-female-8-1": {
			type: "spritesheet",
			base: h,
			url: "8-1.png",
			x: 73,
			y: 75,
			w: 101,
			h: 90
		},
		"normal-hair-female-8-10": {
			type: "spritesheet",
			base: h,
			url: "8-10.png",
			x: 73,
			y: 75,
			w: 101,
			h: 90
		},
		"normal-hair-female-8-11": {
			type: "spritesheet",
			base: h,
			url: "8-11.png",
			x: 73,
			y: 75,
			w: 101,
			h: 90
		},
		"normal-hair-female-8-12": {
			type: "spritesheet",
			base: h,
			url: "8-12.png",
			x: 73,
			y: 75,
			w: 101,
			h: 90
		},
		"normal-hair-female-8-13": {
			type: "spritesheet",
			base: h,
			url: "8-13.png",
			x: 73,
			y: 75,
			w: 101,
			h: 90
		},
		"normal-hair-female-8-14": {
			type: "spritesheet",
			base: h,
			url: "8-14.png",
			x: 73,
			y: 75,
			w: 101,
			h: 90
		},
		"normal-hair-female-8-15": {
			type: "spritesheet",
			base: h,
			url: "8-15.png",
			x: 73,
			y: 75,
			w: 101,
			h: 90
		},
		"normal-hair-female-8-16": {
			type: "spritesheet",
			base: h,
			url: "8-16.png",
			x: 73,
			y: 75,
			w: 101,
			h: 90
		},
		"normal-hair-female-8-2": {
			type: "spritesheet",
			base: h,
			url: "8-2.png",
			x: 73,
			y: 75,
			w: 101,
			h: 90
		},
		"normal-hair-female-8-3": {
			type: "spritesheet",
			base: h,
			url: "8-3.png",
			x: 73,
			y: 75,
			w: 101,
			h: 90
		},
		"normal-hair-female-8-4": {
			type: "spritesheet",
			base: h,
			url: "8-4.png",
			x: 73,
			y: 75,
			w: 101,
			h: 90
		},
		"normal-hair-female-8-5": {
			type: "spritesheet",
			base: h,
			url: "8-5.png",
			x: 73,
			y: 75,
			w: 101,
			h: 90
		},
		"normal-hair-female-8-6": {
			type: "spritesheet",
			base: h,
			url: "8-6.png",
			x: 73,
			y: 75,
			w: 101,
			h: 90
		},
		"normal-hair-female-8-7": {
			type: "spritesheet",
			base: h,
			url: "8-7.png",
			x: 73,
			y: 75,
			w: 101,
			h: 90
		},
		"normal-hair-female-8-8": {
			type: "spritesheet",
			base: h,
			url: "8-8.png",
			x: 73,
			y: 75,
			w: 101,
			h: 90
		},
		"normal-hair-female-8-9": {
			type: "spritesheet",
			base: h,
			url: "8-9.png",
			x: 73,
			y: 75,
			w: 101,
			h: 90
		},
		"normal-hair-female-9-1": {
			type: "spritesheet",
			base: h,
			url: "9-1.png",
			x: 75,
			y: 77,
			w: 113,
			h: 88
		},
		"normal-hair-female-9-10": {
			type: "spritesheet",
			base: h,
			url: "9-10.png",
			x: 75,
			y: 77,
			w: 113,
			h: 88
		},
		"normal-hair-female-9-11": {
			type: "spritesheet",
			base: h,
			url: "9-11.png",
			x: 75,
			y: 77,
			w: 113,
			h: 88
		},
		"normal-hair-female-9-12": {
			type: "spritesheet",
			base: h,
			url: "9-12.png",
			x: 75,
			y: 77,
			w: 113,
			h: 88
		},
		"normal-hair-female-9-13": {
			type: "spritesheet",
			base: h,
			url: "9-13.png",
			x: 75,
			y: 77,
			w: 113,
			h: 88
		},
		"normal-hair-female-9-14": {
			type: "spritesheet",
			base: h,
			url: "9-14.png",
			x: 75,
			y: 77,
			w: 113,
			h: 88
		},
		"normal-hair-female-9-15": {
			type: "spritesheet",
			base: h,
			url: "9-15.png",
			x: 75,
			y: 77,
			w: 113,
			h: 88
		},
		"normal-hair-female-9-16": {
			type: "spritesheet",
			base: h,
			url: "9-16.png",
			x: 75,
			y: 77,
			w: 113,
			h: 88
		},
		"normal-hair-female-9-2": {
			type: "spritesheet",
			base: h,
			url: "9-2.png",
			x: 75,
			y: 77,
			w: 113,
			h: 88
		},
		"normal-hair-female-9-3": {
			type: "spritesheet",
			base: h,
			url: "9-3.png",
			x: 75,
			y: 77,
			w: 113,
			h: 88
		},
		"normal-hair-female-9-4": {
			type: "spritesheet",
			base: h,
			url: "9-4.png",
			x: 75,
			y: 77,
			w: 113,
			h: 88
		},
		"normal-hair-female-9-5": {
			type: "spritesheet",
			base: h,
			url: "9-5.png",
			x: 75,
			y: 77,
			w: 113,
			h: 88
		},
		"normal-hair-female-9-6": {
			type: "spritesheet",
			base: h,
			url: "9-6.png",
			x: 75,
			y: 77,
			w: 113,
			h: 88
		},
		"normal-hair-female-9-7": {
			type: "spritesheet",
			base: h,
			url: "9-7.png",
			x: 75,
			y: 77,
			w: 113,
			h: 88
		},
		"normal-hair-female-9-8": {
			type: "spritesheet",
			base: h,
			url: "9-8.png",
			x: 75,
			y: 77,
			w: 113,
			h: 88
		},
		"normal-hair-female-9-9": {
			type: "spritesheet",
			base: h,
			url: "9-9.png",
			x: 75,
			y: 77,
			w: 113,
			h: 88
		},
		"reduced-hair-female-1-1": {
			type: "spritesheet",
			base: a,
			url: "1-1.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-1-10": {
			type: "spritesheet",
			base: a,
			url: "1-10.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-1-11": {
			type: "spritesheet",
			base: a,
			url: "1-11.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-1-12": {
			type: "spritesheet",
			base: a,
			url: "1-12.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-1-13": {
			type: "spritesheet",
			base: a,
			url: "1-13.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-1-14": {
			type: "spritesheet",
			base: a,
			url: "1-14.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-1-15": {
			type: "spritesheet",
			base: a,
			url: "1-15.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-1-16": {
			type: "spritesheet",
			base: a,
			url: "1-16.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-1-2": {
			type: "spritesheet",
			base: a,
			url: "1-2.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-1-3": {
			type: "spritesheet",
			base: a,
			url: "1-3.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-1-4": {
			type: "spritesheet",
			base: a,
			url: "1-4.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-1-5": {
			type: "spritesheet",
			base: a,
			url: "1-5.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-1-6": {
			type: "spritesheet",
			base: a,
			url: "1-6.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-1-7": {
			type: "spritesheet",
			base: a,
			url: "1-7.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-1-8": {
			type: "spritesheet",
			base: a,
			url: "1-8.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-1-9": {
			type: "spritesheet",
			base: a,
			url: "1-9.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-10-1": {
			type: "spritesheet",
			base: a,
			url: "10-1.png",
			x: 33,
			y: 46,
			w: 53,
			h: 50
		},
		"reduced-hair-female-10-10": {
			type: "spritesheet",
			base: a,
			url: "10-10.png",
			x: 33,
			y: 46,
			w: 53,
			h: 50
		},
		"reduced-hair-female-10-11": {
			type: "spritesheet",
			base: a,
			url: "10-11.png",
			x: 33,
			y: 46,
			w: 53,
			h: 50
		},
		"reduced-hair-female-10-12": {
			type: "spritesheet",
			base: a,
			url: "10-12.png",
			x: 33,
			y: 46,
			w: 53,
			h: 50
		},
		"reduced-hair-female-10-13": {
			type: "spritesheet",
			base: a,
			url: "10-13.png",
			x: 33,
			y: 46,
			w: 53,
			h: 50
		},
		"reduced-hair-female-10-14": {
			type: "spritesheet",
			base: a,
			url: "10-14.png",
			x: 33,
			y: 46,
			w: 53,
			h: 50
		},
		"reduced-hair-female-10-15": {
			type: "spritesheet",
			base: a,
			url: "10-15.png",
			x: 33,
			y: 46,
			w: 53,
			h: 50
		},
		"reduced-hair-female-10-16": {
			type: "spritesheet",
			base: a,
			url: "10-16.png",
			x: 33,
			y: 46,
			w: 53,
			h: 50
		},
		"reduced-hair-female-10-2": {
			type: "spritesheet",
			base: a,
			url: "10-2.png",
			x: 33,
			y: 46,
			w: 53,
			h: 50
		},
		"reduced-hair-female-10-3": {
			type: "spritesheet",
			base: a,
			url: "10-3.png",
			x: 33,
			y: 46,
			w: 53,
			h: 50
		},
		"reduced-hair-female-10-4": {
			type: "spritesheet",
			base: a,
			url: "10-4.png",
			x: 33,
			y: 46,
			w: 53,
			h: 50
		},
		"reduced-hair-female-10-5": {
			type: "spritesheet",
			base: a,
			url: "10-5.png",
			x: 33,
			y: 46,
			w: 53,
			h: 50
		},
		"reduced-hair-female-10-6": {
			type: "spritesheet",
			base: a,
			url: "10-6.png",
			x: 33,
			y: 46,
			w: 53,
			h: 50
		},
		"reduced-hair-female-10-7": {
			type: "spritesheet",
			base: a,
			url: "10-7.png",
			x: 33,
			y: 46,
			w: 53,
			h: 50
		},
		"reduced-hair-female-10-8": {
			type: "spritesheet",
			base: a,
			url: "10-8.png",
			x: 33,
			y: 46,
			w: 53,
			h: 50
		},
		"reduced-hair-female-10-9": {
			type: "spritesheet",
			base: a,
			url: "10-9.png",
			x: 33,
			y: 46,
			w: 53,
			h: 50
		},
		"reduced-hair-female-11-1": {
			type: "spritesheet",
			base: a,
			url: "11-1.png",
			x: 33,
			y: 46,
			w: 52,
			h: 50
		},
		"reduced-hair-female-11-10": {
			type: "spritesheet",
			base: a,
			url: "11-10.png",
			x: 33,
			y: 46,
			w: 52,
			h: 50
		},
		"reduced-hair-female-11-11": {
			type: "spritesheet",
			base: a,
			url: "11-11.png",
			x: 33,
			y: 46,
			w: 52,
			h: 50
		},
		"reduced-hair-female-11-12": {
			type: "spritesheet",
			base: a,
			url: "11-12.png",
			x: 33,
			y: 46,
			w: 52,
			h: 50
		},
		"reduced-hair-female-11-13": {
			type: "spritesheet",
			base: a,
			url: "11-13.png",
			x: 33,
			y: 46,
			w: 52,
			h: 50
		},
		"reduced-hair-female-11-14": {
			type: "spritesheet",
			base: a,
			url: "11-14.png",
			x: 33,
			y: 46,
			w: 52,
			h: 50
		},
		"reduced-hair-female-11-15": {
			type: "spritesheet",
			base: a,
			url: "11-15.png",
			x: 33,
			y: 46,
			w: 52,
			h: 50
		},
		"reduced-hair-female-11-16": {
			type: "spritesheet",
			base: a,
			url: "11-16.png",
			x: 33,
			y: 46,
			w: 52,
			h: 50
		},
		"reduced-hair-female-11-2": {
			type: "spritesheet",
			base: a,
			url: "11-2.png",
			x: 33,
			y: 46,
			w: 52,
			h: 50
		},
		"reduced-hair-female-11-3": {
			type: "spritesheet",
			base: a,
			url: "11-3.png",
			x: 33,
			y: 46,
			w: 52,
			h: 50
		},
		"reduced-hair-female-11-4": {
			type: "spritesheet",
			base: a,
			url: "11-4.png",
			x: 33,
			y: 46,
			w: 52,
			h: 50
		},
		"reduced-hair-female-11-5": {
			type: "spritesheet",
			base: a,
			url: "11-5.png",
			x: 33,
			y: 46,
			w: 52,
			h: 50
		},
		"reduced-hair-female-11-6": {
			type: "spritesheet",
			base: a,
			url: "11-6.png",
			x: 33,
			y: 46,
			w: 52,
			h: 50
		},
		"reduced-hair-female-11-7": {
			type: "spritesheet",
			base: a,
			url: "11-7.png",
			x: 33,
			y: 46,
			w: 52,
			h: 50
		},
		"reduced-hair-female-11-8": {
			type: "spritesheet",
			base: a,
			url: "11-8.png",
			x: 33,
			y: 46,
			w: 52,
			h: 50
		},
		"reduced-hair-female-11-9": {
			type: "spritesheet",
			base: a,
			url: "11-9.png",
			x: 33,
			y: 46,
			w: 52,
			h: 50
		},
		"reduced-hair-female-12-1": {
			type: "spritesheet",
			base: a,
			url: "12-1.png",
			x: 33,
			y: 44,
			w: 52,
			h: 52
		},
		"reduced-hair-female-12-10": {
			type: "spritesheet",
			base: a,
			url: "12-10.png",
			x: 33,
			y: 44,
			w: 52,
			h: 52
		},
		"reduced-hair-female-12-11": {
			type: "spritesheet",
			base: a,
			url: "12-11.png",
			x: 33,
			y: 44,
			w: 52,
			h: 52
		},
		"reduced-hair-female-12-12": {
			type: "spritesheet",
			base: a,
			url: "12-12.png",
			x: 33,
			y: 44,
			w: 52,
			h: 52
		},
		"reduced-hair-female-12-13": {
			type: "spritesheet",
			base: a,
			url: "12-13.png",
			x: 33,
			y: 44,
			w: 52,
			h: 52
		},
		"reduced-hair-female-12-14": {
			type: "spritesheet",
			base: a,
			url: "12-14.png",
			x: 33,
			y: 44,
			w: 52,
			h: 52
		},
		"reduced-hair-female-12-15": {
			type: "spritesheet",
			base: a,
			url: "12-15.png",
			x: 33,
			y: 44,
			w: 52,
			h: 52
		},
		"reduced-hair-female-12-16": {
			type: "spritesheet",
			base: a,
			url: "12-16.png",
			x: 33,
			y: 44,
			w: 52,
			h: 52
		},
		"reduced-hair-female-12-2": {
			type: "spritesheet",
			base: a,
			url: "12-2.png",
			x: 33,
			y: 44,
			w: 52,
			h: 52
		},
		"reduced-hair-female-12-3": {
			type: "spritesheet",
			base: a,
			url: "12-3.png",
			x: 33,
			y: 44,
			w: 52,
			h: 52
		},
		"reduced-hair-female-12-4": {
			type: "spritesheet",
			base: a,
			url: "12-4.png",
			x: 33,
			y: 44,
			w: 52,
			h: 52
		},
		"reduced-hair-female-12-5": {
			type: "spritesheet",
			base: a,
			url: "12-5.png",
			x: 33,
			y: 44,
			w: 52,
			h: 52
		},
		"reduced-hair-female-12-6": {
			type: "spritesheet",
			base: a,
			url: "12-6.png",
			x: 33,
			y: 44,
			w: 52,
			h: 52
		},
		"reduced-hair-female-12-7": {
			type: "spritesheet",
			base: a,
			url: "12-7.png",
			x: 33,
			y: 44,
			w: 52,
			h: 52
		},
		"reduced-hair-female-12-8": {
			type: "spritesheet",
			base: a,
			url: "12-8.png",
			x: 33,
			y: 44,
			w: 52,
			h: 52
		},
		"reduced-hair-female-12-9": {
			type: "spritesheet",
			base: a,
			url: "12-9.png",
			x: 33,
			y: 44,
			w: 52,
			h: 52
		},
		"reduced-hair-female-13-1": {
			type: "spritesheet",
			base: a,
			url: "13-1.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-13-10": {
			type: "spritesheet",
			base: a,
			url: "13-10.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-13-11": {
			type: "spritesheet",
			base: a,
			url: "13-11.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-13-12": {
			type: "spritesheet",
			base: a,
			url: "13-12.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-13-13": {
			type: "spritesheet",
			base: a,
			url: "13-13.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-13-14": {
			type: "spritesheet",
			base: a,
			url: "13-14.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-13-15": {
			type: "spritesheet",
			base: a,
			url: "13-15.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-13-16": {
			type: "spritesheet",
			base: a,
			url: "13-16.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-13-2": {
			type: "spritesheet",
			base: a,
			url: "13-2.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-13-3": {
			type: "spritesheet",
			base: a,
			url: "13-3.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-13-4": {
			type: "spritesheet",
			base: a,
			url: "13-4.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-13-5": {
			type: "spritesheet",
			base: a,
			url: "13-5.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-13-6": {
			type: "spritesheet",
			base: a,
			url: "13-6.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-13-7": {
			type: "spritesheet",
			base: a,
			url: "13-7.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-13-8": {
			type: "spritesheet",
			base: a,
			url: "13-8.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-13-9": {
			type: "spritesheet",
			base: a,
			url: "13-9.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-14-1": {
			type: "spritesheet",
			base: a,
			url: "14-1.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-14-10": {
			type: "spritesheet",
			base: a,
			url: "14-10.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-14-11": {
			type: "spritesheet",
			base: a,
			url: "14-11.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-14-12": {
			type: "spritesheet",
			base: a,
			url: "14-12.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-14-13": {
			type: "spritesheet",
			base: a,
			url: "14-13.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-14-14": {
			type: "spritesheet",
			base: a,
			url: "14-14.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-14-15": {
			type: "spritesheet",
			base: a,
			url: "14-15.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-14-16": {
			type: "spritesheet",
			base: a,
			url: "14-16.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-14-2": {
			type: "spritesheet",
			base: a,
			url: "14-2.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-14-3": {
			type: "spritesheet",
			base: a,
			url: "14-3.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-14-4": {
			type: "spritesheet",
			base: a,
			url: "14-4.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-14-5": {
			type: "spritesheet",
			base: a,
			url: "14-5.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-14-6": {
			type: "spritesheet",
			base: a,
			url: "14-6.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-14-7": {
			type: "spritesheet",
			base: a,
			url: "14-7.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-14-8": {
			type: "spritesheet",
			base: a,
			url: "14-8.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-14-9": {
			type: "spritesheet",
			base: a,
			url: "14-9.png",
			x: 22,
			y: 46,
			w: 63,
			h: 55
		},
		"reduced-hair-female-15-1": {
			type: "spritesheet",
			base: a,
			url: "15-1.png",
			x: 22,
			y: 46,
			w: 64,
			h: 55
		},
		"reduced-hair-female-15-10": {
			type: "spritesheet",
			base: a,
			url: "15-10.png",
			x: 22,
			y: 46,
			w: 64,
			h: 55
		},
		"reduced-hair-female-15-11": {
			type: "spritesheet",
			base: a,
			url: "15-11.png",
			x: 22,
			y: 46,
			w: 64,
			h: 55
		},
		"reduced-hair-female-15-12": {
			type: "spritesheet",
			base: a,
			url: "15-12.png",
			x: 22,
			y: 46,
			w: 64,
			h: 55
		},
		"reduced-hair-female-15-13": {
			type: "spritesheet",
			base: a,
			url: "15-13.png",
			x: 22,
			y: 46,
			w: 64,
			h: 55
		},
		"reduced-hair-female-15-14": {
			type: "spritesheet",
			base: a,
			url: "15-14.png",
			x: 22,
			y: 46,
			w: 64,
			h: 55
		},
		"reduced-hair-female-15-15": {
			type: "spritesheet",
			base: a,
			url: "15-15.png",
			x: 22,
			y: 46,
			w: 64,
			h: 55
		},
		"reduced-hair-female-15-16": {
			type: "spritesheet",
			base: a,
			url: "15-16.png",
			x: 22,
			y: 46,
			w: 64,
			h: 55
		},
		"reduced-hair-female-15-2": {
			type: "spritesheet",
			base: a,
			url: "15-2.png",
			x: 22,
			y: 46,
			w: 64,
			h: 55
		},
		"reduced-hair-female-15-3": {
			type: "spritesheet",
			base: a,
			url: "15-3.png",
			x: 22,
			y: 46,
			w: 64,
			h: 55
		},
		"reduced-hair-female-15-4": {
			type: "spritesheet",
			base: a,
			url: "15-4.png",
			x: 22,
			y: 46,
			w: 64,
			h: 55
		},
		"reduced-hair-female-15-5": {
			type: "spritesheet",
			base: a,
			url: "15-5.png",
			x: 22,
			y: 46,
			w: 64,
			h: 55
		},
		"reduced-hair-female-15-6": {
			type: "spritesheet",
			base: a,
			url: "15-6.png",
			x: 22,
			y: 46,
			w: 64,
			h: 55
		},
		"reduced-hair-female-15-7": {
			type: "spritesheet",
			base: a,
			url: "15-7.png",
			x: 22,
			y: 46,
			w: 64,
			h: 55
		},
		"reduced-hair-female-15-8": {
			type: "spritesheet",
			base: a,
			url: "15-8.png",
			x: 22,
			y: 46,
			w: 64,
			h: 55
		},
		"reduced-hair-female-15-9": {
			type: "spritesheet",
			base: a,
			url: "15-9.png",
			x: 22,
			y: 46,
			w: 64,
			h: 55
		},
		"reduced-hair-female-2-1": {
			type: "spritesheet",
			base: a,
			url: "2-1.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-2-10": {
			type: "spritesheet",
			base: a,
			url: "2-10.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-2-11": {
			type: "spritesheet",
			base: a,
			url: "2-11.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-2-12": {
			type: "spritesheet",
			base: a,
			url: "2-12.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-2-13": {
			type: "spritesheet",
			base: a,
			url: "2-13.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-2-14": {
			type: "spritesheet",
			base: a,
			url: "2-14.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-2-15": {
			type: "spritesheet",
			base: a,
			url: "2-15.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-2-16": {
			type: "spritesheet",
			base: a,
			url: "2-16.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-2-2": {
			type: "spritesheet",
			base: a,
			url: "2-2.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-2-3": {
			type: "spritesheet",
			base: a,
			url: "2-3.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-2-4": {
			type: "spritesheet",
			base: a,
			url: "2-4.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-2-5": {
			type: "spritesheet",
			base: a,
			url: "2-5.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-2-6": {
			type: "spritesheet",
			base: a,
			url: "2-6.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-2-7": {
			type: "spritesheet",
			base: a,
			url: "2-7.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-2-8": {
			type: "spritesheet",
			base: a,
			url: "2-8.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-2-9": {
			type: "spritesheet",
			base: a,
			url: "2-9.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-3-1": {
			type: "spritesheet",
			base: a,
			url: "3-1.png",
			x: 25,
			y: 46,
			w: 70,
			h: 54
		},
		"reduced-hair-female-3-10": {
			type: "spritesheet",
			base: a,
			url: "3-10.png",
			x: 25,
			y: 46,
			w: 70,
			h: 54
		},
		"reduced-hair-female-3-11": {
			type: "spritesheet",
			base: a,
			url: "3-11.png",
			x: 25,
			y: 46,
			w: 70,
			h: 54
		},
		"reduced-hair-female-3-12": {
			type: "spritesheet",
			base: a,
			url: "3-12.png",
			x: 25,
			y: 46,
			w: 70,
			h: 54
		},
		"reduced-hair-female-3-13": {
			type: "spritesheet",
			base: a,
			url: "3-13.png",
			x: 25,
			y: 46,
			w: 70,
			h: 54
		},
		"reduced-hair-female-3-14": {
			type: "spritesheet",
			base: a,
			url: "3-14.png",
			x: 25,
			y: 46,
			w: 70,
			h: 54
		},
		"reduced-hair-female-3-15": {
			type: "spritesheet",
			base: a,
			url: "3-15.png",
			x: 25,
			y: 46,
			w: 70,
			h: 54
		},
		"reduced-hair-female-3-16": {
			type: "spritesheet",
			base: a,
			url: "3-16.png",
			x: 25,
			y: 46,
			w: 70,
			h: 54
		},
		"reduced-hair-female-3-2": {
			type: "spritesheet",
			base: a,
			url: "3-2.png",
			x: 25,
			y: 46,
			w: 70,
			h: 54
		},
		"reduced-hair-female-3-3": {
			type: "spritesheet",
			base: a,
			url: "3-3.png",
			x: 25,
			y: 46,
			w: 70,
			h: 54
		},
		"reduced-hair-female-3-4": {
			type: "spritesheet",
			base: a,
			url: "3-4.png",
			x: 25,
			y: 46,
			w: 70,
			h: 54
		},
		"reduced-hair-female-3-5": {
			type: "spritesheet",
			base: a,
			url: "3-5.png",
			x: 25,
			y: 46,
			w: 70,
			h: 54
		},
		"reduced-hair-female-3-6": {
			type: "spritesheet",
			base: a,
			url: "3-6.png",
			x: 25,
			y: 46,
			w: 70,
			h: 54
		},
		"reduced-hair-female-3-7": {
			type: "spritesheet",
			base: a,
			url: "3-7.png",
			x: 25,
			y: 46,
			w: 70,
			h: 54
		},
		"reduced-hair-female-3-8": {
			type: "spritesheet",
			base: a,
			url: "3-8.png",
			x: 25,
			y: 46,
			w: 70,
			h: 54
		},
		"reduced-hair-female-3-9": {
			type: "spritesheet",
			base: a,
			url: "3-9.png",
			x: 25,
			y: 46,
			w: 70,
			h: 54
		},
		"reduced-hair-female-4-1": {
			type: "spritesheet",
			base: a,
			url: "4-1.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-4-10": {
			type: "spritesheet",
			base: a,
			url: "4-10.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-4-11": {
			type: "spritesheet",
			base: a,
			url: "4-11.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-4-12": {
			type: "spritesheet",
			base: a,
			url: "4-12.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-4-13": {
			type: "spritesheet",
			base: a,
			url: "4-13.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-4-14": {
			type: "spritesheet",
			base: a,
			url: "4-14.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-4-15": {
			type: "spritesheet",
			base: a,
			url: "4-15.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-4-16": {
			type: "spritesheet",
			base: a,
			url: "4-16.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-4-2": {
			type: "spritesheet",
			base: a,
			url: "4-2.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-4-3": {
			type: "spritesheet",
			base: a,
			url: "4-3.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-4-4": {
			type: "spritesheet",
			base: a,
			url: "4-4.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-4-5": {
			type: "spritesheet",
			base: a,
			url: "4-5.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-4-6": {
			type: "spritesheet",
			base: a,
			url: "4-6.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-4-7": {
			type: "spritesheet",
			base: a,
			url: "4-7.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-4-8": {
			type: "spritesheet",
			base: a,
			url: "4-8.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-4-9": {
			type: "spritesheet",
			base: a,
			url: "4-9.png",
			x: 25,
			y: 46,
			w: 61,
			h: 54
		},
		"reduced-hair-female-5-1": {
			type: "spritesheet",
			base: a,
			url: "5-1.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-5-10": {
			type: "spritesheet",
			base: a,
			url: "5-10.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-5-11": {
			type: "spritesheet",
			base: a,
			url: "5-11.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-5-12": {
			type: "spritesheet",
			base: a,
			url: "5-12.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-5-13": {
			type: "spritesheet",
			base: a,
			url: "5-13.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-5-14": {
			type: "spritesheet",
			base: a,
			url: "5-14.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-5-15": {
			type: "spritesheet",
			base: a,
			url: "5-15.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-5-16": {
			type: "spritesheet",
			base: a,
			url: "5-16.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-5-2": {
			type: "spritesheet",
			base: a,
			url: "5-2.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-5-3": {
			type: "spritesheet",
			base: a,
			url: "5-3.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-5-4": {
			type: "spritesheet",
			base: a,
			url: "5-4.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-5-5": {
			type: "spritesheet",
			base: a,
			url: "5-5.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-5-6": {
			type: "spritesheet",
			base: a,
			url: "5-6.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-5-7": {
			type: "spritesheet",
			base: a,
			url: "5-7.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-5-8": {
			type: "spritesheet",
			base: a,
			url: "5-8.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-5-9": {
			type: "spritesheet",
			base: a,
			url: "5-9.png",
			x: 25,
			y: 46,
			w: 60,
			h: 54
		},
		"reduced-hair-female-6-1": {
			type: "spritesheet",
			base: a,
			url: "6-1.png",
			x: 22,
			y: 46,
			w: 73,
			h: 55
		},
		"reduced-hair-female-6-10": {
			type: "spritesheet",
			base: a,
			url: "6-10.png",
			x: 22,
			y: 46,
			w: 73,
			h: 55
		},
		"reduced-hair-female-6-11": {
			type: "spritesheet",
			base: a,
			url: "6-11.png",
			x: 22,
			y: 46,
			w: 73,
			h: 55
		},
		"reduced-hair-female-6-12": {
			type: "spritesheet",
			base: a,
			url: "6-12.png",
			x: 22,
			y: 46,
			w: 73,
			h: 55
		},
		"reduced-hair-female-6-13": {
			type: "spritesheet",
			base: a,
			url: "6-13.png",
			x: 22,
			y: 46,
			w: 73,
			h: 55
		},
		"reduced-hair-female-6-14": {
			type: "spritesheet",
			base: a,
			url: "6-14.png",
			x: 22,
			y: 46,
			w: 73,
			h: 55
		},
		"reduced-hair-female-6-15": {
			type: "spritesheet",
			base: a,
			url: "6-15.png",
			x: 22,
			y: 46,
			w: 73,
			h: 55
		},
		"reduced-hair-female-6-16": {
			type: "spritesheet",
			base: a,
			url: "6-16.png",
			x: 22,
			y: 46,
			w: 73,
			h: 55
		},
		"reduced-hair-female-6-2": {
			type: "spritesheet",
			base: a,
			url: "6-2.png",
			x: 22,
			y: 46,
			w: 73,
			h: 55
		},
		"reduced-hair-female-6-3": {
			type: "spritesheet",
			base: a,
			url: "6-3.png",
			x: 22,
			y: 46,
			w: 73,
			h: 55
		},
		"reduced-hair-female-6-4": {
			type: "spritesheet",
			base: a,
			url: "6-4.png",
			x: 22,
			y: 46,
			w: 73,
			h: 55
		},
		"reduced-hair-female-6-5": {
			type: "spritesheet",
			base: a,
			url: "6-5.png",
			x: 22,
			y: 46,
			w: 73,
			h: 55
		},
		"reduced-hair-female-6-6": {
			type: "spritesheet",
			base: a,
			url: "6-6.png",
			x: 22,
			y: 46,
			w: 73,
			h: 55
		},
		"reduced-hair-female-6-7": {
			type: "spritesheet",
			base: a,
			url: "6-7.png",
			x: 22,
			y: 46,
			w: 73,
			h: 55
		},
		"reduced-hair-female-6-8": {
			type: "spritesheet",
			base: a,
			url: "6-8.png",
			x: 22,
			y: 46,
			w: 73,
			h: 55
		},
		"reduced-hair-female-6-9": {
			type: "spritesheet",
			base: a,
			url: "6-9.png",
			x: 22,
			y: 46,
			w: 73,
			h: 55
		},
		"reduced-hair-female-7-1": {
			type: "spritesheet",
			base: a,
			url: "7-1.png",
			x: 36,
			y: 44,
			w: 49,
			h: 47
		},
		"reduced-hair-female-7-10": {
			type: "spritesheet",
			base: a,
			url: "7-10.png",
			x: 36,
			y: 44,
			w: 49,
			h: 47
		},
		"reduced-hair-female-7-11": {
			type: "spritesheet",
			base: a,
			url: "7-11.png",
			x: 36,
			y: 44,
			w: 49,
			h: 47
		},
		"reduced-hair-female-7-12": {
			type: "spritesheet",
			base: a,
			url: "7-12.png",
			x: 36,
			y: 44,
			w: 49,
			h: 47
		},
		"reduced-hair-female-7-13": {
			type: "spritesheet",
			base: a,
			url: "7-13.png",
			x: 36,
			y: 44,
			w: 49,
			h: 47
		},
		"reduced-hair-female-7-14": {
			type: "spritesheet",
			base: a,
			url: "7-14.png",
			x: 36,
			y: 44,
			w: 49,
			h: 47
		},
		"reduced-hair-female-7-15": {
			type: "spritesheet",
			base: a,
			url: "7-15.png",
			x: 36,
			y: 44,
			w: 49,
			h: 47
		},
		"reduced-hair-female-7-16": {
			type: "spritesheet",
			base: a,
			url: "7-16.png",
			x: 36,
			y: 44,
			w: 49,
			h: 47
		},
		"reduced-hair-female-7-2": {
			type: "spritesheet",
			base: a,
			url: "7-2.png",
			x: 36,
			y: 44,
			w: 49,
			h: 47
		},
		"reduced-hair-female-7-3": {
			type: "spritesheet",
			base: a,
			url: "7-3.png",
			x: 36,
			y: 44,
			w: 49,
			h: 47
		},
		"reduced-hair-female-7-4": {
			type: "spritesheet",
			base: a,
			url: "7-4.png",
			x: 36,
			y: 44,
			w: 49,
			h: 47
		},
		"reduced-hair-female-7-5": {
			type: "spritesheet",
			base: a,
			url: "7-5.png",
			x: 36,
			y: 44,
			w: 49,
			h: 47
		},
		"reduced-hair-female-7-6": {
			type: "spritesheet",
			base: a,
			url: "7-6.png",
			x: 36,
			y: 44,
			w: 49,
			h: 47
		},
		"reduced-hair-female-7-7": {
			type: "spritesheet",
			base: a,
			url: "7-7.png",
			x: 36,
			y: 44,
			w: 49,
			h: 47
		},
		"reduced-hair-female-7-8": {
			type: "spritesheet",
			base: a,
			url: "7-8.png",
			x: 36,
			y: 44,
			w: 49,
			h: 47
		},
		"reduced-hair-female-7-9": {
			type: "spritesheet",
			base: a,
			url: "7-9.png",
			x: 36,
			y: 44,
			w: 49,
			h: 47
		},
		"reduced-hair-female-8-1": {
			type: "spritesheet",
			base: a,
			url: "8-1.png",
			x: 34,
			y: 44,
			w: 51,
			h: 45
		},
		"reduced-hair-female-8-10": {
			type: "spritesheet",
			base: a,
			url: "8-10.png",
			x: 34,
			y: 44,
			w: 51,
			h: 45
		},
		"reduced-hair-female-8-11": {
			type: "spritesheet",
			base: a,
			url: "8-11.png",
			x: 34,
			y: 44,
			w: 51,
			h: 45
		},
		"reduced-hair-female-8-12": {
			type: "spritesheet",
			base: a,
			url: "8-12.png",
			x: 34,
			y: 44,
			w: 51,
			h: 45
		},
		"reduced-hair-female-8-13": {
			type: "spritesheet",
			base: a,
			url: "8-13.png",
			x: 34,
			y: 44,
			w: 51,
			h: 45
		},
		"reduced-hair-female-8-14": {
			type: "spritesheet",
			base: a,
			url: "8-14.png",
			x: 34,
			y: 44,
			w: 51,
			h: 45
		},
		"reduced-hair-female-8-15": {
			type: "spritesheet",
			base: a,
			url: "8-15.png",
			x: 34,
			y: 44,
			w: 51,
			h: 45
		},
		"reduced-hair-female-8-16": {
			type: "spritesheet",
			base: a,
			url: "8-16.png",
			x: 34,
			y: 44,
			w: 51,
			h: 45
		},
		"reduced-hair-female-8-2": {
			type: "spritesheet",
			base: a,
			url: "8-2.png",
			x: 34,
			y: 44,
			w: 51,
			h: 45
		},
		"reduced-hair-female-8-3": {
			type: "spritesheet",
			base: a,
			url: "8-3.png",
			x: 34,
			y: 44,
			w: 51,
			h: 45
		},
		"reduced-hair-female-8-4": {
			type: "spritesheet",
			base: a,
			url: "8-4.png",
			x: 34,
			y: 44,
			w: 51,
			h: 45
		},
		"reduced-hair-female-8-5": {
			type: "spritesheet",
			base: a,
			url: "8-5.png",
			x: 34,
			y: 44,
			w: 51,
			h: 45
		},
		"reduced-hair-female-8-6": {
			type: "spritesheet",
			base: a,
			url: "8-6.png",
			x: 34,
			y: 44,
			w: 51,
			h: 45
		},
		"reduced-hair-female-8-7": {
			type: "spritesheet",
			base: a,
			url: "8-7.png",
			x: 34,
			y: 44,
			w: 51,
			h: 45
		},
		"reduced-hair-female-8-8": {
			type: "spritesheet",
			base: a,
			url: "8-8.png",
			x: 34,
			y: 44,
			w: 51,
			h: 45
		},
		"reduced-hair-female-8-9": {
			type: "spritesheet",
			base: a,
			url: "8-9.png",
			x: 34,
			y: 44,
			w: 51,
			h: 45
		},
		"reduced-hair-female-9-1": {
			type: "spritesheet",
			base: a,
			url: "9-1.png",
			x: 36,
			y: 46,
			w: 59,
			h: 43
		},
		"reduced-hair-female-9-10": {
			type: "spritesheet",
			base: a,
			url: "9-10.png",
			x: 36,
			y: 46,
			w: 59,
			h: 43
		},
		"reduced-hair-female-9-11": {
			type: "spritesheet",
			base: a,
			url: "9-11.png",
			x: 36,
			y: 46,
			w: 59,
			h: 43
		},
		"reduced-hair-female-9-12": {
			type: "spritesheet",
			base: a,
			url: "9-12.png",
			x: 36,
			y: 46,
			w: 59,
			h: 43
		},
		"reduced-hair-female-9-13": {
			type: "spritesheet",
			base: a,
			url: "9-13.png",
			x: 36,
			y: 46,
			w: 59,
			h: 43
		},
		"reduced-hair-female-9-14": {
			type: "spritesheet",
			base: a,
			url: "9-14.png",
			x: 36,
			y: 46,
			w: 59,
			h: 43
		},
		"reduced-hair-female-9-15": {
			type: "spritesheet",
			base: a,
			url: "9-15.png",
			x: 36,
			y: 46,
			w: 59,
			h: 43
		},
		"reduced-hair-female-9-16": {
			type: "spritesheet",
			base: a,
			url: "9-16.png",
			x: 36,
			y: 46,
			w: 59,
			h: 43
		},
		"reduced-hair-female-9-2": {
			type: "spritesheet",
			base: a,
			url: "9-2.png",
			x: 36,
			y: 46,
			w: 59,
			h: 43
		},
		"reduced-hair-female-9-3": {
			type: "spritesheet",
			base: a,
			url: "9-3.png",
			x: 36,
			y: 46,
			w: 59,
			h: 43
		},
		"reduced-hair-female-9-4": {
			type: "spritesheet",
			base: a,
			url: "9-4.png",
			x: 36,
			y: 46,
			w: 59,
			h: 43
		},
		"reduced-hair-female-9-5": {
			type: "spritesheet",
			base: a,
			url: "9-5.png",
			x: 36,
			y: 46,
			w: 59,
			h: 43
		},
		"reduced-hair-female-9-6": {
			type: "spritesheet",
			base: a,
			url: "9-6.png",
			x: 36,
			y: 46,
			w: 59,
			h: 43
		},
		"reduced-hair-female-9-7": {
			type: "spritesheet",
			base: a,
			url: "9-7.png",
			x: 36,
			y: 46,
			w: 59,
			h: 43
		},
		"reduced-hair-female-9-8": {
			type: "spritesheet",
			base: a,
			url: "9-8.png",
			x: 36,
			y: 46,
			w: 59,
			h: 43
		},
		"reduced-hair-female-9-9": {
			type: "spritesheet",
			base: a,
			url: "9-9.png",
			x: 36,
			y: 46,
			w: 59,
			h: 43
		}
	}
}, Prodigy.Assets.prototype = {
	getAsset: function (e) {
		return this._assets[e]
	},
	getImageBounds: function (e) {
		return Util.isDefined(this._assets[e]) && Util.isDefined(this._assets[e].x) ? [this._assets[e].x, this._assets[e].y, this._assets[e].w, this._assets[e].h] : [0, 0, 0, 0]
	},
	getImagePivots: function (e) {
		if (!Util.isDefined(this._assets[e])) return [null, null];
		var t = Util.isDefined(this._assets[e].pivotX) ? this._assets[e].pivotX : null,
			i = Util.isDefined(this._assets[e].pivotY) ? this._assets[e].pivotY : null;
		return [t, i]
	},
	appendAssets: function (e) {
		for (var t in e) this._assets[t] = e[t]
	}
}, Prodigy.Assets.prototype.constructor = Prodigy.Assets, Prodigy.Attacks = function (e) {
	this.game = e
}, Prodigy.Attacks.prototype = {
	constructor: Prodigy.Attacks,
	calculateDamage: function (e, t, i, a, s) {
		Util.isDefined(a) || (a = 0);
		var r = 0;
		Util.isDefined(e) && Util.isDefined(e.damage) && (r = e.damage);
		var o = e.element,
			n = i.getElement();
		return "Glacial Shield" !== e.name && 0 === i.modifiers.ignoreElement && (this.isStrong(o, n) ? r += 4 : this.isWeak(o, n) && (r -= 3, 0 >= r && (r = 2))), r = Math.floor(10 * r * s), Math.max(Math.floor(r + (Util.isDefined(a) ? a : 0)), 0)
	},
	isStrong: function (e, t) {
		return Util.isDefined(e) && Util.isDefined(t) && ("fire" === e && ("ice" === t || "earth" === t) || "water" === e && "fire" === t || "earth" === e && "water" === t || "storm" === e && "water" === t || "mech" === e && "mech" === t || "ice" === e && ("storm" === t || "mech" === t))
	},
	isWeak: function (e, t) {
		return Util.isDefined(e) && Util.isDefined(t) && ("fire" === e && "water" === t || "water" === e && ("earth" === t || "storm" === t || "mech" === t) || "earth" === e && "fire" === t || "storm" === e && "ice" === t || "mech" === e && "ice" === t || "ice" === e && "fire" === t)
	},
	getBestAttack: function (e, t, i) {
		if (e.length <= 0) return null;
		for (var a = [], s = 0; s < e.length; s++) {
			var r = this.getAttack(e[s]);
			a[s] = "Glacial Shield" === r.name ? {
				dmg: 0,
				ID: e[s]
			} : {
				dmg: this.calculateDamage(r, null, t, 0),
				ID: e[s]
			}
		}
		a.sort(function (e, t) {
			return t.dmg - e.dmg
		}), i = i || 0;
		for (var o = a[a.length - 1].ID, s = 0; s < a.length; s++) {
			if (Math.random() > i) {
				o = a[s].ID;
				break
			}
			i *= .75
		}
		return this.getAttack(o)
	},
	getHealingAttack: function (e) {
		for (var t = 0; t < e.length; t++) {
			var i = this.getAttack(e[t]);
			if (i.heal) return i
		}
		return null
	},
	getAttack: function (e) {
		var t = Prodigy.Attacks.data[e - 1];
		return Util.isDefined(t) ? t : null
	},
	getAttackPriority: function (e) {
		return Util.isDefined(e.priority) ? e.priority : 0
	}
}, Prodigy.Attacks.data = [{
	ID: 1,
	name: "Fireball",
	element: "fire",
	animation: "Fireball",
	damage: 4
}, {
	ID: 2,
	name: "Embers",
	element: "fire",
	animation: "Embers",
	damage: 5
}, {
	ID: 3,
	name: "Charclone",
	element: "fire",
	animation: "Charclone",
	damage: 6
}, {
	ID: 4,
	name: "Razorfire",
	element: "fire",
	animation: "Razorfire",
	damage: 7
}, {
	ID: 5,
	name: "Fire Rain",
	element: "fire",
	animation: "FireRain",
	damage: 8
}, {
	ID: 6,
	name: "Dragos",
	element: "fire",
	animation: "Dragos",
	damage: 9
}, {
	ID: 7,
	name: "Water Blast",
	element: "water",
	animation: "WaterBlast",
	damage: 4
}, {
	ID: 8,
	name: "Water Bomb",
	element: "water",
	animation: "WaterBomb",
	damage: 5
}, {
	ID: 9,
	name: "Rainy Day",
	element: "water",
	animation: "RainyDay",
	damage: 6
}, {
	ID: 10,
	name: "Water Bubble",
	element: "water",
	animation: "WaterBubble",
	damage: 7
}, {
	ID: 11,
	name: "Geyser",
	element: "water",
	animation: "Geyser",
	damage: 8
}, {
	ID: 12,
	name: "Angel's Fountain",
	element: "water",
	animation: "Fountain",
	damage: 9
}, {
	ID: 13,
	name: "Mudball",
	element: "earth",
	animation: "Mudball",
	damage: 4
}, {
	ID: 14,
	name: "Whirlwind",
	element: "earth",
	animation: "Whirlwind",
	damage: 5
}, {
	ID: 15,
	name: "Leaf Wind",
	element: "earth",
	animation: "LeafWind",
	damage: 6
}, {
	ID: 16,
	name: "Absorb",
	element: "earth",
	animation: "Absorb",
	damage: 4,
	heal: !0,
	priority: 1
}, {
	ID: 17,
	name: "Earthsprite",
	element: "earth",
	animation: "EarthSprite",
	damage: 7
}, {
	ID: 18,
	name: "Blitz",
	element: "earth",
	animation: "Blitz",
	damage: 8
}, {
	ID: 19,
	name: "Ice Cannon",
	element: "ice",
	animation: "IceCannon",
	damage: 4
}, {
	ID: 20,
	name: "Ice Prison",
	element: "ice",
	animation: "IcePrison",
	damage: 5
}, {
	ID: 21,
	name: "Blizzard",
	element: "ice",
	animation: "Blizzard",
	damage: 6
}, {
	ID: 22,
	name: "Glacial Shield",
	element: "ice",
	animation: "GlacialShield",
	damage: 16,
	heal: !0,
	priority: 2
}, {
	ID: 23,
	name: "Snowman",
	element: "ice",
	animation: "Snowman",
	damage: 7
}, {
	ID: 24,
	name: "Ice to Meet You",
	element: "ice",
	animation: "IceToMeetYou",
	damage: 8
}, {
	ID: 25,
	name: "Cloudshot",
	element: "storm",
	animation: "Cloudshot",
	damage: 4
}, {
	ID: 26,
	name: "Bolt",
	element: "storm",
	animation: "Bolt",
	damage: 5
}, {
	ID: 27,
	name: "Trinity",
	element: "storm",
	animation: "Trinity",
	damage: 6
}, {
	ID: 28,
	name: "Thunderdome",
	element: "storm",
	animation: "Thunderdome",
	damage: 7
}, {
	ID: 29,
	name: "Shocksphere",
	element: "storm",
	animation: "Shocksphere",
	damage: 8
}, {
	ID: 30,
	name: "Storm's Coming",
	element: "storm",
	animation: "StormComing",
	damage: 9
}, {
	ID: 31,
	name: "Magi-shot",
	element: "wizard",
	animation: "MagiShot",
	damage: 4
}, {
	ID: 32,
	name: "Batter Up!",
	element: "wizard",
	animation: "BatterUp",
	damage: 5
}, {
	ID: 33,
	name: "Conjure",
	element: "wizard",
	animation: "Conjure",
	damage: 6
}, {
	ID: 34,
	name: "Pummel",
	element: "wizard",
	animation: "Pummel",
	damage: 7
}, {
	ID: 35,
	name: "Powerbeam",
	element: "wizard",
	animation: "Powerbeam",
	damage: 8
}, {
	ID: 36,
	name: "Zero",
	element: "wizard",
	animation: "Zero",
	damage: 9
}, {
	ID: 37,
	name: "Frigid Blast",
	element: "ice",
	animation: "FrigidBlast",
	damage: 8,
	type: "epic-attack",
	epicId: 127,
	baseAttack: "Blizzard"
}, {
	ID: 38,
	name: "Storm's Wrath",
	element: "storm",
	animation: "StormWrath",
	damage: 8,
	type: "epic-attack",
	epicId: 125,
	baseAttack: "StormComing"
}, {
	ID: 39,
	name: "Forest's Fury",
	element: "earth",
	animation: "ForestFury",
	damage: 8,
	type: "epic-attack",
	epicId: 126,
	baseAttack: "LeafWind"
}, {
	ID: 40,
	name: "Tidal Twister",
	element: "water",
	animation: "TidalTwister",
	damage: 8,
	type: "epic-attack",
	epicId: 128,
	baseAttack: "Fountain"
}, {
	ID: 41,
	name: "Hot Snow",
	element: "fire",
	animation: "HotSnow",
	damage: 8,
	type: "epic-attack",
	epicId: 129,
	baseAttack: "FireRain"
}], Prodigy.Dialogues = function () {}, Prodigy.Dialogues.prototype = {
	get: function (e, t) {
		return Prodigy.Dialogues.data[e][t]
	},
	printScript: function (e, t) {
		for (var i = Prodigy.Dialogues.data[e], a = "", s = 0; s < i.length; s++)(!Util.isDefined(t) || t(i[s])) && (a += i[s].text + "\n");
		Util.log(a)
	}
}, Prodigy.Dialogues.prototype.constructor = Prodigy.Dialogues, Prodigy.Dialogues.data = {
	noot: [{
		text: "Look out below!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-12",
			s: 0,
			d: 1
		}
	}, {
		text: "Ouch!\n...\nAnother happy landing!",
		face: 3,
		anim: 1,
		audio: {
			tag: "voice-10-12",
			s: 1,
			d: 4
		}
	}, {
		text: "I'm Noot, and I'll be your fairy guide! All new wizards need a guide, and I'm ALL YOURS!",
		face: 0,
		audio: {
			tag: "voice-10-12",
			s: 5,
			d: 7
		}
	}, {
		text: "This is a wizard battle! The goal is to reduce your opponent's hearts to zero by casting spells.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-10-13",
			s: 0,
			d: 7
		}
	}, {
		text: "It's okay, try again! The scarecrow won't fight back, so practice away!",
		face: 1,
		audio: {
			tag: "voice-10-13",
			s: 7,
			d: 6
		}
	}, {
		text: "When you cast a spell, your opponent loses hearts! When they have no hearts left, you win!",
		face: 3,
		audio: {
			tag: "voice-10-13",
			s: 13,
			d: 7
		}
	}, {
		text: "Don't know how to walk, huh? Click the ground to walk, and follow me to the edge of the map!",
		face: 4,
		audio: {
			tag: "voice-10-14",
			s: 0,
			d: 6
		}
	}, {
		text: "I think you're ready for the next lesson...follow me!",
		face: 3,
		anim: 2,
		audio: {
			tag: "voice-10-14",
			s: 6,
			d: 4
		}
	}, {
		text: "To cast a spell, press the Attack button. Then choose your spell from the list!",
		face: 4,
		audio: {
			tag: "voice-10-3",
			s: 2,
			d: 5
		}
	}, {
		text: "Uh oh! Your hearts are low! At times like this, it might be best to change team members!",
		face: 1,
		audio: {
			tag: "voice-10-1",
			s: 0,
			d: 6
		}
	}, {
		text: "Just click the Switch button and choose another teammate.",
		face: 0,
		audio: {
			tag: "voice-10-1",
			s: 6,
			d: 3.5
		}
	}, {
		text: "Your opponent is getting tired! Now's the time to try to catch it!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-2",
			s: 0,
			d: 4
		}
	}, {
		text: "Just click the Catch button when you want to catch a new pet!",
		face: 3,
		audio: {
			tag: "voice-10-2",
			s: 4,
			d: 3
		}
	}, {
		text: "All you have to do is click this button when the arrow is pointing to the green area! Give it a try!",
		face: 4,
		audio: {
			tag: "voice-10-4",
			s: 0,
			d: 6
		}
	}, {
		text: "I think it's time you got a pet of your own! Choose a pet to join you on your adventures!",
		face: 0,
		audio: {
			tag: "voice-10-15",
			s: 8,
			d: 6
		}
	}, {
		text: "This is your backpack! All the items you collect are stored here!",
		face: 0,
		audio: {
			tag: "voice-10-5",
			s: 0,
			d: 4
		}
	}, {
		text: "To equip an item, click on one of your items and select 'wear'.",
		face: 4,
		audio: {
			tag: "voice-10-5",
			s: 4,
			d: 4
		}
	}, {
		text: "To unequip an item, click on an equipped item here. Looking good!",
		face: 3,
		audio: {
			tag: "voice-10-5",
			s: 8,
			d: 5
		}
	}, {
		text: "Your map shows all the areas on the island! To travel to a new area, just click the area's icon!",
		face: 2,
		audio: {
			tag: "voice-10-6",
			s: 0,
			d: 6
		}
	}, {
		text: "This is where you select your battle team!",
		face: 0,
		audio: {
			tag: "voice-10-7",
			s: 0,
			d: 3
		}
	}, {
		text: "First click one of your pets in the boxes here...",
		face: 4,
		audio: {
			tag: "voice-10-7",
			s: 3,
			d: 3
		}
	}, {
		text: "Then, click an open slot on your team. You can do this to remove pets from your team too!",
		face: 0,
		audio: {
			tag: "voice-10-7",
			s: 6,
			d: 6
		}
	}, {
		text: "Oh no! You ran out of hearts... You must be exhausted!",
		face: 1,
		anim: 1,
		audio: {
			tag: "voice-10-8",
			s: 0,
			d: 4
		}
	}, {
		text: "Don't worry, I'll heal you and your pets! But I'll have to charge you [gold] 100...",
		face: 4,
		audio: {
			tag: "voice-10-8",
			s: 4,
			d: 5
		}
	}, {
		text: "Let's keep going! There's still so much to explore!",
		face: 3,
		anim: 2,
		audio: {
			tag: "voice-10-16",
			s: 0,
			d: 4
		}
	}, {
		text: "Uh oh! A monster is blocking our path!",
		face: 5,
		anim: 4,
		audio: {
			tag: "voice-10-16",
			s: 4,
			d: 3
		}
	}, {
		text: "The Academy is full of monsters, and monsters love a good wizard battle! Click on the monster to challenge it!",
		face: 4,
		audio: {
			tag: "voice-10-16",
			s: 7,
			d: 8
		}
	}, {
		text: "Pets are very useful - they level up and cast spells just like you! They can also help you in battle!",
		face: 0,
		audio: {
			tag: "voice-10-15",
			s: 0,
			d: 8
		}
	}, {
		text: "But before we go anywhere, you need to know how to defend yourself from monsters!",
		face: 1,
		audio: {
			tag: "voice-10-12",
			s: 12,
			d: 5
		}
	}, {
		text: "Oh no! It looks like a monster broke the bridge! How will we get across now?",
		face: 5,
		anim: 2,
		audio: {
			tag: "voice-10-17",
			s: 0,
			d: 6
		}
	}, {
		text: "Oh, nice! It looks like there are some pieces nearby...go collect them and we can rebuild the bridge ourselves!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-17",
			s: 6,
			d: 8
		}
	}, {
		text: "Just click on the items around the map to pick them up...but watch out for monsters!",
		face: 1,
		audio: {
			tag: "voice-10-17",
			s: 14,
			d: 5
		}
	}, {
		text: "Great job! Now step back and watch this!",
		face: 3,
		audio: {
			tag: "voice-10-18",
			s: 0,
			d: 5
		}
	}, {
		text: "TADA! Not bad, huh? Okay, follow me!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-18",
			s: 5,
			d: 4
		}
	}, {
		text: "In battle, monsters also cast spells. The first to defeat the other wins the battle!",
		face: 0,
		audio: {
			tag: "voice-10-16",
			s: 15,
			d: 6
		}
	}, {
		text: "Well, that's all I have left to teach you, but your wizard quest has only just begun!",
		face: 0,
		audio: {
			tag: "voice-10-19",
			s: 0,
			d: 6
		}
	}, {
		text: "Follow the path to the left to meet the first master wizard, Flora!",
		face: 2,
		audio: {
			tag: "voice-10-19",
			s: 10,
			d: 5
		}
	}, {
		text: "Don't you worry, though, because I'll always be here to help you out!",
		face: 3,
		anim: 2,
		audio: {
			tag: "voice-10-19",
			s: 6,
			d: 4
		}
	}, {
		text: "Do you want to heal you and your pets?",
		face: 3,
		anim: 2,
		audio: {
			tag: "voice-10-20",
			s: 0,
			d: 3
		}
	}, {
		text: "Oh dear! Try again!",
		face: 1,
		audio: {
			tag: "voice-10-20",
			s: 3,
			d: 2
		}
	}, {
		text: "Whoa, great job!",
		face: 3,
		anim: 4,
		audio: {
			tag: "voice-10-20",
			s: 5,
			d: 3
		}
	}, {
		text: "All finished! Let's head back, okay?",
		face: 3,
		anim: 4,
		audio: {
			tag: "voice-10-20",
			s: 8,
			d: 3
		}
	}, {
		text: "To become a true PRODIGY, you must travel all over the island and meet the master wizards!",
		face: 0,
		audio: {
			tag: "voice-10-19",
			s: 15,
			d: 7
		}
	}, {
		text: "Each master will teach you new spells, and award you a gemstone for completing their trials!",
		face: 0,
		audio: {
			tag: "voice-10-19",
			s: 22,
			d: 6
		}
	}, {
		text: "First, ask your teacher for your class code, and enter it here!",
		face: 0,
		audio: {
			tag: "voice-10-21",
			s: 0,
			d: 4
		}
	}, {
		text: "Now, enter your first and last name!",
		face: 2,
		audio: {
			tag: "voice-10-21",
			s: 4,
			d: 3
		}
	}, {
		text: "Create a password for your account! Remember to enter it twice!",
		face: 3,
		audio: {
			tag: "voice-10-21",
			s: 7,
			d: 4
		}
	}, {
		text: "Where do you live?",
		face: 4,
		audio: {
			tag: "voice-10-21",
			s: 11,
			d: 1
		}
	}, {
		text: "What grade are you in?",
		face: 1,
		audio: {
			tag: "voice-10-21",
			s: 12,
			d: 1
		}
	}, {
		text: "What does your wizard look like?",
		face: 2,
		audio: {
			tag: "voice-10-21",
			s: 13,
			d: 2
		}
	}, {
		text: "What is your wizard's name?",
		face: 3,
		audio: {
			tag: "voice-10-21",
			s: 15,
			d: 2
		}
	}, {
		text: "Here is your login information. Be sure to write these down!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-21",
			s: 17,
			d: 4
		}
	}, {
		text: "Uh oh! Something went wrong...do you want to try again?",
		face: 1,
		audio: {
			tag: "voice-10-21",
			s: 21,
			d: 4
		}
	}, {
		text: "There's the healstone! When you're low on health, just click it to heal you and your pets!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-22",
			s: 0,
			d: 5
		}
	}, {
		text: "There are the Sprikes! In battle, monsters drop items, and some items are used for quests!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-23",
			s: 0,
			d: 6
		}
	}, {
		text: "Defeat the Sprikes until one of them drops some evidence for Flora!",
		face: 0,
		audio: {
			tag: "voice-10-23",
			s: 6,
			d: 4
		}
	}, {
		text: "Um...I think we found the TripTrop Trio!",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-10-24",
			s: 0,
			d: 4
		}
	}, {
		text: "Whew, that wasn't so bad...good job!",
		face: 2,
		audio: {
			tag: "voice-10-24",
			s: 4,
			d: 4
		}
	}, {
		text: "See that gate? It leads to the icy Shiverchill Mountains... but you need the Firefly Gem to open it!",
		face: 4,
		audio: {
			tag: "voice-10-24",
			s: 8,
			d: 7
		}
	}, {
		text: "WOW! That must be Gerald! I guess he's sleeping...thank goodness! We should probably tell Flora.",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-25",
			s: 0,
			d: 7
		}
	}, {
		text: "Oh no! A monster stole the flute! We'd better go tell Flora...",
		face: 5,
		audio: {
			tag: "voice-10-26",
			s: 0,
			d: 5
		}
	}, {
		text: "All we have to do is play this flute? Piece of cake, I used to take lessons!",
		face: 1,
		audio: {
			tag: "voice-10-27",
			s: 0,
			d: 6
		}
	}, {
		text: "Pftfbpfffppfbt!",
		face: 3,
		audio: {
			tag: "voice-10-27",
			s: 6,
			d: 2
		}
	}, {
		text: "What? I never said I was any good at it!",
		face: 5,
		audio: {
			tag: "voice-10-27",
			s: 8,
			d: 3
		}
	}, {
		text: "You opened the gate and got your first gemstone! Well done!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-28",
			s: 0,
			d: 4
		}
	}, {
		text: "Next stop, Shiverchill Mountains!",
		face: 3,
		audio: {
			tag: "voice-10-28",
			s: 4,
			d: 3
		}
	}, {
		text: "Enter your parent's email if you're playing at home!",
		face: 1,
		audio: {
			tag: "voice-10-21",
			s: 25,
			d: 3
		}
	}, {
		text: "It looks like all the furnaces are out...no wonder it's so cold!",
		face: 1,
		anim: 4,
		audio: {
			tag: "voice-10-29",
			s: 0,
			d: 5
		}
	}, {
		text: "Whoa...what was that about?",
		face: 1,
		audio: {
			tag: "voice-10-30",
			s: 0,
			d: 2
		}
	}, {
		text: "We'd better tell Bok about this...",
		face: 4,
		audio: {
			tag: "voice-10-31",
			s: 0,
			d: 2
		}
	}, {
		text: "What the...this is NOT a shovel! We'd better go tell Bok.",
		face: 5,
		audio: {
			tag: "voice-10-32",
			s: 0,
			d: 5
		}
	}, {
		text: "Wait, those weren't the monsters?",
		face: 1,
		audio: {
			tag: "voice-10-33",
			s: 0,
			d: 3
		}
	}, {
		text: "Hmmm...well, you wouldn't happen to know where we could find some power crystals, would you?",
		face: 4,
		audio: {
			tag: "voice-10-33",
			s: 3,
			d: 7
		}
	}, {
		text: "Ummm...I think that's the REAL monster!",
		face: 3,
		anim: 2,
		audio: {
			tag: "voice-10-34",
			s: 0,
			d: 4
		}
	}, {
		text: "I'll bet that's the throne room, but it looks like the entrance is still frozen...",
		face: 1,
		audio: {
			tag: "voice-10-35",
			s: 0,
			d: 5
		}
	}, {
		text: "Look there! It's another power crystal...we can light another furnace!",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-10-35",
			s: 5,
			d: 6
		}
	}, {
		text: "Or maybe not? I guess the worm is still around...",
		face: 1,
		audio: {
			tag: "voice-10-35",
			s: 11,
			d: 4
		}
	}, {
		text: "Hey look! The furnace melted some of the ice!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-36",
			s: 0,
			d: 4
		}
	}, {
		text: "You got your second gemstone and opened the second gate! Well done!",
		face: 2,
		anim: 4,
		audio: {}
	}, {
		text: "Next stop, Skywatch!",
		face: 3
	}, {
		text: "Welcome to Lamplight, the most magical town on the island and home of the Academy!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-37",
			s: 0,
			d: 6
		}
	}, {
		text: "This is a great little town. I'm sure you'll find yourself right at home.",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-37",
			s: 6,
			d: 5
		}
	}, {
		text: "Let's go on a quick tour around town, shall we? There's so much to see!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-37",
			s: 11,
			d: 5
		}
	}, {
		text: "Here is the Coliseum. Inside you can face the best wizards around, and earn great rewards!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-38",
			s: 0,
			d: 8
		}
	}, {
		text: "But you should probably level up a bit first...some are pretty tricky! Let's keep moving!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-38",
			s: 8,
			d: 7
		}
	}, {
		text: "This is the Shopping District - most of the shops in Lamplight are here.",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-39",
			s: 0,
			d: 5
		}
	}, {
		text: "Here is the Equipment Store. They sell wands, outfits and hats.",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-39",
			s: 5,
			d: 4
		}
	}, {
		text: "This is the Stylist Shop, where wizards can change their appearance! Let's continue, shall we?",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-39",
			s: 9,
			d: 6
		}
	}, {
		text: "This is the Town Square, the heart of Lamplight!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-40",
			s: 0,
			d: 4
		}
	}, {
		text: "Many special events and festivals are hosted here...be sure to check in often!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-40",
			s: 4,
			d: 5
		}
	}, {
		text: "All right! Only one more stop to go.",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-40",
			s: 9,
			d: 4
		}
	}, {
		text: "Down that way is the eastern gate, which leads to the Academy...",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-41",
			s: 0,
			d: 4
		}
	}, {
		text: "Unfortunately, it's been closed down ever since the Wardens disappeared... Maybe someday you'll get to see it for yourself!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-41",
			s: 4,
			d: 8
		}
	}, {
		text: "Anyways, that's it for the tour! Come back often...the town changes all the time!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-41",
			s: 12,
			d: 6
		}
	}, {
		text: "Great job! Be sure to talk to Boardy in Lamplight to get your reward.",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-42",
			s: 0,
			d: 4
		}
	}, {
		text: "That monster has the device! We'd better catch it!",
		face: 5,
		anim: 1,
		audio: {
			tag: "voice-10-43",
			s: 0,
			d: 4
		}
	}, {
		text: "HAHA! We've got you now!",
		face: 5,
		anim: 4,
		audio: {
			tag: "voice-10-43",
			s: 4,
			d: 2
		}
	}, {
		text: "Look, a note! It says that Broccolina is trimming the Bean-o-vator... Let's go find her.",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-10-44",
			s: 0,
			d: 6
		}
	}, {
		text: "What is THAT?!",
		face: 4,
		anim: 1,
		audio: {
			tag: "voice-10-45",
			s: 0,
			d: 2
		}
	}, {
		text: "Uh oh, those vines look too strong for our Vine Pruner. We should tell Benni and Broccolina about this!",
		face: 1
	}, {
		text: "We'd better help him out!",
		face: 5,
		anim: 4,
		audio: {
			tag: "voice-10-46",
			s: 0,
			d: 2
		}
	}, {
		text: "You got your third gemstone and opened the third gate! Well done!",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-10-47",
			s: 0,
			d: 4
		}
	}, {
		text: "Next stop, Bonfire Spire!",
		face: 3,
		anim: 4,
		audio: {
			tag: "voice-10-47",
			s: 4,
			d: 3
		}
	}, {
		text: "Uh, I think that's our cue to leave - fast!",
		face: 4,
		anim: 1,
		audio: {
			tag: "voice-10-50",
			s: 0,
			d: 5
		}
	}, {
		text: "Hey! Where do you think you're going!?",
		face: 5,
		anim: 1,
		audio: {
			tag: "voice-10-51",
			s: 0,
			d: 2
		}
	}, {
		text: "We get tricked a lot, don't we?",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-10-51",
			s: 2,
			d: 3
		}
	}, {
		text: "Sigh... Here we go again.",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-10-51",
			s: 5,
			d: 3
		}
	}, {
		text: "Well, actually, we didn't cook it.",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-10-52",
			s: 0,
			d: 3
		}
	}, {
		text: "Your Majesty, I present to you your new chef! Slurpy!",
		face: 3,
		anim: 4,
		audio: {
			tag: "voice-10-48",
			s: 0,
			d: 5
		}
	}, {
		text: "You got your fourth gemstone and opened the fourth gate! Well done!",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-10-49",
			s: 0,
			d: 5
		}
	}, {
		text: "Next stop, Barnacle Cove!",
		face: 3,
		anim: 4
	}, {
		text: "Let's head back, okay?",
		face: 3,
		anim: 4,
		audio: {
			tag: "voice-10-20",
			s: 9,
			d: 2
		}
	}, {
		text: "Oh no! Looks like we'll need to slip by Cebollini to get to the pot.",
		face: 1,
		anim: 4
	}, {
		text: "If you step into his circle of vision he will catch you and kick you out!",
		face: 1,
		anim: 4
	}, {
		text: "Hey, look there! There's a cauldron you can use to hide.",
		face: 4,
		anim: 4
	}, {
		text: "Press the button above your head to hide!",
		face: 3,
		anim: 4
	}, {
		text: "Walk around to take off the cauldron.",
		face: 3,
		anim: 4
	}, {
		text: "Now, enter your first name and last-name initial!",
		face: 2
	}, {
		text: "Hello?",
		face: 1,
		audio: {
			tag: "voice-10-53",
			s: 0,
			d: 2
		}
	}, {
		text: "Hey, listen!",
		face: 5,
		anim: 2,
		audio: {
			tag: "voice-10-53",
			s: 2,
			d: 2
		}
	}, {
		text: "C'mon, wake up sleepy head! You're going to be late for your first day of classes at the Academy!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-53",
			s: 4,
			d: 6
		}
	}, {
		text: "Whoa! Hold up!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-54",
			s: 0,
			d: 1
		}
	}, {
		text: "I haven't even introduced myself. The name's Noot. I help bring new students to the Academy on their first day of class!",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-10-54",
			s: 1,
			d: 7
		}
	}, {
		text: "Who might you be?",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-10-54",
			s: 8,
			d: 1
		}
	}, {
		text: "Nice to meet you!",
		face: 3,
		anim: 2,
		audio: {
			tag: "voice-10-55",
			s: 0,
			d: 1
		}
	}, {
		text: "Let's head over. Don't wanna be late on your first day!",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-10-55",
			s: 1,
			d: 3
		}
	}, {
		text: "Hey look, a monster! Monsters can be found everywhere, but they're pretty tame.",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-10-55",
			s: 4,
			d: 5
		}
	}, {
		text: "Uh...this one seems a bit grumpy. Looks like it wants to battle!",
		face: 5,
		anim: 3,
		audio: {
			tag: "voice-10-55",
			s: 9,
			d: 5
		}
	}, {
		text: "Since you're new at this, I'll shield you from spells for now!",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-10-56",
			s: 0,
			d: 4
		}
	}, {
		text: "Something really DID seem odd about that monster. Let's hurry up and get to the Academy.",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-10-56",
			s: 4,
			d: 5
		}
	}, {
		text: "By the way, if you're ever not sure what to do, just follow the magical guide hand I've created!",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-10-56",
			s: 9,
			d: 5
		}
	}, {
		text: "Click on the hand now!",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-10-56",
			s: 14,
			d: 2
		}
	}, {
		text: "Welcome to Lamplight Town! This place is just FULL of interesting people to meet and things to do!",
		face: 3,
		anim: 2,
		audio: {
			tag: "voice-10-57",
			s: 0,
			d: 7
		}
	}, {
		text: "Now, before we go further, you'll need to choose your very own pet!",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-10-57",
			s: 7,
			d: 5
		}
	}, {
		text: "Every wizard that studies at the Academy chooses a pet to train with.",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-10-57",
			s: 12,
			d: 5
		}
	}, {
		text: "When you train a pet, it becomes smarter and learns new spells, just like you!",
		face: 3,
		anim: 2,
		audio: {
			tag: "voice-10-57",
			s: 17,
			d: 5
		}
	}, {
		text: "Some pets even change to stronger forms if you train them enough!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-57",
			s: 22,
			d: 4
		}
	}, {
		text: "Whoa, what has gotten into these pets?!",
		face: 4,
		anim: 3,
		audio: {
			tag: "voice-10-57",
			s: 26,
			d: 3
		}
	}, {
		text: "Looks like they've settled down, thank goodness! Choose which one you'd like to train!",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-10-57",
			s: 29,
			d: 6
		}
	}, {
		text: "This is the Town Square, the heart of Lamplight Town.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-10-58",
			s: 0,
			d: 4
		}
	}, {
		text: "Let's keep heading to the Academy. We can come back later, and I'll give you the full tour.",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-10-58",
			s: 4,
			d: 5
		}
	}, {
		text: "Another monster that wants to battle us? We need to scare it away before it causes trouble around here.",
		face: 5,
		anim: 2,
		audio: {
			tag: "voice-10-59",
			s: 0,
			d: 7
		}
	}, {
		text: "Come oooon, we have to get going!",
		face: 5,
		anim: 4,
		audio: {
			tag: "voice-10-60",
			s: 0,
			d: 3
		}
	}, {
		text: "Whew! We MADE IT! Well, it's time for you to get to class.",
		face: 3,
		anim: 2,
		audio: {
			tag: "voice-10-61",
			s: 0,
			d: 5
		}
	}, {
		text: "I have to go help other wizards find their way here, AND find out what's going on with all the monsters nearby, but I'm sure I'll see you around!",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-10-61",
			s: 5,
			d: 9
		}
	}, {
		text: "Do you feel that?",
		face: 5,
		anim: 3,
		audio: {
			tag: "voice-10-61",
			s: 14,
			d: 1
		}
	}, {
		text: "I...can sense something. A presence I've not felt since...",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-10-61",
			s: 15,
			d: 5
		}
	}, {
		text: "What WAS that?! Whoa...I don't feel so good...",
		face: 1,
		anim: 1,
		audio: {
			tag: "voice-10-62",
			s: 0,
			d: 4
		}
	}, {
		text: "AND WHERE DID THE WARDEN KEYSTONES GO?!",
		face: 4,
		anim: 4,
		audio: {
			tag: "voice-10-62",
			s: 4,
			d: 3
		}
	}, {
		text: "Without the Warden Keystones on their pedestals...",
		face: 5,
		anim: 2,
		audio: {
			tag: "voice-10-62",
			s: 7,
			d: 3
		}
	}, {
		text: "Oh no! It's the Puppet Master! This IS NOT good!",
		face: 1,
		anim: 4,
		audio: {
			tag: "voice-10-63",
			s: 0,
			d: 5
		}
	}, {
		text: "The name's Noot, and this here is my pal.",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-10-63",
			s: 5,
			d: 3
		}
	}, {
		text: "With the help of the power of the Wardens, we're going to put a stop to the Order's evil plans, once and for all!",
		face: 5,
		anim: 2,
		audio: {
			tag: "voice-10-63",
			s: 8,
			d: 7
		}
	}, {
		text: "I think it's time for us to get outta here...",
		face: 1,
		anim: 3,
		audio: {
			tag: "voice-10-63",
			s: 15,
			d: 3
		}
	}, {
		text: "I have a little secret I was keeping from the Puppet Master: the Warden Keystones can't be destroyed!",
		face: 3,
		anim: 2,
		audio: {
			tag: "voice-10-64",
			s: 0,
			d: 7
		}
	}, {
		text: "All that blast did was scatter them around the island.",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-10-64",
			s: 7,
			d: 3
		}
	}, {
		text: "Once we collect them all, we'll be able to open a path back into the Academy!",
		face: 3,
		anim: 2,
		audio: {
			tag: "voice-10-64",
			s: 10,
			d: 5
		}
	}, {
		text: "The Puppet Master must be the one who cast the mind spells on the monsters...",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-10-64",
			s: 15,
			d: 5
		}
	}, {
		text: "But thanks to you, the town is safe once again!",
		face: 3,
		anim: 2,
		audio: {
			tag: "voice-10-64",
			s: 20,
			d: 4
		}
	}, {
		text: "I think you've earned your wizard name. What shall you be known as?",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-10-64",
			s: 24,
			d: 5
		}
	}, {
		text: "It's PERFECT!",
		face: 3,
		anim: 4,
		audio: {
			tag: "voice-10-64",
			s: 29,
			d: 2
		}
	}, {
		text: "Let's start the search for the Warden Keystones in Firefly Forest!",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-10-64",
			s: 31,
			d: 5
		}
	}, {
		text: "Here, take this map. It'll let you jump to places you've visited.",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-10-64",
			s: 36,
			d: 4
		}
	}, {
		text: "One last thing. That shadow blast drained most of my magic, so I can't block spells for you anymore.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-10-64",
			s: 40,
			d: 7
		}
	}, {
		text: "With the Wardens weakened, it's up to us to stop the evil Order of Influence and save the Academy!",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-10-64",
			s: 47,
			d: 7
		}
	}, {
		text: "Okay, follow me!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-10-18",
			s: 7,
			d: 1.6
		}
	}, {
		text: "Uh oh, the quest you were working on has ended. Let's go talk to Swoopy and get another quest!",
		face: 1
	}],
	flora: [{
		text: "Well hello there! The name's Flora - master wizard of Firefly Forest!",
		face: 5,
		anim: 4,
		audio: {
			tag: "voice-8-1",
			s: 0,
			d: 6
		}
	}, {
		text: "Complete my trials to learn earth spells. Complete them all to earn the Firefly Gem!",
		face: 3,
		audio: {
			tag: "voice-8-1",
			s: 6,
			d: 6
		}
	}, {
		text: "But first, I have an itty bitty favor to ask...",
		face: 2,
		audio: {
			tag: "voice-8-1",
			s: 12,
			d: 3
		}
	}, {
		text: "Can you go rescue my friend? He's been surrounded by monsters!",
		face: 6,
		anim: 2,
		audio: {
			tag: "voice-8-1",
			s: 15,
			d: 5
		}
	}, {
		text: "Quick question - what does every wizard need?",
		face: 2,
		audio: {
			tag: "voice-8-2",
			s: 0,
			d: 4
		}
	}, {
		text: "A wand, silly! I'm fresh out of wands, but I think there's a special one in a chest in the forest!",
		face: 1,
		audio: {
			tag: "voice-8-2",
			s: 4,
			d: 8
		}
	}, {
		text: "Or you can always buy one from the shop!",
		face: 2,
		audio: {
			tag: "voice-8-2",
			s: 12,
			d: 3
		}
	}, {
		text: "Oh! You got one!",
		face: 1,
		audio: {
			tag: "voice-8-2",
			s: 15,
			d: 2
		}
	}, {
		text: "After a few battles, your hearts get low and you need to heal.",
		face: 2,
		audio: {
			tag: "voice-8-3",
			s: 0,
			d: 4
		}
	}, {
		text: "Follow the path and find a HEALSTONE - a magical gem that can heal your team!",
		face: 5,
		audio: {
			tag: "voice-8-3",
			s: 4,
			d: 6
		}
	}, {
		text: "And while you're there, challenge some Saplettes for your next trial!",
		face: 3,
		audio: {
			tag: "voice-8-3",
			s: 10,
			d: 5
		}
	}, {
		text: "To become a true Prodigy, you must learn spells! And the best way to learn new spells is by helping people!",
		face: 4,
		anim: 4,
		audio: {
			tag: "voice-8-4",
			s: 0,
			d: 7
		}
	}, {
		text: "Firefly Forest has a problem...vandals! Someone's been littering at the crossroads!",
		face: 6,
		audio: {
			tag: "voice-8-4",
			s: 7,
			d: 6
		}
	}, {
		text: "Do me a favor and help clean it up, okay?",
		face: 7,
		audio: {
			tag: "voice-8-4",
			s: 13,
			d: 3
		}
	}, {
		text: "The paper you picked up seems to be part of a note... but it's written in 'monster'.",
		face: 2,
		audio: {
			tag: "voice-8-5",
			s: 0,
			d: 5
		}
	}, {
		text: "Try bringing it to the traveller in the northern woods!",
		face: 0,
		audio: {
			tag: "voice-8-5",
			s: 5,
			d: 3
		}
	}, {
		text: "The note says 'don't tell Flora' \n...HEY! I'M FLORA!",
		face: 6,
		anim: 1,
		audio: {
			tag: "voice-8-6",
			s: 0,
			d: 5
		}
	}, {
		text: "So, those Sprikes are up to something secret, huh? Defeat a few until they drop some evidence!",
		face: 6,
		audio: {
			tag: "voice-8-6",
			s: 5,
			d: 8
		}
	}, {
		text: "Hmmm, this is a Mandrake... \nMandrakes are the best spies in the whole forest!",
		face: 3,
		audio: {
			tag: "voice-8-7",
			s: 0,
			d: 6
		}
	}, {
		text: "Collect more for me and bring them in for questioning...maybe they can tell us more!",
		face: 6,
		audio: {
			tag: "voice-8-7",
			s: 6,
			d: 5
		}
	}, {
		text: "Be sure to look around...they may be in more than one place!",
		face: 1,
		audio: {
			tag: "voice-8-7",
			s: 11,
			d: 4
		}
	}, {
		text: "According to the Mandrakes, the TripTrop Trio ordered the Sprikes to steal something from me.",
		face: 6,
		anim: 4,
		audio: {
			tag: "voice-8-8",
			s: 0,
			d: 6
		}
	}, {
		text: "This forest is mischevious! \n...and confusing!",
		face: 7,
		audio: {
			tag: "voice-8-8",
			s: 6,
			d: 4
		}
	}, {
		text: "Track down the TripTrop Trio, defeat them, and bring back what they stole!",
		face: 6,
		audio: {
			tag: "voice-8-8",
			s: 10,
			d: 5
		}
	}, {
		text: "So, they stole my flute? And they BROKE IT?! THE NERVE!",
		face: 6,
		anim: 2,
		audio: {
			tag: "voice-8-9",
			s: 0,
			d: 6
		}
	}, {
		text: "This can only mean one thing... \nCan you head into the forest to find my Golem, Gerald?",
		face: 2,
		audio: {
			tag: "voice-8-9",
			s: 6,
			d: 6
		}
	}, {
		text: "WHAT?! That boulder-brain is asleep again?!",
		face: 6,
		anim: 4,
		audio: {
			tag: "voice-8-9",
			s: 12,
			d: 4
		}
	}, {
		text: "Monsters lull Gerald to sleep all the time...I guess he's a bit loud when he walks around.",
		face: 2,
		audio: {
			tag: "voice-8-10",
			s: 0,
			d: 7
		}
	}, {
		text: "We can wake him up, but first we need to fix my broken flute!",
		face: 7,
		audio: {
			tag: "voice-8-10",
			s: 7,
			d: 5
		}
	}, {
		text: "Easy Peasy! Just bring it to the 'magic stump' in the woods!",
		face: 0,
		audio: {
			tag: "voice-8-10",
			s: 12,
			d: 4
		}
	}, {
		text: "WHAT?! It's been stolen again?!",
		face: 6,
		anim: 2,
		audio: {
			tag: "voice-8-10",
			s: 16,
			d: 3
		}
	}, {
		text: "That's the last straw! Now I'm REAL MAD, and nobody wants to mess with an angry forest fairy!",
		face: 6,
		anim: 4,
		audio: {
			tag: "voice-8-11",
			s: 0,
			d: 9
		}
	}, {
		text: "Go find that monster and bring back my flute! He could be anywhere!",
		face: 6,
		audio: {
			tag: "voice-8-11",
			s: 9,
			d: 5
		}
	}, {
		text: "Now that we have the flute, it's time for your final challenge!",
		face: 3,
		audio: {
			tag: "voice-8-12",
			s: 0,
			d: 4
		}
	}, {
		text: "Take this to Gerald and wake him up! Careful, though...he can get REAL grumpy!",
		face: 2,
		audio: {
			tag: "voice-8-12",
			s: 4,
			d: 6
		}
	}, {
		text: "Wow! You did it! As promised, here is the Firefly Gem!",
		face: 4,
		anim: 4,
		audio: {
			tag: "voice-8-12",
			s: 10,
			d: 6
		}
	}, {
		text: "You're ready to head into Shiverchill Mountains, where you'll meet your second master, Bok!",
		face: 5,
		audio: {
			tag: "voice-8-13",
			s: 0,
			d: 6
		}
	}, {
		text: "Just take the gem to the gate and open it!",
		face: 4,
		audio: {
			tag: "voice-8-13",
			s: 6,
			d: 3
		}
	}, {
		text: "Just follow the arrows!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-8-14",
			s: 0,
			d: 2
		}
	}, {
		text: "Well done!",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-8-14",
			s: 2,
			d: 2
		}
	}],
	bok: [{
		text: "Hahaha! Bok knew you could do it!",
		face: 0,
		anim: 4,
		audio: {
			tag: "voice-1-1",
			s: 0,
			d: 5
		}
	}, {
		text: "Slip say it time you learn new spell. Bok agree - you the best!",
		face: 7,
		anim: 2,
		audio: {
			tag: "voice-1-1",
			s: 5,
			d: 8
		}
	}, {
		text: "Hoot hoot!",
		face: 2,
		audio: {
			tag: "voice-1-1",
			s: 13,
			d: 1
		}
	}, {
		text: "Welcome to Bok cave! New wizard seek gem, learn spells? You come to right place!",
		face: 1,
		audio: {
			tag: "voice-1-2",
			s: 0,
			d: 8
		}
	}, {
		text: "Bok teach wizard, but first we have problem...IT FREEZING IN HERE!",
		face: 6,
		anim: 1,
		audio: {
			tag: "voice-1-2",
			s: 8,
			d: 8
		}
	}, {
		text: "Need to check on furnaces, but room full of chilly monsters...",
		face: 3,
		audio: {
			tag: "voice-1-2",
			s: 16,
			d: 6
		}
	}, {
		text: "But you wizard! Wizard strong! Head to furnace room...first door on right.",
		face: 4,
		audio: {
			tag: "voice-1-2",
			s: 22,
			d: 7
		}
	}, {
		text: "Furnaces ALL broken? Bok use power crystal to light furnace, but last crystal stolen...",
		face: 8,
		audio: {
			tag: "voice-1-3",
			s: 0,
			d: 8
		}
	}, {
		text: "What?! Bok tell Slip to hide crystal...it not Bok fault it stolen!",
		face: 6,
		audio: {
			tag: "voice-1-3",
			s: 8,
			d: 8
		}
	}, {
		text: "Go to treasure room and find chilly monster that stole Bok crystal!",
		face: 3,
		audio: {
			tag: "voice-1-3",
			s: 16,
			d: 6
		}
	}, {
		text: "Now that wizard have crystal, time to light furnace!",
		face: 0,
		audio: {
			tag: "voice-1-4",
			s: 0,
			d: 5
		}
	}, {
		text: "Go to furnace room and light furnace. Bok counting on wizard!",
		face: 1,
		audio: {
			tag: "voice-1-4",
			s: 5,
			d: 6
		}
	}, {
		text: "Wizard do good, but much of mountain still frozen. Need more crystals, Bok think.",
		face: 5,
		audio: {
			tag: "voice-1-5",
			s: 0,
			d: 9
		}
	}, {
		text: "Crystals rare, but Bok used to find them in caves. Go explore caves, see what can find!",
		face: 0,
		audio: {
			tag: "voice-1-5",
			s: 9,
			d: 9
		}
	}, {
		text: "You find miner? BOK NOT LIKE MINERS ONE BIT!",
		face: 3,
		anim: 2,
		audio: {
			tag: "voice-1-5",
			s: 18,
			d: 6
		}
	}, {
		text: "Before miners, Bok king of mountain. Then miners come with scary wizard, chase Bok to this cave.",
		face: 8,
		audio: {
			tag: "voice-1-5",
			s: 24,
			d: 10
		}
	}, {
		text: "Slip right...miners good at finding crystals. Okay, Bok help...take key to chest - shovel there.",
		face: 5,
		audio: {
			tag: "voice-1-5",
			s: 34,
			d: 12
		}
	}, {
		text: "Wizard can find chest in mines...but be careful! Shovel prized possession, passed to Bok from dear mother.",
		face: 4,
		audio: {
			tag: "voice-1-6",
			s: 0,
			d: 11
		}
	}, {
		text: "Wizard say shovel is spoon? That mean Bok been using real shovel as spoon for WEEKS!",
		face: 8,
		anim: 2,
		audio: {
			tag: "voice-1-6",
			s: 11,
			d: 8
		}
	}, {
		text: "NO LAUGHING, SLIP!",
		face: 3,
		anim: 4,
		audio: {
			tag: "voice-1-6",
			s: 19,
			d: 2
		}
	}, {
		text: "Now you have real shovel, go help miner and get crystal for Bok!",
		face: 0,
		audio: {
			tag: "voice-1-7",
			s: 0,
			d: 7
		}
	}, {
		text: "All miner say is that power crystal in mines? BOK ALREADY KNOW THAT!",
		face: 8,
		audio: {
			tag: "voice-1-8",
			s: 0,
			d: 7
		}
	}, {
		text: "Head into mines, and find that crystal!",
		face: 0,
		audio: {
			tag: "voice-1-8",
			s: 7,
			d: 5
		}
	}, {
		text: "Giant ice worm? That must be what cause all these cavequakes...",
		face: 5,
		audio: {
			tag: "voice-1-9",
			s: 0,
			d: 6
		}
	}, {
		text: "Well, it sound like you defeat it, so back to plan - head back into mines!",
		face: 1,
		audio: {
			tag: "voice-1-9",
			s: 6,
			d: 7
		}
	}, {
		text: "What? Oh, Slip want you to defeat ghosties in mines first...",
		face: 8,
		audio: {
			tag: "voice-1-9",
			s: 13,
			d: 7
		}
	}, {
		text: "Okay, no more delay! Head to mines, ghosties or not, and bring back power crystal!",
		face: 3,
		audio: {
			tag: "voice-1-10",
			s: 0,
			d: 9
		}
	}, {
		text: "With two furnaces on, Bok throne room should be open, and Bok can be king of mountain again!",
		face: 0,
		audio: {
			tag: "voice-1-11",
			s: 0,
			d: 10
		}
	}, {
		text: "But before I go, check throne room for Bok, make sure it safe.",
		face: 4,
		audio: {
			tag: "voice-1-11",
			s: 10,
			d: 7
		}
	}, {
		text: "Throne room still frozen? And worm eat last power crystal? This not good...",
		face: 6,
		audio: {
			tag: "voice-1-11",
			s: 17,
			d: 8
		}
	}, {
		text: "Okay, Bok have plan!",
		face: 0,
		audio: {
			tag: "voice-1-12",
			s: 0,
			d: 3
		}
	}, {
		text: "BOK HAVE GOOD PLANS SOMETIMES! LOTS OF TIMES!",
		face: 3,
		audio: {
			tag: "voice-1-12",
			s: 3,
			d: 5
		}
	}, {
		text: "Monster eat crystals, so wizard go collect lots of crystals!",
		face: 5,
		audio: {
			tag: "voice-1-12",
			s: 8,
			d: 5
		}
	}, {
		text: "Lure monster, defeat, and get crystal! Off you go, hero wizard!",
		face: 1,
		audio: {
			tag: "voice-1-12",
			s: 13,
			d: 8
		}
	}, {
		text: "You have crystals, now it time to face the ice worm...good luck!",
		face: 3,
		anim: 4,
		audio: {
			tag: "voice-1-13",
			s: 0,
			d: 7
		}
	}, {
		text: "Slip wish you luck too!",
		face: 4,
		audio: {
			tag: "voice-1-13",
			s: 7,
			d: 4
		}
	}, {
		text: "For this, wizard deserve the Shiverchill Gem!",
		face: 1,
		anim: 4,
		audio: {
			tag: "voice-1-14",
			s: 7,
			d: 6
		}
	}, {
		text: "...But, Bok leave in throne room. As final test, go to throne room and pick up reward!",
		face: 5,
		audio: {
			tag: "voice-1-14",
			s: 13,
			d: 9
		}
	}, {
		text: "Well, that all Bok have to teach! Now it time for wizard to face new journey!",
		face: 7,
		anim: 4,
		audio: {
			tag: "voice-1-15",
			s: 0,
			d: 8
		}
	}, {
		text: "Bring gem to gate at top of mountain, open, and find Benni, the next master!",
		face: 5
	}],
	merchant: [{
		text: "Boy, have I got some deals for you!",
		face: 0,
		anim: 4,
		audio: {
			tag: "voice-11",
			s: 0,
			d: 4
		}
	}, {
		text: "Oh dear...I'm in quite a pickle now!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-11",
			s: 24,
			d: 3
		}
	}, {
		text: "Those monsters almost got away with my loot!!",
		face: 0,
		anim: 4,
		audio: {
			tag: "voice-11",
			s: 6,
			d: 3
		}
	}, {
		text: "What have we here? A note written by monsters, huh? Let me read it...",
		face: 0,
		audio: {
			tag: "voice-11",
			s: 9,
			d: 5
		}
	}, {
		text: "It says... \n'Big plans happening, don't tell Flora!'",
		face: 0,
		audio: {
			tag: "voice-11",
			s: 19,
			d: 5
		}
	}, {
		text: "Well it looks like it was written by a Sprike - strange little monsters, they are!",
		face: 0,
		audio: {
			tag: "voice-11",
			s: 14,
			d: 5
		}
	}, {
		text: "Well hello there, young one!",
		face: 0,
		audio: {
			tag: "voice-11",
			s: 4,
			d: 2
		}
	}, {
		text: "You there, help! The earthquake trapped me under some rubble!",
		face: 0,
		audio: {
			tag: "voice-11-1",
			s: 0,
			d: 6
		}
	}, {
		text: "Please find something to dig me out before the monster comes back!",
		face: 0,
		audio: {
			tag: "voice-11-1",
			s: 6,
			d: 4
		}
	}, {
		text: "Thank goodness you came before the monster returned!",
		face: 0,
		audio: {
			tag: "voice-11-2",
			s: 0,
			d: 4
		}
	}, {
		text: "Goodness no! I speak of the ice demon lurking in the mountains! Scary stuff, it is!",
		face: 0,
		audio: {
			tag: "voice-11-2",
			s: 4,
			d: 6
		}
	}, {
		text: "I was trying to escape with the other miners, but I got trapped here!",
		face: 0,
		audio: {
			tag: "voice-11-2",
			s: 10,
			d: 4
		}
	}, {
		text: "Power crystals, huh? There might be one or two left in the mines...",
		face: 0,
		audio: {
			tag: "voice-11-2",
			s: 14,
			d: 5
		}
	}, {
		text: "Thanks for all your hard work completing bounties. Here is your reward!"
	}, {
		text: "Do you want to open the Arena Rewards shop?"
	}, {
		text: "Are you ready to take part in the ARENA? Face the toughest wizards around the world and work your way to the top!"
	}, {
		text: "You cannot take part in the Arena in Offline Mode!"
	}, {
		text: "Do you want to open the Bounty Rewards shop?"
	}, {
		text: "Collect fireflies for me.",
		face: 0
	}, {
		text: "Your next reward is at 5.",
		face: 0
	}, {
		text: "Your next reward is at 10.",
		face: 0
	}, {
		text: "Your next reward is at 25.",
		face: 0
	}, {
		text: "Your next reward is at 50.",
		face: 0
	}, {
		text: "Your next reward is at 75.",
		face: 0
	}, {
		text: "Your next reward is at 99.",
		face: 0
	}, {
		text: "1 more to go!",
		face: 0
	}, {
		text: "Congrats, here is your reward!",
		face: 0
	}, {
		text: "Collect Ice Crystals for me.",
		face: 0
	}, {
		text: "A few of them should appear every day. Explore the forest to find them!",
		face: 0
	}, {
		text: "They are really tricky to catch while they are moving, so wait until they stop to rest.",
		face: 0
	}, {
		text: "A few frozen blocks of ice should appear every day. Explore the mountains to find them!",
		face: 0
	}, {
		text: "Once you have them, take them to any lit furnace to thaw them out.",
		face: 0
	}, {
		text: "If you happen to find any Ice Crystals, bring them to me for rewards.",
		face: 0
	}, {
		text: "Hold on! There is something else you can help me with.",
		face: 0
	}, {
		text: "Would you be able to collect fireflies for me? They appear every day. Explore the forest to find them!",
		face: 0
	}, {
		text: "If you don't mind, there is another task you can help me with.",
		face: 0
	}, {
		text: "That's all that I need. Thanks so much for your help!",
		face: 0
	}, {
		text: "Thank you so very much for taking care of those brutes! I was simply TERRIFIED.",
		face: 1,
		anim: 1,
		audio: {
			tag: "voice-11-3",
			s: 0,
			d: 6
		}
	}, {
		text: "Please take this wizard hat. It will help protect you on your travels!",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-11-3",
			s: 6,
			d: 4
		}
	}, {
		text: "South of here, a monster stole a wand from the magic shop! Defeat it, and you may keep the wand as your prize!",
		face: 1,
		audio: {
			tag: "voice-11-3",
			s: 10,
			d: 8
		}
	}],
	winterfest: [{
		text: "Open the present to get your daily gift!",
		audio: {}
	}, {
		text: "You've already gotten your gift for today. Come back tomorrow.",
		audio: {}
	}],
	benni: [{
		text: "You helped me out... Thanks, I guess.",
		face: 7,
		anim: 4,
		audio: {
			tag: "voice-12-1",
			s: 0,
			d: 2
		}
	}, {
		text: "Wow, what a champ!",
		face: 4,
		anim: 4,
		audio: {
			tag: "voice-12-1",
			s: 2,
			d: 2
		}
	}, {
		text: "We're lookin' at a COMPLETE shutdown here, and it's all because of your STUPID PLANTS!",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-12-2",
			s: 0,
			d: 5.05
		}
	}, {
		text: "At least they're smarter than YOU, bolt-head!",
		face: 6,
		anim: 2,
		audio: {
			tag: "voice-12-2",
			s: 5,
			d: 3
		}
	}, {
		text: "Um...hello?",
		face: 10,
		anim: 2,
		audio: {
			tag: "voice-12-2",
			s: 8,
			d: 2
		}
	}, {
		text: "Just do your JOB and trim those vines before GRAMPS finds out!",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-12-2",
			s: 10,
			d: 4
		}
	}, {
		text: "I WOULD if I COULD, squirt! The greenhouse is full of monsters again!",
		face: 6,
		anim: 1,
		audio: {
			tag: "voice-12-2",
			s: 14,
			d: 6
		}
	}, {
		text: "Let's head to that greenhouse and help them out...Maybe then they'll stop fighting!",
		face: 10,
		anim: 2,
		audio: {
			tag: "voice-12-2",
			s: 20,
			d: 5
		}
	}, {
		text: "Now you can get back to WORK!",
		face: 0,
		anim: 4,
		audio: {
			tag: "voice-12-3",
			s: 0,
			d: 3
		}
	}, {
		text: "I didn't see you there! The name's Benni, and this is my sister Broccolina!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-12-4",
			s: 0,
			d: 6
		}
	}, {
		text: "This is SKYWATCH, home of the famous Grand Weather Factory! I take care of the machines that make the weather, and my sister takes care of the plants.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-12-4",
			s: 6,
			d: 10
		}
	}, {
		text: "Since you're a wizard, we could sure use your help!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-12-4",
			s: 16,
			d: 3
		}
	}, {
		text: "Head to my place and pick up my Weather O Meter! I need it to take some readings around Skywatch.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-12-4",
			s: 19,
			d: 6
		}
	}, {
		text: "That monster chewed my Weather O Meter to BITS! Guess we'll have to do this the old-fashioned way!",
		face: 2,
		audio: {
			tag: "voice-12-5",
			s: 0,
			d: 6
		}
	}, {
		text: "I'll have to check the machines manually, but I'll need my sister first.",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-12-5",
			s: 6,
			d: 4
		}
	}, {
		text: "Check the greenhouse for me. She's always there murkin' around.",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-12-5",
			s: 10,
			d: 3
		}
	}, {
		text: "Well, now that we have your trimmers, you can fix up the trolley to the rest of Skywatch!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-12-6",
			s: 0,
			d: 5
		}
	}, {
		text: "But...the monsters...",
		face: 9,
		audio: {
			tag: "voice-12-6",
			s: 5,
			d: 3
		}
	}, {
		text: "Quit being a baby, Broc! Okay wizard, time to help out again! First, trim the vines covering the trolley, then check on the Wind Machine for me, okay?",
		face: 1,
		anim: 1,
		audio: {
			tag: "voice-12-6",
			s: 8,
			d: 9
		}
	}, {
		text: "Oh no! Those nasty clouds have clogged up the machines AGAIN!",
		face: 3,
		audio: {
			tag: "voice-12-7",
			s: 0,
			d: 5
		}
	}, {
		text: "They seem to come back a lot... But don't worry, we just need to upgrade the trimmer...",
		face: 8,
		anim: 2,
		audio: {
			tag: "voice-12-7",
			s: 5,
			d: 5
		}
	}, {
		text: "Hmmm, not a bad idea. The parts are in the factory, but it's locked and gramps has hidden the key again.",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-12-7",
			s: 10,
			d: 6
		}
	}, {
		text: "Look for clues around Skywatch... They'll tell us where to find the key!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-12-7",
			s: 16,
			d: 4
		}
	}, {
		text: "Ugh! Gramps hid it at the entrance of the factory! I KNEW it would be there!",
		face: 1,
		anim: 4,
		audio: {
			tag: "voice-12-8",
			s: 0,
			d: 5
		}
	}, {
		text: "He ALWAYS hides it in there...",
		face: 5,
		anim: 2,
		audio: {
			tag: "voice-12-8",
			s: 5,
			d: 2
		}
	}, {
		text: "Head to the factory and collect spare parts! The monsters there should have plenty!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-12-9",
			s: 0,
			d: 5
		}
	}, {
		text: "Voila! You now have the power of the Vinecinerator 2000!",
		face: 4,
		anim: 4,
		audio: {
			tag: "voice-12-10",
			s: 0,
			d: 4
		}
	}, {
		text: "This should to the trick.",
		face: 8,
		anim: 2,
		audio: {
			tag: "voice-12-10",
			s: 4,
			d: 2
		}
	}, {
		text: "First stop, the Snow Machine! Go teach that cloud a lesson and clear those vines!",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-12-10",
			s: 6,
			d: 6
		}
	}, {
		text: "The Rain Machine is next...",
		face: 5,
		anim: 2,
		audio: {
			tag: "voice-12-11",
			s: 0,
			d: 3
		}
	}, {
		text: "Last up, the Wind Machine! You got this, wiz!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-12-12",
			s: 0,
			d: 3
		}
	}, {
		text: "It's time for you to meet GRAMPS! Tell him about those nasty clouds!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-12-13",
			s: 0,
			d: 4
		}
	}, {
		text: "He's the Cloudmaster General. He'll know what to do.",
		face: 8,
		anim: 2,
		audio: {
			tag: "voice-12-13",
			s: 4,
			d: 3
		}
	}, {
		text: "He sits around all day in the factory in that stupid massage chair...",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-12-13",
			s: 7,
			d: 6
		}
	}, {
		text: "Uh...you want the key...? Benni...?",
		face: 9,
		audio: {
			tag: "voice-12-14",
			s: 0,
			d: 3
		}
	}, {
		text: "See, we had the key, but, uh...we...uh...broke it.",
		face: 3,
		anim: 1,
		audio: {
			tag: "voice-12-14",
			s: 3,
			d: 4
		}
	}, {
		text: "I'm pretty sure the pieces are around here...somewhere...",
		face: 5,
		anim: 2,
		audio: {
			tag: "voice-12-14",
			s: 7,
			d: 4
		}
	}, {
		text: "So it seems gramps wants you to head to the Cumulus Room...strange, he ALWAYS sends wizards there...",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-12-15",
			s: 0,
			d: 7
		}
	}, {
		text: "He never lets US go in there...",
		face: 6,
		anim: 2,
		audio: {
			tag: "voice-12-15",
			s: 7,
			d: 2
		}
	}, {
		text: "Gramps, what are YOU doing out here?!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-12-16",
			s: 0,
			d: 3
		}
	}, {
		text: "And when was the last time you took a bath...?",
		face: 6,
		anim: 1,
		audio: {
			tag: "voice-12-16",
			s: 3,
			d: 3
		}
	}, {
		text: "This wizard here is a TRUE hero! And the hero of Skywatch always gets a deserving reward!",
		face: 15,
		anim: 4,
		audio: {
			tag: "voice-12-16",
			s: 6,
			d: 7
		}
	}, {
		text: "It's time for our goodbyes, friend! Take that gem and head through the Cumulus Room to the gate.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-12-17",
			s: 0,
			d: 5
		}
	}, {
		text: "Things are about to get REAL spicy for you!",
		face: 8,
		anim: 4,
		audio: {
			tag: "voice-12-17",
			s: 5,
			d: 3
		}
	}, {
		text: "Did you just make a JOKE, sis!?",
		face: 4,
		audio: {
			tag: "voice-12-17",
			s: 8,
			d: 3
		}
	}, {
		text: "Wow! Ya did it!",
		face: 15,
		anim: 4,
		audio: {
			tag: "voice-12-17",
			s: 11,
			d: 2
		}
	}, {
		text: "I'd say it's time for you to learn a new spell!",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-12-18",
			s: 0,
			d: 3
		}
	}],
	broccolina: [{
		text: "Oh, hi there. Benni wants my help again? Huh. Figures...",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-13-1",
			s: 0,
			d: 5
		}
	}, {
		text: "I'll meet you topside.",
		face: 3,
		anim: 2
	}],
	eugene: [{
		text: "You pesky robots! Leave me be!",
		face: 3,
		anim: 4,
		audio: {
			tag: "voice-14-1",
			s: 0,
			d: 4
		}
	}, {
		text: "My now, a wizard, are ya? Pleasure to meetcha!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-14-2",
			s: 0,
			d: 4
		}
	}, {
		text: "The name is Eugene Gramps, otherwise known as the all-powerful Cloudmaster! Um...",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-14-2",
			s: 4,
			d: 6
		}
	}, {
		text: "Cloudmaster GENERAL!",
		face: 4,
		anim: 4,
		audio: {
			tag: "voice-14-2",
			s: 10,
			d: 2
		}
	}, {
		text: "So, I bet them clouds have my grandkids runnin' wild, huh?",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-14-2",
			s: 12,
			d: 4
		}
	}, {
		text: "Every time those two scamps get arguin', I send out my clouds. Thing is, they never realize it's me what does it! Hehehehehe!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-14-2",
			s: 16,
			d: 9
		}
	}, {
		text: "Tell Benni to give you the Master Key... It's time for the finale of my little prank!",
		face: 4,
		anim: 1,
		audio: {
			tag: "voice-14-2",
			s: 25,
			d: 6
		}
	}],
	cebollini: [{
		text: "What is this!? Get out of here - I am creating art!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-2",
			s: 0,
			d: 5
		}
	}, {
		text: "Yes, Madame, I live to cook!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-3",
			s: 0,
			d: 3
		}
	}, {
		text: "But Madame... I assure you...",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-3",
			s: 3,
			d: 3
		}
	}, {
		text: "WHAT?! FIRED?! ME!? This is an outrage!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-3",
			s: 6,
			d: 5
		}
	}, {
		text: "You have not heard the last of Chef Cebollini Carpaccio!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-3",
			s: 11,
			d: 4
		}
	}, {
		text: "What do you think you are doing?!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-4",
			s: 0,
			d: 3
		}
	}, {
		text: "Bringing a dish to my Queen!? Usurper! Fiend! This is MY job!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-4",
			s: 3,
			d: 7
		}
	}, {
		text: "If I cannot feed the Queen, then SHE WILL NOT EAT!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-4",
			s: 10,
			d: 4
		}
	}, {
		text: "What? How did you get over here? You are slime-less!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-5",
			s: 0,
			d: 5
		}
	}, {
		text: "No matter! This dish will never see the light of day! En garde!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-5",
			s: 5,
			d: 5
		}
	}, {
		text: "Always start battle with an appetizer!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-5",
			s: 10,
			d: 3
		}
	}, {
		text: "Still hungry? Time for the main course!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-5",
			s: 13,
			d: 4
		}
	}, {
		text: "There is always room for dessert!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-5",
			s: 17,
			d: 3
		}
	}, {
		text: "I must admit, you have not just bested me in battle...but also in the kitchen. Your cooking, it is exquisite!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-5",
			s: 20,
			d: 9
		}
	}, {
		text: "That dish of yours... I must have your recipe!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-5",
			s: 29,
			d: 4
		}
	}, {
		text: "Then you must bring the chef to the Queen! She will demand such talent in her kitchen!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-5",
			s: 33,
			d: 7
		}
	}, {
		text: "'Tis no joke, Madame. Here is but a taste of his talent!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-1",
			s: 0,
			d: 5
		}
	}, {
		text: "Ahem! I think what he is trying to say is that Slurpy wants to become my new apprentice in the Royal Kitchen.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-1",
			s: 5,
			d: 9
		}
	}, {
		text: "Of course, I would need my job back...",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-1",
			s: 14,
			d: 3
		}
	}, {
		text: "But of course! Never in my life, Madame!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-18-1",
			s: 17,
			d: 4
		}
	}],
	slime_queen: [{
		text: "OOOOOOOH look at this! It smells divine, Cebollini, as always!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-16-3",
			s: 0,
			d: 7
		}
	}, {
		text: "...",
		face: 1,
		anim: 2
	}, {
		text: "WHAT IS THIS, CEBOLLINI!? RAISINS?",
		face: 5,
		anim: 1,
		audio: {
			tag: "voice-16-3",
			s: 7,
			d: 4
		}
	}, {
		text: "You have broken the ROYAL RULE! NO RAISINS IN THE QUEEN'S DISHES!",
		face: 5,
		anim: 4,
		audio: {
			tag: "voice-16-3",
			s: 11,
			d: 8
		}
	}, {
		text: "You have left me no choice, Cebollini... You are FIRED!",
		face: 5,
		anim: 1,
		audio: {
			tag: "voice-16-3",
			s: 19,
			d: 7
		}
	}, {
		text: "What? This little slimeling? Is this a joke?",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-16-1",
			s: 0,
			d: 5
		}
	}, {
		text: "Cebollini?!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-16-3",
			s: 7.8,
			d: .85
		}
	}, {
		text: "MMMMMMMMM! Why, Cebollini, this is even better than YOUR turnip stew!",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-16-1",
			s: 5,
			d: 6
		}
	}, {
		text: "It is decided, then. Slurpy, you will become the new Royal Chef!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-16-1",
			s: 11,
			d: 8
		}
	}, {
		text: "Well, I... haven't eaten in hours and... as long as you don't break the ROYAL RULE again...",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-16-1",
			s: 19,
			d: 10
		}
	}, {
		text: "Guard! Inform this wizard that I will not be addressing their presence!",
		face: 4,
		anim: 1,
		audio: {
			tag: "voice-16-2",
			s: 0,
			d: 5
		}
	}],
	slime_guard: [{
		text: "Let the Royal Dinner commence!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-17-3",
			s: 0,
			d: 3
		}
	}, {
		text: "You want to cook a meal for the Queen? Not a bad idea.",
		face: 3,
		anim: 2,
		audio: {
			tag: "voice-17-4",
			s: 0,
			d: 4
		}
	}, {
		text: "Her screaming is starting to get on my nerves...",
		face: 0,
		anim: 1,
		audio: {
			tag: "voice-17-4",
			s: 4,
			d: 4
		}
	}, {
		text: "She loves turnips, can't go wrong there.",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-17-4",
			s: 8,
			d: 4
		}
	}, {
		text: "I'd give anything for a pair of earplugs...or ears.",
		face: 2,
		anim: 1,
		audio: {
			tag: "voice-17-4",
			s: 12,
			d: 5
		}
	}, {
		text: "The Queen will not pay attention to you... I suggest you move along.",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-17-2",
			s: 0,
			d: 6
		}
	}],
	slime_worker: [{
		text: "Dear me... This is an unfortunate situation.",
		face: 3,
		anim: 1,
		audio: {
			tag: "voice-17-1",
			s: 0,
			d: 4
		}
	}, {
		text: "Oh my, thank you for your help! Here, please take this small token of my appreciation!",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-17-1",
			s: 4,
			d: 6
		}
	}],
	slurpy: [{
		text: "Valiant effort, my wizard sidekick!",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-15-2",
			s: 0,
			d: 3
		}
	}, {
		text: "I bestow upon thee the gift of fire!",
		face: 1,
		anim: 4,
		audio: {
			tag: "voice-15-7",
			s: 0,
			d: 4
		}
	}, {
		text: "Oh, hello there! You're not a slime; what are you doing in a volcano, silly?",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-15-1",
			s: 0,
			d: 6
		}
	}, {
		text: "Slurpy the Valiant, at your service! I'm on a super important quest, and I could sure use a sidekick!",
		face: 4,
		anim: 4,
		audio: {
			tag: "voice-15-1",
			s: 6,
			d: 7
		}
	}, {
		text: "Buuuuut we need to get to the bottom of the volcano, and you'll have to drain the lava.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-15-1",
			s: 13,
			d: 5
		}
	}, {
		text: "Head to the right and find a lever there. All the best quests have levers, right?",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-15-1",
			s: 18,
			d: 5
		}
	}, {
		text: "That takes care of the first lever. Now find the next one.",
		face: 1,
		anim: 4,
		audio: {
			tag: "voice-15-3",
			s: 0,
			d: 4
		}
	}, {
		text: "GO FORTH, brave wizard, you know what to do!",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-15-3",
			s: 4,
			d: 4
		}
	}, {
		text: "The plot thickens! Slurpy the Brave has found the ULTIMATE INGREDIENT, while you were off levering. All we gotta do is add it to the Chef's food!",
		face: 1,
		anim: 4,
		audio: {
			tag: "voice-15-4",
			s: 0,
			d: 9
		}
	}, {
		text: "We're close now, wizard, just one lever left! Head to Outer Slimeburbia and give it a pull!",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-15-4",
			s: 9,
			d: 7
		}
	}, {
		text: "We reach the end of our quest - Slurpy the Gallant and his faithful wizard companion, against all odds, drained the lava to the final level!",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-15-5",
			s: 0,
			d: 9
		}
	}, {
		text: "Only one more obstacle in their path...",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-15-5",
			s: 9,
			d: 3
		}
	}, {
		text: "I... uh... forgot I left my ingredient somewhere in Slime Shanty... Help?",
		face: 2,
		anim: 1,
		audio: {
			tag: "voice-15-5",
			s: 12,
			d: 6
		}
	}, {
		text: "It's almost time for the Royal Dinner! Take the ingredient to the Royal Kitchen and put it in the Royal Stew.",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-15-6",
			s: 0,
			d: 6
		}
	}, {
		text: "Watch out for the Chef, though. He's kind of a grump...",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-15-6",
			s: 6,
			d: 3
		}
	}, {
		text: "Well, we did it! Now all there is to do is attend the Royal Dinner and take allll the credit!",
		face: 1,
		anim: 4,
		audio: {
			tag: "voice-15-8",
			s: 0,
			d: 7
		}
	}, {
		text: "You'll have to go for me, though... Kids aren't allowed there; Dad says the Queen has no table manners...",
		face: 2,
		anim: 1,
		audio: {
			tag: "voice-15-8",
			s: 7,
			d: 6
		}
	}, {
		text: "We broke a ROYAL RULE? I didn't know she didn't like raisins... They don't tell kids ANYTHING!",
		face: 3,
		anim: 4,
		audio: {
			tag: "voice-15-9",
			s: 0,
			d: 6
		}
	}, {
		text: "Oh no! What are we gonna do? Without her dinner, the Queen is gonna be REAL angry!",
		face: 2,
		anim: 1,
		audio: {
			tag: "voice-15-9",
			s: 6,
			d: 7
		}
	}, {
		text: "Looks like another quest for Slurpy the Wise and his loyal companion!",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-15-9",
			s: 13,
			d: 4
		}
	}, {
		text: "I got a plan, and it's a good one!",
		face: 1,
		anim: 4,
		audio: {
			tag: "voice-15-9",
			s: 17,
			d: 2
		}
	}, {
		text: "Head to the 3 levers and collect my cooking supplies; I always leave them there!",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-15-9",
			s: 19,
			d: 7
		}
	}, {
		text: "I'll bet you didn't know I could cook, huh? Yup, there's more to Slurpy than meets the eye!",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-15-10",
			s: 0,
			d: 6
		}
	}, {
		text: "But I need to know what the Queen actually LIKES... I know! Go talk to her guards, Mike and Hank!",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-15-10",
			s: 6,
			d: 6
		}
	}, {
		text: "If they don't know, nobody will!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-15-10",
			s: 12,
			d: 2
		}
	}, {
		text: "Oh no, not turnips! They're super rare here, and the Royal Collectors are the only ones allowed to pick them.",
		face: 2,
		anim: 1,
		audio: {
			tag: "voice-15-11",
			s: 0,
			d: 7
		}
	}, {
		text: "I only need a couple... Maybe you can convince them to give you some?",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-15-11",
			s: 7,
			d: 6
		}
	}, {
		text: "Well, it took lots of effort, but I'd say this quest is nearly complete! Slurpy the Great and his wizard will save the Kingdom with Turnip Stew!",
		face: 1,
		anim: 4,
		audio: {
			tag: "voice-15-12",
			s: 0,
			d: 10
		}
	}, {
		text: "Now, all you have to do is bring it to her... Easy as Turnip Pie!",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-15-12",
			s: 10,
			d: 5
		}
	}, {
		text: "This is stupid! Why couldn't the Royal Chef make his OWN food for the Queen?",
		face: 3,
		anim: 4,
		audio: {
			tag: "voice-15-13",
			s: 0,
			d: 4
		}
	}, {
		text: "...",
		face: 0,
		anim: 2
	}, {
		text: "Oh, right. Well, I guess it WAS kinda your fault he got fired.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-15-13",
			s: 4,
			d: 5
		}
	}, {
		text: "But either way, we need to get that dish back! If only you could walk across lava...",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-15-13",
			s: 9,
			d: 6
		}
	}, {
		text: "Hey! All you have to do is find the Boots of Hotwalk! They're in a chest, but legends say that only a fire monster has the key.",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-15-13",
			s: 15,
			d: 8
		}
	}, {
		text: "So, head out there and defeat the fire monsters!",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-15-13",
			s: 23,
			d: 4
		}
	}, {
		text: "Yup! That's the key alright!",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-15-14",
			s: 0,
			d: 3
		}
	}, {
		text: "Now, the chest should be pretty easy to find. The hard part is the 'Guardian'.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-15-14",
			s: 3,
			d: 5
		}
	}, {
		text: "That's what we call the guy who guards it. Clever, huh? Don't worry, should be a piece of cake for a wizard!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-15-14",
			s: 8,
			d: 6
		}
	}, {
		text: "Well, it's time for revenge! Slurpy the Fab and his almost-equally fab wizard friend against the fiendish Chef!",
		face: 3,
		anim: 1,
		audio: {
			tag: "voice-15-16",
			s: 0,
			d: 8
		}
	}, {
		text: "Now THAT'S a quest, right?",
		face: 4,
		anim: 4,
		audio: {
			tag: "voice-15-16",
			s: 8,
			d: 2
		}
	}, {
		text: "Of course, you'll be going alone. I got more important things to do. Like planning, and stuff.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-15-16",
			s: 10,
			d: 6
		}
	}, {
		text: "The Chef wants ME to meet the Queen?! Wow... What an honor!",
		face: 1,
		anim: 4,
		audio: {
			tag: "voice-15-17",
			s: 0,
			d: 4
		}
	}, {
		text: "I hope he's still not mad about the whole 'getting fired' thing.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-15-17",
			s: 4,
			d: 4
		}
	}, {
		text: "WHAT!? But I only know how to make one dish...",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-15-17",
			s: 8,
			d: 3
		}
	}, {
		text: "This is way too much pressure!",
		face: 2,
		anim: 1,
		audio: {
			tag: "voice-15-17",
			s: 11,
			d: 2
		}
	}, {
		text: "Maybe if I study as the Chef's apprentice, I can learn more about being a chef before I have a lot of responsibility.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-15-17",
			s: 13,
			d: 7
		}
	}, {
		text: "Thanks for your help!",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-15-17",
			s: 20,
			d: 2
		}
	}, {
		text: "And now that you've proven you're worthy, I can give you this: the Bonfire Gem!",
		face: 1,
		anim: 4,
		audio: {
			tag: "voice-15-17",
			s: 22,
			d: 5
		}
	}, {
		text: "Well, I can finally say it for real this time... QUEST COMPLETE!",
		face: 1,
		anim: 4,
		audio: {
			tag: "voice-15-18",
			s: 0,
			d: 5
		}
	}, {
		text: "We did it, friend! I couldn't have done it without you! Now, it's time for you to move on. There are other quests out there for you to discover!",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-15-18",
			s: 5,
			d: 9
		}
	}],
	puppetmaster: [{
		text: "It is finally done. With the Warden Keystones destroyed, no one will EVER be able to enter the Academy and fill their minds with knowledge.",
		face: 0,
		audio: {
			tag: "voice-20-1",
			s: 0,
			d: 10
		}
	}, {
		text: "And without knowledge, they will not be able to resist our mind illusions!",
		face: 2,
		anim: 4,
		audio: {
			tag: "voice-20-1",
			s: 10,
			d: 5
		}
	}, {
		text: "You seem to know me, but I have no idea who YOU are.",
		face: 0,
		audio: {
			tag: "voice-20-1",
			s: 15,
			d: 5
		}
	}, {
		text: "Bold words. Unfortunately for you, the shadow blast that destroyed the Warden Keystones also drained power from the 6 Wardens themselves.",
		face: 0,
		audio: {
			tag: "voice-20-1",
			s: 20,
			d: 10
		}
	}, {
		text: "Now, nothing stands in our way.",
		face: 2,
		audio: {
			tag: "voice-20-1",
			s: 30,
			d: 3
		}
	}, {
		text: "Are...you...KIDDING ME?! HOW DID WE MISS ONE?!",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-20-1",
			s: 33,
			d: 5
		}
	}, {
		text: "WHY CAN'T I GET MY WAY!?!?!",
		face: 3,
		anim: 1,
		audio: {
			tag: "voice-20-1",
			s: 38,
			d: 3
		}
	}, {
		text: "COME ON! How is this even possible?! They had no idea we were coming!",
		face: 1,
		anim: 4,
		audio: {
			tag: "voice-20-1",
			s: 41,
			d: 7
		}
	}, {
		text: "...That sounds like a good idea.",
		face: 1,
		audio: {
			tag: "voice-20-1",
			s: 48,
			d: 2
		}
	}, {
		text: "Now then! Fall back to the Academy. We must make plans for our next steps.",
		face: 2,
		anim: 2,
		audio: {
			tag: "voice-20-1",
			s: 50,
			d: 6
		}
	}],
	pippit: [{
		text: "6 Wardens? Uh, master, there were only 5 in there...",
		face: 1,
		anim: 2,
		audio: {
			tag: "voice-19-1",
			s: 0,
			d: 5
		}
	}, {
		text: "It was a great try though, master, really. Why, no one else in the Order's history has come this close to total victory!",
		face: 3,
		anim: 2,
		audio: {
			tag: "voice-19-1",
			s: 5,
			d: 8
		}
	}, {
		text: "Hey there, I have an idea. How about we calm down and figure out a new plan! That sound like a good idea?",
		face: 4,
		anim: 2,
		audio: {
			tag: "voice-19-1",
			s: 13,
			d: 8
		}
	}],
	julia_ghoulia: [{
		text: "Why hello again! Looking to purchase some spooky specials?",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-21-2",
			s: 0,
			d: 6
		}
	}, {
		text: "Welcome to Pumpkinfest!",
		face: 0,
		anim: 4,
		audio: {
			tag: "voice-21-1",
			s: 0,
			d: 3
		}
	}, {
		text: "Until October 31st, you can purchase Pumpkinfest items from my shop with candy corn cash.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-21-1",
			s: 3,
			d: 7
		}
	}, {
		text: "Candy corn cash can be earned from wizard battles during the festival.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-21-1",
			s: 10,
			d: 5
		}
	}, {
		text: "You can also get a LOT of candy corn by rescuing pumpkins. If you find a pumpkin in Lamplight Town that isn't lit, click or tap it.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-21-1",
			s: 15,
			d: 11
		}
	}, {
		text: "If you can defeat the monster that has taken it over, you will get a bunch more candy corn!",
		face: 0,
		anim: 4,
		audio: {
			tag: "voice-21-1",
			s: 26,
			d: 7
		}
	}],
	mama_star: [{
		text: "Why hello again! Did you find the fallen star in town tonight?",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-22-1",
			s: 34,
			d: 5
		}
	}, {
		text: "Hi there! You can buy Starlight Festival items from my shop right now, but the only way to buy them is by spending Star Shards.",
		face: 0,
		anim: 4,
		audio: {
			tag: "voice-22-1",
			s: 39,
			d: 10
		}
	}, {
		text: "If you come back tonight, you can get Star Shards from wizard battles, and find a fallen star in the town to get even more!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-22-1",
			s: 49,
			d: 9
		}
	}, {
		text: "Why hello there! I'm Mama Star! Welcome to the Starlight Festival!",
		face: 0,
		anim: 4,
		audio: {
			tag: "voice-22-1",
			s: 0,
			d: 6
		}
	}, {
		text: "Until November 30th, you can purchase Starlight Festival items from my shop with Star Shards.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-22-1",
			s: 6,
			d: 7
		}
	}, {
		text: "Star Shards can be earned from wizard battles during the festival.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-22-1",
			s: 13,
			d: 4
		}
	}, {
		text: "You can also get a LOT of Star Shards by finding fallen stars. If you find a fallen star in Lamplight Town, click or tap it.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-22-1",
			s: 17,
			d: 9
		}
	}, {
		text: "If you can defeat the monster that is trying to capture it, you will get a bunch more Star Shards!",
		face: 0,
		anim: 4,
		audio: {
			tag: "voice-22-1",
			s: 26,
			d: 7
		}
	}],
	toy: [{
		text: "Welcome to Wandering Wares! We specialize in ancient artifacts for powerful wizards, but I'm not interested in gold!",
		face: 0,
		audio: {
			tag: "voice-23-1",
			s: 0,
			d: 8
		}
	}, {
		text: "If you find old copper coins, I'll gladly trade for them.",
		face: 0,
		audio: {
			tag: "voice-23-1",
			s: 8,
			d: 4
		}
	}, {
		text: "Onto the next area, shall we?",
		face: 0,
		audio: {
			tag: "voice-23-1",
			s: 8,
			d: 4
		}
	}, {
		text: "This is Arctursus, the arctic powerhouse! The air around Arctursus is always cold - the tips of his fur are made from ice that can't melt!",
		face: 0,
		audio: {
			tag: "voice-23-2",
			s: 12.6,
			d: 10.4
		}
	}, {
		text: "Florafox here is guardian of the forests! The bulb on her tail produces a pollen that can heal any plant, no matter how withered it is!",
		face: 0,
		audio: {
			tag: "voice-23-2",
			s: 23.1,
			d: 9
		}
	}, {
		text: "Don't forget Big Hex, master of mech! This mechano-man is so tough, his static electricity won't let his enemies near him!",
		face: 0,
		audio: {
			tag: "voice-23-2",
			s: 32.4,
			d: 9.6
		}
	}, {
		text: "Here's Magmischief, the mischievous magma-loving monster! This sneaky guy loves the heat, but that just makes him cool!",
		face: 0,
		audio: {
			tag: "voice-23-2",
			s: 42,
			d: 8
		}
	}, {
		text: "There's Diveodile, the ocean lord! He can swim faster than a sailboat, and create whirlpools with the smallest flick of his tail!",
		face: 0,
		audio: {
			tag: "voice-23-2",
			s: 50,
			d: 9
		}
	}, {
		text: "Want to try your hand at the Epic Arena? Use your Epic to challenge hordes of enemies and gain awesome rewards!",
		face: 0,
		audio: {
			tag: "voice-23-2",
			s: 59,
			d: 7.3
		}
	}, {
		text: "Well, now that you've met the Epics, you can see their potential! Just imagine how strong they would be on YOUR team!",
		face: 0,
		audio: {
			tag: "voice-23-2",
			s: 67.5,
			d: 8.5
		}
	}, {
		text: "Welcome to the Epic's Subspace! This is a world where the Epics live, while resting in their statue forms.",
		face: 0,
		audio: {
			tag: "voice-23-2",
			s: 0,
			d: 7
		}
	}, {
		text: "It's up to wizards like you to rescue them! When you do, they will join you on your quests!",
		face: 0,
		audio: {
			tag: "voice-23-2",
			s: 7,
			d: 6
		}
	}, {
		text: "Come back soon to challenge the Epic Arena!",
		face: 0
	}],
	howard_cornelius: [{
		text: "Ice to see you again, wizard. I have lots of cool trinkets on sale!",
		face: 0,
		anim: 4,
		audio: {
			tag: "]voice-24-1",
			s: 21.9,
			d: 5.1
		}
	}, {
		text: "Do you have any Magic Snowflakes for Hanz?",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-24-1",
			s: 27,
			d: 2.25
		}
	}, {
		text: "Let me tell you, he won't chill out until he gets some.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-24-1",
			s: 29.25,
			d: 3.5
		}
	}, {
		text: "Ice to meet you young wizard! What a fantastically chilly day it is today!",
		face: 0,
		anim: 4,
		audio: {
			tag: "voice-24-1",
			s: 0,
			d: 5
		}
	}, {
		text: "Hanz and I have brought a lot of cool items with us. We're super excited to be bringing Winterfest cheer to Lamplight Town!",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-24-1",
			s: 5.9,
			d: 8
		}
	}, {
		text: "You got any Magic Snowflakes? Hanz absolutely loves munching on them.",
		face: 0,
		anim: 2,
		audio: {
			tag: "voice-24-1",
			s: 13.9,
			d: 8
		}
	}],
	"sir-vey": [{
		text: "Good day, wizard! Unfortunately, I don't have any questions right now, but be sure to come back soon, and I might have something new to ask you!",
		anim: 4,
		face: 0
	}, {
		text: "Greetings, wizard! I have a quick question for you. If you answer it, you shall be rewarded for your assistance!",
		anim: 4,
		face: 1
	}],
	"mozza-ella": [{
		text: "This place feels cozy. What do you think?",
		face: 0
	}, {
		text: 'This place is very "you!"',
		face: 0
	}, {
		text: "This house is not too big, or too small. It's just right!",
		face: 0
	}, {
		text: "You won't run out of room in here any time soon!",
		face: 0
	}, {
		text: "This place is so big, you might even get lost in it!",
		face: 0
	}, {
		text: "This would make for a cool clubhouse!",
		face: 0
	}, {
		text: "Wow! What a great place to relax in.",
		face: 0
	}, {
		text: "This place is cool!",
		face: 0
	}, {
		text: "You could really chill out in here.",
		face: 0
	}, {
		text: "This type of house is very popular among wizards who study fire magic.",
		face: 0
	}, {
		text: "I bet you'd feel warm in here even in the middle of Winterfest!",
		face: 0
	}, {
		text: "So, what do you think?",
		face: 1
	}],
	potion: [{
		text: "Hey there, how's it goin'?!",
		face: 1
	}, {
		text: "I'm Scientist Slimerella, great to meet cha!",
		face: 0
	}, {
		text: "I've come to town all the way from Bonfire Spire to sell rare and powerful potions I created using my science skills.",
		face: 1
	}, {
		text: "Here, have a free sample!",
		face: 0
	}, {
		text: "Now let me show you what else I've got!",
		face: 0
	}, {
		text: "Feel free to come back any time!",
		face: 1
	}, {
		text: "Check out what I got in stock - you'll find some pretty awesome stuff in there!",
		face: 0
	}, {
		text: "Science for the win! Yeah!",
		face: 0
	}],
	swoopy: [{
		text: "The Puppet Master's goons have destroyed our village and taken our wood! Can you help us get it back?",
		face: 1
	}, {
		text: "Complete as many daily quests here as you can before the real adventure begins later this year!",
		face: 0
	}, {
		text: "Take one of the two paths behind me to complete today's quest!",
		face: 1
	}, {
		text: "You completed today's quest. Thanks for getting some of our wood back!",
		face: 0
	}, {
		text: "Don't forget to come back tomorrow!",
		face: 0
	}]
}, Prodigy.Hints = function () {}, Prodigy.Hints.data = {
	none: [{
		text: "Low on hearts? Try switching to one of your pets in battle."
	}, {
		text: "Lost on a quest? Follow the white hand to your next goal!"
	}, {
		text: "When you're low on hearts, find a healstone to heal you and your pets!"
	}, {
		text: "Want to change your team? Open the Pet Menu from the Main Menu."
	}, {
		text: "Your hearts are fully restored when you level up!"
	}, {
		text: "Want a new look? Head to the Stylist in Lamplight Town."
	}, {
		text: "The latest and greatest equipment can be bought at the Item Shop in Lamplight Town."
	}, {
		text: "You can fast-travel to any zone by opening the Map from the Main Menu."
	}, {
		text: "Be sure to return to Prodigy every so often...new content is added all the time!"
	}, {
		text: "Become a World Champion by challenging other wizards in the Arena!"
	}, {
		text: "Earn stars to level up...the strongest wizards are Level 100!"
	}, {
		text: "Want to play with your friends? Make sure you select the same world as they do!"
	}, {
		text: "Check your achievement progress by opening the Awards Menu from the Main Menu."
	}, {
		text: "Complete bounties from the Bounty Board in Lamplight Town to earn awesome rewards!"
	}, {
		text: "Rumor has it that there is a powerful wizard at the top of the Dark Tower..."
	}, {
		text: "Need more gold? Head out and battle monsters!"
	}, {
		text: "Keep your team at its best! Level up your pets alongside your wizard."
	}, {
		text: "Show off your latest rewards and outfits in Lamplight Town!"
	}, {
		text: "Want to see what other wizards are wearing? Just click on them!"
	}, {
		text: "Pets can be caught when their hearts are low, but make sure not to defeat them by accident!"
	}, {
		text: "You learn new spells by leveling up, but can also learn them from completing quests."
	}, {
		text: "Explore each zone thoroughly...there are secrets hidden everywhere!"
	}, {
		text: "Can't beat a boss or another wizard? Level up your team and try again!"
	}, {
		text: "Practice makes perfect! If you get a question wrong, try using a hint for the next one!"
	}, {
		text: "The Academy in Lamplight Town floats in the sky, just out of reach."
	}, {
		text: "Merchants are found all over the island. Some offer new items, others offer quests!"
	}, {
		text: "Want to change your equipment? Open up the Backpack from the Main Menu!"
	}, {
        text: "Save your game using the save character button in the Settings Menu!"
    }]
}, Prodigy.Hints.prototype = {
	getRandomHint: function (e) {
		return Prodigy.Hints.data[e][Math.floor(Math.random() * Prodigy.Hints.data[e].length)]
	}
}, Prodigy.Hints.prototype.constructor = Prodigy.Hints, Prodigy.EmailDomains = function () {}, Prodigy.EmailDomains.data = {
	domains: ["aol.com", "att.net", "comcast.net", "facebook.com", "gmail.com", "gmx.com", "googlemail.com", "google.com", "hotmail.com", "hotmail.co.uk", "mac.com", "me.com", "mail.com", "msn.com", "live.com", "sbcglobal.net", "verizon.net", "yahoo.com", "yahoo.co.uk", "email.com", "games.com", "gmx.net", "hush.com", "hushmail.com", "icloud.com", "inbox.com", "lavabit.com", "love.com", "outlook.com", "pobox.com", "rocketmail.com", "safe-mail.net", "wow.com", "ygm.com", "ymail.com", "zoho.com", "fastmail.fm", "yandex.com", "bellsouth.net", "charter.net", "comcast.net", "cox.net", "earthlink.net", "juno.com", "btinternet.com", "virginmedia.com", "blueyonder.co.uk", "freeserve.co.uk", "live.co.uk", "ntlworld.com", "o2.co.uk", "orange.net", "sky.com", "talktalk.co.uk", "tiscali.co.uk", "virgin.net", "wanadoo.co.uk", "bt.com", "sina.com", "qq.com", "naver.com", "hanmail.net", "daum.net", "nate.com", "yahoo.co.jp", "yahoo.co.kr", "yahoo.co.id", "yahoo.co.in", "yahoo.com.sg", "yahoo.com.ph", "hotmail.fr", "live.fr", "laposte.net", "yahoo.fr", "wanadoo.fr", "orange.fr", "gmx.fr", "sfr.fr", "neuf.fr", "free.fr", "gmx.de", "hotmail.de", "live.de", "online.de", "t-online.de", "web.de", "yahoo.de", "mail.ru", "rambler.ru", "yandex.ru", "ya.ru", "list.ru", "hotmail.be", "live.be", "skynet.be", "voo.be", "tvcablenet.be", "telenet.be", "hotmail.com.ar", "live.com.ar", "yahoo.com.ar", "fibertel.com.ar", "speedy.com.ar", "arnet.com.ar", "hotmail.com", "gmail.com", "yahoo.com.mx", "live.com.mx", "yahoo.com", "hotmail.es", "live.com", "hotmail.com.mx", "prodigy.net.mx", "msn.com", "bell.ca", "bell.com", "rogers.ca", "rogers.com", "cogeco.ca", "cogeco.com", "hotmail.ca", "live.ca", "yahoo.ca"]
}, Prodigy.EmailDomains.prototype = {
	hasCommonDomain: function (e) {
		var t = e.substring(e.indexOf("@") + 1, e.length);
		return -1 !== Prodigy.EmailDomains.data.domains.indexOf(t)
	},
	isValidEmail: function (e) {
		return Util.isDefined(e) && e.length > 0
	}
}, Prodigy.EmailDomains.prototype.constructor = Prodigy.EmailDomains, Prodigy.DailyLoginBonusRewards = function () {}, Prodigy.DailyLoginBonusRewards.data = {
	days_a: [{
		type: "item",
		ID: 1
	}, {
		type: "item",
		ID: 77
	}, {
		type: "gold",
		N: 200
	}, {
		type: "item",
		ID: 4
	}, {
		type: "currency",
		ID: 3,
		N: 10
	}],
	days_a_mystery: [{
		type: "item",
		ID: 1
	}, {
		type: "item",
		ID: 77
	}, {
		type: "gold",
		N: 200
	}, {
		type: "item",
		ID: 4
	}, {
		type: "currency",
		ID: 1,
		N: 250,
		R: 50,
		M: 1
	}]
}, Prodigy.DailyLoginBonusRewards.prototype = {
	getABTest: function (e) {
		return Prodigy.DailyLoginBonusRewards.data.days_a_mystery
	},
	getReward: function (e, t) {
		return this.getABTest(e)[t]
	},
	getCurrencyRewardAmount: function (e) {
		return Util.isDefined(e.R) ? e.N + Math.floor(Math.random() * e.R) : e.N
	}
}, Prodigy.DailyLoginBonusRewards.prototype.constructor = Prodigy.DailyLoginBonusRewards, Prodigy.TwilightWheelPrizes = function (e) {
	this.game = e, this.seed = 0
}, Prodigy.TwilightWheelPrizes.prototype = {
	constructor: Prodigy.TwilightWheelPrizes,
	initPrizes: function (e) {
		this.seed = e;
		var t = [35, 36, 37],
			i = [1, 3, 4, 11, 22],
			a = Items.getItemData("item", this.game.random.pick(i, e));
		a.type = "item";
		var s = Items.getItemData("follow", this.game.random.pick(t, e));
		s.type = "follow", this.data = {
			prizes: [{
				item: {
					type: "currency",
					ID: 6,
					N: this.getCurrencyRewardAmount(50, 50)
				},
				weight: 30
			}, null, {
				item: {
					type: "currency",
					ID: 6,
					N: this.getCurrencyRewardAmount(50, 50)
				},
				weight: 10
			}, null, {
				item: {
					type: "currency",
					ID: 8,
					N: this.getCurrencyRewardAmount(500, 500)
				},
				weight: 9.999
			}, null, {
				item: a,
				weight: 15
			}, null, {
				item: {
					type: "currency",
					ID: 7,
					N: this.getCurrencyRewardAmount(125, 175)
				},
				weight: 25
			}, {
				item: s,
				weight: .001
			}]
		}, this.setGearPrizes()
	},
	getReward: function (e) {
		var t = this.data.prizes[e].item;
		if ("currency" === t.type && _.inRange(t.ID, 6, 9)) {
			var i = _.cloneDeep(this.data.prizes[e]);
			return i.item.type = "gold", i.item.ID = 1, i
		}
		return this.data.prizes[e]
	},
	setGearPrizes: function () {
		var e = [],
			t = [],
			i = ["outfit", "weapon", "boots", "hat"];
		switch (this.game.random.shuffleArray(i, this.seed), Math.floor(4 * this.game.random.frac(this.seed))) {
		case 0:
			e = [0, 0, 1, 3], t = [2.8, 2.8, 2.5, 1.9];
			break;
		case 1:
			e = [0, 0, 2, 2], t = [2.8, 2.8, 2.2, 2.2];
			break;
		case 2:
			e = [0, 1, 1, 2], t = [2.8, 2.5, 2.5, 2.2];
			break;
		case 3:
			e = [1, 1, 1, 1], t = [2.5, 2.5, 2.5, 2.5]
		}
		for (var a = 0, s = [], r = 0, o = null, n = 0; n < this.data.prizes.length; n++)
			if (!Util.isDefined(this.data.prizes[n])) {
				for (o = null; !Util.isDefined(o);) s = Items.getItems(i[a], Math.max(0, e[a] - r)), 0 === s.length ? r++ : (o = this.game.random.pick(s, this.seed), this.data.prizes[n] = {
					item: o,
					weight: t[a]
				}, a++);
				r = 0
			}
	},
	getCurrencyRewardAmount: function (e, t) {
		return e + _.random(0, t, !1)
	}
};
var Items = function () {
	function e() {}
	return e
}();
Items.getItemData = function (e, t) {
	if (Util.isDefined(Items.data[e]))
		for (var i = Items.data[e], a = 0; a < i.length; a++)
			if (i[a].ID === parseInt(t)) return i[a];
	return "pet" === e ? Monsters.data[t] : null
}, Items.getRandomItem = function (e) {
	return Util.isDefined(Items.data[e]) ? Math.floor(Items.data[e].length * Math.random()) + 1 : 1
}, Items.getIconAtlas = function (e) {
	if (Util.isDefined(e.iconAtlas)) return e.iconAtlas;
	if ("string" != typeof e && Util.isDefined(e.ID) && Util.isDefined(e.type)) {
		var t = Items.getItemData(e.type, e.ID);
		if (Util.isDefined(t) && Util.isDefined(t.iconAtlas)) return t.iconAtlas
	}
	return "icons"
}, Items.getIconFrame = function (e) {
	return "string" != typeof e && Util.isDefined(e.ID) ? "" + e.ID : e
}, Items.getDormItems = function (e) {
	for (var t = [], i = 0; i < Items.data.dorm.length; i++) Items.data.dorm[i].category === e && t.push(Items.data.dorm[i]);
	return t
}, Items.getItemDropList = function () {
	for (var e = [], t = 0; t < Items.TYPES.length; t++)
		for (var i = 0; i < Items.data[Items.TYPES[t]].length; i++) {
			var a = Items.data[Items.TYPES[t]][i],
				s = Items.TYPES[t];
			Util.isDefined(a.drop) && e.push({
				type: s,
				ID: i + 1,
				R: Items.DROP_RATE_BY_TYPE[s] * Items.DROP_RATE_BY_RARITY[a.rarity]
			})
		}
	return e
}, Items.getItems = function (e, t) {
	if (Util.isDefined(Items.RARITY[t]) || (t = Items.RARITY.indexOf(t)), !Util.isDefined(Items.data[e]) || -1 === t) return null;
	for (var i = [], a = 0; a < Items.data[e].length; a++) {
		var s = Items.data[e][a];
		Util.isDefined(s.drop) && Util.isDefined(s.rarity) && s.rarity === t && i.push({
			type: e,
			ID: a + 1,
			rarity: t,
			N: 1
		})
	}
	return i
}, Items.getItemDrops = function (e) {
	var t = Items.getItemDropList();
	Util.isDefined(e) && (t = t.concat(e));
	var i, a, s = [];
	for (a = 0; a < t.length; a++) i = t[a], Util.isDefined(i) && Math.random() < i.R && s.push(i);
	for (a = 0; a < Items.data.currency.length; a++) i = Items.data.currency[a], Math.random() < i.drop && s.push({
		ID: i.ID,
		type: "currency",
		N: 1
	});
	return s
}, Items.getItemPrice = function (e, t) {
	var i = Items.getItemData(e, t);
	if (!Util.isDefined(i)) return 0;
	var a = i.rarity || 0,
		s = 50;
	if ("outfit" === e) s = 200;
	else if ("hat" === e) s = 150;
	else if ("weapon" === e) s = 300;
	else if ("pet" === e) s = 1500;
	else {
		if ("follow" === e) return Util.isDefined(i.customPrice) ? i.customPrice : 2 === a ? 1e3 : 500;
		if ("dorm" === e) "Comfy" === i.type ? s = 250 : "Surface" === i.type ? s = 150 : "Plants" === i.type ? s = 50 : "Storage" === i.type ? s = 450 : "Wall" === i.type ? s = 150 : "Items" === i.type ? s = 200 : "Lamp" === i.type && (s = 100);
		else if ("dormbg" === e || Util.isDefined(i.type) && "potion" === i.type) return i.price
	}
	return s += 50 * a, s += 25 * (i.h || 0), s += 50 * (i.d || 0)
}, Items.DROP_RATE_BY_TYPE = {
	outfit: 4e-4,
	weapon: 5e-4,
	hat: .001,
	boots: .001,
	item: .025
}, Items.DROP_RATE_BY_RARITY = [1, .75, .5, .25, .1], Items.RARITY_COLOR = ["#c7c7c7", "#6fc159", "#408cd9", "#b93ae2", "#f7942e"], Items.RARITY = ["common", "uncommon", "rare", "epic", "legendary"], Items.TYPES = ["outfit", "weapon", "boots", "hat", "item"], Items.createExtraAnimInfo = function (e, t, i, a, s) {
	for (var r = [], o = 0; t > o; o++) r.push(e + "-" + o);
	return {
		animFrames: r,
		offsets: {
			x: i,
			y: a
		},
		targetCycle: s
	}
}, Items.data = {
	outfit: [{
		ID: 1,
		name: "Magi's Shroud",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Worn by apprentice wizards, the Magi's Shroud is a light, yet magical garb.",
		effects: [34]
	}, {
		ID: 2,
		name: "Warlock's Robe",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "A robe made from magical silk, used by student and teacher alike at the Academy.",
		effects: [34]
	}, {
		ID: 3,
		name: "Jester's Robes",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "The bells on this cloak only ring when its wearer wins a battle, never when they walk.",
		effects: [34]
	}, {
		ID: 4,
		name: "Crimson Cloak",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "It is common to see this robe worn by individuals at formal gatherings.",
		effects: [34]
	}, {
		ID: 5,
		name: "Angelic Shroud",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Only the most powerful wizards wear this enchanted robe, adorned with eagle's feathers.",
		effects: [34]
	}, {
		ID: 6,
		name: "Glacial Ward",
		member: 0,
		rarity: 2,
		flavorText: "It is said the ice crystals used to make this robe will protect its wearer from bad things.",
		effects: [35]
	}, {
		ID: 7,
		name: "Dragon Scales",
		member: 1,
		rarity: 2,
		drop: 1,
		flavorText: 'Made from the hide of "Carcus the Terrible" the most unforgiving dragon ever known.',
		effects: [35]
	}, {
		ID: 8,
		name: "Sun's Embrace",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "This cloak can sense its wearer and will burn more brightly when it detects fear.",
		effects: [34]
	}, {
		ID: 9,
		name: "Water Robe",
		member: 1,
		rarity: 0,
		drop: 1,
		flavorText: "The standard robe worn by initiated members of the Academy's Water School.",
		effects: [33]
	}, {
		ID: 10,
		name: "Fire Robe",
		member: 1,
		rarity: 0,
		drop: 1,
		flavorText: "The standard robe worn by initiated members of the Academy's Fire School.",
		effects: [33]
	}, {
		ID: 11,
		name: "Air Robe",
		member: 1,
		rarity: 0,
		drop: 1,
		flavorText: "The standard robe worn by initiated members of the Academy's Storm School.",
		effects: [33]
	}, {
		ID: 12,
		name: "Earth Robe",
		member: 1,
		rarity: 0,
		drop: 1,
		flavorText: "The standard robe worn by initiated members of the Academy's Earth School.",
		effects: [33]
	}, {
		ID: 13,
		name: "Training Garb",
		member: 1,
		rarity: 0,
		drop: 1,
		flavorText: "Worn for practice dueling, it is not uncommon to see this garb singed and torn.",
		effects: [33]
	}, {
		ID: 14,
		name: "Light Clothes",
		member: 1,
		rarity: 0,
		drop: 1,
		flavorText: "The favourite choice of wizards on hot days, it's cool but provides little protection.",
		effects: [33]
	}, {
		ID: 15,
		name: "Cloth Robe",
		member: 1,
		rarity: 0,
		drop: 1,
		flavorText: "Light and durable, this robe is prized by wizards both young and old for its comfort.",
		effects: [33]
	}, {
		ID: 16,
		name: "Heavy Robe",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Made for wizards who don't like being cold but don't mind being itchy.",
		effects: [33]
	}, {
		ID: 17,
		name: "Leather Apparel",
		member: 1,
		rarity: 0,
		drop: 1,
		flavorText: "For the stylish wizard, these robes are intimidating and stain-resistant!",
		effects: [33]
	}, {
		ID: 18,
		name: "Durofibre Robe",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Modern wizards love how soft these robes feel, often worn by academics in libraries.",
		effects: [33]
	}, {
		ID: 19,
		name: "Magi-thread Outfit",
		member: 1,
		rarity: 0,
		drop: 1,
		flavorText: "The Magi were ancient wizards that studied the stars. They wore these robes for their most important ceremonies.",
		effects: [33]
	}, {
		ID: 20,
		name: "Pyrium Robe",
		member: 1,
		rarity: 0,
		drop: 1,
		flavorText: "This is the product of genius weavers who were able to spin metal into colorful threads.",
		effects: [33]
	}, {
		ID: 21,
		name: "Mithril Robe",
		member: 1,
		rarity: 0,
		drop: 1,
		flavorText: "As strong as it is lightweight, Mithril was once rare because it could only be found in distant lands.",
		effects: [33]
	}, {
		ID: 22,
		name: "Vitrium Robe",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: 'This robe gets its name from its large blue gems, often referred to as "Water Glass".',
		effects: [34]
	}, {
		ID: 23,
		name: "Culix Robe",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Specially designed for a northern wizard who studied the history of magic, Culix's diaries are required reading for student wizards.",
		effects: [33]
	}, {
		ID: 24,
		name: "Trialmaster's Garb",
		member: 1,
		rarity: 4,
		flavorText: "Only the trial masters of past and present were given these robes and are forbidden to take them off. How did you get them?",
		effects: [83]
	}, {
		ID: 25,
		name: "Anorak Suit",
		member: 0,
		rarity: 2,
		flavorText: "Need to keep warm in those winter days? It may not be a robe, but it sure is warm!",
		effects: [35]
	}, {
		ID: 26,
		name: "Winterfest Outfit",
		member: 1,
		rarity: 2,
		flavorText: "The official outfit worn by helpers at Winterfest!",
		effects: [35]
	}, {
		ID: 27,
		name: "Dragon Spike Robes",
		member: 1,
		rarity: 2,
		flavorText: "In close combat these spikes are dangerous indeed. Be careful when you're around your friends!",
		effects: [35]
	}, {
		ID: 28,
		name: "Warm Robes",
		member: 1,
		rarity: 1,
		flavorText: "Commonly worn in very cold places, these robes are made from many layers of fur and pelts.",
		effects: [34]
	}, {
		ID: 29,
		name: "Firefly Robes",
		member: 1,
		rarity: 2,
		flavorText: "A magical robe made from the leaves and materials found in Firefly Forest.",
		effects: [35]
	}, {
		ID: 30,
		name: "Magic Robes",
		member: 1,
		rarity: 1,
		flavorText: "These robes were custom made for a wizard...but they seem to fit you just right!",
		effects: [34]
	}, {
		ID: 31,
		name: "Frost Saber Robes",
		member: 1,
		rarity: 2,
		flavorText: "These wooly robes will keep you warm in cold weather...but don't wear them in the sun!",
		effects: [35]
	}, {
		ID: 32,
		name: "Duelist Robes",
		member: 1,
		rarity: 2,
		flavorText: "The robes of one of the greatest wizards in the Academy.",
		effects: [35]
	}, {
		ID: 33,
		name: "Shiverchill Robes",
		member: 1,
		rarity: 2,
		flavorText: "The ceremonial robes of the Shiverchill Tribes.",
		effects: [35]
	}, {
		ID: 34,
		name: "Bonfire Robes",
		member: 1,
		rarity: 1,
		flavorText: 'These can only be worn by those who have seen the "Bonfire of the Spire", a volcanic eruption, up close.',
		effects: [34]
	}, {
		ID: 35,
		name: "Captain's Digs",
		member: 1,
		rarity: 2,
		flavorText: 'Don\'t these just scream "Arggg"? They even come with the optional hook attachment!',
		effects: [35]
	}, {
		ID: 36,
		name: "Buccaneer's Digs",
		member: 1,
		rarity: 1,
		flavorText: "The choice clothes of deckhands and mates everywhere. Watch out, captains will be sure to shout orders at you.",
		effects: [34]
	}, {
		ID: 37,
		name: "Skywatch Gear",
		member: 1,
		rarity: 1,
		flavorText: "Since the Skyfolk don't wear clothing, the humans that come up to the clouds wear this outfit to stay warm and dry.",
		effects: [34]
	}, {
		ID: 38,
		name: "Mira's Robes",
		member: 1,
		rarity: 3,
		flavorText: "These robes give off immense power, and almost seem to repel the ground below you.",
		effects: [82]
	}, {
		ID: 39,
		name: "Diggin' Outfit",
		member: 1,
		rarity: 2,
		flavorText: "This is the outfit of the Oasis Institute of Natural Creatures (OINC).",
		effects: [35]
	}, {
		ID: 40,
		name: "Desert Robes",
		member: 1,
		rarity: 1,
		flavorText: "These robes protect the wearer from the brutal weather in the desert.",
		effects: [34]
	}, {
		ID: 41,
		name: "Tinkerer Outfit",
		member: 1,
		rarity: 1,
		flavorText: "This outfit is very stylish, but also pretty heavy-duty! The people back then sure were tough!",
		effects: [34]
	}, {
		ID: 42,
		name: "TEK-Y4 Jumpsuit",
		member: 1,
		rarity: 1,
		flavorText: "The jumpsuit worn by the official TEK-Y4 dance instructors. Kind of sweaty...",
		effects: [34]
	}, {
		ID: 43,
		name: "Robot Outfit",
		member: 1,
		rarity: 2,
		flavorText: "Whoever said that a wizard couldn't be a robot never had a chance to try these on...",
		effects: [35]
	}, {
		ID: 44,
		name: "Pumpkin Outfit",
		member: 0,
		rarity: 2,
		flavorText: "The Pumpkin Lord is said to return every year on Pumpkinfest to rule over all pumpkins.",
		effects: [35]
	}, {
		ID: 45,
		name: "Luminite Costume",
		member: 1,
		rarity: 0,
		flavorText: "A cute Luminite costume! It's so lifelike!",
		effects: [33]
	}, {
		ID: 46,
		name: "Specter Robes",
		member: 1,
		rarity: 0,
		flavorText: "The tattered robes of the legendary specter - a ghost that only shows up around Pumpkinfest.",
		effects: [33]
	}, {
		ID: 47,
		name: "Mountaineer's Gear",
		member: 0,
		rarity: 0,
		flavorText: "This warm, rugged coat is equipped with a standard set of climbing equipment, a must have for exploring the mountains.",
		effects: [33]
	}, {
		ID: 48,
		name: "Frost Beard's Clasp",
		member: 1,
		rarity: 2,
		flavorText: "The magic armor of the great Viking Frost Beard - a mystic wind constantly billows its cape.",
		effects: [35]
	}, {
		ID: 49,
		name: "Yeti Coat",
		member: 0,
		rarity: 1,
		flavorText: "Who knew that Yetis shed?! Whether the coat directly came from a Yeti or was crafted from loose hairs is unclear.",
		effects: [34]
	}, {
		ID: 50,
		name: "Red Armor",
		member: 0,
		rarity: 1,
		flavorText: "This armor is lighter than it looks, but it seems to be all for show...the metal actually seems to be plastic...",
		effects: [34]
	}, {
		ID: 51,
		name: "Phantom Cloak",
		member: 0,
		rarity: 2,
		flavorText: "A magic barrier seems to emanate from the cloak...protecting you from all sorts of nasty spells.",
		effects: [35]
	}, {
		ID: 52,
		name: "Draconyx Gear",
		member: 0,
		rarity: 3,
		flavorText: "Worn by ancient battle wizards, this gear seems to fit you perfectly, almost as if you were meant to wear it.",
		effects: [82]
	}, {
		ID: 53,
		name: "Black Fang Coat",
		member: 0,
		rarity: 3,
		flavorText: "This outfit is worn only by the greatest of Bounty Hunters. It is a testament to the skill of its wearer.",
		effects: [82]
	}, {
		ID: 54,
		name: "Hunter Coat",
		member: 0,
		rarity: 2,
		flavorText: "The standard-issue garb of a Bounty Hunter. It holds up in the toughest of situations.",
		effects: [35]
	}, {
		ID: 55,
		name: "Bee Suit",
		member: 0,
		rarity: 2,
		flavorText: "'Fly like a bee and sting like a bee'. Wait, that's not right...",
		effects: [35]
	}, {
		ID: 56,
		name: "Candle Knight Armor",
		member: 0,
		rarity: 2,
		flavorText: "This armor was used by Candle Knights for protection.",
		effects: [35]
	}],
	weapon: [{
		ID: 1,
		name: "Enchanted Stick",
		member: 0,
		rarity: 1,
		drop: 1,
		flavorText: "The most unassuming of wands, it is said to be imbued with natural energy.",
		effects: [31]
	}, {
		ID: 2,
		name: "Ivory Star",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Just like the stars themselves, it is most powerful under the cover of night.",
		effects: [31]
	}, {
		ID: 3,
		name: "Angelic Shard",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Charmed with a celestial power, wizards take it to be a symbol of justice and good.",
		effects: [31]
	}, {
		ID: 4,
		name: "Blue Pearl",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Its orb pulsates when close to the ocean and water pets hum gently in its presence.",
		effects: [31]
	}, {
		ID: 5,
		name: "Cheeple's Toy Wand",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Often given to young wizards who love that it squawks when it casts a spell.",
		effects: [31]
	}, {
		ID: 6,
		name: "Dragonwing",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Hold on tight! Many unsuspecting wizards have watched this wand fly away.",
		effects: [31]
	}, {
		ID: 7,
		name: "Lunar Staff",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Made for a wizard who was also a werewolf, it strengthens as the moon approaches full.",
		effects: [31]
	}, {
		ID: 8,
		name: "Wanderer's Staff",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Friend to the wizard who travels far from home, it comforts a lonely heart and smells of fresh bread.",
		effects: [31]
	}, {
		ID: 9,
		name: "Firewing",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "It was once a wizard's pet Phoenix that relinquished its magic to empower his wand. It saved him from peril most great.",
		effects: [31]
	}, {
		ID: 10,
		name: "Dragon's Bane",
		member: 1,
		rarity: 2,
		drop: 1,
		flavorText: 'The wand used to end the reign of "Carcus the Terrible", its origins are a mystery.',
		effects: [32]
	}, {
		ID: 11,
		name: "Hurricane",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "To save her village, a wizard once ran into the eye of a storm. When it abated, all that remained was this wand.",
		effects: [31]
	}, {
		ID: 12,
		name: "Firebrand",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: 'The wand that belonged to Crios as a child, he cast it aside as "weak" when he entered the Academy.',
		effects: [31]
	}, {
		ID: 13,
		name: "Frozen Shard",
		member: 0,
		rarity: 2,
		flavorText: "Cold to the touch, wizards who use it shiver uncontrollably and their lips turn blue.",
		effects: [32]
	}, {
		ID: 14,
		name: "Wand of Dreams",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Whoever possesses this wand will never have a dreamless sleep and when they dream of the future, it always comes true.",
		effects: [31]
	}, {
		ID: 15,
		name: "Nature's Bloom",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "During the winter its leaf withers and falls off but always grows again the following spring.",
		effects: [31]
	}, {
		ID: 16,
		name: "Angel Wing",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "This staff was once paired with another just like it and belonged to twin wizards.",
		effects: [31]
	}, {
		ID: 17,
		name: "Vita",
		member: 0,
		rarity: 1,
		drop: 1,
		flavorText: "Energizing whoever holds it, this staff was forged entirely from the earth by ancient wizards using a method now lost.",
		effects: [31]
	}, {
		ID: 18,
		name: "Staff of Flames",
		member: 0,
		rarity: 1,
		drop: 1,
		flavorText: "Commonly used by the Flameweavers of the Spire to create beautiful burning patterns in the night sky.",
		effects: [31]
	}, {
		ID: 19,
		name: "Tidal Sphere",
		member: 0,
		rarity: 1,
		drop: 1,
		flavorText: "Long sought after by pirates who can use it to push their ships through the waves.",
		effects: [31]
	}, {
		ID: 20,
		name: "Frosted Spear",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Its central gem comes from deep in the Shiverchill Mountains, allowing wizards to turn the water in air to ice.",
		effects: [31]
	}, {
		ID: 21,
		name: "Dragon Staff",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Used by the Dragon Tamers of old, no one knows if it retains its power to control the winged beasts. Do you dare find out?",
		effects: [31]
	}, {
		ID: 22,
		name: "Phoenix Talon",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Containing the power of the Phoenix, some say the one who holds it can recover from any injury.",
		effects: [31]
	}, {
		ID: 23,
		name: "Dream",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Made by a Dreamweaver, if used correctly, it can put your opponent into a deep sleep.",
		effects: [31]
	}, {
		ID: 24,
		name: "Efflorescence",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Its wielder need have no fear of the dark. When shaken, this staff puts out a powerful light.",
		effects: [31]
	}, {
		ID: 25,
		name: "Training Wand",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: 'Also known as the "Safety Wand", it is used by all academy wizards to reduce injury during training.',
		effects: [30]
	}, {
		ID: 26,
		name: "Birch Wand",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "A creative wizard carved this himself from a branch in a nearby forest.",
		effects: [30]
	}, {
		ID: 27,
		name: "Granite Wand",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "A geologist wizard once claimed that a wand could be made from rocks, this wand proves it!",
		effects: [30]
	}, {
		ID: 28,
		name: "Iron Wand",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Though rough to the touch and very heavy, its got plenty of power for the everyday wizard.",
		effects: [30]
	}, {
		ID: 29,
		name: "Steel Wand",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Forged from various metals by blacksmiths, some wizards feel that its the best material for wands.",
		effects: [30]
	}, {
		ID: 30,
		name: "Onyx Wand",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Its dark stone sparkles, making it look like stars in the night sky.",
		effects: [30]
	}, {
		ID: 31,
		name: "Diamond Wand",
		member: 1,
		rarity: 0,
		drop: 1,
		flavorText: "The diamond in this wand has not been shaped or cut, leaving its earthly energy untouched.",
		effects: [30]
	}, {
		ID: 32,
		name: "Pyrium Wand",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Though it looks like gold, it's not. Pyrium is prized for its strength and flexibility, making this a very durable wand.",
		effects: [30]
	}, {
		ID: 33,
		name: "Mithril Wand",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Not as rare as it once was, Mithril is still popular amongst the wizards of distant lands.",
		effects: [30]
	}, {
		ID: 34,
		name: "Magite Wand",
		member: 1,
		rarity: 0,
		drop: 1,
		flavorText: "Students of the stars, the Magi loved the setting sun most of all, making this their favorite wand.",
		effects: [30]
	}, {
		ID: 35,
		name: "Adamantium Wand",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Its strength iswith shimmering minerals which ma unsurpassed by any other metal wand, it has been known to block even the most potent of spells.",
		effects: [30]
	}, {
		ID: 36,
		name: "Training Staff",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Some say that staffs are more powerful but are also harder to use, making this staff very important for training.",
		effects: [30]
	}, {
		ID: 37,
		name: "Birch Staff",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "In the old days wizards would carve their own staffs from the wood of the forest, this one seems quite old.",
		effects: [30]
	}, {
		ID: 38,
		name: "Granite Staff",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: 'Only the strongest wizards can carry the weight of this staff, giving it the nickname the "Staff of Giants".',
		effects: [30]
	}, {
		ID: 39,
		name: "Iron Staff",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Used by the monks of the ancient lands, many have adopted its use because of its common materials and uncommon strength.",
		effects: [30]
	}, {
		ID: 40,
		name: "Steel Staff",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "The choice of wizard knights of old, who could carry the lightweight staff with all their heavy armor on.",
		effects: [30]
	}, {
		ID: 41,
		name: "Onyx Staff",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "It's smooth and polished to shine. It's clear a fine craftsman made this beautiful staff.",
		effects: [30]
	}, {
		ID: 42,
		name: "Diamond Staff",
		member: 1,
		rarity: 0,
		drop: 1,
		flavorText: "Diamond is very hard and very sharp, it's recommended that you wear gloves when using this staff.",
		effects: [30]
	}, {
		ID: 43,
		name: "Pyrium Staff",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Pyrium is difficult to work with. It must have taken a great blacksmith to make this staff.",
		effects: [30]
	}, {
		ID: 44,
		name: "Mithril Staff",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "This staff has an aura of old power around it. Did it come from somewhere far away? ",
		effects: [30]
	}, {
		ID: 45,
		name: "Magite Staff",
		member: 1,
		rarity: 0,
		drop: 1,
		flavorText: "The Magi liked staffs over wands because they were longer and they reached closer to the stars.",
		effects: [30]
	}, {
		ID: 46,
		name: "Adamantium Staff",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Made from the strongest of metals, its beauty is only matched by its power.",
		effects: [30]
	}, {
		ID: 47,
		name: "The Master of Trials",
		member: 0,
		rarity: 3,
		flavorText: "To be held only by the Trial Masters, its powers are the stuff of legends. How did you get it?",
		effects: [81]
	}, {
		ID: 48,
		name: "Winter Bell",
		member: 0,
		rarity: 0,
		flavorText: "Its sound is beautiful, but don't be lulled by its enchanting tones.",
		effects: [30]
	}, {
		ID: 49,
		name: "Minotaur's Head",
		member: 1,
		rarity: 2,
		flavorText: "A prize given to those who have successfully navigated the Labyrinth, it prevents them from ever being lost again.",
		effects: [32]
	}, {
		ID: 50,
		name: "Sunburst Wand",
		member: 1,
		rarity: 1,
		flavorText: "A ball of energy from the sun itself.",
		effects: [31]
	}, {
		ID: 51,
		name: "Flamerose Wand",
		member: 1,
		rarity: 2,
		flavorText: "Designed to appear like the mythical Flamerose, a rare flower that grows only on the side of the Bonfire Spire.",
		effects: [32]
	}, {
		ID: 52,
		name: "Crystal Wand",
		member: 1,
		rarity: 1,
		flavorText: "Transparent, it's easy to admire the beauty of the energy being charged inside this wand just before a spell is cast.",
		effects: [31]
	}, {
		ID: 53,
		name: "Batwing Wand",
		member: 1,
		rarity: 2,
		flavorText: "Those who hold this wand can sense what is around them even in the darkest of caves - much like the bat, which gives the wand its name.",
		effects: [32]
	}, {
		ID: 54,
		name: "Fungoid",
		member: 1,
		rarity: 2,
		flavorText: "Many wizards refuse to make their wands from living trees, instead they grow this wand from the forest's soils.",
		effects: [32]
	}, {
		ID: 55,
		name: "Sacred Flame",
		member: 1,
		rarity: 1,
		flavorText: "For those who hail from the Spire, this wand that carries a flame from Bonfire is respected and admired.",
		effects: [31]
	}, {
		ID: 56,
		name: "Sun Orb Staff",
		member: 1,
		rarity: 3,
		flavorText: "Its heat is so immense that its owner must possess great knowledge of fire magic simply to be in its presence.",
		effects: [81]
	}, {
		ID: 57,
		name: "Staff of Winter",
		member: 1,
		rarity: 2,
		flavorText: "In the hands of the ice king of old, this staff was used to turn those who insulted his beard into frozen statues.",
		effects: [32]
	}, {
		ID: 58,
		name: "Crystal Staff",
		member: 1,
		rarity: 2,
		flavorText: "As beautiful as it is elegant, it can be used to break light into parts that can be weaved into powerful spells.",
		effects: [32]
	}, {
		ID: 59,
		name: "TuskTooth",
		member: 0,
		rarity: 2,
		flavorText: "An ancient staff from the realms of the Shiverchill tribes, it is thought to possess an animal spirit.",
		effects: [32]
	}, {
		ID: 60,
		name: "Dragos",
		member: 1,
		rarity: 3,
		flavorText: 'Also known as the "Heart of the Dragon", the limits of this staff\'s power have never been reached.',
		effects: [81]
	}, {
		ID: 61,
		name: "Twisted Staff",
		member: 1,
		rarity: 1,
		flavorText: "This staff was grown by tree whisperers from the roots of the elder trees deep in the heart of the Firefly Forest.",
		effects: [31]
	}, {
		ID: 62,
		name: "Staff of the Duelist",
		member: 0,
		rarity: 2,
		flavorText: "Crios once swore that if anyone could beat him in a duel, he'd give them this staff. Looks like you did it!",
		effects: [32]
	}, {
		ID: 63,
		name: "Hailstone",
		member: 1,
		rarity: 1,
		flavorText: "The central stone for this staff can only be gathered during storms on the coldest winter nights by the Shiverchill Tribes.",
		effects: [31]
	}, {
		ID: 64,
		name: "Bonfire",
		member: 1,
		rarity: 2,
		flavorText: "Forged in the heat of the Bonfire Spire, it inspires both fear and awe in anyone who opposes it.",
		effects: [32]
	}, {
		ID: 65,
		name: "Parrot",
		member: 1,
		rarity: 1,
		flavorText: 'A magical parrot that sits on your shoulder. It might be too friendly because it keeps saying "hello" and asking for crackers...urgh.',
		effects: [31]
	}, {
		ID: 66,
		name: "Shell-shocked",
		member: 1,
		rarity: 2,
		flavorText: 'A daring turtle has made this its home. It gets a little nervous whenever someone says the word "fire".',
		effects: [32]
	}, {
		ID: 67,
		name: "Remote Ship",
		member: 1,
		rarity: 2,
		flavorText: "This little remote may look normal, but something is awful strange about it. Maybe because it doesn't need batteries...",
		effects: [32]
	}, {
		ID: 68,
		name: "Mira's Staff",
		member: 0,
		rarity: 3,
		flavorText: "A gift from the great wizard Mira. Just holding this staff makes you feel stronger than ever before.",
		effects: [81]
	}, {
		ID: 69,
		name: "Wrench",
		member: 0,
		rarity: 1,
		flavorText: "Not a very powerful weapon, but certainly useful for tightening bolts!",
		effects: [31]
	}, {
		ID: 70,
		name: "Gizmotron",
		member: 1,
		rarity: 2,
		flavorText: "A modified machine, the gizmotron stores magic inside and releases it at the user's will.",
		effects: [32]
	}, {
		ID: 71,
		name: "Pumpkin Wand",
		member: 1,
		rarity: 1,
		flavorText: "A plastic wand replica of the original Pumpkin Lord's weapon of choice...",
		effects: [31]
	}, {
		ID: 72,
		name: "Spooky Candle",
		member: 0,
		rarity: 1,
		flavorText: "There's nothing really wrong with this candle, but it does kind of give you the creeps.",
		effects: [31]
	}, {
		ID: 73,
		name: "Mjoln-Ice",
		member: 0,
		rarity: 2,
		flavorText: "A mystic hammer wielded by the great Frost Beard - some say the hammer grants its wielder the powers of a Norse god.",
		effects: [32]
	}, {
		ID: 74,
		name: "Pickaxe",
		member: 0,
		rarity: 0,
		flavorText: "A standard-issue pickaxe, popular among the miners who used to inhabit the Shiverchill mines.",
		effects: [30]
	}, {
		ID: 75,
		name: "Energy Staff",
		member: 0,
		rarity: 1,
		flavorText: "This staff likely used to be much more powerful...when it worked. Now, it just seems to be used to intimidate.",
		effects: [31]
	}, {
		ID: 76,
		name: "Glassfire",
		member: 0,
		rarity: 2,
		flavorText: "This strange orb seems to have a small elemental stuck inside, though it seems happy enough in there.",
		effects: [32]
	}, {
		ID: 77,
		name: "Draconyx",
		member: 0,
		rarity: 3,
		flavorText: "There's something about this staff that you don't like - as if strange whispers beckon you to hold it and never let go.",
		effects: [81]
	}, {
		ID: 78,
		name: "Power Orb",
		member: 0,
		rarity: 3,
		flavorText: "This weapon is wielded only by the greatest of Bounty Hunters. Nearby monsters are drawn to its crystalline orb with a hypnotic pull.",
		effects: [81]
	}, {
		ID: 79,
		name: "Clawed Staff",
		member: 0,
		rarity: 2,
		flavorText: "The standard-issue weapon of a Bounty Hunter. Its claw is perfect for catching rogue monsters.",
		effects: [32]
	}, {
		ID: 80,
		name: "Swarm of Bees",
		member: 0,
		rarity: 2,
		flavorText: "",
		effects: [32]
	}, {
		ID: 81,
		name: "Casting Candle",
		member: 0,
		rarity: 2,
		flavorText: "This is the primary tool used by the Candle Knights. Like the helmet, the light on this candle can never be extinguished.",
		effects: [32]
	}, {
		ID: 82,
		name: "Big Hex Conductor",
		member: 0,
		rarity: 2,
		flavorText: "This was made by Big Hex himself!",
		effects: [81]
	}, {
		ID: 83,
		name: "Arctursus Power Rod",
		member: 0,
		rarity: 2,
		flavorText: "This rod was forged by the Warden that gave Arctursus his frost gauntlets.",
		effects: [81]
	}, {
		ID: 84,
		name: "Florafox Wand",
		member: 0,
		rarity: 2,
		flavorText: "This wand was grown in the same garden as Florafox. It is said to hold the same plant-healing magic that Florafox can create.",
		effects: [81]
	}, {
		ID: 85,
		name: "Diveodile Sea Staff",
		member: 0,
		rarity: 2,
		flavorText: "This staff was crafted by townsfolk that lived on the eastern shore of the island, in the hopes that it would help them protect their waters as Diveodile did.",
		effects: [81]
	}, {
		ID: 86,
		name: "Magmischief Fire Rod",
		member: 0,
		rarity: 2,
		flavorText: "The rod was fashioned out of a stalagmite made of magma in a deep, hidden cave in Bonfire Spire.",
		effects: [81]
	}, {
		ID: 87,
		name: "Crystal staff",
		member: 0,
		rarity: 1,
		flavorText: "A staff made of crystal!",
		effects: [81],
		memberAd: 0
	}, {
		ID: 88,
		name: "Fairy Sword",
		member: 1,
		rarity: 2,
		flavorText: "This magical blade was created by fairies for other creatures who defend their forest.",
		effects: [32]
	}, {
		ID: 89,
		name: "Veggie Rod",
		member: 1,
		rarity: 2,
		flavorText: "A wacky old wizard thought that vegetables had some hidden magical power, and so they created this staff. Maybe they were right?",
		effects: [32],
		memberAd: 0
	}, {
		ID: 90,
		name: "Umbrella",
		member: 0,
		rarity: 1,
		flavorText: "Whack enemies and protect yourself from rain!",
		effects: [81],
		memberAd: 0
	}, {
		ID: 91,
		name: "Wingblade",
		member: 1,
		rarity: 2,
		flavorText: "Legend says these swords belonged to the Sky Knights who fought on the backs of Pegasi a long time ago.",
		effects: [32],
		memberAd: 0
	}],
	boots: [{
		ID: 1,
		name: "Magi Runners",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "It is said that a Magi once ran to the sun with these shoes on. You're not sure if you could, but they sure are fast.",
		effects: [34]
	}, {
		ID: 2,
		name: "Warlock's Slippers",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Many people don't trust Warlocks, so they don't get out much. These keep their feet cozy at home.",
		effects: [34]
	}, {
		ID: 3,
		name: "Crimson Boots",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "These will certainly make a bold statement at your next wizarding get together.",
		effects: [34]
	}, {
		ID: 4,
		name: "Glacial Boots",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Extremely warm, these will keep your feet toasty in the Mountains, but elsewhere they might make them sweaty.",
		effects: [34]
	}, {
		ID: 5,
		name: "Dragon Soles",
		member: 1,
		rarity: 2,
		drop: 1,
		flavorText: "Are these dragonskin boots? Comfortable, but they smell a bit like burnt meat and old cave.",
		effects: [35]
	}, {
		ID: 6,
		name: "Sun Walkers",
		member: 1,
		rarity: 2,
		drop: 1,
		flavorText: "Fitted with a handy self-drying flame, you can swim with these on and not have to worry.",
		effects: [35]
	}, {
		ID: 7,
		name: "Training Shoes",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Nothing special, but they'll protect your feet during training.",
		effects: [33]
	}, {
		ID: 8,
		name: "Light Shoes",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Lightweight and breathable they'll make your feet move faster and maybe a little less smelly.",
		effects: [33]
	}, {
		ID: 9,
		name: "Cloth Shoes",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Made from cloth, don't get them wet or your feet will be cold all day!",
		effects: [33]
	}, {
		ID: 10,
		name: "Heavy Shoes",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Whoa, these are heavy! Your feet feel pretty safe, but it also feels like you're walking through mud.",
		effects: [33]
	}, {
		ID: 11,
		name: "Leather Boots",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "The choice of the everyday wizard. They say they're hand-crafted in the Spire.",
		effects: [33]
	}, {
		ID: 12,
		name: "Durofibre Boots",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Sleek, stylish and purple...",
		effects: [33]
	}, {
		ID: 13,
		name: "Magi-thread Boots",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "You don't usually go for used boots, but the Magi made these long-lasting and really cool-looking.",
		effects: [33]
	}, {
		ID: 14,
		name: "Pyrium Boots",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "You can wear these boots all year long, just make sure to change your wizard socks!",
		effects: [33]
	}, {
		ID: 15,
		name: "Mithril Boots",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Metal boots? You might not move that quickly, but your toes are totally protected!",
		effects: [33]
	}, {
		ID: 16,
		name: "Vitrium Boots",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "When you wear them you move more gracefully but also always have the urge to dance.",
		effects: [33]
	}, {
		ID: 17,
		name: "Culix Boots",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Although Culix was a bit stuffy he had great taste in shoes.",
		effects: [33]
	}, {
		ID: 18,
		name: "Trialmaster's Boots",
		member: 1,
		rarity: 4,
		drop: 1,
		flavorText: "Worn by a former master of trials, whose feet seemed to be quite small. They're a little snug.",
		effects: [83]
	}, {
		ID: 19,
		name: "Winter Boots",
		member: 0,
		rarity: 1,
		drop: 1,
		flavorText: "Fuzzy on the inside and waterproof on the outside, the perfect choice for the long winter months.",
		effects: [34]
	}, {
		ID: 20,
		name: "Dragon Spike Boots",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Your friend wore these spiky boots to play wizard soccer once, they don't let him play anymore. I wonder why?",
		effects: [34]
	}, {
		ID: 21,
		name: "Warm Boots",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "These sure do live up to their name.",
		effects: [34]
	}, {
		ID: 22,
		name: "Magic Boots",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "You do feel suddenly more magical, but sometimes people laugh at the pointy toes.",
		effects: [34]
	}, {
		ID: 23,
		name: "Frost Saber Boots",
		member: 1,
		rarity: 2,
		drop: 1,
		flavorText: "Made for battle in the cold, these shoes help you stay on top of the snow instead of sinking in.",
		effects: [35]
	}, {
		ID: 24,
		name: "Firefly Boots",
		member: 1,
		rarity: 2,
		drop: 1,
		flavorText: "The trademark boots of the Firefly Forest. It says they're made with moss and lots of love.",
		effects: [35]
	}, {
		ID: 25,
		name: "Skywalkers",
		member: 1,
		rarity: 2,
		drop: 1,
		flavorText: "A wizard once wanted to see how high he could jump with these shoes on. He's supposed to come back down any day now.",
		effects: [35]
	}, {
		ID: 26,
		name: "Duelist Boots",
		member: 0,
		rarity: 3,
		flavorText: 'Official boots of the Annual Wizard Dueling Contest, they say "The Choice of Champions" in big letters on their sides.',
		effects: [82]
	}, {
		ID: 27,
		name: "Shiverchill Boots",
		member: 0,
		rarity: 2,
		drop: 1,
		flavorText: "Commonly worn by the tribes of the Shiverchill Mountains, many travellers take them when going to cold places.",
		effects: [35]
	}, {
		ID: 28,
		name: "Embers",
		member: 0,
		rarity: 1,
		flavorText: "Made for wizards whose feet get cold. It feels like your toes are warming up in front of the fire.",
		effects: [34]
	}],
	follow: [{
		ID: 1,
		name: "Brown Hamster",
		member: 0,
		rarity: 1,
		flavorText: "A friendly hamster whose best qualities include being pocket-sized, puffy, and being able to stuff lots of food in his cheeks. \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "rodent-0"
	}, {
		ID: 2,
		name: "White Cat",
		member: 1,
		rarity: 2,
		flavorText: "This little kitty will follow you anywhere you go, especially if you have some string! Soft and fluffy, the perfect combination of cute! \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "cat-0"
	}, {
		ID: 3,
		name: "Tuxedo Cat",
		member: 1,
		rarity: 2,
		flavorText: "This little kitty will follow you anywhere you go, especially if you have some string! Soft and fluffy, the perfect combination of cute! \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "cat-1"
	}, {
		ID: 4,
		name: "Shepherd",
		member: 1,
		rarity: 2,
		flavorText: "Adorable, loving, loyal and even housebroken! Man's best friend indeed! \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "dog-0"
	}, {
		ID: 5,
		name: "Husky",
		member: 1,
		rarity: 2,
		flavorText: "Adorable, loving, loyal and even housebroken! Man's best friend indeed! \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "dog-1"
	}, {
		ID: 6,
		name: "Calico Cat",
		member: 1,
		rarity: 2,
		flavorText: "This little kitty will follow you anywhere you go, especially if you have some string! Soft and fluffy, the perfect combination of cute! \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "cat-2"
	}, {
		ID: 7,
		name: "Grey Cat",
		member: 1,
		rarity: 2,
		flavorText: "This little kitty will follow you anywhere you go, especially if you have some string! Soft and fluffy, the perfect combination of cute! \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "cat-3"
	}, {
		ID: 8,
		name: "Tabby Cat",
		member: 1,
		rarity: 2,
		flavorText: "This little kitty will follow you anywhere you go, especially if you have some string! Soft and fluffy, the perfect combination of cute! \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "cat-4"
	}, {
		ID: 9,
		name: "Siamese Cat",
		member: 1,
		rarity: 2,
		flavorText: "This little kitty will follow you anywhere you go, especially if you have some string! Soft and fluffy, the perfect combination of cute! \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "cat-5"
	}, {
		ID: 10,
		name: "Beagle",
		member: 1,
		rarity: 2,
		flavorText: "Adorable, loving, loyal and even housebroken! Man's best friend indeed! \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "dog-2"
	}, {
		ID: 11,
		name: "Shiba Inu",
		member: 1,
		rarity: 2,
		flavorText: "Adorable, loving, loyal and even housebroken! Man's best friend indeed! \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "dog-3"
	}, {
		ID: 12,
		name: "Spotted Hamster",
		member: 1,
		rarity: 2,
		flavorText: "A friendly hamster whose best qualities include being pocket-sized, puffy, and being able to stuff lots of food in his cheeks. \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "rodent-1"
	}, {
		ID: 13,
		name: "Barn Owl",
		member: 1,
		rarity: 2,
		flavorText: "During the night, this owl is alert and on the prowl. In the day, however, it's super sleepy. \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "bird-0"
	}, {
		ID: 14,
		name: "Blue Parrot",
		member: 1,
		rarity: 2,
		flavorText: "This parrot can mimic your voice, but it only really uses certain words...Polly want a cracker? \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "bird-1"
	}, {
		ID: 15,
		name: "Cockatiel",
		member: 1,
		rarity: 2,
		flavorText: "A very smart bird, cockatiels are known to be able to count and even use math! \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "bird-2"
	}, {
		ID: 16,
		name: "Grey Parrot",
		member: 1,
		rarity: 2,
		flavorText: "This parrot can mimic your voice, but it only really uses certain words...Polly want a cracker? \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "bird-3"
	}, {
		ID: 17,
		name: "Horned Owl",
		member: 1,
		rarity: 2,
		flavorText: "During the night, this owl is alert and on the prowl. In the day, however, it's super sleepy. \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "bird-4"
	}, {
		ID: 18,
		name: "Red Parrot",
		member: 1,
		rarity: 2,
		flavorText: "This parrot can mimic your voice, but it only really uses certain words...Polly want a cracker? \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "bird-5"
	}, {
		ID: 19,
		name: "Chameleon",
		member: 1,
		rarity: 2,
		flavorText: "This little lizard can change its colors to blend in with its surroundings, but sometimes just chooses not to. \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "lizard-0"
	}, {
		ID: 20,
		name: "Gecko",
		member: 1,
		rarity: 2,
		flavorText: "A gecko can climb almost any surface and even upside down! This gecko seems to be afraid of heights, though. \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "lizard-1"
	}, {
		ID: 21,
		name: "Leopard Gecko",
		member: 1,
		rarity: 2,
		flavorText: "A gecko can climb almost any surface and even upside down! This gecko seems to be afraid of heights, though. \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "lizard-2"
	}, {
		ID: 22,
		name: "Turtle",
		member: 1,
		rarity: 2,
		flavorText: "Turtles are normally pretty slow, but this one has no issue keeping up with you! \n\nCan be bought at the Pet Shop in Lamplight Town.",
		tag: "turtle-0"
	}, {
		ID: 23,
		name: "Baby Reindeer",
		member: 0,
		rarity: 2,
		flavorText: "These happy little creatures couldn't possibly be more excited to join you on your quest! They are well-known for being great pals on adventures. \n\nSold during Winterfest.",
		tag: "reindeer-0"
	}, {
		ID: 24,
		name: "Penguin",
		member: 1,
		rarity: 2,
		flavorText: "What's black and white and chilly all over? Why a penguin of course! This polar pal is ready to explore beyond the cold lands it calls home with you! \n\nSold during Winterfest.",
		tag: "penguin-0"
	}, {
		ID: 25,
		name: "Baby Snowman",
		member: 1,
		rarity: 2,
		flavorText: "With just a little bit of magic, this snowman came to life, and now, he's looking for a buddy to explore with! Don't worry, he can't melt! \n\nSold during Winterfest.",
		tag: "snowman-0"
	}, {
		ID: 26,
		name: "Saber-Tooth Cat",
		member: 1,
		rarity: 2,
		flavorText: "This furry friend loves to frolic in the snow and play hide and seek in the caverns deep within Shiverchill Mountains.",
		tag: "cat-6",
		spriteOffsets: {
			tail: {
				x: -5,
				y: 17
			},
			body: {
				x: 0,
				y: 1
			}
		},
		previewIcon: "follow/2",
		customPrice: 5e3
	}, {
		ID: 27,
		name: "Purple Owl",
		member: 1,
		rarity: 2,
		flavorText: "Shiverchill is home to many interesting creatures. The rare Purple Owl is one of them! Some say that these owls have magical powers.",
		tag: "bird-6",
		previewIcon: "follow/13",
		customPrice: 2e3
	}, {
		ID: 28,
		name: "Steam-Powered Robot Bird 9001",
		member: 1,
		rarity: 2,
		flavorText: "Steam-powered robot birds were created to help workers in Skywatch repair the weather machines.",
		tag: "bird-7",
		previewIcon: "follow/13",
		numWalkAnimFrames: 5,
		customPrice: 5e3
	}, {
		ID: 29,
		name: "Flower Turtle",
		member: 1,
		rarity: 2,
		flavorText: "Some turtles that live in Firefly Forest fall asleep in soil for long periods of time. When this happens, flowers begin to grow on their shell!",
		tag: "turtle-1",
		spriteOffsets: {
			legs: {
				x: 0,
				y: 0
			}
		},
		previewIcon: "follow/19",
		customPrice: 2e3
	}, {
		ID: 30,
		name: "Rainbow Panda",
		member: 1,
		rarity: 2,
		flavorText: "The rainbow panda is so hard to find in the forest, because it can blend in so well with its environment.",
		tag: "panda-0",
		previewIcon: "follow/1",
		customPrice: 5e3
	}, {
		ID: 31,
		name: "Cloud Sheep",
		member: 1,
		rarity: 2,
		flavorText: "These sheep like to get around by riding on gusts of wind that sweep them up. If you ever see a group of them gathered together, watch out! Their fur can rub together and create lightning storms!",
		tag: "sheep-0",
		previewIcon: "follow/1",
		customPrice: 2e3
	}, {
		ID: 32,
		name: "Cuddly Cactus",
		member: 1,
		rarity: 2,
		flavorText: "This cactus is surprisingly cuddly! The needles on it fall off at a very young age, leaving its soft skin free to cuddle!",
		tag: "cactus-0",
		previewIcon: "follow/1",
		customPrice: 2e3
	}, {
		ID: 33,
		name: "Flame Salamander",
		member: 1,
		rarity: 2,
		flavorText: "These little fiery friends scamper, scurry, and swim through the lava of Bonfire Spire. Because of this, very few people have ever seen one!",
		tag: "lizard-3",
		previewIcon: "follow/19",
		numStandAnimFrames: 4,
		customPrice: 5e3
	}, {
		ID: 34,
		name: "Fox",
		member: 0,
		rarity: 2,
		flavorText: "A sly fox would usually keep their distance, but this one is happy to follow you anywhere! \n\nReward for linking your account with your parent's account.",
		tag: "fox-0",
		previewIcon: "follow/1"
	}, {
		ID: 35,
		name: "Sparkle Hamster",
		member: 0,
		rarity: 2,
		flavorText: "A sparkly pocket-sized friend who loves to stuff lots of food in their cheeks! \n\nCan be won on the Twilight Wheel.",
		tag: "sparkle-rodent-0",
		previewIcon: "follow/35"
	}, {
		ID: 36,
		name: "Sparkle Kitty",
		member: 0,
		rarity: 2,
		flavorText: "A sparkly kitty whose glittering fur will be the talk of the town! \n\nCan be won on the Twilight Wheel.",
		tag: "sparkle-cat-0",
		previewIcon: "follow/35"
	}, {
		ID: 37,
		name: "Sparkle Puppy",
		member: 0,
		rarity: 2,
		flavorText: "This sparkly best friend is loyal to the end and is happy to follow you anywhere! \n\nCan be won on the Twilight Wheel.",
		tag: "sparkle-dog-0",
		previewIcon: "follow/35"
	}, {
		ID: 125,
		name: "Big Hex",
		rarity: 3,
		flavorText: "He comes from an unknown place with an unknown name. You've decided to call him Big Hex for the large bolts that seem to hold him together."
	}, {
		ID: 126,
		name: "Florafox",
		rarity: 3,
		flavorText: "Florafox can speak with nearby plants and trees by planting itself in the soil. The bulb on Florafoxs tail produces a pollen that can heal any plant, no matter how injured or withered."
	}, {
		ID: 127,
		name: "Arctursus",
		rarity: 3,
		flavorText: "The air around Arctursus is always cold. This is because the tips of his fur are made from an ice that can never melt, and so no matter where he goes he is always at a comfortable temperature."
	}, {
		ID: 128,
		name: "Diveodile",
		rarity: 3,
		flavorText: "Diveodile's natural magic ability is boosted by the Warden pendant it wears, allowing it to cast strong water spells to generate water, or even control the water around itself!"
	}, {
		ID: 129,
		name: "Magmischief",
		rarity: 3,
		flavorText: "While traveling underground, Magmischief can sense movement on the surface, so he knows exactly where to appear and get the biggest scare out of those who have entered Bonfire Spire."
	}],
	relic: [{
		ID: 1,
		name: "Aircorn",
		member: 0,
		rarity: 1,
		flavorText: "",
		effects: [31]
	}, {
		ID: 2,
		name: "Earthnutt",
		member: 0,
		rarity: 1,
		flavorText: "",
		effects: [31]
	}, {
		ID: 3,
		name: "Fireseed",
		member: 0,
		rarity: 1,
		flavorText: "",
		effects: [31]
	}, {
		ID: 4,
		name: "Icycorn",
		member: 0,
		rarity: 1,
		flavorText: "",
		effects: [31]
	}, {
		ID: 5,
		name: "Waterseed",
		member: 0,
		rarity: 1,
		flavorText: "",
		effects: [31]
	}, {
		ID: 6,
		name: "Candy Bone",
		member: 1,
		rarity: 1,
		flavorText: "",
		effects: [34]
	}, {
		ID: 7,
		name: "Lover's Band",
		member: 0,
		rarity: 1,
		flavorText: "",
		effects: [35]
	}, {
		ID: 8,
		name: "Lucky Clover",
		member: 0,
		rarity: 2,
		flavorText: "",
		effects: [33]
	}, {
		ID: 9,
		name: "Luminex Paw",
		member: 1,
		rarity: 2,
		flavorText: "",
		effects: [32]
	}, {
		ID: 10,
		name: "Magic Bandage",
		member: 0,
		rarity: 1,
		flavorText: "",
		effects: [35]
	}],
	"female-hair": [{
		ID: 1,
		type: ""
	}, {
		ID: 2,
		type: ""
	}, {
		ID: 3,
		type: ""
	}, {
		ID: 4,
		type: ""
	}, {
		ID: 5,
		type: ""
	}, {
		ID: 6,
		type: ""
	}, {
		ID: 7,
		type: ""
	}, {
		ID: 8,
		type: ""
	}, {
		ID: 9,
		type: ""
	}, {
		ID: 10,
		type: ""
	}, {
		ID: 11,
		type: ""
	}, {
		ID: 12,
		type: ""
	}, {
		ID: 13,
		type: ""
	}, {
		ID: 14,
		type: ""
	}, {
		ID: 15,
		type: ""
	}, {
		ID: 16,
		type: ""
	}, {
		ID: 17,
		type: ""
	}, {
		ID: 18,
		type: ""
	}, {
		ID: 19,
		type: ""
	}, {
		ID: 20,
		type: ""
	}, {
		ID: 21,
		type: ""
	}, {
		ID: 22,
		type: ""
	}, {
		ID: 23,
		type: ""
	}],
	"male-hair": [{
		ID: 1,
		type: ""
	}, {
		ID: 2,
		type: ""
	}, {
		ID: 3,
		type: ""
	}, {
		ID: 4,
		type: ""
	}, {
		ID: 5,
		type: ""
	}, {
		ID: 6,
		type: ""
	}, {
		ID: 7,
		type: ""
	}, {
		ID: 8,
		type: ""
	}, {
		ID: 9,
		type: ""
	}, {
		ID: 10,
		type: ""
	}, {
		ID: 11,
		type: ""
	}, {
		ID: 12,
		type: ""
	}],
	hat: [{
		ID: 1,
		name: "Jester's Cap",
		type: "",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Think yourself a comedian? Try on this hat, and you'll be throwing punchlines left and right.",
		effects: [34]
	}, {
		ID: 2,
		name: "Rogue's Hat",
		type: "",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Worn to keep cool in the desert, its magic properties make it popular amongst students.",
		effects: [34]
	}, {
		ID: 3,
		name: "Apprentice Circlet",
		type: "",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "This circlet is adorned with magical jewels, making it very powerful...and expensive.",
		effects: [34]
	}, {
		ID: 4,
		name: "Prankster's Crown",
		type: "",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "This hat happens to have its own personality, so make sure you wash your hair regularly!",
		effects: [34]
	}, {
		ID: 5,
		name: "E-nigma",
		type: "",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "Question me this, question me that...how good will you look, wearing this hat?",
		effects: [34]
	}, {
		ID: 6,
		name: "Highlord's Crown",
		type: "",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "An ancient ruler passed this crown down to his children, and now it's in your hands.",
		effects: [34]
	}, {
		ID: 7,
		name: "Hound's Helm",
		type: "",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "The Hound's Helm only looks like a dog...in fact, it was actually made by dogs!",
		effects: [34]
	}, {
		ID: 8,
		name: "Winged Helm",
		type: "",
		member: 0,
		rarity: 1,
		drop: 1,
		flavorText: "This Helm was found in the ruins of an ancient city, but mysteriously disappeared...",
		effects: [34]
	}, {
		ID: 9,
		name: "Mayhem's Guise",
		type: "",
		member: 1,
		rarity: 2,
		drop: 1,
		flavorText: "Mayhem was a warlock that caused lots of trouble. He was so well known that he used to wear this hat to hide among the crowds.",
		effects: [35]
	}, {
		ID: 10,
		name: "Frozen Crown",
		type: "",
		member: 0,
		rarity: 2,
		flavorText: "This crown belonged to the terrible Ice King but he gave it away when a witch turned him into a nice king.",
		effects: [35]
	}, {
		ID: 11,
		name: "Infernal Helm",
		type: "",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "The feathers tickle a little bit but this hat sure seems to spook your opponents. Maybe it's because it's still alive!",
		effects: [34]
	}, {
		ID: 12,
		name: "Training Cap",
		type: "",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Keeps your head out of the sun and your hair dry during those tough training days.",
		effects: [33]
	}, {
		ID: 13,
		name: "Light Hat",
		type: "",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "It fits so nicely, and doesn't give you a case of nasty wizarding hat hair.",
		effects: [33]
	}, {
		ID: 14,
		name: "Cloth Hat",
		type: "",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "It's cloth. It's green. It's a green, cloth hat!",
		effects: [33]
	}, {
		ID: 15,
		name: "Heavy Hat",
		type: "",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Someone told you that this was a Platypus that was turned into a hat. You're not sure, but it does seem water-resistant.",
		effects: [33]
	}, {
		ID: 16,
		name: "Leather Hat",
		type: "",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Leather hats are all the rage these days, especially since Worly the Wonderful wears one. ",
		effects: [33]
	}, {
		ID: 17,
		name: "Durofibre Hat",
		type: "",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "In classic wizarding blue, you might think this hat old-fashioned, but the old wizards smile when you wear it.",
		effects: [33]
	}, {
		ID: 18,
		name: "Magi-thread Hat",
		type: "",
		member: 1,
		rarity: 0,
		drop: 1,
		flavorText: "The Magi loved the sun most of all, they just didn't like it burning their heads. So they made this popular hat.",
		effects: [33]
	}, {
		ID: 19,
		name: "Pyrium Hat",
		type: "",
		member: 1,
		rarity: 0,
		drop: 1,
		flavorText: "Made with Pyrium thread in a classic style. This hat is a good option just about everywhere!",
		effects: [33]
	}, {
		ID: 20,
		name: "Mithril Hat",
		type: "",
		member: 1,
		rarity: 0,
		drop: 1,
		flavorText: "Some think that the mithril in this hat gives you psychic powers, but who knows? Maybe you, when you're wearing it.",
		effects: [33]
	}, {
		ID: 21,
		name: "Vitrium Hat",
		type: "",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Older wizards don't like how younger ones wear this hat backwards.",
		effects: [33]
	}, {
		ID: 22,
		name: "Culix Hat",
		type: "",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: 'Worn by fans of Culix, the famous historian who wrote "101 wacky warlock wands" and "The Tales of Hapless Headless Heath".',
		effects: [33]
	}, {
		ID: 23,
		name: "Trialmaster's Circlet",
		type: "",
		member: 1,
		rarity: 4,
		flavorText: "This ceremonial circlet is exceedingly rare and grants wisdom to those who wear it. Who would give it up?",
		effects: [83]
	}, {
		ID: 24,
		name: "Winterfest Hat",
		type: "",
		member: 1,
		rarity: 0,
		drop: 1,
		flavorText: "The official hat worn by helpers at Winterfest!",
		effects: [33]
	}, {
		ID: 25,
		name: "Winter Hat",
		type: "",
		member: 0,
		rarity: 2,
		drop: 1,
		flavorText: "It may look like just a winter hat, but it is actually a MAGICAL winter hat!",
		effects: [35]
	}, {
		ID: 26,
		name: "Fancy Tophat",
		type: "",
		member: 1,
		rarity: 1,
		drop: 1,
		flavorText: "This stylish hat is intended to be worn at formal gatherings, but you can wear it anywhere you want.",
		effects: [34]
	}, {
		ID: 27,
		name: "Earmuffs",
		type: "",
		member: 0,
		rarity: 1,
		drop: 1,
		flavorText: "Need to keep your ears warm, but your hair neat? Try these earmuffs on!",
		effects: [34]
	}, {
		ID: 28,
		name: "Parka Hood",
		type: "cover",
		member: 0,
		rarity: 2,
		drop: 1,
		flavorText: "Mrrrrrf mmmrrrhhmhhh mhhhmhmhr!",
		effects: [35]
	}, {
		ID: 29,
		name: "Reindeer Antlers",
		type: "",
		member: 0,
		rarity: 2,
		drop: 1,
		flavorText: "If you've ever needed to look like a reindeer, this is the hat for you!",
		effects: [35]
	}, {
		ID: 30,
		name: "Snowman Head",
		type: "wrap",
		member: 1,
		rarity: 2,
		drop: 1,
		flavorText: "A large snowman mask, and it's even made out of snow! Brrrr!",
		effects: [35]
	}, {
		ID: 31,
		name: "Dragon Helm",
		type: "",
		member: 1,
		rarity: 2,
		drop: 1,
		flavorText: "Legend says that those who wear can hear the songs of dragons. Often its wearers can be heard singing to themselves.",
		effects: [35]
	}, {
		ID: 32,
		name: "Frost Saber Cap",
		type: "",
		member: 1,
		rarity: 2,
		drop: 1,
		flavorText: "When they grow into adults, Frost Saber Cats choose a new form. This one chose to be a hat for some reason.",
		effects: [35]
	}, {
		ID: 33,
		name: "Firefly Hat",
		type: "",
		member: 1,
		rarity: 2,
		flavorText: "A magical hat crafted by the magical creatures in Firefly Forest.",
		effects: [35]
	}, {
		ID: 34,
		name: "Dragon Tiara",
		type: "",
		member: 1,
		rarity: 2,
		flavorText: "Some say that if the correct words are spoken, this tiara will spit flames. Be careful what you say while wearing it!",
		effects: [35]
	}, {
		ID: 35,
		name: "Dragon Spike Crown",
		type: "",
		member: 1,
		rarity: 2,
		flavorText: 'Formerly worn by Eustace Redhale "The King of Dragons" and the last ruler to ride one. It has the power of dragon\'s fire.',
		effects: [35]
	}, {
		ID: 36,
		name: "Duelist Helm",
		type: "",
		member: 0,
		rarity: 2,
		flavorText: "The hat of one of the greatest wizards in the Academy.",
		effects: [35]
	}, {
		ID: 37,
		name: "Shiverchill Hat",
		type: "",
		member: 1,
		rarity: 1,
		flavorText: 'The Shiverchill Tribes wear this hat during important ceremonies like the "Welcome to Winter" and "Tobogganing Tuesdays".',
		effects: [34]
	}, {
		ID: 38,
		name: "Tinder Toque",
		type: "",
		member: 1,
		rarity: 1,
		flavorText: "A celebratory hat worn by the people of Spire on feast days. You can store a lot of food in it if you're sneaky.",
		effects: [34]
	}, {
		ID: 39,
		name: "Captain's Hat",
		type: "",
		member: 1,
		rarity: 1,
		flavorText: "The choice of pirate captains everywhere! It smells like the sea and comes with a cool-looking eye patch!",
		effects: [34]
	}, {
		ID: 40,
		name: "Bandana",
		type: "",
		member: 0,
		rarity: 1,
		flavorText: "The favorite head gear of scurvy dogs because it's very absorbent and pirates love polka dots.",
		effects: [34]
	}, {
		ID: 41,
		name: "Skycap",
		type: "",
		member: 1,
		rarity: 1,
		flavorText: "This is the hat worn by the Skyfolk - the small creatures who live in the clouds above the Academy.",
		effects: [34]
	}, {
		ID: 42,
		name: "Mira's Hood",
		type: "",
		member: 0,
		rarity: 3,
		flavorText: "Mira's hood radiates a powerful energy...",
		effects: [82]
	}, {
		ID: 43,
		name: "Desert Hat",
		type: "",
		member: 0,
		rarity: 1,
		flavorText: "A fashionable hat worn by initiates in the Oasis Institute of Natural Creatures (OINC).",
		effects: [34]
	}, {
		ID: 44,
		name: "Explorer Hat",
		type: "",
		member: 0,
		rarity: 2,
		flavorText: "This hat is rumored to have been worn by Looter Dan, the Academy's greatest explorer.",
		effects: [35]
	}, {
		ID: 45,
		name: "Tinkerer Hat",
		type: "",
		member: 1,
		rarity: 1,
		flavorText: "An old hat, probably worn by the people who built the ancient city.",
		effects: [34]
	}, {
		ID: 46,
		name: "Robot Mask",
		type: "mask",
		member: 1,
		rarity: 2,
		flavorText: "You aren't a robot, but this hat sure makes you look like one!",
		effects: [35]
	}, {
		ID: 47,
		name: "TEK-Y4 Headphones",
		type: "",
		member: 1,
		rarity: 1,
		flavorText: "These headphones are used to enhance the dancing skills of the TEK-Y4 dancing robots!",
		effects: [34]
	}, {
		ID: 48,
		name: "Pumpkinhead",
		type: "wrap",
		member: 1,
		rarity: 2,
		flavorText: "This actually smells like a pumpkin! Kind of sweaty, though.",
		effects: [35]
	}, {
		ID: 49,
		name: "Luminite Mask",
		type: "mask",
		member: 0,
		rarity: 1,
		flavorText: "A plastic Luminite mask...pretty well-made, I think!",
		effects: [34]
	}, {
		ID: 50,
		name: "Specter Hood",
		type: "mask",
		member: 0,
		rarity: 1,
		flavorText: "The hood of a creepy specter - a bit dingy, but that just makes it even creepier.",
		effects: [34]
	}, {
		ID: 51,
		name: "Franky Mask",
		type: "",
		member: 1,
		rarity: 1,
		flavorText: "A plastic mask of Franky the Stein, the popular TV monster.",
		effects: [34]
	}, {
		ID: 52,
		name: "Skelly Mask",
		type: "",
		member: 1,
		rarity: 1,
		flavorText: "A plastic mask of a skelly.",
		effects: [34]
	}, {
		ID: 53,
		name: "Wolfy Mask",
		type: "",
		member: 0,
		rarity: 1,
		flavorText: "A plastic wolf mask... ooooo scary!",
		effects: [34]
	}, {
		ID: 54,
		name: "Climber's Toque",
		type: "",
		member: 0,
		rarity: 1,
		flavorText: "A thick, durable knitted toque, perfect for braving the harsh mountain conditions.",
		effects: [34]
	}, {
		ID: 55,
		name: "Featherwing Helm",
		type: "mask",
		member: 1,
		rarity: 1,
		flavorText: "A standard viking helmet, but with wings! Who cares if they don't make you fly, they're wings!",
		effects: [34]
	}, {
		ID: 56,
		name: "Frost Beard's Mug",
		type: "mask",
		member: 1,
		rarity: 2,
		flavorText: "The helm of the great Frost Beard. Causes the wearer to grow a beard of ice.",
		effects: [35]
	}, {
		ID: 57,
		name: "Lady Yeti Mask",
		type: "mask",
		member: 1,
		rarity: 1,
		flavorText: "A Yeti mask covered in makeup...",
		effects: [34]
	}, {
		ID: 58,
		name: "Male Yeti Mask",
		type: "mask",
		member: 1,
		rarity: 1,
		flavorText: "A Yeti mask...so scary!",
		effects: [34]
	}, {
		ID: 59,
		name: "Red Helm",
		type: "mask",
		member: 0,
		rarity: 1,
		flavorText: "This relic from a more technical age seems to be restored perfectly...it even has that new car smell!",
		effects: [34]
	}, {
		ID: 60,
		name: "Ghastly Hood",
		type: "mask",
		member: 0,
		rarity: 2,
		flavorText: "A strange feeling overwhelms you when you put on this hood; it makes you feel...mysterious.",
		effects: [35]
	}, {
		ID: 61,
		name: "Draconyx Helm",
		type: "mask",
		member: 0,
		rarity: 3,
		flavorText: "This helm was worn by the warrior wizards of legend - meant only for those who passed the toughest of tests.",
		effects: [82]
	}, {
		ID: 62,
		name: "Black Fang",
		type: "mask",
		member: 0,
		rarity: 3,
		flavorText: "This helm is worn only by the greatest of Bounty Hunters. Its staring gaze strikes fear into the hearts of all who see it!",
		effects: [82]
	}, {
		ID: 63,
		name: "Hunter Hat",
		type: "mask",
		member: 0,
		rarity: 2,
		flavorText: "The standard-issue hat of a Bounty Hunter. It is durable enough to wear in a storm and provides excellent visibility.",
		effects: [35]
	}, {
		ID: 64,
		name: "Bee Hat",
		type: "mask",
		member: 0,
		rarity: 2,
		flavorText: "The hat from a bee costume. It smells faintly of flowers.",
		effects: [35]
	}, {
		ID: 65,
		name: "Candle Knight Helm",
		type: "mask",
		member: 0,
		rarity: 2,
		flavorText: "The magical flame on this helmet can never be extinguished.",
		effects: [35]
	}, {
		ID: 66,
		name: "Big Hex Helmet",
		type: "mask",
		member: 0,
		rarity: 2,
		flavorText: "A helmet crafted by Big Hex's creator, the Warden who studied in Skywatch.",
		effects: [34]
	}, {
		ID: 67,
		name: "Arctursus Hood",
		type: "mask",
		member: 0,
		rarity: 2,
		flavorText: "If Arctursus ever found someone lost in the mountains, he would shed some ice fur and create this hood out of it to keep them warm.",
		effects: [34]
	}, {
		ID: 68,
		name: "Florafox Bonnet",
		type: "mask",
		member: 0,
		rarity: 2,
		flavorText: "This bonnet was grown in a Warden's garden in Firefly Forest.",
		effects: [34]
	}, {
		ID: 69,
		name: "Diveodile Toque",
		type: "mask",
		member: 0,
		rarity: 2,
		flavorText: "Townsfolk that live on the shore crafted this diving toque in honor of the sea guardian Diveodile.",
		effects: [34]
	}, {
		ID: 70,
		name: "Magmischief Helm",
		type: "mask",
		member: 0,
		rarity: 2,
		flavorText: "This helmet was crafted out of cooled lava from Bonfire Spire.",
		effects: [34]
	}, {
		ID: 71,
		name: "Cactus Mask",
		type: "mask",
		member: 0,
		rarity: 1,
		flavorText: "This hat is prickly!",
		effects: [34],
		memberAd: 0
	}, {
		ID: 72,
		name: "Chicken Hood",
		type: "mask",
		member: 1,
		rarity: 1,
		flavorText: "It is said that this hood was once worn by the bravest of warriors!",
		effects: [34]
	}, {
		ID: 73,
		name: "Petal Helm",
		type: "",
		member: 1,
		rarity: 1,
		flavorText: "It's a special springtime hat!",
		effects: [34]
	}, {
		ID: 74,
		name: "Star Tiara",
		type: "",
		member: 0,
		rarity: 1,
		flavorText: "This hat is shiny!",
		effects: [34],
		memberAd: 0
	}, {
		ID: 75,
		name: "Weather Helmet",
		type: "",
		member: 1,
		rarity: 1,
		flavorText: "Whatever the weather, this hat's got you covered!",
		effects: [34]
	}],
	item: [{
		ID: 1,
		name: "Apple",
		type: "consumable",
		effect: {
			hp: 160
		},
		member: 0,
		rarity: 0,
		flavorText: "Looks delicious!"
	}, {
		ID: 2,
		name: "Tin Can",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "An old tin can. Probably contained some soup or maybe some vegetables."
	}, {
		ID: 3,
		name: "Salad",
		type: "consumable",
		effect: {
			hp: 240
		},
		member: 0,
		rarity: 0,
		flavorText: "Looks delicious!"
	}, {
		ID: 4,
		name: "Croissant",
		type: "consumable",
		effect: {
			hp: 160
		},
		member: 0,
		rarity: 0,
		flavorText: "Looks delicious!"
	}, {
		ID: 5,
		name: "Tooth",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "It looks like the tooth of some monster. I don't think this monster brushed his teeth too often!"
	}, {
		ID: 6,
		name: "Large Scale",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "The scale of a large reptile, probably a dragon!"
	}, {
		ID: 7,
		name: "White Feather",
		member: 0,
		rarity: 0,
		flavorText: "The feather of a white bird. I've heard that some people at the Academy collect feathers..."
	}, {
		ID: 8,
		name: "Fish Bone",
		member: 0,
		rarity: 0,
		flavorText: "Fish bones? Gross! Why am I even carrying this around?!"
	}, {
		ID: 9,
		name: "Red Feather",
		member: 0,
		rarity: 0,
		flavorText: "The feather of a red bird. I've heard that some people at the Academy collect feathers..."
	}, {
		ID: 10,
		name: "Green Feather",
		member: 0,
		rarity: 0,
		flavorText: "The feather of a green bird. I've heard that some people at the Academy collect feathers..."
	}, {
		ID: 11,
		name: "Cake",
		type: "consumable",
		effect: {
			hp: 320
		},
		member: 0,
		rarity: 0,
		flavorText: "A cake? I guess monsters celebrate birthday's too..."
	}, {
		ID: 12,
		name: "Blue Feather",
		member: 0,
		rarity: 0,
		flavorText: "The feather of a blue bird. I've heard that some people at the Academy collect feathers..."
	}, {
		ID: 13,
		name: "Gold Ring",
		member: 0,
		rarity: 0,
		flavorText: "A gold ring! I wonder how much it's worth?"
	}, {
		ID: 14,
		name: "Silver Ring",
		member: 0,
		rarity: 0,
		flavorText: "A silver ring! I wonder how much it's worth?"
	}, {
		ID: 15,
		name: "Old Sock",
		member: 0,
		rarity: 0,
		drop: 1,
		flavorText: "Weird! You ever wonder where all your missing socks go?"
	}, {
		ID: 16,
		name: "Purple Feather",
		member: 0,
		rarity: 0,
		flavorText: "The feather of a purple bird. I've heard that some people at the Academy collect feathers..."
	}, {
		ID: 17,
		name: "Carmine Floret",
		member: 0,
		rarity: 0,
		flavorText: "These flowers tend to spread quickly and are a common sight in Firefly Forest."
	}, {
		ID: 18,
		name: "Helio Floret",
		member: 0,
		rarity: 0,
		flavorText: "These flowers are only found growing in trees, making them hard to reach."
	}, {
		ID: 19,
		name: "Slate Floret",
		member: 0,
		rarity: 0,
		flavorText: "The Slate Floret can only be found growing underneath the largest rocks, far away from the sunlight."
	}, {
		ID: 20,
		name: "Ring of the Forest",
		member: 0,
		rarity: 0,
		flavorText: "This ring is made from Forest Emeralds, which are hard to find in Firefly Forest."
	}, {
		ID: 21,
		name: "Forest Emerald",
		member: 0,
		rarity: 0,
		flavorText: "The forest emerald is a bright, glowing stone found only in Firefly Forest."
	}, {
		ID: 22,
		name: "Chicken",
		type: "consumable",
		effect: {
			hp: 400
		},
		member: 0,
		rarity: 0,
		flavorText: "Looks delicious!"
	}, {
		ID: 23,
		name: "Seedling",
		member: 0,
		rarity: 0,
		flavorText: "The Firefly Forest is full of roots, which can grow into all sorts of neat things!"
	}, {
		ID: 24,
		name: "Mandrake",
		member: 0,
		rarity: 0,
		flavorText: "In the Firefly Forest, sometimes roots sprout life! The result - the magical Mandrake!"
	}, {
		ID: 25,
		name: "Pizza",
		type: "consumable",
		effect: {
			hp: 480
		},
		member: 0,
		rarity: 0,
		flavorText: "Looks delicious!"
	}, {
		ID: 26,
		name: "Lucky Coin",
		member: 0,
		rarity: 0,
		flavorText: "I wonder whose coin this is...? It looks like it's rare..."
	}, {
		ID: 27,
		name: "Icy Floret",
		member: 0,
		rarity: 0,
		flavorText: "Also called the Snow Flower, this plant thrives in the harsh cold of the mountains."
	}, {
		ID: 28,
		name: "Glacier Diamond",
		member: 0,
		rarity: 0,
		flavorText: "This gem looks so much like ice that students often pass it by without notice."
	}, {
		ID: 29,
		name: "Ring of the Glacier",
		member: 0,
		rarity: 0,
		flavorText: "This ring is made from Glacier Diamonds, which are hard to find in Shiverchill Mountains."
	}, {
		ID: 30,
		name: "Chillymoth",
		member: 0,
		rarity: 0,
		flavorText: "When frightened, a Chillymoth turns into ice and people often keep them as trinkets."
	}, {
		ID: 31,
		name: "Mountain Star",
		member: 0,
		rarity: 0,
		flavorText: "These mysterious gems are formed in the ice on moonlit nights, but never melt."
	}, {
		ID: 32,
		name: "Frozen Object",
		member: 0,
		rarity: 0,
		flavorText: "It looks like there's something frozen inside! I wonder what it is?"
	}, {
		ID: 33,
		name: "Fire Flower",
		member: 0,
		rarity: 0,
		flavorText: "This flower's petals look like a dancing flame, but the flower is cool to the touch."
	}, {
		ID: 34,
		name: "Volcanic Ruby",
		member: 0,
		rarity: 0,
		flavorText: "A glowing gem that can be found only in the hottest of places."
	}, {
		ID: 35,
		name: "Sunfire Pod",
		member: 0,
		rarity: 0,
		flavorText: "Nobody really knows how a sunfire pod is created, or where it comes from."
	}, {
		ID: 36,
		name: "Embershard",
		member: 0,
		rarity: 0,
		flavorText: "Not actually a gem, but instead a piece of glass or metal that has been formed in a volcano."
	}, {
		ID: 37,
		name: "Ring of the Volcano",
		member: 0,
		rarity: 0,
		flavorText: "This ring is made with Volcanic Rubies, which are hard to find in Bonfire Spire."
	}, {
		ID: 38,
		name: "Message in a Bottle",
		member: 0,
		rarity: 0,
		flavorText: "Looks like someone left a message in a bottle...I wonder what it says...?"
	}, {
		ID: 39,
		name: "Shark Tooth",
		member: 0,
		rarity: 0,
		flavorText: "This tooth is huge and sharp...it must have come from a shark."
	}, {
		ID: 40,
		name: "Red Shell",
		member: 0,
		rarity: 0,
		flavorText: "A red clam shell, found in clusters on sunny beaches."
	}, {
		ID: 41,
		name: "Blue Shell",
		member: 0,
		rarity: 0,
		flavorText: "A blue clam shell, found in clusters on sunny beaches."
	}, {
		ID: 42,
		name: "White Shell",
		member: 0,
		rarity: 0,
		flavorText: "A white clam shell, found in clusters on sunny beaches."
	}, {
		ID: 43,
		name: "Confused Shark",
		member: 0,
		rarity: 0,
		flavorText: "This little shark looks confused...better keep it in water for now."
	}, {
		ID: 44,
		name: "Bag of Flour",
		member: 0,
		rarity: 0,
		flavorText: "Flour used for baking."
	}, {
		ID: 45,
		name: "Bag of Spices",
		member: 0,
		rarity: 0,
		flavorText: "Spices used in cooking."
	}, {
		ID: 46,
		name: "Bottled Cloud",
		member: 0,
		rarity: 0,
		flavorText: ""
	}, {
		ID: 47,
		name: "Gears",
		member: 0,
		rarity: 0,
		flavorText: "These look like they were part of a machine. I wonder what it did?"
	}, {
		ID: 48,
		name: "Medallion",
		member: 0,
		rarity: 0,
		flavorText: "Strange markings are found on this medallion."
	}, {
		ID: 49,
		name: "Spare Parts",
		member: 0,
		rarity: 0,
		flavorText: "Various metal pieces...maybe they're part of a puzzle?"
	}, {
		ID: 50,
		name: "Cloth Scrap",
		member: 0,
		rarity: 0,
		flavorText: "It looks like this cloth was torn from some larger fabric."
	}, {
		ID: 51,
		name: "Scrap Wood",
		member: 0,
		rarity: 0,
		flavorText: "A piece of scrap wood, probably useful for building."
	}, {
		ID: 52,
		name: "Scepter",
		member: 0,
		rarity: 0,
		flavorText: "This metal rod looks a little shabby..."
	}, {
		ID: 53,
		name: "Wrench",
		member: 0,
		rarity: 0,
		flavorText: "A little worn, but probably still works great."
	}, {
		ID: 54,
		name: "Lightning Stone",
		member: 0,
		rarity: 0,
		flavorText: "This stone is supposed to hold electricity...my hair is standing on end!"
	}, {
		ID: 55,
		name: "Doubloon",
		member: 0,
		rarity: 0,
		flavorText: "It's a pirate coin! I wonder if it's worth anything..."
	}, {
		ID: 56,
		name: "Scroll of Paper",
		member: 0,
		rarity: 0,
		flavorText: "A roll of paper, looks pretty important."
	}, {
		ID: 57,
		name: "Spyglass",
		member: 0,
		rarity: 0,
		flavorText: "This spyglass is in pretty good condition...someone took good care of it!"
	}, {
		ID: 58,
		name: "Seeds",
		member: 0,
		rarity: 0,
		flavorText: "A bunch of little seeds...who knows what they will grow into."
	}, {
		ID: 59,
		name: "Green Key",
		member: 0,
		rarity: 0,
		flavorText: "A strange-looking key adorned with a green jewel."
	}, {
		ID: 60,
		name: "Animal Tag",
		member: 0,
		rarity: 0,
		flavorText: "It looks like a tag for animal tracking..."
	}, {
		ID: 61,
		name: "Scoog's Hat",
		member: 0,
		rarity: 0,
		flavorText: "This must be Professor Scoog's hat...smells like dog food..."
	}, {
		ID: 62,
		name: "Moog's Evil Scheme",
		member: 0,
		rarity: 0,
		flavorText: "This appears to be a novel outlining all of Moog's plan to capture the Dynos. It's very well-written."
	}, {
		ID: 63,
		name: "Digging Equipment",
		member: 0,
		rarity: 0,
		flavorText: "It looks like a machine for digging...but the batteries seem to have fallen out."
	}, {
		ID: 64,
		name: "Dyno Egg",
		member: 0,
		rarity: 0,
		flavorText: "It's a dyno egg! It looks like it's safe and intact."
	}, {
		ID: 65,
		name: "Prize Ribbon",
		member: 0,
		rarity: 0,
		flavorText: "Looks like a cheap prize ribbon for winning the Robolympics...I wonder what I can use it for?"
	}, {
		ID: 66,
		name: "Scrap of Paper",
		member: 0,
		rarity: 0,
		flavorText: "Contains a lot of scribbles and doodles."
	}, {
		ID: 67,
		name: "Monster Note",
		member: 0,
		rarity: 0,
		flavorText: "It says - 'Huffy mop derp biggy book Flora'. Okay..."
	}, {
		ID: 68,
		name: "Broken Stone",
		member: 0,
		rarity: 0,
		flavorText: "Looks like a piece of a bridge, covered in claw marks."
	}, {
		ID: 69,
		name: "Broken Flute",
		member: 0,
		rarity: 0,
		flavorText: "A wooden flute...looks like it was broken in half."
	}, {
		ID: 70,
		name: "Magic Flute",
		member: 0,
		rarity: 0,
		flavorText: "A wooden flute containing the magical powers of the forest."
	}, {
		ID: 71,
		name: "Power Crystal",
		member: 0,
		rarity: 0,
		flavorText: "Crystal used to power the old furnaces in the ice caves."
	}, {
		ID: 72,
		name: "Miner Shovel",
		member: 0,
		rarity: 0,
		flavorText: "A shovel...looks sturdy enough to dig through anything!"
	}, {
		ID: 73,
		name: "Spoon",
		member: 0,
		rarity: 0,
		flavorText: "A very large, Yeti-sized spoon. Definitely not a shovel."
	}, {
		ID: 74,
		name: "Crystal",
		member: 0,
		rarity: 0,
		flavorText: "A dim, worn-out Power Crystal. It no longer possesses enough energy to be of any use."
	}, {
		ID: 75,
		name: "Bok's Key",
		member: 0,
		rarity: 0,
		flavorText: "A key to a chest containing Bok's shovel."
	}, {
		ID: 76,
		name: "Firework",
		type: "consumable",
		effect: {
			fx: "firework"
		},
		member: 0,
		rarity: 0,
		flavorText: "Classic fireworks, great to use during a celebration."
	}, {
		ID: 77,
		name: "Confetti",
		type: "consumable",
		effect: {
			fx: "confetti"
		},
		member: 0,
		rarity: 0,
		flavorText: "What's a party without confetti?"
	}, {
		ID: 78,
		name: "Firefly",
		member: 0,
		rarity: 0,
		flavorText: "A firefly from the Firefly Forest. Bring these to the merchant in the Firefly Clearing for rewards."
	}, {
		ID: 79,
		name: "Frozen Something",
		member: 0,
		rarity: 0,
		flavorText: "This ice block has something inside it. Maybe there's a way to get it out?"
	}, {
		ID: 80,
		name: "Ice Crystal",
		member: 0,
		rarity: 0,
		flavorText: "A valuable ice crystal from the Shiverchill Mountains. Bring these to the miner in the Ruined Entrance for rewards."
	}, {
		ID: 81,
		name: "Factory Key",
		member: 0,
		rarity: 0,
		flavorText: "A key to the factory in Skywatch."
	}, {
		ID: 82,
		name: "Master Key Fragment",
		member: 0,
		rarity: 0,
		flavorText: "Half of the Master Key. Find the other half and bring it to Benni to fix."
	}, {
		ID: 83,
		name: "Master Key",
		member: 0,
		rarity: 0,
		flavorText: "The key to the Cumulus Room in the Skywatch Factory."
	}, {
		ID: 84,
		name: "Bounty Note",
		member: 0,
		rarity: 0,
		flavorText: "This bounty note means you have accepted the 1st bounty for today. Check the bounty section of the Awards Menu for details."
	}, {
		ID: 85,
		name: "Bounty Note",
		member: 0,
		rarity: 0,
		flavorText: "This bounty note means you have accepted the 2nd bounty for today. Check the bounty section of the Awards Menu for details."
	}, {
		ID: 86,
		name: "Bounty Note",
		member: 0,
		rarity: 0,
		flavorText: "This bounty note means you have accepted the 3rd bounty for today. Check the bounty section of the Awards Menu for details."
	}, {
		ID: 87,
		name: "Weather O Meter",
		member: 0,
		rarity: 0,
		flavorText: "Benni uses this device to take weather readings around Skywatch."
	}, {
		ID: 88,
		name: "Raisin",
		member: 0,
		rarity: 0,
		flavorText: "Slurpy's special ingredient."
	}, {
		ID: 89,
		name: "Cooking Tools",
		member: 0,
		rarity: 0,
		flavorText: "A ragtag assortment of cooking tools."
	}, {
		ID: 90,
		name: "Turnip",
		member: 0,
		rarity: 0,
		flavorText: "This huge turnip is the Queen's favorite ingredient."
	}, {
		ID: 91,
		name: "Slurpy's Dish",
		member: 0,
		rarity: 0,
		flavorText: "A stew made from turnips by Slurpy the slime. It is surprisingly well made."
	}, {
		ID: 92,
		name: "Crimson Ruby Key",
		member: 0,
		rarity: 0,
		flavorText: "A key used to open a very special chest in Bonfire Spire."
	}, {
		ID: 93,
		name: "Weather O Meter",
		member: 0,
		rarity: 0,
		flavorText: "Benni uses this device to take weather readings around Skywatch, but it looks like it's been chewed up."
	}, {
		ID: 94,
		name: "Scroll of Paper",
		member: 0,
		rarity: 0,
		flavorText: "A roll of paper, looks pretty important."
	}, {
		ID: 95,
		name: "Resist All",
		member: 0,
		flavorText: "This battle potion gives you resistance to ALL attacks in monster battles. Lasts for 1 battle.",
		type: "potion",
		subType: "elemental",
		element: "all",
		potency: 1,
		price: 0,
		previewIcon: "item/110",
		effect: "+10% defense against all attacks"
	}, {
		ID: 96,
		name: "Fire Resist",
		member: 1,
		flavorText: "This battle potion gives you resistance to Fire attacks in monster battles. Lasts for 1 battle.",
		type: "potion",
		subType: "elemental",
		element: "fire",
		potency: 1,
		price: 100,
		effect: "Bonus: Fire Defense"
	}, {
		ID: 97,
		name: "Strong Fire Resist",
		member: 1,
		flavorText: "This battle potion gives you strong resistance to Fire attacks in monster battles. Lasts for 1 battle.",
		type: "potion",
		subType: "elemental",
		element: "fire",
		potency: 2,
		price: 200,
		effect: "Bonus: [bonus-arrow] Fire Defense"
	}, {
		ID: 98,
		name: "Water Resist",
		member: 1,
		flavorText: "This battle potion gives you resistance to Water attacks in monster battles. Lasts for 1 battle.",
		type: "potion",
		subType: "elemental",
		element: "water",
		potency: 1,
		price: 100,
		effect: "Bonus: Water Defense"
	}, {
		ID: 99,
		name: "Strong Water Resist",
		member: 1,
		flavorText: "This battle potion gives you strong resistance to Water attacks in monster battles. Lasts for 1 battle.",
		type: "potion",
		subType: "elemental",
		element: "water",
		potency: 2,
		price: 200,
		effect: "Bonus: [bonus-arrow] Water Defense"
	}, {
		ID: 100,
		name: "Earth Resist",
		member: 1,
		flavorText: "This battle potion gives you resistance to Earth attacks in monster battles. Lasts for 1 battle.",
		type: "potion",
		subType: "elemental",
		element: "earth",
		potency: 1,
		price: 100,
		effect: "Bonus: Earth Defense"
	}, {
		ID: 101,
		name: "Strong Earth Resist",
		member: 1,
		flavorText: "This battle potion gives you strong resistance to Earth attacks in monster battles. Lasts for 1 battle.",
		type: "potion",
		subType: "elemental",
		element: "earth",
		potency: 2,
		price: 200,
		effect: "Bonus: [bonus-arrow] Earth Defense"
	}, {
		ID: 102,
		name: "Ice Resist",
		member: 1,
		flavorText: "This battle potion gives you resistance to Ice attacks in monster battles. Lasts for 1 battle.",
		type: "potion",
		subType: "elemental",
		element: "ice",
		potency: 1,
		price: 100,
		effect: "Bonus: Ice Defense"
	}, {
		ID: 103,
		name: "Strong Ice Resist",
		member: 1,
		flavorText: "This battle potion gives you strong resistance to Ice attacks in monster battles. Lasts for 1 battle.",
		type: "potion",
		subType: "elemental",
		element: "ice",
		potency: 2,
		price: 200,
		effect: "Bonus: [bonus-arrow] Ice Defense"
	}, {
		ID: 104,
		name: "Storm Resist",
		member: 1,
		flavorText: "This battle potion gives you resistance to Storm attacks in monster battles. Lasts for 1 battle.",
		type: "potion",
		subType: "elemental",
		element: "storm",
		potency: 1,
		price: 100,
		effect: "Bonus: Storm Defense"
	}, {
		ID: 105,
		name: "Strong Storm Resist",
		member: 1,
		flavorText: "This battle potion gives you strong resistance to Storm attacks in monster battles. Lasts for 1 battle.",
		type: "potion",
		subType: "elemental",
		element: "storm",
		potency: 2,
		price: 200,
		effect: "Bonus: [bonus-arrow] Storm Defense"
	}, {
		ID: 106,
		name: "Damage Bonus",
		member: 1,
		flavorText: "This battle potion gives a boost to your attack damage in monster battles. Lasts for 1 battle.",
		type: "potion",
		element: "damage",
		potency: 1,
		price: 100,
		effect: "Bonus: [bonus-arrow] Attack"
	}, {
		ID: 107,
		name: "Strong Damage Bonus",
		member: 1,
		flavorText: "This battle potion gives a strong boost to your attack damage in monster battles. Lasts for 1 battle.",
		type: "potion",
		element: "damage",
		potency: 2,
		price: 200,
		effect: "Bonus: [bonus-arrow] [bonus-arrow] Attack"
	}, {
		ID: 108,
		name: "Critical Chance Up",
		member: 1,
		flavorText: "This battle potion increases the chance your attack will be a critical hit in monster battles. Lasts for 1 battle.",
		type: "potion",
		element: "critical",
		potency: 1,
		price: 100,
		effect: "Bonus: Critical hits happen twice as often"
	}, {
		ID: 109,
		name: "Always Critical",
		member: 1,
		flavorText: "This battle potion makes every attack you use a critical hit in monster battles. Lasts for 1 battle.",
		type: "potion",
		element: "critical",
		potency: 2,
		price: 500,
		effect: "Bonus: Attacks are always critical hits"
	}, {
		ID: 110,
		name: "Resist All",
		member: 1,
		flavorText: "This battle potion gives you resistance to ALL attacks in monster battles. Lasts for 1 battle.",
		type: "potion",
		subType: "elemental",
		element: "all",
		potency: 1,
		price: 300,
		effect: "Bonus: All defense"
	}, {
		ID: 111,
		name: "Strong Resist All",
		member: 1,
		flavorText: "This battle potion gives you strong resistance to ALL attacks in monster battles. Lasts for 1 battle.",
		type: "potion",
		subType: "elemental",
		element: "all",
		potency: 2,
		price: 500,
		effect: "Bonus: [bonus-arrow] All defense"
	}],
	key: [{
		ID: 1,
		name: "Shovel",
		levels: 3,
		flavorText: "A shovel used for digging up fossils."
	}, {
		ID: 2,
		name: "TEK-Y4",
		levels: 5,
		flavorText: "A dancing robot with a neural network processor for dance move acceleration and increased groove accuracy."
	}, {
		ID: 3,
		name: "Firefly Gem",
		levels: 1,
		flavorText: "An emerald representing your mastery of Flora's trials in Firefly Forest."
	}, {
		ID: 4,
		name: "Shiverchill Gem",
		levels: 1,
		flavorText: "A diamond representing your aid in Bok's woes in the Shiverchill Mountains."
	}, {
		ID: 5,
		name: "Bounty Note",
		levels: 1,
		flavorText: "This bounty note means you have accepted the 1st bounty for today. Check the bounty section of the Awards Menu for details."
	}, {
		ID: 6,
		name: "Bounty Note",
		levels: 1,
		flavorText: "This bounty note means you have accepted the 2nd bounty for today. Check the bounty section of the Awards Menu for details."
	}, {
		ID: 7,
		name: "Bounty Note",
		levels: 1,
		flavorText: "This bounty note means you have accepted the 3rd bounty for today. Check the bounty section of the Awards Menu for details."
	}, {
		ID: 8,
		name: "Vine Pruner",
		levels: 1,
		flavorText: "A fiery wand that burns away those pesky vines."
	}, {
		ID: 9,
		name: "Vinecinerator 2000",
		levels: 1,
		flavorText: "Having trouble with vines that are too thick to burn with your Vine Pruner? Not to worry, here's the Vinecinerator 2000!"
	}, {
		ID: 10,
		name: "Skywatch Gem",
		levels: 1,
		flavorText: "An amethyst representing your adventures during Eugene's pranks in Skywatch."
	}, {
		ID: 11,
		name: "Bonfire Gem",
		levels: 1,
		flavorText: "A ruby given to you by Slurpy after helping him in his quest to become a chef. This is the Warden Keystone of Bonfire Spire."
	}, {
		ID: 12,
		name: "Boots of Hotwalk",
		quest: 1,
		levels: 1,
		flavorText: "These boots allow the wearer to walk on lava."
	}, {
		ID: 13,
		name: "Island Map",
		levels: 1,
		flavorText: "A map of the entire island!"
	}],
	fossil: [{
		ID: 1,
		name: "Terrosaur Bone",
		count: 20,
		rarity: 0,
		flavorText: "This bone looks like a piece from a much larger skeleton. I better find them all!"
	}, {
		ID: 2,
		name: "Stampeed Bone",
		count: 20,
		rarity: 0,
		flavorText: "This bone looks like a piece from a much larger skeleton. I better find them all!"
	}, {
		ID: 3,
		name: "Claustro Bone",
		count: 10,
		rarity: 0,
		flavorText: "This bone looks like a piece from a much larger skeleton. I better find them all!"
	}, {
		ID: 4,
		name: "Pterrocks Bone",
		count: 10,
		rarity: 0,
		flavorText: "This bone looks like a piece from a much larger skeleton. I better find them all!"
	}, {
		ID: 5,
		name: "Beetle in Amber",
		count: 1,
		rarity: 0,
		flavorText: "It appears to be a large beetle, preserved in a piece of amber. Neat!"
	}, {
		ID: 6,
		name: "Trellobyte",
		count: 1,
		rarity: 0,
		flavorText: "Trellobytes once scavenged the ocean floors, looking for scraps and collectible cards."
	}, {
		ID: 7,
		name: "Sharp Claw",
		count: 1,
		rarity: 0,
		flavorText: "A large claw to some carnivore...or perhaps an ill-tempered herbivore."
	}, {
		ID: 8,
		name: "Dragonfly in Amber",
		count: 1,
		rarity: 0,
		flavorText: "This dragonfly must have landed on a tree, and got caught in some tree sap."
	}, {
		ID: 9,
		name: "Shell",
		count: 1,
		rarity: 0,
		flavorText: "This shell was likely once home to a large crustacean, or perhaps just a fancy-looking thermos."
	}, {
		ID: 10,
		name: "Mosquito in Amber",
		count: 1,
		rarity: 0,
		flavorText: "These are often treasured as jewelry, and some old men like to place them atop their canes."
	}, {
		ID: 11,
		name: "Piece of Fossilized Fish",
		count: 5,
		rarity: 0,
		flavorText: "A fragment of a fossilized fish...it looks like there are more out there!"
	}, {
		ID: 12,
		name: "Piece of Fossilized Plant",
		count: 5,
		rarity: 0,
		flavorText: "A fragment of a fossilized plant...it looks like there are more out there!"
	}, {
		ID: 13,
		name: "Terrosaur Skeleton",
		rarity: 3,
		flavorText: "A skeleton of the awesome terrosaur, the meanest dyno in history!",
		recipe: [{
			ID: 1,
			type: "fossil",
			N: 20
		}]
	}, {
		ID: 14,
		name: "Stampeed Skeleton",
		rarity: 3,
		flavorText: "A skeleton of a Stampeed. It looks pretty cool, and boy is it heavy!",
		recipe: [{
			ID: 2,
			type: "fossil",
			N: 20
		}]
	}, {
		ID: 15,
		name: "Claustro Skeleton",
		rarity: 2,
		flavorText: "This skeleton of a claustro is actually a combination of bone and cartilage.",
		recipe: [{
			ID: 3,
			type: "fossil",
			N: 10
		}]
	}, {
		ID: 16,
		name: "Pterrocks Skeleton",
		rarity: 2,
		flavorText: "This pterrocks skeleton is incredibly fragile, and is held together with strong glue and wire.",
		recipe: [{
			ID: 4,
			type: "fossil",
			N: 10
		}]
	}, {
		ID: 17,
		name: "Beetle in Amber",
		rarity: 1,
		flavorText: "It appears to be a large beetle, preserved in a piece of amber. Neat!",
		recipe: [{
			ID: 5,
			type: "fossil",
			N: 1
		}]
	}, {
		ID: 18,
		name: "Trellobyte",
		rarity: 1,
		flavorText: "Trellobytes once scavenged the ocean floors, looking for scraps and collectible cards.",
		recipe: [{
			ID: 6,
			type: "fossil",
			N: 1
		}]
	}, {
		ID: 19,
		name: "Sharp Claw",
		rarity: 1,
		flavorText: "A large claw to some carnivore...or perhaps an ill-tempered herbivore.",
		recipe: [{
			ID: 7,
			type: "fossil",
			N: 1
		}]
	}, {
		ID: 20,
		name: "Dragonfly in Amber",
		rarity: 1,
		flavorText: "This dragonfly must have landed on a tree, and got caught in some tree sap.",
		recipe: [{
			ID: 8,
			type: "fossil",
			N: 1
		}]
	}, {
		ID: 21,
		name: "Shell",
		rarity: 1,
		flavorText: "This shell was likely once a home to a large crustacean, or perhaps just a fancy-looking thermos.",
		recipe: [{
			ID: 9,
			type: "fossil",
			N: 1
		}]
	}, {
		ID: 22,
		name: "Mosquito in Amber",
		rarity: 1,
		flavorText: "These are often treasured as jewellry, and some old men like to place them atop their canes.",
		recipe: [{
			ID: 10,
			type: "fossil",
			N: 1
		}]
	}, {
		ID: 23,
		name: "Fossilized Fish",
		rarity: 2,
		flavorText: "This fish was likely a deep ocean dweller; perhaps a Darkfish, Crazyfish, or maybe the rare Stinkyfish.",
		recipe: [{
			ID: 11,
			type: "fossil",
			N: 5
		}]
	}, {
		ID: 24,
		name: "Fossilized Plant",
		rarity: 2,
		flavorText: "A small fern, fossilized over millions of years. This plant still exists on the island today.",
		recipe: [{
			ID: 12,
			type: "fossil",
			N: 5
		}]
	}],
	fish: [{
		ID: 1,
		name: "Fish",
		weightMin: 1,
		weightMax: 10,
		str: 10,
		spd: 10,
		hourMin: 1,
		hourMax: 24,
		rod: 1,
		bait: [1, 2, 3]
	}],
	currency: [{
		ID: 1,
		name: "Gold",
		drop: 0,
		flavorText: ""
	}, {
		ID: 2,
		name: "Candy Corn",
		drop: 0,
		flavorText: "The primary currency of Pumpkinfest. Used to buy costumes and cool items in the town square during the event!",
		icon: "mail-cc"
	}, {
		ID: 3,
		name: "Relic Coin",
		drop: .25,
		flavorText: "A rusty old coin. Used to buy rare artifacts from the wandering merchant.",
		icon: "mail-leaf"
	}, {
		ID: 4,
		name: "Star Shards",
		drop: 0,
		flavorText: "The primary currency of the Starlight Festival. These are used to buy costumes and cool items in the town square during the event!",
		icon: "mail-ss"
	}, {
		ID: 5,
		name: "Magic Snowflakes",
		drop: 0,
		flavorText: "The primary currency of Winterfest. These are used to buy costumes and cool items in the town square during the event!",
		icon: "mail-sf"
	}, {
		ID: 6,
		name: "Small Coin Bundle",
		drop: 0,
		flavorText: ""
	}, {
		ID: 7,
		name: "Medium Coin Bundle",
		drop: 0,
		flavorText: ""
	}, {
		ID: 8,
		name: "Large Coin Bundle",
		drop: 0,
		flavorText: ""
	}, {
		ID: 9,
		name: "Wood",
		drop: 0,
		flavorText: "This special wood was used by Floatlings to construct makeshift houses as they traveled around the island in search of knowledge."
	}],
	dorm: [{
		ID: 1,
		iconAtlas: "icons-house",
		name: "Comfy Chair",
		member: 0,
		rarity: 0,
		category: "Comfy",
		price: 300,
		r: 4,
		flavorText: "Just a regular old chair. You can sit on it; that's all you need, right?"
	}, {
		ID: 2,
		iconAtlas: "icons-house",
		name: "Steel Chair",
		member: 0,
		rarity: 0,
		category: "Comfy",
		price: 350,
		r: 4,
		flavorText: "A sturdy steel chair. One questions the comfort of such a thing."
	}, {
		ID: 3,
		iconAtlas: "icons-house",
		name: "Wooden Nightstand",
		member: 0,
		rarity: 0,
		category: "Surface",
		price: 500,
		r: 4,
		flavorText: "A standard nightstand. Perfect for storing bedtime stories."
	}, {
		ID: 4,
		iconAtlas: "icons-house",
		name: "Steel Table",
		member: 0,
		rarity: 0,
		category: "Surface",
		price: 400,
		r: 0,
		flavorText: "A sturdy steel table. Much more practical than its chair counterpart."
	}, {
		ID: 5,
		iconAtlas: "icons-house",
		name: "Glass Table",
		member: 1,
		rarity: 0,
		category: "Surface",
		price: 600,
		r: 0,
		flavorText: "A standard glass table. Don't jump on it!"
	}, {
		ID: 6,
		iconAtlas: "icons-house",
		name: "Pink Flowerpot",
		member: 0,
		rarity: 0,
		category: "Plants",
		price: 200,
		r: 0,
		flavorText: "This little pink flower is a common gift on Valentine's Day."
	}, {
		ID: 7,
		iconAtlas: "icons-house",
		name: "Bushy Plant",
		member: 1,
		rarity: 0,
		category: "Plants",
		price: 200,
		mprice: 100,
		r: 0,
		flavorText: "A regular green potted plant. Gives off a distinct aroma."
	}, {
		ID: 8,
		iconAtlas: "icons-house",
		name: "Tall Fern",
		member: 1,
		rarity: 0,
		category: "Plants",
		price: 200,
		mprice: 100,
		r: 0,
		flavorText: "This plant has grown to be a bit unkempt. Perfect for those who want a wild look for their room."
	}, {
		ID: 9,
		iconAtlas: "icons-house",
		name: "Forest Flower",
		member: 1,
		rarity: 0,
		category: "Plants",
		price: 150,
		mprice: 100,
		r: 0,
		flavorText: "This large wild flower can only be found during Spring in the Firefly forest. It's perfume like odor keeps bugs away."
	}, {
		ID: 10,
		iconAtlas: "icons-house",
		name: "Purple Couch",
		member: 1,
		rarity: 0,
		category: "Comfy",
		price: 600,
		mprice: 300,
		r: 4,
		flavorText: "Like a regular couch, but purple."
	}, {
		ID: 11,
		iconAtlas: "icons-house",
		name: "Green Couch",
		member: 1,
		rarity: 1,
		category: "Comfy",
		price: 600,
		mprice: 400,
		r: 4,
		flavorText: "Like a regular couch, but green."
	}, {
		ID: 12,
		iconAtlas: "icons-house",
		name: "Purple Chair",
		member: 1,
		rarity: 1,
		category: "Comfy",
		price: 400,
		mprice: 250,
		r: 4,
		flavorText: "This large, lazy chair is so comfy, that once you sit on it, you'll never want to stand up again."
	}, {
		ID: 13,
		iconAtlas: "icons-house",
		name: "Bookshelf",
		member: 1,
		rarity: 0,
		category: "Storage",
		price: 800,
		mprice: 450,
		r: 4,
		flavorText: "A regular wooden bookshelf, perfect for storing all of your favorite spell books."
	}, {
		ID: 14,
		iconAtlas: "icons-house",
		name: "Wooden Table",
		member: 1,
		rarity: 0,
		category: "Surface",
		price: 300,
		mprice: 150,
		r: 0,
		flavorText: "A standard wooden table. The most standard of all the tables."
	}, {
		ID: 15,
		iconAtlas: "icons-house",
		name: "Small Chair",
		member: 1,
		rarity: 0,
		category: "Comfy",
		price: 300,
		mprice: 150,
		r: 4,
		flavorText: "Tiny chairs made for tiny individuals."
	}, {
		ID: 16,
		iconAtlas: "icons-house",
		name: "Wardrobe",
		member: 1,
		rarity: 1,
		category: "Storage",
		price: 1200,
		mprice: 750,
		r: 4,
		flavorText: "This large wooden wardrobe has all the space you could need to store your wizarding outfits."
	}, {
		ID: 17,
		iconAtlas: "icons-house",
		name: "Starry Bed",
		member: 0,
		rarity: 1,
		category: "Comfy",
		price: 1500,
		mprice: 800,
		r: 4,
		flavorText: "This sky themed bed is so fluffy, it's like lying on a cloud."
	}, {
		ID: 18,
		iconAtlas: "icons-house",
		name: "Square Window",
		member: 0,
		rarity: 0,
		category: "Wall",
		price: 250,
		mprice: 100,
		r: 0,
		flavorText: "A square window, or is it 4 square windows?"
	}, {
		ID: 19,
		iconAtlas: "icons-house",
		name: "Fancy Window",
		member: 1,
		rarity: 1,
		category: "Wall",
		price: 350,
		mprice: 150,
		r: 0,
		flavorText: "The fanciest of windows. Not actually, but it is pretty fancy."
	}, {
		ID: 20,
		iconAtlas: "icons-house",
		name: "Dining Table",
		member: 1,
		rarity: 1,
		category: "Surface",
		price: 850,
		mprice: 550,
		r: 4,
		flavorText: "This spacious table is perfect for large gatherings and parties."
	}, {
		ID: 21,
		iconAtlas: "icons-house",
		name: "Treasure Chest",
		member: 1,
		rarity: 1,
		category: "Storage",
		price: 1500,
		mprice: 600,
		r: 0,
		flavorText: "A chest to store all your treasures."
	}, {
		ID: 22,
		iconAtlas: "icons-house",
		name: "Frosty Bear",
		member: 1,
		rarity: 2,
		category: "Items",
		mprice: 350,
		r: 0,
		flavorText: "This cuddly guy is perfect for those lonely days at home."
	}, {
		ID: 23,
		iconAtlas: "icons-house",
		name: "Bawk-bawk Clock",
		member: 1,
		rarity: 2,
		category: "Wall",
		mprice: 350,
		r: 4,
		flavorText: "Never be late again! The squawking sound this clock makes is so annoying, it is impossible to ignore."
	}, {
		ID: 24,
		iconAtlas: "icons-house",
		name: "Dragon Mirror",
		member: 1,
		rarity: 2,
		category: "Wall",
		price: 650,
		mprice: 350,
		r: 0,
		flavorText: "A mirror that shows its user as a dragon. It was created by Small Hood Nagol, a wizard notorious for his obsession with dragons."
	}, {
		ID: 25,
		iconAtlas: "icons-house",
		name: "Frozen Mirror",
		member: 1,
		rarity: 1,
		category: "Wall",
		price: 750,
		mprice: 400,
		r: 0,
		flavorText: "A mirror made of ice. There is a label on the back that says 'Warning keep frozen'."
	}, {
		ID: 26,
		iconAtlas: "icons-house",
		name: "Round Mirror",
		member: 1,
		rarity: 0,
		category: "Wall",
		price: 400,
		mprice: 250,
		r: 0,
		flavorText: "This mirror is so perfectly rounded, it is impossible to tell the top from the bottom."
	}, {
		ID: 27,
		iconAtlas: "icons-house",
		name: "Frozen Throne",
		member: 1,
		rarity: 2,
		category: "Comfy",
		price: 3500,
		mprice: 500,
		r: 4,
		flavorText: "This throne doesn't look too comfy, but gosh does it look cool."
	}, {
		ID: 28,
		iconAtlas: "icons-house",
		name: "Forest Wardrobe",
		member: 1,
		rarity: 2,
		category: "Storage",
		price: 3e3,
		mprice: 600,
		r: 4,
		flavorText: "A wardrobe made carved of wood from the Big Tree. The vines on the side are grown around the closet for a unique look every time."
	}, {
		ID: 29,
		iconAtlas: "icons-house",
		name: "Purple Potted Plant",
		member: 1,
		rarity: 0,
		category: "Plants",
		price: 200,
		mprice: 0,
		r: 0,
		flavorText: "This purple potted plant is picked in the plains and is perfect for perching atop any platform."
	}, {
		ID: 30,
		iconAtlas: "icons-house",
		name: "Red Potted Plant",
		member: 1,
		rarity: 0,
		category: "Plants",
		price: 200,
		mprice: 0,
		r: 0,
		flavorText: "This red potted plant emanates a light pulsating glow. It is picked from the Fiery Forest surrounding Bonfire Spire."
	}, {
		ID: 31,
		iconAtlas: "icons-house",
		name: "Mushroom Lamp",
		member: 1,
		rarity: 0,
		category: "Lamps",
		price: 350,
		mprice: 150,
		r: 0,
		flavorText: "A special mushroom for the Firefly forest. When shocked with electricity, it gives off a warm glow from its spots."
	}, {
		ID: 32,
		iconAtlas: "icons-house",
		name: "Table Lamp",
		member: 1,
		rarity: 0,
		category: "Lamps",
		price: 250,
		mprice: 150,
		r: 0,
		flavorText: "A normal table lamp. You can put it on a chair if you're feeling crazy."
	}, {
		ID: 33,
		iconAtlas: "icons-house",
		name: "Flower Lamp",
		member: 1,
		rarity: 0,
		category: "Lamps",
		price: 350,
		mprice: 150,
		r: 0,
		flavorText: "Looks like a flower, smells like a flower, but isn't a flower. Its a lamp."
	}, {
		ID: 34,
		iconAtlas: "icons-house",
		name: "Aquarium",
		member: 1,
		rarity: 1,
		category: "Items",
		price: 600,
		mprice: 250,
		r: 4,
		flavorText: "Keep your favorite water pets happy with this personal aquarium."
	}, {
		ID: 35,
		iconAtlas: "icons-house",
		name: "Icy Table",
		member: 1,
		rarity: 2,
		category: "Surface",
		price: 600,
		mprice: 200,
		r: 0,
		flavorText: "A table made of ice. Designed for the inhabitants of Shiverchill before the Ice Worm appeared."
	}, {
		ID: 36,
		iconAtlas: "icons-house",
		name: "Flame Banner",
		member: 1,
		rarity: 1,
		category: "Wall",
		price: 1e3,
		mprice: 250,
		r: 0,
		flavorText: "A banner flown only by those who have mastered the art of fire spells."
	}, {
		ID: 37,
		iconAtlas: "icons-house",
		name: "Snow Banner",
		member: 1,
		rarity: 1,
		category: "Wall",
		price: 1e3,
		mprice: 250,
		r: 0,
		flavorText: "A banner flown only by those who have mastered the art of ice spells."
	}, {
		ID: 38,
		iconAtlas: "icons-house",
		name: "Forest Banner",
		member: 1,
		rarity: 1,
		category: "Wall",
		price: 1e3,
		mprice: 250,
		r: 0,
		flavorText: "A banner flown only by those who have mastered the art of earth spells."
	}, {
		ID: 39,
		iconAtlas: "icons-house",
		name: "Stuffed Dragon",
		member: 1,
		rarity: 3,
		category: "Items",
		mprice: 200,
		r: 0,
		flavorText: "A plush dragon toy. It is surprisingly not particularly hug-able, as the skin is made from real dragon hide."
	}, {
		ID: 40,
		iconAtlas: "icons-house",
		name: "Fire Throne",
		member: 1,
		rarity: 2,
		category: "Comfy",
		price: 3500,
		mprice: 500,
		r: 4,
		flavorText: "Keep your toosh warm with the ultimate in heated seats. A flaming throne!"
	}, {
		ID: 41,
		iconAtlas: "icons-house",
		name: "Tall Lamp",
		member: 1,
		rarity: 2,
		category: "Lamps",
		price: 600,
		mprice: 200,
		r: 0,
		flavorText: "This lamp is so tall its a miracle if you can get it into your room."
	}, {
		ID: 42,
		iconAtlas: "icons-house",
		name: "Sunfire Lamp",
		member: 1,
		rarity: 2,
		category: "Lamps",
		price: 2500,
		mprice: 400,
		r: 0,
		flavorText: "A lamp that emanates a large amount of heat, as its light source is a heated iron core."
	}, {
		ID: 43,
		iconAtlas: "icons-house",
		name: "Ice Shard Lamp",
		member: 1,
		rarity: 2,
		category: "Lamps",
		price: 2500,
		mprice: 400,
		r: 0,
		flavorText: "A lamp that shines brilliantly in many colors, filtering light through its ice prisms."
	}, {
		ID: 44,
		iconAtlas: "icons-house",
		name: "Canopy Lamp",
		member: 1,
		rarity: 2,
		category: "Lamps",
		price: 2500,
		mprice: 400,
		r: 0,
		flavorText: "A lamp made from a firefly plant. These plants only grow in the Firefly forest and glow much like a giant firefly's tail."
	}, {
		ID: 45,
		iconAtlas: "icons-house",
		name: "Forest Throne",
		member: 1,
		rarity: 2,
		category: "Comfy",
		price: 3500,
		mprice: 500,
		r: 4,
		flavorText: "A throne carved from a stump. It is still a living plant, so be sure to water it!"
	}, {
		ID: 46,
		iconAtlas: "icons-house",
		name: "Phoenix Lamp",
		member: 1,
		rarity: 2,
		category: "Lamps",
		price: 2500,
		mprice: 400,
		r: 0,
		flavorText: "A lamp designed to look like a Phoenix."
	}, {
		ID: 47,
		iconAtlas: "icons-house",
		name: "Ice Phoenix Lamp",
		member: 1,
		rarity: 2,
		category: "Lamps",
		price: 2500,
		mprice: 400,
		r: 0,
		flavorText: "A lamp designed to look like a Phoenix, but icy for some reason."
	}, {
		ID: 48,
		iconAtlas: "icons-house",
		name: "Amber",
		member: 1,
		rarity: 2,
		category: "Items",
		r: 0,
		flavorText: "This piece of amber has an ancient bug pet preserved inside of it. It makes for quite the conversation piece."
	}, {
		ID: 49,
		iconAtlas: "icons-house",
		name: "Anchor Chair",
		member: 1,
		rarity: 2,
		category: "Comfy",
		r: 4,
		flavorText: "The perfect chair for a seafarer or, ironically, someone who cannot swim."
	}, {
		ID: 50,
		iconAtlas: "icons-house",
		name: "Dingy Bed",
		member: 1,
		rarity: 2,
		category: "Comfy",
		r: 4,
		flavorText: "This tiny bed is convenient to have for guests. It can compress for easy storage."
	}, {
		ID: 51,
		iconAtlas: "icons-house",
		name: "Boombox",
		member: 1,
		rarity: 1,
		category: "Items",
		r: 4,
		flavorText: "No party is complete with some great music to dance to. Get your groove on!"
	}, {
		ID: 52,
		iconAtlas: "icons-house",
		name: "Ship in a Bottle",
		member: 1,
		rarity: 2,
		category: "Items",
		r: 4,
		flavorText: "A perfect scale model of a ship. One wonders how they got it into the bottle."
	}, {
		ID: 53,
		iconAtlas: "icons-house",
		name: "Carnoplant",
		member: 1,
		rarity: 2,
		category: "Plants",
		r: 0,
		flavorText: "This carnivorous plant is useful for keeping bug infestations under control."
	}, {
		ID: 54,
		iconAtlas: "icons-house",
		name: "Rugged Bed",
		member: 1,
		rarity: 2,
		category: "Comfy",
		r: 4,
		flavorText: "For those who like to reminisce about the cave-man days. Enjoy the worst night of sleep in your life."
	}, {
		ID: 55,
		iconAtlas: "icons-house",
		name: "Dyno Skull",
		member: 1,
		rarity: 3,
		category: "Items",
		r: 0,
		flavorText: "A large decorative dyno skull. It is made from foam, for ease of transportation."
	}, {
		ID: 56,
		iconAtlas: "icons-house",
		name: "Floaty Bed",
		member: 1,
		rarity: 3,
		category: "Comfy",
		r: 4,
		flavorText: "This bed is filled with helium, making it float slightly off the ground. Its light rocking will put you to sleep instantly!"
	}, {
		ID: 57,
		iconAtlas: "icons-house",
		name: "Stuffed Dyno",
		member: 1,
		rarity: 2,
		category: "Items",
		r: 0,
		flavorText: "This cute little stuffed Dyno used to be a common prize at the Dyno dig site."
	}, {
		ID: 58,
		iconAtlas: "icons-house",
		name: "Gramophone",
		member: 1,
		rarity: 2,
		category: "Items",
		r: 0,
		flavorText: "A boombox for the old school. Perfect for it you like your music to sound old."
	}, {
		ID: 59,
		iconAtlas: "icons-house",
		name: "Shipwheel",
		member: 1,
		rarity: 1,
		category: "Wall",
		r: 0,
		flavorText: "The steering wheel from a sunken ship. The remnants of the ship have never been found."
	}, {
		ID: 60,
		iconAtlas: "icons-house",
		name: "Phaser Lamp",
		member: 1,
		rarity: 2,
		category: "Lamps",
		r: 0,
		flavorText: "A lamp designed for those with interests in the sci-fi."
	}, {
		ID: 61,
		iconAtlas: "icons-house",
		name: "Lifesaver",
		member: 1,
		rarity: 2,
		category: "Wall",
		r: 4,
		flavorText: "A perfect edition to any home in a location that is prone to flooding, or if you just can't swim."
	}, {
		ID: 62,
		iconAtlas: "icons-house",
		name: "Excavation Table",
		member: 1,
		rarity: 3,
		category: "Surface",
		r: 4,
		flavorText: "This table comes equipped with everything you could need to investigate a dig site."
	}, {
		ID: 63,
		iconAtlas: "icons-house",
		name: "Porthole",
		member: 1,
		rarity: 1,
		category: "Wall",
		r: 0,
		flavorText: "Intended for peering out at the sea. One wonders about its purpose in a house."
	}, {
		ID: 64,
		iconAtlas: "icons-house",
		name: "Fossil Chair",
		member: 1,
		rarity: 2,
		category: "Comfy",
		r: 4,
		flavorText: "A chair carved from ancient bones. It is surprisingly sturdy for something so old."
	}, {
		ID: 65,
		iconAtlas: "icons-house",
		name: "Modified Organ",
		member: 1,
		rarity: 3,
		category: "Items",
		r: 4,
		flavorText: "An organ with a unique sound. It is steam powered and lets out plumes of smoke upon use."
	}, {
		ID: 66,
		iconAtlas: "icons-house",
		name: "Time-o-tron",
		member: 1,
		rarity: 1,
		category: "Wall",
		r: 4,
		flavorText: "A coocoo clock, without the coocoo. It sends the alarm directly to its owners brain telepathically."
	}, {
		ID: 67,
		iconAtlas: "icons-house",
		name: "Cloud Throne",
		member: 1,
		rarity: 3,
		category: "Comfy",
		r: 4,
		flavorText: "It is miraculous that one can even sit on this throne, as the seat is made of clouds."
	}, {
		ID: 68,
		iconAtlas: "icons-house",
		name: "Timekeeper",
		member: 1,
		rarity: 2,
		category: "Items",
		r: 4,
		flavorText: "Honestly, its just a clock."
	}, {
		ID: 69,
		iconAtlas: "icons-house",
		name: "Rainbow Decal",
		member: 1,
		rarity: 1,
		category: "Wall",
		r: 4,
		flavorText: "A rainbow that doesn't need any rain! Use it to spice up your living space."
	}, {
		ID: 70,
		iconAtlas: "icons-house",
		name: "Time Box",
		member: 1,
		rarity: 3,
		category: "Storage",
		r: 4,
		flavorText: "This mysterious machine is constantly whirring and whizzing with no obvious effect."
	}, {
		ID: 71,
		iconAtlas: "icons-house",
		name: "Zapper Lamp",
		member: 1,
		rarity: 1,
		category: "Lamps",
		r: 4,
		flavorText: "A lamp light by lightning to look like lightning."
	}, {
		ID: 72,
		iconAtlas: "icons-house",
		name: "Pumpkin Dreams",
		member: 0,
		rarity: 3,
		category: "Comfy",
		r: 4,
		flavorText: "Pleasant dreams are had by all who sleep on this bed."
	}, {
		ID: 73,
		iconAtlas: "icons-house",
		name: "Melted Candles",
		member: 1,
		rarity: 3,
		category: "Items",
		r: 0,
		flavorText: "A great way to make your home feel extra comfy on cool autumn nights!"
	}, {
		ID: 74,
		iconAtlas: "icons-house",
		name: "Creepy House Chair",
		member: 0,
		rarity: 3,
		category: "Comfy",
		r: 4,
		flavorText: "They say this chair is from a very old house filled with spooks!"
	}, {
		ID: 75,
		iconAtlas: "icons-house",
		name: "Pumpkinfest Harvest Table",
		member: 1,
		rarity: 3,
		category: "Surface",
		r: 4,
		flavorText: "The table of choice for those who like hosting Pumpkinfest activities in their own home."
	}, {
		ID: 76,
		iconAtlas: "icons-house",
		name: "Pianoy",
		member: 0,
		rarity: 3,
		category: "Items",
		r: 4,
		flavorText: "Pianoy the piano was made to look like it could come to life any minute!"
	}, {
		ID: 77,
		iconAtlas: "icons-house",
		name: "Pumpcube",
		member: 1,
		rarity: 3,
		category: "Items",
		r: 4,
		flavorText: "They say these cubed pumpkins come from a far off land in the east!"
	}, {
		ID: 78,
		iconAtlas: "icons-house",
		name: "Plumpkin Chair",
		member: 0,
		rarity: 3,
		category: "Comfy",
		r: 4,
		flavorText: "A plump chair in the shape of a pumpkin."
	}, {
		ID: 79,
		iconAtlas: "icons-house",
		name: "Pumpkinfest Side Table",
		member: 1,
		rarity: 3,
		category: "Surface",
		r: 0,
		flavorText: "A traditional table displayed to commemorate the annual Pumpkinfest event."
	}, {
		ID: 80,
		iconAtlas: "icons-house",
		name: "Spooky Bedspread",
		member: 1,
		rarity: 3,
		category: "Comfy",
		r: 4,
		flavorText: "A bed for the bravest of wizards!"
	}, {
		ID: 81,
		iconAtlas: "icons-house",
		name: "Spooky Side Table",
		member: 1,
		rarity: 3,
		category: "Surface",
		r: 4,
		flavorText: "If you want to add a touch of spookiness to your home to celebrate Pumpkinfest, this side table will do the job."
	}, {
		ID: 82,
		iconAtlas: "icons-house",
		name: "Spidery Side Table",
		member: 0,
		rarity: 3,
		category: "Surface",
		r: 4,
		flavorText: "The white pattern on this table was inspired by a spider's web."
	}, {
		ID: 83,
		iconAtlas: "icons-house",
		name: "Footstooly",
		member: 1,
		rarity: 3,
		category: "Comfy",
		r: 4,
		flavorText: "This fun stool looks like it could come to life at any moment! It would definitely make a great addition to anyone's playhouse!"
	}, {
		ID: 84,
		iconAtlas: "icons-house",
		name: "Sweet Stash",
		member: 1,
		rarity: 3,
		category: "Items",
		r: 0,
		flavorText: "If you're a fan of sweet treats, this decoration is for you!"
	}, {
		ID: 85,
		iconAtlas: "icons-house",
		name: "Milky Way Plush",
		member: 1,
		rarity: 3,
		category: "Items",
		r: 4,
		flavorText: "While you're counting down the days to the next Starlight Festival, this cute Milky Way the Space Cow plush can keep you company."
	}, {
		ID: 86,
		iconAtlas: "icons-house",
		name: "Starlight Side Table",
		member: 0,
		rarity: 3,
		category: "Surface",
		r: 0,
		flavorText: "A great way to add a bit of Starlight Festival flair to any room."
	}, {
		ID: 87,
		iconAtlas: "icons-house",
		name: "Star Suite Bed",
		member: 1,
		rarity: 3,
		category: "Comfy",
		r: 4,
		flavorText: "A deluxe bed for super fans of Starlight Festival, they say those who fall asleep in it have dreams filled with shooting stars."
	}, {
		ID: 88,
		iconAtlas: "icons-house",
		name: "Starlight Rug",
		member: 1,
		rarity: 3,
		category: "Items",
		r: 0,
		flavorText: "Adds a splash of star to any room."
	}, {
		ID: 89,
		iconAtlas: "icons-house",
		name: "Star Seat",
		member: 1,
		rarity: 3,
		category: "Comfy",
		r: 4,
		flavorText: "A perfectly cushy place to sit down after an evening of hunting for shooting stars."
	}, {
		ID: 90,
		iconAtlas: "icons-house",
		name: "Star Jar",
		member: 1,
		rarity: 3,
		category: "Lamps",
		r: 0,
		flavorText: "A cute little night light. Great for any room."
	}, {
		ID: 91,
		iconAtlas: "icons-house",
		name: "Starlight Lamp",
		member: 0,
		rarity: 3,
		category: "Lamps",
		r: 0,
		flavorText: "A great lamp to light up your nights at home!"
	}, {
		ID: 92,
		iconAtlas: "icons-house",
		name: "Standing Lantern",
		member: 0,
		rarity: 3,
		category: "Lamps",
		r: 4,
		flavorText: "A traditional lantern used in the old days of the Starlight Festival."
	}, {
		ID: 93,
		iconAtlas: "icons-house",
		name: "Star Topiary",
		member: 0,
		rarity: 3,
		category: "Plants",
		r: 0,
		flavorText: "A fun little plant that grows in the shape of a star. It can only be found growing during the nights of the Starlight Festival."
	}, {
		ID: 94,
		iconAtlas: "icons-house",
		name: "Starlight Stool",
		member: 1,
		rarity: 3,
		category: "Comfy",
		r: 0,
		flavorText: "A casual seating option for Starlight Festival fans."
	}, {
		ID: 95,
		iconAtlas: "icons-house",
		name: "Night Bed",
		member: 0,
		rarity: 3,
		category: "Comfy",
		r: 4,
		flavorText: "A Starlight Festival-themed bed."
	}, {
		ID: 96,
		iconAtlas: "icons-house",
		name: "Moon Plushie",
		member: 0,
		rarity: 3,
		category: "Items",
		r: 0,
		flavorText: "This isn't made of cheese, so don't try to eat it."
	}, {
		ID: 97,
		iconAtlas: "icons-house",
		name: "Starlight Dining Table",
		member: 1,
		rarity: 3,
		category: "Surface",
		r: 4,
		flavorText: "Want to have guests over to celebrate the Starlight Festival? This table's for you!"
	}, {
		ID: 98,
		iconAtlas: "icons-house",
		name: "Cheery Chair",
		member: 0,
		rarity: 3,
		category: "Comfy",
		r: 4,
		flavorText: "Memories of Winterfest's past come flooding back for many who sit in this old  chair."
	}, {
		ID: 99,
		iconAtlas: "icons-house",
		name: "Evergreen Comfy Chair",
		member: 1,
		rarity: 3,
		category: "Comfy",
		r: 4,
		flavorText: "This chair is actually a magical tree that stays green all year round! Howard has decorated it with traditional Winterfest ornaments."
	}, {
		ID: 100,
		iconAtlas: "icons-house",
		name: "Decked Out Festive Bed",
		member: 0,
		rarity: 3,
		category: "Comfy",
		r: 4,
		flavorText: "For those who are really into the Winterfest spirit, this bed will keep you in the party mood from the moment you wake up, to the second you fall asleep!"
	}, {
		ID: 101,
		iconAtlas: "icons-house",
		name: "Snowman Slumber Bed",
		member: 1,
		rarity: 3,
		category: "Comfy",
		r: 4,
		flavorText: "Cool blankets make sure you're at the perfect temperature to get a good night's sleep."
	}, {
		ID: 102,
		iconAtlas: "icons-house",
		name: "Classical Winterfest Bed",
		member: 1,
		rarity: 3,
		category: "Comfy",
		r: 4,
		flavorText: "This Winterfest bed has a much more classical and clean look to it, prominently featuring the famous Winterfest Wreath."
	}, {
		ID: 103,
		iconAtlas: "icons-house",
		name: "Seasonal Stocking",
		member: 0,
		rarity: 3,
		category: "Items",
		r: 0,
		flavorText: "This will really add some festive cheer to your walls. Try putting it next to a fireplace for a very seasonal look!"
	}, {
		ID: 104,
		iconAtlas: "icons-house",
		name: "Red Display Gift",
		member: 0,
		rarity: 3,
		category: "Items",
		r: 0,
		flavorText: "You can't open this gift up, unfortunately, but display it in your living room to add some festival cheer!"
	}, {
		ID: 105,
		iconAtlas: "icons-house",
		name: "Yellow Display Gift",
		member: 1,
		rarity: 3,
		category: "Items",
		r: 0,
		flavorText: "A very classy decoration for your home during the Winterfest celebration."
	}, {
		ID: 106,
		iconAtlas: "icons-house",
		name: "Evergreen Garland",
		member: 0,
		rarity: 3,
		category: "Plants",
		r: 0,
		flavorText: "A nice touch to any home during the festival season. If you buy a bunch, you can line them up on your back wall to create one long chain!"
	}, {
		ID: 107,
		iconAtlas: "icons-house",
		name: "Festival Tree",
		member: 1,
		rarity: 3,
		category: "Plants",
		r: 0,
		flavorText: "The traditional evergreen tree of Winterfest is a great centerpiece for anyone's home during the holidays."
	}, {
		ID: 108,
		iconAtlas: "icons-house",
		name: "Jolly Fireplace",
		member: 1,
		rarity: 3,
		category: "Items",
		r: 4,
		flavorText: "This red fireplace will be sure to keep you warm through all the cold Winterfest months!"
	}, {
		ID: 109,
		iconAtlas: "icons-house",
		name: "Festive Feast Table",
		member: 0,
		rarity: 3,
		category: "Surface",
		r: 4,
		flavorText: "The perfect table for serving traditional rotisserie-style turkey on! If you have lots of guests over for the winter holidays, this is the table for you."
	}, {
		ID: 110,
		iconAtlas: "icons-house",
		name: "Festival Side Table",
		member: 0,
		rarity: 3,
		category: "Surface",
		r: 0,
		flavorText: "The perfect addition to a Winterfest-themed living room!"
	}, {
		ID: 111,
		iconAtlas: "icons-house",
		name: "Cozy Winterfest Rug",
		member: 0,
		rarity: 3,
		category: "Items",
		r: 0,
		flavorText: "A warm and cozy rug that feels great to walk on in your bare feet - even in the middle of winter!"
	}, {
		ID: 112,
		iconAtlas: "icons-house",
		name: "Winterfest Den Lamp",
		member: 1,
		rarity: 3,
		category: "Lamps",
		r: 0,
		flavorText: "A lamp inspired by the traditional Winterfest tree. A very festive and classic look!"
	}, {
		ID: 113,
		iconAtlas: "icons-house",
		name: "Cozy Couch",
		member: 0,
		rarity: 3,
		category: "Comfy",
		r: 4,
		flavorText: "The absolute perfect couch to curl up on during those cold Winterfest nights."
	}, {
		ID: 114,
		iconAtlas: "icons-house",
		name: "Evergreen Dining Chair",
		member: 0,
		rarity: 3,
		category: "Comfy",
		r: 4,
		flavorText: "If you're pining for a new dining room set, this chair's just for you! If you get a set of four of these, they will really spruce up your dining room!"
	}, {
		ID: 115,
		iconAtlas: "icons-house",
		name: "Arctursus Chair",
		member: 0,
		rarity: 3,
		category: "Comfy",
		r: 4,
		flavorText: "toyzone reward"
	}, {
		ID: 116,
		iconAtlas: "icons-house",
		name: "Arctursus Drum",
		member: 0,
		rarity: 3,
		category: "Items",
		r: 0,
		flavorText: "toyzone reward"
	}, {
		ID: 117,
		iconAtlas: "icons-house",
		name: "Arctursus Trophy",
		member: 0,
		rarity: 3,
		category: "Items",
		r: 4,
		flavorText: "toyzone reward"
	}, {
		ID: 118,
		iconAtlas: "icons-house",
		name: "Diveodile Board",
		member: 0,
		rarity: 3,
		category: "Items",
		r: 4,
		flavorText: "toyzone reward"
	}, {
		ID: 119,
		iconAtlas: "icons-house",
		name: "Diveodile Plant",
		member: 0,
		rarity: 3,
		category: "Plants",
		r: 0,
		flavorText: "toyzone reward"
	}, {
		ID: 120,
		iconAtlas: "icons-house",
		name: "Diveodile Trophy",
		member: 0,
		rarity: 3,
		category: "Items",
		r: 4,
		flavorText: "toyzone reward"
	}, {
		ID: 121,
		iconAtlas: "icons-house",
		name: "Florafox Light",
		member: 0,
		rarity: 3,
		category: "Lamps",
		r: 0,
		flavorText: "toyzone reward"
	}, {
		ID: 122,
		iconAtlas: "icons-house",
		name: "Florafox Table",
		member: 0,
		rarity: 3,
		category: "Surface",
		r: 0,
		flavorText: "toyzone reward"
	}, {
		ID: 123,
		iconAtlas: "icons-house",
		name: "Florafox Trophy",
		member: 0,
		rarity: 3,
		category: "Items",
		r: 4,
		flavorText: "toyzone reward"
	}, {
		ID: 124,
		iconAtlas: "icons-house",
		name: "Big Hex Clock",
		member: 0,
		rarity: 3,
		category: "Wall",
		r: 4,
		flavorText: "toyzone reward"
	}, {
		ID: 125,
		iconAtlas: "icons-house",
		name: "Big Hex Table",
		member: 0,
		rarity: 3,
		category: "Surface",
		r: 0,
		flavorText: "toyzone reward "
	}, {
		ID: 126,
		iconAtlas: "icons-house",
		name: "Big Hex Trophy",
		member: 0,
		rarity: 3,
		category: "Items",
		r: 4,
		flavorText: "toyzone reward"
	}, {
		ID: 127,
		iconAtlas: "icons-house",
		name: "Magmischief Bag",
		member: 0,
		rarity: 3,
		category: "Items",
		r: 4,
		flavorText: "toyzone reward"
	}, {
		ID: 128,
		iconAtlas: "icons-house",
		name: "Magmischief Clock",
		member: 0,
		rarity: 3,
		category: "Wall",
		r: 4,
		flavorText: "toyzone reward"
	}, {
		ID: 129,
		iconAtlas: "icons-house",
		name: "Magmischief Trophy",
		member: 0,
		rarity: 3,
		category: "Items",
		r: 4,
		flavorText: "toyzone reward"
	}, {
		ID: 130,
		iconAtlas: "icons-house",
		name: "Nest Chair",
		member: 1,
		rarity: 7,
		category: "Comfy",
		r: 4,
		flavorText: "After a long day of battling, cozy up in this chair and take it easy!"
	}, {
		ID: 131,
		iconAtlas: "icons-house",
		name: "Gardening Shelf",
		member: 1,
		rarity: 9,
		category: "Storage",
		r: 4,
		flavorText: "The tools are just for show, but they could show off someone with a real talent for gardening!"
	}, {
		ID: 132,
		iconAtlas: "icons-house",
		name: "Bluebell Lamp",
		member: 1,
		rarity: 5,
		category: "Lamps",
		r: 0,
		flavorText: "These lamps add a really fun vibe to any room!"
	}, {
		ID: 133,
		iconAtlas: "icons-house",
		name: "Flower Bed",
		member: 1,
		rarity: 13,
		category: "Comfy",
		r: 4,
		flavorText: "This isn't just ANY flower bed! This bed's MADE of FLOWERS!"
	}, {
		ID: 134,
		iconAtlas: "icons-house",
		name: "Flowerbox Window",
		member: 1,
		rarity: 7,
		category: "Wall",
		r: 0,
		flavorText: "Bring some fresh air into your home with this wonderful window!"
	}, {
		ID: 135,
		iconAtlas: "icons-house",
		name: "Mushroom Side Table",
		member: 1,
		rarity: 7,
		category: "Surface",
		r: 0,
		flavorText: "This table is said to be a favorite decoration among plumbers in a kingdom far away from here."
	}],
	dormbg: [{
		ID: 1,
		name: "Starter Home",
		tag: "suburbs",
		member: 0,
		rarity: 0,
		category: "Comfy",
		price: 0,
		flavorText: "A true classic.",
		iconAtlas: "icons-house-buying",
		previewIcon: "6",
		x: 800,
		y: 470
	}, {
		ID: 2,
		name: "Ice Cave",
		tag: "iceCaves",
		member: 1,
		rarity: 0,
		category: "Comfy",
		price: 1500,
		flavorText: "YOU'RE AS COLD AS ICE!",
		iconAtlas: "icons-house-buying",
		previewIcon: "2",
		x: 107,
		y: 607
	}, {
		ID: 3,
		name: "The Treehouse",
		tag: "forest",
		member: 1,
		rarity: 0,
		category: "Surface",
		price: 2500,
		flavorText: "This would make for a cool clubhouse!",
		iconAtlas: "icons-house-buying",
		previewIcon: "1",
		x: 1e3,
		y: 480
	}, {
		ID: 4,
		name: "The Cool Cave",
		tag: "coolCave",
		member: 1,
		rarity: 0,
		category: "Surface",
		price: 3e3,
		flavorText: "You could really chill out in here.",
		iconAtlas: "icons-house-buying",
		previewIcon: "2",
		x: 1e3,
		y: 480
	}, {
		ID: 5,
		name: "The Fire Pit",
		tag: "firePit",
		member: 1,
		rarity: 0,
		category: "Surface",
		price: 3e3,
		flavorText: "I bet you'd feel warm in here even in the middle of Winterfest!",
		iconAtlas: "icons-house-buying",
		previewIcon: "3",
		x: 1e3,
		y: 480
	}, {
		ID: 6,
		name: "Cozy Cottage",
		tag: "small0",
		member: 1,
		rarity: 0,
		category: "Surface",
		price: 500,
		flavorText: "This place feels cozy.",
		iconAtlas: "icons-house-buying",
		previewIcon: "6",
		x: 1e3,
		y: 480
	}, {
		ID: 7,
		name: "Tiny T",
		tag: "small1",
		member: 1,
		rarity: 0,
		category: "Surface",
		price: 500,
		flavorText: "This place feels cozy.",
		iconAtlas: "icons-house-buying",
		previewIcon: "6",
		x: 1e3,
		y: 480
	}, {
		ID: 8,
		name: "Open Space",
		tag: "medium0",
		member: 1,
		rarity: 0,
		category: "Surface",
		price: 1e3,
		flavorText: "This house is not too big, or too small. It's just right!",
		iconAtlas: "icons-house-buying",
		previewIcon: "5",
		x: 1e3,
		y: 480
	}, {
		ID: 9,
		name: "Split Space",
		tag: "medium1",
		member: 1,
		rarity: 0,
		category: "Surface",
		price: 1e3,
		flavorText: "This house is not too big, or too small. It's just right!",
		iconAtlas: "icons-house-buying",
		previewIcon: "5",
		x: 1e3,
		y: 480
	}, {
		ID: 10,
		name: "Roomy Rooms",
		tag: "large0",
		member: 1,
		rarity: 0,
		category: "Surface",
		price: 1800,
		flavorText: "You won't run out of room in here any time soon!",
		iconAtlas: "icons-house-buying",
		previewIcon: "4",
		x: 1e3,
		y: 480
	}, {
		ID: 11,
		name: "The Mansion",
		tag: "large1",
		member: 1,
		rarity: 0,
		category: "Surface",
		price: 1800,
		flavorText: "This house is not too big, or too small. It's just right!",
		iconAtlas: "icons-house-buying",
		previewIcon: "4",
		x: 1e3,
		y: 480
	}, {
		ID: 12,
		name: "Bonfire Den",
		tag: "firePit2",
		member: 1,
		rarity: 0,
		category: "Surface",
		price: 3e3,
		flavorText: "The large space on the right side of the house can be used for a lot of different things!",
		iconAtlas: "icons-house-buying",
		previewIcon: "3",
		x: 1e3,
		y: 480
	}, {
		ID: 13,
		name: "The Firest Pit",
		tag: "firePit3",
		member: 1,
		rarity: 0,
		category: "Surface",
		price: 1600,
		flavorText: "",
		iconAtlas: "icons-house-buying",
		previewIcon: "3",
		x: 1e3,
		y: 480
	}, {
		ID: 14,
		name: "Split Decision",
		tag: "houseLarge3",
		member: 1,
		rarity: 0,
		category: "Surface",
		price: 1800,
		flavorText: "If you like a big room on the left AND right side of your house, this place is perfect!",
		iconAtlas: "icons-house-buying",
		previewIcon: "4",
		x: 1e3,
		y: 480
	}, {
		ID: 15,
		name: "Modern Design",
		tag: "houseLarge4",
		member: 1,
		rarity: 0,
		category: "Surface",
		price: 1800,
		flavorText: "A long hallway opens to a large room. There's a ton of neat ways you could decorate this kind of home!",
		iconAtlas: "icons-house-buying",
		previewIcon: "4",
		x: 140,
		y: 660
	}, {
		ID: 16,
		name: "Branching Ice Cave",
		tag: "coolCaveUnique1",
		member: 1,
		rarity: 0,
		category: "Surface",
		price: 3e3,
		flavorText: "Three large spaces give owners lots of rooms to create their own layouts!",
		iconAtlas: "icons-house-buying",
		previewIcon: "2",
		x: 1e3,
		y: 480
	}, {
		ID: 17,
		name: "The Coolest Cave",
		tag: "coolCaveUnique2",
		member: 1,
		rarity: 0,
		category: "Surface",
		price: 1600,
		flavorText: "",
		iconAtlas: "icons-house-buying",
		previewIcon: "2",
		x: 1e3,
		y: 480
	}, {
		ID: 18,
		name: "Tree Fort",
		tag: "treehouseUnique1",
		member: 1,
		rarity: 0,
		category: "Surface",
		price: 2500,
		flavorText: "The two central log pillars add a lot of unique style to this tree house.",
		iconAtlas: "icons-house-buying",
		previewIcon: "1",
		x: 1e3,
		y: 480
	}, {
		ID: 19,
		name: "Treetop Terrace",
		tag: "treehouseUnique2",
		member: 1,
		rarity: 0,
		category: "Surface",
		price: 2500,
		flavorText: "Super spacious space for studying wizards!",
		iconAtlas: "icons-house-buying",
		previewIcon: "1",
		x: 1e3,
		y: 480
	}]
}, Items.process = function (e) {
	for (var t = {
			item: 14549015,
			boots: 16023848,
			hat: 14549021,
			weapon: 14549019,
			outfit: 14549023,
			dorm: 14549025,
			key: 14549027,
			fossil: 16024099
		}, i = "fossil", a = t[i], s = Items.data[i], r = '<table class="confluenceTable relative-table" data-resize-percent="100" style="width: 100%;"><colgroup><col data-resize-pixel="57" data-resize-percent="3.150912106135987" data-offset-left="40" data-offset-right="97" style="width: 3.15091%;"><col data-resize-pixel="67" data-resize-percent="3.7037037037037033" data-offset-left="97" data-offset-right="164" style="width: 3.7037%;"><col data-resize-pixel="64" data-resize-percent="3.5378662244333885" data-offset-left="164" data-offset-right="228" style="width: 3.53787%;"><col data-resize-pixel="63" data-resize-percent="3.482587064676617" data-offset-left="228" data-offset-right="291" style="width: 3.48259%;"><col data-resize-pixel="399" data-resize-percent="16.056384742951906" data-offset-left="291" data-offset-right="690" style="width: 16.0564%;"><col data-resize-pixel="525" data-resize-percent="32.021558872305143" data-offset-left="690" data-offset-right="1215" style="width: 32.0216%;"><col data-resize-pixel="634" data-resize-percent="38.04698728579326" data-offset-left="1215" data-offset-right="1849" style="width: 38.047%;"></colgroup><tbody><tr><th class="confluenceTh">ID</th><th class="confluenceTh">Icon</th><th class="confluenceTh">Member</th><th class="confluenceTh">Drops</th><th class="confluenceTh">Name</th><th class="confluenceTh">Description</th><th class="confluenceTh">Information</th></tr>', o = 0; o < s.length; o++) {
		var n = s[o],
			h = ' class="confluenceTd highlight-blue" data-highlight-colour="blue" ';
		o % 2 === 0 && (h = ' class="confluenceTd" ');
		var l = 'style="color: rgb(109, 111, 121);" data-mce-style="color: #6d6f79;"';
		1 === n.rarity ? l = 'style="color: rgb(51, 153, 102);" data-mce-style="color: #339966;"' : 2 === n.rarity ? l = 'style="color: rgb(69, 94, 201);" data-mce-style="color: #455ec9;"' : 3 === n.rarity ? l = 'style="color: rgb(174, 92, 212);" data-mce-style="color: #ae5cd4;"' : 4 === n.rarity && (l = 'style="color: rgb(222, 135, 58);" data-mce-style="color: #de873a;"');
		var d = "";
		"weapon" === i ? Util.isDefined(n.effects[0]) && (d = "Damage Bonus: " + e.prodigy.affixes.getAffixData(n.effects[0]).value / 4) : "outfit" === i || "boots" === i || "hat" === i ? Util.isDefined(n.effects[0]) && (d = "Heart Bonus: " + e.prodigy.affixes.getAffixData(n.effects[0]).value / 4) : i && Util.isDefined(n.effect) && Util.isDefined(n.effect.hp) && (d = "Heals " + n.effect.hp / 4 + (n.effect.hp / 4 > 1 ? " hearts" : " heart")), r += '<tr><td colspan="1" width="" style="text-align: center;" ' + h + "><strong>" + n.ID + '</strong></td><td colspan="1" width=""  ' + h + '><div class="content-wrapper"><p><img class="confluence-embedded-image confluence-thumbnail confluence-external-resource" width="40" src="https://prodigygame.atlassian.net/wiki/download/thumbnails/' + a + "/" + n.ID + '.png?version=1&amp;modificationDate=1465482321787&amp;api=v2" data-image-src="https://prodigygame.atlassian.net/wiki/download/attachments/' + a + "/" + n.ID + '.png?version=1&amp;modificationDate=1465482321787&amp;api=v2" data-mce-src="https://prodigygame.atlassian.net/wiki/download/attachments/' + a + "/" + n.ID + '.png?version=1&amp;modificationDate=1465482321787&amp;api=v2" border="0"><br data-mce-bogus="1"></p></div></td><td colspan="1" width="" ' + h + ' style="text-align: center;">' + (n.member ? "yes" : "no") + '</td><td colspan="1" width="" ' + h + ' style="text-align: center;">' + (n.drop ? "yes" : "no") + '</td><td colspan="1" width="" ' + h + "><strong><span " + l + ">" + n.name + '</span></strong></td><td colspan="1" width="" ' + h + "><em>" + n.flavorText + '</em></td><td colspan="1" width="" ' + h + '><br data-mce-bogus="1"><em>' + d + "</em></td></tr>"
	}
	r += "</tbody></table>", Util.log(r)
};
var Monsters = function () {
	function e() {}
	return e
}();
Monsters.areEqual = function (e, t) {
	return e.ID === t.ID && e.level === t.level && e.hearts === t.hearts
}, Monsters.getItemData = function (e) {
	return Monsters.data[e]
}, Monsters.getRandomItem = function () {
	for (var e = null; !Util.isDefined(e);) {
		var t = Math.floor(97 * Math.random()) + 1;
		e = Monsters.data[t]
	}
	return e.ID
}, Monsters.getEvolveLevel = function (e) {
	for (var t = Monsters.getItemData(e), i = 0; i < t.curve.length; i++) {
		var a = t.curve[i];
		if (Util.isDefined(a.e)) return a.lvl
	}
	return 1
}, Monsters.getEvolveID = function (e) {
	for (var t = Monsters.getItemData(e), i = 0; i < t.curve.length; i++) {
		var a = t.curve[i];
		if (Util.isDefined(a.e)) return a.e
	}
	return -1
}, Monsters.getEncounterRate = function (e) {
	var t = Monsters.getItemData(e);
	return Util.isDefined(t) ? t.R || 1 : 0
}, Monsters.getRange = function (e, t) {
	for (var i = [], a = e; t >= a; a++) Util.isDefined(Monsters.data[a]) ? i.push({
		ID: a
	}) : i.push(null);
	return i
}, Monsters.getRangeByAmount = function (e, t) {
	for (var i = []; t > 0 && (Util.isDefined(Monsters.data[e]) && (i.push({
			ID: e
		}), t--), e++, !(e > Monsters.MAX_ID)););
	return i
}, Monsters.MAX_ID = 129, Monsters.data = {
	1: {
		ID: 1,
		name: "Peeko",
		element: "earth",
		effects: [6, 45],
		life: "B",
		power: "B",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 5,
			a: 14
		}, {
			lvl: 10,
			a: 15
		}, {
			lvl: 20,
			a: 16
		}, {
			lvl: 32,
			a: 17
		}, {
			lvl: 50,
			a: 18
		}, {
			lvl: 15,
			e: 2
		}],
		flavorText: "Peekos cheerfully wiggle their ears when they are happy, which they almost always are!"
	},
	2: {
		ID: 2,
		name: "Rack-rack",
		R: 2,
		element: "earth",
		effects: [6, 45],
		life: "B+",
		power: "B",
		growth: "C",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 6,
			a: 14
		}, {
			lvl: 12,
			a: 15
		}, {
			lvl: 23,
			a: 16
		}, {
			lvl: 36,
			a: 17
		}, {
			lvl: 55,
			a: 18
		}, {
			lvl: 30,
			e: 3
		}],
		flavorText: "Not quite a cat, and not quite a raccoon, a Rack-rack is a strange but adorable mix of both."
	},
	3: {
		ID: 3,
		name: "Flyger",
		R: 5,
		element: "earth",
		effects: [6, 45],
		life: "A-",
		power: "B",
		growth: "D",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 7,
			a: 26
		}, {
			lvl: 14,
			a: 15
		}, {
			lvl: 26,
			a: 28
		}, {
			lvl: 40,
			a: 17
		}, {
			lvl: 60,
			a: 30
		}],
		flavorText: "A rare sight in air or on land, Flygers tend to hide most of the day, emerging only to dance."
	},
	4: {
		ID: 4,
		name: "Soral",
		element: "storm",
		effects: [6, 48],
		life: "B",
		power: "B",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 5,
			a: 26
		}, {
			lvl: 10,
			a: 27
		}, {
			lvl: 20,
			a: 28
		}, {
			lvl: 32,
			a: 29
		}, {
			lvl: 50,
			a: 30
		}, {
			lvl: 15,
			e: 5
		}],
		flavorText: "Soral babies love attention, often squawking loudly when people stop paying attention to them."
	},
	5: {
		ID: 5,
		name: "Solarix",
		R: 2,
		element: "storm",
		effects: [6, 48],
		life: "B+",
		power: "B",
		growth: "C",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 6,
			a: 26
		}, {
			lvl: 12,
			a: 27
		}, {
			lvl: 23,
			a: 28
		}, {
			lvl: 36,
			a: 29
		}, {
			lvl: 55,
			a: 30
		}, {
			lvl: 30,
			e: 6
		}],
		flavorText: "The sun's rays reflect off of the Solarix in all directions, making it appear to glow yellow."
	},
	6: {
		ID: 6,
		name: "Solarasis",
		R: 5,
		element: "storm",
		effects: [6, 48],
		life: "A-",
		power: "B",
		growth: "D",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 7,
			a: 8
		}, {
			lvl: 14,
			a: 27
		}, {
			lvl: 26,
			a: 10
		}, {
			lvl: 40,
			a: 29
		}, {
			lvl: 60,
			a: 12
		}],
		flavorText: "It's rare to find more than one Solarasis at a time, and so few people know the plural form of Solarasis. Solarases? Solarasises? It's a mystery."
	},
	7: {
		ID: 7,
		name: "Dragic",
		element: "fire",
		effects: [3, 12, 51],
		life: "B",
		power: "B",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 5,
			a: 2
		}, {
			lvl: 10,
			a: 3
		}, {
			lvl: 20,
			a: 4
		}, {
			lvl: 32,
			a: 5
		}, {
			lvl: 50,
			a: 6
		}, {
			lvl: 15,
			e: 8
		}],
		flavorText: "Scalier than other babies, the Dragic hide their mischief behind their giant smiles."
	},
	8: {
		ID: 8,
		name: "Dragling",
		R: 2,
		element: "fire",
		effects: [3, 12, 51],
		life: "B+",
		power: "B",
		growth: "C",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 6,
			a: 2
		}, {
			lvl: 12,
			a: 3
		}, {
			lvl: 23,
			a: 4
		}, {
			lvl: 36,
			a: 5
		}, {
			lvl: 55,
			a: 6
		}, {
			lvl: 30,
			e: 9
		}],
		flavorText: "Most people are afraid of dragons, but not of Draglings. These little guys are very friendly!"
	},
	9: {
		ID: 9,
		name: "Tarragon",
		R: 5,
		element: "fire",
		effects: [3, 12, 51],
		life: "A-",
		power: "B",
		growth: "D",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 7,
			a: 8
		}, {
			lvl: 14,
			a: 3
		}, {
			lvl: 26,
			a: 10
		}, {
			lvl: 40,
			a: 5
		}, {
			lvl: 60,
			a: 12
		}],
		flavorText: "Tarragons strike fear to any opponent, but are just as playful as Dragics once you get to know them."
	},
	10: {
		ID: 10,
		name: "Creela",
		element: "water",
		effects: [0, 57, 54],
		life: "B",
		power: "B",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 5,
			a: 8
		}, {
			lvl: 10,
			a: 9
		}, {
			lvl: 20,
			a: 10
		}, {
			lvl: 32,
			a: 11
		}, {
			lvl: 50,
			a: 12
		}, {
			lvl: 15,
			e: 11
		}],
		flavorText: "Creela babies are very sweet by nature, and are living proof that bugs can be adorable."
	},
	11: {
		ID: 11,
		name: "Celesteate",
		R: 2,
		element: "water",
		effects: [0, 57, 54],
		life: "B+",
		power: "B",
		growth: "C",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 6,
			a: 8
		}, {
			lvl: 12,
			a: 9
		}, {
			lvl: 23,
			a: 10
		}, {
			lvl: 36,
			a: 11
		}, {
			lvl: 55,
			a: 12
		}, {
			lvl: 30,
			e: 12
		}],
		flavorText: "It is hard to find a Celesteate unless you look underground... they hide in nests in small groups."
	},
	12: {
		ID: 12,
		name: "Aureate",
		R: 5,
		element: "water",
		effects: [0, 57, 54],
		life: "A-",
		power: "B",
		growth: "D",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 7,
			a: 26
		}, {
			lvl: 14,
			a: 9
		}, {
			lvl: 26,
			a: 28
		}, {
			lvl: 40,
			a: 11
		}, {
			lvl: 60,
			a: 30
		}],
		flavorText: "The Aureate's glowing body can light up like a lightbulb bright as the sun to blind its foes."
	},
	13: {
		ID: 13,
		name: "Browl",
		special: !0,
		element: "storm",
		effects: [6, 48],
		life: "C",
		power: "C",
		growth: "A",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 4,
			a: 13
		}, {
			lvl: 8,
			a: 27
		}, {
			lvl: 17,
			a: 15
		}, {
			lvl: 28,
			a: 29
		}, {
			lvl: 45,
			a: 17
		}, {
			lvl: 12,
			e: 14
		}],
		flavorText: "The Browl is a smart creature, capable of long division with no remainders."
	},
	14: {
		ID: 14,
		name: "Acromi",
		R: 2,
		element: "storm",
		effects: [6, 48],
		life: "C",
		power: "C",
		growth: "A",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 4,
			a: 26
		}, {
			lvl: 8,
			a: 27
		}, {
			lvl: 17,
			a: 28
		}, {
			lvl: 28,
			a: 29
		}, {
			lvl: 45,
			a: 30
		}],
		flavorText: "The eyes of an Acromi are so big and bright, that they are often mistaken for stars in the night."
	},
	15: {
		ID: 15,
		name: "Nebluff",
		element: "storm",
		effects: [6, 48],
		life: "C",
		power: "C",
		growth: "A",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 4,
			a: 26
		}, {
			lvl: 8,
			a: 27
		}, {
			lvl: 17,
			a: 28
		}, {
			lvl: 28,
			a: 29
		}, {
			lvl: 45,
			a: 30
		}],
		flavorText: "These critters are commonly seen flitting in and out of the clouds, chasing thunder and lightning."
	},
	16: {
		ID: 16,
		name: "Battaram",
		element: "ice",
		effects: [9, 45],
		life: "B-",
		power: "B",
		growth: "A-",
		curve: [{
			lvl: 1,
			a: 19
		}, {
			lvl: 4,
			a: 20
		}, {
			lvl: 8,
			a: 21
		}, {
			lvl: 18,
			a: 22
		}, {
			lvl: 29,
			a: 23
		}, {
			lvl: 47,
			a: 24
		}, {
			lvl: 22,
			e: 17
		}],
		flavorText: "Battarams use their large horns to make loud noises, not unlike the beat of a drum, to make music."
	},
	17: {
		ID: 17,
		name: "Battabash",
		R: 2,
		element: "ice",
		effects: [9, 45],
		life: "B-",
		power: "B",
		growth: "A-",
		curve: [{
			lvl: 1,
			a: 19
		}, {
			lvl: 4,
			a: 20
		}, {
			lvl: 8,
			a: 21
		}, {
			lvl: 18,
			a: 22
		}, {
			lvl: 29,
			a: 23
		}, {
			lvl: 47,
			a: 24
		}],
		flavorText: "The horns on a Battabash's head are so heavy that they cannot walk on ice of any thickness, for fear of it cracking."
	},
	18: {
		ID: 18,
		name: "Squawks",
		element: "storm",
		effects: [6, 48],
		life: "B",
		power: "B",
		growth: "A",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 4,
			a: 26
		}, {
			lvl: 8,
			a: 27
		}, {
			lvl: 17,
			a: 28
		}, {
			lvl: 28,
			a: 29
		}, {
			lvl: 45,
			a: 30
		}, {
			lvl: 12,
			e: 19
		}],
		flavorText: "It's tough being a bird with no legs or body, but Squawks never complain... or get tired!"
	},
	19: {
		ID: 19,
		name: "Tribeak",
		R: 2,
		element: "storm",
		effects: [6, 48],
		life: "A",
		power: "B",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 5,
			a: 26
		}, {
			lvl: 10,
			a: 27
		}, {
			lvl: 20,
			a: 28
		}, {
			lvl: 32,
			a: 29
		}, {
			lvl: 50,
			a: 30
		}],
		flavorText: "It's harder to take down three birds with one stone."
	},
	20: {
		ID: 20,
		name: "Luminite",
		element: "storm",
		effects: [6, 48],
		life: "C",
		power: "B",
		growth: "A",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 4,
			a: 26
		}, {
			lvl: 8,
			a: 27
		}, {
			lvl: 17,
			a: 28
		}, {
			lvl: 28,
			a: 29
		}, {
			lvl: 45,
			a: 30
		}, {
			lvl: 14,
			e: 21
		}],
		flavorText: "A Luminite is very loyal and friendly, earning it the nickname 'Man's Bestest Friend.'"
	},
	21: {
		ID: 21,
		name: "Lumiot",
		R: 2,
		element: "storm",
		effects: [6, 48],
		life: "B",
		power: "B",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 5,
			a: 26
		}, {
			lvl: 10,
			a: 27
		}, {
			lvl: 20,
			a: 28
		}, {
			lvl: 32,
			a: 29
		}, {
			lvl: 50,
			a: 30
		}, {
			lvl: 24,
			e: 22
		}],
		flavorText: "A bigger Luminite, the Lumiot is much better at playing fetch, catch, and napping in the sun."
	},
	22: {
		ID: 22,
		name: "Luminex",
		R: 5,
		element: "storm",
		effects: [6, 48],
		life: "A",
		power: "B",
		growth: "C",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 6,
			a: 26
		}, {
			lvl: 12,
			a: 27
		}, {
			lvl: 23,
			a: 28
		}, {
			lvl: 36,
			a: 29
		}, {
			lvl: 55,
			a: 30
		}],
		flavorText: "Lumiots that do not brush or clean their fur for long periods of time turn into Luminexes."
	},
	23: {
		ID: 23,
		name: "Tinyger",
		element: "fire",
		effects: [3, 12, 51],
		life: "B-",
		power: "C",
		growth: "B+",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 5,
			a: 7
		}, {
			lvl: 10,
			a: 3
		}, {
			lvl: 19,
			a: 9
		}, {
			lvl: 31,
			a: 5
		}, {
			lvl: 48,
			a: 11
		}, {
			lvl: 20,
			e: 24
		}],
		flavorText: "Tinygers only walk upright to impress others, and even wear pants to appear more human."
	},
	24: {
		ID: 24,
		name: "Tyscout",
		R: 2,
		element: "fire",
		effects: [3, 12, 51],
		life: "B-",
		power: "C",
		growth: "B+",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 5,
			a: 7
		}, {
			lvl: 10,
			a: 3
		}, {
			lvl: 19,
			a: 9
		}, {
			lvl: 31,
			a: 5
		}, {
			lvl: 48,
			a: 11
		}],
		flavorText: "Tyscouts are Tinygers that have learned to live and work with humans, and have even been seen taking jobs."
	},
	25: {
		ID: 25,
		name: "Flikflit",
		element: "water",
		effects: [0, 57, 54],
		life: "C-",
		power: "C",
		growth: "C+",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 6,
			a: 25
		}, {
			lvl: 12,
			a: 15
		}, {
			lvl: 22,
			a: 9
		}, {
			lvl: 35,
			a: 29
		}, {
			lvl: 53,
			a: 17
		}, {
			lvl: 14,
			e: 26
		}],
		flavorText: "Don't let the size of Flikflit fool you... they are lightning-fast and almost impossible to catch."
	},
	26: {
		ID: 26,
		name: "Serrazag",
		R: 2,
		element: "water",
		effects: [9, 45],
		life: "C+",
		power: "C",
		growth: "C-",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 6,
			a: 25
		}, {
			lvl: 12,
			a: 21
		}, {
			lvl: 24,
			a: 9
		}, {
			lvl: 37,
			a: 29
		}, {
			lvl: 57,
			a: 23
		}],
		flavorText: "The female Serrazag freezes the air around her to create ice tunnels to protect her from danger."
	},
	27: {
		ID: 27,
		name: "Sprite",
		element: "fire",
		effects: [3, 12, 51],
		life: "B-",
		power: "C",
		growth: "C+",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 6,
			a: 25
		}, {
			lvl: 12,
			a: 3
		}, {
			lvl: 22,
			a: 27
		}, {
			lvl: 35,
			a: 5
		}, {
			lvl: 53,
			a: 29
		}, {
			lvl: 14,
			e: 28
		}],
		flavorText: "Sprites are tiny insects, capable of producing melodies through their flute-like mouths."
	},
	28: {
		ID: 28,
		name: "Serrazig",
		R: 2,
		element: "fire",
		effects: [3, 12, 51],
		life: "B+",
		power: "C",
		growth: "C-",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 6,
			a: 25
		}, {
			lvl: 12,
			a: 3
		}, {
			lvl: 24,
			a: 27
		}, {
			lvl: 37,
			a: 5
		}, {
			lvl: 57,
			a: 29
		}],
		flavorText: "The male Serrazig uses his thick tail to steer himself through the sky, much like a rudder on a boat."
	},
	29: {
		ID: 29,
		name: "Pomprikle",
		element: "earth",
		effects: [6, 45],
		life: "B",
		power: "C",
		growth: "C",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 6,
			a: 25
		}, {
			lvl: 12,
			a: 15
		}, {
			lvl: 23,
			a: 27
		}, {
			lvl: 36,
			a: 17
		}, {
			lvl: 55,
			a: 29
		}, {
			lvl: 16,
			e: 30
		}],
		flavorText: "The quills on the Pomprikle's body react to stress, and can be very dangerous when scared or excited."
	},
	30: {
		ID: 30,
		name: "Spindle",
		R: 2,
		element: "earth",
		effects: [6, 45],
		life: "B+",
		power: "C",
		growth: "C-",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 6,
			a: 25
		}, {
			lvl: 12,
			a: 15
		}, {
			lvl: 24,
			a: 27
		}, {
			lvl: 37,
			a: 17
		}, {
			lvl: 57,
			a: 29
		}],
		flavorText: "Spindles have strong arms, and often collect small junk to throw at their enemies if bothered."
	},
	31: {
		ID: 31,
		name: "Muckster",
		R: 2,
		element: "earth",
		effects: [6, 45],
		life: "B",
		power: "C",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 5,
			a: 14
		}, {
			lvl: 10,
			a: 15
		}, {
			lvl: 20,
			a: 16
		}, {
			lvl: 32,
			a: 17
		}, {
			lvl: 50,
			a: 18
		}],
		flavorText: "Mucksters are very friendly, and will always water your plants when you are away from home."
	},
	32: {
		ID: 32,
		name: "Sprike",
		R: 5,
		element: "earth",
		effects: [6, 45],
		life: "A-",
		power: "B",
		growth: "D",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 7,
			a: 26
		}, {
			lvl: 14,
			a: 15
		}, {
			lvl: 26,
			a: 28
		}, {
			lvl: 40,
			a: 17
		}, {
			lvl: 60,
			a: 30
		}],
		flavorText: "Sprikes are very antisocial creatures, and tend to spend most of their time avoiding everything."
	},
	33: {
		ID: 33,
		name: "Aquaster",
		R: 2,
		element: "water",
		effects: [0, 57, 54],
		life: "B",
		power: "C",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 5,
			a: 8
		}, {
			lvl: 10,
			a: 9
		}, {
			lvl: 20,
			a: 10
		}, {
			lvl: 32,
			a: 11
		}, {
			lvl: 50,
			a: 12
		}],
		flavorText: "The Aquaster's tail holds the water used for its spells and feels like a full water balloon."
	},
	34: {
		ID: 34,
		name: "Hotpot",
		R: 3,
		element: "fire",
		effects: [3, 12, 51],
		life: "A",
		power: "A",
		growth: "F-",
		curve: [{
			lvl: 1,
			a: 2
		}, {
			lvl: 9,
			a: 26
		}, {
			lvl: 18,
			a: 4
		}, {
			lvl: 33,
			a: 28
		}, {
			lvl: 49,
			a: 6
		}, {
			lvl: 72,
			a: 30
		}],
		flavorText: "Hotpots are not actually stoves, but actually monsters hiding inside discarded stoves."
	},
	35: {
		ID: 35,
		name: "Mystyyk",
		R: 5,
		element: "storm",
		effects: [6, 48],
		life: "B",
		power: "B",
		growth: "B+",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 5,
			a: 26
		}, {
			lvl: 10,
			a: 27
		}, {
			lvl: 19,
			a: 28
		}, {
			lvl: 31,
			a: 29
		}, {
			lvl: 48,
			a: 30
		}],
		flavorText: "The legendary Mystyyk is hard to tame, as it has difficulty trusting new people."
	},
	36: {
		ID: 36,
		name: "Mystile",
		R: 5,
		element: "earth",
		effects: [6, 45],
		life: "B",
		power: "B",
		growth: "B+",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 5,
			a: 14
		}, {
			lvl: 10,
			a: 15
		}, {
			lvl: 19,
			a: 16
		}, {
			lvl: 31,
			a: 17
		}, {
			lvl: 48,
			a: 18
		}],
		flavorText: "Mystiles are often found prancing and playing in Firefly Forest."
	},
	37: {
		ID: 37,
		name: "Mystember",
		R: 5,
		element: "fire",
		effects: [3, 12, 51],
		life: "B",
		power: "B",
		growth: "B+",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 5,
			a: 2
		}, {
			lvl: 10,
			a: 3
		}, {
			lvl: 19,
			a: 4
		}, {
			lvl: 31,
			a: 5
		}, {
			lvl: 48,
			a: 6
		}],
		flavorText: "Students often recall seeing this dark horse in their dreams, which gives it its name."
	},
	38: {
		ID: 38,
		name: "Emburn",
		element: "fire",
		effects: [3, 12, 51],
		life: "B",
		power: "B",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 5,
			a: 2
		}, {
			lvl: 10,
			a: 3
		}, {
			lvl: 20,
			a: 4
		}, {
			lvl: 32,
			a: 5
		}, {
			lvl: 50,
			a: 6
		}, {
			lvl: 18,
			e: 39
		}],
		flavorText: "An Emburn's tail flickers like a candle, and is easily seen in the dark of night. "
	},
	39: {
		ID: 39,
		name: "Liosen",
		R: 2,
		element: "fire",
		effects: [3, 12, 51],
		life: "A-",
		power: "B",
		growth: "C",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 6,
			a: 14
		}, {
			lvl: 12,
			a: 3
		}, {
			lvl: 23,
			a: 16
		}, {
			lvl: 36,
			a: 5
		}, {
			lvl: 55,
			a: 18
		}],
		flavorText: "Liosen is Prince of the Forest, but is only considered King when it wears a Forest Emerald."
	},
	40: {
		ID: 40,
		name: "Snoots",
		element: "storm",
		effects: [6, 48],
		life: "B+",
		power: "A",
		growth: "D+",
		curve: [{
			lvl: 1,
			a: 26
		}, {
			lvl: 7,
			a: 20
		}, {
			lvl: 14,
			a: 28
		}, {
			lvl: 25,
			a: 22
		}, {
			lvl: 39,
			a: 30
		}, {
			lvl: 58,
			a: 24
		}, {
			lvl: 18,
			e: 41
		}],
		flavorText: "A Snoots is hard to impress...ite always claims to know everything before it was cool."
	},
	41: {
		ID: 41,
		name: "Highfawn",
		R: 2,
		element: "storm",
		effects: [6, 48],
		life: "B+",
		power: "A",
		growth: "D",
		curve: [{
			lvl: 1,
			a: 26
		}, {
			lvl: 7,
			a: 14
		}, {
			lvl: 14,
			a: 28
		}, {
			lvl: 26,
			a: 16
		}, {
			lvl: 40,
			a: 30
		}, {
			lvl: 60,
			a: 18
		}, {
			lvl: 32,
			e: 42
		}],
		flavorText: "The Highfawn prides itself on its razor-sharp talons, giant wingspan, and tremendous modesty."
	},
	42: {
		ID: 42,
		name: "Gloricious",
		element: "storm",
		effects: [6, 48],
		life: "B+",
		power: "A",
		growth: "D-",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 7,
			a: 26
		}, {
			lvl: 14,
			a: 27
		}, {
			lvl: 27,
			a: 28
		}, {
			lvl: 41,
			a: 29
		}, {
			lvl: 62,
			a: 30
		}],
		flavorText: "Known as the King of Peaks, the Gloricious banished the Highfawn to the forest for not using a coaster."
	},
	43: {
		ID: 43,
		name: "Evolotus",
		element: "storm",
		effects: [6, 48],
		life: "C-",
		power: "B",
		growth: "A+",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 4,
			a: 14
		}, {
			lvl: 8,
			a: 27
		}, {
			lvl: 16,
			a: 16
		}, {
			lvl: 27,
			a: 29
		}, {
			lvl: 43,
			a: 18
		}, {
			lvl: 14,
			e: 44
		}],
		flavorText: "Due to their hybrid nature, Evolotuses look like flowers, sting like bees, and soar like Browls."
	},
	44: {
		ID: 44,
		name: "Prodraxis",
		R: 2,
		element: "storm",
		effects: [6, 48],
		life: "C+",
		power: "B",
		growth: "A-",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 4,
			a: 8
		}, {
			lvl: 8,
			a: 27
		}, {
			lvl: 18,
			a: 10
		}, {
			lvl: 29,
			a: 29
		}, {
			lvl: 47,
			a: 12
		}],
		flavorText: "It's rumored that the Prodraxis was an abandoned Ice Dragon baby that was raised by a pack of Snoots."
	},
	45: {
		ID: 45,
		name: "Flameger",
		element: "fire",
		effects: [3, 12, 51],
		life: "B",
		power: "C",
		growth: "A-",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 4,
			a: 25
		}, {
			lvl: 8,
			a: 3
		}, {
			lvl: 18,
			a: 27
		}, {
			lvl: 29,
			a: 5
		}, {
			lvl: 47,
			a: 29
		}],
		flavorText: "On the warmest summer days, Flamegers can be seen playing in the morning sun, glowing brightly."
	},
	46: {
		ID: 46,
		name: "Gnawdy",
		element: "water",
		effects: [0, 57, 54],
		life: "B-",
		power: "B",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 5,
			a: 26
		}, {
			lvl: 10,
			a: 9
		}, {
			lvl: 20,
			a: 28
		}, {
			lvl: 32,
			a: 11
		}, {
			lvl: 50,
			a: 30
		}, {
			lvl: 28,
			e: 47
		}],
		flavorText: "Unlike sharks, Gnawdys can leave water for short periods of time, hunting prey in and out of water."
	},
	47: {
		ID: 47,
		name: "Crookfang",
		R: 2,
		element: "water",
		effects: [0, 57, 54],
		life: "B",
		power: "B",
		growth: "C-",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 6,
			a: 26
		}, {
			lvl: 12,
			a: 9
		}, {
			lvl: 24,
			a: 28
		}, {
			lvl: 37,
			a: 11
		}, {
			lvl: 57,
			a: 30
		}],
		flavorText: "The jaws of a Crookfang are so sharp that they can cut steel, and most researchers avoid them completely."
	},
	48: {
		ID: 48,
		name: "Ashlet",
		element: "fire",
		effects: [3, 12, 51],
		life: "B-",
		power: "A",
		growth: "C",
		curve: [{
			lvl: 1,
			a: 2
		}, {
			lvl: 6,
			a: 26
		}, {
			lvl: 12,
			a: 4
		}, {
			lvl: 23,
			a: 28
		}, {
			lvl: 36,
			a: 6
		}, {
			lvl: 55,
			a: 30
		}, {
			lvl: 32,
			e: 49
		}],
		flavorText: "The feathers of an Ashlet are said to bring good luck, but unfortunately are too hot to touch."
	},
	49: {
		ID: 49,
		name: "Smoldash",
		R: 2,
		element: "fire",
		effects: [3, 12, 51],
		life: "B",
		power: "A",
		growth: "C-",
		curve: [{
			lvl: 1,
			a: 2
		}, {
			lvl: 6,
			a: 26
		}, {
			lvl: 12,
			a: 4
		}, {
			lvl: 24,
			a: 28
		}, {
			lvl: 37,
			a: 6
		}, {
			lvl: 57,
			a: 30
		}],
		flavorText: "The temperatures given off by the wings of a Smoldash are hot enough to boil water, and have even been known to melt some metals."
	},
	50: {
		ID: 50,
		name: "Arcticlaw",
		element: "ice",
		effects: [9, 45],
		life: "B",
		power: "A",
		growth: "C-",
		curve: [{
			lvl: 1,
			a: 20
		}, {
			lvl: 6,
			a: 8
		}, {
			lvl: 12,
			a: 22
		}, {
			lvl: 24,
			a: 10
		}, {
			lvl: 37,
			a: 24
		}, {
			lvl: 57,
			a: 12
		}, {
			lvl: 25,
			e: 51
		}],
		flavorText: "Arcticlaws are one of the most loyal and protective pets. If you can befriend one, that is."
	},
	51: {
		ID: 51,
		name: "Frostfang",
		R: 2,
		element: "ice",
		effects: [9, 45],
		life: "B",
		power: "A",
		growth: "C-",
		curve: [{
			lvl: 1,
			a: 20
		}, {
			lvl: 6,
			a: 8
		}, {
			lvl: 12,
			a: 22
		}, {
			lvl: 24,
			a: 10
		}, {
			lvl: 37,
			a: 24
		}, {
			lvl: 57,
			a: 12
		}],
		flavorText: "Frostfangs are so in touch with the cold that they can manipulate the ice to form stylish armor."
	},
	52: {
		ID: 52,
		name: "Saplette",
		element: "earth",
		effects: [6, 45],
		life: "B-",
		power: "C",
		growth: "B+",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 5,
			a: 7
		}, {
			lvl: 10,
			a: 15
		}, {
			lvl: 19,
			a: 9
		}, {
			lvl: 31,
			a: 17
		}, {
			lvl: 48,
			a: 11
		}, {
			lvl: 16,
			e: 53
		}],
		flavorText: "Since Saplettes don't move around much, they develop strange personalities and senses of humor."
	},
	53: {
		ID: 53,
		name: "Arboreal",
		R: 2,
		element: "earth",
		effects: [6, 45],
		life: "B",
		power: "C",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 5,
			a: 7
		}, {
			lvl: 10,
			a: 15
		}, {
			lvl: 20,
			a: 9
		}, {
			lvl: 32,
			a: 17
		}, {
			lvl: 50,
			a: 11
		}, {
			lvl: 36,
			e: 54
		}],
		flavorText: "Arboreals grow much quicker than trees in the forest. They're also known to trip students in the forest with their long roots, just for fun."
	},
	54: {
		ID: 54,
		name: "Vinequeen",
		R: 5,
		element: "earth",
		effects: [6, 45],
		life: "B",
		power: "B",
		growth: "C",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 6,
			a: 8
		}, {
			lvl: 12,
			a: 15
		}, {
			lvl: 23,
			a: 10
		}, {
			lvl: 36,
			a: 17
		}, {
			lvl: 55,
			a: 12
		}],
		flavorText: "As they cannot move fast, Vinequeens rely on their wits to convince others to do their bidding."
	},
	55: {
		ID: 55,
		name: "Truckle",
		element: "earth",
		effects: [6, 45],
		life: "B",
		power: "B",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 5,
			a: 14
		}, {
			lvl: 10,
			a: 15
		}, {
			lvl: 20,
			a: 16
		}, {
			lvl: 32,
			a: 17
		}, {
			lvl: 50,
			a: 18
		}],
		flavorText: "Most people do not consider Truckles to be worthy opponents, but if you corner one, it will do anything to get past you."
	},
	56: {
		ID: 56,
		name: "Cloud Nibbler",
		element: "storm",
		effects: [6, 48],
		life: "B",
		power: "B",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 4,
			a: 14
		}, {
			lvl: 8,
			a: 27
		}, {
			lvl: 16,
			a: 16
		}, {
			lvl: 27,
			a: 29
		}, {
			lvl: 43,
			a: 18
		}, {
			lvl: 35,
			e: 57
		}],
		flavorText: "Due to their size and shape, Cloud Nibblers are often mistaken for balloons, floating among the clouds."
	},
	57: {
		ID: 57,
		name: "Cloud Gobbler",
		R: 2,
		element: "storm",
		effects: [6, 48],
		life: "A",
		power: "B",
		growth: "A+",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 4,
			a: 14
		}, {
			lvl: 8,
			a: 27
		}, {
			lvl: 16,
			a: 16
		}, {
			lvl: 25,
			a: 29
		}, {
			lvl: 34,
			a: 18
		}],
		flavorText: "Cloud Gobblers live off the moisture in the clouds, flying around with their mouth open, chomping on the open air."
	},
	58: {
		ID: 58,
		name: "Ivory Truckle",
		R: 5,
		element: "earth",
		effects: [6, 45],
		life: "B+",
		power: "B",
		growth: "B-",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 5,
			a: 26
		}, {
			lvl: 10,
			a: 15
		}, {
			lvl: 21,
			a: 28
		}, {
			lvl: 33,
			a: 17
		}, {
			lvl: 52,
			a: 30
		}],
		flavorText: "The Ivory Truckle is a rare sight in the forest... usually found only by the most skilled trackers."
	},
	59: {
		ID: 59,
		name: "TripTrop",
		element: "earth",
		effects: [6, 45],
		life: "B",
		power: "B",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 5,
			a: 14
		}, {
			lvl: 10,
			a: 15
		}, {
			lvl: 20,
			a: 16
		}, {
			lvl: 32,
			a: 17
		}, {
			lvl: 50,
			a: 18
		}, {
			lvl: 14,
			e: 60
		}],
		flavorText: "The sound of music in the forest usually indicates a Triptrop is nearby. They are nimble creatures, and love a good challenge."
	},
	60: {
		ID: 60,
		name: "ClipClop",
		R: 2,
		element: "earth",
		effects: [6, 45],
		life: "B+",
		power: "B",
		growth: "B-",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 5,
			a: 14
		}, {
			lvl: 10,
			a: 15
		}, {
			lvl: 21,
			a: 16
		}, {
			lvl: 33,
			a: 17
		}, {
			lvl: 52,
			a: 18
		}],
		flavorText: "Unlike TripTrops, the music of a ClipClop is unpleasant, and most wizards cannot stand to listen to it for too long."
	},
	61: {
		ID: 61,
		name: "Dreamlet",
		R: 5,
		element: "earth",
		effects: [6, 45],
		life: "B-",
		power: "B",
		growth: "C+",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 6,
			a: 26
		}, {
			lvl: 12,
			a: 9
		}, {
			lvl: 22,
			a: 10
		}, {
			lvl: 35,
			a: 17
		}, {
			lvl: 53,
			a: 30
		}],
		flavorText: "Dreamlets are small, intelligent and wiry critters, and are considered rarer than diamonds."
	},
	62: {
		ID: 62,
		name: "Ivory TripTrop",
		R: 5,
		element: "ice",
		effects: [9, 45],
		life: "A-",
		power: "B",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 19
		}, {
			lvl: 5,
			a: 20
		}, {
			lvl: 10,
			a: 21
		}, {
			lvl: 20,
			a: 22
		}, {
			lvl: 32,
			a: 23
		}, {
			lvl: 50,
			a: 24
		}],
		flavorText: "In rare cases, a TripTrop is born with white fur instead of grey. These creatures are considered good luck in the forest."
	},
	63: {
		ID: 63,
		name: "Flame Neek",
		element: "fire",
		effects: [3, 12, 51],
		life: "B-",
		power: "B",
		growth: "A",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 4,
			a: 2
		}, {
			lvl: 8,
			a: 3
		}, {
			lvl: 17,
			a: 4
		}, {
			lvl: 28,
			a: 5
		}, {
			lvl: 45,
			a: 6
		}, {
			lvl: 12,
			e: 64
		}],
		flavorText: "A Flame Neek is born from small flames, such as flickering candles or dying campfires in the forest."
	},
	64: {
		ID: 64,
		name: "Flame Caller",
		R: 2,
		element: "fire",
		effects: [3, 12, 51],
		life: "B",
		power: "B",
		growth: "A-",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 4,
			a: 2
		}, {
			lvl: 8,
			a: 3
		}, {
			lvl: 18,
			a: 4
		}, {
			lvl: 29,
			a: 5
		}, {
			lvl: 47,
			a: 6
		}, {
			lvl: 24,
			e: 65
		}],
		flavorText: "Flame Callers have mouths but choose not to speak - instead concocting their own language in flame."
	},
	65: {
		ID: 65,
		name: "Flame Creator",
		R: 5,
		element: "fire",
		effects: [3, 12, 51],
		life: "B+",
		power: "B",
		growth: "B+",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 5,
			a: 2
		}, {
			lvl: 10,
			a: 3
		}, {
			lvl: 19,
			a: 4
		}, {
			lvl: 31,
			a: 5
		}, {
			lvl: 48,
			a: 6
		}],
		flavorText: "The staff of a Flame Creator is very ordinary, but the fire magic produced from it is legendary."
	},
	66: {
		ID: 66,
		name: "River Neek",
		element: "water",
		effects: [0, 57, 54],
		life: "B-",
		power: "B",
		growth: "A",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 4,
			a: 8
		}, {
			lvl: 8,
			a: 9
		}, {
			lvl: 17,
			a: 10
		}, {
			lvl: 28,
			a: 11
		}, {
			lvl: 45,
			a: 12
		}, {
			lvl: 12,
			e: 67
		}],
		flavorText: "A newborn River Neek will hide in the shallows of ponds and rivers, blowing bubbles and teasing small fish."
	},
	67: {
		ID: 67,
		name: "River Caller",
		R: 2,
		element: "water",
		effects: [0, 57, 54],
		life: "B",
		power: "B",
		growth: "A-",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 4,
			a: 8
		}, {
			lvl: 8,
			a: 9
		}, {
			lvl: 18,
			a: 10
		}, {
			lvl: 29,
			a: 11
		}, {
			lvl: 47,
			a: 12
		}, {
			lvl: 24,
			e: 68
		}],
		flavorText: "The bottoms of large lakes are commonly filled with River Callers, who hold parties from time to time with the fish."
	},
	68: {
		ID: 68,
		name: "River Creator",
		R: 5,
		element: "water",
		effects: [0, 57, 54],
		life: "B+",
		power: "B",
		growth: "B+",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 5,
			a: 8
		}, {
			lvl: 10,
			a: 9
		}, {
			lvl: 19,
			a: 10
		}, {
			lvl: 31,
			a: 11
		}, {
			lvl: 48,
			a: 12
		}],
		flavorText: "River Creators grow attached to small bodies of water, and will replenish them in times of drought."
	},
	69: {
		ID: 69,
		name: "Forest Neek",
		element: "earth",
		effects: [6, 45],
		life: "B-",
		power: "B",
		growth: "A",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 4,
			a: 14
		}, {
			lvl: 8,
			a: 15
		}, {
			lvl: 17,
			a: 16
		}, {
			lvl: 28,
			a: 17
		}, {
			lvl: 45,
			a: 18
		}, {
			lvl: 12,
			e: 70
		}],
		flavorText: "Once born, a Forest Neek hides in the leaves of the trees, dropping acorns on the heads of passing wizards below."
	},
	70: {
		ID: 70,
		name: "Forest Caller",
		R: 2,
		element: "earth",
		effects: [6, 45],
		life: "B",
		power: "B",
		growth: "A-",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 4,
			a: 14
		}, {
			lvl: 8,
			a: 15
		}, {
			lvl: 18,
			a: 16
		}, {
			lvl: 29,
			a: 17
		}, {
			lvl: 47,
			a: 18
		}, {
			lvl: 24,
			e: 71
		}],
		flavorText: "Large gusts of wind may signify the presence of Forest Callers, which have the ability to 'ride' the winds."
	},
	71: {
		ID: 71,
		name: "Forest Creator",
		R: 5,
		element: "earth",
		effects: [6, 45],
		life: "B+",
		power: "B",
		growth: "B+",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 5,
			a: 14
		}, {
			lvl: 10,
			a: 15
		}, {
			lvl: 19,
			a: 16
		}, {
			lvl: 31,
			a: 17
		}, {
			lvl: 48,
			a: 18
		}],
		flavorText: "Forest Creators are not particularly smart and have terrible memories - but are kindhearted and use their magic to help others."
	},
	72: {
		ID: 72,
		name: "Cloud Neek",
		element: "storm",
		effects: [6, 48],
		life: "B-",
		power: "B",
		growth: "A",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 4,
			a: 26
		}, {
			lvl: 8,
			a: 27
		}, {
			lvl: 17,
			a: 28
		}, {
			lvl: 28,
			a: 29
		}, {
			lvl: 45,
			a: 30
		}, {
			lvl: 12,
			e: 73
		}],
		flavorText: "Born from the clouds on warm days, the Cloud Neek will hide in bushes and create small winds, blowing off wizards' hats."
	},
	73: {
		ID: 73,
		name: "Cloud Caller",
		R: 2,
		element: "storm",
		effects: [6, 48],
		life: "B",
		power: "B",
		growth: "A-",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 4,
			a: 26
		}, {
			lvl: 8,
			a: 27
		}, {
			lvl: 18,
			a: 28
		}, {
			lvl: 29,
			a: 29
		}, {
			lvl: 47,
			a: 30
		}, {
			lvl: 24,
			e: 74
		}],
		flavorText: "Cloud Callers grow tired of the forests and plains quickly, and ascend to the clouds at an early age."
	},
	74: {
		ID: 74,
		name: "Cloud Creator",
		R: 5,
		element: "storm",
		effects: [6, 48],
		life: "B+",
		power: "B",
		growth: "B+",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 5,
			a: 26
		}, {
			lvl: 10,
			a: 27
		}, {
			lvl: 19,
			a: 28
		}, {
			lvl: 31,
			a: 29
		}, {
			lvl: 48,
			a: 30
		}],
		flavorText: "When bored, Cloud Creators will often create thunderstorms on clear days, just to hear the thunder boom."
	},
	75: {
		ID: 75,
		name: "Puck",
		element: "fire",
		effects: [3, 12, 51],
		life: "C+",
		power: "B",
		growth: "A",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 4,
			a: 2
		}, {
			lvl: 8,
			a: 3
		}, {
			lvl: 17,
			a: 4
		}, {
			lvl: 28,
			a: 5
		}, {
			lvl: 45,
			a: 6
		}, {
			lvl: 15,
			e: 76
		}],
		flavorText: "These small imps are known to imitate different animal sounds, throwing hunters off their trails."
	},
	76: {
		ID: 76,
		name: "Flaria",
		R: 2,
		element: "fire",
		effects: [3, 12, 51],
		life: "B+",
		power: "B",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 5,
			a: 2
		}, {
			lvl: 10,
			a: 3
		}, {
			lvl: 20,
			a: 4
		}, {
			lvl: 32,
			a: 5
		}, {
			lvl: 50,
			a: 6
		}],
		flavorText: "Flarias can turn into flames at any time, but only do so when they get hungry."
	},
	78: {
		ID: 78,
		name: "Rascal",
		element: "ice",
		effects: [9, 45],
		life: "C",
		power: "B",
		growth: "A",
		curve: [{
			lvl: 1,
			a: 19
		}, {
			lvl: 4,
			a: 20
		}, {
			lvl: 8,
			a: 21
		}, {
			lvl: 17,
			a: 22
		}, {
			lvl: 28,
			a: 23
		}, {
			lvl: 45,
			a: 24
		}, {
			lvl: 15,
			e: 79
		}],
		flavorText: "Snowy summer days means a Rascal is close, likely stealing the numbers off of people's houses."
	},
	79: {
		ID: 79,
		name: "Shardic",
		R: 2,
		element: "ice",
		effects: [9, 45],
		life: "B",
		power: "B",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 19
		}, {
			lvl: 5,
			a: 20
		}, {
			lvl: 10,
			a: 21
		}, {
			lvl: 20,
			a: 22
		}, {
			lvl: 32,
			a: 23
		}, {
			lvl: 50,
			a: 24
		}, {
			lvl: 30,
			e: 80
		}],
		flavorText: "Shardics are known for hiding in many cold places, and have even been found in freezers."
	},
	80: {
		ID: 80,
		name: "Keeper",
		R: 5,
		element: "ice",
		effects: [9, 45],
		life: "A",
		power: "B",
		growth: "C",
		curve: [{
			lvl: 1,
			a: 19
		}, {
			lvl: 6,
			a: 8
		}, {
			lvl: 12,
			a: 21
		}, {
			lvl: 23,
			a: 10
		}, {
			lvl: 36,
			a: 23
		}, {
			lvl: 55,
			a: 12
		}],
		flavorText: "People often mistake Keepers for granite gargoyles, as they often sit motionless for days."
	},
	81: {
		ID: 81,
		name: "Scally",
		element: "earth",
		effects: [6, 45],
		life: "C+",
		power: "B",
		growth: "A",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 4,
			a: 14
		}, {
			lvl: 8,
			a: 15
		}, {
			lvl: 17,
			a: 16
		}, {
			lvl: 28,
			a: 17
		}, {
			lvl: 45,
			a: 18
		}, {
			lvl: 15,
			e: 82
		}],
		flavorText: "All Scallies are slow and always sleepy, but move fastest when it's time to eat."
	},
	82: {
		ID: 82,
		name: "Fissural",
		R: 2,
		element: "earth",
		effects: [6, 45],
		life: "B+",
		power: "B",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 5,
			a: 14
		}, {
			lvl: 10,
			a: 15
		}, {
			lvl: 20,
			a: 16
		}, {
			lvl: 32,
			a: 17
		}, {
			lvl: 50,
			a: 18
		}, {
			lvl: 30,
			e: 83
		}],
		flavorText: "Fissurals are picky eaters, and will only eat vegetables that are organically grown."
	},
	83: {
		ID: 83,
		name: "Sentinel",
		R: 5,
		element: "earth",
		effects: [6, 45],
		life: "A+",
		power: "B",
		growth: "C",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 6,
			a: 14
		}, {
			lvl: 12,
			a: 15
		}, {
			lvl: 23,
			a: 16
		}, {
			lvl: 36,
			a: 17
		}, {
			lvl: 55,
			a: 18
		}],
		flavorText: "People often mistake Sentinels for stone gargoyles, as they often sit motionless for days."
	},
	84: {
		ID: 84,
		name: "Hob",
		element: "storm",
		effects: [6, 48],
		life: "C",
		power: "B",
		growth: "A",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 4,
			a: 26
		}, {
			lvl: 8,
			a: 27
		}, {
			lvl: 17,
			a: 28
		}, {
			lvl: 28,
			a: 29
		}, {
			lvl: 45,
			a: 30
		}, {
			lvl: 15,
			e: 85
		}],
		flavorText: "Hobs are very mischievous creatures, and have the odd habit of moving around furniture."
	},
	85: {
		ID: 85,
		name: "Wick",
		R: 2,
		element: "storm",
		effects: [6, 48],
		life: "B",
		power: "B",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 5,
			a: 26
		}, {
			lvl: 10,
			a: 27
		}, {
			lvl: 20,
			a: 28
		}, {
			lvl: 32,
			a: 29
		}, {
			lvl: 50,
			a: 30
		}, {
			lvl: 30,
			e: 86
		}],
		flavorText: "Wicks cannot fly, but instead spend their time building artificial wings and flying machines."
	},
	86: {
		ID: 86,
		name: "Nebulite",
		R: 5,
		element: "storm",
		effects: [6, 48],
		life: "A",
		power: "B",
		growth: "C",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 6,
			a: 26
		}, {
			lvl: 12,
			a: 27
		}, {
			lvl: 23,
			a: 28
		}, {
			lvl: 36,
			a: 29
		}, {
			lvl: 55,
			a: 30
		}],
		flavorText: "People often mistake Nebulites for marble gargoyles, as they often sit motionless for days."
	},
	87: {
		ID: 87,
		name: "Squally",
		element: "ice",
		effects: [9, 45],
		life: "B",
		power: "B",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 19
		}, {
			lvl: 5,
			a: 20
		}, {
			lvl: 10,
			a: 21
		}, {
			lvl: 20,
			a: 22
		}, {
			lvl: 32,
			a: 23
		}, {
			lvl: 50,
			a: 24
		}, {
			lvl: 15,
			e: 88
		}],
		flavorText: "Snowmen made by students often become enchanted, sometimes turning into Squallies."
	},
	88: {
		ID: 88,
		name: "Tempest",
		R: 2,
		element: "ice",
		effects: [9, 45],
		life: "B+",
		power: "B",
		growth: "C",
		curve: [{
			lvl: 1,
			a: 19
		}, {
			lvl: 6,
			a: 14
		}, {
			lvl: 12,
			a: 21
		}, {
			lvl: 23,
			a: 16
		}, {
			lvl: 36,
			a: 23
		}, {
			lvl: 55,
			a: 18
		}, {
			lvl: 30,
			e: 89
		}],
		flavorText: "Tempests love to play tricks, hiding as snowmen and taking students' hats."
	},
	89: {
		ID: 89,
		name: "Flurrious",
		R: 5,
		element: "ice",
		effects: [9, 45],
		life: "A",
		power: "B",
		growth: "D",
		curve: [{
			lvl: 1,
			a: 19
		}, {
			lvl: 7,
			a: 14
		}, {
			lvl: 14,
			a: 21
		}, {
			lvl: 26,
			a: 4
		}, {
			lvl: 40,
			a: 17
		}, {
			lvl: 60,
			a: 6
		}],
		flavorText: "Though they look mean, Flurrious are known for leading lost students down the mountain."
	},
	90: {
		ID: 90,
		name: "Cloaker",
		element: "storm",
		effects: [6, 48],
		life: "A-",
		power: "C",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 5,
			a: 26
		}, {
			lvl: 10,
			a: 27
		}, {
			lvl: 20,
			a: 28
		}, {
			lvl: 32,
			a: 29
		}, {
			lvl: 50,
			a: 30
		}, {
			lvl: 18,
			e: 91
		}],
		flavorText: "Cloakers are ghosts known to wear old clothing they find lying about, and grow attached to these rags."
	},
	91: {
		ID: 91,
		name: "Arbite",
		R: 2,
		element: "storm",
		effects: [6, 48],
		life: "A",
		power: "C",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 5,
			a: 26
		}, {
			lvl: 10,
			a: 27
		}, {
			lvl: 20,
			a: 28
		}, {
			lvl: 32,
			a: 29
		}, {
			lvl: 50,
			a: 30
		}],
		flavorText: "Contrary to popular belief, Arbites cannot fly through walls - and in fact are quite clumsy in the dark."
	},
	92: {
		ID: 92,
		name: "Shade",
		R: 5,
		element: "earth",
		effects: [6, 45],
		life: "A-",
		power: "C",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 5,
			a: 14
		}, {
			lvl: 10,
			a: 15
		}, {
			lvl: 20,
			a: 16
		}, {
			lvl: 32,
			a: 17
		}, {
			lvl: 50,
			a: 18
		}, {
			lvl: 18,
			e: 93
		}],
		flavorText: "Sometimes, a Cloaker chooses a cloak and bonds with it, making the Cloaker more powerful and becoming a Shade instead."
	},
	93: {
		ID: 93,
		name: "Spectral",
		R: 4,
		element: "earth",
		effects: [6, 45],
		life: "A",
		power: "C",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 5,
			a: 25
		}, {
			lvl: 10,
			a: 15
		}, {
			lvl: 20,
			a: 27
		}, {
			lvl: 32,
			a: 17
		}, {
			lvl: 50,
			a: 29
		}],
		flavorText: "Spectrals can often be seen flying at midnight, attracted to the moon like moths to a lightbulb."
	},
	94: {
		ID: 94,
		name: "Burnewt",
		element: "fire",
		effects: [3, 12, 51],
		life: "C-",
		power: "B",
		growth: "B+",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 5,
			a: 2
		}, {
			lvl: 10,
			a: 3
		}, {
			lvl: 19,
			a: 4
		}, {
			lvl: 31,
			a: 5
		}, {
			lvl: 48,
			a: 6
		}, {
			lvl: 20,
			e: 95
		}],
		flavorText: "Though slow-moving, the Burnewt can emit bursts of steam to ward off attackers, like a boiling teapot."
	},
	95: {
		ID: 95,
		name: "Singenewt",
		R: 2,
		element: "fire",
		effects: [3, 12, 51],
		life: "C",
		power: "B",
		growth: "B+",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 5,
			a: 2
		}, {
			lvl: 10,
			a: 3
		}, {
			lvl: 19,
			a: 4
		}, {
			lvl: 31,
			a: 5
		}, {
			lvl: 48,
			a: 6
		}, {
			lvl: 32,
			e: 96
		}],
		flavorText: "Over time, a Burnewt's body becomes hotter and hotter, changing it into a Singenewt."
	},
	96: {
		ID: 96,
		name: "Infernewt",
		R: 5,
		element: "fire",
		effects: [3, 12, 51],
		life: "C+",
		power: "B",
		growth: "C+",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 6,
			a: 26
		}, {
			lvl: 12,
			a: 3
		}, {
			lvl: 22,
			a: 28
		}, {
			lvl: 35,
			a: 5
		}, {
			lvl: 53,
			a: 30
		}, {
			lvl: 45,
			e: 97
		}],
		flavorText: "Infernewts are often mistaken for baby dragons in the mountains - but cannot fly, roar or breathe fire."
	},
	97: {
		ID: 97,
		name: "Embershed",
		R: 5,
		element: "fire",
		effects: [3, 12, 51],
		life: "A",
		power: "A",
		growth: "F-",
		curve: [{
			lvl: 1,
			a: 2
		}, {
			lvl: 9,
			a: 26
		}, {
			lvl: 18,
			a: 4
		}, {
			lvl: 33,
			a: 28
		}, {
			lvl: 49,
			a: 6
		}, {
			lvl: 72,
			a: 30
		}],
		flavorText: "Embersheds are rare in the mountains, as they spend most of their lives in caves, reading and perfecting many languages."
	},
	98: {
		ID: 98,
		name: "Mimic",
		R: 5,
		element: "water",
		effects: [0, 57, 54],
		life: "B+",
		power: "B",
		growth: "B-",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 5,
			a: 8
		}, {
			lvl: 10,
			a: 9
		}, {
			lvl: 21,
			a: 10
		}, {
			lvl: 33,
			a: 11
		}, {
			lvl: 52,
			a: 12
		}],
		flavorText: "Look out! Not all treasure chests are full of treasure... sometimes, a Mimic is hiding inside instead!"
	},
	99: {
		ID: 99,
		name: "Funkeel",
		element: "water",
		effects: [0, 57, 54],
		life: "B+",
		power: "B",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 5,
			a: 8
		}, {
			lvl: 10,
			a: 9
		}, {
			lvl: 20,
			a: 10
		}, {
			lvl: 32,
			a: 11
		}, {
			lvl: 50,
			a: 12
		}, {
			lvl: 14,
			e: 100
		}],
		flavorText: "This tiny serpent gives off a distinct glow as it moves underwater, tricking predators into believing it is a piece of metal."
	},
	100: {
		ID: 100,
		name: "Beneel",
		R: 2,
		element: "water",
		effects: [0, 57, 54],
		life: "A-",
		power: "B",
		growth: "B-",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 5,
			a: 8
		}, {
			lvl: 10,
			a: 9
		}, {
			lvl: 21,
			a: 10
		}, {
			lvl: 33,
			a: 11
		}, {
			lvl: 52,
			a: 12
		}, {
			lvl: 28,
			e: 101
		}],
		flavorText: "Funkeels grow quickly into Beneels, which swim to the depths of the ocean in order to grow larger and larger."
	},
	101: {
		ID: 101,
		name: "Fathom",
		R: 4,
		element: "water",
		effects: [0, 57, 54],
		life: "A",
		power: "B",
		growth: "C+",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 6,
			a: 8
		}, {
			lvl: 12,
			a: 9
		}, {
			lvl: 22,
			a: 10
		}, {
			lvl: 35,
			a: 11
		}, {
			lvl: 53,
			a: 12
		}],
		flavorText: "Fathoms are the largest known monster at the Academy. They rarely surface from the ocean depths, returning only to watch passing ships."
	},
	102: {
		ID: 102,
		name: "Squibble",
		element: "water",
		effects: [0, 57, 54],
		life: "B-",
		power: "B",
		growth: "A-",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 4,
			a: 8
		}, {
			lvl: 8,
			a: 9
		}, {
			lvl: 18,
			a: 10
		}, {
			lvl: 29,
			a: 11
		}, {
			lvl: 47,
			a: 12
		}, {
			lvl: 12,
			e: 103
		}],
		flavorText: "The gem on a Squibble's head is known to be good luck, and is often the target of fishermen."
	},
	103: {
		ID: 103,
		name: "Squabble",
		R: 2,
		element: "water",
		effects: [0, 57, 54],
		life: "B",
		power: "B",
		growth: "B+",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 5,
			a: 8
		}, {
			lvl: 10,
			a: 9
		}, {
			lvl: 19,
			a: 10
		}, {
			lvl: 31,
			a: 11
		}, {
			lvl: 48,
			a: 12
		}, {
			lvl: 24,
			e: 104
		}],
		flavorText: "Squabbles, unlike Squibbles, are known to challenge other Squabbles over territory and favorite sports teams."
	},
	104: {
		ID: 104,
		name: "Squarrel",
		R: 5,
		element: "water",
		effects: [0, 57, 54],
		life: "B+",
		power: "B",
		growth: "B-",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 5,
			a: 8
		}, {
			lvl: 10,
			a: 9
		}, {
			lvl: 21,
			a: 10
		}, {
			lvl: 33,
			a: 11
		}, {
			lvl: 52,
			a: 12
		}],
		flavorText: "A Squarrel spends Sundays squabbling with Squibbles and Saturdays skulking with Squabbles."
	},
	105: {
		ID: 105,
		name: "Trampel",
		member: !0,
		R: 2,
		element: "water",
		effects: [0, 57, 54],
		life: "B",
		power: "B",
		growth: "B-",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 5,
			a: 8
		}, {
			lvl: 10,
			a: 22
		}, {
			lvl: 21,
			a: 10
		}, {
			lvl: 33,
			a: 23
		}, {
			lvl: 52,
			a: 12
		}, {
			lvl: 40,
			e: 106
		}],
		flavorText: "Trampels are rumored to be extremely clumsy, tripping over their feet like puppies."
	},
	106: {
		ID: 106,
		name: "Stampeed",
		member: !0,
		R: 5,
		element: "water",
		effects: [0, 57, 54],
		life: "B+",
		power: "B",
		growth: "B-",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 5,
			a: 20
		}, {
			lvl: 10,
			a: 9
		}, {
			lvl: 21,
			a: 23
		}, {
			lvl: 33,
			a: 11
		}, {
			lvl: 52,
			a: 24
		}],
		flavorText: "A herd of Stampeeds is supposed to be so loud that you could hear it from over 5 miles away."
	},
	107: {
		ID: 107,
		name: "Pokkit",
		member: !0,
		R: 2,
		element: "earth",
		effects: [6, 45],
		life: "A",
		power: "C",
		growth: "B-",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 5,
			a: 8
		}, {
			lvl: 10,
			a: 15
		}, {
			lvl: 21,
			a: 10
		}, {
			lvl: 33,
			a: 11
		}, {
			lvl: 52,
			a: 18
		}, {
			lvl: 40,
			e: 108
		}],
		flavorText: "Pokkits are considered slow-moving and skittish, spending most of their time hiding in their shells."
	},
	108: {
		ID: 108,
		name: "Claustro",
		member: !0,
		R: 5,
		element: "earth",
		effects: [6, 45],
		life: "A+",
		power: "C-",
		growth: "B-",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 5,
			a: 7
		}, {
			lvl: 10,
			a: 15
		}, {
			lvl: 21,
			a: 11
		}, {
			lvl: 33,
			a: 17
		}, {
			lvl: 52,
			a: 12
		}],
		flavorText: "Unlike Pokkits, Claustros are thought to be aggressive, and will chase away trespassers for hours."
	},
	109: {
		ID: 109,
		name: "Pterrotell",
		member: !0,
		R: 2,
		element: "storm",
		effects: [6, 48],
		life: "C+",
		power: "A",
		growth: "B-",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 5,
			a: 26
		}, {
			lvl: 10,
			a: 31
		}, {
			lvl: 21,
			a: 28
		}, {
			lvl: 33,
			a: 35
		}, {
			lvl: 52,
			a: 30
		}, {
			lvl: 40,
			e: 110
		}],
		flavorText: "Millions of years ago the skies would be full of Pterrotells, in large flocks of up to 100."
	},
	110: {
		ID: 110,
		name: "Pterrocks",
		member: !0,
		R: 5,
		element: "storm",
		effects: [6, 48],
		life: "B+",
		power: "B",
		growth: "B-",
		curve: [{
			lvl: 1,
			a: 31
		}, {
			lvl: 5,
			a: 32
		}, {
			lvl: 10,
			a: 27
		}, {
			lvl: 21,
			a: 28
		}, {
			lvl: 33,
			a: 29
		}, {
			lvl: 52,
			a: 36
		}],
		flavorText: "A single flock of Pterrotells is said to have been led by a single Pterroks, who would hang back and shout orders."
	},
	111: {
		ID: 111,
		name: "Terromite",
		member: !0,
		R: 2,
		element: "fire",
		effects: [3, 12, 51],
		life: "B",
		power: "A",
		growth: "B-",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 21,
			a: 4
		}, {
			lvl: 33,
			a: 5
		}, {
			lvl: 52,
			a: 6
		}, {
			lvl: 62,
			a: 18
		}, {
			lvl: 72,
			a: 30
		}, {
			lvl: 40,
			e: 112
		}],
		flavorText: "Terromites left massive footprints behind, causing scientists to believe they were much larger than in reality."
	},
	112: {
		ID: 112,
		name: "Terrosaur",
		member: !0,
		R: 5,
		element: "fire",
		effects: [3, 12, 51],
		life: "C+",
		power: "A+",
		growth: "B-",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 21,
			a: 4
		}, {
			lvl: 33,
			a: 5
		}, {
			lvl: 52,
			a: 6
		}, {
			lvl: 62,
			a: 24
		}, {
			lvl: 72,
			a: 36
		}],
		flavorText: "Terrosaur has many nicknames, including 'King Dyno', 'Sharp Teeth' and 'Big Poppa T'."
	},
	113: {
		ID: 113,
		name: "Cogmite",
		element: "storm",
		effects: [6, 48],
		life: "B",
		power: "B",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 5,
			a: 26
		}, {
			lvl: 10,
			a: 27
		}, {
			lvl: 20,
			a: 28
		}, {
			lvl: 32,
			a: 29
		}, {
			lvl: 50,
			a: 30
		}, {
			lvl: 30,
			e: 114
		}],
		flavorText: "Cogmites are known to gather around large sources of electricity, at which point they all fall asleep. Academy experts call this phenomenon a 'slumber party'."
	},
	114: {
		ID: 114,
		name: "Gearsite",
		member: !0,
		R: 5,
		element: "storm",
		effects: [6, 48],
		life: "A",
		power: "C",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 5,
			a: 26
		}, {
			lvl: 10,
			a: 27
		}, {
			lvl: 20,
			a: 28
		}, {
			lvl: 32,
			a: 29
		}, {
			lvl: 50,
			a: 30
		}],
		flavorText: "A Gearsite can move its eyes in any direction, and can see for great distances. It is easily the most paranoid monster on the island."
	},
	115: {
		ID: 115,
		name: "Bitbot",
		element: "earth",
		effects: [6, 45],
		life: "C+",
		power: "B",
		growth: "A",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 4,
			a: 14
		}, {
			lvl: 8,
			a: 15
		}, {
			lvl: 17,
			a: 16
		}, {
			lvl: 28,
			a: 17
		}, {
			lvl: 45,
			a: 18
		}, {
			lvl: 15,
			e: 116
		}],
		flavorText: "The tiny Bitbot is very social, and tends to stay in large groups to protect itself from predators."
	},
	116: {
		ID: 116,
		name: "Bashbot",
		R: 2,
		element: "earth",
		effects: [6, 45],
		life: "A-",
		power: "C",
		growth: "B",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 5,
			a: 14
		}, {
			lvl: 10,
			a: 15
		}, {
			lvl: 20,
			a: 16
		}, {
			lvl: 32,
			a: 17
		}, {
			lvl: 50,
			a: 18
		}, {
			lvl: 28,
			e: 117
		}],
		flavorText: "Bashbots are ill-tempered, and easily annoyed. In fact, it is said that Bashbots rarely get along with one another as they are always arguing."
	},
	117: {
		ID: 117,
		name: "Batterbot",
		member: !0,
		R: 5,
		element: "earth",
		effects: [6, 45],
		life: "A+",
		power: "B",
		growth: "C",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 6,
			a: 14
		}, {
			lvl: 12,
			a: 15
		}, {
			lvl: 23,
			a: 16
		}, {
			lvl: 36,
			a: 17
		}, {
			lvl: 55,
			a: 18
		}],
		flavorText: "The massive Batterbot may be strong, but he is very slow and lazy. Most Batterbots wait around for something interesting to happen, and sleep the day away."
	},
	118: {
		ID: 118,
		name: "Fishbol",
		member: !0,
		R: 2,
		element: "water",
		effects: [0, 57, 54],
		life: "B-",
		power: "B",
		growth: "A-",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 4,
			a: 8
		}, {
			lvl: 8,
			a: 9
		}, {
			lvl: 18,
			a: 10
		}, {
			lvl: 29,
			a: 11
		}, {
			lvl: 47,
			a: 12
		}, {
			lvl: 26,
			e: 119
		}],
		flavorText: "The water inside the head of a Fishbol is used to cool its machinery, which can reach scalding temperatures."
	},
	119: {
		ID: 119,
		name: "Aquariot",
		member: !0,
		R: 5,
		element: "water",
		effects: [0, 57, 54],
		life: "B+",
		power: "B",
		growth: "B+",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 5,
			a: 8
		}, {
			lvl: 10,
			a: 9
		}, {
			lvl: 19,
			a: 10
		}, {
			lvl: 31,
			a: 11
		}, {
			lvl: 48,
			a: 12
		}],
		flavorText: "Aquariots are avid collectors, and it is not uncommon to see items floating around the water in their heads...including small fish!"
	},
	120: {
		ID: 120,
		name: "Aracute",
		R: 2,
		element: "fire",
		effects: [3, 12, 51],
		life: "C-",
		power: "B",
		growth: "B+",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 5,
			a: 2
		}, {
			lvl: 10,
			a: 3
		}, {
			lvl: 19,
			a: 4
		}, {
			lvl: 31,
			a: 5
		}, {
			lvl: 48,
			a: 6
		}, {
			lvl: 22,
			e: 121
		}],
		flavorText: "Aracutes prefer warm, dry places to live, and are often found living in the walls of old buildings. They emerge only to look for food and new housing, which is actually quite frequently."
	},
	121: {
		ID: 121,
		name: "Arachex",
		member: !0,
		R: 5,
		element: "fire",
		effects: [3, 12, 51],
		life: "A",
		power: "A",
		growth: "F-",
		curve: [{
			lvl: 1,
			a: 2
		}, {
			lvl: 9,
			a: 26
		}, {
			lvl: 18,
			a: 4
		}, {
			lvl: 33,
			a: 28
		}, {
			lvl: 49,
			a: 6
		}, {
			lvl: 72,
			a: 30
		}],
		flavorText: "Arachex are notoriously fast runners, but only for short distances. In fact, an arachex will only ever run for a maximum of 99.87542 meters before stopping. This makes it difficult to compete in track competitions."
	},
	122: {
		ID: 122,
		name: "Ice Neek",
		element: "ice",
		effects: [9, 45],
		life: "B-",
		power: "B",
		growth: "A",
		curve: [{
			lvl: 1,
			a: 19
		}, {
			lvl: 4,
			a: 20
		}, {
			lvl: 8,
			a: 21
		}, {
			lvl: 17,
			a: 22
		}, {
			lvl: 28,
			a: 23
		}, {
			lvl: 45,
			a: 24
		}, {
			lvl: 12,
			e: 123
		}],
		flavorText: "An Ice Neek is commonly found in places with low temperatures, but also has a strange curiosity towards fire."
	},
	123: {
		ID: 123,
		name: "Ice Caller",
		R: 2,
		element: "ice",
		effects: [9, 45],
		life: "B",
		power: "B",
		growth: "A-",
		curve: [{
			lvl: 1,
			a: 19
		}, {
			lvl: 4,
			a: 20
		}, {
			lvl: 8,
			a: 21
		}, {
			lvl: 18,
			a: 22
		}, {
			lvl: 29,
			a: 23
		}, {
			lvl: 47,
			a: 24
		}, {
			lvl: 24,
			e: 124
		}],
		flavorText: "Whenever a snowstorm is present, you can bet an Ice Caller is somewhere in the midst of it. It's rumored that they use these storms as a form of showering."
	},
	124: {
		ID: 124,
		name: "Ice Creator",
		R: 5,
		element: "ice",
		effects: [9, 45],
		life: "B+",
		power: "B",
		growth: "B+",
		curve: [{
			lvl: 1,
			a: 19
		}, {
			lvl: 5,
			a: 20
		}, {
			lvl: 10,
			a: 21
		}, {
			lvl: 19,
			a: 22
		}, {
			lvl: 31,
			a: 23
		}, {
			lvl: 48,
			a: 24
		}],
		flavorText: "An Ice Creator is a rare sight, found only in the coldest, deepest dungeons. They are fiercely territorial, often claiming entire dungeons for themselves."
	},
	125: {
		ID: 125,
		name: "Big Hex",
		unique: !0,
		R: 5,
		element: "mech",
		effects: [9, 45],
		life: "A",
		power: "A+",
		growth: "A",
		curve: [{
			lvl: 1,
			a: 25
		}, {
			lvl: 5,
			a: 26
		}, {
			lvl: 10,
			a: 27
		}, {
			lvl: 19,
			a: 28
		}, {
			lvl: 31,
			a: 29
		}, {
			lvl: 48,
			a: 30
		}],
		flavorText: "Big Hex can create almost any type of machinery from raw scraps, and can even power them using his own energy. Thanks to his creation, Big Hex can use magic to harness storm power and create powerful spells.",
		adText: ""
	},
	126: {
		ID: 126,
		name: "Florafox",
		unique: !0,
		R: 5,
		element: "earth",
		effects: [9, 45],
		life: "A+",
		power: "B",
		growth: "A+",
		curve: [{
			lvl: 1,
			a: 13
		}, {
			lvl: 5,
			a: 14
		}, {
			lvl: 10,
			a: 15
		}, {
			lvl: 19,
			a: 16
		}, {
			lvl: 31,
			a: 17
		}, {
			lvl: 48,
			a: 18
		}],
		flavorText: "Florafox can speak with nearby plants and trees by planting itself in the soil. The bulb on Florafoxs tail produces a pollen that can heal any plant, no matter how injured or withered.",
		adText: ""
	},
	127: {
		ID: 127,
		name: "Arctursus",
		unique: !0,
		R: 5,
		element: "ice",
		effects: [9, 45],
		life: "B",
		power: "A+",
		growth: "A+",
		curve: [{
			lvl: 1,
			a: 19
		}, {
			lvl: 5,
			a: 20
		}, {
			lvl: 10,
			a: 21
		}, {
			lvl: 19,
			a: 22
		}, {
			lvl: 31,
			a: 23
		}, {
			lvl: 48,
			a: 24
		}],
		flavorText: "The air around Arctursus is always cold. This is because the tips of his fur are made from an ice that can never melt, and so no matter where he goes he is always at a comfortable temperature.",
		adText: ""
	},
	128: {
		ID: 128,
		name: "Diveodile",
		unique: !0,
		R: 5,
		element: "water",
		effects: [9, 45],
		life: "A+",
		power: "A",
		growth: "A",
		curve: [{
			lvl: 1,
			a: 7
		}, {
			lvl: 5,
			a: 8
		}, {
			lvl: 10,
			a: 9
		}, {
			lvl: 19,
			a: 10
		}, {
			lvl: 31,
			a: 11
		}, {
			lvl: 48,
			a: 12
		}],
		flavorText: "Diveodile's natural magic ability is boosted by the Warden pendant it wears, allowing it to cast strong water spells to generate water, or even control the water around itself!",
		adText: ""
	},
	129: {
		ID: 129,
		name: "Magmischief",
		unique: !0,
		R: 5,
		element: "fire",
		effects: [9, 45],
		life: "A",
		power: "A+",
		growth: "A",
		curve: [{
			lvl: 1,
			a: 1
		}, {
			lvl: 5,
			a: 2
		}, {
			lvl: 10,
			a: 3
		}, {
			lvl: 19,
			a: 4
		}, {
			lvl: 31,
			a: 5
		}, {
			lvl: 48,
			a: 6
		}],
		flavorText: "While traveling underground, Magmischief can sense movement on the surface, so he knows exactly where to appear and get the biggest scare out of those who have entered Bonfire Spire.",
		adText: ""
	}
}, Monsters.epicArena = {
	125: {
		monsters: [[68, 12, 47, 98, 101, 104, 11, 119, 100, 33], [101, 119, 98, 47, 68, 33, 100, 12, 11, 104], [11, 12, 33, 47, 68, 98, 100, 101, 104, 119]],
		rewards: [{
			type: "dorm",
			ID: 125
		}, {
			type: "dorm",
			ID: 124
		}, {
			type: "dorm",
			ID: 126
		}]
	},
	126: {
		monsters: [[68, 12, 25, 104, 47, 98, 101, 119, 100, 106], [98, 101, 25, 119, 106, 68, 100, 104, 12, 47], [12, 25, 47, 68, 98, 100, 101, 104, 106, 119]],
		rewards: [{
			type: "dorm",
			ID: 121
		}, {
			type: "dorm",
			ID: 122
		}, {
			type: "dorm",
			ID: 123
		}]
	},
	127: {
		monsters: [[6, 15, 110, 19, 22, 35, 42, 44, 57, 74], [42, 19, 44, 15, 57, 74, 6, 110, 22, 35], [110, 22, 74, 22, 15, 42, 44, 19, 6, 57]],
		rewards: [{
			type: "dorm",
			ID: 116
		}, {
			type: "dorm",
			ID: 115
		}, {
			type: "dorm",
			ID: 117
		}]
	},
	128: {
		monsters: [[24, 64, 120, 23, 37, 38, 65, 76, 9, 112], [65, 120, 64, 112, 76, 9, 24, 37, 38, 23], [9, 23, 24, 37, 38, 64, 65, 76, 112, 120]],
		rewards: [{
			type: "dorm",
			ID: 119
		}, {
			type: "dorm",
			ID: 118
		}, {
			type: "dorm",
			ID: 120
		}]
	},
	129: {
		monsters: [[3, 32, 36, 124, 60, 82, 71, 83, 93, 92], [60, 71, 124, 36, 3, 92, 32, 93, 83, 82], [32, 3, 92, 71, 93, 83, 124, 82, 60, 36]],
		rewards: [{
			type: "dorm",
			ID: 128
		}, {
			type: "dorm",
			ID: 127
		}, {
			type: "dorm",
			ID: 129
		}]
	}
}, Monsters.process = function () {
	for (var e = 14549017, t = Monsters.data, i = [4, 4, 4, 4, 4, 4, 4, 12, 30, 30], a = '<table class="confluenceTable relative-table" data-resize-percent="100" style="width: 100%;">', s = 0; s < i.length; s++) a += '<col data-resize-percent="' + i[s] + '" style="width: ' + i[s] + '%;">';
	a += '</colgroup><tbody><tr><th class="confluenceTh">ID</th><th class="confluenceTh">Icon</th><th class="confluenceTh">Member</th><th class="confluenceTh">Element</th><th class="confluenceTh">Life</th><th class="confluenceTh">Power</th><th class="confluenceTh">Growth</th><th class="confluenceTh">Name</th><th class="confluenceTh">Description</th><th class="confluenceTh">Information</th></tr>';
	var s = 0;
	for (var r in t) {
		var o = t[r],
			n = ' class="confluenceTd highlight-blue" data-highlight-colour="blue" ';
		s % 2 === 0 && (n = ' class="confluenceTd" '), s++;
		for (var h = "Attacks: ", l = "", d = 0; d < o.curve.length; d++) {
			var p = o.curve[d];
			p.a && (h += Prodigy.Attacks.data[p.a - 1].name + " (lvl " + p.lvl + "), "), p.e && (l = "Evolves into " + t[p.e].name + " at lvl " + p.lvl)
		}
		a += '<tr><td colspan="1" width="" style="text-align: center;" ' + n + "><strong>" + o.ID + '</strong></td><td colspan="1" width=""  ' + n + '><div class="content-wrapper"><p><img class="confluence-embedded-image confluence-thumbnail confluence-external-resource" width="40" src="https://prodigygame.atlassian.net/wiki/download/thumbnails/' + e + "/" + o.ID + '.png?version=1&amp;modificationDate=1465482321787&amp;api=v2" data-image-src="https://prodigygame.atlassian.net/wiki/download/attachments/' + e + "/" + o.ID + '.png?version=1&amp;modificationDate=1465482321787&amp;api=v2" data-mce-src="https://prodigygame.atlassian.net/wiki/download/attachments/' + e + "/" + o.ID + '.png?version=1&amp;modificationDate=1465482321787&amp;api=v2" border="0"><br data-mce-bogus="1"></p></div></td><td colspan="1" width="" ' + n + ' style="text-align: center;">' + (o.member ? "yes" : "no") + '</td><td colspan="1" width="" ' + n + ' style="text-align: center;">' + o.element + '</td><td colspan="1" width="" ' + n + ' style="text-align: center;">' + o.life + '</td><td colspan="1" width="" ' + n + ' style="text-align: center;">' + o.power + '</td><td colspan="1" width="" ' + n + ' style="text-align: center;">' + o.growth + '</td><td colspan="1" width="" ' + n + "><strong><span 0>" + o.name + '</span></strong></td><td colspan="1" width="" ' + n + "><em>" + o.flavorText + '</em></td><td colspan="1" width="" ' + n + '><br data-mce-bogus="1"><em>' + h + "<br/>" + l + "</em></td></tr>"
	}
	a += "</tbody></table>", Util.log(a)
};
var Names = function () {
	function e() {}
	return e
}();
Names.createNameFromIndex = function (e, t, i, a) {
	var s = "male" === e ? Names.BOY_NAMES[t] : Names.GIRL_NAMES[t];
	return s += " " + Names.MIDDLE_NAMES[i], s += Names.LAST_NAMES[a].toLowerCase()
}, Names.generateName = function (e) {
	var t = "";
	t = "male" === e ? Names.BOY_NAMES[Math.floor(Math.random() * (Names.BOY_NAMES.length - 1))] : Names.GIRL_NAMES[Math.floor(Math.random() * (Names.GIRL_NAMES.length - 1))];
	var i = Names.MIDDLE_NAMES[Math.floor(Math.random() * (Names.MIDDLE_NAMES.length - 1))],
		a = Names.LAST_NAMES[Math.floor(Math.random() * (Names.LAST_NAMES.length - 1))].toLowerCase();
	return t + " " + i + a
}, Names.isValidFirstName = function (e) {
	var t = e.split(" ")[0];
	return !(-1 == Names.BOY_NAMES.indexOf(t) && -1 == Names.GIRL_NAMES.indexOf(t))
}, Names.isValidMiddleName = function (e) {
	var t = e.split(" ");
	if (t.length > 1) {
		var i = t[1],
			a = !1;
		if (null !== i)
			for (var s = 0; s < Names.MIDDLE_NAMES.length; s++) - 1 != i.indexOf(Names.MIDDLE_NAMES[s]) && (a = !0)
	}
	return a
}, Names.isValidLastName = function (e) {
	var t = e.split(" ");
	if (t.length > 1)
		for (var i = t[1].toLowerCase(), a = !1, s = 0; s < Names.LAST_NAMES.length; s++) - 1 != i.indexOf(Names.LAST_NAMES[s].toLowerCase()) && (a = !0);
	return a
}, Names.BOY_NAMES = ["Aaron", "Abdullah", "Abraham", "Adam", "Adrian", "Ahmad", "Ahmed", "Aidan", "Aiden", "Alan", "Albert", "Alejandro", "Alex", "Alexander", "Alexis", "Ali", "Alvin", "Andres", "Andrew", "Aneesh", "Angel", "Angelo", "Anthony", "Antonio", "Arthur", "Ashton", "Austin", "Ayden", "Benjamin", "Billy", "Blake", "Bobby", "Bort", "Braden", "Bradley", "Brady", "Brandon", "Brayden", "Brendan", "Brian", "Brody", "Bruce", "Bryan", "Bryce", "Bryson", "Caden", "Caleb", "Camden", "Cameron", "Carl", "Carlos", "Carson", "Carter", "Cesar", "Charles", "Chase", "Christian", "Christopher", "Cody", "Colby", "Cole", "Colin", "Collin", "Colton", "Conner", "Connor", "Cooper", "Craig", "Cristian", "Dakota", "Dalton", "Damian", "Daniel", "Darien", "David", "Dennis", "Derek", "Devin", "Devon", "Diego", "Dominic", "Donald", "Donovan", "Douglas", "Dylan", "Edgar", "Eduardo", "Edward", "Edwin", "Eli", "Elias", "Elijah", "Emmanuel", "Eric", "Erick", "Erik", "Ethan", "Eugene", "Evan", "Fernando", "Francisco", "Frank", "Gabriel", "Gage", "Garrett", "Gary", "Gavin", "George", "Gerald", "Giovanni", "Grant", "Gregory", "Hammad", "Hamza", "Harold", "Hayden", "Hector", "Henry", "Howard", "Hunter", "Ian", "Ibrahim", "Isaac", "Isaiah", "Ivan", "Jack", "Jackson", "Jacob", "Jaden", "Jake", "Jalen", "James", "Jared", "Jason", "Javier", "Jayden", "Jeffrey", "Jeremiah", "Jeremy", "Jerry", "Jesse", "Jimothy", "Joe", "Joel", "John", "Johnathan", "Johnny", "Jonah", "Jonathan", "Jordan", "Jorge", "Jose", "Joseph", "Joshua", "Josiah", "Juan", "Julian", "Justin", "Kaden", "Kaleb", "Keith", "Kenneth", "Kevin", "Kian", "Kyle", "Landon", "Larry", "Lawrence", "Leonardo", "Levi", "Liam", "Logan", "Louis", "Lucas", "Luis", "Luke", "Malachi", "Malik", "Manuel", "Marco", "Marcus", "Mario", "Mark", "Martin", "Marvin", "Mason", "Matthew", "Max", "Maxwell", "Micah", "Michael", "Miguel", "Muhammad", "Nathan", "Nathaniel", "Nicholas", "Nicolas", "Noah", "Nolan", "Oliver", "Omar", "Oscar", "Owen", "Parker", "Patrick", "Paul", "Peter", "Peyton", "Philip", "Phillip", "Preston", "Ralph", "Raymond", "Ricardo", "Richard", "Riley", "Robert", "Roger", "Rohan", "Ronald", "Rory", "Roy", "Rupy", "Russell", "Ryan", "Samuel", "Scott", "Sean", "Sebastian", "Sergio", "Seth", "Shane", "Shawn", "Solomon", "Spencer", "Stephen", "Steve", "Steven", "Tanner", "Terry", "Thomas", "Timothy", "Travis", "Trenton", "Trevor", "Tristan", "Tyler", "Van", "Victor", "Vincent", "Walter", "Wasee", "Wayne", "Wesley", "William", "Wyatt", "Xavier", "Youssef", "Zachary"], Names.GIRL_NAMES = ["Aaliyah", "Abby", "Abigail", "Addison", "Adriana", "Adrianna", "Alana", "Alexa", "Alexandra", "Alexandria", "Alexia", "Alexis", "Alice", "Alicia", "Allison", "Alondra", "Alyssa", "Amanda", "Amber", "Amelia", "Amy", "Ana", "Andrea", "Angel", "Angela", "Angelica", "Angelina", "Ann", "Anna", "Ariana", "Arianna", "Ashley", "Ashlyn", "Aubrey", "Audrey", "Autumn", "Ava", "Avery", "Bailey", "Barbara", "Betty", "Beverly", "Bianca", "Breanna", "Brenda", "Briana", "Brianna", "Brittany", "Brooke", "Brooklyn", "Caitlin", "Caitlyn", "Camila", "Carol", "Caroline", "Carolyn", "Cassandra", "Cassidy", "Catherine", "Charlotte", "Chelsea", "Cheryl", "Cheyenne", "Chloe", "Christina", "Christine", "Claire", "Courtney", "Crystal", "Cynthia", "Daisy", "Daniela", "Danielle", "Deborah", "Debra", "Delaney", "Denise", "Destiny", "Diana", "Diane", "Donna", "Doris", "Dorothy", "Elizabeth", "Ella", "Ellen", "Ellie", "Emily", "Emma", "Erica", "Erin", "Eva", "Evelyn", "Faith", "Fatima", "Felicia", "Frances", "Gabriela", "Gabriella", "Gabrielle", "Genesis", "Gianna", "Giselle", "Gloria", "Grace", "Gracie", "Hailey", "Haley", "Hannah", "Heather", "Helen", "Hope", "Isabel", "Isabella", "Isabelle", "Jacqueline", "Jada", "Jade", "Jana", "Jane", "Janet", "Janice", "Jasmin", "Jasmine", "Jayla", "Jazmin", "Jean", "Jenna", "Jennifer", "Jessica", "Jillian", "Joan", "Jocelyn", "Jordan", "Jordyn", "Joyce", "Judith", "Judy", "Julia", "Juliana", "Julie", "Kaitlyn", "Karen", "Kate", "Katelyn", "Katherine", "Kathleen", "Kathryn", "Kathy", "Katie", "Kayla", "Kaylee", "Kelly", "Kelsey", "Kendall", "Kennedy", "Kiara", "Kimberly", "Kira", "Kylee", "Kylie", "Laura", "Lauren", "Layla", "Leah", "Leslie", "Liliana", "Lillian", "Lilly", "Lily", "Linda", "Lindsey", "Lisa", "Lori", "Louise", "Lucy", "Lydia", "Mackenzie", "Madeline", "Madelyn", "Madison", "Makayla", "Makenzie", "Margaret", "Maria", "Mariah", "Mariam", "Mariam", "Marie", "Marilyn", "Marissa", "Martha", "Mary", "Maya", "Mckenzie", "Megan", "Melanie", "Melissa", "Mia", "Michelle", "Mikayla", "Mildred", "Miranda", "Molly", "Morgan", "Mya", "Nancy", "Naomi", "Natalia", "Natalie", "Nevaeh", "Nichole", "Nicole", "Nur", "Olivia", "Paige", "Pamela", "Patricia", "Payton", "Peyton", "Rachel", "Reagan", "Rebecca", "Riley", "Rose", "Ruby", "Ruth", "Rylee", "Sabrina", "Sadie", "Salma", "Samantha", "Sandra", "Sara", "Sarah", "Savannah", "Serenity", "Sharon", "Shelby", "Shirley", "Sierra", "Skylar", "Sofia", "Sophia", "Sophie", "Stephanie", "Summer", "Susan", "Sydney", "Tammy", "Taylor", "Teresa", "Theresa", "Tiffany", "Trinity", "Valeria", "Valerie", "Vanessa", "Veronica", "Victoria", "Virginia", "Zoe", "Zoey"], Names.FIRST_NAMES = [], Names.MIDDLE_NAMES = ["Air", "Animal", "Battle", "Blue", "Bronze", "Clear", "Cloud", "Coin", "Daring", "Dark", "Day", "Diamond", "Divine", "Dragon", "Dream", "Earth", "Fable", "Fairy", "Fall", "Fancy", "Far", "Fire", "Flame", "Fog", "Forge", "Frost", "Fruit", "Garden", "Gear", "Ghost", "Giant", "Glass", "Gold", "Golden", "Good", "Green", "Heavy", "Hero", "Ice", "Illusion", "Iron", "Land", "Leaf", "Legend", "Life", "Lightning", "Maelstrom", "Magic", "Metal", "Monster", "Moon", "Mountain", "Myth", "Near", "Night", "Ocean", "Plant", "Quake", "Rain", "Red", "River", "Ruby", "Silver", "Sleep", "Soft", "Spell", "Spring", "Star", "Storm", "Strong", "Summer", "Super", "Swift", "Thunder", "Water", "White", "Wild", "Wind", "Winter", "Wish", "Wonder", "Yellow"], Names.LAST_NAMES = ["Blade", "Boots", "Boy", "Breath", "Brother", "Caller", "Cast", "Caster", "Catcher", "Crafter", "Dancer", "Dreamer", "Drifter", "Ear", "Eyes", "Follower", "Foot", "Friend", "Gem", "Girl", "Giver", "Hand", "Heart", "Helper", "Hunter", "Leader", "Legs", "Lemon", "Light", "Man", "Mask", "Master", "Nose", "Ore", "Pants", "Petal", "Prism", "Ring", "Runner", "Seed", "Shade", "Shadow", "Shard", "Shine", "Shirt", "Singer", "Sister", "Smith", "Song", "Spoon", "Staff", "Steel", "Strider", "Sword", "Tail", "Talon", "Tamer", "Thinker", "Torch", "Vault", "Voice", "Walker", "Wand", "Ward", "Whisper", "Winner", "Woman"], Prodigy.Control.Sprite = function (e, t, i, a, s, r, o, n, h) {
	this.forcedWidth = n, this.forcedHeight = h, this.onTextureLoaded = o, s = s || 0;
	var l = !1;
	e.prodigy.load.isFileLoaded(a) ? (Phaser.Sprite.call(this, e, t, i, a, s), this.checkSpriteDimension(), l = !0) : (Phaser.Sprite.call(this, e, t, i, "core", "empty"), this.checkSpriteDimension(), e.prodigy.load.assets(a, this.onSourceAssetLoaded.bind(this, e, t, i, a, s, r))), r && this.anchor.setTo(.5, 1), l && Util.isDefined(this.onTextureLoaded) && this.onTextureLoaded()
}, Prodigy.extends(Prodigy.Control.Sprite, Phaser.Sprite, {
	constructor: Prodigy.Control.Sprite,
	checkSpriteDimension: function () {
		Util.isDefined(this.forcedWidth) && (this.width = this.forcedWidth), Util.isDefined(this.forcedHeight) && (this.height = this.forcedHeight)
	},
	rotateMiddleBased: function (e) {
		this.middleRotatedAngle = e, this.anchor.set(.5, .5), this.angle = this.middleRotatedAngle
	},
	onSourceAssetLoaded: function (e, t, i, a, s, r) {
		this.key = a, this.game = e, this.components.Animation && (this.animations = new Phaser.AnimationManager(this)), this.components.LoadTexture && null !== this.key && this.loadTexture(a, s), this.components.FixedToCamera && (this.cameraOffset = new Phaser.Point(t, i)), Util.isDefined(this.middleRotatedAngle) ? this.rotateMiddleBased(this.middleRotatedAngle) : r && this.anchor.setTo(.5, 1), this.checkSpriteDimension(), Util.isDefined(this.onTextureLoaded) && this.onTextureLoaded(), 16777215 !== this.tint && (this.tintedTexture = PIXI.CanvasTinter.getTintedTexture(this, this.tint))
	}
}), Prodigy.Control.AnimatedSprite = function (e, t, i, a, s, r, o, n) {
	Prodigy.Control.Sprite.call(this, e, t, i, a, s[0], r);
	var h = 0;
	Object.defineProperty(this, "frameNo", {
		get: function () {
			return h
		},
		set: function (e) {
			Util.isDefined(s) && (h = e, this.frameName = s[e], Util.isDefined(o) && (this.scale.x = o[e], this.scale.y = o[e]), Util.isDefined(n) && (this.x = n[e].x, this.y = n[e].y))
		}
	}), this.frameNo = 0
}, Prodigy.extends(Prodigy.Control.AnimatedSprite, Prodigy.Control.Sprite, {
	constructor: Prodigy.Control.AnimatedSprite
}), Prodigy.Control.Indicator = function (e, t, i) {
	Phaser.Image.call(this, e, t, i, "icons", "exclamation")
}, Prodigy.extends(Prodigy.Control.Indicator, Phaser.Image, {
	constructor: Prodigy.Control.Indicator,
	addTween: function () {
		this.game.add.tween(this).to({
			y: this.y - 10
		}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, -1, !0)
	}
}), Prodigy.Control.ProgressBar = function (e, t, i, a, s) {
	Prodigy.Control.Element.call(this, e, t, i, a), this.barWidth = s - 12, s -= 80, this.add(this.game.prodigy.create.sprite(0, 0, "core", "bar-corner")), this.add(new Phaser.TileSprite(this.game, 40, 0, s, 40, "core", "bar-top")), this.add(this.game.prodigy.create.sprite(40 + s, 0, "core", "bar-corner2")), this.bar = this.add(new Phaser.TileSprite(this.game, 6, 6, 0, 28, "core", "bar-fill")), this.text = this.game.prodigy.create.font(this, 0, 8, "", {
		width: s + 80,
		align: "center",
		size: 16
	})
}, Prodigy.extends(Prodigy.Control.ProgressBar, Prodigy.Control.Element, {
	constructor: Prodigy.Control.ProgressBar,
	setProgress: function (e, t) {
		this.bar.width = Math.floor(e * this.barWidth), this.text.setText(Util.isDefined(t) ? t : "")
	}
}), Prodigy.Control.Button = function (e, t, i, a, s, r, o, n, h, l, d, p) {
	Prodigy.Control.Element.call(this, e, t), this.x = i, this.y = a, this.isActive = !0, this.isPressed = !1, this.callback = o, this.sprite = this.game.prodigy.create.sprite(0, 0, s, r, !1, this.onSpriteLoaded.bind(this), d, p), this.add(this.sprite), Util.isDefined(n) && Util.isDefined(h) && (this.animatedSprite = this.game.prodigy.create.sprite(h.x, h.y, s, n[0]), this.animatedSpritePos = h, this.add(this.animatedSprite), this.animTween = new Prodigy.TweenController(e, this.animatedSprite), this.animTween.set("frameName", n, 200, 9999), this.animTween.start()), this.sprite.inputEnabled = !0, this.sprite.events.onInputDown.add(this.onDown, this), Util.isDefined(l) && l !== !1 || (this.sprite.events.onInputUp.add(this.onUp, this), this.sprite.events.onInputOver.add(this.onOver, this)), this.sprite.events.onInputOut.add(this.onOut, this), GameConstants.get("GameConstants.Build.DEBUG") && Util.isDefined(r) && this.game.broadcaster.addAppListener(Prodigy.Events.Debug.AUTO_CLICK, this.onDebugAutoClick.bind(this), this)
}, Prodigy.extends(Prodigy.Control.Button, Prodigy.Control.Element, {
	constructor: Prodigy.Control.Button,
	update: function () {
		Util.isDefined(this.animTween) && this.animTween.update()
	},
	changeImage: function (e) {
		this.sprite.frameName = e
	},
	onDown: function () {
		this.isPressed = !0, this.isActive && (this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "pop"), Util.isDefined(this.callback) && this.callback(), this.sprite.y = 0, Util.isDefined(this.animatedSprite) && (this.animatedSprite.y = this.animatedSpritePos.y), Util.isDefined(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY))
	},
	onUp: function () {
		this.isPressed = !1, this.isActive && this.sprite.input.pointerOver() && (this.sprite.y = -3, Util.isDefined(this.animatedSprite) && (this.animatedSprite.y = this.animatedSpritePos.y - 3), Util.isDefined(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY - 3))
	},
	onOver: function () {
		this.isActive && (this.sprite.y = -3, Util.isDefined(this.animatedSprite) && (this.animatedSprite.y = this.animatedSpritePos.y - 3), Util.isDefined(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY - 3))
	},
	onOut: function () {
		this.isActive && (this.sprite.y = 0, Util.isDefined(this.animatedSprite) && (this.animatedSprite.y = this.animatedSpritePos.y), Util.isDefined(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY))
	},
	addCallback: function (e, t, i) {
		i ? this.sprite.events.onInputDown.addOnce(e, t) : this.sprite.events.onInputDown.add(e, t)
	},
	setActive: function () {
		this.isActive = !0, this.sprite.tint = 16777215
	},
	setInactive: function (e) {
		this.isActive = !1, this.sprite.tint = Util.isDefined(e) ? e : 5789784, this.sprite.y = 0, Util.isDefined(this.animatedSprite) && (this.animatedSprite.y = this.animatedSpritePos.y), Util.isDefined(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY)
	},
	select: function () {
		this.sprite.tint = 7447253
	},
	deselect: function () {
		this.isActive = !0, this.sprite.tint = 16777215, this.sprite.y = 0, Util.isDefined(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY), Util.isDefined(this.animatedSprite) && (this.animatedSprite.y = this.animatedSpritePos.y)
	},
	isActive: function () {
		return this.isActive
	},
	onDebugAutoClick: function (e) {
		Util.isDefined(this.sprite.frameName) && (Util.isDefined(e) ? e === this.sprite.frameName && this.onDown() : Util.log("Button Tag: " + this.sprite.frameName))
	},
	addOverlay: function (e, t, i, a) {
		Util.isDefined(this.spriteOverlay) && this.spriteOverlay.kill(), this.spriteOverlayX = e, this.spriteOverlayY = t, this.spriteOverlay = this.game.prodigy.create.sprite(e, t, i, a), this.add(this.spriteOverlay)
	},
	onSpriteLoaded: function () {
		Util.isDefined(this.spriteOverlay) && (this.spriteOverlay.y = this.spriteOverlayY, this.spriteOverlay.x = this.spriteOverlayX)
	}
}), Prodigy.Control.HUDButton = function (e, t, i, a, s, r, o) {
	Prodigy.Control.Button.call(this, e, t, i, a, s, r, o);
	var n = new Phaser.Image(this.game, 0, 0, "icons", "exclamation");
	this.sprite.addChild(n), n.visible = !1;
	var h = 2 * n.height,
		l = Util.getCenteredXY(n.width, n.height + h, this.sprite.x, this.sprite.y, this.sprite.width, this.sprite.height);
	n.x = l.x, n.y = l.y, this.game.add.tween(n).to({
		y: n.y - 10
	}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, -1, !0), this.showIndicator = function (e) {
		n.visible = e
	}, this.setIcon = function (e, t) {
		n.key = e || n.key, n.frameName = t || n.frameName
	}
}, Prodigy.extends(Prodigy.Control.HUDButton, Prodigy.Control.Button, {
	constructor: Prodigy.Control.HUDButton
}), Prodigy.Control.MailerButton = function (e, t, i, a) {
	Prodigy.Control.HUDButton.call(this, e, t, i, a, "icons-hud", "mail", e.prodigy.open.mailer.bind(e.prodigy.open)), this.game.broadcaster.addAppListener(Prodigy.Events.Mailer.UPDATE_MAIL_COUNTERS, this.process.bind(this), this, "ProdigyMailerButton");
	var s = e.prodigy.mailNetworkHandler;
	Util.isDefined(s) && Util.isDefined(s.totalMail) && this.process(s.totalMail)
}, Prodigy.extends(Prodigy.Control.MailerButton, Prodigy.Control.HUDButton, {
	constructor: Prodigy.Control.MailerButton,
	process: function (e) {
		this.showIndicator(e.totalUnread > 0)
	},
	destroy: function (e, t) {
		this.game.broadcaster.removeAppListener(Prodigy.Events.Mailer.UPDATE_MAIL_COUNTERS, this, "ProdigyMailerButton"), Phaser.Group.prototype.destroy.call(this, e, t)
	}
}), Prodigy.Control.WorldMapButton = function (e, t, i, a) {
	var s = function () {
			var t = e.prodigy.world.getZone("house"),
				i = t.isBreadcrumbComplete("moving", "worldMapButton"),
				a = t.getState("hasClickedWorldMap");
			this.showIndicator(!a || !i)
		}.bind(this),
		r = function () {
			var t = e.prodigy.world.getZone("house"),
				i = t.getState("hasClickedWorldMap");
			Util.isDefined(i) && i || t.setState("hasClickedWorldMap", !0), t.isBreadcrumbComplete("moving", "worldMapButton") || t.completeBreadcrumb("moving", "worldMapButton"), s(), e.prodigy.open.map()
		};
	Prodigy.Control.HUDButton.call(this, e, t, i, a, "icons-hud", "world-map", r.bind(this));
	var o = e.prodigy.world.getZone("house"),
		n = o.getState("hasClickedWorldMap") && o.isBreadcrumbComplete("moving", "worldMapButton");
	this.showIndicator(!Util.isDefined(n) || !n), e.broadcaster.addAppListener(Prodigy.Events.HUD.SET_CLICKED_WORLD_MAP, s.bind(this), this, "HUD", !1)
}, Prodigy.extends(Prodigy.Control.WorldMapButton, Prodigy.Control.HUDButton, {
	constructor: Prodigy.Control.WorldMapButton
}), Prodigy.Control.BackpackButton = function (e, t, i, a) {
	Prodigy.Control.HUDButton.call(this, e, t, i, a, "icons-hud", "items", e.prodigy.open.backpack.bind(e.prodigy.open))
}, Prodigy.extends(Prodigy.Control.BackpackButton, Prodigy.Control.HUDButton, {
	constructor: Prodigy.Control.BackpackButton
}), Prodigy.Control.SpellbookButton = function (e, t, i, a) {
	Prodigy.Control.HUDButton.call(this, e, t, i, a, "icons-hud", "spellbook", e.prodigy.open.character.bind(e.prodigy.open))
}, Prodigy.extends(Prodigy.Control.SpellbookButton, Prodigy.Control.HUDButton, {
	constructor: Prodigy.Control.SpellbookButton
}), Prodigy.Control.PetsButton = function (e, t, i, a) {
	Prodigy.Control.HUDButton.call(this, e, t, i, a, "icons-hud", "pets", e.prodigy.open.pets.bind(e.prodigy.open))
}, Prodigy.extends(Prodigy.Control.PetsButton, Prodigy.Control.HUDButton, {
	constructor: Prodigy.Control.PetsButton
}), Prodigy.Control.SocialButton = function (e, t, i, a) {
	Prodigy.Control.HUDButton.call(this, e, t, i, a, "icons-hud", "social", e.prodigy.open.social.bind(e.prodigy.open, Prodigy.Menu.Social.LEADERBOARD)), this.process(e.prodigy.mail.getMailCount()), e.prodigy.mail.addUpdateCallback(this.process.bind(this))
}, Prodigy.extends(Prodigy.Control.SocialButton, Prodigy.Control.HUDButton, {
	constructor: Prodigy.Control.SocialButton,
	process: function (e) {
		this.showIndicator(e > 0)
	}
}), Prodigy.Control.ChatButton = function (e, t, i, a) {
	var s = function () {
		e.broadcaster.broadcast(Prodigy.Events.HUD.OPEN_CHAT, "HUD", []), e.prodigy.open.chat(e.broadcaster.broadcast.bind(e.broadcaster, Prodigy.Events.HUD.CLOSE_CHAT, "HUD"))
	};
	Prodigy.Control.HUDButton.call(this, e, t, i, a, "icons-hud", "chat", s.bind(this))
}, Prodigy.extends(Prodigy.Control.ChatButton, Prodigy.Control.HUDButton, {
	constructor: Prodigy.Control.ChatButton
}), Prodigy.Control.MemberIconButton = function (e, t, i, a) {
	Prodigy.Control.HUDButton.call(this, e, t, i, a, "icons-hud", "membership", e.prodigy.open.membership.bind(e.prodigy.open))
}, Prodigy.extends(Prodigy.Control.MemberIconButton, Prodigy.Control.HUDButton, {
	constructor: Prodigy.Control.MemberIconButton
}), Prodigy.Control.SettingsButton = function (e, t, i, a) {
	Prodigy.Control.HUDButton.call(this, e, t, i, a, "icons-hud", "settings", e.prodigy.open.settings.bind(e.prodigy.open));
	var s = this.game.prodigy.player;
	!s.hasValidatedParentEmail() && s.hasCompletedTutorial() && this.showIndicator(!1)
}, Prodigy.extends(Prodigy.Control.SettingsButton, Prodigy.Control.HUDButton, {
	constructor: Prodigy.Control.SettingsButton
}), Prodigy.Control.EditHouseButton = function (e, t, i, a) {
	var s = function () {
		var t = e.prodigy.event.create();
		t.function(e.prodigy.world.teleport.bind(e.prodigy.world, "house-editor", null, null, e.prodigy.player, {
			time: 1,
			fadeIn: !0,
			fadeOut: !0
		})), t.start()
	};
	Prodigy.Control.HUDButton.call(this, e, t, i, a, "icons-hud", "edit", s.bind(this))
}, Prodigy.extends(Prodigy.Control.EditHouseButton, Prodigy.Control.HUDButton, {
	constructor: Prodigy.Control.EditHouseButton
}), Prodigy.Control.LockHouseButton = function (e, t, i, a) {
	Prodigy.Control.HUDButton.call(this, e, t, i, a, "icons-hud", "visiting-locked", this.onLockButtonClick.bind(this));
	var s = e.prodigy.world.getZone("house").getState("hasClickedLockButton");
	this.showIndicator(e.prodigy.player.hasCompletedTutorial() && (!Util.isDefined(s) || !s)), this.setAllowsVisiting(this.getAllowsVisiting())
}, Prodigy.extends(Prodigy.Control.LockHouseButton, Prodigy.Control.HUDButton, {
	constructor: Prodigy.Control.LockHouseButton,
	onLockButtonClick: function () {
		if (this.game.prodigy.player.hasCompletedTutorial() && !this.game.prodigy.world.getZone("house").getState("hasClickedLockButton")) {
			this.showIndicator(!1);
			var e = this.game.prodigy.world.getZone("house");
			e.setState("hasClickedLockButton", !0), e.setState("hasClickedHouseIcon", !0), e.setState("hasClickedWorldMap", !0), this.game.broadcaster.broadcast(Prodigy.Events.HUD.SET_CLICKED_WORLD_MAP, "HUD", [])
		}
		var t = this.getAllowsVisiting();
		if (this.game.prodigy.player.isMember) {
			t = !t;
			var i = t ? Prodigy.House.VISITING_UNLOCKED_TEXT : Prodigy.House.VISITING_LOCKED_TEXT;
			this.game.prodigy.open.message(i, null, null, null)
		} else this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.VISIT_HOUSE, null, {
			upgradeButtonClick: {
				action: "Click-Member-Upgrade-From-House-Lock-Toggle",
				value: ""
			}
		});
		this.game.prodigy.network.sendAnalytics("Click-House-Lock-Toggle", t ? "Visiting-Enabled" : "Visiting-Disabled"), this.setAllowsVisiting(t)
	},
	getAllowsVisiting: function () {
		return Util.isDefined(this.game.prodigy.player) && this.game.prodigy.player.getAllowsHouseVisitors()
	},
	setAllowsVisiting: function (e) {
		Util.isDefined(this.game.prodigy.player) && (!this.game.prodigy.player.isMember && e && (e = !1, Util.log("House.setAllowsVisiting - player is not a member but is trying to unlock house for visiting.  Defaulting to locked.", Util.INFO)), this.game.prodigy.player.setAllowsHouseVisitors(e)), this.sprite.frameName = e ? "visiting-unlocked" : "visiting-locked"
	}
}), Prodigy.Control.MoveHouseButton = function (e, t, i, a) {
	var s = GameConstants.get("GameConstants.Features.ENABLE_HOUSE_MOVING");
	Prodigy.Control.HUDButton.call(this, e, t, i, a, "icons-hud", "move", function () {
		if (s) {
			var t = e.prodigy.world.getZone("house");
			t.completeBreadcrumb("moving", "moveButton"), this.showIndicator(!1), this.game.broadcaster.broadcast(Prodigy.Events.HUD.SET_CLICKED_WORLD_MAP, "HUD", []), t.openHouseStore()
		} else this.game.prodigy.open.message("Coming soon!")
	}.bind(this));
	var r = s && e.prodigy.player.hasCompletedTutorial() && !e.prodigy.world.getZone("house").isBreadcrumbComplete("moving", "moveButton");
	this.showIndicator(r)
}, Prodigy.extends(Prodigy.Control.MoveHouseButton, Prodigy.Control.HUDButton, {
	constructor: Prodigy.Control.MoveHouseButton
}), Prodigy.Control.FriendsListButton = function (e, t, i, a) {
	Prodigy.Control.HUDButton.call(this, e, t, i, a, "icons-hud", "friendsList", e.prodigy.open.friendsList.bind(e.prodigy.open, null)), e.broadcaster.addAppListener(Prodigy.Events.FriendsList.GET_TOTAL_FRIEND_REQUESTS, this.process.bind(this), this, "FriendsList", !1), e.broadcaster.addAppListener(Prodigy.Events.FriendsList.REQUEST_RECEIVED, this.process.bind(this), this, "HUD", !1), e.broadcaster.addAppListener(Prodigy.Events.FriendsList.REQUEST_REJECTED, this.process.bind(this), this, "HUD", !1), e.broadcaster.addAppListener(Prodigy.Events.FriendsList.REQUEST_ACCEPTED, this.process.bind(this), this, "HUD", !1), e.broadcaster.addAppListener(Prodigy.Events.FriendsList.REQUEST_CANCELLED, this.process.bind(this), this, "HUD", !1);
	var s = e.prodigy.friendsListNetworkHandler;
	Util.isDefined(s.pendingRequests) ? this.showIndicator(s.pendingRequests > 0) : s.init(this.process.bind(this))
}, Prodigy.extends(Prodigy.Control.FriendsListButton, Prodigy.Control.HUDButton, {
	constructor: Prodigy.Control.FriendsListButton,
	process: function (e) {
		this.showIndicator(e > 0)
	}
}), Prodigy.Control.StackButton = function (e, t, i, a, s, r) {
	Prodigy.Control.Element.call(this, e, t), this.x = i, this.y = a, this.isActive = !0, this.callback = r, this.contents = this.game.prodigy.create.element(this, 0, 0);
	for (var o = !1, n = 0; n < s.length; n++) {
		var h = s[n];
		if (Util.isDefined(h.tag)) {
			var l = this.top = this.addImage(h.tag, h.x, h.y, h.w, h.h);
			o || (o = !0, l.inputEnabled = !0, l.events.onInputDown.add(this.onDown, this), l.events.onInputUp.add(this.onUp, this), l.events.onInputOver.add(this.onOver, this), l.events.onInputOut.add(this.onOut, this))
		} else Util.isDefined(h.text) && this.game.prodigy.create.font(this.contents, h.x || 0, h.y || 0, h.text, {
			width: 80,
			align: "center",
			size: Util.isDefined(h.size) ? h.size : 20
		})
	}
	GameConstants.get("GameConstants.Build.DEBUG") && Util.isDefined(h.tag) && this.game.broadcaster.addAppListener(Prodigy.Events.Debug.AUTO_CLICK, this.onDebugAutoClick.bind(this), this)
}, Prodigy.extends(Prodigy.Control.StackButton, Prodigy.Control.Element, {
	constructor: Prodigy.Control.StackButton,
	addImage: function (e, t, i, a, s) {
		var r = this.contents.add(this.game.prodigy.create.sprite(t || 0, i || 0, "icons", e));
		return Util.isDefined(a) && (r.width = a), Util.isDefined(s) && (r.height = s), r
	},
	enable: function (e) {
		Util.isDefined(this.top) && (this.top.tint = e ? 16777215 : 2236962), this.isActive = e
	},
	onDown: function () {
		this.isActive && (this.contents.y = 0, this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "pop"), Util.isDefined(this.callback) && this.callback())
	},
	onUp: function () {
		this.isActive && (this.contents.y = -3)
	},
	onOver: function () {
		this.isActive && (this.contents.y = -3)
	},
	onOut: function () {
		this.isActive && (this.contents.y = 0)
	},
	setActive: function () {
		this.isActive = !0
	},
	setInactive: function () {
		this.isActive = !1, this.contents.y = 0
	},
	select: function () {
		this.y = this.oldY || this.y, this.oldY = this.y, Util.isDefined(this.tween) && this.tween.stop(), this.tween = this.game.add.tween(this).to({
			y: this.y - 10
		}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0)
	},
	deselect: function () {
		this.isActive = !0, Util.isDefined(this.tween) && (this.tween.stop(), this.tween = null), this.y = this.oldY || this.y
	},
	onDebugAutoClick: function (e) {
		Util.isDefined(this.top.frameName) && (Util.isDefined(e) ? e === this.top.frameName && this.onDown() : Util.log("Button Stack Tag: " + this.top.frameName))
	}
}), Prodigy.Control.AdvButton = function (e, t, i, a, s, r, o, n) {
	if (Prodigy.Control.Element.call(this, e, t, i, a), this.isActive = !0, this.callback = r, this.content = this.game.prodigy.create.element(this), this.sprite = this.content.add(this.game.prodigy.create.sprite(0, 0, "core", "btn-core")), this.sprite.inputEnabled = !0, this.sprite.events.onInputDown.add(this.onDown, this), this.sprite.events.onInputUp.add(this.onUp, this), this.sprite.events.onInputOver.add(this.onOver, this), this.sprite.events.onInputOut.add(this.onOut, this), Util.isDefined(s.icon)) {
		var o = Util.isDefined(s.icon.forcedWidth) ? s.icon.forcedWidth : null,
			n = Util.isDefined(s.icon.forcedHeight) ? s.icon.forcedHeight : null,
			h = this.content.add(this.game.prodigy.create.sprite(0, 0, s.atlas || Items.getIconAtlas(s.icon), Items.getIconFrame(s.icon), !1, null, o, n));
		h.x = Math.floor((this.sprite.width - h.width) / 2), h.y = Math.floor((this.sprite.height - h.height) / 2), h.alpha = .4
	}
	Util.isDefined(s.top) && this.game.prodigy.create.font(this.content, 5, 8, s.top, {
		size: 16,
		align: "center",
		width: this.sprite.width - 10
	}), Util.isDefined(s.bot) && this.game.prodigy.create.font(this.content, 5, this.sprite.height - 33, s.bot, {
		size: 16,
		align: "center",
		width: this.sprite.width - 10
	})
}, Prodigy.extends(Prodigy.Control.AdvButton, Prodigy.Control.Element, {
	constructor: Prodigy.Control.AdvButton,
	onDown: function () {
		this.isActive && !this.disabled && (this.content.y = 0, this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "pop"), Util.isDefined(this.callback) && this.callback())
	},
	onUp: function () {
		this.isActive && !this.disabled && (this.content.y = -3)
	},
	onOver: function () {
		this.isActive && !this.disabled && (this.content.y = -3)
	},
	onOut: function () {
		this.isActive && !this.disabled && (this.content.y = 0)
	},
	disable: function () {
		this.setActive(!1), this.disabled = !0
	},
	enable: function () {
		this.setActive(!0), this.disabled = !1
	},
	setActive: function (e) {
		this.disabled || (this.isActive = e, this.sprite.tint = e ? 16777215 : 5789784, this.content.y = 0)
	}
}), Prodigy.Control.PanelButton = function (e, t, i, a, s, r, o, n) {
	Prodigy.Control.Element.call(this, e, t, i, a), this.isActive = !0, this.callback = n, this.content = this.game.prodigy.create.element(this), this.btn = this.game.prodigy.create.panel(this.content, 0, 0, s, r, o), this.btn.setClickable(this.onDown.bind(this), this.onUp.bind(this), this.onOver.bind(this), this.onOut.bind(this))
}, Prodigy.extends(Prodigy.Control.PanelButton, Prodigy.Control.Element, {
	constructor: Prodigy.Control.PanelButton,
	onDown: function () {
		this.isActive && (this.content.y = 0, this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "pop"), Util.isDefined(this.callback) && this.callback())
	},
	onUp: function () {
		this.isActive && (this.content.y = -3)
	},
	onOver: function () {
		this.isActive && (this.content.y = -3)
	},
	onOut: function () {
		this.isActive && (this.content.y = 0)
	},
	setActive: function (e) {
		this.isActive = e, this.content.y = 0
	}
}), Prodigy.Control.Menu = function (e, t, i, a) {
	this.menuID = i, this.style = Util.isDefined(a) ? a : {
		hideMenu: !0,
		hideContent: !0,
		tile: "bg-tile-brown"
	}, e.prodigy.open.menuOpen(!this.style.hideMenu), Prodigy.Control.Element.call(this, e, t), this.style.hideOverlay || (this.overlay = this.game.prodigy.create.sprite(0, 0, "core", "overlay-small"), this.overlay.width = this.game.world.width, this.overlay.height = this.game.world.height, this.overlay.alpha = .01, this.overlay.inputEnabled = !0, this.add(this.overlay)), this.isHidden = !1
}, Prodigy.extends(Prodigy.Control.Menu, Prodigy.Control.Element, {
	constructor: Prodigy.Control.Menu,
	hide: function (e) {
		e ? (this.isHidden = !0, this.visible = !1) : this.isHidden && (this.isHidden = !1, this.visible = !0)
	},
	setup: function () {
		this.loadComplete()
	},
	loadComplete: function () {
		this.alive && (Util.isDefined(this.spinner) && this.spinner.destroy(), this.menuSetup())
	},
	menuSetup: function () {
		Util.isDefined(this.style.open) && this.style.open(), this.bg = this.game.prodigy.create.element(this, 0, 0), this.style.tile && this.setBackgroundTile("core", this.style.tile, .25, .25, this.style.full), this.fg = this.game.prodigy.create.element(this, 0, 0), this.style.hideContent && (this.game.enableBackground(!1), this.game.enableContent(!1))
	},
	showFrame: function (e, t, i, a) {
		if (this.fg.add(new Phaser.TileSprite(this.game, 0, 0, this.game.world.width, 50, "core", "panel-mid")), this.fg.add(new Phaser.TileSprite(this.game, 0, 50, this.game.world.width, 50, "core", "panel-top2")), this.fg.add(new Phaser.TileSprite(this.game, 0, 620, this.game.world.width, 50, "core", "panel-top")), this.fg.add(new Phaser.TileSprite(this.game, 0, 670, this.game.world.width, 50, "core", "panel-mid")), Util.isDefined(e)) {
			this.fg.add(this.game.prodigy.create.sprite(30, 5, "icons", "icon-base"));
			var s = this.fg.add(this.game.prodigy.create.sprite(30, 5, Items.getIconAtlas(e), Items.getIconFrame(e), !1, null, 80, 80));
			s.x += Math.floor((80 - s.width) / 2), s.y += Math.floor((80 - s.height) / 2)
		}
		if (Util.isDefined(t) && (this.title = this.game.prodigy.create.font(this.fg, 125, 10, t, {
				font: "button",
				size: 36
			})), Util.isDefined(i)) {
			var r = this.game.prodigy.create.element(this.fg, 0, 5);
			this.btns = [];
			for (var o = 0; o < i.length; o++) {
				var n = i[o];
				r.add(this.game.prodigy.create.sprite(90 * o, 0, "icons", "icon-base-active")), this.btns[o] = this.game.prodigy.create.button(r, 90 * o, 0, Items.getIconAtlas(n.icon), Items.getIconFrame(n.icon), this.clickBtn.bind(this, o, this.btns, n.callback, n.title), !0, null, !1, 80, 80), this.btns[o].oldY = this.btns[o].y
			}
			r.x = 1250 - r.width, Util.isDefined(a) && this.btns[a].onDown()
		}
	},
	clickBtn: function (e, t, i, a) {
		if (this.currentBtn !== e) {
			this.currentBtn = e, Util.isDefined(a) && Util.isDefined(this.title) && this.title.setText(a);
			for (var s = 0; s < t.length; s++) this.game.tweens.removeFrom(t[s], !1), t[s].y = t[s].oldY;
			this.game.add.tween(t[e]).to({
				y: t[e].y - 10
			}, 500, Phaser.Easing.Quadratic.Out).to({
				y: t[e].y
			}, 500, Phaser.Easing.Quadratic.In).loop().start(), i()
		}
	},
	showBtns: function (e, t) {
		if (Util.isDefined(t))
			for (var i = 0, a = t.length - 1; a >= 0; a--) t[a].y = 650, i += t[a].width, t[a].x = 1230 - i, i += 30;
		if (Util.isDefined(e))
			for (var i = 0, a = 0; a < e.length; a++) e[a].y = 650, e[a].x = 50 + i, i += e[a].width + 30
	},
	update: function () {
		Prodigy.Control.Element.prototype.update.call(this), this.setupComplete && this.menuUpdate()
	},
	menuUpdate: function () {
		Util.isDefined(this.bar) && (this.bar.tilePosition.x += this.barSpeedX, this.bar.tilePosition.y += this.barSpeedY)
	},
	close: function () {
		Util.isDefined(this.game) && (this.style.hideContent && (this.game.enableBackground(!0), this.game.enableContent(!0)), this.game.prodigy.open.menuOpen(!0), Util.isDefined(this.style.close) && this.style.close(), this.game.prodigy.open.close(this), this.destroy())
	},
	setBackgroundTile: function (e, t, i, a, s) {
		Util.isDefined(this.bar) && this.bar.destroy(), this.bg.removeAll(!0), this.bar = s ? new Phaser.TileSprite(this.game, 0, 0, this.game.world.width, this.game.world.height, e, t) : new Phaser.TileSprite(this.game, 0, 100, this.game.world.width, this.game.world.height - 200, e, t), this.bar.tilePosition.x = -6, this.bar.tilePosition.y = -20, this.bg.add(this.bar), this.barSpeedX = i || this.barSpeedX, this.barSpeedY = a || this.barSpeedY
	}
}), Prodigy.RenderMenu = function (e, t, i, a, s) {
	Prodigy.Control.Element.call(this, e, t, i, a), this.renderTexture = s, this.game = e, this.background = e.prodigy.create.element(this), this.renderTexture.clear(), this.renderImage = this.add(new Phaser.Image(e, 0, 0, this.renderTexture)), this.renderImage.inputEnabled = !0, this.page = 0
}, Prodigy.extends(Prodigy.RenderMenu, Prodigy.Control.Element, {
	constructor: Prodigy.RenderMenu,
	setActive: function (e) {
		this.visible = e, e && this.process(), this.disableModeSet || this.setMode(this.page || 0)
	},
	addTransparent: function (e) {
		var t = this.background.add(this.game.prodigy.create.sprite(-10, -10, "core", "overlay-small"));
		t.width = 1300, t.height = 740, t.alpha = Util.isDefined(e) ? e : .5
	},
	addBackground: function (e) {
		for (var t = 0; 32 > t; t++)
			for (var i = 0; 18 > i; i++) this.background.add(new Phaser.Image(this.game, 40 * t, 40 * i, "core", e))
	},
	addPanel: function () {},
	createBaseSetup: function (e, t, i, a, s, r, o) {
		this.disableModeSet = r;
		var n = this.game.prodigy.create.element(this, (1280 - 40 * e) / 2, (720 - 40 * t) / 2);
		if (n.setRenderState(!0), this.game.prodigy.create.panel(n, 0, 0, e, t, i), Util.isDefined(s) && s.length > 0) this.game.prodigy.create.panel(n, 40, 40, 6 + 3 * s.length, 2, "banner");
		else if (Util.isDefined(o)) {
			var h = this.game.prodigy.create.panel(n, 40, 40, 18, 2, "banner");
			this.game.prodigy.create.font(h, 200, 15, o, {
				size: 36,
				font: "button"
			})
		}
		if (this.game.prodigy.create.button(this, n.x + 40 * (e - 1), n.y - 10, "icons", "close", this.close.bind(this)), this.buttons = [], Util.isDefined(s) && s.length > 0) {
			Util.isDefined(a) && (n.add(this.game.prodigy.create.sprite(80, -10, "icons", "menu-crest")), this.game.prodigy.create.font(n, 80, 70, a, {
				width: 140,
				align: "center"
			}));
			for (var l = 0; l < s.length; l++) this.buttons.push(this.game.prodigy.create.advButton(this, n.x + 240 + 120 * l, n.y + 30, s[l], this.setMode.bind(this, l)))
		}
		return n
	},
	setMode: function (e) {
		if (Util.isDefined(this.buttons))
			for (var t = 0; t < this.buttons.length; t++) this.buttons[t].setActive(e !== t)
	},
	startLoad: function (e, t) {
		this.game.prodigy.load.assets(e, t)
	},
	process: function () {
		this.renderTexture.clear(), this.background.visible = !0, this.renderTexture.renderXY(this.background, 0, 0, !0), this.background.visible = !1;
		for (var e = 0; e < this.children.length; e++) {
			var t = this.children[e];
			t instanceof Prodigy.Control.Element && (t.tintElement && t.setAllChildren("tint", 10066329), t.renderOnly ? (t.visible = !0, this.renderTexture.renderXY(t, t.x, t.y), t.visible = !1) : t.visible = !0)
		}
	},
	init: function (e) {
		e.add(this), this.process()
	},
	close: function () {
		Util.isDefined(this.game) && Util.isDefined(this.game.prodigy) && this.game.prodigy.open.setActiveRenderMenu();
		try {
			Util.isDefined(this.onClose) && this.onClose.apply(this, arguments)
		} catch (e) {}
		this.destroy()
	},
	create: function () {
		this.game.prodigy.open.setActiveRenderMenu(this), this.process()
	}
});
var Attack = function () {
	function e(e, t, i, a, s, r, o, n, h, l, d) {
		this.game = e, this.CRITICAL_HIT_THRESHOLD = .15, this.criticalThresholdBonus = 0, this.source = t, this.target = i, this.element = o, this.callback = h, this.atk = n, this.miss = l, this.mods = d, this.underLayer = this.game.prodigy.create.element(a, 0, 0), this.overLayer = this.game.prodigy.create.element(s, 0, 0), this.setup(), this.game.time.events.add(r + 1e3, this.complete, this), this.delayComplete = !1, this.potionActive = !1, this.shieldTime = 0
	}
	return e.prototype.setup = function (e, t) {
		this.miss ? this.game.time.events.add(e, this.missed, this) : (Util.isDefined(e) && this.game.time.events.add(e, this.damage, this), Util.isDefined(t) && this.game.time.events.add(t, this.heal, this))
	}, e.prototype.calculateDamageDone = function () {
		var e = Util.isDefined(this.mod) ? this.mod : 0,
			t = 1;
		if (e += this.source.source.getDamageBonus(), Util.isDefined(this.mods) && (Util.isDefined(this.mods.dmgMod) && (e += this.mods.dmgMod), Util.isDefined(this.mods.comboBonus) && (t = this.mods.comboBonus)), this.damageDone = this.game.prodigy.attacks.calculateDamage(this.atk, this.source.source, this.target.source, e, t), this.damageDone > 0 && "PVP" !== this.game.state.current && (this.damageDone = Math.round(this.damageDone * (.95 + .1 * Math.random()))), this.criticalThresholdBonus = 0, Util.isDefined(this.source.source.modifiers) && (this.damageDone = Math.round(this.damageDone * this.source.source.modifiers.damage), Util.isDefined(this.source.source.modifiers.potion))) {
			var i = Items.getItemData("item", this.source.source.modifiers.potion);
			"damage" === i.element ? (this.damageDone += i.potency * this.damageDone / 10, this.damageDone = Math.round(this.damageDone)) : "critical" === i.element && (this.criticalThresholdBonus = i.potency > 1 ? 1 : this.CRITICAL_HIT_THRESHOLD)
		}
	}, e.prototype.processStars = function () {
		var e = this.target.source.getStarRewardByDamage(this.damageDone);
		Util.isDefined(this.mods) && (e *= this.mods.starMod), this.source.source.addStars(e, !0)
	}, e.prototype.damage = function () {
		this.calculateDamageDone(), Util.isDefined(this.atk.type) && "epic-attack" === this.atk.type && (Util.isDefined(this.epic) ? this.game.prodigy.effects.characterImage(this.game.prodigy.create.sprite(this.epic.x, this.epic.y - 50, "battle", "text-epic-attack")) : this.game.prodigy.effects.characterImage(this.game.prodigy.create.sprite(this.source.x, this.source.y - 50, "battle", "text-epic-attack"))), this.potionActive = !1, this.shieldTime = 0;
		var e = 0;
		if (Util.isDefined(this.target.source.modifiers) && Util.isDefined(this.target.source.modifiers.potion)) {
			var t = Items.getItemData("item", this.target.source.modifiers.potion);
			if (Util.isDefined(t.subType) && "elemental" === t.subType && Util.isDefined(this.atk.element) && ("all" === t.element || this.atk.element === t.element)) {
				this.potionActive = !0, this.shieldTime = 1e3, e = t.potency * this.damageDone / 10, this.damageDone -= Math.round(e);
				var i = this.target.sprites.add(this.game.prodigy.create.sprite(0, -75, "icons", "potion-buff-" + t.element));
				i.anchor.setTo(.5, .5);
				var a = this.game.add.tween(i).to({
						alpha: 0
					}, 1300, Phaser.Easing.Quadratic.Out),
					s = this.game.add.tween(i.scale).to({
						x: 4,
						y: 4
					}, 1300, Phaser.Easing.Quadratic.Out);
				a.start(), s.onComplete.add(function () {
					i.destroy()
				}, i), s.start()
			}
		}
		var r = "",
			o = Math.random() < this.CRITICAL_HIT_THRESHOLD + this.criticalThresholdBonus && "PVP" !== this.game.state.current || "epic-attack" === this.atk.type;
		o ? (this.damageDone = Math.round(1.25 * this.damageDone), this.game.prodigy.effects.characterImage(this.game.prodigy.create.sprite(this.target.x, this.source.y + 50, "battle", "text-critical-hit"), 1e3 + this.shieldTime), r = "critical-hit") : r = "normal-hit", this.processStars(), this.lastTargetHp = this.target.source.getCurrentHearts(), this.target.source.changeCurrentHearts(-this.damageDone), this.game.prodigy.effects.characterText("-" + this.damageDone, this.target.x, this.source.y, this.shieldTime, {
			size: 1,
			font: "battle",
			mono: 44
		}), this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.BATTLE, r);
		var n = null;
		o || 0 !== this.target.source.modifiers.ignoreElement || (this.game.prodigy.attacks.isStrong(this.atk.element, this.target.source.getElement()) ? n = "Powerful!" : this.game.prodigy.attacks.isWeak(this.atk.element, this.target.source.getElement()) && (n = "Weak...")), Util.isDefined(n) && (this.delayComplete = !0, this.game.prodigy.effects.characterText(n, this.target.x, this.source.y + 50, 1e3 + this.shieldTime))
	}, e.prototype.display = function (e, t) {
		if (Util.isDefined(t)) {
			var i = this.game.prodigy.create.font(this.overLayer, e.x, e.y, t, {
				size: 40
			});
			i.x = e.x - i.width >> 1, i.y -= 150;
			var a = this.game.add.tween(i).to({
				y: "-100"
			}, 1300, Phaser.Easing.Quadratic.Out).to({
				alpha: 0
			}, 200, Phaser.Easing.Quadratic.Out);
			a.onComplete.add(function () {
				i.destroy()
			}, i), a.start()
		}
	}, e.prototype.missed = function () {
		this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.BATTLE, "miss"), this.game.prodigy.effects.fadeFlyingImage(this.target.x, this.target.y - (this.target.height >> 1), "battle", this.game.prodigy.affixes.getDodge() > 1 ? "text-dodged" : "text-miss")
	}, e.prototype.heal = function () {
		var e = Util.isDefined(this.damageDone);
		Util.isDefined(this.damageDone) || this.calculateDamageDone();
		var t = Math.floor(.5 * this.damageDone);
		this.target.source.getCurrentHearts() <= 0 && (t = Math.floor(.5 * this.lastTargetHp)), this.source.source.changeCurrentHearts(t), e || (this.damageDone = 0, this.processStars());
		var i = this.game.prodigy.event.create();
		i.sound(Prodigy.Controller.AudioController.SFX_PACKS.UI, "heart"), i.delay(200), i.sound(Prodigy.Controller.AudioController.SFX_PACKS.UI, "heart"), i.delay(200), i.sound(Prodigy.Controller.AudioController.SFX_PACKS.UI, "heart"), i.start(), this.game.prodigy.effects.characterText("+" + t, this.source.x, this.source.y, 0 + this.shieldTime, {
			size: 3,
			font: "battle",
			mono: 44
		})
	}, e.prototype.showOverlay = function (e, t, i, a, s) {
		var r = e;
		this.overLayer.add(r), this.game.add.tween(r.tilePosition).to({
			x: i * t,
			y: a * t
		}, t, Phaser.Easing.Linear.None).delay(s).start(), this.game.add.tween(r).to({
			alpha: 0
		}, 100, Phaser.Easing.Linear.None).delay(s + t - 100).start()
	}, e.prototype.complete = function () {
		this.underLayer.destroy(), this.overLayer.destroy(), this.game.time.events.add(this.delayComplete ? 1e3 + this.shieldTime : 300 + this.shieldTime, this.callback, this)
	}, e
}();
Attack.BX = 2e3, Attack.BY = 1e3, Prodigy.Control.ScrollBar = function (e, t, i, a, s, r) {
	Prodigy.Control.Element.call(this, e, t, i, a), this.page = 0, this.callback = r, this.height = s, this.maxY = 50 + s - 100, this.minY = 50, this.add(new Phaser.TileSprite(this.game, 0, 25, 50, s - 50, "core", "panel-side")), this.add(new Phaser.TileSprite(this.game, 50, 25, 50, s - 50, "core", "panel-side2")), this.scroll = this.add(this.game.prodigy.create.sprite(0, 50, "core", "btn-mini")), this.up = this.game.prodigy.create.textButton(this, 0, 0, {
		icon: "up",
		size: Prodigy.Control.TextButton.MINI
	}, this.click.bind(this, -1)), this.up.icon.x = 25, this.down = this.game.prodigy.create.textButton(this, 0, s - 50, {
		icon: "down",
		size: Prodigy.Control.TextButton.MINI
	}, this.click.bind(this, 1)), this.down.icon.x = 25
}, Prodigy.extends(Prodigy.Control.ScrollBar, Prodigy.Control.Element, {
	constructor: Prodigy.Control.ScrollBar,
	setPages: function (e, t) {
		this.page = t || 0, this.pages = e, this.diff = (this.height - 100 - 50) / Math.max(1, e - 1), this.click(0)
	},
	click: function (e) {
		this.page = this.page + e, this.page < 0 && (this.page = 0), this.page >= this.pages && (this.page = this.pages - 1), 0 === this.page ? this.up.setInactive() : this.up.setActive(), this.page === this.pages - 1 ? this.down.setInactive() : this.down.setActive(), this.scroll.y = 50 + this.diff * this.page, this.scroll.y < 50 && (this.scroll.y = 50), this.callback(this.page)
	}
}), Prodigy.Control.Slider = function (e, t, i, a, s, r, o) {
	Prodigy.Control.Element.call(this, e, t, i, a), this.len = s - 100, this.isVertical = r, o && (this.game.input.mouse.mouseWheelCallback = this.onScroll.bind(this)), this.bar = this.isVertical ? this.add(new Phaser.TileSprite(this.game, 50, 0, s, 50, "core", "slider")) : this.add(new Phaser.TileSprite(this.game, 0, 0, s, 50, "core", "slider")), this.bar.inputEnabled = !0, this.bar.events.onInputDown.add(this.barClick, this), this.lower = this.isVertical ? this.game.prodigy.create.button(this, 50, 0, "core", "arrow-btn-back", this.btnClick.bind(this, -1)) : this.game.prodigy.create.button(this, 0, 0, "core", "arrow-btn-back", this.btnClick.bind(this, -1, !0)), this.lower.setInactive(), this.higher = this.isVertical ? this.game.prodigy.create.button(this, 50, this.len + 50, "core", "arrow-btn-next", this.btnClick.bind(this, 1)) : this.game.prodigy.create.button(this, this.len + 50, 0, "core", "arrow-btn-next", this.btnClick.bind(this, 1, !0)), this.higher.setInactive(), this.isVertical && (this.bar.angle = 90, this.lower.angle = 90, this.higher.angle = 90);
	var n = this.isVertical ? new Phaser.Rectangle(0, 50, 50, this.len) : new Phaser.Rectangle(50, 0, this.len, 50);
	this.slide = this.isVertical ? this.add(this.game.prodigy.create.sprite(n.x, n.y, "core", "btn-white")) : this.add(this.game.prodigy.create.sprite(n.x, n.y, "core", "btn-white")), this.slide.anchor.setTo(this.isVertical ? 0 : .5, this.isVertical ? .5 : 0), this.slide.visible = !1, this.slide.inputEnabled = !0, this.slide.input.enableDrag(), this.slide.input.boundsRect = n, this.slide.events.onDragStop.add(this.onDragStop, this)
}, Prodigy.extends(Prodigy.Control.Slider, Prodigy.Control.Element, {
	constructor: Prodigy.Control.Slider,
	destroy: function (e, t) {
		Util.isDefined(this.game) && Util.isDefined(this.game.input.mouse.mouseWheelCallback) && delete this.game.input.mouse.mouseWheelCallback, Phaser.Group.prototype.destroy.call(this, e, t)
	},
	reset: function (e, t, i, a) {
		this.timeHeld = 0, this.isOver = !1, this.itemsPerPage = t || 1, this.items = e, this.callback = a, this.paging = 0 > i ? this.itemsPerPage : 1, i >= 0 ? (this.page = Math.max(0, i - t), this.pages = Math.max(1, this.items - this.itemsPerPage + 1)) : (this.page = 0, this.pages = Math.max(1, Math.ceil(this.items / this.itemsPerPage))), this.inc = this.pages > 1 ? (this.len - 50) / (this.pages - 1) : this.len - 50, this.slide.visible = this.pages > 1, this.btnClick(0, !0), this.callback(this.page * this.paging)
	},
	onDragStop: function () {
		var e = 0;
		e = this.isVertical ? Math.round((this.slide.y - 50 - 25) / this.inc) : Math.round((this.slide.x - 50 - 25) / this.inc), this.btnClick(e - this.page, !0)
	},
	barClick: function (e, t) {
		var i = 0;
		i = this.isVertical ? Math.round((t.y - this.bar.world.y - 50 - 25) / this.inc) : Math.round((t.x - this.bar.world.x - 50 - 25) / this.inc), this.btnClick(i - this.page, !0)
	},
	process: function () {
		this.game.input.mouse.mouseWheelCallback = this.onScroll.bind(this), this.callback(this.page * this.paging)
	},
	btnClick: function (e, t) {
		var i = this.page;
		this.page += e, this.page > this.pages - 1 && (this.page = this.pages - 1), this.page < 0 && (this.page = 0), 0 === this.page ? this.lower.setInactive() : this.lower.setActive(), this.page === this.pages - 1 ? this.higher.setInactive() : this.higher.setActive(), this.isVertical ? this.slide.y = 75 + Math.round(this.inc * this.page) : this.slide.x = 75 + Math.round(this.inc * this.page), i !== this.page && this.callback(this.page * this.paging), t || (this.timeHeld = this.game.time.now)
	},
	onScroll: function () {
		(Util.isDefined(this.game) && this.visible && this.isConfined && this.isOver || !this.isConfined) && this.btnClick(-Math.floor(this.game.input.mouse.wheelDelta), !0)
	}
}), Prodigy.Control.BitmapFont = function (e, t, i, a, s, r) {
	Phaser.Group.call(this, e, t), this.x = i, this.y = a, this.sprites = [], r = r || {}, this.boundsWidth = r.width || 1280, this.fontSize = r.size || 20, this.align = r.align, this.font = r.font || "general", this.fontName = "font-" + this.font, this.lineHeight = r.lineHeight, this.monoSpace = r.mono, this.iconOffsetY = r.iconOffsetY || 0, this.icons = [], Util.isDefined(s) && this.setText(s)
}, Prodigy.extends(Prodigy.Control.BitmapFont, Phaser.Group, {
	constructor: Prodigy.Control.BitmapFont,
	setText: function (e) {
		if (Util.isDefined(this.game)) {
			var t = 0,
				i = 0,
				a = 0,
				s = [];
			this.text = e;
			for (var r = 0, o = null, n = 0; n < this.sprites.length; n++) this.sprites[n].kill();
			for (var h = 0; h < e.length; h++) {
				var l = e.charCodeAt(h),
					d = null;
				if (91 !== l) {
					if (93 === l) d = o, o = null;
					else if (Util.isDefined(o)) {
						r++, o += e[h];
						continue
					}
					var n = h - r,
						p = this.monoSpace || 10;
					if (n >= this.sprites.length) {
						var c = this.game.prodigy.create.sprite(t, i, this.fontName);
						this.add(c), this.sprites.push(c)
					} else this.sprites[n].revive();
					if (this.sprites[n].x = t, this.sprites[n].y = i, Util.isDefined(d) ? ("icons" !== this.sprites[n].key && this.sprites[n].loadTexture("icons"), this.sprites[n].frameName = d, this.sprites[n].y += this.iconOffsetY) : (this.sprites[n].key !== this.fontName && this.sprites[n].loadTexture(this.fontName), 10 !== l && (this.sprites[n].frameName = l + "-" + this.fontSize)), 32 === l || h === e.length - 1 || 10 === l) {
						var g = this.lineHeight || this.fontSize + 5;
						if (t >= this.boundsWidth) {
							var u = t;
							t = 0, i += g;
							for (var y = a; n >= y; y++) this.sprites[y].x = t, this.sprites[y].y = i, "icons" === this.sprites[y].key && (this.sprites[y].y += (this.sprites[y].height - this.fontSize) / 2), t += this.monoSpace || this.sprites[y].width;
							s.push(u - t)
						} else 10 === l && (this.sprites[n].kill(), i += g, t = 0);
						a = n + 1, 32 === l && (t += p)
					}
					10 !== l && (t += this.monoSpace || this.sprites[n].width), h === e.length - 1 && s.push(t)
				} else r++, o = ""
			}
			if (this.lines = s.length, Util.isDefined(this.align) && "left" !== this.align)
				for (var m = -1, f = 0, h = -1, n = 0; n < this.sprites.length; n++) {
					var c = this.sprites[n];
					m !== c.y && (m = c.y, h++, Util.isDefined(s[h]) && ("center" === this.align ? f = Math.floor((this.boundsWidth - s[h]) / 2) : "right" === this.align && (f = Math.floor(this.boundsWidth - s[h])))), c.x += f
				}
		}
	},
	setCenterAnchor: function () {
		for (var e = this.width >> 1, t = this.height >> 1, i = 0; i < this.sprites.length; i++) this.sprites[i].x -= e, this.sprites[i].y -= t
	},
	addClickCallback: function (e, t, i) {
		var a = this.add(this.game.prodigy.create.sprite(0, 0, "core", "overlay-light"));
		a.width = t, a.height = i, a.alpha = 0, a.inputEnabled = !0, a.events.onInputDown.add(e)
	}
}), Prodigy.Control.InputField = function (e, t, i, a, s, r, o, n) {
	Prodigy.Control.Element.call(this, e, t);
	var h = h || "";
	this.input = document.createElement("input"), this.input.setAttribute("value", h), this.input.setAttribute("id", i), this.input.setAttribute("class", "game-input"), this.input.setAttribute("autocapitalize", "off"), this.ID = "#" + i;
	var t = document.getElementById("external-ui");
	t.appendChild(this.input), this.canvas = $("#game-container canvas"), this.x = s, this.y = r, this.twidth = o, this.theight = n, this.createEvents()
}, Prodigy.Control.InputField.HEIGHT_SMALL = 30, Prodigy.Control.InputField.HEIGHT_MEDIUM = 45, Prodigy.Control.InputField.WIDTH_MEDIUM = 300, Prodigy.Control.InputField.WIDTH_LARGE = 450, Prodigy.extends(Prodigy.Control.InputField, Prodigy.Control.Element, {
	constructor: Prodigy.Control.InputField,
	createEvents: function () {
		this.allowEvents = !0, $(this.ID).on("focus", null, {
			game: this.game
		}, this.focus.bind(this, !0)), $(this.ID).on("focusout", null, {
			game: this.game
		}, this.focus.bind(this, !1))
	},
	focus: function (e) {
		this.allowEvents && (e ? this.game.input.keyboard.clearCaptures() : this.game.input.keyboard.addKeyCapture([Phaser.Keyboard.BACKSPACE]))
	},
	setFocus: function (e) {
		e && $(this.ID).focus()
	},
	clearEvents: function (e) {
		this.allowEvents = e
	},
	setAttribute: function (e, t) {
		this.input.setAttribute(e, t)
	},
	getValue: function () {
		return $(this.ID).val()
	},
	setValue: function (e) {
		$(this.ID).val(e)
	},
	hide: function (e) {
		this.visible = !1, $(this.ID).fadeOut(e), Util.isDefined(this.label) && (this.label.alpha = 0), $(this.ID).focusout()
	},
	show: function (e, t) {
		this.visible = !0, Util.isDefined(t) ? setTimeout(this.fadeIn.bind(this, e), t) : this.fadeIn(e)
	},
	fadeIn: function (e) {
		$(this.ID).fadeIn(e), Util.isDefined(this.label) && (this.label.alpha = 1)
	},
	setEnabled: function (e) {
		$(this.ID).attr("disabled", !e)
	},
	destroy: function () {
		$(this.ID).focusout(), $(this.ID).remove(), Prodigy.Control.Element.prototype.destroy.call(this)
	},
	getWidth: function () {
		return $(this.ID).width()
	},
	getHeight: function () {
		return $(this.ID).height()
	},
	setLabel: function (e, t, i, a) {
		var a = a || this.x + 10;
		Util.isDefined(this.label) ? this.label.setText(t) : this.label = this.game.prodigy.create.font(e, a, this.y - 30, t, {
			size: 20
		})
	},
	update: function () {
		Prodigy.Control.Element.prototype.update.call(this);
		var e = this.canvas.height() / this.game.world.height;
		$(this.ID).height(e * this.theight);
		var t = this.canvas.width() / this.game.world.width;
		$(this.ID).width(t * this.twidth);
		var i = e * this.y,
			a = t * this.x + parseInt($("#game-container canvas").css("margin-left")),
			s = e * this.theight / 2;
		$(this.ID).css({
			top: i,
			left: a,
			"font-size": s + "px"
		})
	}
}), Prodigy.Control.InputField.createInputField = function (e, t, i, a, s, r, o, n, h) {
	$("#" + i) && $("#" + i).remove();
	var h = h || "textProdigy123",
		l = new Prodigy.Control.InputField(e, t, i, a, s, r, o - 15, n);
	return l.setAttribute("type", h), l
}, Prodigy.Control.TextButton = function (e, t, i, a, s, r) {
	Prodigy.Control.Element.call(this, e, t), this.x = i, this.y = a, this.callback = r, this.btnGroup = this.game.prodigy.create.element(this, 0, 0), s = s || {};
	var o, n = s.size || Prodigy.Control.TextButton.SMALL;
	switch (n) {
	case Prodigy.Control.TextButton.CONFIRM:
		o = "btn-med-confirm";
		break;
	case Prodigy.Control.TextButton.TALL:
		o = "btn-tall";
		break;
	case Prodigy.Control.TextButton.MED:
		o = "btn-med";
		break;
	case Prodigy.Control.TextButton.MINI:
		o = "btn-mini";
		break;
	case Prodigy.Control.TextButton.LG:
		o = "btn-lg";
		break;
	case Prodigy.Control.TextButton.GRADE:
		o = "btn-grade";
		break;
	default:
		o = "btn-small"
	}
	var h = s.text || "",
		l = 0,
		d = s.textY || 0,
		p = n - 85,
		c = s.atlas || "icons",
		g = s.icon,
		u = Util.isDefined(s.needsMemberIcon) && s.needsMemberIcon;
	if (this.iconSide = s.iconSide, this.bg = this.game.prodigy.create.sprite(0, 0, "core", o), this.btnGroup.add(this.bg), g ? (this.icon = this.btnGroup.add(this.game.prodigy.create.sprite(0, 0, c, g)), this.setIcon(g), l = "right" === s.iconSide ? 10 : this.icon.width + 15, p = this.bg.width - 25 - this.icon.width) : (p = n - 20, l = 10), this.text = this.game.prodigy.create.font(this.btnGroup, l, d, "" + h, {
			size: 36,
			font: "button",
			width: p,
			align: "center"
		}), u) {
		var y = this.game.prodigy.create.sprite(0, 0, "icons", "mail-member");
		y.x = this.bg.width - y.width / 2, y.y = -(y.height / 2), this.btnGroup.add(y)
	}
	this.bg.inputEnabled = !0, this.bg.events.onInputDown.add(this.mouseDown, this), this.bg.events.onInputUp.add(this.mouseUp, this), this.bg.events.onInputOver.add(this.mouseOver, this), this.bg.events.onInputOut.add(this.mouseOut, this), GameConstants.get("GameConstants.Build.DEBUG") && Util.isDefined(s.text) && this.game.broadcaster.addAppListener(Prodigy.Events.Debug.AUTO_CLICK, this.onDebugAutoClick.bind(this), this), this.isActive = !0
}, Prodigy.Control.TextButton.TINY = 50, Prodigy.Control.TextButton.MINI = 100, Prodigy.Control.TextButton.SMALL = 200, Prodigy.Control.TextButton.TALL = 100.1, Prodigy.Control.TextButton.MED = 300, Prodigy.Control.TextButton.CONFIRM = 301, Prodigy.Control.TextButton.LG = 350, Prodigy.Control.TextButton.GRADE = 80, Prodigy.extends(Prodigy.Control.TextButton, Prodigy.Control.Element, {
	constructor: Prodigy.Control.TextButton,
	setActive: function () {
		this.isActive = !0, this.bg.tint = 16777215, this.tintActive()
	},
	setInactive: function () {
		this.isActive = !1, this.bg.tint = 5789784, this.icon && (this.icon.tint = 5789784)
	},
	mouseDown: function () {
		this.isActive && (this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "pop"), Util.isDefined(this.callback) && this.callback(), this.btnGroup.y = 0)
	},
	mouseUp: function () {
		this.isActive && (this.btnGroup.y = -3)
	},
	mouseOver: function () {
		this.isActive && (this.btnGroup.y = -3)
	},
	mouseOut: function () {
		this.isActive && (this.btnGroup.y = 0)
	},
	select: function () {
		this.selected = !0, this.bg.tint = 7447253, this.tintSelected()
	},
	deselect: function () {
		this.selected = !1, this.bg.tint = 16777215, this.tintActive()
	},
	tintSelected: function () {
		this.icon && (this.icon.tint = 7447253)
	},
	tintActive: function () {
		this.icon && (this.icon.tint = 16777215)
	},
	setIcon: function (e) {
		this.icon.frameName = e, this.icon.x = "right" === this.iconSide ? this.bg.width - this.icon.width - 10 : 10, this.icon.y = -Math.floor((this.icon.height - 50) / 2), "btn-tall" === this.bg.frameName && (this.icon.x = Math.floor((100 - this.icon.width) / 2), this.icon.y = Math.floor((200 - this.icon.height) / 2))
	},
	setEnabled: function (e) {
		this.isActive = e, this.alpha = this.isActive ? 1 : .5
	},
	setText: function (e) {
		this.text.setText(e)
	},
	onDebugAutoClick: function (e) {
		Util.isDefined(this.text.text) && (Util.isDefined(e) ? e === this.text.text && this.mouseDown() : Util.log("Button Text: " + this.text.text))
	}
}), Prodigy.Control.TextButton.createNextButton = function (e, t, i, a, s) {
	return e.prodigy.create.textButton(t, i, a, {
		icon: "next",
		iconSide: "right",
		text: "next"
	}, s)
}, Prodigy.Control.TextButton.createBackButton = function (e, t, i, a, s) {
	return e.prodigy.create.textButton(t, i, a, {
		icon: "back",
		text: "back"
	}, s)
}, Prodigy.Control.TextButton.createCloseButton = function (e, t, i, a, s) {
	return e.prodigy.create.textButton(t, i, a, {
		icon: "close",
		text: "close"
	}, s)
}, Prodigy.Control.TextButton.createYesButton = function (e, t, i, a, s) {
	return e.prodigy.create.textButton(t, i, a, {
		icon: "yes",
		text: "yes"
	}, s)
}, Prodigy.Control.TextButton.createNoButton = function (e, t, i, a, s) {
	return e.prodigy.create.textButton(t, i, a, {
		icon: "close",
		text: "no"
	}, s)
}, Prodigy.Control.TextButton.createOkayButton = function (e, t, i, a, s) {
	return e.prodigy.create.textButton(t, i, a, {
		icon: "yes",
		text: "okay"
	}, s)
}, Prodigy.Control.Panel = function (e, t, i, a, s, r, o, n) {
	Prodigy.Control.Element.call(this, e, t, i, a);
	var h = 0,
		l = 0,
		d = null;
	this._imgs = [], Util.isDefined(n) || (n = {});
	for (var p = 0; s > p; p++) {
		l = 0;
		for (var c = 0; r > c; c++) {
			var g = (o || "panel") + "-";
			g += n.hideLeft || 0 !== p || 0 !== c ? n.hideRight || p !== s - 1 || 0 !== c ? n.hideRight || p !== s - 1 || c !== r - 1 ? n.hideLeft || 0 !== p || c !== r - 1 ? n.hideLeft || 0 !== p ? n.hideRight || p !== s - 1 ? 0 === c ? "top" : c === r - 1 ? "top2" : "mid" : "side2" : "side" : "corner4" : "corner3" : "corner2" : "corner", d = this.add(new Phaser.Image(this.game, h, l, "core", g)), l += d.height, d.inputEnabled = !0, this._imgs.push(d)
		}
		h += d.width
	}
}, Prodigy.extends(Prodigy.Control.Panel, Prodigy.Control.Element, {
	constructor: Prodigy.Control.Panel,
	setClickable: function (e, t, i, a) {
		if (Util.isDefined(e))
			for (var s = 0; s < this._imgs.length; s++) e && this._imgs[s].events.onInputDown.add(e), t && this._imgs[s].events.onInputUp.add(t), i && this._imgs[s].events.onInputOver.add(i), a && this._imgs[s].events.onInputOut.add(a)
	},
	changePanel: function (e) {
		var t = this._imgs[0];
		if (t.frameName != e)
			for (var i = t.frameName.replace("-corner", ""), a = 0; a < this._imgs.length; a++) this._imgs[a].frameName = this._imgs[a].frameName.replace(i, e)
	}
}), Prodigy.Control.FillBar = function (e, t, i, a, s, r, o, n, h, l, d, p, c) {
	Prodigy.Control.Element.call(this, e, t, i, a), this.fillFunction = n, this.dir = o, this.onFill = c, this.setup(s, r, h, l, d, p)
}, Prodigy.extends(Prodigy.Control.FillBar, Prodigy.Control.Element, {
	constructor: Prodigy.Control.FillBar,
	setup: function (e, t, i, a, s, r) {
		this.removeAll(!0), this.back = this.add(this.game.prodigy.create.sprite(0, 0, "core", "overlay-small")), this.bar = this.add(this.game.prodigy.create.sprite(1, t - 1, "core", "overlay-light")), this.bar.anchor.setTo(0, 1), this.back.width = e, this.back.height = t, this.bar.width = e - 2, this.bar.height = t - 2, this.bar.tint = i || 16777215, this.bar.alpha = s, this.icon = this.game.prodigy.create.element(this, -Math.floor((80 - e) / 2), -60), Util.isDefined(a) && this.icon.add(this.game.prodigy.create.sprite(0, 0, "icons", a)), this.label = this.game.prodigy.create.font(this.icon, 0, 20, "", {
			size: 30,
			width: 80,
			align: "center"
		}), this.current = 0, this.target = 0, this.delay = 0, this.currentLevel = 0, r && (this.back.visible = !1), this.setBar()
	},
	setBar: function () {
		for (var e = 0, t = {
				target: 0
			}, i = 1, a = 0, s = !0; s;) {
			if (e = this.fillFunction(i), -1 === e.target) {
				this.current = this.target, a = 1, s = !1;
				break
			}
			if (this.current < e.target) {
				a = (this.current - t.target) / (e.target - t.target), s = !1;
				break
			}
			t = e, i++
		}
		0 === this.dir ? this.bar.width = Math.floor((this.back.width - 2) * a) : this.bar.height = Math.floor((this.back.height - 2) * a), this.label.setText(e.text), Util.isDefined(e.color) && (this.bar.tint = e.color), i > this.currentLevel ? (Util.isDefined(this.onFill) && this.onFill(i), this.game.add.tween(this.icon).to({
			y: -70
		}, 250, Phaser.Easing.Quadratic.Out).to({
			y: -60
		}, 250, Phaser.Easing.Quadratic.In).start()) : i < this.currentLevel && (Util.isDefined(this.onFill) && this.onFill(i), this.game.add.tween(this.icon).to({
			x: this.icon.x - 5
		}, 100, Phaser.Easing.Linear.None).to({
			x: this.icon.x + 5
		}, 100, Phaser.Easing.Linear.None).to({
			x: this.icon.x - 5
		}, 100, Phaser.Easing.Linear.None).to({
			x: this.icon.x
		}, 100, Phaser.Easing.Linear.None).start()), this.currentLevel = i
	},
	setValue: function (e) {
		this.current = this.target = e, this.setBar()
	},
	addValue: function (e, t, i) {
		return this.target += e, this.target < 0 && (this.target = 0), this.speed = t || 1, this.callback = i, this.target
	},
	getValue: function () {
		return this.current
	},
	getLevel: function () {
		return this.currentLevel
	},
	update: function () {
		Prodigy.Control.Element.prototype.update.call(this), this.current !== this.target ? (this.delay--, this.delay <= 0 && (this.delay = this.speed || 1, this.current < this.target ? this.current++ : this.current > this.target && this.current--, this.setBar())) : Util.isDefined(this.callback) && (this.callback(), this.callback = null)
	}
});
var DebugOverlay = function () {
	function e(e, t) {
		Prodigy.Control.Element.call(this, e, t), this.game.numBots = 0, this.game.numCreatureBots = 0, this.font = this.game.prodigy.create.font(this, 15, 15), this.add(this.font), this.name = Math.random(), this.onDestroy.add(this.destroy), i = this, this.interval = setInterval(function () {
			if (Util.isDefined(i.font) && Util.isDefined(i.game)) {
				var e = (1e3 / s).toFixed(1),
					t = "FPS: " + e;
				t += "\nMouse X=" + i.game.input.x + ", Y=" + i.game.input.y, i.font.setText(t)
			}
		}, 250)
	}
	e.prototype = Object.create(Prodigy.Control.Element.prototype);
	var t, i, a = 20,
		s = 0,
		r = new Date;
	return e.prototype.destroy = function () {
		clearInterval(this.interval)
	}, e.prototype.update = function () {
		Prodigy.Control.Element.prototype.update.call(this);
		var e = (t = new Date) - r;
		s += (e - s) / a, r = t
	}, e
}();
Prodigy.Control.CheckBoxButton = function (e, t, i, a, s, r, o, n) {
	Prodigy.Control.Element.call(this, e, t), this.originalY = a, this.selected = !1, this.answerData = r, this.x = i, this.y = a, this.callback = o, this.container = this.game.prodigy.create.element(this, 0, 0), this.container.add(this.game.prodigy.create.sprite(0, 0, "icons", Util.isDefined(n) ? "survey/survey-box-icon" : "survey/survey-box-square-icon")), this.checkbox = this.game.prodigy.create.sprite(0, 0, "icons", "survey/survey-check-icon"), this.checkbox.alpha = this.selected ? 1 : 0, this.container.add(this.checkbox), this.answer = this.game.prodigy.create.font(this.container, 70, 0, this.answerData.text, {
		width: s - 70,
		align: "left",
		size: 30
	}), this.collision = this.game.prodigy.create.sprite(0, 0, "core", "empty"), this.collision.width = s, this.collision.height = this.answer.height + 40, this.collision.alpha = .5, this.container.add(this.collision), this.collision.inputEnabled = !0, this.collision.input.useHandCursor = !0, this.collision.events.onInputDown.add(this.onMouseDown, this), this.collision.events.onInputUp.add(this.onMouseUp, this), this.collision.events.onInputOver.add(this.onMouseOver, this), this.collision.events.onInputOut.add(this.onMouseOut, this)
}, Prodigy.extends(Prodigy.Control.CheckBoxButton, Prodigy.Control.Element, {
	constructor: Prodigy.Control.CheckBoxButton,
	onMouseDown: function () {
		this.y = this.originalY
	},
	onMouseUp: function () {
		this.setSelected(!this.selected), Util.isDefined(this.callback) && this.callback(this)
	},
	onMouseOver: function () {
		this.y = this.originalY - 2
	},
	onMouseOut: function () {
		this.y = this.originalY
	},
	setSelected: function (e) {
		this.selected = e, this.checkbox.alpha = this.selected ? 1 : 0
	}
}), Prodigy.Attack.CatchPet = function (e, t, i, a, s, r, o) {
	Attack.call(this, e, t, i, a, s, 4500, "water", r, o, !1, null)
}, Prodigy.extends(Prodigy.Attack.CatchPet, Attack, {
	constructor: Prodigy.Attack.CatchPet,
	setup: function () {
		Attack.prototype.setup.call(this);
		var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "water-prison");
		this.overLayer.add(e), e.anchor.setTo(.5, .5), this.game.add.tween(e).to({
			x: this.target.x,
			alpha: .75
		}, 1, Phaser.Easing.Linear.None).to({}, 1e3, Phaser.Easing.Linear.None).to({
			x: this.source.x + 20
		}, 3e3, Phaser.Easing.Linear.None).start(), this.game.add.tween(e).to({
			y: this.target.y
		}, 1, Phaser.Easing.Linear.None).to({}, 1e3, Phaser.Easing.Linear.None).to({
			y: this.source.y - 50 - 100
		}, 600, Phaser.Easing.Quadratic.Out).to({
			y: this.source.y
		}, 600, Phaser.Easing.Quadratic.In).to({
			y: this.source.y - 50 - 75
		}, 600, Phaser.Easing.Quadratic.Out).to({
			y: this.source.y
		}, 600, Phaser.Easing.Quadratic.In).to({
			y: this.source.y - 50
		}, 600, Phaser.Easing.Quadratic.Out).start(), this.game.add.tween(e.scale).to({
			x: 4,
			y: 4
		}, 1, Phaser.Easing.Quadratic.Out).to({
			x: .25,
			y: .25
		}, 1e3, Phaser.Easing.Quadratic.Out).to({}, 3e3, Phaser.Easing.Linear.None).to({
			x: 0,
			y: 0
		}, 500, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target.scale).to({
			x: 0,
			y: 0
		}, 1e3, Phaser.Easing.Quadratic.Out).start()
	}
});
var Absorb = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 4e3, "earth", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 900, 2600);
			for (var e = this.source.x < this.target.x ? -1 : 1, t = 0; 3 > t; t++) {
				var i = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-circle-small");
				this.overLayer.add(i), i.anchor.setTo(.5, .5), i.alpha = .6, i.scale.x = i.scale.y = 5, this.game.add.tween(i).to({
					x: this.target.x,
					y: this.target.y
				}, 1, Phaser.Easing.Linear.None).to({}, 900, Phaser.Easing.Linear.None).to({
					alpha: 0
				}, 400, Phaser.Easing.Linear.None).start(), this.game.add.tween(i.scale).to({
					x: 0,
					y: 0
				}, 500, Phaser.Easing.Linear.None).delay(200 * t).to({}, 400 - 200 * t, Phaser.Easing.Linear.None).to({
					x: 5 + .5 * t,
					y: 5 + .5 * t
				}, 400, Phaser.Easing.Linear.None).start()
			}
			for (var a = 900, t = 0; 10 > t; t++)
				for (var s = Math.PI * Math.random(), r = .75 + .25 * Math.random(), o = Math.floor(200 * Math.cos(s) * r), n = Math.floor(200 * Math.sin(s) * r) * (Math.random() < .5 ? -1 : 1), h = 200 - o * e, l = 1500 - o * e, d = 800 - o * e, p = h + l - d, c = 0; 5 > c; c++) {
					var g = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", 0 === c ? "earth-leaf" : "core-circle-small");
					this.overLayer.add(g), g.anchor.setTo(.5, .5), g.scale.x = g.scale.y = Math.pow(.6, c), g.alpha = 0 === c ? 1 : .7;
					var u = Math.max(0, 100 * c);
					o * e >= 0 ? this.game.add.tween(g).to({
						x: this.target.x
					}, 1, Phaser.Easing.Linear.None).delay(u + a).to({
						x: this.source.x
					}, l, Phaser.Easing.Linear.None).start() : this.game.add.tween(g).to({
						x: this.target.x
					}, 1, Phaser.Easing.Linear.None).delay(u + a).to({
						x: this.target.x + o
					}, h, Phaser.Easing.Quadratic.Out).to({
						x: this.source.x
					}, l, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(g).to({
						y: this.target.y
					}, 1, Phaser.Easing.Linear.None).delay(u + a).to({
						y: this.target.y + n
					}, d, Phaser.Easing.Quadratic.Out).to({
						y: this.source.y
					}, p, Phaser.Easing.Quadratic.In).to({
						alpha: 0
					}, 50, Phaser.Easing.Linear.None).start()
				}
		}, e
	}(),
	BatterUp = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 2300, "wizard", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 1e3);
			var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-circle-small");
			this.underLayer.add(e), e.anchor.setTo(.5, .5), e.alpha = .6, e.scale.x = e.scale.y = 0, this.game.add.tween(e).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(e.scale).to({
				x: 0,
				y: 0
			}, 1, Phaser.Easing.Linear.None).to({
				x: 10,
				y: 5
			}, 500, Phaser.Easing.Linear.None).start();
			var t = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-dome");
			this.overLayer.add(t), t.scale.x = t.scale.y = 0, t.alpha = .8, t.anchor.setTo(.5, .8), this.game.add.tween(t).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(t.scale).to({
				x: 3,
				y: 3
			}, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target).to({
				y: "-300"
			}, 1e3, Phaser.Easing.Quadratic.Out).to({
				y: "+300"
			}, 800, Phaser.Easing.Quadratic.In).to({
				y: "-50"
			}, 250, Phaser.Easing.Quadratic.Out).to({
				y: "+50"
			}, 250, Phaser.Easing.Quadratic.In).start();
			var i = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-steam");
			this.underLayer.add(i), i.anchor.setTo(.5, .5), this.game.add.tween(i).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(1800).to({
				y: "-100",
				alpha: 0
			}, 250, Phaser.Easing.Quadratic.Out).start();
			for (var a = 100, s = (this.target.x - this.source.x) / a, r = (this.target.y - 300 - this.source.y) / a, o = 0; a > o; o++) {
				var n = (Math.random() < .25 ? "core-box-empty-" : "core-box-") + Math.floor(6 * Math.random()),
					h = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", n);
				h.anchor.setTo(.5, .5), h.scale.x = h.scale.y = 0, h.alpha = .8, this.overLayer.add(h);
				var l = Math.floor(1e3 * o / a),
					d = Math.floor(-20 + 40 * Math.random());
				this.game.add.tween(h).to({
					x: Math.floor(this.source.x + o * s),
					y: Math.floor(this.source.y - 50 + o * r + d)
				}, 1, Phaser.Easing.Linear.None).delay(l).to({
					alpha: 0
				}, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(h.scale).to({
					x: 1,
					y: 1
				}, 500, Phaser.Easing.Linear.None).delay(l).start()
			}
			for (var o = 0; 3 > o; o++) {
				var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-circle-small");
				this.underLayer.add(e), e.anchor.setTo(.5, .5), e.alpha = .25, e.scale.x = e.scale.y = 0, this.game.add.tween(e).to({
					x: this.target.x,
					y: this.target.y - 300 - 50
				}, 1, Phaser.Easing.Linear.None).delay(1e3 + 100 * o).to({
					alpha: 0
				}, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(e.scale).to({
					x: 0,
					y: 0
				}, 1, Phaser.Easing.Linear.None).delay(1e3 + 100 * o).to({
					x: 10,
					y: 10
				}, 500, Phaser.Easing.Linear.None).start()
			}
			for (var a = 50, o = 0; a > o; o++) {
				var n = (Math.random() < .25 ? "core-box-empty-" : "core-box-") + Math.floor(6 * Math.random()),
					h = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", n);
				h.anchor.setTo(.5, .5), h.scale.x = h.scale.y = 0, h.alpha = .8, this.overLayer.add(h);
				var p = 200 + Math.floor(200 * Math.random()),
					c = Math.random() * Math.PI * 2,
					s = Math.floor(this.target.x + p * Math.cos(c)),
					r = Math.floor(this.target.y + p * Math.sin(c)),
					g = 300 + Math.floor(300 * Math.random());
				this.game.add.tween(h).to({
					x: Math.floor(this.target.x),
					y: this.target.y - 350
				}, 1, Phaser.Easing.Linear.None).delay(1e3).to({
					x: s,
					y: -350 + r,
					alpha: 0
				}, g, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(h.scale).to({
					x: 1,
					y: 1
				}, g, Phaser.Easing.Linear.None).delay(1e3).start()
			}
		}, e
	}(),
	Blitz = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 5e3, "earth", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 4300);
			for (var e = this.source.x + (this.target.x - this.source.x) / 2, t = this.source.y - 300, i = 0; 50 > i; i++) {
				var a = Math.floor(3 * Math.random()),
					s = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", 0 === a ? "earth-leaf" : 1 === a ? "earth-mushroom" : "earth-mudball");
				this.overLayer.add(s), s.anchor.setTo(6, 6), s.scale.x = s.scale.y = 0 === a ? 1 : 1 === a ? .75 : .5, s.angle = Math.floor(360 * Math.random());
				var r = 200 + Math.floor(500 * Math.random()),
					o = Math.random() < .5 ? "+" : "-",
					n = 2e3 - Math.floor(2e3 * Math.random()),
					h = this.target.x - 100 + Math.floor(200 * Math.random()),
					l = this.target.y - (25 + Math.floor(25 * Math.random())),
					d = this.target.y + (25 + Math.floor(25 * Math.random()));
				this.game.add.tween(s).to({
					x: e,
					y: t
				}, 1, Phaser.Easing.Linear.None).to({
					angle: o + r
				}, 2e3, Phaser.Easing.Linear.None).to({
					angle: o + r / 2e3 * n
				}, n, Phaser.Easing.Linear.None).to({
					x: this.target.x
				}, 300, Phaser.Easing.Linear.None).to({
					x: h
				}, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(s).to({
					y: t
				}, 1, Phaser.Easing.Linear.None).to({}, 2e3 + n, Phaser.Easing.Linear.None).to({
					y: this.target.y
				}, 300, Phaser.Easing.Linear.None).to({
					y: l
				}, 150, Phaser.Easing.Quadratic.Out).to({
					y: d
				}, 150, Phaser.Easing.Quadratic.In).start(), o = 1 + 3 * Math.random(), this.game.add.tween(s.anchor).to({
					x: o,
					y: o
				}, 2e3, Phaser.Easing.Linear.None).to({}, n, Phaser.Easing.Linear.None).to({
					x: .5,
					y: .5
				}, 300, Phaser.Easing.Linear.None).start()
			}
		}, e
	}(),
	Blizzard = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 7e3, "ice", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 5500);
			for (var e = 0; 160 > e; e++) this.addSnow(e, 25 * e, this.source.x < this.target.x)
		}, e.prototype.addSnow = function (e, t, i) {
			var a = e % 10 === 0,
				s = this.game.prodigy.create.sprite(-100, Math.floor(720 * Math.random()), "attacks", a ? "ice-star" : "ice-snow");
			s.x = i ? -s.width : 1280 + s.width, Math.random() < .5 ? this.overLayer.add(s) : this.underLayer.add(s), s.anchor.setTo(.5, .5), s.scale.x = s.scale.y = a ? .2 + .8 * Math.random() : 1;
			var r = i ? 1380 + s.width : -(s.width + 100);
			a ? this.game.add.tween(s).to({
				x: r,
				angle: 500
			}, 1500, Phaser.Easing.Linear.None, !0, t).onComplete.add(function () {
				s.kill()
			}, s) : this.game.add.tween(s).to({
				x: r
			}, 1500, Phaser.Easing.Linear.None, !0, t).onComplete.add(function () {
				s.kill()
			}, s)
		}, e
	}(),
	Bolt = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 2500, "storm", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 2100);
			var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-lightning-0");
			e.animations.add("a", ["storm-lightning-0", "storm-lightning-1", "storm-lightning-2"], 30 + Math.floor(5 * Math.random()), !0, !1), e.animations.play("a"), e.anchor.setTo(.5, 1), this.overLayer.add(e), this.game.add.tween(e).to({
				x: this.target.x,
				y: 0
			}, 1, Phaser.Easing.Linear.None).to({
				x: this.target.x,
				y: this.target.y
			}, 100, Phaser.Easing.Linear.None).to({}, 2e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 100, Phaser.Easing.Linear.None).start();
			for (var t = 0; 30 > t; t++) {
				var i = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "ice-snow");
				i.anchor.setTo(.5, .5), this.overLayer.add(i);
				var a = Math.floor(100 * Math.random()),
					s = Math.random() < .5 ? -1 : 1;
				this.game.add.tween(i).to({
					x: this.target.x
				}, 1, Phaser.Easing.Linear.None).delay(100 + 60 * t).to({
					x: this.target.x + s * a,
					alpha: 0
				}, 500, Phaser.Easing.Linear.None).start(), this.game.add.tween(i).to({
					y: this.target.y
				}, 1, Phaser.Easing.Linear.None).delay(100 + 60 * t).to({
					y: this.target.y - a / 2
				}, 250, Phaser.Easing.Quadratic.Out).to({
					y: this.target.y
				}, 250, Phaser.Easing.Quadratic.In).start()
			}
		}, e
	}(),
	Charclone = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 3e3, "fire", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 1700);
			var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-beam1");
			this.overLayer.add(e), e.alpha = .5, e.anchor.setTo(.5, 0), this.game.add.tween(e).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(1500).to({}, 500, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 500, Phaser.Easing.Linear.None).start(), e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-beam2"), this.overLayer.add(e), e.alpha = .5, e.anchor.setTo(.5, 1), this.game.add.tween(e).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(1500).start(), this.game.add.tween(e).to({
				height: 600
			}, 500, Phaser.Easing.Linear.None).delay(1500).to({
				alpha: 0
			}, 500, Phaser.Easing.Linear.None).start();
			var t = [];
			t.push(this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "fire-ball")), t.push(this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "fire-ball")), this.underLayer.add(t[0]), this.overLayer.add(t[1]), t[0].anchor.setTo(2.5, 2.5), t[0].angle = -45, t[1].anchor.setTo(2.5, 2.5), t[1].angle = 135;
			var i = [];
			i.push(this.game.add.tween(t[0])), i.push(this.game.add.tween(t[1])), i.push(this.game.add.tween(t[0]).to({
				y: this.target.y,
				x: this.target.x
			}, 1, Phaser.Easing.Linear.None).to({}, 1500, Phaser.Easing.Linear.None).to({
				y: -200
			}, 1e3, Phaser.Easing.Linear.None)), i.push(this.game.add.tween(t[1]).to({
				y: this.target.y,
				x: this.target.x
			}, 1, Phaser.Easing.Linear.None).to({}, 1500, Phaser.Easing.Linear.None).to({
				y: -200
			}, 1e3, Phaser.Easing.Linear.None));
			for (var a = 400, s = 0; 20 > s; s++) i[0].to({
				angle: -45
			}, 1, Phaser.Easing.Linear.None), i[0].to({
				angle: "+180"
			}, a, Phaser.Easing.Linear.None), i[1].to({
				angle: 135
			}, 1, Phaser.Easing.Linear.None), i[1].to({
				angle: "+180"
			}, a, Phaser.Easing.Linear.None), a > 200 && (a -= 100);
			for (var s = 0; s < i.length; s++) i[s].start()
		}, e
	}(),
	Cloudshot = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 2e3, "storm", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 1e3);
			var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-shot");
			e.anchor.setTo(.5, .5), e.scale.x = e.scale.y = this.source.x < this.target.x ? .5 : -.5, this.overLayer.add(e), this.game.add.tween(e).to({
				x: this.source.x,
				y: this.source.y - 100
			}, 1, Phaser.Easing.Linear.None).to({
				x: this.target.x
			}, 1e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 1, Phaser.Easing.Linear.None).start();
			var t = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-head");
			t.alpha = .5, t.scale.x = this.source.x < this.target.x ? 1 : -1, t.anchor.setTo(.5, .5), this.overLayer.add(t), this.game.add.tween(t).to({
				x: this.source.x,
				y: this.source.y - 100
			}, 1, Phaser.Easing.Linear.None).to({
				x: this.target.x
			}, 1e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 1, Phaser.Easing.Linear.None).start(), t = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-tail"), t.scale.x = 0, t.alpha = .5, t.anchor.setTo(1, .5), this.overLayer.add(t), this.game.add.tween(t).to({
				x: this.source.x + (this.source.x < this.target.x ? -42 : 42),
				y: this.source.y - 100
			}, 1, Phaser.Easing.Linear.None).to({
				x: this.target.x + (this.source.x < this.target.x ? -42 : 42)
			}, 1e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(t.scale).to({
				x: this.source.x < this.target.x ? 1 : -1
			}, 500, Phaser.Easing.Linear.None).start();
			var i = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-dome");
			this.overLayer.add(i), i.scale.x = i.scale.y = 0, i.alpha = .8, i.anchor.setTo(.5, .8), this.game.add.tween(i).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(1e3).to({
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(i.scale).to({
				x: 3,
				y: 3
			}, 300, Phaser.Easing.Linear.None).delay(1e3).start()
		}, e
	}(),
	Conjure = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 4e3, "wizard", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 2500);
			var e = ["earth-leaf", "water-bubble", "earth-mushroom", "earth-mudball", "fire-bomb", "ice-snowman-body", "ice-prison"],
				t = Math.floor(Math.random() * e.length);
			Util.isDefined(this.mods) && Util.isDefined(this.mods.seed) && this.mods.seed >= 0 && (t = Math.floor(this.game.random.frac(this.mods.seed) * e.length)), this.mod = 10 * (-3 + t);
			var i = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", e[t]);
			i.anchor.setTo(.5, .5), i.scale.x = i.scale.y = 0, this.overLayer.add(i), this.game.add.tween(i).to({
				x: this.target.x
			}, 1, Phaser.Easing.Linear.None).delay(1e3).to({}, 1500, Phaser.Easing.Linear.None).to({
				x: this.target.x + 200,
				alpha: 0
			}, 1e3, Phaser.Easing.Linear.None).start(), this.game.add.tween(i).to({
				y: this.target.y - 350
			}, 1, Phaser.Easing.Linear.None).delay(1e3).to({}, 1e3, Phaser.Easing.Linear.None).to({
				y: this.target.y - 50
			}, 500, Phaser.Easing.Quadratic.In).to({
				y: this.target.y - 150
			}, 500, Phaser.Easing.Quadratic.Out).to({
				y: this.target.y
			}, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(i.scale).to({
				x: 1,
				y: 1
			}, 1e3, Phaser.Easing.Quadratic.Out).delay(1e3).start();
			for (var a = 100, s = 0; a > s; s++) {
				var r = (Math.random() < .25 ? "core-box-empty-" : "core-box-") + Math.floor(6 * Math.random()),
					o = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", r);
				o.anchor.setTo(.5, .5), o.scale.x = o.scale.y = 0, o.alpha = .8, this.overLayer.add(o);
				var n = Math.floor(1500 * s / a),
					h = Math.floor(100 * Math.random()),
					l = Math.random() * Math.PI * 2,
					d = Math.floor(this.target.x + h * Math.cos(l)),
					p = Math.floor(this.target.y + h * Math.sin(l));
				this.game.add.tween(o).to({
					x: d,
					y: p - 350
				}, 1, Phaser.Easing.Linear.None).delay(n).to({
					alpha: 0
				}, 1500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(o.scale).to({
					x: 1.5,
					y: 1.5
				}, 500, Phaser.Easing.Quadratic.Out).delay(n).to({
					x: 0,
					y: 0
				}, 1e3, Phaser.Easing.Quadratic.In).start()
			}
			var c = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-circle-small");
			this.underLayer.add(c), c.anchor.setTo(.5, .5), c.alpha = .25, c.scale.x = c.scale.y = 0, this.game.add.tween(c).to({
				x: this.target.x,
				y: this.target.y - 50
			}, 1, Phaser.Easing.Linear.None).delay(2500).to({
				alpha: 0
			}, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(c.scale).to({
				x: 0,
				y: 0
			}, 1, Phaser.Easing.Linear.None).delay(2500).to({
				x: 10,
				y: 10
			}, 500, Phaser.Easing.Linear.None).start()
		}, e
	}(),
	Dragos = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 6e3, "fire", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 5e3), this.game.prodigy.effects.shake(0, 5e3, 3, "v"), this.game.prodigy.effects.shake(5e3, 500, 5);
			var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "fire-bomb");
			e.anchor.setTo(.5, 1), e.scale.x = e.scale.y = 5, this.overLayer.add(e), this.game.add.tween(e).to({
				y: 0,
				x: this.target.x
			}, 1, Phaser.Easing.Linear.None).delay(2e3).to({
				y: this.target.y
			}, 3e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 100, Phaser.Easing.Linear.None).start();
			for (var t = 0; 10 > t; t++) {
				var i = this.target.x + 200 - 400 * Math.random(),
					a = this.target.y + 200 - 400 * Math.random(),
					s = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-circle-small");
				s.anchor.setTo(.5, .5), s.scale.x = s.scale.y = 0, s.alpha = .75, this.underLayer.add(s), this.game.add.tween(s).to({
					y: a,
					x: i
				}, 1, Phaser.Easing.Linear.None).delay(500 * t).to({
					alpha: 0
				}, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(s.scale).to({
					x: 1.4,
					y: .8
				}, 500, Phaser.Easing.Linear.None).delay(500 * t).start();
				var r = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "fire-ball");
				r.anchor.setTo(.5, .5), r.angle = -90, this.game.add.tween(r).to({
					y: a,
					x: i
				}, 1, Phaser.Easing.Linear.None).delay(500 * t).to({
					y: -50
				}, 1500, Phaser.Easing.Quadratic.In).to({
					alpha: 0
				}, 1, Phaser.Easing.Linear.None).start(), a < this.target.y ? this.underLayer.add(r) : this.overLayer.add(r)
			}
			var o = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-beam2");
			this.overLayer.add(o), o.alpha = 0, o.height = 720, o.width = 300, o.anchor.setTo(.5, 1), this.game.add.tween(o).to({
				x: this.target.x,
				y: 720
			}, 1, Phaser.Easing.Linear.None).to({
				alpha: 1,
				width: 500
			}, 5e3, Phaser.Easing.Linear.None).to({
				alpha: 0,
				width: 2e3
			}, 300, Phaser.Easing.Linear.None).start()
		}, e
	}(),
	EarthSprite = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 4e3, "earth", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 3500);
			var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "earth-spirit-2");
			this.overLayer.add(e), e.anchor.setTo(.5, .5), e.scale.x = this.target.x > this.source.x ? 1 : -1;
			var t = this.target.x > this.source.x ? 1 : -1;
			this.game.add.tween(e).to({
				x: this.target.x - 300 * t
			}, 1, Phaser.Easing.Linear.None).to({
				x: this.target.x + 300 * t
			}, 2e3, Phaser.Easing.Linear.None).to({}, 1e3, Phaser.Easing.Linear.None).to({
				x: this.target.x
			}, 1, Phaser.Easing.Linear.None).to({
				x: this.target.x + 400 * t
			}, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(e).to({
				y: -100
			}, 1, Phaser.Easing.Linear.None).to({
				y: this.target.y
			}, 1e3, Phaser.Easing.Quadratic.Out).to({
				y: this.target.y - 200
			}, 1e3, Phaser.Easing.Quadratic.In).to({
				y: -200
			}, 1, Phaser.Easing.Linear.None).to({}, 1e3, Phaser.Easing.Linear.None).to({
				y: this.target.y
			}, 500, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target).to({}, 1001, Phaser.Easing.Linear.None).to({
				x: this.target.x + 300 * t
			}, 1e3, Phaser.Easing.Linear.None).to({}, 1e3, Phaser.Easing.Linear.None).to({
				x: this.target.x
			}, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target).to({}, 1, Phaser.Easing.Linear.None).to({}, 1e3, Phaser.Easing.Quadratic.Out).to({
				y: this.target.y - 200
			}, 1e3, Phaser.Easing.Quadratic.In).to({
				y: -200
			}, 1, Phaser.Easing.Linear.None).to({}, 1e3, Phaser.Easing.Linear.None).to({
				y: this.target.y
			}, 500, Phaser.Easing.Linear.None).to({
				y: this.target.y - 50
			}, 250, Phaser.Easing.Quadratic.Out).to({
				y: this.target.y
			}, 250, Phaser.Easing.Quadratic.In).start();
			var i = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-steam");
			this.underLayer.add(i), i.anchor.setTo(.5, .5), this.game.add.tween(i).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(3500).to({
				y: "-100",
				alpha: 0
			}, 250, Phaser.Easing.Quadratic.Out).start()
		}, e
	}(),
	Embers = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 4500, "fire", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 3100);
			for (var e = 0; 5 > e; e++) {
				var t = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", e > 0 ? "fire-ball" : "fire-elemental");
				this.overLayer.add(t), t.anchor.setTo(.5, e > 0 ? .5 : 1), this.game.add.tween(t).to({
					y: this.source.y
				}, 1, Phaser.Easing.Quadratic.Out).delay(300 * e).to({
					y: this.source.y - 200
				}, 500, Phaser.Easing.Quadratic.Out).to({
					y: this.source.y
				}, 500, Phaser.Easing.Quadratic.In).to({
					y: this.source.y - 200
				}, 500, Phaser.Easing.Quadratic.Out).to({
					y: this.source.y
				}, 500, Phaser.Easing.Quadratic.In).start();
				var i = this.game.add.tween(t).to({
					x: this.source.x
				}, 1, Phaser.Easing.Quadratic.Out).delay(300 * e).to({
					x: this.target.x,
					angle: e > 0 ? 2e3 : 0
				}, 2e3, Phaser.Easing.Linear.None);
				e > 0 && i.to({
					alpha: 0
				}, 1, Phaser.Easing.Linear.None), 0 === e && (i.to({}, 1100, Phaser.Easing.Linear.None).to({
					alpha: 0
				}, 300, Phaser.Easing.Linear.None), this.game.add.tween(t.scale).to({
					x: 1.3,
					y: 1.3
				}, 100, Phaser.Easing.Linear.None).delay(2300).to({}, 200, Phaser.Easing.Linear.None).to({
					x: 1.6,
					y: 1.6
				}, 100, Phaser.Easing.Linear.None).to({}, 200, Phaser.Easing.Linear.None).to({
					x: 1.9,
					y: 1.9
				}, 100, Phaser.Easing.Linear.None).to({}, 200, Phaser.Easing.Linear.None).to({
					x: 4,
					y: 4
				}, 300, Phaser.Easing.Linear.None).start()), i.start()
			}
		}, e
	}(),
	Fireball = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 2e3, "fire", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 1e3);
			var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "fire-ball");
			e.anchor.setTo(.5, .5), e.scale.x = e.scale.y = this.source.x < this.target.x ? 1 : -1, this.overLayer.add(e), this.game.add.tween(e).to({
				x: this.source.x,
				y: this.source.y - 100
			}, 1, Phaser.Easing.Linear.None).to({
				x: this.target.x
			}, 1e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 1, Phaser.Easing.Linear.None).start();
			var t = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-head");
			t.alpha = .5, t.scale.x = this.source.x < this.target.x ? 1 : -1, t.anchor.setTo(.5, .5), this.overLayer.add(t), this.game.add.tween(t).to({
				x: this.source.x,
				y: this.source.y - 100
			}, 1, Phaser.Easing.Linear.None).to({
				x: this.target.x
			}, 1e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 1, Phaser.Easing.Linear.None).start(), t = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-tail"), t.scale.x = 0, t.alpha = .5, t.anchor.setTo(1, .5), this.overLayer.add(t), this.game.add.tween(t).to({
				x: this.source.x + (this.source.x < this.target.x ? -42 : 42),
				y: this.source.y - 100
			}, 1, Phaser.Easing.Linear.None).to({
				x: this.target.x + (this.source.x < this.target.x ? -42 : 42)
			}, 1e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(t.scale).to({
				x: this.source.x < this.target.x ? 1 : -1
			}, 500, Phaser.Easing.Linear.None).start();
			var i = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-dome");
			this.overLayer.add(i), i.scale.x = i.scale.y = 0, i.alpha = .8, i.anchor.setTo(.5, .8), this.game.add.tween(i).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(1e3).to({
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(i.scale).to({
				x: 3,
				y: 3
			}, 300, Phaser.Easing.Linear.None).delay(1e3).start()
		}, e
	}(),
	FireRain = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 4e3, "fire", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 3500);
			for (var e = 0; 15 > e; e++) {
				var t = this.target.x + 100 - 200 * Math.random(),
					i = this.target.y + 100 - 200 * Math.random(),
					a = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "fire-ball");
				a.anchor.setTo(.5, .5), a.angle = 90, this.game.add.tween(a).to({
					y: -50,
					x: t
				}, 1, Phaser.Easing.Linear.None).delay(200 * e).to({
					y: i
				}, 600, Phaser.Easing.Linear.None).to({
					alpha: 0
				}, 1, Phaser.Easing.Linear.None).delay(200 * e).start(), this.game.prodigy.effects.shake(200 * e + 600, 100, 3, "v");
				var s = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "fire-cloud");
				this.overLayer.add(s), s.anchor.setTo(.5, .5), this.game.add.tween(s).to({
					y: i,
					x: t
				}, 1, Phaser.Easing.Linear.None).delay(200 * e + 600).to({
					y: "-200",
					alpha: 0
				}, 300, Phaser.Easing.Quadratic.Out).start(), i < this.target.y ? (this.underLayer.add(a), this.underLayer.add(s)) : (this.overLayer.add(a), this.overLayer.add(s))
			}
		}, e
	}(),
	Fountain = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 6500, "water", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 6e3), this.game.prodigy.effects.shake(0, 1500, 3, "v");
			var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "water-whirl");
			this.underLayer.add(e), e.scale.x = e.scale.y = 0, e.anchor.setTo(.5, .5), this.game.add.tween(e).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).to({
				angle: -1e3
			}, 6e3, Phaser.Easing.Linear.None).start(), this.game.add.tween(e.scale).to({
				x: 1.5,
				y: 1.5
			}, 2e3, Phaser.Easing.Linear.None).to({}, 3e3, Phaser.Easing.Linear.None).to({
				x: 0,
				y: 0
			}, 1e3, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target.scale).to({
				x: -1
			}, 500, Phaser.Easing.Linear.None).delay(1e3).to({
				x: 1
			}, 500, Phaser.Easing.Linear.None).to({
				x: -.8
			}, 400, Phaser.Easing.Linear.None).to({
				x: .8
			}, 400, Phaser.Easing.Linear.None).to({
				x: -.6
			}, 300, Phaser.Easing.Linear.None).to({
				x: .6
			}, 300, Phaser.Easing.Linear.None).to({
				x: -.4
			}, 200, Phaser.Easing.Linear.None).to({
				x: .4
			}, 200, Phaser.Easing.Linear.None).to({
				x: -.2
			}, 100, Phaser.Easing.Linear.None).to({
				x: .2
			}, 100, Phaser.Easing.Linear.None).to({}, 1e3, Phaser.Easing.Linear.None).to({
				x: 1
			}, 500, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target.scale).to({
				y: 0
			}, 3e3, Phaser.Easing.Linear.None).delay(1e3).to({}, 1e3, Phaser.Easing.Linear.None).to({
				y: 1
			}, 200, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target).to({
				y: 0
			}, 500, Phaser.Easing.Quadratic.Out).delay(5e3).to({
				y: this.target.y
			}, 500, Phaser.Easing.Quadratic.In).to({
				y: "-50"
			}, 250, Phaser.Easing.Quadratic.Out).to({
				y: "+50"
			}, 250, Phaser.Easing.Quadratic.In).start();
			var t = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-steam");
			this.underLayer.add(t), t.anchor.setTo(.5, .5), this.game.add.tween(t).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(6e3).to({
				y: "-100",
				alpha: 0
			}, 250, Phaser.Easing.Quadratic.Out).start()
		}, e
	}(),
	Geyser = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 2e3, "ice", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 1500), this.game.prodigy.effects.shake(0, 1500, 3, "v");
			for (var e = Math.floor(Math.abs(this.target.x - this.source.x) / 80) + 1, t = 1; e > t; t++) {
				ice = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "earth-mud-splash"), ice.anchor.setTo(.5, 1), ice.scale.y = 0, this.overLayer.add(ice);
				var i = this.source.x < this.target.x ? 1 : -1;
				this.game.add.tween(ice).to({
					x: this.source.x + 80 * t * i,
					y: this.source.y
				}, 1, Phaser.Easing.Linear.None).delay(1500 * t / e).start(), this.game.add.tween(ice.scale).to({
					y: 1
				}, 100, Phaser.Easing.Linear.None).delay(1500 * t / e).to({
					y: 0
				}, 1500, Phaser.Easing.Linear.None).delay(1500 * t / e).start()
			}
			this.game.prodigy.effects.shake(1500, 400, 15);
			var a = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-beam1");
			this.overLayer.add(a), a.alpha = .75, a.scale.x = a.scale.y = .5, a.anchor.setTo(.5, 0), this.game.add.tween(a).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(1500).to({}, 1e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 500, Phaser.Easing.Linear.None).start(), a = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-beam2"), this.overLayer.add(a), a.alpha = .75, a.scale.x = .5, a.anchor.setTo(.5, 1), this.game.add.tween(a).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(1500).start(), this.game.add.tween(a).to({
				height: 600
			}, 251, Phaser.Easing.Linear.None).delay(1500).to({}, 750, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 500, Phaser.Easing.Linear.None).start()
		}, e
	}(),
	GlacialShield = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 3500, "ice", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, null, 1500);
			var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-beam1");
			this.overLayer.add(e), e.alpha = .5, e.anchor.setTo(.5, 0), this.game.add.tween(e).to({
				x: this.source.x,
				y: this.source.y
			}, 1, Phaser.Easing.Linear.None).delay(1500).to({}, 500, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 500, Phaser.Easing.Linear.None).start(), e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-beam2"), this.overLayer.add(e), e.alpha = .5, e.anchor.setTo(.5, 1), this.game.add.tween(e).to({
				x: this.source.x,
				y: this.source.y
			}, 1, Phaser.Easing.Linear.None).delay(1500).start(), this.game.add.tween(e).to({
				height: 600
			}, 500, Phaser.Easing.Linear.None).delay(1500).to({
				alpha: 0
			}, 500, Phaser.Easing.Linear.None).start();
			for (var t = Math.PI / 8, i = -Math.PI / 6, a = this.source.x < this.target.x ? 1 : -1, s = 0; 4 > s; s++) {
				var r = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "ice-prison");
				this.overLayer.add(r), r.angle = 15, r.anchor.setTo(.5, .5);
				var o = Math.floor(this.source.x + 250 * a * Math.cos(i + t * s)),
					n = Math.floor(this.source.y + 250 * Math.sin(i + t * s));
				this.game.add.tween(r).to({
					x: o,
					y: -50
				}, 1, Phaser.Easing.Linear.None).delay(300 * s).to({
					y: n
				}, 200, Phaser.Easing.Linear.None).to({}, 2e3 - 300 * s, Phaser.Easing.Linear.None).to({
					alpha: 0
				}, 400, Phaser.Easing.Linear.None).start(), this.game.prodigy.effects.shake(300 * s + 200, 100, 5, "v")
			}
		}, e
	}(),
	IceCannon = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 3e3, "ice", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 1500);
			var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "ice-blast");
			e.anchor.setTo(.5, .5), e.scale.x = this.source.x < this.target.x ? 1 : -1, this.overLayer.add(e), this.game.add.tween(e).to({
				x: this.source.x,
				y: this.source.y - 100
			}, 1, Phaser.Easing.Linear.None).to({
				x: this.target.x
			}, 1500, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 1, Phaser.Easing.Linear.None).start();
			for (var t = Math.floor(Math.abs(this.target.x - this.source.x) / 50) + 1, i = 1; t > i; i++) {
				var a = t - 1 > i ? i % 2 + 1 : 3;
				e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "ice-shard" + a), e.anchor.setTo(.5, 1), e.scale.y = 0, this.overLayer.add(e);
				var s = this.source.x < this.target.x ? 1 : -1;
				this.game.add.tween(e).to({
					x: this.source.x + 50 * i * s,
					y: this.source.y
				}, 1, Phaser.Easing.Linear.None).delay(1500 * i / t).start(), this.game.add.tween(e.scale).to({
					y: 1
				}, 100, Phaser.Easing.Linear.None).delay(1500 * i / t).to({
					y: 0
				}, 1500, Phaser.Easing.Linear.None).delay(1500 * i / t).start()
			}
			var r = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-head");
			r.alpha = .5, r.scale.x = this.source.x < this.target.x ? 1 : -1, r.anchor.setTo(.5, .5), this.overLayer.add(r), this.game.add.tween(r).to({
				x: this.source.x + 5,
				y: this.source.y - 100
			}, 1, Phaser.Easing.Linear.None).to({
				x: this.target.x + 5
			}, 1500, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 1, Phaser.Easing.Linear.None).start(), r = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-tail"), r.scale.x = 0, r.alpha = .5, r.anchor.setTo(1, .5), this.overLayer.add(r), this.game.add.tween(r).to({
				x: this.source.x + 5 + (this.source.x < this.target.x ? -42 : 42),
				y: this.source.y - 100
			}, 1, Phaser.Easing.Linear.None).to({
				x: this.target.x + 5 + (this.source.x < this.target.x ? -42 : 42)
			}, 1500, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(r.scale).to({
				x: this.source.x < this.target.x ? 1 : -1
			}, 800, Phaser.Easing.Linear.None).start();
			var o = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-dome");
			this.overLayer.add(o), o.scale.x = o.scale.y = 0, o.alpha = .8, o.anchor.setTo(.5, .8), this.game.add.tween(o).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(1500).to({
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(o.scale).to({
				x: 3,
				y: 3
			}, 300, Phaser.Easing.Linear.None).delay(1500).start()
		}, e
	}(),
	IcePrison = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 6e3, "ice", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 4100);
			for (var e = [], t = 0; 6 > t; t++) {
				var i = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "ice-prison");
				this.overLayer.add(i), i.angle = 0, i.anchor.setTo(.5, .75), e.push(i)
			}
			for (var a = 1e3, t = 0; 6 > t; t++) this.game.prodigy.effects.shake(200 * t + a + 100, 100, 5, "v");
			this.game.add.tween(e[5]).to({
				x: this.target.x,
				y: -200
			}, 1, Phaser.Easing.Linear.None).delay(a).to({
				y: this.target.y
			}, 100, Phaser.Easing.Linear.None).to({}, a + 2e3, Phaser.Easing.Linear.None).to({
				x: this.target.x,
				y: -200,
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).start(), e[4].angle = -45, this.game.add.tween(e[4]).to({
				x: this.target.x - 200,
				y: -200
			}, 1, Phaser.Easing.Linear.None).delay(a + 200).to({
				x: this.target.x - 50,
				y: this.target.y - 40
			}, 100, Phaser.Easing.Linear.None).to({}, a + 2e3 - 200, Phaser.Easing.Linear.None).to({
				x: this.target.x - 200,
				y: -200,
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).start(), e[3].angle = 45, this.game.add.tween(e[3]).to({
				x: this.target.x + 200,
				y: -200
			}, 1, Phaser.Easing.Linear.None).delay(a + 400).to({
				x: this.target.x + 50,
				y: this.target.y - 40
			}, 100, Phaser.Easing.Linear.None).to({}, a + 2e3 - 400, Phaser.Easing.Linear.None).to({
				x: this.target.x + 200,
				y: -200,
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).start(), e[2].angle = -20, this.game.add.tween(e[2]).to({
				x: this.target.x - 100,
				y: -200
			}, 1, Phaser.Easing.Linear.None).delay(a + 600).to({
				x: this.target.x - 25,
				y: this.target.y - 100
			}, 100, Phaser.Easing.Linear.None).to({}, a + 2e3 - 600, Phaser.Easing.Linear.None).to({
				x: this.target.x - 100,
				y: -200,
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).start(), e[1].angle = 20, this.game.add.tween(e[1]).to({
				x: this.target.x + 100,
				y: -200
			}, 1, Phaser.Easing.Linear.None).delay(a + 800).to({
				x: this.target.x + 25,
				y: this.target.y - 100
			}, 100, Phaser.Easing.Linear.None).to({}, a + 2e3 - 800, Phaser.Easing.Linear.None).to({
				x: this.target.x + 100,
				y: -200,
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(e[0]).to({
				x: this.target.x,
				y: -200
			}, 1, Phaser.Easing.Linear.None).delay(a + 1e3).to({
				y: this.target.y - 150
			}, 100, Phaser.Easing.Linear.None).to({}, a + 2e3 - 1e3, Phaser.Easing.Linear.None).to({
				x: this.target.x,
				y: -200,
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).start();
			for (var t = 0; 50 > t; t++) {
				var i = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "ice-blast");
				this.overLayer.add(i), i.anchor.setTo(.5, .5), i.angle = this.source.x < this.target.x ? 45 : 135;
				var s = this.source.x < this.target.x ? -500 + Math.floor(500 * Math.random()) : 500 - Math.floor(500 * Math.random()),
					r = s + (this.source.x < this.target.x ? 400 : -400);
				this.game.add.tween(i).to({
					x: this.target.x + s,
					y: -50
				}, 1, Phaser.Easing.Linear.None).delay(50 * t).to({
					x: this.target.x + r,
					y: 800
				}, 500, Phaser.Easing.Linear.None).start()
			}
		}, e
	}(),
	IceToMeetYou = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 5e3, "ice", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 4100);
			for (var e = this.target.x < this.source.x ? -1 : 1, t = this.source.x + (this.target.x - this.source.x) / 2, i = this.source.y - 100, a = 0; 6 > a; a++) {
				var s = 100 + 65 * a,
					r = t + e * Math.floor(s * Math.cos(-Math.PI / 4)),
					o = i + Math.floor(s * Math.sin(-Math.PI / 4)),
					n = t + e * Math.floor(s * Math.cos(0)),
					h = i + Math.floor(s * Math.sin(0));
				l = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", 5 > a ? "ice-blast" : "ice-prison"), l.anchor.setTo(.5, .5), l.scale.x = l.scale.y = .5, l.alpha = 0, l.angle = 5 > a ? 90 : 0, this.overLayer.add(l), this.game.add.tween(l).to({
					x: t,
					y: i
				}, 1, Phaser.Easing.Linear.None).delay(500).to({
					x: r,
					y: o,
					alpha: 1
				}, 500, Phaser.Easing.Linear.None).to({}, 500 + 50 * a, Phaser.Easing.Linear.None).to({
					x: n,
					y: h
				}, 200, Phaser.Easing.Linear.None).to({}, 300, Phaser.Easing.Linear.None).to({
					x: r,
					y: o
				}, 300, Phaser.Easing.Linear.None).to({}, 300, Phaser.Easing.Linear.None).to({
					x: n,
					y: h
				}, 200, Phaser.Easing.Linear.None).to({}, 300, Phaser.Easing.Linear.None).to({
					x: r,
					y: o
				}, 300, Phaser.Easing.Linear.None).to({}, 300, Phaser.Easing.Linear.None).to({
					x: n,
					y: h
				}, 200, Phaser.Easing.Linear.None).to({}, 300, Phaser.Easing.Linear.None).start()
			}
			var l = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "ice-prison");
			l.anchor.setTo(.5, .5), l.alpha = 0, this.overLayer.add(l);
			for (var d = this.game.add.tween(l).to({
					x: t,
					y: i
				}, 1, Phaser.Easing.Linear.None).to({
					alpha: 1
				}, 500, Phaser.Easing.Linear.None), a = 0; 6 > a; a++) d.to({
				y: "+25"
			}, 250, Phaser.Easing.Quadratic.Out).to({
				y: "-25"
			}, 250, Phaser.Easing.Quadratic.In).to({
				y: "-25"
			}, 250, Phaser.Easing.Quadratic.Out).to({
				y: "+25"
			}, 250, Phaser.Easing.Quadratic.In);
			d.start(), l = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "ice-elemental"), l.anchor.setTo(.5, .5), l.alpha = 0, l.scale.y = 1.5, l.scale.x = 1.5 * e, this.overLayer.add(l);
			for (var p = this.game.add.tween(l).to({
					x: t,
					y: i - 100
				}, 1, Phaser.Easing.Linear.None).delay(250).to({
					alpha: 1
				}, 500, Phaser.Easing.Linear.None), a = 0; 6 > a; a++) p.to({
				y: "+25"
			}, 250, Phaser.Easing.Quadratic.Out).to({
				y: "-25"
			}, 250, Phaser.Easing.Quadratic.In).to({
				y: "-25"
			}, 250, Phaser.Easing.Quadratic.Out).to({
				y: "+25"
			}, 250, Phaser.Easing.Quadratic.In);
			p.start();
			var c = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-dome");
			this.overLayer.add(c), c.scale.x = c.scale.y = 0, c.alpha = .8, c.anchor.setTo(.5, .8), this.game.add.tween(c).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(1900).to({
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).to({
				alpha: .8
			}, 800, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).to({
				alpha: .8
			}, 800, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(c.scale).to({
				x: 3,
				y: 3
			}, 300, Phaser.Easing.Linear.None).delay(1900).to({
				x: 0,
				y: 0
			}, 800, Phaser.Easing.Linear.None).to({
				x: 3,
				y: 3
			}, 300, Phaser.Easing.Linear.None).to({
				x: 0,
				y: 0
			}, 800, Phaser.Easing.Linear.None).to({
				x: 3,
				y: 3
			}, 300, Phaser.Easing.Linear.None).start(), this.game.prodigy.effects.shake(1900, 100, 5, "v"), this.game.prodigy.effects.shake(3e3, 100, 5, "v"), this.game.prodigy.effects.shake(4100, 100, 5, "v")
		}, e
	}(),
	LeafWind = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 7e3, "earth", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 4500);
			for (var e = 0; 100 > e; e++) this.createLeaf(e, 25 * e, this.source.x < this.target.x)
		}, e.prototype.createLeaf = function (e, t, i) {
			var a = this.game.prodigy.create.sprite(i ? -100 : 1380, Math.floor(720 * Math.random()), "attacks", "earth-leaf");
			Math.random() < .5 ? this.overLayer.add(a) : this.underLayer.add(a), a.anchor.setTo(Math.random(), Math.random()), this.game.add.tween(a).to({
				x: i ? 1380 : -100,
				angle: 1e3
			}, 2e3, Phaser.Easing.Linear.None, !0, t).onComplete.add(function () {
				a.kill()
			}, a)
		}, e
	}(),
	MagiShot = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 2e3, "wizard", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 1e3);
			for (var e = 100, t = (this.target.x - this.source.x) / e, i = 0; e > i; i++) {
				var a = (Math.random() < .25 ? "core-box-empty-" : "core-box-") + Math.floor(6 * Math.random()),
					s = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", a);
				s.anchor.setTo(.5, .5), s.scale.x = s.scale.y = 0, s.alpha = .8, this.overLayer.add(s);
				var r = Math.floor(1e3 * i / e),
					o = Math.floor(-20 + 40 * Math.random());
				this.game.add.tween(s).to({
					x: Math.floor(this.source.x + i * t),
					y: this.source.y - 50 + o
				}, 1, Phaser.Easing.Linear.None).delay(r).to({
					alpha: 0
				}, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(s.scale).to({
					x: 1,
					y: 1
				}, 500, Phaser.Easing.Linear.None).delay(r).start()
			}
			for (var i = 0; 3 > i; i++) {
				var n = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-circle-small");
				this.underLayer.add(n), n.anchor.setTo(.5, .5), n.alpha = .25, n.scale.x = n.scale.y = 0, this.game.add.tween(n).to({
					x: this.target.x,
					y: this.target.y - 50
				}, 1, Phaser.Easing.Linear.None).delay(1e3 + 100 * i).to({
					alpha: 0
				}, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(n.scale).to({
					x: 0,
					y: 0
				}, 1, Phaser.Easing.Linear.None).delay(1e3 + 100 * i).to({
					x: 10,
					y: 10
				}, 500, Phaser.Easing.Linear.None).start()
			}
			for (var e = 50, i = 0; e > i; i++) {
				var a = (Math.random() < .25 ? "core-box-empty-" : "core-box-") + Math.floor(6 * Math.random()),
					s = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", a);
				s.anchor.setTo(.5, .5), s.alpha = .8, this.overLayer.add(s);
				var h = 200 + Math.floor(200 * Math.random()),
					l = Math.random() * Math.PI * 2,
					t = Math.floor(this.target.x + h * Math.cos(l)),
					o = Math.floor(this.target.y + h * Math.sin(l)),
					d = 300 + Math.floor(300 * Math.random());
				this.game.add.tween(s).to({
					x: Math.floor(this.target.x),
					y: this.target.y - 50
				}, 1, Phaser.Easing.Linear.None).delay(1e3).to({
					x: t,
					y: -50 + o,
					alpha: 0
				}, d, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(s.scale).to({
					x: 1,
					y: 1
				}, d, Phaser.Easing.Linear.None).delay(1e3).start()
			}
		}, e
	}(),
	Mudball = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 2e3, "earth", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 1e3);
			var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "earth-mudball");
			e.anchor.setTo(.5, .5), e.scale.x = e.scale.y = .5, this.overLayer.add(e), this.game.add.tween(e).to({
				x: this.source.x,
				y: this.source.y - 100
			}, 1, Phaser.Easing.Linear.None).to({
				x: this.target.x
			}, 1e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 1, Phaser.Easing.Linear.None).start();
			var t = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-head");
			t.alpha = .5, t.scale.x = this.source.x < this.target.x ? 1 : -1, t.anchor.setTo(.5, .5), this.overLayer.add(t), this.game.add.tween(t).to({
				x: this.source.x,
				y: this.source.y - 100
			}, 1, Phaser.Easing.Linear.None).to({
				x: this.target.x
			}, 1e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 1, Phaser.Easing.Linear.None).start(), t = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-tail"), t.scale.x = 0, t.alpha = .5, t.anchor.setTo(1, .5), this.overLayer.add(t), this.game.add.tween(t).to({
				x: this.source.x + (this.source.x < this.target.x ? -42 : 42),
				y: this.source.y - 100
			}, 1, Phaser.Easing.Linear.None).to({
				x: this.target.x + (this.source.x < this.target.x ? -42 : 42)
			}, 1e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(t.scale).to({
				x: this.source.x < this.target.x ? 1 : -1
			}, 500, Phaser.Easing.Linear.None).start();
			var i = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-dome");
			this.overLayer.add(i), i.scale.x = i.scale.y = 0, i.alpha = .8, i.anchor.setTo(.5, .8), this.game.add.tween(i).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(1e3).to({
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(i.scale).to({
				x: 3,
				y: 3
			}, 300, Phaser.Easing.Linear.None).delay(1e3).start()
		}, e
	}(),
	Powerbeam = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 5e3, "wizard", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 4100);
			for (var e = this.target.x < this.source.x, t = 100, i = 0; t > i; i++) {
				var a = (Math.random() < .25 ? "core-box-empty-" : "core-box-") + Math.floor(6 * Math.random()),
					s = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", a);
				s.anchor.setTo(.5, .5), s.scale.x = s.scale.y = 0, s.alpha = .8, this.overLayer.add(s);
				var r = 200 + Math.floor(200 * Math.random()),
					o = Math.random() * Math.PI * 2,
					n = Math.floor(this.source.x + r * Math.cos(o)),
					h = Math.floor(this.source.y + r * Math.sin(o)),
					l = Math.floor(1e3 * i / t);
				this.game.add.tween(s).to({
					x: n,
					y: h - 50
				}, 1, Phaser.Easing.Linear.None).delay(l).to({
					x: this.source.x,
					y: this.source.y - 50
				}, 1e3, Phaser.Easing.Cubic.In).start(), this.game.add.tween(s.scale).to({
					x: 1.5,
					y: 1.5
				}, 400, Phaser.Easing.Quadratic.Out).delay(l).to({
					x: 0,
					y: 0
				}, 600, Phaser.Easing.Quadratic.In).start()
			}
			for (var i = 0; 3 > i; i++) {
				var d = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-circle-small");
				this.overLayer.add(d), d.anchor.setTo(.5, .5), d.alpha = .6, d.scale.x = d.scale.y = 0, this.game.add.tween(d).to({
					x: this.source.x,
					y: this.source.y - 50
				}, 1, Phaser.Easing.Linear.None).delay(2e3 + 200 * i).to({
					alpha: 0
				}, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(d.scale).to({
					x: 0,
					y: 0
				}, 1, Phaser.Easing.Linear.None).delay(2e3 + 200 * i).to({
					x: 10,
					y: 10
				}, 500, Phaser.Easing.Linear.None).start()
			}
			var p = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-beam2");
			this.overLayer.add(p), p.alpha = .5, p.anchor.setTo(.5, 1), p.angle = 90, p.height = p.width = 0, this.game.add.tween(p).to({
				x: 0,
				y: this.source.y - 50
			}, 1, Phaser.Easing.Linear.None).delay(2e3).start(), this.game.add.tween(p).to({
				height: 1280,
				width: 300
			}, 100, Phaser.Easing.Linear.None).delay(2e3).to({}, 2e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 500, Phaser.Easing.Linear.None).start(), this.game.prodigy.effects.shake(2e3, 2e3), t = 100;
			for (var i = 0; t > i; i++) {
				var a = (Math.random() < .25 ? "core-box-empty-" : "core-box-") + Math.floor(6 * Math.random()),
					s = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", a);
				s.anchor.setTo(.5, .5), s.alpha = .8, this.overLayer.add(s);
				var h = this.game.rnd.integerInRange(-150, 150),
					l = 2e3 + Math.floor(2e3 * i / t);
				this.game.add.tween(s).to({
					x: e ? 1400 : 0,
					y: this.source.y - 50 + h
				}, 1, Phaser.Easing.Linear.None).delay(l).to({
					x: e ? -100 : 1400
				}, 500, Phaser.Easing.Linear.None).start()
			}
		}, e
	}(),
	Pummel = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 5500, "wizard", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 5e3);
			for (var e = 0; 9 > e; e++) {
				var t = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-circle-small");
				this.underLayer.add(t), t.anchor.setTo(.5, .5), t.alpha = .6, t.scale.x = t.scale.y = 0, this.game.add.tween(t).to({
					x: this.target.x,
					y: this.target.y
				}, 1, Phaser.Easing.Linear.None).delay(500 * e).to({
					alpha: 0
				}, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(t.scale).to({
					x: 0,
					y: 0
				}, 1, Phaser.Easing.Linear.None).delay(500 * e).to({
					x: 10,
					y: 5
				}, 500, Phaser.Easing.Linear.None).start()
			}
			for (var e = 0; 20 > e; e++) {
				var i = "core-box-" + Math.floor(6 * Math.random()),
					a = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", i);
				a.alpha = .75, a.anchor.setTo(.5, 0), a.height = 0, a.width = 80;
				var s = this.target.x + Math.floor(-200 + 400 * Math.random()),
					r = this.target.y + Math.floor(-200 + 400 * Math.random()),
					o = 1e3 + 200 * e;
				this.game.add.tween(a).to({
					x: s,
					y: 0
				}, 1, Phaser.Easing.Linear.None).delay(o).to({
					height: r
				}, 100, Phaser.Easing.Linear.None).to({
					alpha: 0
				}, 100, Phaser.Easing.Linear.None).start(), this.game.prodigy.effects.shake(o + 100, 100);
				var n = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-dome");
				this.overLayer.add(n), n.scale.x = n.scale.y = 0, n.alpha = .8, n.anchor.setTo(.5, .8), this.game.add.tween(n).to({
					x: s,
					y: r
				}, 1, Phaser.Easing.Linear.None).delay(o + 100).to({
					alpha: 0
				}, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(n.scale).to({
					x: 3,
					y: 3
				}, 300, Phaser.Easing.Linear.None).delay(o + 100).start(), r < this.target.y ? (this.underLayer.add(a), this.underLayer.add(n)) : (this.overLayer.add(a), this.overLayer.add(n))
			}
		}, e
	}(),
	RainyDay = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 3500, "water", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 3e3);
			var e = new Phaser.TileSprite(this.game, 0, 0, 1280, 720, "attacks", "water-rain");
			this.showOverlay(e, 3e3, 5, 5, 0)
		}, e
	}(),
	Razorfire = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 3e3, "fire", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 2250);
			var e = [];
			e.push(this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "fire-bomb")), e.push(this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "fire-ring"));
			for (var t = this.source.x < this.target.x ? 1 : -1, i = 0; i < e.length; i++) this.overLayer.add(e[i]), e[i].anchor.setTo(.5, .5), e[i].scale.x = e[i].scale.y = 0, this.game.add.tween(e[i]).to({
				x: this.source.x
			}, 1, Phaser.Easing.Quadratic.Out).to({
				x: this.source.x + (this.target.x - this.source.x) / 2,
				angle: 100 * t
			}, 1e3, Phaser.Easing.Linear.None).to({
				angle: 4e3 * t
			}, 1e3, Phaser.Easing.Quadratic.In).to({
				x: this.target.x,
				angle: 4500 * t
			}, 250, Phaser.Easing.Linear.None).to({
				x: this.target.x + (this.target.x - this.source.x) / 2,
				angle: 5e3 * t,
				alpha: 0
			}, 250, Phaser.Easing.Linear.None).start(), this.game.add.tween(e[i]).to({
				y: this.source.y
			}, 1, Phaser.Easing.Quadratic.Out).to({
				y: this.source.y - 200
			}, 500, Phaser.Easing.Quadratic.Out).to({
				y: this.source.y
			}, 500, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(e[i].scale).to({
				x: -t,
				y: 1
			}, 1e3, Phaser.Easing.Quadratic.Out).start();
			for (var i = 0; 3 > i; i++) {
				var a = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "fire-cloud");
				this.overLayer.add(a), a.anchor.setTo(.5, .5), this.game.add.tween(a).to({
					x: this.target.x,
					y: this.target.y
				}, 1, Phaser.Easing.Quadratic.Out).delay(2250 + 80 * i).to({
					y: "-300",
					alpha: 0
				}, 500, Phaser.Easing.Quadratic.Out).start()
			}
			for (var i = 0; 10 > i; i++) {
				var a = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-cloud");
				this.underLayer.add(a), a.anchor.setTo(1 === t ? .75 : .25, .5);
				var s = this.source.x + (this.target.x - this.source.x) / 2;
				this.game.add.tween(a).to({
					x: s,
					y: this.target.y
				}, 1, Phaser.Easing.Quadratic.Out).delay(1e3 + 100 * i).to({
					x: s - 100 * t,
					y: "-100",
					alpha: 0
				}, 250, Phaser.Easing.Quadratic.Out).start()
			}
			var r = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-dome");
			this.overLayer.add(r), r.scale.x = r.scale.y = 0, r.alpha = .8, r.anchor.setTo(.5, .8), this.game.add.tween(r).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(2250).to({
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(r.scale).to({
				x: 3,
				y: 3
			}, 300, Phaser.Easing.Linear.None).delay(2250).start()
		}, e
	}(),
	Shocksphere = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 3500, "storm", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 2900);
			for (var e = 0; 2 > e; e++) {
				var t = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-lightning-0");
				t.animations.add("a", ["storm-lightning-0", "storm-lightning-1", "storm-lightning-2"], 30 + Math.floor(5 * Math.random()), !0, !1), t.animations.play("a"), t.anchor.setTo(.5, 1), this.overLayer.add(t), t.scale.y = 0 === e ? 1 : -1, this.game.add.tween(t).to({
					x: this.target.x,
					y: 0 === e ? this.target.y - 50 - 82 : this.target.y - 50 + 82
				}, 1, Phaser.Easing.Linear.None).to({
					y: 0 === e ? "-82" : "+82"
				}, 400, Phaser.Easing.Quadratic.In).to({
					y: "-200"
				}, 2e3, Phaser.Easing.Linear.None).to({
					alpha: 0
				}, 1, Phaser.Easing.Linear.None).start()
			}
			var i = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "water-prison");
			this.overLayer.add(i);
			var a = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-steam");
			this.underLayer.add(a), a.anchor.setTo(.5, .5), i.anchor.setTo(.5, .5), this.game.add.tween(i).to({
				x: this.target.x,
				y: this.target.y - 50,
				alpha: .75
			}, 1, Phaser.Easing.Linear.None).to({}, 400, Phaser.Easing.Linear.None).to({
				y: this.target.y - 250
			}, 2e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 100, Phaser.Easing.Linear.None).start(), this.game.add.tween(i.scale).to({
				x: 2,
				y: 2
			}, 400, Phaser.Easing.Quadratic.In).to({}, 2e3, Phaser.Easing.Linear.None).to({
				x: 5,
				y: 5
			}, 100, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target).to({
				y: "-200"
			}, 2e3, Phaser.Easing.Linear.None).delay(401).to({
				y: "+200"
			}, 500, Phaser.Easing.Quadratic.In).to({
				y: "-50"
			}, 250, Phaser.Easing.Quadratic.Out).to({
				y: "+50"
			}, 250, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(a).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(2901).to({
				y: "-100",
				alpha: 0
			}, 250, Phaser.Easing.Quadratic.Out).start()
		}, e
	}(),
	Snowman = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 5e3, "ice", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 4500);
			var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "ice-snowman-body");
			e.anchor.setTo(.5, 1), this.overLayer.add(e), this.game.add.tween(e).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(3e3).to({}, 1500, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 100, Phaser.Easing.Linear.None).start(), e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "ice-snowman-head"), e.anchor.setTo(.5, 1), e.scale.x = this.source.x < this.target.x ? -1 : 1, this.overLayer.add(e), this.game.add.tween(e).to({
				x: this.target.x,
				y: this.target.y - 100
			}, 1, Phaser.Easing.Linear.None).delay(3e3).to({}, 1500, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 100, Phaser.Easing.Linear.None).start(), e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "ice-snowman-body"), e.anchor.setTo(.5, .5), e.scale.x = e.scale.y = .25, this.overLayer.add(e), this.game.add.tween(e).to({
				x: this.source.x,
				y: this.source.y
			}, 1, Phaser.Easing.Linear.None).to({
				x: this.target.x,
				y: this.target.y - 168,
				angle: this.source.x < this.target.x ? 720 : -720
			}, 3e3, Phaser.Easing.Quadratic.Out).to({
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(e.scale).to({
				x: 2.5,
				y: 2.5
			}, 3e3, Phaser.Easing.Quadratic.Out).to({
				x: 5,
				y: 5
			}, 300, Phaser.Easing.Linear.None).start();
			var t = this.target.scale.x;
			this.game.add.tween(this.target.scale).to({
				x: 0,
				y: 0
			}, 1, Phaser.Easing.Linear.None).delay(3e3).to({}, 1500, Phaser.Easing.Linear.None).to({
				x: t,
				y: 1
			}, 200, Phaser.Easing.Linear.None).start();
			var i = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-dome");
			this.overLayer.add(i), i.scale.x = i.scale.y = 0, i.alpha = .8, i.anchor.setTo(.5, .8), this.game.add.tween(i).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(4500).to({
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(i.scale).to({
				x: 3,
				y: 3
			}, 300, Phaser.Easing.Linear.None).delay(4500).start()
		}, e
	}(),
	StormComing = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 5e3, "storm", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 4500), this.game.prodigy.effects.shake(1500, 3e3, 3);
			var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-lightning-0");
			e.animations.add("a", ["storm-lightning-0", "storm-lightning-1", "storm-lightning-2"], 30, !0, !1), e.animations.play("a"), this.overLayer.add(e), e.anchor.setTo(.5, 1);
			var t = this.game.add.tween(e).to({
					x: this.target.x,
					y: 0
				}, 1, Phaser.Easing.Linear.None).delay(1500),
				i = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-dome");
			this.overLayer.add(i), i.scale.x = i.scale.y = 0, i.alpha = .8, i.anchor.setTo(.5, .8);
			for (var a = this.game.add.tween(i), s = this.game.add.tween(i.scale), r = 0; 25 > r; r++) {
				var o = Math.floor(50 + 1180 * Math.random()),
					n = this.target.y + Math.floor(-50 + 300 * Math.random());
				t.to({
					x: o,
					y: 0
				}, 1, Phaser.Easing.Linear.None), t.to({
					y: n
				}, 99, Phaser.Easing.Linear.None), a.to({
					x: o,
					y: n,
					alpha: 1
				}, 1, Phaser.Easing.Linear.None), a.to({
					alpha: 0
				}, 99, Phaser.Easing.Linear.None), s.to({
					x: 0,
					y: 0
				}, 1, Phaser.Easing.Linear.None), s.to({
					x: 2,
					y: 2
				}, 99, Phaser.Easing.Linear.None)
			}
			t.to({
				x: Attack.BX,
				y: Attack.BY
			}, 1, Phaser.Easing.Linear.None), a.delay(1600).start(), s.delay(1600).start(), t.start();
			for (var h = 320, r = 0; 4 > r; r++) {
				var i = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-cloud2");
				this.overLayer.add(i), i.scale.x = i.scale.y = 2.5, i.anchor.setTo(.5, 1), this.game.add.tween(i).to({
					x: 180 + r * h,
					y: 0
				}, 1, Phaser.Easing.Linear.None).to({
					y: 150
				}, 1500, Phaser.Easing.Quadratic.Out).to({}, 3e3, Phaser.Easing.Linear.None).to({
					alpha: 0
				}, 300, Phaser.Easing.Linear.None).start()
			}
			var l = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-titan");
			this.overLayer.add(l), l.anchor.setTo(.5, .5), l.alpha = .75, this.game.add.tween(l).to({
				x: 640,
				y: 360
			}, 1, Phaser.Easing.Linear.None).delay(1500).to({}, 3e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(l.scale).to({
				x: 2,
				y: 2
			}, 3e3, Phaser.Easing.Linear.None).delay(1500).to({
				x: 4,
				y: 4
			}, 300, Phaser.Easing.Linear.None).start()
		}, e
	}(),
	TempAttack = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 6e3, "ice", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 6e3), this.game.prodigy.effects.shake(4e3, 1500, 3, null), this.manager = this.game.plugins.add(Phaser.ParticleStorm);
			var e = {
				lifespan: 4e3,
				image: "attacks",
				frame: "ice-snow",
				ay: -.08,
				vx: {
					value: {
						min: -2,
						max: 2
					},
					control: [{
						x: 0,
						y: 1
					}, {
						x: 1,
						y: .1
					}]
				},
				vy: {
					value: 0,
					control: [{
						x: 0,
						y: 1
					}, {
						x: 1,
						y: .1
					}]
				}
			};
			this.manager.addData("snow", e), emitter = this.manager.createEmitter(), emitter.createGravityWell(this.target.x, this.target.y, 100), emitter.addToWorld(this.foreground), emitter.emit("snow", this.source.x + 40, this.source.y - 80, {
				repeat: 120,
				frequency: 10,
				total: 50
			})
		}, e
	}(),
	Thunderdome = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 5e3, "storm", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 4500);
			for (var e = 0; 2 > e; e++) {
				var t = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-dome");
				this.overLayer.add(t), t.scale.x = t.scale.y = 0, t.alpha = .5, t.anchor.setTo(.5, .8), this.game.add.tween(t).to({
					x: this.target.x,
					y: this.target.y
				}, 1, Phaser.Easing.Linear.None).delay(150 * e).to({}, 4300, Phaser.Easing.Linear.None).to({
					alpha: 0
				}, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(t.scale).to({
					x: 3,
					y: 3
				}, 4e3, Phaser.Easing.Linear.None).delay(150 * e).to({
					x: 1.5,
					y: 1.5
				}, 300, Phaser.Easing.Quadratic.Out).to({
					x: 4,
					y: 4
				}, 300, Phaser.Easing.Quadratic.In).start()
			}
			var i = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-lightning-0");
			i.animations.add("a", ["storm-lightning-0", "storm-lightning-1", "storm-lightning-2"], 30, !0, !1), i.animations.play("a"), this.overLayer.add(i), i.anchor.setTo(.5, 1);
			for (var a = this.game.add.tween(i).to({
					x: this.target.x,
					y: 0
				}, 1, Phaser.Easing.Linear.None), e = 0; 30 > e; e++) {
				var s = 100 * e,
					r = 25e-5 * s * 300,
					o = Math.PI * Math.random(),
					n = this.target.x + r * Math.cos(o),
					h = this.target.y + r * Math.sin(o);
				h > this.target.y && (h = this.target.y - (h - this.target.y)), a.to({
					x: n,
					y: 0
				}, 1, Phaser.Easing.Linear.None), a.to({
					y: h
				}, 99, Phaser.Easing.Linear.None)
			}
			a.to({
				x: Attack.BX,
				y: Attack.BY
			}, 1, Phaser.Easing.Linear.None), a.start()
		}, e
	}(),
	Trinity = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 3e3, "storm", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 2e3);
			for (var e = 2 * Math.PI / 3, t = 0; 3 > t; t++) {
				var i = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-lightning-0");
				i.animations.add("a", ["storm-lightning-0", "storm-lightning-1", "storm-lightning-2"], 30 + Math.floor(5 * Math.random()), !0, !1), i.animations.play("a"), i.anchor.setTo(.5, 1);
				var a = this.target.x + Math.floor(300 * Math.cos(-Math.PI / 4 + e * t)),
					s = this.target.y + Math.floor(300 * Math.sin(-Math.PI / 4 + e * t));
				s < this.target.y ? this.underLayer.add(i) : this.overLayer.add(i), this.game.add.tween(i).to({
					x: a,
					y: s
				}, 1, Phaser.Easing.Linear.None).to({
					x: this.target.x,
					y: this.target.y
				}, 2e3, Phaser.Easing.Quadratic.In).to({
					alpha: 0
				}, 1, Phaser.Easing.Linear.None).start()
			}
			for (var t = 0; 2 > t; t++) {
				var r = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-dome");
				this.overLayer.add(r), r.scale.x = r.scale.y = 0, r.alpha = .5, r.anchor.setTo(.5, .8), this.game.add.tween(r).to({
					x: this.target.x,
					y: this.target.y
				}, 1, Phaser.Easing.Linear.None).delay(2e3 + 150 * t).to({
					alpha: 0
				}, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(r.scale).to({
					x: 4,
					y: 4
				}, 300, Phaser.Easing.Linear.None).delay(2e3 + 150 * t).start()
			}
		}, e
	}(),
	WaterBlast = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 2e3, "water", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 1e3);
			var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "water-bubble");
			e.anchor.setTo(.5, .5), this.overLayer.add(e), this.game.add.tween(e).to({
				x: this.source.x,
				y: this.source.y - 100
			}, 1, Phaser.Easing.Linear.None).to({
				x: this.target.x
			}, 1e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 1, Phaser.Easing.Linear.None).start();
			var t = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-head");
			t.alpha = .5, t.scale.x = this.source.x < this.target.x ? 1 : -1, t.anchor.setTo(.5, .5), this.overLayer.add(t), this.game.add.tween(t).to({
				x: this.source.x,
				y: this.source.y - 100
			}, 1, Phaser.Easing.Linear.None).to({
				x: this.target.x
			}, 1e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 1, Phaser.Easing.Linear.None).start(), t = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-tail"), t.scale.x = 0, t.alpha = .5, t.anchor.setTo(1, .5), this.overLayer.add(t), this.game.add.tween(t).to({
				x: this.source.x + (this.source.x < this.target.x ? -42 : 42),
				y: this.source.y - 100
			}, 1, Phaser.Easing.Linear.None).to({
				x: this.target.x + (this.source.x < this.target.x ? -42 : 42)
			}, 1e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(t.scale).to({
				x: this.source.x < this.target.x ? 1 : -1
			}, 500, Phaser.Easing.Linear.None).start();
			var i = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-dome");
			this.overLayer.add(i), i.scale.x = i.scale.y = 0, i.alpha = .8, i.anchor.setTo(.5, .8), this.game.add.tween(i).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(1e3).to({
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(i.scale).to({
				x: 3,
				y: 3
			}, 300, Phaser.Easing.Linear.None).delay(1e3).start()
		}, e
	}(),
	WaterBomb = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 4e3, "water", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 3300);
			var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "water-bubble-big");
			this.overLayer.add(e), e.anchor.setTo(.5, .5), this.game.add.tween(e).to({
				x: this.target.x,
				y: -200
			}, 1, Phaser.Easing.Linear.None).to({
				y: 40
			}, 1500, Phaser.Easing.Quadratic.Out).to({
				y: this.target.y
			}, 1500, Phaser.Easing.Quadratic.In).to({
				alpha: 0
			}, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(e.scale).to({
				x: .5,
				y: 2
			}, 1500, Phaser.Easing.Quadratic.Out).to({
				x: 1.25,
				y: .75
			}, 300, Phaser.Easing.Quadratic.Out).to({
				x: .75,
				y: 1.25
			}, 300, Phaser.Easing.Quadratic.InOut).to({
				x: 1.25,
				y: .75
			}, 300, Phaser.Easing.Quadratic.InOut).to({
				x: .75,
				y: 1.25
			}, 300, Phaser.Easing.Quadratic.InOut).to({
				x: 1.25,
				y: .75
			}, 300, Phaser.Easing.Quadratic.InOut).start();
			var t = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "water-splash");
			this.overLayer.add(t), t.anchor.setTo(.5, .8), this.game.add.tween(t).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(3e3).start(), this.game.add.tween(t.scale).to({
				x: 2,
				y: 0
			}, 1, Phaser.Easing.Linear.None).delay(3e3).to({
				y: 2
			}, 300, Phaser.Easing.Quadratic.Out).to({
				y: 0
			}, 300, Phaser.Easing.Quadratic.In).start()
		}, e
	}(),
	WaterBubble = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 4e3, "water", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 3e3);
			var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "water-prison");
			this.overLayer.add(e);
			var t = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-steam");
			this.underLayer.add(t), t.anchor.setTo(.5, .5), e.anchor.setTo(.5, .5);
			this.game.add.tween(e).to({
				x: this.target.x,
				y: this.target.y - 50,
				alpha: .75
			}, 1, Phaser.Easing.Linear.None).to({}, 500, Phaser.Easing.Linear.None).to({
				y: this.target.y - 450
			}, 1500, Phaser.Easing.Quadratic.Out).to({
				alpha: 0
			}, 100, Phaser.Easing.Linear.None).start(), this.game.add.tween(e.scale).to({
				x: 2.5,
				y: 2.5
			}, 400, Phaser.Easing.Quadratic.In).to({
				x: 3,
				y: 3
			}, 400, Phaser.Easing.Quadratic.Out).to({
				x: 2.5,
				y: 2.5
			}, 400, Phaser.Easing.Quadratic.In).to({
				x: 3,
				y: 3
			}, 400, Phaser.Easing.Quadratic.Out).to({
				x: 2.5,
				y: 2.5
			}, 400, Phaser.Easing.Quadratic.In).to({
				x: 5,
				y: 5
			}, 100, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target).to({
				y: "-400"
			}, 1500, Phaser.Easing.Quadratic.Out).delay(501).to({
				y: "+400"
			}, 1e3, Phaser.Easing.Quadratic.In).to({
				y: "-50"
			}, 250, Phaser.Easing.Quadratic.Out).to({
				y: "+50"
			}, 250, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(t).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(3001).to({
				y: "-100",
				alpha: 0
			}, 250, Phaser.Easing.Quadratic.Out).start()
		}, e
	}(),
	Whirlwind = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 3e3, "earth", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 2e3);
			for (var e = 0; 100 > e; e++) {
				var t = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "earth-leaf");
				this.overLayer.add(t);
				var i = 4 + 2 * Math.random();
				t.anchor.setTo(i, i), t.scale.x = t.scale.y = 0, t.angle = Math.floor(360 * Math.random());
				var a = (Math.random() < .5 ? "+" : "-") + (200 + Math.floor(500 * Math.random())),
					s = 400 + Math.floor(200 * Math.random()),
					r = Math.random() * Math.PI * 2,
					o = Math.floor(this.target.x + s * Math.cos(r)),
					n = Math.floor(this.target.y + s * Math.sin(r));
				this.game.add.tween(t).to({
					x: this.target.x,
					y: this.target.y
				}, 1, Phaser.Easing.Linear.None).to({
					angle: a
				}, 2e3, Phaser.Easing.Linear.None).to({
					x: o,
					y: n,
					alpha: 0
				}, 300, Phaser.Easing.Quadratic.Out).start(), this.game.add.tween(t.anchor).to({
					x: .5,
					y: .5
				}, 500, Phaser.Easing.Linear.None).delay(1500).start(), this.game.add.tween(t.scale).to({
					x: 1,
					y: 1
				}, 250, Phaser.Easing.Linear.None).start()
			}
		}, e
	}(),
	Zero = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Attack.call(this, e, t, i, a, s, 6500, "wizard", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			Attack.prototype.setup.call(this, 5e3);
			for (var e = Math.floor(this.source.x + (this.target.x - this.source.x) / 2), t = this.source.y - 250, i = 50, a = 0; i > a; a++) {
				var s = (Math.random() < .25 ? "core-box-empty-" : "core-box-") + Math.floor(6 * Math.random()),
					r = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", s);
				r.anchor.setTo(.5, .5), r.alpha = .8, this.overLayer.add(r);
				var o = Math.floor(4500 * a / i),
					n = Math.floor(-20 + 40 * Math.random());
				this.game.add.tween(r).to({
					x: this.source.x,
					y: this.source.y - 50 + n
				}, 1, Phaser.Easing.Linear.None).delay(o).to({
					x: e,
					y: t
				}, 500, Phaser.Easing.Linear.None).to({
					alpha: 0
				}, 1, Phaser.Easing.Linear.None).start()
			}
			for (var o = 0, a = 0; 12 > a; a++) {
				var h = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-circle-small");
				this.underLayer.add(h), h.anchor.setTo(.5, .5), h.alpha = .25, h.scale.x = h.scale.y = 20, this.game.add.tween(h).to({
					x: e,
					y: t
				}, 1, Phaser.Easing.Linear.None).delay(o).to({}, 800, Phaser.Easing.Linear.None).to({
					alpha: 0
				}, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(h.scale).to({
					x: 0,
					y: 0
				}, 800, Phaser.Easing.Linear.None).delay(o).start(), o += 500 - 20 * a
			}
			var h = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "ice-snowman-body");
			this.overLayer.add(h), h.anchor.setTo(.5, .5), h.alpha = .5, h.scale.x = h.scale.y = 0, this.game.add.tween(h).to({
				x: e,
				y: t
			}, 1, Phaser.Easing.Linear.None).to({}, 5e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 400, Phaser.Easing.Linear.None).start(), this.game.add.tween(h.scale).to({
				x: 4,
				y: 4
			}, 5e3, Phaser.Easing.Linear.None).to({
				x: 10,
				y: 10
			}, 400, Phaser.Easing.Linear.None).start();
			var l = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-steam");
			this.underLayer.add(l), l.anchor.setTo(.5, .5), this.game.add.tween(l).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(5400).to({
				y: "-100",
				alpha: 0
			}, 250, Phaser.Easing.Quadratic.Out).start(), this.game.add.tween(this.target).to({
				x: e
			}, 3e3, Phaser.Easing.Quadratic.In).to({}, 2e3, Phaser.Easing.Linear.None).to({
				x: this.target.x
			}, 200, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target).to({
				y: t + 50
			}, 1e3, Phaser.Easing.Quadratic.In).delay(2e3).to({}, 2e3, Phaser.Easing.Linear.None).to({
				y: this.target.y
			}, 200, Phaser.Easing.Linear.None).to({
				y: "-50"
			}, 250, Phaser.Easing.Quadratic.Out).to({
				y: "+50"
			}, 250, Phaser.Easing.Quadratic.In).start(), this.game.prodigy.effects.shake(0, 5e3, 3, "v"), this.game.prodigy.effects.shake(5e3, 1e3, 15)
		}, e
	}(),
	FrigidBlast = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			var l = r.moveIn ? 1e4 : 7e3;
			Attack.call(this, e, t, i, a, s, l, "ice", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			var e = this.game.prodigy.event.create();
			this.atk.moveIn ? (Attack.prototype.setup.call(this, 7500), this.epic = new Prodigy.Container.MonsterContainer(this.game, this.overLayer, new Monster(Monsters.data["127"]), 2, -200, 550, !1), this.epic.startLoad(), e.delay(100), e.path(this.epic, [{
				x: 250
			}]), e.function(this.epic.attack.bind(this.epic)), e.sound(Prodigy.Controller.AudioController.SFX_PACKS.BATTLE, "cast"), e.delay(1e3), e.function(this.doAttack.bind(this)), e.delay(5e3), e.path(this.epic, [{
				x: -200
			}])) : (Attack.prototype.setup.call(this, 5500), e.sound(Prodigy.Controller.AudioController.SFX_PACKS.BATTLE, "cast"), e.delay(1e3), e.function(this.doAttack.bind(this))), e.start()
		}, e.prototype.doAttack = function () {
			this.game.prodigy.audio.playSound("attack-frigid-blast");
			for (var e = 0; 160 > e; e++) this.addSnow(e, 25 * e, this.source.x < this.target.x)
		}, e.prototype.addSnow = function (e, t, i) {
			var a = e % 10 === 0,
				s = this.game.prodigy.create.sprite(-100, Math.floor(720 * Math.random()), "attacks", a ? "ice-star" : "ice-snow");
			s.x = i ? -s.width : 1280 + s.width, Math.random() < .5 ? this.overLayer.add(s) : this.underLayer.add(s), s.anchor.setTo(.5, .5), s.scale.x = s.scale.y = a ? .2 + .8 * Math.random() : 1;
			var r = i ? 1380 + s.width : -(s.width + 100);
			a ? this.game.add.tween(s).to({
				x: r,
				angle: 500
			}, 1500, Phaser.Easing.Linear.None, !0, t).onComplete.add(function () {
				s.kill()
			}, s) : this.game.add.tween(s).to({
				x: r
			}, 1500, Phaser.Easing.Linear.None, !0, t).onComplete.add(function () {
				s.kill()
			}, s)
		}, e
	}(),
	ForestFury = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			var l = r.moveIn ? 1e4 : 7e3;
			Attack.call(this, e, t, i, a, s, l, "earth", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			var e = this.game.prodigy.event.create();
			this.atk.moveIn ? (Attack.prototype.setup.call(this, 7e3), this.epic = new Prodigy.Container.MonsterContainer(this.game, this.overLayer, new Monster(Monsters.data["126"]), 2, -200, 550, !1), this.epic.startLoad(), e.delay(100), e.path(this.epic, [{
				x: 250
			}]), e.function(this.epic.attack.bind(this.epic)), e.sound(Prodigy.Controller.AudioController.SFX_PACKS.BATTLE, "cast"), e.delay(1e3), e.function(this.doAttack.bind(this)), e.delay(5e3), e.path(this.epic, [{
				x: -200
			}])) : (Attack.prototype.setup.call(this, 4500), e.sound(Prodigy.Controller.AudioController.SFX_PACKS.BATTLE, "cast"), e.delay(1e3), e.function(this.doAttack.bind(this))), e.start()
		}, e.prototype.doAttack = function () {
			this.game.prodigy.audio.playSound("attack-forest-fury");
			for (var e = 0; 100 > e; e++) this.createLeaf(e, 25 * e, this.source.x < this.target.x)
		}, e.prototype.createLeaf = function (e, t, i) {
			var a = this.game.prodigy.create.sprite(i ? -100 : 1380, Math.floor(720 * Math.random()), "attacks", "earth-leaf");
			Math.random() < .5 ? this.overLayer.add(a) : this.underLayer.add(a), a.anchor.setTo(Math.random(), Math.random()), this.game.add.tween(a).to({
				x: i ? 1380 : -100,
				angle: 1e3
			}, 2e3, Phaser.Easing.Linear.None, !0, t).onComplete.add(function () {
				a.kill()
			}, a)
		}, e
	}(),
	HotSnow = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			var l = r.moveIn ? 9e3 : 4e3;
			Attack.call(this, e, t, i, a, s, l, "fire", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			var e = this.game.prodigy.event.create();
			this.atk.moveIn ? (Attack.prototype.setup.call(this, 6800), this.epic = new Prodigy.Container.MonsterContainer(this.game, this.overLayer, new Monster(Monsters.data["129"]), 2, -200, 550, !1), this.epic.startLoad(), e.delay(100), e.path(this.epic, [{
				x: 250
			}]), e.function(this.epic.attack.bind(this.epic)), e.sound(Prodigy.Controller.AudioController.SFX_PACKS.BATTLE, "cast"), e.delay(1e3), e.function(this.doAttack.bind(this)), e.delay(5e3), e.path(this.epic, [{
				x: -200
			}])) : (Attack.prototype.setup.call(this, 3500), e.sound(Prodigy.Controller.AudioController.SFX_PACKS.BATTLE, "cast"), e.delay(1e3), e.function(this.doAttack.bind(this))), e.start()
		}, e.prototype.doAttack = function () {
			this.game.prodigy.audio.playSound("attack-hot-snow");
			for (var e = 0; 15 > e; e++) {
				var t = this.target.x + 100 - 200 * Math.random(),
					i = this.target.y + 100 - 200 * Math.random(),
					a = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "fire-ball");
				a.anchor.setTo(.5, .5), a.angle = 90, this.game.add.tween(a).to({
					y: -50,
					x: t
				}, 1, Phaser.Easing.Linear.None).delay(200 * e).to({
					y: i
				}, 600, Phaser.Easing.Linear.None).to({
					alpha: 0
				}, 1, Phaser.Easing.Linear.None).delay(200 * e).start(), this.game.prodigy.effects.shake(200 * e + 600, 100, 3, "v");
				var s = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "fire-cloud");
				this.overLayer.add(s), s.anchor.setTo(.5, .5), this.game.add.tween(s).to({
					y: i,
					x: t
				}, 1, Phaser.Easing.Linear.None).delay(200 * e + 600).to({
					y: "-200",
					alpha: 0
				}, 300, Phaser.Easing.Quadratic.Out).start(), i < this.target.y ? (this.underLayer.add(a), this.underLayer.add(s)) : (this.overLayer.add(a), this.overLayer.add(s))
			}
		}, e
	}(),
	StormWrath = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			var l = r.moveIn ? 1e4 : 5e3;
			Attack.call(this, e, t, i, a, s, l, "storm", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			var e = this.game.prodigy.event.create();
			this.atk.moveIn ? (Attack.prototype.setup.call(this, 7500), this.epic = new Prodigy.Container.MonsterContainer(this.game, this.overLayer, new Monster(Monsters.data["125"]), 2, -200, 550, !1), this.epic.startLoad(), e.delay(100), e.path(this.epic, [{
				x: 250
			}]), e.function(this.epic.attack.bind(this.epic)), e.sound(Prodigy.Controller.AudioController.SFX_PACKS.BATTLE, "cast"), e.delay(1e3), e.function(this.doAttack.bind(this)), e.delay(5e3), e.path(this.epic, [{
				x: -200
			}])) : (Attack.prototype.setup.call(this, 4500), e.sound(Prodigy.Controller.AudioController.SFX_PACKS.BATTLE, "cast"), e.delay(1e3), e.function(this.doAttack.bind(this))), e.start()
		}, e.prototype.doAttack = function () {
			this.game.prodigy.audio.playSound("attack-storm-wrath"), this.game.prodigy.effects.shake(1500, 3e3, 3);
			var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-lightning-0");
			e.animations.add("a", ["storm-lightning-0", "storm-lightning-1", "storm-lightning-2"], 30, !0, !1), e.animations.play("a"), this.overLayer.add(e), e.anchor.setTo(.5, 1);
			var t = this.game.add.tween(e).to({
					x: this.target.x,
					y: 0
				}, 1, Phaser.Easing.Linear.None).delay(1500),
				i = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "core-dome");
			this.overLayer.add(i), i.scale.x = i.scale.y = 0, i.alpha = .8, i.anchor.setTo(.5, .8);
			for (var a = this.game.add.tween(i), s = this.game.add.tween(i.scale), r = 0; 25 > r; r++) {
				var o = Math.floor(50 + 1180 * Math.random()),
					n = this.target.y + Math.floor(-50 + 300 * Math.random());
				t.to({
					x: o,
					y: 0
				}, 1, Phaser.Easing.Linear.None), t.to({
					y: n
				}, 99, Phaser.Easing.Linear.None), a.to({
					x: o,
					y: n,
					alpha: 1
				}, 1, Phaser.Easing.Linear.None), a.to({
					alpha: 0
				}, 99, Phaser.Easing.Linear.None), s.to({
					x: 0,
					y: 0
				}, 1, Phaser.Easing.Linear.None), s.to({
					x: 2,
					y: 2
				}, 99, Phaser.Easing.Linear.None)
			}
			t.to({
				x: Attack.BX,
				y: Attack.BY
			}, 1, Phaser.Easing.Linear.None), a.delay(1600).start(), s.delay(1600).start(), t.start();
			for (var h = 320, r = 0; 4 > r; r++) {
				var i = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-cloud2");
				this.overLayer.add(i), i.scale.x = i.scale.y = 2.5, i.anchor.setTo(.5, 1), this.game.add.tween(i).to({
					x: 180 + r * h,
					y: 0
				}, 1, Phaser.Easing.Linear.None).to({
					y: 150
				}, 1500, Phaser.Easing.Quadratic.Out).to({}, 3e3, Phaser.Easing.Linear.None).to({
					alpha: 0
				}, 300, Phaser.Easing.Linear.None).start()
			}
			var l = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-titan");
			this.overLayer.add(l), l.anchor.setTo(.5, .5), l.alpha = .75, this.game.add.tween(l).to({
				x: 640,
				y: 360
			}, 1, Phaser.Easing.Linear.None).delay(1500).to({}, 3e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 300, Phaser.Easing.Linear.None).start(), this.game.add.tween(l.scale).to({
				x: 2,
				y: 2
			}, 3e3, Phaser.Easing.Linear.None).delay(1500).to({
				x: 4,
				y: 4
			}, 300, Phaser.Easing.Linear.None).start()
		}, e
	}(),
	TidalTwister = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			var l = r.moveIn ? 9500 : 6500;
			Attack.call(this, e, t, i, a, s, l, "water", r, o, n, h)
		}
		return e.prototype = Object.create(Attack.prototype), e.prototype.setup = function () {
			var e = this.game.prodigy.event.create();
			this.atk.moveIn ? (Attack.prototype.setup.call(this, 8800), this.epic = new Prodigy.Container.MonsterContainer(this.game, this.overLayer, new Monster(Monsters.data["128"]), 2, -200, 550, !1), this.epic.startLoad(), e.delay(100), e.path(this.epic, [{
				x: 250
			}]), e.function(this.epic.attack.bind(this.epic)), e.sound(Prodigy.Controller.AudioController.SFX_PACKS.BATTLE, "cast"), e.delay(1e3), e.function(this.doAttack.bind(this)), e.delay(5e3), e.path(this.epic, [{
				x: -200
			}])) : (Attack.prototype.setup.call(this, 6e3), e.sound(Prodigy.Controller.AudioController.SFX_PACKS.BATTLE, "cast"), e.delay(1e3), e.function(this.doAttack.bind(this))), e.start()
		}, e.prototype.doAttack = function () {
			this.game.prodigy.audio.playSound("attack-tidal-twister"), this.game.prodigy.effects.shake(0, 1500, 3, "v");
			var e = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "water-whirl");
			this.underLayer.add(e), e.scale.x = e.scale.y = 0, e.anchor.setTo(.5, .5), this.game.add.tween(e).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).to({
				angle: -1e3
			}, 6e3, Phaser.Easing.Linear.None).start(), this.game.add.tween(e.scale).to({
				x: 1.5,
				y: 1.5
			}, 2e3, Phaser.Easing.Linear.None).to({}, 3e3, Phaser.Easing.Linear.None).to({
				x: 0,
				y: 0
			}, 1e3, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target.scale).to({
				x: -1
			}, 500, Phaser.Easing.Linear.None).delay(1e3).to({
				x: 1
			}, 500, Phaser.Easing.Linear.None).to({
				x: -.8
			}, 400, Phaser.Easing.Linear.None).to({
				x: .8
			}, 400, Phaser.Easing.Linear.None).to({
				x: -.6
			}, 300, Phaser.Easing.Linear.None).to({
				x: .6
			}, 300, Phaser.Easing.Linear.None).to({
				x: -.4
			}, 200, Phaser.Easing.Linear.None).to({
				x: .4
			}, 200, Phaser.Easing.Linear.None).to({
				x: -.2
			}, 100, Phaser.Easing.Linear.None).to({
				x: .2
			}, 100, Phaser.Easing.Linear.None).to({}, 1e3, Phaser.Easing.Linear.None).to({
				x: 1
			}, 500, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target.scale).to({
				y: 0
			}, 3e3, Phaser.Easing.Linear.None).delay(1e3).to({}, 1e3, Phaser.Easing.Linear.None).to({
				y: 1
			}, 200, Phaser.Easing.Linear.None).start(), this.game.add.tween(this.target).to({
				y: 0
			}, 500, Phaser.Easing.Quadratic.Out).delay(5e3).to({
				y: this.target.y
			}, 500, Phaser.Easing.Quadratic.In).to({
				y: "-50"
			}, 250, Phaser.Easing.Quadratic.Out).to({
				y: "+50"
			}, 250, Phaser.Easing.Quadratic.In).start();
			var t = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-steam");
			this.underLayer.add(t), t.anchor.setTo(.5, .5), this.game.add.tween(t).to({
				x: this.target.x,
				y: this.target.y
			}, 1, Phaser.Easing.Linear.None).delay(6e3).to({
				y: "-100",
				alpha: 0
			}, 250, Phaser.Easing.Quadratic.Out).start()
		}, e
	}();
Prodigy.Creature = function (e) {
	this.game = e, this.data = {}, this.appearanceChanged = !1, this.starsToProcess = 0, this.starsRewardBase = 100, this.starsReward = 100, this.starsEarned = 0, this.inPVP = !1, this.pvpHP = 0, this.resetModifiers()
}, Prodigy.Creature.prototype = {
	constructor: Prodigy.Creature,
	getDataAndClear: function () {
		return this.updated = !1, this.data
	},
	getID: function () {
		return 0
	},
	getAffixes: function () {
		return []
	},
	canCatch: function () {
		return !1
	},
	getAttacks: function () {
		return [1]
	},
	isKnockedOut: function () {
		return this.getCurrentHearts() <= 0
	},
	updateModifier: function (e, t) {
		if ("potion" === e) {
			if (this.modifiers.potion = t, null !== t) {
				var i = Items.getItemData("item", t);
				this.game.prodigy.network.sendAnalytics("potion-use-activity", i.name, "Events")
			}
		} else Util.isDefined(this.modifiers[e]) && (this.modifiers[e] += t, this.modifiers[e] <= 0 && (this.modifiers[e] = .01))
	},
	resetModifiers: function () {
		this.modifiers = {
			maxHearts: 1,
			damage: 1,
			miss: 0,
			ignoreElement: 0,
			potion: null
		}, this.clearUnprocessedLevelEvents()
	},
	getMaxHearts: function (e) {
		return e = e || this.getLevel(), Prodigy.Creature.getHeartsFromCurve(Util.isDefined(this.type) ? this.type : "B", 1, e)
	},
	getCurrentHearts: function () {
		return this.inPVP ? (Util.isDefined(this.pvpHP) || (this.pvpHP = this.getMaxHearts()), this.pvpHP) : Util.isDefined(this.data.hp) ? (this.data.hp > this.getMaxHearts() && (this.data.hp = this.getMaxHearts()), this.data.hp) : this.getMaxHearts()
	},
	changeCurrentHearts: function (e, t) {
		var i = this.getCurrentHearts() + e;
		Util.isDefined(t) || (t = 0), t > i && (i = t), i > this.getMaxHearts() && (i = this.getMaxHearts()), this.inPVP ? this.pvpHP = Math.round(i) : this.data.hp = Math.round(i), this.updated = !0
	},
	processStars: function () {
		this.starsToProcess > 0 ? this.addStars(this.starsToProcess) : this.game.broadcaster.broadcast(Prodigy.Events.Creature.ANIMATION_DONE, this)
	},
	addStars: function (e, t, i, a) {
		if (Util.isDefined(this.isOpponent) && this.isOpponent) return !1;
		e = Math.round(e);
		var s = !1;
		if (Util.isDefined(t)) {
			var r = this.game.prodigy.player;
			return r.hasValidatedParentEmail() && r.hasCompletedTutorial() && (e *= GameConstants.get("GameConstants.Battle.VALID_PARENT_EMAIL_STARS_PERCENTAGE")), this.starsToProcess += e, !1
		}
		this.starsToProcess = 0;
		var o = this.getLevel();
		if (this.game.broadcaster.broadcast(Prodigy.Events.Creature.STARS_ADDED, this, null), o >= 100) return !1;
		if (Util.isDefined(this.data.stars) ? this.data.stars += e : this.data.stars = e, Util.isDefined(i) || (this.starsEarned += e), this.data.level = Prodigy.Creature.levelFromStars(this.data.stars), o !== this.data.level) {
			this.levelEvents = [];
			var n = this.getLevelingCurve(this.data.level);
			if (Util.isDefined(n))
				for (var h = 0; h < n.length; h++) Util.inArray(this.levelEvents, n[h]) || this.levelEvents.push(n[h]);
			this.getMaxHearts(o) !== this.getMaxHearts(this.data.level) ? this.levelEvents.push({
				h: 2,
				lvl: this.data.level
			}) : this.game.time.events.add(2500, this.changeCurrentHearts.bind(this, Number.MAX_VALUE), this), this.justLeveled = !0, this.game.broadcaster.broadcast(Prodigy.Events.Creature.LEVEL_UP, this, null), s = !0
		}
		return Util.isDefined(a) && this.clearUnprocessedLevelEvents(), this.updated = !0, s
	},
	getUnprocessedLevelEvents: function () {
		return this.levelEvents
	},
	clearUnprocessedLevelEvents: function () {
		this.levelEvents = []
	},
	hasHeartsEventInQueue: function () {
		if (Util.isDefined(this.levelEvents))
			for (var e = 0; e < this.levelEvents.length; e++)
				if (Util.isDefined(this.levelEvents[e].h)) return !0;
		return !1
	},
	getStars: function () {
		return Util.isDefined(this.data.stars) ? this.data.stars : 0
	},
	getStarsToLevel: function () {
		var e = this.getStars(),
			t = this.getLevel(),
			i = Prodigy.Creature.starsToLevel(t);
		return Math.max(0, i - e)
	},
	getStarRewardByDamage: function (e) {
		var t = this.getMaxHearts(this.getLevel()),
			i = this.getCurrentHearts(),
			a = 0;
		return e >= i ? (e = i, a = Math.floor(this.starsRewardBase * (e / t)), a < this.starsReward && (a = this.starsReward)) : a = Math.floor(this.starsRewardBase * (e / t)), 0 >= a && (a = 1), this.starsReward -= a, a
	},
	getStarReward: function () {
		return 0
	},
	getLevel: function () {
		return Util.isDefined(this.data.level) ? this.data.level : 1
	},
	getLevelingCurve: function () {
		return []
	},
	getElement: function () {
		return "wizard"
	},
	getDamageBonus: function () {
		return 0
	},
	giveBonus: function () {},
	getDrops: function () {
		return []
	}
}, Prodigy.Creature.MAX_HEARTS = 8e5, Prodigy.Creature.HP_BONUS = {
	"A+": 4,
	A: 3,
	"A-": 2,
	"B+": 1,
	B: 0,
	"B-": -1,
	"C+": -2,
	C: -3,
	"C-": -4
}, Prodigy.Creature.enemiesPerLevel = function (e) {
	return Math.max(0, Math.floor(.8 + Math.pow(1.7, .085 * e)))
}, Prodigy.Creature.starsToLevel = function (e) {
	if (1 > e) return 0;
	for (var t = 0, i = 1; e >= i; i++) t += Prodigy.Creature.enemiesPerLevel(i);
	return 100 * t
}, Prodigy.Creature.getLevelPercent = function (e) {
	var t = Prodigy.Creature.levelFromStars(e),
		i = Prodigy.Creature.starsToLevel(t),
		a = Prodigy.Creature.starsToLevel(t - 1);
	return (e - a) / (i - a)
}, Prodigy.Creature.levelFromStars = function (e) {
	for (var t = 1; 100 >= t; t++)
		if (e < Prodigy.Creature.starsToLevel(t)) return t;
	return 100
}, Prodigy.Creature.getHeartsFromCurve = function (e, t, i) {
	var a = Prodigy.Creature.HP_BONUS[e],
		s = Math.floor((20 + a) * i / 100),
		r = Math.floor((20 + a) * (t - 1) / 100);
	return 20 * (s - r)
}, Prodigy.Creature.getAttacksFromCurve = function (e, t, i) {
	for (var a = [], s = 0; s < e.length; s++) {
		var r = e[s];
		r.lvl >= t && r.lvl <= i && Util.isDefined(r.a) && a.push(r.a)
	}
	return a
}, Prodigy.Creature.getAttacksOfType = function (e, t) {
	for (var i = [], a = 0, s = 0; s < e.length; s++) Util.isDefined(Prodigy.Attacks.data[e[s] - 1]) && (a = Prodigy.Attacks.data[e[s] - 1].element), Util.isDefined(t) && a !== t || i.push(e[s]);
	return i
}, Prodigy.Creature.prototype.constructor = Prodigy.Creature, Prodigy.Boss = function (e, t) {
	Prodigy.Creature.call(this, t), this.data.level = e.level, this.source = e
}, Prodigy.extends(Prodigy.Boss, Prodigy.Creature, {
	constructor: Prodigy.Boss,
	getAttacks: function () {
		return this.source.attacks || []
	},
	getMaxHearts: function () {
		return this.source.maxHP
	},
	getName: function () {
		return this.source.name
	},
	getElement: function () {
		return this.source.element
	},
	getID: function () {
		return this.source.ID
	},
	getAffixes: function () {
		return []
	},
	getStarReward: function () {
		return this.source.starBonus ? this.source.starBonus : Prodigy.Creature.prototype.getStarReward.call(this)
	}
}), Prodigy.Boss.prototype.constructor = Prodigy.Boss, Prodigy.Achievements = function () {
	this.data = {
		progress: {}
	}
}, Prodigy.Achievements.prototype = {
	constructor: Prodigy.Achievements,
	init: function (e) {
		Util.isEmptyObject(e) || (this.data = e)
	},
	getDataAndClear: function () {
		return this.updated = !1, this.data
	},
	set: function (e, t) {
		this.data[e] = t, this.updated = !0
	},
	get: function (e) {
		return this.data[e]
	},
	increment: function (e, t) {
		var i = this.get(e);
		i ? this.set(e, i + t) : this.set(e, t)
	},
	getProgress: function (e) {
		return Util.isDefined(this.data.progress) && Util.isDefined(this.data.progress[e]) ? this.data.progress[e] || 0 : 0
	},
	complete: function (e) {
		Util.isDefined(this.data.progress) || (this.data.progress = []), Util.isDefined(this.data.progress[e]) ? this.data.progress[e]++ : this.data.progress[e] = 1, this.updated = !0
	}
};
var Appearance = function () {
	function e() {
		var e = Math.random() < .5 ? "female" : "male",
			t = Names.generateName(e);
		this.data = {
			name: t,
			gender: e,
			hairStyle: Math.floor(1 + 8 * Math.random()),
			hairColor: Math.floor(1 + 16 * Math.random()),
			skinColor: Math.floor(1 + 5 * Math.random()),
			eyeColor: Math.floor(1 + 15 * Math.random())
		}
	}
	return e.prototype = Object.create(e.prototype), e.prototype.getDataAndClear = function () {
		return this.updated = !1, this.data
	}, e.prototype.getName = function () {
		return this.data.nick || this.data.name
	}, e.prototype.getFullName = function () {
		return this.data.name
	}, e.prototype.setName = function (e) {
		this.data.name = e, this.updated = !0
	}, e.prototype.setNickname = function (e) {
		this.data.nick = e, this.updated = !0
	}, e.prototype.processNickname = function (e) {
		var t = this.getFullName(),
			i = t.split(" ")[0];
		return (e.pre || "") + i + (e.post || "")
	}, e.prototype.getGender = function () {
		return this.data.gender
	}, e.prototype.setGender = function (e) {
		("male" === e || "female" === e) && (this.data.gender = e), this.updated = !0
	}, e.prototype.getHairStyle = function () {
		return this.data.hairStyle
	}, e.prototype.setHairStyle = function (e) {
		e >= 1 && 15 >= e && (this.data.hairStyle = e), this.updated = !0
	}, e.prototype.getHairColor = function () {
		return this.data.hairColor
	}, e.prototype.setHairColor = function (e) {
		e >= 1 && 16 >= e && (this.data.hairColor = e), this.updated = !0
	}, e.prototype.getEyeColor = function () {
		return this.data.eyeColor
	}, e.prototype.setEyeColor = function (e) {
		e >= 1 && 15 >= e && (this.data.eyeColor = e), this.updated = !0
	}, e.prototype.getSkinColor = function () {
		return this.data.skinColor
	}, e.prototype.setSkinColor = function (e) {
		e >= 1 && 5 >= e && (this.data.skinColor = e), this.updated = !0
	}, e.prototype.setAppearance = function (e) {
		Util.isEmptyObject(e) || (e.hasOwnProperty("x") && delete e.x, e.hasOwnProperty("y") && delete e.y, this.data = e)
	}, e.prototype.getHairName = function () {
		return e.hairNames[this.getGender()][this.getHairStyle() - 1]
	}, e
}();
Appearance.hairNames = {
	male: ["Prince", "Spikes", "Rock Star", "Fever", "Neat", "Slick", "Shaggy", "Bed Head"],
	female: ["Grace", "Spring", "Fall", "Side Swept", "Winter", "Uplift", "Blossom", "Sunshine", "Excite", "Pizzazz", "Dashing", "Summer", "Lilly", "Sweetheart", "Island Breeze"]
};
var Quests = function () {
	function e() {
		this.data = {}
	}
	return e.prototype = Object.create(e.prototype), e.prototype.setQuests = function (e) {
		this.data = e
	}, e.prototype.getDataAndClear = function () {
		return this.updated = !1, this.data
	}, e.prototype.setZoneState = function (e, t, i) {
		this.setState(e, t, i, "state")
	}, e.prototype.getZoneState = function (e, t) {
		return this.getState(e, t, "state")
	}, e.prototype.setQuestState = function (e, t, i, a) {
		Util.isDefined(this.data[e]) && this.data[e].C === t && this.setState(e, i, a, "queststate")
	}, e.prototype.getQuestState = function (e, t, i) {
		return Util.isDefined(this.data[e]) && this.data[e].C === t ? this.getState(e, i, "queststate") : null
	}, e.prototype.setState = function (e, t, i, a) {
		Util.isDefined(e) && Util.isDefined(t) && (Util.isDefined(this.data[e]) || (this.data[e] = {}), Util.isDefined(this.data[e][a]) || (this.data[e][a] = {}), Util.isDefined(i) ? this.data[e][a][t] = i : delete this.data[e][a][t])
	}, e.prototype.getState = function (e, t, i) {
		return Util.isDefined(e) && Util.isDefined(t) ? Util.isDefined(this.data[e]) && Util.isDefined(this.data[e][i]) ? this.data[e][i][t] : null : null
	}, e.prototype.getZoneVar = function (e, t) {
		return Util.isDefined(this.data[e]) ? this.data[e][t] : null
	}, e.prototype.setZoneVar = function (e, t, i) {
		Util.isDefined(this.data[e]) || (this.data[e] = {}), this.data[e][t] = i
	}, e.prototype.getCurrentQuest = function (e) {
		return Util.isDefined(this.data[e]) && this.data[e].C ? this.data[e].C : 0
	}, e.prototype.getQuestProgress = function (e) {
		return Util.isDefined(this.data[e.ID]) ? (this.data[e.ID].C - 1) / e.quests.length : 0
	}, e.prototype.isQuestComplete = function (e, t, i, a) {
		if (!Util.isDefined(this.data[e]) || !Util.isDefined(a)) return !1;
		if (this.data[e].C < t) return !1;
		if (this.data[e].C > t) return !0;
		var s = !0;
		if (Util.isDefined(a.req))
			for (var r = 0; r < a.req.length; r++) {
				var o = a.req[r];
				"pet" === o.type ? this.getMonsterProgress(e, o.ID) < o.N && (s = !1) : "boss" === o.type || "player" === o.type ? 1 !== this.data[e].B && (s = !1) : i.backpack.hasItem(o.type, o.ID) < o.N && (s = !1)
			}
		return s
	}, e.prototype.isQuestStarted = function (e, t) {
		return Util.isDefined(this.data[e]) ? this.data[e].C == t && Util.isDefined(this.data[e].A) : !1
	}, e.prototype.getMonsterProgress = function (e, t) {
		var i = this.data[e].M;
		if (!Util.isDefined(i)) return 0;
		for (var a = 0; a < i.length; a++)
			if (i[a].ID == t) return i[a].N;
		return 0
	}, e.prototype.getBossProgress = function (e) {
		var t = this.data[e].B;
		return Util.isDefined(t) ? t : 0
	}, e.prototype.clearQuestLine = function (e) {
		delete this.data[e]
	}, e.prototype.startQuestLine = function (e) {
		Util.isDefined(e) && (Util.isDefined(this.data[e]) ? this.data[e].C = 1 : this.data[e] = {
			C: 1
		})
	}, e.prototype.startQuest = function (e, t) {
		Util.isDefined(this.data[e]) && this.data[e].C == t && (this.data[e].A = 1, this.updated = !0)
	}, e.prototype.completeQuest = function (e, t, i, a) {
		if (Util.isDefined(this.data[e]) && this.data[e].C == t) {
			if (Util.isDefined(a.req))
				for (var s = 0; s < a.req.length; s++) {
					var r = a.req[s];
					"pet" !== r.type && i.backpack.consume(r.type, r.ID, r.N)
				}
			delete this.data[e].A, delete this.data[e].M, delete this.data[e].B, delete this.data[e].queststate, this.data[e].C = t + 1, this.updated = !0
		}
	}, e.prototype.defeatMonster = function (t, i, a) {
		if (Util.isDefined(this.data[t])) {
			if (Util.isDefined(i.req))
				for (var s = 0; s < i.req.length; s++) "pet" === i.req[s].type && (this.data[t].M || (this.data[t].M = []), e.hasEntryForMonster(this.data[t].M, i.req[s].ID) || this.data[t].M.push({
					ID: i.req[s].ID,
					N: 0
				}));
			if (Util.isDefined(this.data[t].M))
				for (var s = 0; s < this.data[t].M.length; s++) {
					var r = this.data[t].M[s];
					r.ID == a && r.N++
				}
		}
	}, e.prototype.defeatBoss = function (e) {
		Util.isDefined(this.data[e]) && (this.data[e].B = 1)
	}, e
}();
Quests.hasEntryForMonster = function (e, t) {
	if (!Util.isDefined(e)) return !1;
	for (var i = 0; i < e.length; i++)
		if (e[i].ID == t) return !0;
	return !1
};
var State = function () {
		function e() {
			this.data = {
				tutorial: {},
				world: {},
				zone: {}
			}
		}
		return e.prototype = Object.create(e.prototype), e.prototype.setData = function (e) {
			this.data = e
		}, e.prototype.getDataAndClear = function () {
			return this.updated = !1, this.data
		}, e.prototype.set = function (e, t) {
			if (Util.isDefined(e)) {
				e = e.split("-");
				for (var i = this.data, a = 0; a < e.length; a++) Util.isDefined(i[e[a]]) || (i[e[a]] = {}), a === e.length - 1 ? i[e[a]] = t : i = i[e[a]];
				this.updated = !0
			}
		}, e.prototype.get = function (e) {
			if (Util.isDefined(e)) {
				e = e.split("-");
				for (var t = this.data, i = 0; i < e.length; i++) {
					if (!Util.isDefined(t[e[i]])) return null;
					t = t[e[i]]
				}
				return t
			}
			return null
		}, e.prototype.getCompletedQuests = function (e) {
			var t = this.get("zone-" + e + "-quest-ID");
			return t - 1 || 0
		}, e.prototype.getZoneVars = function (e, t, i) {
			var a = this.get("zone-" + t),
				t = e.prodigy.world.getZone(t),
				s = 0;
			if (Util.isDefined(a) && Util.isDefined(t.states))
				for (var r = 0; r < t.states.length; r++) {
					var o = t.states[r];
					o.indexOf(i) >= 0 && Util.isDefined(a[r]) && a[r] > 0 && s++
				}
			return s
		}, e
	}(),
	Backpack = function () {
		function e() {
			this.data = {
				hat: [],
				boots: [],
				weapon: [],
				outfit: [],
				item: [],
				fossil: [],
				key: [],
				relic: [],
				currency: [],
				follow: []
			}
		}
		return e.prototype = Object.create(e.prototype), e.prototype.getDataAndClear = function () {
			return this.updated = !1, this.data
		}, e.prototype.unlockAllItems = function () {
			for (var e in this.data)
				for (var t = this.data[e], i = 0; i < t.length; i++) Util.isDefined(t[i].L) && (delete t[i].L, this.updated = !0)
		}, e.prototype.setItems = function (e) {
			this.data = e
		}, e.prototype.getTotalUnique = function () {
			var e = 0;
			for (var t in this.data) e += this.data[t].length;
			return e
		}, e.prototype.setKeyItemData = function (e, t, i) {
			if (!Util.isDefined(this.data.key)) return null;
			for (var a = 0; a < this.data.key.length; a++) this.data.key[a].ID == e && (this.data.key[a][t] = i);
			this.updated = !0
		}, e.prototype.getKeyItemData = function (e, t) {
			if (!Util.isDefined(this.data.key)) return null;
			for (var i = 0; i < this.data.key.length; i++)
				if (this.data.key[i].ID == e) return this.data.key[i][t];
			return null
		}, e.prototype.setItemData = function (e, t, i) {
			if (!Util.isDefined(this.data.item)) return null;
			for (var a = 0; a < this.data.item.length; a++) this.data.item[a].ID == e && (this.data.item[a][t] = i);
			this.updated = !0
		}, e.prototype.getItemData = function (e, t) {
			if (!Util.isDefined(this.data.item)) return null;
			for (var i = 0; i < this.data.item.length; i++)
				if (this.data.item[i].ID == e) return this.data.item[i][t];
			return null
		}, e.prototype.getItem = function (e, t) {
			if (Util.isDefined(this.data.item))
				for (var i = 0; i < this.data.item.length; i++)
					if (this.data.item[i].ID == t) return this.data.item[i]
		}, e.prototype.hasItem = function (e, t) {
			if (!Util.isDefined(e) || !Util.isDefined(this.data[e])) return 0;
			for (var i = 0; i < this.data[e].length; i++)
				if (this.data[e][i].ID == t) return this.data[e][i].N || 1;
			return 0
		}, e.prototype.hasItems = function (e) {
			for (var t = 0, i = 0; i < e.length; i++) this.hasItem(e[i].type, e[i].ID) && t++;
			return t
		}, e.prototype.addKeyItem = function (e, t, i) {
			Util.isDefined(this.data.key) || (this.data.key = []);
			for (var a = this.data.key, s = 0; s < a.length; s++) {
				var r = a[s];
				if (r.ID == e && r.lvl < t) return r.lvl = t, this.updated = !0, void 0
			}
			var o = {
				ID: e
			};
			o.lvl = t, Util.isDefined(i) && Util.isDefined(i.seed) && (o.seed = i.seed), a.push(o), this.updated = !0
		}, e.prototype.addBountyNote = function (e, t, i) {
			Util.isDefined(this.data[e]) || (this.data[e] = []);
			var a = this.data[e];
			if (Util.isDefined(a)) {
				var s = {
					ID: t
				};
				s.N = 1, Util.isDefined(i) && (s.seed = i), a.push(s), this.updated = !0
			}
		}, e.prototype.add = function (e, t, i, a) {
			if (Util.isDefined(this.data[e]) || (this.data[e] = []), "key" === e) return this.addKeyItem(t), void 0;
			a = a || 1;
			var s = this.data[e];
			if (Util.isDefined(s)) {
				for (var r = 0; r < s.length; r++) {
					var o = s[r];
					if (o.ID == t) return Util.isDefined(o.N) ? (o.N < 99 || "currency" === e) && (o.N += a) : o.N = 1 + a, o.N > 99 && "currency" !== e && (o.N = 99), this.updated = !0, void 0
				}
				var n = {
					ID: t
				};
				a > 1 && (n.N = a), i && (n.L = 1), s.push(n), this.updated = !0
			}
		}, e.prototype.consume = function (e, t, i) {
			if (Util.isDefined(e)) {
				var a = this.data[e];
				if (Util.isDefined(a))
					for (var s = 0; s < a.length; s++) {
						var r = a[s];
						if (r.ID == t) return Util.isDefined(r.N) ? (r.N -= i || 1, 1 === r.N ? delete r.N : r.N <= 0 && a.splice(s, 1)) : a.splice(s, 1), this.updated = !0, void 0
					}
			}
		}, e.prototype.consumeLegacyBounties = function () {
			this.consume("key", 5, 1), this.consume("key", 6, 1), this.consume("key", 7, 1)
		}, e.prototype.getBackpackItemsByType = function (e) {
			var t = [],
				i = this.data[e];
			if (Util.isDefined(i))
				for (var a = 0; a < i.length; a++) t.push(i[a]);
			return t
		}, e.prototype.getItemCount = function (e) {
			for (var t = 0, i = 0; i < e.length; i++) t += this.getBackpackItemsByType(e[i]).length;
			return t
		}, e.prototype.canCraft = function (e, t) {
			var i = Items.getItemData(e, t);
			if (!Util.isDefined(i.recipe)) return !1;
			for (var a = 0; a < i.recipe.length; a++) {
				var s = i.recipe[a];
				if (this.hasItem(s.type, s.ID) < s.N) return !1
			}
			return !0
		}, e.prototype.craft = function (e, t) {
			if (!this.canCraft(e, t)) return !1;
			for (var i = Items.getItemData(e, t), a = 0; a < i.recipe.length; a++) {
				var s = i.recipe[a];
				this.consume(s.type, s.ID, s.N)
			}
			return this.add(e, t), this.updated = !0, !0
		}, e
	}(),
	Equipment = function () {
		function e() {
			this.data = {}
		}
		return e.prototype = Object.create(e.prototype), e.prototype.setFollow = function (e) {
			Util.isDefined(e) ? this.data.follow = e : delete this.data.follow, this.updated = !0
		}, e.prototype.getDataAndClear = function () {
			return this.updated = !1, this.data
		}, e.prototype.getHeartBonuses = function () {
			var e = 0;
			for (var t in this.data)
				if (this.data.hasOwnProperty(t)) {
					var i = Items.getItemData(t, this.data[t]);
					if (Util.isDefined(i) && Util.isDefined(i.effects))
						for (var a = 0; a < i.effects.length; a++)(33 === i.effects[a] || 34 === i.effects[a] || 35 === i.effects[a] || 82 === i.effects[a] || 83 === i.effects[a]) && (e += Prodigy.AffixManager.data[i.effects[a]].value)
				} return e
		}, e.prototype.getDamageBonuses = function () {
			var e = 0;
			for (var t in this.data)
				if (this.data.hasOwnProperty(t)) {
					var i = Items.getItemData(t, this.data[t]);
					if (Util.isDefined(i) && Util.isDefined(i.effects))
						for (var a = 0; a < i.effects.length; a++)(30 === i.effects[a] || 31 === i.effects[a] || 32 === i.effects[a] || 81 === i.effects[a]) && (e = Prodigy.AffixManager.data[i.effects[a]].value)
				} return e
		}, e.prototype.getEquipment = function (e) {
			return !Util.isDefined(this.data[e]) || this.data[e] <= 0 ? null : this.data[e]
		}, e.prototype.setEquipment = function (e) {
			Util.isEmptyObject(e) || (this.data = e)
		}, e.prototype.equip = function (e, t) {
			return Util.isDefined(this.data[t]) && this.data[t] === e ? !1 : (this.data[t] = e, this.updated = !0, !0)
		}, e.prototype.unEquip = function (e) {
			if (Util.isDefined(this.data[e])) {
				var t = this.data[e];
				return delete this.data[e], this.updated = !0, t
			}
			return !1
		}, e
	}(),
	Kennel = function () {
		function e(e) {
			this.player = e, this.setPets([])
		}
		return e.prototype.getDataAndClear = function () {
			return this.updated = !1, this.data
		}, e.prototype.setTeam = function (e, t) {
			if (Util.isDefined(t))
				if (t === Number(t)) e.team = t;
				else {
					var i = e.team;
					e.team = t.team, t.team = i, Util.isDefined(e.team) || (t.isPVPTeam = e.isPVPTeam), Util.isDefined(t.team) || (e.isPVPTeam = t.isPVPTeam)
				}
			else delete e.team;
			Util.isDefined(e.team) || (e.isPVPTeam = !1), Util.isDefined(t) && !Util.isDefined(t.team) && (t.isPVPTeam = !1), this.updated = !0
		}, e.prototype.getTeamSource = function () {
			var e = [];
			Util.isDefined(this.player.data.team) || (this.player.data.team = 0), e[this.player.data.team] = this.player;
			for (var t = 0; t < this.data.length; t++) {
				var i = this.data[t];
				Util.isDefined(i.team) && (Util.isDefined(e[i.team]) ? delete i.team : e[i.team] = i)
			}
			return e
		}, e.prototype.getTeam = function () {
			for (var e = this.getTeamSource(), t = 0; t < e.length; t++) {
				var i = e[t];
				i instanceof Player || !Util.isDefined(i) || (e[t] = new Monster(i, this.player.game))
			}
			return e
		}, e.prototype.getAvgTeamLv = function () {
			for (var e = this.getTeamSource(), t = 0, i = 0, a = 0; a < e.length; a++) Util.isDefined(e[a]) ? Util.isDefined(e[a].data) ? Util.isDefined(e[a].data.level) ? t += e[a].data.level : t++ : Util.isDefined(e[a].level) && (t += e[a].level) : i += 1;
			return Math.floor(t / (e.length - i))
		}, e.prototype.getTeamScore = function () {
			for (var e = this.getTeam(), t = 0, i = 0; i < e.length; i++) Util.isDefined(e[i]) && !e[i].isKnockedOut() && (t += e[i].getCurrentHearts(this.player.game));
			return t
		}, e.prototype.findEmptyTeamIndex = function () {
			var e = [0, 1, 2, 3, 4];
			Util.isDefined(this.player.data.team) ? Util.removeFromArray(this.player.data.team, e) : Util.removeFromArray(0, e);
			for (var t = 0; t < this.data.length; t++) {
				var i = this.data[t].team;
				Util.isDefined(i) && Util.removeFromArray(i, e)
			}
			return e[0]
		}, e.prototype.add = function (e) {
			if (Util.isDefined(e) && e) {
				this.data.push(e);
				var t = this.findEmptyTeamIndex();
				Util.isDefined(t) && this.setTeam(e, t), this.updated = !0
			}
		}, e.prototype.remove = function (e) {
			for (var t = this.data.length; t--;) this.data[t] === e && this.data.splice(t, 1);
			this.updated = !0
		}, e.prototype.getPets = function (e) {
			for (var t = [], i = 0; i < this.data.length; i++) e && Util.isDefined(this.data[i].team) || t.push(this.data[i]);
			return t
		}, e.prototype.setPets = function (e) {
			this.data = e
		}, e.prototype.getPetsAsMonsters = function () {
			for (var e = [], t = 0; t < this.data.length; t++) e.push(new Monster(this.data[t], this.player.game));
			return e
		}, e.prototype.hasPet = function (e) {
			for (var t = 0; t < this.data.length; t++)
				if (this.data[t].ID == e) return !0;
			return !1
		}, e.prototype.isFull = function () {
			return this.data.length >= 140
		}, e.prototype.getNumPets = function () {
			return this.data.length
		}, e.prototype.setPVPTeam = function (e, t) {
			e.isPVPTeam = t, this.updated = !0
		}, e.prototype.isPVPTeam = function (e) {
			return Util.isDefined(e.isPVPTeam) && e.isPVPTeam
		}, e.prototype.reconcilePVPTeam = function () {
			var e = this.getTeamSource(),
				t = 0,
				i = -1,
				a = 0,
				s = null;
			for (a = 0; a < e.length; a++) s = e[a], Util.isDefined(s) && (s instanceof Player ? i = a : Util.isDefined(s.isPVPTeam) && s.isPVPTeam && t++);
			for (a = e.length - 1; t > GameConstants.get("GameConstants.Battle.MAX_NUM_PETS") && a >= 0; a--) s = e[a], a !== i && Util.isDefined(s) && Util.isDefined(s.isPVPTeam) && s.isPVPTeam && (s.isPVPTeam = !1, t--, this.updated = !0);
			for (a = 0; t < GameConstants.get("GameConstants.Battle.MAX_NUM_PETS") && a < e.length; a++) s = e[a], a === i || !Util.isDefined(s) || Util.isDefined(s.isPVPTeam) && s.isPVPTeam || (s.isPVPTeam = !0, t++, this.updated = !0)
		}, e
	}(),
	Monster = function () {
		function e(e, t) {
			Prodigy.Creature.call(this, t), this.data = e, this.nickname = e.nickname, this.drops = e.drops, this.attacks = e.attacks, delete this.data.R, delete this.data.drops, this.source = Monsters.getItemData(e.ID), this.type = this.source.life
		}
		return e.prototype = Object.create(Prodigy.Creature.prototype), e.prototype.canCatch = function (e) {
			return Util.isDefined(e.bounty) ? !0 : !Util.isDefined(this.nickname)
		}, e.prototype.getAffixes = function () {
			return this.source.effects
		}, e.prototype.getAttacks = function (e) {
			if (Util.isDefined(this.attacks)) return this.attacks;
			var t = [];
			if (Util.isDefined(this.data.evolve)) {
				for (var i = 1, a = 0; a < this.data.evolve.length; a++) {
					var s = this.data.evolve[a],
						r = Monsters.getItemData(s.ID).curve;
					t = t.concat(Prodigy.Creature.getAttacksFromCurve(r, i, s.lvl)), i = s.lvl
				}
				t = t.concat(Prodigy.Creature.getAttacksFromCurve(Monsters.getItemData(this.getID()).curve, i, this.getLevel()))
			} else t = t.concat(Prodigy.Creature.getAttacksFromCurve(Monsters.getItemData(this.getID()).curve, 1, this.getLevel()));
			return Prodigy.Creature.getAttacksOfType(Util.removeDuplicates(t), e)
		}, e.prototype.getMaxHearts = function (e) {
			var t = 120;
			if (Util.isDefined(this.data.evolve)) {
				for (var i = 1, a = 0; a < this.data.evolve.length; a++) {
					var s = this.data.evolve[a],
						r = Monsters.getItemData(s.ID).life;
					t += Prodigy.Creature.getHeartsFromCurve(r, i, s.lvl - 1), i = s.lvl
				}
				t += Prodigy.Creature.getHeartsFromCurve(this.type, i, this.getLevel())
			} else t += Prodigy.Creature.prototype.getMaxHearts.call(this, e);
			return t = Math.round(t * this.modifiers.maxHearts), Math.min(t, Prodigy.Creature.MAX_HEARTS)
		}, e.prototype.evolve = function (e) {
			Util.isDefined(this.data.evolve) || (this.data.evolve = []), this.data.evolve.push({
				ID: this.data.ID,
				lvl: this.getLevel()
			}), this.data.ID = e, this.source = Monsters.getItemData(this.data.ID)
		}, e.prototype.getID = function () {
			return this.source.ID
		}, e.prototype.getName = function () {
			return this.nickname || this.source.name
		}, e.prototype.getSourceName = function () {
			return this.source.name
		}, e.prototype.getDescription = function () {
			return this.source.flavorText
		}, e.prototype.getLife = function () {
			return this.source.life
		}, e.prototype.getPower = function () {
			return this.source.power
		}, e.prototype.getGrowth = function () {
			return this.source.growth
		}, e.prototype.getElement = function () {
			return this.source.element
		}, e.prototype.generate = function (e, t) {
			e = Math.max(1, e - t), this.data.stars = Prodigy.Creature.starsToLevel(e - 1), this.data.level = e
		}, e.prototype.getLevelingCurve = function (e) {
			Prodigy.Creature.prototype.getLevelingCurve.call(this, e);
			for (var t, i = [], a = [], s = Monsters.getItemData(this.getID()).curve, r = 0; r < s.length; r++) t = s[r], Util.isDefined(t.e) && t.lvl <= e ? a.push(t) : t.lvl === e && i.push(t);
			return a.concat(i)
		}, e.prototype.getDrops = function () {
			var e = [{
				type: "gold",
				N: 100
			}];
			return e = e.concat(Items.getItemDrops(this.drops))
		}, e
	}();
Prodigy.Entity.House = function () {
	this.data = {
		bg: {
			active: 1,
			own: [1]
		},
		items: {},
		currentHouseTag: "suburbs"
	}
}, Prodigy.extends(Prodigy.Entity.House, Object, {
	getDataAndClear: function () {
		return this.updated = !1, this.data
	},
	setItems: function (e) {
		Util.isDefined(e) && (Util.isDefined(e.items) || (e.items = this.data.items), Util.isDefined(e.bg) || (e.bg = this.data.bg), Util.isDefined(e.currentHouseTag) || (e.currentHouseTag = this.data.currentHouseTag), this.data = e, Util.isDefined(this.data.active) || (this.add(17), this.add(3), this.add(18), this.add(18), this.add(14), this.add(1), this.add(13), this.data.active = [], this.setActive(17, 480, 160, 1, 0, 0, 0, 0), this.setActive(3, 400, 160, 1, 0, 0, 0, 0), this.setActive(18, 440, 100, 1, 0, 0, 0, 0), this.setActive(18, 840, 100, 1, 0, 0, 0, 0), this.setActive(14, 880, 240, 1, 0, 0, 0, 0), this.setActive(1, 880, 140, 1, 0, 0, 0, 0), this.setActive(13, 640, 80, 1, 0, 0, 0, 0)))
	},
	getItems: function () {
		return this.data.items
	},
	getSortedActive: function () {
		var e = [];
		if (!Util.isDefined(this.data.active)) return e;
		for (var t in this.data.items)
			for (var i = 0; i < this.data.active.length; i++) {
				var a = this.data.active[i];
				a.ID == t && e.push(a)
			}
		return e.sort(function (e, t) {
			return e.z - t.z
		}), e
	},
	setAllInactive: function () {
		this.data.active = [], this.updated = !0
	},
	add: function (e) {
		var t = this.data.items[e];
		Util.isDefined(t) || (t = this.data.items[e] = {
			N: 0,
			A: []
		}), t.N < 9 && t.N++, this.updated = !0
	},
	setActive: function (e, t, i, a, s, r, o, n) {
		var h = this.data.items[e];
		if (Util.isDefined(h) && h.N > this.getActive(e)) {
			var l = {
				ID: e,
				x: t,
				y: i,
				dx: s,
				dy: r,
				z: a,
				anchorY: o,
				r: n,
				stack: []
			};
			return this.data.active.push(l), this.updated = !0, l
		}
		return null
	},
	updateActive: function (e, t, i, a, s, r, o, n, h) {
		for (var l = 0; l < this.data.active.length; l++) {
			var d = this.data.active[l];
			d == e && (d.ID = t, d.x = i, d.y = a, d.z = s, d.dx = r, d.dy = o, d.anchorY = n, d.r = h)
		}
		this.updated = !0
	},
	setInactive: function (e) {
		Util.removeFromArray(e, this.data.active), this.updated = !0
	},
	getCurrentHouseTag: function () {
		return this.data.currentHouseTag
	},
	setCurrentHouseTag: function (e) {
		this.data.currentHouseTag = e, this.updated = !0
	},
	getBackground: function () {
		return Util.isDefined(this.data.bg.active) ? this.data.bg.active : 1
	},
	addBackground: function (e) {
		this.hasBackground(e) || this.data.bg.own.push(e), this.updated = !0
	},
	hasBackground: function (e) {
		return Util.inArray(this.data.bg.own, e)
	},
	getData: function (e) {
		return this.data.items[e]
	},
	getOwned: function (e) {
		var t = this.getData(e);
		return Util.isDefined(t) && Util.isDefined(t.N) ? t.N : 0
	},
	hasMax: function (e) {
		return this.getOwned(e) >= 9
	},
	getActive: function (e) {
		var t = 0;
		if (Util.isDefined(this.data.active))
			for (var i = 0; i < this.data.active.length; i++) this.data.active[i].ID == e && t++;
		return t
	},
	getActiveData: function (e) {
		return this.data.active[e]
	},
	getItemCount: function () {
		var e = 0;
		for (var t in this.data.items) e++;
		return e
	},
	getActiveCount: function () {
		return Util.isDefined(this.data.active) ? this.data.active.length : 0
	}
});
var Player = function () {
	function e(e) {
		Prodigy.Creature.call(this, e), this.init(null), this.saveEnabled = !1
	}
	e.prototype = Object.create(Prodigy.Creature.prototype), e.prototype.createRandom = function () {
		this.equipment.data.hat = Items.getRandomItem("hat"), this.equipment.data.weapon = Items.getRandomItem("weapon"), this.equipment.data.outfit = Items.getRandomItem("outfit")
	}, e.prototype.getUpdatedData = function (e) {
		var t = {};
		(this.equipment.updated || e) && (t.equipment = this.equipment.getDataAndClear()), (this.tutorial.updated || e) && (t.tutorial = this.tutorial.getDataAndClear()), (this.appearance.updated || e) && (t.appearance = this.appearance.getDataAndClear()), (this.kennel.updated || e) && (t.pets = this.kennel.getDataAndClear()), (this.quests.updated || e) && (t.quests = this.quests.getDataAndClear()), (this.house.updated || e) && (t.house = this.house.getDataAndClear()), (this.updated || e) && (t.data = this.getDataAndClear()), (this.backpack.updated || e) && (t.inventory = this.backpack.getDataAndClear()), (this.state.updated || e) && (t.state = this.state.getDataAndClear()), (this.achievements.updated || e) && (t.achievements = this.achievements.getDataAndClear());
		for (var i in t) t[i] = JSON.stringify(t[i]);
		return t
	}, e.prototype.init = function (e) {
		if (this.isMember = !1, this.backpack = new Backpack, this.backpack.consumeLegacyBounties(), this.equipment = new Equipment, this.appearance = new Appearance, this.achievements = new Prodigy.Achievements, this.kennel = new Kennel(this), this.quests = new Quests, this.state = new State, this.house = new Prodigy.Entity.House, this.tutorial = new Tutorial, !Util.isDefined(e)) return this.house.setItems(this.house.data), !1;
		if (Util.isDefined(e.userID) ? this.userID = parseInt(e.userID) : Util.isDefined(e.id) && (this.userID = parseInt(e.id)), Util.isDefined(e.data) && (this.data = Util.getObject(e.data)), Util.isDefined(e.pets) && this.kennel.setPets(Util.getObject(e.pets)), Util.isDefined(e.tutorial) && this.tutorial.setData(Util.getObject(e.tutorial)), Util.isDefined(e.state) && this.state.setData(Util.getObject(e.state)), this.house.setItems(Util.isDefined(e.house) ? Util.getObject(e.house) : this.house.data), Util.isDefined(e.inventory) && (this.backpack.setItems(Util.getObject(e.inventory)), this.backpack.consumeLegacyBounties()), Util.isDefined(e.equipment) && this.equipment.setEquipment(Util.getObject(e.equipment)), Util.isDefined(e.quests) && this.quests.setQuests(Util.getObject(e.quests)), Util.isDefined(e.appearance) && this.appearance.setAppearance(Util.getObject(e.appearance)), Util.isDefined(e.achievements) && this.achievements.init(Util.getObject(e.achievements)), Util.isDefined(e.isMember) && 1 == e.isMember && this.setMembership(), this.parentEmail = Util.isDefined(e.parentEmail) ? e.parentEmail : "", this.lastVisitedDate = Util.isDefined(e.lastVisited) ? new Date(e.lastVisited) : new Date, this.registerDate = Util.isDefined(e.registerDate) ? new Date(e.registerDate) : null, Util.isDefined(this.data.dailyLoginBonus) && (this.data.dailyLoginBonus.session++, this.updated = !0), Util.isDefined(e.classIDs)) {
			this.owners = e.classIDs, this.classIDs = [];
			for (var t = 0; t < e.classIDs.length; t++) this.classIDs.push(e.classIDs[t].id)
		}
		if (this.playerParents = [], this.playerTeachers = [], Util.isDefined(e.ownerIDs))
			for (var i = {}, t = 0; t < e.ownerIDs.length; t++) i = e.ownerIDs[t], "parent" === i.type ? this.playerParents.push(i) : "teacher" === i.type && this.playerTeachers.push(i);
		Util.isDefined(e.dataloss) && (this.dataloss = e.dataloss), this.checkVersion()
	}, e.prototype.checkVersion = function () {
		var e = 4,
			t = this.data.versionID || 0;
		if (1 > t && (Util.isDefined(this.state.data.zone) && Util.isDefined(this.state.data.zone.lamplight) && delete this.state.data.zone.lamplight, Util.isDefined(this.state.data.zone) && Util.isDefined(this.state.data.zone.house) && delete this.state.data.zone.house, this.state.updated = !0), 2 > t && this.kennel.hasPet(125) && this.backpack.add("follow", 125), 3 > t) {
			var t = this.state.get("zone-forest-quest-ID");
			Util.isDefined(t) && t >= 12 && this.state.set("zone-forest-quest", {
				ID: 13
			}), t = this.state.get("zone-shiverchill-quest-ID"), Util.isDefined(t) && t >= 15 && this.state.set("zone-shiverchill-quest", {
				ID: 16
			}), t = this.state.get("zone-skywatch-quest-ID"), Util.isDefined(t) && t >= 13 && this.state.set("zone-skywatch-quest", {
				ID: 14
			}), t = this.state.get("zone-bonfire_spire-quest-ID"), Util.isDefined(t) && t >= 14 && this.state.set("zone-bonfire_spire-quest", {
				ID: 15
			})
		}
		if (4 > t) {
			Util.isDefined(this.data.stars) || (this.data.stars = 0), this.data.stars = 10 * this.data.stars, this.changeCurrentHearts(Number.MAX_VALUE);
			for (var i = this.kennel.getPets(), a = 0; a < i.length; a++) i[a].hp = Number.MAX_VALUE, Util.isDefined(i[a].stars) || (i[a].stars = 0), Util.isDefined(i[a].level) || (i[a].level = 1), i[a].stars = 0 === i[a].stars ? Prodigy.Creature.starsToLevel(i[a].level - 1) : 10 * i[a].stars
		}
		e > t && (this.data.versionID = e, this.updated = !0)
	}, e.prototype.hasValidatedParentEmail = function () {
		return 21
	}, e.DEBUG_SPLIT_GROUPS = [], e.prototype.inTestGroup = function (t, i, a, s) {
		if (GameConstants.get("GameConstants.Build.DEBUG") && e.DEBUG_SPLIT_GROUPS.length > 0)
			for (var r = 0; r < e.DEBUG_SPLIT_GROUPS.length; r++)
				if (t === e.DEBUG_SPLIT_GROUPS[r]) return !0;
		return i && Util.isDefined(this.userID) && this.userID % GameConstants.get("GameConstants.Features.SplitTests.USER_ID_MOD") === t || a && Util.isDefined(this.classIDs) && this.classIDs.length > 0 && this.classIDs[this.classIDs.length - 1] % GameConstants.get("GameConstants.Features.SplitTests.CLASS_ID_MOD") === t || s && Util.isDefined(this.grade) && this.grade % GameConstants.get("GameConstants.Features.SplitTests.GRADE_MOD") === t
	}, e.prototype.getLatestClassID = function () {
		return Util.isDefined(this.classIDs) && this.classIDs.length > 0 ? this.classIDs[this.classIDs.length - 1] : 0
	}, e.prototype.inTestGroups = function (e, t, i, a) {
		for (var s = !1, r = 0; r < e.length; r++)
			if (s |= this.inTestGroup(e[r], t, i, a)) return !0;
		return !1
	}, e.prototype.castSpell = function (e) {
		Util.isDefined(this.spellStreak) || (this.spellStreak = 0), e ? (this.achievements.increment("qC", 1), this.spellStreak++) : this.spellStreak = 0
	}, e.prototype.setParentEmail = function (e) {
		this.parentEmail = e, this.data.parentEmailReward = Util.isDefined(e) && e.length > 0 ? 1 : 0, this.battleCounter = 0, this.updated = !0
	}, e.prototype.closedEmailPrompt = function () {
		this.data.emailPromptCounter = Util.isDefined(this.data.emailPromptCounter) ? this.data.emailPromptCounter + 1 : 0, this.updated = !0
	}, e.prototype.setSurvey = function (e) {
		this.data.survey = e, this.updated = !0
	}, e.prototype.getSpellStreak = function () {
		return this.spellStreak || 0
	}, e.prototype.getSurvey = function () {
		return this.data.survey || 0
	}, e.prototype.getBountyScore = function () {
		return this.data.bountyScore || 0
	}, e.prototype.addBountyScore = function (e) {
		this.data.bountyScore = this.getBountyScore() + e, this.updated = !0
	}, e.prototype.getMods = function () {
		return this.data.mods || {}
	}, e.prototype.getAffixes = function () {
		var e = [];
		for (var t in this.equipment.data)
			if (Util.isDefined(Items.getItemData(t, this.equipment.data[t]))) {
				var i = Items.getItemData(t, this.equipment.data[t]).effects;
				if (Util.isDefined(i))
					for (var a = 0; a < i.length; a++) e.push(i[a])
			} return e
	}, e.prototype.setMod = function (e, t) {
		Util.isDefined(this.data.mods[e]) ? this.data.mods[e] += t : (this.data.mods[e] = t, this.updated = !0)
	}, e.prototype.hasMod = function (e) {
		return !Util.isDefined(this.data.mods[e])
	}, e.prototype.setMembership = function () {
		Util.isDefined(this.data.nm) ? this.data.nm = 2 : (Util.isDefined(this.data.startDate) && this.data.startDate < (new Date).getTime() && (this.data.daysToConvert = ((new Date).getTime() - this.data.startDate) / 864e5), this.data.nm = 1, this.updated = !0), this.isMember = !0, this.backpack.unlockAllItems()
	}, e.prototype.isUnranked = function () {
		return !Util.isDefined(this.data.arenaRank)
	}, e.prototype.getArenaRank = function () {
		return Util.isDefined(this.data.arenaRank) ? this.data.arenaRank : 0
	}, e.prototype.getArenaScore = function () {
		return Util.isDefined(this.data.arenaScore) ? this.data.arenaScore : 0
	}, e.prototype.fx = function (e, t) {
		this[e] = !0;
		var i = {
			action: "emit",
			data: {
				userID: this.userID,
				type: e
			}
		};
		t && (this[e] = i)
	}, e.prototype.heal = function () {
		this.changeCurrentHearts(Number.MAX_VALUE);
		for (var e = this.kennel.getPets(), t = 0; t < e.length; t++) delete e[t].hp;
		this.kennel.updated = !0
	}, e.prototype.healTeam = function (e) {
		this.changeCurrentHearts(e);
		for (var t = this.kennel.getPets(), i = 0; i < t.length; i++) {
			var a = new Monster(t[i], this.game);
			Util.isDefined(t[i].hp) && (t[i].hp + e > a.getMaxHearts() ? delete t[i].hp : t[i].hp = t[i].hp + e)
		}
		this.kennel.updated = !0
	}, e.prototype.healTeamMember = function (e, t, i) {
		for (var a = this.kennel.getPets(), s = 0; s < a.length; s++)
			if (a[s].ID === t) {
				var r = new Monster(a[s], this.game);
				Util.isDefined(a[s].hp) && (a[s].hp = a[s].hp + e > r.getMaxHearts() ? r.getMaxHearts() : a[s].hp + e);
				break
			} this.kennel.updated = !0, Util.isDefined(i) && i()
	}, e.prototype.setZone = function (e) {
		Util.isDefined(e) && e.indexOf("scene") > -1 || (this.data.zone = e, this.updated = !0)
	}, e.prototype.transform = function (e, t) {
		this.transformID = e, Util.isDefined(this.timer) && window.clearInterval(this.timer), this.timer = setInterval(this.transform.bind(this), t)
	}, e.prototype.getAttacks = function (e) {
		var t = this.getAllAttacks();
		return Util.isDefined(this.data.spellbook) ? (this.data.spellbook.length < 6 && (this.data.spellbook = t.splice(0, 6)), t = this.data.spellbook) : (t.length > 6 && (t = t.splice(0, 6)), this.data.spellbook = t), t.length > 6 && (t = t.splice(0, 6)), Util.isDefined(e) ? Prodigy.Creature.getAttacksOfType(t, e) : t
	}, e.prototype.getAllAttacks = function () {
		var t = Prodigy.Creature.getAttacksFromCurve(e.LEVEL_CURVE, 1, this.getLevel());
		if (Util.isDefined(this.data.spells))
			for (var i = 0; i < this.data.spells.length; i++) Util.inArray(t, this.data.spells[i]) || t.push(this.data.spells[i]);
		return t
	}, e.prototype.getNumAttacks = function () {
		return this.getAllAttacks().length
	}, e.prototype.getName = function () {
		return this.appearance.getName()
	}, e.prototype.getMaxHearts = function (e) {
		var t = Math.min(Math.floor(200 + Prodigy.Creature.prototype.getMaxHearts.call(this, e) + this.getHeartBonus()), Prodigy.Creature.MAX_HEARTS);
		return Math.round(t * this.modifiers.maxHearts)
	}, e.prototype.getHeartBonus = function () {
		return this.equipment.getHeartBonuses()
	}, e.prototype.getDamageBonus = function () {
		return this.equipment.getDamageBonuses()
	}, e.prototype.getGold = function (e) {
		var t = 0;
		return Util.isDefined(this.data.gold) && (t = this.data.gold), e && (t = Util.numberToString(t)), t
	}, e.prototype.changeGold = function (e) {
		e > 0 ? this.achievements.increment("gE", e) : 0 > e && this.achievements.increment("gS", Math.min(Math.max(this.data.gold, 0), Math.abs(e))), this.data.gold = this.getGold() + e, this.data.gold < 0 && delete this.data.gold, this.updated = !0
	}, e.prototype.equip = function (e, t) {
		if ("pet" === t) {
			this.kennel.remove(e)
		}
		return this.equipment.equip(e, t)
	}, e.prototype.unEquip = function (e) {
		var t = this.equipment.unEquip(e);
		return "pet" === e && this.kennel.add(t), t
	}, e.prototype.setDefault = function (e) {
		"male" === e ? this.appearance.setHairStyle(4) : this.appearance.setHairStyle(5), this.appearance.setGender(e), this.appearance.setHairColor(Math.floor(5 * Math.random() + 1)), this.appearance.setEyeColor(Math.floor(5 * Math.random() + 1)), this.appearance.setSkinColor(Math.floor(5 * Math.random() + 1)), this.equipment.unEquip("hat")
	}, e.prototype.getLevelingCurve = function (t) {
		Prodigy.Creature.prototype.getLevelingCurve.call(this, t);
		for (var i = [], a = 0; a < e.LEVEL_CURVE.length; a++) {
			var s = e.LEVEL_CURVE[a];
			s.lvl === t && i.push(s)
		}
		return i
	}, e.prototype.getFilterData = function () {
		return [this.getLevel(), this.getWins(), this.getLosses(), this.getArenaScore(), this.getGold(), this.getTowerProgress(), this.getStars(), this.getCurrentHearts(), this.getAllowsHouseVisitors(), this.data.versionID]
	}, e.prototype.unFilterData = function (e) {
		return {
			level: e[0],
			win: e[1],
			loss: e[2],
			arenaScore: e[3],
			gold: e[4],
			tower: e[5],
			stars: e[6],
			hp: e[7],
			allowsHouseVisitors: e[8],
			versionID: e[9]
		}
	}, e.prototype.setDailyDate = function (e) {
		var t = new Date;
		this.data[e].date = {
			d: t.getUTCDate(),
			m: t.getUTCMonth(),
			y: t.getUTCFullYear()
		}, this.updated = !0
	}, e.prototype.dateIsToday = function (e) {
		var t = new Date;
		return e.d == t.getUTCDate() && e.m == t.getUTCMonth() && e.y == t.getUTCFullYear()
	}, e.prototype.canDoDaily = function (e, t) {
		var i = this.data[e],
			a = Util.isDefined(i) ? i.date : null;
		return Util.isDefined(i) ? Util.isDefined(a) && this.dateIsToday(a) || this.resetDaily(e, t) : (this.data[e] = {}, this.resetDaily(e, t)), 0 === this.data[e].isComplete
	}, e.prototype.resetDaily = function (e, t) {
		this.setDailyDate(e), this.data[e].isComplete = 0, Util.isDefined(t) && t()
	}, e.prototype.completeDaily = function (e, t) {
		this.data[e].isComplete = t, this.updated = !0
	}, e.prototype.setSpinDate = function () {
		var e = new Date;
		Util.isDefined(this.data.spinDate) || (this.data.spinDate = {}), this.data.spinDate.d = e.getUTCDate(), this.data.spinDate.m = e.getUTCMonth(), this.data.spinDate.y = e.getUTCFullYear(), this.updated = !0
	}, e.prototype.canSpin = function () {
		if (Util.isDefined(this.data.numSpins) && Util.isDefined(this.data.spinDate.d) && Util.isDefined(this.data.spinDate.m) && Util.isDefined(this.data.spinDate.y)) {
			var e = new Date;
			return (this.data.spinDate.d !== e.getUTCDate() || this.data.spinDate.m !== e.getUTCMonth() || this.data.spinDate.y !== e.getUTCFullYear()) && (this.setSpinDate(), this.data.numSpins = 0), 0 === this.data.numSpins || 1 === this.data.numSpins && this.isMember
		}
		return this.setSpinDate(), this.data.numSpins = 0, !0
	}, e.prototype.spinWheel = function () {
		this.data.numSpins++, this.updated = !0
	}, e.prototype.formatSpinDate = function () {
		Util.isDefined(this.data.spinDate) && Util.isDefined(this.data.spinDate.d) && (this.data.spinDate.dates = [new Date(Date.UTC(this.data.spinDate.y, this.data.spinDate.m, this.data.spinDate.d)).getTime()], delete this.data.spinDate.d, delete this.data.spinDate.m, delete this.data.spinDate.y)
	}, e.prototype.removeOldSpinDates = function (e) {
		if (Util.isDefined(this.data.spinDate) && Util.isDefined(this.data.spinDate.dates))
			for (var t = null, i = 0; i < this.data.spinDate.dates.length; i++) t = this.data.spinDate.dates[i], Util.elapsedTimeInHours(t, (new Date).getTime()) >= e && (this.data.spinDate.dates.splice(i, 1), i++)
	}, e.prototype.remainingSpins = function () {
		var e = Util.isDefined(this.data.spinDate) && Util.isDefined(this.data.spinDate.dates) ? this.data.spinDate.dates.length : 0;
		return (this.isMember ? GameConstants.get("GameConstants.Features.Wheel.MEMBER_SPINS") : GameConstants.get("GameConstants.Features.Wheel.DEFAULT_SPINS")) - e
	}, e.prototype.setSchool = function (e) {
		this.data.school = e, this.updated = !0
	}, e.prototype.getSchool = function () {
		return this.data.school
	}, e.prototype.setColiseum = function (e) {
		this.data.arena = e
	}, e.prototype.getColiseum = function () {
		return Util.isDefined(this.data.arena) ? this.data.arena : 0
	}, e.prototype.getTeamScore = function () {
		return this.kennel.getTeamScore()
	}, e.prototype.getWins = function () {
		return this.data.win || 0
	}, e.prototype.getLosses = function () {
		return this.data.loss || 0
	}, e.prototype.addArenaScore = function (e, t) {
		var i = this.getArenaScore();
		this.data.arenaScore = this.getArenaScore() + e, this.data.arenaScore < 0 && (this.data.arenaScore = 0), this.data.arenaScore > 5e3 && (this.data.arenaScore = 5e3), t ? this.data.win = (this.data.win || 0) + 1 : this.data.loss = (this.data.loss || 0) + 1;
		var a = 500 + Math.max(0, 1e3 * this.getArenaRank()),
			s = a - 1e3 - 200;
		t && a > i && this.getArenaScore() >= a && this.getArenaRank() < 4 ? this.data.arenaRank = this.getArenaRank() + 1 : !t && i >= s && this.getArenaScore() < s && this.getArenaRank() > 0 && (this.data.arenaRank = this.getArenaRank() - 1), this.getArenaScore() >= 100 && this.isUnranked() && (this.data.arenaRank = 0), this.updated = !0
	}, e.prototype.processDeserter = function () {
		return Util.isDefined(this.data.deserter) ? (delete this.data.deserter, this.addArenaScore(-50, !1), this.updated = !0, !0) : !1
	}, e.prototype.getTowerProgress = function () {
		return Util.isDefined(this.data.tower) ? this.data.tower : 0
	}, e.prototype.completeTower = function (e) {
		var t = this.getTowerProgress();
		e > t && (this.data.tower = e), this.updated = !0
	}, e.prototype.isBlockedByDarkTowerMemberGate = function () {
		return !this.isMember && this.getTowerProgress() >= GameConstants.get("GameConstants.Tower.MAX_FREE_MEMBER_FLOOR")
	}, e.prototype.getLeaderboard = function () {
		return Util.isDefined(this.data.lb) ? this.data.lb : 31
	}, e.prototype.setLeaderboard = function (e) {
		this.data.lb = e, this.updated = !0
	}, e.prototype.addSpell = function (e) {
		Util.isDefined(this.data.spells) || (this.data.spells = []), Util.inArray(this.data.spells, e) || (this.data.spells.push(e), Util.isDefined(this.data.spellbook) && !Util.inArray(this.data.spellbook) && this.data.spellbook.length < 6 && this.data.spellbook.push(e)), this.updated = !0
	}, e.prototype.swapSpells = function (e, t) {
		if (Util.isDefined(e) && Util.isDefined(t)) {
			if (!Util.isDefined(this.data.spellbook)) {
				this.data.spellbook = [];
				for (var i = this.getAllAttacks(), a = 0; 6 > a && a < i.length; a++) this.data.spellbook[a] = i[a]
			}
			for (var a = 0; a < this.data.spellbook.length; a++) this.data.spellbook[a] !== e ? this.data.spellbook[a] === t && (this.data.spellbook[a] = e) : this.data.spellbook[a] = t;
			this.updated = !0
		}
	}, e.prototype.hasCompletedTutorial = function () {
		var e = this.state.get("zone-lamplight");
		return Util.isDefined(e) && Util.isDefined(e.quest) && e.quest.ID >= 2 && Util.isDefined(this.backpack) && this.backpack.hasItem("key", 13) > 0
	}, e.prototype.setAllowsHouseVisitors = function (e) {
		this.data.allowsHouseVisitors = e, this.updated = !0
	}, e.prototype.getAllowsHouseVisitors = function () {
		return Util.isDefined(this.data.allowsHouseVisitors) ? this.data.allowsHouseVisitors : !1
	}, e.prototype.setSettings = function (e) {
		this.data.settings = e, this.updated = !0
	}, e.prototype.setBGMVolume = function (e) {
		this.getSettings().bgmVolume = e, this.updated = !0
	}, e.prototype.setSFXVolume = function (e) {
		this.getSettings().sfxVolume = e, this.updated = !0
	}, e.prototype.setVoiceVolume = function (e) {
		this.getSettings().voiceVolume = e, this.updated = !0
	}, e.prototype.getSettings = function () {
		return Util.isDefined(this.data.settings) ? this.data.settings : (this.data.settings = {
			bgmVolume: .3,
			sfxVolume: .9,
			voiceVolume: 1
		}, this.data.settings)
	};
	var t = null,
		i = null;
	return Object.defineProperty(e.prototype, "username", {
		get: function () {
			return t
		},
		set: function (e) {
			t = e
		}
	}), Object.defineProperty(e.prototype, "password", {
		get: function () {
			return i
		},
		set: function (e) {
			i = e
		}
	}), e
}();
Player.LEVEL_CURVE = [{
	lvl: 1,
	a: 31
}, {
	lvl: 5,
	a: 32
}, {
	lvl: 12,
	a: 33
}, {
	lvl: 22,
	a: 34
}, {
	lvl: 38,
	a: 35
}, {
	lvl: 52,
	a: 36
}];
var Tutorial = function () {
	function e() {
		this.setData({
			zones: {},
			menus: {}
		})
	}
	return e.prototype.getDataAndClear = function () {
		return this.updated = !1, this.data
	}, e.prototype.setData = function (e) {
		Util.isDefined(e.zones) || (e.zones = {}), Util.isDefined(e.menus) || (e.menus = {}), this.data = e
	}, e.prototype.getMenuValue = function (e, t) {
		return this.getValue("menus", e, t)
	}, e.prototype.getZoneValue = function (e, t) {
		return this.getValue("zones", e, t)
	}, e.prototype.getValue = function (e, t, i) {
		if (!Util.isDefined(this.data[e][t])) return 0;
		var a = this.data[e][t];
		return i = i || 0, Util.isDefined(a[i]) ? a[i] : 0
	}, e.prototype.setMenuValue = function (e, t, i) {
		return this.setValue("menus", e, t, i)
	}, e.prototype.setZoneValue = function (e, t, i) {
		return this.setValue("zones", e, t, i)
	}, e.prototype.setValue = function (e, t, i, a) {
		Util.isDefined(this.data[e][t]) || (this.data[e][t] = []), i = i || 0, this.data[e][t][i] !== a && (this.data[e][t][i] = a, this.updated = !0)
	}, e
}();
Prodigy.ForestBoss = function (e, t) {
	Prodigy.Boss.call(this, e, t)
}, Prodigy.extends(Prodigy.ForestBoss, Prodigy.Boss, {
	constructor: Prodigy.ForestBoss
}), Prodigy.CloudBoss = function (e, t) {
	Prodigy.Boss.call(this, e, t)
}, Prodigy.extends(Prodigy.CloudBoss, Prodigy.Boss, {
	constructor: Prodigy.CloudBoss,
	getAffixes: function () {
		return "storm" === this.source.element ? [6, 48] : "water" === this.element ? [0, 57, 54] : "earth" === this.element ? [6, 45] : "ice" === this.elememt ? [9, 45] : []
	},
	chooseAction: function (e, t, i, a, s, r) {
		t /= 10, i.updateClouds();
		for (var o = {
				fire: 0,
				ice: 0,
				water: 0,
				earth: 0,
				storm: 0,
				astral: 0
			}, n = a.source.getAttacks(), h = 0; h < n.length; h++) o[e.prodigy.attacks.getAttack(n[h]).element]++;
		var l = "wizard",
			d = 0;
		for (var p in o) o[p] > d && (l = p, d = n[p]);
		var c = [];
		if ("fire" === l) i.waterMode();
		else if ("ice" === l) {
			var g = Math.random();
			.34 > g ? i.earthMode() : .67 > g ? i.iceMode() : i.waterMode()
		} else if ("earth" === l) {
			var g = Math.random();
			.34 > g ? i.earthMode() : .67 > g ? i.iceMode() : i.stormMode()
		} else if ("storm" === l) i.iceMode();
		else if ("water" === l) Math.random() < .5 ? i.earthMode() : i.stormMode();
		else {
			var g = Math.random();
			.25 > g ? i.earthMode() : .5 > g ? i.iceMode() : .75 > g ? i.waterMode() : i.stormMode()
		}
		if (c = i.attacks, c.length <= 0) return r(), void 0;
		var u = e.prodigy.attacks.getBestAttack(c, a.source, 1 - t);
		if (!Util.isDefined(u)) return r(), void 0;
		if (i.source.getCurrentHearts() / i.source.getMaxHearts() < .25 && Math.random() < t) {
			var y = e.prodigy.attacks.getHealingAttack(c);
			Util.isDefined(y) && (u = y)
		}
		var m = (.25 - .25 * t) * e.prodigy.affixes.getDodge();
		s(i, a, r, u, Math.random() < m)
	}
}), Prodigy.BonfireBoss = function (e, t) {
	Prodigy.Boss.call(this, e, t)
}, Prodigy.extends(Prodigy.BonfireBoss, Prodigy.Boss, {
	constructor: Prodigy.BonfireBoss,
	getAffixes: function () {
		return []
	},
	chooseAction: function (e, t, i, a, s, r) {
		t /= 10;
		var o = [];
		if (i.source.getCurrentHearts() / i.source.getMaxHearts() < .67 && "soup" === i.foodMode) {
			var n = e.prodigy.event.create();
			return n.function(i.startEntree.bind(i)), n.function(r.bind(this)), n.start(), void 0
		}
		if (i.source.getCurrentHearts() / i.source.getMaxHearts() < .34 && "burger" === i.foodMode) {
			var n = e.prodigy.event.create();
			return n.function(i.startDessert.bind(i)), n.function(r.bind(this)), n.start(), void 0
		}
		if (o = i.source.source.attacks, o.length <= 0) return r(), void 0;
		var h = e.prodigy.attacks.getBestAttack(o, a.source, 1 - t);
		if (!Util.isDefined(h)) return r(), void 0;
		if (i.source.getCurrentHearts() / i.source.getMaxHearts() < .25 && Math.random() < t) {
			var l = e.prodigy.attacks.getHealingAttack(o);
			Util.isDefined(l) && (h = l)
		}
		var d = (.25 - .25 * t) * e.prodigy.affixes.getDodge();
		s(i, a, r, h, Math.random() < d)
	}
}), Prodigy.Menu.Backpack = function (e, t, i) {
	this.player = i, Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.create()
}, Prodigy.extends(Prodigy.Menu.Backpack, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.Backpack,
	create: function () {
		this.addTransparent(), this.content = this.game.prodigy.create.element(this, 610, 220), this.createBaseSetup(30, 16, "shine", null, [{
			icon: "hat/5",
			bot: "Hats"
		}, {
			icon: "outfit/1",
			bot: "Outfits"
		}, {
			icon: "weapon/1",
			bot: "Wands"
		}, {
			icon: "boots/7",
			bot: "Boots"
		}, {
			icon: "buddy",
			bot: "Buddies"
		}, {
			icon: "item/5",
			bot: "Items"
		}, {
			icon: "gold",
			bot: "Currency"
		}], !0);
		var e = this.game.prodigy.create.element(this, 0, 0);
		e.setRenderState(!0), e.add(new Phaser.TileSprite(this.game, 51, 240, 449, 40, "core", "blue-top")), e.add(new Phaser.TileSprite(this.game, 51, 280, 449, 300, "core", "blue-mid")), e.add(new Phaser.TileSprite(this.game, 51, 580, 449, 40, "core", "blue-top2")), e.add(new Phaser.TileSprite(this.game, 500, 280, 40, 300, "core", "blue-side2")), e.add(this.game.prodigy.create.sprite(500, 240, "core", "blue-corner2")), e.add(this.game.prodigy.create.sprite(500, 580, "core", "blue-corner3")), e.add(new Phaser.TileSprite(this.game, 631, 240, 598, 40, "core", "blue-top")), e.add(new Phaser.TileSprite(this.game, 631, 280, 598, 300, "core", "blue-mid")), e.add(new Phaser.TileSprite(this.game, 631, 580, 598, 40, "core", "blue-top2")), e.add(new Phaser.TileSprite(this.game, 591, 280, 40, 300, "core", "blue-side")), e.add(this.game.prodigy.create.sprite(591, 240, "core", "blue-corner")), e.add(this.game.prodigy.create.sprite(591, 580, "core", "blue-corner4")), e.add(this.game.prodigy.create.sprite(110, 63, "core-2", "backpack")), this.game.prodigy.create.panel(e, 100, 270, 10, 8, "white").alpha = .5, Prodigy.RenderMenu.prototype.create.call(this), this.bar = this.game.prodigy.create.slider(this, 1150, 240, 380, !0, !0), this.p = this.game.prodigy.create.player(this, this.player, 2, 280, 550), this.equip = this.game.prodigy.create.element(this, 80, 220), this.setMode(0), this.reload()
	},
	setMode: function (e) {
		switch (Prodigy.RenderMenu.prototype.setMode.call(this, e), this.clearContents(), e) {
		case 1:
			this.itemType = "outfit";
			break;
		case 2:
			this.itemType = "weapon";
			break;
		case 3:
			this.itemType = "boots";
			break;
		case 4:
			this.itemType = "follow";
			break;
		case 5:
			this.itemType = "item";
			break;
		case 6:
			this.itemType = "currency";
			break;
		default:
			this.itemType = "hat"
		}
		this.listItemsOfType()
	},
	clearContents: function () {
		Util.isDefined(this.content) && this.content.removeAll(!0)
	},
	itemSelected: function (e) {
		this.game.prodigy.open.itemInfo({
			ID: e.ID,
			L: e.L,
			type: e.type || this.itemType
		}, this.reload.bind(this), "equip")
	},
	reload: function (e) {
		this.equip.removeAll(!0);
		for (var t = ["hat", "weapon", "outfit", "boots", "follow", "ring"], i = 0; i < t.length; i++) {
			var a = {
					ID: this.player.equipment.getEquipment(t[i]),
					type: t[i]
				},
				s = this.itemSelected.bind(this, a);
			Util.isDefined(a.ID) || (s = this.game.prodigy.open.pouch.bind(this.game.prodigy.open, t[i], this.reload.bind(this))), this.game.prodigy.create.item(this.equip, i % 2 * 340, 40 + 120 * Math.floor(i / 2), a, "icon", "ring" === t[i] ? null : s)
		}
		this.game.input.clearEnterCallback(), this.p.reload(), this.bar.process(), e && this.close()
	},
	scrollItems: function (e) {
		this.page = Util.isDefined(e) ? e : Util.isDefined(this.page) ? this.page : 0, e = this.page, this.clearContents(), this.owned = this.player.backpack.getBackpackItemsByType(this.itemType);
		for (var t = e; e + 6 > t; t++) {
			var i = t - e;
			t >= this.owned.length ? this.game.prodigy.create.panel(this.content, i % 3 * 180, 220 * Math.floor(i / 3), 4, 5, "empty") : this.game.prodigy.create.item(this.content, i % 3 * 180, 220 * Math.floor(i / 3), {
				ID: this.owned[t].ID,
				type: this.itemType,
				L: this.owned[t].L,
				N: this.owned[t].N
			}, "inv", this.itemSelected.bind(this, this.owned[t]))
		}
	},
	listItemsOfType: function () {
		this.owned = this.player.backpack.getBackpackItemsByType(this.itemType), this.bar.reset(this.owned.length - 3, 3, -1, this.scrollItems.bind(this))
	}
}), Prodigy.Menu.Pouch = function (e, t, i, a, s, r) {
	this.player = i, this.itemType = a, this.onClose = s, this.selected = r, Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.create()
}, Prodigy.extends(Prodigy.Menu.Pouch, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.Pouch,
	create: function () {
		this.addTransparent(), this.panel = this.game.prodigy.create.panel(this, 220, 100, 21, 13, "shine"), this.panel.setRenderState(!0), this.game.prodigy.create.button(this, this.panel.x + 800, this.panel.y - 10, "icons", "close", this.close.bind(this)), this.content = this.game.prodigy.create.element(this, 260, 180, 19, 6), this.game.prodigy.create.panel(this, 260, 180, 19, 10, "white"), this.game.prodigy.create.font(this, 290, 120, "Choose your " + ("weapon" === this.itemType ? "wand" : "follow" === this.itemType ? "buddy" : this.itemType), {
			font: "button",
			size: 36,
			width: 720,
			align: "center"
		}), Prodigy.RenderMenu.prototype.create.call(this), this.game.input.setEnterCallback(this.searchItems.bind(this)), this.game.input.keyboard.enabled = !0, this.setMode(0)
	},
	setMode: function (e) {
		Prodigy.RenderMenu.prototype.setMode.call(this, e), this.listItemsOfType()
	},
	clearContents: function () {
		Util.isDefined(this.content) && this.content.destroy(), Util.isDefined(this.searchNotFound) && !this.isSearch && this.searchNotFound.destroy(), this.content = this.game.prodigy.create.element(this, 100, 180, 21, 6)
	},
	onWear: function () {
		this.searchBar.show(0), this.close()
	},
	switchSpell: function (e) {
		e !== this.selected && this.player.swapSpells(this.selected, e), this.close()
	},
	searchItems: function () {
		var e = this.searchBar.getValue().toUpperCase().trim();
		if ("" === e) this.clearSearch();
		else {
			if (this.isSearch = !0, "spell" === this.itemType) {
				var t = this.player.getAllAttacks();
				this.owned = [];
				for (var i = 0; i < t.length; i++) this.owned.push({
					ID: t[i]
				})
			} else this.owned = this.player.backpack.getBackpackItemsByType(this.itemType);
			for (var a = [], i = 0; i < this.owned.length; i++)
				if ("spell" === this.itemType) {
					var s = this.game.prodigy.attacks.getAttack(this.owned[i].ID).name;
					s.toUpperCase().indexOf(e) > -1 && a.push(this.game.prodigy.attacks.getAttack(this.owned[i].ID))
				} else {
					var s = Items.getItemData(this.itemType, this.owned[i].ID).name;
					s.toUpperCase().indexOf(e) > -1 && a.push(Items.getItemData(this.itemType, this.owned[i].ID))
				} for (var r = [], i = 0; i < a.length; i++)
				for (var o = 0; o < this.owned.length; o++) a[i].ID === this.owned[o].ID && r.push(this.owned[o]);
			this.owned = r, this.bar.reset(this.owned.length - 3, 1, -1, this.scrollItems.bind(this)), 0 === this.owned.length && (this.clearContents(), this.searchNotFound = this.game.prodigy.create.font(this.content, 230, 165, "No items containing your search were found", {
				width: 620,
				align: "center"
			}))
		}
	},
	clearSearch: function () {
		this.clearContents(), this.searchBtn.destroy(), this.searchBtn = this.game.prodigy.create.textButton(this, 790, 210, {
			text: "search",
			icon: "inspect",
			size: Prodigy.Control.TextButton.SMALL
		}, this.searchItems.bind(this)), this.searchBar.setValue(""), this.searchBar.setFocus(!0), this.isSearch = !1, this.listItemsOfType()
	},
	scrollItems: function (e) {
		if (this.clearContents(), !this.isSearch && !this.isSort)
			if ("spell" === this.itemType) {
				var t = this.player.getAllAttacks();
				this.owned = [];
				for (var i = 0; i < t.length; i++) this.owned.push({
					ID: t[i]
				})
			} else this.owned = this.player.backpack.getBackpackItemsByType(this.itemType);
		for (var a = 0, i = e; e + 4 > i; i++) i < this.owned.length && ("spell" === this.itemType ? this.game.prodigy.create.item(this.content, 190 + 180 * a, 100, {
			ID: this.owned[i].ID,
			type: this.itemType
		}, "inv", this.switchSpell.bind(this, this.owned[i].ID), this.onWear.bind(this)) : this.game.prodigy.create.item(this.content, 190 + 180 * a, 100, {
			ID: this.owned[i].ID,
			type: this.itemType,
			N: this.owned[i].N,
			L: this.owned[i].L
		}, "inv", this.equipItem.bind(this, this.owned[i]))), a++;
		for (var i = Math.min(this.owned.length, 4); 4 > i; i++) this.game.prodigy.create.panel(this.content, 190 + 180 * i, 100, 4, 5, "empty")
	},
	listItemsOfType: function () {
		if (Util.isDefined(this.bar) && this.bar.destroy(), "spell" === this.itemType) {
			var e = this.player.getAllAttacks();
			this.owned = [];
			for (var t = 0; t < e.length; t++) this.owned.push({
				ID: e[t]
			})
		} else this.owned = this.player.backpack.getBackpackItemsByType(this.itemType);
		this.bar = this.game.prodigy.create.slider(this, 290, 500, 700, !1, !0), this.bar.reset(this.owned.length - 3, 1, -1, this.scrollItems.bind(this))
	},
	equipItem: function (e) {
		e.L ? this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.PREMIUM_ITEM) : (this.player.equip(e.ID, this.itemType) && (this.player.appearanceChanged = !0, this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "whoosh")), this.close())
	},
	close: function () {
		Util.isDefined(this.bar) && this.bar.destroy(), Prodigy.RenderMenu.prototype.close.call(this)
	}
}), Prodigy.Menu.LevelUp = function (e, t, i, a) {
	this.callback = a, this.stars = i, this.completed = 0, Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.create()
}, Prodigy.extends(Prodigy.Menu.LevelUp, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.LevelUp,
	create: function () {
		this.addTransparent(), this.panel = this.game.prodigy.create.panel(this, 40, 40, 30, 16, "shine"), this.panel.setRenderState(!0), this.content = this.game.prodigy.create.element(this, 20, 0, 30, 16), Prodigy.RenderMenu.prototype.create.call(this);
		for (var e = this.game.prodigy.player.kennel.getTeam(), t = this.game.prodigy.player.data.team; this.stars.length < e.length;) this.stars.push(0);
		for (var i = 0; 2 >= i; i++)
			if (Util.isDefined(e[2 * i])) 2 * i === t ? this.game.prodigy.create.level(this.content, 100 + 20 * i, 200 * (i + 1) - 120, "player", e[2 * i], this.stars[2 * i], this.finish.bind(this)) : this.game.prodigy.create.level(this.content, 100 + 20 * i, 200 * (i + 1) - 120, "monster", e[2 * i], this.stars[2 * i], this.finish.bind(this));
			else {
				var a = this.game.prodigy.create.level(this.content, 100 + 20 * i, 200 * (i + 1) - 120, "empty");
				this.finish(), a.alpha = .3
			} for (var i = 0; 2 > i; i++)
			if (Util.isDefined(e[2 * i + 1])) 2 * i + 1 === t ? this.game.prodigy.create.level(this.content, 620 + 20 * (i + 1), 200 * (i + 1) - 20, "player", e[2 * i + 1], this.stars[2 * i + 1], this.finish.bind(this)) : this.game.prodigy.create.level(this.content, 620 + 20 * (i + 1), 200 * (i + 1) - 20, "monster", e[2 * i + 1], this.stars[2 * i + 1], this.finish.bind(this));
			else {
				var a = this.game.prodigy.create.level(this.content, 620 + 20 * (i + 1), 200 * (i + 1) - 20, "empty");
				this.finish(), a.alpha = .3
			}
	},
	finish: function () {
		this.completed++, 5 === this.completed && (this.delay = this.game.time.now)
	},
	update: function () {
		Util.isDefined(this.delay) && this.game.time.now - this.delay > 1500 && this.close()
	}
}), Prodigy.Menu.MemberAd = function (e, t, i, a, s) {
	if (Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.onClose = a, Prodigy.Menu.MemberAd.callback = this.finishUpgrade.bind(this), this.currentConfigIndex = null, this.analyticEvents = Util.isDefined(s) ? s : {}, Util.isDefined(i))
		for (var r = 0; r < Prodigy.Menu.MemberAd.featureIconConfigs.length; r++)
			if (i === Prodigy.Menu.MemberAd.featureIconConfigs[r]) {
				this.currentConfigIndex = r;
				break
			} Util.isDefined(this.analyticEvents.upgradeButtonClick) && (Util.isDefined(this.analyticEvents.upgradeButtonClick.action) || (Util.log("Prodigy.Menu.MemberAd.ctor - analyticEvents.upgradeButtonClick was provided but action property was missing.  Defaulting to action='upgradeButtonClick'", Util.ERROR), this.analyticEvents.upgradeButtonClick.action = "upgradeButtonClick")), this.create();
	try {
		var o = Util.isDefined(this.currentConfigIndex) ? Prodigy.Menu.MemberAd.featureIconConfigs[this.currentConfigIndex].trackingEvent : "unknown";
		this.game.prodigy.network.sendEvent("member-ad", {
			status: "open",
			type: "new",
			feature: o
		})
	} catch (n) {}
}, Prodigy.Menu.MemberAd.DEFAULT = {
	frameName: "icons/iconbox-TEST",
	trackingEvent: "Feature-MemberChests"
}, Prodigy.Menu.MemberAd.MEMBER_CHESTS = {
	frameName: "icons/member-chests",
	trackingEvent: "Feature-MemberChests"
}, Prodigy.Menu.MemberAd.BUDDIES = {
	frameName: "icons/cute-and-cool-buddies",
	trackingEvent: "Feature-Buddies"
}, Prodigy.Menu.MemberAd.HOUSE_ITEMS = {
	frameName: "icons/special-house-furniture",
	trackingEvent: "Feature-HouseItems"
}, Prodigy.Menu.MemberAd.NEW_HOUSE = {
	frameName: "icons/new-house",
	trackingEvent: "Feature-NewHouse"
}, Prodigy.Menu.MemberAd.MORE_GOLD = {
	frameName: "icons/more-gold",
	trackingEvent: "Feature-MoreGold"
}, Prodigy.Menu.MemberAd.MORE_EXP = {
	frameName: "icons/level-faster",
	trackingEvent: "Feature-LevelFaster"
}, Prodigy.Menu.MemberAd.WHEEL_SPIN = {
	frameName: "icons/more-spins",
	trackingEvent: "Feature-MoreSpins"
}, Prodigy.Menu.MemberAd.MEMBER_PETS = {
	frameName: "icons/catch-more-pets",
	trackingEvent: "Feature-MorePets"
}, Prodigy.Menu.MemberAd.CATCH = {
	frameName: "icons/second-catch",
	trackingEvent: "Feature-SecondCatchChance"
}, Prodigy.Menu.MemberAd.BOOSTS = {
	frameName: "icons/minigame-boosts",
	trackingEvent: "Feature-MinigameBoosts"
}, Prodigy.Menu.MemberAd.STYLE = {
	frameName: "icons/cool-new-styles",
	trackingEvent: "Feature-NewStyles"
}, Prodigy.Menu.MemberAd.GET_GOLD = {
	frameName: "icons/2000-gold",
	trackingEvent: "Feature-2000Gold"
}, Prodigy.Menu.MemberAd.TOWER = {
	frameName: "icons/climb-the-dark-tower",
	trackingEvent: "Feature-DarkTower"
}, Prodigy.Menu.MemberAd.VISIT_HOUSE = {
	frameName: "icons/friends-visit-house",
	trackingEvent: "Feature-VisitHouse"
}, Prodigy.Menu.MemberAd.POTIONS = {
	frameName: "icons/potions",
	trackingEvent: "Feature-PowerfulPotions"
}, Prodigy.Menu.MemberAd.PREMIUM_ITEM = {
	frameName: "icons/iconbox-TEST",
	trackingEvent: "PremiumItems"
}, Prodigy.Menu.MemberAd.BIGGER_ROSTER = {
	frameName: "icons/iconbox-TEST",
	trackingEvent: "BiggerRoster"
}, Prodigy.Menu.MemberAd.NICKNAME = {
	frameName: "icons/iconbox-TEST",
	trackingEvent: "Nickname"
}, Prodigy.Menu.MemberAd.featureIconConfigs = [Prodigy.Menu.MemberAd.MEMBER_CHESTS, Prodigy.Menu.MemberAd.TOWER, Prodigy.Menu.MemberAd.BUDDIES, Prodigy.Menu.MemberAd.MORE_GOLD, Prodigy.Menu.MemberAd.MORE_EXP, Prodigy.Menu.MemberAd.WHEEL_SPIN, Prodigy.Menu.MemberAd.MEMBER_PETS, Prodigy.Menu.MemberAd.CATCH, Prodigy.Menu.MemberAd.BOOSTS, Prodigy.Menu.MemberAd.STYLE, Prodigy.Menu.MemberAd.GET_GOLD, Prodigy.Menu.MemberAd.VISIT_HOUSE, Prodigy.Menu.MemberAd.HOUSE_ITEMS, Prodigy.Menu.MemberAd.NEW_HOUSE, Prodigy.Menu.MemberAd.POTIONS], Prodigy.Menu.MemberAd.reconcileConfig = function (e) {
	var t = e;
	return e === Prodigy.Menu.MemberAd.DEFAULT ? t = Prodigy.Menu.MemberAd.MEMBER_CHESTS : e === Prodigy.Menu.MemberAd.PREMIUM_ITEM ? t = Prodigy.Menu.MemberAd.MEMBER_CHESTS : e === Prodigy.Menu.MemberAd.BIGGER_ROSTER ? t = Prodigy.Menu.MemberAd.MEMBER_PETS : e === Prodigy.Menu.MemberAd.NICKNAME && (t = Prodigy.Menu.MemberAd.MEMBER_CHESTS), t
}, Prodigy.extends(Prodigy.Menu.MemberAd, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.MemberAd,
	create: function () {
		Prodigy.RenderMenu.prototype.create.call(this), this.addTransparent(), this.gearIcons = this.generateGearIcons(5, null), this.startLoad(["popup-member-modular"], this.onAssetsLoaded.bind(this))
	},
	onAssetsLoaded: function () {
		var e = 125,
			t = 125,
			i = 20,
			a = {
				x: 0,
				y: 502
			},
			s = {
				x: 734,
				y: 37
			},
			r = {
				x: 0,
				y: 333
			},
			o = {
				x: 0,
				y: 24
			},
			n = {
				xOffset: 113,
				yOffset: 143,
				width: 542,
				height: 163
			},
			h = this.game.prodigy.create.element(this, 0, 0);
		h.setRenderState(!0);
		var l = this.game.prodigy.create.sprite(0, 0, "popup-member-modular", "popup-box");
		h.add(l);
		var d = Util.getCenteredXY(l.width, l.height, 0, 0, this.width, this.height);
		l.x = d.x, l.y = d.y;
		var p = this.generateFeatureIcons(3, this, this.currentConfigIndex);
		Util.centerItemsWithinContainer(p, {
			x: l.x + n.xOffset,
			y: l.y + n.yOffset,
			width: n.width,
			height: n.height
		}, !1);
		var c = this.game.prodigy.create.button(this, 0, 0, "popup-member-modular", "member-button", this.onMembershipButtonClick.bind(this, "MemberButton"));
		d = Util.getCenteredXY(c.width, c.height, this.x, this.y, this.width, this.height), c.x = d.x + a.x, c.y = l.y + a.y;
		var g = this.game.prodigy.create.button(this, 0, 0, "popup-member-modular", "exit-button", this.close.bind(this));
		g.x = l.x + s.x, g.y = l.y + s.y;
		var u = this.game.prodigy.create.sprite(0, 0, "popup-member-modular", "gear-box");
		this.add(u), d = Util.getCenteredXY(u.width, u.height, 0, 0, this.width, this.height), u.x = d.x + r.x, u.y = l.y + r.y, u.inputEnabled = !0, u.events.onInputDown.add(this.onMembershipButtonClick.bind(this, "GearPanel")), Util.centerItemsWithinContainer(this.gearIcons, u, !1, o), this.gearIcons.forEach(function (e) {
			this.add(e)
		}, this);
		var y = p.concat(this.gearIcons);
		y.forEach(function (a, s) {
			this.game.add.tween(a).to({
				y: a.y - i
			}, e, Phaser.Easing.Quadratic.InOut, !0, t * s, 0, !0)
		}, this), this.process()
	},
	generateFeatureIcons: function (e, t, i) {
		for (var a = Prodigy.Menu.MemberAd.featureIconConfigs.map(function (e, t) {
				return t
			}), s = [], r = 0; e > r; r++) {
			var o = 0;
			o = 0 === r && Util.isDefined(i) ? i : this.game.random.range(0, a.length - r);
			var n = a[o],
				h = Prodigy.Menu.MemberAd.featureIconConfigs[n],
				l = this.game.prodigy.create.button(t, 0, 0, "popup-member-modular", h.frameName, this.onMembershipButtonClick.bind(this, h.trackingEvent));
			s.push(l);
			var d = a.length - (r + 1);
			a[o] = a[d], a[d] = n
		}
		if (Util.isDefined(this.analyticEvents.upgradeButtonClick)) {
			var p = this.analyticEvents.upgradeButtonClick;
			this.game.prodigy.network.sendAnalytics(p.action, p.value, p.category)
		}
		return this.process(), s
	},
	generateGearIcons: function (e, t) {
		for (var i = [], a = [{
				category: "boots",
				count: 0
			}, {
				category: "hat",
				count: 0
			}, {
				category: "outfit",
				count: 0
			}, {
				category: "weapon",
				count: 0
			}], s = [], r = 0; r < a.length; r++)
			for (var o = Items.data[a[r].category], n = 0; n < o.length; n++) {
				var h = o[n];
				h.category = a[r].category, Util.isDefined(h.member) && 1 === h.member && (!Util.isDefined(h.memberAd) || h.memberAd > 0) && (s.push(h), a[r].count++)
			}
		for (var r = 0; e > r; r++) {
			var l = this.game.random.range(0, s.length - r),
				h = s[l];
			i.push(this.game.prodigy.create.item(t, 0, 0, {
				ID: h.ID,
				type: h.category
			}, "icon-no-bg"));
			var d = s.length - (r + 1);
			s[l] = s[d], s[d] = h
		}
		return i
	},
	onMembershipButtonClick: function (e) {
		try {
			this.game.prodigy.network.sendEvent("member-ad", {
				status: "convert",
				type: "new",
				feature: e
			})
		} catch (t) {}
		if (this.game.prodigy.network.sendAnalytics("Purchase-Membership-Click", e), 1 == Util.getUrlVariable("iosApp")) this.game.prodigy.open.message("Visit www.prodigygame.com to purchase a membership!");
		else try {
			var i = Util.isDefined(this.game.prodigy.player.username) ? this.game.prodigy.player.username : this.game.prodigy.player.getName();
			prodigyWeb.membershipFlow.open(i, this.game.prodigy.player.userID, this.finishUpgrade.bind(this), this.adID || 0)
		} catch (t) {
			this.game.prodigy.open.message("There was an error contacting our server. Please try again later.")
		}
		if (Util.isDefined(this.analyticEvents.upgradeButtonClick)) {
			var a = this.analyticEvents.upgradeButtonClick;
			this.game.prodigy.network.sendAnalytics(a.action, a.value, a.category)
		}
	},
	finishUpgrade: function (e) {
		if (e) {
			this.game.prodigy.open.message("Your membership will be applied after the next loading screen, however you may need to log out for the change to take effect.", this.close.bind(this), null, "SUCCESS!"), this.game.prodigy.player.setMembership(), Util.isDefined(this.game.prodigy.player.data.reward) || (this.game.prodigy.player.data.reward = 1, this.game.prodigy.open.gotItem([{
				type: "gold",
				N: 2e3
			}]), this.game.prodigy.player.updated = !0);
			try {
				this.game.prodigy.network.sendEvent("new-member", {})
			} catch (t) {}
		} else this.game.prodigy.open.message("Your purchase did not go through.")
	}
}), Prodigy.Menu.MemberPrompt = function (e, t, i) {
	this.onClose = i, e.prodigy.player.memberPrompt = !0, Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.create()
}, Prodigy.extends(Prodigy.Menu.MemberPrompt, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.RenderMenu,
	create: function () {
		var e = this.game.prodigy.create.element(this, 365, 720);
		if (Prodigy.RenderMenu.prototype.create.call(this), this.game.prodigy.create.panel(e, 0, 0, 11, 8, "panel-light"), this.game.prodigy.player.isMember) {
			try {
				this.game.prodigy.network.sendEvent("new-member", {
					startDate: this.game.prodigy.player.data.startDate || -1,
					daysToConvert: this.game.prodigy.player.data.daysToConvert || -1
				})
			} catch (t) {}
			var i = this.showContent(e, this.game.prodigy.player.isMember, this.game.prodigy.player.data.rewardData);
			this.showReward(e, i.text, i.reward)
		} else {
			var i = this.showContent(e, this.game.prodigy.player.isMember);
			this.game.prodigy.player.data.reward && (delete this.game.prodigy.player.data.reward, this.game.prodigy.player.updated = !0), this.showBonus(e, i.text, i.reward), this.game.prodigy.player.data.rewardData = i.reward, this.game.prodigy.player.updated = !0
		}
		this.game.add.tween(e).to({
			y: 100
		}, 400, Phaser.Easing.Quadratic.Out).to({
			y: 150
		}, 200, Phaser.Easing.Quadratic.In).start(), this.setupComplete = !0
	},
	showContent: function (e, t) {
		var i = this.game.prodigy.create.element(e, 175, 110),
			a = "",
			s = null;
		a = t ? "Here's your reward of 2000 gold!" : "Join now and get 2000 GOLD!", s = {
			type: "gold",
			N: 2e3
		};
		var r = i.add(this.game.prodigy.create.sprite(60, 50, "icons", "item/26"));
		return this.game.add.tween(r).to({
			y: "-5"
		}, 800, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0), r = i.add(this.game.prodigy.create.sprite(10, 50, "icons", "item/26")), this.game.add.tween(r).to({
			y: "-5"
		}, 800, Phaser.Easing.Quadratic.InOut, !0, 50, Number.MAX_VALUE, !0), r = i.add(this.game.prodigy.create.sprite(110, 50, "icons", "item/26")), this.game.add.tween(r).to({
			y: "-5"
		}, 800, Phaser.Easing.Quadratic.InOut, !0, 100, Number.MAX_VALUE, !0), r = i.add(this.game.prodigy.create.sprite(30, 30, "icons", "item/26")), this.game.add.tween(r).to({
			y: "-5"
		}, 800, Phaser.Easing.Quadratic.InOut, !0, 150, Number.MAX_VALUE, !0), r = i.add(this.game.prodigy.create.sprite(80, 30, "icons", "item/26")), this.game.add.tween(r).to({
			y: "-5"
		}, 800, Phaser.Easing.Quadratic.InOut, !0, 200, Number.MAX_VALUE, !0), r = i.add(this.game.prodigy.create.sprite(55, 10, "icons", "item/26")), this.game.add.tween(r).to({
			y: "-5"
		}, 800, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0), i.add(this.game.prodigy.create.sprite(0, 100, "core-2", "chest-bot")), {
			text: a,
			reward: s
		}
	},
	showBonus: function (e, t) {
		this.game.prodigy.create.font(e, 0, 15, "Become a Member Today!", {
			size: 30,
			width: 550,
			align: "center"
		}), this.game.prodigy.create.font(e, 0, 70, t, {
			size: 20,
			width: 550,
			align: "center"
		}), Prodigy.Control.TextButton.createCloseButton(this.game, e, 330, 320, this.close.bind(this)), this.game.prodigy.create.textButton(e, 20, 320, {
			icon: "member",
			text: "buy now!",
			size: Prodigy.Control.TextButton.MED
		}, this.submit.bind(this))
	},
	showReward: function (e, t, i) {
		this.game.prodigy.create.font(e, 0, 15, "You Have a Membership!", {
			size: 30,
			width: 550,
			align: "center"
		}), this.game.prodigy.create.font(e, 0, 70, t, {
			size: 20,
			width: 550,
			align: "center"
		}), Prodigy.Control.TextButton.createCloseButton(this.game, e, 175, 320, this.game.prodigy.open.gotItem.bind(this.game.prodigy.open, [i], this.giveItem.bind(this)))
	},
	giveItem: function () {
		this.game.prodigy.player.data.reward = 1, this.game.prodigy.player.data.rewardData = null, this.game.prodigy.player.updated = !0, this.close()
	},
	submit: function () {
		this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.GET_GOLD)
	}
}), Prodigy.Menu.MemberPrompt.isRequired = function (e, t) {
	return Util.isDefined(t) && Util.isDefined(t.quest) && t.quest.ID > 1 && !(e.memberPrompt || !e.isMember && Util.isSchoolHours() || e.isMember && e.data.reward)
}, Prodigy.Menu.EmailPrompt = function (e, t, i) {
	this.onClose = i, e.prodigy.player.emailPrompt = !0, e.prodigy.player.battleCounter = 0, this.game = e, Prodigy.Control.Menu.call(this, e, t, -1, {
		hideMenu: !0,
		hideContent: !1
	}), this.setup()
}, Prodigy.Menu.EmailPrompt.PROMPT_FREQUENCY = 0, Prodigy.extends(Prodigy.Menu.EmailPrompt, Prodigy.Control.Menu, {
	constructor: Prodigy.Menu.EmailPrompt,
	setup: function () {
		Prodigy.Control.Menu.prototype.menuSetup.call(this), this.form = this.game.prodigy.create.element(this, 280, 100);
		var e = this.game.prodigy.create.element(this.form, 0, 0);
		this.game.prodigy.create.panel(e, 0, 0, 18, 12, "shine"), e.add(new Phaser.TileSprite(this.game, 11, 189, 698, 40, "core", "blue-top")), e.add(new Phaser.TileSprite(this.game, 11, 229, 698, 160, "core", "blue-mid")), e.add(new Phaser.TileSprite(this.game, 11, 389, 698, 40, "core", "blue-top2")), this.game.prodigy.create.panel(e, 40, 40, 16, 3, "banner"), this.form.add(this.game.prodigy.create.sprite(100, -30, "core-2", "menu-noot")), this.game.prodigy.create.font(this.form, 320, 58, "Parent Email Link!", {
			size: 30,
			width: 250,
			align: "center",
			lineHeight: 38
		});
		var t = "",
			i = "Oops, that didn't work. Would you like to try a different email address?",
			a = "";
		this.game.prodigy.player.userID % 2 === 0 ? (t = "Enter your parent or guardian's email below to link your account to it, and get 500 gold!", a = "item/26") : (t = "Enter your parent or guardian's email below to link your account to it, and get 4 apples!", a = "item/1"), this.game.prodigy.create.font(e, 31, 200, t, {
			size: 20,
			width: 658,
			align: "left",
			lineHeight: 38
		}), this.emailField = Prodigy.Control.InputField.createInputField(this.game, this, "emailg", "", 640 - .5 * Prodigy.Control.InputField.WIDTH_MEDIUM, 370, Prodigy.Control.InputField.WIDTH_MEDIUM, Prodigy.Control.InputField.HEIGHT_MEDIUM, "text2g"), this.emailField.setFocus(!0), this.errorMessage = this.game.prodigy.create.font(e, 31, 320, i, {
			size: 20,
			font: "black",
			width: 658,
			align: "left",
			lineHeight: 38
		}), this.errorMessage.visible = !1, this.game.prodigy.create.button(this.form, 680, -10, "icons", "close", this.doLater.bind(this)), this.game.prodigy.create.textButton(this.form, 51, 400, {
			text: "do later",
			size: Prodigy.Control.TextButton.MED
		}, this.doLater.bind(this)), this.game.prodigy.create.textButton(this.form, 371, 400, {
			text: "submit!",
			size: Prodigy.Control.TextButton.CONFIRM,
			icon: a
		}, this.submit.bind(this)), this.game.input.setEnterCallback(this.submit.bind(this))
	},
	submit: function () {
		var e = this.emailField.getValue();
		Util.isDefined(e) && this.game.prodigy.emailDomains.isValidEmail(e) ? (this.errorMessage.visible = !1, this.game.prodigy.network.setParentEmail(e, this.submitSuccess.bind(this), this.submitFail.bind(this))) : this.errorMessage.visible = !0
	},
	submitSuccess: function () {
		var e = 1 != this.game.prodigy.player.data.parentEmailReward,
			t = function (e) {
				var t = e.prodigy.player.userID % 2 === 0 ? {
					type: "gold",
					N: 500
				} : {
					type: "item",
					ID: 1,
					N: 4
				};
				e.prodigy.open.gotItem([t], this.onClose.bind(this))
			};
		this.game.prodigy.player.setParentEmail(this.emailField.getValue());
		var i = this.game.prodigy.event.create();
		i.function(this.close.bind(this)), i.function(this.game.prodigy.open.message.bind(this.game.prodigy.open, "Great job! Now ask your parent or guardian to check their email for a message from Prodigy!", e ? t.bind(this, this.game) : this.onClose.bind(this), null, "Link Successful")), i.start()
	},
	submitFail: function () {
		var e = this.game.prodigy.event.create();
		e.function(this.close.bind(this)), e.function(this.game.prodigy.open.confirm.bind(this.game.prodigy.open, "Looks like we weren't able to link your account to your parent or guardian's email.\n\nWould you like to retry submitting it?", this.game.prodigy.open.emailPrompt.bind(this.game.prodigy.open, null), this.onClose.bind(this), null, "Oops!")), e.start()
	},
	doLater: function () {
		this.game.prodigy.player.closedEmailPrompt(), this.close(!0)
	},
	close: function (e) {
		this.game.input.clearEnterCallback(), e && Util.isDefined(this.onClose) && this.onClose(), Prodigy.Control.Menu.prototype.close.call(this)
	}
}), Prodigy.Menu.EmailPrompt.isRequired = function () {
	return !1
}, Prodigy.Menu.DailyLoginBonus = function (e, t, i) {
	this.onClose = i, e.prodigy.player.dailyLoginBonus = !0, e.prodigy.player.battleCounter = 0, this.game = e, Prodigy.Control.Menu.call(this, e, t, -1, {
		hideMenu: !0,
		hideContent: !1
	}), this.setup()
}, Prodigy.Menu.DailyLoginBonus.PROMPT_FREQUENCY = 20, Prodigy.extends(Prodigy.Menu.DailyLoginBonus, Prodigy.Control.Menu, {
	constructor: Prodigy.Menu.DailyLoginBonus,
	setup: function () {
		Prodigy.Control.Menu.prototype.menuSetup.call(this), this.form = this.game.prodigy.create.element(this, 80, 100);
		var e = 28,
			t = 40 * e - 22,
			i = this.game.prodigy.create.element(this.form, 0, 0);
		this.game.prodigy.create.panel(i, 0, 0, e, 12, "shine"), i.add(new Phaser.TileSprite(this.game, 11, 189, t, 40, "core", "blue-top")), i.add(new Phaser.TileSprite(this.game, 11, 229, t, 160, "core", "blue-mid")), i.add(new Phaser.TileSprite(this.game, 11, 389, t, 40, "core", "blue-top2")), this.form.add(this.game.prodigy.create.sprite(40, 30, "core-2", "menu-noot"));
		var a = this.game.prodigy.dailyLoginBonusRewards.getABTest(this.game.prodigy.player.userID),
			s = null;
		Util.isDefined(this.game.prodigy.player.userID) ? s = this.game.prodigy.dailyLoginBonusRewards.getReward(this.game.prodigy.player.userID[0], 0) : (this.game.prodigy.player.userID = [0], s = this.game.prodigy.dailyLoginBonusRewards.getReward(this.game.prodigy.player.userID[0], 0)), "currency" === s.type && this.game.prodigy.dailyLoginBonusRewards.getCurrencyRewardAmount(s);
		var r = a.length,
			o = (t - 22 - 120 * r) / (r + 1);
		this.cards = this.game.prodigy.create.element(i, 0, 240), this.rewardPanels = [];
		for (var n = 0; n < a.length; n++) this.createDailyLoginRewardDisplay(22 + o + n * o + 120 * n, 0, a[n], n);
		var h = new Date,
			l = {
				d: h.getUTCDate(),
				m: h.getUTCMonth(),
				y: h.getUTCFullYear()
			},
			d = this.game.prodigy.player.data.dailyLoginBonus;
		for (d.day >= a.length && (d.day = 0, this.game.prodigy.player.updated = !0), n = 0; n < d.day; n++) this.createCheckmark(this.rewardPanels[n]);
		s = a[d.day], this.animateRewardSequence(this.rewardPanels[d.day], s), d.day++, d.date = l, i.add(new Phaser.Image(this.game, 190, 15, "event-daily_login_bonus", "title_banner_left")), i.add(new Phaser.Image(this.game, 600, 15, "event-daily_login_bonus", "title_banner_right")), this.game.prodigy.create.font(i, 370, 60, "Daily Login\nBonus!", {
			size: 36,
			font: "button",
			lineHeight: 38
		})
	},
	createCheckmark: function (e) {
		var t = (this.game.prodigy.player.data.dailyLoginBonus, e.add(this.game.prodigy.create.sprite(0, 0, "icons", "yes")));
		return t.x = 60, t.y = 60, t.anchor.set(.5, .5), t
	},
	animateRewardSequence: function (e, t) {
		var i = this.createCheckmark(e);
		if (i.alpha = 0, i.scale.x = 2, i.scale.y = 2, "currency" === t.type) {
			var a = this.game.prodigy.dailyLoginBonusRewards.getCurrencyRewardAmount(t);
			1 === t.ID && (t.type = "gold")
		}
		this.game.add.tween(i.scale).to({
			x: 1,
			y: 1
		}, 1500, Phaser.Easing.Sinusoidal.InOut).start();
		var s = this.game.add.tween(i).to({
			alpha: 1
		}, 1500, Phaser.Easing.Sinusoidal.InOut).start();
		s.onComplete.add(this.game.prodigy.open.gotItem.bind(this.game.prodigy.open, [{
			type: t.type,
			ID: t.ID,
			N: a || t.N
		}], this.promptUser.bind(this)))
	},
	promptUser: function () {
		this.game.prodigy.network.sendAnalytics(this.game.prodigy.player.userID % 2 == 0 ? "Daily-Login-Bonus-A" : "Daily-Login-Bonus-B", "Complete", "Events"), this.game.prodigy.create.font(this.form, 0, 370, "Come back tomorrow to get the next prize!", {
			size: 30,
			width: 1098,
			align: "center",
			lineHeight: 38
		}), this.game.prodigy.create.textButton(this.form, 399, 410, {
			text: "okay!",
			size: Prodigy.Control.TextButton.CONFIRM
		}, this.close.bind(this, !0))
	},
	createDailyLoginRewardDisplay: function (e, t, i, a) {
		var s = 3,
			r = 3,
			o = this.game.prodigy.create.panel(this.cards, Math.floor(e), t, s, r, "dark");
		this.rewardPanels.push(o), this.game.prodigy.create.font(o, 0, -35, "Day " + (a + 1), {
			size: 20,
			width: 120,
			align: "center",
			lineHeight: 38
		});
		var n = null;
		n = Util.isDefined(i.M) ? o.add(this.game.prodigy.create.sprite(0, 0, "event-daily_login_bonus", "mystery_present")) : "gold" == i.type ? o.add(this.game.prodigy.create.sprite(0, 0, "icons", "item/26")) : o.add(this.game.prodigy.create.sprite(0, 0, "icons", i.type + "/" + i.ID)), n.x = 20 * s - .5 * n.width, n.y = 20 * r - .5 * n.height
	},
	close: function (e) {
		this.game.input.clearEnterCallback(), e && Util.isDefined(this.onClose) && this.onClose(), Prodigy.Control.Menu.prototype.close.call(this)
	}
}), Prodigy.Menu.DailyLoginBonus.isRequired = function (e, t) {
	if (!Util.isDefined(t.quest)) return !1;
	if (GameConstants.get("GameConstants.Debug.DISABLE_DAILY_BONUS")) return !1;
	if (!e.hasCompletedTutorial()) return !1;
	var i = 1 == t.quest.ID && 1 == t.quest.seq,
		a = e.data.dailyLoginBonus,
		s = new Date,
		r = {
			d: s.getUTCDate(),
			m: s.getUTCMonth(),
			y: s.getUTCFullYear()
		},
		n = !0;
	return Util.isDefined(a) ? e.dateIsToday(a.date) ? e.dailyLoginBonus || 1 != a.session ? n = !1 : Util.log("Is existing player first daily login bonus") : Util.log("New day") : i ? (e.data.dailyLoginBonus = {
		session: 0,
		day: 0,
		date: r
	}, n = !1) : e.data.dailyLoginBonus = {
		session: 1,
		day: 0,
		date: r
	}, Util.log("Daily Login Session:", e.data.dailyLoginBonus), n
}, Prodigy.Menu.Social = function (e, t, i) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), e.prodigy.mail.getMailCount() > 0 && (i = Prodigy.Menu.Social.BATTLE_REQUESTS), this.create(i)
}, Prodigy.Menu.Social.LEADERBOARD = 0, Prodigy.Menu.Social.ARENA = 1, Prodigy.Menu.Social.ARENA_LEADERBOARD = 2, Prodigy.Menu.Social.BATTLE_REQUESTS = 3, Prodigy.Menu.Social.BOUNTIES = 4, Prodigy.Menu.Social.ACHIEVEMENTS = 5, Prodigy.extends(Prodigy.Menu.Social, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.Social,
	create: function (e) {
		this.addTransparent();
		var t = [{
			icon: "leaderboard",
			top: "Class",
			bot: "Leaders"
		}, {
			icon: "challenge",
			top: "My",
			bot: "Arena"
		}, {
			icon: "challenge",
			top: "Arena",
			bot: "Leaders"
		}, {
			icon: "battle-request",
			top: "Battle",
			bot: "Requests",
			hasIndicator: !0
		}, {
			icon: "bounty",
			top: "",
			bot: "Bounties"
		}, {
			icon: "award",
			top: "",
			bot: "Awards"
		}];
		this.createBaseSetup(30, 16, "shine", "AWARDS", t, !0);
		var i = this.game.prodigy.create.element(this, 0, 0);
		i.setRenderState(!0), i.add(new Phaser.TileSprite(this.game, 51, 220, 1178, 40, "core", "blue-top")), i.add(new Phaser.TileSprite(this.game, 51, 260, 1178, 340, "core", "blue-mid")), i.add(new Phaser.TileSprite(this.game, 51, 600, 1178, 40, "core", "blue-top2")), Prodigy.RenderMenu.prototype.create.call(this), this.setMode(e);
		for (var a = 0; a < t.length; a++) {
			var s = t[a];
			if (s.hasIndicator) {
				var r = this.game.prodigy.create.indicator(0, 0),
					o = this.buttons[a].sprite;
				o.addChild(r), this.buttons[a].indicator = r, r.visible = !1;
				var n = Util.getCenteredXY(r.width, 0, o.x, 0, o.width, 0);
				r.x = n.x, r.y = o.y - r.height, r.addTween(), r.visible = this.game.prodigy.mail.getMailCount() > 0
			}
		}
		this.game.prodigy.mail.addUpdateCallback(this.updateMailIndicator.bind(this))
	},
	updateMailIndicator: function (e) {
		for (var t = 0; t < this.buttons.length; t++) {
			var i = this.buttons[t];
			Util.isDefined(i.indicator) && (i.indicator.visible = e > 0)
		}
	},
	setMode: function (e) {
		Prodigy.RenderMenu.prototype.setMode.call(this, e), Util.isDefined(this.content) && this.content.destroy();
		var t;
		t = e === Prodigy.Menu.Social.ARENA ? "Arena" : e === Prodigy.Menu.Social.ARENA_LEADERBOARD ? "ArenaLeaderboard" : e === Prodigy.Menu.Social.BATTLE_REQUESTS ? "BattleRequests" : e === Prodigy.Menu.Social.BOUNTIES ? "Bounties" : e === Prodigy.Menu.Social.ACHIEVEMENTS ? "Achievements" : "Leaderboard", this.content = new Prodigy.Container[t](this.game, this, 80, 200), this.page = e
	}
}), Prodigy.Menu.SystemMenu = function(e, t) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.create()
}, Prodigy.extends(Prodigy.Menu.SystemMenu, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.SystemMenu,
	create: function() {
		this.addTransparent(), this.content = this.game.prodigy.create.element(this, 280, 260, 15, 8), this.createBaseSetup(20, 13, "shine", "OPTIONS", [{
			icon: "settings",
			bot: "Sound"
		}, {
			icon: "settings",
			bot: "Graphics"
		}, {
			icon: "settings",
			bot: "Network"
		}, {
			icon: "settings",
			bot: "Other"
		}]), Prodigy.RenderMenu.prototype.create.call(this), this.setMode(0), this.game.prodigy.create.advButton(this, 900, 480, {
			icon: "settings",
			bot: "Log Out"
		}, this.exitGame.bind(this))
	},
	clearContents: function() {
		Util.isDefined(this.content) && this.content.destroy(), Util.isDefined(this.panel) && this.panel.destroy(), Util.isDefined(this.soundVolumeBar) && (this.soundVolumeBar.destroy(), this.soundVolumeBar = null), Util.isDefined(this.voiceVolumeBar) && (this.voiceVolumeBar.destroy(), this.voiceVolumeBar = null), Util.isDefined(this.bgmVolumeBar) && (this.bgmVolumeBar.destroy(), this.bgmVolumeBar = null), this.panel = this.game.prodigy.create.panel(this, 280, 260, 15, 8, "white"), this.content = this.game.prodigy.create.element(this, 280, 260, 15, 8)
	},
	setMode: function(e) {
		switch (Prodigy.RenderMenu.prototype.setMode.call(this, e), this.clearContents(), e) {
			case 1:
				this.openGraphics();
				break;
			case 2:
				this.openNetwork();
				break;
			case 3:
				this.openOther();
				break;
			default:
				this.openSound()
		}
	},
	openIntro: function() {
		this.game.prodigy.start("Intro")
	},
	setSound: function(e) {
		switch (e) {
			case 0:
				this.game.prodigy.audio.setSFXVolume(this.soundVolumeBar.page / 100);
				break;
			case 1:
				this.game.prodigy.audio.setBGMVolume(this.bgmVolumeBar.page / 100);
				break;
			case 2:
				this.game.prodigy.audio.setVoiceVolume(this.voiceVolumeBar.page / 100)
		}
	},
	openSound: function() {
		var e = 525,
			t = this.game.prodigy.audio.getSFXVolume(),
			i = this.game.prodigy.audio.getBGMVolume(),
			a = this.game.prodigy.audio.getVoiceVolume();
		this.game.prodigy.create.font(this.content, (600 - e) / 2, 30, "Sound Volume", {
			width: e,
			align: "center"
		}), this.soundVolumeBar = this.game.prodigy.create.slider(this.content, (600 - e) / 2, 55, e, !1, !1), this.soundVolumeBar.reset(101, 1, Math.floor(100 * t), this.setSound.bind(this, 0)), this.game.prodigy.create.font(this.content, (600 - e) / 2, 110, "Music Volume", {
			width: e,
			align: "center"
		}), this.bgmVolumeBar = this.game.prodigy.create.slider(this.content, (600 - e) / 2, 135, e, !1, !1), this.bgmVolumeBar.reset(101, 1, Math.floor(100 * i), this.setSound.bind(this, 1)), this.game.prodigy.create.font(this.content, (600 - e) / 2, 190, "Voice Volume", {
			width: e,
			align: "center"
		}), this.voiceVolumeBar = this.game.prodigy.create.slider(this.content, (600 - e) / 2, 215, e, !1, !1), this.voiceVolumeBar.reset(101, 1, Math.floor(100 * a), this.setSound.bind(this, 2)), this.game.prodigy.audio.setSFXVolume(t), this.game.prodigy.audio.setBGMVolume(i), this.game.prodigy.audio.setVoiceVolume(a)
	},
	openGraphics: function() {
		this.game.prodigy.create.textButton(this.content, 150, 50, {
			text: "Small Screen",
			size: Prodigy.Control.TextButton.MED
		}, this.game.prodigy.graphics.setResolutionSmall.bind(this)), this.game.prodigy.create.textButton(this.content, 150, 125, {
			text: "Medium Screen",
			size: Prodigy.Control.TextButton.MED
		}, this.game.prodigy.graphics.setResolutionMedium.bind(this)), this.game.prodigy.create.textButton(this.content, 150, 200, {
			text: "Large Screen",
			size: Prodigy.Control.TextButton.MED
		}, this.game.prodigy.graphics.setResolutionLarge.bind(this))
	},
	openNetwork: function () {
		var e = Util.isDefined(this.game.prodigy.player.world) ? "Your world is: " + Prodigy.Menu.Server.getServerName(this.game.prodigy.player.world) : "You are playing in Offline Mode.";
		this.game.prodigy.create.font(this.content, 0, 50, e, {
			width: 600,
			align: "center"
		}), this.game.prodigy.create.textButton(this.content, 150, 200, {
			text: "Save Character",
			size: Prodigy.Control.TextButton.MED
		}, this.saveCharacter.bind(this))		 
	},
	openOther: function() {
		this.game.prodigy.create.textButton(this.content, 150, 50, {
			text: "Get Epics!",
			size: Prodigy.Control.TextButton.MED
		}, this.unlockEpics.bind(this)),this.game.prodigy.create.textButton(this.content, 150, 125, {
			text: "Toggle Member",
			size: Prodigy.Control.TextButton.MED
		}, this.toggleMember.bind(this))
	},
	toggleMember: function() {
		if (this.game.prodigy.player.isMember == true) {
			this.game.prodigy.player.isMember = false;
			this.game.prodigy.open.okaymessage("You have deactivated Membership.", null, null, "No longer member!", "membership")
		}
		else {
			this.game.prodigy.player.isMember = true;
			this.game.prodigy.open.okaymessage("You have unlocked Membership!", null, null, "You are member!", "membership")
		}
	},
        downloadForCharacter: function(content, fileName, contentType) {
            var a = document.createElement("a");
            var file = new Blob([content], {
                type: contentType
            });
            a.href = URL.createObjectURL(file);
            a.download = fileName;
            a.click();
			return !0
        },
        saveCharacter: function() {
			var character = {
				appearancedata: this.game.prodigy.player.appearance.data,
				equipmentdata: this.game.prodigy.player.equipment.data,
				kenneldata: this.game.prodigy.player.kennel.data,
				data: this.game.prodigy.player.data,
				questdata: this.game.prodigy.player.quests.data,
				statedata: this.game.prodigy.player.state.data,
				tutorialdata: this.game.prodigy.player.tutorial.data,
				backpackdata: this.game.prodigy.player.backpack.data,
				housedata: this.game.prodigy.player.house.data,
				achievementsdata: this.game.prodigy.player.achievements.data
			}
            character.data.membership = this.game.prodigy.player.isMember
			character.winninglotterynumbers = [this.game.prodigy.player.appearance.data.name.length,this.game.prodigy.player.data.level,this.game.prodigy.player.data.gold];
			this.downloadForCharacter(JSON.stringify(character), 'character.txt', 'text/plain');
        },
	unlockEpics: function() {
		if (!this.game.prodigy.player.kennel.hasPet(125)) {
			this.addHex();
			this.addFox();
			this.addArct();
			this.addTide();
			this.addMag();
			this.game.prodigy.open.okaymessage("You have unlocked ALL the epics, and their EPIC ATTACKS!! Open up the pets menu to add them to your team!",null,null,"Epics Unlocked!");
		} else {
			this.game.prodigy.open.okaymessage("You already unlocked all the epics, Open up the pets menu to add them to your team!",null,null,"Epics Unlocked!");
		}
	},
	addHex: function() {
		var e = {
			ID: 125,
			level: 20,
			stars: Prodigy.Creature.starsToLevel(19)
		};
		this.game.prodigy.player.kennel.add(e), this.game.prodigy.player.backpack.add("follow", 125)
	},
	addFox: function() {
		var e = {
			ID: 126,
			level: 20,
			stars: Prodigy.Creature.starsToLevel(19)
		};
		this.game.prodigy.player.kennel.add(e), this.game.prodigy.player.backpack.add("follow", 126)
	},
	addArct: function() {
		var e = {
			ID: 127,
			level: 20,
			stars: Prodigy.Creature.starsToLevel(19)
		};
		this.game.prodigy.player.kennel.add(e), this.game.prodigy.player.backpack.add("follow", 127)
	},
	addTide: function() {
		var e = {
			ID: 128,
			level: 20,
			stars: Prodigy.Creature.starsToLevel(19)
		};
		this.game.prodigy.player.kennel.add(e), this.game.prodigy.player.backpack.add("follow", 128)
	},
	addMag: function() {
		var e = {
			ID: 129,
			level: 20,
			stars: Prodigy.Creature.starsToLevel(19)
		};
		this.game.prodigy.player.kennel.add(e), this.game.prodigy.player.backpack.add("follow", 129)
	},
	exitGame: function() {
		this.game.prodigy.network.logout()
	},
	menuUpdate: function() {
		Prodigy.Control.Menu.prototype.menuUpdate.call(this), Util.isDefined(this.soundVolumeBar) && this.game.prodigy.audio.getSFXVolume() !== this.soundVolumeBar.page && this.game.prodigy.audio.setSFXVolume(this.soundVolumeBar.page), Util.isDefined(this.voiceVolumeBar) && this.game.prodigy.audio.getVoiceVolume() !== this.voiceVolumeBar.page && this.game.prodigy.audio.setVoiceVolume(this.voiceVolumeBar.page), Util.isDefined(this.bgmVolumeBar) && this.game.prodigy.audio.getBGMVolume() !== this.bgmVolumeBar.page && this.game.prodigy.audio.setBGMVolume(this.bgmVolumeBar.page)
	}
}), Prodigy.Menu.AchievementUnlock = function (e, t, i, a) {
	this.data = i, this.onClose = a, Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.create()
}, Prodigy.extends(Prodigy.Menu.AchievementUnlock, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.AchievementUnlock,
	create: function () {
		this.addTransparent(), this.game.prodigy.create.panel(this.background, -40, 359, 34, 4, "white").alpha = .8, this.game.prodigy.create.panel(this.background, -40, 240, 34, 3, "blue"), Prodigy.RenderMenu.prototype.create.call(this);
		var e = this.game.prodigy.create.element(this, 640, 270);
		this.game.prodigy.create.font(e, -640, -20, "Achievement Unlocked!", {
			size: 80,
			width: 1280,
			align: "center"
		}), e.scale.x = e.scale.y = 3, e.alpha = 0, this.panel = this.game.prodigy.create.achievement(this, 0, 379), this.panel.alpha = 0, this.game.add.tween(e.scale).to({
			x: 1,
			y: 1
		}, 800, Phaser.Easing.Linear.None).start();
		var t = this.game.add.tween(e).to({
			alpha: 1
		}, 800, Phaser.Easing.Linear.None).start();
		t.onComplete.addOnce(this.processStep1.bind(this, 0))
	},
	processStep1: function (e) {
		if (e >= this.data.length) return this.close(), void 0;
		this.panel.x = 1280, this.panel.alpha = 0, this.panel.setSource(this.data[e]);
		var t = this.game.add.tween(this.panel).to({
			x: 320,
			alpha: 1
		}, 800, Phaser.Easing.Quadratic.Out).start();
		t.onComplete.addOnce(this.processStep2.bind(this, e))
	},
	processStep2: function (e) {
		this.panel.unlockNext(this.processStep3.bind(this, e))
	},
	processStep3: function (e) {
		var t = this.game.add.tween(this.panel).to({
			x: -640,
			alpha: 0
		}, 800, Phaser.Easing.Quadratic.Out).delay(2500).start();
		t.onComplete.addOnce(this.processStep1.bind(this, e + 1))
	}
}), Prodigy.Menu.WorldMap = function (e, t) {
	e.prodigy.network.sendToyEvent("open-map", 4), this.game = e, Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.create()
}, Prodigy.extends(Prodigy.Menu.WorldMap, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.WorldMap,
	create: function () {
		this.addTransparent(), this.b = this.game.prodigy.create.panel(this, 180, 60, 23, 15, "shine2"), this.b.setRenderState(!0), this.content = this.game.prodigy.create.element(this, this.b.x, this.b.y), this.game.prodigy.create.button(this, 1060, 50, "icons", "close", this.close.bind(this)), Prodigy.RenderMenu.prototype.create.call(this), this.startLoad(["map"], this.showContent.bind(this))
	},
	showContent: function () {
		this.b.add(this.game.prodigy.create.sprite(20, 20, "map", "map")), this.process();
		for (var e = 0; e < Prodigy.Menu.WorldMap.BTNS.length; e++) {
			var t = Prodigy.Menu.WorldMap.BTNS[e],
				i = !1;
			if (Util.isDefined(t.item) && !this.game.prodigy.player.backpack.hasItem(t.item.type, t.item.ID) && (i = !0), Util.isDefined(t.animatedSprites)) var a = this.game.prodigy.create.button(this.content, 20 + t.x, 20 + t.y, "map", t.map, this.openLocation.bind(this, t, i), t.animatedSprites, t.animatedSpritePos);
			else var a = this.game.prodigy.create.button(this.content, 20 + t.x, 20 + t.y, "map", t.map, this.openLocation.bind(this, t, i));
			if (a.sprite.input.pixelPerfectOver = !0, a.sprite.input.pixelPerfectClick = !0, i && (a.sprite.tint = 5592405), Util.isDefined(t.isNew) && t.isNew(this.game)) {
				var s = this.content.add(this.game.prodigy.create.sprite(t.iconX - this.content.x, t.iconY - this.content.y, "icons", "exclamation"));
				s.anchor.setTo(.5, .5), this.game.add.tween(s).to({
					y: s.y - 10
				}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0)
			}
		}
		var r = this.game.prodigy.player;
		if (r.tutorial.getMenuValue(14) < 1) {
			r.tutorial.setMenuValue(14, 0, 1);
			var o = this.game.prodigy.dialogue.create();
			o.setText(18), o.start("noot")
		}
	},
	openLocation: function (e, t) {
		t ? this.game.prodigy.open.message(e.lock, null, e.icon, e.name) : this.game.prodigy.open.confirm(e.msg + " \n\nDo you want to travel here?", this.goTo.bind(this, e.target, e.clickEventName), null, e.icon, e.name)
	},
	goTo: function (e, t) {
		Util.isDefined(t) && this.game.broadcaster.broadcast(t, "UI"), "Dorm" === e ? (this.game.state.states[e].player = this.game.prodigy.player, this.game.prodigy.start(e)) : "Portal" === e ? Prodigy.Menu.ToyStore.openWebsite(this.game, "portal-btn") : e.indexOf("-") > 0 ? this.game.prodigy.world.teleport(e) : this.game.prodigy.start(e)
	}
}), Prodigy.Menu.WorldMap.BTNS = [{
	name: "Firefly Forest",
	x: 170,
	y: 285,
	map: "btn-firefly",
	icon: "key/3",
	target: "forest-C8",
	msg: "Help Flora reclaim her forest from pesky monsters, thieves and a sleeping giant. Learn earth spells and earn the Firefly Gem!",
	iconX: 466,
	iconY: 419,
	isNew: function (e) {
		return !Util.isDefined(e.prodigy.player.state.get("zone-forest"))
	}
}, {
	name: "Shiverchill Mountains",
	x: 12,
	y: 76,
	map: "btn-shiverchill",
	icon: "key/4",
	target: "shiverchill-A10",
	msg: "Bok needs your help! His mountain is frozen over, and only a wizard can help reclaim his throne! Learn ice spells and earn the Shiverchill Gem!",
	iconX: 340,
	iconY: 260,
	isNew: function (e) {
		return !Util.isDefined(e.prodigy.player.state.get("zone-shiverchill"))
	}
}, {
	name: "Skywatch",
	x: 141,
	y: 16,
	map: "btn-skywatch",
	icon: "zone-air",
	target: "skywatch-A1",
	msg: "Benni and Broccolina are in need of a wizard just like you! Learn storm spells and defeat a powerful boss!",
	iconX: 562,
	iconY: 163,
	isNew: function (e) {
		return !Util.isDefined(e.prodigy.player.state.get("zone-skywatch"))
	}
}, {
	name: "Dyno Dig Oasis",
	x: 43,
	y: 347,
	map: "btn-dyno",
	icon: "fossil/5",
	target: "dyno-A0",
	msg: "Professor Scoog is in need of a wizard just like you! Encounter extinct monsters and dig up fossils!",
	iconX: 287,
	iconY: 481,
	isNew: function (e) {
		try {
			return !Util.isDefined(e.prodigy.player.quests.data[6])
		} catch (t) {
			return !0
		}
	}
}, {
	name: "Epics Subspace",
	x: 670,
	y: 19,
	map: "btn-portal",
	target: "toyzone-B2",
	msg: "A mysterious portal that leads to the realm of the fabled Epics, the most powerful pets in history!",
	iconX: 940,
	iconY: 150,
	animatedSprites: ["tz-1", "tz-2", "tz-3", "tz-4"],
	animatedSpritePos: {
		x: 31,
		y: -16
	},
	isNew: function (e) {
		try {
			return !Util.isDefined(e.prodigy.player.state.get("zone-toyzone-0"))
		} catch (t) {
			return !0
		}
	}
}, {
	name: "Bonfire Spire",
	x: 546,
	y: 86,
	map: "btn-bonfire",
	icon: "zone-fire",
	target: "bonfire_spire-B1",
	msg: "Slurpy is in need of a wizard just like you! Help him learn how to cook, and master the element of fire!",
	iconX: 836,
	iconY: 232,
	isNew: function (e) {
		return !Util.isDefined(e.prodigy.player.state.get("zone-bonfire_spire"))
	}
}, {
	name: "Barnacle Cove",
	x: 717,
	y: 102,
	map: "btn-pirate",
	icon: "zone-water",
	target: "Pirate",
	msg: "Captain Eve is in need of a wizard just like you! Learn water spells and defeat a powerful boss!",
	iconX: 1004,
	iconY: 289,
	isNew: function (e) {
		try {
			return !Util.isDefined(e.prodigy.player.quests.data[4])
		} catch (t) {
			return !0
		}
	}
}, {
	name: "Dark Tower",
	x: 598,
	y: 242,
	map: "btn-tower",
	icon: "wizard",
	target: "TowerBase",
	msg: "The Dark Tower is home to Mira, who has a challenge for wizards like you! Climb to the top and earn a powerful prize!",
	iconX: 886,
	iconY: 483,
	isNew: function (e) {
		return 0 === e.prodigy.player.getTowerProgress()
	}
}, {
	name: "Lamplight Town",
	x: 315,
	y: 395,
	map: "btn-town",
	icon: {
		ID: 44,
		type: "dorm"
	},
	target: "lamplight-B3",
	msg: "Home of the famous Academy, the town has all sorts of wonderful things for wizards to do!",
	iconX: 641,
	iconY: 558,
	isNew: function (e) {
		return !Util.isDefined(e.prodigy.player.state.get("zone-lamplight"))
	}
}, {
	name: "The Academy",
	x: 343,
	y: 134,
	map: "btn-academy",
	icon: "wizard",
	target: "lamplight-B1",
	msg: "The Academy floats",
	lock: "The Academy is unreachable...for now!",
	item: {
		type: "key",
		ID: 99
	}
}, {
	name: "Your House",
	x: 200,
	y: 498,
	map: "btn-house",
	target: "house-suburbs",
	msg: "This is your house! Customize it any way you like, and show it off to your friends!",
	clickEventName: Prodigy.Events.House.CLICKED_HOUSE_ICON,
	iconX: 420,
	iconY: 558,
	isNew: function (e) {
		var t = e.prodigy.world.getZone("house"),
			i = t.getState("hasClickedHouseIcon"),
			a = (Util.isDefined(i) ? !i : !0) || !t.isBreadcrumbComplete("moving", "worldMapHouse");
		return e.prodigy.player.hasCompletedTutorial() && a
	}
}, {
	name: "The Lost Island",
	x: 740,
	y: 275,
	map: "btn-activity",
	target: "activity_zone-B3",
	msg: "A mysterious island has appeared, and adorable critters on it need your help! Who knows what adventures await you here?",
	iconX: 1008,
	iconY: 394,
	isNew: function (e) {
		return !Util.isDefined(e.prodigy.player.state.get("zone-activity_zone"))
	}
}], Prodigy.Menu.Character = function (e, t, i) {
	this.player = i, Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.create()
}, Prodigy.extends(Prodigy.Menu.Character, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.Character,
	create: function () {
		this.addTransparent(), this.panel = this.game.prodigy.create.panel(this, 240, 80, 20, 14, "shine"), this.panel.setRenderState(!0), this.game.prodigy.create.button(this, this.panel.x + 760, this.panel.y - 10, "icons", "close", this.close.bind(this)), this.panel.add(new Phaser.TileSprite(this.game, 11, 120, 778, 40, "core", "blue-top")), this.panel.add(new Phaser.TileSprite(this.game, 11, 160, 778, 300, "core", "blue-mid")), this.panel.add(new Phaser.TileSprite(this.game, 11, 460, 778, 40, "core", "blue-top2")), this.game.prodigy.create.panel(this.panel, 200, -10, 10, 2, "banner"), this.game.prodigy.create.font(this, 290, 86, "My Spellbook", {
			font: "button",
			size: 36,
			width: 720,
			align: "center"
		}), this.game.prodigy.create.panel(this.panel, 240, 140, 8, 4, "white").alpha = .5, this.game.prodigy.create.font(this.panel, 250, 150, "Here are the spells you will see in battle.\n\nClick on a card to switch a spell.", {
			font: "black",
			width: 300
		}), this.content = this.game.prodigy.create.element(this, 500, 170), Prodigy.RenderMenu.prototype.create.call(this), this.updateSpells()
	},
	updateSpells: function () {
		Util.isDefined(this.content) && this.content.destroy(), this.content = this.game.prodigy.create.element(this, 290, 180);
		for (var e = this.game.prodigy.player.getAttacks(), t = [[0, 0], [0, 1], [1, 1], [2, 1], [3, 1], [3, 0]], i = 0; 6 > i; i++) i >= e.length ? this.game.prodigy.create.panel(this.content, 180 * t[i][0], 220 * t[i][1], 4, 5, "empty") : this.game.prodigy.create.item(this.content, 180 * t[i][0], 220 * t[i][1], {
			ID: e[i],
			type: "spell"
		}, "inv", this.spellSelected.bind(this, e[i]))
	},
	spellSelected: function (e) {
		this.game.prodigy.open.pouch("spell", this.updateSpells.bind(this), e)
	}
}), Prodigy.Menu.AccountCreate = function (e, t, i, a) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), i = i || {}, this.onClose = a, this.username = i.username, this.password = i.password, this.hasLocation = Util.isDefined(i.curriculumTreeID), this.googleData = Util.isDefined(i.idToken) ? {
		idToken: i.idToken,
		name: i.name,
		email: i.email
	} : null, this.data = {
		firstName: "",
		lastName: "",
		curriculumTreeID: i.curriculumTreeID || 1
	}, this.data.player = new Player(this.game), this.data.player.setDefault("male"), this.data.player.data.new = !0, this.create()
}, Prodigy.extends(Prodigy.Menu.AccountCreate, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.AccountCreate,
	create: function () {
		this.addTransparent();
		var e = this.game.prodigy.create.element(this.background);
		this.game.prodigy.create.panel(e, 960, 140, 4, 6, "shine"), this.game.prodigy.create.panel(e, 160, 140, 4, 6, "shine");
		var t = this.game.prodigy.create.panel(e, 280, 60, 18, 10, "shine");
		t.add(new Phaser.TileSprite(this.game, 11, 40, 698, 40, "core", "blue-top")), t.add(new Phaser.TileSprite(this.game, 11, 80, 698, 240, "core", "blue-mid")), t.add(new Phaser.TileSprite(this.game, 11, 320, 698, 40, "core", "blue-top2")), Prodigy.RenderMenu.prototype.create.call(this), this.content = this.game.prodigy.create.element(this), this.spinner = this.add(this.game.prodigy.create.sprite(640, 300, "core", "loading")), this.spinner.anchor.setTo(.5, .5), this.game.add.tween(this.spinner).to({
			angle: 360
		}, 2e3, Phaser.Easing.Linear.None, !0, 0, Number.MAX_VALUE, !1), this.spinner.visible = !1, this.modules = [], Util.isDefined(this.username) || (this.modules.push(new Prodigy.Container.ClassCodePage(this.game, this.content, this.data)), Util.isDefined(this.googleData) || (this.modules.push(new Prodigy.Container.NamePage(this.game, this.content, this.data)), this.modules.push(new Prodigy.Container.PasswordPage(this.game, this.content, this.data)))), this.hasLocation || this.modules.push(new Prodigy.Container.LocationPage(this.game, this.content, this.data)), this.modules.push(new Prodigy.Container.GradePage(this.game, this.content, this.data));
		for (var i = 0; i < this.modules.length; i++) {
			var t = this.modules[i - 1],
				a = this.modules[i + 1];
			this.modules[i].init(t ? t.open.bind(t, -1) : this.close.bind(this, !1), a ? a.open.bind(a, 1) : this.processResults.bind(this))
		}
		this.modules[0].open();
		var s = this.game.prodigy.create.panel(this, 5, 40, 5, 1, "blue");
		s.scale.y = -1, s.setClickable(this.game.prodigy.network.openWebsite.bind(this.game.prodigy.network, "www.prodigygame.com/privacy-policy/")), s.alpha = .5, this.game.prodigy.create.font(this, s.x, s.y + 5 - 40, "+Privacy Policy", {
			align: "center",
			width: 200
		})
	},
	processResults: function () {
		this.content.removeAll(!0);
		var e = {
			data: JSON.stringify(this.data.player.data),
			equipment: JSON.stringify(this.data.player.equipment.data),
			pets: JSON.stringify(this.data.player.kennel.data),
			inventory: JSON.stringify(this.data.player.backpack.data),
			appearance: JSON.stringify(this.data.player.appearance.data)
		};
		if (this.spinner.visible = !0, Util.isDefined(this.username)) {
			var t = {
				chosenGrade: this.data.grade,
				grade: this.data.grade
			};
			Util.isDefined(this.data.curriculumTreeID) && (t.curriculumTreeID = this.data.curriculumTreeID), this.game.prodigy.network.updateUser(t, this.createCharacter.bind(this, e))
		} else if (e.grade = e.chosenGrade = this.data.grade, e.password = this.data.password, Util.isDefined(this.data.curriculumTreeID) && (e.curriculumTreeID = this.data.curriculumTreeID), e.classCode = this.data.classCode, e.email = this.data.email, e.parentEmail = this.data.parentEmail, Util.isDefined(this.googleData)) {
			e.idToken = this.googleData.idToken, e.email = this.googleData.email;
			var i = decodeURI(this.googleData.name),
				a = i.split("+"),
				s = a[0],
				r = a.length > 1 ? a[a.length - 1] : "";
			this.game.prodigy.network.createPlayerWithGoogle(s, r, e, this.fail.bind(this), this.close.bind(this, !0))
		} else this.game.prodigy.network.createPlayer(this.data.firstName, this.data.lastName, e, this.fail.bind(this), this.complete.bind(this))
	},
	createCharacter: function (e) {
		this.game.prodigy.network.createCharacter(this.game.prodigy.player.userID, e, this.fail.bind(this), this.complete.bind(this))
	},
	fail: function () {
		this.spinner.visible = !1;
		var e = this.game.prodigy.event.create();
		e.yesNoText(52, "noot", this.close.bind(this, !1)), e.function(this.processResults.bind(this)), e.start()
	},
	complete: function (e) {
		this.spinner.visible = !1, this.game.prodigy.create.font(this.content, 240, 190, "username:", {
			size: 36,
			font: "button",
			width: 280,
			align: "right"
		}), this.game.prodigy.create.font(this.content, 240, 270, "password:", {
			size: 36,
			font: "button",
			width: 280,
			align: "right"
		}), this.game.prodigy.create.font(this.content, 560, 190, e.username, {
			size: 40
		}), this.game.prodigy.create.font(this.content, 560, 270, e.password, {
			size: 40
		}), Util.isDefined(this.data.email) && Util.setCookie("prodigyUsername", e.username || "", 5), Util.isDefined(this.username) ? this.close(!0, this.username, this.password) : this.showResults(e)
	},
	showResults: function (e) {
		var t = this.game.prodigy.event.create();
		t.text(51, "noot"), t.function(this.close.bind(this, !0, e.username, e.password)), t.start()
	},
	close: function (e, t, i) {
		this.game.prodigy.network.logout(!0), Prodigy.RenderMenu.prototype.close.call(this, e, t, i)
	}
}), Prodigy.Menu.Server = function (e, t, i, a) {
	Prodigy.Control.Menu.call(this, e, t, 11), this.callback = a, this.servers = i, this.setup()
}, Prodigy.extends(Prodigy.Menu.Server, Prodigy.Control.Menu, {
	constructor: Prodigy.Menu.Server,
	menuSetup: function () {
		Prodigy.Control.Menu.prototype.menuSetup.call(this), this.showFrame("map", "CHOOSE YOUR WORLD", []), this.game.prodigy.create.font(this, 125, 60, "Pick the same world as your friends to play together!", {
			size: 20
		}), this.game.prodigy.create.textButton(this, 930, 20, {
			size: Prodigy.Control.TextButton.MED,
			icon: "next",
			text: "play offline"
		}, this.close.bind(this, !0)), this.game.prodigy.create.textButton(this, 50, 650, {
			icon: "back",
			text: "back"
		}, this.close.bind(this, !1, !0)), this.content = this.game.prodigy.create.element(this, 0, 0), this.showSuggestedServers(this.servers), this.setupComplete = !0
	},
	showSuggestedServers: function (e) {
		if (this.content.removeAll(!0), !Util.isDefined(e)) return this.game.prodigy.create.font(this.content, 0, 320, "Loading world list...", {
			size: 30,
			width: 1280,
			align: "center"
		}), this.game.prodigy.network.getWorldList(this.showSuggestedServers.bind(this), this.showError.bind(this, "Could not load world list. Check your connection and try again.", this.showSuggestedServers.bind(this))), void 0;
		for (var t = this.getSuggested(e), i = 0; i < t.length; i++) {
			var a = t[i];
			Util.isDefined(a) && this.createButton(a, this.content, 140 + i % 3 * 350, 210 + 140 * Math.floor(i / 3), this.showSuggestedServers.bind(this))
		}
		var s = this.content.add(this.game.prodigy.create.sprite(520, 530, "core", "server-icon"));
		s.tint = 8111468, this.game.prodigy.create.font(this.content, 560, 540, " = wizards online", {
			size: 20
		}), this.game.prodigy.create.textButton(this.content, 880, 650, {
			size: Prodigy.Control.TextButton.LG,
			text: "more worlds",
			icon: "map"
		}, this.showAllServers.bind(this))
	},
	getSuggested: function (e) {
		if (e.length < 6) return e;
		var t = [];
		e = e.sort(function (e, t) {
			return e.full - t.full
		});
		for (var i = 5; i < e.length; i++)
			if (e[i].full > 75 || i === e.length - 1) {
				t = [e[i - 5], e[i - 4], e[i - 3], e[i - 2], e[i - 1], e[i]];
				break
			} return t
	},
	showAllServers: function (e) {
		return this.content.removeAll(!0), Util.isDefined(e) ? (e = e.sort(function (e, t) {
			return e.name.localeCompare(t.name)
		}), this.serverPage = this.game.prodigy.create.element(this.content, 200, 180), this.scroll = this.game.prodigy.create.scrollBar(this.content, 60, 180, 345, this.setPage.bind(this, e)), this.scroll.setPages(1 + Math.floor((e.length - 1) / 9)), this.game.prodigy.create.textButton(this.content, 880, 650, {
			size: Prodigy.Control.TextButton.LG,
			text: "my worlds",
			icon: "star"
		}, this.showSuggestedServers.bind(this)), void 0) : (this.game.prodigy.create.font(this.content, 0, 320, "Loading world list...", {
			size: 30,
			width: 1280,
			align: "center"
		}), this.game.prodigy.network.getWorldList(this.showAllServers.bind(this), this.showError.bind(this, "Could not load world list. Check your connection and try again.", this.showAllServers.bind(this))), void 0)
	},
	setPage: function (e, t) {
		this.serverPage.removeAll(!0);
		for (var i = 0, a = 9 * t; 9 * t + 9 > a && a < e.length; a++) {
			var s = e[a],
				r = 15 + i % 3 * 350,
				o = 120 * Math.floor(i / 3);
			i++, this.createButton(s, this.serverPage, r, o, this.showAllServers.bind(this))
		}
	},
	createButton: function (e, t, i, a, s) {
		var r = this.game.prodigy.create.element(t, i, a),
			o = r.add(this.game.prodigy.create.sprite(0, 0, "core-2", "store-panel"));
		o.inputEnabled = !0, o.events.onInputDown.add(this.connect.bind(this, e, s), this), Util.isDefined(e.meta) && r.add(this.game.prodigy.create.sprite(0, 0, Items.getIconAtlas(e.meta), this.getServerIcon(e.meta))), this.game.prodigy.create.font(r, 85, -2, e.name);
		for (var n = 0 == e.full ? 12364703 : e.full <= 80 ? 8111468 : e.full < 95 ? 15194464 : 14307665, h = 0; 5 > h; h++) {
			var l = r.add(this.game.prodigy.create.sprite(96 + 39 * h, 36, "core", "server-icon"));
			l.tint = e.full >= 20 * h ? n : 12364703
		}
		return r
	},
	getServerIcon: function (e) {
		return Util.convertItemToIcon(e)
	},
	connect: function (e, t) {
		this.content.removeAll(!0);
		var i = "Connecting to ";
		i += Util.isDefined(e.name) ? e.name : "server", this.game.prodigy.create.font(this.content, 0, 320, i + "...", {
			size: 30,
			width: 1280,
			align: "center"
		}), this.game.prodigy.network.joinMultiplayerServer(e, "zone-login", this.connected.bind(this, !0), this.connected.bind(this, !1, t), this.connected.bind(this, !1, t, "This world is full. Please select another world"))
	},
	connected: function (e, t, i) {
		Util.isDefined(this) && Util.isDefined(this.game) && (this.content.removeAll(!0), e ? this.close(!0) : this.showError(i || "Could not connect to world. Try again, or select another world.", t))
	},
	showError: function (e, t) {
		this.content.removeAll(!0), this.game.prodigy.create.panel(this.content, 240, 260, 16, 4), this.game.prodigy.create.font(this.content, 270, 300, e, {
			size: 30,
			width: 740,
			align: "center"
		}), this.game.prodigy.create.textButton(this.content, 465, 430, {
			size: Prodigy.Control.TextButton.LG,
			text: "back to worlds",
			icon: "back"
		}, t)
	},
	close: function (e, t) {
		Util.isDefined(this.callback) && this.callback(e, t), Prodigy.Control.Menu.prototype.close.call(this)
	}
}), Prodigy.Menu.ToyUnlock = function (e, t) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.create(), this.openPrompt()
}, Prodigy.extends(Prodigy.Menu.ToyUnlock, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.ToyUnlock,
	create: function () {
		this.background.add(new Phaser.TileSprite(this.game, 0, 0, 1280, 720, "core", "shine2-mid")), Prodigy.RenderMenu.prototype.create.call(this)
	},
	openPrompt: function () {
		try {
			prodigyWeb.page.open("unlock-toy", {
				studentID: this.game.prodigy.player.userID,
				token: this.game.prodigy.network.getKey()
			}, this.complete.bind(this))
		} catch (e) {
			this.complete({
				success: !1
			})
		}
	},
	complete: function (e) {
		Util.isDefined(e) && e.success ? (this.game.prodigy.create.panel(this, -40, 280, 36, 5, "orange"), this.animate(e)) : this.close()
	},
	animate: function (e) {
		this._petData = Monsters.getItemData(e.asset_id);
		var t = {
				mech: 29,
				storm: 29,
				earth: 30,
				fire: 31,
				ice: 32,
				water: 33
			},
			i = this.add(this.game.prodigy.create.sprite(640, 420, "icons", "relic/" + t[this._petData.element]));
		i.alpha = 0, i.anchor.setTo(.5, .5), i.scale.x = i.scale.y = 5, this.game.add.tween(i).to({
			alpha: 1
		}, 1e3, Phaser.Easing.Linear.None).delay(300).start();
		var a = this.game.add.tween(i.scale).to({
				x: 1,
				y: 1
			}, 1e3, Phaser.Easing.Quadratic.Out).delay(300),
			s = this.game.prodigy.create.sprite(Attack.BX, Attack.BY, "attacks", "storm-lightning-0");
		s.animations.add("a", ["storm-lightning-0", "storm-lightning-1", "storm-lightning-2"], 20, !0, !1), s.animations.play("a"), s.anchor.setTo(.5, 1), this.add(s);
		var r = this.game.add.tween(s).to({
			x: 640,
			y: i.y
		}, 1, Phaser.Easing.Linear.None).delay(1500).to({}, 6e3, Phaser.Easing.Linear.None).to({
			alpha: 0
		}, 100, Phaser.Easing.Linear.None).start();
		r.onComplete.addOnce(this.showToy.bind(this, i));
		var o = this.add(this.game.prodigy.create.sprite(i.x, i.y, "attacks", "core-circle-small"));
		o.anchor.setTo(.5, .5), o.alpha = 1, o.scale.x = o.scale.y = 0;
		var r = this.game.add.tween(o),
			n = this.game.add.tween(o.scale);
		r.to({}, 1500, Phaser.Easing.Linear.None), n.to({}, 1500, Phaser.Easing.Linear.None), a.to({}, 600, Phaser.Easing.Linear.None);
		for (var h = 500, l = 0; 20 > l; l++) 19 === l && (h = 500), n.to({
			x: 0,
			y: 0
		}, 10, Phaser.Easing.Linear.None), n.to({
			x: 19 === l ? 15 : 10,
			y: 19 === l ? 15 : 10
		}, h, Phaser.Easing.Linear.None), r.to({
			alpha: 1
		}, 10, Phaser.Easing.Linear.None), r.to({
			alpha: 0
		}, h, Phaser.Easing.Linear.None), a.to({
			x: 1.4,
			y: 1.4
		}, Math.floor(h / 2), Phaser.Easing.Quadratic.Out), a.to({
			x: 1,
			y: 1
		}, Math.floor(h / 2), Phaser.Easing.Quadratic.In), h -= 25;
		a.start(), r.start(), n.start()
	},
	showToy: function (e) {
		this.game.add.tween(e).to({
			alpha: 0
		}, 400, Phaser.Easing.Linear.None).start(), this.game.add.tween(e.scale).to({
			x: 3,
			y: 3
		}, 400, Phaser.Easing.Quadratic.Out).start();
		var t = this.add(this.game.prodigy.create.sprite(e.x, e.y, "monster-small-" + this._petData.ID));
		t.anchor.setTo(.3, .8), t.alpha = 0, t.scale.x = t.scale.y = 0, this.game.add.tween(t.scale).to({
			x: 1,
			y: 1
		}, 400, Phaser.Easing.Quadratic.Out).start();
		var i = this.game.add.tween(t).to({
			alpha: 1
		}, 400, Phaser.Easing.Linear.None).to({}, 500, Phaser.Easing.Linear.None).to({
			x: 180
		}, 1e3, Phaser.Easing.Quadratic.Out).start();
		i.onComplete.addOnce(this.showText.bind(this))
	},
	showText: function () {
		var e = this.game.prodigy.create.element(this, 320, 300);
		this.game.prodigy.create.font(e, 0, 0, this._petData.name + " joined you!", {
			size: 80
		}), this.game.prodigy.create.font(e, 0, 100, "Use the Pets Menu to battle with him!", {
			size: 40
		}), e.alpha = 0;
		var t = this.game.add.tween(e).to({
			alpha: 1
		}, 500, Phaser.Easing.Linear.None).to({}, 5e3, Phaser.Easing.Linear.None).start();
		t.onComplete.addOnce(this.tryUpdate.bind(this)), this.game.prodigy.effects.firework(200, 650, null, this, 0), this.game.prodigy.effects.firework(700, 650, null, this, 800), this.game.prodigy.effects.firework(420, 650, null, this, 1250), this.game.prodigy.effects.firework(1080, 650, null, this, 1550), this.game.prodigy.effects.firework(640, 650, null, this, 2e3)
	},
	tryUpdate: function () {
		this.addToy(), this.spinner = this.add(this.game.prodigy.create.sprite(1230, 670, "core", "loading")), this.spinner.anchor.setTo(.5, .5), this.game.add.tween(this.spinner).to({
			angle: 360
		}, 2e3, Phaser.Easing.Linear.None, !0, 0, Number.MAX_VALUE, !1), this.game.prodigy.network.setSaveCallback(this.close.bind(this), !0), this.game.prodigy.player.saveEnabled = !0
	},
	addToy: function () {
		var e = {
			ID: this._petData.ID,
			level: 20,
			stars: Prodigy.Creature.starsToLevel(19)
		};
		this.game.prodigy.player.kennel.add(e), this.game.prodigy.player.backpack.add("follow", this._petData.ID), Util.isDefined(this.game.prodigy.player.equipment.data.follow) || this.game.prodigy.player.equipment.setFollow(this._petData.ID)
	}
}), Prodigy.Menu.Chat = function (e, t, i) {
	Prodigy.Control.Element.call(this, e, t), this._onClose = i, this.current = "", this.data = this.game.prodigy.chat.getPhrases(), this.create()
}, Prodigy.extends(Prodigy.Menu.Chat, Prodigy.Control.Element, {
	constructor: Prodigy.Menu.Chat,
	create: function () {
		this.suggestions = [];
		var e;
		for (e = 1; 5 >= e; e++) {
			var t = this.game.prodigy.create.panel(this, 400, 630 - 40 * e, 12, 1, "lb");
			t.setClickable(this.selectItem.bind(this, t)), t.text = this.game.prodigy.create.font(t, 10, 5, ""), this.suggestions.push(t), t.visible = !1
		}
		var i = this.game.prodigy.chat.getEmotes();
		for (this.emotes = this.game.prodigy.create.panel(this, 400, 510, 12, 3, "blue"), this.emotes.visible = !1, e = 0; e < i.length; e++) {
			var a = this.game.prodigy.create.button(this.emotes, 30 + e % 8 * 60, 30 + 60 * Math.floor(e / 8), "icons", "chat/" + i[e], this.sendChat.bind(this, null, e));
			a.x -= Math.floor(.5 * a.width), a.y -= Math.floor(.5 * a.height)
		}
		var s = this.game.prodigy.create.element(this, 366, 638);
		s.add(this.game.prodigy.create.sprite(0, 0, "core", "HUD-end"));
		for (var r = 30, e = 0; 8 > e; e++) s.add(this.game.prodigy.create.sprite(r, 0, "core", "HUD-mid")), r += 62;
		s.add(this.game.prodigy.create.sprite(r + 30, 0, "core", "HUD-end")).scale.x = -1, this.input = new Prodigy.Control.InputField(this.game, this, "AC", null, 452, 660, 360, 40), this.input.input.onkeyup = this.search.bind(this, !0), this.game.prodigy.create.button(s, 20, 19, "icons", "smile", this.toggleEmotes.bind(this)), this.game.prodigy.create.button(s, s.width - 50 - 20, 19, "icons", "close", this.close.bind(this))
	},
	selectItem: function (e) {
		var t = Util.isDefined(e) ? e.textID : null;
		this.clearSearch(), this.input.setFocus(null), this.sendChat(t)
	},
	search: function (e) {
		var t = this.input.getValue();
		e && this.toggleEmotes(!1), this.results = t.length <= 0 ? [] : t.length < this.current.length || this.current.length <= 0 ? Prodigy.Menu.Chat.match(t, this.data) : Prodigy.Menu.Chat.match(t, this.results), this.current = t;
		for (var i = 0; i < this.suggestions.length; i++) {
			var a = this.suggestions[i];
			i < this.results.length && e ? (a.visible = !0, a.text.setText(this.results[i]), a.textID = this.game.prodigy.chat.getPhraseID(this.results[i])) : a.visible = !1
		}
	},
	sendChat: function (e, t) {
		Util.isDefined(t) && (this.toggleEmotes(!1), this.game.prodigy.player.emoteID = t, this.game.prodigy.network.emitMessage({
			action: "chat",
			data: {
				userID: this.game.prodigy.player.userID,
				emoteID: t
			}
		})), Util.isDefined(e) && (this.game.prodigy.player.chatID = e, this.game.prodigy.network.emitMessage({
			action: "chat",
			data: {
				userID: this.game.prodigy.player.userID,
				chatID: e
			}
		}))
	},
	toggleEmotes: function (e) {
		this.emotes.visible = Util.isDefined(e) ? e : !this.emotes.visible, this.emotes.visible && this.clearSearch(), this.input.setFocus(null)
	},
	clearSearch: function () {
		this.input.setValue(""), this.search(!1)
	},
	close: function () {
		Util.isDefined(this._onClose) && this._onClose(), this.destroy()
	}
}), Prodigy.Menu.Chat.match = function (e, t) {
	var i = new RegExp(e.split("").join("\\w*").replace(/\W/, ""), "i");
	return t.filter(function (e) {
		return e.match(i) ? e : void 0
	})
}, Prodigy.Menu.Message = function (e, t) {
	Prodigy.Control.Menu.call(this, e, t, 17, {
		hideMenu: !0,
		hideContent: !1
	}), this.setup()
}, Prodigy.extends(Prodigy.Menu.Message, Prodigy.Control.Menu, {
	constructor: Prodigy.Menu.Message,
	setup: function () {
		Prodigy.Control.Menu.prototype.menuSetup.call(this), this.base = this.game.prodigy.create.element(this, 340, 200), this.game.prodigy.create.panel(this.base, 0, 0, 15, 8, "shine"), this.desc = this.game.prodigy.create.font(this.base, 60, 60, "", {
			font: "black",
			size: 20,
			width: 480
		}), this.title = this.game.prodigy.create.font(this.base, 10, 0, "", {
			size: 36,
			font: "button",
			width: 540
		})
	},
	setText: function (e, t, i) {
		(!Util.isDefined(t) || "pumpkin" !== t && "star-shard-small" !== t && "snowflake-small" !== t) && (t = "star-small"), Util.isDefined(this.timer) && window.clearInterval(this.timer), Util.isDefined(e) && this.processText(e, (new Date).getTime()), Util.isDefined(i) && this.title.setText("[" + t + "] " + i)
	},
	setOkay: function (e) {
		this.game.prodigy.create.button(this.base, 560, -10, "icons", "close", this.close.bind(this, e))
	},
	setConfirm: function (e, t) {
		Prodigy.Control.TextButton.createYesButton(this.game, this.base, 160, 250, this.close.bind(this, e)),                                   Prodigy.Control.TextButton.createNoButton(this.game, this.base, 380, 250, this.close.bind(this, t))
	},
    setAlert: function (e)
    {
        Prodigy.Control.TextButton.createOkayButton(this.game, this.base, 200, 250, this.close.bind(this, e))
        this.game.prodigy.create.button(this.base, 560, -10, "icons", "close", this.close.bind(this, e))
    },
	close: function (e) {
		Util.isDefined(this.timer) && window.clearInterval(this.timer), Util.isDefined(e) && e(), Prodigy.Control.Menu.prototype.close.call(this)
	},
	processText: function (e, t) {
		if (Util.isDefined(this.game))
			if (e.indexOf("XTIMERX") >= 0) {
				var i = (new Date).getTime(),
					a = Util.processTime(i - t);
				this.desc.setText(e.replace("XTIMERX", a)), this.timer = window.setTimeout(this.processText.bind(this, e, t), 500)
			} else this.desc.setText(e)
	}
}), Prodigy.Menu.MessageBox = function (e, t, i) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.onClose = i, this.create()
}, Prodigy.extends(Prodigy.Menu.MessageBox, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.MessageBox,
	create: function () {
		this.addTransparent(), this.base = this.game.prodigy.create.element(this, 340, 200), this.panel = this.game.prodigy.create.panel(this.base, 0, 0, 15, 8, "shine"), this.desc = this.game.prodigy.create.font(this.base, 60, 60, "", {
			font: "black",
			size: 20,
			width: 480
		}), this.title = this.game.prodigy.create.font(this.base, 10, 0, "", {
			size: 36,
			font: "button",
			width: 540
		}), Prodigy.Control.Menu.prototype.create.call(this)
	},
	setText: function (e, t, i) {
		(!Util.isDefined(t) || "pumpkin" !== t && "star-shard-small" !== t && "snowflake-small" !== t) && (t = "star-small"), Util.isDefined(this.timer) && window.clearInterval(this.timer), Util.isDefined(e) && this.processText(e, (new Date).getTime()), Util.isDefined(i) && this.title.setText("[" + t + "] " + i)
	},
	setOkay: function (e, t) {
		Util.isDefined(e) || (e = "okay");
		var i = 250,
			a = this.game.prodigy.create.textButton(this.base, 0, i, {
				icon: "",
				text: e
			}, this.close.bind(this, t));
		a.x = Util.getCenteredXY(a.width, 0, 0, 0, this.panel.width, 0).x
	},
	setConfirm: function (e, t) {
		Prodigy.Control.TextButton.createYesButton(this.game, this.base, 160, 250, this.close.bind(this, e)), Prodigy.Control.TextButton.createNoButton(this.game, this.base, 380, 250, this.close.bind(this, t))
	},
	setConfirmGeneric: function (e, t, i) {
		Util.isDefined(e) || (e = {}), Util.isDefined(t) || (t = {});
		var a = 250,
			s = 20,
			r = this.game.prodigy.create.textButton(this.base, 0, 0, {
				icon: e.icon,
				text: e.text,
				needsMemberIcon: Util.isDefined(e.needsMemberIcon) && e.needsMemberIcon
			}, this.close.bind(this, e.callback)),
			o = this.game.prodigy.create.textButton(this.base, 0, 0, {
				icon: "",
				text: t.text
			}, this.close.bind(this, t.callback)),
			n = Util.getCenteredXY(r.width + s + o.width, 0, 0, 0, this.panel.width, 0);
		r.x = n.x, r.y = a, o.x = r.x + r.width + s, o.y = a;
		var h = this.game.prodigy.create.button(this.base, 0, 0, "icons", "close", this.close.bind(this, i));
		h.x = this.base.width - h.width
	},
	close: function (e) {
		Util.isDefined(this.timer) && window.clearInterval(this.timer), Util.isDefined(e) && e(), Prodigy.RenderMenu.prototype.close.call(this)
	},
	processText: function (e, t) {
		if (Util.isDefined(this.game))
			if (e.indexOf("XTIMERX") >= 0) {
				var i = (new Date).getTime(),
					a = Util.processTime(i - t);
				this.desc.setText(e.replace("XTIMERX", a)), this.timer = window.setTimeout(this.processText.bind(this, e, t), 500)
			} else this.desc.setText(e)
	}
}), Prodigy.Menu.Rating = function (e, t, i) {
	if (this.callback = i, Prodigy.Control.Menu.call(this, e, t, -1, {
			hideMenu: !0,
			hideContent: !1
		}), Util.isDefined(this.game.prodigy.player.data.rate) && this.game.prodigy.player.data.rate > 3) try {
		webkit.messageHandlers.reviewApp.postMessage(0)
	} catch (a) {
		Util.log(a, Util.ERROR)
	}
	return Util.isDefined(this.game.prodigy.player.data.rate) ? (this.close(), void 0) : (this.setup(), void 0)
}, Prodigy.extends(Prodigy.Menu.Rating, Prodigy.Control.Menu, {
	constructor: Prodigy.Menu.Rating,
	setup: function () {
		Prodigy.Control.Menu.prototype.menuSetup.call(this), this.base = this.game.prodigy.create.element(this, 320, 150);
		var e = this.game.prodigy.create.element(this.base, 0, 0);
		this.game.prodigy.create.panel(e, 0, 0, 16, 10, "shine"), e.add(new Phaser.TileSprite(this.game, 11, 200, 618, 40, "core", "blue-top")), e.add(new Phaser.TileSprite(this.game, 11, 240, 618, 20, "core", "blue-mid")), e.add(new Phaser.TileSprite(this.game, 11, 260, 618, 40, "core", "blue-top2")), this.game.prodigy.create.panel(e, 40, 40, 14, 3, "banner"), this.base.add(this.game.prodigy.create.sprite(100, -30, "core-2", "menu-noot")), this.game.prodigy.create.font(this.base, 260, 58, "How would you rate Prodigy?", {
			size: 36,
			font: "button",
			width: 300,
			align: "center",
			lineHeight: 38
		}), this.game.prodigy.create.button(this.base, 600, -10, "icons", "close", this.close.bind(this)), this.cBtn = this.game.prodigy.create.textButton(this.base, 220, 320, {
			icon: "yes",
			text: "okay"
		}, this.close.bind(this, !0)), this.cBtn.setInactive();
		for (var t = [], i = 0; 5 > i; i++) {
			var a = this.base.add(this.game.prodigy.create.sprite(140 + 90 * i, 250, "icons", "star"));
			a.anchor.setTo(.5, .5), a.angle = -15, this.game.add.tween(a).to({
				angle: 15
			}, 1500, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0), a.tint = 7829367, a.inputEnabled = !0, a.events.onInputDown.add(this.rate.bind(this, t, i)), t.push(a)
		}
	},
	rate: function (e, t) {
		for (var i = 0; i < e.length; i++) {
			var a = e[i];
			a.tint = t >= i ? 16777215 : 7829367
		}
		this.cBtn.setActive(), this.rating = t + 1
	},
	close: function (e) {
		if (e && this.rating > 3) try {
			webkit.messageHandlers.reviewApp.postMessage(0)
		} catch (t) {
			Util.log(t, Util.ERROR)
		}
		e && Util.isDefined(this.rating) && (this.game.prodigy.player.data.rate = this.rating || 0, this.game.prodigy.player.updated = !0), Util.isDefined(this.callback) && this.callback(), Prodigy.Control.Menu.prototype.close.call(this)
	}
}), Prodigy.Menu.LeaderPrompt = function (e, t) {
	Prodigy.Control.Menu.call(this, e, t, 17, {
		hideMenu: !0,
		hideContent: !1
	}), this.setup()
}, Prodigy.extends(Prodigy.Menu.LeaderPrompt, Prodigy.Control.Menu, {
	constructor: Prodigy.Menu.LeaderPrompt,
	setup: function () {
		Prodigy.Control.Menu.prototype.menuSetup.call(this), this.base = this.game.prodigy.create.element(this, 340, 720);
		for (var e = 0; 6 > e; e++) this.base.add(this.game.prodigy.create.sprite(20 + 50 * e, -40, "core", "panel-light-top"));
		this.base.add(this.game.prodigy.create.sprite(320, -40, "core", "panel-light-corner2")), this.game.prodigy.create.panel(this.base, 0, 0, 12, 6), this.base.add(this.game.prodigy.create.sprite(-20, -50, "icons", "icon-base")), this.icon = this.base.add(this.game.prodigy.create.sprite(-20, -50, "icons", "leaderboard")), this.desc = this.game.prodigy.create.font(this.base, 30, 30, "Loading...", {
			size: 30,
			width: 540
		}), this.title = this.game.prodigy.create.font(this.base, 80, -34, "Hey There!", {
			size: 30,
			width: 540
		}), this.game.add.tween(this.base).to({
			y: 150
		}, 400, Phaser.Easing.Quadratic.Out).to({
			y: 200
		}, 200, Phaser.Easing.Quadratic.In).start(), Prodigy.Control.TextButton.createCloseButton(this.game, this.base, 360, 270, this.close.bind(this)), this.game.prodigy.network.getLeaderboard("data.level", this.game.prodigy.player.classIDs, this.setText.bind(this, !0), this.setText.bind(this, !1))
	},
	setText: function (e, t) {
		if (Util.isDefined(this.game)) {
			if (!e || !Util.isDefined(t) || t.length <= 0) return this.desc.setText("You can play prodigy at home!\n\nJust go to prodigygame.com and click PLAY!"), this.game.prodigy.player.loginPrompt = !0, void 0;
			this.desc.setText(Prodigy.Container.Leaderboard.getPlayerMessage(t, this.game.prodigy.player)), this.game.prodigy.create.textButton(this.base, 40, 270, {
				text: "check it out!",
				size: Prodigy.Control.TextButton.MED
			}, this.close.bind(this, this.game.prodigy.open.leaderboard.bind(this.game.prodigy.open, t)))
		}
	},
	close: function (e) {
		Util.isDefined(e) && e(), Prodigy.Control.Menu.prototype.close.call(this)
	}
}), Prodigy.Menu.AttackSelect = function (e, t, i, a, s, r, o, n, h, l, d, p, c) {
	this.catchEnabled = Util.isDefined(r) && Util.isDefined(r.catch) ? r.catch : !0, this.mods = r || {
		run: !0,
		potionMode: !0
	}, this.spellCallback = n, this.runCallback = l, this.swapCallback = h, this.catchCallback = d, this.epicAttackCallback = p, this.source = i, this.target = s, this.team = a, this.switchMode = o, this.epicAttackMode = c, this.potionMode = !Util.isDefined(this.mods.potionMode) || this.mods.potionMode === !0, Prodigy.Control.Menu.call(this, e, t, 3, {
		hideMenu: !0,
		hideContent: !1,
		hideOverlay: !0
	}), this.setup()
}, Prodigy.extends(Prodigy.Menu.AttackSelect, Prodigy.Control.Menu, {
	constructor: Prodigy.Menu.AttackSelect,
	menuSetup: function () {
		Prodigy.Control.Menu.prototype.menuSetup.call(this), this.base = this.game.prodigy.create.element(this, 466, 230);
		var e = this.base.add(this.game.prodigy.create.sprite(174, 174, "battle", "gear"));
		e.anchor.setTo(.5, .5), this.game.add.tween(e).to({
			angle: 360
		}, 36e3, Phaser.Easing.Linear.None, !0, 0, Number.MAX_VALUE), this.base.add(this.game.prodigy.create.sprite(0, 0, "battle", "base")), this.title = this.game.prodigy.create.font(this.base, 24, 150, "Attack", {
			size: 36,
			font: "button",
			width: 300,
			align: "center"
		}), this.content = this.game.prodigy.create.element(this.base, 0, 0), this.switchMode ? this.openSwitch() : this.openMain()
	},
	openMain: function () {
		this.openContent("actions");
		var e = [];
		e.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [{
			tag: "icon-base"
		}, {
			tag: "attack",
			x: -10,
			y: -10
		}], this.openAttacks.bind(this)));
		var t = 0;
		this.potionMode === !0 && (e.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [{
			tag: "icon-base"
		}, {
			tag: "epicAttack",
			x: -10,
			y: -10
		}], this.openEpicAttacks.bind(this))), t = 1);
		var i = !1;
		if (this.catchEnabled && this.source instanceof Prodigy.Container.PlayerContainer && this.target.source.canCatch(this.mods)) {
			e.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [{
				tag: "icon-base"
			}, {
				tag: "catch",
				x: -10,
				y: -10
			}], this.openCatch.bind(this)));
			var a = this.target.source.catchAttempt > 1,
				s = this.target.source.getID(),
				r = Monsters.getItemData(s);
			this.game.prodigy.player.isMember || 1 !== this.target.source.catchAttempt && !r.member || e[1 + t].addImage("membership", 15, 15);
			var o = this.target.source.getCurrentHearts(this.game) <= 60 && !a;
			i = o;
			var n = e[1 + t];
			e[1 + t].enable(o)
		}
		e.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [{
			tag: "icon-base"
		}, {
			tag: "run",
			x: -10,
			y: -10
		}], this.openRun.bind(this))), e[e.length - 1].enable(this.mods.run), e.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [{
			tag: "icon-base"
		}, {
			tag: "team",
			x: -10,
			y: -10
		}], this.openSwitch.bind(this)));
		var h = e[e.length - 1];
		e[e.length - 1].enable(!this.mods.switchDisabled), this.potionMode === !0 && (e.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [{
			tag: "icon-base"
		}, {
			tag: "potions",
			x: -10,
			y: -10
		}], this.openPotions.bind(this))), e[e.length - 1].enable(this.game.prodigy.player.tutorial.getMenuValue(this.menuID, 2) >= 1)), this.arrangeChoices(e, e.length > 5 ? -Math.PI / 2 : 0);
		var l = this.game.prodigy.player;
		this.dialogue = this.game.prodigy.dialogue.create(), l.tutorial.getMenuValue(this.menuID, 2) < 1 ? (l.tutorial.setMenuValue(this.menuID, 2, 1), this.dialogue.setText(8), this.dialogue.start("noot", !0)) : this.source.source.getCurrentHearts(this.game) < 80 && this.team.length > 1 && l.tutorial.getMenuValue(this.menuID, 0) < 1 ? (l.tutorial.setMenuValue(this.menuID, 0, 1), this.dialogue.setText(9), this.dialogue.setText(10), this.dialogue.setText({
			callback: Util.highlightAll.bind(Util, [h], !0)
		}), this.dialogue.start("noot")) : i && l.tutorial.getMenuValue(this.menuID, 1) < 1 && l.getGold() >= 500 && !Util.isDefined(this.mods.catchOverrideMessage) && (l.tutorial.setMenuValue(this.menuID, 1, 1), this.dialogue.setText(11), this.dialogue.setText(12), this.dialogue.setText({
			callback: Util.highlightAll.bind(Util, [n], !0)
		}), this.dialogue.start("noot")), l.tutorial.getMenuValue(this.menuID, 2) < 2 && e[0].highlight(!0)
	},
	openElements: function () {
		this.dialogue.close(!0), this.openContent("elements", this.openMain.bind(this));
		for (var e = ["wizard", "fire", "water", "earth", "ice", "storm"], t = [], i = 0; i < e.length; i++) t.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [{
			tag: "icon-base"
		}, {
			tag: e[i]
		}], this.openAttacks.bind(this, e[i]))), t[i].enable(this.source.source.getAttacks(e[i]).length > 0);
		this.arrangeChoices(t)
	},
	openCatch: function (e) {
		if (Util.isDefined(this.mods.catchOverrideMessage)) return this.game.prodigy.open.epicErrorMessage.call(this.game.prodigy.open, this.mods.catchOverrideMessage, {
			showClose: !1
		}), void 0;
		if (this.openContent("capture?"), e) {
			var t = this.source.source.kennel.getPets().length,
				i = this.target.source.getID(),
				a = Monsters.getItemData(i);
			if (a.member && this.game.prodigy.network.sendAnalytics("Catch-Member-Pets", a.name), this.source.source.kennel.isFull()) this.game.prodigy.open.message("You have too many pets! You must release some before you can catch any more...", null, null, "Uh oh!");
			else if (t >= 10 && !this.source.source.isMember) this.game.prodigy.network.sendAnalytics("Catch-More-Pets"), this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.BIGGER_ROSTER);
			else if (!this.source.source.isMember && a.member) this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.MEMBER_PETS);
			else if (this.target.source.catchAttempt > 0 && !this.game.prodigy.player.isMember) this.game.prodigy.network.sendAnalytics("Catch-Pet-Second-Try"), this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.CATCH);
			else {
				if (!(this.game.prodigy.player.getGold() < 500)) return this.game.prodigy.player.changeGold(-500), this.game.prodigy.player.isMember && (t >= 10 && this.game.prodigy.network.sendAnalytics("Catch-More-Pets"), this.target.source.catchAttempt > 0 && this.game.prodigy.network.sendAnalytics("Catch-Pet-Second-Try")), this.close(this.catchCallback), void 0;
				this.game.prodigy.open.message("You need [gold]500 to catch this pet. You only have [gold]" + this.game.prodigy.player.getGold() + ".", null, "gold", "Uh oh!")
			}
			this.openMain()
		} else {
			var s = [];
			s.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [{
				tag: "icon-base"
			}, {
				tag: "pet-yes"
			}], this.openCatch.bind(this, !0))), s.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [{
				tag: "icon-base"
			}, {
				tag: "close",
				x: 15,
				y: 15
			}], this.openMain.bind(this))), this.arrangeChoices(s)
		}
	},
	openRun: function () {
		this.openContent("escape?");
		var e = [];
		e.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [{
			tag: "icon-base"
		}, {
			tag: "yes",
			x: 15,
			y: 15
		}], this.close.bind(this, this.runCallback))), e.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [{
			tag: "icon-base"
		}, {
			tag: "close",
			x: 15,
			y: 15
		}], this.openMain.bind(this))), this.arrangeChoices(e)
	},
	openSwitch: function () {
		this.openContent("my team", this.switchMode ? null : this.openMain.bind(this));
		for (var e = [], t = 0; t < this.team.length; t++) {
			var i = this.team[t].source,
				a = i instanceof Monster ? "pets/" + i.getID().toString() : "player";
			if (e.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [{
					tag: "icon-base"
				}, {
					tag: a
				}], this.close.bind(this, this.swapCallback, t))), t < this.team.length / 2) {
				e[t].addAt(this.game.prodigy.create.sprite(70, 0, "icons", "icon-data"), 0), this.game.prodigy.create.font(e[t], 110, 7, "" + i.getCurrentHearts(this.game), {
					width: 70,
					align: "center"
				});
				var s = this.game.prodigy.create.font(e[t], 90, 48, "Lvl. " + i.getLevel(), {
					width: 90,
					align: "center"
				});
				s.scale.set(.8, .8)
			} else {
				var r = e[t].addAt(this.game.prodigy.create.sprite(10, 0, "icons", "icon-data"), 0);
				r.scale.x = -1, this.game.prodigy.create.font(e[t], -97, 7, "" + i.getCurrentHearts(this.game), {
					width: 70,
					align: "center"
				});
				var s = this.game.prodigy.create.font(e[t], -80, 48, "Lvl. " + i.getLevel(), {
					width: 90,
					align: "center"
				});
				s.scale.set(.8, .8)
			}(i === this.source.source || i.isKnockedOut()) && e[t].enable(!1)
		}
		this.arrangeChoices(e)
	},
	openAttacks: function () {
		this.dialogue.close(!0), this.openContent("spells", this.openMain.bind(this));
		for (var e = this.source.source.getAttacks(), t = {
				1: [0],
				2: [0, 1],
				3: [0, 0, 1],
				4: [0, 0, 1, 1],
				5: [0, 0, 0, 1, 1],
				6: [0, 0, 1, 1, 1, 0]
			}, i = [], a = Math.min(6, e.length), s = 0; a > s; s++) {
			var r = s < e.length ? this.game.prodigy.attacks.getAttack(e[s]) : null,
				o = this.close.bind(this, this.spellCallback, r);
			i.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [{
				tag: "icon-base"
			}, {
				tag: r.element
			}], o));
			var n = null;
			0 === t[a][s] ? (n = i[s].add(this.game.prodigy.create.sprite(70, 0, "icons", "icon-data-2")), this.game.prodigy.create.font(i[s], 90, 7, r.name)) : (n = i[s].add(this.game.prodigy.create.sprite(10, 0, "icons", "icon-data-2")), n.scale.x = -1, this.game.prodigy.create.font(i[s], -260, 7, r.name, {
				width: 250,
				align: "right"
			})), n.inputEnabled = !0, n.events.onInputDown.add(o)
		}
		this.arrangeChoices(i), this.game.prodigy.player.tutorial.getMenuValue(this.menuID, 2) < 2 && i[0].highlight(!0, -100)
	},
	openEpicAttacks: function () {
		this.dialogue.close(!0);
		try {
			this.game.prodigy.network.sendEvent("epicAttacks", {
				action: "mainEpicAttackButtonClicked"
			})
		} catch (e) {}
		if ("PVP" === this.game.state.current) this.game.prodigy.open.epicErrorMessage.call(this.game.prodigy.open, "Epic attacks are too powerful for the Wizard Battle Arena!", {
			showClose: !1
		}, this);
		else if (this.epicAttackMode !== !0) Util.isDefined(this.mods.epicArena) ? this.game.prodigy.open.epicErrorMessage.call(this.game.prodigy.open, "Oops! You can only use an Epic attack once per challenge set in the Epic Arena!", {
			textX: 13,
			showClose: !1
		}) : this.game.prodigy.open.epicErrorMessage.call(this.game.prodigy.open, "You can only use one Epic attack per battle!", {
			showClose: !1
		});
		else {
			this.openContent("epic spell", this.openMain.bind(this));
			for (var t = [38, 39, 37, 40, 41], i = {
					1: [0],
					2: [0, 1],
					3: [0, 0, 1],
					4: [0, 0, 1, 1],
					5: [0, 0, 0, 1, 1],
					6: [0, 0, 1, 1, 1, 0]
				}, a = ["hex", "flora", "arc", "dive", "mag"], s = [125, 126, 127, 128, 129], r = [], o = Math.min(6, t.length), n = 0; o > n; n++) {
				var h = n < t.length ? this.game.prodigy.attacks.getAttack(t[n]) : null;
				r.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [{
					tag: "icon-base"
				}, {
					tag: "icon-" + a[n]
				}], this.epicCallback.bind(this, s[n], h)));
				var l = null;
				0 === i[o][n] ? (l = r[n].add(this.game.prodigy.create.sprite(70, 0, "icons", "icon-data-2")), this.game.prodigy.create.font(r[n], 90, 7, h.name)) : (l = r[n].add(this.game.prodigy.create.sprite(10, 0, "icons", "icon-data-2")), l.scale.x = -1, this.game.prodigy.create.font(r[n], -260, 7, h.name, {
					width: 250,
					align: "right"
				})), l.inputEnabled = !0, l.events.onInputDown.add(this.epicCallback.bind(this, s[n], h))
			}
			this.arrangeChoices(r)
		}
	},
	epicCallback: function (e, t) {
		try {
			this.game.prodigy.network.sendEvent("epicAttacks", {
				action: "attackButtonClicked",
				petName: Monsters.data[e].name,
				hasEpic: this.game.prodigy.player.kennel.hasPet(e) ? "yes" : "no"
			})
		} catch (i) {}
		for (var a = !1, s = 125; 130 > s; s++) this.game.prodigy.player.kennel.hasPet(s) && (a = !0);
		a && !this.game.prodigy.player.kennel.hasPet(e) && this.game.prodigy.network.sendAnalytics("other-epic-attack", "click-other", "Events"), this.game.prodigy.player.kennel.hasPet(e) ? this.close.call(this, this.epicAttackCallback, t) : this.game.prodigy.open.buyToy.call(this.game.prodigy.open, e, !1, "To do this POWERFUL Epic attack, you need this Epic!", "epic attacks!")
	},
	openPotions: function () {
		"PVP" === this.game.state.current ? this.game.prodigy.open.potionPvpPopup.call(this.game.prodigy.open, this) : this.game.prodigy.open.battlePotionSelect.call(this.game.prodigy.open, this)
	},
	openAttacks2: function (e) {
		this.openContent("spells", this.openElements.bind(this));
		for (var t = this.source.source.getAttacks(e), i = [], a = 0; 6 > a; a++) {
			var s = a < t.length ? this.game.prodigy.attacks.getAttack(t[a]) : null,
				r = this.close.bind(this, this.spellCallback, s);
			if (i.push(this.game.prodigy.create.stackButton(this.content, 0, 0, [{
					tag: "icon-base"
				}, {
					tag: e
				}], r)), a < t.length) {
				var o = null;
				0 === a || 1 === a || 5 === a ? (o = i[a].add(this.game.prodigy.create.sprite(70, 0, "icons", "icon-data-2")), this.game.prodigy.create.font(i[a], 90, 7, s.name)) : (o = i[a].add(this.game.prodigy.create.sprite(10, 0, "icons", "icon-data-2")), o.scale.x = -1, this.game.prodigy.create.font(i[a], -260, 7, s.name, {
					width: 250,
					align: "right"
				})), o.inputEnabled = !0, o.events.onInputDown.add(r)
			} else i[a].enable(!1)
		}
		this.arrangeChoices(i)
	},
	openContent: function (e, t) {
		this.content.removeAll(!0), this.title.setText(e), Util.isDefined(t) && this.game.prodigy.create.button(this.content, 135, 189, "battle", "back-btn", t)
	},
	arrangeChoices: function (e, t) {
		var i = 165,
			a = 2 === e.length || 6 === e.length ? 0 : -Math.PI / 2;
		a += t || 0;
		for (var s = 2 * Math.PI / e.length, r = 174, o = 174, n = 0; n < e.length; n++) e[n].x = Math.floor(r + i * Math.cos(a + s * n)) - 40, e[n].y = Math.floor(o + i * Math.sin(a + s * n)) - 40
	},
	close: function (e, t) {
		if (Util.isDefined(this.popups) && this.popups.length > 0) {
			for (var i = 0; i < this.popups.length; i++) Util.isDefined(this.popups[i]) && this.popups[i].close.call(this.popups[i]);
			this.popups = []
		}
		Util.isDefined(e) && e(t), Prodigy.Control.Menu.prototype.close.call(this)
	}
}), Prodigy.Menu.Catcher = function (e, t, i, a) {
	this.callback = a, this.target = i, Prodigy.Control.Menu.call(this, e, t, 6, {
		hideMenu: !0,
		hideContent: !1,
		hideOverlay: !0
	}), this.setup()
}, Prodigy.extends(Prodigy.Menu.Catcher, Prodigy.Control.Menu, {
	constructor: Prodigy.Menu.Catcher,
	menuSetup: function () {
		Prodigy.Control.Menu.prototype.menuSetup.call(this), this.base = this.game.prodigy.create.element(this, 466, 230);
		var e = this.base.add(this.game.prodigy.create.sprite(174, 174, "battle", "gear"));
		e.anchor.setTo(.5, .5), this.game.add.tween(e).to({
			angle: 360
		}, 36e3, Phaser.Easing.Linear.None, !0, 0, Number.MAX_VALUE), this.base.add(this.game.prodigy.create.sprite(0, 0, "battle", "base")), this.base.add(this.game.prodigy.create.sprite(0, 0, "battle", "catch-overlay")), this.pointer = this.game.prodigy.create.sprite(174, 174, "battle", "pointer"), this.pointer.anchor.setTo(.5, .92), this.pointer.angle = 180, this.base.add(this.pointer);
		var t = Math.floor(600 + 800 * Math.random() * this.game.prodigy.affixes.getCatch());
		this.tween = this.game.add.tween(this.pointer).to({
			angle: "+360"
		}, t, Phaser.Easing.Linear.None, !0, 0, Number.MAX_VALUE);
		var i = this.game.prodigy.create.stackButton(this.base, 134, 134, [{
				tag: "icon-base"
			}, {
				tag: "catch",
				x: -10,
				y: -10
			}], this.close.bind(this)),
			a = this.game.prodigy.player;
		if (a.tutorial.getMenuValue(this.menuID, 0) < 1) {
			a.tutorial.setMenuValue(this.menuID, 0, 1);
			var s = this.game.prodigy.dialogue.create();
			s.setText(13), s.setText({
				callback: Util.highlightAll.bind(Util, [i], !0)
			}), s.start("noot")
		}
	},
	close: function () {
		this.callback(this.pointer.angle >= 0 && this.pointer.angle <= 30 || this.pointer.angle >= -30 && this.pointer.angle <= 0), Prodigy.Control.Menu.prototype.close.call(this)
	}
}), Prodigy.Menu.Card = function (e, t, i, a, s) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.hideFriendsButton = s || !1, this.viewOnly = a, this.player = i, this.exclamationSprite = null, e.broadcaster.addAppListener(Prodigy.Events.FriendsList.REQUEST_SENT, this.setupFriendRequestButton.bind(this), this, "Card", !1), e.broadcaster.addAppListener(Prodigy.Events.FriendsList.REQUEST_CANCELLED, this.setupFriendRequestButton.bind(this), this, "Card", !1), e.broadcaster.addAppListener(Prodigy.Events.FriendsList.REQUEST_ACCEPTED, this.setupFriendRequestButton.bind(this), this, "Card", !1), e.broadcaster.addAppListener(Prodigy.Events.FriendsList.REQUEST_REJECTED, this.setupFriendRequestButton.bind(this), this, "Card", !1), e.broadcaster.addAppListener(Prodigy.Events.FriendsList.FRIEND_REMOVED, this.setupFriendRequestButton.bind(this), this, "Card", !1), this.create()
}, Prodigy.extends(Prodigy.Menu.Card, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.Card,
	create: function () {
		this.addTransparent(), this.base = this.game.prodigy.create.element(this, 300, 120);
		var e = this.game.prodigy.create.element(this, this.base.x, this.base.y);
		this.game.prodigy.create.panel(e, 0, 0, 17, 2, "card-top"), this.game.prodigy.create.panel(e, 0, 80, 17, 10, "card-bot");
		var t = e.add(this.game.prodigy.create.sprite(6, 360, "core", "overlay-small"));
		t.width = 668, t.height = 80, t.alpha = .1, e.setRenderState(!0), this.p = this.game.prodigy.create.player(this.base, this.player, 2, 110, 320), this.p.reload(), this.game.prodigy.create.font(this.base, 10, 3, (this.player.isMember ? "[membership] " : "") + this.player.appearance.getName(), {
			size: 36,
			font: "button"
		}), this.game.prodigy.create.font(this.base, 10, 53, "$" + this.player.getLevel(), {
			size: 36,
			font: "button"
		}), this.game.prodigy.create.button(this.base, 640, -10, "icons", "close", this.close.bind(this)), this.buttons = [], this.player.userID === this.game.prodigy.player.userID ? this.setupPlayer(this.buttons) : this.setupStranger(this.buttons), this.content = this.game.prodigy.create.element(this.base), this.setMode(0, 0), Prodigy.RenderMenu.prototype.create.call(this)
	},
	close: function () {
		this.game.broadcaster.removeAppListener(Prodigy.Events.FriendsList.REQUEST_SENT, this, "Card"), this.game.broadcaster.removeAppListener(Prodigy.Events.FriendsList.REQUEST_CANCELLED, this, "Card"), this.game.broadcaster.removeAppListener(Prodigy.Events.FriendsList.REQUEST_ACCEPTED, this, "Card"), this.game.broadcaster.removeAppListener(Prodigy.Events.FriendsList.REQUEST_REJECTED, this, "Card"), this.game.broadcaster.removeAppListener(Prodigy.Events.FriendsList.FRIEND_REMOVED, this, "Card"), Prodigy.RenderMenu.prototype.close.call(this)
	},
	setupPlayer: function (e) {
		var t = 15,
			i = 350,
			a = this.game.prodigy.player.state.get("zone-lamplight");
		this.game.prodigy.create.advButton(this.base, t, i, {
			icon: "move",
			top: "Go To",
			bot: "House"
		}, this.toHouse.bind(this)).setActive(!Util.isDefined(a) || !Util.isDefined(a.quest) || a.quest.ID > 1), e.push(this.game.prodigy.create.advButton(this.base, t + 330, i, {
			icon: "bag",
			top: "View",
			bot: "Gear"
		}, this.setMode.bind(this, 0, 0))), e.push(this.game.prodigy.create.advButton(this.base, t + 440, i, {
			icon: "item/75",
			top: "Key",
			bot: "Items"
		}, this.setMode.bind(this, 1, 1))), e.push(this.game.prodigy.create.advButton(this.base, t + 550, i, {
			icon: "player",
			top: "View",
			bot: "Stats"
		}, this.setMode.bind(this, 2, 2)))
	},
	setupStranger: function (e) {
		var t = 15,
			i = 350,
			a = this.player.isMember && this.player.getAllowsHouseVisitors(),
			s = this.game.prodigy.create.advButton(this.base, t, i, {
				icon: "move",
				top: "Visit",
				bot: "House"
			}, this.toHouse.bind(this));
		if (s.setActive(a), a && this.game.prodigy.player.hasCompletedTutorial()) {
			var r = this.game.prodigy.world.getZone("house").getState("hasClickedPlayerCardVisit");
			if (!Util.isDefined(r) || !r) {
				this.exclamationSprite = this.game.prodigy.create.sprite(0, 0, "icons", "exclamation"), this.base.add(this.exclamationSprite);
				var o = Util.getCenteredXY(this.exclamationSprite.width, 0, s.x, s.y, s.width, s.height);
				this.exclamationSprite.x = o.x, this.exclamationSprite.y = s.y - this.exclamationSprite.height, this.game.add.tween(this.exclamationSprite).to({
					y: this.exclamationSprite.y - 10
				}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, -1, !0)
			}
		}
		this.game.prodigy.create.advButton(this.base, t + 110, i, {
			icon: "challenge",
			top: "Battle!"
		}, this.challenge.bind(this)).setActive(!this.viewOnly), e.push(this.game.prodigy.create.advButton(this.base, t + 440, i, {
			icon: "bag",
			top: "View",
			bot: "Gear"
		}, this.setMode.bind(this, 0, 0))), e.push(this.game.prodigy.create.advButton(this.base, t + 550, i, {
			icon: "player",
			top: "View",
			bot: "Stats"
		}, this.setMode.bind(this, 2, 1))), this.setupFriendRequestButton(t + 220, i)
	},
	setupFriendRequestButton: function (e, t) {
		if (!Util.isDefined(this.game)) return Util.log("Friend Button failed to render", Util.ERROR), void 0;
		for (var i = "", a = "", s = this.game.prodigy.friendsListNetworkHandler.friendsList, r = -1, o = 0; o < s.length; o++)
			if (this.player.userID === s[o].userID) {
				r = s[o].status;
				break
			} var n = null,
			h = "delete-friend";
		1 === r ? (i = "Remove", a = "Friend", n = Prodigy.Events.FriendsList.REMOVE_FRIEND, this.hideFriendsButton = !1) : 0 === r ? (i = "Cancel", a = "Request", n = Prodigy.Events.FriendsList.CANCEL_REQUEST, this.hideFriendsButton = !1) : (i = "Friend", a = "Request", n = Prodigy.Events.FriendsList.SEND_REQUEST, h = "add-friend");
		var l = function () {
			if (n === Prodigy.Events.FriendsList.REMOVE_FRIEND) {
				var e = Util.isDefined(this.player.appearance.data.nick) && "" !== this.player.appearance.data.nick ? this.player.appearance.data.nick : this.player.appearance.data.name;
				this.game.prodigy.open.confirm("Are you sure you want to remove " + e + " from your friends list?", this.game.broadcaster.broadcast.bind(this.game.broadcaster, n, "Card", [this.player.userID]), null, null, "Removing Friend")
			} else this.game.broadcaster.broadcast(n, "Card", [this.player.userID])
		}.bind(this);
		Util.isDefined(e) && Util.isDefined(t) || (e = this.cmdFriendRequest.x, t = this.cmdFriendRequest.y), Util.isDefined(this.cmdFriendRequest) && this.cmdFriendRequest.destroy(), this.cmdFriendRequest = this.game.prodigy.create.advButton(this.base, e, t, {
			atlas: "icons-menu",
			icon: h,
			top: i,
			bot: a
		}, l, 60, 60), this.cmdFriendRequest.setActive(!this.hideFriendsButton)
	},
	setMode: function (e, t) {
		if (this.page = e, Prodigy.RenderMenu.prototype.setMode.call(this, t), this.content.removeAll(!0), 0 === e) {
			var i, a = ["hat", "weapon", "follow", "outfit", "boots", "ring"];
			for (i = 0; i < a.length; i++) this.player.userID === this.game.prodigy.player.userID ? this.game.prodigy.create.item(this.content, 260 + i % 3 * 140, 67 + 140 * Math.floor(i / 3), {
				ID: this.player.equipment.getEquipment(a[i]),
				type: a[i]
			}, "icon", this.openPouch.bind(this, a[i])) : this.game.prodigy.create.item(this.content, 260 + i % 3 * 140, 67 + 140 * Math.floor(i / 3), {
				ID: this.player.equipment.getEquipment(a[i]),
				type: a[i]
			}, "icon", this.itemSelected.bind(this, this.player.equipment.getEquipment(a[i]), a[i]))
		} else if (1 === e) {
			var s = this.game.prodigy.player.backpack.getBackpackItemsByType("key");
			for (i = 0; 3 > i; i++) {
				var r = this.content.add(this.game.prodigy.create.sprite(260, 120 + 90 * i, "core", "overlay-small"));
				r.width = 414, r.height = 40, r.alpha = .05;
				for (var o = 0; 4 > o; o++)
					if (4 * i + o < s.length) {
						var n = this.content.add(this.game.prodigy.create.sprite(r.x + 20 + 100 * o, r.y - 50, "icons", Util.convertItemToIcon({
							type: "key",
							ID: s[4 * i + o].ID
						})));
						n.inputEnabled = !0, n.events.onInputDown.add(this.itemSelected.bind(this, s[4 * i + o].ID, "key", "inv"))
					}
			}
		} else if (2 === e) {
			var h = this.player.getCurrentHearts() + "/" + this.player.getMaxHearts(),
				l = this.game.prodigy.create.panel(this.content, 330, 65, 4, 2, "stat");
			this.game.prodigy.create.font(l, 5, 5, "[mail-heart] Hearts", {
				size: 20
			}), this.game.prodigy.create.font(l, -20, 46, h, {
				font: "black",
				align: "center",
				width: 200
			}), h = this.player.getStars() + "/" + (this.player.getStars() + this.player.getStarsToLevel()), this.player.getLevel() >= 100 && (h = "MAX"), l = this.game.prodigy.create.panel(this.content, 500, 65, 4, 2, "stat"), this.game.prodigy.create.font(l, 5, 5, "[mail-star] Stars", {
				size: 20
			}), this.game.prodigy.create.font(l, -20, 46, h, {
				font: "black",
				align: "center",
				width: 200
			}), l = this.game.prodigy.create.panel(this.content, 330, 155, 4, 2, "stat"), this.game.prodigy.create.font(l, 5, 5, "[mail-gold] Gold", {
				size: 20
			}), this.game.prodigy.create.font(l, 5, 46, "" + this.player.getGold(!0), {
				font: "black",
				align: "right",
				width: 145
			}), l = this.game.prodigy.create.panel(this.content, 500, 155, 4, 2, "stat"), this.game.prodigy.create.font(l, 5, 5, "[mail-tower] Tower", {
				size: 20
			}), this.game.prodigy.create.font(l, 5, 46, "Floor " + this.player.getTowerProgress(), {
				font: "black",
				align: "center",
				width: 145
			}), l = this.game.prodigy.create.panel(this.content, 330, 245, 4, 2, "stat"), this.game.prodigy.create.font(l, 5, 5, "[mail-challenge] Arena", {
				size: 20
			}), this.game.prodigy.create.font(l, 5, 46, "" + this.player.getArenaScore(), {
				font: "black",
				align: "right",
				width: 145
			}), l = this.game.prodigy.create.panel(this.content, 500, 245, 4, 2, "stat"), this.game.prodigy.create.font(l, 5, 5, "[mail-challenge] W / L", {
				size: 20
			}), this.game.prodigy.create.font(l, 5, 46, this.player.getWins() + "/" + this.player.getLosses(), {
				font: "black",
				align: "center",
				width: 145
			})
		}
	},
	toHouse: function () {
		Util.isDefined(this.exclamationSprite) && (this.exclamationSprite.destroy(), this.game.prodigy.world.getZone("house").setState("hasClickedPlayerCardVisit", !0)), this.game.prodigy.loading(!0);
		var e = function (e) {
			var t = Util.isDefined(e) ? e[this.player.userID] : null;
			Util.isDefined(t) && Util.isDefined(t.house) && (this.game.prodigy.loading(!1), this.player.house.setItems(Util.getObject(t.house)), this.game.prodigy.world.teleport("house", null, null, this.player))
		}.bind(this);
		this.game.prodigy.network.getCharData(this.player.userID, ["house"], e, e)
	},
	challenge: function () {
		var e = this.game.broadcaster.broadcast(Prodigy.Events.PlayerLocomotion.GET_TARGET, this.game, [!0]),
			t = function (e, t) {
				e.prodigy.world.teleport(e.prodigy.player.data.zone, t.x, t.y)
			},
			i = {
				equipment: this.game.prodigy.player.equipment.data,
				appearance: this.game.prodigy.player.appearance.data,
				data: this.game.prodigy.player.data,
				isMember: this.game.prodigy.player.isMember
			};
		this.game.prodigy.network.emitMessage({
			action: "challenge",
			target: this.player.userID,
			time: 6e4,
			data: {
				userID: this.game.prodigy.player.userID,
				player: i
			}
		}), this.game.prodigy.pvp.start(this.game.prodigy.player.userID, this.game.prodigy.player, this.player, t.bind(this, this.game, e), !1)
	},
	sendGift: function () {
		this.game.prodigy.open.message("This feature is coming soon!", null, null, "Send Gift")
	},
	updatePlayer: function (e) {
		this.p.reload(), this.game.input.clearEnterCallback(), e && this.setMode(0, 0)
	},
	itemSelected: function (e, t, i) {
		Util.isDefined(e) && this.game.prodigy.open.itemInfo({
			ID: e,
			type: t
		}, this.updatePlayer.bind(this, !0), i)
	},
	openPouch: function (e) {
		"ring" === e || Util.isDefined(this.player.equipment.getEquipment(e)) ? this.itemSelected(this.player.equipment.getEquipment(e), e, "equip") : this.game.prodigy.open.pouch(e, this.updatePlayer.bind(this))
	}
}), Prodigy.Menu.ChoosePet = function (e, t, i, a) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.callback = a, this.create(i)
}, Prodigy.extends(Prodigy.Menu.ChoosePet, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.ChoosePet,
	create: function (e) {
		var t = Monsters.getItemData(e);
		this.panel = this.game.prodigy.create.panel(this, 400, 200, 12, 9, "shine"), this.panel.setRenderState(!0), this.panel.add(new Phaser.TileSprite(this.game, 11, 80, 458, 40, "core", "blue-top")), this.panel.add(new Phaser.TileSprite(this.game, 11, 120, 458, 120, "core", "blue-mid")), this.panel.add(new Phaser.TileSprite(this.game, 11, 240, 458, 40, "core", "blue-top2")), this.panel.add(this.game.prodigy.create.sprite(40, 30, "icons", "pets/" + e)), this.game.prodigy.create.font(this.panel, 140, 35, t.name, {
			size: 36,
			font: "button"
		}), this.game.prodigy.create.font(this.panel, 40, 130, t.flavorText, {
			width: 400,
			font: "black"
		}), this.game.prodigy.create.button(this, this.panel.x + 440, this.panel.y - 10, "icons", "close", this.close.bind(this, !1)), this.game.prodigy.create.textButton(this, this.panel.x + 65, this.panel.y + 290, {
			icon: "yes",
			text: "Choose " + t.name,
			size: Prodigy.Control.TextButton.LG
		}, this.takePet.bind(this, e)), Prodigy.RenderMenu.prototype.create.call(this)
	},
	takePet: function (e) {
		this.game.prodigy.open.gotItem([{
			type: "pet",
			ID: e,
			data: {
				ID: e
			}
		}], this.close.bind(this, !0))
	},
	close: function (e) {
		e && this.callback(), Prodigy.RenderMenu.prototype.close.call(this)
	}
}), Prodigy.Menu.ChooseSpell = function (e, t, i, a) {
	Prodigy.Control.Menu.call(this, e, t, -1, {
		hideMenu: !0,
		hideContent: !1
	}), this.spells = i, this.callback = a, this.setup()
}, Prodigy.extends(Prodigy.Menu.ChooseSpell, Prodigy.Control.Menu, {
	constructor: Prodigy.Menu.ChooseSpell,
	setup: function () {
		Prodigy.Control.Menu.prototype.menuSetup.call(this), this.base = this.game.prodigy.create.element(this, 390, 110), this.game.prodigy.create.panel(this.base, 0, 0, 10, 9, "panel-light");
		for (var e = [[20, 50, .2]], t = 0; t < e.length; t++) {
			var i = this.base.add(this.game.prodigy.create.sprite(8, e[t][0], "core", "overlay-small"));
			i.width = 484, i.height = e[t][1], i.alpha = e[t][2]
		}
		this.game.prodigy.create.font(this.base, 0, 20, "Choose a Spell", {
			font: "button",
			size: 36,
			align: "center",
			width: 500
		});
		var a = this.game.prodigy.create.element(this.base, 150, 100);
		this.scroll = this.game.prodigy.create.scrollBar(this.base, 30, 100, 280, this.showSpellList.bind(this, a)), this.scroll.setPages(this.spells.length), this.scroll.click(0), this.game.prodigy.create.textButton(this.base, 150, 410, {
			icon: "close",
			text: "cancel"
		}, this.close.bind(this))
	},
	showSpellList: function (e, t) {
		e.removeAll(!0);
		for (var i = t; t + 3 > i && i < this.spells.length; i++) {
			var a = this.spells[i],
				s = e.add(this.game.prodigy.create.sprite(0, 100 * (i - t), "icons", "icon-base")),
				r = e.add(this.game.prodigy.create.sprite(70, 100 * (i - t), "icons", "icon-data-2"));
			s.inputEnabled = r.inputEnabled = !0, s.events.onInputDown.add(this.close.bind(this, a.ID)), r.events.onInputDown.add(this.close.bind(this, a.ID)), this.game.prodigy.create.font(e, r.x + 20, r.y + 7, a.name), r = e.add(this.game.prodigy.create.sprite(s.x, s.y, "icons", a.element))
		}
	},
	close: function (e) {
		this.callback(e), Prodigy.Control.Menu.prototype.close.call(this)
	}
}), Prodigy.Menu.Startup = function (e, t, i) {
	this.onClose = i, Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.create()
}, Prodigy.extends(Prodigy.Menu.Startup, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.Startup,
	create: function () {
		this.addTransparent(), this.createBaseSetup(16, 14, "shine", null, null, !0);
		var e = this.game.prodigy.create.element(this, 320, 80);
		e.setRenderState(!0), this.game.prodigy.create.panel(e, 40, 40, 14, 2, "banner"), this.game.prodigy.create.panel(e, 40, 160, 14, 9, "blue"), this.game.prodigy.create.font(e, 40, 55, "Welcome to Prodigy!", {
			font: "button",
			size: 36,
			align: "center",
			width: 560
		}), this.content = this.game.prodigy.create.element(this, 360, 240);
		var t = !1;
		this.game.prodigy.player.isMember || Util.isSchoolHours() ? this.game.prodigy.player.isMember && !this.game.prodigy.player.data.reward ? this.createMember(!0) : t = !0 : this.createMember(!1), Prodigy.RenderMenu.prototype.create.call(this), t && this.close()
	},
	createMember: function (e) {
		for (var t = 180, i = 100, a = [[60, 50, 0], [10, 50, 50], [110, 50, 100], [30, 30, 150], [80, 30, 200], [55, 10, 0]], s = 0; s < a.length; s++) {
			var r = this.content.add(this.game.prodigy.create.sprite(t + a[s][0], i + a[s][1], "icons", "item/26"));
			this.game.add.tween(r).to({
				y: "-5"
			}, 800, Phaser.Easing.Quadratic.InOut, !0, a[s][2], Number.MAX_VALUE, !0)
		}
		this.content.add(this.game.prodigy.create.sprite(t, i + 100, "core-2", "chest-bot"));
		var o = e ? "You Have a Membership!" : "Become a Member Today!",
			n = e ? "Here's your reward of 2000 gold!" : "Join now and get 2000 GOLD!";
		e && (this.game.prodigy.player.data.reward = 1, this.game.prodigy.player.changeGold(2e3)), this.game.prodigy.create.font(this.content, 0, 15, o, {
			size: 30,
			width: 560,
			align: "center"
		}), this.game.prodigy.create.font(this.content, 0, 70, n, {
			size: 20,
			width: 560,
			align: "center"
		})
	},
	createPVP: function () {},
	createFirst: function () {}
}), Prodigy.Menu.Store = function (e, t, i, a, s, r, o) {
	this.data = i, this.onClose = a, this.shopkeeperData = s, this.onBuy = r, this.purchaseConfirmationConfig = o, Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.create()
}, Prodigy.extends(Prodigy.Menu.Store, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.Store,
	create: function (e) {
		this.addTransparent(), Util.isDefined(this.data.analytics) && this.game.prodigy.network.sendAnalytics(this.data.analytics.action || "", this.data.analytics.label || "", "Events");
		var t = [];
		if (Util.isDefined(this.data.pages))
			for (var i = 0; i < this.data.pages.length; i++) t.push(this.data.pages[i].btn);
		else t = null;
		this.createBaseSetup(30, 16, "shine", null, t, !0, this.data.name);
		var a = this.game.prodigy.create.element(this, 0, 0);
		if (a.setRenderState(!0), a.add(new Phaser.TileSprite(this.game, 51, 240, 1178, 40, "core", "blue-top")), a.add(new Phaser.TileSprite(this.game, 51, 280, 1178, 300, "core", "blue-mid")), a.add(new Phaser.TileSprite(this.game, 51, 580, 1178, 40, "core", "blue-top2")), Util.isDefined(this.shopkeeperData)) {
			var s = Util.isDefined(this.shopkeeperData.X) ? this.shopkeeperData.X : 80,
				r = Util.isDefined(this.shopkeeperData.Y) ? this.shopkeeperData.Y : 63,
				o = a.add(this.game.prodigy.create.sprite(s, r, this.shopkeeperData.shopkeeperTag, this.shopkeeperData.shopkeeperFrame));
			o.scale.x = this.shopkeeperData.scaleX, o.scale.y = this.shopkeeperData.scaleY
		} else a.add(this.game.prodigy.create.sprite(80, 63, "core-2", "merchant"));
		this.cards = this.game.prodigy.create.element(this, 430, 220), this.bar = this.game.prodigy.create.slider(this, this.cards.x + 540 + 180, 240, 380, !0, !0);
		var n = this.game.prodigy.create.panel(this, 80, 280, 8, 2, "white");
		this.gold = this.game.prodigy.create.font(n, 0, 10, "", {
			size: 40,
			align: "center",
			width: 320,
			iconOffsetY: 13
		}), this.data.ends && this.initTimer(a, 80, 400, this.data.ends, this.data.isEvent), Prodigy.RenderMenu.prototype.create.call(this), e || this.showContent(), this.setMode(0)
	},
	showContent: function () {
		if (!this.game.prodigy.player.isMember) {
			var e = function (e, t, i) {
					e.prodigy.open.membership(t), e.prodigy.network.sendAnalytics(i)
				},
				t = Util.isDefined(this.data) && Util.isDefined(this.data.pages) && Util.isDefined(this.data.pages[0]) && Util.isDefined(this.data.pages[0].items) && Util.isDefined(this.data.pages[0].items[0]) && Util.isDefined(this.data.pages[0].items[0].cost);
			if (!t)
				if (Math.random() < .5) {
					var i = this.game.prodigy.create.panel(this, 80, 380, 8, 5, "member");
					i.setClickable(e.bind(this, this.game, Prodigy.Menu.MemberAd.GET_GOLD, "getGoldBtn")), this.game.prodigy.create.font(i, 10, 10, "Need gold? Become a member and get", {
						align: "center",
						width: 300
					}), this.game.prodigy.create.font(i, 10, 140, "Click Here!", {
						align: "center",
						width: 300,
						font: "button",
						size: 36
					});
					var a = i.add(this.game.prodigy.create.sprite(7, 70, "core", "overlay-small"));
					a.width = 306, a.height = 60, a.alpha = .2, this.game.prodigy.create.font(i, 0, 80, "[gold] 2000! [gold]", {
						align: "center",
						width: 320,
						font: "button",
						size: 36
					})
				} else {
					var s = Util.isDefined(this.data) && Util.isDefined(this.data.defaultMemberAd) ? this.data.defaultMemberAd : Prodigy.Menu.MemberAd.PREMIUM_ITEM,
						i = this.game.prodigy.create.panel(this, 80, 380, 8, 5, "member");
					i.setClickable(e.bind(this, this.game, s, "getAllItemsBtn")), this.game.prodigy.create.font(i, 10, 10, "Want to unlock all items?", {
						align: "center",
						width: 300
					}), this.game.prodigy.create.font(i, 10, 140, "Click Here!", {
						align: "center",
						width: 300,
						font: "button",
						size: 36
					});
					var a = i.add(this.game.prodigy.create.sprite(7, 75, "core", "overlay-small"));
					a.width = 306, a.height = 50, a.alpha = .2, this.game.prodigy.create.font(i, 0, 60, "[outfit/32] [weapon/16] [hat/45]", {
						align: "center",
						width: 320,
						font: "button",
						size: 36
					})
				}
		}
	},
	setMode: function (e) {
		Prodigy.RenderMenu.prototype.setMode.call(this, e);
		var t = [];
		Util.isDefined(this.data.pages) ? (this.currentPage = this.data.pages[e], t = this.data.pages[e].items) : Util.isDefined(this.data.items) && (t = this.data.items), this.bar.reset(t.length - 4, 4, -1, this.setItems.bind(this, t)), this.refreshPage()
	},
	setItems: function (e, t) {
		this.cards.removeAll(!0);
		for (var i = t; t + 8 > i; i++) {
			var a = e[i],
				s = i - t;
			i >= e.length ? this.game.prodigy.create.panel(this.cards, s % 4 * 180, 220 * Math.floor(s / 4), 4, 5, "empty") : this.game.prodigy.create.item(this.cards, s % 4 * 180, 220 * Math.floor(s / 4), {
				ID: a.ID,
				type: a.type,
				cost: a.cost
			}, "store", this.clicked.bind(this, a))
		}
		this.updateCurrency(e[0])
	},
	updateCurrency: function (e) {
		Util.isDefined(e.cost) ? this.gold.setText("[" + Items.getItemData(e.cost.type, e.cost.ID).icon + "] " + this.game.prodigy.player.backpack.hasItem(e.cost.type, e.cost.ID)) : this.gold.setText("[mail-gold] " + this.game.prodigy.player.getGold(!0))
	},
	initDeal: function () {
		var e = this.game.prodigy.create.panel(this, 80, 360, 8, 6, "white");
		e.setRenderState(!0), e.alpha = 0, this.deal = this.game.prodigy.create.element(this, e.x, e.y)
	},
	initTimer: function (e, t, i, a, s) {
		if (s) {
			var r = this.game.prodigy.create.panel(e, t, i, 8, 3, "dark");
			r.setRenderState(!0), this.timer = this.game.prodigy.create.timer(r, 5, 8, !0), this.timer.setMsg("until the shop closes");
			var o = a - (new Date).getTime();
			this.timer.start(o, this.close.bind(this), !0)
		} else {
			var n = this.game.prodigy.create.panel(this, 80, 360, 8, 6, "white");
			n.setRenderState(!0), n.alpha = 0, this.deal = this.game.prodigy.create.element(this, n.x, n.y)
		}
	},
	refreshPage: function () {
		this.bar.process()
	},
	clicked: function (e) {
		var t = this.game.prodigy.player.backpack.hasItem(e.type, e.ID);
		if ("dorm" === e.type) t = this.owned = this.game.prodigy.player.house.getOwned(e.ID) >= 9;
		else if ("dormbg" === e.type) {
			var i = Items.getItemData("dormbg", e.ID);
			t = this.owned = Util.isDefined(i) && i.tag === this.game.prodigy.player.house.getCurrentHouseTag()
		} else "pet" === e.type ? t = this.owned = this.game.prodigy.player.kennel.hasPet(e.ID) : "item" === e.type && (t = t >= 99);
		t && "dorm" === e.type ? this.game.prodigy.open.message("You already have too many of this item!", null, null, "Uh oh!") : t && "dormbg" === e.type ? this.game.prodigy.open.message("You already own this house!") : t && "pet" !== e.type ? this.game.prodigy.open.message("You already have this item!", null, null, "Uh oh!") : t ? this.game.prodigy.open.message("You already have this pet!", null, null, "Uh oh!") : "pet" === e.type && this.game.prodigy.player.kennel.isFull() ? this.game.prodigy.open.message("You have too many pets! You must release some in order to buy a new one.", null, null, "Uh oh!") : "dormbg" === e.type ? this.game.prodigy.open.houseItemInfo(e, this.buy.bind(this, e), "buy") : this.game.prodigy.open.itemInfo(e, this.buy.bind(this, e), "buy")
	},
	buy: function (e, t) {
		if (t) {
			var i = Items.getItemData(e.type, e.ID),
				a = 0;
			if (a = Util.isDefined(e.cost) ? e.cost.N : Items.getItemPrice(e.type, e.ID), Util.isDefined(i.member) && ("pet" === e.type ? this.game.prodigy.network.sendAnalytics("Buy-Member-Pet", Monsters.getItemData(e.ID).name) : this.game.prodigy.network.sendAnalytics("Buy-Member-Item", Items.getItemData(e.type, e.ID).name)), !this.game.prodigy.player.isMember && i.member) {
				var s = Prodigy.Menu.MemberAd.PREMIUM_ITEM;
				"follow" === e.type ? s = Prodigy.Menu.MemberAd.BUDDIES : "hat" === e.type || "outfit" === e.type || "weapon" === e.type || "boots" === e.type ? s = Prodigy.Menu.MemberAd.STYLE : "dorm" === e.type ? s = Prodigy.Menu.MemberAd.HOUSE_ITEMS : "dormbg" === e.type ? s = Prodigy.Menu.MemberAd.NEW_HOUSE : Util.isDefined(i.type) && "potion" === i.type ? s = Prodigy.Menu.MemberAd.POTIONS : Util.isDefined(this.data) && Util.isDefined(this.data.defaultMemberAd) && (s = this.data.defaultMemberAd), this.game.prodigy.open.membership(s)
			} else Util.isDefined(e.cost) && this.game.prodigy.player.backpack.hasItem(e.cost.type, e.cost.ID) < a ? this.game.prodigy.open.message("You need [" + Items.getItemData(e.cost.type, e.cost.ID).icon + "]" + a + " for this item. \n\nYou only have [" + Items.getItemData(e.cost.type, e.cost.ID).icon + "]" + this.game.prodigy.player.backpack.hasItem(e.cost.type, e.cost.ID) + ".", null, "gold", "Uh oh!") : !Util.isDefined(e.cost) && this.game.prodigy.player.getGold() < a ? this.game.prodigy.player.isMember ? this.game.prodigy.open.message("You need [gold]" + a + " for this item. You only have [gold]" + this.game.prodigy.player.getGold(!0) + ".", null, "gold", "Uh oh!") : this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.MORE_GOLD) : this.purchaseConfirmation(e, i, a)
		}
	},
	purchaseConfirmation: function (e, t, i) {
		var a = function () {
			Util.isDefined(e.cost) ? this.game.prodigy.player.backpack.consume(e.cost.type, e.cost.ID, e.cost.N) : this.game.prodigy.player.changeGold(-i), this.game.prodigy.open.gotItem([{
				ID: e.ID,
				type: e.type,
				N: 1,
				data: t
			}], this.refreshPage.bind(this)), this.updateCurrency(e), this.onBuy()
		}.bind(this);
		Util.isDefined(this.purchaseConfirmationConfig) ? this.game.prodigy.open.confirm(this.purchaseConfirmationConfig.message, a) : a()
	}
}), Prodigy.Menu.ToyStore = function (e, t) {
	e.prodigy.network.sendToyEvent("toy-store", 4);
	var i = {
		pages: [{
			btn: {
				icon: "pets/125"
			},
			ID: 125,
			items: [{
				ID: 66,
				type: "hat",
				cost: {
					ID: 3,
					type: "currency",
					N: 5
				}
			}, {
				ID: 82,
				type: "weapon",
				cost: {
					ID: 3,
					type: "currency",
					N: 5
				}
			}],
			text: "Big Hex can use magic to harness storm power and create powerful spells."
		}, {
			btn: {
				icon: "pets/126"
			},
			ID: 126,
			items: [{
				ID: 68,
				type: "hat",
				cost: {
					ID: 3,
					type: "currency",
					N: 5
				}
			}, {
				ID: 84,
				type: "weapon",
				cost: {
					ID: 3,
					type: "currency",
					N: 5
				}
			}],
			text: "The bulb on Florafoxs tail is said to hold special healing power!"
		}, {
			btn: {
				icon: "pets/127"
			},
			ID: 127,
			items: [{
				ID: 67,
				type: "hat",
				cost: {
					ID: 3,
					type: "currency",
					N: 5
				}
			}, {
				ID: 83,
				type: "weapon",
				cost: {
					ID: 3,
					type: "currency",
					N: 5
				}
			}],
			text: "The air around Arctursus is always cold because his fur is made of ice that cant melt!"
		}, {
			btn: {
				icon: "pets/128"
			},
			ID: 128,
			items: [{
				ID: 69,
				type: "hat",
				cost: {
					ID: 3,
					type: "currency",
					N: 5
				}
			}, {
				ID: 85,
				type: "weapon",
				cost: {
					ID: 3,
					type: "currency",
					N: 5
				}
			}],
			text: "Diveodiles natural magic ability is boosted by the Warden pendant it wears."
		}, {
			btn: {
				icon: "pets/129"
			},
			ID: 129,
			items: [{
				ID: 70,
				type: "hat",
				cost: {
					ID: 3,
					type: "currency",
					N: 5
				}
			}, {
				ID: 86,
				type: "weapon",
				cost: {
					ID: 3,
					type: "currency",
					N: 5
				}
			}],
			text: "While moving underground, he can reach speeds of up to 100 mph!"
		}]
	};
	Prodigy.Menu.Store.call(this, e, t, i), this._currentTween = [], this._toyTweens = []
}, Prodigy.extends(Prodigy.Menu.ToyStore, Prodigy.Menu.Store, {
	constructor: Prodigy.Menu.ToyStore,
	create: function () {
		this.addTransparent(), this.createBaseSetup(29, 16, "shine2");
		var e = this.game.prodigy.create.element(this, 20, 0);
		e.setRenderState(!0), e.add(new Phaser.TileSprite(this.game, 51, 100, 1138, 40, "core", "orange-top")), e.add(new Phaser.TileSprite(this.game, 51, 140, 1138, 40, "core", "orange-mid")), e.add(new Phaser.TileSprite(this.game, 51, 180, 1138, 40, "core", "orange-top2"));
		var t = this.game.prodigy.create.panel(e, 80, 240, 16, 10, "orange");
		t = this.game.prodigy.create.panel(e, 760, 240, 10, 9, "orange"), t.add(new Phaser.TileSprite(this.game, 0, 30, 400, 60, "core", "overlay-small")).alpha = .15, Prodigy.RenderMenu.prototype.create.call(this), this.content = this.game.prodigy.create.element(this, 60, 240), this.startLoad(["popup-toyStore"], this.showContent.bind(this, e))
	},
	showContent: function (e) {
		e.add(this.game.prodigy.create.sprite(66, 74, "popup-toyStore", "logo")), this.data.pages = _.shuffle(this.data.pages);
		for (var t = 0; t < this.data.pages.length; t++) {
			var i = this.game.prodigy.create.advButton(this, 320 + 110 * t, 110, this.data.pages[t].btn, this.setMode.bind(this, t));
			this.buttons.push(i)
		}
		this.process(), this._loaded = !0, this.setMode(0)
	},
	setMode: function (e) {
		if (this._loaded) {
			Prodigy.RenderMenu.prototype.setMode.call(this, e), this.content.removeAll(!0), Util.isDefined(this._petImage) && this.game.tweens.removeFrom(this._petImage);
			var t = this.data.pages[e];
			this.game.prodigy.create.font(this.content, 750, 45, "[mail-leaf] ", {
				size: 40
			}), this.game.prodigy.create.font(this.content, 770, 32, " " + this.game.prodigy.player.backpack.hasItem("currency", 3), {
				size: 40
			});
			for (var i = 0; i < t.items.length; i++) {
				var a = t.items[i];
				this.game.prodigy.create.item(this.content, i % 2 * 180 + 750, 130, {
					ID: a.ID,
					type: a.type,
					cost: a.cost
				}, "store", this.clicked.bind(this, a))
			}
			var s = Monsters.getItemData(t.ID);
			this.game.prodigy.create.font(this.content, 420, 40, s.name + "", {
				size: 36,
				font: "button"
			}), this.content.add(this.game.prodigy.create.sprite(350, 29, "icons", "icon-bar-" + s.element));
			var r = [25 / 35, 1],
				o = [{
					x: 50,
					y: 70
				}, {
					x: 60,
					y: 20
				}];
			this._petImage = this.content.add(this.game.prodigy.create.animatedSprite(60, 20, "popup-toyStore", [t.ID + "_1", t.ID + ""], !1, r, o)), this.f1 = this.game.add.tween(this._petImage).to({
				alpha: 1
			}, 2800, Phaser.Easing.Quadratic.In), this.f2 = this.game.add.tween(this._petImage).to({
				alpha: 0
			}, 1e3, Phaser.Easing.Quadratic.In), this.f3 = this.game.add.tween(this._petImage).to({
				frameNo: 1
			}, 1, Phaser.Easing.Quadratic.In), this.f4 = this.game.add.tween(this._petImage).to({
				alpha: 1
			}, 1e3, Phaser.Easing.Quadratic.In), this.f5 = this.game.add.tween(this._petImage).to({
				alpha: 1
			}, 2800, Phaser.Easing.Quadratic.In), this.f6 = this.game.add.tween(this._petImage).to({
				alpha: 0
			}, 1e3, Phaser.Easing.Quadratic.In), this.f7 = this.game.add.tween(this._petImage).to({
				frameNo: 0
			}, 1, Phaser.Easing.Quadratic.In), this.f8 = this.game.add.tween(this._petImage).to({
				alpha: 1
			}, 1e3, Phaser.Easing.Quadratic.In), this.f1.chain(this.f2), this.f2.chain(this.f3), this.f3.chain(this.f4), this.f4.chain(this.f5), this.f5.chain(this.f6), this.f6.chain(this.f7), this.f7.chain(this.f8), this.f8.chain(this.f1), this.f1.start(), this.game.prodigy.create.font(this.content, 309, 100, "When you get an Epic, you get a REAL TOY, AND a POWERFUL level 20 pet to join your team!\n\n Ask your parents to help you get them on your team today! ", {
				size: 16,
				width: 370
			});
			var n = this.game.prodigy.create.panelButton(this.content, 180, 290, 9, 2, "button", this.openWebsite.bind(this, "buy toy now!"));
			n.content.add(this.game.prodigy.create.sprite(10, -10, "icons", "pets/" + s.ID)), this.game.prodigy.create.font(n.content, 100, 15, "buy toy now!", {
				width: 250,
				size: 36,
				font: "button",
				align: "center"
			})
		}
	},
	openWebsite: function (e, t) {
		Prodigy.Menu.ToyStore.openWebsite(this.game, e.replace(/\s/g, "-").replace("!", ""), t)
	},
	close: function () {
		Util.isDefined(this._petImage) && this.game.tweens.removeFrom(this._petImage), Prodigy.RenderMenu.prototype.close.call(this)
	}
}), Prodigy.Menu.ToyStore.openWebsite = function (e, t, i) {
	if (Device.iPadMini() || Device.isTablet() || 1 == Util.getUrlVariable("iosApp")) e.prodigy.open.message("Unfortunately, you cannot purchase toys from a mobile device at this time. \n\nPlease log into the game from the website on a computer to do so. We apologize for the inconvenience.");
	else try {
		e.prodigy.network.sendToyEvent(t, 5);
		var a = e.prodigy.player,
			s = Util.isDefined(a.classIDs) && a.classIDs.length > 0 ? a.classIDs[a.classIDs.length - 1] % 4 : 4;
		i === !0 ? e.prodigy.network.openWebsite("www.prodigygame.com/toys/?id=" + e.prodigy.player.userID + "&epoch=" + (new Date).valueOf() + "&version=" + t + "&token=" + e.prodigy.network.api.uniqueKey + "&uTest=" + a.userID % 10 + "&cTest=" + s + "&vid=1#toys") : e.prodigy.network.openWebsite("www.prodigygame.com/toys/?id=" + e.prodigy.player.userID + "&epoch=" + (new Date).valueOf() + "&version=" + t + "&token=" + e.prodigy.network.api.uniqueKey + "&uTest=" + a.userID % 10 + "&cTest=" + s)
	} catch (r) {
		Util.log(r)
	}
}, Prodigy.Menu.HouseMapStore = function (e, t, i, a, s) {
	this.data = i, this.panels = [], this.pageIndex = 0, this.deal = a, Prodigy.Control.Menu.call(this, e, t, 20, {
		hideMenu: !0,
		hideContent: !0,
		tile: "bg-tile-white",
		close: s
	}), this.setup()
}, Prodigy.extends(Prodigy.Menu.HouseMapStore, Prodigy.Control.Menu, {
	constructor: Prodigy.Menu.HouseMapStore,
	menuSetup: function () {
		Prodigy.Control.Menu.prototype.menuSetup.call(this), this.gold = this.game.prodigy.create.font(this, 50, 655, "", {
			size: 40
		}), this.content = this.game.prodigy.create.element(this, 200, 180), this.deal && (this.dealData = this.initDeal()), this.scroll = this.game.prodigy.create.scrollBar(this, 60, 180, 345, this.setPage.bind(this));
		for (var e = [], t = 0; t < this.data.length; t++) e.push({
			icon: this.data[t].icon || "catalogue",
			callback: this.setStore.bind(this, this.data[t]),
			title: this.data[t].name || "PRODIGY STORE"
		});
		this.showFrame("catalogue", 1 === this.data.length ? this.data[0].name : "Prodigy Store", e, 0);
		var i = this.game.prodigy.create.textButton(this, 0, 0, {
			icon: "close",
			text: "close"
		}, this.close.bind(this));
		this.showBtns([], [i]), this.setupComplete = !0
	},
	setStore: function (e) {
		this.current = e, this.pageIndex = 0, this.scroll.setPages(this.current.pages.length)
	},
	setPage: function (e) {
		this.pageIndex = e, this.initPage(this.current.pages[this.pageIndex]), this.gold.setText("[gold] " + this.game.prodigy.player.getGold(!0))
	},
	showImage: function (e, t, i, a) {
		if (this.pageIndex === e) {
			var s = this.game.prodigy.create.sprite(250, 370, t, i);
			a ? (s.y = 0, s.anchor.setTo(.5, 0)) : s.anchor.setTo(.5, 1), this.content.add(s)
		}
	},
	initDeal: function () {
		Util.isDefined(this.dealC) && this.dealC.destroy();
		var e = new Date,
			t = Util.getDateTime(),
			i = new Date(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDay(), e.getUTCHours(), e.getUTCMinutes(), e.getUTCSeconds(), e.getUTCMilliseconds()),
			a = t + 864e5 - i.getTime(),
			s = Math.floor(this.game.random.pick(t) * this.data.length),
			r = Math.floor(this.game.random.pick(t + 1) * this.data[s].pages.length),
			o = Math.floor(this.game.random.pick(t + 2) * this.data[s].pages[r].items.length),
			n = this.data[s].pages[r].items[o];
		return this.dealC = this.game.prodigy.create.panel(this, 340, 580, 12, 2), this.timer = this.game.prodigy.create.timer(this.dealC, 300, 0, !0), this.timer.setTime(a), this.timer.setMsg("Time to Next Deal"), this.timer.start(a, this.setPage.bind(this, 0)), this.showItem(this.dealC, n, 20, 20, .5), n
	},
	initPage: function (e) {
		if (Util.isDefined(e)) {
			this.content.removeAll(!0);
			var t = this.game.prodigy.player.appearance.getGender() + "Tag";
			Util.isDefined(e.tag) && (t = "tag");
			var i = 15;
			Util.isDefined(e[t]) && (i = 500, this.game.prodigy.load.assets([this.current.atlas], this.showImage.bind(this, this.pageIndex, this.current.atlas, e[t], e.tagtop)));
			for (var a = 0; a < e.items.length; a++) e.items[a] === this.dealData ? this.showItem(this.content, e.items[a], i + Math.floor(a / 3) * (15 === i ? 350 : 500), a % 3 * 120, .5) : this.showItem(this.content, e.items[a], i + Math.floor(a / 3) * (15 === i ? 350 : 500), a % 3 * 120)
		}
	},
	showItem: function (e, t, i, a, s) {
		var r = null,
			o = !1;
		"pet" === t.type ? (r = Monsters.getItemData(t.ID), o = this.game.prodigy.player.kennel.hasPet(t.ID)) : "dorm" === t.type ? (r = Items.getItemData(t.type, t.ID), o = this.game.prodigy.player.house.hasMax(t.ID)) : "dormbg" === t.type ? (r = Items.getItemData(t.type, t.ID), o = t.ID == this.game.prodigy.player.house.getBackground()) : (r = Items.getItemData(t.type, t.ID), o = this.game.prodigy.player.backpack.hasItem(t.type, t.ID));
		var n = Items.getItemPrice(t.type, t.ID);
		Util.isDefined(s) && (n = Math.max(0, n - Math.max(200, Math.floor(n * s))));
		var h = this.game.prodigy.create.element(e, i, a),
			l = h.add(this.game.prodigy.create.sprite(0, 0, "core-2", "store-panel"));
		l.inputEnabled = !0, l.events.onInputDown.add(this.buy.bind(this, t, r.name, o, n, Util.isDefined(s)), this), h.add(this.game.prodigy.create.sprite(0, 0, "icons", Util.convertItemToIcon(t))), this.game.prodigy.create.font(h, 80, -2, r.name), o ? this.game.prodigy.create.font(h, 90, 44, "dorm" === t.type ? "MAX" : "OWNED", {
			size: 30,
			align: "center",
			width: 180
		}) : (this.game.prodigy.create.font(h, 90, 44, "" + (0 >= n ? "FREE" : n), {
			size: 30,
			align: "right",
			width: 140
		}), h.add(this.game.prodigy.create.sprite(238, 60, "icons", "gold")), r.member && h.add(this.game.prodigy.create.sprite(90, 35, "icons", "membership")))
	},
	buy: function (e, t, i, a, s) {
		var r = Items.getItemData(e.type, e.ID);
		Util.isDefined(r.member) && ("pet" === e.type ? this.game.prodigy.network.sendAnalytics("Buy-Member-Pet", Monsters.getItemData(e.ID).name) : this.game.prodigy.network.sendAnalytics("Buy-Member-Item", Items.getItemData(e.type, e.ID).name)), i && "dorm" === e.type ? this.game.prodigy.open.message("You already have too many of this item!", null, null, "Uh oh!") : i && "dormbg" === e.type ? this.game.prodigy.open.message("You already live here!", null, null, "Uh oh!") : i && "pet" !== e.type ? this.game.prodigy.open.message("You already have this item!", null, null, "Uh oh!") : i ? this.game.prodigy.open.message("You already have this pet!", null, null, "Uh oh!") : "pet" === e.type && this.game.prodigy.player.kennel.isFull() ? this.game.prodigy.open.message("You have too many pets! You must release some in order to buy a new one.", null, null, "Uh oh!") : !this.game.prodigy.player.isMember && r.member ? this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.PREMIUM_ITEM) : this.game.prodigy.player.getGold() < a ? this.game.prodigy.player.isMember ? this.game.prodigy.open.message("You need [gold]" + a + " for this item. You only have [gold]" + this.game.prodigy.player.getGold(!0) + ".", null, "gold", "Uh oh!") : this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.MORE_GOLD) : this.game.prodigy.open.confirm("Are you sure you want to buy the " + t + " for " + a + " coins?", this.completeBuy.bind(this, a, e, {
			ID: e.ID
		}, s))
	},
	completeBuy: function (e, t, i, a) {
		this.game.prodigy.player.changeGold(-e), this.game.prodigy.open.gotItem([{
			ID: t.ID,
			type: t.type,
			N: 1,
			data: i
		}], this.checkDeal.bind(this, a)), a && this.initDeal()
	},
	checkDeal: function (e) {
		e && this.initDeal(), this.scroll.click(0)
	}
}), Prodigy.Menu.PopupStore = function (e, t, i, a) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this._data = i, this.create(a)
}, Prodigy.extends(Prodigy.Menu.PopupStore, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.PopupStore,
	create: function (e) {
		this.addTransparent();
		var t = this.game.prodigy.create.panel(this, 200, 80, 22, 14, "shine");
		t.setRenderState(!0);
		var i = this.game.prodigy.create.element(this, 200, 80);
		i.setRenderState(!0), i.add(this.game.prodigy.create.sprite(40, 40, e, "store")), i.add(this.game.prodigy.create.sprite(-70, -55, e, "store-t")), i.add(this.game.prodigy.create.sprite(190, -25, e, "store-tr")), i.add(this.game.prodigy.create.sprite(-16, 204, e, "store-tb"));
		var a = this.game.prodigy.create.timer(this, 250, 490, !1);
		a.setMsg("left until they vanish!");
		var s = new Date("January 31, 2016");
		a.start(s.getTime() - (new Date).getTime(), this.close.bind(this)), this.game.prodigy.create.button(this, 1040, 70, "icons", "close", this.close.bind(this)), this._content = this.game.prodigy.create.element(this, 200, 40), this._gold = this.game.prodigy.create.font(this, 920, 540, "", {
			size: 40
		}), this.scroll = this.game.prodigy.create.scrollBar(this, 920, 140, 340, this.setPage.bind(this)), this.scroll.setPages(this._data.length), Prodigy.RenderMenu.prototype.create.call(this)
	},
	setPage: function (e) {
		this.page = e, this._gold.setText("[gold] " + this.game.prodigy.player.getGold(!0)), this._gold.x = 990 - this._gold.width, this._content.removeAll(!0);
		for (var t = 0; t < this._data[this.page].length; t++) this.showItem(this._data[this.page][t], 400, 100 + 120 * t)
	},
	showItem: function (e, t, i) {
		var a = Items.getItemData(e.type, e.ID),
			s = this.game.prodigy.player.backpack.hasItem(e.type, e.ID),
			r = Items.getItemPrice(e.type, e.ID),
			o = this.game.prodigy.create.element(this._content, t, i),
			n = o.add(this.game.prodigy.create.sprite(0, 0, "core-2", "store-panel"));
		n.inputEnabled = !0, n.events.onInputDown.add(this.buy.bind(this, e, a.name, s, r), this), o.add(this.game.prodigy.create.sprite(0, 0, "icons", Util.convertItemToIcon(e))), this.game.prodigy.create.font(o, 80, -2, a.name), "item" !== e.type && s ? this.game.prodigy.create.font(o, 90, 44, "dorm" === e.type ? "MAX" : "OWNED", {
			size: 30,
			align: "center",
			width: 180
		}) : (this.game.prodigy.create.font(o, 90, 44, "" + (0 >= r ? "FREE" : r), {
			size: 30,
			align: "right",
			width: 140
		}), o.add(this.game.prodigy.create.sprite(238, 60, "icons", "gold")), a.member && o.add(this.game.prodigy.create.sprite(90, 35, "icons", "membership")))
	},
	buy: function (e, t, i, a) {
		var s = Items.getItemData(e.type, e.ID);
		Util.isDefined(s.member) && this.game.prodigy.network.sendAnalytics("Buy-Member-Item", Items.getItemData(e.type, e.ID).name), "item" !== e.type && i ? this.game.prodigy.open.message("You already have this item!", null, null, "Uh oh!") : !this.game.prodigy.player.isMember && s.member ? this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.PREMIUM_ITEM) : this.game.prodigy.player.getGold() < a ? this.game.prodigy.player.isMember ? this.game.prodigy.open.message("You need [gold]" + a + " for this item. You only have [gold]" + this.game.prodigy.player.getGold(!0) + ".", null, "gold", "Uh oh!") : this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.MORE_GOLD) : this.game.prodigy.open.confirm("Are you sure you want to buy the " + t + " for " + a + " coins?", this.completeBuy.bind(this, a, e, {
			ID: e.ID
		}))
	},
	completeBuy: function (e, t, i) {
		this.game.prodigy.player.changeGold(-e), this.game.prodigy.open.gotItem([{
			ID: t.ID,
			type: t.type,
			N: 1,
			data: i
		}], this.scroll.click.bind(this.scroll, 0))
	}
}), Prodigy.Menu.RankStore = function (e, t, i, a, s) {
	this.mode = a, Prodigy.Menu.Store.call(this, e, t, i, s)
}, Prodigy.extends(Prodigy.Menu.RankStore, Prodigy.Menu.Store, {
	constructor: Prodigy.Menu.RankStore,
	create: function () {
		Prodigy.Menu.Store.prototype.create.call(this, !0)
	},
	refreshPage: function () {
		Prodigy.Menu.Store.prototype.refreshPage.call(this), Util.isDefined(this.deal) || (this.deal = this.game.prodigy.create.element(this, 80, 360), this.game.prodigy.create.panel(this.deal, 0, 0, 8, 6, "white").alpha = .5, this.dc = this.game.prodigy.create.element(this.deal, 0, 0)), this.dc.removeAll(!0), this.game.prodigy.create.font(this.dc, 0, 5, this.currentPage.top, {
			width: 320,
			align: "center",
			font: "button",
			size: 36
		});
		var e = this.dc.add(this.game.prodigy.create.sprite(160, 50, "icons", this.currentPage.icon));
		e.anchor.setTo(.5, 0), this.currentPage.rank > this.data.callback() + 1 && this.game.prodigy.create.font(this.dc, 0, 175, "You have not reached this rank yet!", {
			width: 320,
			align: "center",
			size: 20
		})
	},
	clicked: function (e) {
		if (this.currentPage.rank > this.data.callback() + 1) {
			if ("bounty" === this.mode) this.game.prodigy.open.message("You need to reach " + this.currentPage.rank + " Bounty Points to unlock this item!");
			else if ("arena" === this.mode) {
				var t = "this";
				switch (this.currentPage.rank) {
				case 2:
					t = "Silver";
					break;
				case 3:
					t = "Gold";
					break;
				case 4:
					t = "Platinum";
					break;
				case 5:
					t = "Diamond"
				}
				this.game.prodigy.open.message("You need to reach " + t + " rank to unlock this item!")
			}
		} else Prodigy.Menu.Store.prototype.clicked.call(this, e)
	}
}), Prodigy.Menu.GotItem = function (e, t, i, a) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.items = this.splitItems(i), this.itemsLeft = i.length, this.gold = 0, this.game = e, this.index = -1, this.onClose = a, this.create(), Util.log("GotItem------------------------------------")
}, Prodigy.extends(Prodigy.Menu.GotItem, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.GotItem,
	create: function () {
		this.addTransparent(), this.content = this.game.prodigy.create.element(this, 0, 0, 32, 18), this.overlay = this.game.prodigy.create.element(this, 0, 0, 32, 18), Prodigy.RenderMenu.prototype.create.call(this), this.dialogue = this.game.prodigy.dialogue.create(), this.getDialogue(), this.dialogue.start("noot")
	},
	getItems: function (e, t) {
		for (var i = 0; e > i; i++) Util.log(this.items[i + t].type + " " + (i + t)), this.revealItem((1280 - (160 * e + 20 * (e - 1))) / 2 + 180 * i, this.items[i + t], 400 * i), this.bagItem(this.items[i + t]), this.itemsLeft--, Util.log(this.itemsLeft + " remaining")
	},
	splitItems: function (e) {
		for (var t = [], i = 0, a = 0; a < e.length; a++)
			if ("gold" === e[a].type) i += e[a].N;
			else if ("spell" === e[a].type) var s = e[a];
		else t.push(e[a]);
		return i && t.unshift({
			type: "gold",
			N: i
		}), Util.isDefined(s) && t.unshift(s), Util.log(t), t
	},
	getDialogue: function () {
		if (1 === this.items.length) this.getSingleDialogue(this.items[0], 0), this.dialogue.setText({
			callback: this.close.bind(this)
		});
		else {
			var e = this.items[this.items.length - 1],
				t = !1,
				i = !1;
			("hat" === e.type || "outfit" === e.type || "weapon" === e.type || "boots" === e.type || "follow" === e.type) && (t = !0), "spell" === this.items[0].type && (i = !0), t ? (this.items.length > 2 ? this.dialogue.setText({
				text: "You got something!",
				element: this.getItems(this.items.length - 1, 0),
				face: 2,
				anim: 1
			}) : this.getSingleDialogue(this.items[0], 0), this.dialogue.setText({
				callback: this.getSingleDialogue.bind(this, e, this.items.length - 1)
			})) : i ? (this.items.length > 2 ? this.dialogue.setText({
				text: "You got something!",
				element: this.getItems(this.items.length - 1, 1),
				face: 2,
				anim: 1
			}) : this.getSingleDialogue(e, this.items.length - 1), this.dialogue.setText({
				callback: this.getSingleDialogue.bind(this, this.items[0], 0)
			})) : (this.dialogue.setText({
				text: "You got something!",
				element: this.getItems(this.items.length, 0),
				face: 2,
				anim: 1
			}), this.dialogue.setText({
				callback: this.close.bind(this)
			}))
		}
	},
	getSingleDialogue: function (e, t) {
		if (this.clearItems(), "pet" === e.type) this.dialogue.setText({
			text: "You got a new pet!",
			element: this.getItems(1, t),
			face: 2,
			anim: 1
		});
		else if ("dorm" === e.type) this.dialogue.setText({
			text: "You got furniture for your house!",
			element: this.getItems(1, t),
			face: 2,
			anim: 1
		});
		else if ("dormbg" === e.type) this.dialogue.setText({
			text: "You've moved to a new house! I'll clean up all your furniture for you.",
			element: this.getItems(1, t),
			face: 2,
			anim: 1
		});
		else if ("bounty" === e.type) this.dialogue.setText({
			text: "You earned bounty points!",
			element: this.getItems(1, t),
			face: 2,
			anim: 1
		});
		else if ("gold" === e.type) this.dialogue.setText({
			text: "You got gold!",
			element: this.getItems(1, t),
			face: 2,
			anim: 1
		});
		else if ("spell" === e.type) this.dialogue.setText({
			text: "You learned a new spell!",
			element: this.getItems(1, t),
			face: 2,
			anim: 1
		}), this.items.length > 1 && this.dialogue.setText({
			callback: this.close.bind(this)
		});
		else if ("hat" === e.type || "outfit" === e.type || "weapon" === e.type || "boots" === e.type || "follow" === e.type) {
			var i = "Wow! A new " + e.type + ". Would you like to put it on?";
			"boots" === e.type && (i = "Wow! A new pair of " + e.type + ". Would you like to put it on?"), "follow" === e.type && (i = "Wow! A new buddy! Would you like them to follow you?"), this.dialogue.setText({
				text: i,
				element: this.getItems(1, t),
				yes: this.wearItem.bind(this, e),
				no: this.close.bind(this),
				face: 3,
				anim: 4
			})
		} else this.dialogue.setText({
			text: "You got an item!",
			element: this.getItems(1, t),
			face: 2,
			anim: 1
		})
	},
	revealItem: function (e, t, i) {
		this.game.prodigy.create.item(this.content, e, 150, t, "card");
		var a = this.game.prodigy.create.panel(this.overlay, e, 150, 4, 5, "orange");
		a.alpha = 1, this.game.add.tween(a).to({
			alpha: 0
		}, 200, Phaser.Easing.Linear.None, !0, 500 + i), this.shootStars(500 + i, e + 80)
	},
	clearItems: function () {
		Util.isDefined(this.content) && (this.content.destroy(), this.content = this.game.prodigy.create.element(this, 0, 0, 32, 18)), Util.isDefined(this.overlay) && (this.overlay.destroy(), this.overlay = this.game.prodigy.create.element(this, 0, 0, 32, 18))
	},
	skip: function () {
		Util.isDefined(this.overlay) && this.overlay.destroy(), this.overlay = this.game.prodigy.create.element(this, 0, 0, 32, 18)
	},
	bagItem: function (e) {
		if ("gold" === e.type) this.game.prodigy.player.changeGold(e.N);
		else if ("pet" === e.type) this.game.prodigy.player.kennel.add(e.data);
		else if ("spell" === e.type) this.game.prodigy.player.addSpell(e.ID);
		else if ("dorm" === e.type) this.game.prodigy.player.house.add(e.ID);
		else if ("dormbg" === e.type) this.game.prodigy.player.house.setCurrentHouseTag(e.data.tag);
		else if ("key" === e.type) this.game.prodigy.player.backpack.addKeyItem(e.ID, e.lvl, e.data);
		else if ("item" === e.type) {
			var t = Items.getItemData(e.type, e.ID);
			!Util.isDefined(e.data) || Util.isDefined(t.type) && "potion" === t.type ? this.game.prodigy.player.backpack.add("item", e.ID, !1, e.N || 1) : this.game.prodigy.player.backpack.addBountyNote(e.type, e.ID, e.data.seed)
		} else if ("bounty" !== e.type) {
			var i = Items.getItemData(e.type, e.ID).member && !this.game.prodigy.player.isMember;
			Util.isDefined(e.data) ? this.game.prodigy.player.backpack.addBountyNote(e.type, e.ID, e.data.seed) : this.game.prodigy.player.backpack.add(e.type, e.ID, i, e.N)
		}
	},
	wearItem: function (e) {
		!this.game.prodigy.player.isMember && Items.getItemData(e.type, e.ID).member ? (this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.PREMIUM_ITEM, this.close.bind(this)), this.game.prodigy.network.sendAnalytics("Equip-Member-Item", Items.getItemData(e.type, e.ID).name)) : (this.game.prodigy.player.equip(e.ID, e.type), this.game.prodigy.player.appearanceChanged = !0, this.close())
	},
	shootStars: function (e, t) {
		this.stars = this.game.prodigy.create.element(this.overlay);
		for (var i = 0; 5 > i; i++) {
			var a = t - 100 + 50 * i,
				s = this.game.world.centerY - 100 - 150;
			0 === i || 4 === i ? s += 120 : (1 === i || 3 === i) && (s += 50);
			var r = this.game.prodigy.create.sprite(t, this.game.world.centerY - 100, "icons", "star");
			this.stars.add(r), r.anchor.setTo(.5, .5), r.alpha = 0, this.game.add.tween(r).to({
				alpha: .5
			}, 1, Phaser.Easing.Linear.None).delay(e).to({
				x: a,
				alpha: 0
			}, 1e3, Phaser.Easing.Quadratic.Out).start(), this.game.add.tween(r).to({
				y: s
			}, 1e3, Phaser.Easing.Quadratic.Out).delay(e).start()
		}
	}
}), Prodigy.Menu.Stylist = function (e, t, i) {
	this.panels = [], this.player = i, Prodigy.Control.Menu.call(this, e, t, 21, {
		hideMenu: !0,
		hideContent: !0,
		tile: "bg-tile-white"
	}), this.setup()
}, Prodigy.Menu.Stylist.EYES = [11303522, 7426628, 14844965, 14860069, 14017835, 7660843, 4837077, 1657838, 8530901, 14695800, 16733628, 4025779, 10547199, 16772244, 236287], Prodigy.Menu.Stylist.M_EYES = [!0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0], Prodigy.Menu.Stylist.HAIR = [16777166, 16768906, 14466221, 11901838, 7103584, 16754058, 13762442, 10157962, 9106431, 9087743, 14650111, 16747180, 16568319, 13631487, 15925199, 15791866], Prodigy.Menu.Stylist.M_HAIR = [!0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0], Prodigy.Menu.Stylist.M_STYLE = [!0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0, !0], Prodigy.extends(Prodigy.Menu.Stylist, Prodigy.Control.Menu, {
	menuSetup: function () {
		Prodigy.Control.Menu.prototype.menuSetup.call(this), this.scroll = this.game.prodigy.create.scrollBar(this, 60, 180, 345, this.setPage.bind(this)), this.playerCopy = new Player(this.game), this.data = new Prodigy.Container.UserEquipment(this.game, this, 872, 200, this.playerCopy, !0), this.content = this.game.prodigy.create.element(this, 0, 0), this.game.prodigy.create.font(this.data, 0, 250, "Click to buy this look!", {
			size: 20,
			width: 348,
			align: "center"
		}), this.buyBtn = this.game.prodigy.create.textButton(this.data, 74, 290, {
			text: "250",
			textY: 5,
			icon: "item/26"
		}, this.buy.bind(this)), this.gold = this.game.prodigy.create.font(this, 50, 655, "[gold] " + this.game.prodigy.player.getGold(!0), {
			size: 40,
			iconOffsetY: 10
		});
		var e = [{
			icon: "hair-2",
			callback: this.setStyles.bind(this),
			title: "CHOOSE HAIR STYLE"
		}, {
			icon: "item/46",
			callback: this.setColors.bind(this),
			title: "CHOOSE HAIR COLOR"
		}, {
			icon: "eyes-2",
			callback: this.setEyes.bind(this),
			title: "CHOOSE EYE COLOR"
		}];
		this.showFrame("player", "STYLIST", e, 0);
		var t = this.game.prodigy.create.textButton(this, 0, 0, {
			icon: "close",
			text: "close"
		}, this.close.bind(this));
		this.showBtns([], [t]), this.setupComplete = !0
	},
	resetPlayer: function () {
		this.playerCopy.appearance.setGender(this.player.appearance.getGender()), this.playerCopy.appearance.setHairStyle(this.player.appearance.getHairStyle()), this.playerCopy.appearance.setHairColor(this.player.appearance.getHairColor()), this.playerCopy.appearance.setEyeColor(this.player.appearance.getEyeColor()), this.playerCopy.appearance.setSkinColor(this.player.appearance.getSkinColor()), this.playerCopy.equipment.setEquipment({
			outfit: this.player.equipment.getEquipment("outfit"),
			hat: this.player.equipment.getEquipment("hat"),
			weapon: this.player.equipment.getEquipment("weapon")
		}), this.playerCopy.appearanceChanged = !0, this.data.user.reload()
	},
	setPage: function (e) {
		this.content.removeAll(!0);
		for (var t = 0; 6 > t; t++) {
			var i = 6 * e + t;
			i < this.current.length && this.showItem(this.content, this.current[i], 190 + 330 * Math.floor(t / 3), 180 + t % 3 * 120)
		}
	},
	showItem: function (e, t, i, a) {
		var s = !1,
			r = t.price,
			o = this.game.prodigy.create.element(e, i, a),
			n = o.add(this.game.prodigy.create.sprite(0, 0, "core-2", "store-panel"));
		n.inputEnabled = !0, n.events.onInputDown.add(this.changeAppearance.bind(this, t), this);
		var h = o.add(this.game.prodigy.create.sprite(15, 15, "icons", t.icon));
		"empty" === t.icon && (h.tint = t.tint), this.game.prodigy.create.font(o, 80, -2, t.name), s ? this.game.prodigy.create.font(o, 70, 44, "OWNED", {
			size: 30,
			align: "center",
			width: 180
		}) : (this.game.prodigy.create.font(o, 70, 44, "" + (0 >= r ? "FREE" : r), {
			size: 30,
			align: "right",
			width: 140
		}), o.add(this.game.prodigy.create.sprite(220, 45, "icons", "gold")), t.member && o.add(this.game.prodigy.create.sprite(90, 35, "icons", "membership")))
	},
	setStyles: function () {
		this.resetPlayer(), this.content.removeAll(!0), this.locked = !1, this.current = [];
		for (var e = Appearance.hairNames[this.playerCopy.appearance.getGender()], t = 0; t < e.length; t++) {
			var i = {
				type: "style",
				ID: t + 1,
				icon: "hair-2",
				price: 250,
				member: Prodigy.Menu.Stylist.M_STYLE[t],
				name: e[t]
			};
			this.current.push(i)
		}
		this.scroll.setPages(1 + Math.floor((this.current.length - 1) / 6))
	},
	setColors: function () {
		this.resetPlayer(), this.content.removeAll(!0), this.locked = !1, this.current = [];
		for (var e = Prodigy.Menu.Stylist.HAIR, t = 0; t < e.length; t++) {
			var i = {
				type: "hair",
				ID: t + 1,
				icon: "empty",
				price: 250,
				member: Prodigy.Menu.Stylist.M_HAIR[t],
				name: "Hair Color",
				tint: e[t]
			};
			this.current.push(i)
		}
		this.scroll.setPages(1 + Math.floor((this.current.length - 1) / 6))
	},
	setEyes: function () {
		this.resetPlayer(), this.content.removeAll(!0), this.locked = !1, this.current = [];
		for (var e = Prodigy.Menu.Stylist.EYES, t = 0; t < e.length; t++) {
			var i = {
				type: "eyes",
				ID: t + 1,
				icon: "empty",
				price: 250,
				member: Prodigy.Menu.Stylist.M_EYES[t],
				name: "Eye Color",
				tint: e[t]
			};
			this.current.push(i)
		}
		this.scroll.setPages(1 + Math.floor((this.current.length - 1) / 6))
	},
	changeAppearance: function (e) {
		this.locked = e.member && !this.game.prodigy.player.isMember, "eyes" === e.type ? this.playerCopy.appearance.setEyeColor(e.ID) : "hair" === e.type ? this.playerCopy.appearance.setHairColor(e.ID) : "style" === e.type && this.playerCopy.appearance.setHairStyle(e.ID), this.locked ? this.buyBtn.setIcon("membership") : this.buyBtn.setIcon("item/26"), this.data.user.reload()
	},
	buy: function () {
		this.locked && this.game.prodigy.network.sendAnalytics("Buy-Member-Style"), !this.player.isMember && this.locked ? this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.STYLE) : this.player.getGold() < 250 ? this.player.isMember ? this.game.prodigy.open.message("You need [gold]250 to style your wizard. You only have [gold]" + this.player.getGold(!0) + ".", null, "gold", "Uh oh!") : this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.MORE_GOLD) : this.game.prodigy.open.confirm("Are you sure you want to style your wizard for 250 gold? \nThis will change your wizard's appearance.", this.completePurchase.bind(this))
	},
	completePurchase: function () {
		this.player.changeGold(-250), this.player.appearance.setHairStyle(this.playerCopy.appearance.getHairStyle()), this.player.appearance.setHairColor(this.playerCopy.appearance.getHairColor()), this.player.appearance.setEyeColor(this.playerCopy.appearance.getEyeColor()), this.player.appearanceChanged = !0, this.close()
	}
}), Prodigy.Menu.Coliseum = function (e, t, i) {
	this.player = i, Prodigy.Control.Menu.call(this, e, t, 8), this.setup()
}, Prodigy.extends(Prodigy.Menu.Coliseum, Prodigy.Control.Menu, {
	constructor: Prodigy.Menu.Coliseum,
	menuSetup: function () {
		Prodigy.Control.Menu.prototype.menuSetup.call(this), this.index = 0, this.add(this.game.prodigy.create.sprite(120, 140, "core-2", "char-container")), this.game.prodigy.create.panel(this, 560, 140, 12, 6), this.game.prodigy.create.panel(this, 860, 480, 6, 2), this.opponentName = this.game.prodigy.create.font(this, 610, 150, "", {
			size: 40
		}), this.opponentTitle = this.game.prodigy.create.font(this, 610, 180, "", {
			width: 500,
			align: "right"
		}), this.description = this.game.prodigy.create.font(this, 590, 230, "", {
			size: 20,
			width: 540
		}), this.game.prodigy.create.font(this, 880, 490, "Reward", {
			size: 30
		}), this.itemIcon = this.game.prodigy.create.icon(this, 1020, 470, "icons", "item/26", 1), this.defeat = this.game.prodigy.create.sprite(270, 460, "icons", "yes"), this.add(this.defeat), this.scrollRightButton = this.game.prodigy.create.button(this, 374, 430, "icons", "next", this.shift.bind(this, 1)), this.scrollLeftButton = this.game.prodigy.create.button(this, 164, 430, "icons", "back", this.shift.bind(this, -1)), this.challengeButton = this.game.prodigy.create.textButton(this, 710, 410, {
			text: "challenge!",
			icon: "weapon/4",
			size: Prodigy.Control.TextButton.MED
		}, this.challenge.bind(this)), this.showFrame("leaderboard", "THE ARENA", []);
		var e = this.game.prodigy.create.textButton(this, 0, 0, {
			icon: "close",
			text: "close"
		}, this.close.bind(this));
		this.showBtns([], [e]), this.index = Math.min(this.game.prodigy.player.getColiseum(), Prodigy.Menu.Coliseum.data.length - 1), this.shift(0), this.setupComplete = !0
	},
	shift: function (e) {
		this.index += e, this.scrollLeftButton.setActive(), this.scrollRightButton.setActive(), this.index <= 0 && (this.index = 0, this.scrollLeftButton.setInactive()), this.index >= Prodigy.Menu.Coliseum.data.length - 1 && (this.index = Prodigy.Menu.Coliseum.data.length - 1, this.scrollRightButton.setInactive()), this.changeOpponent()
	},
	changeOpponent: function () {
		this.data = Prodigy.Menu.Coliseum.data[this.index], this.opponent = new Player(this.game), this.opponent.init(this.data.opponent), Util.isDefined(this.petV) && this.petV.destroy(), this.data.pets.length > 0 && (this.petV = this.game.prodigy.create.monster(this, new Monster(this.data.pets[0], this.game), 2, 250, 390), this.petV.reload()), Util.isDefined(this.playerV) && this.playerV.destroy(), this.playerV = this.game.prodigy.create.player(this, this.opponent, 2, 350, 390), this.data.pets.length <= 0 && (this.playerV.x -= 55), this.playerV.reload();
		var e = this.data.drops[0];
		if ("gold" === e.type ? this.itemIcon.setValue("item/26", e.N) : this.itemIcon.setValue(e.type + "/" + e.ID, 1), this.index > Math.floor(this.player.getLevel() / 5) || this.index > this.game.prodigy.player.getColiseum()) {
			var t = "";
			this.index > Math.floor(this.player.getLevel() / 5) && (t = "You must be at least level " + 5 * this.index), this.index > this.game.prodigy.player.getColiseum() && (t += (t.length > 0 ? " and you " : "You ") + "must defeat the previous " + (1 == this.index ? "wizard" : "wizards")), t += " to challenge " + this.opponent.getName() + ".", this.locked = !0, this.challengeButton.visible = !0, this.challengeButton.setInactive(), this.defeat.visible = !1
		} else this.index < this.game.prodigy.player.getColiseum() ? (t = this.data.description, this.locked = !0, this.challengeButton.visible = !1, this.challengeButton.setInactive(), this.defeat.visible = !0) : (this.locked = !1, t = this.data.description, this.challengeButton.visible = !0, this.challengeButton.setActive(), this.defeat.visible = !1);
		this.opponentName.setText(this.opponent.getName()), this.opponentTitle.setText("- " + this.data.title + " -"), this.description.setText(t)
	},
	challenge: function () {
		if (!this.locked) {
			var e = this.game.prodigy.dialogue.create();
			e.setText({
				face: 0,
				text: "Do you want to challenge " + this.opponent.getName() + "?",
				audio: Arena.AUDIO[0],
				yes: this.startBattle.bind(this, this.index, !0)
			}), e.start("clankboot")
		}
	},
	startBattle: function (e, t) {
		if (t) {
			var i = function (e, t) {
				Util.isDefined(t) && t > e.prodigy.player.getColiseum() && e.prodigy.player.setColiseum(t), e.prodigy.start("Arena")
			};
			delete Prodigy.Menu.Coliseum.data[e].opponent.data.hp;
			var a = Prodigy.Menu.Coliseum.data[e].pets;
			if (Util.isDefined(a))
				for (var s = 0; s < a.length; s++) delete a[s].hp;
			var r = {
				screen: "bg-battle-arena",
				opponent: [Prodigy.Menu.Coliseum.data[e].opponent],
				drops: Prodigy.Menu.Coliseum.data[e].drops,
				"catch": !1,
				pets: a,
				difficulty: 6,
				dropsDisabled: !0
			};
			this.game.prodigy.battle.start(r, i.bind(this, this.game), i.bind(this, this.game, e + 1), null, "Arena")
		}
	}
}), Prodigy.Menu.Coliseum.data = [{
	opponent: {
		data: '{"level":5}',
		appearance: '{"name":"Gina", "gender":"female", "hairStyle":5, "hairColor":3, "skinColor":3, "eyeColor":5}',
		equipment: '{"weapon":1}'
	},
	title: "The New Girl",
	description: "Gina arrived at the Academy a few weeks ago. She doesn't know many spells, but she can't wait to test them out on new challengers.",
	pets: [],
	drops: [{
		type: "gold",
		N: 500
	}]
}, {
	opponent: {
		data: '{"level":10}',
		appearance: '{"name":"Cameron", "gender":"male", "hairStyle":4, "hairColor":6, "skinColor":5, "eyeColor":4}',
		equipment: '{"outfit":4, "weapon":12}'
	},
	title: "The Copycat",
	description: "When Cameron first came to the Academy, he challenged Crios and was beaten by his powerful fire spells. Now, Cameron has chosen fire as his new element.",
	pets: [{
		ID: "94",
		level: "10"
	}],
	drops: [{
		ID: 12,
		type: "hat"
	}]
}, {
	opponent: {
		data: '{"level":15}',
		appearance: '{"name":"Mila", "gender":"female", "hairStyle":14, "hairColor":1, "skinColor":4, "eyeColor":1}',
		equipment: '{"hat":4, "outfit":2, "weapon":2}'
	},
	title: "The Veteran Wizard",
	description: "Mila didn't get her outfit from the Academy... in fact, she came here dressed like this. She's been casting spells for years, and uses all of them to defeat challengers.",
	pets: [{
		ID: "1",
		level: "15"
	}],
	drops: [{
		type: "gold",
		N: 500
	}]
}, {
	opponent: {
		data: '{"level":20}',
		appearance: '{"name":"Benjamyn", "gender":"male", "hairStyle":1, "hairColor":4, "skinColor":3, "eyeColor":8}',
		equipment: '{"outfit":17, "weapon":36}'
	},
	title: "The Nameless",
	description: "There are plenty of Bens at the Academy, but only one Benjamyn. Most students say his name is REALLY spelled 'Benjamin' and think he just changed it to be different. Interesting fact: It's really spelled Binjumun.",
	pets: [{
		ID: "16",
		level: "20"
	}],
	drops: [{
		type: "boots",
		ID: 26
	}]
}, {
	opponent: {
		data: '{"level":25}',
		appearance: '{"name":"Fuchsia", "gender":"female", "hairStyle":15, "hairColor":12, "skinColor":1, "eyeColor":10}',
		equipment: '{"outfit":20, "weapon":3}'
	},
	title: "The Sweetheart",
	description: "Pink is Fuchsia's favorite color, which is obvious to anyone who sees her. She doesn't know many spells, mostly because she spends too much time with her pet Peppermint.",
	pets: [{
		ID: "35",
		level: "25"
	}],
	drops: [{
		type: "gold",
		N: 500
	}]
}, {
	opponent: {
		data: '{"level":30}',
		appearance: '{"name":"Bannard", "gender":"male", "hairStyle":4, "hairColor":2, "skinColor":1, "eyeColor":7}',
		equipment: '{"hat":5, "outfit":30, "weapon":61}'
	},
	title: "The Loudmouth",
	description: "Most students avoid Bannard, but not because he's too tough. In fact, he's a pretty normal student, except for the fact that he talks really loud... in fact, students can hear him coming from a mile away.",
	pets: [{
		ID: "19",
		level: "30"
	}],
	drops: [{
		type: "gold",
		N: 500
	}]
}, {
	opponent: {
		data: '{"level":35}',
		appearance: '{"name":"Leena", "gender":"female", "hairStyle":1, "hairColor":3, "skinColor":2, "eyeColor":7}',
		equipment: '{"outfit":31, "weapon":52}'
	},
	title: "The Metalhead",
	description: "Leena was raised in a small mining town in the mountains of the northern regions. Her appreciation of the rare rocks and ores that come from the planet have earned her her nickname, but it isn't earth spells that she's been practicing...",
	pets: [{
		ID: "88",
		level: "35"
	}],
	drops: [{
		type: "gold",
		N: 500
	}]
}, {
	opponent: {
		data: '{"level":40}',
		appearance: '{"name":"Finneas", "gender":"male", "hairStyle":2, "hairColor":16, "skinColor":4, "eyeColor":2}',
		equipment: '{"hat":16, "outfit":16, "weapon":38}'
	},
	title: "The Adventurer",
	description: "Finn has a wild thirst for adventure, travel, and new challenges. He is a gifted student, but many teachers wish he would spend more time in the classroom and less out exploring the wilderness.",
	pets: [{
		ID: "29",
		level: "40"
	}, {
		ID: "14",
		level: "40"
	}],
	drops: [{
		type: "hat",
		ID: 36
	}]
}, {
	opponent: {
		data: '{"level":45}',
		appearance: '{"name":"Djinna", "gender":"female", "hairStyle":7, "hairColor":11, "skinColor":5, "eyeColor":15}',
		equipment: '{"outfit":1, "weapon":7}'
	},
	title: "The Enigma",
	description: "One of the stranger students at the Academy, Djinna comes and goes as she pleases, often disappearing for days at a time. There is a rumor going around that she's not a student at all, but a spirit who watches over the Academy.",
	pets: [{
		ID: "99",
		level: "45"
	}, {
		ID: "101",
		level: "45"
	}],
	drops: [{
		type: "gold",
		N: 500
	}]
}, {
	opponent: {
		data: '{"level":50}',
		appearance: '{"name":"Jess", "gender":"male", "hairStyle":6, "hairColor":8, "skinColor":1, "eyeColor":1}',
		equipment: '{"outfit":29, "weapon":15}'
	},
	title: "The Forest Sprite",
	description: "Jess loves nature and everything about it. His respect for nature is second only to his twin sister, who taught him all she knows. He will accept any challenge to prove himself worthy of her teachings.",
	pets: [{
		ID: "59",
		level: "50"
	}, {
		ID: "52",
		level: "50"
	}],
	drops: [{
		type: "gold",
		N: 500
	}]
}, {
	opponent: {
		data: '{"level":55}',
		appearance: '{"name":"Flora", "gender":"female", "hairStyle":11, "hairColor":7, "skinColor":1, "eyeColor":2}',
		equipment: '{"outfit":3, "weapon":8}'
	},
	title: "The Forest Guardian",
	description: "The forests of the Academy are full of life, and Flora loves being a part of it. She spends her time in the forest, using earth spells to rejuvenate the plant life. Every once in a while, she'll return to the Academy, looking for new challengers.",
	pets: [{
		ID: "60",
		level: "55"
	}, {
		ID: "53",
		level: "55"
	}],
	drops: [{
		type: "gold",
		N: 500
	}]
}, {
	opponent: {
		data: '{"level":60}',
		appearance: '{"name":"Nick", "gender":"male", "hairStyle":8, "hairColor":5, "skinColor":2, "eyeColor":2}',
		equipment: '{"hat":24, "outfit":25, "weapon":25}'
	},
	title: "The Caroler",
	description: "A lot of students at the Academy like the holiday season, but no one loves it as much as Nick. Nick sings festive carols all year long, even in the middle of July.",
	pets: [{
		ID: "27",
		level: "60"
	}, {
		ID: "28",
		level: "60"
	}],
	drops: [{
		type: "gold",
		N: 500
	}]
}, {
	opponent: {
		data: '{"level":65}',
		appearance: '{"name":"Lillian", "gender":"female", "hairStyle":13, "hairColor":5, "skinColor":1, "eyeColor":8}',
		equipment: '{"outfit":1, "weapon":2}'
	},
	title: "The Pet Enthusiast",
	description: "Lillian knows everything there is to know about pets, from their favorite activity to their favorite flavor of yogurt. She hopes to one day befriend every kind of pet and earn the title of 'Pet Master'.",
	pets: [{
		ID: "25",
		level: "65"
	}, {
		ID: "26",
		level: "65"
	}],
	drops: [{
		type: "gold",
		N: 500
	}]
}, {
	opponent: {
		data: '{"level":70}',
		appearance: '{"name":"Korathius", "gender":"male", "hairStyle":1, "hairColor":5, "skinColor":1, "eyeColor":7}',
		equipment: '{"hat":32, "outfit":31, "weapon":59}'
	},
	title: "The Beastmaster",
	description: "It is not real fur that Korathius wears, though his outfit correctly symbolizes his power and respect for all beasts. He never enters combat without a pet, though he instead refers to them as his 'brothers'.",
	pets: [{
		ID: "20",
		level: "70"
	}, {
		ID: "21",
		level: "70"
	}, {
		ID: "22",
		level: "70"
	}],
	drops: [{
		type: "outfit",
		ID: 32
	}]
}, {
	opponent: {
		data: '{"level":75}',
		appearance: '{"name":"Jen", "gender":"female", "hairStyle":14, "hairColor":16, "skinColor":4, "eyeColor":10}',
		equipment: '{"outfit":35, "weapon":53}'
	},
	title: "The Timed Traveller",
	description: "Many students dream of travelling the world, and Jen is no different. What separates her from the other students is that she's actually done it, in only 79 days!",
	pets: [{
		ID: "55",
		level: "75"
	}, {
		ID: "58",
		level: "75"
	}, {
		ID: "82",
		level: "75"
	}],
	drops: [{
		type: "gold",
		N: 500
	}]
}, {
	opponent: {
		data: '{"level":80}',
		appearance: '{"name":"George", "gender":"male", "hairStyle":8, "hairColor":6, "skinColor":2, "eyeColor":2}',
		equipment: '{"hat":9, "outfit":2, "weapon":10}'
	},
	title: "The Curious One",
	description: "George has a blooming curiosity for anything and everything. He loves playing with gadgets and gizmos, and often tries to invent his own... with varying degrees of success.",
	pets: [{
		ID: "63",
		level: "80"
	}, {
		ID: "72",
		level: "80"
	}, {
		ID: "89",
		level: "80"
	}],
	drops: [{
		type: "gold",
		N: 500
	}]
}, {
	opponent: {
		data: '{"level":85}',
		appearance: '{"name":"Aurora", "gender":"female", "hairStyle":1, "hairColor":14, "skinColor":1, "eyeColor":13}',
		equipment: '{"hat":10, "outfit":6, "weapon":20}'
	},
	title: "The Ice Queen",
	description: "Students come to the Academy by many means, but Aurora's tale takes the cake. She arrived at the Academy floating on an iceberg, telling of her long journey across the sea. True or not, there is truth in her power over the spells of ice.",
	pets: [{
		ID: "40",
		level: "85"
	}, {
		ID: "45",
		level: "85"
	}, {
		ID: "50",
		level: "85"
	}],
	drops: [{
		type: "gold",
		N: 500
	}]
}, {
	opponent: {
		data: '{"level":90}',
		appearance: '{"name":"Ziang", "gender":"male", "hairStyle":4, "hairColor":11, "skinColor":2, "eyeColor":6}',
		equipment: '{"hat":31, "outfit":7, "weapon":58}'
	},
	title: "The Emerald Knight",
	description: "One night, Ziang disappeared into the mountains alone. For days, students could hear the sounds of battle, and a green glow filled the sky. He returned wearing a mysterious emerald armor, which he claims he took from a Dragon.",
	pets: [{
		ID: "92",
		level: "90"
	}, {
		ID: "93",
		level: "90"
	}, {
		ID: "91",
		level: "90"
	}],
	drops: [{
		type: "gold",
		N: 500
	}]
}, {
	opponent: {
		data: '{"level":95}',
		appearance: '{"name":"Nova", "gender":"female", "hairStyle":3, "hairColor":2, "skinColor":1, "eyeColor":1}',
		equipment: '{"hat":8, "outfit":5, "weapon":23}'
	},
	title: "The Well Rounded",
	description: "Few students stand out the way Nova does. She is friendly, smart and generally fun to be around. She practices hard, and helps others when they ask. She'll accept your challenge, of course, and she'll even shake your hand when she beats you.",
	pets: [{
		ID: "41",
		level: "95"
	}, {
		ID: "3",
		level: "95"
	}, {
		ID: "86",
		level: "95"
	}, {
		ID: "42",
		level: "95"
	}],
	drops: [{
		type: "gold",
		N: 500
	}]
}, {
	opponent: {
		data: '{"level":100}',
		appearance: '{"name":"Crios", "gender":"male", "hairStyle":2, "hairColor":6, "skinColor":2, "eyeColor":10}',
		equipment: '{"outfit":8, "weapon":22}'
	},
	title: "The Prodigy",
	description: "Crios is by far the most gifted student the Academy has ever seen. He has never lost a duel, and at least 20 students a year leave because of him. And now he challenges you.",
	pets: [{
		ID: "94",
		level: "100"
	}, {
		ID: "95",
		level: "100"
	}, {
		ID: "96",
		level: "100"
	}, {
		ID: "97",
		level: "100"
	}],
	drops: [{
		type: "weapon",
		ID: 62
	}]
}], Prodigy.Menu.Nicknamer = function (e, t, i, a) {
	Prodigy.Control.Menu.call(this, e, t, 18, {
		hideMenu: !0,
		hideContent: !1,
		hideClose: !0
	}), this.names = i, this.user = a, this.setup()
}, Prodigy.extends(Prodigy.Menu.Nicknamer, Prodigy.Control.Menu, {
	constructor: Prodigy.Menu.Nicknamer,
	menuSetup: function () {
		Prodigy.Control.Menu.prototype.menuSetup.call(this);
		var e = this.game.prodigy.create.panel(this, 390, 80, 10, 10);
		e.add(this.game.prodigy.create.sprite(-15, -15, "icons", "item/12")), this.game.prodigy.create.font(e, 80, 15, "Change my name to...", {
			align: "left",
			size: 30
		});
		for (var t = 0; t < this.names.length + 1; t++) {
			var i = this.game.prodigy.player.appearance.getFullName(),
				a = i.split(" ")[0],
				s = "",
				r = "",
				o = !1,
				n = !1,
				h = !1;
			t >= this.names.length ? r = "Change back to original" : (s = r = (this.names[t].pre || "") + a + (this.names[t].post || ""), h = Util.isDefined(this.names[t].member), o = n = h && !this.game.prodigy.player.isMember, o || (o = this.isLocked(this.names[t])));
			var l = this.game.prodigy.create.element(e, 30, 80 + 60 * t),
				d = this.game.prodigy.create.sprite(0, 0, "core", "overlay-small");
			d.inputEnabled = !0, d.events.onInputDown.add(this.setCurrent.bind(this, s, o, this.names[t], 80 + 60 * t - 5, h)), d.width = 440, d.alpha = o ? .5 : .2, o || l.add(d), this.game.prodigy.create.font(l, 60, 8, r, {
				align: "left",
				size: 20
			}), o && l.add(d), n && l.add(this.game.prodigy.create.sprite(-5, -5, "icons", "membership"))
		}
		this.selected = e.add(this.game.prodigy.create.sprite(25, -5, "icons", "yes")), this.selected.visible = !1, this.quit = this.game.prodigy.create.textButton(e, 40, 470, {
			icon: "close",
			text: "cancel"
		}, this.close.bind(this)), this.apply = this.game.prodigy.create.textButton(e, 260, 470, {
			icon: "next",
			text: "apply"
		}, this.apply.bind(this)), this.apply.setInactive()
	},
	isLocked: function (e) {
		if (!Util.isDefined(e.req)) return !1;
		for (var t = 0; t < e.req.length; t++) {
			var i = e.req[t];
			if ("pet" === i.rtype && !this.game.prodigy.player.kennel.hasPet(i.ID)) return !0;
			if ("item" === i.rtype && !this.game.prodigy.player.backpack.hasItem(i.type, i.ID)) return !0;
			if ("quest" === i.rtype && this.game.prodigy.player.quests.getCurrentQuest(i.zone) <= i.Q) return !0
		}
		return !1
	},
	setCurrent: function (e, t, i, a, s) {
		return s && this.game.prodigy.network.sendAnalytics("Set-Nickname", i.pre || i.post), s && t ? (this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.NICKNAME), void 0) : (t && Util.isDefined(i) ? this.game.prodigy.open.message(i.fail, null, null, "Uh oh!") : (this.selected.visible = !0, this.selected.y = a, this.current = e, this.apply.setActive()), void 0)
	},
	apply: function () {
		this.game.prodigy.player.appearance.setNickname(this.current), this.user.showName(!0);
		var e = this.game.prodigy.player;
		this.game.prodigy.network.emitMessage({
			action: "change",
			data: {
				userID: e.userID,
				appearance: e.appearance.data
			}
		}), this.close()
	}
}), Prodigy.Menu.NameChange = function (e, t, i, a) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.content = this.game.prodigy.create.element(this), this.onClose = a;
	var s = this.game.prodigy.player.appearance.getGender();
	this.names = "male" === s ? Names.BOY_NAMES : Names.GIRL_NAMES, i ? this.create() : this.createAdvanced()
}, Prodigy.extends(Prodigy.Menu.NameChange, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.NameChange,
	create: function () {
		var e = this.game.prodigy.create.element(this.background, 320, 150),
			t = this.game.prodigy.create.element(e, 0, 0);
		this.game.prodigy.create.panel(t, 0, 0, 16, 10, "shine"), t.add(new Phaser.TileSprite(this.game, 11, 80, 618, 40, "core", "blue-top")), t.add(new Phaser.TileSprite(this.game, 11, 120, 618, 200, "core", "blue-mid")), t.add(new Phaser.TileSprite(this.game, 11, 320, 618, 40, "core", "blue-top2"));
		var i = this.game.prodigy.create.panel(t, 40, -20, 14, 2, "banner");
		Prodigy.RenderMenu.prototype.create.call(this), this.nameText = this.game.prodigy.create.font(this, e.x + i.x, e.y + i.y + 15, "Name Your Wizard", {
			width: i.width,
			align: "center",
			size: 36,
			font: "button"
		}), this.bar = this.game.prodigy.create.slider(this, e.x + 30, e.y + 80 + 20, 240, !0, !0), this.closeBtn = this.game.prodigy.create.textButton(this, 490, e.y + 400 - 25, {
			text: "I'm Done!",
			icon: "yes",
			size: Prodigy.Control.TextButton.MED
		}, this.close.bind(this)), this.closeBtn.setInactive(), this.content = this.game.prodigy.create.element(this, this.bar.x + 70, this.bar.y), this.btns = [];
		for (var a = 0; 12 > a; a++) {
			var s = this.game.prodigy.create.panel(this.content, a % 2 * 260, 40 * Math.floor(a / 2), 6, 1, "lb");
			s._text = this.game.prodigy.create.font(s, 0, 5, "", {
				width: 240,
				align: "center",
				size: 20
			}), s.setClickable(this.setName.bind(this, s), null, this.onNameOver.bind(this, s), this.onNameOut.bind(this, s)), this.btns.push(s)
		}
		this.bar.reset(Math.ceil(this.names.length / 12), 1, 0, this.setPage.bind(this))
	},
	setPage: function (e) {
		this.setName(null), Util.isDefined(this.selectedBtn) && this.selectedBtn.changePanel("lb"), this.selectedBtn = null;
		for (var t = 0; 12 > t; t++) {
			var i = this.btns[t];
			12 * e + t >= this.names.length ? i.visible = !1 : (i._text.setText(this.names[12 * e + t]), i.visible = !0)
		}
	},
	setName: function (e) {
		Util.isDefined(e) ? (this.onNameDown(e), this.game.prodigy.player.appearance.setName(e._text.text), this.nameText.setText(e._text.text), this.closeBtn.setActive()) : (this.nameText.setText("Name Your Wizard"), this.closeBtn.setInactive())
	},
	createAdvanced: function () {
		var e = this.game.prodigy.create.element(this.background, 320, 150),
			t = this.game.prodigy.create.element(e, 0, 0);
		this.game.prodigy.create.panel(t, 0, 0, 16, 10, "shine"), t.add(new Phaser.TileSprite(this.game, 11, 80, 618, 40, "core", "blue-top")), t.add(new Phaser.TileSprite(this.game, 11, 120, 618, 200, "core", "blue-mid")), t.add(new Phaser.TileSprite(this.game, 11, 320, 618, 40, "core", "blue-top2"));
		var i = this.game.prodigy.create.panel(t, 40, -20, 14, 2, "banner");
		Prodigy.RenderMenu.prototype.create.call(this);
		var a = this.game.prodigy.player.appearance.getName().split(" ")[0];
		this.nameText = this.game.prodigy.create.font(this, e.x + i.x, e.y + i.y + 18, "Choose your Title", {
			width: i.width,
			align: "center",
			size: 30
		}), this.closeBtn = this.game.prodigy.create.textButton(this, 490, e.y + 400 - 25, {
			text: "I'm Done!",
			icon: "yes",
			size: Prodigy.Control.TextButton.MED
		}, this.close.bind(this)), this.closeBtn.setInactive(), this.content = this.game.prodigy.create.element(this, e.x + 120, e.y + 80 + 20), this.btns = [];
		for (var s = 0; 6 > s; s++) {
			var r = this.game.prodigy.create.panel(this.content, 0, 40 * s, 12, 1, "lb");
			r._text = this.game.prodigy.create.font(r, 0, 5, "", {
				width: 480,
				align: "center",
				size: 20
			}), r.setClickable(this.setLongName.bind(this, r), null, this.onNameOver.bind(this, r), this.onNameOut.bind(this, r)), this.btns.push(r)
		}
		this.rand = this.game.prodigy.create.button(this, e.x + 30, e.y + 80 + 20, "icons", "dice", this.randomNames.bind(this, a)), this.randomNames(a)
	},
	randomNames: function (e) {
		this.setName(null), Util.isDefined(this.selectedBtn) && this.selectedBtn.changePanel("lb"), this.selectedBtn = null;
		for (var t = [], i = 0, a = 0; 6 > a; a++)
			do {
				var s = Phaser.ArrayUtils.getRandomItem(Names.MIDDLE_NAMES),
					r = Phaser.ArrayUtils.getRandomItem(Names.LAST_NAMES).toLowerCase(),
					o = s + r,
					n = this.btns[a];
				n._text.setText(e + " " + o), t.indexOf(o) < 0 && (t.push(o), ++i)
			} while (i === a)
	},
	setLongName: function (e) {
		this.onNameDown(e), this.game.prodigy.player.appearance.setName(e._text.text), this.nameText.setText(e._text.text), this.closeBtn.setActive()
	},
	onNameDown: function (e) {
		Util.isDefined(this.selectedBtn) && this.selectedBtn.changePanel("lb"), this.selectedBtn = e;
		for (var t, i = 0; i < this.btns.length; i++) t = this.btns[i], t === e && t.changePanel("lb-green")
	},
	onNameOver: function (e) {
		e.changePanel("lb-green")
	},
	onNameOut: function (e) {
		e !== this.selectedBtn && e.changePanel("lb")
	}
}), Prodigy.Menu.BoostSelect = function (e, t, i, a) {
	Prodigy.Control.Menu.call(this, e, t, 4, {
		hideMenu: !0,
		hideContent: !1,
		hideClose: !0
	}), this.boosts = i, this.callback = a, this.setup()
}, Prodigy.extends(Prodigy.Menu.BoostSelect, Prodigy.Control.Menu, {
	constructor: Prodigy.Menu.BoostSelect,
	menuSetup: function () {
		Prodigy.Control.Menu.prototype.menuSetup.call(this);
		var e = this.game.prodigy.create.panel(this, 390, 160, 10, 6);
		e.add(this.game.prodigy.create.sprite(-15, -15, "icons", "member")), this.game.prodigy.create.font(e, 80, 15, "Choose Your Boost!", {
			align: "left",
			size: 30
		});
		for (var t = 0; t < this.boosts.length; t++) {
			var i = this.boosts[t];
			if (i) {
				var a = this.game.prodigy.create.element(e, 60 + 150 * t, 80 + t % 2 * 50),
					s = a.add(this.game.prodigy.create.sprite(0, 0, "icons", "icon-base"));
				s.inputEnabled = !0, s.events.onInputDown.add(this.setCurrent.bind(this, t, a.x, a.y));
				var r = this.game.prodigy.create.sprite(0, 0, "icons", i.icon);
				r.x += Math.floor((80 - r.width) / 2), r.y += Math.floor((80 - r.height) / 2), a.add(r), this.game.prodigy.create.font(e, a.x - 110, a.y + 90, this.boosts[t].d, {
					width: 300,
					align: "center",
					size: 20
				})
			}
		}
		this.selected = e.add(this.game.prodigy.create.sprite(25, -5, "icons", "yes")), this.selected.visible = !1, this.quit = this.game.prodigy.create.textButton(e, 40, 270, {
			icon: "close",
			text: "none"
		}, this.apply.bind(this, !0)), this.apply = this.game.prodigy.create.textButton(e, 260, 270, {
			icon: "next",
			text: "apply"
		}, this.apply.bind(this)), this.apply.setInactive()
	},
	setCurrent: function (e, t, i) {
		this.selected.visible = !0, this.selected.x = t - 10, this.selected.y = i - 10, this.currentBoost = e, this.apply.setActive()
	},
	apply: function (e) {
		return e || this.game.prodigy.network.sendAnalytics("Use-Boost", this.currentBoost), e || this.game.prodigy.player.isMember ? (e ? this.callback() : this.callback(this.currentBoost), this.close(), void 0) : (this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.BOOSTS), void 0)
	}
}), Prodigy.Menu.ItemInfo = function (e, t, i, a, s) {
	this.item = i, this.itemData = Items.getItemData(this.item.type, this.item.ID), this.player = e.prodigy.player, this.mode = s || "view", this.onClose = a, this.callback = a, Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.create()
}, Prodigy.extends(Prodigy.Menu.ItemInfo, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.ItemInfo,
	create: function () {
		this.addTransparent(), this.panel = this.game.prodigy.create.panel(this, 260, 140, 19, 11, "shine"), this.panel.setRenderState(!0), this.game.prodigy.create.button(this, this.panel.x + 720, this.panel.y - 10, "icons", "close", this.close.bind(this));
		var e = this.game.prodigy.create.item(this, 300, 180, {
				ID: this.item.ID,
				type: this.item.type
			}, "info"),
			t = Items.getItemData(this.item.type, this.item.ID);
		if ("view" === this.mode);
		else if ("buy" === this.mode) this.createBuyModeUI(e, t);
		else if ("equip" === this.mode) {
			var i = "";
			this.item.L && !this.game.prodigy.player.isMember && (i = "[membership] "), "hat" === this.item.type || "weapon" === this.item.type || "outfit" === this.item.type || "boots" === this.item.type || "follow" === this.item.type || "back" === this.item.type ? this.player.equipment.getEquipment(this.item.type) === this.item.ID ? (i = "follow" === this.item.type ? "hide" : "remove", this.game.prodigy.create.textButton(this, 320, 435, {
				text: i,
				size: Prodigy.Control.TextButton.SMALL
			}, this.unequipItem.bind(this))) : (i += "follow" === this.item.type ? "show" : "wear", this.game.prodigy.create.textButton(this, 320, 435, {
				text: i,
				size: Prodigy.Control.TextButton.SMALL
			}, this.equipItem.bind(this))) : t.effect && "potion" !== t.type && this.game.prodigy.create.textButton(this, 320, 435, {
				text: "use",
				icon: "up",
				size: Prodigy.Control.TextButton.SMALL
			}, this.use.bind(this))
		} else if ("potion" === this.mode) {
			var i = "";
			this.item.L && !this.game.prodigy.player.isMember && (i = "[membership] "), i += "use", this.game.prodigy.create.textButton(this, 320, 435, {
				text: i,
				size: Prodigy.Control.TextButton.SMALL
			}, this.usePotion.bind(this))
		}
		Prodigy.RenderMenu.prototype.create.call(this)
	},
	createBuyModeUI: function (e, t) {
		var i = "",
			a = 0,
			s = 320,
			r = 435,
			o = "Buy";
		Util.isDefined(this.item.cost) ? (a = this.item.cost.N, i = "[" + Items.getItemData(this.item.cost.type, this.item.cost.ID).icon + "] ") : (a = Items.getItemPrice(this.item.type, this.item.ID), i = "[mail-gold] "), this.game.prodigy.create.font(this, s, 385, i + a, {
			align: "center",
			width: 200,
			size: 30,
			iconOffsetY: 6
		}), t.member && !this.game.prodigy.player.isMember && (o = "[membership] " + o), this.game.prodigy.create.textButton(this, s, r, {
			text: o,
			size: Prodigy.Control.TextButton.SMALL
		}, this.buy.bind(this))
	},
	use: function () {
		var e = Items.getItemData(this.item.type, this.item.ID),
			t = !1;
		e.effect.hp ? (this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "heart"), this.game.prodigy.player.healTeam(e.effect.hp)) : e.effect.fx && (this.game.prodigy.player.fx(e.effect.fx, !0), t = !0), this.player.backpack.consume(this.item.type, this.item.ID), this.close(t)
	},
	usePotion: function () {
		this.data = Items.getItemData(this.item.type, this.item.ID), this.battle = this.game.state.states.Battle, this.current = this.battle.combatManager.teams[0].current, this.target = this.battle.teams[0].current.source, Util.isDefined(this.item.L) && this.item.L === !0 && !this.game.prodigy.player.isMember ? this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.POTIONS) : Util.isDefined(this.current.potionIcon) ? this.game.prodigy.open.confirmPotionUse.call(this.game.prodigy.open, this, this.current) : this.confirmPotionUse.call(this)
	},
	confirmPotionUse: function () {
		this.onClose = this.callback(!0), Util.isDefined(this.current.potionIcon) && this.current.potionIcon.destroy.call(this.current.potionIcon), Util.isDefined(this.current.potencyIcon) && this.current.potencyIcon.destroy.call(this.current.potencyIcon), this.target.updateModifier.call(this.target, "potion", this.item.ID);
		var e = this.game.prodigy.event.create();
		e.explode(160, 300, 160, 320, 1, !1, !0), e.function(this.addPotionIcon.bind(this, this.data, this.game, this.battle)), e.function(this.battle.combatManager.opponentTurn.bind(this.battle.combatManager)), e.start(), this.player.backpack.consume(this.item.type, this.item.ID), this.close()
	},
	addPotionIcon: function (e, t, i) {
		var a = i.combatManager.teams[0].current;
		a.potionIcon = a.sprites.add(t.prodigy.create.sprite(-20, 0, "icons", "potion-buff-" + e.element)), 2 === e.potency && (a.potencyIcon = a.sprites.add(t.prodigy.create.sprite(30, 10, "icons", "bonus-arrow")))
	},
	buy: function () {
		this.close(!0)
	},
	equipItem: function () {
		this.item.L ? this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.PREMIUM_ITEM) : (this.player.equip(this.item.ID, this.item.type) && (this.player.appearanceChanged = !0, this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "whoosh")), this.close())
	},
	unequipItem: function () {
		this.player.unEquip(this.item.type) && (this.player.appearanceChanged = !0, this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "blop")), this.close()
	},
	throwItem: function () {
		("hat" === this.item.type || "outfit" === this.item.type || "weapon" === this.item.type || "boots" === this.item.type || "relics" === this.item.type) && this.player.equipment.getEquipment(this.item.type) === this.item.ID && this.unequipItem(), this.player.backpack.consume(this.item.type, this.item.ID), this.close()
	}
}), Prodigy.Menu.HouseItemInfo = function (e, t, i, a, s) {
	Prodigy.Menu.ItemInfo.call(this, e, t, i, a, s)
}, Prodigy.extends(Prodigy.Menu.HouseItemInfo, Prodigy.Menu.ItemInfo, {
	constructor: Prodigy.Menu.HouseItemInfo,
	createBuyModeUI: function (e, t) {
		Prodigy.Menu.ItemInfo.prototype.createBuyModeUI.call(this, e, t);
		var i = this.game.prodigy.create.textButton(this, 0, 0, {
			text: "Visit",
			size: Prodigy.Control.TextButton.SMALL
		}, this.previewHouse.bind(this, t.tag));
		i.y = 435;
		var a = e.width / 3;
		i.x = Util.getCenteredXY(i.width, 0, e.x + a, 0, 2 * a, 0).x
	},
	previewHouse: function (e) {
		this.game.prodigy.world.getZone("house").gotoPreview(e)
	}
}), Prodigy.Menu.Pets = function (e, t, i, a) {
	this.callback = i, this.mode = a || Prodigy.Menu.Pets.TEAM, Prodigy.Control.Menu.call(this, e, t, 23), this.setup()
}, Prodigy.Menu.Pets.TEAM = 0, Prodigy.Menu.Pets.ALL = 1, Prodigy.Menu.Pets.PVP_TEAM = 2, Prodigy.extends(Prodigy.Menu.Pets, Prodigy.Control.Menu, {
	constructor: Prodigy.Menu.Pets,
	menuSetup: function () {
		Prodigy.Control.Menu.prototype.menuSetup.call(this);
		var e = [{
			icon: "team",
			callback: this.switchTeam.bind(this, Prodigy.Menu.Pets.TEAM),
			title: "MY PET TEAM"
		}, {
			icon: "team-pvp",
			callback: this.switchTeam.bind(this, Prodigy.Menu.Pets.PVP_TEAM),
			title: "MY PET TEAM"
		}, {
			icon: "item/62",
			callback: this.allPets.bind(this),
			title: "PRODIGY BESTIARY"
		}];
		this.showFrame("pet", "", e, 0), e = [this.game.prodigy.create.textButton(this, 0, 0, {
			icon: "close",
			text: "close"
		}, this.close.bind(this))], this.showBtns([], e), this.setupComplete = !0
	},
	close: function (e) {
		Util.isDefined(this.callback) && this.callback(e), Prodigy.Control.Menu.prototype.close.call(this)
	},
	createList: function () {
		var e = this.game.prodigy.create.element(this.content, 660, 170);
		this.game.prodigy.create.panel(e, 0, 0, 10, 8), this.game.prodigy.create.font(e, 10, -25, "Prodigy Pets I Own", {
			size: 20
		}), this.icons = [];
		for (var t = 0; 20 > t; t++) this.icons.push(e.add(this.game.prodigy.create.sprite(30 + t % 5 * 90, 25 + 90 * Math.floor(t / 5), "icons", "icon-base"))), this.icons[t].inputEnabled = !0, this.icons[t].events.onInputDown.add(this.showInfo.bind(this, this.icons[t], null));
		this.scrollUp = this.game.prodigy.create.button(e, -20, 135, "icons", "next", this.scrollList.bind(this, -1)), this.scrollUp.sprite.angle = -90, this.scrollDown = this.game.prodigy.create.button(e, 30, 265, "icons", "next", this.scrollList.bind(this, 1)), this.scrollDown.sprite.angle = 90
	},
	createBoxes: function () {
		this.box = this.game.prodigy.create.element(this.content, 120, 170), this.game.prodigy.create.panel(this.box, 0, 0, 10, 8), this.icons = [];
		for (var e = 0; 20 > e; e++) this.icons.push(this.box.add(this.game.prodigy.create.sprite(30 + e % 5 * 90, 25 + 90 * Math.floor(e / 5), "icons", "icon-base"))), this.icons[e].inputEnabled = !0, this.icons[e].events.onInputDown.add(this.selectIcon.bind(this, this.icons[e], null));
		this.btns = [];
		for (var e = 0; 7 > e; e++) {
			var t = 7 - e;
			this.btns.unshift(this.game.prodigy.create.stackButton(this.box, 440 - 55 * e, -40, [{
				tag: "empty"
			}, {
				text: t + "",
				y: 8,
				x: -15
			}], this.openBox.bind(this, t - 1)))
		}
		var i = function (e, t) {
				e.inspect = !e.inspect, t.tint = e.inspect ? 4473924 : 16777215, Util.isDefined(e.preview) && (e.preview.destroy(), e.preview = null)
			},
			a = this.box.add(this.game.prodigy.create.sprite(10, -40, "icons", "inspect"));
		a.inputEnabled = !0, a.events.onInputDown.add(i.bind(this, this, a))
	},
	createTeam: function () {
		this.panel = this.game.prodigy.create.element(this.content, 660, 170), this.panelBaseActiveSprites = [], this.game.prodigy.create.panel(this.panel, 0, 0, 10, 3), this.game.prodigy.create.font(this.panel, 10, -25, "My Team", {
			size: 20
		}), this.ticons = [];
		for (var e = null, t = 0; 5 > t; t++) e = this.game.prodigy.create.sprite(30 + 90 * t, t % 2 * 20 + 25, "icons", "icon-base-active"), this.panel.add(e), this.panelBaseActiveSprites.push(e), this.ticons.push(this.panel.add(this.game.prodigy.create.sprite(30 + 90 * t, t % 2 * 20 + 25, "icons", "icon-base"))), this.ticons[t].inputEnabled = !0, this.ticons[t].events.onInputDown.add(this.selectIcon.bind(this, this.ticons[t], t))
	},
	switchTeam: function (e) {
		Util.isDefined(e) || (e = Prodigy.Menu.Pets.TEAM), this.mode = e, Util.isDefined(this.content) && this.content.destroy(), this.content = this.game.prodigy.create.element(this, 0, 0), this.inspect = !1, this.createBoxes(), this.createTeam(), this.openBox(0), this.refreshTeam();
		var t = this.game.prodigy.player;
		if (t.tutorial.getMenuValue(this.menuID, 0) < 1 && t.kennel.getPets().length > 0) {
			t.tutorial.setMenuValue(this.menuID, 0, 1);
			var i = this.game.prodigy.dialogue.create();
			i.setText(19), i.setText({
				callback: Util.highlightAll.bind(Util, [this.box], !0)
			}), i.setText(20), i.setText({
				callback: Util.highlightAll.bind(Util, [this.box], !1)
			}), i.setText({
				callback: Util.highlightAll.bind(Util, [this.panel], !0)
			}), i.setText(21), i.setText({
				callback: Util.highlightAll.bind(Util, [this.panel], !1)
			}), i.start("noot")
		}
	},
	allPets: function () {
		this.mode = Prodigy.Menu.Pets.ALL, Util.isDefined(this.content) && this.content.destroy(), this.content = this.game.prodigy.create.element(this, 0, 0), this.fullIndex = 0, this.createList(), this.scrollList(0)
	},
	onFirstIconClick: function (e) {
		if (Util.isDefined(e.srcData)) {
			var t = !0;
			this.mode !== Prodigy.Menu.Pets.PVP_TEAM ? this.tween = this.game.add.tween(e).to({
				y: e.y - 10
			}, 500, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0) : Util.isDefined(e.tagSprite) && this.game.prodigy.player.kennel.isPVPTeam(e.srcData) ? this.tween = this.game.add.tween(e.tagSprite).to({
				y: e.tagSprite.y - 10
			}, 500, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0) : t = !1, t && (this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "pop"), this.current = e, e.oldY = e.y)
		}
	},
	onEmptySlotClick: function (e, t) {
		return this.mode === Prodigy.Menu.Pets.PVP_TEAM ? (this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "blop"), void 0) : (this.current.srcData instanceof Player ? Util.isDefined(t) ? (this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "heart"), this.current.srcData.data.team = t, this.current.srcData.updated = !0) : this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "blop") : (this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "heart"), this.game.prodigy.player.kennel.setTeam(this.current.srcData, t)), void 0)
	},
	onOccupiedSlotClick: function (e, t) {
		this.mode === Prodigy.Menu.Pets.PVP_TEAM ? e.srcData instanceof Player || Util.isDefined(e.srcData.isPVPTeam) && e.srcData.isPVPTeam ? this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "blop") : (Util.isDefined(e.srcData.team) || this.game.prodigy.player.kennel.setTeam(this.current.srcData, e.srcData), this.game.prodigy.player.kennel.setPVPTeam(this.current.srcData, !1), this.game.prodigy.player.kennel.setPVPTeam(e.srcData, !0), this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "heart")) : this.current.srcData instanceof Player ? Util.isDefined(t) ? (this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "heart"), this.game.prodigy.player.kennel.setTeam(e.srcData, this.current.srcData.data.team), this.current.srcData.data.team = t, this.current.srcData.updated = !0) : this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "blop") : e.srcData instanceof Player ? Util.isDefined(this.current.srcData.team) ? (this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "heart"), e.srcData.data.team = this.current.srcData.team, e.srcData.updated = !0, this.game.prodigy.player.kennel.setTeam(this.current.srcData, t)) : this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "blop") : (this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "heart"), this.game.prodigy.player.kennel.setTeam(this.current.srcData, e.srcData))
	},
	selectIcon: function (e, t) {
		if (this.inspect) {
			if (Util.isDefined(e.srcData)) {
				if (Util.isDefined(this.preview) && this.preview.destroy(), e.srcData instanceof Player) return;
				this.preview = new Prodigy.Container.Hearts(this.game, this.content, 660, 350, new Monster(e.srcData, this.game)), e.srcData.ID < 125 && this.game.prodigy.create.textButton(this.preview, 150, 130, {
					size: Prodigy.Control.TextButton.MED,
					text: "Set Free",
					icon: "close"
				}, this.openLeavePetConfirmation.bind(this, e.srcData))
			}
		} else Util.isDefined(this.tween) && (this.tween.stop(), this.tween = null, this.current.y = this.current.oldY, Util.isDefined(this.current.tagSprite) && this.resetTagSpritePosition(this.current)), Util.isDefined(this.current) ? (e !== this.current ? Util.isDefined(e.srcData) ? this.onOccupiedSlotClick(e, t) : this.onEmptySlotClick(e, t) : this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "blop"), this.current = null, this.openBox(this.currentBox), this.refreshTeam()) : this.onFirstIconClick(e)
	},
	scrollList: function (e) {
		var t = Math.floor(Monsters.MAX_ID / 5);
		this.fullIndex = Phaser.Math.clamp(this.fullIndex + e, 0, t), this.fullIndex <= 0 ? this.scrollUp.setInactive() : this.scrollUp.setActive(), this.fullIndex >= t ? this.scrollDown.setInactive() : this.scrollDown.setActive();
		for (var i = Monsters.getRangeByAmount(5 * this.fullIndex + 1, 20), a = 0; a < this.icons.length; a++) this.icons[a].alpha = 1, a >= i.length || !Util.isDefined(i[a]) || !this.game.prodigy.player.kennel.hasPet(i[a].ID) ? (this.icons[a].frameName = "mystery", a >= i.length && (this.icons[a].alpha = 0), this.icons[a].srcData = null) : (this.icons[a].frameName = Util.convertItemToIcon({
			type: "pet",
			ID: i[a].ID
		}), this.icons[a].srcData = i[a])
	},
	openBox: function (e) {
		Util.isDefined(this.tween) && (this.tween.stop(), this.tween = null), Util.isDefined(this.current) && (this.current.y = this.current.oldY, this.current = null);
		for (var t = 0; t < this.btns.length; t++) e === t ? this.btns[t].select() : this.btns[t].deselect();
		this.currentBox = e;
		for (var i = this.game.prodigy.player.kennel.getPets(this.mode !== Prodigy.Menu.Pets.ALL), a = 20 * e, t = 0; t < this.icons.length; t++) t + a >= i.length ? (this.icons[t].frameName = "icon-base", this.icons[t].alpha = 0, this.icons[t].srcData = null) : (this.icons[t].alpha = 1, this.icons[t].frameName = Util.convertItemToIcon({
			type: "pet",
			ID: i[t + a].ID
		}), this.icons[t].srcData = i[t + a])
	},
	showInfo: function (e) {
		if (0 != e.alpha) {
			Util.isDefined(this.preview) && this.preview.destroy();
			var t = Util.isDefined(e.srcData) ? Monsters.getItemData(e.srcData.ID) : null;
			this.preview = this.game.prodigy.create.element(this.content, 120, 170), this.game.prodigy.create.panel(this.preview, 0, 0, 10, 2), this.game.prodigy.create.panel(this.preview, 0, 150, 10, 5), this.game.prodigy.create.font(this.preview, 100, -25, Util.isDefined(t) ? t.name : "???", {
				size: 20
			}), this.game.prodigy.create.font(this.preview, 10, 125, "Description", {
				size: 20
			}), this.game.prodigy.create.font(this.preview, 30, 180, Util.isDefined(t) ? t.flavorText : "- you do not have this pet -", {
				size: 20,
				width: 440
			}), this.preview.add(this.game.prodigy.create.sprite(0, -25, "icons", Util.isDefined(t) ? Util.convertItemToIcon({
				type: "pet",
				ID: t.ID
			}) : "mystery")), Util.isDefined(t) && (this.game.prodigy.create.font(this.preview, 100, 15, "TYPE: " + Util.capitalize(t.element), {
				size: 20
			}), this.game.prodigy.create.font(this.preview, 100, 60, "LIFE: " + t.life, {
				size: 20
			}), this.game.prodigy.create.font(this.preview, 300, 15, "POWER: " + t.power, {
				size: 20
			}), this.game.prodigy.create.font(this.preview, 300, 60, "GROWTH: " + t.growth, {
				size: 20
			}))
		}
	},
	refreshTeam: function () {
		this.game.prodigy.player.kennel.reconcilePVPTeam();
		for (var e = this.game.prodigy.player.kennel.getTeam(), t = 0; t < this.ticons.length; t++) {
			var i = e[t];
			this.ticons[t].srcData = null, Util.isDefined(i) ? i instanceof Player ? (this.ticons[t].frameName = "player", this.ticons[t].srcData = i) : i instanceof Monster && (this.ticons[t].frameName = Util.convertItemToIcon({
				type: "pet",
				ID: i.getID()
			}), this.ticons[t].srcData = i.data) : this.ticons[t].frameName = "icon-base"
		}
		this.updatePVPTeamTags()
	},
	updatePVPTeamTags: function () {
		for (var e = null, t = !1, i = 0; i < this.ticons.length; i++) e = this.ticons[i], t = Util.isDefined(e.srcData) && (e.srcData instanceof Player || Util.isDefined(e.srcData.isPVPTeam) && e.srcData.isPVPTeam), t ? (this.panelBaseActiveSprites[i].frameName = "icon-base-pvp", this.addTeamTagToIcon(e)) : (this.panelBaseActiveSprites[i].frameName = "icon-base-active", this.removeTeamTagFromIcon(e))
	},
	addTeamTagToIcon: function (e) {
		Util.isDefined(e.tagSprite) || (e.tagSprite = this.game.prodigy.create.sprite(0, 0, "icons", "icon-base-pvp-indicator"), e.addChild(e.tagSprite), this.resetTagSpritePosition(e))
	},
	removeTeamTagFromIcon: function (e) {
		Util.isDefined(e.tagSprite) && (e.tagSprite.destroy(), delete e.tagSprite)
	},
	resetTagSpritePosition: function (e) {
		Util.isDefined(e.tagSprite) && (e.tagSprite.x = (e.width - e.tagSprite.width) / 2, e.tagSprite.y = e.height - .2 * e.tagSprite.height)
	},
	openLeavePetConfirmation: function (e) {
		this.game.prodigy.open.confirm("Are you sure you want to leave your pet? You will lose them forever.", this.releasePet.bind(this, e))
	},
	releasePet: function (e) {
		this.game.prodigy.player.kennel.remove(e), Util.isDefined(this.preview) && this.preview.destroy(), this.openBox(this.currentBox), this.refreshTeam()
	},
	setPVPTeam: function (e, t) {
		this.game.prodigy.player.kennel.setPVPTeam(e, t)
	}
}), Prodigy.Menu.Mailbox = function (e, t) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.create()
}, Prodigy.extends(Prodigy.Menu.Mailbox, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.Mailbox,
	create: function () {
		this.addTransparent();
		var e = this.game.prodigy.create.panel(this, 320, 80, 16, 14, "shine");
		e.setRenderState(!0), e.add(new Phaser.TileSprite(this.game, 11, 100, 618, 40, "core", "blue-top")), e.add(new Phaser.TileSprite(this.game, 11, 140, 618, 340, "core", "blue-mid")), e.add(new Phaser.TileSprite(this.game, 11, 480, 618, 40, "core", "blue-top2")), e = this.game.prodigy.create.panel(this, 400, 60, 12, 2, "banner"), e.setRenderState(!0), this.scroll = this.game.prodigy.create.slider(this, 865, 200, 380, !0, !0), this.content = this.game.prodigy.create.element(this, 345, 200), this.title = this.game.prodigy.create.font(this, 320, 80, "[mail] Mailbox [mail]", {
			size: 36,
			font: "button",
			width: 640,
			align: "center"
		}), this.game.prodigy.create.button(this, 920, 70, "icons", "close", this.close.bind(this)), Prodigy.RenderMenu.prototype.create.call(this), this.scroll.reset(this.game.prodigy.mail.getMailCount(), 1, -1, this.setMail.bind(this)), this.game.prodigy.mail.addUpdateCallback(this.process.bind(this))
	},
	setMail: function (e) {
		this.lastIndex = e || 0, this.lastSize = this.game.prodigy.mail.getMailCount(), this.content.removeAll(!0);
		for (var t = this.game.prodigy.mail.getMail(e || 0, 4), i = 0; i < t.length; i++) this.createChallenge(20, 100 * i, t[i])
	},
	process: function (e) {
		if (Util.isDefined(this.game)) {
			var t = this.lastIndex + e - this.lastSize;
			(0 > t || 5 > e) && (t = 0), this.scroll.reset(this.game.prodigy.mail.getMailCount(), 1, this.lastIndex || 0, this.setMail.bind(this))
		}
	},
	createChallenge: function (e, t, i) {
		this.game.prodigy.create.panel(this.content, e, t, 12, 2, "mail"), this.content.add(this.game.prodigy.create.sprite(e + 3, t + 3, "icons", "mail-challenge")), this.game.prodigy.create.font(this.content, e + 40, t + 8, i.data.player.appearance.name + " (lvl " + i.data.player.data.level + ")", {
			size: 16
		}), this.game.prodigy.create.font(this.content, e + 20, t + 50, "Accept challenge?", {
			font: "black",
			size: 16
		}), this.game.prodigy.create.button(this.content, e + 360, t + 25, "icons", "yes", this.processChallenge.bind(this, i, !0)), this.game.prodigy.create.button(this.content, e + 360 + 60, t + 25, "icons", "close", this.processChallenge.bind(this, i, !1))
	},
	processChallenge: function (e, t) {
		if (this.game.prodigy.mail.remove(e), t) {
			var i = this.game.broadcaster.broadcast(Prodigy.Events.PlayerLocomotion.GET_TARGET, this.game, [!0]),
				a = function (e, t) {
					e.prodigy.world.teleport(e.prodigy.player.data.zone, t.x, t.y)
				},
				s = new Player(this.game);
			s.init({
				equipment: e.data.player.equipment,
				appearance: e.data.player.appearance,
				data: e.data.player.data,
				isMember: e.data.player.isMember
			}), this.game.prodigy.pvp.start(e.data.userID, this.game.prodigy.player, s, a.bind(this, this.game, i), !1, "Arena")
		}
	}
}), Prodigy.Menu.Survey = function (e, t, i) {
	Prodigy.Control.Element.call(this, e, t, 0, 0), this.surveyData = i, this.answers = [], this.create()
}, Prodigy.extends(Prodigy.Menu.Survey, Prodigy.Control.Element, {
	constructor: Prodigy.Menu.Survey,
	create: function () {
		switch (this.rearOverlay = this.add(this.game.prodigy.create.sprite(-5, -5, "core", "overlay-small")), this.rearOverlay.width = 1290, this.rearOverlay.height = 730, this.rearOverlay.alpha = .5, this.rearOverlay.inputEnabled = !0, this.game.add.tween(this.rearOverlay).from({
				alpha: 0
			}, 500, Phaser.Easing.Linear.None, !0), this.container = this.game.prodigy.create.element(this, 40, 40), this.container.setRenderState(!0), this.game.prodigy.create.panel(this.container, 0, 0, 30, 16, "shine"), this.doneButton = 5 != this.surveyData.type ? this.game.prodigy.create.textButton(this.container, .5 * this.container.width - 150, this.container.height - 70, {
				icon: "yes",
				text: "Done!",
				size: Prodigy.Control.TextButton.MED
			}, this.onClose.bind(this)) : this.game.prodigy.create.textButton(this.container, .5 * this.container.width - 150, this.container.height - 70, {
				icon: "yes",
				text: "Next",
				size: Prodigy.Control.TextButton.MED
			}, this.setupImagePool.bind(this)), this.surveyData.type) {
		case 1:
			this.setupCheckBox();
			break;
		case 2:
			this.setupRadioBox();
			break;
		case 3:
			this.setupImage();
			break;
		case 4:
			this.setupFeedback();
			break;
		case 5:
			this.setupImagePool();
			break;
		default:
			this.setupCheckBox()
		}
		this.game.add.tween(this.container).from({
			y: 720
		}, 600, Phaser.Easing.Back.Out, !0), this.checkDoneButton()
	},
	onAnswerClicked: function (e) {
		if (this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "pop"), 2 === this.surveyData.type) {
			for (var t = 0; t < this.answers.length; t++) this.answers[t].setSelected(!1);
			e.setSelected(!0)
		}
		this.checkDoneButton()
	},
	checkDoneButton: function () {
		for (var e = 0; e < this.answers.length; e++)
			if (this.answers[e].selected) return this.doneButton.setEnabled(!0), void 0;
		this.doneButton.setEnabled(!1)
	},
	setupCheckBox: function () {
		this.game.prodigy.create.font(this.container, 30, 30, this.surveyData.question, {
			width: this.container.width - 60,
			align: "center",
			size: 40
		}), _.shuffle(this.surveyData.answers);
		for (var e = 0; e < this.surveyData.answers.length; e++) {
			var t = e > 0 ? this.answers[e - 1].y + this.answers[e - 1].height + 15 : 150;
			this.answers[e] = new Prodigy.Control.CheckBoxButton(this.game, this.container, 155, t, 900, this.surveyData.answers[e], this.onAnswerClicked.bind(this))
		}
	},
	setupRadioBox: function () {
		this.game.prodigy.create.font(this.container, 30, 30, this.surveyData.question, {
			width: this.container.width - 60,
			align: "center",
			size: 40
		}), _.shuffle(this.surveyData.answers);
		for (var e = 0; e < this.surveyData.answers.length; e++) {
			var t = e > 0 ? this.answers[e - 1].y + this.answers[e - 1].height + 15 : 150;
			this.answers[e] = new Prodigy.Control.CheckBoxButton(this.game, this.container, 155, t, 900, this.surveyData.answers[e], this.onAnswerClicked.bind(this), !0)
		}
	},
	setupImage: function () {},
	setupImagePool: function () {
		if (Util.isDefined(this.header) || (this.header = this.game.prodigy.create.font(this.container, 30, 30, this.surveyData.question, {
				width: this.container.width - 60,
				align: "center",
				size: 40
			})), this.currentPage = Util.isDefined(this.currentPage) ? this.currentPage + 1 : 0, this.currentPage === this.surveyData.poolSize - 1) this.doneButton.setText("Done!");
		else if (this.currentPage >= this.surveyData.poolSize) return this.answers.push({
			selected: this.answer1.selected,
			answerData: this.answer1.answerData
		}), this.answers.push({
			selected: this.answer2.selected,
			answerData: this.answer2.answerData
		}), this.onClose.call(this), void 0;
		this.doneButton.setEnabled(!1);
		for (var e = [], t = 0; t < this.surveyData.poolSize; t++) e.push(t + 1);
		var i = Math.floor(Math.random() * e.length),
			a = Math.floor(Math.random() * e.length);
		a === i && (a = 0 === i ? Math.floor(Math.random() * (e.length - 1)) + 1 : i - 1);
		var s = this.surveyData.poolTags[this.currentPage] + "/" + e[i],
			r = this.surveyData.poolTags[this.currentPage] + "/" + e[a];
		if (!Util.isDefined(this.wildImageIds)) {
			this.wildImageIds = [];
			for (var t = 0; t < this.surveyData.wildSize; t++) this.wildImageIds.push(t + 1);
			_.shuffle(this.wildImageIds)
		}
		this.wildImageIds.length > 0 && (e[0] === this.surveyData.poolSize && Math.random() > .5 ? (s = "wild/" + this.wildImageIds[0], this.wildImageIds.splice(0, 1)) : e[1] === this.surveyData.poolSize && Math.random() > .5 && (r = "wild/" + this.wildImageIds[0], this.wildImageIds.splice(0, 1))), Util.isDefined(this.image1) && this.image1.destroy(), Util.isDefined(this.image2) && this.image2.destroy(), this.image1 = this.container.add(this.game.prodigy.create.sprite(350, 200, "popup-toy-survey", s)), this.image2 = this.container.add(this.game.prodigy.create.sprite(650, 200, "popup-toy-survey", r)), Util.isDefined(this.answer1) && (this.answers.push({
			selected: this.answer1.selected,
			answerData: this.answer1.answerData
		}), this.answer1.destroy()), Util.isDefined(this.answer2) && (this.answers.push({
			selected: this.answer2.selected,
			answerData: this.answer2.answerData
		}), this.answer2.destroy()), this.answer1 = new Prodigy.Control.CheckBoxButton(this.game, this.container, 420, 400, 40, {
			id: this.game.prodigy.player.appearance.getGender() + "-" + s + "-" + r
		}, this.onImageSelected.bind(this), !0), this.answer2 = new Prodigy.Control.CheckBoxButton(this.game, this.container, 720, 400, 40, {
			id: this.game.prodigy.player.appearance.getGender() + "-" + r + "-" + s
		}, this.onImageSelected.bind(this), !0)
	},
	setupFeedback: function () {},
	onImageSelected: function (e) {
		this.answer1.setSelected(!1), this.answer2.setSelected(!1), e.setSelected(!0), this.doneButton.setEnabled(!0)
	},
	onClose: function () {
		this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "pop");
		var e = this.game.add.tween(this.container).to({
			y: 720
		}, 600, Phaser.Easing.Back.In, !0);
		e.onComplete.add(function () {
			for (var e = 0; e < this.answers.length; e++)
				if (this.answers[e].selected) {
					Util.log("SurveyID:" + this.surveyData.id + "  -- Answer selected: " + this.answers[e].answerData.id), this.game.prodigy.network.sendAnalytics("Survey-" + this.surveyData.id, "" + this.answers[e].answerData.id, "Surveys");
					try {
						this.game.prodigy.network.sendEvent("survey-results", {
							survey: this.surveyData.id,
							answer: Util.strip(this.answers[e].answerData.id)
						})
					} catch (t) {}
				} this.game.prodigy.open.gotItem([{
				type: "item",
				ID: 25,
				N: 1
			}]), this.game.prodigy.player.setSurvey(this.surveyData.id), this.game.prodigy.surveyController.updateData(), this.destroy()
		}, this)
	}
}), Prodigy.Menu.BountyBoard = function (e, t) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.create()
}, Prodigy.extends(Prodigy.Menu.BountyBoard, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.BountyBoard,
	create: function () {
		this.addTransparent(), this.createBaseSetup(27, 16, "shine", null, null, !0);
		var e = this.game.prodigy.create.element(this, -5, 20);
		e.add(this.game.prodigy.create.sprite(145, 60, "core", "board-corner"));
		for (var t = 0; 21 > t; t++) e.add(this.game.prodigy.create.sprite(225 + 40 * t, 60, "core", "board-top")), e.add(this.game.prodigy.create.sprite(225 + 40 * t, 100, "core", "board-panel-mid"));
		e.add(this.game.prodigy.create.sprite(1065, 60, "core", "board-corner2")), this.content = this.game.prodigy.create.element(this, e.x, e.y), this.game.prodigy.create.panel(e, 145, 140, 25, 12, "board-panel"), Prodigy.RenderMenu.prototype.create.call(this)
	},
	process: function () {
		Prodigy.RenderMenu.prototype.process.call(this), this.content.removeAll(!0), this.content.add(this.game.prodigy.create.sprite(128, 107, "core", "lantern")), this.content.add(this.game.prodigy.create.sprite(1104, 107, "core", "lantern")), this.cont = [1, 2, 3];
		for (var e = 0; e < this.game.prodigy.player.state.get("world-bounties").length; e++) this.cont[e] = new Prodigy.Container.BountyContainer(this.game, this, 205 + 300 * e, 150, {
			seed: this.game.prodigy.player.state.get("world-bounties")[e]
		}, e)
	}
}), Prodigy.MailModel = function () {
	var e = -1;
	Object.defineProperty(this, "id", {
		get: function () {
			return e
		}
	});
	var t = "";
	Object.defineProperty(this, "subject", {
		get: function () {
			return t
		}
	});
	var i = !1;
	Object.defineProperty(this, "isOpened", {
		get: function () {
			return i
		}
	});
	var a = "";
	Object.defineProperty(this, "image", {
		get: function () {
			return a
		}
	});
	var s = "";
	Object.defineProperty(this, "message", {
		get: function () {
			return s
		}
	});
	var r = "";
	Object.defineProperty(this, "attachments", {
		get: function () {
			return r
		}
	});
	var o = null;
	Object.defineProperty(this, "data", {
		get: function () {
			return o
		},
		set: function (n) {
			Util.isDefined(n) && (e = n.id, t = n.subject, i = n.isOpened, a = n.image, s = n.message, r = n.attachments), o = n
		}
	})
}, Prodigy.MailModel.prototype = {
	constructor: Prodigy.MailModel
}, Prodigy.MailView = function (e, t, i, a, s, r) {
	this.menu = t, this.model = new Prodigy.MailModel, this.container = e.prodigy.create.element(i, s, r), this.id = a, this.game = e;
	var o = 24,
		n = 2,
		h = {
			x: 11,
			y: 15
		},
		l = e.prodigy.create.panel(this.container, 0, 0, o, n, "white");
	l.setClickable(this.open.bind(this), null, null, null);
	var d = 40,
		p = 40 * (o - 4) - d,
		c = e.prodigy.create.font(this.container, 11 + d, 5, "", {
			size: 30,
			width: p,
			align: "left",
			lineHeight: 38
		});
	this.setSubject = function (e) {
		c.setText(e)
	}, this.cmdDelete = e.prodigy.create.button(this.container, 40 * (o - 2) + 20, h.y, "icons-menu", "mail-delete", this.deleteMail.bind(this), null, null, !1, 50, 50), this.cmdOpen = e.prodigy.create.button(this.container, this.cmdDelete.x - this.cmdDelete.width - 20, h.y, "icons-menu", "mail-open", this.open.bind(this));
	var g = this.container.add(this.game.prodigy.create.sprite(5, 5, "icons-menu", "indicator"));
	this.showIndicator = function () {
		g.visible = !0
	}, this.hideIndicator = function () {
		g.visible = !1
	}, e.broadcaster.addAppListener(Prodigy.Events.Mailer.DELETE_MAIL_SUCCESSFUL, this.deleteMailSuccessful.bind(this), this, "ProdigyMailView" + a, !1)
}, Prodigy.MailView.prototype = {
	constructor: Prodigy.MailView,
	render: function () {
		if (this.container.visible = Util.isDefined(this.model.data), this.container.visible) {
			var e = this.model.data;
			this.setSubject(e.subject), e.isOpened ? this.hideIndicator() : this.showIndicator()
		}
	},
	open: function () {
		var e = this.model.data;
		e.isOpened ? this.openMailSuccess(e, !0) : (this.game.input.enabled = !1, e.isOpened = !0, this.game.broadcaster.broadcast(Prodigy.Events.Mailer.MARK_AS_READ, "ProdigyMailView", [this.openMailSuccess.bind(this, e, !1), e]), this.game.broadcaster.broadcast(Prodigy.Events.Mailer.MARK_AS_READ, "ProdigyMailer", [this.id]))
	},
	openMailSuccess: function (e, t) {
		this.game.input.enabled = !0, this.render(), this.menu.setActive(!1), this.game.prodigy.open.mailerOpenMail(e, t, this.returnToMailer.bind(this, !0))
	},
	returnToMailer: function (e, t) {
		Util.isDefined(t) && t(), this.menu.refreshUI(this.id), this.menu.setActive(e)
	},
	deleteMail: function () {
		var e = function (e, t) {
			e.input.enabled = !1, e.broadcaster.broadcast(Prodigy.Events.Mailer.DELETE_MAIL, "ProdigyMailer", [t.model.data, t.id])
		};
		this.model.isOpened ? e(this.game, this) : (this.menu.setActive(!1), this.game.prodigy.open.messageBox("Are you sure you want to delete? It may contain something cool!", this.returnToMailer.bind(this, !0, e.bind(this, this.game, this)), this.returnToMailer.bind(this, !0, null)))
	},
	deleteMailSuccessful: function () {
		this.game.input.enabled = !1, this.model.data = null, this.render()
	}
}, Prodigy.Menu.Mailer = function (e, t, i) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.onClose = i, this.offset = 0, this.mailPerPage = 4, this.pages = 3, this.totalMail = {}, this.mailViews = [this.mailPerPage], this.mail = [], this.create()
}, Prodigy.extends(Prodigy.Menu.Mailer, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.Mailer,
	create: function () {
		this.addTransparent();
		var e = 20,
			t = 6,
			i = 3,
			a = 32 - t,
			s = 18 - i,
			r = 22,
			o = 40 * a - r,
			n = 40 * s - r;
		this.form = this.game.prodigy.create.element(this, .5 * (1280 - 40 * a), e);
		var h = this.game.prodigy.create.element(this.form, 0, 0);
		this.game.prodigy.create.panel(h, 0, 0, a, s, "shine");
		var l = .5 * r,
			d = 4,
			p = 7;
		h.add(new Phaser.TileSprite(this.game, l, 40 * d - l, o, 40, "core", "blue-top")), h.add(new Phaser.TileSprite(this.game, l, 40 * (d + 1) - l, o, 40 * p, "core", "blue-mid")), h.add(new Phaser.TileSprite(this.game, l, 40 * (d + p + 1) - l, o, 40, "core", "blue-top2")), this.game.prodigy.create.panel(h, 40, 40, a - 2, 2, "banner"), this.game.prodigy.create.font(this.form, 0, 60, "Your Mail", {
			size: 30,
			width: o,
			align: "center",
			lineHeight: 38
		}), this.game.prodigy.create.button(this.form, o - 18, -10, "icons", "close", this.close.bind(this)), h.add(this.game.prodigy.create.sprite(100, 30, "icons-menu", "mail")), this.mailCounterBG = h.add(this.game.prodigy.create.sprite(180, 55, "icons-menu", "unread-bg-0")), this.mailCounterBG.visible = !1, this.mailCounter = this.game.prodigy.create.font(h, 180, 64, "", {
			size: 20,
			width: 46,
			align: "center",
			lineHeight: 46
		}), this.nextPage = this.game.prodigy.create.button(this.form, o - 40, n - 30, "icons-menu", "up-circle-arrow", this.loadPage.bind(this, this.mailPerPage)), this.nextPage.addOverlay(8, -49, "icons-menu", "indicator"), this.nextPage.sprite.rotateMiddleBased(90), this.prevPage = this.game.prodigy.create.button(this.form, o - 125 - 25, n - 30, "icons-menu", "up-circle-arrow", this.loadPage.bind(this, -this.mailPerPage)), this.prevPage.addOverlay(8, -49, "icons-menu", "indicator"), this.prevPage.sprite.rotateMiddleBased(-90), this.nextPage.setInactive(), this.nextPage.spriteOverlay.visible = !1, this.prevPage.setInactive(), this.prevPage.spriteOverlay.visible = !1;
		for (var c = 0; c < this.mailPerPage; c++) this.mailViews[c] = new Prodigy.MailView(this.game, this, h, c, 40, 85 * c + 160), this.mailViews[c].render();
		this.game.broadcaster.addAppListener(Prodigy.Events.Mailer.DELETE_MAIL_SUCCESSFUL, this.deleteMailSuccessful.bind(this), this, "ProdigyMailer", !1), this.game.broadcaster.addAppListener(Prodigy.Events.Mailer.MARK_AS_READ, this.markAsReadSuccessful.bind(this), this, "ProdigyMailer", !1), this.game.broadcaster.broadcast(Prodigy.Events.Mailer.GET_TOTAL_MAIL, "ProdigyMailer", [this.setupMailCounters.bind(this)]), Prodigy.RenderMenu.prototype.create.call(this)
	},
	setupMailCounters: function (e) {
		this.totalMail = e, this.game.broadcaster.broadcast(Prodigy.Events.Mailer.GET_ALL_MAIL, "ProdigyMailer", [this.setupMail.bind(this), this.offset, 0 === this.offset ? 2 * this.mailPerPage : this.mailPerPage])
	},
	updateMailCounters: function () {
		if (Util.isDefined(this.mailCounter)) {
			var e = this.totalMail.totalUnread > 99 ? "99+" : "" + this.totalMail.totalUnread;
			this.totalMail.totalUnread > 0 ? (this.mailCounter.setText(e), this.mailCounterBG.visible = !0) : (this.mailCounter.setText(""), this.mailCounterBG.visible = !1), this.game.broadcaster.broadcast(Prodigy.Events.Mailer.UPDATE_MAIL_COUNTERS, "ProdigyMailerButton", [this.totalMail])
		}
	},
	setupMail: function (e) {
		if (Util.log("Setup Mail: " + this.offset, Util.DEV), Util.isDefined(e))
			for (var t = 0; t < e.length; t++) this.mail.indexOf(e[t]) < 0 && this.mail.push(e[t]);
		this.refreshUI(0)
	},
	refreshUI: function (e) {
		this.updateMailCounters(), this.setupMailViews(e), this.renderPaginationButtons(this.hasPreviousUnread(), this.hasNextUnread()), this.game.input.enabled = !0
	},
	setupMailViews: function (e) {
		var t, i = 0;
		for (0 !== e || Util.isDefined(this.mail[this.offset]) || (this.offset = Math.max(0, this.offset - this.mailPerPage)), t = this.offset + e; t < this.offset + this.mailPerPage; t++) i = t % this.mailPerPage, this.mailViews[i].model.data = this.mail[t], this.mailViews[i].render()
	},
	hasPreviousUnread: function () {
		for (var e = 0; e < this.offset; e++)
			if (Util.isDefined(this.mail[e]) && !this.mail[e].isOpened) return !0;
		return !1
	},
	hasNextUnread: function () {
		for (var e = 0, t = 0; t < this.mail.length; t++) this.mail[t].isOpened || e++;
		return parseInt(this.totalMail.totalUnread) - e >= 0
	},
	renderPaginationButtons: function (e, t) {
		this.offset > 0 ? this.prevPage.setActive() : (this.prevPage.setInactive(), e = !1), Util.isDefined(this.mail[this.offset + this.mailPerPage]) ? this.nextPage.setActive() : (this.nextPage.setInactive(), t = !1), this.prevPage.spriteOverlay.visible = e, this.nextPage.spriteOverlay.visible = t
	},
	loadPage: function (e) {
		if (this.game.input.enabled = !1, this.offset += e, 0 > e) this.setupMail(null);
		else {
			var t = 0 === this.offset ? 2 * this.mailPerPage : this.mailPerPage;
			this.offset + t + 1 > this.mail.length ? this.game.broadcaster.broadcast(Prodigy.Events.Mailer.GET_ALL_MAIL, "ProdigyMailer", [this.setupMail.bind(this), this.offset > 0 ? this.offset + this.mailPerPage : this.offset, this.mailPerPage]) : this.setupMail(null)
		}
	},
	deleteMailSuccessful: function (e, t, i) {
		this.mail.splice(this.offset + t, 1), this.mail.length > this.mailPerPage && this.game.broadcaster.broadcast(Prodigy.Events.Mailer.GET_ALL_MAIL, "ProdigyMailer", [this.setupMail.bind(this), this.mail.length, 1]), i || (this.totalMail.totalUnread = Math.max(0, --this.totalMail.totalUnread)), this.refreshUI(t)
	},
	markAsReadSuccessful: function (e) {
		this.totalMail.totalUnread = Math.max(0, --this.totalMail.totalUnread), this.refreshUI(e)
	},
	close: function () {
		this.game.broadcaster.removeAppListener(Prodigy.Events.Mailer.DELETE_MAIL_SUCCESSFUL, this, "ProdigyMailer"), this.game.broadcaster.removeAppListener(Prodigy.Events.Mailer.MARK_AS_READ, this, "ProdigyMailer");
		for (var e = 0; e < this.mailPerPage; e++) this.game.broadcaster.removeAppListener(Prodigy.Events.Mailer.DELETE_MAIL_SUCCESSFUL, this.mailViews[e], "ProdigyMailView" + e);
		Util.isDefined(this.onClose) && this.onClose(), Prodigy.RenderMenu.prototype.close.call(this)
	}
}), Prodigy.Menu.Mailer.MAIL = [{
	id: 0,
	subject: "Hello World 0",
	isOpened: !1,
	image: null,
	message: "The answer to the ultimate question of life, the universe, and everything is 42.",
	attachments: [{
		type: "item",
		ID: 1
	}, {
		type: "item",
		ID: 2
	}, {
		type: "item",
		ID: 3
	}, {
		type: "item",
		ID: 4
	}, {
		type: "item",
		ID: 5
	}]
}, {
	id: 1,
	subject: "Hello World 1",
	isOpened: !1,
	image: null,
	message: "The answer to the ultimate question of life, the universe, and everything is 42.",
	attachments: [{
		type: "item",
		ID: 1
	}, {
		type: "item",
		ID: 2
	}, {
		type: "item",
		ID: 3
	}, {
		type: "item",
		ID: 4
	}]
}, {
	id: 2,
	subject: "Hello World 2",
	isOpened: !1,
	image: null,
	message: "The answer to the ultimate question of life, the universe, and everything is 42.",
	attachments: [{
		type: "item",
		ID: 1
	}, {
		type: "item",
		ID: 2
	}]
}, {
	id: 3,
	subject: "Hello World 3",
	isOpened: !1,
	image: null,
	message: "The answer to the ultimate question of life, the universe, and everything is 42.",
	attachments: [{
		type: "item",
		ID: 1
	}]
}, {
	id: 4,
	subject: "Hello World 4",
	isOpened: !1,
	image: null,
	message: "The answer to the ultimate question of life, the universe, and everything is 42.",
	attachments: []
}], Prodigy.Menu.Mailer.TOTAL_MAIL = {
	totalUnread: Prodigy.Menu.Mailer.MAIL.length
}, Prodigy.Menu.OpenMail = function (e, t, i, a, s) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.onClose = s, this.create(i, a)
}, Prodigy.extends(Prodigy.Menu.OpenMail, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.OpenMail,
	create: function (e, t) {
		this.addTransparent();
		var i = 20,
			a = 8,
			s = 1,
			r = 32 - a,
			o = 2,
			n = r - 2 * o,
			h = 2,
			l = 1,
			d = Math.floor(40 * r / 50) - 2 * l,
			p = 3,
			c = 5,
			g = 18 - s,
			u = 11,
			y = 40 * r - u,
			m = 20;
		this.form = this.game.prodigy.create.element(this, .5 * (1280 - 40 * r), i);
		var f = this.game.prodigy.create.element(this.form, 0, 0);
		this.game.prodigy.create.panel(f, 0, 0, r, g, "white"), this.game.prodigy.create.button(this.form, y - 18, -10, "icons", "close", this.close.bind(this));
		var b = this.game.prodigy.create.panel(f, 40 * o, u, n, h, "shine2");
		this.game.prodigy.create.font(b, m, m, e.subject, {
			size: 30,
			width: 40 * n - 2 * m,
			align: "center",
			lineHeight: 38
		});
		var v = this.game.prodigy.create.panel(f, 50 * l + c, b.y + 40 * h + u, 17, p, "panel-light");
		this.game.prodigy.create.font(v, m, m, e.message, {
			size: 20,
			width: 50 * d - c - 2 * m,
			align: "left",
			lineHeight: 38
		});
		var w = e.image || "letter-mail-open-image";
		0 !== w.indexOf("letter-") && (w = "letter-" + w), this.mailDataImage = this.game.prodigy.create.sprite(.5 * y, v.y + 50 * p + u, w, null, !0, this.onLetterImageLoaded.bind(this, u)), this.mailDataImage.anchor.setTo(.5, 0), f.add(this.mailDataImage);
		var P = Util.isDefined(e.attachments) ? e.attachments.length : 0,
			x = 22,
			D = 160,
			I = (2 * x + P * D - y) / -(P + 1);
		this.cards = this.game.prodigy.create.element(f, x + Math.floor(.5 * u), this.mailDataImage.y + 200 + u), this.itemPanels = [];
		for (var k = 0; P > k; k++) this.itemPanels.push(this.game.prodigy.create.item(this.cards, Math.floor((k + 1) * I + k * D), 0, e.attachments[k], "card"));
		Prodigy.RenderMenu.prototype.create.call(this), !t && P > 0 && this.game.prodigy.open.gotItem(e.attachments)
	},
	onLetterImageLoaded: function (e) {
		Util.isDefined(this.mailDataImage) && (this.mailDataImage.anchor.setTo(.5, 0), Util.isDefined(this.cards) && (this.cards.y = this.mailDataImage.y + this.mailDataImage.height + e))
	},
	close: function () {
		Util.isDefined(this.onClose) && this.onClose(), Prodigy.RenderMenu.prototype.close.call(this)
	}
}), Prodigy.Menu.FriendsList.AddFriendByUser = function (e, t) {
	this.game = e;
	var i = 20,
		a = 10,
		s = 6,
		r = 40 * a,
		o = 40 * s,
		n = .5 * r,
		h = 640,
		l = 360,
		d = -10,
		p = e.prodigy.create.element(t, 0, 0);
	Util.centreObject(p, h, l, r, o), e.prodigy.create.panel(p, 0, 0, a, s, "shine");
	var c = e.prodigy.create.button(p, 0, d, "icons", "close", null);
	c.x = r - .5 * c.width + d;
	var g = e.prodigy.create.font(p, 0, i, "Enter your friend's username here!", {
		align: "center",
		size: 20,
		font: "black",
		width: Prodigy.Control.InputField.WIDTH_MEDIUM
	});
	Util.centreObject(g, n, null, Prodigy.Control.InputField.WIDTH_MEDIUM, null);
	var u = g.y + g.height + i,
		y = Prodigy.Control.InputField.createInputField(e, p, "fl-username", "", n, u, Prodigy.Control.InputField.WIDTH_MEDIUM, Prodigy.Control.InputField.HEIGHT_MEDIUM, "text2g");
	y.setFocus(!0), Util.centreObject(y, h, l, Prodigy.Control.InputField.WIDTH_MEDIUM, Prodigy.Control.InputField.HEIGHT_MEDIUM);
	var m = e.prodigy.create.textButton(p, 0, u + Prodigy.Control.InputField.HEIGHT_MEDIUM + i, {
		text: "ok!",
		size: Prodigy.Control.TextButton.CONFIRM
	}, null);
	Util.centreObject(m, n, null, Prodigy.Control.TextButton.CONFIRM, null)
}, Prodigy.Menu.FriendsList.AddFriendByUser.prototype = {
	constructor: Prodigy.Menu.FriendsList.AddFriendByUser
}, Prodigy.Menu.FriendsList = function (e, t, i) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.onClose = i, this.friendsPerPage = 8, this.currentFriendIndex = 0, this.maxFriendIndex = 0, this.create(), e.broadcaster.addAppListener(Prodigy.Events.FriendsList.REQUEST_SENT, this.refreshUI.bind(this), this, "FriendsList", !1), e.broadcaster.addAppListener(Prodigy.Events.FriendsList.REQUEST_RECEIVED, this.refreshUI.bind(this), this, "FriendsList", !1), e.broadcaster.addAppListener(Prodigy.Events.FriendsList.REQUEST_CANCELLED, this.refreshUI.bind(this), this, "FriendsList", !1), e.broadcaster.addAppListener(Prodigy.Events.FriendsList.REQUEST_ACCEPTED, this.refreshUI.bind(this), this, "FriendsList", !1), e.broadcaster.addAppListener(Prodigy.Events.FriendsList.REQUEST_REJECTED, this.refreshUI.bind(this), this, "FriendsList", !1), e.broadcaster.addAppListener(Prodigy.Events.FriendsList.FRIEND_REMOVED, this.refreshUI.bind(this), this, "FriendsList", !1)
}, Prodigy.extends(Prodigy.Menu.FriendsList, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.FriendsList,
	create: function () {
		this.addTransparent();
		var e = 20,
			t = 1,
			i = 1,
			a = 32 - t,
			s = 18 - i,
			r = 22,
			o = 40 * a - r;
		this.form = this.game.prodigy.create.element(this, .5 * (1280 - 40 * a), e);
		var n = this.game.prodigy.create.element(this.form, 0, 0);
		this.game.prodigy.create.panel(n, 0, 0, a, s, "shine");
		var h = .5 * r,
			l = 5,
			d = 7;
		n.add(new Phaser.TileSprite(this.game, h, 40 * l - h, o, 40, "core", "blue-top")), n.add(new Phaser.TileSprite(this.game, h, 40 * (l + 1) - h, o, 40 * (d + 2) + h, "core", "blue-mid")), n.add(new Phaser.TileSprite(this.game, h, 40 * (l + d + 3), o, 40, "core", "blue-top2")), this.game.prodigy.create.panel(n, 40, 40, a - 2, 2, "banner"), this.game.prodigy.create.font(this.form, 0, 60, "FRIENDS LIST", {
			font: "button",
			size: 36,
			width: o,
			align: "center",
			lineHeight: 38
		});
		var p = 40 * (l - 2) - h + r;
		this.friendsView = [];
		for (var c = 0; c < this.friendsPerPage; c++) {
			var g = 210 * Math.floor(c / 2) + 195,
				u = c % 2 === 0 ? 210 : 425,
				y = new Prodigy.Menu.FriendsList.FriendModel(this.game.prodigy.friendsListNetworkHandler.friendsList[c]);
			this.friendsView[c] = new Prodigy.Menu.FriendsList.FriendView(this.game, y, n, g, u)
		}
		var m = function () {
			this.setActive(!1), this.game.prodigy.open.friendRequests(this.returnToFriendsList.bind(this, !0, null))
		}.bind(this);
		this.cmdFriendRequests = this.game.prodigy.create.textButton(n, 2 * r, p, {
			size: Prodigy.Control.TextButton.LG,
			text: "friend requests"
		}, m), this.renderFriendRequestsIndicator(), this.game.prodigy.create.button(this.form, o - 18, -10, "icons", "close", this.close.bind(this));
		var f = 200;
		this.friendsCounter = this.game.prodigy.create.font(n, o - r, 0, "00/20 Friends", {
			font: "black",
			width: f,
			align: "center"
		}), this.renderFriendsCounter(), this.friendsCounter.y = this.cmdFriendRequests.y + .5 * this.cmdFriendRequests.height - .5 * this.friendsCounter.height, this.friendsCounter.x -= this.friendsCounter.width + r;
		var b = 40 * l + 20 * d + 40;
		this.prevPage = this.game.prodigy.create.button(n, 68, b, "icons-menu", "up-circle-arrow", this.changeFriendsIndex.bind(this, -2)), this.nextPage = this.game.prodigy.create.button(n, o - 41, b, "icons-menu", "up-circle-arrow", this.changeFriendsIndex.bind(this, 2)), this.prevPage.sprite.rotateMiddleBased(-90), this.nextPage.sprite.rotateMiddleBased(90), this.refreshUI(), Prodigy.RenderMenu.prototype.create.call(this)
	},
	close: function () {
		this.game.broadcaster.removeAppListener(Prodigy.Events.FriendsList.REQUEST_SENT, this, "FriendsList"), this.game.broadcaster.removeAppListener(Prodigy.Events.FriendsList.REQUEST_RECEIVED, this, "FriendsList"), this.game.broadcaster.removeAppListener(Prodigy.Events.FriendsList.REQUEST_CANCELLED, this, "FriendsList"), this.game.broadcaster.removeAppListener(Prodigy.Events.FriendsList.REQUEST_ACCEPTED, this, "FriendsList"), this.game.broadcaster.removeAppListener(Prodigy.Events.FriendsList.REQUEST_REJECTED, this, "FriendsList"), this.game.broadcaster.removeAppListener(Prodigy.Events.FriendsList.FRIEND_REMOVED, this, "FriendsList"), Prodigy.RenderMenu.prototype.close.call(this)
	},
	returnToFriendsList: function (e, t) {
		Util.isDefined(t) && t(), this.setActive(e)
	},
	refreshUI: function () {
		this.renderFriendsCounter(), this.renderFriendRequestsIndicator(), this.renderFriendsList(), this.renderPaginationButtons()
	},
	renderFriendsCounter: function () {
		var e = this.game.prodigy.friendsListNetworkHandler;
		this.friendsCounter.setText("" + e.totalFriends + "/" + e.friendsCap + " Friends")
	},
	renderFriendRequestsIndicator: function () {
		var e = this.game.prodigy.friendsListNetworkHandler.pendingRequests > 0;
		if (e) {
			if (!Util.isDefined(this.cmdFriendRequests.bg.indicator)) {
				var t = this.game.prodigy.create.indicator(0, 0),
					i = this.cmdFriendRequests.bg;
				i.addChild(t), i.indicator = t, t.visible = !1;
				var a = Util.getCenteredXY(t.width, 0, i.x, 0, i.width, 0);
				t.x = a.x, t.y = i.y - t.height, t.addTween()
			}
			this.cmdFriendRequests.bg.indicator.visible = !0
		} else Util.isDefined(this.cmdFriendRequests.bg.indicator) && (this.cmdFriendRequests.bg.indicator.visible = !1)
	},
	renderFriendsList: function () {
		var e = [];
		this.friendsPerPage - 2 === this.game.prodigy.friendsListNetworkHandler.friendsList.length - this.currentFriendIndex && (this.currentFriendIndex = Math.max(this.currentFriendIndex - 2, 0));
		for (var t = 0; t < this.friendsPerPage; t++) {
			var i = this.game.prodigy.friendsListNetworkHandler.friendsList[this.currentFriendIndex + t];
			this.friendsView[t].updateModel(i), Util.isDefined(i) && e.push(i)
		}
		e.length > 0 && this.game.prodigy.friendsListNetworkHandler.getUserAppearance(e)
	},
	renderPaginationButtons: function () {
		this.updateMaxFriendIndex(), 0 === this.currentFriendIndex ? this.prevPage.setInactive() : this.prevPage.setActive(), this.currentFriendIndex >= this.maxFriendIndex ? this.nextPage.setInactive() : this.nextPage.setActive()
	},
	getTotalFriends: function () {
		return Util.isDefined(this.game.prodigy.friendsListNetworkHandler.friendsList) ? this.game.prodigy.friendsListNetworkHandler.friendsList.length : 0
	},
	updateMaxFriendIndex: function () {
		var e = this.getTotalFriends();
		this.maxFriendIndex = e > this.friendsPerPage ? 2 * Math.ceil(.5 * (e - this.friendsPerPage)) : 0
	},
	changeFriendsIndex: function (e) {
		this.updateMaxFriendIndex(), this.currentFriendIndex = Phaser.Math.clamp(this.currentFriendIndex + e, 0, this.maxFriendIndex), this.refreshUI()
	}
}), Prodigy.Menu.FriendsList.FriendModel = function (e) {
	this.userID = e, this.status = 0, this.appearance = null, this.isMember = null, this.data = null
}, Prodigy.Menu.FriendsList.FriendModel.prototype = {
	constructor: Prodigy.Menu.FriendsList.FriendModel
}, Prodigy.Menu.FriendsList.FriendView = function (e, t, i, a, s) {
	Prodigy.Control.Element.call(this, e, i, a, s), this.model = JSON.parse(JSON.stringify(t)), this.cardModel = null, this.listenerActive = !1, this.setupEquipment(), this.setup(), this.onDestroy.add(this.stopListeners, this), this.startListeners()
}, Prodigy.extends(Prodigy.Menu.FriendsList.FriendView, Prodigy.Control.Element, {
	constructor: Prodigy.Menu.FriendsList.FriendView,
	setup: function () {
		this.emptyPanel = this.game.prodigy.create.panel(this, 0, 0, 5, 5, "empty"), this.panel = this.game.prodigy.create.panel(this, 0, 0, 5, 5, "button"), this.waiting = this.game.prodigy.create.panel(this, 0, 0, 5, 5, "button");
		for (var e = 0; e < this.waiting._imgs.length; e++) this.waiting._imgs[e].alpha = .5;
		this.waiting.visible = !1, this.add(this.waiting), this.collisionBlock = this.game.prodigy.create.sprite(0, 0, "core", "empty", !1, null, 200, 200), this.collisionBlock.inputEnabled = !0, this.collisionBlock.events.onInputDown.add(this.onDown, this), this.collisionBlock.events.onInputUp.add(this.onUp, this), this.collisionBlock.events.onInputOver.add(this.onOver, this), this.collisionBlock.events.onInputOut.add(this.onOut, this), this.add(this.collisionBlock), this.playerName = this.game.prodigy.create.font(this.panel, 10, 165, "loading", {
			size: 16,
			width: 175
		}), this.memberIcon = this.game.prodigy.create.font(this.panel, 10, 10, "[membership]"), this.memberIcon.visible = !1, this.level = this.game.prodigy.create.font(this.panel, 100, 10, " ", {
			size: 36,
			font: "button"
		}), this.level.scale.setTo(.7, .7), this.panel.visible = Util.isDefined(this.model), this.emptyPanel.visible = !this.panel.visible
	},
	setupEquipment: function () {
		Util.isDefined(this.model) ? (this.cardModel = JSON.parse(JSON.stringify(this.model)), delete this.model.equipment) : this.cardModel = null, Util.isDefined(this.player) && (this.player.equipment = new Equipment)
	},
	updateModel: function (e) {
		if (this.listenerActive && this.stopListeners(), this.model = Util.isDefined(e) ? JSON.parse(JSON.stringify(e)) : null, this.setupEquipment(), this.startListeners(), Util.isDefined(this.model) === !1) return this.panel.visible = !1, this.waiting.visible = !1, this.emptyPanel.visible = !this.panel.visible, void 0;
		if (this.panel.visible = !0, this.emptyPanel.visible = !this.panel.visible, Util.isDefined(this.model.appearance)) {
			Util.isDefined(this.playerContainer) && this.playerContainer.destroy(), this.player = new Player(this.game), this.player.init(this.model), this.playerContainer = this.game.prodigy.create.player(this.panel, this.player, 2, 100, 215, !0), this.playerContainer.reload(), this.memberIcon.visible = Util.isDefined(this.model.isMember) && 0 !== this.model.isMember;
			var t = "Waiting: ",
				i = Util.isDefined(this.model.appearance.nick) && "" !== this.model.appearance.nick ? this.model.appearance.nick : this.model.appearance.name,
				a = "...";
			0 === this.model.status && (i = t + i), this.waiting.visible = 0 === this.model.status;
			for (var s = i.split(" "), r = 14, o = 9, n = "", h = "", l = 0; l < s.length; l++)
				if (0 === h.length && r >= n.length + s[l].length) n += s[l] + " ";
				else {
					if (!(o >= h.length + s[l].length)) {
						var d = o - h.length;
						h += s[l].substr(0, d) + a;
						break
					}
					h += s[l] + " "
				} h = h.trim();
			var p = n.length > 0 ? n.trim() + "\n" + h : h;
			this.playerName.setText(p), this.playerName.y = 145, this.panel.addChild(this.playerName), this.level.setText("$" + this.player.getLevel()), this.level.x = 185 - this.level.width
		}
	},
	startListeners: function () {
		Util.isDefined(this.model) && (this.game.broadcaster.addAppListener(Prodigy.Events.FriendsList.FRIENDS_APPEARANCE_UPDATED, this.updateModel.bind(this), this, "" + this.model.userID), this.listenerActive = !0)
	},
	stopListeners: function () {
		Util.isDefined(this.model) && (this.game.broadcaster.removeAppListener(Prodigy.Events.FriendsList.FRIENDS_APPEARANCE_UPDATED, this, "" + this.model.userID), this.listenerActive = !1)
	},
	onDown: function () {
		if (this.panel.visible) {
			if (this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "pop"), Util.isDefined(this.player) && Util.isDefined(this.cardModel)) {
				var e = new Player(this.game);
				e.init(this.cardModel), this.game.prodigy.open.card(e, !0)
			}
			this.panel.y = 0, this.waiting.y = 0
		}
	},
	onUp: function () {
		this.collisionBlock.input.pointerOver() && this.panel.visible && (this.panel.y = -3, this.waiting.y = -3)
	},
	onOver: function () {
		this.panel.visible && (this.panel.y = -3, this.waiting.y = -3)
	},
	onOut: function () {
		this.panel.visible && (this.panel.y = 0, this.waiting.y = 0)
	}
}), Prodigy.Menu.FriendRequests = function (e, t, i) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.onClose = i, this.friendRequests = [], this.requestControllers = [], this.requestViews = [], this.requestsPerPage = 4, this.offset = 0, this.create(), e.broadcaster.addAppListener(Prodigy.Events.FriendsList.GOT_FRIEND_REQUEST_LIST, this.setupFriendRequests.bind(this), this, "FriendsList", !1), e.broadcaster.addAppListener(Prodigy.Events.FriendsList.REQUEST_ACCEPTED, this.acceptRequestSuccessful.bind(this), this, "FriendsList", !1), e.broadcaster.addAppListener(Prodigy.Events.FriendsList.REQUEST_REJECTED, this.rejectRequestSuccessful.bind(this), this, "FriendsList", !1), e.broadcaster.addAppListener(Prodigy.Events.FriendsList.REQUEST_CANCELLED, this.requestCancelled.bind(this), this, "FriendRequests", !1), e.broadcaster.broadcast(Prodigy.Events.FriendsList.CLEAR_FRIEND_REQUESTS_CACHE, "FriendsList", []), this.loadPage(this.offset)
}, Prodigy.extends(Prodigy.Menu.FriendRequests, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.FriendRequests,
	create: function () {
		this.addTransparent();
		var e = 20,
			t = 14,
			i = 1,
			a = 32 - t,
			s = 18 - i,
			r = 22,
			o = 40 * a - r,
			n = 40 * s - r,
			h = .5 * r,
			l = 4,
			d = 8;
		this.form = this.game.prodigy.create.element(this, .5 * (1280 - 40 * a), e);
		var p = this.game.prodigy.create.element(this.form, 0, 0);
		this.game.prodigy.create.panel(p, 0, 0, a, s, "shine"), p.add(new Phaser.TileSprite(this.game, h, 40 * l - h, o, 40, "core", "blue-top")), p.add(new Phaser.TileSprite(this.game, h, 40 * (l + 1) - h, o, 40 * d, "core", "blue-mid")), p.add(new Phaser.TileSprite(this.game, h, 40 * (l + d + 1) - h, o, 40, "core", "blue-top2")), this.game.prodigy.create.panel(p, 40, 40, a - 2, 2, "banner"), this.game.prodigy.create.font(p, 0, 60, "Friend Requests", {
			size: 30,
			width: o,
			align: "center",
			lineHeight: 38
		}), this.game.prodigy.create.button(this.form, o - 18, -10, "icons", "close", this.close.bind(this));
		for (var c, g, u, y = 0; y < this.requestsPerPage; y++) c = new Prodigy.Menu.FriendRequest.FriendRequestModel, g = new Prodigy.Menu.FriendRequest.FriendRequestController(this.game, c, y), u = new Prodigy.Menu.FriendRequest.FriendRequestView(this.game, g, p, 0, 40 * l + 100 * y), u.render(null), Util.centreObject(u, .5 * o, null, 560, null), this.requestControllers.push(g), this.requestViews.push(u);
		var m = 40 * l + 40 * d,
			f = m + .5 * (n - m) + 35;
		this.prevPage = this.game.prodigy.create.button(p, 68, f, "icons-menu", "up-circle-arrow", this.loadPage.bind(this, -this.requestsPerPage)), this.nextPage = this.game.prodigy.create.button(p, o - 41, f, "icons-menu", "up-circle-arrow", this.loadPage.bind(this, this.requestsPerPage)), this.prevPage.sprite.rotateMiddleBased(-90), this.nextPage.sprite.rotateMiddleBased(90), this.prevPage.setInactive(), this.nextPage.setInactive()
	},
	close: function () {
		this.game.broadcaster.removeAppListener(Prodigy.Events.FriendsList.GOT_FRIEND_REQUEST_LIST, this, "FriendsList"), this.game.broadcaster.removeAppListener(Prodigy.Events.FriendsList.REQUEST_ACCEPTED, this, "FriendsList"), this.game.broadcaster.removeAppListener(Prodigy.Events.FriendsList.REQUEST_REJECTED, this, "FriendsList"), Util.isDefined(this.onClose) && this.onClose(), Prodigy.RenderMenu.prototype.close.call(this)
	},
	setupFriendRequests: function (e) {
		this.friendRequests = e, this.refreshUI()
	},
	refreshUI: function () {
		this.renderRequests(), this.renderPaginationButtons()
	},
	renderRequests: function () {
		var e, t = 0;
		for (this.offset === this.friendRequests.length && (this.offset = Math.max(0, this.offset - this.requestsPerPage)), e = this.offset; e < this.offset + this.requestsPerPage; e++) {
			t = e % this.requestsPerPage;
			var i = this.friendRequests[e];
			Util.isDefined(i) ? (this.requestControllers[t].setUserID(i.userID), this.requestControllers[t].setUsername(i.name), this.requestViews[t % this.requestsPerPage].render(i.name)) : this.requestViews[t % this.requestsPerPage].render(null)
		}
	},
	acceptRequestSuccessful: function (e, t) {
		this.requestViews[t].render(null), this.getNextRequest()
	},
	rejectRequestSuccessful: function (e, t) {
		this.requestViews[t].render(null), this.getNextRequest()
	},
	requestCancelled: function (e) {
		this.friendRequests = e, this.refreshUI()
	},
	getNextRequest: function () {
		this.friendRequests.length > this.requestsPerPage ? this.game.prodigy.friendsListNetworkHandler.getFriendRequestList(null, 1) : this.refreshUI()
	},
	renderPaginationButtons: function () {
		this.offset > 0 ? this.prevPage.setActive() : this.prevPage.setInactive(), Util.isDefined(this.friendRequests[this.offset + this.requestsPerPage]) ? this.nextPage.setActive() : this.nextPage.setInactive()
	},
	loadPage: function (e) {
		if (this.offset += e, 0 > e) this.setupFriendRequests(this.friendRequests);
		else {
			var t = 0 === this.offset ? 2 * this.requestsPerPage : this.requestsPerPage;
			this.offset + t + 1 > this.friendRequests.length ? this.game.prodigy.friendsListNetworkHandler.getFriendRequestList(this.offset > 0 ? this.offset + this.requestsPerPage : this.offset, 0 === this.offset ? 2 * this.requestsPerPage : this.requestsPerPage) : this.setupFriendRequests(this.friendRequests)
		}
	}
}), Prodigy.Menu.FriendRequest.FriendRequestModel = function () {
	this.userID = -1, this.username = ""
}, Prodigy.Menu.FriendRequest.FriendRequestModel.prototype = {
	constructor: Prodigy.Menu.FriendRequest.FriendRequestModel
}, Prodigy.Menu.FriendRequest.FriendRequestView = function (e, t, i, a, s) {
	Prodigy.Control.Element.call(this, e, i, 0, 0);
	var r = 14,
		o = 2,
		n = 40 * r,
		h = 40 * o,
		l = 10,
		d = 3,
		p = 28,
		c = 8,
		g = 20,
		u = 50,
		y = 20,
		m = e.prodigy.create.panel(this, a + l, s, r, o, "mail");
	m.add(e.prodigy.create.sprite(d, d, "icons", "mail-heart")), e.prodigy.create.font(m, d + p + c, c, "Add friend?", {
		size: 16
	}), this.mainText = e.prodigy.create.font(m, g, .5 * h, "", {
		font: "black",
		size: 20
	});
	var f = e.prodigy.create.button(m, n - u - g, 0, "icons", "close", this.game.prodigy.open.confirm.bind(this.game.prodigy.open, "Are you sure you want to cancel this friend request?", t.rejectRequest.bind(t), null, null, "Removing Friend Request"));
	Util.centreObject(f, null, .5 * h, null, f.height);
	var b = e.prodigy.create.button(m, f.x - u - y, 0, "icons", "yes", t.acceptRequest.bind(t));
	Util.centreObject(b, null, .5 * h, null, b.height)
}, Prodigy.extends(Prodigy.Menu.FriendRequest.FriendRequestView, Prodigy.Control.Element, {
	constructor: Prodigy.Menu.FriendRequest.FriendRequestView,
	render: function (e) {
		this.visible = Util.isDefined(e), this.visible && this.mainText.setText(e)
	}
}), Prodigy.Menu.FriendRequest.FriendRequestController = function (e, t, i) {
	this.game = e, this.model = t, this.requestID = i
}, Prodigy.Menu.FriendRequest.FriendRequestController.prototype = {
	constructor: Prodigy.Menu.FriendRequest.FriendRequestController,
	setUserID: function (e) {
		this.model.userID = e
	},
	getUserID: function () {
		return this.model.userID
	},
	setUsername: function (e) {
		this.model.username = e
	},
	getUsername: function () {
		return this.model.username
	},
	acceptRequest: function () {
		this.game.prodigy.friendsListNetworkHandler.acceptFriendRequest(this.getUserID(), this.requestID)
	},
	rejectRequest: function () {
		this.game.prodigy.friendsListNetworkHandler.rejectFriendRequest(this.getUserID(), this.requestID)
	}
}, Prodigy.Menu.SlotMachine = function (e, t, i, a, s, r, o) {
	this.assets = ["popup-toyZone"], this.game = e, this.spinning = !1, this.id = s, this.guaranteeHeart = r, this.battleCount = o, this.bonusIds = [], this.game.prodigy.load.assets(this.assets, this.setup.bind(this)), Prodigy.Control.Element.call(this, e, t, i, a)
}, Prodigy.Menu.SlotMachine.FORCED_RESULT = [], Prodigy.extends(Prodigy.Menu.SlotMachine, Prodigy.Control.Element, {
	constructor: Prodigy.Menu.SlotMachine,
	setup: function () {
		this.sprites = this.game.prodigy.create.element(this, 0, 0), this.bgRect = this.game.add.graphics(20, 85, this.sprites), this.bgRect.beginFill(16777215, 1), this.bgRect.lineTo(400, 60), this.bgRect.lineTo(400, 200), this.bgRect.lineTo(10, 200), this.bgRect.lineTo(10, 60), this.bgRect.endFill();
		var e = Phaser.ArrayUtils.getRandomItem(Prodigy.Menu.SlotMachine.EFFECT),
			t = Phaser.ArrayUtils.getRandomItem(Prodigy.Menu.SlotMachine.EFFECT),
			i = Phaser.ArrayUtils.getRandomItem(this.guaranteeHeart ? Prodigy.Menu.SlotMachine.HEAL_EFFECT : Prodigy.Menu.SlotMachine.EFFECT);
		GameConstants.get("GameConstants.Build.DEBUG") && Prodigy.Menu.SlotMachine.FORCED_RESULT.length > 0 && (e = Prodigy.Menu.SlotMachine.EFFECT[Prodigy.Menu.SlotMachine.FORCED_RESULT[0] - 1], t = Prodigy.Menu.SlotMachine.EFFECT[Prodigy.Menu.SlotMachine.FORCED_RESULT[1] - 1], i = Prodigy.Menu.SlotMachine.EFFECT[Prodigy.Menu.SlotMachine.FORCED_RESULT[2] - 1]), this.bonusIds = [], this.bonusIds.push(e.id), this.bonusIds.push(t.id), this.bonusIds.push(i.id);
		var a = {
			x: 10,
			y: 10
		};
		this.slotIcon1 = [], this.slotIcon1.push(this.sprites.add(this.game.prodigy.create.sprite(35 + a.x, 141 + a.y, "popup-toyZone", e.icon))), this.slotIcon1.push(this.sprites.add(this.game.prodigy.create.sprite(174 + a.x, 141 + a.y, "popup-toyZone", t.icon))), this.slotIcon1.push(this.sprites.add(this.game.prodigy.create.sprite(315 + a.x, 141 + a.y, "popup-toyZone", i.icon)));
		var s = {
			x: 10,
			y: 20
		};
		this.slotIcon2 = [], Util.isDefined(e.icon2) ? this.slotIcon2.push(this.sprites.add(this.game.prodigy.create.sprite(35 + s.x, 141 + s.y, "popup-toyZone", e.icon2))) : this.slotIcon2.push(null), Util.isDefined(t.icon2) ? this.slotIcon2.push(this.sprites.add(this.game.prodigy.create.sprite(174 + s.x, 141 + s.y, "popup-toyZone", t.icon2))) : this.slotIcon2.push(null), Util.isDefined(i.icon2) ? this.slotIcon2.push(this.sprites.add(this.game.prodigy.create.sprite(315 + s.x, 141 + s.y, "popup-toyZone", i.icon2))) : this.slotIcon2.push(null), this.slotDoor1 = [], this.slotDoor1.push(this.sprites.add(this.game.prodigy.create.sprite(33, 141, "popup-toyZone", "tz-door-top"))), this.slotDoor1.push(this.sprites.add(this.game.prodigy.create.sprite(173, 141, "popup-toyZone", "tz-door-top"))), this.slotDoor1.push(this.sprites.add(this.game.prodigy.create.sprite(313, 141, "popup-toyZone", "tz-door-top"))), this.slotDoor2 = [], this.slotDoor2.push(this.sprites.add(this.game.prodigy.create.sprite(33, 195, "popup-toyZone", "tz-door-bottom"))), this.slotDoor2.push(this.sprites.add(this.game.prodigy.create.sprite(173, 195, "popup-toyZone", "tz-door-bottom"))), this.slotDoor2.push(this.sprites.add(this.game.prodigy.create.sprite(313, 195, "popup-toyZone", "tz-door-bottom"))), this.base = this.sprites.add(this.game.prodigy.create.sprite(-25, 1, "popup-toyZone", "tz-interface-base")), this.startBtn = this.game.prodigy.create.button(this.sprites, 275, 321, "popup-toyZone", "tz-start-up", this.startSpinning.bind(this), null, null, !1), this.quitBtn = this.game.prodigy.create.button(this.sprites, 86, 321, "popup-toyZone", "tz-quit-up", this.quit.bind(this), null, null, !1), this.msg = [], this.msg.push(this.game.prodigy.create.font(this.sprites, -28, 175, e.name, {
			width: 230,
			align: "center",
			size: 20
		})), this.msg[0].alpha = 0, this.msg.push(this.game.prodigy.create.font(this.sprites, 114, 175, t.name, {
			width: 230,
			align: "center",
			size: 20
		})), this.msg[1].alpha = 0, this.msg.push(this.game.prodigy.create.font(this.sprites, 250, 175, i.name, {
			width: 230,
			align: "center",
			size: 20
		})), this.msg[2].alpha = 0, this.game.add.tween(this).from({
			y: 720
		}, 700, Phaser.Easing.Back.Out, !0)
	},
	startSpinning: function () {
		if (this.startBtn.isActive = !1, this.quitBtn.isActive = !1, this.spinning === !1) {
			this.spinning = !0, this.startBtn.sprite.frameName = "tz-start-down";
			var e = this.game.prodigy.event.create();
			e.delay(300), e.tween(this.sprites, {
				x: 10
			}, 20, Phaser.Easing.Quadratic.Out), e.tween(this.sprites, {
				x: -10
			}, 40, Phaser.Easing.Quadratic.Out), e.tween(this.sprites, {
				x: 10
			}, 40, Phaser.Easing.Quadratic.Out), e.tween(this.sprites, {
				x: 0
			}, 20, Phaser.Easing.Quadratic.Out), e.tween(this.slotDoor1[0], {
				y: 83
			}, 800, Phaser.Easing.Quadratic.Out, !0), e.tween(this.slotDoor2[0], {
				y: 252
			}, 800, Phaser.Easing.Quadratic.Out), e.tween(this.msg[0], {
				alpha: 1
			}, 1, Phaser.Easing.Quadratic.Out), e.tween(this.msg[0], {
				y: 270
			}, 2400, Phaser.Easing.Quadratic.Out), e.tween(this.msg[0], {
				alpha: 0
			}, 500, Phaser.Easing.Quadratic.Out), e.tween(this.sprites, {
				x: 10
			}, 20, Phaser.Easing.Quadratic.Out), e.tween(this.sprites, {
				x: -10
			}, 40, Phaser.Easing.Quadratic.Out), e.tween(this.sprites, {
				x: 10
			}, 40, Phaser.Easing.Quadratic.Out), e.tween(this.sprites, {
				x: 0
			}, 20, Phaser.Easing.Quadratic.Out), e.tween(this.slotDoor1[1], {
				y: 83
			}, 800, Phaser.Easing.Quadratic.Out, !0), e.tween(this.slotDoor2[1], {
				y: 252
			}, 800, Phaser.Easing.Quadratic.Out), e.tween(this.msg[1], {
				alpha: 1
			}, 1, Phaser.Easing.Quadratic.Out), e.tween(this.msg[1], {
				y: 270
			}, 2400, Phaser.Easing.Quadratic.Out), e.tween(this.msg[1], {
				alpha: 0
			}, 500, Phaser.Easing.Quadratic.Out), e.tween(this.sprites, {
				x: 10
			}, 20, Phaser.Easing.Quadratic.Out), e.tween(this.sprites, {
				x: -10
			}, 40, Phaser.Easing.Quadratic.Out), e.tween(this.sprites, {
				x: 10
			}, 40, Phaser.Easing.Quadratic.Out), e.tween(this.sprites, {
				x: 0
			}, 20, Phaser.Easing.Quadratic.Out), e.tween(this.slotDoor1[2], {
				y: 83
			}, 800, Phaser.Easing.Quadratic.Out, !0), e.tween(this.slotDoor2[2], {
				y: 252
			}, 800, Phaser.Easing.Quadratic.Out), e.tween(this.msg[2], {
				alpha: 1
			}, 1, Phaser.Easing.Quadratic.Out), e.tween(this.msg[2], {
				y: 270
			}, 2400, Phaser.Easing.Quadratic.Out), e.tween(this.msg[2], {
				alpha: 0
			}, 500, Phaser.Easing.Quadratic.Out), e.delay(600), e.function(this.applyBonus.bind(this)), e.start()
		}
	},
	quit: function () {
		return this.quitBtn.alpha < 1 ? null : (this.quitBtn.x = 277, this.quitBtn.y = 288, this.quitBtn.sprite.frameName = "tz-quit-down", this.game.broadcaster.broadcast(Prodigy.Events.Battle.END_BATTLE, null, ["run"]), this.close(), void 0)
	},
	applyBonus: function () {
		this.game.broadcaster.broadcast(Prodigy.Events.Battle.APPLY_SLOT_BONUS, null, [this.bonusIds]), this.close()
	},
	close: function () {
		var e = this.game.add.tween(this).to({
			y: 720
		}, 700, Phaser.Easing.Back.In, !0);
		e.onComplete.add(this.onCloseComplete, this)
	},
	onCloseComplete: function () {
		this.destroy()
	}
}), Prodigy.Menu.SlotMachine.EFFECT = [{
	id: 10,
	name: "Bonus stars",
	icon: "slot-add-stars",
	icon2: "slot-add-10percent",
	bonus: 1
}, {
	id: 11,
	name: "Bonus stars",
	icon: "slot-add-stars",
	icon2: "slot-add-20percent",
	bonus: 2
}, {
	id: 12,
	name: "Bonus stars",
	icon: "slot-add-stars",
	icon2: "slot-add-30percent",
	bonus: 3
}, {
	id: 13,
	name: "Damage bonus",
	icon: "slot-add-damage",
	icon2: "slot-add-20percent",
	bonus: 2
}, {
	id: 5,
	name: "Heal HP",
	icon: "slot-add-hp",
	icon2: "slot-add-10percent",
	bonus: 1
}, {
	id: 6,
	name: "Heal HP",
	icon: "slot-add-hp",
	icon2: "slot-add-20percent",
	bonus: 2
}, {
	id: 7,
	name: "Heal HP",
	icon: "slot-add-hp",
	icon2: "slot-add-30percent",
	bonus: 3
}, {
	id: 8,
	name: "Drain",
	icon: "slot-lose-hp",
	icon2: "slot-lose-10percent",
	bonus: -1
}, {
	id: 9,
	name: "Drain",
	icon: "slot-lose-hp",
	icon2: "slot-lose-20percent",
	bonus: -2
}, {
	id: 10,
	name: "Bonus stars",
	icon: "slot-add-stars",
	icon2: "slot-add-10percent",
	bonus: 1
}, {
	id: 11,
	name: "Bonus stars",
	icon: "slot-add-stars",
	icon2: "slot-add-20percent",
	bonus: 2
}, {
	id: 12,
	name: "Bonus stars",
	icon: "slot-add-stars",
	icon2: "slot-add-30percent",
	bonus: 3
}, {
	id: 13,
	name: "Damage bonus",
	icon: "slot-add-damage",
	icon2: "slot-add-20percent",
	bonus: 2
}, {
	id: 14,
	name: "Damage reduced",
	icon: "slot-lose-damage",
	icon2: "slot-lose-10percent",
	bonus: -1
}, {
	id: 15,
	name: "Bonus gold",
	icon: "slot-add-gold",
	icon2: "slot-add-10percent",
	bonus: 1
}, {
	id: 16,
	name: "Evasion up",
	icon: "slot-add-agility",
	icon2: "slot-add-10percent",
	bonus: 1
}, {
	id: 15,
	name: "Bonus gold",
	icon: "slot-add-gold",
	icon2: "slot-add-10percent",
	bonus: 1
}], Prodigy.Menu.SlotMachine.HEAL_EFFECT = [{
	id: 5,
	name: "Heal HP",
	icon: "slot-add-hp",
	icon2: "slot-add-10percent",
	bonus: 1
}, {
	id: 6,
	name: "Heal HP",
	icon: "slot-add-hp",
	icon2: "slot-add-20percent",
	bonus: 2
}, {
	id: 6,
	name: "Heal HP",
	icon: "slot-add-hp",
	icon2: "slot-add-20percent",
	bonus: 2
}, {
	id: 6,
	name: "Heal HP",
	icon: "slot-add-hp",
	icon2: "slot-add-20percent",
	bonus: 2
}, {
	id: 7,
	name: "Heal HP",
	icon: "slot-add-hp",
	icon2: "slot-add-30percent",
	bonus: 3
}], Prodigy.HUD.Menu = function (e, t, i) {
	Prodigy.Control.Element.call(this, e, t), this.ID = 1, this.model = new Prodigy.HUD.MenuModel(e, i || {}), this.page = 0, this.menus = [], this.isHouse = !1, this.onDestroy.add(this.cleanup.bind(this)), this.game.broadcaster.addAppListener(Prodigy.Events.HUD.OPEN_CHAT, this.show.bind(this, !1), this, "HUD", !1), this.game.broadcaster.addAppListener(Prodigy.Events.HUD.CLOSE_CHAT, this.show.bind(this, !0), this, "HUD", !1), this.open(0, this.isHouse)
}, Prodigy.extends(Prodigy.HUD.Menu, Prodigy.Control.Element, {
	constructor: Prodigy.HUD.Menu,
	open: function (e, t) {
		this.removeAll(!0), this.model.resetConfig(), this.model.addDefaultConfig(), this.isHouse = t, t && this.model.addHouseConfig(e), this.menus = [];
		for (var i = this.model.pages[e], a = 0; a < i.length; a++) this.menus.push(this.createMenu(i[a]));
		this.centreMenus()
	},
	createMenu: function (e) {
		var t = this.game.prodigy.create.element(this, 0, 0);
		t.add(this.game.prodigy.create.sprite(0, 0, "core", "HUD-end"));
		for (var i = 30, a = 0; a < e.length; a++) t.add(this.game.prodigy.create.sprite(i, 0, "core", "HUD-mid")), i += 62;
		t.add(this.game.prodigy.create.sprite(i + 30, 0, "core", "HUD-end")).scale.x = -1, i = 33;
		var s = [];
		for (a = 0; a < e.length; a++) {
			var r = e[a],
				o = null;
			o = r.type ? this.game.prodigy.create.hudButton(r.type, t, i, 14, r.key, r.frameName, r.callback) : Util.isDefined(r.frameName) ? this.game.prodigy.create.button(t, i, 14, r.key, r.frameName, r.callback) : null;
			var n = {
				buttonSprite: o,
				exclamationSprite: null
			};
			i += 62, s.push(n)
		}
		return {
			bar: t,
			buttons: s
		}
	},
	centreMenus: function () {
		for (var e = 0, t = 50, i = 0; i < this.menus.length; i++) Util.isDefined(this.menus[i].bar) && (e += this.menus[i].bar.width);
		e += 10 * (this.menus.length - 1);
		var a = Math.floor(.5 * (1280 - e));
		for (i = 0; i < this.menus.length; i++) Util.isDefined(this.menus[i].bar) && (this.menus[i].bar.x = a + t * i, this.menus[i].bar.y = 638, a += this.menus[i].bar.width + 10)
	},
	show: function (e) {
		this.visible = e
	},
	cleanup: function () {
		this.game.broadcaster.removeAppListener(Prodigy.Events.House.CLICKED_HOUSE_ICON, this, "UI"), this.game.broadcaster.removeAppListener(Prodigy.Events.HUD.OPEN_CHAT, this, "HUD"), this.game.broadcaster.removeAppListener(Prodigy.Events.HUD.CLOSE_CHAT, this, "HUD")
	}
}), Prodigy.HUD.MenuModel = function (e, t) {
	this.game = e, this.disable = t, this.resetConfig()
}, Prodigy.HUD.MenuModel.prototype = {
	constructor: Prodigy.HUD.MenuModel,
	resetConfig: function () {
		this.pages = []
	},
	addPage: function (e) {
		Util.isDefined(this.pages[e]) || this.pages.push([])
	},
	addMenu: function (e, t) {
		Util.isDefined(this.pages[e][t]) || this.pages[e].push([])
	},
	addDefaultConfig: function () {
		var e = 0,
			t = 0;
		this.addPage(e), this.addMenu(e, t), this.addMemberIcon(e, t), this.addBackpack(e, t), this.addSpellbook(e, t), this.addPet(e, t), this.addMap(e, t), this.addEvent(e, t), this.addSocial(e, t), this.addSettings(e, t), this.addChat(e, t), this.addFriendsList(e, t), this.addMailer(e, t)
	},
	addHouseConfig: function (e) {
		var t = 1;
		this.addMenu(e, t), this.addMoveHouse(e, t), this.addEditHouse(e, t), this.addLockHouse(e, t)
	},
	addMoveHouse: function (e, t) {
		this.pages[e][t].push({
			type: "MoveHouseButton"
		})
	},
	addEditHouse: function (e, t) {
		this.pages[e][t].push({
			type: "EditHouseButton"
		})
	},
	addLockHouse: function (e, t) {
		this.pages[e][t].push({
			type: "LockHouseButton"
		})
	},
	addMailer: function (e, t) {
		this.pages[e][t].push({
			type: "MailerButton"
		})
	},
	addSpellbook: function (e, t) {
		this.pages[e][t].push({
			type: "SpellbookButton"
		})
	},
	addBackpack: function (e, t) {
		(this.game.prodigy.player.getGold() > 0 || this.game.prodigy.player.backpack.getTotalUnique() > 0) && this.pages[e][t].push({
			type: "BackpackButton"
		})
	},
	addPet: function (e, t) {
		this.game.prodigy.player.kennel.getPets().length > 0 && !Util.isDefined(this.disable.pets) && this.pages[e][t].push({
			type: "PetsButton"
		})
	},
	addSocial: function (e, t) {
		this.pages[e][t].push({
			type: "SocialButton"
		})
	},
	addFriendsList: function (e, t) {
		this.pages[e][t].push({
			type: "FriendsListButton"
		})
	},
	addMap: function (e, t) {
		(this.game.prodigy.player.hasCompletedTutorial() || GameConstants.get("GameConstants.Debug.ENABLE_MAP")) && this.pages[e][t].push({
			type: "WorldMapButton"
		})
	},
	addEvent: function (e, t) {
		for (var i = this.game.prodigy.skin.buttons(), a = 0; a < i.length; a++) this.pages[e][t].push(i[a])
	},
	addChat: function (e, t) {
		this.pages[e][t].push({
			type: "ChatButton"
		})
	},
	addSettings: function (e, t) {
		this.pages[e][t].push({
			type: "SettingsButton"
		})
	},
	addMemberIcon: function (e, t) {
		this.game.prodigy.player.isMember || this.pages[e][t].push({
			type: "MemberIconButton"
		})
	}
}, Prodigy.Menu.BuyToy = function (e, t, i, a, s, r) {
	this.assets = ["popup-toyStore", "icons"], this.game = e, this.id = i, this.openChallenge = a, this.message = s, this.urlMessage = r, this.game.prodigy.load.assets(this.assets, this.create.bind(this)), Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu)
}, Prodigy.extends(Prodigy.Menu.BuyToy, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.BuyToy,
	create: function () {
		this.addTransparent(.5), this.sprites = this.game.prodigy.create.element(this, 350, 100), this.b = this.game.prodigy.create.panel(this.sprites, 100, 0, 10, 13, "shine2"), this.text = this.game.prodigy.create.font(this.sprites, 150, 20, Util.isDefined(this.message) ? this.message : "If you want to play this game, you need", {
			width: 300,
			align: "center"
		}), this.toyImg = this.sprites.add(this.game.prodigy.create.sprite(150, 100, "popup-toyStore", this.id + "_1")), this.toyImg.scale.x = 25 / 35, this.toyImg.scale.y = 25 / 35;
		var e = Monsters.getItemData(this.id);
		this.game.prodigy.create.font(this.sprites, -320, 310, " " + e.name, {
			size: 36,
			font: "button",
			align: "center"
		});
		var t = e.name.length;
		this.sprites.add(this.game.prodigy.create.sprite(300 - 8 * t - 60, 300, "icons", "icon-bar-" + e.element));
		var i = this.game.prodigy.create.panelButton(this.sprites, 120, 395, 9, 2, "button", this.openWebsite.bind(this, Util.isDefined(this.urlMessage) ? this.urlMessage : "epics arena!"));
		i.content.add(this.game.prodigy.create.sprite(10, -10, "icons", "pets/" + this.id)), this.game.prodigy.create.font(i.content, 100, 15, "buy toy now!", {
			width: 250,
			size: 36,
			font: "button",
			align: "center"
		}), this.game.prodigy.create.button(this.sprites, 462, -5, "icons", "close", this.close.bind(this)), this.game.add.tween(this.sprites).from({
			y: 720
		}, 400, Phaser.Easing.Back.Out, !0), Prodigy.RenderMenu.prototype.create.call(this)
	},
	openWebsite: function (e) {
		if (Util.isDefined(this.urlMessage) && "epic attacks!" === this.urlMessage)
			for (var t = !1, i = 125; 130 > i; i++) this.game.prodigy.player.kennel.hasPet(i) && (t = !0);
		t && !this.game.prodigy.player.kennel.hasPet(this.id) && this.game.prodigy.network.sendAnalytics("other-epic-attack", "try-buy-other", "Events"), Prodigy.Menu.ToyStore.openWebsite(this.game, e.replace(/\s/g, "-").replace("!", ""))
	},
	close: function () {
		this.openChallenge === !0 && this.game.prodigy.open.epicRewardsMenu.call(this.game.prodigy.open, this.id, this.game.prodigy.player.kennel.hasPet(this.id)), this.destroy()
	}
}), Prodigy.Menu.BattleBase = function (e, t, i, a) {
	Prodigy.Control.Element.call(this, e, t), this.CENTER = 192, this.type = a.type, this.memberStarsEarned = a.memberStarsEarned, this.hearts = a.hearts, this.source = a.source, this.spell = a.spell, this.totalStars = a.totalStars, this.x = 448, this.y = 122, this.scopeApp = i, this.setupBackground(), this.setupTitle(), this.setupBlockOne(), this.setupBlockTwo(), this.setupNextButton(), e.add.tween(this).from({
		y: 720
	}, 700, Phaser.Easing.Back.Out, !0), this.type === Prodigy.Menu.BattleBase.SUMMARY && (this.autoCloseTimer = e.time.events.add(3e4, this.onClose.bind(this), this))
}, Prodigy.Menu.BattleBase.SUMMARY = 0, Prodigy.Menu.BattleBase.LEVEL_UP = 1, Prodigy.Menu.BattleBase.SPELL = 2, Prodigy.extends(Prodigy.Menu.BattleBase, Prodigy.Control.Element, {
	constructor: Prodigy.Menu.BattleBase,
	setupBackground: function () {
		this.backgound = this.game.prodigy.create.sprite(0, 0, "battle", "bg-popup"), this.add(this.backgound)
	},
	setupTitle: function () {
		this.type === Prodigy.Menu.BattleBase.SUMMARY ? this.add(this.game.prodigy.create.sprite(125, 12, "battle", "text-battle-summary")) : this.add(this.game.prodigy.create.sprite(112, 30, "battle", "text-well-done"))
	},
	setupBlockOne: function () {
		this.type === Prodigy.Menu.BattleBase.SUMMARY ? (this.add(this.game.prodigy.create.sprite(155, 120, "battle", "text-stars-collected")), this.add(this.game.prodigy.create.sprite(145, 162, "core-2", "user-star")), this.game.prodigy.create.font(this, 175, 168, "" + this.totalStars, {
			size: 2,
			font: "battle",
			width: 70,
			align: "center"
		})) : this.type === Prodigy.Menu.BattleBase.LEVEL_UP ? Util.isDefined(this.hearts) ? (this.add(this.game.prodigy.create.sprite(152, 120, "battle", "icon-heart")), this.game.prodigy.create.font(this, 127, 135, "+" + this.hearts, {
			size: 30,
			width: 126,
			align: "center",
			font: "general"
		})) : (this.add(this.game.prodigy.create.sprite(151, 120, "battle", "icon-star")), this.game.prodigy.create.font(this, 129, 150, "" + this.source.getLevel(), {
			size: 2,
			width: 126,
			align: "center",
			font: "battle"
		}).alpha = .5) : this.type === Prodigy.Menu.BattleBase.SPELL && this.add(this.game.prodigy.create.sprite(152, 120, "icons", "icon-bar-large-" + this.spell.element))
	},
	setupBlockTwo: function () {
		var e;
		if (this.type === Prodigy.Menu.BattleBase.SUMMARY) {
			var t = this.game.prodigy.player.isMember ? this.memberStarsEarned : 0;
			this.add(this.game.prodigy.create.sprite(88, 240, "battle", "text-member-stars-collected"));
			var i = this.add(this.game.prodigy.create.sprite(125, 0 === t ? 265 : 290, "core-2", "member-star")),
				a = this.game.prodigy.create.font(this, 55, 0 === t ? 270 : 295, t + "/" + this.memberStarsEarned, {
					size: 2,
					font: "battle"
				});
			i.x = this.CENTER - .5 * (i.width + a.width + 10), a.x = this.CENTER - .5 * (i.width + a.width + 10) + i.width + 10, 0 === t && (this.getStarsBtn = this.game.prodigy.create.button(this, this.CENTER, 337, "battle", "btn-get-them-now-green-red", this.onMembershipClick.bind(this)), this.getStarsBtn.sprite.anchor.set(.5, .5))
		} else this.type === Prodigy.Menu.BattleBase.LEVEL_UP ? (e = this.game.prodigy.create.font(this, 93, 260, this.source.getName(), {
			size: 16,
			width: 200,
			align: "center",
			font: "black"
		}), this.add(this.game.prodigy.create.sprite(130, e.y + e.height + 15, "battle", "text-leveled-up"))) : this.type === Prodigy.Menu.BattleBase.SPELL && (e = this.game.prodigy.create.font(this, 93, 240, this.source.getName(), {
			size: 16,
			width: 200,
			align: "center",
			font: "black"
		}), this.add(this.game.prodigy.create.sprite(95, e.y + e.height + 10, "battle", "text-learned-a-new-spell")), this.game.prodigy.create.font(this, 93, e.y + e.height + 35, this.spell.name, {
			size: 20,
			width: 200,
			align: "center",
			font: "black"
		}))
	},
	setupNextButton: function () {
		if (this.nextButton = this.game.prodigy.create.button(this, this.CENTER - 83, 410, "battle", "btn-next", this.onClose.bind(this)), this.type === Prodigy.Menu.BattleBase.SUMMARY && !this.game.prodigy.player.isMember) {
			this.nextButton.alpha = 0, this.nextButton.y = 430, this.nextButton.isActive = !1;
			var e = this.game.prodigy.event.create();
			e.delay(3e3), e.tween(this.nextButton, {
				alpha: 1,
				y: 410
			}, 300, Phaser.Easing.Quadratic.In), e.set(this.nextButton, "isActive", !0), e.start()
		}
	},
	onMembershipClick: function () {
		this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.MORE_EXP), this.game.time.events.remove(this.autoCloseTimer)
	},
	onClose: function () {
		Util.isDefined(this.autoCloseTimer) && this.game.time.events.remove(this.autoCloseTimer), Util.isDefined(this.nextButton) && this.nextButton.setInactive(16777215), Util.isDefined(this.getStarsBtn) && this.getStarsBtn.setInactive(16777215);
		var e = this.type === Prodigy.Menu.BattleBase.SUMMARY ? 500 : 700,
			t = this.game.add.tween(this).to({
				y: 720
			}, e, Phaser.Easing.Back.In, !0);
		t.onComplete.add(this.onCloseComplete, this)
	},
	onCloseComplete: function () {
		this.type === Prodigy.Menu.BattleBase.SUMMARY ? this.game.broadcaster.broadcast(Prodigy.Events.VictoryManager.COMPLETE, this.game) : this.game.broadcaster.broadcast(Prodigy.Events.Battle.POPUP_CLOSED, this.scopeApp, null), this.destroy()
	}
}), Prodigy.Menu.EpicRewardsMenu = function (e, t, i, a) {
	this.assets = ["popup-toyZone", "popup-toyStore", "core", "core-2", "icons"], this.game = e, this.id = i, this.hasPet = a;
	for (var s = [{
			id: 125,
			text: ["Challenge 1", "Challenge 2", "Challenge 3"]
		}, {
			id: 126,
			text: ["Challenge 1", "Challenge 2", "Challenge 3"]
		}, {
			id: 127,
			text: ["Challenge 1", "Challenge 2", "Challenge 3"]
		}, {
			id: 128,
			text: ["Challenge 1", "Challenge 2", "Challenge 3"]
		}, {
			id: 129,
			text: ["Challenge 1", "Challenge 2", "Challenge 3"]
		}], r = 0; r < s.length; r++)
		if (s[r].id === i) {
			this.data = s[r];
			break
		} e.prodigy.load.assets(this.assets, this.create.bind(this)), Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu)
}, Prodigy.extends(Prodigy.Menu.EpicRewardsMenu, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.EpicRewardsMenu,
	create: function () {
		this.addTransparent(.5), this.sprites = this.game.prodigy.create.element(this, 0, 20);
		var e = this.sprites.add(this.game.prodigy.create.panel(this.sprites, 235, 50, 20, 14, "shine")),
			t = this.sprites.add(this.game.prodigy.create.panel(this.sprites, 336, -5, 15, 3, "banner"));
		this.game.prodigy.create.font(t, -340, 40, "EPICS ARENA BATTLE SELECT", {
			size: 30,
			align: "center"
		});
		var i = Monsters.getItemData(this.id);
		this.game.prodigy.create.font(e, 120, 81, i.name, {
			size: 36,
			font: "button"
		}), e.add(this.game.prodigy.create.sprite(50, 70, "icons", "icon-bar-" + i.element));
		var a = this.sprites.add(this.game.prodigy.create.sprite(380, 300, "popup-toyStore", this.id + ""));
		if (a.anchor.setTo(.5, .5), this.hasPet) {
			for (var s = this.game.prodigy.player.kennel.getPets(), r = 0; r < s.length; r++)
				if (s[r].ID === this.id) {
					var o = new Monster(s[r], this.game);
					break
				} var n = o.getLevel()
		} else var n = 0;
		for (var h = [], l = 130, d = 60, p = [10, 25, 50], r = 0; 3 > r; r++) {
			var c, g;
			n >= p[r] ? (c = "tz-menu-checkmark", g = !1) : (c = "tz-menu-locked", g = !0), h.push(this.game.prodigy.create.panelButton(this.sprites, 530, 195 + r * l, 9, 2, "panel-light", this.startBattle.bind(this, g, r))), h[r].content.add(this.game.prodigy.create.sprite(23 + d, -20, "core-2", "user-bar-level")), this.game.prodigy.create.font(h[r].content, -575 + d, 15, "" + p[r], {
				font: "battle",
				size: 1,
				align: "center"
			}), this.game.prodigy.create.font(h[r].content, -430 + d, 35, this.data.text[r], {
				size: 20,
				align: "center"
			});
			var u = Monsters.epicArena[this.id].rewards[r];
			this.game.prodigy.player.house.getOwned(u.ID) >= 9 ? (h[r].content.add(this.game.prodigy.create.sprite(300 + d, 15, "icons", "gold")), this.game.prodigy.create.font(h[r].content, -310 + d, 55, "50", {
				size: 16,
				align: "center"
			})) : h[r].content.add(this.game.prodigy.create.sprite(300 + d, 9, "popup-toyZone", "reward" + (r + 1) + "-" + this.id)), g === !0 && h[r].content.add(this.game.prodigy.create.sprite(23, 25, "popup-toyZone", c))
		}
		if (this.hasPet) {
			var y = this.sprites.add(this.game.prodigy.create.element(this.sprites, 287, 455));
			y.add(this.game.prodigy.create.sprite(60, -20, "core-2", "user-bar-level")), this.game.prodigy.create.font(y, -540, 15, "" + n, {
				font: "battle",
				size: 1,
				align: "center"
			})
		} else {
			var h = this.game.prodigy.create.panelButton(this.sprites, 269, 465, 6, 2, "button", this.openWebsite.bind(this, "epics arena!"));
			h.content.add(this.game.prodigy.create.sprite(10, -10, "icons", "pets/" + this.id)), this.game.prodigy.create.font(h.content, 35, 15, "buy toy", {
				width: 250,
				size: 36,
				font: "button",
				align: "center"
			})
		}
		this.game.prodigy.create.button(e, 763, -6, "icons", "close", this.close.bind(this)), this.game.add.tween(this.sprites).from({
			y: 630
		}, 400, Phaser.Easing.Back.Out, !0), Prodigy.RenderMenu.prototype.create.call(this)
	},
	close: function () {
		this.hasPet === !1 && this.game.prodigy.open.buyToy.call(this.game.prodigy.open, this.id, !1), this.destroy()
	},
	startBattle: function (e, t) {
		this.hasPet === !1 ? (this.game.prodigy.network.sendAnalytics("start-epics-arena-game-new", "no-toy", "Events"), this.game.prodigy.open.buyToy.call(this.game.prodigy.open, this.id, !0)) : e === !1 && (this.game.prodigy.network.sendAnalytics("start-epics-arena-game-new", "toy", "Events"), this.game.prodigy.battle.startEpicArena.call(this.game.prodigy.battle, this.id, t))
	},
	openWebsite: function (e) {
		Prodigy.Menu.ToyStore.openWebsite(this.game, e.replace(/\s/g, "-").replace("!", ""))
	}
}), Prodigy.Menu.ConfirmPotionUse = function (e, t, i, a) {
	this.itemInfo = i, this.current = a, Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.create()
}, Prodigy.extends(Prodigy.Menu.ConfirmPotionUse, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.ConfirmPotionUse,
	create: function () {
		this.addTransparent(), this.content = this.game.prodigy.create.element(this, 350, 150), this.panel = this.game.prodigy.create.panel(this, 330, 200, 15, 8, "shine"), this.panel.setRenderState(!0), this.game.prodigy.create.button(this, this.panel.x + 560, this.panel.y - 10, "icons", "close", this.close.bind(this)), this.game.prodigy.create.font(this.content, 30, 100, "There is already a potion in effect. Are you sure you want to use another one instead?", {
			size: 30,
			width: 540
		}), this.game.prodigy.create.button(this, this.panel.x + 40, this.panel.y + 200, "core", "yes-btn", this.onConfirm.bind(this)), this.game.prodigy.create.button(this, this.panel.x + 560 - 40 - 100 - 60, this.panel.y + 200, "core", "no-btn", this.onGoBack.bind(this)), Prodigy.RenderMenu.prototype.create.call(this)
	},
	onConfirm: function () {
		this.itemInfo.confirmPotionUse.call(this.itemInfo), this.close()
	},
	onGoBack: function () {
		this.itemInfo.close.call(this.itemInfo), this.close()
	}
}), Prodigy.Menu.BattlePotionSelect = function (e, t, i, a) {
	this.player = i, this.attackMenu = a, Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.create()
}, Prodigy.extends(Prodigy.Menu.BattlePotionSelect, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.BattlePotionSelect,
	create: function () {
		this.addTransparent(), this.content = this.game.prodigy.create.element(this, 350, 150), this.createBaseSetup(17, 12, "shine", null, [], !0);
		var e = this.game.prodigy.create.element(this, 0, 0);
		e.setRenderState(!0), Prodigy.RenderMenu.prototype.create.call(this), this.bar = this.game.prodigy.create.slider(this, 900, 160, 380, !0, !0), this.setMode(0), this.reload()
	},
	setMode: function (e) {
		Prodigy.RenderMenu.prototype.setMode.call(this, e), this.clearContents(), this.itemType = "item", this.listItemsOfType()
	},
	clearContents: function () {
		Util.isDefined(this.content) && this.content.removeAll(!0)
	},
	itemSelected: function (e) {
		this.game.prodigy.open.itemInfo({
			ID: e.ID,
			L: e.L,
			type: e.type || this.itemType
		}, this.reload.bind(this), "potion")
	},
	reload: function (e) {
		this.game.input.clearEnterCallback(), this.bar.process(), e && (this.attackMenu.close.call(this.attackMenu), this.close())
	},
	scrollItems: function (e) {
		this.page = Util.isDefined(e) ? e : Util.isDefined(this.page) ? this.page : 0, e = this.page, this.clearContents();
		var t = this.player.backpack.getBackpackItemsByType(this.itemType);
		this.owned = [];
		for (var i = 0; i < t.length; i++) {
			var a = Items.getItemData(this.itemType, t[i].ID);
			Util.isDefined(a) && Util.isDefined(a.type) && "potion" === a.type && this.owned.push(t[i])
		}
		for (var i = e; e + 6 > i; i++) {
			var s = i - e;
			i >= this.owned.length ? this.game.prodigy.create.panel(this.content, s % 3 * 180, 220 * Math.floor(s / 3), 4, 5, "empty") : this.game.prodigy.create.item(this.content, s % 3 * 180, 220 * Math.floor(s / 3), {
				ID: this.owned[i].ID,
				type: this.itemType,
				L: this.owned[i].L,
				N: this.owned[i].N
			}, "inv", this.itemSelected.bind(this, this.owned[i]))
		}
	},
	listItemsOfType: function () {
		var e = this.player.backpack.getBackpackItemsByType(this.itemType);
		this.owned = [];
		for (var t = 0; t < e.length; t++) {
			var i = Items.getItemData(this.itemType, e[t].ID);
			Util.isDefined(i) && Util.isDefined(i.type) && "potion" === i.type && this.owned.push(e[t])
		}
		this.bar.reset(this.owned.length - 3, 3, -1, this.scrollItems.bind(this))
	}
}), Prodigy.Menu.PotionPVPPopup = function (e, t, i) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), Util.isDefined(i) && (Util.isDefined(i.popups) || (i.popups = []), i.popups.push(this)), this.create()
}, Prodigy.extends(Prodigy.Menu.PotionPVPPopup, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.PotionPVPPopup,
	create: function () {
		this.addTransparent(), this.content = this.game.prodigy.create.element(this, 350, 150), this.panel = this.game.prodigy.create.panel(this, 330, 200, 15, 8, "shine"), this.panel.setRenderState(!0), this.game.prodigy.create.font(this.content, 6, 70, "Using items against fellow wizards is quite unsportsmanlike!", {
			size: 30,
			width: 540,
			align: "center"
		}), this.game.prodigy.create.font(this.content, 6, 200, "Sorry, you can only use items in battles against wild monsters.", {
			size: 30,
			width: 540,
			align: "center"
		}), this.game.prodigy.create.textButton(this, this.panel.x + 200, this.panel.y + 245, {
			text: "OK",
			textY: 4
		}, this.close.bind(this)), Prodigy.RenderMenu.prototype.create.call(this)
	}
}), Prodigy.Menu.ParentLinkBenefitsConfig = {
	ANALYTICS_SOURCE_BADGE: "Parental-Benefits-Badge",
	ANALYTICS_SOURCE_SETTINGS: "Parental-Benefits-Settings",
	ANALYTICS_SOURCE_LOGIN: "Parental-Benefits-Login",
	XP_BONUS: {
		frameName: "icons/small-star-boost",
		trackingEvent: "XPBonus-Icon-Click"
	},
	BUDDY: {
		frameName: "icons/get-fox-buddy",
		trackingEvent: "Buddy-Icon-Click"
	},
	APPLES: {
		frameName: "icons/get-free-apples",
		trackingEvent: "Apples-Icon-Click"
	},
	TRACKING_EVENT_MOBILE: "Mobile-Message-Displayed",
	TRACKING_EVENT_SIGN_UP: "Signup-Button-Click",
	TRACKING_EVENT_POPUP_SHOWN: "Popup-Shown",
	TRACKING_EVENT_SCHOOL_HOURS: "School-Hours-Message-Displayed",
	TRACKING_EVENT_RECEIVED_REWARDS: "Parent-Benefits-Rewards-Received",
	MESSAGE_MOBILE: "Visit www.prodigygame.com to link a parent account for great in-game rewards!",
	MESSAGE_POST_CLICK: "If you successfully linked a parent account, you will receive your rewards the next time you log in.",
	MESSAGE_SCHOOL_HOURS: "To receive these benefits, ask your parent to create a parent account and link it to yours.",
	URL_SIGN_UP_STAGING: "www.prodigygame.org/#start-now?usertype=parent",
	URL_SIGN_UP_PROD: "www.prodigygame.com/#start-now?usertype=parent",
	ATLAS: "popup-parent-link",
	DESCRIPTION_TEXT_BG_HEIGHT_PERCENT: .25,
	REWARD_ICONS_BG_HEIGHT_PERCENT: .5,
	LINK_ACCOUNT_BG_HEIGHT_PERCENT: .88,
	CLOSE_BTN_OFFSET: {
		x: -10,
		y: 10
	},
	BODY_TEXT_OFFSET: {
		x: 40,
		y: 0
	},
	ICON_TWEEN_TIME_MS: 125,
	ICON_TWEEN_DELAY_MS: 125,
	ICON_TWEEN_AMOUNT_Y: 20,
	SUCCESS_POPUP_CONFIG: {
		headerFrameName: "parent-link-title-success",
		bodyText: "Congratulations on linking a parent account! Please enjoy these great rewards!",
		submitButtonFrameName: "parent-link-button-success",
		showCloseButton: !1
	},
	INFO_POPUP_CONFIG: {
		headerFrameName: "parent-link-title",
		bodyText: "Have your parent or guardian link their account to your player account and receive awesome stuff!",
		submitButtonFrameName: "parent-link-button",
		showCloseButton: !0
	}
}, Prodigy.Menu.ParentalLink = function (e, t, i, a, s) {
	e.prodigy.player.parentalLink = !0, Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), Util.isDefined(a) || (a = Prodigy.Menu.ParentLinkBenefitsConfig.ANALYTICS_SOURCE_LOGIN), this.analyticsSource = a, this.onClose = s, this.popupConfig = i, this.popupConfig === Prodigy.Menu.ParentLinkBenefitsConfig.SUCCESS_POPUP_CONFIG ? (this.onSubmitButtonClickCallback = this.onOkayClick.bind(this), this.onRewardIconClickCallback = null) : (this.onSubmitButtonClickCallback = this.onLinkParentAccountClick.bind(this, Prodigy.Menu.ParentLinkBenefitsConfig.TRACKING_EVENT_SIGN_UP), this.onRewardIconClickCallback = this.onLinkParentAccountClick), this.create()
}, Prodigy.Menu.ParentalLink.featureIconConfigs = [Prodigy.Menu.ParentLinkBenefitsConfig.XP_BONUS, Prodigy.Menu.ParentLinkBenefitsConfig.BUDDY, Prodigy.Menu.ParentLinkBenefitsConfig.APPLES], Prodigy.extends(Prodigy.Menu.ParentalLink, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.ParentalLink,
	create: function () {
		this.addTransparent(), Prodigy.RenderMenu.prototype.create.call(this), this.game.prodigy.network.sendAnalytics(this.analyticsSource, Prodigy.Menu.ParentLinkBenefitsConfig.TRACKING_EVENT_POPUP_SHOWN), this.startLoad([Prodigy.Menu.ParentLinkBenefitsConfig.ATLAS], this.onAssetsLoaded.bind(this))
	},
	onAssetsLoaded: function () {
		var e = this.game.prodigy.create.sprite(0, 0, Prodigy.Menu.ParentLinkBenefitsConfig.ATLAS, "popup-box");
		this.add(e), Util.centerItemsWithinContainer([e], this, !0);
		var t = this.game.prodigy.create.sprite(0, 0, Prodigy.Menu.ParentLinkBenefitsConfig.ATLAS, this.popupConfig.headerFrameName);
		t.anchor.set(0, .5), e.addChild(t), Util.centerItemsWithinContainer([t], e, !0), t.y = 10, this.game.prodigy.create.font(e, Prodigy.Menu.ParentLinkBenefitsConfig.BODY_TEXT_OFFSET.x, e.height * Prodigy.Menu.ParentLinkBenefitsConfig.DESCRIPTION_TEXT_BG_HEIGHT_PERCENT, this.popupConfig.bodyText, {
			font: "black",
			size: 20,
			width: e.width - 2 * Prodigy.Menu.ParentLinkBenefitsConfig.BODY_TEXT_OFFSET.x,
			align: "center"
		});
		var i = this.generateRewardIcons(e);
		if (Util.centerItemsWithinContainer(i, e, !0), i.forEach(function (t, i) {
				t.y = e.height * Prodigy.Menu.ParentLinkBenefitsConfig.REWARD_ICONS_BG_HEIGHT_PERCENT, this.game.add.tween(t).to({
					y: t.y - Prodigy.Menu.ParentLinkBenefitsConfig.ICON_TWEEN_AMOUNT_Y
				}, Prodigy.Menu.ParentLinkBenefitsConfig.ICON_TWEEN_TIME_MS, Phaser.Easing.Quadratic.InOut, !0, Prodigy.Menu.ParentLinkBenefitsConfig.ICON_TWEEN_DELAY_MS * i, 0, !0)
			}, this), this.popupConfig.showCloseButton) {
			var a = this.game.prodigy.create.button(e, 0, 0, Prodigy.Menu.ParentLinkBenefitsConfig.ATLAS, "exit-button", this.close.bind(this));
			a.x = e.width - .5 * a.width + Prodigy.Menu.ParentLinkBenefitsConfig.CLOSE_BTN_OFFSET.x, a.y = -(.5 * a.width) + Prodigy.Menu.ParentLinkBenefitsConfig.CLOSE_BTN_OFFSET.y
		}
		var s = this.game.prodigy.create.button(e, 0, 0, Prodigy.Menu.ParentLinkBenefitsConfig.ATLAS, this.popupConfig.submitButtonFrameName, this.onSubmitButtonClickCallback);
		Util.centerItemsWithinContainer([s], e, !0), s.y = e.height * Prodigy.Menu.ParentLinkBenefitsConfig.LINK_ACCOUNT_BG_HEIGHT_PERCENT, this.process()
	},
	generateRewardIcons: function (e) {
		var t = [];
		return Prodigy.Menu.ParentalLink.featureIconConfigs.forEach(function (i) {
			var a = Util.isDefined(this.onRewardIconClickCallback),
				s = a ? this.onRewardIconClickCallback.bind(this, i.trackingEvent) : null,
				r = this.game.prodigy.create.button(e, 0, 0, Prodigy.Menu.ParentLinkBenefitsConfig.ATLAS, i.frameName, s);
			r.sprite.inputEnabled = a, t.push(r)
		}, this), t
	},
	onOkayClick: function () {
		var e = function () {
			this.game.prodigy.network.sendAnalytics(Prodigy.Menu.ParentLinkBenefitsConfig.TRACKING_EVENT_RECEIVED_REWARDS), this.close()
		}.bind(this);
		this.game.prodigy.player.backpack.hasItem("follow", 34) ? this.close() : this.game.prodigy.open.gotItem([{
			type: "follow",
			ID: 34,
			N: 1
		}, {
			type: "item",
			ID: 1,
			N: 10
		}], e)
	},
	onLinkParentAccountClick: function (e) {
		Util.isSchoolHours() ? (this.game.prodigy.network.sendAnalytics(this.analyticsSource, Prodigy.Menu.ParentLinkBenefitsConfig.TRACKING_EVENT_SCHOOL_HOURS), this.game.prodigy.open.message(Prodigy.Menu.ParentLinkBenefitsConfig.MESSAGE_SCHOOL_HOURS)) : 1 === Util.getUrlVariable("iosApp") || Device.isIOS() && !Device.isChrome() ? (this.game.prodigy.network.sendAnalytics(this.analyticsSource, Prodigy.Menu.ParentLinkBenefitsConfig.TRACKING_EVENT_MOBILE), this.game.prodigy.open.message(Prodigy.Menu.ParentLinkBenefitsConfig.MESSAGE_MOBILE)) : (this.game.prodigy.network.sendAnalytics(this.analyticsSource, e), this.game.prodigy.network.openWebsite(document.domain.indexOf("prodigygame.com") >= 0 ? Prodigy.Menu.ParentLinkBenefitsConfig.URL_SIGN_UP_PROD : Prodigy.Menu.ParentLinkBenefitsConfig.URL_SIGN_UP_STAGING), this.game.prodigy.open.message(Prodigy.Menu.ParentLinkBenefitsConfig.MESSAGE_POST_CLICK))
	}
}), Prodigy.Menu.ParentalLink.isInfoRequired = function (e, t) {
	return !e.parentalLink && !Util.isSchoolHours() && !e.hasValidatedParentEmail() && Util.isDefined(t) && Util.isDefined(t.quest) && t.quest.ID > 1
}, Prodigy.Menu.ParentalLink.isSuccessRequired = function (e, t) {
	return e.hasValidatedParentEmail() && Util.isDefined(t) && Util.isDefined(t.quest) && t.quest.ID > 1 && !e.backpack.hasItem("follow", 34)
}, Prodigy.Menu.PlayAtHome = function (e, t, i) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.onClose = i, this.create()
}, Prodigy.extends(Prodigy.Menu.PlayAtHome, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.PlayAtHome,
	create: function () {
		this.addTransparent();
		var e = this.game.prodigy.create.element(this, 0, 0);
		this.popupViewProperties = {
			tileWidth: 25,
			tileHeight: 16,
			margin: 0,
			padding: 30,
			tileSize: 40,
			contentTileTop: 3
		}, this.popupViewProperties.top = .5 * (18 - this.popupViewProperties.tileHeight) * this.popupViewProperties.tileSize, this.popupViewProperties.left = .5 * (32 - this.popupViewProperties.tileWidth) * this.popupViewProperties.tileSize, this.popupViewProperties.width = this.popupViewProperties.tileWidth * this.popupViewProperties.tileSize, this.popupViewProperties.height = this.popupViewProperties.tileHeight * this.popupViewProperties.tileSize;
		var t = this.renderBackground(e, this.popupViewProperties),
			i = {
				top: 120,
				left: 11,
				tileSize: this.popupViewProperties.tileSize
			};
		i.tileHeight = this.popupViewProperties.tileHeight - i.top / this.popupViewProperties.tileSize - 1, i.width = this.popupViewProperties.width - 2 * i.left, this.renderContent(t, i);
		var a = {
			top: 20,
			left: 120,
			padding: 18,
			tileSize: this.popupViewProperties.tileSize
		};
		a.tileWidth = this.popupViewProperties.tileWidth - 2 * (a.left / a.tileSize), this.renderTitle(t, a);
		var s = {
			top: this.popupViewProperties.contentTileTop * this.popupViewProperties.tileSize + 20,
			left: 80,
			padding: 10,
			tileHeight: 7,
			tileSize: this.popupViewProperties.tileSize
		};
		s.tileWidth = this.popupViewProperties.tileWidth - 2 * s.left / s.tileSize;
		var r = this.renderMessage(t, s),
			o = {
				left: 120,
				padding: 10,
				tileHeight: 3,
				tileSize: this.popupViewProperties.tileSize
			};
		o.top = (s.tileHeight - o.tileHeight - .5) * o.tileSize, o.tileWidth = (r.width - 2 * o.left) / o.tileSize, this.renderCredentials(r, o);
		var n = {
			top: t.height,
			left: .5 * t.width,
			padding: 10
		};
		this.game.prodigy.loading(!0), this.game.prodigy.load.assets(["popup-after-hours"], this.renderImages.bind(this, t, n)), Prodigy.RenderMenu.prototype.create.call(this)
	},
	renderBackground: function (e, t) {
		return this.game.prodigy.create.panel(e, t.left, t.top, t.tileWidth, t.tileHeight, "shine")
	},
	renderContent: function (e, t) {
		e.add(new Phaser.TileSprite(this.game, t.left, t.top, t.width, t.tileSize, "core", "blue-top")), e.add(new Phaser.TileSprite(this.game, t.left, t.top + t.tileSize, t.width, (t.tileHeight - 2) * t.tileSize, "core", "blue-mid")), e.add(new Phaser.TileSprite(this.game, t.left, t.top + (t.tileHeight - 1) * t.tileSize, t.width, t.tileSize, "core", "blue-top2"))
	},
	renderTitle: function (e, t) {
		var i = this.game.prodigy.create.panel(e, t.left, t.top, t.tileWidth, 2, "banner");
		this.game.prodigy.create.font(i, 0, t.padding, "ENJOY PRODIGY EVERYWHERE!", {
			size: 36,
			width: t.tileWidth * t.tileSize,
			font: "button",
			align: "center",
			lineHeight: 38
		})
	},
	renderMessage: function (e, t) {
		var i = this.game.prodigy.create.panel(e, t.left, t.top, t.tileWidth, t.tileHeight, "white"),
			a = this.game.prodigy.create.font(i, t.padding, t.padding, "You can always continue your adventure at school AND at home! Just remember your username and password for wherever you wish to play!", {
				size: 16,
				width: i.width - 2 * t.padding,
				font: "black",
				align: "center",
				lineHeight: 38
			});
		return this.game.prodigy.create.font(i, t.padding, a.y + a.height + 3 * t.padding, "Here they are one more time, in case you forgot to write them down!", {
			size: 16,
			width: i.width - 2 * t.padding,
			font: "black",
			align: "center",
			lineHeight: 38
		}), i
	},
	renderCredentials: function (e, t) {
		var i = this.game.prodigy.create.panel(e, t.left, t.top, t.tileWidth, t.tileHeight, "blue"),
			a = this.game.prodigy.player.username,
			s = this.game.prodigy.create.font(i, 0, t.padding, "Username: " + a, {
				size: 36,
				width: i.width,
				font: "button",
				align: "center"
			}),
			r = this.game.prodigy.player.password;
		this.game.prodigy.create.font(i, 0, s.y + s.height + t.padding, "Password: " + r, {
			size: 36,
			width: i.width,
			font: "button",
			align: "center"
		})
	},
	renderImages: function (e, t) {
		this.game.prodigy.loading(!1), e.add(this.game.prodigy.create.sprite(t.left, t.top - t.padding, "popup-after-hours", "after-hours-mail-notice-image", !0)), this.renderCommands(e)
	},
	renderCommands: function (e) {
		var t = {
				top: this.popupViewProperties.height,
				left: .5 * this.popupViewProperties.width,
				margin: 3
			},
			i = this.game.prodigy.create.textButton(e, t.left, t.top, {
				text: "okay!",
				size: Prodigy.Control.TextButton.MED
			}, this.close.bind(this));
		i.x -= .5 * i.width, i.y -= .5 * i.height + t.margin
	},
	close: function () {
		Util.isDefined(this.onClose) && this.onClose(), Prodigy.RenderMenu.prototype.close.call(this)
	}
}), Prodigy.Menu.PlayAtHome.isRequired = function (e) {
	return GameConstants.get("GameConstants.Features.SplitTests.PLAY_AT_HOME") && Util.isDefined(e.username) && Util.isDefined(e.password)
}, Prodigy.Menu.EpicErrorMessage = function (e, t, i, a, s) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.message = i, this.attributes = a || {}, Util.isDefined(s) && (Util.isDefined(s.popups) || (s.popups = []), s.popups.push(this)), this.create()
}, Prodigy.extends(Prodigy.Menu.EpicErrorMessage, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.EpicErrorMessage,
	create: function () {
		this.addTransparent(), this.content = this.game.prodigy.create.element(this, 350, 150), this.panel = this.game.prodigy.create.panel(this, 330, 200, 15, 8, "shine"), this.panel.setRenderState(!0), Util.isDefined(this.attributes.showClose) && this.attributes.showClose === !1 || this.game.prodigy.create.button(this, this.panel.x + 560, this.panel.y - 10, "icons", "close", this.close.bind(this)), this.game.prodigy.create.font(this.content, Util.isDefined(this.attributes.textX) ? this.attributes.textX : 30, 100, this.message, {
			size: 30,
			width: 540
		}), this.game.prodigy.create.textButton(this, this.panel.x + 200, this.panel.y + 200, {
			text: "OKAY",
			textY: 4
		}, this.close.bind(this)), Prodigy.RenderMenu.prototype.create.call(this)
	}
}), Prodigy.Menu.QuestDescription = function (e, t, i, a) {
	Prodigy.RenderMenu.call(this, e, t, 0, 0, e.prodigy.textureMenu), this.questData = i, this.callback = a, this.create()
}, Prodigy.extends(Prodigy.Menu.QuestDescription, Prodigy.RenderMenu, {
	constructor: Prodigy.Menu.QuestDescription,
	create: function () {
		if (this.addTransparent(), this.content = this.game.prodigy.create.element(this, 0, 0), Util.isDefined(this.questData.yOffset)) var e = Math.ceil(-this.questData.yOffset / 40);
		this.panel = this.game.prodigy.create.panel(this.content, 400, 360 - 20 * (6 + e), 12, 6 + e, "shine"), this.panel.setRenderState(!0), this.game.prodigy.create.button(this.panel, 440, -10, "icons", "close", this.close.bind(this)), this.game.prodigy.create.font(this.panel, 60, 20, "Today's Quest", {
			size: 30,
			width: 350,
			align: "center"
		}), Util.isDefined(this.questData.description) && this.game.prodigy.create.font(this.panel, 60, 80, this.questData.description, {
			width: 350,
			align: "center"
		}), Util.isDefined(this.questData.source) && (this.panel.add(this.game.prodigy.create.sprite(240 + (this.questData.xOffset || 0), 100 + 40 * e + (this.questData.yOffset || 0), this.questData.source, this.questData.frame || null)), this.game.prodigy.event.create()), this.game.prodigy.create.textButton(this.panel, 90, 120 + 40 * e, {
			text: "Start Quest",
			textY: 4,
			size: Prodigy.Control.TextButton.MED
		}, this.startQuest.bind(this)), Prodigy.RenderMenu.prototype.create.call(this)
	},
	startQuest: function () {
		this.callback(), this.close.call(this)
	}
}), Prodigy.Container.CreatureContainer = function (e, t, i, a, s, r) {
	Prodigy.Control.Element.call(this, e, t), this.source = i, this.setScale = a || 1, this.x = Math.floor(s), this.y = Math.floor(r), this.locomotion = null, this.speed = 10, this.walkSpeed = 1.2, this.sprites = this.game.prodigy.create.element(this, 0, 0), this.indicatorE = this.game.prodigy.create.element(this), this.name = this.game.prodigy.create.font(this, this.source.nameX || -200, this.source.npc ? this.source.nameY || -150 : 1 === a ? -100 : -200, "", {
		width: 400,
		align: "center",
		size: 16
	}), this.name.oldY = this.name.y, this.fxQueue = 0, this.onDestroy.add(this.stopListeners, this), this.initListeners()
}, Prodigy.extends(Prodigy.Container.CreatureContainer, Prodigy.Control.Element, {
	constructor: Prodigy.Container.CreatureContainer,
	initListeners: function () {
		this.game.broadcaster.addAppListener(Prodigy.Events.Creature.LEVEL_UP, this.onCreatureLevelUp.bind(this), this, this.source), this.game.broadcaster.addAppListener(Prodigy.Events.Creature.STARS_ADDED, this.onStarsAdded.bind(this), this, this.source), this.game.broadcaster.addAppListener(Prodigy.Events.FlyingStars.DONE, this.onFxAnimationDone.bind(this), this, this.game), this.game.broadcaster.addAppListener(Prodigy.Events.Battle.POPUP_CLOSED, this.processLevelEvent.bind(this), this, this)
	},
	stopListeners: function () {
		this.game.broadcaster.removeAppListener(Prodigy.Events.Creature.LEVEL_UP, this, this.source), this.game.broadcaster.removeAppListener(Prodigy.Events.Creature.STARS_ADDED, this, this.source), this.game.broadcaster.removeAppListener(Prodigy.Events.FlyingStars.DONE, this, this.game), this.game.broadcaster.removeAppListener(Prodigy.Events.Battle.POPUP_CLOSED, this, this)
	},
	enableLocomotion: function (e, t) {
		Util.isDefined(this.locomotion) || (this.locomotion = new Prodigy.Component.PlayerLocomotion(this.game), this.locomotion.setup(e, t, this.source === this.game.prodigy.player))
	},
	setNewTarget: function (e, t) {
		Util.isDefined(this.locomotion) && this.locomotion.setNewTarget(e, t)
	},
	reload: function (e) {
		this.outOfDate = !0, this.loadedCallback = e
	},
	startLoad: function () {
		this.outOfDate = !1
	},
	update: function () {
		if (Prodigy.Control.Element.prototype.update.call(this), !this.loading && this.outOfDate && this.startLoad(), Util.isDefined(this.source.emoteID) && (this.chat(this.source.emoteID), this.source.emoteID = null), Util.isDefined(this.source.chatID) && (this.chatText(this.source.chatID), this.source.chatID = null), this.source.firework) {
			"object" == typeof this.source.firework && this.game.prodigy.network.emitMessage(this.source.firework);
			var e = this.game.prodigy.event.create();
			e.firework(this.x + 20, this.y - 200), e.start(), delete this.source.firework
		}
		if (this.source.confetti) {
			"object" == typeof this.source.confetti && this.game.prodigy.network.emitMessage(this.source.confetti);
			var e = this.game.prodigy.event.create();
			e.confetti(this.x + 20, this.y - 200), e.start(), delete this.source.confetti
		}
		if (this.source.goldwork) {
			"object" == typeof this.source.goldwork && this.game.prodigy.network.emitMessage(this.source.goldwork);
			var e = this.game.prodigy.event.create();
			e.goldwork(this.x + 20, this.y - 200), e.start(), delete this.source.goldwork
		}
	},
	chat: function (e, t, i) {
		Util.isDefined(this.game) && (Util.isDefined(this.chatBubble) || (this.chatBubble = new Prodigy.Container.ChatBubble(this.game, this, 0, -t || -100, i)), this.chatBubble.setID(e))
	},
	chatText: function (e) {
		if (Util.isDefined(this.game)) {
			var t = this.game.prodigy.chat.getPhrase(e);
			Util.isDefined(t) && (Util.isDefined(this.timer) && window.clearInterval(this.timer), this.game.add.tween(this.name).to({
				y: this.name.oldY - 10
			}, 500, Phaser.Easing.Quadratic.Out).to({
				y: this.name.oldY
			}, 500, Phaser.Easing.Quadratic.In).start(), this.name.setText('"' + t + '"'), this.timer = setInterval(this.endChat.bind(this), 5e3))
		}
	},
	endChat: function () {
		Util.isDefined(this.timer) && window.clearInterval(this.timer), this.showName(this.name.visible)
	},
	"float": function (e) {
		Util.isDefined(this.floatTween) ? this.floatTween.stop() : (this.sprites.oldY = this.sprites.y, this.sprites.y = this.sprites.y - 10, this.floatTween = this.game.add.tween(this.sprites).to({
			y: "-20"
		}, 1400, Phaser.Easing.Quadratic.InOut).to({
			y: "20"
		}, 1400, Phaser.Easing.Quadratic.InOut).loop()), e ? this.floatTween.start() : (this.floatTween.stop(), this.sprites.y = this.sprites.oldY)
	},
	setValidPath: function (e, t, i, a) {
		var s = function (e, t) {
			this.setPath(t, e)
		};
		Util.isDefined(a) ? e.findPath(this.x, this.y, t, i, s.bind(this, a)) : e.findPath(this.x, this.y, t, i, this.setPath.bind(this))
	},
	setPath: function (e, t, i) {
		if (Util.isDefined(e)) {
			this.game.tweens.removeFrom(this, !1), this.game.tweens.removeFrom(this.sprites), Util.isDefined(i) || (i = this.walkSpeed);
			for (var a = null, s = null, r = this.x, o = this.y, n = e.length - 1; n >= 0; n--) {
				var h = e[n];
				Util.isDefined(h.x) || (h.x = r), Util.isDefined(h.y) || (h.y = o);
				var l = Phaser.Math.distance(h.x, h.y, r, o);
				0 !== l && (Util.isDefined(a) || (a = this.game.add.tween(this), s = this.game.add.tween(this.sprites.scale)), a.to({
					x: h.x,
					y: h.y
				}, 6 * l / i, Phaser.Easing.Linear.None), s.to({
					x: h.x > r ? 1 : -1
				}, 1, Phaser.Easing.Linear.None), s.to({}, 6 * l / i - 100, Phaser.Easing.Linear.None), r = h.x, o = h.y)
			}
			Util.isDefined(a) ? (a.onComplete.addOnce(this.stand, this), Util.isDefined(t) && a.onComplete.addOnce(t), this.walk(), this.mode = 0, Util.isDefined(a) && a.start(), Util.isDefined(s) && s.start()) : (Util.isDefined(t) && t(), this.stand())
		}
	},
	walk: function () {
		this.sprites.callAll("play", null, "walk", this.speed), this.mode = 0
	},
	showName: function (e, t) {
		var i;
		Util.isDefined(this.source.getName) ? i = this.source.getName() : Util.isDefined(this.source.name) && (i = this.source.name), this.source.isMember && (i = "@" + i), t && (i = t), this.name.setText(i), Util.isDefined(this.name) && (this.name.visible = e)
	},
	hop: function (e, t, i, a) {
		i = i || 0, a = a || 20;
		var s = this.game.add.tween(this).to({
			y: this.y - a
		}, e || 100, Phaser.Easing.Quadratic.Out).to({
			y: this.y
		}, e || 100, Phaser.Easing.Quadratic.In).start();
		this.game.add.tween(this).to({
			x: this.x + Math.floor(i / 2)
		}, e || 100, Phaser.Easing.Linear.None).to({
			x: this.x + i
		}, e || 100, Phaser.Easing.Linear.None).start(), Util.isDefined(t) && s.onComplete.addOnce(t)
	},
	stand: function () {
		this.sprites.callAll("play", null, "stand", this.speed), this.x = Math.round(this.x), this.y = Math.round(this.y), this.mode = 1
	},
	moonwalk: function () {
		this.sprites.callAll("play", null, "walk", this.speed), this.mode = 2
	},
	attack: function () {},
	damaged: function () {},
	flip: function () {
		this.sprites.scale.x *= -1
	},
	isFacingLeft: function () {
		return -1 === this.sprites.scale.x
	},
	faceToward: function (e) {
		this.sprites.scale.x = this.x > e ? Math.min(this.scale.x, -1 * this.scale.x) : Math.abs(this.scale.x)
	},
	addOnClick: function (e) {
		for (var t = 0; t < this.sprites.length; t++) this.sprites.children[t].inputEnabled = !0, this.sprites.children[t].events.onInputDown.add(e.bind(this))
	},
	onFxAnimationDone: function () {
		this.fxQueue > 0 && (this.fxQueue--, 0 === this.fxQueue && this.game.broadcaster.broadcast(Prodigy.Events.Creature.ANIMATION_DONE, this.source, []))
	},
	onStarsAdded: function () {
		this.game.broadcaster.broadcast(Prodigy.Events.Battle.GET_IS_RUNNING, this.game) === !0 && (this.fxQueue++, this.flyingStars = new Prodigy.Container.FlyingStars(this.game, this.x, this.y - (this.height - 35)))
	},
	onCreatureLevelUp: function () {
		"TileScreen" !== this.game.state.current && (this.fxQueue++, this.game.time.events.add(3e3, this.finishLevelUp.bind(this), this))
	},
	finishLevelUp: function () {
		this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.BATTLE, "level-up");
		var e = this.game.prodigy.create.sprite(-86, -330, "battle"),
			t = this.game.prodigy.create.sprite(-86, -330, "battle");
		e.animations.add("over", Phaser.Animation.generateFrameNames("levelup-over-", 1, 10), !0).onComplete.add(function () {
			e.destroy(), this.onLevelUpAnimationDone()
		}, this, e), t.animations.add("under", Phaser.Animation.generateFrameNames("levelup-under-", 1, 11), !0).onComplete.add(function () {
			t.destroy()
		}, t), e.animations.play("over", 10), t.animations.play("under", 10), this.sprites.add(e), this.sprites.addAt(t, 0)
	},
	checkShowLevelUp: function (e) {
		if (0 === e.length) return !0;
		for (var t = 0; t < e.length; t++)
			if (Util.isDefined(e[t].h)) return !1;
		return !0
	},
	onLevelUpAnimationDone: function () {
		var e = this.source.getUnprocessedLevelEvents();
		this.checkShowLevelUp(e) ? this.callBattlePopup({
			type: Prodigy.Menu.BattleBase.LEVEL_UP,
			source: this.source
		}) : this.processLevelEvent()
	},
	processLevelEvent: function () {
		var e = this.source.getUnprocessedLevelEvents();
		if (Util.isDefined(e) && e.length > 0) {
			Util.log("processLevelEvent : " + e.length);
			var t = e.pop();
			Util.isDefined(t.h) && this.levelEventNewHeart(t.h), Util.isDefined(t.a) && this.levelEventNewSpell(this.game.prodigy.attacks.getAttack(t.a)), Util.isDefined(t.e) && this.levelEventEvolve(t.e)
		} else this.onFxAnimationDone()
	},
	levelEventNewHeart: function (e) {
		for (var t = 0; 10 > t; t++) {
			var i = this.game.prodigy.create.sprite(this.x, this.y - 50, "core-2", "user-heart");
			this.game.broadcaster.broadcast(Prodigy.Events.Screen.ADD_CHILD, this.game, [i, "content"]), i.anchor.setTo(.5, .5), i.alpha = .5, this.game.add.tween(i).to({
				x: 470
			}, 600, Phaser.Easing.Linear.None).delay(300 * t).to({
				alpha: 0
			}, 1, Phaser.Easing.Linear.None).start(), this.game.add.tween(i).to({
				y: 55
			}, 600, Phaser.Easing.Quadratic.Out).delay(300 * t).start()
		}
		this.source.changeCurrentHearts(Number.MAX_VALUE), this.callBattlePopup({
			type: Prodigy.Menu.BattleBase.LEVEL_UP,
			hearts: 10 * e,
			source: this.source
		})
	},
	levelEventNewSpell: function (e) {
		for (var t = 0; 6 > t; t++) {
			var i = this.game.prodigy.create.sprite(this.x, this.y - 50, "icons", e.element);
			this.game.broadcaster.broadcast(Prodigy.Events.Screen.ADD_CHILD, this.game, [i, "content"]), i.anchor.setTo(3, 3), i.angle = 60 * t, this.game.add.tween(i).to({
				angle: "+1000"
			}, 3500, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 500, Phaser.Easing.Linear.None).start(), this.game.add.tween(i.anchor).to({
				x: .5,
				y: .5
			}, 1500, Phaser.Easing.Linear.None).delay(2e3).to({
				x: 5,
				y: 5
			}, 500, Phaser.Easing.Linear.None).start()
		}
		this.game.time.events.add(3e3, this.callBattlePopup.bind(this, {
			type: Prodigy.Menu.BattleBase.SPELL,
			source: this.source,
			spell: e
		}), this)
	},
	levelEventEvolve: function (e) {
		this.chat(1, this.sprites.height, !0), this.loadCompleted = !1, this.blinkCount = 0, this.stopEvolve = !1, this.game.prodigy.effects.flashText(this.source.getName() + " is evolving into...", null, Prodigy.EffectFactory.TOP, Prodigy.EffectFactory.SMALL, 3500);
		var t = this.game.prodigy.create.sprite(this.x, 0, "attacks", "core-beam2");
		this.game.broadcaster.broadcast(Prodigy.Events.Screen.ADD_CHILD, this.game, [t, "content"]), t.alpha = .75, t.anchor.setTo(.5, 0);
		var i = this.game.prodigy.create.button(this.contents, this.x - 200, 620, "battle", "stop-evolve", this.stopEvolving.bind(this));
		this.game.add.tween(t).to({
			height: 720
		}, 250, Phaser.Easing.Linear.None).delay(500).start();
		var a = this.game.add.tween(t).to({
			alpha: .25
		}, 400, Phaser.Easing.Linear.None, !0, 0, 1e3, !0);
		a.onLoop.add(this.blinkComplete.bind(this, e, a, t, i), this), this.game.prodigy.load.assets(Prodigy.Container.MonsterContainer.getAssets(this.source), this.loadComplete.bind(this))
	},
	loadComplete: function (e, t) {
		Util.isDefined(this.game) && t && (this.loadCompleted = !0)
	},
	stopEvolving: function () {
		this.stopEvolve = !0
	},
	blinkComplete: function (e, t, i, a) {
		this.loadCompleted && !(this.blinkCount < 14) || this.stopEvolve ? (Util.isDefined(a) && (a.visible = !1), t.stop(), this.game.add.tween(i).to({
			alpha: 0
		}, 300, Phaser.Easing.Linear.None, !0), this.game.add.tween(i.scale).to({
			x: 5
		}, 300, Phaser.Easing.Linear.None, !0), this.stopEvolve ? this.game.prodigy.effects.flashText(this.source.getName() + " stopped evolving!", null, Prodigy.EffectFactory.BOTTOM, Prodigy.EffectFactory.SMALL, 2500) : (this.source.evolve(e), this.reload(), this.game.prodigy.effects.flashText(this.source.getSourceName() + "!", null, Prodigy.EffectFactory.BOTTOM, Prodigy.EffectFactory.MEDIUM, 2500)), this.chatBubble.visible = !1, this.game.time.events.add(5500, this.processLevelEvent.bind(this), this)) : this.blinkCount++
	},
	callBattlePopup: function (e) {
		this.game.prodigy.open.battleLevel(this, e)
	}
}), Prodigy.MonsterContainerAdv = function (e, t, i, a, s) {
	Prodigy.Container.CreatureContainer.call(this, e, t, s, 1, i, a), this.assets = Prodigy.MonsterContainerAdv.getAssets(this.source)
}, Prodigy.extends(Prodigy.MonsterContainerAdv, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.MonsterContainerAdv,
	startLoad: function () {
		Prodigy.Container.CreatureContainer.prototype.startLoad.call(this), this.loading = !0, this.assets = Prodigy.MonsterContainerAdv.getAssets(this.source), this.game.prodigy.load.assets(this.assets, this.setup.bind(this))
	},
	setup: function () {
		this.complete = !0, this.loading = !1
	},
	tryAction: function (e) {
		return !this.complete || this.loading ? (window.setTimeout(e, 500), !1) : !0
	},
	removeTweens: function (e) {
		for (var t = 0; t < e.length; t++) this.game.tweens.removeFrom(e[t], !1)
	},
	rig: function () {}
}), Prodigy.MonsterContainerAdv.getAssets = function (e) {
	return ["tmp-" + e.getID()]
}, Prodigy.Container.QuestMap = function (e, t, i, a) {
	Prodigy.Control.Element.call(this, e, t), this.x = i, this.y = a
}, Prodigy.extends(Prodigy.Container.QuestMap, Prodigy.Control.Element, {
	constructor: Prodigy.Container.QuestMap,
	open: function (e, t) {
		this.zone = e, this.visible = !0, Util.isDefined(this.map) && this.map.destroy(), Util.isDefined(this.page) && this.page.destroy(), this.page = this.game.prodigy.create.element(this, 0, 0);
		var i = new Phaser.TileSprite(this.game, 640, 70, 10, 494, "core-2", "map-mid");
		i.anchor.setTo(.5, 0), this.page.add(i);
		var a = this.game.add.tween(i).to({
				width: 850
			}, 700, Phaser.Easing.Quadratic.InOut, !1, 200).to({
				width: 810
			}, 300, Phaser.Easing.Quadratic.InOut).start(),
			s = this.game.prodigy.create.sprite(640, 70, "core-2", "map-side");
		s.anchor.setTo(1, 0), this.page.add(s), this.game.add.tween(s).to({
			x: s.x - 420
		}, 700, Phaser.Easing.Quadratic.InOut, !1, 200).to({
			x: s.x - 400
		}, 300, Phaser.Easing.Quadratic.InOut).start(), s = this.game.prodigy.create.sprite(752, 70, "core-2", "map-side"), s.scale.x = -1, this.page.add(s), this.game.add.tween(s).to({
			x: s.x + 420
		}, 700, Phaser.Easing.Quadratic.InOut, !1, 200).to({
			x: s.x + 400
		}, 300, Phaser.Easing.Quadratic.InOut).start(), a.onComplete.addOnce(this.createMap.bind(this, t), this)
	},
	createMap: function (e) {
		if (this.exists) {
			this.map = this.game.prodigy.create.element(this, 90, 50), this.map.alpha = 0;
			for (var t = this.game.add.graphics(500, 110, this.map), i = this.game.prodigy.player.quests.getCurrentQuest(this.zone.ID), a = this.game.prodigy.player.quests.isQuestStarted(this.zone.ID, i), s = null, r = null, o = 0, n = null, h = 0; h < this.zone.quests.length; h++) {
				var l = this.zone.quests[h],
					d = i - 1 > h || i - 1 === h && a ? 16229944 : 8947848;
				Util.isDefined(s) && (t.lineStyle(7, 0), t.moveTo(s[0], s[1]), t.lineTo(l.coords[0], l.coords[1]), t.lineStyle(5, d), t.moveTo(s[0], s[1]), t.lineTo(l.coords[0], l.coords[1])), this.map.add(this.game.prodigy.create.sprite(t.x + l.coords[0] - 25, t.y + l.coords[1] - 14, "core-2", i - 1 > h || i - 1 === h && a ? "node" : "node2"));
				var p = this.game.prodigy.create.sprite(t.x + l.coords[0], t.y + l.coords[1] - 20, "icons", "star-small");
				p.inputEnabled = !0, p.oldY = p.y, p.events.onInputDown.add(this.showQuestTargets.bind(this, l, h + 1, p), this), p.anchor.setTo(.5, .5), e && h + 1 === e.complete ? (p.frameName = "yes", n = l, o = h + 1, r = p) : i - 1 > h ? (p.frameName = "yes", n = l, o = h + 1, r = p) : h !== i - 1 && 0 !== h || Util.isDefined(e) && e.complete || (p.frameName = Util.isDefined(l.req) && a ? Util.convertItemToIcon(l.reward[0]) : "star", r = p, n = l, o = h + 1), this.map.add(p), s = l.coords
			}
			this.targetQuest = n, this.targetID = o, this.target = r, this.game.add.tween(this.map).to({
				alpha: 1
			}, 300, Phaser.Easing.Quadratic.Out, !0).onComplete.addOnce(this.showQuestTargets.bind(this, n, o, r), this), this.map.add(this.game.prodigy.create.sprite(270, -15, "icons", this.zone.icon)), this.map.add(this.game.prodigy.create.sprite(750, -15, "icons", this.zone.icon)), this.game.prodigy.create.font(this.map, 300, 15, this.zone.fullName, {
				size: 36,
				align: "center",
				width: 500,
				font: "button"
			})
		}
	},
	showQuestTargets: function (e, t, i) {
		if (i !== this.currentIcon && this.exists) {
			Util.isDefined(this.quest) && this.quest.destroy();
			var a = this.game.prodigy.player.quests.getCurrentQuest(this.zone.ID);
			if (Util.isDefined(this.currentTween) && (this.game.tweens.remove(this.currentTween), this.currentIcon.y = this.currentIcon.oldY), this.currentIcon = i, this.currentTween = this.game.add.tween(i).to({
					y: i.y - 10
				}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, 99999, !0), this.quest = this.game.prodigy.create.element(this.map, 154, 80), this.game.prodigy.create.panel(this.quest, 0, 0, 6, 6), t > a || t === a && !this.game.prodigy.player.quests.isQuestStarted(this.zone.ID, a)) return this.game.prodigy.create.font(this.quest, 15, 10, "???", {
				width: 270,
				align: "center"
			}), void 0;
			if (this.game.prodigy.create.font(this.quest, 15, 10, e.name, {
					width: 270,
					align: "center"
				}), Util.isDefined(e.req)) {
				this.game.prodigy.create.font(this.quest, 15, 80, e.desc, {
					width: 270
				});
				for (var s = 150 - 42 * (e.req.length - 1), r = 0; r < e.req.length; r++) {
					var o = e.req[r],
						n = 0;
					if (n = "pet" === o.type ? this.game.prodigy.player.quests.getMonsterProgress(this.zone.ID, o.ID) : "boss" === o.type || "player" === o.type ? this.game.prodigy.player.quests.getBossProgress(this.zone.ID) : this.game.prodigy.player.backpack.hasItem(o.type, o.ID), this.quest.add(this.game.prodigy.create.sprite(s - 40, 250, "icons", Util.convertItemToIcon(o))), a > t || n >= o.N) {
						var h = this.game.prodigy.create.sprite(s - 40 + 22, 210, "icons", "yes");
						this.quest.add(h)
					} else this.game.prodigy.create.font(this.quest, s - 50, 215, n + "/" + o.N, {
						width: 100,
						align: "center"
					});
					s += 84
				}
			}
		}
	}
}), Prodigy.Container.PlayerContainer = function (e, t, i, a, s, r, o) {
	Prodigy.Container.CreatureContainer.call(this, e, t, i, a, s, r), this.offs = 1 === a ? [0, 0, 1, 0, 0, 0, 1, 0, 0, 1, 1, 2, 2, 1, 1, 0, 4, 4, 4, 5, 5, 5, 4, 4] : [0, 0, 2, 1, 0, 0, 2, 1, 0, 0, 1, 2, 4, 5, 4, 3], this.assets = Prodigy.Container.PlayerContainer.getAssets(this.source, this.setScale), this.headOnly = o, this.isMainPlayer = i === e.prodigy.player, this._clickEnabled = !0
}, Prodigy.extends(Prodigy.Container.PlayerContainer, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.Container.PlayerContainer,
	forceOutfit: function (e) {
		this.assets = Prodigy.Container.PlayerContainer.getAssets(this.source, this.setScale, e)
	},
	startLoad: function () {
		Prodigy.Container.CreatureContainer.prototype.startLoad.call(this), this.loading = !0, this.transforming = this.transformID !== this.source.transformID, this.transformID = this.source.transformID, this.assets = this.source.transformID ? Prodigy.Container.MonsterContainer.getAssets(new Monster({
			ID: this.transformID
		}, this.game), this.setScale, !1, !0) : Prodigy.Container.PlayerContainer.getAssets(this.source, this.setScale, null, this.headOnly), this.source.transformID ? this.game.prodigy.load.assets(this.assets, this.setupMonster.bind(this)) : this.game.prodigy.load.assets(this.assets, this.setup.bind(this))
	},
	showSmoke: function () {
		Util.isDefined(this.smoke) && this.smoke.destroy(), this.smoke = this.game.prodigy.create.element(this, 0, 0);
		for (var e = 0; 10 > e; e++) {
			var t = this.game.prodigy.create.sprite(0, 0, "icons", "smoke");
			t.scale.x = t.scale.y = .5 * this.setScale, t.anchor.setTo(.5, .5);
			var i = Math.floor(-30 + 60 * Math.random()),
				a = Math.floor(-50 - 50 * Math.random()) * this.setScale;
			this.game.add.tween(t).to({
				y: "" + a,
				x: "" + i,
				angle: Math.floor(-100 + 200 * Math.random()),
				alpha: 0
			}, 500 + Math.floor(1e3 * Math.random()), Phaser.Easing.Quadratic.Out).start(), this.smoke.add(t)
		}
	},
	setupMonster: function (e, t) {
		if (t && Util.isDefined(this.assets) && Util.isDefined(this.game)) {
			this.sprites.removeAll(!0);
			var i = this.assets[0];
			if (this.forceSimple) {
				var a = this.game.prodigy.assets.getImageBounds(i);
				this.body = this.game.prodigy.create.sprite(0, 0, i), this.sprites.add(this.body), this.body.x = -a[0], this.body.y = -this.body.height
			} else {
				var a = this.game.prodigy.assets.getImageBounds(i),
					s = Math.floor(-a[2] / 2);
				s = -a[0];
				var r = -a[3];
				this.body = this.game.prodigy.create.sprite(s, r, i), this.sprites.add(this.body), this.sprites.callAll("animations.add", "animations", "walk", [0, 1, 2, 3, 4, 5, 6, 7], 10, !0, !0), this.sprites.callAll("animations.add", "animations", "stand", [8, 9, 10, 11, 12, 13, 14, 15], 10, !0, !0);
				try {
					var o = this.body.animations.add("attack", [16, 17, 18, 19, 20, 21, 22, 23], 10);
					o.onComplete.add(this.stand, this)
				} catch (n) {}
				this.sprites.callAll("play", null, "stand")
			}
			this.transforming && this.showSmoke(), Util.isDefined(this.loadedCallback) && this.loadedCallback(), this.complete = !0, this.loading = !1
		}
	},
	setup: function (e, t) {
		if (t && Util.isDefined(this.assets) && Util.isDefined(this.game)) {
			this.sprites.removeAll(!0);
			var i = this.assets[0],
				a = this.assets[1],
				s = this.assets[2],
				r = this.assets[3],
				o = this.assets[4],
				n = this.assets[5],
				h = this.game.prodigy.assets.getImageBounds(i),
				l = Math.floor(-(64 * this.setScale - h[0])),
				d = -h[3];
			if (null !== a && (this.face = this.game.prodigy.create.sprite(l - (h[0] - (1 != this.setScale ? 93 : 44)), d - (h[1] - (1 != this.setScale ? 82 : 48)), "heads", a), this.face.inputEnabled = !0, this.face.events.onInputDown.add(this.playerClicked.bind(this)), this.sprites.add(this.face), this.faceY = this.face.y), null !== r && (this.eyes = this.game.prodigy.create.sprite(l - (h[0] - (1 != this.setScale ? 113 : 55)), d - (h[1] - (1 != this.setScale ? 114 : 65)), "heads", r), this.sprites.add(this.eyes), this.eyesY = this.eyes.y), null !== s) {
				var p = this.game.prodigy.assets.getImageBounds(s);
				this.hair = this.game.prodigy.create.sprite(l - (h[0] - p[0]), d - (h[1] - p[1]), s), this.sprites.add(this.hair), this.hairY = this.hair.y, this.hair.animations.add("walk", [0, 1, 2, 3], 10, !0, !0), this.hair.animations.add("stand", [0], 10, !0, !0), this.hair.animations.add("fct", [0], 10, !0, !0)
			}
			if (!this.headOnly) {
				this.body = this.game.prodigy.create.sprite(l, d, i), this.body.inputEnabled = !0, this.body.events.onInputDown.add(this.playerClicked.bind(this)), this.sprites.add(this.body), this.animWalk = this.body.animations.add("walk", [0, 1, 2, 3, 4, 5, 6, 7], 10, !0, !0), this.animStand = this.body.animations.add("stand", [8, 9, 10, 11, 12, 13, 14, 15], 10, !0, !0);
				try {
					this.animFunction = this.body.animations.add("fct", [16, 17, 18, 19, 20, 21, 22, 23], 10, !0, !0), this.animFunction.onComplete.add(this.functionComplete.bind(this))
				} catch (c) {}
			}
			if (null !== o) {
				var g = this.game.prodigy.assets.getImageBounds(o);
				this.hat = this.game.prodigy.create.sprite(l - (h[0] - g[0]), d - (h[1] - g[1]), o), this.sprites.add(this.hat), this.hatY = this.hat.y;
				var u = Items.getItemData("hat", this.source.equipment.getEquipment("hat"));
				if (Util.isDefined(u) && 1 === u.standAnimation) this.hat.animations.add("walk", [0, 1, 2, 3], 10, !0, !0), this.hat.animations.add("stand", [0, 1, 2, 3], 10, !0, !0), this.hat.animations.add("fct", [0, 1, 2, 3], 10, !0, !0);
				else {
					try {
						this.hat.animations.add("walk", [0, 1, 2, 3], 10, !0, !0)
					} catch (c) {
						this.hat.animations.add("walk", [0], 10, !0, !0)
					}
					this.hat.animations.add("stand", [0], 10, !0, !0), this.hat.animations.add("fct", [0], 10, !0, !0)
				}
			}
			if (null !== n && !this.headOnly) {
				var y = this.game.prodigy.assets.getImageBounds(n);
				this.weapon = this.game.prodigy.create.sprite(l - (h[0] - y[0]), d - (h[1] - y[1]), n), this.sprites.add(this.weapon), this.weaponY = this.weapon.y
			}
			this.transforming && this.showSmoke(), this.sprites.callAll("play", null, "stand"), this.mode = 1, Util.isDefined(this.loadedCallback) && this.loadedCallback(), GameConstants.get("GameConstants.Build.DEBUG") && this.game.broadcaster.addAppListener(Prodigy.Events.Debug.AUTO_CLICK, this.onDebugAutoClick.bind(this), this), this.complete = !0, this.loading = !1
		}
	},
	playerClicked: function () {
		Util.isDefined(this.clickCallback) && this._clickEnabled && this.clickCallback()
	},
	performFunction: function (e, t) {
		this.mode = 2, this.animFunction.onComplete.addOnce(t), this.sprites.callAll("play", null, "fct", e, !1)
	},
	functionComplete: function () {
		this.mode = 1, this.sprites.callAll("play", null, "stand")
	},
	attack: function () {
		this.transformID ? this.sprites.callAll("play", null, "attack") : this.game.add.tween(this).to({
			y: this.y - 50,
			angle: -20
		}, 300, Phaser.Easing.Quadratic.Out).to({
			y: this.y,
			angle: 0
		}, 200, Phaser.Easing.Quadratic.In).to({
			y: this.y - 50,
			angle: 20
		}, 300, Phaser.Easing.Quadratic.Out).to({
			y: this.y,
			angle: 0
		}, 200, Phaser.Easing.Quadratic.In).to({
			y: this.y - 50
		}, 300, Phaser.Easing.Quadratic.Out).to({
			y: this.y
		}, 200, Phaser.Easing.Quadratic.In).start()
	},
	onDebugAutoClick: function (e) {
		Util.isDefined(this.clickCallback) && (Util.isDefined(e) ? e === "player_" + this.x + "_" + this.y && Util.isDefined(this.clickCallback) && this.clickCallback() : Util.log("Button Tag: player_" + this.x + "_" + this.y))
	},
	damaged: function () {
		this.game.add.tween(this).to({
			alpha: .5
		}, 100, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE).start(), this.speed = 0
	},
	broadcastPlayerFullInfo: function (e) {
		if (Util.isDefined(this.locomotion)) {
			var t = {
				action: "fullInfo",
				data: {
					userID: this.source.userID,
					target: this.locomotion.target,
					appearance: this.source.appearance.data,
					isMember: this.source.isMember,
					equipment: this.source.equipment.data,
					data: this.source.getFilterData()
				}
			};
			Util.isDefined(e) && (t.target = parseInt(e)), this.game.prodigy.network.emitMessage(t)
		}
	},
	update: function () {
		if (Prodigy.Container.CreatureContainer.prototype.update.call(this), this.source.transformID !== this.transformID && this.reload(), Util.isDefined(this.locomotion) && this.locomotion.update(), !this.transformID && !this.loading && Util.isDefined(this.animWalk) && Util.isDefined(this.animStand)) {
			var e = 0;
			1 === this.mode ? e = this.animStand.currentFrame.index : 0 === this.mode ? e = this.animWalk.currentFrame.index : Util.isDefined(this.animFunction) && Util.isDefined(this.animFunction.currentFrame) && (e = this.animFunction.currentFrame.index), Util.isDefined(this.face) && (this.face.y = this.faceY + this.offs[e]), Util.isDefined(this.hair) && (this.hair.y = this.hairY + this.offs[e]), Util.isDefined(this.eyes) && (this.eyes.y = this.eyesY + this.offs[e]), Util.isDefined(this.hat) && (this.hat.y = this.hatY + this.offs[e]), Util.isDefined(this.weapon) && (this.weapon.y = this.weaponY + this.offs[e])
		}
	}
}), Prodigy.Container.PlayerContainer.getAssets = function (e, t, i, a) {
	var s = [];
	t = 1 === t ? "reduced" : "normal", a ? s.push(null) : (Util.isDefined(i) || (i = e.equipment.getEquipment("outfit")), s.push(Util.isDefined(i) ? t + "-outfit-" + e.appearance.getGender() + "-" + i : null)), s.push(t + "/face/" + e.appearance.getSkinColor()), s.push(t + "-hair-" + e.appearance.getGender() + "-" + e.appearance.getHairStyle() + "-" + e.appearance.getHairColor()), s.push(t + "/eyes/" + e.appearance.getEyeColor()), s.push(Util.isDefined(e.equipment.getEquipment("hat")) ? t + "-hat-" + e.equipment.getEquipment("hat") : null), s.push("normal" === t && Util.isDefined(e.equipment.getEquipment("weapon")) ? t + "-weapon-" + e.equipment.getEquipment("weapon") : null), Util.isDefined(s[0]) || (s[0] = t + "-outfit-" + e.appearance.getGender() + "-13");
	var r = e.equipment.getEquipment("hat");
	if (Util.isDefined(r)) {
		var t = Items.getItemData("hat", r).type;
		("cover" === t || "wrap" === t) && (s[2] = null), "mask" === t && (s[2] = null)
	}
	return s
}, Prodigy.Container.ChibiContainer = function (e, t, i, a, s, r) {
	Prodigy.Container.CreatureContainer.call(this, e, t, i, a, s, r), this.assets = ["player"], this._frame = 0, this._count = 0, this._tweens = []
}, Prodigy.extends(Prodigy.Container.ChibiContainer, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.Container.ChibiContainer,
	startLoad: function () {
		Prodigy.Container.CreatureContainer.prototype.startLoad.call(this), this.loading = !0, this.game.prodigy.load.assets(this.assets, this.setup.bind(this))
	},
	setup: function (e, t) {
		if (t && Util.isDefined(this.assets) && Util.isDefined(this.game)) {
			this.sprites.removeAll(!0);
			var i = -18,
				a = -42,
				s = 0,
				r = -40;
			this.legs = this.sprites.add(this.game.prodigy.create.sprite(0, 0, "player", "legs_2")), this.legs.x = -Math.floor(this.legs.width / 2), this.legs.y = -this.legs.height, this.head = this.game.prodigy.create.element(this.sprites, s, r), this.head.add(this.game.prodigy.create.sprite(-25, -54, "player", "6")), this.head.add(this.game.prodigy.create.sprite(-11, -35, "player", "Expression")), this.head.add(this.game.prodigy.create.sprite(-43, -66, "player", "Hair2")), this.body = this.game.prodigy.create.element(this.sprites, i, a), this.body.add(this.game.prodigy.create.sprite(0, 0, "player", "MOutfit1")), this._walkTween = [], this._walkTween.push(new Prodigy.TweenController(this.game, this.legs)), this._walkTween[0].set("frameName", ["legs_1", "legs_2", "legs_3", "legs_4"], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this.body)), this._walkTween[1].set("y", [this.body.y - 1, this.body.y - 2, this.body.y - 1, this.body.y], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this.head)), this._walkTween[2].set("y", [this.head.y - 1, this.head.y - 2, this.head.y - 1, this.head.y], 100, 9999), this._standTween = [], this._standTween.push(new Prodigy.TweenController(this.game, this.legs)), this._standTween[0].set("frameName", ["legs_0"], 0, 1), this._standTween.push(new Prodigy.TweenController(this.game, this.body)), this._standTween[1].set("y", [this.body.y - 1, this.body.y - 2, this.body.y - 1, this.body.y], 200, 9999), this._standTween.push(new Prodigy.TweenController(this.game, this.head)), this._standTween[2].set("y", [this.head.y - 1, this.head.y - 2, this.head.y - 1, this.head.y], 200, 9999), this.stand(), Util.isDefined(this.loadedCallback) && this.loadedCallback(), this.complete = !0, this.loading = !1
		}
	},
	walk: function () {
		this._tweens = this._walkTween;
		for (var e = 0; e < this._tweens.length; e++) this._tweens[e].start()
	},
	stand: function () {
		this._tweens = this._standTween;
		for (var e = 0; e < this._tweens.length; e++) this._tweens[e].start()
	},
	playerClicked: function () {},
	performFunction: function () {},
	functionComplete: function () {},
	attack: function () {},
	damaged: function () {},
	update: function () {
		if (Prodigy.Container.CreatureContainer.prototype.update.call(this), !this.loading)
			for (var e = 0; e < this._tweens.length; e++) this._tweens[e].update()
	}
}), Prodigy.Container.ChibiContainer.getAssets = function () {
	return []
}, Prodigy.Container.MonsterContainer = function (e, t, i, a, s, r, o, n) {
	this.onClick = n, Prodigy.Container.CreatureContainer.call(this, e, t, i, a, s, r), this.forceSimple = o || Device.isTablet(), this.assets = Prodigy.Container.MonsterContainer.getAssets(this.source, this.setScale, this.forceSimple)
}, Prodigy.extends(Prodigy.Container.MonsterContainer, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.Container.MonsterContainer,
	startLoad: function (e) {
		Prodigy.Container.CreatureContainer.prototype.startLoad.call(this), this.loading = !0, this.assets = Prodigy.Container.MonsterContainer.getAssets(this.source, this.setScale, this.forceSimple), Util.isDefined(e) && (this.assets = this.assets.concat(e)), this.game.prodigy.load.assets(this.assets, this.setup.bind(this))
	},
	setup: function (e, t) {
		if (Util.isDefined(this.game) && t && Util.isDefined(this.assets)) {
			this.sprites.removeAll(!0);
			var i = this.assets[0];
			if (this.forceSimple) {
				var a = this.game.prodigy.assets.getImageBounds(i);
				this.body = this.game.prodigy.create.sprite(0, 0, i), this.sprites.add(this.body), this.body.x = -a[0], this.body.y = -this.body.height, this.onClick && (this.body.inputEnabled = !0, this.body.events.onInputDown.add(this.onClick))
			} else {
				var a = this.game.prodigy.assets.getImageBounds(i),
					s = Math.floor(-a[2] / 2);
				s = -a[0];
				var r = -a[3];
				this.body = this.game.prodigy.create.sprite(s, r, i), this.sprites.add(this.body), this.onClick && (this.body.inputEnabled = !0, this.body.events.onInputDown.add(this.onClick)), this.sprites.callAll("animations.add", "animations", "walk", [0, 1, 2, 3, 4, 5, 6, 7], 10, !0, !0), this.sprites.callAll("animations.add", "animations", "stand", [8, 9, 10, 11, 12, 13, 14, 15], 10, !0, !0);
				try {
					var o = this.body.animations.add("attack", [16, 17, 18, 19, 20, 21, 22, 23], 10);
					o.onComplete.add(this.stand, this)
				} catch (n) {}
				this.sprites.callAll("play", null, "stand")
			}
			this.complete = !0, this.loading = !1, Util.isDefined(this.loadedCallback) && this.loadedCallback()
		}
	},
	attack: function () {
		this.sprites.callAll("play", null, "attack")
	},
	damaged: function () {
		this.game.add.tween(this).to({
			alpha: .5
		}, 100, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE).start(), this.speed = 0
	}
}), Prodigy.Container.MonsterContainer.getAssets = function (e, t, i, a) {
	t = 1 === t ? "reduced-" : "normal-";
	var s = [];
	"normal" !== t || !i && !Device.isTablet() || a || (t = "small-");
	var r = e.getID();
	s.push("monster-" + t + r);
	var o = null;
	switch (r) {
	case 125:
		o = ["attack-storm-wrath"];
		break;
	case 126:
		o = ["attack-forest-fury"];
		break;
	case 127:
		o = ["attack-frigid-blast"];
		break;
	case 128:
		o = ["attack-tidal-twister"];
		break;
	case 129:
		o = ["attack-hot-snow"]
	}
	return Util.isDefined(o) && (s = s.concat(o)), s
}, Prodigy.Container.FollowContainer = function (e, t, i, a, s, r, o) {
	Prodigy.Container.MonsterContainer.call(this, e, t, i, a, s.x, s.y - 1, !1, o), this.path = r, this.player = s, this.coords = []
}, Prodigy.extends(Prodigy.Container.FollowContainer, Prodigy.Container.MonsterContainer, {
	constructor: Prodigy.Container.FollowContainer,
	update: function () {
		if (Prodigy.Container.MonsterContainer.prototype.update.call(this), Util.isDefined(this.player)) {
			var e = this.coords[this.coords.length - 1],
				t = Math.round(this.player.x),
				i = Math.round(this.player.y);
			Util.isDefined(e) && e.x === this.player.x && e.y === this.player.y || this.coords.push({
				x: t,
				y: i
			}), this.coords.length > 50 || this.x <= 0 && this.y <= 0 ? (this.x < this.coords[0].x ? this.sprites.scale.x = 1 : this.x > this.coords[0].x && (this.sprites.scale.x = -1), this.x = this.coords[0].x, this.y = this.coords[0].y, this.walk(), this.coords.splice(0, 1)) : this.stand()
		}
	}
}), Prodigy.Container.BossContainer = function (e, t, i, a, s, r) {
	Prodigy.Container.CreatureContainer.call(this, e, t, i, 2, a, s), this.forceRegular = r, this.assets = Prodigy.Container.BossContainer.getAssets(this.source, this.forceRegular)
}, Prodigy.extends(Prodigy.Container.BossContainer, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.Container.BossContainer,
	startLoad: function () {
		Prodigy.Container.CreatureContainer.prototype.startLoad.call(this), this.loading = !0, this.assets = Prodigy.Container.BossContainer.getAssets(this.source, this.forceRegular), this.game.prodigy.load.assets(this.assets, this.setup.bind(this))
	},
	setup: function (e, t) {
		if (Util.isDefined(this.game) && t && Util.isDefined(this.assets)) {
			this.sprites.removeAll(!0);
			var i, a = this.assets[0];
			if (this.forceRegular) i = this.game.prodigy.assets.getImageBounds(a), this.body = this.game.prodigy.create.sprite(0, 0, a), this.sprites.add(this.body), this.body.x = -i[0], this.body.y = -this.body.height;
			else {
				i = this.game.prodigy.assets.getImageBounds(a);
				var s = -i[0],
					r = -i[3];
				this.body = this.game.prodigy.create.sprite(s, r, a), this.sprites.add(this.body);
				var o = null;
				try {
					this.sprites.callAll("animations.add", "animations", "walk", [0, 1, 2, 3, 4, 5, 6, 7], 10, !0, !0), this.sprites.callAll("animations.add", "animations", "stand", [0, 1, 2, 3, 4, 5, 6, 7], 10, !0, !0), o = this.body.animations.add("attack", [8, 9, 10, 11, 12, 13, 14, 15], 10)
				} catch (n) {
					this.sprites.callAll("animations.add", "animations", "walk", [0], 10, !0, !0), this.sprites.callAll("animations.add", "animations", "stand", [0], 10, !0, !0), o = this.body.animations.add("attack", [0], 10)
				}
				o.onComplete.add(this.stand, this), this.sprites.callAll("play", null, "stand")
			}
			this.complete = !0, this.loading = !1
		}
	},
	attack: function () {
		this.sprites.callAll("play", null, "attack")
	}
}), Prodigy.Container.BossContainer.getAssets = function (e, t) {
	var i = [],
		a = "";
	return e.getID() < 10 && !t && Device.isTablet() && (a = "small-"), i.push("boss-" + a + e.getID()), i
}, Prodigy.Container.Hearts = function (e, t, i, a, s, r) {
	Prodigy.Control.Element.call(this, e, t), this.nextSrc = null, this.x = this.baseX = i, this.y = a, this.animating = !1, this.updateFrame = 0, this.heartsPercentage = 2, this.starPercentage = 2, this.retryUpdateHearts = !1, this.STAR_SHIFT = 20;
	var o = 138;
	this.reverse = r, this.hideStars = this.reverse, this.barMask = Prodigy.DrawUtil.createBox(this.game, this.reverse ? Prodigy.Container.Hearts.WIDTH - (o + 288) : o, 30, 288, 96, 0, 1, this), this.heartsBase = this.game.prodigy.create.sprite(0, 0, "core-2", "user-bar-base"), this.heartsBase.x = this.reverse ? Prodigy.Container.Hearts.WIDTH - o : o, this.heartsBase.y = 40, this.heartsBase.scale.x = this.reverse ? -1 : 1, this.add(this.heartsBase), this.heartsIcon = this.game.prodigy.create.sprite(this.reverse ? -8 : Prodigy.Container.Hearts.WIDTH - 41, this.heartsBase.y, "core-2", "user-bar-heart"), this.heartsIcon.anchor.setTo(.5, .5), this.heartsIcon.x += this.heartsIcon.width >> 1, this.heartsIcon.y += this.heartsIcon.height >> 1, this.add(this.heartsIcon), this.heartsFill = this.game.prodigy.create.sprite(this.heartsBase.x, this.heartsBase.y + 2, "core-2", "user-bar-fill-heart"), this.heartsFill.scale.x = this.reverse ? -1 : 1, this.heartsFill.mask = this.barMask, this.add(this.heartsFill), this.heartsBarText = this.game.prodigy.create.font(this, this.reverse ? 32 : 107, this.heartsBase.y + 8, null, {
		size: 2,
		width: 328,
		align: "center",
		font: "battle"
	}), this.heartsBarText.setText(""), this.starsBase = this.game.prodigy.create.sprite(0, 0, "core-2", "user-bar-base"), this.starsBase.x = this.heartsBase.x + (this.reverse ? this.STAR_SHIFT : -this.STAR_SHIFT), this.starsBase.y = 80, this.starsBase.scale.x = this.reverse ? -1 : 1, this.starsBase.visible = !this.hideStars, this.add(this.starsBase), this.starsIcon = this.game.prodigy.create.sprite(this.reverse ? this.STAR_SHIFT : this.heartsIcon.x - this.STAR_SHIFT, this.starsBase.y, "core-2", "user-bar-star"), this.starsIcon.anchor.setTo(.5, .5), this.starsIcon.y += this.starsIcon.height >> 1, this.starsIcon.visible = !this.hideStars, this.add(this.starsIcon), this.starsFill = this.game.prodigy.create.sprite(this.starsBase.x, this.starsBase.y + 2, "core-2", "user-bar-fill-star"), this.starsFill.mask = this.barMask, this.starsFill.scale.x = this.reverse ? -1 : 1, this.starsFill.visible = !this.hideStars, this.add(this.starsFill), this.flag = this.game.prodigy.create.sprite(0, 0, "core-2", "user-bar-flag-back"), this.flag.x = this.reverse ? Prodigy.Container.Hearts.WIDTH - this.flag.width : 0, this.add(this.flag), this.flagType = this.game.prodigy.create.sprite(0, 0, "core-2", "user-bar-flag-back"), this.flagType.x = this.reverse ? Prodigy.Container.Hearts.WIDTH - (this.flag.width - 7) : 7, this.flagType.y = -5, this.add(this.flagType), this.flagIcon = this.game.prodigy.create.sprite(70, 168, "icons", "star"), this.flagIcon.x = this.reverse ? Prodigy.Container.Hearts.WIDTH - 70 : 70, this.flagIcon.anchor.setTo(.5, .5), this.add(this.flagIcon), this.playerName = this.game.prodigy.create.font(this, 0, 5, "", {
		size: 20
	}), this.levelTitle = this.game.prodigy.create.sprite(this.flagType.x + 22, 7, "core-2", "user-bar-level"), this.add(this.levelTitle), this.levelText = this.game.prodigy.create.font(this, this.flagType.x - 1, 39, null, {
		size: 1,
		width: 126,
		align: "center",
		font: "battle",
		mono: 44
	}), this.setSource(s), this.ready = !0
}, Prodigy.extends(Prodigy.Container.Hearts, Prodigy.Control.Element, {
	constructor: Prodigy.Container.Hearts,
	moveOut: function () {
		this.game.add.tween(this).to({
			x: this.reverse ? 1300 : -Prodigy.Container.Hearts.WIDTH
		}, 700, Phaser.Easing.Quadratic.In, !0)
	},
	moveIn: function () {
		this.game.add.tween(this).to({
			x: this.baseX
		}, 2100, Phaser.Easing.Quadratic.In, !0)
	},
	setSource: function (e) {
		Util.isDefined(e) && (this.nextSrc !== e ? (this.nextSrc = e, this.updateData(), this.x !== this.baseX && (this.game.tweens.removeFrom(this), this.x = this.baseX, this.y = -300, this.game.add.tween(this).to({
			y: 0,
			x: this.baseX
		}, 1200, Phaser.Easing.Quadratic.Out, !0))) : this.x !== this.baseX && (this.game.tweens.removeFrom(this), this.moveIn()))
	},
	updateData: function () {
		this.player = this.nextSrc, this.playerName.setText(this.player.getName()), this.playerName.x = this.reverse ? Prodigy.Container.Hearts.WIDTH - 143 - this.playerName.width : 143, this.playerName.y = 5;
		var e = this.player.getElement();
		this.flagIcon.frameName = "icon-bar-" + e, this.flagType.frameName = "user-bar-flag-" + e, this.level = this.player.getLevel(), this.totalHearts = this.player.getMaxHearts(), this.currentHearts = this.target = this.player.getCurrentHearts(), this.currentStars = this.player.getStars(), this.starsToLevel = this.player.getStarsToLevel(), this.levelText.setText(this.level.toString()), this.displayCurrentHearts = 0, this.displayCurrentTotalHearts = 0, this.heartsPercentage = 2, this.starPercentage = 2, this.updateHeartsBarText(!1), this.updateHeartsBar(!1), this.updateStarsBar(!1)
	},
	updateHeartsBar: function (e) {
		if (Util.isDefined(this.player) && this.player.hasHeartsEventInQueue()) return !0;
		var t = Math.round(this.currentHearts / this.totalHearts * 100) / 100;
		if (e && (this.currentHearts > this.displayCurrentHearts ? this.bumpHearts() : this.bumpDownHearts()), t !== this.heartsPercentage) {
			this.heartsPercentage = t;
			var i = this.heartsBase.x + (this.reverse ? Math.round(278 * (1 - this.heartsPercentage)) : -Math.round(278 * (1 - this.heartsPercentage)));
			e ? this.game.add.tween(this.heartsFill).to({
				x: i
			}, 1e3, Phaser.Easing.Quadratic.Out, !0) : this.heartsFill.x = i
		}
		return !1
	},
	updateHeartsBarText: function (e) {
		if (!Util.isDefined(this.player) || !this.player.hasHeartsEventInQueue()) {
			if (this.displayCurrentHearts !== this.currentHearts || 0 === this.heartsBarText.text.length) {
				e || (this.displayCurrentHearts = this.currentHearts);
				var t = Math.round(.05 * Math.abs(this.displayCurrentHearts - this.currentHearts));
				1 > t && (t = 1), this.displayCurrentHearts += this.displayCurrentHearts < this.currentHearts ? t : -t, this.heartsBarText.setText(Math.round(this.displayCurrentHearts) + "/" + this.totalHearts)
			}
			this.displayCurrentTotalHearts !== this.totalHearts && (this.displayCurrentTotalHearts = this.totalHearts, this.heartsBarText.setText(Math.round(this.displayCurrentHearts) + "/" + this.totalHearts))
		}
	},
	updateStarsBar: function (e) {
		var t = Prodigy.Creature.starsToLevel(this.level > 0 ? this.level - 1 : 0);
		this.currentStars < t && (this.currentStars = t);
		var i = Math.round((this.currentStars - t) / (this.starsToLevel + (this.currentStars - t)) * 100) / 100;
		if (this.level >= 100 && (i = 1), i !== this.starPercentage) {
			var a = 20,
				s = this.reverse ? this.starsBase.x + Math.round((1 - i) * (278 - a)) : this.starsBase.x - Math.round((1 - i) * (278 - a));
			if (e) {
				if (i < this.starPercentage) {
					var r = this.game.add.tween(this.starsFill).to({
							x: this.starsBase.x
						}, 1e3, Phaser.Easing.Quadratic.Out, !1, 700),
						o = this.game.add.tween(this.starsFill).to({
							alpha: 0
						}, 100, Phaser.Easing.Linear.None),
						n = this.game.add.tween(this.starsFill).to({
							x: s
						}, 1e3, Phaser.Easing.Quadratic.Out);
					o.onComplete.add(function () {
						this.starsFill.alpha = 1, this.starsFill.x = this.starsBase.x + (this.reverse ? 278 : -278)
					}, this), r.chain(o), o.chain(n), r.start()
				} else this.game.add.tween(this.starsFill).to({
					x: s
				}, 1e3, Phaser.Easing.Quadratic.Out, !0, 700);
				this.bumpStars()
			} else this.starsFill.x = s;
			this.starPercentage = i
		}
	},
	bumpStars: function () {
		this.game.add.tween(this.starsIcon.scale).to({
			y: 1.4,
			x: 1.4
		}, 220, Phaser.Easing.Quadratic.Out, !0, 800, 2, !0)
	},
	bumpHearts: function () {
		this.game.add.tween(this.heartsIcon.scale).to({
			y: 1.4,
			x: 1.4
		}, 250, Phaser.Easing.Quadratic.Out, !0, 400, 5, !0)
	},
	bumpDownHearts: function () {
		var e = this.heartsIcon,
			t = this.game.add.tween(e.scale).to({
				y: .9,
				x: .9
			}, 700, Phaser.Easing.Quadratic.Out, !0);
		t.onComplete.add(function () {
			e.scale.setTo(1, 1)
		}, e)
	},
	updateLevelText: function () {
		this.levelText.setText(this.level.toString())
	},
	updateLevel: function (e) {
		Util.isDefined(e) ? (this.game.add.tween(this.levelText).to({
			y: -100
		}, 500, Phaser.Easing.Quadratic.Out, !0, 0, 0, !0), this.game.time.events.add(500, this.updateLevelText, this)) : this.updateLevelText()
	},
	update: function () {
		if (Prodigy.Control.Element.prototype.update.call(this), Util.isDefined(this.player) && Util.isDefined(this.ready) && (this.updateHeartsBarText(!0), this.game.prodigy.updateCount % 15 == 0)) {
			var e = this.player.getMaxHearts(),
				t = this.player.getCurrentHearts(),
				i = this.player.getStars(),
				a = this.player.getStarsToLevel(),
				s = this.player.getLevel();
			s !== this.level && (this.level = s, this.starPercentage = 1, this.game.time.events.add(3e3, this.updateLevel.bind(this, !0), this)), (e !== this.totalHearts || this.retryUpdateHearts) && (this.totalHearts = e, this.currentHearts = t, this.retryUpdateHearts = this.updateHeartsBar(!0)), (t !== this.currentHearts || this.retryUpdateHearts) && (this.currentHearts = t, this.retryUpdateHearts = this.updateHeartsBar(!0)), (this.starsToLevel !== a || this.currentStars !== i) && (this.currentStars = i, this.starsToLevel = a, this.updateStarsBar(!0))
		}
	}
}), Prodigy.Container.Hearts.WIDTH = 460, Prodigy.Container.Hearts.getAssets = function () {
	return []
}, Prodigy.Container.Chest = function (e, t, i, a, s) {
	Prodigy.Control.Element.call(this, e, t), this.levelUp = !1;
	var r = "open a chest!";
	if (this.chests = [], Math.random() > .6 && this.game.prodigy.player.getLevel() >= -5 && i) {
		var o = Math.floor(2 * Math.random());
		this.chests.push(this.createChest(950 + (0 === o ? -230 : 30), a)), this.chests.push(this.createChest(950 + (1 === o ? -230 : 30), a.concat(s), !0))
	} else this.chests.push(this.createChest(850, a)), r = "open the chest!";
	this.rewards = this.game.prodigy.create.element(this, 0, 0), this.openText = this.game.prodigy.create.font(this, 750, 300, r, {
		font: "button",
		size: 36,
		width: 400,
		align: "center"
	}), this.game.add.tween(this.openText).to({
		y: 320
	}, 3e3, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0), this.initListeners(), GameConstants.get("GameConstants.Build.DEBUG") && this.game.broadcaster.addAppListener(Prodigy.Events.Debug.AUTO_CLICK, this.onDebugAutoClick.bind(this), this)
}, Prodigy.extends(Prodigy.Container.Chest, Prodigy.Control.Element, {
	constructor: Prodigy.Container.Chest,
	initListeners: function () {
		this.game.broadcaster.addAppListener(Prodigy.Events.Chest.SHOW_MEMBER_STARS, this.showMemberStars.bind(this), this, this.game), this.onDestroy.add(this.stopListeners, this)
	},
	stopListeners: function () {
		Util.isDefined(this.chestOpened) && Util.isDefined(this.chestOpened.bot) && this.chestOpened.bot.destroy(), this.game.broadcaster.removeAppListener(Prodigy.Events.Chest.SHOW_MEMBER_STARS, this, this.game)
	},
	createChest: function (e, t, i) {
		var a = this.game.prodigy.create.element(this, 1500, 100);
		a.reward = t, a.specialChest = i, a.chestId = i ? 2 : 1, a.bot = this.game.prodigy.create.sprite(0, 95, "battle", i ? "member-chest-bottom" : "chest-bottom"), a.bot.inputEnabled = !0, a.add(a.bot), a.top = this.game.prodigy.create.sprite(0, i ? -25 : 0, "battle", i ? "member-chest-closed" : "chest-closed"), a.top.inputEnabled = !0, a.add(a.top), this.game.add.tween(a).to({
			x: e
		}, 1200, Phaser.Easing.Quadratic.Out).start();
		var s = this.game.add.tween(a).to({
			y: 400
		}, 1200, Phaser.Easing.Bounce.Out).start();
		return s.onComplete.add(this.activate.bind(this, a), this), a
	},
	activate: function (e) {
		e.top.events.onInputDown.add(this.onDown.bind(this, e), this), e.bot.events.onInputDown.add(this.onDown.bind(this, e), this)
	},
	onDebugAutoClick: function (e) {
		if (Util.isDefined(e)) "chest_1" === e && this.onDown(this.chests[0]), "chest_2" === e && this.onDown(this.chests[1]);
		else
			for (var t = 0; t < this.chests.length; t++) Util.log("Button Tag: chest_" + this.chests[t].chestId)
	},
	onDown: function (e) {
		if (!this.locked) {
			if (e.top.y = -30, this.chestOpened = e, this.game.tweens.removeFrom(this.openText, !1), this.openText.destroy(), e.specialChest && this.game.prodigy.network.sendAnalytics("Select-Member-Chest"), e.specialChest && !this.game.prodigy.player.isMember) return this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.MEMBER_CHESTS), void 0;
			e.top.frameName = e.specialChest ? "member-chest-open" : "chest-open", this.locked = !0;
			var t, i = [];
			for (t = 0; t < e.reward.length; t++) {
				var a = e.reward[t];
				if ("gold" === a.type)
					for (var s = 0; s < a.N / 10; s++) i.push(this.game.prodigy.create.sprite(0, 0, "icons", "gold"));
				else i.push(this.game.prodigy.create.sprite(0, 0, Items.getIconAtlas(a), Util.convertItemToIcon(a)))
			}
			var r;
			for (t = 0; t < i.length; t++) {
				i[t].anchor.setTo(.5, .5), i[t].x = e.x + 80 + 40 * Math.random(), i[t].y = e.y + 120, i[t].visible = !1, this.rewards.add(i[t]), r = 50 * t + Math.floor(50 * Math.random());
				var o = this.game.add.tween(i[t]).to({
					y: 500 - (200 + Math.floor(240 * Math.random()))
				}, 600, Phaser.Easing.Quadratic.Out);
				o.onStart.add(function () {
					this.icon.visible = !0
				}, {
					icon: i[t]
				}), o.delay(r), o.to({
					y: 500
				}, 600, Phaser.Easing.Quadratic.In), o.start(), this.game.add.tween(i[t]).to({
					x: 250,
					angle: Math.floor(360 * Math.random())
				}, 1200, Phaser.Easing.Linear.None).delay(r).to({
					alpha: 0
				}, 100, Phaser.Easing.Linear.None).start(), o.start()
			}
			e.bot.x = e.bot.x + e.x, e.bot.y = e.bot.y + e.y, this.rewards.add(e.bot), 0 === e.reward.length ? this.game.broadcaster.broadcast(Prodigy.Events.VictoryManager.SHOW_DROPS, this.game, [e.reward]) : this.game.time.events.add(3e3, this.showDrops.bind(this, e.reward), this)
		}
	},
	showMemberStars: function (e, t) {
		for (var i = this.game.prodigy.player.isMember ? 0 : 1e3, a = 0; 15 > a; a++) this.addMemberStar(80 * a + 80 * Math.random() + i, 14 === a);
		this.game.broadcaster.broadcast(Prodigy.Events.Screen.ADD_CHILD, this.game, [this.chestOpened.bot, "menus"]), this.game.prodigy.player.isMember && (this.levelUp = t.addStars(e, null, !0))
	},
	addMemberStar: function (e, t) {
		var i = this.game.prodigy.create.sprite(this.chestOpened.bot.x + 80, this.chestOpened.bot.y + 50, "core-2", "member-star");
		i.anchor.setTo(.5, .5), this.game.broadcaster.broadcast(Prodigy.Events.Screen.ADD_CHILD, this.game, [i, "menus"]);
		var a = 1 + .4 * Math.random();
		if (this.game.prodigy.player.isMember) {
			i.scale.setTo(0, 0);
			var s = this.game.add.tween(i.scale).to({
					x: 1,
					y: 1
				}, 200, Phaser.Easing.Quadratic.Out).delay(e),
				r = this.game.add.tween(i.scale).to({
					x: 1.3,
					y: 1.3
				}, 400, Phaser.Easing.Quadratic.InOut),
				o = this.game.add.tween(i.scale).to({
					x: a,
					y: a
				}, 400, Phaser.Easing.Quadratic.InOut),
				n = this.game.add.tween(i.scale).to({
					x: 0,
					y: 0
				}, 200, Phaser.Easing.Quadratic.In);
			n.onComplete.add(function () {
				i.kill()
			}, i), t && n.onComplete.add(function () {
				this.memberStarsFinish()
			}, this), s.chain(r), r.chain(o), o.chain(n), s.start(), this.game.add.tween(i).to({
				y: 90 + 10 * Math.random()
			}, 1200, Phaser.Easing.Quadratic.Out).delay(e).start(), this.game.add.tween(i).to({
				x: 279 + 40 * Math.random()
			}, 1200, Phaser.Easing.Quadratic.In).delay(e).start()
		} else {
			var h = 590 + Math.floor(100 * Math.random()),
				l = 260 + Math.floor(100 * Math.random()),
				d = 30 + Math.floor(20 * Math.random()),
				p = 30 + Math.floor(20 * Math.random());
			this.game.add.tween(i.scale).to({
				x: a,
				y: a
			}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0), this.game.add.tween(i).to({
				y: l
			}, 600, Phaser.Easing.Quadratic.Out, !0).delay(e);
			var c = this.game.add.tween(i).to({
					x: h - d
				}, 800, Phaser.Easing.Quadratic.In, !0).delay(e),
				g = this.game.add.tween(i).to({
					y: l + p,
					x: h + d
				}, 600, Phaser.Easing.Quadratic.InOut),
				u = this.game.add.tween(i).to({
					y: -(100 + 100 * Math.random()),
					x: 1280 + 150 * Math.random()
				}, 800, Phaser.Easing.Quadratic.In);
			t && u.onComplete.add(function () {
				this.memberStarsFinish()
			}, this), u.onComplete.add(function () {
				i.kill()
			}, i), c.chain(g), g.chain(u), c.start()
		}
	},
	memberStarsFinish: function () {
		this.game.broadcaster.broadcast(Prodigy.Events.FlyingMemberStars.DONE, this.game, [this.levelUp])
	},
	showDrops: function (e) {
		for (var t = 0; t < e.length; t++) "gold" === e[t].type && (e[t].N = Math.floor(e[t].N * this.game.prodigy.affixes.getGold()));
		this.game.broadcaster.broadcast(Prodigy.Events.VictoryManager.SHOW_DROPS, this.game, [e])
	}
}), Prodigy.Container.Achievement = function (e, t, i, a, s) {
	Prodigy.Control.Element.call(this, e, t, i, a), this.src = s, this.create(), this.setSource(s)
}, Prodigy.extends(Prodigy.Container.Achievement, Prodigy.Control.Element, {
	constructor: Prodigy.Container.Achievement,
	create: function () {
		var e = this.game.prodigy.create.panel(this, 0, 0, 16, 3, "award");
		e.add(this.game.prodigy.create.sprite(10, 10, "core", "award-frame"));
		var t = this.game.prodigy.create.panel(e, 550, 10, 2, 2, "white");
		this.icon = t.add(this.game.prodigy.create.sprite(40, 40, "icons", "item/3")), this.icon.scale.x = this.icon.scale.y = .8, this.icon.anchor.setTo(.5, .5), this.name = this.game.prodigy.create.font(e, 120, 6, "", {}), this.desc = this.game.prodigy.create.font(e, 120, 93, "", {
			align: "right",
			width: 510,
			size: 16
		}), this.bar = this.game.prodigy.create.progressBar(e, 120, 50, 420), this.stars = [];
		for (var i = 0; 5 > i; i++) this.stars.push(e.add(this.game.prodigy.create.sprite(60, 60, "core", "star-empty"))), this.stars[i].anchor.setTo(.5, .5), this.stars[i].visible = !1;
		this.star = e.add(this.game.prodigy.create.sprite(60, 60, "core", "star-full")), this.star.anchor.setTo(.5, .5), this.star.visible = !1, this.award = e.add(this.game.prodigy.create.sprite(60, 55, "core", "award-ribbon")), this.award.anchor.setTo(.5, .5), this.award.visible = !1
	},
	setSource: function (e) {
		this.src !== e && (this.src = e, this.updateState())
	},
	updateState: function () {
		if (this.visible = Util.isDefined(this.src), Util.isDefined(this.src)) {
			this.name.setText(this.game.prodigy.achievements.getName(this.src)), this.desc.setText(this.game.prodigy.achievements.getDesc(this.src)), this.bar.setProgress(this.game.prodigy.achievements.getProgress(this.src), this.game.prodigy.achievements.getCompletionText(this.src)), this.icon.loadTexture(Items.getIconAtlas(this.src.icon), Util.convertItemToIcon(this.src.icon));
			for (var e = 40, t = Math.PI * (2 / 3) / 4, i = (Math.PI - Math.PI * (2 / 3)) / 2, a = this.src.ranks.length <= 1 ? Math.PI / 2 : Math.PI - (i + t * (2 - .5 * (this.src.ranks.length - 1))), s = this.game.prodigy.player.achievements.getProgress(this.src.ID), r = 0; 5 > r; r++) {
				var o = this.stars[r];
				r >= this.src.ranks.length ? o.visible = !1 : (o.visible = !0, o.x = Math.floor(60 + e * Math.cos(a - t * r)), o.y = Math.floor(60 + e * Math.sin(a - t * r)), o.frameName = s > r ? "star-full" : "star-empty")
			}
			this.award.visible = s >= this.src.ranks.length
		}
	},
	unlockNext: function (e) {
		if (Util.isDefined(this.src)) {
			var t = this.game.prodigy.player.achievements.getProgress(this.src.ID);
			if (!(t >= this.src.ranks.length)) {
				var i = this.stars[t];
				this.star.x = i.x, this.star.y = i.y, this.star.visible = !0, this.star.scale.x = this.star.scale.y = 5, this.star.alpha = 0, this.game.add.tween(this.star.scale).to({
					x: 1,
					y: 1
				}, 500, Phaser.Easing.Linear.None).start();
				var a = this.game.add.tween(this.star).to({
					alpha: 1
				}, 500, Phaser.Easing.Linear.None).to({}, 1500, Phaser.Easing.Linear.None).start();
				t === this.src.ranks.length - 1 && (this.award.visible = !0, this.award.alpha = 0, this.award.scale.x = this.award.scale.y = 5, this.game.add.tween(this.award.scale).to({
					x: 1,
					y: 1
				}, 800, Phaser.Easing.Linear.None).delay(500).start(), a = this.game.add.tween(this.award).to({
					alpha: 1
				}, 800, Phaser.Easing.Linear.None).delay(500).start()), a.onComplete.addOnce(this.endUnlock.bind(this, e), this)
			}
		}
	},
	endUnlock: function (e) {
		this.star.visible = !1, this.game.prodigy.player.achievements.complete(this.src.ID), this.updateState(), Util.isDefined(e) && e()
	}
}), Prodigy.Container.UserEquipment = function (e, t, i, a, s, r, o) {
	Prodigy.Control.Element.call(this, e, t), this.x = i, this.y = a, this.add(this.game.prodigy.create.sprite(0, 0, "core-2", "char-container")), r || (this.add(this.game.prodigy.create.sprite(0, 174, "icons", "icon-base")), this.add(this.game.prodigy.create.sprite(72, 263, "icons", "icon-base")), this.add(this.game.prodigy.create.sprite(196, 263, "icons", "icon-base")), this.add(this.game.prodigy.create.sprite(268, 174, "icons", "icon-base")), this.hat = this.game.prodigy.create.icon(this, 0, 174, "icons", Util.isDefined(s.equipment.getEquipment("hat")) ? "hat/" + s.equipment.getEquipment("hat") : 0, 1, o ? null : this.unEquipItem.bind(this, "hat")), this.weapon = this.game.prodigy.create.icon(this, 72, 263, "icons", Util.isDefined(s.equipment.getEquipment("weapon")) ? "weapon/" + s.equipment.getEquipment("weapon") : 0, 1, o ? null : this.unEquipItem.bind(this, "weapon")), this.boots = this.game.prodigy.create.icon(this, 196, 263, "icons", Util.isDefined(s.equipment.getEquipment("boots")) ? "boots/" + s.equipment.getEquipment("boots") : 0, 1, o ? null : this.unEquipItem.bind(this, "boots")), this.outfit = this.game.prodigy.create.icon(this, 268, 174, "icons", Util.isDefined(s.equipment.getEquipment("outfit")) ? "outfit/" + s.equipment.getEquipment("outfit") : 0, 1, o ? null : this.unEquipItem.bind(this, "outfit"))), this.setPlayer(s)
}, Prodigy.extends(Prodigy.Container.UserEquipment, Prodigy.Control.Element, {
	constructor: Prodigy.Container.UserEquipment,
	setPlayer: function (e) {
		Util.isDefined(this.user) && this.user.destroy(), this.user = this.game.prodigy.create.player(this, e, 2, 174, 230), this.user.reload(), this.player = e
	},
	equipItem: function (e, t) {
		if (Util.isDefined(this[t]) && this.player.equip(e, t)) {
			this.player.appearanceChanged = !0, this[t].setValue(t + "/" + e, 1, !1, !0), this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "whoosh"); {
				Items.getItemData(t, e)
			}
			"boots" !== t && this.user.reload()
		}
	},
	unEquipItem: function (e) {
		Util.isDefined(this[e]) && this.player.unEquip(e) && (this[e].setValue(-1, 1, !1, !0), this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "blop"), "boots" !== e && this.user.reload())
	}
}), Prodigy.Container.QuantityIcon = function (e, t, i, a, s, r, o, n) {
	Prodigy.Control.Element.call(this, e, t), this.sprite = this.game.prodigy.create.sprite(0, 0, s, 0), this.sprite.inputEnabled = !0, this.sprite.events.onInputDown.add(this.clicked, this), this.add(this.sprite), this.callback = n, this.x = i, this.y = a, this.font = this.game.prodigy.create.font(this, 0, 60, "", {
		size: 20,
		width: 100,
		align: "left"
	}), this.icon = this.game.prodigy.create.font(this, 0, 0, "@", {
		size: 16
	}), this.icon.alpha = 0, this.add(this.icon), this.visible = !1, this.setValue(r, o)
}, Prodigy.extends(Prodigy.Container.QuantityIcon, Prodigy.Control.Element, {
	constructor: Prodigy.Container.QuantityIcon,
	setValue: function (e, t, i) {
		return -1 !== e && 0 !== e && Util.isDefined(e) ? (this.visible = !0, this.sprite.frameName = e, this.icon.alpha = i ? .75 : 0, this.font.setText(Util.isDefined(t) && (t > 1 || t.length > 1) ? t + "" : ""), void 0) : (this.visible = !1, this.icon.alpha = 0, this.font.setText(""), void 0)
	},
	setCallback: function (e) {
		this.callback = e
	},
	clicked: function () {
		Util.isDefined(this.callback) && this.callback()
	},
	centerAnchor: function () {
		this.sprite.anchor.setTo(.5, .5)
	}
}), Prodigy.Container.StarDisplay = function (e, t, i, a, s, r) {
	Prodigy.Control.Element.call(this, e, t), this.x = i - 77, this.y = a, this.add(this.game.prodigy.create.sprite(0, 0, "battle", "stars")), this.star = this.game.prodigy.create.sprite(35, 3, "battle", "stars-full"), this.add(this.star), this.lvl = this.game.prodigy.create.font(this, 27, 25, "" + s.getLevel(), {
		size: 40,
		width: 100,
		align: "center"
	}), this.source = s, this.giveStars(0);
	for (var o = 0; r > o; o++) {
		var n = this.game.prodigy.create.sprite(77 + Math.floor(-30 + 60 * Math.random()), -600, "battle", "star-icon");
		this.add(n), n.anchor.setTo(.5, .5);
		var h = this.game.add.tween(n).to({
			y: -40
		}, 400, Phaser.Easing.Linear.None).delay(200 * o).to({
			alpha: 0
		}, 1, Phaser.Easing.Linear.None).start();
		h.onComplete.add(this.giveStars.bind(this, 1), this)
	}
}, Prodigy.extends(Prodigy.Container.StarDisplay, Prodigy.Control.Element, {
	constructor: Prodigy.Container.StarDisplay,
	giveStars: function (e) {
		var t = this.source.getLevel();
		this.source.addStars(e);
		var i = this.source.getLevel(),
			a = Math.floor(82 * Prodigy.Creature.getLevelPercent(this.source.getStars()));
		0 >= a && (a = 1), 100 > i ? (this.star.crop({
			x: 0,
			y: 82 - a,
			width: 84,
			height: a
		}), this.star.y = 3 + (82 - a), t !== i && (this.source.changeCurrentHearts(Number.MAX_VALUE), this.lvl.setText(i + ""), this.game.add.tween(this.lvl).to({
			x: this.lvl.x - 50,
			y: this.lvl.y - 50
		}, 300, Phaser.Easing.Quadratic.Out).to({
			x: this.lvl.x,
			y: this.lvl.y
		}, 300, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(this.lvl.scale).to({
			x: 2,
			y: 2
		}, 300, Phaser.Easing.Quadratic.Out).to({
			x: 1,
			y: 1
		}, 300, Phaser.Easing.Quadratic.In).start())) : this.star.y = 3
	}
}), Prodigy.MailIcon = function (e, t, i, a) {
	Prodigy.Control.Button.call(this, e, t, i, a, "icons", "mail", this.clicked.bind(this)), this._updatePanel = e.prodigy.create.panel(this, -170, 0, 4, 2, "mail"), this._updatePanel.add(this.game.prodigy.create.sprite(3, 3, "icons", "mail-challenge")), this._updatePanel.msgTop = this.game.prodigy.create.font(this._updatePanel, 40, 8, "New Mail!", {
		size: 16
	}), this._updatePanel.msgBot = this.game.prodigy.create.font(this._updatePanel, 10, 44, "", {
		font: "black",
		size: 16,
		width: 145,
		align: "center"
	}), this._updatePanel.visible = !1, this._bg = this.add(e.prodigy.create.sprite(0, 56, "icons", "mailCount")), this._bg.visible = !1, this._count = e.prodigy.create.font(this, 0, 53, "", {
		width: 40,
		align: "center"
	}), this.process(e.prodigy.mail.getMailCount()), e.prodigy.mail.addUpdateCallback(this.process.bind(this))
}, Prodigy.extends(Prodigy.MailIcon, Prodigy.Control.Button, {
	constructor: Prodigy.MailIcon,
	clicked: function () {
		this.game.prodigy.open.mailbox()
	},
	process: function (e, t) {
		if (Util.isDefined(this.game) && (this._bg.visible = e > 0, this._count.visible = e > 0, this._count.setText(e + ""), t)) {
			var i = function (e) {
				e.visible = !1
			};
			this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "dig"), this.game.tweens.removeFrom(this._updatePanel, !1), this._updatePanel.msgBot.setText(Util.capitalize(t.action) + "!"), this._updatePanel.visible = !0, this._updatePanel.alpha = 1, this.game.add.tween(this._updatePanel).to({
				alpha: 0
			}, 500, Phaser.Easing.Linear.None, !0, 2e3).onComplete.add(i.bind(this, this._updatePanel))
		}
	}
}), Prodigy.Container.ChatBubble = function (e, t, i, a, s) {
	Prodigy.Control.Element.call(this, e, t), this.x = i, this.y = a, this.chatID = 0, this.dontHide = Util.isDefined(s) && s === !0, this.add(this.game.prodigy.create.sprite(-38, -72, "icons", "chat/bubble"))
}, Prodigy.extends(Prodigy.Container.ChatBubble, Prodigy.Control.Element, {
	constructor: Prodigy.Container.ChatBubble,
	setID: function (e) {
		if (Util.isDefined(this.game)) {
			this.visible = !0, this.chatID++, this.scale.x = this.scale.y = 0, this.game.add.tween(this.scale).to({
				x: 1.2,
				y: 1.2
			}, 200, Phaser.Easing.Quadratic.Out).to({
				x: .8,
				y: 1
			}, 200, Phaser.Easing.Quadratic.In).to({
				x: 1,
				y: .8
			}, 200, Phaser.Easing.Quadratic.Out).to({
				x: 1,
				y: 1
			}, 200, Phaser.Easing.Quadratic.In).start(), Util.isDefined(this.emote) && this.emote.destroy(), this.emote = this.game.prodigy.create.sprite(0, 0, "icons", "chat/" + this.game.prodigy.chat.getEmote(e)), this.add(this.emote), this.emote.x = 2 - .5 * this.emote.width, this.emote.y = -42 - .5 * this.emote.height;
			var t = function (e) {
				e === this.chatID && (this.visible = !1)
			};
			this.dontHide === !1 && (this.timer = this.game.time.events.add(5e3, t.bind(this, this.chatID), this))
		}
	}
}), Prodigy.Container.QuestNPC = function (e, t, i, a, s, r, o, n, h) {
	Prodigy.Control.Element.call(this, e, t), this.x = i, this.y = a, this.data = Util.copyObject(s), this.npcData = r, this.npc = this.game.prodigy.create.sprite(0, 0, "npc-sprite-" + this.npcData.atlas, 0), this.npc.animations.add("stand", ["npc_0", "npc_1", "npc_2", "npc_3", "npc_4", "npc_5", "npc_6", "npc_7"], 10, !0, !1), this.npc.animations.play("stand"), this.npc.inputEnabled = !0, this.npc.anchor.setTo(.5, 1), this.npc.events.onInputDown.add(this.process.bind(this), this), n && (this.npc.scale.x = -1), this.add(this.npc), this.dialogue = this.game.prodigy.dialogue.create(), this.updateIndicator(), Util.isDefined(s) && Util.isDefined(s.quests) && this.setIndicator("quest"), Util.isDefined(this.npcData) && Util.isDefined(this.npcData.indicator) && this.setIndicator(this.npcData.indicator), this.name = this.game.prodigy.create.font(this, -200, 0 - this.npc.height - 20, this.npcData.name, {
		width: 400,
		align: "center",
		size: 16
	}), this.clickCallback = o, this.finishCallback = h
}, Prodigy.extends(Prodigy.Container.QuestNPC, Prodigy.Control.Element, {
	constructor: Prodigy.Container.QuestNPC,
	setIndicator: function (e) {
		Util.isDefined(this.indicator) || (this.indicator = this.game.prodigy.create.sprite(0, -(this.npc.height - 10), "icons", e), this.indicator.anchor.setTo(.5, 1), this.add(this.indicator), this.game.add.tween(this.indicator).to({
			y: this.indicator.y - 50
		}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0)), this.indicator.frameName = e
	},
	updateIndicator: function () {
		if (Util.isDefined(this.indicator)) {
			if (!Util.isDefined(this.data) || !Util.isDefined(this.data.ID)) return this.indicator.frameName = "quest", void 0;
			var e = this.game.prodigy.player.quests,
				t = this.data.ID,
				i = e.getCurrentQuest(t),
				a = this.data.quests[i - 1],
				s = e.isQuestComplete(t, i, this.game.prodigy.player, a),
				r = e.isQuestStarted(t, i);
			this.indicator.frameName = s && i > 0 && r ? "quest-complete" : "quest"
		}
	},
	process: function () {
		if (Util.isDefined(this.clickCallback)) this.clickCallback();
		else if (Util.isDefined(this.data) && Util.isDefined(this.data.ID)) {
			this.currentSaveState = this.game.prodigy.player.saveEnabled, this.game.prodigy.player.saveEnabled = !1;
			var e = this.game.prodigy.player.quests,
				t = !1,
				i = this.data.ID,
				a = e.getCurrentQuest(i);
			0 === a && (e.startQuestLine(i), a = e.getCurrentQuest(i));
			var s = this.data.quests[a - 1],
				r = e.isQuestComplete(i, a, this.game.prodigy.player, s),
				o = e.isQuestStarted(i, a);
			if (!Util.isDefined(s) && a > 0) {
				if (Util.isDefined(this.finishCallback)) return this.finishCallback(), void 0;
				t = !0
			} else r && o ? (this.dialogue.setText({
				element: this.processMap.bind(this, this.data, {
					complete: a
				})
			}), e.completeQuest(i, a, this.game.prodigy.player, s), this.queueText(s.complete), Util.isDefined(s.reward) && this.dialogue.setText({
				callback: this.game.prodigy.open.gotItem.bind(this.game.prodigy.open, s.reward, this.finishDialogue.bind(this, !0))
			}), this.dialogue.setText({
				callback: this.game.prodigy.effects.flashText.bind(this.game.prodigy.effects, "Quest Complete!")
			})) : o ? (this.queueText(s.during), t = !0) : (e.startQuest(i, a, this.data.quests[a - 1]), this.queueText(s.start), a = e.getCurrentQuest(i), s = this.data.quests[a - 1], this.queueText(s.during), t = !0);
			t && (s ? this.dialogue.setText({
				element: this.processMap.bind(this, this.data, null)
			}) : (s = {}, s.encounter = this.data.battle.encounter), this.dialogue.setText({
				callback: this.finishDialogue.bind(this)
			}), this.dialogue.setText({
				face: this.data.dialogue[1].face,
				text: this.data.dialogue[1].text,
				audio: this.data.dialogue[1].audio,
				yes: this.startBattle.bind(this, s, !0)
			})), this.dialogue.start("" + this.npcData.atlas)
		}
		Util.isDefined(this.data) && Util.isDefined(this.data.quests) && this.updateIndicator()
	},
	finishDialogue: function (e) {
		this.game.prodigy.player.saveEnabled = this.currentSaveState, e && this.process()
	},
	processMap: function (e, t, i) {
		var a = new Prodigy.Container.QuestMap(this.game, i, 0, 0);
		a.open(e, t)
	},
	queueText: function (e) {
		if (Util.isDefined(e))
			for (var t = 0; t < e.length; t++) {
				var i = this.data.dialogue[e[t]];
				this.dialogue.setText(i)
			}
	},
	startBattle: function (e, t) {
		if (t) {
			var i = function (e) {
					e.prodigy.world.teleport(this.data.tag, 280, 440)
				},
				a = e.mods || {};
			a.screen = this.data.battle.screen, a.quest = e, a.encounter = e.encounter, a.zoneID = this.data.ID, a.quest = e, a.drops = Util.isDefined(e.drops) ? e.drops : this.data.battle.drops, a.difficulty = e.difficulty, Util.isDefined(a.difficulty) || (a.difficulty = Math.floor(this.game.prodigy.player.getLevel() / 15)), Util.isDefined(e.boss) && (a.boss = e.boss, a.boss.level = this.game.prodigy.player.getLevel(), a.boss.maxHP = 20 + Math.floor(a.boss.level / 100 * 40 * 4), a.difficulty = Math.floor(a.boss.level / 10)), a.opponent = e.opponent, Util.isDefined(e.pets) && (a.pets = e.pets), (a.boss || a.opponent || a.pets) && (a.catch = !1), this.game.prodigy.battle.start(a, i.bind(this, this.game, !1), i.bind(this, this.game, !0), null, this.data.tag)
		}
	}
}), Prodigy.Container.Timer = function (e, t, i, a, s) {
	if (Prodigy.Control.Element.call(this, e, t), this.x = i, this.y = a, !s) {
		var r = this.game.prodigy.create.panel(this, 0, 0, 6, 2, "white");
		r.alpha = .8
	}
	this.text = this.game.prodigy.create.font(this, 0, 10, "00:00", {
		width: 300,
		size: 40,
		align: "center"
	}), this.msg = this.game.prodigy.create.font(this, 0, 60, "", {
		width: 300,
		size: 16,
		align: "center"
	}), this.eventFormat = !1
}, Prodigy.extends(Prodigy.Container.Timer, Prodigy.Control.Element, {
	constructor: Prodigy.Container.Timer,
	setTime: function (e) {
		this.target = e, this.text.setText(this.eventFormat ? Prodigy.Container.Timer.processTimeFormatted(e) : Prodigy.Container.Timer.processTime(e))
	},
	setMsg: function (e) {
		this.msg.setText(e)
	},
	start: function (e, t, i) {
		this.eventFormat = i, this.setTime(e), this.callback = t, this.targetTime = (new Date).getTime() + this.target, this.clear(), this.timer = setInterval(this.process.bind(this), 100)
	},
	pause: function () {
		this.paused = this.targetTime - (new Date).getTime()
	},
	resume: function () {
		this.targetTime = (new Date).getTime() + this.paused, this.paused = null
	},
	blink: function () {
		this.game.add.tween(this.text).to({
			y: 0
		}, 500, Phaser.Easing.Quadratic.Out).to({
			y: 10
		}, 500, Phaser.Easing.Quadratic.In).start()
	},
	add: function (e) {
		this.targetTime += e, this.process(), this.blink()
	},
	clear: function () {
		Util.isDefined(this.timer) && (window.clearInterval(this.timer), this.timer = null)
	},
	process: function () {
		if (!Util.isDefined(this.paused)) {
			var e = this.targetTime - (new Date).getTime();
			this.text.setText(this.eventFormat ? Prodigy.Container.Timer.processTimeFormatted(e) : Prodigy.Container.Timer.processTime(e)), 0 >= e && (this.clear(), Util.isDefined(this.callback) && this.callback())
		}
	},
	isInProgress: function () {
		return Util.isDefined(this.timer)
	},
	destroy: function () {
		this.clear(), Prodigy.Control.Element.prototype.destroy.call(this)
	}
}), Prodigy.Container.Timer.processTime = function (e) {
	if (0 >= e) return "00:00";
	var t = Math.floor(e / 36e5),
		i = Math.floor((e - 36e5 * t) / 6e4),
		a = Math.floor((e - 36e5 * t - 6e4 * i) / 1e3);
	return 0 === t ? t = "00" : 10 > t && (t = "0" + t), 0 === i ? i = "00" : 10 > i && (i = "0" + i), 0 === a ? a = "00" : 10 > a && (a = "0" + a), "00" === t ? i + ":" + a : 24 > t ? t + ":" + i + ":" + a : Math.floor(t / 24) + " days"
}, Prodigy.Container.Timer.processTimeFormatted = function (e, t) {
	if (0 >= e) return t.base;
	var i = Math.floor(e / 844e5),
		a = e - 844e5 * i,
		s = Math.floor(a / 36e5);
	a -= 36e5 * s;
	var r = Math.floor(a / 6e4);
	return 0 === s ? s = "00" : 10 > s && (s = "0" + s), 0 === r ? r = "00" : 10 > r && (r = "0" + r), i + "d " + s + "h " + r + "m"
}, Prodigy.Container.CreatureData = function (e, t, i, a, s) {
	Prodigy.Control.Element.call(this, e, t, i, a), this.setup(s)
}, Prodigy.extends(Prodigy.Container.CreatureData, Prodigy.Control.Element, {
	constructor: Prodigy.Container.CreatureData,
	setup: function (e, t) {
		if (this.src = e, this.callback = t, this.removeAll(!0), Util.isDefined(e)) {
			this.content = this.game.prodigy.create.panel(this, 10, 22, 7, 2);
			var i = e instanceof Player ? "player" : "pets/" + e.getID();
			this.add(this.game.prodigy.create.sprite(0, 0, "icons", i)), this.game.prodigy.create.font(this, 90, 0, e.getName()), this.add(this.game.prodigy.create.sprite(310, 0, "icons", "star")), this.game.prodigy.create.font(this, 310, 12, e.getLevel() + "", {
				width: 50,
				align: "center"
			});
			var a = e.getCurrentHearts(this.game);
			if (e instanceof Player) var s = Math.floor(e.getHearts() * this.game.prodigy.affixes.getHearts(e));
			else var s = e.getMaxHearts();
			this.content.add(this.game.prodigy.create.sprite(95, 15, "core", "empty-bar"));
			var r = this.game.prodigy.create.sprite(95, 15, "core", "empty-bar");
			r.tint = 8921634, r.alpha = .6, r.width = Math.floor(a / s * 200), this.content.add(r), this.game.prodigy.create.font(this.content, 95, 17, a + " / " + s, {
				width: 200,
				align: "center"
			}), this.content.add(this.game.prodigy.create.sprite(80, 5, "core", "heart-4-4"));
			var o = e.getStars(),
				n = Prodigy.Creature.levelFromStars(o),
				h = Prodigy.Creature.starsToLevel(n),
				l = Prodigy.Creature.starsToLevel(n - 1);
			a = o - l, s = h - l, this.content.add(this.game.prodigy.create.sprite(95, 55, "core", "empty-bar")), r = this.game.prodigy.create.sprite(95, 55, "core", "empty-bar"), r.tint = 10064418, r.alpha = .6, r.width = Math.floor(a / s * 200), this.content.add(r), this.game.prodigy.create.font(this.content, 95, 57, a + " / " + s, {
				width: 200,
				align: "center"
			}), this.content.add(this.game.prodigy.create.sprite(81, 45, "icons", "star-small"));
			var d = this.game.prodigy.create.sprite(0, 0);
			d.width = 350, d.height = 100, d.inputEnabled = !0, d.events.onInputDown.add(this.itemClicked.bind(this)), this.content.add(d)
		}
	},
	itemClicked: function () {
		Util.isDefined(this.callback) && this.callback(this.src.data)
	}
}), Prodigy.Container.ItemContainer = function (e, t, i, a, s, r, o) {
	Prodigy.Control.Element.call(this, e, t, i, a), this.affix = "", this.level = "";
	var n = Math.floor(22 * Math.random());
	0 === n && (this.affix = "catch-bonus"), 1 === n && (this.affix = "damage-plus"), 2 === n && (this.affix = "earth-damage"), 3 === n && (this.affix = "earth-resist"), 4 === n && (this.affix = "earth-immune"), 5 === n && (this.affix = "fire-damage"), 6 === n && (this.affix = "fire-resist"), 7 === n && (this.affix = "fire-immune"), 8 === n && (this.affix = "ice-damage"), 9 === n && (this.affix = "ice-resist"), 10 === n && (this.affix = "ice-immune"), 11 === n && (this.affix = "storm-damage"), 12 === n && (this.affix = "storm-resist"), 13 === n && (this.affix = "storm-immune"), 14 === n && (this.affix = "water-damage"), 15 === n && (this.affix = "water-resist"), 16 === n && (this.affix = "water-immune"), 17 === n && (this.affix = "run"), 18 === n && (this.affix = "last-chance"), 19 === n && (this.affix = "thorns"), 20 === n && (this.affix = "hearts"), 21 === n && (this.affix = "gold-drop"), n = Math.floor(3 * Math.random()), 0 === n && (this.level = "low"), 1 === n && (this.level = "med"), 2 === n && (this.level = "high"), this.data = s || {}, this.iconAtlas = Items.getIconAtlas(this.data), this.refresh(s.ID, s.type, r, o, s.N)
}, Prodigy.extends(Prodigy.Container.ItemContainer, Prodigy.Control.Element, {
	constructor: Prodigy.Container.ItemContainer,
	refresh: function (e, t, i, a, s) {
		this.ID = e || this.ID, this.type = t || this.type, this.N = s || this.N, this.mode = i || this.mode, this.onClick = a, this.owned = !1, this.price = 0;
		for (var r in this._damage) this._damage[r].destroy();
		for (var r in this._heart) this._heart[r].destroy();
		this._damage = [], this._heart = [], this.drawCard(this.mode)
	},
	drawCard: function (e) {
		var t;
		t = "gold" === this.type || "bounty" === this.type ? {
			type: this.type
		} : "spell" === this.type ? this.game.prodigy.attacks.getAttack(this.ID) : Items.getItemData(this.type, this.ID), "pet" === this.type && Util.isDefined(this.data.data) && Util.isDefined(this.data.data.nickname) && (t.nickname = this.data.data.nickname || t.name), "icon" === e ? this.createSmall(t, !0) : "icon-no-bg" === e ? this.createSmall(t, !1) : "inv" === e ? this.createInventory(t) : "store" === e ? this.createStore(t) : "card" === e ? this.createCard(t) : "info" === e && this.createLarge(t)
	},
	createPanel: function (e, t, i, a, s) {
		Util.isDefined(this._panel) && this._panel.destroy(), this._panel = Util.isDefined(s) ? this.game.prodigy.create.panel(this, 0, 0, i, a, s) : "gold" === this.type || "bounty" === this.type ? this.game.prodigy.create.panel(this, 0, 0, i, a, "item-currency") : "pet" === this.type || "spell" === this.type || "dorm" === this.type ? this.game.prodigy.create.panel(this, 0, 0, i, a, "item-" + this.type) : "item" === this.type || "fossil" === this.type || "currency" === this.type ? this.game.prodigy.create.panel(this, 0, 0, i, a, "item-common") : Util.isDefined(t) ? this.game.prodigy.create.panel(this, 0, 0, i, a, 0 === t ? "item-common" : 1 === t ? "item-uncommon" : 2 === t ? "item-rare" : 3 === t ? "item-epic" : "item-legend", "equipment" === e ? 1 : "inventory" === e ? 2 : 0) : this.game.prodigy.create.panel(this, 0, 0, i, a, "empty"), Util.isDefined(this.onClick) && this._panel.setClickable(this.clicked.bind(this))
	},
	createSmall: function (e, t) {
		this._panel = this.game.prodigy.create.element(this, 0, 0);
		var i = Util.isDefined(e),
			a = null,
			s = null,
			r = {
				x: 0,
				y: 0
			};
		if ((!Util.isDefined(t) || t) && (s = this.game.prodigy.create.sprite(0, 0, "core", i ? "white-icon" : "empty-icon"), this._panel.add(s), r.x = 10, r.y = 10), i ? a = this.game.prodigy.create.sprite(r.x, r.y, this.iconAtlas, Util.convertItemToIcon({
				type: this.type,
				ID: this.ID,
				previewIcon: e.previewIcon
			})) : (a = this.game.prodigy.create.sprite(r.x, r.y, "icons", "empty-" + this.type), a.alpha = .6), this._panel.add(a), Util.isDefined(this.onClick)) {
			var o = Util.isDefined(s) ? s : a;
			o.inputEnabled = !0, o.events.onInputDown.add(this.clicked.bind(this))
		}
	},
	createMedium: function (e) {
		if (Util.isDefined(e)) {
			this.createPanel(null, e.rarity, 4, 5);
			var t = this.game.prodigy.create.font(this, 10, 0, e.name, {
				width: 140,
				size: 16,
				align: "center",
				lineHeight: 18
			});
			if (t.y = t.lines > 1 ? 2 : 8, t.lines > 2) {
				t.destroy(), t = null;
				var t = this.game.prodigy.create.font(this, 10, 0, e.name, {
					width: 180,
					size: 16,
					align: "center",
					lineHeight: 18
				});
				t.y = 2, t.width = 130
			}
			"gold" === this.type ? (this._panel.add(this.game.prodigy.create.sprite(50, 70, "icons", "gold")), t.setText("Gold Coins")) : "bounty" === this.type ? (this._panel.add(this.game.prodigy.create.sprite(40, 50, "icons", "bounty")), t.setText("Bounty Points")) : "spell" === this.type ? this._panel.add(this.game.prodigy.create.sprite(40, 70, this.iconAtlas, Util.convertItemToIcon({
				type: this.type,
				ID: this.ID,
				element: e.element
			}))) : "item" === this.type && Util.isDefined(e.type) && "potion" === e.type ? this._panel.add(this.game.prodigy.create.sprite(40, 60, this.iconAtlas, Util.convertItemToIcon({
				type: this.type,
				ID: this.ID,
				previewIcon: e.previewIcon
			}))) : (this._panel.add(this.game.prodigy.create.sprite(40, 50, this.iconAtlas, Util.convertItemToIcon({
				type: this.type,
				ID: this.ID,
				previewIcon: e.previewIcon
			}))), "pet" === this.type && Util.isDefined(e.nickname) && t.setText(e.nickname)), "gold" === this.type || "bounty" === this.type ? this.game.prodigy.create.font(this._panel, 0, 165, "" + this.N, {
				width: 160,
				align: "center"
			}) : this.N > 1 && ("currency" !== this.type && this._panel.add(this.game.prodigy.create.sprite(10, 150, "icons", "mail-empty")), "currency" === this.type ? this.game.prodigy.create.font(this._panel, 0, 165, "" + (this.N || 99), {
				width: 160,
				align: "center"
			}) : this.game.prodigy.create.font(this._panel, 10, 155, "" + (this.N || 99), {
				width: 40,
				align: "center"
			}))
		}
	},
	createLarge: function (e) {
		if (Util.isDefined(e)) {
			this.createPanel(null, e.rarity, 17, 9);
			var t = new Phaser.TileSprite(this.game, 3, 40, 230, 280, "core", "overlay-small");
			t.alpha = .1, this._panel.add(t), this.game.prodigy.create.font(this, 0, 0, e.name, {
				font: "button",
				size: 36,
				width: 680,
				align: "center"
			}), this._panel.add(this.game.prodigy.create.sprite(80, 80, this.iconAtlas, Util.convertItemToIcon({
				type: this.type,
				ID: this.ID,
				previewIcon: e.previewIcon
			}))), this.game.prodigy.create.font(this._panel, 260, 60, e.flavorText, {
				size: 20,
				font: "black",
				width: 400,
				lineHeight: 30
			}), "weapon" === this.type ? Util.isDefined(e.effects[0]) && this.game.prodigy.create.font(this, 260, 265, "Damage Bonus: " + this.game.prodigy.affixes.getAffixData(e.effects[0]).value, {
				size: 36,
				width: 400,
				font: "button"
			}) : "outfit" === this.type || "boots" === this.type || "hat" === this.type ? Util.isDefined(e.effects[0]) && this.game.prodigy.create.font(this, 260, 265, "Heart Bonus: " + this.game.prodigy.affixes.getAffixData(e.effects[0]).value, {
				size: 36,
				width: 400,
				font: "button"
			}) : "item" === this.type && Util.isDefined(e.effect) && (Util.isDefined(e.effect.hp) ? this.game.prodigy.create.font(this, 260, 265, "Heals " + e.effect.hp + " hearts", {
				size: 36,
				width: 400,
				font: "button"
			}) : Util.isDefined(e.type) && "potion" === e.type && this.game.prodigy.create.font(this, 260, 235, e.effect, {
				size: 36,
				width: 400,
				font: "button"
			}))
		}
	},
	createInventory: function (e) {
		Util.isDefined(e) && (this.createMedium(e), this.data.L && !this.game.prodigy.player.isMember && this._panel.add(this.game.prodigy.create.sprite(110, 150, "icons", "mail-member")), this.game.prodigy.player.equipment.getEquipment(this.type) === e.ID && this._panel.add(this.game.prodigy.create.sprite(4, 40, "core", "ribbon")))
	},
	createCard: function (e) {
		Util.isDefined(e) && (this.createMedium(e), e.member && !this.game.prodigy.player.isMember && this._panel.add(this.game.prodigy.create.sprite(110, 150, "icons", "mail-member")))
	},
	createStore: function (e) {
		if (Util.isDefined(e)) {
			this.createMedium(e);
			var t = this.owned = this.game.prodigy.player.backpack.hasItem(this.type, this.ID);
			"dorm" === this.type ? t = this.owned = this.game.prodigy.player.house.getOwned(this.ID) >= 9 : "pet" === this.type ? t = this.owned = this.game.prodigy.player.kennel.hasPet(this.ID) : "dormbg" === this.type && (t = this.owned = this.game.prodigy.player.house.getCurrentHouseTag() === e.tag);
			var i = "";
			Util.isDefined(this.data.cost) ? (this.price = this.data.cost.N, i = "[" + Items.getItemData(this.data.cost.type, this.data.cost.ID).icon + "] ") : (this.price = Items.getItemPrice(this.type, this.ID), i = "[mail-gold] ");
			var a = this.price;
			"item" === this.type && t >= 99 || "item" !== this.type && t ? this.game.prodigy.create.font(this._panel, 10, 166, "dorm" === this.type || t >= 99 ? "MAX" : "OWNED", {
				size: 20
			}) : 0 >= a ? this.game.prodigy.create.font(this._panel, 10, 166, "FREE", {
				size: 20
			}) : this.game.prodigy.create.font(this._panel, 6, 166, i + Util.numberToString(a), {
				size: 20
			}), e.member && !this.game.prodigy.player.isMember && this._panel.add(this.game.prodigy.create.sprite(110, 150, "icons", "mail-member"))
		}
	},
	clicked: function () {
		Util.isDefined(this.onClick) && this.onClick({
			type: this.type,
			ID: this.ID
		}, this.owned, this.price)
	}
}), Prodigy.Container.BountyContainer = function (e, t, i, a, s, r, o) {
	if (Prodigy.Control.Element.call(this, e, t, i, a), this.parent = t, this.id = r, this.game = e, !this.game.prodigy.player.backpack.hasItem("item", this.id + 84) && this.game.prodigy.player.state.get("world-bounties")[this.id] > 0) this.mode = Util.isDefined(o) ? "empty" : "preaccept";
	else if (this.game.prodigy.player.backpack.hasItem("item", this.id + 84))
		for (var n = this.game.prodigy.bounty.getBounties(), h = 0; h < n.length; h++) n[h].ID - 84 === this.id && (this.mode = Util.isDefined(n[h].complete) ? "preturnin" : "precomplete");
	else this.mode = "turnedin";
	this.setup(s)
}, Prodigy.extends(Prodigy.Container.BountyContainer, Prodigy.Control.Element, {
	constructor: Prodigy.Container.BountyContainer,
	setup: function (e) {
		if ("precomplete" === this.mode || "preturnin" === this.mode || "preaccept" === this.mode) {
			this.game.prodigy.create.panel(this, 0, 0, 7, 11, "paper");
			var t = this.game.prodigy.bounty.getMode(e),
				i = this.game.prodigy.bounty.getReward(e);
			if ("team" === t);
			else if ("pet" === t) {
				var a = "";
				"precomplete" === this.mode || "preaccept" === this.mode ? (a = this.getText(e), "preaccept" === this.mode && (i > 2 && !this.game.prodigy.player.isMember ? this.game.prodigy.create.advButton(this, 150, 310, {
					icon: "membership",
					top: "Member",
					bot: "Bounty"
				}, this.openMessage.bind(this)) : this.game.prodigy.create.advButton(this, 150, 310, {
					icon: "yes",
					top: "Accept",
					bot: "Bounty"
				}, this.accept.bind(this, this.id + 84, this.game.prodigy.player.state.get("world-bounties")[this.id], this.id)))) : a = "You have completed this bounty. Talk to Boardy to turn it in for a reward!";
				var s = this.game.prodigy.bounty.getMonster(e);
				this.add(this.game.prodigy.create.sprite("preaccept" === this.mode ? 30 : 90, 310, "core", "empty-icon")), this.add(this.game.prodigy.create.sprite("preaccept" === this.mode ? 40 : 100, 317, "icons", "pets/" + s))
			}
			this.add(this.game.prodigy.create.sprite(5, 5, "icons", "bounty")), this.game.prodigy.create.font(this, 22, 18, "" + i, {
				size: 40,
				width: 40,
				align: "center"
			}), this.game.prodigy.create.font(this, 20, 110, a, {
				size: 20,
				width: 245
			}), this.game.prodigy.create.font(this, 85, 26, "Bounty Note", {
				size: 20,
				width: 245
			})
		} else this.game.prodigy.create.panel(this, 0, 0, 7, 11, "empty"), "turnedin" === this.mode ? this.game.prodigy.create.font(this, 20, 120, "This bounty has been completed. Come back tomorrow for a new one!", {
			size: 20,
			width: 250
		}) : "empty" === this.mode && this.game.prodigy.create.font(this, 20, 120, "Head to the bounty board in Lamplight Town and accept a new bounty!", {
			size: 20,
			width: 250,
			align: "center"
		})
	},
	getText: function (e) {
		var t = this.game.prodigy.bounty.getMonster(e),
			i = this.game.prodigy.bounty.getZone(e),
			a = this.game.prodigy.bounty.getMap(e),
			s = this.game.prodigy.bounty.getName(e),
			r = this.game.prodigy.bounty.getText(e),
			o = this.game.prodigy.world.zones[i].name,
			n = this.game.prodigy.world.zones[i].maps[a]._name,
			h = "";
		if (0 === r) {
			var l = Monsters.data[t].name;
			h = "Defeat " + s + ", " + this.getArticle(l) + " " + l + " at " + n + " in " + o + "."
		} else 1 === r ? h = s + " is causing trouble in " + o + ". Stop him at " + n + "." : 2 === r ? h = s + " has finally come out of hiding. Find her at " + n + " in " + o + "." : 3 === r ? h = s + " has appeared at " + n + " in " + o + "." : 4 === r && (h = s + " has appeared at " + n + " in " + o + ". Get him before he vanishes!");
		return h
	},
	accept: function (e, t) {
		this.game.prodigy.player.backpack.hasItem("item", e) || this.game.prodigy.open.gotItem([{
			ID: e,
			type: "item",
			N: 1,
			lvl: this.game.prodigy.bounty.getReward({
				seed: t
			}),
			data: {
				seed: t
			}
		}])
	},
	getArticle: function (e) {
		return "A" === e[0] || "E" === e[0] || "I" === e[0] || "O" === e[0] || "U" === e[0] ? "an" : "a"
	},
	openMessage: function () {
		this.game.prodigy.open.membership()
	}
}), Prodigy.Container.LevelContainer = function (e, t, i, a, s, r, o, n) {
	Prodigy.Control.Element.call(this, e, t, i, a), this.player = this.game.prodigy.player, this.stars = o, this.callback = n, this.xpBar = null, this.level = null, this.refresh(s, r)
}, Prodigy.extends(Prodigy.Container.LevelContainer, Prodigy.Control.Element, {
	constructor: Prodigy.Container.LevelContainer,
	refresh: function (e, t) {
		this.mode = e, this.member = t, this.drawCard(this.mode)
	},
	drawCard: function (e) {
		"player" === e ? this.createPlayer() : "monster" === e ? this.createMonster() : this.createEmpty(), this.stars > 0 && this.getStars()
	},
	createPlayer: function () {
		this.level = this.player.getLevel(), this.game.prodigy.create.panel(this, -2, 40, 12, 3, "item-common"), this.game.prodigy.create.panel(this, -20, 0, 3, 3, "blue"), this.p = this.game.prodigy.create.player(this, this.player, 1, 38, 170, !1), this.p.reload(), this.game.prodigy.create.font(this, 120, 50, this.player.appearance.getName()), this.createBar()
	},
	createMonster: function () {
		this.level = this.member.getLevel();
		var e = this.member.source.name;
		Util.isDefined(this.member.data.nickname) && (e = this.member.data.nickname), this.game.prodigy.create.panel(this, 0, 0, 12, 4, "item-common"), this.game.prodigy.create.panel(this, 20, 10, 2, 2, "blue"), this.game.prodigy.create.icon(this, 20, 10, "icons", "pets/" + this.member.data.ID), this.game.prodigy.create.font(this, 120, 10, e), this.createBar()
	},
	createEmpty: function () {
		this.game.prodigy.create.panel(this, 0, 0, 12, 4, "item-common")
	},
	createBar: function () {
		this.lvl = this.game.prodigy.create.font(this, 120, 85, "Lvl " + this.level);
		var e = Prodigy.Creature.getLevelPercent(this.member.getStars());
		this.xpBar = this.add(new Phaser.TileSprite(this.game, 7, 125, 465, 30, "core", "xp-bar")), this.xpBar.scale.x = 0 === e ? 0 : e, this.fraction = this.game.prodigy.create.font(this, 7, 125, " " + this.member.getStars() + "/" + this.member.getStarsToLevel(), {
			width: 465,
			align: "center"
		})
	},
	getStars: function () {
		this.star = this.game.prodigy.create.sprite(470, 105, "icons", "star"), this.add(this.star), this.star.scale = {
			x: 1.1,
			y: 1.1
		}, this.star.anchor.setTo(.5, .5), this.game.add.tween(this.star).to({
			angle: 270,
			x: 465,
			y: 108
		}, 1e3, Phaser.Easing.Quadratic.In).delay(100).start(), this.game.add.tween(this.star.scale).to({
			x: 1.2,
			y: 1.2
		}, 500, Phaser.Easing.Quadratic.In).to({
			x: 1,
			y: 1
		}, 500, Phaser.Easing.Quadratic.In).start(), this.n = this.game.prodigy.create.font(this, 442, 85, "" + this.stars, {
			font: "button",
			size: 36,
			width: 50,
			align: "center"
		}), this.game.add.tween(this.n).to({
			x: 438,
			y: 81
		}, 400, Phaser.Easing.Quadratic.Out).to({
			x: 442,
			y: 85
		}, 400).delay(1100).start(), this.game.add.tween(this.n.scale).to({
			x: 1.2,
			y: 1.2
		}, 400, Phaser.Easing.Quadratic.Out).to({
			x: 1,
			y: 1
		}, 400, Phaser.Easing.Quadratic.In).delay(1100).start();
		for (var e = 0; e < this.stars; e++) {
			var t = this.game.add.tween().to().delay(300 * e).start();
			t.onComplete.add(this.addStars, this)
		}
	},
	addStars: function () {
		if (this.member.addStars(1), this.stars--, Util.isDefined(this.n) && this.n.destroy(), Util.isDefined(this.fraction) && this.fraction.destroy(), this.fraction = this.game.prodigy.create.font(this, 7, 125, " " + this.member.getStars() + "/" + (this.member.getStars() + this.member.getStarsToLevel()), {
				width: 465,
				align: "center"
			}), this.stars > 0 && (this.n = this.game.prodigy.create.font(this, 442, 85, "" + this.stars, {
				font: "button",
				size: 36,
				width: 50,
				align: "center"
			}), this.game.add.tween(this.n).to({
				x: 438,
				y: 81
			}, 100, Phaser.Easing.Quadratic.Out).to({
				x: 442,
				y: 85
			}, 100).start(), this.game.add.tween(this.n.scale).to({
				x: 1.2,
				y: 1.2
			}, 100, Phaser.Easing.Quadratic.Out).to({
				x: 1,
				y: 1
			}, 100, Phaser.Easing.Quadratic.In).start()), this.stars >= 0) {
			var e = Prodigy.Creature.getLevelPercent(this.member.getStars());
			this.game.add.tween(this.xpBar.scale).to({
				x: e
			}, 100, Phaser.Easing.Quadratic.Out).start(), 0 === this.stars && (this.shootStars(0, 470, 105), this.star.destroy(), this.finish())
		}
		this.member.getLevel() !== this.level && (this.level = this.member.getLevel(), this.levelUp())
	},
	levelUp: function () {
		this.shootStars(0, 180, 110), Util.isDefined(this.lvl) && this.lvl.destroy(), this.lvl = this.game.prodigy.create.font(this, 120, 85, "Lvl " + this.level), this.game.add.tween(this.lvl).to({
			y: 80
		}, 400).to({
			y: 85
		}, 400).start(), this.game.add.tween(this.xpBar.scale).to({
			x: 0
		}, 300, Phaser.Easing.Quadratic.Out).start()
	},
	shootStars: function (e, t, i) {
		for (var a = 0; 5 > a; a++) {
			var s = t - 100 + 50 * a,
				r = i - 150;
			0 === a || 4 === a ? r += 120 : (1 === a || 3 === a) && (r += 50);
			var o = this.game.prodigy.create.sprite(t, i, "icons", "star");
			this.add(o), o.anchor.setTo(.5, .5), o.alpha = 0, this.game.add.tween(o).to({
				alpha: .5
			}, 1, Phaser.Easing.Linear.None).delay(e).to({
				x: s,
				alpha: 0
			}, 1e3, Phaser.Easing.Quadratic.Out).start(), this.game.add.tween(o).to({
				y: r
			}, 1e3, Phaser.Easing.Quadratic.Out).delay(e).start()
		}
	},
	finish: function () {
		this.callback()
	}
}), Prodigy.Container.FlyingStars = function (e, t, i) {
	this.game = e, this.x = t - 10, this.y = i - 10, this.animate()
}, Prodigy.Container.FlyingStars.prototype = {
	constructor: Prodigy.Container.FlyingStars,
	animate: function () {
		for (var e = 0; 10 > e; e++) this.addStar(80 * e + 50 * Math.random(), 9 === e)
	},
	finish: function () {
		this.game.broadcaster.broadcast(Prodigy.Events.FlyingStars.DONE, this.game, null)
	},
	addStar: function (e, t) {
		var i = this.game.prodigy.create.sprite(this.x + 20 * Math.random(), this.y + 20 * Math.random(), "core-2", "user-star");
		i.anchor.setTo(.5, .5), i.scale.setTo(0, 0), i.angle += Math.round(90 * Math.random()), this.game.broadcaster.broadcast(Prodigy.Events.Screen.ADD_CHILD, this.game, [i, "overlay"]);
		var a = .3 * Math.random(),
			s = this.game.add.tween(i.scale).to({
				x: 1,
				y: 1
			}, 200, Phaser.Easing.Quadratic.Out).delay(e),
			r = this.game.add.tween(i.scale).to({
				x: 1.3,
				y: 1.3
			}, 250, Phaser.Easing.Quadratic.InOut),
			o = this.game.add.tween(i.scale).to({
				x: 1 + a,
				y: 1 + a
			}, 250, Phaser.Easing.Quadratic.InOut),
			n = this.game.add.tween(i.scale).to({
				x: 0,
				y: 0
			}, 200, Phaser.Easing.Quadratic.In);
		n.onComplete.add(function () {
			i.kill()
		}, i), t && n.onComplete.add(function () {
			this.finish()
		}, this), s.chain(r), r.chain(o), o.chain(n), this.game.add.tween(i).to({
			y: 90 + 10 * Math.random()
		}, 900, Phaser.Easing.Quadratic.In).delay(e).start(), this.game.add.tween(i).to({
			x: 279 + 40 * Math.random()
		}, 900, Phaser.Easing.Quadratic.Out).delay(e).start(), s.start()
	}
}, Prodigy.Container.Pet = function (e, t, i, a, s) {
	Prodigy.Container.CreatureContainer.call(this, e, t, {
		name: "",
		npc: !0
	}, null, a.x, a.y - 1), this._mode = -1, this._tweens = [], this._data = Items.getItemData("follow", i), this.assets = ["pets"], this.path = s, this.player = a, this.coords = []
}, Prodigy.extends(Prodigy.Container.Pet, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.Container.Pet,
	startLoad: function () {
		Prodigy.Container.CreatureContainer.prototype.startLoad.call(this), this.loading = !0, this.assets = ["pets"], this.game.prodigy.load.assets(this.assets, this.setup.bind(this))
	},
	setup: function (e, t) {
		if (Util.isDefined(this.game) && t && Util.isDefined(this.assets)) {
			var e = this._data.tag;
			this.sprite = this.game.prodigy.create.element(this.sprites, 0, 0), e.indexOf("cat") > -1 ? e.indexOf("sparkle") > -1 ? this.createSparkleCat(e, this._data.spriteOffsets) : this.createCat(e, this._data.spriteOffsets) : e.indexOf("dog") > -1 ? e.indexOf("sparkle") > -1 ? this.createSparkleDog(e) : this.createDog(e) : e.indexOf("rodent") > -1 ? e.indexOf("sparkle") > -1 ? this.createSparkleRodent(e) : this.createRodent(e) : e.indexOf("bird") > -1 ? this.createBird(e) : e.indexOf("lizard") > -1 ? this.createLizard(e) : e.indexOf("turtle") > -1 ? this.createTurtle(e, this._data.spriteOffsets) : e.indexOf("reindeer") > -1 ? this.createReindeer(e) : e.indexOf("penguin") > -1 ? this.createPenguin(e) : e.indexOf("snowman") > -1 ? this.createSnowman(e) : e.indexOf("panda") > -1 ? this.createPanda(e) : e.indexOf("sheep") > -1 ? this.createSheep(e) : e.indexOf("cactus") > -1 ? this.createCactus(e) : e.indexOf("fox") > -1 && this.createFox(e), Util.isDefined(this._data.extraAnims) && this._data.extraAnims.forEach(function (t) {
				var i = this.sprite.add(this.game.prodigy.create.sprite(t.offsets.x, t.offsets.y, "pets", e + "/" + t.animFrames[0])),
					a = null;
				a = "walk" === t.targetCycle ? this._walkTween : this._standTween, a.push(new Prodigy.TweenController(this.game, i)), a[a.length - 1].set("frameName", t.animFrames.map(function (t) {
					return e + "/" + t
				}, this), 80, 9999)
			}, this), this.complete = !0, this.loading = !1, Util.isDefined(this.loadedCallback) && this.loadedCallback()
		}
	},
	setupWalk: function (e) {
		var t = e + "/walk/";
		this._walkTween = [], this._walkTween.push(new Prodigy.TweenController(this.game, this._body)), this._walkTween[0].set("y", [this._body.y, this._body.y + 1], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._legs)), this._walkTween[1].set("frameName", [t + "legs-0", t + "legs-1", t + "legs-2", t + "legs-3"], 150, 9999), Util.isDefined(this._tail) && (this._walkTween.push(new Prodigy.TweenController(this.game, this._tail)), this._walkTween[2].set("frameName", [t + "tail-0", t + "tail-1"], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._tail)), this._walkTween[3].set("y", [this._tail.y, this._tail.y + 1], 150, 9999))
	},
	setupStand: function (e) {
		var t = e + "/idle/";
		this._standTween = [], Util.isDefined(this._tail) && (this._standTween.push(new Prodigy.TweenController(this.game, this._tail)), this._standTween[0].set("y", [this._tail.y + 6], 1e4, 9999), this._standTween.push(new Prodigy.TweenController(this.game, this._tail)), this._standTween[1].set("frameName", [t + "tail-0", t + "tail-1", t + "tail-2"], 150, 9999))
	},
	setSpriteDefaults: function (e) {
		var t = function (e, t) {
			Util.isDefined(t) && (Util.isDefined(t._defaultAnims) && (t.frameName = t._defaultAnims[e]), Util.isDefined(t._defaultVisibility) && (t.visible = t._defaultVisibility[e]), Util.isDefined(t._defaults) && (t.x = t._defaults[e][0], t.y = t._defaults[e][1]))
		};
		t(e, this._head), t(e, this._body), t(e, this._legs), t(e, this._tail)
	},
	createCat: function (e, t) {
		var i = 0,
			a = 0,
			s = Util.isDefined(t) ? t : {};
		Util.isDefined(s.tail) || (s.tail = {
			x: -12,
			y: 1
		}), Util.isDefined(s.body) || (s.body = {
			x: 0,
			y: 0
		}), Util.isDefined(s.legs) || (s.legs = {
			x: -1,
			y: 29
		}), this._tail = this.sprite.add(this.game.prodigy.create.sprite(i + s.tail.x, a + s.tail.y, "pets", e + "/walk/tail-0")), this._body = this.sprite.add(this.game.prodigy.create.sprite(i + s.body.x, a + s.body.y, "pets", e + "/walk/body-0")), this._legs = this.sprite.add(this.game.prodigy.create.sprite(i + s.legs.x, a + s.legs.y, "pets", e + "/walk/legs-0")), this.sprite.y = -this._body.height - this._legs.height, this.sprite.x = -Math.floor(this._body.width / 2), this.setupWalk(e), this.setupStand(e)
	},
	createSparkleCat: function (e, t) {
		var i = 0,
			a = 0,
			s = Util.isDefined(t) ? t : {};
		Util.isDefined(s.tail) || (s.tail = {
			x: -12,
			y: 1
		}), Util.isDefined(s.body) || (s.body = {
			x: 0,
			y: 0
		}), Util.isDefined(s.legs) || (s.legs = {
			x: -1,
			y: 29
		}), this._tail = this.sprite.add(this.game.prodigy.create.sprite(i + s.tail.x, a + s.tail.y, "pets", e + "/walk/tail-0")), this._tail._defaultVisibility = {
			walk: !0,
			stand: !1
		}, this._body = this.sprite.add(this.game.prodigy.create.sprite(i + s.body.x, a + s.body.y, "pets", e + "/walk/body-0")), this._body._defaults = {
			walk: [i, a],
			stand: [i - 12, a]
		}, this._legs = this.sprite.add(this.game.prodigy.create.sprite(i + s.legs.x, a + s.legs.y, "pets", e + "/walk/legs-0")), this._legs._defaultVisibility = {
			walk: !0,
			stand: !1
		}, this.sprite.y = -this._body.height - this._legs.height, this.sprite.x = -Math.floor(.5 * this._body.width), this.setupWalk(e);
		var r = e + "/idle/";
		this._standTween = [], this._standTween.push(new Prodigy.TweenController(this.game, this._body)), this._standTween[0].set("frameName", [r + "body-0", r + "body-1", r + "body-2", r + "body-3"], 150, 9999)
	},
	createDog: function (e) {
		var t = 0,
			i = 0;
		this._tail = this.sprite.add(this.game.prodigy.create.sprite(t - 12, i + 9, "pets", e + "/walk/tail-0")), this._body = this.sprite.add(this.game.prodigy.create.sprite(t, i, "pets", e + "/walk/body-0")), this._legs = this.sprite.add(this.game.prodigy.create.sprite(t - 1, i + 33, "pets", e + "/walk/legs-0")), this.sprite.y = -this._body.height - this._legs.height, this.sprite.x = -Math.floor(this._body.width / 2), this.setupWalk(e), this.setupStand(e)
	},
	createSparkleDog: function (e) {
		var t = 0,
			i = 0;
		this._tail = this.sprite.add(this.game.prodigy.create.sprite(t - 12, i + 9, "pets", e + "/walk/tail-0")), this._tail._defaultVisibility = {
			walk: !0,
			stand: !1
		}, this._body = this.sprite.add(this.game.prodigy.create.sprite(t, i, "pets", e + "/walk/body-0")), this._body._defaults = {
			walk: [t, i],
			stand: [t - 12, i]
		}, this._legs = this.sprite.add(this.game.prodigy.create.sprite(t - 1, i + 33, "pets", e + "/walk/legs-0")), this._legs._defaultVisibility = {
			walk: !0,
			stand: !1
		}, this.sprite.y = -this._body.height - this._legs.height, this.sprite.x = -Math.floor(.5 * this._body.width), this.setupWalk(e);
		var a = e + "/idle/";
		this._standTween = [], this._standTween.push(new Prodigy.TweenController(this.game, this._body)), this._standTween[0].set("frameName", [a + "body-0", a + "body-1", a + "body-2", a + "body-3"], 150, 9999)
	},
	createRodent: function (e) {
		var t = 0,
			i = 0;
		this._body = this.sprite.add(this.game.prodigy.create.sprite(t, i, "pets", e + "/walk/body-0")), this._legs = this.sprite.add(this.game.prodigy.create.sprite(t + 2, i + 18, "pets", e + "/walk/legs-0")), this.sprite.y = -this._body.height - this._legs.height, this.sprite.x = -Math.floor(this._body.width / 2), this.setupWalk(e), this.setupStand(e)
	},
	createSparkleRodent: function (e) {
		var t = 0,
			i = 0;
		this._body = this.sprite.add(this.game.prodigy.create.sprite(t, i, "pets", e + "/walk/body-0")), this.sprite.y = -this._body.height, this.sprite.x = -Math.floor(.5 * this._body.width);
		var a = e + "/walk/";
		this._walkTween = [], this._walkTween.push(new Prodigy.TweenController(this.game, this._body)), this._walkTween[0].set("frameName", [a + "body-0", a + "body-1", a + "body-2", a + "body-3"], 150, 9999);
		var s = e + "/idle/";
		this._standTween = [], this._standTween.push(new Prodigy.TweenController(this.game, this._body)), this._standTween[0].set("frameName", [s + "body-0", s + "body-1", s + "body-2", s + "body-3"], 150, 9999)
	},
	createBird: function (e) {
		var t = 0,
			i = 0,
			a = Util.isDefined(this._data.numWalkAnimFrames) ? this._data.numWalkAnimFrames : 4;
		this._body = this.sprite.add(this.game.prodigy.create.sprite(t, i, "pets", e + "/walk/body-0")), this.sprite.y = -this._body.height - 30, this.sprite.x = -Math.floor(this._body.width / 2);
		var s = e + "/walk/";
		this._walkTween = [], this._walkTween.push(new Prodigy.TweenController(this.game, this._body));
		for (var r = [], o = 0; a > o; o++) r.push(s + "body-" + o);
		this._walkTween[0].set("frameName", r, 80, 9999), this._standTween = this._walkTween
	},
	createLizard: function (e) {
		var t = 0,
			i = 0,
			a = Util.isDefined(this._data.numStandAnimFrames) ? this._data.numStandAnimFrames : 0,
			s = e + "/walk/",
			r = e + "/idle/",
			o = [],
			n = [];
		if (this._walkTween = [], this._standTween = [], this._body = this.sprite.add(this.game.prodigy.create.sprite(t, i, "pets", e + "/walk/body-0")), this._tail = this.sprite.add(this.game.prodigy.create.sprite(t - 16, i + 6, "pets", e + "/walk/tail-0")), this._head = this.sprite.add(this.game.prodigy.create.sprite(t + 22, i, "pets", e + "/walk/head-0")), this._head._defaultVisibility = {
				walk: !0,
				stand: !1
			}, this.sprite.y = -this._body.height, this.sprite.x = -Math.floor(this._body.width / 2), this._walkTween.push(new Prodigy.TweenController(this.game, this._body)), this._walkTween[0].set("frameName", [s + "body-0", s + "body-1", s + "body-2", s + "body-3"], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._tail)), this._walkTween[1].set("frameName", [s + "tail-0", s + "tail-1"], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._head)), this._walkTween[2].set("y", [this._tail.y, this._tail.y - 1], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._head)), this._walkTween[3].set("y", [this._head.y, this._head.y + 1], 150, 9999), a > 0) {
			this._standTween.push(new Prodigy.TweenController(this.game, this._body)), this._standTween.push(new Prodigy.TweenController(this.game, this._tail));
			for (var h = 0; a > h; h++) o.push(r + "body-" + h), n.push(r + "tail-" + h);
			this._standTween[0].set("frameName", o, 150, 9999), this._standTween[1].set("frameName", n, 150, 9999)
		}
	},
	createTurtle: function (e, t) {
		var i = Util.isDefined(t) ? t : {};
		Util.isDefined(i.body) || (i.body = {
			x: 0,
			y: 0
		}), Util.isDefined(i.legs) || (i.legs = {
			x: 0,
			y: 0
		}), this._body = this.sprite.add(this.game.prodigy.create.sprite(i.body.x, i.body.y, "pets", e + "/walk/body-0")), this._legs = this.sprite.add(this.game.prodigy.create.sprite(i.legs.x, i.legs.y + this._body.height, "pets", e + "/walk/legs-0")), this.sprite.y = -(this._body.height + this._legs.height), this.sprite.x = -Math.floor(this._body.width / 2);
		var a = e + "/walk/";
		this._walkTween = [], this._walkTween.push(new Prodigy.TweenController(this.game, this._body)), this._walkTween[0].set("frameName", [a + "body-0"], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._legs)), this._walkTween[1].set("frameName", [a + "legs-0", a + "legs-1", a + "legs-2", a + "legs-3"], 150, 9999), this._standTween = []
	},
	createReindeer: function (e) {
		var t = 0,
			i = 0;
		this._body = this.sprite.add(this.game.prodigy.create.sprite(t + 7, i, "pets", e + "/walk/body-0")), this._legs = this.sprite.add(this.game.prodigy.create.sprite(t, i, "pets", e + "/walk/legs-0")), this._tail = this.sprite.add(this.game.prodigy.create.sprite(t, i + 26, "pets", e + "/walk/tail-0")), this._body._defaults = {
			walk: [t + 3, i],
			stand: [t + 7, i]
		}, this._legs._defaults = {
			walk: [t + 3, i + 32],
			stand: [t, i]
		}, this._tail._defaults = {
			walk: [t, i + 18],
			stand: [t, i + 26]
		}, this.sprite.y = -(this._body.height + this._legs.height), this.sprite.x = -Math.floor(this._body.width / 2);
		var a = e + "/walk/";
		this._walkTween = [], this.setSpriteDefaults("walk"), this._walkTween.push(new Prodigy.TweenController(this.game, this._body)), this._walkTween[0].set("frameName", [a + "body-0"], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._legs)), this._walkTween[1].set("frameName", [a + "legs-0", a + "legs-1", a + "legs-2", a + "legs-3"], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._tail)), this._walkTween[2].set("frameName", [a + "tail-0", a + "tail-1", a + "tail-0", a + "tail-1"], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._body)), this._walkTween[3].set("y", [this._body.y, this._body.y + 1, this._body.y, this._body.y + 1], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._tail)), this._walkTween[4].set("y", [this._tail.y, this._tail.y + 1, this._tail.y, this._tail.y + 1], 150, 9999);
		var s = e + "/idle/";
		this._standTween = [], this.setSpriteDefaults("stand"), this._standTween.push(new Prodigy.TweenController(this.game, this._body)), this._standTween[0].set("frameName", [s + "body-0"], 150, 9999), this._standTween.push(new Prodigy.TweenController(this.game, this._tail)), this._standTween[1].set("frameName", [s + "tail-0", s + "tail-2", s + "tail-1", s + "tail-2"], 150, 9999)
	},
	createPenguin: function (e) {
		var t = 0,
			i = 0;
		this._body = this.sprite.add(this.game.prodigy.create.sprite(t, i, "pets", e + "/walk/body-0")), this._head = this.sprite.add(this.game.prodigy.create.sprite(t, i, "pets", e + "/walk/head-0")), this._body._defaults = {
			walk: [t, i + 15],
			stand: [t, i + 15]
		}, this._head._defaults = {
			walk: [t + 8, i],
			stand: [t + 5, i]
		}, this.sprite.y = -this._body.height, this.sprite.x = -Math.floor(this._body.width / 2);
		var a = e + "/walk/";
		this._walkTween = [], this.setSpriteDefaults("walk"), this._walkTween.push(new Prodigy.TweenController(this.game, this._body)), this._walkTween[0].set("frameName", [a + "body-0", a + "body-1", a + "body-2", a + "body-3"], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._head)), this._walkTween[1].set("frameName", [a + "head-0"], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._head)), this._walkTween[2].set("y", [this._head.y, this._head.y + 1, this._head.y, this._head.y + 1], 150, 9999);
		var s = e + "/idle/";
		this._standTween = [], this.setSpriteDefaults("stand"), this._standTween.push(new Prodigy.TweenController(this.game, this._body)), this._standTween[0].set("frameName", [s + "body-0", s + "body-1", s + "body-2"], 150, 9999), this._standTween.push(new Prodigy.TweenController(this.game, this._head)), this._standTween[1].set("frameName", [s + "head-0"], 150, 9999)
	},
	createSnowman: function (e) {
		var t = 0,
			i = 0;
		this._body = this.sprite.add(this.game.prodigy.create.sprite(t, i, "pets", e + "/walk/body-0")), this._head = this.sprite.add(this.game.prodigy.create.sprite(t, i, "pets", e + "/walk/head-0")), this._body._defaults = {
			walk: [t, i + 17],
			stand: [t, i + 18]
		}, this._head._defaults = {
			walk: [t + 8, i],
			stand: [t + 8, i]
		}, this.sprite.y = -this._body.height, this.sprite.x = -Math.floor(this._body.width / 2);
		var a = e + "/walk/";
		this._walkTween = [], this.setSpriteDefaults("walk"), this._walkTween.push(new Prodigy.TweenController(this.game, this._body)), this._walkTween[0].set("frameName", [a + "body-0", a + "body-1", a + "body-2", a + "body-3"], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._head)), this._walkTween[1].set("frameName", [a + "head-0"], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._head)), this._walkTween[2].set("x", [this._head.x, this._head.x + 1, this._head.x + 2, this._head.x + 1], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._head)), this._walkTween[3].set("y", [this._head.y, this._head.y - 1, this._head.y - 1, this._head.y], 150, 9999);
		var s = e + "/idle/";
		this._standTween = [], this.setSpriteDefaults("stand"), this._standTween.push(new Prodigy.TweenController(this.game, this._body)), this._standTween[0].set("frameName", [s + "body-0", s + "body-1", s + "body-1", s + "body-0"], 150, 9999), this._standTween.push(new Prodigy.TweenController(this.game, this._head)), this._standTween[1].set("frameName", [s + "head-0"], 150, 9999), this._standTween.push(new Prodigy.TweenController(this.game, this._head)), this._standTween[2].set("y", [this._head.y, this._head.y - 1, this._head.y - 2, this._head.y - 1], 150, 9999)
	},
	createPanda: function (e) {
		var t = e + "/walk/",
			i = e + "/idle/";
		this._body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "pets", t + "body-0")), this.sprite.y = -this._body.height, this.sprite.x = -Math.floor(this._body.width / 2), this._walkTween = [new Prodigy.TweenController(this.game, this._body)], this._walkTween[this._walkTween.length - 1].set("frameName", [t + "body-0", t + "body-1", t + "body-2", t + "body-3"], 150, 9999), this._standTween = [new Prodigy.TweenController(this.game, this._body)], this._standTween[this._standTween.length - 1].set("frameName", [i + "body-0", i + "body-1", i + "body-2"], 150, 9999)
	},
	createSheep: function (e) {
		var t = e + "/walk/",
			i = e + "/idle/";
		this._walkTween = [], this._standTween = [], this._body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "pets", t + "body-0")), this._legs = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "pets", t + "shadow-0")), this._legs._defaults = {
			walk: [15, 43],
			stand: [13, 29]
		}, this._legs._defaultAnims = {
			walk: t + "shadow-0",
			stand: i + "legs-0"
		}, this._legs._defaultVisibility = {
			walk: !0,
			stand: !0
		}, this.sprite.y = -(this._body.height + this._legs.height), this.sprite.x = -Math.floor(this._body.width / 2), this._walkTween.push(new Prodigy.TweenController(this.game, this._body)), this._walkTween[this._walkTween.length - 1].set("frameName", [t + "body-0", t + "body-1", t + "body-1", t + "body-0"], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._body)), this._walkTween[this._walkTween.length - 1].set("y", [this._body.y, this._body.y - 1, this._body.y - 2, this._body.y - 1], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._legs)), this._walkTween[this._walkTween.length - 1].set("frameName", [t + "shadow-0"], 150, 9999), this._standTween.push(new Prodigy.TweenController(this.game, this._body)), this._standTween[this._standTween.length - 1].set("frameName", [i + "body-0", i + "body-0", i + "body-1", i + "body-1"], 150, 9999), this._standTween.push(new Prodigy.TweenController(this.game, this._body)), this._standTween[this._standTween.length - 1].set("y", [this._body.y, this._body.y - 1, this._body.y, this._body.y + 1], 150, 9999), this._standTween.push(new Prodigy.TweenController(this.game, this._legs)), this._standTween[this._standTween.length - 1].set("frameName", [i + "legs-0", i + "legs-1", i + "legs-2", i + "legs-3"], 150, 9999), this.setSpriteDefaults("walk"), this.setSpriteDefaults("stand")
	},
	createCactus: function (e) {
		var t = e + "/walk/",
			i = e + "/idle/";
		this._body = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "pets", t + "body-0")), this._head = this.sprite.add(this.game.prodigy.create.sprite(0, 0, "pets", t + "flower-0")), this._head._defaults = {
			walk: [11, -17],
			stand: [11, -17]
		}, this._head._defaultAnims = {
			walk: t + "flower-0",
			stand: i + "flower-0"
		}, this.sprite.y = -this._body.height, this.sprite.x = -Math.floor(this._body.width / 2), this._walkTween = [], this._standTween = [], this._walkTween.push(new Prodigy.TweenController(this.game, this._body)), this._walkTween[this._walkTween.length - 1].set("frameName", [t + "body-0", t + "body-1", t + "body-2", t + "body-3"], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._head)), this._walkTween[this._walkTween.length - 1].set("frameName", [t + "flower-0", t + "flower-1", t + "flower-2", t + "flower-3"], 150, 9999), this._standTween.push(new Prodigy.TweenController(this.game, this._body)), this._standTween[this._standTween.length - 1].set("frameName", [i + "body-0", i + "body-1", i + "body-2", i + "body-3"], 150, 9999), this._standTween.push(new Prodigy.TweenController(this.game, this._head)), this._standTween[this._standTween.length - 1].set("frameName", [i + "flower-0", i + "flower-1", i + "flower-2", i + "flower-3"], 150, 9999), this.setSpriteDefaults("walk"), this.setSpriteDefaults("stand")
	},
	createFox: function (e) {
		var t = 0,
			i = 0,
			a = e + "/walk/",
			s = e + "/idle/";
		this._tail = this.sprite.add(this.game.prodigy.create.sprite(t, i + 14, "pets", e + "/walk/tail-0")), this._body = this.sprite.add(this.game.prodigy.create.sprite(t + 19, i, "pets", e + "/walk/body-0")), this._legs = this.sprite.add(this.game.prodigy.create.sprite(t + 18, i + 30, "pets", e + "/walk/legs-0")), this._tail._defaults = {
			walk: [0, 14],
			stand: [0, 13]
		}, this._body._defaults = {
			walk: [19, 0],
			stand: [13, 0]
		}, this._legs._defaults = {
			walk: [18, 30],
			stand: [0, 0]
		}, this.sprite.y = -this._body.height - this._legs.height, this.sprite.x = -Math.floor(.5 * this._body.width), this._standTween = [], this._walkTween = [];
		for (var r = [], o = Math.round(2350 / 150), n = 0; o > n; n++) r.push(s + "body-0");
		r.push(s + "body-1");
		var h = [],
			l = Math.round(850 / 150);
		for (n = 0; l > n; n++) h.push(s + "tail-0");
		h.push(s + "tail-1"), this._standTween.push(new Prodigy.TweenController(this.game, this._body)), this._standTween[this._standTween.length - 1].set("frameName", r, 150, 9999), this._standTween.push(new Prodigy.TweenController(this.game, this._tail)), this._standTween[this._standTween.length - 1].set("frameName", h, 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._body)), this._walkTween[this._walkTween.length - 1].set("y", [this._body.y, this._body.y + 1], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._legs)), this._walkTween[this._walkTween.length - 1].set("frameName", [a + "legs-0", a + "legs-1", a + "legs-2", a + "legs-3"], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._tail)), this._walkTween[this._walkTween.length - 1].set("frameName", [a + "tail-0", a + "tail-1"], 150, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._tail)), this._walkTween[this._walkTween.length - 1].set("y", [this._tail.y, this._tail.y + 1], 150, 9999), this.setSpriteDefaults("stand"), this.setSpriteDefaults("walk")
	},
	update: function () {
		if (Prodigy.Container.CreatureContainer.prototype.update.call(this), this.complete) {
			if (Util.isDefined(this._tweens))
				for (var e = 0; e < this._tweens.length; e++) this._tweens[e].update();
			if (Util.isDefined(this.player)) {
				var t = this.coords[this.coords.length - 1],
					i = Math.round(this.player.x),
					a = Math.round(this.player.y);
				Util.isDefined(t) && t.x === this.player.x && t.y === this.player.y || this.coords.push({
					x: i,
					y: a
				}), this.coords.length > 20 || this.x <= 0 && this.y <= 0 ? (this.x < this.coords[0].x ? this.sprites.scale.x = 1 : this.x > this.coords[0].x && (this.sprites.scale.x = -1), this.x = this.coords[0].x, this.y = this.coords[0].y, this.walk(), this.coords.splice(0, 1)) : this.stand()
			}
		}
	},
	walk: function () {
		if (0 !== this._mode) {
			this._mode = 0, Util.isDefined(this._legs) && (this._legs.visible = !0), Util.isDefined(this._body) && (this._body.frameName = this._data.tag + "/walk/body-0"), this.setSpriteDefaults("walk"), this._tweens = this._walkTween;
			for (var e = 0; e < this._tweens.length; e++) this._tweens[e].start()
		}
	},
	stand: function () {
		if (1 !== this._mode) {
			this._mode = 1, Util.isDefined(this._legs) && (this._legs.visible = !1), Util.isDefined(this._body) && (this._body.frameName = this._data.tag + "/idle/body-0"), this.setSpriteDefaults("stand"), this._tweens = this._standTween;
			for (var e = 0; e < this._tweens.length; e++) this._tweens[e].start()
		}
	}
}), Prodigy.Container.Pippit = function (e, t, i, a) {
	Prodigy.Container.CreatureContainer.call(this, e, t, {
		name: "Pippit",
		npc: !0
	}, null, i, a), this._tweens = [], this._setup()
}, Prodigy.extends(Prodigy.Container.Pippit, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.Container.Pippit,
	_setup: function () {
		var e = "npc-sprite-pippit",
			t = -20,
			i = -36;
		this.sprite = this.game.prodigy.create.element(this.sprites, 0, 0), this._torso = this.sprite.add(this.game.prodigy.create.sprite(t, i, e, "torso")), this._head = this.sprite.add(this.game.prodigy.create.sprite(t - 33, i - 62, e, "head-0")), this._face = this.sprite.add(this.game.prodigy.create.sprite(t + 7, i - 31, e, "face-0")), this._handL = this.sprite.add(this.game.prodigy.create.sprite(t - 27, i + 5, e, "hand-l-0")), this._handR = this.sprite.add(this.game.prodigy.create.sprite(t + 48, i, e, "hand-r-0")), this._feet = this.sprite.add(this.game.prodigy.create.sprite(t - 13, i + 36, e, "feet")), this._walkTween = [], this._walkTween.push(new Prodigy.TweenController(this.game, this._head)), this._walkTween[0].set("frameName", ["head-0", "head-0", "head-0", "head-1", "head-2", "head-0"], 133, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._head)), this._walkTween[1].set("y", [this._head.y, this._head.y, this._head.y + 1, this._head.y + 3, this._head.y + 2, this._head.y + 1], 133, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._face)), this._walkTween[2].set("frameName", ["face-0", "face-0", "face-2", "face-0", "face-1", "face-1"], 133, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._face)), this._walkTween[3].set("y", [this._face.y, this._face.y, this._face.y + 1, this._face.y + 3, this._face.y + 2, this._face.y + 1], 133, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._torso)), this._walkTween[4].set("y", [this._torso.y, this._torso.y, this._torso.y, this._torso.y + 1, this._torso.y + 1, this._torso.y], 133, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._handL)), this._walkTween[5].set("frameName", ["hand-l-0", "hand-l-0", "hand-l-0", "hand-l-1", "hand-l-2", "hand-l-1"], 133, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._handL)), this._walkTween[6].set("y", [this._handL.y, this._handL.y, this._handL.y, this._handL.y + 1, this._handL.y + 1, this._handL.y + 1], 133, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._handR)), this._walkTween[7].set("frameName", ["hand-r-0", "hand-r-0", "hand-r-0", "hand-r-1", "hand-r-2", "hand-r-1"], 133, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._handR)), this._walkTween[8].set("y", [this._handR.y, this._handR.y, this._handR.y, this._handR.y + 2, this._handR.y + 2, this._handR.y + 2], 133, 9999), this.stand()
	},
	update: function () {
		Prodigy.Container.CreatureContainer.prototype.update.call(this);
		for (var e = 0; e < this._tweens.length; e++) this._tweens[e].update()
	},
	walk: function () {
		this.stand()
	},
	stand: function () {
		this._tweens = this._walkTween;
		for (var e = 0; e < this._tweens.length; e++) this._tweens[e].start()
	}
}), Prodigy.Container.PuppetMaster = function (e, t, i, a) {
	Prodigy.Container.CreatureContainer.call(this, e, t, {
		name: "Puppetmaster",
		npc: !0
	}, null, i, a), this._tweens = [], this._setup()
}, Prodigy.extends(Prodigy.Container.PuppetMaster, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.Container.PuppetMaster,
	_setup: function () {
		var e = "npc-sprite-puppetmaster",
			t = -61,
			i = -150;
		this.sprite = this.game.prodigy.create.element(this.sprites, 0, 0), this._armR = this.sprite.add(this.game.prodigy.create.sprite(t - 12, i + 26, e, "arm-right")), this._handR = this.sprite.add(this.game.prodigy.create.sprite(t - 22, i + 12, e, "hand-1")), this._staff = this.sprite.add(this.game.prodigy.create.sprite(t - 53, i - 70, e, "staff-0")), this._body = this.sprite.add(this.game.prodigy.create.sprite(t, i, e, "body-0")), this._armL = this.sprite.add(this.game.prodigy.create.sprite(t + 70, i + 18, e, "arm-left")), this._handL = this.sprite.add(this.game.prodigy.create.sprite(t + 123, i + 18, e, "hand-0")), this._fingersL = this.sprite.add(this.game.prodigy.create.sprite(t + 105, i - 13, e, "fingers-0")), this._head = this.sprite.add(this.game.prodigy.create.sprite(t + 20, i - 36, e, "head")), this._walkTween = [], this._walkTween.push(new Prodigy.TweenController(this.game, this._head)), this._walkTween[0].set("y", [this._head.y, this._head.y - 2, this._head.y - 3, this._head.y - 2], 200, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._body)), this._walkTween[1].set("frameName", ["body-0", "body-1", "body-2", "body-3"], 200, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._body)), this._walkTween[2].set("y", [this._body.y, this._body.y - 4, this._body.y - 4, this._body.y - 2], 200, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._armR)), this._walkTween[3].set("y", [this._armR.y, this._armR.y - 5, this._armR.y - 5, this._armR.y - 2], 200, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._armR)), this._walkTween[4].set("x", [this._armR.x, this._armR.x + 1, this._armR.x, this._armR.x - 1], 200, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._handR)), this._walkTween[5].set("y", [this._handR.y, this._handR.y - 3, this._handR.y - 3, this._handR.y - 1], 200, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._handR)), this._walkTween[6].set("x", [this._handR.x, this._handR.x - 2, this._handR.x - 3, this._handR.x - 2], 200, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._staff)), this._walkTween[7].set("y", [this._staff.y, this._staff.y - 3, this._staff.y - 4, this._staff.y - 3], 200, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._armL)), this._walkTween[8].set("y", [this._armL.y, this._armL.y - 4, this._armL.y - 3, this._armL.y - 1], 200, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._armL)), this._walkTween[9].set("x", [this._armL.x, this._armL.x - 1, this._armL.x - 1, this._armL.x - 1], 200, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._handL)), this._walkTween[10].set("y", [this._handL.y, this._handL.y - 2, this._handL.y - 1, this._handL.y + 1], 200, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._handL)), this._walkTween[11].set("x", [this._handL.x, this._handL.x - 1, this._handL.x - 1, this._handL.x], 200, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._fingersL)), this._walkTween[12].set("frameName", ["fingers-0", "fingers-1", "fingers-2", "fingers-1"], 200, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._fingersL)), this._walkTween[13].set("y", [this._fingersL.y, this._fingersL.y - 1, this._fingersL.y, this._fingersL.y + 1], 200, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._fingersL)), this._walkTween[11].set("x", [this._fingersL.x, this._fingersL.x + 1, this._fingersL.x + 1, this._fingersL.x], 200, 9999), this.stand()
	},
	update: function () {
		Prodigy.Container.CreatureContainer.prototype.update.call(this);
		for (var e = 0; e < this._tweens.length; e++) this._tweens[e].update()
	},
	walk: function () {
		this.stand()
	},
	stand: function () {
		this._tweens = this._walkTween;
		for (var e = 0; e < this._tweens.length; e++) this._tweens[e].start()
	}
}), Prodigy.Container.MamaStar = function (e, t, i, a) {
	Prodigy.Container.CreatureContainer.call(this, e, t, {
		name: "Mama Star",
		npc: !0
	}, null, i, a), this._tweens = [], this._setup()
}, Prodigy.extends(Prodigy.Container.MamaStar, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.Container.MamaStar,
	_setup: function () {
		var e = "npc-sprite-mama_star",
			t = 0,
			i = 33;
		this.sprite = this.game.prodigy.create.element(this.sprites, 0, 0), this._feet = this.sprite.add(this.game.prodigy.create.sprite(t - 12, i - 40, e, "feet_0")), this._arms = this.sprite.add(this.game.prodigy.create.sprite(t - 26, i - 63, e, "arms_0")), this._legs = this.sprite.add(this.game.prodigy.create.sprite(t - 12.5, i - 59, e, "dress_0")), this._body = this.sprite.add(this.game.prodigy.create.sprite(t - 20, i - 75, e, "shawl_0")), this._head = this.sprite.add(this.game.prodigy.create.sprite(t - 33.5, i - 123, e, "head_0")), this._eyes = this.sprite.add(this.game.prodigy.create.sprite(t - 7.5, i - 89, e, "eyes_0")), this._eyebrows = this.sprite.add(this.game.prodigy.create.sprite(t - 11, i - 98, e, "eyebrows_0")), this._mouth = this.sprite.add(this.game.prodigy.create.sprite(t - 4.5, i - 80, e, "mouth_0")), this._walkTween = [], this._walkTween.push(new Prodigy.TweenController(this.game, this._head)), this._walkTween[0].set("y", [this._head.y, this._head.y - 1, this._head.y - 1, this._head.y - 3, this._head.y - 2, this._head.y - 1], 133, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._mouth)), this._walkTween[1].set("y", [this._mouth.y, this._mouth.y - 1, this._mouth.y - 1, this._mouth.y - 2, this._mouth.y - 1, this._mouth.y], 133, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._eyes)), this._walkTween[2].set("frameName", ["eyes_0", "eyes_0", "eyes_0", "eyes_1", "eyes_2", "eyes_0"], 133, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._eyes)), this._walkTween[3].set("y", [this._eyes.y, this._eyes.y - 1, this._eyes.y - 1, this._eyes.y - 1, this._eyes.y - 1, this._eyes.y - 1], 133, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._eyebrows)), this._walkTween[4].set("y", [this._eyebrows.y, this._eyebrows.y - 1, this._eyebrows.y + 3, this._eyebrows.y + 2, this._eyebrows.y - 2, this._eyebrows.y], 133, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._body)), this._walkTween[5].set("y", [this._body.y, this._body.y - 1, this._body.y - 1, this._body.y - 2, this._body.y - 1, this._body.y], 133, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._arms)), this._walkTween[6].set("y", [this._arms.y, this._arms.y - 1, this._arms.y - 1, this._arms.y - 2, this._arms.y - 1, this._arms.y], 133, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._legs)), this._walkTween[7].set("y", [this._legs.y, this._legs.y - 1, this._legs.y - 1, this._legs.y - 2, this._legs.y - 1, this._legs.y], 133, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._feet)), this._walkTween[8].set("frameName", ["feet_0", "feet_0", "feet_0", "feet_1", "feet_0", "feet_0"], 133, 9999), this.stand(), this.showName(!0, "Mama Star"), this.name.y += 30
	},
	update: function () {
		Prodigy.Container.CreatureContainer.prototype.update.call(this);
		for (var e = 0; e < this._tweens.length; e++) this._tweens[e].update()
	},
	walk: function () {
		this.stand()
	},
	stand: function () {
		this._tweens = this._walkTween;
		for (var e = 0; e < this._tweens.length; e++) this._tweens[e].start()
	}
}), Prodigy.Container.HowardCornelius = function (e, t, i, a) {
	Prodigy.Container.CreatureContainer.call(this, e, t, {
		name: "Howard Cornelius",
		npc: !0
	}, null, i, a), this._tweens = [], this._setup()
}, Prodigy.extends(Prodigy.Container.HowardCornelius, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.Container.HowardCornelius,
	_setup: function () {
		var e = "npc-sprite-howard_cornelius",
			t = -80,
			i = -225;
		this.sprite = this.game.prodigy.create.element(this.sprites, 0, 0), this._hansBackpack = this.sprite.add(this.game.prodigy.create.sprite(t + 100, i + 24, e, "hans_backpack-0")), this._hansBody = this.sprite.add(this.game.prodigy.create.sprite(t + 85, i + 30, e, "hans_body-0")), this._hansHead = this.sprite.add(this.game.prodigy.create.sprite(t + 62, i + 7, e, "hans_head-0")), this._hansEyes = this.sprite.add(this.game.prodigy.create.sprite(t + 78, i + 22, e, "hans_eyes-0")), this.sprite.add(this.game.prodigy.create.sprite(t + 26, i + 208, e, "feet-0")), this._corneliusLegs = this.sprite.add(this.game.prodigy.create.sprite(t + 53, i + 191, e, "legs-0")), this._corneliusBody = this.sprite.add(this.game.prodigy.create.sprite(t + 36, i + 59, e, "body-0")), this._corneliusLeftArm = this.sprite.add(this.game.prodigy.create.sprite(t, i + 99, e, "left_arm-0")), this._corneliusRightArm = this.sprite.add(this.game.prodigy.create.sprite(t + 102, i + 106, e, "right_arm-0")), this._corneliusHead = this.sprite.add(this.game.prodigy.create.sprite(t + 53, i + 42, e, "head-0")), this._corneliusEyes = this.sprite.add(this.game.prodigy.create.sprite(t + 67, i + 65, e, "eyes-0")), this._corneliusMouth = this.sprite.add(this.game.prodigy.create.sprite(t + 42, i + 81, e, "mouth-0")), this._corneliusMustache = this.sprite.add(this.game.prodigy.create.sprite(t + 39, i + 74, e, "mustache-0")), this._corneliusEyebrows = this.sprite.add(this.game.prodigy.create.sprite(t + 54, i + 57, e, "eyebrows-0")), this._walkTween = [], this._walkTween.push(new Prodigy.TweenController(this.game, this._hansHead)), this._walkTween[0].set("y", [this._hansHead.y, this._hansHead.y, this._hansHead.y - 1, this._hansHead.y - 2, this._hansHead.y - 4, this._hansHead.y - 5, this._hansHead.y - 6, this._hansHead.y - 7, this._hansHead.y - 7, this._hansHead.y - 5, this._hansHead.y - 3, this._hansHead.y - 2, this._hansHead.y - 1, this._hansHead.y], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._hansEyes)), this._walkTween[1].set("frameName", ["hans_eyes-0", "hans_eyes-0", "hans_eyes-0", "hans_eyes-0", "hans_eyes-0", "hans_eyes-0", "hans_eyes-0", "hans_eyes-0", "hans_eyes-0", "hans_eyes-0", "hans_eyes-0", "hans_eyes-0", "hans_eyes-1", "hans_eyes-2"], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._hansEyes)), this._walkTween[2].set("y", [this._hansEyes.y, this._hansEyes.y, this._hansEyes.y - 1, this._hansEyes.y - 2, this._hansEyes.y - 4, this._hansEyes.y - 5, this._hansEyes.y - 6, this._hansEyes.y - 7, this._hansEyes.y - 7, this._hansEyes.y - 5, this._hansEyes.y - 3, this._hansEyes.y - 2, this._hansEyes.y - 1, this._hansEyes.y], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._hansBody)), this._walkTween[3].set("frameName", ["hans_body-0", "hans_body-0", "hans_body-0", "hans_body-0", "hans_body-1", "hans_body-2", "hans_body-2", "hans_body-2", "hans_body-2", "hans_body-3", "hans_body-4", "hans_body-5", "hans_body-6", "hans_body-6"], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._hansBody)), this._walkTween[4].set("y", [this._hansBody.y, this._hansBody.y, this._hansBody.y - 1, this._hansBody.y - 2, this._hansBody.y - 2, this._hansBody.y - 2, this._hansBody.y - 2, this._hansBody.y - 2, this._hansBody.y - 2, this._hansBody.y - 2, this._hansBody.y - 2, this._hansBody.y - 2, this._hansBody.y - 2, this._hansBody.y - 1], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._hansBackpack)), this._walkTween[5].set("frameName", ["hans_backpack-0", "hans_backpack-0", "hans_backpack-0", "hans_backpack-0", "hans_backpack-0", "hans_backpack-0", "hans_backpack-0", "hans_backpack-1", "hans_backpack-2", "hans_backpack-3", "hans_backpack-4", "hans_backpack-5", "hans_backpack-5", "hans_backpack-5"], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._hansBackpack)), this._walkTween[6].set("y", [this._hansBackpack.y, this._hansBackpack.y, this._hansBackpack.y - 1, this._hansBackpack.y - 2, this._hansBackpack.y - 4, this._hansBackpack.y - 5, this._hansBackpack.y - 5, this._hansBackpack.y - 5, this._hansBackpack.y - 5, this._hansBackpack.y - 4, this._hansBackpack.y - 3, this._hansBackpack.y - 2, this._hansBackpack.y - 1, this._hansBackpack.y], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._corneliusHead)), this._walkTween[7].set("frameName", ["head-0", "head-0", "head-1", "head-2", "head-3", "head-4", "head-5", "head-5", "head-5", "head-6", "head-7", "head-8", "head-7", "head-7"], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._corneliusHead)), this._walkTween[8].set("y", [this._corneliusHead.y, this._corneliusHead.y, this._corneliusHead.y - 1, this._corneliusHead.y - 2, this._corneliusHead.y - 4, this._corneliusHead.y - 5, this._corneliusHead.y - 5, this._corneliusHead.y - 5, this._corneliusHead.y - 5, this._corneliusHead.y - 4, this._corneliusHead.y - 3, this._corneliusHead.y - 2, this._corneliusHead.y - 1, this._corneliusHead.y], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._corneliusEyebrows)), this._walkTween[9].set("y", [this._corneliusEyebrows.y, this._corneliusEyebrows.y, this._corneliusEyebrows.y - 3, this._corneliusEyebrows.y - 7, this._corneliusEyebrows.y - 6, this._corneliusEyebrows.y - 5, this._corneliusEyebrows.y - 5, this._corneliusEyebrows.y - 5, this._corneliusEyebrows.y - 5, this._corneliusEyebrows.y - 4, this._corneliusEyebrows.y - 3, this._corneliusEyebrows.y - 2, this._corneliusEyebrows.y - 1, this._corneliusEyebrows.y], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._corneliusMustache)), this._walkTween[10].set("y", [this._corneliusMustache.y, this._corneliusMustache.y, this._corneliusMustache.y - 1, this._corneliusMustache.y - 2, this._corneliusMustache.y - 4, this._corneliusMustache.y - 5, this._corneliusMustache.y - 5, this._corneliusMustache.y - 6, this._corneliusMustache.y - 5, this._corneliusMustache.y - 4, this._corneliusMustache.y - 3, this._corneliusMustache.y - 2, this._corneliusMustache.y - 1, this._corneliusMustache.y], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._corneliusMouth)), this._walkTween[11].set("frameName", ["mouth-0", "mouth-0", "mouth-0", "mouth-0", "mouth-0", "mouth-1", "mouth-2", "mouth-3", "mouth-4", "mouth-5", "mouth-0", "mouth-0", "mouth-0", "mouth-0"], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._corneliusMouth)), this._walkTween[12].set("y", [this._corneliusMouth.y, this._corneliusMouth.y, this._corneliusMouth.y - 1, this._corneliusMouth.y - 2, this._corneliusMouth.y - 4, this._corneliusMouth.y - 5, this._corneliusMouth.y - 5, this._corneliusMouth.y - 6, this._corneliusMouth.y - 5, this._corneliusMouth.y - 4, this._corneliusMouth.y - 3, this._corneliusMouth.y - 2, this._corneliusMouth.y - 1, this._corneliusMouth.y], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._corneliusEyes)), this._walkTween[13].set("frameName", ["eyes-0", "eyes-0", "eyes-0", "eyes-0", "eyes-0", "eyes-0", "eyes-1", "eyes-2", "eyes-0", "eyes-0", "eyes-0", "eyes-0", "eyes-0", "eyes-0"], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._corneliusEyes)), this._walkTween[14].set("y", [this._corneliusEyes.y, this._corneliusEyes.y, this._corneliusEyes.y - 1, this._corneliusEyes.y - 2, this._corneliusEyes.y - 4, this._corneliusEyes.y - 5, this._corneliusEyes.y - 5, this._corneliusEyes.y - 5, this._corneliusEyes.y - 5, this._corneliusEyes.y - 4, this._corneliusEyes.y - 3, this._corneliusEyes.y - 3, this._corneliusEyes.y - 2, this._corneliusEyes.y - 1], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._corneliusRightArm)), this._walkTween[15].set("frameName", ["right_arm-0", "right_arm-1", "right_arm-2", "right_arm-2", "right_arm-2", "right_arm-2", "right_arm-2", "right_arm-2", "right_arm-2", "right_arm-2", "right_arm-2", "right_arm-3", "right_arm-4", "right_arm-5"], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._corneliusRightArm)), this._walkTween[16].set("y", [this._corneliusRightArm.y, this._corneliusRightArm.y, this._corneliusRightArm.y - 1, this._corneliusRightArm.y - 2, this._corneliusRightArm.y - 3, this._corneliusRightArm.y - 3, this._corneliusRightArm.y - 3, this._corneliusRightArm.y - 3, this._corneliusRightArm.y - 3, this._corneliusRightArm.y - 3, this._corneliusRightArm.y - 3, this._corneliusRightArm.y - 2, this._corneliusRightArm.y - 2, this._corneliusRightArm.y], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._corneliusLeftArm)), this._walkTween[17].set("frameName", ["left_arm-0", "left_arm-0", "left_arm-0", "left_arm-0", "left_arm-0", "left_arm-0", "left_arm-0", "left_arm-0", "left_arm-0", "left_arm-0", "left_arm-0", "left_arm-1", "left_arm-2", "left_arm-3"], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._corneliusLeftArm)), this._walkTween[18].set("y", [this._corneliusLeftArm.y, this._corneliusLeftArm.y, this._corneliusLeftArm.y - 1, this._corneliusLeftArm.y - 2, this._corneliusLeftArm.y - 3, this._corneliusLeftArm.y - 3, this._corneliusLeftArm.y - 3, this._corneliusLeftArm.y - 3, this._corneliusLeftArm.y - 3, this._corneliusLeftArm.y - 3, this._corneliusLeftArm.y - 3, this._corneliusLeftArm.y - 3, this._corneliusLeftArm.y - 3, this._corneliusLeftArm.y - 1], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._corneliusLegs)), this._walkTween[19].set("frameName", ["legs-0", "legs-0", "legs-1", "legs-2", "legs-3", "legs-3", "legs-3", "legs-3", "legs-3", "legs-3", "legs-3", "legs-3", "legs-1", "legs-0"], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._corneliusLegs)), this._walkTween[20].set("y", [this._corneliusLegs.y, this._corneliusLegs.y, this._corneliusLegs.y - 1, this._corneliusLegs.y - 2, this._corneliusLegs.y - 2, this._corneliusLegs.y - 2, this._corneliusLegs.y - 2, this._corneliusLegs.y - 2, this._corneliusLegs.y - 2, this._corneliusLegs.y - 2, this._corneliusLegs.y - 2, this._corneliusLegs.y - 2, this._corneliusLegs.y - 1, this._corneliusLegs.y], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._corneliusLegs)), this._walkTween[21].set("x", [this._corneliusLegs.x, this._corneliusLegs.x, this._corneliusLegs.x + 1, this._corneliusLegs.x + 2, this._corneliusLegs.x + 2, this._corneliusLegs.x + 2, this._corneliusLegs.x + 2, this._corneliusLegs.x + 2, this._corneliusLegs.x + 2, this._corneliusLegs.x + 2, this._corneliusLegs.x + 2, this._corneliusLegs.x + 2, this._corneliusLegs.x + 1, this._corneliusLegs.x], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._corneliusBody)), this._walkTween[22].set("frameName", ["body-0", "body-1", "body-2", "body-2", "body-3", "body-4", "body-5", "body-6", "body-7", "body-8", "body-9", "body-10", "body-11", "body-12"], 100, 9999), this._walkTween.push(new Prodigy.TweenController(this.game, this._corneliusBody)), this._walkTween[23].set("y", [this._corneliusBody.y, this._corneliusBody.y, this._corneliusBody.y - 1, this._corneliusBody.y - 2, this._corneliusBody.y - 3, this._corneliusBody.y - 3, this._corneliusBody.y - 3, this._corneliusBody.y - 3, this._corneliusBody.y - 3, this._corneliusBody.y - 3, this._corneliusBody.y - 3, this._corneliusBody.y - 2, this._corneliusBody.y - 1, this._corneliusBody.y], 100, 9999), this.stand(), this.showName(!0, "Howard Cornelius"), this.name.y -= 95
	},
	update: function () {
		Prodigy.Container.CreatureContainer.prototype.update.call(this);
		for (var e = 0; e < this._tweens.length; e++) this._tweens[e].update()
	},
	walk: function () {
		this.stand()
	},
	stand: function () {
		this._tweens = this._walkTween;
		for (var e = 0; e < this._tweens.length; e++) this._tweens[e].start()
	}
}), Prodigy.Container.ToyMerchant = function (e, t, i, a, s, r) {
	Prodigy.Container.CreatureContainer.call(this, e, t, {
		name: "Toy Merchant",
		npc: !0
	}, null, i, a), this._tweens = [], this.type = s, this.zone = r, this._setup()
}, Prodigy.extends(Prodigy.Container.ToyMerchant, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.Container.ToyMerchant,
	_setup: function () {
		var e = "npc-sprite-toy",
			t = "machav2-";
		this.sprite = this.game.prodigy.create.element(this.sprites, 0, 0), this._shadow = this.sprite.add(this.game.prodigy.create.sprite(19, 19, e, t + "shadow")), this._shadow.anchor.setTo(.5, .5), this._body = this.sprite.add(this.game.prodigy.create.sprite(-4, -43, e, t + "body1")), this._head = this.sprite.add(this.game.prodigy.create.sprite(-17, -107, e, t + "head1")), Util.isDefined(this.type) && "default" !== this.type || (this._cart = this.sprite.add(this.game.prodigy.create.sprite(50, -150, e, "toy-merchant-cart")));
		for (var i = 0; i < this.sprite.children.length; i++) this.sprite.children[i].inputEnabled = !0, Util.isDefined(this.type) && Util.isDefined(this.zone) && "default" !== this.type || this.sprite.children[i].events.onInputDown.add(this.clicked.bind(this));
		this.sprite.x -= Math.floor(this.sprite.width / 2), this._standTween = [], this._standTween.push(new Prodigy.TweenController(this.game, this._head)), this._standTween[0].set("y", [this._head.y, this._head.y + 1, this._head.y + 2, this._head.y + 3, this._head.y + 4, this._head.y + 3, this._head.y + 2, this._head.y + 1], 150, 9999), this._standTween.push(new Prodigy.TweenController(this.game, this._head)), this._standTween[1].set("frameName", [t + "head1", t + "head2", t + "head3", t + "head4", t + "head1", t + "head6", t + "head7", t + "head8"], 150, 9999), this._standTween.push(new Prodigy.TweenController(this.game, this._body)), this._standTween[2].set("y", [this._body.y, this._body.y + 1, this._body.y + 2, this._body.y + 3, this._body.y + 4, this._body.y + 3, this._body.y + 2, this._body.y + 1], 150, 9999), this._standTween.push(new Prodigy.TweenController(this.game, this._body)), this._standTween[3].set("frameName", [t + "body1", t + "body2", t + "body1", t + "body2", t + "body1", t + "body2", t + "body1", t + "body2"], 150, 9999), this._standTween.push(new Prodigy.TweenController(this.game, this._shadow)), this._standTween[4].set("scale", [{
			x: 1,
			y: 1
		}, {
			x: 1.1,
			y: 1.1
		}, {
			x: 1.2,
			y: 1.2
		}, {
			x: 1.3,
			y: 1.3
		}, {
			x: 1.3,
			y: 1.3
		}, {
			x: 1.2,
			y: 1.2
		}, {
			x: 1.1,
			y: 1.1
		}, {
			x: 1,
			y: 1
		}], 150, 9999), this._standTween.push(new Prodigy.TweenController(this.game, this._shadow)), this._standTween[5].set("alpha", [.2, .3, .4, .5, .5, .4, .3, .2], 150, 9999), this.stand()
	},
	update: function () {
		Prodigy.Container.CreatureContainer.prototype.update.call(this);
		for (var e = 0; e < this._tweens.length; e++) this._tweens[e].update()
	},
	walk: function () {
		this.stand()
	},
	stand: function () {
		this._tweens = this._standTween;
		for (var e = 0; e < this._tweens.length; e++) this._tweens[e].start()
	},
	clicked: function () {
		var e = this.game.prodigy.event.create();
		Util.isDefined(this.type) && Util.isDefined(this.zone) && "default" !== this.type ? "Arctursus" === this.type ? Util.isDefined(this.zone.getState("a1Visited")) && this.zone.getState("a1Visited") !== !1 ? e.text(8, "toy") : (e.text(3, "toy"), e.function(this.zone.setState.bind(this.zone, "a1Visited", !0))) : "Florafox" === this.type ? Util.isDefined(this.zone.getState("a2Visited")) && this.zone.getState("a2Visited") !== !1 ? e.text(8, "toy") : (e.text(4, "toy"), e.function(this.zone.setState.bind(this.zone, "a2Visited", !0))) : "BigHex" === this.type ? Util.isDefined(this.zone.getState("b1Visited")) && this.zone.getState("b1Visited") !== !1 ? e.text(8, "toy") : (e.text(5, "toy"), e.function(this.zone.setState.bind(this.zone, "b1Visited", !0))) : "Magmischief" === this.type ? Util.isDefined(this.zone.getState("c1Visited")) && this.zone.getState("c1Visited") !== !1 ? e.text(8, "toy") : (e.text(6, "toy"), e.function(this.zone.setState.bind(this.zone, "c1Visited", !0))) : "Diveodile" === this.type ? Util.isDefined(this.zone.getState("c2Visited")) && this.zone.getState("c2Visited") !== !1 ? e.text(8, "toy") : (e.text(7, "toy"), e.function(this.zone.setState.bind(this.zone, "c2Visited", !0))) : "Arena" === this.type && e.text(8, "toy") : (e.text(0, "toy"), e.text(1, "toy"), e.function(this.game.prodigy.open.toyStore.bind(this.game.prodigy.open))), e.start()
	}
}), Prodigy.Container.SirVey = function (e, t, i, a) {
	Prodigy.Container.CreatureContainer.call(this, e, t.content, {
		name: "Sir Vey",
		npc: !0
	}, null, i, a), this.screen = t, this.setup()
}, Prodigy.extends(Prodigy.Container.SirVey, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.Container.SirVey,
	setup: function () {
		this.game.broadcaster.addAppListener(Prodigy.Events.Survey.ON_GET_DATA_COMPLETE, this.onGetDataComplete.bind(this), this, this.game), this.sprite = this.game.prodigy.create.element(this.sprites, 0, 0), this.sirveySpine = this.game.add.spine(0, 0, "npc-sir-vey"), this.sirveySpine.setAnimationByName(0, "idle", !0), this.sprite.add(this.sirveySpine), this.setupCollisionBlock(), this.showName(!0, "Sir Vey"), this.name.y = -115, this.game.prodigy.surveyController.requestSurveyData()
	},
	attention: function () {
		Util.isDefined(this.exclamation) && (this.sirveySpine.setAnimationByName(0, "jump", !1), this.sirveySpine.addAnimationByName(0, "idle", !0), this.game.time.events.add(5e3 + 3e3 * Math.random(), this.attention.bind(this), this))
	},
	onGetDataComplete: function (e) {
		if (this.surveyData = e, Util.isDefined(this.surveyData) && Util.isDefined(this.surveyData.id)) {
			var t = this.sprite.height + 60;
			this.exclamation = this.add(this.game.prodigy.create.sprite(-20, -t, "icons", "exclamation")), this.game.add.tween(this.exclamation).to({
				y: -(t + 10)
			}, 400, Phaser.Easing.Linear.In, !0, 0, Number.MAX_VALUE, !0), this.game.time.events.add(5e3, this.attention.bind(this), this)
		} else Util.isDefined(this.exclamation) && (this.exclamation.destroy(), this.exclamation = null)
	},
	setupCollisionBlock: function () {
		this.collisionBlock = this.sprite.add(this.game.prodigy.create.sprite(-(.5 * this.sprite.width), -this.sprite.height, "core", "empty")), this.collisionBlock.width = this.sprite.width, this.collisionBlock.height = this.sprite.height, this.collisionBlock.inputEnabled = !0, this.collisionBlock.events.onInputDown.add(this.onClicked.bind(this))
	},
	onClicked: function () {
		var e = function (e) {
			Util.isDefined(e) && this.screen.user.setPath(e, this.encounter.bind(this))
		};
		this.screen.path.findPath(this.screen.user.x, this.screen.user.y, this.x - 20, this.y + 20, e.bind(this))
	},
	encounter: function () {
		var e = this.game.prodigy.dialogue.create();
		Util.isDefined(this.surveyData) && Util.isDefined(this.surveyData.id) ? (e.setText(1), e.setText({
			callback: this.showSurveyPanel.bind(this)
		})) : e.setText(0), e.start("sir-vey")
	},
	showSurveyPanel: function () {
		this.game.prodigy.open.survey(this.surveyData)
	},
	update: function () {
		Prodigy.Container.CreatureContainer.prototype.update.call(this)
	},
	walk: function () {
		this.stand()
	},
	stand: function () {
		Util.log("[SirVey] Stand called!")
	}
}), Prodigy.Container.MozzaElla = function (e, t, i, a) {
	Prodigy.Container.CreatureContainer.call(this, e, t, {
		name: "Mozza Ella",
		npc: !0
	}, null, i, a), this.currentTweens = [], this.idleTweens = [], this.spriteLoadCount = 0, this.setup()
}, Prodigy.extends(Prodigy.Container.MozzaElla, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.Container.MozzaElla,
	setup: function () {
		var e = "npc-sprite-mozza-ella",
			t = this.sprites.add(this.game.prodigy.create.sprite(33, 64, e, "tail-0", null, this.onSpriteLoaded.bind(this), 28, 18)),
			i = this.sprites.add(this.game.prodigy.create.sprite(0, 0, e, "head-0", null, this.onSpriteLoaded.bind(this), 44, 54)),
			a = this.sprites.add(this.game.prodigy.create.sprite(4, 43, e, "arm-right-0", null, this.onSpriteLoaded.bind(this), 8, 26)),
			s = this.sprites.add(this.game.prodigy.create.sprite(4, 64, e, "legs-0", null, this.onSpriteLoaded.bind(this), 34, 28)),
			r = this.sprites.add(this.game.prodigy.create.sprite(8, 38, e, "torso-0", null, this.onSpriteLoaded.bind(this), 34, 28));
		this.idleTweens.push(new Prodigy.TweenController(this.game, r)), this.idleTweens[this.idleTweens.length - 1].set("y", [r.y, r.y - 1, r.y - 1, r.y], 200, 9999), this.idleTweens.push(new Prodigy.TweenController(this.game, s)), this.idleTweens[this.idleTweens.length - 1].set("frameName", ["legs-0", "legs-1", "legs-1", "legs-0"], 200, 9999), this.idleTweens.push(new Prodigy.TweenController(this.game, a)), this.idleTweens[this.idleTweens.length - 1].set("y", [a.y, a.y - 1, a.y - 1, a.y], 200, 9999), this.idleTweens.push(new Prodigy.TweenController(this.game, a)), this.idleTweens[this.idleTweens.length - 1].set("frameName", ["arm-right-0", "arm-right-0", "arm-right-0", "arm-right-1"], 200, 9999), this.idleTweens.push(new Prodigy.TweenController(this.game, i)), this.idleTweens[this.idleTweens.length - 1].set("y", [i.y, i.y - 1, i.y - 1, i.y], 200, 9999), this.idleTweens.push(new Prodigy.TweenController(this.game, i)), this.idleTweens[this.idleTweens.length - 1].set("frameName", ["head-0", "head-1", "head-0", "head-2"], 200, 9999), this.idleTweens.push(new Prodigy.TweenController(this.game, t)), this.idleTweens[this.idleTweens.length - 1].set("y", [t.y, t.y, t.y - 1, t.y - 1], 200, 9999), this.idleTweens.push(new Prodigy.TweenController(this.game, t)), this.idleTweens[this.idleTweens.length - 1].set("frameName", ["tail-0", "tail-1", "tail-0", "tail-2"], 200, 9999), this.visible = !1, this.tryToStartAnimations()
	},
	onSpriteLoaded: function () {
		this.spriteLoadCount++, this.tryToStartAnimations()
	},
	tryToStartAnimations: function () {
		this.spriteLoadCount >= this.sprites.length && (this.visible = !0, this.stand())
	},
	update: function () {
		Prodigy.Container.CreatureContainer.prototype.update.call(this);
		for (var e = 0; e < this.currentTweens.length; e++) this.currentTweens[e].update()
	},
	walk: function () {
		this.stand()
	},
	stand: function () {
		this.currentTweens = this.idleTweens;
		for (var e = 0; e < this.currentTweens.length; e++) this.currentTweens[e].start()
	}
}), Prodigy.Container.ScientistSlimerella = function (e, t, i, a, s, r) {
	Prodigy.Container.CreatureContainer.call(this, e, t, {
		name: "Scientist Slimerella",
		npc: !0
	}, null, i, a), this.tweens = [], this.content = t, this.firstTime = s, this.zone = r, this.coords = {
		x: i,
		y: a
	}, this.store = {
		name: "Potion Shop",
		items: [{
			ID: 96,
			type: "item"
		}, {
			ID: 98,
			type: "item"
		}, {
			ID: 100,
			type: "item"
		}, {
			ID: 102,
			type: "item"
		}, {
			ID: 104,
			type: "item"
		}, {
			ID: 106,
			type: "item"
		}, {
			ID: 108,
			type: "item"
		}, {
			ID: 97,
			type: "item"
		}, {
			ID: 99,
			type: "item"
		}, {
			ID: 101,
			type: "item"
		}, {
			ID: 103,
			type: "item"
		}, {
			ID: 105,
			type: "item"
		}, {
			ID: 107,
			type: "item"
		}, {
			ID: 110,
			type: "item"
		}, {
			ID: 109,
			type: "item"
		}, {
			ID: 111,
			type: "item"
		}]
	}, this.setup()
}, Prodigy.extends(Prodigy.Container.ScientistSlimerella, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.Container.ScientistSlimerella,
	setup: function () {
		var e = "npc-sprite-potion",
			t = "body_";
		this.body = this.content.add(this.game.prodigy.create.sprite(this.coords.x, this.coords.y, e, t + "0")), this.body.anchor.setTo(.5, 1), this.body.inputEnabled = !0, this.body.events.onInputDown.add(this.clicked.bind(this)), this.standTween = [], this.standTween.push(new Prodigy.TweenController(this.game, this.body)), this.standTween[0].set("frameName", [t + "0", t + "0", t + "0", t + "0", t + "1", t + "2", t + "2", t + "2", t + "1", t + "0", t + "0", t + "0", t + "0", t + "0"], 150, 9999), this.stand()
	},
	update: function () {
		Prodigy.Container.CreatureContainer.prototype.update.call(this);
		for (var e = 0; e < this.tweens.length; e++) this.tweens[e].update()
	},
	walk: function () {
		this.stand()
	},
	stand: function () {
		this.tweens = this.standTween;
		for (var e = 0; e < this.tweens.length; e++) this.tweens[e].start()
	},
	clicked: function () {
		var e = this.game.prodigy.event.create();
		this.firstTime ? (this.game.prodigy.network.sendAnalytics("potion-store-activity", "access-store", "Events"), e.text(0, "potion"), e.text(1, "potion"), e.text(2, "potion"), e.text(3, "potion"), e.function(this.zone.setState.bind(this.zone, "firstPotion", !1)), e.set(this, "firstTime", !1), e.reward([{
			type: "item",
			ID: 110,
			N: 1
		}]), e.text(4, "potion")) : (e.text(6, "potion"), e.text(7, "potion"));
		var t = {
			shopkeeperTag: "npc-face-potion",
			shopkeeperFrame: "face_0",
			scaleX: 1,
			scaleY: 1,
			Y: 40
		};
		e.function(this.game.prodigy.open.store.bind(this.game.prodigy.open, this.store, null, t)), e.start()
	}
}), Prodigy.Container.Swoopy = function (e, t, i, a, s) {
	Prodigy.Container.CreatureContainer.call(this, e, t, {
		name: "Swoopy",
		npc: !0,
		nameX: -175,
		nameY: -100
	}, null, i, a), this.tweens = [], this.content = t, this.coords = {
		x: i,
		y: a
	}, this.onClick = s, this.idleCounter = 0, this.setup()
}, Prodigy.extends(Prodigy.Container.Swoopy, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.Container.Swoopy,
	setup: function () {
		var e = "npc-sprite-swoopy",
			t = "body-",
			i = "l-arm-",
			a = "r-arm-",
			s = "puff-",
			r = "legs-",
			o = "backpack-",
			n = "shadow-";
		this.sprite = this.game.prodigy.create.element(this.content, this.coords.x, this.coords.y);
		var h = -80;
		this.backPack = this.sprite.add(this.game.prodigy.create.sprite(0, 37 + h, e, o + "0")), this.lArm = this.sprite.add(this.game.prodigy.create.sprite(36, 47 + h, e, i + "0")), this.rArm = this.sprite.add(this.game.prodigy.create.sprite(0, 47 + h, e, a + "0")), this.shadow = this.sprite.add(this.game.prodigy.create.sprite(1, 72 + h, e, n + "0")), this.legs = this.sprite.add(this.game.prodigy.create.sprite(11, 68 + h, e, r + "0")), this.puff = this.sprite.add(this.game.prodigy.create.sprite(11, 0 + h, e, s + "0")), this.body = this.sprite.add(this.game.prodigy.create.sprite(2, 30 + h, e, t + "0"));
		for (var l = 0; l < this.sprite.children.length; l++) this.sprite.children[l].inputEnabled = !0, this.sprite.children[l].events.onInputDown.add(this.onClick);
		this.standTween1 = [], this.standTween1.push(new Prodigy.TweenController(this.game, this.body)), this.standTween1[0].set("y", [this.body.y, this.body.y + 1, this.body.y + 1, this.body.y], 150, 9999), this.standTween1.push(new Prodigy.TweenController(this.game, this.puff)), this.standTween1[1].set("y", [this.puff.y, this.puff.y, this.puff.y + 1, this.puff.y + 1], 150, 9999), this.standTween1.push(new Prodigy.TweenController(this.game, this.rArm)), this.standTween1[2].set("y", [this.rArm.y, this.rArm.y + 1, this.rArm.y + 1, this.rArm.y], 150, 9999), this.standTween1.push(new Prodigy.TweenController(this.game, this.lArm)), this.standTween1[3].set("y", [this.lArm.y, this.lArm.y + 1, this.lArm.y + 1, this.lArm.y], 150, 9999), this.standTween1.push(new Prodigy.TweenController(this.game, this.backPack)), this.standTween1[4].set("y", [this.backPack.y, this.backPack.y + 1, this.backPack.y + 1, this.backPack.y], 150, 9999), this.standTween1[4].end.call(this.standTween1[4], this.updateIdleCounter.bind(this)), this.standTween2 = [], this.standTween2.push(new Prodigy.TweenController(this.game, this.body)), this.standTween2[0].set("frameName", [t + "0", t + "0", t + "1", t + "1", t + "0", t + "0", t + "0", t + "0", t + "0", t + "2", t + "2", t + "0", t + "0"], 150, 9999), this.standTween2.push(new Prodigy.TweenController(this.game, this.body)), this.standTween2[1].set("y", [this.body.y, this.body.y, this.body.y + 1, this.body.y + 1, this.body.y, this.body.y, this.body.y, this.body.y, this.body.y, this.body.y + 1, this.body.y + 1, this.body.y, this.body.y], 150, 9999), this.standTween2.push(new Prodigy.TweenController(this.game, this.puff)), this.standTween2[2].set("y", [this.puff.y, this.puff.y, this.puff.y, this.puff.y + 1, this.puff.y + 1, this.puff.y, this.puff.y, this.puff.y - 1, this.puff.y - 1, this.puff.y, this.puff.y, this.puff.y + 1, this.puff.y + 1], 150, 9999), this.standTween2.push(new Prodigy.TweenController(this.game, this.rArm)), this.standTween2[3].set("y", [this.rArm.y, this.rArm.y, this.rArm.y + 1, this.rArm.y + 2, this.rArm.y + 1, this.rArm.y - 1, this.rArm.y - 1, this.rArm.y, this.rArm.y, this.rArm.y, this.rArm.y, this.rArm.y, this.rArm.y], 150, 9999), this.standTween2.push(new Prodigy.TweenController(this.game, this.lArm)), this.standTween2[4].set("frameName", [i + "0", i + "0", i + "1", i + "2", i + "2", i + "2", i + "2", i + "2", i + "2", i + "2", i + "2", i + "0", i + "0"], 150, 9999), this.standTween2.push(new Prodigy.TweenController(this.game, this.lArm)), this.standTween2[5].set("y", [this.lArm.y, this.lArm.y, this.lArm.y + 1, this.lArm.y + 1, this.lArm.y, this.lArm.y - 2, this.lArm.y - 2, this.lArm.y - 1, this.lArm.y - 1, this.lArm.y, this.lArm.y, this.lArm.y, this.lArm.y], 150, 9999), this.standTween2.push(new Prodigy.TweenController(this.game, this.backPack)), this.standTween2[6].set("y", [this.backPack.y, this.backPack.y, this.backPack.y + 1, this.backPack.y + 1, this.backPack.y + 1, this.backPack.y, this.backPack.y - 1, this.backPack.y - 1, this.backPack.y + 1, this.backPack.y + 1, this.backPack.y, this.backPack.y], 150, 9999), this.standTween2[6].end.call(this.standTween2[6], this.resetToDefaultIdle.bind(this)), this.tweens = this.standTween1, this.showName(!0), this.stand()
	},
	update: function () {
		Prodigy.Container.CreatureContainer.prototype.update.call(this);
		for (var e = 0; e < this.tweens.length; e++) this.tweens[e].update()
	},
	walk: function () {
		this.stand()
	},
	stand: function () {
		for (var e = 0; e < this.tweens.length; e++) this.tweens[e].start()
	},
	updateIdleCounter: function () {
		this.idleCounter++, this.idleCounter > 3 + 3 * Math.random() && (this.tweens = this.standTween2, this.stand(), this.idleCounter = 0)
	},
	resetToDefaultIdle: function () {
		this.tweens = this.standTween1, this.stand()
	}
}), Prodigy.Container.RegisterPage = function (e, t, i) {
	Prodigy.Control.Element.call(this, e, t), this.data = i, this.visible = !1, this.backBtn = this.game.prodigy.create.textButton(this, 180, 160, {
		icon: "back",
		size: Prodigy.Control.TextButton.TALL
	}, this.back.bind(this)), this.nextBtn = this.game.prodigy.create.textButton(this, 1e3, 160, {
		icon: "next",
		size: Prodigy.Control.TextButton.TALL
	}, this.next.bind(this)), this.counter = 11
}, Prodigy.extends(Prodigy.Container.RegisterPage, Prodigy.Control.Element, {
	constructor: Prodigy.Container.RegisterPage,
	init: function (e, t) {
		this.backCallback = e, this.nextCallback = t, this.backBtn.visible = Util.isDefined(e), this.nextBtn.visible = Util.isDefined(t)
	},
	open: function () {
		this.visible = !0
	},
	close: function () {
		this.visible = !1, Util.isDefined(this.dialogue) && this.dialogue.close()
	},
	back: function () {
		Util.isDefined(this.backCallback) && (this.backCallback(), this.close())
	},
	next: function () {
		this.validate() && (this.nextCallback(), this.close())
	},
	validate: function () {
		return !0
	}
}), Prodigy.Container.ClassCodePage = function (e, t, i) {
	Prodigy.Container.RegisterPage.call(this, e, t, i), this.codeField = Prodigy.Control.InputField.createInputField(this.game, this, "classcodeg", "", 640 - Prodigy.Control.InputField.WIDTH_MEDIUM / 2, 180, Prodigy.Control.InputField.WIDTH_MEDIUM, Prodigy.Control.InputField.HEIGHT_MEDIUM), this.codeField.setLabel(this, "Class Code:"), this.codeField.hide(0), this.emailField = Prodigy.Control.InputField.createInputField(this.game, this, "emailg", "", 640 - Prodigy.Control.InputField.WIDTH_MEDIUM / 2, 180, Prodigy.Control.InputField.WIDTH_MEDIUM, Prodigy.Control.InputField.HEIGHT_MEDIUM), this.emailField.setLabel(this, "Parent Email:"), this.emailField.hide(0), this.btns = this.game.prodigy.create.element(this, 640, 270), this.spinner = this.add(this.game.prodigy.create.sprite(860, 200, "core", "loading")), this.spinner.anchor.setTo(.5, .5), this.game.add.tween(this.spinner).to({
		angle: 360
	}, 2e3, Phaser.Easing.Linear.None, !0, 0, Number.MAX_VALUE, !1), this.spinner.visible = !1, this.statusIcon = this.add(this.game.prodigy.create.sprite(860, 200, "icons", "close")), this.statusIcon.anchor.setTo(.5, .5), this.statusIcon.visible = !1, this.statusIcon.inputEnabled = !0, this.statusIcon.events.onInputDown.add(this.tryNext.bind(this)), this.dialogue = this.game.prodigy.dialogue.create()
}, Prodigy.extends(Prodigy.Container.ClassCodePage, Prodigy.Container.RegisterPage, {
	setClassCodeContent: function () {
		this.nextBtn.setInactive(), this.codeField.highlight(!1, 180, -35), this.nextBtn.highlight(!1), this.btns.removeAll(!0), this.mode = "cc", this.codeField.show(0), this.emailField.hide(0);
		var e = this.game.prodigy.create.panel(this.btns, -300, 0, 7, 3, "button");
		e.setClickable(this.getCode.bind(this)), this.game.prodigy.create.font(e, 0, 25, "Teachers: click here", {
			size: 20,
			align: "center",
			width: 280
		}), this.game.prodigy.create.font(e, 0, 60, "to get a class code!", {
			size: 20,
			align: "center",
			width: 280
		}), e = this.game.prodigy.create.panel(this.btns, 20, 0, 7, 3, "button"), e.setClickable(this.setEmailContent.bind(this)), this.game.prodigy.create.font(e, 0, 25, "Playing at home?", {
			size: 20,
			align: "center",
			width: 280
		}), this.game.prodigy.create.font(e, 0, 60, "Click here!", {
			size: 20,
			align: "center",
			width: 280
		}), this.dialogue.setText(44), this.dialogue.start("noot", !0)
	},
	setEmailContent: function () {
		this.nextBtn.setInactive(), this.emailField.highlight(!1, 180, -35), this.nextBtn.highlight(!1), this.btns.removeAll(!0), this.mode = "email", this.emailField.show(0), this.codeField.hide(0);
		var e = this.game.prodigy.create.panel(this.btns, -140, 0, 7, 3, "button");
		e.setClickable(this.setClassCodeContent.bind(this)), this.game.prodigy.create.font(e, 0, 25, "Playing at school?", {
			size: 20,
			align: "center",
			width: 280
		}), this.game.prodigy.create.font(e, 0, 60, "Click here!", {
			size: 20,
			align: "center",
			width: 280
		}), this.dialogue.setText(66), this.dialogue.start("noot", !0)
	},
	tryNext: function () {
		"yes" === this.statusIcon.frameName && this.next()
	},
	getCode: function () {
		this.codeField.clearEvents(!1), this.game.input.keyboard.clearCaptures(), prodigyWeb.getClassCode.open(this.setCode.bind(this))
	},
	setCode: function (e) {
		this.codeField.clearEvents(!0), this.game.input.keyboard.addKeyCapture([Phaser.Keyboard.BACKSPACE]), this.codeField.setValue(e)
	},
	open: function () {
		Prodigy.Container.RegisterPage.prototype.open.call(this), this.status = {}, Util.isDefined(this.data.email) ? this.setEmailContent() : (Util.isDefined(this.data.classCode) && this.setCode(this.data.classCode), this.setClassCodeContent()), this.nextBtn.setInactive()
	},
	close: function () {
		Prodigy.Container.RegisterPage.prototype.close.call(this), this.codeField.hide(0), this.emailField.hide(0)
	},
	update: function () {
		if (Prodigy.Container.RegisterPage.prototype.update.call(this), this.counter++, !(this.counter < 10))
			if (this.counter = 0, "cc" === this.mode) {
				var e = this.codeField.getValue();
				this.statusIcon.visible = Util.isDefined(e) && e.length >= 6, Util.isDefined(e) && 6 === e.length ? e !== this.status.code || !this.status.valid || this.nextBtn.arrow && this.nextBtn.isActive ? this.validating || e === this.status.code || (this.statusIcon.visible = !1, this.nextBtn.setInactive(), this.validateCode(e)) : (this.statusIcon.frameName = "yes", this.nextBtn.setActive(), this.nextBtn.highlight(!0), this.codeField.highlight(!1)) : this.codeField.arrow || (this.statusIcon.frameName = "close", this.nextBtn.setInactive(), this.codeField.highlight(!0, 180, -35), this.nextBtn.highlight(!1))
			} else if ("email" === this.mode) {
			this.statusIcon.visible = !1;
			var t = this.emailField.getValue();
			Util.isDefined(t) && this.game.prodigy.emailDomains.isValidEmail(t) ? (this.data.email = t, this.data.parentEmail = t, this.data.classCode = null, this.data.teacherID = null, this.nextBtn.arrow && this.nextBtn.isActive || (this.nextBtn.setActive(), this.nextBtn.highlight(!0), this.emailField.highlight(!1))) : this.emailField.arrow || (this.nextBtn.setInactive(), this.emailField.highlight(!0, 180, -35), this.nextBtn.highlight(!1))
		}
	},
	validationComplete: function (e, t) {
		this.statusIcon.visible = !0, this.spinner.visible = this.validating = !1, this.status.valid = e, e ? (this.data.email = null, this.data.classCode = t, this.statusIcon.frameName = "yes") : this.statusIcon.frameName = "close"
	},
	validateCode: function (e) {
		this.statusIcon.visible = !1, this.status = {
			code: e
		}, this.spinner.visible = this.validating = !0, this.game.prodigy.network.verifyClassCode(e, this.validationComplete.bind(this, !0, e), this.validationComplete.bind(this, !1, e))
	}
}), Prodigy.Container.GradePage = function (e, t, i) {
	Prodigy.Container.RegisterPage.call(this, e, t, i), this.panel = this.game.prodigy.create.panel(this, 415, 115), this.gradeButtons = [];
	for (var a = 0; 8 > a; a++) {
		var s = this.game.prodigy.create.textButton(this, 415 + a % 4 * 105 + 25, 150 + 125 * Math.floor(a / 4), {
			text: a + 1,
			icon: "star",
			size: Prodigy.Control.TextButton.GRADE
		}, this.selectGrade.bind(this, a));
		s.text.x -= 25, s.text.y += 40, s.icon.x += 5, s.icon.y += 20, s.icon.alpha = .25, s.deselect(), this.gradeButtons.push(s)
	}
}, Prodigy.extends(Prodigy.Container.GradePage, Prodigy.Container.RegisterPage, {
	constructor: Prodigy.Container.GradePage,
	open: function () {
		Prodigy.Container.RegisterPage.prototype.open.call(this), this.gradeButtons[6].visible = 4 !== this.data.country, this.gradeButtons[7].visible = 4 !== this.data.country, Util.isDefined(this.selectedGradeButton) && this.selectedGradeButton.deselect(), this.selectGrade(this.data.grade - 1), this.dialogue = this.game.prodigy.dialogue.create(), this.dialogue.setText(48), this.dialogue.start("noot", !0)
	},
	selectGrade: function (e) {
		Util.isDefined(this.selectedGradeButton) && this.selectedGradeButton.deselect(), this.selectedGradeButton = this.gradeButtons[e], Util.isDefined(this.selectedGradeButton) && this.selectedGradeButton.visible ? (this.selectedGradeButton.select(), this.data.grade = e + 1, this.nextBtn.setActive(), this.nextBtn.highlight(!0), this.panel.highlight(!1)) : (this.selectedGradeButton = null, this.data.grade = null, this.nextBtn.setInactive(), this.nextBtn.highlight(!1), this.panel.highlight(!0, 180, -10))
	}
}), Prodigy.Container.LocationPage = function (e, t, i) {
	Prodigy.Container.RegisterPage.call(this, e, t, i), this.panelA = this.game.prodigy.create.element(this, 260, 160), this.game.prodigy.create.font(this.panelA, 0, -30, "[canada] Canada", {
		size: 36,
		font: "button",
		width: 300,
		align: "center",
		iconOffsetY: 7
	}), this.panelB = this.game.prodigy.create.element(this, 490, 160), this.game.prodigy.create.font(this.panelB, 0, -30, "[us] USA", {
		size: 36,
		font: "button",
		width: 300,
		align: "center",
		iconOffsetY: 7
	}), this.panelC = this.game.prodigy.create.element(this, 720, 160), this.game.prodigy.create.font(this.panelC, 0, -30, "Other", {
		size: 36,
		font: "button",
		width: 300,
		align: "center",
		iconOffsetY: 7
	}), this.buttons = [], this.buttons.push(this.game.prodigy.create.textButton(this.panelA, 50, 30, {
		text: "ontario"
	}, this.selectLocation.bind(this, 0, 1, 0))), this.buttons.push(this.game.prodigy.create.textButton(this.panelA, 50, 90, {
		text: "other"
	}, this.selectLocation.bind(this, 1, 1, 0))), this.buttons.push(this.game.prodigy.create.textButton(this.panelB, 50, 30, {
		text: "florida"
	}, this.selectLocation.bind(this, 2, 2, 1))), this.buttons.push(this.game.prodigy.create.textButton(this.panelB, 50, 90, {
		text: "texas"
	}, this.selectLocation.bind(this, 3, 2, 2))), this.buttons.push(this.game.prodigy.create.textButton(this.panelB, 50, 150, {
		text: "other"
	}, this.selectLocation.bind(this, 4, 2, 0))), this.buttons.push(this.game.prodigy.create.textButton(this.panelC, 50, 90, {
		text: "australia"
	}, this.selectLocation.bind(this, 5, 3, 0))), this.buttons.push(this.game.prodigy.create.textButton(this.panelC, 50, 30, {
		text: "england"
	}, this.selectLocation.bind(this, 6, 4, 0))), this.buttons.push(this.game.prodigy.create.textButton(this.panelC, 50, 150, {
		text: "other"
	}, this.selectLocation.bind(this, 7, 1, 0)))
}, Prodigy.extends(Prodigy.Container.LocationPage, Prodigy.Container.RegisterPage, {
	constructor: Prodigy.Container.LocationPage,
	open: function (e) {
		return Prodigy.Container.RegisterPage.prototype.open.call(this), Util.isDefined(this.data.classCode) ? (this.data.country = null, this.data.sub = null, -1 === e ? this.back() : this.next(), void 0) : (Util.isDefined(this.selectedButton) && this.selectedButton.deselect(), this.selectLocation(this.data.locationIndex, this.data.country, this.data.sub), this.dialogue = this.game.prodigy.dialogue.create(), this.dialogue.setText(47), this.dialogue.start("noot", !0), void 0)
	},
	selectLocation: function (e, t, i) {
		Util.isDefined(this.selectedButton) && this.selectedButton.deselect(), this.selectedButton = this.buttons[e], Util.isDefined(this.selectedButton) ? (this.selectedButton.select(), this.data.country = t, this.data.sub = i, this.data.curriculumTreeID = QI.getLocationID(t, i), this.data.locationIndex = e, this.nextBtn.setActive(), this.nextBtn.highlight(!0)) : (this.selectedGradeButton = null, this.data.country = this.data.sub = this.data.curriculumTreeID = null, this.nextBtn.setInactive(), this.nextBtn.highlight(!1))
	}
}), Prodigy.Container.NamePage = function (e, t, i) {
	Prodigy.Container.RegisterPage.call(this, e, t, i), this.firstNameField = Prodigy.Control.InputField.createInputField(this.game, this, "firstName", "", 370, 240, 250, 50), this.firstNameField.setLabel(this, "First Name:"), this.firstNameField.hide(0), this.lastNameField = Prodigy.Control.InputField.createInputField(this.game, this, "lastName", "", 660, 240, 250, 50), this.lastNameField.setLabel(this, "Last Name:"), this.lastNameField.hide(0)
}, Prodigy.extends(Prodigy.Container.NamePage, Prodigy.Container.RegisterPage, {
	constructor: Prodigy.Container.NamePage,
	open: function () {
		Prodigy.Container.RegisterPage.prototype.open.call(this), this.firstNameField.show(0), this.lastNameField.show(0), Util.isDefined(this.data.firstName) && this.firstNameField.setValue(this.data.firstName), Util.isDefined(this.data.lastName) && this.lastNameField.setValue(Util.isDefined(this.data.email) ? this.data.lastName.substring(0, 1) : this.data.lastName), this.dialogue = this.game.prodigy.dialogue.create(), this.lastNameField.setLabel(this, "Last-Name Initial:"), this.dialogue.setText(117), this.dialogue.start("noot", !0)
	},
	next: function () {
		this.data.lastName = this.data.lastName.substring(0, 1), Prodigy.Container.RegisterPage.prototype.next.call(this)
	},
	close: function () {
		Prodigy.Container.RegisterPage.prototype.close.call(this), this.firstNameField.hide(0), this.lastNameField.hide(0)
	},
	update: function () {
		if (Prodigy.Container.RegisterPage.prototype.update.call(this), this.counter++, !(this.counter < 10)) {
			this.counter = 0;
			var e = this.firstNameField.getValue(),
				t = this.lastNameField.getValue();
			e = e.replace(" ", ""), t = t.replace(" ", "");
			var i = "" === t,
				a = "" === e;
			i || (this.data.lastName = t.substring(0, 1), this.lastNameField.setValue(this.data.lastName)), a || (this.data.firstName = e.substring(0, 30), this.firstNameField.setValue(this.data.firstName)), a || i ? this.lastNameField.arrow || (this.nextBtn.setInactive(), this.firstNameField.highlight(!0, 180, -35), this.lastNameField.highlight(!0, 180, -35), this.nextBtn.highlight(!1)) : (this.data.firstName = e, this.nextBtn.arrow && this.nextBtn.isActive || (this.nextBtn.setActive(), this.nextBtn.highlight(!0), this.firstNameField.highlight(!1), this.lastNameField.highlight(!1)))
		}
	}
}), Prodigy.Container.PasswordPage = function (e, t, i) {
	Prodigy.Container.RegisterPage.call(this, e, t, i), this.pw1 = Prodigy.Control.InputField.createInputField(this.game, this, "pw1", "", 640 - Prodigy.Control.InputField.WIDTH_MEDIUM / 2, 190, Prodigy.Control.InputField.WIDTH_MEDIUM, Prodigy.Control.InputField.HEIGHT_MEDIUM), this.pw1.setLabel(this, "Password:"), this.pw1.hide(0), this.pw2 = Prodigy.Control.InputField.createInputField(this.game, this, "pw2", "", 640 - Prodigy.Control.InputField.WIDTH_MEDIUM / 2, 290, Prodigy.Control.InputField.WIDTH_MEDIUM, Prodigy.Control.InputField.HEIGHT_MEDIUM), this.pw2.setLabel(this, "Re-enter password:"), this.pw2.hide(0), this.error = this.game.prodigy.create.font(this, 410, 340, "", {
		align: "center",
		width: 460
	})
}, Prodigy.extends(Prodigy.Container.PasswordPage, Prodigy.Container.RegisterPage, {
	constructor: Prodigy.Container.PasswordPage,
	open: function () {
		Prodigy.Container.RegisterPage.prototype.open.call(this), this.pw1.show(0), this.pw2.show(0), Util.isDefined(this.data.password) && (this.pw2.setValue(this.data.password), this.pw1.setValue(this.data.password)), this.dialogue = this.game.prodigy.dialogue.create(), this.dialogue.setText(46), this.dialogue.start("noot", !0)
	},
	close: function () {
		Prodigy.Container.RegisterPage.prototype.close.call(this), this.pw1.hide(0), this.pw2.hide(0)
	},
	update: function () {
		if (Prodigy.Container.RegisterPage.prototype.update.call(this), this.counter++, !(this.counter < 10)) {
			this.counter = 0;
			var e = this.pw1.getValue(),
				t = this.pw2.getValue(),
				i = "",
				a = !1;
			"" === e || "" === t || (e.length < 4 ? i = "Password is too short\n (4 to 10 letters)" : e.length > 10 ? i = "Password is too long\n (4 to 10 letters)" : e.indexOf(" ") >= 0 ? i = "Password cannot contain spaces" : e !== t ? i = "Passwords match: no" : (i = "Passwords match: yes", this.data.password = e, a = !0)), this.error.text !== i && this.error.setText(i), !a || this.nextBtn.arrow && this.nextBtn.isActive ? a || this.pw1.arrow || (this.nextBtn.setInactive(), this.pw1.highlight(!0, 280, -35), this.pw2.highlight(!0, 280, -35), this.nextBtn.highlight(!1)) : (this.nextBtn.setActive(), this.nextBtn.highlight(!0), this.pw1.highlight(!1), this.pw2.highlight(!1))
		}
	}
}), Prodigy.Container.BattleRequests = function (e, t, i, a) {
	Prodigy.Control.Element.call(this, e, t, i, a), this.requestsPerPage = 3, this.create()
}, Prodigy.extends(Prodigy.Container.BattleRequests, Prodigy.Control.Element, {
	constructor: Prodigy.Container.BattleRequests,
	create: function () {
		var e = 40;
		this.content = this.game.prodigy.create.element(this, 320, e), this.scroll = this.game.prodigy.create.slider(this, this.content.x + 480 + 20, e, 380, !0, !0), this.scroll.reset(this.game.prodigy.mail.getMailCount(), 1, -1, this.setMail.bind(this)), this.game.prodigy.mail.addUpdateCallback(this.process.bind(this))
	},
	setMail: function (e) {
		this.lastIndex = e || 0, this.lastSize = this.game.prodigy.mail.getMailCount(), this.content.removeAll(!0);
		for (var t = this.game.prodigy.mail.getMail(e || 0, 4), i = 0; i < this.requestsPerPage; i++) this.createChallenge(0, 130 * i, t[i])
	},
	process: function (e) {
		if (Util.isDefined(this.game)) {
			var t = this.lastIndex + e - this.lastSize;
			(0 > t || 5 > e) && (t = 0), this.scroll.reset(this.game.prodigy.mail.getMailCount(), 1, this.lastIndex || 0, this.setMail.bind(this))
		}
	},
	createChallenge: function (e, t, i) {
		if (Util.isDefined(i)) {
			var a = 12,
				s = 3,
				r = 40 * a,
				o = 40 * s,
				n = 10,
				h = 3,
				l = 28,
				d = 8,
				p = 20,
				c = 50,
				g = 20,
				u = this.game.prodigy.create.panel(this.content, e + n, t, a, s, "mail");
			u.add(this.game.prodigy.create.sprite(h, h, "icons", "mail-challenge"));
			var y = i.data.player.appearance,
				m = Util.isDefined(y.nick) && "" !== y.nick ? y.nick : y.name;
			this.game.prodigy.create.font(u, h + l + d, d, m + " (lvl " + i.data.player.data.level + ")", {
				size: 16
			}), this.game.prodigy.create.font(u, p, o - p - p, "Accept challenge?", {
				font: "black",
				size: 20
			});
			var f = this.game.prodigy.create.button(u, r - c - p, o - p - c, "icons", "close", this.processChallenge.bind(this, i, !1));
			this.game.prodigy.create.button(u, f.x - c - g, o - p - c, "icons", "yes", this.processChallenge.bind(this, i, !0))
		}
	},
	processChallenge: function (e, t) {
		if (this.game.prodigy.mail.remove(e), t) {
			var i = this.game.broadcaster.broadcast(Prodigy.Events.PlayerLocomotion.GET_TARGET, this.game, [!0]),
				a = function (e, t) {
					e.prodigy.world.teleport(e.prodigy.player.data.zone, t.x, t.y)
				},
				s = new Player;
			s.init({
				equipment: e.data.player.equipment,
				appearance: e.data.player.appearance,
				data: e.data.player.data,
				isMember: e.data.player.isMember
			}), this.game.prodigy.pvp.start(e.data.userID, this.game.prodigy.player, s, a.bind(this, this.game, i), !1, "Arena")
		}
	}
}), Prodigy.Container.Leaderboard = function (e, t, i, a, s) {
	Prodigy.Control.Element.call(this, e, t, i, a), this.player = this.game.prodigy.player, this.classIDs = this.game.prodigy.player.classIDs, this.leaders = s, this.page = 0, this.inClass = Util.isDefined(this.classIDs) && this.classIDs.length > 0, this.leader = this.game.prodigy.create.panel(this, 0, 0, 13, 8, "panel-base"), this.game.prodigy.create.font(this.leader, 0, 0, "Class Leader", {
		font: "button",
		size: 36,
		width: 520,
		align: "center"
	});
	var r = this.game.prodigy.create.sprite(0, 220, "core", "overlay-light", !1, null, 520, 60);
	if (r.alpha = .25, this.leader.add(r), this.leader.top = this.game.prodigy.create.player(this.leader, this.game.prodigy.player, 2, 90, 270), this.leader.topName = this.game.prodigy.create.font(this.leader, 20, 250, "", {
			size: 20,
			align: "right",
			width: 480
		}), this.leader.topStat = this.game.prodigy.create.font(this.leader, 20, 220, "", {
			size: 20,
			align: "right",
			width: 480
		}), !this.game.prodigy.player.isMember) {
		var o = this.game.prodigy.create.panelButton(this, 0, 360, 13, 2, "member", this.game.prodigy.open.membership.bind(this.game.prodigy.open, Prodigy.Menu.MemberAd.MORE_EXP));
		this.game.prodigy.create.font(o.content, 20, 20, "Catch Up to Your Class!", {
			font: "button",
			size: 36,
			width: 480,
			align: "center"
		})
	}
	if (this.list = this.game.prodigy.create.panel(this, 560, 0, 14, 11, "panel-base"), this.game.prodigy.create.font(this.list, 0, 0, "Your Class Leaders", {
			font: "button",
			size: 36,
			width: 560,
			align: "center"
		}), this.list.error = this.game.prodigy.create.font(this.list, 20, 100, "You must be in a class to view the leaderboard", {
			size: 20,
			width: 520,
			align: "center"
		}), this.list.error.visible = !1, !Util.isDefined(this.classIDs) || this.classIDs.length <= 0);
	else {
		this.list.chars = this.game.prodigy.create.element(this.list), this.list.icons = [];
		for (var n = 0; 8 > n; n++) this.list.icons.push(this.createIcon(this.list.chars, 20, 60 + 45 * n));
		this.list.bar = this.game.prodigy.create.slider(this.list, 490, 60, 360, !0, !0)
	}
	Util.isDefined(this.leaders) ? this.loadWizardsComplete("data.level", !0, this.leaders) : this.inClass ? this.loadWizards("data.level") : this.loadWizardsComplete("data.level")
}, Prodigy.extends(Prodigy.Container.Leaderboard, Prodigy.Control.Element, {
	constructor: Prodigy.Container.Leaderboard,
	createIcon: function (e, t, i) {
		var a = this.game.prodigy.create.element(e, t, i),
			s = this.game.prodigy.create.panel(a, 0, 0, 12, 1, "lb");
		return s.setClickable(this.openCard.bind(this, a)), a.curr = this.game.prodigy.create.panel(a, 0, 0, 12, 1, "lb-green"), a.curr.setClickable(this.openCard.bind(this, a)), a.curr.visible = !1, a.place = this.game.prodigy.create.font(a, 10, 0, "", {
			width: 50,
			align: "center",
			size: 30
		}), a.name = this.game.prodigy.create.font(a, 70, 10, "[mail-star] Playername", {
			size: 16,
			width: 350,
			align: "left"
		}), a.type = this.game.prodigy.create.font(a, 100, 8, "win/loss - 0/0", {
			size: 20,
			width: 350,
			align: "right"
		}), this.setIconData(a, null), a
	},
	setIconData: function (e, t) {
		if (Util.isDefined(t)) {
			var i = t.place,
				a = 1 == t.isMember ? "@ " : "",
				s = new Player(this.game);
			s.init(t), e.place.setText(i + ""), e.type.setText("lvl " + s.getLevel());
			var r = s.getName();
			r.length > 18 && (r = r.substring(0, 18) + "..."), e.name.setText(a + r);
			var o = Util.isDefined(t.userID) ? t.userID : t.id;
			e.curr.visible = o === this.game.prodigy.player.userID, e.data = t
		} else Util.isDefined(e) && delete e.data;
		e.visible = Util.isDefined(t)
	},
	openCard: function (e) {
		var t = new Player(this.game);
		t.init(e.data), this.game.prodigy.open.card(t, !0)
	},
	loadWizards: function (e) {
		this.game.prodigy.network.getLeaderboard(e, this.classIDs, this.loadWizardsComplete.bind(this, e, !0), this.loadWizardsComplete.bind(this, e, !1))
	},
	loadWizardsComplete: function (e, t, i) {
		if (Util.isDefined(this.game)) {
			if (this.type = e, !t || !Util.isDefined(i) || i.length <= 0) return this.list.error.visible = !0, Util.isDefined(this.list.chars) && Util.isDefined(this.list.bar) && (this.list.chars.visible = this.list.bar.visible = !1), this.inClass ? this.list.error.setText("There was an error loading your class...try again later") : this.list.error.setText("You must be in a class to view the leaderboard"), void 0;
			this.list.error.visible = !1, this.list.chars.visible = !0, this.list.bar.visible = !0, this.leaders = i, this.leaders.length > 0 && this.loadPlayerListData(this.leaders)
		}
	},
	loadPlayerListData: function (e) {
		this.topPlayerId = e[0].userID;
		var t = Util.joinByProperty(e, "id");
		this.game.prodigy.network.getCharData(t, ["appearance", "isMember", "equipment", "data"], this.onLoadPlayerListDataSuccess.bind(this), this.onLoadPlayerListDataFailure.bind(this))
	},
	onLoadPlayerListDataSuccess: function (e) {
		if (Util.isDefined(this.game)) {
			if (Util.isDefined(e[this.topPlayerId])) {
				var t = e[this.topPlayerId],
					i = new Player(this.game);
				i.init(t), this.leader.top.destroy(), this.leader.top = this.game.prodigy.create.player(this.leader, i, 2, 90, 270), this.leader.top.reload();
				var a = t.isMember ? "@ " : "",
					s = Util.trimText(i.getName(), 25, !0);
				this.leader.topName.setText(a + s), this.leader.topStat.setText("Level " + i.getLevel())
			} else this.leader.topName.setText("Error loading player info");
			for (var r = 0, o = null, n = 0; n < this.leaders.length; n++)
				for (var h in e)
					if (this.leaders[n].userID === parseInt(h)) {
						if (o = this.leaders[n].data, this.leaders[n] = {}, this.leaders[n].data = o, !Util.isDefined(e[h].data)) {
							this.leaders.splice(n, 1), n--;
							break
						}
						o = JSON.parse(e[h].data);
						for (var l in o) "level" !== l && "stars" !== l && "arenaScore" !== l && (this.leaders[n].data[l] = o[l]);
						Util.isDefined(this.leaders[n].data.arenaScore) === !1 && (this.leaders[n].data.arenaScore = "N/A"), this.leaders[n].appearance = JSON.parse(e[h].appearance), this.leaders[n].equipment = JSON.parse(e[h].equipment), this.leaders[n].isMember = Util.isDefined(e[h].isMember) ? JSON.parse(e[h].isMember) : !1, this.leaders[n].place = r + 1, this.leaders[n].userID = parseInt(h), r++
					} if (this.inClass && r > 0) {
				var d = Prodigy.Container.Leaderboard.getPlayerPlace(this.leaders, this.game.prodigy.player);
				this.list.bar.reset(this.leaders.length, 8, d, this.setPage.bind(this))
			}
		}
	},
	onLoadPlayerListDataFailure: function () {
		this.leader.topName.setText("Error loading player info")
	},
	setPage: function (e) {
		if (e = Math.round(e), Util.isDefined(this.leaders)) {
			this.page = e;
			for (var t = 0; 8 > t; t++) {
				var i = this.page + t;
				this.setIconData(this.list.icons[t], this.leaders[i], this.type)
			}
		}
	}
}), Prodigy.Container.Leaderboard.getPlayerPlace = function (e, t) {
	for (var i = 0; i < e.length; i++) {
		var a = Util.isDefined(e[i].userID) ? e[i].userID : e[i].id;
		if (a == t.userID) return i + 1
	}
	return 31
}, Prodigy.Container.Leaderboard.getPlayerMessage = function (e, t) {
	try {
		var i = Prodigy.Container.Leaderboard.getPlayerPlace(e, t),
			a = t.getLevel(),
			s = e[Util.checkRange(i - 2, 0, e.length - 1)].data.level || 1;
		return 1 === i ? "You're at rank 1! Keep leveling to make sure your friends don't catch up!" : i > 30 ? "You're not on the leaderboard yet...get to level " + s + " or higher!" : s >= a ? "You're at rank " + i + "! Get to level " + (s + 1) + " to go up a rank!" : "Check out the leaderboard and see where your friends are!"
	} catch (r) {
		return "Check out the leaderboard and see where your friends are!"
	}
}, Prodigy.Container.Achievements = function (e, t, i, a) {
	Prodigy.Control.Element.call(this, e, t, i, a), this.data = this.game.prodigy.achievements.getData(), this.createData(), this.createCategories()
}, Prodigy.extends(Prodigy.Container.Achievements, Prodigy.Control.Element, {
	constructor: Prodigy.Container.Achievements,
	createCategories: function () {
		for (var e = 0, t = 40, i = [], a = 0; 9 > a; a++) i.push(this.createCategory(e, t + 40 * a)), i[a].setClickable(this.categorySelected.bind(this, i[a]));
		this.scroll = this.game.prodigy.create.slider(this, e + 360 - 50, t, 360, !0, !0), this.scroll.reset(this.data.length, 9, 0, this.showCategories.bind(this, i)), this.categorySelected(i[0])
	},
	showCategories: function (e, t) {
		for (var i = 0; i < e.length; i++) t < this.data.length && this.setCategory(e[i], this.data[t + i])
	},
	createCategory: function (e, t) {
		var i = this.game.prodigy.create.panel(this, e, t, 8, 1, "lb");
		return i.category = this.game.prodigy.create.font(i, 8, 6, "", {}), i
	},
	setCategory: function (e, t) {
		e.category.setText(t.tag), e.data = t, e.data.selected ? e.changePanel("lb-green") : e.changePanel("lb")
	},
	categorySelected: function (e) {
		for (var t = 0; t < this.data.length; t++) this.data[t].selected = !1;
		e.data.selected = !0, this.scroll.process(), this.scrollB.reset(e.data.data.length, 3, 0, this.showAchievements.bind(this, e.data.data)), this.scrollB.process()
	},
	createData: function () {
		var e = 400,
			t = 40;
		this.achievements = [];
		for (var i = 0; 3 > i; i++) this.achievements.push(this.game.prodigy.create.achievement(this, e + 20, t + 130 * i));
		this.scrollB = this.game.prodigy.create.slider(this, e + 720 - 50, t, 380, !0, !0)
	},
	showAchievements: function (e, t) {
		for (var i = 0; i < this.achievements.length; i++) this.achievements[i].setSource(e[t + i])
	}
}), Prodigy.Container.Arena = function (e, t, i, a) {
	Prodigy.Control.Element.call(this, e, t, i, a);
	var s = e.prodigy.player.processDeserter(),
		r = ["Unranked", "Bronze", "Silver", "Gold", "Platinum", "Diamond"],
		o = ["", "{0 - {499", "{500 - {1499", "{1500 - {2499", "{2500 - {3499", "{3500+"],
		n = [[0, 499], [500, 1499], [1500, 2499], [2500, 3499], [3500, 1e5]],
		h = this.game.prodigy.player.getArenaRank(),
		l = this.game.prodigy.player.getArenaScore(),
		d = this.game.prodigy.player.isUnranked();
	this.createMemberBtn(this, 0, 320), this.game.prodigy.player.hasCompletedTutorial() && this.createChallengeBtn(this, 280, 320);
	var p = this.game.prodigy.create.panel(this, 0, 0, 13, 7, "panel-base"),
		c = p.add(this.game.prodigy.create.sprite(10, 10, "icons", "emblem-rank" + (h + 1)));
	d && (c.tint = 5592405), this.game.prodigy.create.font(p, 20, 0, d ? r[0] : r[h + 1] + " Rank", {
		font: "button",
		size: 36,
		width: 480,
		align: "right"
	}), this.game.prodigy.create.font(p, 20, 48, d ? o[0] : o[h + 1], {
		font: "button",
		size: 36,
		width: 480,
		align: "right"
	}), this.game.prodigy.create.font(p, 20, 180, "[mail-star] Challenge other wizards around the world and earn rewards from the shop!", {
		font: "black",
		size: 20,
		width: 360,
		lineHeight: 30
	});
	var g = Arena.STORE;
	g.callback = this.game.prodigy.player.getArenaRank.bind(this.game.prodigy.player), this.game.prodigy.create.button(p, 400, 180, "icons", "catalogue", this.game.prodigy.open.rankStore.bind(this.game.prodigy.open, g)), d && this.game.prodigy.create.font(p, 140, 48, "Earn a score of [arena]100 or more to reach Bronze Rank!", {
		size: 20,
		width: 360,
		align: "right",
		lineHeight: 30
	});
	var u = this.game.prodigy.create.panel(this, 560, 0, 14, 11, "panel-base");
	this.game.prodigy.create.font(u, 20, -2, "My Score {" + l, {
		font: "button",
		size: 36,
		width: 520,
		align: "right"
	}), this.details = this.createDetails(l, h, d), this.details.visible = d, this.details.visible || (this.leaderboard = this.createLeaderboard(l, h), this.game.prodigy.network.getPVPLeaderboard({
		min: n[h][0],
		max: n[h][1]
	}, {
		stars: this.game.prodigy.player.getStars(),
		arenaScore: l
	}, 0, 30, this.loadWizardsComplete.bind(this, !0), this.loadWizardsComplete.bind(this, !1)), this.game.prodigy.create.button(this, 580, -5, "icons", "info", this.toggle.bind(this))), s && (this.game.prodigy.open.message("Each time you close the browser or get disconnected from an arena battle, your score goes down by [arena]50! \n\nBe a good sport and finish your battles!", null, "info", "You Deserted..."), this.game.prodigy.network.sendAnalytics("PVP ", "view-deserter-message", "Events"), this.game.prodigy.network.sendEvent("PVP", {
		type: "view-deserter-message",
		classID: this.game.prodigy.player.getLatestClassID(),
		grade: this.game.prodigy.player.grade
	}, !0))
}, Prodigy.extends(Prodigy.Container.Arena, Prodigy.Control.Element, {
	constructor: Prodigy.Container.Arena,
	toggle: function () {
		this.leaderboard.visible = !this.leaderboard.visible, this.details.visible = !this.details.visible
	},
	createDetails: function (e, t, i) {
		for (var a = this.game.prodigy.create.element(this, 560, 0), s = ["Unranked", "Bronze", "Silver", "Gold", "Platinum", "Diamond"], r = ["", "", "[arena]500", "[arena]1500", "[arena]2500", "[arena]3500"], o = 1; 6 > o; o++) {
			var n = 80 + 71 * (5 - o);
			o > 1 && (n += 30);
			var h = 60 + 80 * (o - 1) + Math.floor(Math.pow(2.95, o - 1));
			a.add(new Phaser.TileSprite(this.game, h - 25, n + 20, 50, 400 - n + 20 - 1, "core", "emblem-bar"));
			var l = a.add(this.game.prodigy.create.sprite(h, n + 20, "icons", "emblem-rank" + o));
			l.anchor.setTo(.5, .5), l.scale.x = l.scale.y = .8, (o - 1 > t || i) && (l.tint = 7829367), o - 1 !== t || i || this.game.add.tween(l.scale).to({
				x: .9,
				y: .9
			}, 600, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0), this.game.prodigy.create.font(a, h - 50, n - 50, s[o], {
				size: 16,
				width: 100,
				align: "center"
			}), this.game.prodigy.create.font(a, h - 50, 405, r[o], {
				size: 16,
				width: 100,
				align: "center"
			})
		}
		return a
	},
	createLeaderboard: function () {
		this.challenge = this.game.prodigy.create.element(this, 560, 0), this.challenge.chars = this.game.prodigy.create.element(this.challenge), this.challenge.icons = [];
		for (var e = 0; 8 > e; e++) this.challenge.icons.push(this.createIcon(this.challenge.chars, 20, 60 + 45 * e));
		return this.challenge.bar = this.game.prodigy.create.slider(this.challenge, 490, 60, 360, !0, !0), this.challenge.error = this.game.prodigy.create.font(this.challenge, 20, 100, "You must be in a class to view the leaderboard", {
			size: 20,
			width: 520,
			align: "center"
		}), this.challenge.error.visible = !1, this.challenge
	},
	createChallengeBtn: function (e, t, i) {
		var a = this.game.prodigy.create.panelButton(e, t, i, 6, 3, "button", this.openMessage.bind(this));
		return this.game.prodigy.create.font(a.content, 8, 20, "Find  Challenger", {
			font: "button",
			size: 36,
			width: 240,
			align: "center"
		}), a.content.add(this.game.prodigy.create.sprite(13, 13, "icons", "inspect")), a.content.add(this.game.prodigy.create.sprite(227, 13, "icons", "inspect")).scale.x = -1, a
	},
	createMemberBtn: function (e, t, i) {
		var a = null;
		if (!this.game.prodigy.player.isMember) {
			var a = this.game.prodigy.create.panelButton(e, t, i, 6, 3, "member", this.game.prodigy.open.membership.bind(this.game.prodigy.open, Prodigy.Menu.MemberAd.MORE_EXP));
			this.game.prodigy.create.font(a.content, 8, 20, "Rank Up  Faster!", {
				font: "button",
				size: 36,
				width: 240,
				align: "center"
			})
		}
		return a
	},
	openMessage: function () {
		Util.isDefined(this.game.prodigy.player.world) ? (this.game.prodigy.network.sendAnalytics("PVP", "try-match", "Events"), this.game.prodigy.network.sendEvent("PVP", {
			type: "try-match",
			classID: this.game.prodigy.player.getLatestClassID(),
			grade: this.game.prodigy.player.grade
		}, !0), this.findChallenger(), this.message = this.game.prodigy.open.message("Searching for a good match based on your current arena ranking... please wait. \n\n(It could take up to a minute or more.) \n\nTime waiting: XTIMERX", this.closeMessage.bind(this, !0), null, "Finding Challenger")) : this.message = this.game.prodigy.open.message("Cannot take part in the arena in Offline Mode.")
	},
	findChallenger: function () {
		if (Util.log("findChallenger retry"), Util.isDefined(this.game)) {
			Util.isDefined(this.timer) && window.clearInterval(this.timer), this.timer = window.setInterval(this.findChallenger.bind(this), 6e4), this.game.prodigy.messageListener.add("arena", this.messageRecieved.bind(this));
			var e = {
				userID: this.game.prodigy.player.userID,
				equipment: this.game.prodigy.player.equipment.data,
				appearance: this.game.prodigy.player.appearance.data,
				data: this.game.prodigy.player.data,
				isMember: this.game.prodigy.player.isMember
			};
			this.game.prodigy.network.startMatchmaking(this.game.prodigy.player.getLevel(), this.game.prodigy.player.getArenaScore(), e, this.success.bind(this, !0), this.success.bind(this, !1))
		}
	},
	success: function (e) {
		Util.log(e)
	},
	messageRecieved: function (e) {
		Util.log("Arena message received:"), Util.log(e), Util.isDefined(this.timer) && window.clearInterval(this.timer), this.message.setText("Match found! Connecting now..."), this.game.prodigy.network.sendAnalytics("PVP", "found-match", "Events"), this.game.prodigy.network.sendEvent("PVP", {
			type: "found-match",
			classID: this.game.prodigy.player.getLatestClassID(),
			grade: this.game.prodigy.player.grade
		}, !0);
		var t = new Player(this.game);
		e.playerA.id != this.game.prodigy.player.userID ? t.init(e.playerA.data) : e.playerB.id != this.game.prodigy.player.userID && t.init(e.playerB.data);
		var i = null;
		if ("Tower" === this.game.state.current) i = this.game.prodigy.start.bind(this.game.prodigy, "Tower");
		else {
			var a = this.game.broadcaster.broadcast(Prodigy.Events.PlayerLocomotion.GET_TARGET, this.game, [!0]);
			i = this.game.prodigy.world.teleport.bind(this.game.prodigy.world, this.game.prodigy.player.data.zone, a.x, a.y)
		}
		this.game.prodigy.pvp.start(e.playerA.id, this.game.prodigy.player, t, i, !0)
	},
	closeMessage: function (e) {
		this.game.prodigy.messageListener.clear("arena"), Util.isDefined(this.timer) && window.clearInterval(this.timer), e && this.game.prodigy.network.quitMatchmaking(this.success.bind(!0), this.success.bind(!1))
	},
	createIcon: function (e, t, i) {
		var a = this.game.prodigy.create.element(e, t, i),
			s = this.game.prodigy.create.panel(a, 0, 0, 12, 1, "lb");
		return s.setClickable(this.openCard.bind(this, a)), a.curr = this.game.prodigy.create.panel(a, 0, 0, 12, 1, "lb-green"), a.curr.setClickable(this.openCard.bind(this, a)), a.curr.visible = !1, a.place = this.game.prodigy.create.font(a, 10, 0, "", {
			width: 50,
			align: "center",
			size: 30
		}), a.name = this.game.prodigy.create.font(a, 70, 10, "[mail-star] Playername", {
			size: 16,
			width: 350,
			align: "left"
		}), a.type = this.game.prodigy.create.font(a, 100, 8, "win/loss - 0/0", {
			size: 20,
			width: 350,
			align: "right"
		}), this.setIconData(a, null), a
	},
	setIconData: function (e, t) {
		if (Util.isDefined(e) && Util.isDefined(this.game)) {
			if (Util.isDefined(t)) {
				var i = t.place,
					a = 1 == t.isMember ? "@ " : "",
					s = new Player(this.game);
				s.init(t), e.place.setText(i + ""), e.type.setText("[arena]" + s.getArenaScore());
				var r = s.getName();
				r.length > 18 && (r = r.substring(0, 18) + "..."), e.name.setText(a + r), e.data = t, e.curr.visible = t.userID === this.game.prodigy.player.userID
			} else Util.isDefined(e) && delete e.data;
			e.visible = Util.isDefined(t)
		}
	},
	openCard: function (e) {
		var t = new Player(this.game);
		t.init(e.data), this.game.prodigy.open.card(t, !0, !0)
	},
	loadWizardsComplete: function (e, t) {
		if (Util.isDefined(this.game)) {
			if (!e || !Util.isDefined(t)) return this.challenge.error.visible = !0, Util.isDefined(this.challenge.chars) && Util.isDefined(this.challenge.bar) && (this.challenge.chars.visible = this.challenge.bar.visible = !1), this.challenge.error.setText("There was an error loading the leaderboard...try again later"), void 0;
			this.challenge.error.visible = !1, this.challenge.chars.visible = this.challenge.bar.visible = !0, this.playerPos = t.player_position > 30 || t.player_position < 1 ? 1 : t.player_position;
			for (var i = t.player_list, a = 0; a < i.length; a++) {
				var s = i[a];
				s.place = a + 1, s.username = s.username || "???"
			}
			this.leaders = i, this.leaders.length > 0 && this.loadPlayerListData(this.leaders)
		}
	},
	loadPlayerListData: function (e) {
		var t = Util.joinByProperty(e, "userID");
		this.game.prodigy.network.getCharData(t, ["appearance", "isMember", "equipment", "data"], this.onLoadPlayerListDataSuccess.bind(this), this.onLoadPlayerListDataFailure.bind(this))
	},
	onLoadPlayerListDataSuccess: function (e) {
		for (var t = 0, i = null, a = 0; a < this.leaders.length; a++)
			for (var s in e)
				if (this.leaders[a].userID === parseInt(s)) {
					if (i = this.leaders[a].data, this.leaders[a] = {}, this.leaders[a].data = i, !Util.isDefined(e[s]) || !Util.isDefined(e[s].data)) {
						this.leaders.splice(a, 1), a--;
						break
					}
					i = JSON.parse(e[s].data);
					for (var r in i) "level" !== r && "stars" !== r && "arenaScore" !== r && (this.leaders[a].data[r] = i[r]);
					Util.isDefined(this.leaders[a].data.arenaScore) === !1 && (this.leaders[a].data.arenaScore = "N/A"), this.leaders[a].appearance = JSON.parse(e[s].appearance), this.leaders[a].equipment = JSON.parse(e[s].equipment), this.leaders[a].isMember = Util.isDefined(e[s].isMember) ? JSON.parse(e[s].isMember) : !1, this.leaders[a].place = t + 1, this.leaders[a].userID = parseInt(s), t++
				} t > 0 && this.challenge.bar.reset(this.leaders.length, 8, this.playerPos, this.setPage.bind(this))
	},
	onLoadPlayerListDataFailure: function () {
		Util.log("Error loading My Arena Leaderboard info", Util.ERROR)
	},
	setPage: function (e) {
		if (e = Math.round(e), Util.isDefined(this.leaders)) {
			this.page = e;
			for (var t = 0; 8 > t; t++) {
				var i = this.page + t;
				this.setIconData(this.challenge.icons[t], this.leaders[i], this.type)
			}
		}
	}
}), Prodigy.Container.ArenaLeaderboard = function (e, t, i, a, s) {
	Prodigy.Control.Element.call(this, e, t, i, a), this.player = this.game.prodigy.player, this.leaders = s, this.page = 0, this.createMemberBtn(this, 0, 320), this.leader = this.game.prodigy.create.panel(this, 0, 0, 13, 7, "panel-base"), this.game.prodigy.create.font(this.leader, 0, 0, "Top Player in the World", {
		font: "button",
		size: 36,
		width: 520,
		align: "center"
	});
	var r = this.game.prodigy.create.sprite(0, 210, "core", "overlay-light", !1, null, 520, 60);
	r.alpha = .25, this.leader.add(r), this.leader.top = this.game.prodigy.create.player(this.leader, this.game.prodigy.player, 2, 90, 270), this.leader.topName = this.game.prodigy.create.font(this.leader, 20, 240, "", {
		size: 20,
		align: "right",
		width: 480
	}), this.leader.topStat = this.game.prodigy.create.font(this.leader, 20, 210, "", {
		size: 20,
		align: "right",
		width: 480
	}), this.list = this.game.prodigy.create.panel(this, 560, 0, 14, 11, "panel-base"), this.game.prodigy.create.font(this.list, 0, 0, "Top Arena Players", {
		font: "button",
		size: 36,
		width: 560,
		align: "center"
	}), this.list.error = this.game.prodigy.create.font(this.list, 20, 100, "", {
		size: 20,
		width: 520,
		align: "center"
	}), this.list.error.visible = !1, this.list.chars = this.game.prodigy.create.element(this.list), this.list.icons = [];
	for (var o = 0; 8 > o; o++) this.list.icons.push(this.createIcon(this.list.chars, 20, 60 + 45 * o));
	this.list.bar = this.game.prodigy.create.slider(this.list, 490, 60, 360, !0, !0), this.game.prodigy.network.getPVPLeaderboard({
		min: 0,
		max: 1e5
	}, {
		stars: 99999,
		arenaScore: this.game.prodigy.player.getArenaScore()
	}, 0, 30, this.loadPVPLeaderboardComplete.bind(this, !0), this.loadPVPLeaderboardComplete.bind(this, !1))
}, Prodigy.extends(Prodigy.Container.ArenaLeaderboard, Prodigy.Control.Element, {
	constructor: Prodigy.Container.ArenaLeaderboard,
	createMemberBtn: function (e, t, i) {
		var a = null;
		if (!this.game.prodigy.player.isMember) {
			var a = this.game.prodigy.create.panelButton(e, t, i, 6, 3, "member", this.game.prodigy.open.membership.bind(this.game.prodigy.open, Prodigy.Menu.MemberAd.MORE_EXP));
			this.game.prodigy.create.font(a.content, 8, 20, "Rank Up  Faster!", {
				font: "button",
				size: 36,
				width: 240,
				align: "center"
			})
		}
		return a
	},
	createIcon: function (e, t, i) {
		var a = this.game.prodigy.create.element(e, t, i),
			s = this.game.prodigy.create.panel(a, 0, 0, 12, 1, "lb");
		return s.setClickable(this.openCard.bind(this, a)), a.curr = this.game.prodigy.create.panel(a, 0, 0, 12, 1, "lb-green"), a.curr.setClickable(this.openCard.bind(this, a)), a.curr.visible = !1, a.place = this.game.prodigy.create.font(a, 10, 0, "", {
			width: 50,
			align: "center",
			size: 30
		}), a.name = this.game.prodigy.create.font(a, 70, 10, "[mail-star] Playername", {
			size: 16,
			width: 350,
			align: "left"
		}), a.type = this.game.prodigy.create.font(a, 100, 8, "win/loss - 0/0", {
			size: 20,
			width: 350,
			align: "right"
		}), this.setIconData(a, null), a
	},
	openCard: function (e) {
		var t = new Player(this.game);
		t.init(e.data), this.game.prodigy.open.card(t, !0, !0)
	},
	setIconData: function (e, t) {
		if (Util.isDefined(t)) {
			var i = t.place,
				a = t.isMember ? "@ " : "",
				s = new Player(this.game);
			s.init(t), e.place.setText(i + ""), e.type.setText("[arena]" + s.getArenaScore());
			var r = s.getName();
			r.length > 18 && (r = r.substring(0, 18) + "..."), e.name.setText(a + r), e.curr.visible = t.userID === this.game.prodigy.player.userID, e.data = t
		} else Util.isDefined(e) && delete e.data;
		e.visible = Util.isDefined(t)
	},
	loadPVPLeaderboardComplete: function (e, t) {
		if (Util.isDefined(this.game)) {
			if (!e || !Util.isDefined(t)) return this.list.error.visible = !0, Util.isDefined(this.list.chars) && Util.isDefined(this.list.bar) && (this.list.chars.visible = !1, this.list.bar.visible = !1), this.list.error.setText("There was an error loading the leaderboard...try again later"), void 0;
			this.list.error.visible = !1, this.list.chars.visible = !0, this.list.bar.visible = !0, this.leaders = t.player_list, this.leaders.length > 0 && this.loadPlayerListData(this.leaders)
		}
	},
	loadPlayerListData: function (e) {
		this.topPlayerId = e[0].userID;
		var t = Util.joinByProperty(e, "userID");
		this.game.prodigy.network.getCharData(t, ["appearance", "isMember", "equipment", "data"], this.onLoadPlayerListDataSuccess.bind(this), this.onLoadPlayerListDataFailure.bind(this))
	},
	onLoadPlayerListDataSuccess: function (e) {
		if (Util.isDefined(this.game)) {
			if (Util.isDefined(e[this.topPlayerId])) {
				var t = e[this.topPlayerId],
					i = new Player(this.game);
				i.init(t), this.leader.top.destroy(), this.leader.top = this.game.prodigy.create.player(this.leader, i, 2, 90, 270), this.leader.top.reload();
				var a = t.isMember ? "@ " : "",
					s = Util.trimText(i.getName(), 25, !0);
				this.leader.topName.setText(a + s), this.leader.topStat.setText("[arena] " + i.getArenaScore())
			} else this.leader.topName.setText("Error loading player info");
			for (var r = 0, o = null, n = 0; n < this.leaders.length; n++)
				for (var h in e)
					if (this.leaders[n].userID === parseInt(h)) {
						if (o = this.leaders[n].data, this.leaders[n] = {}, this.leaders[n].data = o, !Util.isDefined(e[h].data)) {
							this.leaders.splice(n, 1), n--;
							break
						}
						o = JSON.parse(e[h].data);
						for (var l in o) "level" !== l && "stars" !== l && "arenaScore" !== l && (this.leaders[n].data[l] = o[l]);
						Util.isDefined(this.leaders[n].data.arenaScore) === !1 && (this.leaders[n].data.arenaScore = "N/A"), this.leaders[n].appearance = JSON.parse(e[h].appearance), this.leaders[n].equipment = JSON.parse(e[h].equipment), this.leaders[n].isMember = Util.isDefined(e[h].isMember) ? JSON.parse(e[h].isMember) : !1, this.leaders[n].place = r + 1, this.leaders[n].userID = parseInt(h), r++
					} r > 0 && this.list.bar.reset(r, 8, 0, this.setPage.bind(this))
		}
	},
	onLoadPlayerListDataFailure: function () {
		this.leader.topName.setText("Error loading player info")
	},
	setPage: function (e) {
		if (e = Math.round(e), Util.isDefined(this.leaders)) {
			this.page = e;
			for (var t = 0; 8 > t; t++) {
				var i = this.page + t;
				this.setIconData(this.list.icons[t], this.leaders[i], this.type)
			}
		}
	}
}), Prodigy.Container.Bounties = function (e, t, i, a) {
	Prodigy.Control.Element.call(this, e, t, i, a), this.game.prodigy.create.panel(this, 0, 120, 5, 8, "white"), this.add(this.game.prodigy.create.sprite(-13, 0, "core-2", "emblem-bounty")), this.game.prodigy.create.font(this, 65, 100, e.prodigy.player.getBountyScore() + "", {
		size: 36,
		font: "button",
		width: 74,
		align: "center"
	}), this.game.prodigy.create.font(this, 10, 300, "Get bounties and defeat monsters to increase your rank!", {
		width: 180
	});
	for (var s = this.game.prodigy.player.state.get("world-bounties"), r = 0; 3 > r; r++) Util.isDefined(s[r]) && new Prodigy.Container.BountyContainer(this.game, this, 230 + 305 * r, 0, {
		seed: s[r]
	}, r, !0)
}, Prodigy.extends(Prodigy.Container.Bounties, Prodigy.Control.Element, {
	constructor: Prodigy.Container.Bounties
}), Prodigy.Container.ForestContainer = function (e, t, i, a, s, r) {
	Prodigy.Container.CreatureContainer.call(this, e, t, i, 2, a, s), this.forceSimple = r || Device.isTablet(), this._tweens = []
}, Prodigy.extends(Prodigy.Container.ForestContainer, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.Container.ForestContainer,
	startLoad: function () {
		Prodigy.Container.CreatureContainer.prototype.startLoad.call(this), this.loading = !0, this.game.prodigy.load.assets(["boss-gerald"], this.setup.bind(this))
	},
	setup: function () {
		Prodigy.Container.CreatureContainer.prototype.startLoad.call(this), this.sprites.removeAll(!0), this.name.visible = !1, this.sprite = this.game.prodigy.create.element(this.sprites, 130, -300), this.sprite.scale.x = -1;
		var e = "boss-gerald",
			t = {
				x: 17,
				y: 95
			};
		this._leftArm = this.sprite.add(this.game.prodigy.create.sprite(t.x, t.y, e, "arm-left-1"));
		var i = {
			x: 22,
			y: 43
		};
		this._leftShoulder = this.sprite.add(this.game.prodigy.create.sprite(i.x, i.y, e, "shoulder"));
		var a = {
			x: 94,
			y: 216
		};
		this._leftLeg = this.sprite.add(this.game.prodigy.create.sprite(a.x, a.y, e, "leg"));
		var s = {
			x: 62,
			y: 226
		};
		this._leftFoot = this.sprite.add(this.game.prodigy.create.sprite(s.x, s.y, e, "foot-left"));
		var r = {
			x: 118,
			y: 190
		};
		this._waist = this.sprite.add(this.game.prodigy.create.sprite(r.x, r.y, e, "waist"));
		var o = {
			x: 52,
			y: 46
		};
		this._body = this.sprite.add(this.game.prodigy.create.sprite(o.x, o.y, e, "body"));
		var n = {
			x: 156,
			y: 215
		};
		this._rightLeg = this.sprite.add(this.game.prodigy.create.sprite(n.x, n.y, e, "leg"));
		var h = {
			x: 163,
			y: 224
		};
		this._rightFoot = this.sprite.add(this.game.prodigy.create.sprite(h.x, h.y, e, "foot-right"));
		var l = {
			x: 193,
			y: 94
		};
		this._rightArm = this.sprite.add(this.game.prodigy.create.sprite(l.x, l.y, e, "arm-right-1"));
		var d = {
			x: 69,
			y: 15
		};
		this._head = this.sprite.add(this.game.prodigy.create.sprite(d.x, d.y, e, "head"));
		var p = {
			x: 67,
			y: 58
		};
		this._jaw = this.sprite.add(this.game.prodigy.create.sprite(p.x, p.y, e, "jaw"));
		var c = {
			x: 131,
			y: 43
		};
		this._rightShoulder = this.sprite.add(this.game.prodigy.create.sprite(c.x, c.y, e, "shoulder")), this._idleTween = [], this._idleTween.push(new Prodigy.TweenController(this.game, this._head)), this._idleTween[0].set("x", [d.x, d.x - 4, d.x - 9, d.x - 11, d.x - 11, d.x - 6, d.x - 3, d.x, d.x + 3, d.x + 4, d.x + 4, d.x + 2], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._head)), this._idleTween[1].set("y", [d.y, d.y, d.y + 3, d.y + 6, d.y + 8, d.y + 10, d.y + 11, d.y + 9, d.y + 7, d.y + 5, d.y + 3, d.y + 2], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._jaw)), this._idleTween[2].set("x", [p.x, p.x - 3, p.x - 9, p.x - 9, p.x - 9, p.x - 5, p.x - 2, p.x, p.x + 3, p.x + 4, p.x + 4, p.x + 2], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._jaw)), this._idleTween[3].set("y", [p.y, p.y + 2, p.y + 7, p.y + 14, p.y + 16, p.y + 17, p.y + 16, p.y + 12, p.y + 9, p.y + 5, p.y + 3, p.y + 2], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._rightShoulder)), this._idleTween[4].set("x", [c.x, c.x - 2, c.x - 3, c.x - 3, c.x - 3, c.x - 2, c.x - 1, c.x + 1, c.x + 2, c.x + 3, c.x + 3, c.x + 1], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._rightShoulder)), this._idleTween[5].set("y", [c.y, c.y + 2, c.y + 4, c.y + 5, c.y + 6, c.y + 6, c.y + 6, c.y + 4, c.y + 4, c.y + 3, c.y + 3, c.y + 1], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._leftArm)), this._idleTween[6].set("frameName", ["arm-left-1", "arm-left-1", "arm-left-2", "arm-left-3", "arm-left-3", "arm-left-3", "arm-left-3", "arm-left-2", "arm-left-1", "arm-left-1", "arm-left-1", "arm-left-1"], 100, 9999);
		var g = {
				x: 10,
				y: 100
			},
			u = {
				x: 7,
				y: 103
			},
			y = {
				x: 196,
				y: 101
			},
			m = {
				x: 196,
				y: 106
			};
		this._idleTween.push(new Prodigy.TweenController(this.game, this._rightArm)), this._idleTween[7].set("x", [l.x, l.x + 1, y.x, m.x, m.x - 4, m.x - 6, m.x - 7, y.x - 4, l.x - 1, l.x - 2, l.x - 2, l.x - 1], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._rightArm)), this._idleTween[8].set("y", [l.y, l.y + 2, y.y, m.y, m.y + 6, m.y + 5, m.y + 4, y.y + 4, l.y + 7, l.y + 4, l.y + 2, l.y + 1], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._leftShoulder)), this._idleTween[9].set("x", [i.x, i.x + 2, i.x + 3, i.x + 3, i.x + 3, i.x + 2, i.x + 1, i.x - 1, i.x - 2, i.x - 3, i.x - 3, i.x - 1], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._leftShoulder)), this._idleTween[10].set("y", [i.y, i.y + 2, i.y + 4, i.y + 5, i.y + 6, i.y + 6, i.y + 6, i.y + 4, i.y + 4, i.y + 2, i.y, i.y - 1], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._rightArm)), this._idleTween[11].set("frameName", ["arm-right-1", "arm-right-1", "arm-right-2", "arm-right-3", "arm-right-3", "arm-right-3", "arm-right-3", "arm-right-2", "arm-right-1", "arm-right-1", "arm-right-1", "arm-right-1"], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._leftArm)), this._idleTween[12].set("x", [t.x, t.x + 3, g.x + 6, u.x, u.x + 1, u.x + 2, u.x + 4, g.x + 4, t.x + 1, t.x + 2, t.x + 3, t.x + 2], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._leftArm)), this._idleTween[13].set("y", [t.y, t.y + 2, g.y + 7, u.y, u.y + 1, u.y, u.y - 1, g.y, t.y + 2, t.y + 1, t.y, t.y - 2], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._leftLeg)), this._idleTween[14].set("x", [a.x, a.x - 1, a.x - 1, a.x - 1, a.x - 1, a.x - 1, a.x, a.x, a.x, a.x, a.x, a.x], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._leftLeg)), this._idleTween[15].set("y", [a.y, a.y, a.y + 1, a.y + 1, a.y + 1, a.y + 1, a.y + 1, a.y, a.y, a.y, a.y, a.y], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._leftFoot)), this._idleTween[16].set("x", [s.x], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._leftFoot)), this._idleTween[17].set("y", [s.y], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._rightLeg)), this._idleTween[18].set("x", [n.x, n.x + 1, n.x + 1, n.x + 1, n.x + 1, n.x + 1, n.x, n.x, n.x, n.x, n.x, n.x], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._rightLeg)), this._idleTween[19].set("y", [n.y, n.y, n.y + 1, n.y + 1, n.y + 1, n.y + 1, n.y + 1, n.y, n.y, n.y, n.y, n.y], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._rightFoot)), this._idleTween[20].set("x", [h.x], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._rightFoot)), this._idleTween[21].set("y", [h.y], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._body)), this._idleTween[22].set("x", [o.x, o.x - 1, o.x - 1, o.x - 1, o.x - 1, o.x, o.x + 1, o.x + 2, o.x + 3, o.x + 3, o.x + 3, o.x + 3], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._body)), this._idleTween[23].set("y", [o.y, o.y + 1, o.y + 2, o.y + 3, o.y + 4, o.y + 5, o.y + 4, o.y + 3, o.y + 2, o.y + 1, o.y, o.y - 1], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._waist)), this._idleTween[24].set("x", [r.x, r.x - 1, r.x - 1, r.x - 1, r.x - 1, r.x, r.x + 1, r.x + 2, r.x + 3, r.x + 3, r.x + 3, r.x + 2], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._waist)), this._idleTween[25].set("y", [r.y, r.y + 2, r.y + 4, r.y + 6, r.y + 8, r.y + 9, r.y + 8, r.y + 6, r.y + 4, r.y + 2, r.y, r.y - 1], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._leftArm)), this._idleTween[26].set("angle", [0], 100, 9999), this._idleTween.push(new Prodigy.TweenController(this.game, this._leftArm)), this._idleTween[27].set("visible", [!0], 100, 9999), this._attackTween = [], this._attackTween.push(new Prodigy.TweenController(this.game, this._head)), this._attackTween[0].set("x", [d.x, d.x - 6, d.x - 15, d.x - 27, d.x - 32, d.x - 34, d.x - 33, d.x - 30, d.x - 19, d.x - 7], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._head)), this._attackTween[1].set("y", [d.y, d.y + 6, d.y + 13, d.y + 20, d.y + 22, d.y + 22, d.y + 20, d.y + 16, d.y + 12, d.y + 5], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._jaw)), this._attackTween[2].set("x", [p.x, p.x - 6, p.x - 14, p.x - 26, p.x - 31, p.x - 33, p.x - 32, p.x - 29, p.x - 18, p.x - 7], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._jaw)), this._attackTween[3].set("y", [p.y, p.y + 8, p.y + 20, p.y + 29, p.y + 31, p.y + 31, p.y + 29, p.y + 23, p.y + 13, p.y + 7], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._rightShoulder)), this._attackTween[4].set("x", [i.x, i.x - 4, i.x + 5, i.x + 12, i.x + 16, i.x + 19, i.x + 21, i.x + 25, i.x + 22, i.x + 15], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._leftShoulder)), this._attackTween[5].set("y", [i.y, i.y, i.y - 5, i.y - 10, i.y - 11, i.y - 10, i.y - 9, i.y - 5, i.y, i.y + 2], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._leftArm)), this._attackTween[6].set("frameName", ["arm-left-1", "arm-left-1", "arm-left-1", "arm-left-4", "arm-left-2", "arm-left-5", "arm-left-3", "arm-left-4", "arm-left-4", "arm-left-4"], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._leftArm)), this._attackTween[7].set("x", [t.x, t.x - 5, t.x - 8, t.x - 42 - 15, t.x - 47 + 90, t.x + 15 + 50, t.x + 82 + 20, t.x + 81 + 80, t.x, t.x + -38], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._leftArm)), this._attackTween[8].set("y", [t.y, t.y - 4, t.y - 13, t.y + 73 - 100, t.y + 34 - 65 - 20, t.y + 45 - 185, t.y - 48 + 40, t.y + 17, t.y, t.y + 112], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._rightShoulder)), this._attackTween[9].set("x", [c.x, c.x - 8, c.x - 36, c.x - 44, c.x - 48, c.x - 51, c.x - 48, c.x - 42, c.x - 30, c.x - 6], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._rightShoulder)), this._attackTween[10].set("y", [c.y, c.y + 25, c.y + 48, c.y + 52, c.y + 55, c.y + 54, c.y + 54, c.y + 47, c.y + 38, c.y + 13], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._rightArm)), this._attackTween[11].set("frameName", ["arm-right-1", "arm-right-4", "arm-right-5", "arm-right-5", "arm-right-5", "arm-right-5", "arm-right-5", "arm-right-5", "arm-right-4", "arm-right-1"], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._rightArm)), this._attackTween[12].set("x", [193, 132, 58, 39, 34, 35, 45, 58, 127, 187], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._rightArm)), this._attackTween[13].set("y", [94, 125, 162, 162, 162, 162, 162, 162, 135, 108], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._leftLeg)), this._attackTween[14].set("x", [a.x, a.x - 2, a.x - 5, a.x - 18, a.x - 21, a.x - 22, a.x - 21, a.x - 19, a.x - 12, a.x - 5], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._leftLeg)), this._attackTween[15].set("y", [a.y, a.y - 2, a.y - 3, a.y, a.y, a.y + 1, a.y + 1, a.y + 1, a.y + 1, a.y + 1], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._leftFoot)), this._attackTween[16].set("x", [s.x, s.x - 1, s.x - 7, s.x - 23, s.x - 24, s.x - 23, s.x - 22, s.x - 21, s.x - 15, s.x - 11], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._leftFoot)), this._attackTween[17].set("y", [s.y, s.y - 9, s.y - 16, s.y, s.y, s.y, s.y, s.y, s.y, s.y], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._rightLeg)), this._attackTween[18].set("x", [n.x, n.x, n.x, n.x - 4, n.x - 7, n.x - 8, n.x - 8, n.x - 6, n.x - 3, n.x - 1], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._rightLeg)), this._attackTween[19].set("y", [n.y, n.y, n.y, n.y, n.y, n.y, n.y, n.y, n.y, n.y], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._rightFoot)), this._attackTween[20].set("x", [h.x, h.x, h.x - 2, h.x - 5, h.x - 6, h.x - 6, h.x - 5, h.x - 3, h.x - 2, h.x], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._rightFoot)), this._attackTween[21].set("y", [h.y, h.y, h.y, h.y, h.y, h.y, h.y, h.y, h.y, h.y], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._body)), this._attackTween[22].set("x", [o.x, o.x - 3, o.x - 8, o.x - 11, o.x - 12, o.x - 13, o.x - 12, o.x - 11, o.x - 8, o.x - 3], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._body)), this._attackTween[23].set("y", [o.y, o.y + 4, o.y + 6, o.y + 7, o.y + 7, o.y + 7, o.y + 7, o.y + 7, o.y + 6, o.y + 3], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._waist)), this._attackTween[24].set("x", [r.x, r.x - 3, r.x - 8, r.x - 11, r.x - 12, r.x - 13, r.x - 12, r.x - 11, r.x - 8, r.x - 3], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._waist)), this._attackTween[25].set("y", [r.y, r.y + 4, r.y + 6, r.y + 7, r.y + 7, r.y + 7, r.y + 7, r.y + 7, r.y + 6, r.y + 3], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._leftArm)), this._attackTween[26].set("angle", [0, 0, 0, 0, 90, 90, 180, 180, 270, 270], 100, 9999), this._attackTween.push(new Prodigy.TweenController(this.game, this._leftArm)), this._attackTween[27].set("visible", [!0, !0, !0, !0, !0, !0, !0, !0, !1, !1], 100, 9999), this._attackTween[0].end(this.playIdle.bind(this)), this.playIdle.call(this), this.complete = !0, this.loading = !1
	},
	playIdle: function () {
		if (1 !== this._mode) {
			this._mode = 1, this._tweens = this._idleTween;
			for (var e = 0; e < this._tweens.length; e++) this._tweens[e].start()
		}
	},
	playAttack: function () {
		if (3 !== this._mode) {
			this._mode = 3, this._tweens = this._attackTween;
			for (var e = 0; e < this._tweens.length; e++) this._tweens[e].start()
		}
	},
	stand: function () {
		this.playIdle.call(this)
	},
	attack: function () {
		this.playAttack.call(this)
	},
	update: function () {
		Prodigy.Container.CreatureContainer.prototype.update.call(this);
		for (var e = 0; e < this._tweens.length; e++) this._tweens[e].update()
	}
}), Prodigy.Container.CloudContainer = function (e, t, i, a, s, r, o) {
	Prodigy.Container.BossContainer.call(this, e, t, i, a, s, r), this.elementMode = o
}, Prodigy.extends(Prodigy.Container.CloudContainer, Prodigy.Container.BossContainer, {
	constructor: Prodigy.Container.CloudContainer,
	setup: function (e, t) {
		if (Util.isDefined(this.game) && t && Util.isDefined(this.assets)) {
			if ("water" === this.elementMode || "ice" === this.elementMode || "earth" === this.elementMode) {
				this.miniBoss = !0;
				var i, a;
				"ice" === this.elementMode ? (i = this.game.prodigy.create.sprite(-100, -200, "boss-12", "ice_cloud"), a = this.game.prodigy.create.sprite(-38, -149, "boss-12", "med_face_0")) : "water" === this.elementMode ? (i = this.game.prodigy.create.sprite(-100, -200, "boss-12", "water_cloud"), a = this.game.prodigy.create.sprite(-38, -149, "boss-12", "med_face_1")) : "earth" === this.elementMode && (i = this.game.prodigy.create.sprite(-100, -200, "boss-12", "earth_cloud"), a = this.game.prodigy.create.sprite(-38, -149, "boss-12", "med_face_2")), this.cloudParts = {
					base: i,
					eyes: a
				}, this.floatTweens = {
					base: [],
					eyes: []
				}, this.add(this.cloudParts.base), this.add(this.cloudParts.eyes), this.float(this.cloudParts.base, "base", 1400, 20), this.float(this.cloudParts.eyes, "eyes", 1400, 20)
			} else {
				this.waterActive = !0, this.iceActive = !0, this.earthActive = !0, this.attacks = [25, 26, 27, 28], this.coords = {
					main: {
						x: -200,
						y: -200
					},
					unactive_water: {
						x: 45,
						y: -185
					},
					unactive_ice: {
						x: -150,
						y: -300
					},
					active: {
						x: -300,
						y: -100
					},
					unactive_earth: {
						x: -110,
						y: -20
					}
				}, this.cloudParts = {
					base: this.game.prodigy.create.sprite(this.coords.main.x, this.coords.main.y, "boss-12", "main_cloud"),
					eyes: this.game.prodigy.create.sprite(this.coords.main.x + 94, this.coords.main.y + 72, "boss-12", "main_eyes_1"),
					ice_cloud: this.game.prodigy.create.sprite(this.coords.unactive_ice.x, this.coords.unactive_ice.y, "boss-12", "ice_cloud"),
					ice_eyes: this.game.prodigy.create.sprite(this.coords.unactive_ice.x + 94, this.coords.unactive_ice.y + 92, "boss-12", "med_face_0", !0),
					water_cloud: this.game.prodigy.create.sprite(this.coords.unactive_water.x, this.coords.unactive_water.y, "boss-12", "water_cloud"),
					water_eyes: this.game.prodigy.create.sprite(this.coords.unactive_water.x + 94, this.coords.unactive_water.y + 72 + 20, "boss-12", "med_face_1", !0),
					earth_cloud: this.game.prodigy.create.sprite(this.coords.unactive_earth.x, this.coords.unactive_earth.y, "boss-12", "earth_cloud"),
					earth_eyes: this.game.prodigy.create.sprite(this.coords.unactive_earth.x + 94, this.coords.unactive_earth.y + 92, "boss-12", "med_face_2", !0)
				};
				for (var s in this.cloudParts) this.cloudParts.hasOwnProperty(s) && this.add(this.cloudParts[s]);
				this.floatTweens = {
					base: [],
					eyes: [],
					ice_cloud: [],
					ice_eyes: [],
					water_cloud: [],
					water_eyes: [],
					earth_cloud: [],
					earth_eyes: []
				}, this.floatTimes = {
					ice: 1500,
					water: 1600,
					earth: 1300
				}, this.float(this.cloudParts.base, "base", 1400, 20), this.float(this.cloudParts.eyes, "eyes", 1400, 20), this.float(this.cloudParts.ice_cloud, "ice_cloud", this.floatTimes.ice, 10, !0), this.float(this.cloudParts.ice_eyes, "ice_eyes", this.floatTimes.ice, 10, !0), this.float(this.cloudParts.water_cloud, "water_cloud", this.floatTimes.water, 10, !0), this.float(this.cloudParts.water_eyes, "water_eyes", this.floatTimes.water, 10, !0), this.float(this.cloudParts.earth_cloud, "earth_cloud", this.floatTimes.earth, 10, !0), this.float(this.cloudParts.earth_eyes, "earth_eyes", this.floatTimes.earth, 10, !0), this.cloudParts.earth_eyes.scale.x = -1
			}
			this.complete = !0, this.loading = !1
		}
	},
	"float": function (e, t, i, a, s) {
		Util.isDefined(this.floatTweens[t][0]) && this.floatTweens[t][0].stop(), Util.isDefined(this.floatTweens[t][1]) && this.floatTweens[t][1].stop(), this.floatTweens[t][0] = this.game.add.tween(e).to({
			y: "-" + a
		}, i, Phaser.Easing.Quadratic.InOut).to({
			y: "" + a
		}, i, Phaser.Easing.Quadratic.InOut).loop().start(), s && (this.floatTweens[t][1] = this.game.add.tween(e).to({
			x: "-" + a
		}, Math.floor(i / 2), Phaser.Easing.Quadratic.InOut).to({
			x: "" + a
		}, Math.floor(i / 2), Phaser.Easing.Quadratic.InOut).loop().start())
	},
	stormMode: function () {
		if ("storm" !== this.elementMode) {
			var e = this.game.add.tween(this.cloudParts[this.elementMode + "_cloud"]).to({
					x: this.coords["unactive_" + this.elementMode].x,
					y: this.coords["unactive_" + this.elementMode].y
				}, 1500, Phaser.Easing.Quadratic.InOut).start(),
				t = this.game.add.tween(this.cloudParts[this.elementMode + "_eyes"]).to({
					x: this.coords["unactive_" + this.elementMode].x + 94,
					y: this.coords["unactive_" + this.elementMode].y + 92
				}, 1500, Phaser.Easing.Quadratic.InOut).start();
			e.onComplete.add(this.float.bind(this, this.cloudParts[this.elementMode + "_cloud"], this.elementMode + "_cloud", this.floatTimes[this.elementMode], 10, !0)), t.onComplete.add(this.float.bind(this, this.cloudParts[this.elementMode + "_eyes"], this.elementMode + "_eyes", this.floatTimes[this.elementMode], 10, !0))
		}
		this.attacks = [25, 26, 27, 28], this.elementMode = "storm", this.source.element = "storm", this.source.source.element = "storm"
	},
	iceMode: function () {
		if (this.iceActive && "ice" !== this.elementMode) {
			if ("storm" !== this.elementMode) {
				var e = this.game.add.tween(this.cloudParts[this.elementMode + "_cloud"]).to({
						x: this.coords["unactive_" + this.elementMode].x,
						y: this.coords["unactive_" + this.elementMode].y
					}, 1500, Phaser.Easing.Quadratic.InOut).start(),
					t = this.game.add.tween(this.cloudParts[this.elementMode + "_eyes"]).to({
						x: this.coords["unactive_" + this.elementMode].x + 94,
						y: this.coords["unactive_" + this.elementMode].y + 92
					}, 1500, Phaser.Easing.Quadratic.InOut).start();
				e.onComplete.add(this.float.bind(this, this.cloudParts[this.elementMode + "_cloud"], this.elementMode + "_cloud", this.floatTimes[this.elementMode], 10, !0)), t.onComplete.add(this.float.bind(this, this.cloudParts[this.elementMode + "_eyes"], this.elementMode + "_eyes", this.floatTimes[this.elementMode], 10, !0))
			}
			this.attacks = [19, 20, 21, 22], this.elementMode = "ice", this.source.element = "ice", this.source.source.element = "ice";
			var i = this.game.add.tween(this.cloudParts.ice_cloud).to({
					x: this.coords.active.x,
					y: this.coords.active.y
				}, 1500, Phaser.Easing.Quadratic.InOut).start(),
				a = this.game.add.tween(this.cloudParts.ice_eyes).to({
					x: this.coords.active.x + 94,
					y: this.coords.active.y + 92
				}, 1500, Phaser.Easing.Quadratic.InOut).start();
			i.onComplete.add(this.float.bind(this, this.cloudParts.ice_cloud, "ice_cloud", this.floatTimes.ice, 10, !0)), a.onComplete.add(this.float.bind(this, this.cloudParts.ice_eyes, "ice_eyes", this.floatTimes.ice, 10, !0))
		}
	},
	earthMode: function () {
		if (this.earthActive && "earth" !== this.elementMode) {
			if ("storm" !== this.elementMode) {
				var e = this.game.add.tween(this.cloudParts[this.elementMode + "_cloud"]).to({
						x: this.coords["unactive_" + this.elementMode].x,
						y: this.coords["unactive_" + this.elementMode].y
					}, 1500, Phaser.Easing.Quadratic.InOut).start(),
					t = this.game.add.tween(this.cloudParts[this.elementMode + "_eyes"]).to({
						x: this.coords["unactive_" + this.elementMode].x + 94,
						y: this.coords["unactive_" + this.elementMode].y + 92
					}, 1500, Phaser.Easing.Quadratic.InOut).start();
				e.onComplete.add(this.float.bind(this, this.cloudParts[this.elementMode + "_cloud"], this.elementMode + "_cloud", this.floatTimes[this.elementMode], 10, !0)), t.onComplete.add(this.float.bind(this, this.cloudParts[this.elementMode + "_eyes"], this.elementMode + "_eyes", this.floatTimes[this.elementMode], 10, !0))
			}
			this.attacks = [13, 14, 15, 16], this.elementMode = "earth", this.source.element = "earth", this.source.source.element = "earth";
			var i = this.game.add.tween(this.cloudParts.earth_cloud).to({
					x: this.coords.active.x,
					y: this.coords.active.y
				}, 1500, Phaser.Easing.Quadratic.InOut).start(),
				a = this.game.add.tween(this.cloudParts.earth_eyes).to({
					x: this.coords.active.x + 94,
					y: this.coords.active.y + 92
				}, 1500, Phaser.Easing.Quadratic.InOut).start();
			i.onComplete.add(this.float.bind(this, this.cloudParts.earth_cloud, "earth_cloud", this.floatTimes.earth, 10, !0)), a.onComplete.add(this.float.bind(this, this.cloudParts.earth_eyes, "earth_eyes", this.floatTimes.earth, 10, !0))
		}
	},
	waterMode: function () {
		if (this.waterActive && "water" !== this.elementMode) {
			if ("storm" !== this.elementMode) {
				var e = this.game.add.tween(this.cloudParts[this.elementMode + "_cloud"]).to({
						x: this.coords["unactive_" + this.elementMode].x,
						y: this.coords["unactive_" + this.elementMode].y
					}, 1500, Phaser.Easing.Quadratic.InOut).start(),
					t = this.game.add.tween(this.cloudParts[this.elementMode + "_eyes"]).to({
						x: this.coords["unactive_" + this.elementMode].x + 94,
						y: this.coords["unactive_" + this.elementMode].y + 92
					}, 1500, Phaser.Easing.Quadratic.InOut).start();
				e.onComplete.add(this.float.bind(this, this.cloudParts[this.elementMode + "_cloud"], this.elementMode + "_cloud", this.floatTimes[this.elementMode], 10, !0)), t.onComplete.add(this.float.bind(this, this.cloudParts[this.elementMode + "_eyes"], this.elementMode + "_eyes", this.floatTimes[this.elementMode], 10, !0))
			}
			this.attacks = [7, 8, 9, 10], this.elementMode = "water", this.source.element = "water", this.source.source.element = "water";
			var i = this.game.add.tween(this.cloudParts.water_cloud).to({
					x: this.coords.active.x,
					y: this.coords.active.y
				}, 1500, Phaser.Easing.Quadratic.InOut).start(),
				a = this.game.add.tween(this.cloudParts.water_eyes).to({
					x: this.coords.active.x + 94,
					y: this.coords.active.y + 92
				}, 1500, Phaser.Easing.Quadratic.InOut).start();
			i.onComplete.add(this.float.bind(this, this.cloudParts.water_cloud, "water_cloud", this.floatTimes.water, 10, !0)), a.onComplete.add(this.float.bind(this, this.cloudParts.water_eyes, "water_eyes", this.floatTimes.water, 10, !0))
		}
	},
	updateClouds: function () {
		var e = this.source.getCurrentHearts() / this.source.getMaxHearts();
		.25 > e ? (this.waterActive = !1, this.cloudParts.water_cloud.frameName = "small_cloud", this.cloudParts.water_eyes.visible = !1, "water" === this.elementMode && this.stormMode()) : .5 > e ? (this.earthActive = !1, this.cloudParts.earth_cloud.frameName = "small_cloud", this.cloudParts.earth_eyes.visible = !1, "earth" === this.elementMode && this.stormMode()) : .75 > e && (this.iceActive = !1, this.cloudParts.ice_cloud.frameName = "small_cloud", this.cloudParts.ice_eyes.visible = !1, "ice" === this.elementMode && this.stormMode())
	}
}), Prodigy.Container.BonfireContainer = function (e, t, i, a, s, r) {
	Prodigy.Container.BossContainer.call(this, e, t, i, a, s, r), this.foodMode = "soup"
}, Prodigy.extends(Prodigy.Container.BonfireContainer, Prodigy.Container.BossContainer, {
	constructor: Prodigy.Container.BonfireContainer,
	setup: function (e, t) {
		if (Util.isDefined(this.game) && t && Util.isDefined(this.assets)) {
			this.potParts = {
				pot: this.game.prodigy.create.sprite(-100, 0, "boss-13", "pot"),
				lid: this.game.prodigy.create.sprite(140, -140, "boss-13", "pot-lid")
			}, this.potParts.lid.anchor.setTo(1, 1), this.potParts.pot.anchor.setTo(0, 1), this.burgerParts = {
				dish: this.game.prodigy.create.sprite(300, -50, "boss-13", "dish"),
				bottom: this.game.prodigy.create.sprite(320, -10, "boss-13", "burger-bottom"),
				top: this.game.prodigy.create.sprite(510, -70, "boss-13", "burger-lid")
			}, this.burgerParts.top.anchor.setTo(1, 1), this.burgerParts.bottom.anchor.setTo(0, 1), this.cakeParts = {
				dish: this.game.prodigy.create.sprite(300, -50, "boss-13", "dish"),
				lava: this.game.prodigy.create.sprite(310, 0, "boss-13", "lava"),
				face: this.game.prodigy.create.sprite(350, 10, "boss-13", "expression-1"),
				strawberry: this.game.prodigy.create.sprite(400, -200, "boss-13", "berry")
			}, this.cakeParts.face.animations.add("attack", ["expression-1", "expression-2", "expression-3", "expression-3", "expression-3", "expression-2", "expression-1"], 10, !1, !1), this.cakeParts.lava.anchor.setTo(0, 1), this.cakeParts.face.anchor.setTo(0, 1);
			var i;
			for (i in this.potParts) this.potParts.hasOwnProperty(i) && this.add(this.potParts[i]);
			for (i in this.burgerParts) this.burgerParts.hasOwnProperty(i) && (this.add(this.burgerParts[i]), this.burgerParts[i].visible = !1);
			for (i in this.cakeParts) this.cakeParts.hasOwnProperty(i) && (this.add(this.cakeParts[i]), this.cakeParts[i].visible = !1);
			this.npc = new Prodigy.CebolliniEvent(this.game, this, -100, 0, "npc-sprite-cebollini", null), this.npc.flip(), this.npc.bossStart(this.game), this.complete = !0, this.loading = !1
		}
	},
	attack: function () {
		var e, t, i = this.game.prodigy.animation;
		"soup" === this.foodMode ? (e = this.game.prodigy.event.create(), e.animation(i.rotate.bind(i, this.potParts.lid, "35", 1e3, 0, null, !0)), e.animation(i.translate.bind(i, this.potParts.lid, "0", "-20", 1e3, 0, null, !0), !0), e.animation(i.rotate.bind(i, this.potParts.lid, "-35", 1e3, 0, null, !0)), e.animation(i.translate.bind(i, this.potParts.lid, "0", "20", 1e3, 0, null, !0)), t = this.game.prodigy.event.create(), t.animation(i.rotate.bind(i, this.potParts.pot, "-10", 1e3, 0, null, !0), !0), t.animation(i.rotate.bind(i, this.potParts.pot, "10", 1e3, 0, null, !0)), e.start(), t.start()) : "burger" === this.foodMode ? (e = this.game.prodigy.event.create(), e.animation(i.rotate.bind(i, this.burgerParts.top, "25", 700, 0, null, !0)), e.animation(i.translate.bind(i, this.burgerParts.top, "0", "-20", 700, 0, null, !0), !0), e.animation(i.rotate.bind(i, this.burgerParts.top, "-25", 700, 0, null, !0)), e.animation(i.translate.bind(i, this.burgerParts.top, "0", "20", 700, 0, null, !0)), t = this.game.prodigy.event.create(), t.animation(i.rotate.bind(i, this.burgerParts.bottom, "-10", 700, 0, null, !0), !0), t.animation(i.rotate.bind(i, this.burgerParts.bottom, "10", 700, 0, null, !0)), e.start(), t.start()) : "cake" === this.foodMode && this.cakeParts.face.animations.play("attack")
	},
	startEntree: function () {
		this.foodMode = "burger", this.npc.entreeStart();
		var e = this.game.prodigy.event.create();
		e.text(11, "cebollini"), e.enableInput(!1);
		var t;
		for (t in this.potParts) this.potParts.hasOwnProperty(t) && e.animation(this.game.prodigy.animation.hop.bind(this.game.prodigy.animation, this.potParts[t], "400", "-150", "+150", 2e3, !1, !0));
		e.delay(2e3);
		for (t in this.potParts) this.potParts.hasOwnProperty(t) && e.set(this.potParts[t], "visible", !1);
		for (t in this.burgerParts) this.burgerParts.hasOwnProperty(t) && e.set(this.burgerParts[t], "visible", !0);
		for (t in this.burgerParts) this.burgerParts.hasOwnProperty(t) && e.animation(this.game.prodigy.animation.hop.bind(this.game.prodigy.animation, this.burgerParts[t], "-400", "-150", "+150", 2e3, !1, !0));
		e.delay(2e3), e.enableInput(!0), e.start()
	},
	startDessert: function () {
		this.foodMode = "cake", this.npc.dessertStart();
		var e = this.game.prodigy.event.create();
		e.text(12, "cebollini"), e.enableInput(!1);
		var t;
		for (t in this.burgerParts) this.burgerParts.hasOwnProperty(t) && e.animation(this.game.prodigy.animation.hop.bind(this.game.prodigy.animation, this.burgerParts[t], "400", "-150", "+150", 2e3, !1, !0));
		e.delay(2e3);
		for (t in this.burgerParts) this.burgerParts.hasOwnProperty(t) && e.set(this.burgerParts[t], "visible", !1);
		for (t in this.cakeParts) this.cakeParts.hasOwnProperty(t) && e.set(this.cakeParts[t], "visible", !0);
		for (t in this.cakeParts) this.cakeParts.hasOwnProperty(t) && e.animation(this.game.prodigy.animation.hop.bind(this.game.prodigy.animation, this.cakeParts[t], "-400", "-150", "+150", 2e3, !1, !0));
		e.delay(2e3), e.enableInput(!0), e.start()
	}
}), Prodigy.BroccolinaEvent = function (e, t, i, a, s, r, o) {
	Prodigy.Container.CreatureContainer.call(this, e, t, {
		name: o,
		npc: !0
	}, null, i, a), this.body = this.add(e.prodigy.create.sprite(0, -60, "npc-sprite-broccolina", "body_0")), this.body.animations.add("stand", ["body_0", "body_1", "body_2"], 4, !0, !1), this.body.animations.play("stand"), this.head = this.add(e.prodigy.create.sprite(9, -108, "npc-sprite-broccolina", "head_0")), this.head.animations.add("stand", ["head_0", "head_1", "head_2"], 5, !0, !1), this.head.animations.play("stand"), this.sprites.add(this.body), this.sprites.add(this.head), e.add.tween(this.head).to({
		y: "-1"
	}, 100, Phaser.Easing.Linear.None).to({
		y: "+2"
	}, 400, Phaser.Easing.Linear.None).to({
		y: this.head.y
	}, 300, Phaser.Easing.Linear.None).loop().start(), Util.isDefined(r) && this.addOnClick(r.bind(this)), this.name.y += 20, Util.isDefined(o) && this.showName(!0)
}, Prodigy.extends(Prodigy.BroccolinaEvent, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.BroccolinaEvent
}), Prodigy.EugeneEvent = function (e, t, i, a, s, r, o) {
	this.npcName = o, Prodigy.Container.CreatureContainer.call(this, e, t, {
		name: o,
		npc: !0
	}, null, i, a), this.right_arm = this.add(e.prodigy.create.sprite(-20, -75, "npc-sprite-eugene", "right_arm")), this.body = this.add(e.prodigy.create.sprite(0, -80, "npc-sprite-eugene", "body_0")), this.body.animations.add("stand", ["body_0", "body_1", "body_2", "body_2", "body_2", "body_2", "body_1"], 5, !0, !1), this.body.animations.play("stand"), this.left_arm = this.add(e.prodigy.create.sprite(40, -75, "npc-sprite-eugene", "left_arm_0")), this.head = this.add(e.prodigy.create.sprite(0, -110, "npc-sprite-eugene", "head")), this.sprites.add(this.right_arm), this.sprites.add(this.body), this.sprites.add(this.head), this.sprites.add(this.left_arm), e.add.tween(this.head).to({
		y: "-1"
	}, 200, Phaser.Easing.Linear.None).to({
		y: "+2"
	}, 500, Phaser.Easing.Linear.None).to({
		y: this.head.y
	}, 400, Phaser.Easing.Linear.None).loop().start(), e.add.tween(this.left_arm).to({
		y: "+2"
	}, 800, Phaser.Easing.Linear.None).delay(600).to({
		y: this.left_arm.y
	}, 800, Phaser.Easing.Linear.None).loop().start(), e.add.tween(this.right_arm).to({
		y: "+2",
		x: "-1"
	}, 800, Phaser.Easing.Linear.None).delay(600).to({
		y: this.right_arm.y,
		x: this.right_arm.x
	}, 800, Phaser.Easing.Linear.None).loop().start(), Util.isDefined(r) && this.addOnClick(r.bind(this)), this.name.x += 25, this.name.y += 17.5, Util.isDefined(o) && this.showName(!0)
}, Prodigy.extends(Prodigy.EugeneEvent, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.EugeneEvent
}), Prodigy.MorrisEvent = function (e, t, i, a, s, r, o) {
	this.npcName = o, Prodigy.Container.CreatureContainer.call(this, e, t, {
		name: o,
		npc: !0
	}, null, i, a), this.right_arm = this.add(e.prodigy.create.sprite(0, -115, "npc-sprite-morris", "right_arm")), this.legs = this.add(e.prodigy.create.sprite(0, -115, "npc-sprite-morris", "legs")), this.body = this.add(e.prodigy.create.sprite(0, -115, "npc-sprite-morris", "body")), this.left_arm = this.add(e.prodigy.create.sprite(0, -115, "npc-sprite-morris", "left_arm")), this.head = this.add(e.prodigy.create.sprite(0, -115, "npc-sprite-morris", "head")), this.eyes = this.add(e.prodigy.create.sprite(0, -115, "npc-sprite-morris", "eyes1")), this.snout = this.add(e.prodigy.create.sprite(0, -115, "npc-sprite-morris", "snout")), this.mouth = this.add(e.prodigy.create.sprite(0, -115, "npc-sprite-morris", "mouth")), this.sprites.add(this.right_arm), this.sprites.add(this.legs), this.sprites.add(this.body), this.sprites.add(this.head), this.sprites.add(this.eyes), this.sprites.add(this.snout), this.sprites.add(this.mouth), this.sprites.add(this.left_arm), e.add.tween(this.eyes).to({
		y: "-1"
	}, 100, Phaser.Easing.Linear.None).to({
		y: "+2"
	}, 250, Phaser.Easing.Linear.None).to({
		y: this.head.y
	}, 200, Phaser.Easing.Linear.None).loop().start(), e.add.tween(this.snout).to({
		y: "-1"
	}, 100, Phaser.Easing.Linear.None).to({
		y: "+2"
	}, 250, Phaser.Easing.Linear.None).to({
		y: this.head.y
	}, 200, Phaser.Easing.Linear.None).loop().start(), e.add.tween(this.mouth).to({
		y: "-1"
	}, 100, Phaser.Easing.Linear.None).to({
		y: "+2"
	}, 250, Phaser.Easing.Linear.None).to({
		y: this.head.y
	}, 200, Phaser.Easing.Linear.None).loop().start(), e.add.tween(this.head).to({
		y: "-1"
	}, 100, Phaser.Easing.Linear.None).to({
		y: "+2"
	}, 250, Phaser.Easing.Linear.None).to({
		y: this.head.y
	}, 200, Phaser.Easing.Linear.None).loop().start(), e.add.tween(this.body).to({
		y: "-1"
	}, 100, Phaser.Easing.Linear.None).to({
		y: "+1"
	}, 200, Phaser.Easing.Linear.None).to({
		y: this.body.y
	}, 100, Phaser.Easing.Linear.None).loop().start(), e.add.tween(this.left_arm).to({
		y: "+2"
	}, 400, Phaser.Easing.Linear.None).delay(600).to({
		y: this.left_arm.y
	}, 400, Phaser.Easing.Linear.None).loop().start(), e.add.tween(this.right_arm).to({
		y: "+2",
		x: "-1"
	}, 400, Phaser.Easing.Linear.None).delay(600).to({
		y: this.right_arm.y,
		x: this.right_arm.x
	}, 400, Phaser.Easing.Linear.None).loop().start(), Util.isDefined(o) && this.showName(!0)
}, Prodigy.extends(Prodigy.MorrisEvent, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.MorrisEvent
}), Prodigy.WorkerSlimeEvent = function (e, t, i, a, s, r, o) {
	Prodigy.Container.CreatureContainer.call(this, e, t, {
		name: o,
		npc: !0
	}, null, i, a), "npc-sprite-worker-slime" === s ? (this.body = this.add(e.prodigy.create.sprite(0, -60, "npc-sprite-worker-slime", "body_0")), this.body.animations.add("stand", ["body_0", "body_1", "body_2"], 8, !0, !1), this.body.animations.add("idle", ["stand_0", "stand_1", "stand_2"], 8, !0, !1), this.body.animations.play("stand"), this.face = this.add(e.prodigy.create.sprite(12, -45, "npc-sprite-worker-slime", "face")), this.radish = this.add(e.prodigy.create.sprite(20, -80, "npc-sprite-worker-slime", "radish_0")), this.radish.animations.add("stand", ["radish_0", "radish_1", "radish_2"], 10, !0, !1), e.add.tween(this.face).to({
		y: "-1"
	}, 300, Phaser.Easing.Linear.None).to({
		y: this.face.y
	}, 300, Phaser.Easing.Linear.None).delay(100).loop().start(), this.sprites.add(this.radish), this.sprites.add(this.body), this.sprites.add(this.face), Util.isDefined(r) && (this.body.inputEnabled = !0, this.body.events.onInputDown.add(r)), this.name.x += 40, this.name.y += 50) : (this.body = this.add(e.prodigy.create.sprite(-30, -63, "npc-sprite-worker-slime", "red_0")), this.body.animations.add("stand", ["red_0", "red_0", "red_1", "red_1", "red_2", "red_2"], 10, !0, !1), this.body.animations.play("stand"), this.pot = this.add(e.prodigy.create.sprite(-60, -82, "zone-bonfire", "pot1")), this.face = this.add(e.prodigy.create.sprite(-18, -45, "npc-sprite-worker-slime", "face_red")), e.add.tween(this.face).to({
		y: "-1"
	}, 300, Phaser.Easing.Linear.None).to({
		y: this.face.y
	}, 300, Phaser.Easing.Linear.None).delay(100).loop().start(), this.sprites.add(this.pot), this.sprites.add(this.body), this.sprites.add(this.face), this.name.y += 50), Util.isDefined(o) && this.showName(!0)
}, Prodigy.extends(Prodigy.WorkerSlimeEvent, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.WorkerSlimeEvent,
	highlight: function (e, t, i) {
		Util.isDefined(this.arrow) && (this.arrow.destroy(), this.arrow = null), e && (this.arrow = this.add(this.game.prodigy.create.sprite(0, 0, "icons", "help")), this.arrow.x = t || 0, this.arrow.y = (i || 0) - this.arrow.height - 70, this.game.add.tween(this.arrow).to({
			y: this.arrow.y + 15
		}, 700, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0))
	},
	idle: function () {
		this.body.animations.play("idle"), this.face.frameName = "stand_face", this.face.x -= 7
	}
}), Prodigy.CebolliniEvent = function (e, t, i, a, s, r, o) {
	Prodigy.Container.CreatureContainer.call(this, e, t, {
		name: o,
		npc: !0
	}, null, i, a), this.body = this.add(e.prodigy.create.sprite(-35, 0, "npc-sprite-cebollini", "mini")), this.body.anchor.setTo(0, 1), this.body.animations.add("stand", ["mini", "mini1", "mini2", "mini3", "mini2", "mini1"], 10, !0, !1), this.body.animations.play("stand"), this.sprites.add(this.body), this.name.y += 40, Util.isDefined(o) && this.showName(!0)
}, Prodigy.extends(Prodigy.CebolliniEvent, Prodigy.Container.CreatureContainer, {
	constructor: Prodigy.CebolliniEvent,
	bossStart: function (e) {
		this.right_arm = this.add(e.prodigy.create.sprite(50, -30, "npc-sprite-cebollini", "hand_1")), this.body = this.add(e.prodigy.create.sprite(-40, -90, "npc-sprite-cebollini", "body")), this.head = this.add(e.prodigy.create.sprite(-20, -45, "npc-sprite-cebollini", "face_1")), this.hat = this.add(e.prodigy.create.sprite(-55, -135, "npc-sprite-cebollini", "hat_0")), this.left_arm = this.add(e.prodigy.create.sprite(-50, -30, "npc-sprite-cebollini", "hand_2")), this.sprites.add(this.right_arm), this.sprites.add(this.body), this.sprites.add(this.head), this.sprites.add(this.hat), this.sprites.add(this.left_arm), e.add.tween(this.head).to({
			y: "-1"
		}, 200, Phaser.Easing.Linear.None).to({
			y: "+2"
		}, 500, Phaser.Easing.Linear.None).to({
			y: this.head.y
		}, 400, Phaser.Easing.Linear.None).loop().start(), e.add.tween(this.hat).to({
			y: "-1"
		}, 200, Phaser.Easing.Linear.None).to({
			y: "+2"
		}, 500, Phaser.Easing.Linear.None).to({
			y: this.hat.y
		}, 400, Phaser.Easing.Linear.None).loop().start(), e.add.tween(this.left_arm).to({
			y: "+2"
		}, 800, Phaser.Easing.Linear.None).delay(600).to({
			y: this.left_arm.y
		}, 800, Phaser.Easing.Linear.None).loop().start(), this.right_arm.frameName = "spatula_0", this.right_arm.y = this.right_arm.y - 60, this.right_arm.x = this.right_arm.x - 15
	},
	entreeStart: function () {
		this.right_arm.frameName = "spatula_1", this.right_arm.x = this.right_arm.x + 15, this.hat.frameName = "hat_1"
	},
	dessertStart: function () {
		this.hat.frameName = "hat_2", this.hat.x = this.hat.x - 20, this.hat.y = this.hat.y - 5, this.head.frameName = "face_2"
	}
});
var AreaEvent = function () {
	function e(t, i, a, s, r, o, n, h, l) {
		Prodigy.Control.Element.call(this, t, i, a.x, a.y), this.noActive = l, this.updateFrame = 0, this.data = a, this.user = s, this.path = r, this.isBlocked = !1, this.callback = l ? function () {} : o, Util.isDefined(n) || (n = a.x < 50 ? a.y < 50 ? e.UP_LEFT : a.y > 670 ? e.DOWN_LEFT : e.LEFT : a.x > 1230 ? a.y < 50 ? e.UP_RIGHT : a.y > 670 ? e.DOWN_RIGHT : e.RIGHT : a.y < 50 ? e.UP : a.y > 670 ? e.DOWN : e.LEFT), this._sprite = this.add(this.game.prodigy.create.sprite(0, 0, "core", "area-pointer")), this._sprite.anchor.setTo(.5, 0), this._sprite.angle = n || 0, this._sprite.inputEnabled = !0, this._sprite.events.onInputDown.add(this.moveTo.bind(this, a.x, a.y));
		var d = n > e.UP && n < e.DOWN ? -30 : n > e.DOWN && 360 > n ? 30 : 0,
			p = n > e.LEFT || n < e.RIGHT ? 30 : n > e.RIGHT && n < e.LEFT ? -30 : 0;
		this._sprite.x = 0, this._sprite.y = 0, this.game.add.tween(this._sprite).to({
			x: this._sprite.x + d,
			y: this._sprite.y + p
		}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0), this.visible = !1, this.count = 0
	}
	return e.prototype = Object.create(Prodigy.Control.Element.prototype), e.UP = 0, e.UP_RIGHT = 45, e.RIGHT = 90, e.DOWN_RIGHT = 135, e.DOWN = 180, e.DOWN_LEFT = 225, e.LEFT = 270, e.UP_LEFT = 315, e.prototype.moveTo = function (e, t) {
		this.user.setValidPath(this.path, e, t)
	}, e.prototype.update = function () {
		if (Prodigy.Control.Element.prototype.update.call(this), !this.user.evtProc && !this.fired) {
			if (!(this.count <= 0)) return this.count--, void 0;
			this.count = 5, Util.isDefined(this.data.r) && Phaser.Math.distance(this.user.x, this.user.y, this.x, this.y) <= this.data.r ? this.fired = !0 : !Util.isDefined(this.data.r) && Util.isDefined(this.data.w) && this.user.x >= this.x - Math.floor(this.data.w / 2) && this.user.x <= this.x + Math.floor(this.data.w / 2) && this.user.y >= this.y - Math.floor(this.data.h / 2) && this.user.y <= this.y + Math.floor(this.data.h / 2) && (this.fired = !0), this.fired && this.callback()
		}
	}, e.prototype.process = function (e, t) {
		return this.visible = this._isClosest = !1, this.checkDistance(e, t)
	}, e.prototype.setClosest = function () {
		this._isClosest = this.visible = !0
	}, e.prototype.checkDistance = function (e, t) {
		var i = e.getQuestState();
		if (!Util.isDefined(i) || !e.isQuestStarted(i.ID)) return null;
		var a = e.getQuest(i.ID);
		if (!Util.isDefined(a) || !Util.isDefined(this.data.target)) return null;
		var s = a.area;
		!a.chain && e.isQuestComplete(i.ID) && Util.isDefined(e.questHub) && (s = [e.questHub]);
		var r = function (e, t, i, a) {
			if (!Util.isDefined(i) || Util.inArray(t, i)) return null;
			if (Util.inArray(a, i)) return t.length + 1;
			var s = i.split("-"),
				o = e.getZone(s[0]);
			if (!Util.isDefined(o)) return null;
			for (var n = o.getMap(s[1]), h = n._locations, l = null, d = 0; d < h.length; d++) {
				var p = r(e, t.concat([i]), h[d], a);
				(!Util.isDefined(l) || l > p && Util.isDefined(p)) && (l = p)
			}
			return l
		};
		return r(this.game.prodigy.world, [e.ID + "-" + t.getTag()], this.data.target, s)
	}, e.prototype.getOverlay = function () {
		var e, t, i, a;
		return this.data.r ? (e = this.x, t = this.y, i = a = this.data.r) : this.data.rect ? (e = this.x, t = this.y, i = this.data.w, a = this.data.h) : (e = this.x + (this.data.x < 100 ? -Math.floor(.5 * this.data.w) : this.data.x > 1180 ? Math.floor(.5 * this.data.w) : 0), t = this.y + (this.data.y < 100 ? -Math.floor(.5 * this.data.h) : this.data.y > 620 ? Math.floor(.5 * this.data.h) : 0), i = this.data.w * (this.data.x < 100 || this.data.x > 1180 ? 1 : .5), a = this.data.h * (this.data.y < 100 || this.data.y > 620 ? 1 : .5)), this._overlay = this.game.add.graphics(0, 0), this._overlay.beginFill(0, .75), this.data.rect ? this._overlay.drawRect(e - .5 * i, t - .5 * a, i, a) : this._overlay.drawEllipse(e, t, i, a), this._overlay
	}, e
}();
Prodigy.Event.Block = function (e, t, i, a, s, r) {
	Prodigy.Control.Element.call(this, e, t, i, a), this.sprite = this.add(this.game.prodigy.create.sprite(0, 0, r.atlas, r.tag)), this.sprite.anchor.setTo(r.x, r.y);
	var o = Math.floor(this.sprite.width / s.size),
		n = Math.floor((i - this.sprite.width * r.x) / s.size),
		h = Math.floor(this.sprite.height / s.size),
		l = Math.floor((a - this.sprite.height * r.y) / s.size);
	for (i = n; n + o > i; i++)
		for (a = l; l + h > a; a++) s.area[a][i] = 0;
	this.path = s
}, Prodigy.extends(Prodigy.Event.Block, Prodigy.Control.Element, {
	constructor: Prodigy.Event.Block
}), Prodigy.Event.Chest = function (e, t, i, a, s, r, o, n, h, l) {
	Prodigy.Control.Element.call(this, e, t, i, a), this.ID = o, this.callback = l, this.user = s, this.key = h, this.reward = n || [], this.type = "A";
	for (var d = 0; d < n.length; d++) {
		var p = Items.getItemData(n[d].type, n[d].ID);
		if (p) {
			if (p.quest && 1 === p.quest) {
				this.type = "B";
				break
			}
			1 === p.member && (this.type = "C")
		}
		"gold" === n[d].type && n[d].N >= 500 && (this.type = "C")
	}
	this.sprite = this.add(this.game.prodigy.create.sprite(0, 0, "tileset-core", "chest-" + this.type + "-1")), this.sprite.inputEnabled = !0, this.sprite.events.onInputDown.add(this.clicked.bind(this), this), this.sprite.x -= Math.floor(.5 * this.sprite.width), this.sprite.y = -this.sprite.height, this.path = r
}, Prodigy.extends(Prodigy.Event.Chest, Prodigy.Control.Element, {
	constructor: Prodigy.Event.Chest,
	process: function (e) {
		this.zone = e, this.highlight(!1);
		var t = e.getState(this.ID);
		Util.isDefined(t) && 0 !== t && (this.sprite.inputEnabled = !1, this.sprite.frameName = "chest-" + this.type + "-2");
		var i = e.getQuestState();
		if (Util.isDefined(i) && Util.isDefined(i.req))
			for (var a = 0; a < this.reward.length; a++) {
				var s = this.reward[a];
				i.req.type === s.type && i.req.ID === s.ID && i.req.N > this.game.prodigy.player.backpack.hasItem(i.req.type, i.req.ID) && this.highlight(!0, -80, -90)
			}
	},
	clicked: function () {
		var e = function (e) {
			Util.isDefined(e) && this.user.setPath(e, this.collect.bind(this))
		}.bind(this);
		this.path.findPath(this.user.x, this.user.y, this.x - 20, this.y + 20, e)
	},
	collect: function () {
		if (this.user.evtProc || !(Phaser.Math.distance(this.user.x, this.user.y, this.x, this.y) > 50)) {
			if ("C" === this.type && !this.game.prodigy.player.isMember) return this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.MEMBER_CHESTS, null, null), void 0;
			if (Util.isDefined(this.key) && !this.game.prodigy.player.backpack.hasItem(this.key.type, this.key.ID)) return this.game.prodigy.open.message("This chest is locked!\n\nYou need a [" + Util.convertItemToIcon(this.key) + "] to open it!"), void 0;
			this.game.prodigy.player.saveEnabled = !1, this.game.input.mouse.enabled = this.game.input.touch.enabled = !1, this.sprite.inputEnabled = !1, this.user.evtProc = !0, this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "whoosh");
			var e = this.game.add.tween(this.sprite).to({
				x: "-5"
			}, 50, Phaser.Easing.Linear.None).to({
				x: "+10"
			}, 150, Phaser.Easing.Linear.None).to({
				x: "-10"
			}, 150, Phaser.Easing.Linear.None).to({
				x: "+5"
			}, 50, Phaser.Easing.Linear.None).to({
				y: "-50"
			}, 200, Phaser.Easing.Quadratic.Out).to({
				y: "+50"
			}, 200, Phaser.Easing.Quadratic.In).to({
				y: "-20"
			}, 100, Phaser.Easing.Quadratic.Out).to({
				y: "+20"
			}, 100, Phaser.Easing.Quadratic.In).start();
			e.onComplete.add(this.openChest, this, 1)
		}
	},
	openChest: function () {
		this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "dig"), this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.WORLD, "item"), this.sprite.frameName = "chest-" + this.type + "-2", this.game.input.mouse.enabled = this.game.input.touch.enabled = !0, this.game.prodigy.open.gotItem(this.reward, this.clearState.bind(this))
	},
	clearState: function () {
		this.zone.setState(this.ID, 1), Util.isDefined(this.key) && this.game.prodigy.player.backpack.consume(this.key.type, this.key.ID, 1), this.user.evtProc = !1, this.game.prodigy.player.saveEnabled = !0, this.callback()
	}
});
var CollectEvent = function () {
		function e(e, t, i, a, s, r, o, n, h) {
			Prodigy.Control.Element.call(this, e, t, i, a), this.user = s, this.path = r, this.ID = o, this.callback = h, this.collected = !1, this.data = n || {}, this.data.range = n.range || 30;
			var l = this.add(this.game.prodigy.create.sprite(0, 0, "icons", Util.convertItemToIcon(n)));
			l.inputEnabled = !0, l.events.onInputDown.add(this.clicked.bind(this), this), l.x -= Math.floor(l.width / 2), l.y = -l.height
		}
		return e.prototype = Object.create(Prodigy.Control.Element.prototype), e.prototype.process = function (e) {
			this.allowCollect = !1, this.visible = !1, this.highlight(!1);
			var t = e.getQuestState();
			Util.isDefined(t) && Util.isDefined(t.req) && (this.questState = t.state, 1 === t.state[this.ID] || "item" !== t.req.type && "key" !== t.req.type || t.req.ID != this.data.ID || this.collected || (this.visible = !0, t.req.N > this.game.prodigy.player.backpack.hasItem(t.req.type, t.req.ID) && (this.allowCollect = !0, this.highlight(!0, -80, -90))))
		}, e.prototype.clicked = function () {
			{
				var e = function (e) {
					Util.isDefined(e) && this.user.setPath(e, this.collect.bind(this))
				};
				this.path.findPath(this.user.x, this.user.y, this.x, this.y, e.bind(this))
			}
		}, e.prototype.collect = function () {
			!this.allowCollect || Phaser.Math.distance(this.user.x, this.user.y, this.x, this.y) > this.data.range || (this.collected = !0, this.questState[this.ID] = 1, this.game.prodigy.player.state.updated = !0, this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "dig"), this.game.prodigy.player.backpack.add(this.data.type, this.data.ID), this.callback())
		}, e
	}(),
	MonsterEvent = function () {
		function e(e, t, i, a, s, r, o, n, h, l, d, p) {
			this.monsterData = e.prodigy.battle.chooseRandomMonster(n.encounter), Prodigy.Container.MonsterContainer.call(this, e, t, new Monster({
				ID: this.monsterData.ID
			}, e), 1, i, a, null, p), this.unique = h || !1, this.onEnc = l, this.encountered = !1, this.ID = o, this.user = s, this.path = r, Util.isDefined(n.range) || (n.range = 4e4), n.unique = h, this.mods = n, n.randDir && Math.random() < .5 && this.flip(), this.mods.encounter = [this.monsterData], d && (this.alpha = .5, this.respawnTimer = (new Date).getTime() + 1e4), this.reload(), this.visible = !1
		}
		return e.prototype = Object.create(Prodigy.Container.MonsterContainer.prototype), e.prototype.process = function (e) {
			this.zone = e;
			var t = !1;
			this.highlight(!1), this.visible = !0, Util.isDefined(this.mods.highlight) && this.mods.highlight === !0 && this.highlight(!0, -40, -90);
			var i = e.getQuestState();
			if (Util.isDefined(i) && Util.isDefined(i.req)) {
				this.questState = i, this.unique && 1 === i.state[this.ID] && (this.visible = !1);
				var a = Util.isDefined(i.req.U) && i.req.U;
				if ("pet" === i.req.type && i.req.N > 0 && this.source.getID() === i.req.ID && this.unique === a) t = !0;
				else if ("item" === i.req.type && this.game.prodigy.player.backpack.hasItem("item", i.req.ID) < i.req.N) {
					if (Util.isDefined(this.mods.drops))
						for (var s = 0; s < this.mods.drops.length; s++) {
							var r = this.mods.drops[s];
							"item" === r.type && r.ID === i.req.ID && (t = !0)
						}
					if (Util.isDefined(this.monsterData.drops))
						for (var s = 0; s < this.monsterData.drops.length; s++) {
							var r = this.monsterData.drops[s];
							"item" === r.type && r.ID === i.req.ID && (t = !0)
						}
				}
				t && this.highlight(!0, -40, -90)
			}
		}, e.prototype.update = function () {
			Prodigy.Container.MonsterContainer.prototype.update.call(this), this.respawnTimer < (new Date).getTime() && (delete this.respawnTimer, this.alpha = 1);
			var e = Phaser.Math.distanceSq(this.x, this.y, this.user.x, this.user.y);
			this.visible && !this.respawnTimer && !this.started && !this.user.evtProc && e < this.mods.range && !this.path.isPathBlocked(this.x, this.y, this.user.x, this.user.y) && this.alert()
		}, e.prototype.alert = function () {
			this.started = !0, this.encountered = !0, this.highlight(!1), this.game.prodigy.audio.pauseBGM(), this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.WORLD, "monster"), this.user.evtProc = !0, this.chat(1, 80), this.user.setPath([]), this.user.x = Math.floor(this.user.x), this.user.y = Math.floor(this.user.y), this.game.input.mouse.enabled = this.game.input.touch.enabled = !1, this.game.prodigy.network.emitMessage({
				action: "move",
				data: {
					userID: this.game.prodigy.player.userID,
					path: [{
						x: this.user.x,
						y: this.user.y
					}]
				}
			}), this.hop(300, this.engage.bind(this))
		}, e.prototype.engage = function () {
			this.setPath([{
				x: this.user.x,
				y: this.user.y
			}], this.startBattle.bind(this))
		}, e.prototype.startBattle = function () {
			var e = function (e, t, i, a, s, r, o, n) {
				r && (t.defeatMonster(a, s, o), Util.isDefined(n) && n()), r ? e.prodigy.world.teleport(i, this.x, this.y) : e.prodigy.world.teleport(i)
			};
			this.game.input.mouse.enabled = this.game.input.touch.enabled = !0, this.game.prodigy.battle.start(this.mods, e.bind(this, this.game, this.zone, this.mods.onEnd, this.source.getID(), this.ID, !1, this.unique, this.onEnc), e.bind(this, this.game, this.zone, this.mods.onEnd, this.source.getID(), this.ID, !0, this.unique, this.onEnc), null, this.mods.onFaint)
		}, e.prototype.setVisible = function (e) {
			this.visible = e
		}, e.prototype.getVisible = function () {
			return this.visible
		}, e.prototype.patrol = function (e) {
			this.encountered === !1 && this.setPath(e, this.patrol.bind(this, e))
		}, e
	}(),
	WizardEvent = function () {
		function e(e, t, i, a, s, r, o, n) {
			Prodigy.Container.CreatureContainer.call(this, e, t, {}, null, i, a), this.ID = o, this.user = s, this.path = r, Util.isDefined(n.range) || (n.range = 200), this.mods = n;
			var h = new Player(this.game),
				l = this.game.prodigy.player.getLevel();
			this.mods.opponent = this.mods.opponent || [{
				data: {
					level: this.game.random.range(Math.max(1, l - 2), Math.min(l + 2, 100))
				},
				appearance: h.appearance.data,
				equipment: h.equipment.data
			}];
			for (var d = [], p = Math.min(4, this.game.prodigy.player.kennel.getTeam().length - 2 + 3 * Math.random()), c = 0; p > c; c++) {
				var g = {
					level: this.game.random.range(Math.max(1, l - 2), Math.min(l + 2, 100))
				};
				g.ID = Monsters.getRandomItem(), d.push(g)
			}
			this.mods.pets = this.mods.pets || d, this.mods.catch = !1, this.mods.run = !1, this.sprite = this.sprites.add(this.game.prodigy.create.sprite(0, 0, "npc-sprite-wizard")), this.sprite.animations.add("walk", ["npc_0", "npc_1", "npc_2", "npc_3", "npc_4", "npc_5", "npc_6", "npc_7"], 10, !0, !1), this.sprite.animations.add("stand", ["npc_8", "npc_9", "npc_10", "npc_11", "npc_12", "npc_13", "npc_14", "npc_15"], 10, !0, !1), this.sprite.animations.play("stand"), this.sprite.anchor.setTo(.5, 1), this.visible = !1
		}
		return e.prototype = Object.create(Prodigy.Container.CreatureContainer.prototype), e.prototype.process = function (e) {
			this.zone = e;
			var t = e.getState(this.ID);
			this.visible = !(Util.isDefined(t) && 0 !== t)
		}, e.prototype.update = function () {
			Prodigy.Container.CreatureContainer.prototype.update.call(this), this.visible && !this.started && !this.user.evtProc && Phaser.Math.distance(this.x, this.y, this.user.x, this.user.y) < this.mods.range && !this.path.isPathBlocked(this.x, this.y, this.user.x, this.user.y) && this.alert()
		}, e.prototype.alert = function () {
			this.started = !0, this.highlight(!1), this.game.prodigy.audio.pauseBGM(), this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.WORLD, "monster"), this.user.evtProc = !0, this.chat(1, 80), this.user.setPath([]), this.user.x = Math.floor(this.user.x), this.user.y = Math.floor(this.user.y), this.game.input.mouse.enabled = this.game.input.touch.enabled = !1, this.hop(300, this.engage.bind(this))
		}, e.prototype.engage = function () {
			this.setPath([{
				x: this.user.x,
				y: this.user.y
			}], this.startBattle.bind(this))
		}, e.prototype.startBattle = function () {
			var e = function (e, t, i, a) {
				e.prodigy.world.teleport(i, this.x, this.y), t && a.setState(this.ID, 1)
			};
			this.game.input.mouse.enabled = this.game.input.touch.enabled = !0, this.mods.scale = !0, this.game.prodigy.battle.start(this.mods, e.bind(this, this.game, !1, this.mods.onEnd, this.zone), e.bind(this, this.game, !0, this.mods.onEnd, this.zone), null, this.mods.onFaint)
		}, e
	}(),
	GnomeEvent = function () {
		function e(e, t, i, a, s, r, o, n, h, l) {
			Prodigy.Container.CreatureContainer.call(this, e, t, {
				name: o,
				npc: !0
			}, null, s, r), this.sprite = this.sprites.add(this.game.prodigy.create.sprite(0, 0, "npc-sprite-gnome", "npc_0")), this.sprite.x -= Math.floor(this.sprite.width / 2), this.sprite.y = -this.sprite.height, this.animWalk = this.sprite.animations.add("walk", ["npc_0", "npc_1", "npc_2", "npc_3", "npc_4", "npc_5", "npc_6", "npc_7"], 10, !0, !1), this.animStand = this.sprite.animations.add("stand", ["npc_8", "npc_9", "npc_10", "npc_11", "npc_12", "npc_13", "npc_14", "npc_15"], 10, !0, !1), this.head = this.game.prodigy.create.element(this.sprites, this.sprite.x, 0);
			var d = 13 - (2 === h || 3 === h || 4 === h ? 5 : 5 === h ? 20 : 6 === h ? 22 : 0),
				h = this.head.add(this.game.prodigy.create.sprite(d, 0, "npc-sprite-gnome", "hat_" + (h || 1)));
			h.y = -h.height + 10;
			var n = this.head.add(this.game.prodigy.create.sprite(0, 0, "npc-sprite-gnome", "head_" + (n || 1)));
			this.offs = {
				npc_0: 0,
				npc_1: 0,
				npc_2: 2,
				npc_3: 1,
				npc_4: 0,
				npc_5: 0,
				npc_6: 2,
				npc_7: 1,
				npc_8: 0,
				npc_9: 0,
				npc_10: 1,
				npc_11: 2,
				npc_12: 4,
				npc_13: 5,
				npc_14: 4,
				npc_15: 3
			}, Util.isDefined(l) && (n.inputEnabled = !0, n.events.onInputDown.add(this.clicked.bind(this, i, a, l)), h.inputEnabled = !0, h.events.onInputDown.add(this.clicked.bind(this, i, a, l)), this.sprite.inputEnabled = !0, this.sprite.events.onInputDown.add(this.clicked.bind(this, i, a, l))), this.stand(), this.showName(!0)
		}
		return e.prototype = Object.create(Prodigy.Container.CreatureContainer.prototype), e.prototype.clicked = function (e, t, i) {
			var a = function (e, t) {
				Util.isDefined(t) && e.setPath(t, this.encounter.bind(this, i))
			};
			t.findPath(e.x, e.y, this.x - 20, this.y + 20, a.bind(this, e))
		}, e.prototype.setIndicator = function (e) {
			Util.isDefined(this.indicator) || (this.indicator = this.game.prodigy.create.sprite(0, -70, "icons", e), this.indicator.anchor.setTo(.5, 1), this.indicatorE.add(this.indicator), this.game.add.tween(this.indicator).to({
				y: this.indicator.y - 50
			}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0)), this.indicator.frameName = e
		}, e.prototype.encounter = function (e) {
			Util.isDefined(e) && e()
		}, e.prototype.update = function () {
			if (Prodigy.Container.CreatureContainer.prototype.update.call(this), Util.isDefined(this.animWalk) && Util.isDefined(this.animStand)) {
				var e = "npc_0";
				1 === this.mode ? e = this.animStand.currentFrame.name : 0 === this.mode && (e = this.animWalk.currentFrame.name), Util.isDefined(this.head) && (this.head.y = this.sprite.y - 15 + this.offs[e])
			}
		}, e
	}(),
	NPCEvent = function () {
		function e(e, t, i, a, s, r, o) {
			Prodigy.Container.CreatureContainer.call(this, e, t, {
				name: o,
				npc: !0
			}, null, i, a), this.sprite = this.sprites.add(this.game.prodigy.create.sprite(0, 0, s, 0)), this.sprite.anchor.setTo(.5, 1), s.indexOf("monster") > -1 ? (this.sprite.animations.add("walk", [0, 1, 2, 3, 4, 5, 6, 7], 10, !0, !1), this.sprite.animations.add("stand", [8, 9, 10, 11, 12, 13, 14, 15], 10, !0, !1)) : this.sprite.animations.add("stand", ["npc_0", "npc_1", "npc_2", "npc_3", "npc_4", "npc_5", "npc_6", "npc_7"], 10, !0, !1), Util.isDefined(r) && (this.sprite.inputEnabled = !0, this.sprite.events.onInputDown.add(r)), Util.isDefined(o) && this.showName(!0), ("npc-sprite-slurpy" === s || "npc-sprite-slime_guard" === s) && (this.name.y += 40)
		}
		return e.prototype = Object.create(Prodigy.Container.CreatureContainer.prototype), e.prototype.animate = function (e) {
			this.sprite.animations.play(e || "stand")
		}, e.prototype.stand = function () {
			this.animate("stand"), this.mode = 1
		}, e.prototype.walk = function () {
			this.animate("walk"), this.mode = 0
		}, e
	}();
Prodigy.Event.HealStone = function (e, t, i, a, s, r) {
	Prodigy.Control.Element.call(this, e, t, s, r), this.user = i, this.path = a, this.sprite = this.add(this.game.prodigy.create.sprite(0, 0, "tileset-core")), this.sprite.animations.add("stand", ["heal_0", "heal_1", "heal_2", "heal_3", "heal_4", "heal_5", "heal_6", "heal_7"], 10, !0, !1);
	var o = this.sprite.animations.add("heal", ["heal_8", "heal_9", "heal_10", "heal_11", "heal_12", "heal_13", "heal_14", "heal_15"], 10);
	this.sprite.animations.play("stand"), this.sprite.inputEnabled = !0, this.sprite.events.onInputDown.add(this.interact.bind(this)), this.sprite.anchor.setTo(.5, 1), o.onComplete.add(this.sprite.animations.play.bind(this.sprite.animations, "stand"))
}, Prodigy.extends(Prodigy.Event.HealStone, Prodigy.Control.Element, {
	interact: function () {
		var e = this.game.prodigy.event.create();
		e.validPath(this.user, this.path, this.x, this.y), e.yesNoText(38, "noot"), e.function(this.heal.bind(this)), e.start()
	},
	heal: function (e) {
		if (true) {
			var t = this.game.prodigy.event.create();
			t.text(40, "noot"),
				t.function(this.sprite.animations.play.bind(this.sprite.animations, "heal")),
				t.function(this.game.prodigy.player.heal.bind(this.game.prodigy.player)),
				t.sound(Prodigy.Controller.AudioController.SFX_PACKS.UI, "heart"),
				t.delay(200),
				t.sound(Prodigy.Controller.AudioController.SFX_PACKS.UI, "heart"),
				t.delay(200),
				t.sound(Prodigy.Controller.AudioController.SFX_PACKS.UI, "heart"),
				t.start()
		} else {
			var t = this.game.prodigy.event.create();
			t.text(39, "noot"),
				t.start()
		}
	}
}), Prodigy.QuestEvent = function (e, t, i, a, s, r, o, n, h, l) {
	this.npcTag = o, Prodigy.Control.Element.call(this, e, t, s, r), this.screen = i, this.onComplete = l, this.updateCallback = h
}, Prodigy.extends(Prodigy.QuestEvent, Prodigy.Control.Element, {
	constructor: Prodigy.QuestEvent,
	setup: function (e, t, i) {
		this.npc = this.add(this.game.prodigy.create.sprite(0, 0, "npc-sprite-" + t, 0)), this.npc.animations.add("stand", ["npc_0", "npc_1", "npc_2", "npc_3", "npc_4", "npc_5", "npc_6", "npc_7"], 10, !0, !1), this.npc.animations.play("stand"), this.npc.inputEnabled = !0, this.npc.anchor.setTo(.5, 1), this.npc.events.onInputDown.add(this.process.bind(this, e, null, !0), this), i && (this.npc.scale.x = -1), this.game.prodigy.create.font(this, -200, 0 - this.npc.height - 20, t.charAt(0).toUpperCase() + t.slice(1), {
			width: 400,
			align: "center",
			size: 16
		})
	},
	process: function (e, t, i) {
		if (!Util.isDefined(e.getQuestState())) {
			e.startQuest(1);
			var a = this.queueEventText(e, "onStart", 1);
			return a.function(this.updateCallback), a.start(), void 0
		}
		var s = e.getQuestState().ID,
			r = e.getQuest(s);
		if (e.isQuestComplete(s) && !r.chain) {
			var a = this.queueEventText(e, "onComplete", s);
			a.enableSave(!1), Util.isDefined(r.reward) && a.reward(r.reward), a.function(e.completeQuest.bind(e, s)), a.enableSave(!0), a.function(this.updateCallback), a.start()
		} else if (!e.isQuestStarted(s) && Util.isDefined(r)) {
			var a = this.queueEventText(e, "onStart", s);
			a.function(e.startQuest.bind(e, s)), a.function(this.updateCallback), a.start()
		} else i && Util.isDefined(r) ? this.queueEventText(e, "onStart", s).start() : i && this.onComplete()
	},
	queueEventText: function (e, t, i) {
		var a = e.getQuest(i),
			s = this.game.prodigy.event.create();
		if (Util.isDefined(a[t]))
			for (var r = 0; r < a[t].length; r++) s.text(a[t][r], this.npcTag);
		return s
	}
});
var QuestProgress = function () {
	function e(e, t, i) {
		Prodigy.Control.Element.call(this, e, t, 440, 5), this.user = i, this.banner = this.game.prodigy.create.panel(this, 0, 0, 10, 2, "banner"), this.banner.visible = !1, this.icon = this.add(this.game.prodigy.create.sprite(50, 5, "icons", "quest")), this.state = this.add(this.game.prodigy.create.sprite(50, 5, "icons", "quest")), this.icon.visible = !1, this.state.visible = !1, this.arrow = this.add(this.game.prodigy.create.sprite(175, 0, "icons", "up")), this.arrow.visible = !1, this.updateFrame = 0
	}
	return e.prototype = Object.create(Prodigy.Control.Element.prototype), e.prototype.process = function (e, t) {
		this.visible = !1;
		var i = null;
		if (Util.isDefined(this.text) && (i = this.text.text, this.text.destroy()), this.state.frameName = this.icon.frameName = "quest", this.state.visible = this.icon.visible = !0, Util.isDefined(e.getState("dailyQuest"))) {
			if (e.util.hasDailyQuestExpired() || e.util.isDailyQuestComplete() && e.getState("handedOverQuest")) return;
			var a = e.util.getDailyQuestDescription(e.util.generateQuestId());
			e.util.isDailyQuestComplete() ? (this.icon.frameName = this.state.frameName = "quest-complete", this.text = this.game.prodigy.create.font(this, 98, 24, "Job Complete!", {
				align: "center",
				width: 204,
				size: 20
			})) : "pet" === a.type && (this.icon.frameName = Util.convertItemToIcon(a), this.state.visible = !1, this.text = this.game.prodigy.create.font(this, 50, 24, "Defeat " + a.N + " more", {
				size: 20
			})), this.banner.visible = !0, this.icon.x = 350 - this.icon.width, this.visible = !0
		}
		var s = e.getQuestState();
		if (Util.isDefined(s) && Util.isDefined(s.req)) {
			var r = e.getQuest(s.ID);
			if (Util.isDefined(r)) {
				if (e.isQuestComplete(s.ID)) {
					if (this.icon.frameName = this.state.frameName = "quest-complete", this.text = this.game.prodigy.create.font(this, 98, 24, "Job Complete!", {
							align: "center",
							width: 204,
							size: 20
						}), !r.chain && !e.isQuestProc(s.ID) && !t.isQuestHub) {
						e.procQuest(s.ID);
						var o = this.game.prodigy.event.create();
						if (o.set(this.user, "evtProc", !0), Util.isDefined(r.onProc) && r.onProc.length > 0)
							for (var n = 0; n < r.onProc.length; n++) o.text(r.onProc[n], "noot");
						else o.text(41, "noot");
						o.set(this.user, "evtProc", !1), o.start()
					}
				} else if (Util.isDefined(r.area) && !Util.inArray(r.area, this.game.prodigy.player.data.zone)) this.text = this.game.prodigy.create.font(this, 98, 24, "Follow Path", {
					align: "center",
					width: 204,
					size: 20
				});
				else {
					var a = s.req;
					r.desc ? this.text = this.game.prodigy.create.font(this, 98, 24, r.desc, {
						align: "center",
						width: 204,
						size: 20
					}) : Util.inArray(["item", "weapon", "hat", "outfit", "boots", "key"], a.type) ? (this.icon.frameName = Util.convertItemToIcon(a), this.state.visible = !1, this.text = this.game.prodigy.create.font(this, 50, 24, "Collect " + Math.max(0, a.N - this.game.prodigy.player.backpack.hasItem(a.type, a.ID)) + " more", {
						size: 20
					})) : "pet" === a.type ? (this.icon.frameName = Util.convertItemToIcon(a), this.state.visible = !1, this.text = this.game.prodigy.create.font(this, 50, 24, "Defeat " + a.N + " more", {
						size: 20
					})) : "clear" === a.type && (this.state.visible = !1, this.text = this.game.prodigy.create.font(this, 50, 24, "Clear the " + a.T, {
						size: 20
					}))
				}
				if (this.banner.visible = !0, this.icon.x = 350 - this.icon.width, Util.isDefined(this.text) && i !== this.text.text && Util.isDefined(i)) {
					this.arrow.visible = !0, this.arrow.y = 50, this.arrow.alpha = 1;
					var h = this.game.add.tween(this.arrow).to({
						y: 30,
						alpha: 0
					}, 1e3, Phaser.Easing.Linear.None).start();
					h.onComplete.add(function () {
						this.arrow.visible = !1
					}, this)
				}
				this.visible = !0
			}
		}
	}, e.prototype.warpTo = function () {
		var e = this.game.prodigy.player.zone;
		this.game.prodigy.world.teleport.bind(this.game.prodigy.world, e.questHub)
	}, e.prototype.toggleVisible = function () {}, e
}();
Prodigy.ClickableEvent = function (e, t, i, a, s, r, o, n, h) {
	Prodigy.Control.Element.call(this, e, t, i, a);
	var l = this.add(new Phaser.Image(e, 0, 0, "core", "overlay-light"));
	l.width = s, l.height = r, l.inputEnabled = !0, l.alpha = h || 0, this.onProcess = n, this.onClick = o, l.events.onInputDown.add(this.clicked.bind(this))
}, Prodigy.extends(Prodigy.ClickableEvent, Prodigy.Control.Element, {
	constructor: Prodigy.ClickableEvent,
	process: function (e, t) {
		Util.isDefined(this.onProcess) && this.onProcess(e, t)
	},
	clicked: function () {
		this.onClick(this)
	}
});
var BountyEvent = function () {
	function e(e, t, i, a, s, r, o, n, h, l, d) {
		this.monsterData = e.prodigy.battle.chooseRandomMonster(n.encounter), MonsterEvent.call(this, e, t, i, a, s, r, o, n, h, l, d)
	}
	return e.prototype = Object.create(MonsterEvent.prototype), e.prototype.startBattle = function () {
		var e = function (e, t, i, a, s, r, o, n) {
			if (r && (t.defeatMonster(a, s, o), Util.isDefined(n) && n(), e.prodigy.bounty.completeBounty(this.mods.bounty)), r)
				if (0 === e.prodigy.player.getBountyScore()) {
					var h = e.prodigy.event.create();
					h.text(94, "noot"), h.function(e.prodigy.world.teleport.bind(e.prodigy.world, i, this.x, this.y)), h.start()
				} else e.prodigy.world.teleport(i, this.x, this.y);
			else e.prodigy.world.teleport(i)
		};
		this.game.input.mouse.enabled = this.game.input.touch.enabled = !0, this.game.prodigy.battle.start(this.mods, e.bind(this, this.game, this.zone, this.mods.onEnd, this.source.getID(), this.ID, !1, this.unique, this.onEnc), e.bind(this, this.game, this.zone, this.mods.onEnd, this.source.getID(), this.ID, !0, this.unique, this.onEnc), null, this.mods.onFaint)
	}, e
}();
Prodigy.FireflyEvent = function (e, t, i, a, s, r, o, n, h) {
	Prodigy.ClickableEvent.call(this, e, t, i, a, s, r, o, n, h), this.game = e, this.sprite = this.add(e.prodigy.create.sprite(50, 90, "zone-forest", "firefly_1", 1)), this.float(!0), this.animate(), this.moving = 0, this.dir = 1, this.delay()
}, Prodigy.extends(Prodigy.FireflyEvent, Prodigy.ClickableEvent, {
	constructor: Prodigy.FireflyEvent,
	move: function () {
		if (Util.isDefined(this.game)) {
			this.moving = 1;
			var e = 1080 * Math.random() + 100,
				t = 520 * Math.random() + 100;
			e < this.x && 1 === this.dir ? (this.sprite.scale.x *= -1, this.dir = -1) : e > this.x && -1 === this.dir && (this.sprite.scale.x *= -1, this.dir = 1);
			var i = this.game.add.tween(this).to({
				x: e,
				y: t
			}, 2500, Phaser.Easing.Quadratic.InOut);
			i.start(), i.onComplete.add(this.delay, this)
		}
	},
	"float": function (e) {
		Util.isDefined(this.floatTween) ? this.floatTween.stop() : (this.sprite.oldY = this.sprite.y, this.sprite.y = this.sprite.y - 10, this.floatTween = this.game.add.tween(this.sprite).to({
			y: "-20"
		}, 1400, Phaser.Easing.Quadratic.InOut).to({
			y: "20"
		}, 1400, Phaser.Easing.Quadratic.InOut).loop()), e ? this.floatTween.start() : (this.floatTween.stop(), this.sprite.y = this.sprite.oldY)
	},
	delay: function () {
		if (Util.isDefined(this.game)) {
			this.moving = 0;
			var e = this.game.prodigy.event.create();
			e.delay(3e3 * Math.random() + 2e3), e.function(this.move.bind(this)), e.start()
		}
	},
	animate: function () {
		this.sprite.animations.add("fly", ["firefly_1", "firefly_2", "firefly_3"], 10, !0, !1), this.sprite.animations.play("fly")
	}
}), Prodigy.FloraEvent = function (e, t, i, a, s, r, o, n, h, l) {
	Prodigy.QuestEvent.call(this, e, t, i, a, s, r, o, n, h, l)
}, Prodigy.extends(Prodigy.FloraEvent, Prodigy.QuestEvent, {
	constructor: Prodigy.FloraEvent,
	setup: function (e, t, i) {
		this.npc = this.add(this.game.prodigy.create.element(this, 0, 0)), this.game.prodigy.create.font(this, -40, -110, "Flora", {
			width: 100,
			align: "center",
			size: 16
		}), this.y += 90, this.x -= 50, this._particles = [];
		for (var a = 0; 4 > a; a++) this._particles.push(this.npc.add(this.game.prodigy.create.sprite(-35, -84, "npc-sprite-flora", "particle-1")));
		this._head = this.npc.add(this.game.prodigy.create.sprite(-35, -84, "npc-sprite-flora", "head-1")), this._backWing = this.npc.add(this.game.prodigy.create.sprite(-6, -39, "npc-sprite-flora", "back-wing-1")), this._frontWing = this.npc.add(this.game.prodigy.create.sprite(-12, -22, "npc-sprite-flora", "front-wing-1")), this._body = this.npc.add(this.game.prodigy.create.sprite(-19, -35, "npc-sprite-flora", "body")), this._body.inputEnabled = !0, this._body.events.onInputDown.add(this.process.bind(this, e, null, !0), this), this._head.inputEnabled = !0, this._head.events.onInputDown.add(this.process.bind(this, e, null, !0), this), this._backWing.inputEnabled = !0, this._backWing.events.onInputDown.add(this.process.bind(this, e, null, !0), this), this._frontWing.inputEnabled = !0, this._frontWing.events.onInputDown.add(this.process.bind(this, e, null, !0), this), this._particlesTween = [];
		for (var s = 0; s < this._particles.length; s++) this._particlesTween.push(new Prodigy.TweenController(this.game, this._particles[s])), this._particlesTween[s].set("frameName", ["particle-1", "particle-2"], 200, 9999), this._particlesTween[s].end(this.randomizePos.bind(this, this._particles[s])), this._particlesTween[s].start();
		i && (this.npc.scale.x = -1);
		var r = {
				x: -35,
				y: -84
			},
			o = {
				x: -36,
				y: -84
			},
			n = {
				x: -19,
				y: -35
			},
			h = {
				x: -6,
				y: -39
			},
			l = {
				x: -6,
				y: -39
			},
			d = {
				x: -6,
				y: -35
			},
			p = {
				x: -7,
				y: -25
			},
			c = {
				x: -28,
				y: -27
			},
			g = {
				x: -26,
				y: -28
			},
			u = {
				x: -12,
				y: -22
			},
			y = {
				x: -9,
				y: -29
			},
			m = {
				x: -6,
				y: -31
			};
		this._tween = [], this._tween.push(new Prodigy.TweenController(this.game, this._head)), this._tween[0].set("frameName", ["head-1", "head-1", "head-1", "head-1", "head-1", "head-2", "head-2", "head-1"], 150, 9999), this._tween.push(new Prodigy.TweenController(this.game, this._head)), this._tween[1].set("x", [r.x], 150, 9999), this._tween.push(new Prodigy.TweenController(this.game, this._head)), this._tween[2].set("y", [r.y, r.y + 1, r.y + 2, r.y + 2, r.y - 1, o.y - 2, o.y - 2, r.y - 1], 100, 9999), this._tween.push(new Prodigy.TweenController(this.game, this._body)), this._tween[3].set("x", [n.x], 150, 9999), this._tween.push(new Prodigy.TweenController(this.game, this._body)), this._tween[4].set("y", [n.y, n.y + 1, n.y + 2, n.y + 2, n.y, n.y - 1, n.y - 1, n.y], 100, 9999), this._tween.push(new Prodigy.TweenController(this.game, this._backWing)), this._tween[5].set("frameName", ["back-wing-1", "back-wing-2", "back-wing-2", "back-wing-1", "back-wing-3", "back-wing-4", "back-wing-5", "back-wing-6"], 100, 9999), this._tween.push(new Prodigy.TweenController(this.game, this._backWing)), this._tween[6].set("x", [h.x, l.x, l.x, h.x, d.x, p.x, c.x, g.x], 100, 9999), this._tween.push(new Prodigy.TweenController(this.game, this._backWing)), this._tween[7].set("y", [h.y, l.y, l.y + 1, h.y + 2, d.y, p.y, c.y, g.y], 100, 9999), this._tween.push(new Prodigy.TweenController(this.game, this._frontWing)), this._tween[8].set("frameName", ["fake-pixel", "fake-pixel", "fake-pixel", "fake-pixel", "fake-pixel", "fake-pixel", "front-wing-1", "front-wing-2"], 100, 9999), this._tween.push(new Prodigy.TweenController(this.game, this._frontWing)), this._tween[9].set("x", [u.x, u.x, u.x, u.x, u.x, u.x, y.x, m.x], 100, 9999), this._tween.push(new Prodigy.TweenController(this.game, this._frontWing)), this._tween[10].set("y", [u.y, u.y + 1, u.y + 2, u.y + 2, u.y, u.y - 1, y.y, m.y], 100, 9999);
		for (var a = 0; a < this._tween.length; a++) this._tween[a].start()
	},
	update: function () {
		for (var e = 0; e < this._tween.length; e++) this._tween[e].update();
		for (var t = 0; t < this._particlesTween.length; t++) this._particlesTween[t].update(), this._particles[t].y += .7
	},
	randomizePos: function (e) {
		e.x = -15 + Math.floor(35 * Math.random()), e.y = -35 + Math.floor(30 * Math.random())
	}
}), Prodigy.BenniEvent = function (e, t, i, a, s, r, o, n, h, l) {
	Prodigy.QuestEvent.call(this, e, t, i, a, s, r, o, n, h, l)
}, Prodigy.extends(Prodigy.BenniEvent, Prodigy.QuestEvent, {
	constructor: Prodigy.BenniEvent,
	setup: function (e) {
		var t = [];
		this.body = this.add(this.game.prodigy.create.sprite(0, -25, "npc-sprite-benni", "body_0")), this.body.animations.add("stand", ["body_0", "body_1", "body_2"], 5, !0, !1), this.body.animations.play("stand"), t.push(this.body), this.head = this.add(this.game.prodigy.create.sprite(-23, -97, "npc-sprite-benni", "head")), t.push(this.head), this.eyes = this.add(this.game.prodigy.create.sprite(-23, -97, "npc-sprite-benni", "eyes_0")), t.push(this.eyes), this.pupils = this.add(this.game.prodigy.create.sprite(-23, -97, "npc-sprite-benni", "pupils")), t.push(this.pupils), this.pigtails = this.add(this.game.prodigy.create.sprite(-23, -97, "npc-sprite-benni", "pigtails_0")), this.pigtails.animations.add("stand", ["pigtails_0", "pigtails_1", "pigtails_2"], 5, !0, !1), this.pigtails.animations.play("stand"), t.push(this.pigtails), this.game.add.tween(this.head).to({
			y: "+2"
		}, 400, Phaser.Easing.Linear.None).to({
			y: this.head.y
		}, 300, Phaser.Easing.Linear.None).loop().start(), this.game.add.tween(this.pigtails).to({
			y: "+2"
		}, 400, Phaser.Easing.Linear.None).to({
			y: this.head.y
		}, 300, Phaser.Easing.Linear.None).loop().start(), this.game.add.tween(this.eyes).to({
			y: "+2"
		}, 400, Phaser.Easing.Linear.None).to({
			y: this.head.y
		}, 300, Phaser.Easing.Linear.None).loop().start(), this.game.add.tween(this.pupils).to({
			y: "+2"
		}, 400, Phaser.Easing.Linear.None).to({
			y: this.head.y
		}, 300, Phaser.Easing.Linear.None).loop().start();
		for (var i = 0; i < t.length; i++) t[i].inputEnabled = !0, t[i].events.onInputDown.add(this.process.bind(this, e, null, !0), this);
		var a = this.game.prodigy.create.font(this, -180, -140, "Benni", {
			width: 400,
			align: "center",
			size: 16
		});
		a.x -= 3, a.y += 23
	}
});
var Boot = function () {
	function e() {
		Phaser.State.call(this)
	}
	return e.prototype = Object.create(Phaser.State.prototype), e.prototype.preload = function () {
		this.game.prodigy.load.assets(["font-general", "font-button", "font-black", "font-battle", "core", "heads"], this.loaded.bind(this))
	}, e.prototype.loaded = function (e, t) {
		this.isLoaded = t
	}, e.prototype.create = function () {
		Phaser.State.prototype.create.call(this), this.game.prodigy.init(this.game), this.game.time.advancedTiming = !0, this.game.scale.scaleMode = Phaser.ScaleManager.EXACT_FIT, this.game.scale.refresh(), this.input.maxPointers = 1, this.game.stage.disableVisibilityChange = !0, this.game.device.desktop ? this.game.scale.pageAlignHorizontally = !0 : this.game.scale.forceLandscape = !0, this.extendInput(), this.game.prodigy.load.setLoader(this.game.load), cursors = this.input.keyboard.createCursorKeys()
	}, e.prototype.extendInput = function () {
		this.game.input.keyboard.addKeyCapture([Phaser.Keyboard.BACKSPACE]), this.game.input.setEnterCallback = function (e) {
			this.game.input.enterCallback = e
		}, this.game.input.clearEnterCallback = function () {
			delete this.game.input.enterCallback
		}, $(document).keyup({
			game: this.game
		}, function (e) {
			13 === e.keyCode && Util.isDefined(e.data.game.input.enterCallback) && e.data.game.input.enterCallback()
		})
	}, e.prototype.update = function () {
		Phaser.State.prototype.update.call(this), this.isLoaded && (this.isLoaded = !1, this.game.prodigy.start("Login", {
			assets: ["icons", "core-2"],
			title: "Login",
			time: 3e3
		}))
	}, e
}();
Boot.init = function () {
	var e = new Phaser.Game(1280, 720, Phaser.CANVAS, "game-container");
	e.prodigy = new Prodigy.GameObj(e), e.state.add("Boot", Boot), e.state.add("Loading", Prodigy.Loading), e.state.add("PVPLoading", Prodigy.PVPLoading), e.state.add("TileScreen", TileScreen), e.state.add("Login", Login), e.state.add("Battle", Prodigy.Battle.Battle), e.state.add("PVP", PVP), e.state.add("Faint", Faint), e.state.add("CharSelect", Prodigy.CharSelect), e.state.add("CharCreate", Prodigy.CharCreate), e.state.add("Arena", Arena), e.state.add("Pirate", Pirate), e.state.add("Tower", Tower), e.state.add("TowerBase", TowerBase), e.state.add("Museum", Museum), e.state.add("DinoDig", DinoDig), e.state.add("DanceDance", DanceDance), e.state.add("Util_Gear", Prodigy.Util_Gear), e.state.start("Boot")
}, Prodigy.Loading = function (e) {
	Phaser.State.call(this), this.game = e
}, Prodigy.extends(Prodigy.Loading, Phaser.State, {
	constructor: Prodigy.Loading,
	startLoading: function (e) {
		Util.isDefined(e) || (e = {}), e.title = e.title || "Loading", e.time = e.time || 3e3, e.fadeIn = e.fadeIn || !1, e.fadeOut = e.fadeOut || !1, e.callback = e.callback || null, e.assets = e.assets || [], e.target = e.target || "Login", e.save = Util.isDefined(e.save) ? e.save : !0, e.loadingWorker = Util.isDefined(e.loadingWorker) ? e.loadingWorker : null, this._data = e, this.game.state.start("Loading")
	},
	create: function () {
		if (this.startTime = (new Date).getTime(), this.complete = !1, this.isLoaded = !1, this.isSaved = !1, this.isProcessed = !1, this._element = this.game.prodigy.create.element(), this._element.add(new Phaser.TileSprite(this.game, 0, 0, 1280, 720, "core", "load")), this._data.time > 1e3) {
			this.game.prodigy.create.panel(this._element, 160, 340, 24, 5, "shine"), this._element.add(new Phaser.TileSprite(this.game, 171, 380, 938, 40, "core", "blue-top")), this._element.add(new Phaser.TileSprite(this.game, 171, 420, 938, 40, "core", "blue-mid")), this._element.add(new Phaser.TileSprite(this.game, 171, 460, 938, 40, "core", "blue-top2")), this._element.add(this.game.prodigy.create.sprite(590, 310, "core", "award-frame"));
			var e = this.game.prodigy.create.font(this._element, 200, 400, this.game.prodigy.hints.getRandomHint("none").text, {
				font: "button",
				width: 880,
				align: "center",
				size: 36
			});
			e.y = 400 + Math.floor((80 - e.height) / 2), this.game.prodigy.create.panel(this._element, 440, 560, 10, 2, "shine");
			var t = this.game.prodigy.create.font(this._element, 440, 560, this._data.title, {
				font: "general",
				width: 400,
				align: "center",
				size: 20
			});
			t.y = 560 + Math.floor((80 - t.height) / 2);
			var i = this.game.prodigy.create.player(this._element, this.game.prodigy.player, 1, 640, 360);
			i.reload(i.walk.bind(i))
		}
		Util.isDefined(this._data.loadingWorker) ? (this.game.broadcaster.addAppListener(Prodigy.Events.Loading.WORKER_LOAD_COMPLETE, this.start.bind(this), this, "loading"), this._data.loadingWorker.performWork()) : this.start()
	},
	start: function () {
		Util.isDefined(this._data.loadingWorker) && (this._data.loadingWorker = null), this.game.broadcaster.removeAppListener(Prodigy.Events.Loading.WORKER_LOAD_COMPLETE, this, "loading");
		var e = this._data.assets || [];
		this.game.prodigy.load.assets(e, this.loaded.bind(this)), this.game.prodigy.network.loggedIn && this._data.save ? (this.game.prodigy.player.saveEnabled = !0, this.game.prodigy.network.processPlayer = !0, this.game.prodigy.network.setSaveCallback(this.saved.bind(this))) : this.isSaved = !0
	},
	update: function () {
		Phaser.State.prototype.update.call(this), this.complete || this.checkLoaded(), !this.complete && this.isProcessed && (new Date).getTime() - this.startTime >= this._data.time && this.completed()
	},
	completed: function () {
		this.complete = !0, Util.isDefined(this._data.callback) && this._data.callback(), this.game.state.states[this._data.target].fadeInSet = this._data.fadeIn, this.game.state.start(this._data.target)
	},
	loaded: function (e, t) {
		Util.isDefined(this.game) && (this.isLoaded = t)
	},
	checkLoaded: function () {
		this.isLoaded && this.isSaved && !this.isConnecting && (this.game.prodigy.network.socketConnectFailed && Util.isDefined(this.game.prodigy.player.world) ? (this.isConnecting = !0, this.game.prodigy.network.joinMultiplayerServer(this.game.prodigy.player.world, "zone-login", this.reconnect.bind(this, !0), this.reconnect.bind(this, !1))) : this.isProcessed = !0)
	},
	saved: function () {
		this.isSaved = !0
	},
	reconnect: function () {
		this.isConnecting = !1, this.isProcessed = !0
	}
}), Prodigy.LoadingWorker = function (e) {
	this.game = e, this.workerFunction = null
}, Prodigy.LoadingWorker.prototype = {
	constructor: Prodigy.LoadingWorker,
	setWorkerFunction: function (e) {
		this.workerFunction = e
	},
	performWork: function () {
		Util.isDefined(this.workerFunction) ? this.workerFunction() : (Util.log("Prodigy.LoadingWorker.performWork - this.workerFunction does not exist.  Calling signalCompletion to continue with loading.", Util.ERROR), this.signalCompletion())
	},
	signalCompletion: function () {
		this.game.broadcaster.broadcast(Prodigy.Events.Loading.WORKER_LOAD_COMPLETE, "loading")
	}
}, Prodigy.PVPLoading = function (e) {
	Prodigy.Loading.call(this, e)
}, Prodigy.extends(Prodigy.PVPLoading, Prodigy.Loading, {
	constructor: Prodigy.PVPLoading,
	startLoading: function (e) {
		e.title = e.title || "Loading", e.time = e.time || 3e3, e.fadeIn = e.fadeIn || !1, e.fadeOut = e.fadeOut || !1, e.callback = e.callback || null, e.assets = e.assets || [], e.target = "PVP", e.save = Util.isDefined(e.save) ? e.save : !0, this._data = e, this.game.state.start("PVPLoading")
	},
	create: function () {
		this.zoneName = this._data.zoneName, this.playerA = this._data.playerA, this.playerB = this._data.playerB, this.game.prodigy.network.setZone(this), this.inCombat = !1, this._processConnections = !0, this._state = "request_data", this._timeout = (new Date).getTime() + 6e4, this._heartbeat = (new Date).getTime() + 3e3, this.startTime = (new Date).getTime(), this.complete = !1, this.isLoaded = !1, this.isReady = !1, this.playerLoaded = !1, this.isProcessed = !1, this.overlay = this.game.prodigy.create.element(this.background), this.game.prodigy.create.panel(this.overlay, 0, 0, 32, 5, "dark"), this.game.prodigy.create.panel(this.overlay, 0, 200, 32, 8, "light"), this.game.prodigy.create.panel(this.overlay, 0, 520, 32, 5, "dark");
		var e = this.overlay.add(new Phaser.TileSprite(this.game, 0, 199, 1280, 40, "core", "pvp-top")),
			t = this.overlay.add(new Phaser.TileSprite(this.game, 0, 481, 1280, 40, "core", "pvp-top2"));
		this.game.add.tween(e.tilePosition).to({
			x: 400
		}, 1e4, Phaser.Easing.Linear.None, !0).repeat(9999), this.game.add.tween(t.tilePosition).to({
			x: -400
		}, 1e4, Phaser.Easing.Linear.None, !0).repeat(9999);
		var i = this.playerA,
			a = this.playerB,
			s = this.game.prodigy.create.player(this.overlay, i, 2, 400, 450);
		s.reload();
		var r = this.game.prodigy.create.player(this.overlay, a, 2, 880, 450);
		r.reload(), r.flip();
		var o = (this.game.prodigy.create.font(this.overlay, 0, 350, "VS.", {
			size: 80,
			align: "center",
			width: 1280
		}), this.game.prodigy.create.panel(this.overlay, 200, 60, 22, 2, "banner"));
		this.game.prodigy.create.font(o, 40, 20, "$" + i.getLevel(), {
			size: 36,
			font: "button"
		}), this.game.prodigy.create.font(o, 40, 20, i.getName(), {
			size: 36,
			font: "button",
			align: "center",
			width: 800
		}), this.game.prodigy.create.font(o, 40, 20, i.isMember ? " [membership]" : "", {
			size: 36,
			font: "button",
			align: "right",
			width: 800
		});
		var n = this.game.prodigy.create.panel(this.overlay, 200, 580, 22, 2, "banner");
		this.game.prodigy.create.font(n, 40, 20, "$" + a.getLevel(), {
			size: 36,
			font: "button"
		}), this.game.prodigy.create.font(n, 40, 20, a.getName(), {
			size: 36,
			font: "button",
			align: "center",
			width: 800
		}), this.game.prodigy.create.font(n, 40, 20, a.isMember ? " [membership]" : "", {
			size: 36,
			font: "button",
			align: "right",
			width: 800
		}), this.start()
	},
	start: function () {
		var e = this._data.assets || [];
		this.game.prodigy.load.assets(e, this.loaded.bind(this))
	},
	update: function () {
		Phaser.State.prototype.update.call(this), this.complete || this.checkLoaded(), !this.complete && this.isProcessed && (new Date).getTime() - this.startTime >= this._data.time && this.completed(), this._processConnections && Util.isDefined(this._timeout) && this._timeout < (new Date).getTime() && (this._processConnections = !1, delete this._heartbeat, delete this._timeout, this._data.callback()), this._processConnections && Util.isDefined(this._heartbeat) && (this._heartbeat < (new Date).getTime() || this._sendNow) && (this.emitMessage({
			action: this._state,
			data: {}
		}), this._heartbeat = (new Date).getTime() + 3e3, this._sendNow = !1)
	},
	completed: function () {
		this.complete = !0, this.game.state.states.PVP.playerA = this.playerA, this.game.state.states.PVP.playerB = this.playerB, this.game.state.states.PVP.teamA = this.teamA, this.game.state.states.PVP.teamB = this.teamB, this.game.state.states.PVP.mods = this._data.mods, this.game.state.states.PVP.zoneName = this.zoneName, this.game.state.states.PVP.challengerID = this._data.challengerID, this.game.state.states.PVP.callback = this._data.callback, this.game.state.start("PVP")
	},
	checkLoaded: function () {
		this.isLoaded && this.playerLoaded && this.isReady && (this.isProcessed = !0)
	},
	onMessage: function (e) {
		Util.isDefined(this.game) && ("request_data" === e.action ? this.emitMessage({
			action: "data",
			data: {
				userID: this.game.prodigy.player.userID,
				equipment: this.game.prodigy.player.equipment.data,
				appearance: this.game.prodigy.player.appearance.data,
				data: this.game.prodigy.player.data,
				pets: this.game.prodigy.player.kennel.data
			}
		}) : "request_init" === e.action && this.isLoaded && this.playerLoaded ? this.emitMessage({
			action: "init",
			data: {}
		}) : "request_action" === e.action && Util.isDefined(this.currentManager.currentAction) ? this.emitMessage({
			action: "action",
			data: this.currentManager.currentAction
		}) : "request_next" === e.action && Util.isDefined(this.currentManager.nextAction) ? this.emitMessage({
			action: "next",
			data: this.currentManager.nextAction
		}) : "data" === e.action && "request_data" === this._state ? (this._state = "loading", this.playerB = new Player(this.game), this.playerB.init(e.data), this.teamA = this.game.prodigy.battle.getPVPTeam(this.playerA), this.teamB = this.game.prodigy.battle.getPVPTeam(this.playerB), this.game.prodigy.load.assets(this.game.prodigy.battle.getAssets("", this.teamA, this.teamB), this.loadedPlayer.bind(this))) : "init" === e.action && "request_init" === this._state ? (this._state = "working", this.isReady = !0) : "loading" === e.action || "working" === e.action, this._timeout = (new Date).getTime() + 6e4)
	},
	emitMessage: function (e) {
		e.target = this.playerB.userID, this.game.prodigy.network.emitMessage(e)
	},
	loadedPlayer: function (e, t) {
		Util.isDefined(this.game) && (this.playerLoaded = t, t && (this._state = "request_init"))
	}
});
var Screen = function () {
		function e(e, t, i, a, s) {
			Phaser.State.call(this), this.showMenu = !1, this.game = e, this.screenName = a || "", this.zoneName = i || "zero", this.fullName = t || "", this.assets = s || [], this._screenData = null
		}
		return e.prototype = Object.create(Phaser.State.prototype), e.prototype.initListeners = function () {
			this.game.broadcaster.addAppListener(Prodigy.Events.Screen.ADD_CHILD, this.onAddChild.bind(this), this, this.game), this.game.broadcaster.addAppListener(Prodigy.Events.Screen.GET_LAYER, this.onGetLayer.bind(this), this, this.game)
		}, e.prototype.stopListeners = function () {
			this.game.broadcaster.removeAppListener(Prodigy.Events.Screen.ADD_CHILD, this, this.game), this.game.broadcaster.removeAppListener(Prodigy.Events.Screen.GET_LAYER, this, this.game)
		}, e.prototype.onAddChild = function (e, t, i) {
			Util.isDefined(this.stage) && Util.isDefined(this[t]) && (Util.isDefined(i) ? this[t].addChildAt(e, i) : this[t].addChild(e))
		}, e.prototype.onGetLayer = function (e) {
			return Util.log(" onGetLayer "), Util.isDefined(this.stage) && Util.isDefined(this[e]) ? this[e] : null
		}, e.prototype.shutdown = function () {
			this.game.prodigy.cleanup(), this.stopListeners(), this.background.destroy(), this.content.destroy(), this.foreground.destroy(), this.menus.destroy(), this.dialogue.destroy(), this.overlay.destroy(), this.opaque.destroy(), this.background = null, this.content = null, this.foreground = null, this.menus = null, this.dialogue = null, this.overlay = null, this.opaque = null, Phaser.State.prototype.shutdown.call(this)
		}, e.prototype.preload = function () {
			this.background = this.game.add.group(), this.content = this.game.add.group(), this.foreground = this.game.add.group(), this.menus = this.game.add.group(), this.dialogue = this.game.add.group(), this.overlay = this.game.add.group(), this.opaque = this.game.add.group();
			var e = this.opaque.add(new Phaser.TileSprite(this.game, 0, 0, 1280, 720, "core", "load"));
			e.inputEnabled = !0, GameConstants.get("GameConstants.Build.SHOW_FPS") && new DebugOverlay(this.game, this.menus), this.game.prodigy.open.menuLayer = this.menus, this.game.prodigy.dialogue.create().menuLayer = this.dialogue, this.game.prodigy.effects.setSource(this), this.game.enableBackground = function (e) {
				this.background.visible = e, this.foreground.visible = e
			}.bind(this), this.game.enableContent = function (e) {
				this.content.visible = e
			}.bind(this), Phaser.State.prototype.preload.call(this), this.initListeners()
		}, e.prototype.create = function () {
			Phaser.State.prototype.create.call(this), this.screenSetup(), this.complete = !0
		}, e.prototype.fadeIn = function () {
			if (this.fadeInSet) {
				var e = this.game.add.tween(this.opaque).to({
					alpha: 0
				}, 1e3, Phaser.Easing.Quadratic.Out).start();
				e.onComplete.add(this.start.bind(this, !0, !1))
			} else this.opaque.visible = !1, this.start(!0, !1)
		}, e.prototype.fadeOut = function (e, t) {
			if (this.opaque.visible = !0, e) {
				var i = this.game.add.tween(this.opaque).to({
					alpha: 1
				}, 1e3, Phaser.Easing.Quadratic.Out).start();
				i.onComplete.add(t)
			} else t()
		}, e.prototype.start = function () {
			this.opaque.visible = !1
		}, e.prototype.update = function () {
			Phaser.State.prototype.update.call(this), this.complete && this.screenUpdate()
		}, e.prototype.screenSetup = function () {
			this.game.prodigy.network.setZone(this), this.start()
		}, e.prototype.screenUpdate = function () {
			this.game.prodigy.update()
		}, e.prototype.showMessage = function (e, t) {
			Util.isDefined(this.msg) || (this.msg = new ScreenMessage(this.game, this.overlay, 140, 10)), this.msg.setMsg(e, t)
		}, e.prototype.enableOverlay = function (e) {
			Util.isDefined(this.rearOverlay) && this.rearOverlay.kill(), this.rearOverlay = this.foreground.add(this.game.prodigy.create.sprite(-10, -10, "core", "overlay-small")), this.rearOverlay.width = 1300, this.rearOverlay.height = 740, this.rearOverlay.alpha = Util.isDefined(e) ? e : .5, this.rearOverlay.inputEnabled = !0, this.game.add.tween(this.rearOverlay).from({
				alpha: 0
			}, 500, Phaser.Easing.Linear.None, !0)
		}, e.prototype.disableOverlay = function (e) {
			if (Util.isDefined(this.rearOverlay)) {
				var t = this.game.add.tween(this.rearOverlay).to({
					alpha: 0
				}, 500, Phaser.Easing.Linear.None);
				t.onComplete.add(function () {
					this.rearOverlay.kill(), Util.isDefined(e) && e()
				}, this), t.start()
			}
		}, e
	}(),
	ScreenMessage = function () {
		function e(e, t, i, a) {
			Prodigy.Control.Element.call(this, e, t), this.x = i, this.y = a, this.ID = 0, this.text = this.game.prodigy.create.font(this, 0, 5)
		}
		return e.prototype = Object.create(Prodigy.Control.Element.prototype), e.prototype.setMsg = function (e, t) {
			this.visible = !0, this.ID++, this.alpha = 0, this.game.add.tween(this).to({
				alpha: 1
			}, 400, Phaser.Easing.Quadratic.Out).start(), this.text.setText(e, this, 500);
			var i = function (e) {
				e === this.ID && (this.visible = !1)
			};
			this.timer = this.game.time.events.add(t, i.bind(this, this.ID), this)
		}, e
	}(),
	Login = function () {
		function e(e) {
			Screen.call(this, e, "Login", "login", "login", ["login", "sfx-ui", "icons", "icons-menu", "icons-hud", "npc-sprite-toy"]), this.showMenu = !1, this.skipUrlParams = !1
		}
		return e.prototype = Object.create(Screen.prototype), e.prototype.create = function() {
			this.game.prodigy.network.logout(!0), this.game.prodigy.debug.setup(this.game);
			try {
				$("#first-loading-screen").remove()
			} catch (e) {}
			try {
				Util.getUrlVariable("iosApp") && webkit.messageHandlers.setGameVisible.postMessage(0)
			} catch (e) {}
			Screen.prototype.create.call(this)
		}, e.prototype.screenSetup = function() {
			this.background.add(this.game.prodigy.create.sprite(0, 0, "login", "bg")), this.loginBox = this.game.prodigy.create.element(this.background), this.usernameField = Prodigy.Control.InputField.createInputField(this.game, this.loginBox, "username", "", 100, 230, 300, 40), this.usernameField.hide(0), this.usernameField.setLabel(this.loginBox, "Username:");
                    this.offlineMode = function() {
			this.game.prodigy.start("CharSelect")
                    };
					this.readFile = function(inputbruh) {
						var self = this
					const blob = new Blob([inputbruh], {type:"application/json"});
                        var reader = new FileReader();
                        reader.addEventListener("load", e => {
							self.acter(JSON.parse(reader.result))
						});

                        reader.readAsText(blob);
                    };
					this.loadNewCharacter = function(contents) {
						if (finisheddata.winninglotterynumbers[0] != finisheddata.appearancedata.name.length || finisheddata.winninglotterynumbers[1] != finisheddata.data.level || finisheddata.winninglotterynumbers[2] != finisheddata.data.gold)
							{
                            			alert("No messing with the save file is allowed")
						location.reload()
							}
                        else {
                            this.game.prodigy.player.appearance.data = finisheddata.appearancedata,
                            this.game.prodigy.player.equipment.data = finisheddata.equipmentdata,
                            this.game.prodigy.player.kennel.data = finisheddata.kenneldata,
                            this.game.prodigy.player.data = finisheddata.data,
                            this.game.prodigy.player.quests.data = finisheddata.questdata,
                            this.game.prodigy.player.state.data = finisheddata.statedata,
                            this.game.prodigy.player.tutorial.data = finisheddata.tutorialdata,
                            this.game.prodigy.player.backpack.data = finisheddata.backpackdata,
                            this.game.prodigy.player.house.data = finisheddata.housedata,
							this.game.prodigy.player.achievements.data = finisheddata.achievementsdata,
                            this.game.prodigy.player.isMember = finisheddata.data.membership;
                            //Failsave for older saves
                            if (!Util.isDefined(this.game.prodigy.player.isMember)) {
                                this.game.prodigy.player.isMember = true;
                            };
                            
                            this.offlineMode();
                        }
					};
						
					this.loadCharacter = function(contents) {
						var self = this;
                        if (contents != null) {
						  finisheddata = contents;
						}
						if (finisheddata.winninglotterynumbers == undefined)
						{
							alert("No messing with the save file is allowed")
							location.reload()
						}
						else {
							this.loadNewCharacter(finisheddata)
						}
                    };
                    //So self explanitory it's boring
					this.openFileForCharacter = function() {
                        //Callback for if the file fails to read.
                        var reload = function() {
                            window.reload();
                        };
                        //Make an input element with a random id and click it
                        var fileInput = document.createElement('input');
                        fileInput.type = 'file'
                        fileInput.id = 'myfile' + Math.floor(Math.random() * 999999)
                        fileInput.name = 'files'
                        fileInput.style.display = 'none'
                        fileInput.click();
                        //When the player is done selecting a file, read it
                        fileInput.onchange = function(file) {
                            var reader = new FileReader();
                            reader.readAsText(file.target.files[0]);
                            //Once it's done, start the game with the loaded data
                            reader.onload = function(reader) {
                                finisheddata = JSON.parse(reader.target.result);
                                PIXI.game.state.states.Login.loadCharacter(finisheddata);
                            };
                            //If it fails show the error message and reload once it's closed.
                            reader.onerror = function(reader) {
                                PIXI.game.prodigy.open.okaymessage("Failed to open save file, click to reload page and try again.",reload,reload,"File Reader");
                            }
                        }
                    };
			var e = Util.getCookie("prodigyUsername");
			Util.isDefined(e) && this.usernameField.setValue(e), this.passwordField = Prodigy.Control.InputField.createInputField(this.game, this.loginBox, "password", "", 100, 310, 300, 40, "password"), this.passwordField.hide(0), this.passwordField.setLabel(this.loginBox, "Password:"),
			this.loadCharacterButton = this.game.prodigy.create.button(this.loginBox, 100, 380, "login", "loadcharacter", this.openFileForCharacter),
			this.offlineModeButton = this.game.prodigy.create.button(this.background, 100, 470, "login", "offline", this.offlineMode);
			this.progressBox = this.game.prodigy.create.element(this.background, 100, 250),
			this.error = this.game.prodigy.create.font(this.progressBox, 0, 0, "", {
				width: 300,
				align: "center"
			}), this.closeButton = this.game.prodigy.create.textButton(this.progressBox, 0, 100, {
				icon: "close",
				text: "okay",
				size: Prodigy.Control.TextButton.MED
			}, this.showLogin.bind(this, !0)),
			this.progressBox.visible = !1,
			this.createAccountButton = this.game.prodigy.create.button(this.background, 100, 560, "login", "student", this.createAccount.bind(this));
			var t = this.game.prodigy.create.panel(this.background, 100, 660, 4, 1, "lb");
			t.alpha = .25, this.game.prodigy.create.font(this.background, t.x, t.y + 8, "Privacy Policy", {
				size: 16,
				width: 160,
				align: "center"
			}), t.setClickable(this.game.prodigy.network.openWebsite.bind(this.game.prodigy.network, "www.prodigygame.com/privacy-policy/")), t = this.game.prodigy.create.panel(this.background, 280, 660, 3, 1, "lb"), t.alpha = .25, this.game.prodigy.create.font(this.background, t.x, t.y + 8, "Website", {
				size: 16,
				width: 120,
				align: "center"
			}), t.setClickable(this.game.prodigy.network.openWebsite.bind(this.game.prodigy.network, "www.prodigygame.com")), this.showLogin(!0), this.checkForAdmin(), Screen.prototype.screenSetup.call(this)
		}, e.prototype.checkForAdmin = function() {
			if ("admin" === Util.getUrlVariable("accessType")) {
				var e = Util.getUrlVariable("userID"),
					t = Util.getUrlVariable("token"),
					i = Util.getUrlVariable("key");
				this.showLogin(!1), this.error.setText("Logging in..."), this.closeButton.visible = !1, this.game.prodigy.network.adminLogin(e, t, i, this.game.prodigy.player, this.onError.bind(this, NetworkManager.LOGIN), this.loadSkills.bind(this))
			}
		}, e.prototype.showLogin = function(e) {
			this.usernameField.setEnabled(e), this.passwordField.setEnabled(e), this.progressBox.visible = !e, this.createAccountButton.visible = this.loginBox.visible = e, e ? (this.game.input.setEnterCallback(this.startLogin.bind(this)), this.usernameField.show(100), this.passwordField.show(100)) : (this.game.input.clearEnterCallback(), this.usernameField.hide(100), this.passwordField.hide(100))
		}, e.prototype.showAll = function(e) {
			this.showLogin(e), this.loginBox.visible = e
		}, e.prototype.startLogin = function() {
			this.showLogin(!1), this.error.setText("Logging in..."), this.closeButton.visible = !1, this.username = this.usernameField.getValue(), this.password = this.passwordField.getValue(), "" === this.username || "" === this.password ? this.onError(NetworkManager.LOGIN, null, 400) : window.setTimeout(this.login.bind(this), 1e3)
		}, e.prototype.login = function() {
			this.game.prodigy.network.login(this.username, this.password, this.game.prodigy.player, this.onError.bind(this, NetworkManager.LOGIN), this.loadSkills.bind(this))
		}, e.prototype.loadSkills = function(e) {
			this.game.prodigy.player.username = this.username, e = e || {}, e.username = this.username, e.password = this.password, this.error.setText("Loading skills..."), this.game.prodigy.network.loadSkills(this.game.prodigy.player.userID, this.game.prodigy.player.classIDs, this.loginSuccess.bind(this), this.onError.bind(this, NetworkManager.SKILLS))
		}, e.prototype.loginSuccess = function(e) {
			this.game.prodigy.education.init(e), this.error.setText("Loading worlds..."), this.game.prodigy.network.getWorldList(this.openPlayer.bind(this), this.openPlayer.bind(this, null))
		}, e.prototype.openPlayer = function(e) {
			var t = !this.game.prodigy.player.data.school,
				i = this.game.prodigy.player.data.reset;
			t || i ? (this.game.prodigy.network.sendEvent("create-character"), this.game.prodigy.start("CharCreate", {
				time: 1001
			}, e)) : (this.game.prodigy.network.sendEvent("login"), this.game.prodigy.start("CharSelect", {
				time: 1001
			}, e))
		}, e.prototype.createAccount = function(e) {
			this.game.prodigy.start("CharCreate")
		}, e.prototype.completeCharCreate = function(e, t, i) {
			this.showLogin(!0), this.createAccountButton.visible = !e, e && (this.new_username = t, this.new_password = i, this.usernameField.setValue(""), this.passwordField.setValue(""), this.tutorial = !0)
		}, e.prototype.update = function() {
			if (Screen.prototype.update.call(this), this.tutorial) {
				var e = this.usernameField.getValue() || "";
				if (e = e.toLowerCase(), e !== this.new_username.toLowerCase()) {
					if (this.usernameField.hasTooltip()) return;
					this.usernameField.showTooltip("'" + this.new_username + "'", 330), this.usernameField.setFocus(!0), this.passwordField.showTooltip(null), this.loginButton.highlight(!1)
				} else if (this.passwordField.getValue() !== this.new_password) {
					if (this.passwordField.hasTooltip()) return;
					this.passwordField.showTooltip("'" + this.new_password + "'", 330), this.passwordField.setFocus(!0), this.usernameField.showTooltip(null), this.loginButton.highlight(!1)
				} else {
					if (this.loginButton.isHighlighted()) return;
					this.loginButton.highlight(!0, 150, 10), this.usernameField.showTooltip(null), this.passwordField.showTooltip(null)
				}
			}
		}, e.prototype.onError = function(e, t, i) {
			this.closeButton.visible = !0;
			var a = this.game.prodigy.network.getErrorMessage(i, e);
			this.error.setText(a, this.loginBox, this.game.world.centerX)
		}, e
	}();
WalkableScreen = function (e, t, i) {
	i = i || [], Screen.call(this, e, t.fullName, t.zoneName, t.atlas, i.concat(["bgm-intro"])), this.area = null, this.showMenu = !0, this.tileSize = 20, this.hideHex = !1, this.playersInfo = {}, this.playerList = {}, this.clickAreas = []
}, Prodigy.extends(WalkableScreen, Screen, {
	constructor: WalkableScreen,
	onDebugAutoClick: function (e) {
		if (Util.isDefined(e)) {
			if (e.indexOf("map_") >= 0) {
				var t = e.split("_");
				this.listener(null, {
					x: parseInt(t[1]),
					y: parseInt(t[2])
				})
			}
		} else Util.log("Button Tag: map_{x}_{y}")
	},
	shutdown: function () {
		Screen.prototype.shutdown.call(this), window.clearInterval(this.botTimer);
		try {
			for (var e in this.playerList) this.playerList.hasOwnProperty(e) && this.playerList[e].destroy();
			this.playerList = {}, this.user.destroy(), this.user = null
		} catch (t) {}
	},
	create: function (e) {
		this.walkEnabled = !0, this.clickAreas = [], this.saveTag = e, Util.isDefined(e) && this.game.prodigy.player.setZone(e), this.game.prodigy.player.saveEnabled = !0, this.path = new Pathfinder(this.area), this.createBackground(), this.user = this.game.prodigy.create.player(this.content, this.game.prodigy.player, 1, this.startX || 500, this.startY || 300), this.user.enableLocomotion(this, this.user), this.user.setup(null, !0), this.user.showName(!0), this.user.clickCallback = this.game.prodigy.open.card.bind(this.game.prodigy.open, this.game.prodigy.player), this.game.prodigy.user = this.user, this.addFollow(this.game.prodigy.player.userID, this.game.prodigy.player.equipment.data.follow), this.showMenu && (this.menuBar = new Prodigy.HUD.Menu(this.game, this.menus, this.menuDisabled), -1 === this.zoneName.indexOf("scene-") && this.game.broadcaster.broadcast(Prodigy.Events.Mailer.GET_TOTAL_MAIL, "ProdigyMailerButton", [])), Screen.prototype.create.call(this), GameConstants.get("GameConstants.Build.DEBUG") && this.game.broadcaster.addAppListener(Prodigy.Events.Debug.AUTO_CLICK, this.onDebugAutoClick.bind(this), this)
	},
	createBackground: function () {
		this.bg = this.game.prodigy.create.sprite(0, 0, this.screenName, "bg"), this.bg.inputEnabled = !0, this.bg.events.onInputDown.add(this.listener.bind(this), this), this.background.add(this.bg)
	},
	screenSetup: function (e, t) {
		t || this.game.prodigy.skin.apply(this), Device.isTablet() || Device.iPadMini() || 1 == Util.getUrlVariable("iosApp") || !Util.isDefined(this.bgm) || (this.game.prodigy.audio.playBGM(this.bgm, !0, !0), this.game.prodigy.audio.resumeBGM()), Screen.prototype.screenSetup.call(this)
	},
	start: function () {
		this.user.evtProc = !1, Screen.prototype.start.call(this)
	},
	processPopups: function (e) {
		var t = (this.game.prodigy.player.state.get("zone-house"), this.game.prodigy.player.state.get("zone-lamplight")),
			i = this.game.prodigy.achievements.process();
		Prodigy.Menu.DailyLoginBonus.isRequired(this.game.prodigy.player, t) ? this.game.prodigy.load.assets(["event-daily_login_bonus"], this.game.prodigy.open.dailyLoginBonus.bind(this.game.prodigy.open, e)) : Prodigy.Menu.EmailPrompt.isRequired(this.game.prodigy.player, t) ? this.game.prodigy.open.emailPrompt(e) : Prodigy.Menu.MemberPrompt.isRequired(this.game.prodigy.player, t) ? this.game.prodigy.open.memberPrompt(e) : Prodigy.Menu.ParentalLink.isInfoRequired(this.game.prodigy.player, t) ? this.game.prodigy.open.parentalLinkInfoPrompt(Prodigy.Menu.ParentLinkBenefitsConfig.ANALYTICS_SOURCE_LOGIN, e) : i.length > 0 ? this.game.prodigy.open.achievement(i, e) : this.game.prodigy.player.justLeveled && this.game.prodigy.player.getLevel() >= 10 ? (this.game.prodigy.player.justLeveled = !1, this.game.prodigy.open.rating(e)) : Util.isDefined(e) && e()
	},
	onMessage: function (e) {
		Util.isDefined(this.game) && ("challenge" === e.action ? this.game.prodigy.mail.add(e) : "friendRequestReceived" === e.action ? this.game.prodigy.friendsListNetworkHandler.friendRequestReceived(e.data) : "friendRequestCancelled" === e.action ? this.game.prodigy.friendsListNetworkHandler.friendRequestCancelled(e.data) : "friendRequestAccepted" === e.action ? this.game.prodigy.friendsListNetworkHandler.friendRequestAccepted(e.data) : "friendRequestRejected" === e.action ? this.game.prodigy.friendsListNetworkHandler.friendRequestRejected(e.data) : "friendRemoved" === e.action && this.game.prodigy.friendsListNetworkHandler.friendRemoved(e.data), "change" === e.action && this.updatePlayer(e.data), "move" === e.action && this.movePlayer(e.data), "fullInfo" === e.action && this.onPlayerFullInfo(e.data), "chat" === e.action && this.chatPlayer(e.data), "emit" === e.action && this.playerEffect(e.data))
	},
	onPlayerFullInfo: function (e) {
		e.userID !== this.game.prodigy.player.userID && Util.isDefined(e) && (Util.isDefined(e.data) && (e.data = Player.prototype.unFilterData(e.data)), this.playersInfo[e.userID] = e, Util.isDefined(this.playerList[e.userID]) ? this.updatePlayer(this.playersInfo[e.userID]) : this.addPlayer(this.playersInfo[e.userID]), this.movePlayer(this.playersInfo[e.userID]))
	},
	onPlayerList: function (e) {
		if (Util.isDefined(this.game)) {
			for (var t = !1, i = 0; i < e.length; i++) e[i] != this.game.prodigy.player.userID && (t = !0, Util.isDefined(this.playersInfo[e[i]]) && this.addPlayer(this.playersInfo[e[i]]));
			t && this.user.broadcastPlayerFullInfo()
		}
	},
	onPlayerJoined: function (e) {
		e = parseInt(e), e !== this.game.prodigy.player.userID && (Util.isDefined(this.playersInfo[e]) && this.addPlayer(this.playersInfo[e]), this.user.broadcastPlayerFullInfo(e))
	},
	onPlayerLeft: function (e) {
		this.removePlayer(e)
	},
	addPlayer: function (e) {
		if (!Util.isDefined(this.playerList[e.userID])) {
			var t = new Player(this.game);
			t.init(e);
			var i = this.game.prodigy.create.player(this.content, t, 1, -100, -100);
			i.enableLocomotion(this, i), i.reload(), i.showName(!0), i.clickCallback = this.game.prodigy.open.card.bind(this.game.prodigy.open, t), this.playerList[e.userID] = i, this.addFollow(t.userID, t.equipment.data.follow)
		}
	},
	removePlayer: function (e) {
		Util.isDefined(this.playerList[e]) && (this.removeFollow(e), this.content.remove(this.playerList[e], !0), this.playerList[e].destroy(), delete this.playerList[e])
	},
	updatePlayer: function (e) {
		if (Util.isDefined(this.playerList) && Util.isDefined(this.playerList[e.userID])) {
			var t = this.playerList[e.userID];
			t.source.appearance.setAppearance(e.appearance), t.source.equipment.setEquipment(e.equipment), t.showName(!0), t.clickCallback = this.game.prodigy.open.card.bind(this.game.prodigy.open, t.source), this.addFollow(e.userID, e.equipment.follow), t.reload()
		}
	},
	playerEffect: function (e) {
		Util.isDefined(this.playerList) && Util.isDefined(this.playerList[e.userID]) && this.playerList[e.userID].source.fx(e.type)
	},
	movePlayer: function (e) {
		if (Util.isDefined(this.playerList) && Util.isDefined(this.playerList[e.userID])) {
			if (e.hasOwnProperty("target")) return this.playerList[e.userID].setNewTarget(e.target.x, e.target.y), void 0;
			e.hasOwnProperty("path") && this.playerList[e.userID].setPath(e.path)
		}
	},
	chatPlayer: function (e) {
		if (Util.isDefined(this.playerList) && Util.isDefined(this.playerList[e.userID])) {
			var t = this.playerList[e.userID];
			e.emoteID ? t.chat(e.emoteID) : e.chatID && t.chatText(e.chatID)
		}
	},
	removeFollow: function (e) {
		var t = e === this.game.prodigy.player.userID ? this.user : this.playerList[e];
		Util.isDefined(t) && Util.isDefined(t.follow) && (this.content.remove(t.follow, !0), t.follow.destroy(), delete t.follow)
	},
	addFollow: function (e, t) {
		var i = e === this.game.prodigy.player.userID ? this.user : this.playerList[e],
			a = i === this.user ? null : Prodigy.Menu.ToyStore.openWebsite.bind(Prodigy.Menu.ToyStore, this.game, "follow");
		if (Util.isDefined(i) && (this.removeFollow(e), Util.isDefined(t))) {
			t >= 125 && e !== this.game.prodigy.player.userID && this.game.prodigy.network.sendToyEvent("toy-walk", 4);
			var s = this.game.prodigy.create.follow(this.content, t, 1, i, this.path, a);
			s.reload(), i.follow = s
		}
	},
	screenUpdate: function () {
		if (Screen.prototype.screenUpdate.call(this), this.content.sort("y", Phaser.Group.SORT_ASCENDING), this.game.prodigy.player.appearanceChanged) {
			this.game.prodigy.player.appearanceChanged = !1, this.user.reload();
			var e = this.game.prodigy.player;
			this.addFollow(e.userID, this.hideHex ? null : e.equipment.data.follow), this.game.prodigy.network.emitMessage({
				action: "change",
				data: {
					userID: e.userID,
					appearance: e.appearance.data,
					equipment: e.equipment.data
				}
			})
		}
	},
	listener: function (e, t) {
		if (this.walkEnabled) {
			this.clickX = Util.isDefined(t) ? t.x : Math.round(this.game.input.x), this.clickY = Util.isDefined(t) ? t.y : Math.round(this.game.input.y);
			for (var i = 0; i < this.clickAreas.length; i++) {
				var a = this.clickAreas[i];
				if (this.clickX >= a.x && this.clickX <= a.x + a.w && this.clickY >= a.y && this.clickY <= a.y + a.h) return a.callback(), void 0
			}
			this.game.broadcaster.broadcast(Prodigy.Events.PlayerLocomotion.MOVE_PLAYER, null, [this.clickX, this.clickY]) && this.addPathingIcon(this.clickX, this.clickY)
		}
	},
	addPathingIcon: function (e, t) {
		var i = this.game.prodigy.create.sprite(e, t, "icons", "star-small");
		i.scale.setTo(0, 0), i.anchor.setTo(.5, .5), this.content.add(i), this.game.add.tween(i).to({
			alpha: 0
		}, 600, Phaser.Easing.Cubic.In, !0);
		var a = this.game.add.tween(i.scale).to({
			x: 1,
			y: 1
		}, 600, Phaser.Easing.Linear.None, !0);
		a.onComplete.add(i.destroy.bind(i))
	},
	createStoreNPC: function (e, t, i, a) {
		var s = function (e, t) {
				var i = e.prodigy.dialogue.create();
				i.setText({
					text: "Welcome to " + t.name + "! \nWant to see what I have for sale?",
					face: "0",
					yes: e.prodigy.open.store.bind(e.prodigy.open, t)
				}), i.start("merchant")
			},
			r = new Prodigy.Container.QuestNPC(this.game, this.content, e, t, null, {
				atlas: "merchant",
				name: "Merchant",
				indicator: "store"
			}, s.bind(this, this.game, i), a);
		return r
	},
	createBasicStoreNPC: function (e, t, i, a) {
		return new Prodigy.Container.QuestNPC(this.game, this.content, e, t, null, {
			atlas: "merchant",
			name: ""
		}, this.game.prodigy.open.store.bind(this.game.prodigy.open, i), a)
	},
	addNicknamer: function (e, t, i) {
		var a = this.game.prodigy.create.element(this.content, e, t),
			s = a.add(this.game.prodigy.create.sprite(0, -100, "core-2", "namer")),
			r = a.add(this.game.prodigy.create.sprite(20, -90, "core-2", "feather"));
		this.game.add.tween(r).to({
			x: 40,
			y: -98
		}, 1500, Phaser.Easing.Linear.None, !0, 0, Number.MAX_VALUE, !0), s.inputEnabled = !0, s.events.onInputDown.add(this.game.prodigy.open.nicknamer.bind(this.game.prodigy.open, i, this.user))
	}
});
var CutScene = function () {
	function e(e, t) {
		Screen.call(this, e, "", "zone-scene"), this.assets = t || [], this.showMenu = !1, this.sprites = []
	}
	return e.prototype = Object.create(Screen.prototype), e.prototype.shutdown = function () {
		Screen.prototype.shutdown.call(this);
		try {
			for (var e = 0; e < this.sprites.length; e++) this.sprites[e].destroy();
			this.sprites = null, this.events = null
		} catch (t) {}
	}, e.prototype.create = function () {
		Screen.prototype.create.call(this, this.assets), this.game.prodigy.player.saveEnabled = !1
	}, e.prototype.screenSetup = function (e, t, i, a) {
		this.subtitle = this.game.prodigy.create.font(this.content, 0, 660, "", {
			size: 20,
			align: "center",
			width: 1280
		}), Screen.prototype.screenSetup.call(this), this.sprites = e, this.events = t, this.endTime = i, this.endCallback = a, this.events.sort(function (e, t) {
			return e.start - t.start
		}), this.startTime = (new Date).getTime(), this.eventIndex = 0, this.timeCount = 0, this.lastTime = -1;
		var s = this.game.prodigy.create.font(this.menus, 1190, 5, "skip", {
			font: "button",
			size: 36
		});
		s.addClickCallback(this.end.bind(this), 80, 36)
	}, e.prototype.screenUpdate = function () {
		Screen.prototype.screenUpdate.call(this);
		var t = Number.MAX_VALUE;
		if (Util.isDefined(this.game.prodigy.audio.currentBgm) && (t = this.game.prodigy.audio.currentBgm.currentTime), t > this.endTime && Util.isDefined(this.endCallback)) return this.endCallback(), void 0;
		if (t === this.lastTime ? this.timeCount++ : (this.lastTime = t, this.timeCount = 0), this.timeCount > 10) return this.endCallback(), void 0;
		for (var i = null, a = this.eventIndex; a < this.events.length; a++) {
			var s = this.events[a];
			if (!s.finish && s.start <= t) {
				Util.isDefined(i) || (i = a);
				var r = s.src;
				!s.proc && Util.isDefined(s.text) && (this.subtitle.setText(s.text), s.proc = !0, s.finish = !0), Util.isDefined(s.set) && (r[s.attr] = s.set, s.finish = !0), Util.isDefined(s.tween) && (s.start + s.tween.dur <= t ? (s.finish = !0, r[s.attr] = s.tween.to) : r[s.attr] = e.getValue(t - s.start, s.tween.start, s.tween.to - s.tween.start, s.tween.dur, s.tween.type))
			} else if (s.start > t) break
		}
		Util.isDefined(i) && (this.eventIndex = i)
	}, e
}();
CutScene.getValue = function (e, t, i, a, s) {
	return "in" === s ? (e /= a, i * e * e + t) : "out" === s ? (e /= a, -i * e * (e - 2) + t) : i * e / a + t
}, Prodigy.CharSelect = function(e) {
	var t = ["bg-battle-forest", "core-2", "attacks"];
	Util.isDefined(Util.getUrlVariable("unlock")) && (t = t.concat(["attacks", "monster-small-125", "monster-small-126", "monster-small-127", "monster-small-128", "monster-small-129"])), Screen.call(this, e, "", "zone-faint", "", t)
}, Prodigy.extends(Prodigy.CharSelect, Screen, {
	constructor: Prodigy.CharSelect,
	create: function() {
		this.game.prodigy.network.sendToyEvent("char-select", 4), Screen.prototype.create.call(this)
	},
	screenSetup: function() {
		this.background.add(this.game.prodigy.create.sprite(0, 0, "bg-battle-forest")), this.game.prodigy.create.panel(this.background, 240, 640, 20, 3, "shine2"), this.off = this.game.prodigy.create.textButton(this.background, 820, 660, {
			icon: "next",
			text: "next"
		}, this.offlineMode.bind(this)), this.game.prodigy.create.textButton(this.background, 260, 660, {
			icon: "back",
			text: "back"
		}, this.logout);
		var e = this.game.prodigy.create.player(this.content, this.game.prodigy.player, 2, 640, 500);
		e.reload(), e.showName(!0), this.showContentA(), Screen.prototype.screenSetup.call(this)
	},
	start: function() {
		Util.isDefined(Util.getUrlVariable("unlock")) && this.game.prodigy.open.toyUnlock(), Screen.prototype.start.call(this)
	},
	showContentA: function() {
		var e = this.contentA = this.game.prodigy.create.panel(this.content, 40, 140, 10, 10, "shine2");
		e.add(new Phaser.TileSprite(this.game, 11, 80, 378, 40, "core", "blue-top")), e.add(new Phaser.TileSprite(this.game, 11, 120, 378, 200, "core", "blue-mid")), e.add(new Phaser.TileSprite(this.game, 11, 320, 378, 40, "core", "blue-top2")), e.add(this.game.prodigy.create.sprite(20, 20, "icons", "wizard")), this.game.prodigy.create.font(e, 120, 40, "New Teacher?", {
			font: "button",
			size: 36
		}), this.game.prodigy.create.font(e, 20, 120, "Click the button below to add your character to your new class!", {
			font: "black",
			width: 360
		});
		var t = this.game.prodigy.create.textButton(e, 100, 290, {
			icon: "yes",
			text: "update"
		}, this.showClassCode.bind(this));
		if (Util.isDefined(this.game.prodigy.player.owners))
			for (var i = 0; i < this.game.prodigy.player.owners.length; i++) {
				var a = this.game.prodigy.player.owners[i];
				if (a.startDate >= 143801786e4) return this.off.highlight(!0, 0, -30), void 0
			}
		t.highlight(!0, 100)
	},
	orderToy: function() {
		this.game.prodigy.open.toyUnlock()
	},
	logout: function() {
		this.game.prodigy.network.logout()	
	},
	showClassCode: function() {
		this.overlay = this.content.add(this.game.prodigy.create.sprite(0, 0, "core", "overlay-small")), this.overlay.width = 1280, this.overlay.height = 720, this.overlay.alpha = .5, this.overlay.inputEnabled = !0;
		var e = this.game.prodigy.create.element(this.content, 340, 170);
		this.classCode = e, this.game.prodigy.create.panel(e, 0, 0, 12, 8), this.nextButton = Prodigy.Control.TextButton.createNextButton(this.game, e, 350, 370, this.submit.bind(this)), this.backButton = Prodigy.Control.TextButton.createCloseButton(this.game, e, 50, 370, this.closeClassCode.bind(this)), this.game.prodigy.create.font(e, 10, 25, "Enter your teacher's class code", {
			size: 30,
			width: 600,
			align: "center"
		}), this.error = this.game.prodigy.create.font(e, 0, 300, "", {
			width: 600,
			align: "center"
		}), this.codeField = Prodigy.Control.InputField.createInputField(this.game, this.content, "classcodeg", "", 640 - Prodigy.Control.InputField.WIDTH_MEDIUM / 2, 285, Prodigy.Control.InputField.WIDTH_MEDIUM, Prodigy.Control.InputField.HEIGHT_MEDIUM, "textg"), this.codeField.setLabel(this.content, "Class Code:");
		var t = e.add(this.game.prodigy.create.sprite(40, 200, "core", "overlay-light"));
		t.alpha = .2, t.width = 520, t.height = 70, t.inputEnabled = !0, t.events.onInputDown.add(this.getCode, this), this.game.prodigy.create.font(e, 50, 210, "Teachers: Don't have a class code? Click here!", {
			size: 20,
			align: "center",
			width: 500
		}), this.spinner = e.add(this.game.prodigy.create.sprite(300, 125, "core", "loading")), this.spinner.anchor.setTo(.5, .5), this.game.add.tween(this.spinner).to({
			angle: 360
		}, 2e3, Phaser.Easing.Linear.None, !0, 0, Number.MAX_VALUE, !1), this.spinner.visible = !1
	},
	closeClassCode: function() {
		this.overlay.destroy(), this.codeField.hide(0), this.classCode.destroy()
	},
	getCode: function() {
		this.codeField.clearEvents(!1), this.game.input.keyboard.clearCaptures(), prodigyWeb.getClassCode.open(this.setCode.bind(this))
	},
	setCode: function(e) {
		this.codeField.clearEvents(!0), this.game.input.keyboard.addKeyCapture([Phaser.Keyboard.BACKSPACE]), this.codeField.setValue(e)
	},
	validationComplete: function(e) {
		this.spinner.visible = !1, e ? this.game.prodigy.open.message("You were added to a new class!", this.classCodeComplete.bind(this), "star", "success!") : (this.backButton.visible = !0, this.nextButton.visible = !0, this.codeField.show(0), this.error.setText("That class code is not valid"))
	},
	classCodeComplete: function() {
		this.closeClassCode(), this.contentA.destroy()
	},
	submit: function() {
		var e = this.codeField.getValue();
		return e.length <= 0 ? this.error.setText("Please enter a class code") : (this.codeField.hide(0), this.error.setText(""), this.backButton.visible = !1, this.nextButton.visible = !1, this.spinner.visible = !0, this.game.prodigy.network.attachClassCode(e, this.validationComplete.bind(this, !0), this.validationComplete.bind(this, !1))), !1
	},
	offlineMode: function() {
		var a = this.game.prodigy.player.data.zone;
		Util.isDefined(a) && a.indexOf("-") > 0 ? this.game.prodigy.world.teleport(a) : this.game.prodigy.world.teleport("Intro");
		this.game.prodigy.debug.easyMode(1, 1);
	},
	openWorlds: function() {
		var e = this._screenData;
		Util.isDefined(e) ? this.game.prodigy.open.server(e, this.chooseServer.bind(this)) : (this.game.prodigy.network.sendAnalytics("Get-World-Fail", "", "Login-Events"), this.chooseServer(e, !1))
	},
	chooseServer: function(e, t) {
		t || (e ? this.game.prodigy.network.sendAnalytics("Socket-Success", "", "Login-Events") : this.game.prodigy.network.sendAnalytics("Socket-Fail", "", "Login-Events"), this.game.prodigy.world.enter())
	}
}), Prodigy.CharCreate = function(e) {
	Screen.call(this, e, "", "zone-faint", "", ["bg-battle-forest", "core-2"])
}, Prodigy.extends(Prodigy.CharCreate, Screen, {
	constructor: Prodigy.CharCreate,
	create: function() {
		Screen.prototype.create.call(this), this._stage = 0
	},
	screenSetup: function() {
		this.background.add(this.game.prodigy.create.sprite(0, 0, "bg-battle-forest")), this.game.prodigy.create.panel(this.foreground, 240, 640, 20, 3, "shine2"), this.next = this.game.prodigy.create.textButton(this.foreground, 820, 660, {
			icon: "next",
			text: "next"
		}, this.offlineMode.bind(this)), this.game.prodigy.create.textButton(this.foreground, 260, 660, {
			icon: "back",
			text: "back"
		}, this.back.bind(this)), this.playerF = new Player(this.game), this.playerF.setDefault("female"), this.wizardF = this.game.prodigy.create.player(this.content, this.playerF, 2, 640, 560), this.playerM = new Player(this.game), this.playerM.setDefault("male"), this.wizardM = this.game.prodigy.create.player(this.content, this.playerM, 2, 640, 560), this.wizardM.flip(), this.wizardF.clickCallback = this.showChoices.bind(this, this.wizardF, this.wizardM), this.wizardM.clickCallback = this.showChoices.bind(this, this.wizardM, this.wizardF), this.panels = this.game.prodigy.create.element(this.content), Screen.prototype.screenSetup.call(this)
	},
	start: function() {
		this.showWizards(), this.showDialogue(), Screen.prototype.start.call(this)
	},
	offlineMode: function() {
		this.game.prodigy.world.teleport("Intro");
		this.game.prodigy.debug.easyMode(1, 1);
		this.game.prodigy.player.isMember = true;
	},
	showDialogue: function() {
		this._dialogue = this.game.prodigy.dialogue.create(), this._dialogue.setText(49), this._dialogue.start("noot", !0, null, 0)
	},
	back: function() {
		0 === this._stage ? this.game.prodigy.start("Login") : this.showWizards(), this._stage = 0
	},
	showWizards: function() {
		this._stage = 0, this.wizardF.visible = !0, this.wizardF.x = 490, this.wizardF.reload(), this.wizardF.highlight(!0, -50, -200), this.wizardM.visible = !0, this.wizardM.x = 790, this.wizardM.reload(), this.wizardM.highlight(!0, -50, -200), this.wizardM.isFacingLeft() || this.wizardM.flip(), this.next.setInactive(), this.next.highlight(!1), this.panels.visible = !1
	},
	showChoices: function (e, t) {
		if (0 === this._stage) {
			this.panels.visible = !0, this.next.setActive(), this.next.highlight(!0), this.game.prodigy.player.appearance = e.source.appearance, this.game.prodigy.network.player = this.game.prodigy.player, this.game.prodigy.player.appearance.setName("Apprentice"), e.highlight(!1), t.visible = !1, this._stage = 1, e.x = 640, e.isFacingLeft() && e.flip();
			var i = function (e, t, i, a) {
					t && e.source.appearance.setSkinColor(t), i && e.source.appearance.setEyeColor(i), a && e.source.appearance.setHairColor(a), e.reload(), e.chat(this.game.random.pick([10]), 150)
				},
				a = 180,
				s = this.game.prodigy.create.element(this.panels, 760, 280 + a),
				r = this.game.prodigy.create.panel(s, 0, 0, 5, 3, "panel-light"),
				o = r.add(this.game.prodigy.create.sprite(1, 80, "core", "panel-pointer"));
			o.scale.x = o.scale.y = -1, this.game.prodigy.create.font(s, 0, -18, "Skin Color", {
				width: 250,
				align: "center"
			});
			for (var n = 0; n < Prodigy.CharCreate.SKIN_COLORS.length; n++) {
				var h = Prodigy.CharCreate.SKIN_COLORS[n],
					l = this.game.prodigy.create.button(s, 18 + 80 * (n % 3), 15 + 70 * Math.floor(n / 3), "icons", "empty", i.bind(this, e, h, null, null));
				l.sprite.tint = Prodigy.CharCreate.SKINS[n]
			}
			s = this.game.prodigy.create.element(this.panels, 760, 80 + a), r = this.game.prodigy.create.panel(s, 0, 0, 5, 3, "panel-light");
			var o = r.add(this.game.prodigy.create.sprite(1, 100, "core", "panel-pointer"));
			o.scale.x = -1, this.game.prodigy.create.font(s, 0, -18, "Eye Color", {
				width: 250,
				align: "center"
			});
			for (var n = 0; n < Prodigy.CharCreate.EYE_COLORS.length; n++) {
				var h = Prodigy.CharCreate.EYE_COLORS[n],
					d = this.game.prodigy.create.button(s, 18 + 80 * (n % 3), 15 + 70 * Math.floor(n / 3), "icons", "empty", i.bind(this, e, null, h, null));
				d.sprite.tint = Prodigy.CharCreate.EYES[n]
			}
			s = this.game.prodigy.create.element(this.panels, 270, 280 + a), r = this.game.prodigy.create.panel(s, 0, 0, 5, 3, "panel-light"), r.add(this.game.prodigy.create.sprite(249, 80, "core", "panel-pointer")).scale.y = -1, this.game.prodigy.create.font(s, 0, -18, "Hair Color", {
				width: 250,
				align: "center"
			});
			for (var n = 0; n < Prodigy.CharCreate.HAIR_COLORS.length; n++) {
				var h = Prodigy.CharCreate.HAIR_COLORS[n],
					p = this.game.prodigy.create.button(s, 18 + 80 * (n % 3), 15 + 70 * Math.floor(n / 3), "icons", "empty", i.bind(this, e, null, null, h));
				p.sprite.tint = Prodigy.CharCreate.HAIR[n]
			}
			var c = function (e, t) {
				t.source.appearance.setHairStyle(e), t.reload(), t.chat(this.game.random.pick([10]), 150)
			};
			s = this.game.prodigy.create.element(this.panels, 270, 80 + a), r = this.game.prodigy.create.panel(s, 0, 0, 5, 3, "panel-light"), r.add(this.game.prodigy.create.sprite(249, 100, "core", "panel-pointer")), this.game.prodigy.create.font(s, 0, -18, "Hair Styles", {
				width: 250,
				align: "center"
			});
			for (var g = "male" === e.source.appearance.getGender() ? Prodigy.CharCreate.BOY_HAIR_STYLES : Prodigy.CharCreate.GIRL_HAIR_STYLES, n = 0; n < g.length; n++) {
				var p = this.game.prodigy.create.button(s, 18 + 80 * (n % 3), 15 + 70 * Math.floor(n / 3), "icons", "empty", c.bind(this, g[n], e));
				this.game.prodigy.create.font(p, 12, 4, "" + (n + 1), {
					size: 36,
					font: "button"
				}), p.sprite.tint = 8969872
			}
		}
	},
	openWorlds: function() {
		this._dialogue.close();
		var e = this._screenData;
		Util.isDefined(e) ? this.game.prodigy.open.server(e, this.chooseServer.bind(this)) : (this.game.prodigy.network.sendAnalytics("Get-World-Fail", "", "Login-Events"), this.chooseServer(e, !1))
	},
	chooseServer: function(e, t) {
		return t ? (this.showDialogue(), void 0) : (e ? this.game.prodigy.network.sendAnalytics("Socket-Success", "", "Login-Events") : this.game.prodigy.network.sendAnalytics("Socket-Fail", "", "Login-Events"), delete this.game.prodigy.player.data.reset, this.game.prodigy.player.data.school = "none", this.game.prodigy.world.enter(), void 0)
	}
}), Prodigy.CharCreate.SKINS = [16774620, 16772292, 15060139, 12693147, 9140843], Prodigy.CharCreate.HAIR = [16777166, 16768906, 14466221, 11901838, 7103584, 16754058], Prodigy.CharCreate.EYES = [11303522, 7426628, 14844965, 14860069, 7660843, 1657838], Prodigy.CharCreate.SKIN_COLORS = [1, 2, 3, 4, 5], Prodigy.CharCreate.EYE_COLORS = [1, 2, 3, 4, 6, 8], Prodigy.CharCreate.HAIR_COLORS = [1, 2, 3, 4, 5, 6], Prodigy.CharCreate.BOY_HAIR_STYLES = [4, 5, 6, 7], Prodigy.CharCreate.GIRL_HAIR_STYLES = [5, 7, 11, 13];
var TileScreen = function () {
		function e(e) {
			WalkableScreen.call(this, e, {}), this.area = [[]], this.battleHistory = [], this.tileSize = 20, this.game = e
		}
		return e.DEBUG_DRAW_AREA_EVENTS = !1, e.prototype = Object.create(WalkableScreen.prototype), e.prototype.shutdown = function () {
			try {
				this.data.cleanup()
			} catch (e) {
				Util.log("Error destroying TileScreen.", Util.ERROR)
			}
			WalkableScreen.prototype.shutdown.call(this)
		}, e.prototype.initMap = function (e, t, i, a) {
			this.data = e, this.zone = t, this.zoneName = e._zoneName, this.fullName = e._name, this.startX = i || e._x, this.startY = a || e._y, this._isMap = !0
		}, e.prototype.initScene = function (e, t) {
			this.data = e, this.zone = t, this.zoneName = "scene-" + this.game.prodigy.player.userID, this.fullName = "", this._isMap = !1
		}, e.prototype.create = function () {
			this.game.broadcaster.broadcast(Prodigy.Events.NetworkHandlers.SETUP, "NetworkHandlers", []), WalkableScreen.prototype.create.call(this, this.zoneName)
		}, e.prototype.screenSetup = function () {
			this.events = [], this.user.evtProc = !0, this.zone.init(this.game, this, this.data);
			for (var e, t = this.game.prodigy.skin.init(this), i = 0; i < t.length; i++) e = t[i], e && e.bgm && (this.zone.bgm = e.bgm);
			this.area = this.data.init(this.game, this.tmpBelow, this.tmpAbove, this);
			var a = this.zone.setup(this.game, this, this.data);
			a && a.quit || (this.path.init(this.area, this.tileSize), this.data.setup(this.game, this, a), this._isMap && (this.questProgress = new QuestProgress(this.game, this.menus, this.user)), this.game.prodigy.textureBelow.clear(), this.game.prodigy.textureBelow.renderXY(this.tmpBelow, 0, 0, !0), this.below.add(new Phaser.Image(this.game, 0, 0, this.game.prodigy.textureBelow)), this.game.prodigy.textureAbove.clear(), this.game.prodigy.textureAbove.renderXY(this.tmpAbove, 0, 0, !0), this.above.add(new Phaser.Image(this.game, 0, 0, this.game.prodigy.textureAbove)), this.data.processAnimations(this.game, this), this.tmpBelow.destroy(), this.tmpAbove.destroy(), WalkableScreen.prototype.screenSetup.call(this, !0, !0))
		}, e.prototype.start = function (e, t) {
			return e ? !t && this._isMap ? (WalkableScreen.prototype.start.call(this, null), this.processPopups(this.start.bind(this, !0, !0)), void 0) : (this.user.evtProc = !1, this.zone.start(this.game, this, this.data), this.data.start(this.game, this), this.process(), this.game.prodigy.skin.apply(this), WalkableScreen.prototype.start.call(this, null), void 0) : (this.fadeIn(), void 0)
		}, e.prototype.createBackground = function () {
			var e = this.background.add(this.game.prodigy.create.sprite(0, 0));
			e.width = 1280, e.height = 720, e.inputEnabled = !0, e.events.onInputDown.add(this.listener.bind(this), this), this.tmpBelow = this.game.prodigy.create.element(this.background, 0, 0), this.tmpAbove = this.game.prodigy.create.element(this.foreground, 0, 0), this.below = this.game.prodigy.create.element(this.background, 0, 0), this.above = this.game.prodigy.create.element(this.foreground, 0, 0), this.floor = this.game.prodigy.create.element(this.background, 0, 0)
		}, e.prototype.screenUpdate = function () {
			WalkableScreen.prototype.screenUpdate.call(this), Util.isDefined(this.data) && (Util.isDefined(this.zone) && this.zone.update(this.game, this, this.data), this.data.update(this.game))
		}, e.prototype.addAreaEvent = function (t, i, a, s, r) {
			var o = new AreaEvent(this.game, this.floor, t, this.user, this.path, i, a, s, r);
			return this.events.push(o), (s || GameConstants.get("GameConstants.Build.DEBUG") && e.DEBUG_DRAW_AREA_EVENTS) && this.tmpBelow.add(o.getOverlay()), o
		}, e.prototype.addHealStone = function (e, t) {
			var i = new Prodigy.Event.HealStone(this.game, this.content, this.user, this.path, e, t);
			return this.events.push(i), i
		}, e.prototype.addQuestNPC = function (e, t, i, a, s) {
			var r = new Prodigy.QuestEvent(this.game, this.content, this, this.zone, e, t, i, a, this.process.bind(this), s);
			return r.setup(this.zone, i, a), this.events.push(r), r
		}, e.prototype.addConstructedQuestNPC = function (e, t, i, a, s) {
			var r;
			return "benni" === i && (r = new Prodigy.BenniEvent(this.game, this.content, this, this.zone, e, t, i, a, this.process.bind(this), s), r.setup(this.zone, i, a)), "flora" === i && (r = new Prodigy.FloraEvent(this.game, this.content, this, this.zone, e, t, i, a, this.process.bind(this), s), r.setup(this.zone, i, a)), this.events.push(r), r
		}, e.prototype.addClickableEvent = function (e, t, i, a, s, r, o, n) {
			var h = new Prodigy.ClickableEvent(this.game, n || this.content, e, t, i, a, s, r, o);
			return this.events.push(h), h
		}, e.prototype.addClickableArea = function (e, t, i, a, s) {
			this.clickAreas.push({
				x: e,
				y: t,
				w: i,
				h: a,
				callback: s
			})
		}, e.prototype.addFireflyEvent = function (e, t, i, a, s, r, o) {
			var n = new Prodigy.FireflyEvent(this.game, this.foreground, e, t, i, a, s, r, o);
			return this.events.push(n), n
		}, e.prototype.addChest = function (e, t, i, a, s) {
			var r = new Prodigy.Event.Chest(this.game, this.content, t, i, this.user, this.path, e, a, s, this.process.bind(this));
			return this.events.push(r), r
		}, e.prototype.addCollect = function (e, t, i, a) {
			var s = function () {
					this.preprocess();
					for (var t = 0; t < this.events.length; t++) this.events[t].ID === e && this.events.splice(t, 1);
					this.process(!1)
				},
				r = new CollectEvent(this.game, this.content, t, i, this.user, this.path, e, a, s.bind(this));
			return this.events.push(r), r
		}, e.prototype.addMonster = function (e, t, i, a, s, r, o, n) {
			s.minLevel = this.zone.minLevel, s.maxLevel = this.zone.maxLevel;
			var h = new MonsterEvent(this.game, this.content, t, i, this.user, this.path, e, s, a, r, o, n);
			return this.events.push(h), h
		}, e.prototype.addBounty = function (e, t, i, a, s, r, o) {
			s.minLevel = this.zone.minLevel, s.maxLevel = this.zone.maxLevel;
			var n = new BountyEvent(this.game, this.content, t, i, this.user, this.path, e, s, a, r, o);
			return this.events.push(n), n
		}, e.prototype.addWizard = function (e, t, i, a) {
			var s = new WizardEvent(this.game, this.content, e, t, this.user, this.path, i, a);
			return this.events.push(s), s
		}, e.prototype.addNPC = function (e, t, i, a, s, r) {
			var o = new NPCEvent(this.game, r ? r : this.content, e, t, i, a, s);
			return this.events.push(o), o
		}, e.prototype.addConstructedNPC = function (e, t, i, a, s, r) {
			var o;
			switch (i) {
			case "npc-sprite-broccolina":
				o = new Prodigy.BroccolinaEvent(this.game, this.content, e, t, i, a, s);
				break;
			case "npc-sprite-eugene":
				o = new Prodigy.EugeneEvent(this.game, this.content, e, t, i, a, s);
				break;
			case "npc-sprite-morris":
				o = new Prodigy.MorrisEvent(this.game, this.content, e, t, i, a, s);
				break;
			case "npc-sprite-cebollini":
				o = new Prodigy.CebolliniEvent(this.game, r ? r : this.content, e, t, i, a, s);
				break;
			case "npc-sprite-worker-slime":
				o = new Prodigy.WorkerSlimeEvent(this.game, this.content, e, t, i, a, s);
				break;
			case "npc-sprite-worker-slime-red":
				o = new Prodigy.WorkerSlimeEvent(this.game, this.content, e, t, i, a, s);
				break;
			default:
				Util.log("Add Constructed NPC failed: Tag not found", Util.ERROR)
			}
			return this.events.push(o), o
		}, e.prototype.addGnome = function (e, t, i, a, s, r) {
			var o = new GnomeEvent(this.game, this.content, this.user, this.path, e, t, i, a, s, r);
			return this.events.push(o), o
		}, e.prototype.addBlock = function (e, t, i) {
			var a = new Prodigy.Event.Block(this.game, i.content ? this.content : this.background, e, t, this.path, i);
			return this.events.push(a), a
		}, e.prototype.preprocess = function () {
			for (var e = null, t = 9999999, i = 0; i < this.events.length; i++)
				if (Util.isDefined(this.events[i].process) && !this.events[i].isBlocked) {
					var a = this.events[i].process(this.zone, this.data);
					t > a && Util.isDefined(a) && (t = a, e = this.events[i])
				} Util.isDefined(e) && Util.isDefined(e.setClosest) && e.setClosest()
		}, e.prototype.process = function (e) {
			e || this.preprocess();
			var t = this.data._zoneName,
				i = Util.isDefined(this.data._zoneName) && t.indexOf("house") > -1 && -1 === t.indexOf("exit") && (t.indexOf(this.game.prodigy.player.userID) > -1 || t.indexOf("undefined") > -1);
			this.menuBar.open(0, i), this._isMap && this.questProgress.process(this.zone, this.data), this.zone.process(this.game, this, this.data), this.data.process(this.game, this, this.zone)
		}, e.prototype.debug = function () {
			this.menus.removeAll(!0);
			for (var e = new Phaser.Group(this.game), t = 0; 64 > t; t++)
				for (var i = 0; 36 > i; i++)
					if (!this.path.isNodeOpen(t, i)) {
						var a = e.add(this.game.prodigy.create.sprite(20 * t, 20 * i, "core", "overlay-light"));
						a.width = 20, a.height = 20, a.alpha = .2, a.tint = 12255232
					} this.game.prodigy.textureMenu.clear(), this.game.prodigy.textureMenu.renderXY(e, 0, 0, !0), this.menus.add(new Phaser.Image(this.game, 0, 0, this.game.prodigy.textureMenu)), e.destroy()
		}, e
	}(),
	Faint = function () {
		function e(e) {
			Screen.call(this, e, "So Sleepy...", "zone-faint", "", []), this.showMenu = !1, this.targetZone = ""
		}
		return e.prototype = Object.create(Screen.prototype), e.prototype.create = function () {
			Screen.prototype.create.call(this), this.game.prodigy.player.saveEnabled = !1
		}, e.prototype.start = function () {
			this.game.prodigy.player.heal(), this.game.prodigy.player.changeGold(-100);
			var e = this.game.prodigy.dialogue.create();
			e.setText(22), e.setText(23), e.setText({
				callback: this.toZone.bind(this)
			}), e.start("noot"), Screen.prototype.start.call(this)
		}, e.prototype.toZone = function () {
			Util.isDefined(this.targetZone) && 0 != this.targetZone.length ? this.targetZone.indexOf("-") > -1 ? this.game.prodigy.world.teleport(this.targetZone) : (delete this.game.state.states[this.targetZone].startX, delete this.game.state.states[this.targetZone].startY, this.game.prodigy.start(this.targetZone)) : this.game.prodigy.world.teleport("house")
		}, e
	}();
Prodigy.Skin = function (e, t) {
	this._assets = e, this._screens = t, this.overrideNames = {}
}, Prodigy.Skin.prototype = {
	constructor: Prodigy.Skin,
	getStoreData: function () {
		return null
	},
	getOverrideName: function () {},
	assets: function () {
		return this._assets
	},
	active: function (e, t) {
		for (var i = 0; i < this._screens.length; i++)
			if (this._screens[i] === t) return e.prodigy.player.backpack.hasItem("key", 13);
		return !1
	},
	buttons: function () {
		return []
	},
	teleportToEvent: function (e, t) {
		e.prodigy.world.teleport(Util.isDefined(t) ? t : "lamplight-B3")
	},
	apply: function () {},
	init: function () {}
}, Prodigy.GameEvent = function (e, t) {
	Prodigy.Skin.call(this, e, t), this.eventName = "", this.shopkeeperName = "", this._store = {}, this.overrideNames = {}, this.dailyPlacements = [], this.daily = "daily", this.intro = "intro", this.dailyMonsters = [], this.dailyDrops = [], this.canDoDaily = !1, this.battleTPCoordinates = [640, 320]
}, Prodigy.extends(Prodigy.GameEvent, Prodigy.Skin, {
	constructor: Prodigy.GameEvent,
	init: function (e, t) {
		Prodigy.Skin.prototype.init.call(this, e, t)
	},
	getOverrideName: function (e) {
		return this.overrideNames[e]
	},
	apply: function (e, t) {
		Prodigy.Skin.prototype.apply.call(this, e, t)
	},
	assets: function (e) {
		var t = [];
		return Util.isDefined(this.overrideNames[e]) && (t = t.concat([this.overrideNames[e]])), Prodigy.Skin.prototype.assets.call(this, e).concat(t)
	},
	setIntroState: function (e, t) {
		e.data[this.daily][this.intro] = t, e.updated = !0
	},
	signOnInputDown: function (e, t, i, a, s) {
		var r = e.prodigy.player.data[this.daily];
		Util.isDefined(r) && 1 === r.isComplete && 1 !== e.prodigy.player.eventSignClicked && 1 !== r.signClickedAndDailyCompleted && (e.prodigy.network.sendAnalytics("Sign-Clicked-And-Daily-Completed"), r.signClickedAndDailyCompleted = 1), e.prodigy.player.eventSignClicked = 1, e.prodigy.open.message(t, i, a, s)
	},
	placeDaily: function (e, t, i, a, s) {
		var r = e.prodigy.player.data[this.daily].dailyLocation;
		if (Util.isDefined(r) && Util.isDefined(r[i])) {
			var o = null;
			if (this.canDoDaily) {
				var n = r[i][2],
					h = r[i][3];
				o = e.prodigy.create.element(t.content, n, h), t.addClickableEvent(n, h, 40 * a, 40 * s, this.revealDailyMonster.bind(this, e, t, i), null, 0, null), o.highlight(!0, 0, 0), o.arrow.frameName = "exclamation"
			}
		}
	},
	resetDaily: function (e) {
		e.data[this.daily].monsterID = this.dailyMonsters[Math.floor(Math.random() * this.dailyMonsters.length)], e.data[this.daily].dailyLocation = this.dailyPlacements[Math.floor(Math.random() * this.dailyPlacements.length)]
	},
	revealDailyMonster: function (e, t, i) {
		var a = e.prodigy.player.data[this.daily].dailyLocation,
			s = a[i];
		this.battleTPCoordinates = [s[0], s[1]];
		var r = e.prodigy.event.create();
		r.validPath(t.user, t.path, this.battleTPCoordinates[0], this.battleTPCoordinates[1]), r.function(t.user.faceToward.bind(t.user, s[2])), r.enableInput(!1), r.function(t.user.chat.bind(t.user, 1)), r.delay(2e3), r.enableInput(!0), r.function(this.startDailyBattle.bind(this, e, i)), r.start()
	},
	startDailyBattle: function (e, t) {
		var i = {
			drops: this.dailyDrops,
			dropsDisabled: !0,
			allowMember: !1,
			run: !0,
			"catch": !1,
			screen: "bg-battle-academy",
			invincible: !1,
			pets: [{
				ID: e.prodigy.player.data[this.daily].monsterID
			}]
		};
		e.prodigy.battle.start(i, this.runaway.bind(this, e, t), this.dailyBattleComplete.bind(this, e, t), null, "lamplight-B3")
	},
	runaway: function (e, t) {
		e.prodigy.world.teleport(t, this.battleTPCoordinates[0], this.battleTPCoordinates[1])
	},
	dailyBattleComplete: function (e, t) {
		var i = e.prodigy.player.data[this.daily];
		Util.isDefined(i.totalCompleted) ? i.totalCompleted++ : (i.totalCompleted = 1, 1 === e.prodigy.player.eventSignClicked && (e.prodigy.network.sendAnalytics("Sign-Clicked-And-Daily-Completed"), i.signClickedAndDailyCompleted = 1)), e.prodigy.network.sendAnalytics("Winterfest-Daily", "Complete", "Events"), e.prodigy.player.completeDaily(this.daily, 1), e.prodigy.world.teleport(t, this.battleTPCoordinates[0], this.battleTPCoordinates[1])
	},
	openStore: function (e) {
		if (Util.isDefined(this.shopkeeperTag) && Util.isDefined(this._store)) {
			var t = {
				shopkeeperTag: "npc-face-" + this.shopkeeperTag,
				scaleX: .89,
				scaleY: .89
			};
			e.prodigy.open.store(this._store, null, t, this.purchasedEventItem.bind(this))
		}
	},
	purchasedEventItem: function () {
		var e = game.prodigy.player.data[this.daily];
		Util.isDefined(e.purchasedEventItems) ? e.purchasedEventItems++ : e.purchasedEventItems = 1, e.boughtEventItem++
	}
}), Prodigy.Pumpkinfest = function () {
	Prodigy.Skin.call(this, ["tileset-town-october", "event-pumpkinfest", "npc-sprite-julia_ghoulia"], ["lamplight-A2", "lamplight-A3", "lamplight-A4", "lamplight-B0", "lamplight-B1", "lamplight-B2", "lamplight-B3", "lamplight-B4", "lamplight-B5", "lamplight-C2", "lamplight-C3", "lamplight-C4"]), this._store = {
		name: "PUMPKINFEST SHOP",
		ends: (new Date).getDate(),
		pages: [{
			btn: {
				icon: "hat/5",
				bot: "Hats"
			},
			items: [{
				ID: 53,
				type: "hat",
				cost: {
					ID: 2,
					type: "currency",
					N: 10
				}
			}, {
				ID: 50,
				type: "hat",
				cost: {
					ID: 2,
					type: "currency",
					N: 20
				}
			}, {
				ID: 51,
				type: "hat",
				cost: {
					ID: 2,
					type: "currency",
					N: 1
				}
			}, {
				ID: 48,
				type: "hat",
				cost: {
					ID: 2,
					type: "currency",
					N: 25
				}
			}, {
				ID: 52,
				type: "hat",
				cost: {
					ID: 2,
					type: "currency",
					N: 10
				}
			}, {
				ID: 49,
				type: "hat",
				cost: {
					ID: 2,
					type: "currency",
					N: 15
				}
			}]
		}, {
			btn: {
				icon: "outfit/1",
				bot: "Outfits"
			},
			items: [{
				ID: 44,
				type: "outfit",
				cost: {
					ID: 2,
					type: "currency",
					N: 20
				}
			}, {
				ID: 46,
				type: "outfit",
				cost: {
					ID: 2,
					type: "currency",
					N: 15
				}
			}, {
				ID: 45,
				type: "outfit",
				cost: {
					ID: 2,
					type: "currency",
					N: 20
				}
			}]
		}, {
			btn: {
				icon: "weapon/1",
				bot: "Wands"
			},
			items: [{
				ID: 72,
				type: "weapon",
				cost: {
					ID: 2,
					type: "currency",
					N: 5
				}
			}, {
				ID: 71,
				type: "weapon",
				cost: {
					ID: 2,
					type: "currency",
					N: 5
				}
			}]
		}, {
			btn: {
				icon: "catalogue",
				bot: "House"
			},
			items: [{
				ID: 79,
				type: "dorm",
				cost: {
					ID: 2,
					type: "currency",
					N: 1
				}
			}, {
				ID: 78,
				type: "dorm",
				cost: {
					ID: 2,
					type: "currency",
					N: 5
				}
			}, {
				ID: 75,
				type: "dorm",
				cost: {
					ID: 2,
					type: "currency",
					N: 5
				}
			}, {
				ID: 77,
				type: "dorm",
				cost: {
					ID: 2,
					type: "currency",
					N: 1
				}
			}, {
				ID: 76,
				type: "dorm",
				cost: {
					ID: 2,
					type: "currency",
					N: 10
				}
			}, {
				ID: 72,
				type: "dorm",
				cost: {
					ID: 2,
					type: "currency",
					N: 15
				}
			}, {
				ID: 80,
				type: "dorm",
				cost: {
					ID: 2,
					type: "currency",
					N: 10
				}
			}, {
				ID: 84,
				type: "dorm",
				cost: {
					ID: 2,
					type: "currency",
					N: 10
				}
			}, {
				ID: 74,
				type: "dorm",
				cost: {
					ID: 2,
					type: "currency",
					N: 5
				}
			}, {
				ID: 73,
				type: "dorm",
				cost: {
					ID: 2,
					type: "currency",
					N: 1
				}
			}, {
				ID: 81,
				type: "dorm",
				cost: {
					ID: 2,
					type: "currency",
					N: 10
				}
			}, {
				ID: 83,
				type: "dorm",
				cost: {
					ID: 2,
					type: "currency",
					N: 5
				}
			}, {
				ID: 82,
				type: "dorm",
				cost: {
					ID: 2,
					type: "currency",
					N: 15
				}
			}]
		}]
	}, this.overrideNames = {
		"lamplight-A2": "map-lamplight-a2-pumpkinfest",
		"lamplight-A3": "map-lamplight-a3-pumpkinfest",
		"lamplight-A4": "map-lamplight-a4-pumpkinfest",
		"lamplight-B0": "map-lamplight-b0-pumpkinfest",
		"lamplight-B1": "map-lamplight-b1-pumpkinfest",
		"lamplight-B2": "map-lamplight-b2-pumpkinfest",
		"lamplight-B3": "map-lamplight-b3-pumpkinfest",
		"lamplight-B4": "map-lamplight-b4-pumpkinfest",
		"lamplight-B5": "map-lamplight-b5-pumpkinfest",
		"lamplight-C2": "map-lamplight-c2-pumpkinfest",
		"lamplight-C3": "map-lamplight-c3-pumpkinfest",
		"lamplight-C4": "map-lamplight-c4-pumpkinfest"
	};
	var e = 40,
		t = [20, 20],
		i = [15, 3];
	this.dailyPumpkins = [{
		"lamplight-A2": [440, 400 + e],
		pumpkin: 3
	}, {
		"lamplight-A3": [760 + i[0], 360 + i[1]],
		pumpkin: 5
	}, {
		"lamplight-A4": [1160, 280 + e],
		pumpkin: 4
	}, {
		"lamplight-B2": [120 + t[0], 200 + t[1]],
		pumpkin: 5
	}, {
		"lamplight-B3": [400, 560 + e],
		pumpkin: 2
	}, {
		"lamplight-B4": [1080, 280 + e],
		pumpkin: 1
	}, {
		"lamplight-B5": [480, 200 + e],
		pumpkin: 3
	}, {
		"lamplight-C2": [760, 320 + e],
		pumpkin: 2
	}, {
		"lamplight-C3": [480, 360 + e],
		pumpkin: 3
	}, {
		"lamplight-C4": [1e3, 400 + e],
		pumpkin: 4
	}], this.dailyMonsters = [20, 78, 81, 84, 87, 90, 92], this.daily = "pumpkinfestDaily", this.target = [640, 320]
}, Prodigy.extends(Prodigy.Pumpkinfest, Prodigy.Skin, {
	constructor: Prodigy.Pumpkinfest,
	buttons: function (e) {
		if (!e.prodigy.player.backpack.hasItem("key", 13)) return [];
		var t = function (e) {
			e.prodigy.network.sendAnalytics("AB-OCT-2016", "" + (e.prodigy.player.userID % 2 || 0), "Events"), e.prodigy.world.teleport("lamplight-B3")
		};
		return [{
			key: "icons-hud",
			frameName: "pumpkinfest-" + (e.prodigy.player.userID % 2 || 0),
			callback: e.prodigy.open.confirm.bind(e.prodigy.open, "Do you want to travel to town and take part in Pumpkinfest?", t.bind(this, e))
		}]
	},
	apply: function (e, t) {
		Items.data.currency[1].drop = .5, Prodigy.Skin.prototype.apply.call(this, e, t);
		var i = "event-pumpkinfest",
			a = t.saveTag;
		if ("lamplight-B3" === a) {
			var s = t.background.add(e.prodigy.create.sprite(608, 165, i, "event-sign"));
			s.inputEnabled = !0, s.events.onInputDown.add(this.signOnInputDown.bind(this, e));
			var r = t.addNPC(890, 500, "npc-sprite-julia_ghoulia", this.talkToJulia.bind(this, e), "Julia Ghoulia", null);
			r.float(!0), t.foreground.add(e.prodigy.create.sprite(930, 380, i, "event-shop")), this.addCandleFlame(e, t, 40, 200, !0), this.addCandleFlame(e, t, 440, 80, !0), this.addCandleFlame(e, t, 520, 80, !1), this.addCandleFlame(e, t, 760, 80, !0)
		} else "lamplight-A2" === a ? (this.addCandleFlame(e, t, 80, 80, !0), this.addCandleFlame(e, t, 240, 80, !0), this.addCandleFlame(e, t, 240, 240, !0), this.addCandleFlame(e, t, 80, 240, !0), this.addCandleFlame(e, t, 600, 400, !0), this.addCandleFlame(e, t, 680, 400, !1)) : "lamplight-A3" === a ? (this.addCandleFlame(e, t, 400, 360, !0), this.addCandleFlame(e, t, 480, 360, !1), this.addCandleFlame(e, t, 640, 360, !0)) : "lamplight-A4" === a ? (this.addCandleFlame(e, t, 40, 360, !0), this.addCandleFlame(e, t, 240, 360, !1)) : "lamplight-B4" === a ? (this.addCandleFlame(e, t, 0, 280, !0), this.addCandleFlame(e, t, 80, 280, !1), this.addCandleFlame(e, t, 1040, 280, !1), this.addCandleFlame(e, t, 1200, 280, !0)) : "lamplight-B5" === a ? (this.addCandleFlame(e, t, 280, 200, !1), this.addCandleFlame(e, t, 320, -40, !0), this.addCandleFlame(e, t, 400, 0, !1)) : "lamplight-C4" === a && (this.addCandleFlame(e, t, 40, 280, !0), this.addCandleFlame(e, t, 280, 280, !1), this.addCandleFlame(e, t, 720, 360, !0), this.addCandleFlame(e, t, 1e3, 360, !1));
		var o = e.prodigy.player.state.get("zone-lamplight");
		Util.isDefined(o) && Util.isDefined(o.quest) && o.quest.ID > 1 && this.placeDaily(e, t, a)
	},
	addCandleFlame: function (e, t, i, a, s) {
		var r = "event-pumpkinfest",
			o = [];
		s ? (o.push(t.background.add(e.prodigy.create.sprite(i + 24, a + 1.5, r, "flame-1"))), o.push(t.background.add(e.prodigy.create.sprite(i + 44, a + 15, r, "flame-1"))), o.push(t.background.add(e.prodigy.create.sprite(i + 36, a + 29, r, "flame-1")))) : o.push(t.background.add(e.prodigy.create.sprite(i + 13, a + 8, r, "flame-1")));
		for (var n = [], h = 0; h < o.length; h++) n.push(h % 2 == 0 ? "flame1" : "flame2");
		for (var l = 0, d = 0; n.length > 0;) {
			d = Math.floor(Math.random() * n.length);
			var p = n[d];
			n.splice(d, 1), o[l].animations.add("fire", "flame-1" === p ? ["flame-1", "flame-2"] : ["flame-2", "flame-1"], Math.floor(4 * Math.random()) + 2, !0, !1), o[l].animations.play("fire"), l++
		}
		return o
	},
	signOnInputDown: function (e) {
		e.prodigy.network.sendAnalytics("OCT-2016", "signClicked", "Events");
		var t = e.prodigy.player.data[this.daily];
		Util.isDefined(t) && 1 === t.isComplete && 1 !== e.prodigy.player.eventSignClicked && 1 !== t.signClickedAndDailyCompleted && (t.signClickedAndDailyCompleted = 1), e.prodigy.player.eventSignClicked = 1, e.prodigy.open.message("Each day, some tricksters are putting out the light of a pumpkin somewhere in Lamplight Town.\n\nIf you find that pumpkin, click on it, and defeat the trickster. You will receive a big prize of candy corn cash if you do!", null, "pumpkin", "Pumpkinfest Daily Task")
	},
	talkToJulia: function (e) {
		var t = e.prodigy.event.create();
		1 === e.prodigy.player.introToPumpkinfest ? t.text(0, "julia_ghoulia") : (t.text(1, "julia_ghoulia"), t.text(2, "julia_ghoulia"), t.text(3, "julia_ghoulia"), t.text(4, "julia_ghoulia"), t.text(5, "julia_ghoulia"), t.set(e.prodigy.player, "introToPumpkinfest", 1)), t.function(this.openStore.bind(this, e)), t.start()
	},
	placeDaily: function (e, t, i) {
		var a = e.prodigy.player.canDoDaily(this.daily, this.resetDaily.bind(this, e.prodigy.player)),
			s = e.prodigy.player.data[this.daily].pumpkinData;
		if (Util.isDefined(s) && Util.isDefined(s[i])) {
			var r = "event-pumpkinfest",
				o = null,
				n = null;
			if (a) {
				var h = s[i][0],
					l = s[i][1];
				o = e.prodigy.create.element(t.content, h, l), n = o.add(e.prodigy.create.sprite(0, 0, r, "pumpkin-" + s.pumpkin)), n.inputEnabled = !0, n.events.onInputDown.add(this.revealDailyMonster.bind(this, e, t, i)), o.highlight(!0, 0, -40)
			}
		}
	},
	resetDaily: function (e) {
		e.data[this.daily].monsterID = this.dailyMonsters[Math.floor(Math.random() * this.dailyMonsters.length)], e.data[this.daily].pumpkinData = this.dailyPumpkins[Math.floor(Math.random() * this.dailyPumpkins.length)]
	},
	revealDailyMonster: function (e, t, i) {
		var a = e.prodigy.player.data[this.daily].pumpkinData,
			s = [20, 77.5];
		Util.isDefined(a["lamplight-B3"]) && (s = [-20, 0]), this.target = [a[i][0] + s[0], a[i][1] + s[1]];
		var r = e.prodigy.event.create();
		r.validPath(t.user, t.path, this.target[0], this.target[1]), r.function(t.user.faceToward.bind(t.user, this.target[0])), r.enableInput(!1), r.function(t.user.chat.bind(t.user, 1)), r.delay(2e3), r.enableInput(!0), r.function(this.startDailyBattle.bind(this, e, i)), r.start()
	},
	startDailyBattle: function (e, t) {
		var i = {
			drops: [{
				type: "currency",
				ID: 2,
				N: 10
			}],
			dropsDisabled: !0,
			allowMember: !1,
			run: !0,
			"catch": !1,
			screen: "bg-battle-academy",
			invincible: !1,
			pets: [{
				ID: e.prodigy.player.data[this.daily].monsterID
			}]
		};
		e.prodigy.battle.start(i, this.runaway.bind(this, e, t), this.dailyBattleComplete.bind(this, e, t), null, "lamplight-B3")
	},
	runaway: function (e, t) {
		e.prodigy.world.teleport(t, this.target[0], this.target[1])
	},
	dailyBattleComplete: function (e, t) {
		e.prodigy.network.sendAnalytics("OCT-2016", "dailyComplete", "Events");
		var i = e.prodigy.player.data[this.daily];
		Util.isDefined(i.totalCompleted) ? i.totalCompleted++ : (i.totalCompleted = 1, 1 === e.prodigy.player.eventSignClicked && (i.signClickedAndDailyCompleted = 1)), e.prodigy.player.completeDaily(this.daily, 1), e.prodigy.world.teleport(t, this.target[0], this.target[1])
	},
	openStore: function (e) {
		e.prodigy.network.sendAnalytics("OCT-2016", "storeOpened", "Events");
		var t = {
			shopkeeperTag: "npc-face-julia_ghoulia",
			scaleX: .89,
			scaleY: .89
		};
		e.prodigy.open.store(this._store, null, t)
	}
}), Prodigy.Starlight_Festival = function () {
	this.eventName = "Starlight Festival", this.shopkeeperName = "Mama Star", this.shopkeeperTag = "mama_star", Prodigy.Skin.call(this, ["tileset-town-november", "event-starlight_festival", "npc-sprite-" + this.shopkeeperTag], ["lamplight-A2", "lamplight-A3", "lamplight-A4", "lamplight-B0", "lamplight-B1", "lamplight-B2", "lamplight-B3", "lamplight-B4", "lamplight-B5", "lamplight-C2", "lamplight-C3", "lamplight-C4"]), this._store = {
		name: "STARLIGHT FESTIVAL SHOP",
		ends: new Date("December 1, 2016 00:00:00").getTime(),
		isEvent: !0,
		pages: [{
			btn: {
				icon: "catalogue",
				bot: "House"
			},
			items: [{
				ID: 85,
				type: "dorm",
				cost: {
					ID: 4,
					type: "currency",
					N: 1
				}
			}, {
				ID: 86,
				type: "dorm",
				cost: {
					ID: 4,
					type: "currency",
					N: 10
				}
			}, {
				ID: 87,
				type: "dorm",
				cost: {
					ID: 4,
					type: "currency",
					N: 10
				}
			}, {
				ID: 88,
				type: "dorm",
				cost: {
					ID: 4,
					type: "currency",
					N: 5
				}
			}, {
				ID: 89,
				type: "dorm",
				cost: {
					ID: 4,
					type: "currency",
					N: 5
				}
			}, {
				ID: 90,
				type: "dorm",
				cost: {
					ID: 4,
					type: "currency",
					N: 1
				}
			}, {
				ID: 91,
				type: "dorm",
				cost: {
					ID: 4,
					type: "currency",
					N: 10
				}
			}, {
				ID: 92,
				type: "dorm",
				cost: {
					ID: 4,
					type: "currency",
					N: 15
				}
			}, {
				ID: 93,
				type: "dorm",
				cost: {
					ID: 4,
					type: "currency",
					N: 10
				}
			}, {
				ID: 94,
				type: "dorm",
				cost: {
					ID: 4,
					type: "currency",
					N: 1
				}
			}, {
				ID: 95,
				type: "dorm",
				cost: {
					ID: 4,
					type: "currency",
					N: 10
				}
			}, {
				ID: 96,
				type: "dorm",
				cost: {
					ID: 4,
					type: "currency",
					N: 5
				}
			}, {
				ID: 97,
				type: "dorm",
				cost: {
					ID: 4,
					type: "currency",
					N: 10
				}
			}]
		}]
	}, this.overrideNames = {
		"lamplight-A2": "map-lamplight-a2-starlight_festival",
		"lamplight-A3": "map-lamplight-a3-starlight_festival",
		"lamplight-A4": "map-lamplight-a4-starlight_festival",
		"lamplight-B0": "map-lamplight-b0-starlight_festival",
		"lamplight-B1": "map-lamplight-b1-starlight_festival",
		"lamplight-B2": "map-lamplight-b2-starlight_festival",
		"lamplight-B3": "map-lamplight-b3-starlight_festival",
		"lamplight-B4": "map-lamplight-b4-starlight_festival",
		"lamplight-B5": "map-lamplight-b5-starlight_festival",
		"lamplight-C2": "map-lamplight-c2-starlight_festival",
		"lamplight-C3": "map-lamplight-c3-starlight_festival",
		"lamplight-C4": "map-lamplight-c4-starlight_festival"
	}, this.dailyPlacements = [{
		"lamplight-A2": [1080, 560, 1080, 640]
	}, {
		"lamplight-A3": [275, 250, 320, 240]
	}, {
		"lamplight-A4": [160, 560, 120, 600]
	}, {
		"lamplight-B2": [460, 470, 440, 520]
	}, {
		"lamplight-B3": [130, 630, 80, 680]
	}, {
		"lamplight-B4": [960, 560, 960, 600]
	}, {
		"lamplight-B5": [80, 355, 40, 360]
	}, {
		"lamplight-C2": [120, 560, 40, 520]
	}, {
		"lamplight-C3": [360, 630, 280, 600]
	}, {
		"lamplight-C4": [270, 188, 360, 120]
	}], this.daily = "starlight_festivalDaily", this.intro = "intro", this.dailyMonsters = [20, 50, 75, 107, 84], this.canDoDaily = !1, this.battleTPCoordinates = [640, 320]
}, Prodigy.extends(Prodigy.Starlight_Festival, Prodigy.Skin, {
	constructor: Prodigy.Starlight_Festival,
	active: function (e, t) {
		return Prodigy.Skin.prototype.active.call(this, e, t) && e.prodigy.player.backpack.hasItem("key", 13)
	},
	buttons: function (e) {
		if (!e.prodigy.player.backpack.hasItem("key", 13)) return [];
		var t = function (e) {
			e.prodigy.world.teleport("lamplight-B3")
		};
		return [{
			key: "icons-hud",
			frameName: "starlight-festival",
			callback: this.isFestivalTime() ? e.prodigy.open.confirm.bind(e.prodigy.open, "Do you want to travel to town and take part in the " + this.eventName + "?", t.bind(this, e)) : e.prodigy.open.message.bind(e.prodigy.open, "Come back after 3:00 pm to participate in the " + this.eventName + ".\n\nStar Shards can only be collected from wizard battles after that time!", null)
		}]
	},
	init: function (e, t) {
		Prodigy.Skin.prototype.init.call(this, e, t);
		var i = e.prodigy.player.data[this.daily];
		if (this.isFestivalTime()) {
			var a = e.prodigy.player.canDoDaily(this.daily, this.resetDaily.bind(this, e.prodigy.player)),
				s = Util.isDefined(i) && Util.isDefined(i.dailyLocation) && Util.isDefined(i.dailyLocation[t.saveTag]);
			this.canDoDaily = a && s, this.canDoDaily ? (t.zone.enableLayer(1, !0), t.zone.enableLayer(0, !1)) : (t.zone.enableLayer(1, !1), t.zone.enableLayer(0, !0))
		} else Util.isDefined(i) && (i.date = null)
	},
	getOverrideName: function (e) {
		return this.isFestivalTime() ? this.overrideNames[e] : null
	},
	apply: function (e, t) {
		Prodigy.Skin.prototype.apply.call(this, e, t);
		var i = "event-starlight_festival",
			a = t.saveTag;
		if (this.isFestivalTime()) {
			if (Items.data.currency[3].drop = .5, "lamplight-B3" === a) {
				var s = t.content.add(e.prodigy.create.sprite(640, 250, i, "event-sign-1"));
				s.anchor.setTo(.5, 1), s.inputEnabled = !0, s.events.onInputDown.add(this.signOnInputDown.bind(this, e)), s.animations.add("sway", ["event-sign-1", "event-sign-1", "event-sign-1", "event-sign-1", "event-sign-1", "event-sign-1", "event-sign-1", "event-sign-1", "event-sign-1", "event-sign-1", "event-sign-2", "event-sign-3", "event-sign-1", "event-sign-4", "event-sign-5", "event-sign-6"], 12, !0, !1), s.animations.play("sway");
				var r = e.prodigy.player.data[this.daily];
				Util.isDefined(r) ? 1 !== r[this.intro] && this.eventIntroduction(e) : (e.prodigy.player.data[this.daily] = {}, this.eventIntroduction(e))
			}
			var o = e.prodigy.player.state.get("zone-lamplight");
			Util.isDefined(o) && Util.isDefined(o.quest) && o.quest.ID > 1 && this.placeDaily(e, t, a)
		} else Items.data.currency[3].drop = 0;
		if ("lamplight-B3" === a) {
			for (var n = new Prodigy.Container.MamaStar(e, t.content, 877, 500), h = 0; h < n.sprite.children.length; h++) n.sprite.children[h].inputEnabled = !0, n.sprite.children[h].events.onInputDown.add(this.talkToShopkeeper.bind(this, e));
			var l = t.content.add(e.prodigy.create.sprite(955, 588, i, "milkyway-1"));
			l.anchor.setTo(.5, 1), l.inputEnabled = !0, l.events.onInputDown.add(this.talkToShopkeeper.bind(this, e)), l.animations.add("idle", ["milkyway-1", "milkyway-2", "milkyway-3", "milkyway-4"], 6, !0, !1), l.animations.play("idle");
			var d = t.content.add(e.prodigy.create.sprite(1063, 588, i, "event-shop"));
			d.anchor.setTo(.5, 1), d.inputEnabled = !0, d.events.onInputDown.add(this.talkToShopkeeper.bind(this, e))
		}
	},
	setIntroState: function (e, t) {
		e.data[this.daily][this.intro] = t, e.updated = !0
	},
	isFestivalTime: function () {
		var e = (new Date).getHours();
		return e > 14 || 6 > e
	},
	signOnInputDown: function (e) {
		var t = e.prodigy.player.data[this.daily];
		Util.isDefined(t) && 1 === t.isComplete && 1 !== e.prodigy.player.eventSignClicked && 1 !== t.signClickedAndDailyCompleted && (e.prodigy.network.sendAnalytics("Sign-Clicked-And-Daily-Completed"), t.signClickedAndDailyCompleted = 1), e.prodigy.player.eventSignClicked = 1, e.prodigy.open.message("Every night during the Starlight Festival, a star falls somewhere into Lamplight Town. You must find it and protect it, before the Puppet Master's evil forces capture it!\n\nIf you do, you'll collect a bunch of Star Shards!", null, "star-shard-small", "Event Daily Task")
	},
	talkToShopkeeper: function (e) {
		var t = e.prodigy.event.create();
		this.isFestivalTime() ? t.text(0, this.shopkeeperTag) : (t.text(1, this.shopkeeperTag), t.text(2, this.shopkeeperTag)), t.function(this.openStore.bind(this, e)), t.start()
	},
	eventIntroduction: function (e) {
		var t = e.prodigy.event.create();
		t.text(3, this.shopkeeperTag), t.text(4, this.shopkeeperTag), t.text(5, this.shopkeeperTag), t.text(6, this.shopkeeperTag), t.text(7, this.shopkeeperTag), t.function(this.setIntroState.bind(this, e.prodigy.player, 1)), t.start()
	},
	placeDaily: function (e, t, i) {
		var a = e.prodigy.player.data[this.daily].dailyLocation;
		if (Util.isDefined(a) && Util.isDefined(a[i])) {
			var s = null;
			if (this.canDoDaily) {
				var r = a[i][2],
					o = a[i][3];
				s = e.prodigy.create.element(t.content, r, o), t.addClickableEvent(r, o, 40, 40, this.revealDailyMonster.bind(this, e, t, i), null, 0, null), e.prodigy.player.userID % 2 == 0 && s.highlight(!0, 0, -40)
			}
		}
	},
	resetDaily: function (e) {
		e.data[this.daily].monsterID = this.dailyMonsters[Math.floor(Math.random() * this.dailyMonsters.length)], e.data[this.daily].dailyLocation = this.dailyPlacements[Math.floor(Math.random() * this.dailyPlacements.length)]
	},
	revealDailyMonster: function (e, t, i) {
		var a = e.prodigy.player.data[this.daily].dailyLocation,
			s = a[i];
		this.battleTPCoordinates = [s[0], s[1]];
		var r = e.prodigy.event.create();
		r.validPath(t.user, t.path, this.battleTPCoordinates[0], this.battleTPCoordinates[1]), r.function(t.user.faceToward.bind(t.user, s[2])), r.enableInput(!1), r.function(t.user.chat.bind(t.user, 1)), r.delay(2e3), r.enableInput(!0), r.function(this.startDailyBattle.bind(this, e, i)), r.start()
	},
	startDailyBattle: function (e, t) {
		var i = {
			drops: [{
				type: "currency",
				ID: 4,
				N: 10
			}],
			dropsDisabled: !0,
			allowMember: !1,
			run: !0,
			"catch": !1,
			screen: "bg-battle-academy",
			invincible: !1,
			pets: [{
				ID: e.prodigy.player.data[this.daily].monsterID
			}]
		};
		e.prodigy.battle.start(i, this.runaway.bind(this, e, t), this.dailyBattleComplete.bind(this, e, t), null, "lamplight-B3")
	},
	runaway: function (e, t) {
		e.prodigy.world.teleport(t, this.battleTPCoordinates[0], this.battleTPCoordinates[1])
	},
	dailyBattleComplete: function (e, t) {
		var i = e.prodigy.player.data[this.daily];
		Util.isDefined(i.totalCompleted) ? i.totalCompleted++ : (i.totalCompleted = 1, 1 === e.prodigy.player.eventSignClicked && (e.prodigy.network.sendAnalytics("Sign-Clicked-And-Daily-Completed"), i.signClickedAndDailyCompleted = 1)), e.prodigy.player.completeDaily(this.daily, 1), e.prodigy.world.teleport(t, this.battleTPCoordinates[0], this.battleTPCoordinates[1])
	}
}), Prodigy.October = function () {
	Prodigy.Skin.call(this, "event-october", ["volcano-0", "mountain-0", "cloud-0", "town-0", "dino-0", "pirate-0", "tech-0", "forest-C8"])
}, Prodigy.extends(Prodigy.October, Prodigy.Skin, {
	constructor: Prodigy.October,
	getStoreData: function () {
		return [[{
			ID: 48,
			type: "hat"
		}, {
			ID: 44,
			type: "outfit"
		}, {
			ID: 71,
			type: "weapon"
		}], [{
			ID: 49,
			type: "hat"
		}, {
			ID: 45,
			type: "outfit"
		}], [{
			ID: 50,
			type: "hat"
		}, {
			ID: 46,
			type: "outfit"
		}, {
			ID: 72,
			type: "weapon"
		}], [{
			ID: 51,
			type: "hat"
		}, {
			ID: 52,
			type: "hat"
		}, {
			ID: 53,
			type: "hat"
		}]]
	},
	apply: function (e, t) {
		Prodigy.Skin.prototype.apply.call(this, e, t);
		var i = t.content,
			a = t.foreground,
			s = t.background,
			r = "event-october",
			o = t.saveTag;
		if ("volcano-0" === o) s.add(e.prodigy.create.sprite(960, 495, r, "cobwebs2", !0)), s.add(e.prodigy.create.sprite(50, 560, r, "crack1", !0)), s.add(e.prodigy.create.sprite(780, 200, r, "bal", !0)), i.add(e.prodigy.create.sprite(925, 381, r, "jackolantern1", !0)), i.add(e.prodigy.create.sprite(669, 430, r, "jackolantern2", !0)), i.add(e.prodigy.create.sprite(1060, 330, r, "candybag", !0)), i.add(e.prodigy.create.sprite(845, 520, r, "cal", !0)), a.add(e.prodigy.create.sprite(430, 405, r, "hangingdolls-ghosts", !0)), this.addOwl(e, s, 425, 290);
		else if ("mountain-0" === o) s.add(e.prodigy.create.sprite(636, 605, r, "hangingdolls-ghosts", !0)), s.add(e.prodigy.create.sprite(871, 600, r, "cobwebs2", !0)), i.add(e.prodigy.create.sprite(910, 434, r, "jackolantern1", !0)), i.add(e.prodigy.create.sprite(1077, 274, r, "jackolantern2", !0)), i.add(e.prodigy.create.sprite(440, 502, r, "candybag", !0)), i.add(e.prodigy.create.sprite(540, 405, r, "bal", !0)), i.add(e.prodigy.create.sprite(460, 371, r, "bal", !0)), this.addCandleStand(e, i, 290, 660), this.addCandle(e, s, 757, 126), this.addCandle(e, s, 526, 157);
		else if ("cloud-0" === o) s.add(e.prodigy.create.sprite(1037, 509, r, "hangingdolls-pumpkins")), i.add(e.prodigy.create.sprite(901, 570, r, "jackolantern3", !0)), i.add(e.prodigy.create.sprite(380, 220, r, "jackolantern1", !0)), i.add(e.prodigy.create.sprite(1100, 120, r, "jackolantern4", !0)), i.add(e.prodigy.create.sprite(570, 270, r, "bal", !0)), i.add(e.prodigy.create.sprite(1230, 180, r, "bxver1", !0)), i.add(e.prodigy.create.sprite(1225, 340, r, "candybag", !0)), i.add(e.prodigy.create.sprite(1180, 350, r, "pump2", !0)), this.addOwl(e, s, 90, 290, r), this.addCandle(e, s, 346, 135);
		else if ("town-0" === o) {
			i.add(e.prodigy.create.sprite(901, 500, r, "jackolantern3", !0)), i.add(e.prodigy.create.sprite(380, 220, r, "jackolantern1", !0)), i.add(e.prodigy.create.sprite(1100, 160, r, "jackolantern4", !0)), i.add(e.prodigy.create.sprite(135, 355, r, "bal", !0)), s.add(e.prodigy.create.sprite(1100, 550, r, "hangingdolls-pumpkins"));
			var n = i.add(e.prodigy.create.sprite(668, 410, r, "hauntedwagon", !0));
			n.inputEnabled = !0, n.events.onInputDown.add(this.openStore.bind(this, e)), n = i.add(e.prodigy.create.sprite(690, 415, r, "ghostlymerchant", !0)), n.inputEnabled = !0, n.events.onInputDown.add(this.openStore.bind(this, e)), e.add.tween(n).to({
				y: n.y + 10
			}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0), this.addCandle(e, s, 370, 135)
		} else "tech-0" === o ? (s.add(e.prodigy.create.sprite(470, 220, r, "bxver1", !0)), i.add(e.prodigy.create.sprite(130, 400, r, "candybag", !0)), i.add(e.prodigy.create.sprite(685, 490, r, "jackolantern1", !0)), i.add(e.prodigy.create.sprite(640, 515, r, "jackolantern2", !0)), i.add(e.prodigy.create.sprite(995, 340, r, "hangingdolls-ghosts", !0)), i.add(e.prodigy.create.sprite(600, 250, r, "cal", !0)), a.add(e.prodigy.create.sprite(458, 426, r, "cobwebs2", !0)), this.addCandleStand(e, i, 310, 230), this.addOwl(e, s, 765, 80), this.addPumpkinCat(e, i, 1040, 470)) : "dino-0" === o ? (s.add(e.prodigy.create.sprite(469, 179, r, "bal", !0)), s.add(e.prodigy.create.sprite(209, 346, r, "bal", !0)), s.add(e.prodigy.create.sprite(895, 110, r, "zombiehand", !0)), s.add(e.prodigy.create.sprite(1030, 550, r, "crack1", !0)), s.add(e.prodigy.create.sprite(980, 470, r, "pt", !0)), i.add(e.prodigy.create.sprite(220, 460, r, "jackolantern3", !0)), i.add(e.prodigy.create.sprite(877, 249, r, "pump2", !0)), a.add(e.prodigy.create.sprite(125, 235, r, "cobwebs1", !0)), a.add(e.prodigy.create.sprite(280, 237, r, "spider", !0)), this.addGrave(e, i, 1060, 502, !0), this.addCat(e, i, 909, 258), this.addCandle(e, i, 605, 160)) : "pirate-0" === o ? (s.add(e.prodigy.create.sprite(105, 380, r, "crack2", !0)), a.add(e.prodigy.create.sprite(1076, 500, r, "bal", !0)), i.add(e.prodigy.create.sprite(123, 653, r, "bxver2", !0)), i.add(e.prodigy.create.sprite(597, 420, r, "jackolantern4", !0)), i.add(e.prodigy.create.sprite(353, 456, r, "jackolantern3", !0)), a.add(e.prodigy.create.sprite(1210, 350, r, "hangingdolls-ghosts", !0)), a.add(e.prodigy.create.sprite(325, 90, r, "hangingdolls-pumpkins", !0)), this.addGrave(e, i, 470, 407, !1), this.addPumpkinCat(e, i, 465, 280)) : "forest-C8" === o && (i.add(e.prodigy.create.sprite(650, 615, r, "pt", !0)), a.add(e.prodigy.create.sprite(568, 280, r, "bal", !0)), i.add(e.prodigy.create.sprite(568, 338, r, "bxver2", !0)), i.add(e.prodigy.create.sprite(594, 364, r, "jackolantern4", !0)), i.add(e.prodigy.create.sprite(234, 314, r, "jackolantern1", !0)), i.add(e.prodigy.create.sprite(990, 313, r, "pump", !0)), a.add(e.prodigy.create.sprite(1240, 355, r, "hangingdolls-ghosts", !0)), a.add(e.prodigy.create.sprite(700, 160, r, "hangingdolls-pumpkins", !0)), i.add(e.prodigy.create.sprite(348, 560, r, "pt", !0)), i.add(e.prodigy.create.sprite(701, 210, r, "cobwebs2")), this.addGrave(e, i, 950, 390, !1), this.addPumpkinCat(e, i, 1005, 297), this.addCandle(e, i, 216, 339))
	},
	openStore: function (e) {
		e.prodigy.open.popupStore(e.prodigy.skin.activeStore(), "Open-Store-Town", "event-october")
	},
	addCat: function (e, t, i, a) {
		var s = t.add(e.prodigy.create.sprite(i, a, "event-october", "o1", !0));
		s.animations.add("stand", ["c1", "c1", "c1", "c1", "c1", "c2"], 1, !0, !1), s.animations.play("stand")
	},
	addOwl: function (e, t, i, a) {
		var s = t.add(e.prodigy.create.sprite(i, a, "event-october", "o1", !0));
		s.animations.add("stand", ["o2", "o2", "o2", "o2", "o2", "o1"], 1, !0, !1), s.animations.play("stand")
	},
	addCandle: function (e, t, i, a) {
		var s = t.add(e.prodigy.create.sprite(i, a, "event-october", "sc1", !0));
		s.animations.add("stand", ["sc1", "sc2", "sc3", "sc4"], 10, !0, !1), s.animations.play("stand")
	},
	addGrave: function (e, t, i, a, s) {
		var r = t.add(e.prodigy.create.sprite(i, a, "event-october", "ts0", !0));
		s && (r.animations.add("stand", ["ts0", "ts0", "ts0", "ts0", "ts0", "ts0", "ts0", "ts0", "ts1", "ts2", "ts3", "ts4", "ts3", "ts2", "ts1"], 8, !0, !1), r.animations.play("stand"))
	},
	addCandleStand: function (e, t, i, a) {
		var s = t.add(e.prodigy.create.sprite(i, a, "event-october", "bc1", !0));
		s.animations.add("stand", ["bc1", "bc3", "bc4"], 10, !0, !1), s.animations.play("stand")
	},
	addPumpkinCat: function (e, t, i, a) {
		var s = t.add(e.prodigy.create.sprite(i, a, "event-october", "cp1", !0));
		s.animations.add("stand", ["cp1", "cp1", "cp1", "cp1", "cp1", "cp1", "cp1", "cp1", "cp1", "cp1", "cp1", "cp2", "cp3", "cp4", "cp4", "cp4", "cp4", "cp4", "cp4", "cp5"], 10, !0, !1), s.animations.play("stand")
	}
}), Prodigy.Snow = function () {
	Prodigy.Skin.call(this, null, ["lamplight-A2", "lamplight-A3", "lamplight-A4", "lamplight-B0", "lamplight-B1", "lamplight-B2", "lamplight-B3", "lamplight-B4", "lamplight-B5", "lamplight-C2", "lamplight-C3", "lamplight-C4"])
}, Prodigy.extends(Prodigy.Snow, Prodigy.Skin, {
	constructor: Prodigy.Snow,
	apply: function (e, t) {
		Prodigy.Skin.prototype.apply.call(this, e, t);
		for (var i = null, a = t.foreground, s = 0; 50 > s; s++) i = a.add(e.prodigy.create.sprite(0, 0, "font-general", "42-30")), this.initSnowflake(e, i, !0)
	},
	initSnowflake: function (e, t, i) {
		if (Util.isDefined(e)) {
			var a = 5e3 + Math.floor(2e3 * Math.random());
			t.frameName = Math.random() < .5 ? "42-16" : "42-30", t.x = Math.floor(1280 * Math.random()), i ? (t.y = Math.floor(700 * Math.random()), a -= Math.floor(a / 720 * t.y)) : t.y = 0;
			var s = e.add.tween(t).to({
				x: t.x,
				y: 720
			}, a, Phaser.Easing.Linear.None);
			s.onComplete.addOnce(this.initSnowflake.bind(this, e, t, !1)), s.start()
		}
	}
}), Prodigy.Winterfest = function () {
	this.shopkeeperTag = "howard_cornelius", Prodigy.GameEvent.call(this, ["tileset-town-december", "event-winterfest", "npc-sprite-" + this.shopkeeperTag, "bgm-winterfest"], ["lamplight-A2", "lamplight-A3", "lamplight-A4", "lamplight-B0", "lamplight-B1", "lamplight-B2", "lamplight-B3", "lamplight-B4", "lamplight-B5", "lamplight-C2", "lamplight-C3", "lamplight-C4"]), this.shopkeeperName = "Howard Cornelius", this._store = {
		name: "WINTERFEST SHOP",
		pages: [{
			btn: {
				icon: "follow/1",
				bot: "Buddies"
			},
			items: [{
				ID: 24,
				type: "follow",
				cost: {
					ID: 5,
					type: "currency",
					N: 10
				}
			}, {
				ID: 23,
				type: "follow",
				cost: {
					ID: 5,
					type: "currency",
					N: 35
				}
			}, {
				ID: 25,
				type: "follow",
				cost: {
					ID: 5,
					type: "currency",
					N: 30
				}
			}]
		}, {
			btn: {
				icon: "item/76",
				bot: "Items"
			},
			items: [{
				ID: 76,
				type: "item",
				cost: {
					ID: 5,
					type: "currency",
					N: 1
				}
			}, {
				ID: 77,
				type: "item",
				cost: {
					ID: 5,
					type: "currency",
					N: 2
				}
			}]
		}, {
			btn: {
				icon: "hat/30",
				bot: "Hats"
			},
			items: [{
				ID: 25,
				type: "hat",
				cost: {
					ID: 5,
					type: "currency",
					N: 5
				}
			}, {
				ID: 24,
				type: "hat",
				cost: {
					ID: 5,
					type: "currency",
					N: 10
				}
			}, {
				ID: 27,
				type: "hat",
				cost: {
					ID: 5,
					type: "currency",
					N: 10
				}
			}, {
				ID: 28,
				type: "hat",
				cost: {
					ID: 5,
					type: "currency",
					N: 10
				}
			}, {
				ID: 26,
				type: "hat",
				cost: {
					ID: 5,
					type: "currency",
					N: 5
				}
			}, {
				ID: 57,
				type: "hat",
				cost: {
					ID: 5,
					type: "currency",
					N: 15
				}
			}, {
				ID: 58,
				type: "hat",
				cost: {
					ID: 5,
					type: "currency",
					N: 15
				}
			}, {
				ID: 29,
				type: "hat",
				cost: {
					ID: 5,
					type: "currency",
					N: 25
				}
			}, {
				ID: 30,
				type: "hat",
				cost: {
					ID: 5,
					type: "currency",
					N: 10
				}
			}]
		}, {
			btn: {
				icon: "outfit/26",
				bot: "Outfits"
			},
			items: [{
				ID: 25,
				type: "outfit",
				cost: {
					ID: 5,
					type: "currency",
					N: 15
				}
			}, {
				ID: 26,
				type: "outfit",
				cost: {
					ID: 5,
					type: "currency",
					N: 20
				}
			}, {
				ID: 49,
				type: "outfit",
				cost: {
					ID: 5,
					type: "currency",
					N: 20
				}
			}]
		}, {
			btn: {
				icon: "weapon/48",
				bot: "Wands"
			},
			items: [{
				ID: 48,
				type: "weapon",
				cost: {
					ID: 5,
					type: "currency",
					N: 15
				}
			}]
		}, {
			btn: {
				icon: "boots/19",
				bot: "Boots"
			},
			items: [{
				ID: 19,
				type: "boots",
				cost: {
					ID: 5,
					type: "currency",
					N: 5
				}
			}]
		}, {
			btn: {
				icon: "catalogue",
				bot: "House"
			},
			items: [{
				ID: 98,
				type: "dorm",
				cost: {
					ID: 5,
					type: "currency",
					N: 10
				}
			}, {
				ID: 99,
				type: "dorm",
				cost: {
					ID: 5,
					type: "currency",
					N: 5
				}
			}, {
				ID: 100,
				type: "dorm",
				cost: {
					ID: 5,
					type: "currency",
					N: 15
				}
			}, {
				ID: 101,
				type: "dorm",
				cost: {
					ID: 5,
					type: "currency",
					N: 10
				}
			}, {
				ID: 102,
				type: "dorm",
				cost: {
					ID: 5,
					type: "currency",
					N: 10
				}
			}, {
				ID: 103,
				type: "dorm",
				cost: {
					ID: 5,
					type: "currency",
					N: 10
				}
			}, {
				ID: 104,
				type: "dorm",
				cost: {
					ID: 5,
					type: "currency",
					N: 5
				}
			}, {
				ID: 105,
				type: "dorm",
				cost: {
					ID: 5,
					type: "currency",
					N: 8
				}
			}, {
				ID: 106,
				type: "dorm",
				cost: {
					ID: 5,
					type: "currency",
					N: 10
				}
			}, {
				ID: 107,
				type: "dorm",
				cost: {
					ID: 5,
					type: "currency",
					N: 20
				}
			}, {
				ID: 108,
				type: "dorm",
				cost: {
					ID: 5,
					type: "currency",
					N: 15
				}
			}, {
				ID: 109,
				type: "dorm",
				cost: {
					ID: 5,
					type: "currency",
					N: 10
				}
			}, {
				ID: 110,
				type: "dorm",
				cost: {
					ID: 5,
					type: "currency",
					N: 5
				}
			}, {
				ID: 111,
				type: "dorm",
				cost: {
					ID: 5,
					type: "currency",
					N: 10
				}
			}, {
				ID: 112,
				type: "dorm",
				cost: {
					ID: 5,
					type: "currency",
					N: 5
				}
			}, {
				ID: 113,
				type: "dorm",
				cost: {
					ID: 5,
					type: "currency",
					N: 10
				}
			}, {
				ID: 114,
				type: "dorm",
				cost: {
					ID: 5,
					type: "currency",
					N: 5
				}
			}]
		}]
	}, this.overrideNames = {
		"lamplight-A2": "map-lamplight-a2-winterfest",
		"lamplight-A3": "map-lamplight-a3-winterfest",
		"lamplight-A4": "map-lamplight-a4-winterfest",
		"lamplight-B0": "map-lamplight-b0-winterfest",
		"lamplight-B1": "map-lamplight-b1-winterfest",
		"lamplight-B2": "map-lamplight-b2-winterfest",
		"lamplight-B3": "map-lamplight-b3-winterfest",
		"lamplight-B4": "map-lamplight-b4-winterfest",
		"lamplight-B5": "map-lamplight-b5-winterfest",
		"lamplight-C2": "map-lamplight-c2-winterfest",
		"lamplight-C3": "map-lamplight-c3-winterfest",
		"lamplight-C4": "map-lamplight-c4-winterfest"
	}, this.dailyPlacements = [{
		"lamplight-A2": [1e3, 320, 920, 160]
	}, {
		"lamplight-A3": [320, 360, 320, 200]
	}, {
		"lamplight-A4": [960, 240, 880, 80]
	}, {
		"lamplight-B2": [240, 280, 160, 120]
	}, {
		"lamplight-B3": [480, 280, 480, 120]
	}, {
		"lamplight-B4": [200, 360, 120, 200]
	}, {
		"lamplight-B5": [1080, 400, 1120, 240]
	}, {
		"lamplight-C2": [1040, 480, 1040, 320]
	}, {
		"lamplight-C3": [1e3, 400, 920, 240]
	}, {
		"lamplight-C4": [360, 360, 360, 200]
	}], this.daily = "winterfestDaily", this.intro = "intro", this.dailyMonsters = [16, 40, 51, 62, 78, 87], this.dailyDrops = [{
		type: "currency",
		ID: 5,
		N: 10
	}], this.canDoDaily = !1, this.battleTPCoordinates = [640, 320], this.eventName = "Winterfest"
}, Prodigy.extends(Prodigy.Winterfest, Prodigy.GameEvent, {
	constructor: Prodigy.Winterfest,
	buttons: function (e) {
		return e.prodigy.player.backpack.hasItem("key", 13) ? [{
			key: "icons-hud",
			frameName: "winterfest",
			callback: e.prodigy.open.confirm.bind(e.prodigy.open, "Do you want to travel to town and take part in " + this.eventName + "?", this.teleportToEvent.bind(this, e))
		}] : []
	},
	init: function (e, t) {
		Prodigy.GameEvent.prototype.init.call(this, e, t);
		var i = e.prodigy.player.data[this.daily],
			a = e.prodigy.player.canDoDaily(this.daily, this.resetDaily.bind(this, e.prodigy.player)),
			s = Util.isDefined(i) && Util.isDefined(i.dailyLocation) && Util.isDefined(i.dailyLocation[t.saveTag]);
		return this.canDoDaily = a && s, this.canDoDaily ? t.zone.enableLayer(1, !0) : t.zone.enableLayer(1, !1), {
			bgm: "bgm-winterfest"
		}
	},
	apply: function (e, t) {
		Prodigy.GameEvent.prototype.apply.call(this, e, t);
		var i = "event-winterfest",
			a = t.saveTag;
		if ("lamplight-B3" === a) {
			var s = t.content.add(e.prodigy.create.sprite(640, 250, i, "event-sign-1"));
			s.anchor.setTo(.5, 1), s.inputEnabled = !0, s.events.onInputDown.add(this.signOnInputDown.bind(this, e, "Every day during Winterfest, one of the Puppet Master's scouts tries to sneak into Lamplight Town, by disguising themselves as a snowman.\n\nFind the snowman and defeat the monster inside. If you do, you'll collect a bunch of Magic Snowflakes!", null, "snowflake-small", "Event Daily Task")), s.animations.add("sway", ["event-sign-1", "event-sign-2", "event-sign-3", "event-sign-4", "event-sign-5", "event-sign-6", "event-sign-7", "event-sign-8", "event-sign-9", "event-sign-10", "event-sign-11", "event-sign-12", "event-sign-13", "event-sign-14", "event-sign-15", "event-sign-16"], 10, !0, !1), s.animations.play("sway");
			for (var r = new Prodigy.Container.HowardCornelius(e, t.content, 1025, 550), o = 0; o < r.sprite.children.length; o++) r.sprite.children[o].inputEnabled = !0, r.sprite.children[o].events.onInputDown.add(this.talkToShopkeeper.bind(this, e));
			var n = e.prodigy.player.data[this.daily];
			Util.isDefined(n) ? 1 !== n[this.intro] && (Util.log("Intro not defined: play intro"), this.eventIntroduction(e)) : (Util.log("Daily not defined: play intro"), e.prodigy.player.data[this.daily] = {}, this.eventIntroduction(e))
		}
		var h = e.prodigy.player.state.get("zone-lamplight");
		Util.isDefined(h) && Util.isDefined(h.quest) && h.quest.ID > 1 && this.placeDaily(e, t, a, 3, 4)
	},
	talkToShopkeeper: function (e) {
		var t = e.prodigy.event.create();
		t.text(0, this.shopkeeperTag), t.text(1, this.shopkeeperTag), t.text(2, this.shopkeeperTag), t.function(this.openStore.bind(this, e)), t.start()
	},
	eventIntroduction: function (e) {
		var t = e.prodigy.event.create();
		t.text(3, this.shopkeeperTag), t.text(4, this.shopkeeperTag), t.text(5, this.shopkeeperTag), t.function(this.setIntroState.bind(this, e.prodigy.player, 1)), t.start()
	}
}), Prodigy.MagicParticle = function () {
	Prodigy.Skin.call(this, null, ["forest-A3", "forest-A4", "forest-A5", "forest-B5", "forest-B6", "forest-B7", "forest-B8", "forest-C4", "forest-C7", "forest-C8", "forest-D3"])
}, Prodigy.extends(Prodigy.MagicParticle, Prodigy.Skin, {
	constructor: Prodigy.MagicParticle,
	apply: function (e, t) {
		Prodigy.Skin.prototype.apply.call(this, e, t)
	},
	init: function (e, t) {
		Prodigy.Skin.prototype.init.call(this, e, t), this.game = e, this.initListeners();
		var i = t.foreground;
		this.magicParticle = [], this.magicTween = [], this._count = 0;
		for (var a = 0; 3 > a; a++) this.magicParticle.push(i.add(e.prodigy.create.sprite(Math.floor(1280 * Math.random()), Math.floor(720 * Math.random()), "core", "sparkle-yellow-1"))), this.magicTween.push(new Prodigy.TweenController(e, this.magicParticle[a])), this.magicTween[a].set("frameName", ["sparkle-yellow-1", "sparkle-yellow-2", "sparkle-yellow-3"], 150, 9999), this.magicTween[a].end(this.randomizePosition.bind(this)), this.magicTween[a].start()
	},
	initListeners: function () {
		this.game.broadcaster.addAppListener(Prodigy.Events.GameObj.UPDATE, this.update.bind(this), this, this.game)
	},
	stopListeners: function () {
		this.game.broadcaster.removeAppListener(Prodigy.Events.GameObj.UPDATE, this, this.game)
	},
	randomizePosition: function () {
		for (var e = 0; e < this.magicParticle.length; e++) this.magicParticle[e].x = Math.floor(1280 * Math.random()), this.magicParticle[e].y = Math.floor(720 * Math.random())
	},
	update: function () {
		for (var e = 0; e < this.magicTween.length; e++) this.magicTween[e].update()
	}
}), Prodigy.MagicParticle2 = function () {
	Prodigy.Skin.call(this, null, ["forest-A3", "forest-A4", "forest-A5", "forest-B5", "forest-B6", "forest-B7", "forest-B8", "forest-C4", "forest-C7", "forest-C8", "forest-D3"])
}, Prodigy.extends(Prodigy.MagicParticle2, Prodigy.Skin, {
	constructor: Prodigy.MagicParticle2,
	apply: function (e, t) {
		Prodigy.Skin.prototype.apply.call(this, e, t)
	},
	init: function (e, t) {
		Prodigy.Skin.prototype.init.call(this, e, t), this.game = e, this.initListeners();
		var i = t.foreground;
		this.magicParticle = [], this.magicTween = [], this._count = 0;
		for (var a = 0; 5 > a; a++) this.magicParticle.push(i.add(e.prodigy.create.sprite(Math.floor(1280 * Math.random()), Math.floor(720 * Math.random()), "core", "sparkle-yellow-1")))
	},
	initListeners: function () {
		this.game.broadcaster.addAppListener(Prodigy.Events.GameObj.UPDATE, this.update.bind(this), this, this.game)
	},
	stopListeners: function () {
		this.game.broadcaster.removeAppListener(Prodigy.Events.GameObj.UPDATE, this, this.game)
	},
	randomizePosition: function () {
		for (var e = 0; e < this.magicParticle.length; e++) this.magicParticle[e].x = Math.floor(1280 * Math.random()), this.magicParticle[e].y = Math.floor(720 * Math.random())
	},
	update: function () {
		for (var e = 0; e < this.magicParticle.length; e++) this.magicParticle[e].y -= 1;
		this._count++, this._count > 180 && (this.randomizePosition.call(this), this._count = 0)
	}
}), Prodigy.SkinFactory = function (e) {
	this.game = e, this.active = [new Prodigy.MagicParticle2]
}, Prodigy.SkinFactory.prototype = {
	constructor: Prodigy.SkinFactory,
	activeStore: function () {
		for (var e = 0; e < this.active.length; e++) {
			var t = this.active[e].getStoreData();
			if (Util.isDefined(t)) return t
		}
		return null
	},
	buttons: function () {
		for (var e = [], t = 0; t < this.active.length; t++) e = e.concat(this.active[t].buttons(this.game));
		return e
	},
	assets: function (e) {
		for (var t = [], i = 0; i < this.active.length; i++) this.active[i].active(this.game, e) && (t = t.concat(this.active[i].assets(e)));
		return t
	},
	apply: function (e) {
		for (var t = 0; t < this.active.length; t++) this.active[t].active(this.game, e.saveTag) && this.active[t].apply(this.game, e)
	},
	init: function (e) {
		for (var t = [], i = 0; i < this.active.length; i++) this.active[i].active(this.game, e.saveTag) && t.push(this.active[i].init(this.game, e));
		return t
	}
}, Prodigy.Zone = function (e) {
	this.game = e, this.util = null, this.states = [], this.maps = {}, this.quests = {}, this.store = {}, this.disabledLayers = [], this.bgm = "bgm-intro", this.debugBounties = !1
}, Prodigy.Zone.prototype = {
	getMap: function (e) {
		return this.maps[e]
	},
	getScene: function (e) {
		return this.scenes[e]
	},
	isLayerEnabled: function (e) {
		return -1 === this.disabledLayers.indexOf(e)
	},
	enableLayer: function (e, t) {
		var i = this.disabledLayers.indexOf(e);
		t ? -1 !== i && this.disabledLayers.splice(i, 1) : -1 === i && (this.disabledLayers.push(e), this.disabledLayers.sort(function (e, t) {
			return e - t
		}))
	},
	teleport: function (e, t, i, a, s) {
		if (Util.isDefined(this.game.prodigy.world.currentZone) && (this.game.prodigy.world.previousZone = this.game.prodigy.world.currentZone), this.game.prodigy.world.currentZone = this.ID + "-" + e, e = this.getMap(e), Util.isDefined(e)) {
			this.game.state.states.TileScreen.initMap(e, this, t, i, a), s = s || {}, s.assets = s.assets || [], s.assets = s.assets.concat(["map-pathing"]).concat(e.assets), s.assets = s.assets.concat(this.game.prodigy.skin.assets(e._zoneName));
			var r = this.getCurrentQuest();
			Util.isDefined(r) && (s.assets = s.assets.concat(r.assets)), Util.log(s.assets, 2), s.title = s.title || e._name, s.x = t, s.y = i, this.game.prodigy.start("TileScreen", s)
		}
	},
	playScene: function (e) {
		if (e = this.getScene(e), Util.isDefined(e)) {
			this.game.state.states.TileScreen.initScene(e, this);
			var t = e._loadingData;
			t.assets = [], t.assets = t.assets.concat(["map-pathing"]).concat(e.assets), t.title = e._name, this.game.prodigy.start("TileScreen", t)
		}
	},
	init: function () {},
	setup: function (e, t, i) {
		var a = this.getCurrentQuest();
		return i._questParams = {}, Util.isDefined(a) && !i._isScene ? a.setup(e, t, i) : null
	},
	start: function (e, t, i) {
		var a = this.getCurrentQuest();
		Util.isDefined(a) && a.start(e, t, i)
	},
	update: function (e, t, i) {
		var a = this.getCurrentQuest();
		Util.isDefined(a) && a.update(e, t, i)
	},
	process: function (e, t, i) {
		if (Util.isDefined(this.monsters)) {
			Util.isDefined(this.getState("daily")) ? Util.getDate() !== this.getState("daily").date && this.setState("daily", {
				date: Util.getDate(),
				flags: [1, 1, 1, 1, 1],
				rewards: this.getState("daily").rewards
			}) : this.setState("daily", {
				date: Util.getDate(),
				flags: [1, 1, 1, 1, 1],
				rewards: 0
			});
			var a = [],
				s = [],
				r = new Prodigy.SeededRandomGenerator(this.getState("daily").date);
			for (var o in this.maps) "shiverchill" === this.ID ? Util.isDefined(this.maps[o].daily_coords) && s.push(o) : s.push(o);
			for (var n = 0; 5 > n; n++) a.push(s[Math.floor(r.jumpFromStart(n) * (s.length - 1))])
		}
		var h = this.getCurrentQuest();
		Util.isDefined(h) && h.process(e, t, i)
	},
	getQuest: function (e) {
		return this.quests[e]
	},
	getCurrentQuest: function () {
		var e = this.getQuestState();
		return Util.isDefined(e) ? this.getQuest(e.ID) : null
	},
	getState: function (e) {
		var t = -1;
		if ("quest" !== e) {
			for (var i = 0; i < this.states.length; i++) this.states[i] === e && (t = i);
			if (-1 === t) return null
		} else t = e;
		return this.game.prodigy.player.state.get("zone-" + this.ID + "-" + t)
	},
	setState: function (e, t) {
		var i = -1;
		if ("quest" !== e)
			for (var a = 0; a < this.states.length; a++) this.states[a] === e && (i = a);
		else i = e; - 1 !== i && this.game.prodigy.player.state.set("zone-" + this.ID + "-" + i, t)
	},
	getQuestState: function () {
		return this.getState("quest")
	},
	setQuestVar: function (e, t) {
		Util.isDefined(this.getQuestState()) && (this.getQuestState().state[e] = t)
	},
	getQuestVar: function (e) {
		var t = this.getQuestState();
		return Util.isDefined(t) ? t.state[e] : null
	},
	startQuest: function (e) {
		var t = this.getQuestState();
		if (Util.isDefined(t) || (t = {
				ID: 1
			}), t.ID === e) {
			var i = this.getQuest(t.ID);
			return t.req = Util.copyObject(i.req), t.state = Util.copyObject(i.state) || {}, t.seq = 0, this.game.prodigy.player.state.set("zone-" + this.ID + "-quest", t), i
		}
	},
	isQuestStarted: function (e) {
		var t = this.getQuestState();
		return !(!Util.isDefined(t) || !Util.isDefined(t.req) || t.ID !== e)
	},
	isQuestComplete: function (e) {
		if (!this.isQuestStarted(e)) return !1;
		var t = this.getQuestState(),
			i = t.req,
			a = this.getQuest(e);
		return this.getQuestState().ID !== e ? !1 : "pet" === i.type && i.N > 0 ? !1 : "clear" === i.type && i.N > 0 ? !1 : Util.inArray(["item", "weapon", "hat", "outfit", "boots", "key"], i.type) && this.game.prodigy.player.backpack.hasItem(i.type, i.ID) < i.N ? !1 : "state" === i.type && this.game.prodigy.player.state.get(i.state) !== i.target ? !1 : "zone" === i.type && this.game.prodigy.player.data.zone !== a.area[0] ? !1 : "zstate" === i.type && i.N !== this.getState(i.ID) ? !1 : "zgteState" === i.type && this.getState(i.ID) < i.N ? !1 : !("seq" === i.type && i.N !== t.seq)
	},
	completeQuest: function (e) {
		if (!this.isQuestStarted(e)) return !1;
		var t = this.getQuestState();
		if (t.ID === e) {
			var i = t.req;
			"item" !== i.type || i.K || this.game.prodigy.player.backpack.consume(i.type, i.ID, i.N), this.game.prodigy.player.state.set("zone-" + this.ID + "-quest", {
				ID: t.ID + 1
			})
		}
	},
	isQuestProc: function (e) {
		return this.isQuestStarted(e) && this.isQuestComplete(e) && this.getQuestState().proc
	},
	procQuest: function (e) {
		this.isQuestStarted(e) && this.isQuestComplete(e) && this.game.prodigy.player.state.set("zone-" + this.ID + "-quest-proc", 1)
	},
	isOnQuest: function (e) {
		var t = this.getQuestState();
		return Util.isDefined(t) && t.ID === e
	},
	getCurrentQuestID: function () {
		var e = this.getQuestState();
		return Util.isDefined(e) ? e.ID : 0
	},
	defeatMonster: function (e, t, i) {
		var a = this.getQuestState();
		if (Util.isDefined(a) && Util.isDefined(a.req)) {
			var s = a.req,
				r = Util.isDefined(s.U) && s.U;
			"pet" === s.type && s.ID === e && r === i ? (s.N--, i && (a.state[t] = 1), this.game.prodigy.player.state.updated = !0) : "clear" === s.type && r === i && (s.N--, i && (a.state[t] = 1), this.game.prodigy.player.state.updated = !0)
		}
	},
	isOnSequence: function (e, t) {
		var i = this.getQuestState();
		return !(!Util.isDefined(i) || i.ID !== e || !Util.isDefined(i.req) || i.seq !== t)
	},
	isSequenceComplete: function (e, t) {
		var i = this.getQuestState();
		return Util.isDefined(i) && i.ID === e && i.seq > t
	},
	completeSequence: function (e, t) {
		var i = this.getQuestState();
		Util.isDefined(i) && i.ID === e && Util.isDefined(i.req) && i.seq === t && (i.seq++, this.game.prodigy.player.state.updated = !0)
	},
	undoSequence: function (e, t) {
		var i = this.getQuestState();
		Util.isDefined(i) && i.ID === e && Util.isDefined(i.req) && i.seq === t && (i.seq--, this.game.prodigy.player.state.updated = !0)
	},
	getDailyMaps: function () {
		var e = [];
		for (var t in this.maps) e.push(t);
		return e
	},
	hasDaily: function (e) {
		if (Util.isDefined(this.getState("daily"))) {
			var t = new Prodigy.SeededRandomGenerator(this.getState("daily").date),
				i = this.getDailyMaps();
			if (Util.isDefined(i))
				for (var a = 0; 5 > a; a++)
					if (i[Math.floor(t.jumpFromStart(a) * (i.length - 1))] === e._tag && 0 !== this.getState("daily").flags[a]) return !0
		}
		return !1
	},
	testQuest: function (e, t, i) {
		this.game.prodigy.player.state.data.zone[this.ID] = {};
		for (var a = 1; e > a; a++) this.startQuest(a), this.completeQuest(a);
		t && this.startQuest(e);
		for (var a = 0; i > a; a++) this.completeSequence(e, a)
	}
}, Prodigy.Zone.prototype.constructor = Prodigy.Zone, Prodigy.Map = function (e, t, i, a, s, r, o) {
	this._tag = t, this._name = i, this._zoneName = e.ID + "-" + t, this._x = a, this._y = s, this._file = "map-" + this._zoneName.toLowerCase(), this._onFaint = e.onFaint, this._zone = e, this._battleBG = e.battleBG, this.isQuestHub = e.questHub.indexOf(t) >= 0, this.assets = [this._file, "tileset-core"].concat(o), this._monsters = {}, this._locations = r, this._questParams = {}, this._animatedSprites = [], this._disabledLayers = [""]
}, Prodigy.Map.prototype = {
	setup: function (e, t, i) {
		this._questParams = i || {};
		var a = e.prodigy.bounty.hasBounty(this._zone.ID, this._tag);
		a && e.prodigy.bounty.placeBounty(a, t, this), this._zone.debugBounties && this.showAllBounties(e, t), this._zone.hasDaily(this) && Util.isDefined(this._zone.monsters) && this._zone.placeDaily(this, e, t), this.game = e, this.screen = t
	},
	start: function (e, t, i) {
		Device.isTablet() || Device.iPadMini() || 1 == Util.getUrlVariable("iosApp") || !i && !this._zone.bgm || (e.prodigy.audio.playBGM(i || this._zone.bgm, !0, !0), e.prodigy.audio.resumeBGM())
	},
	process: function () {},
	update: function () {},
	getTag: function () {
		return this._tag
	},
	getName: function () {
		return this._name
	},
	cleanup: function () {},
	processAnimations: function (e, t) {
		for (var i = 0; i < this._animatedSprites.length; i++) {
			var a = this._animatedSprites[i];
			a.isAbove ? t.above.add(a) : t.below.add(a)
		}
	},
	addAreaEvent: function (e, t, i, a, s, r, o, n, h, l) {
		return i.target = a, Util.isDefined(o) || (o = e.prodigy.world.teleport.bind(e.prodigy.world, a, s, r)), t.addAreaEvent(i, o, n, h, l)
	},
	addHealStone: function (e, t, i, a) {
		return t.addHealStone(i, a)
	},
	addQuestNPC: function (e, t, i, a, s, r, o) {
		return t.addQuestNPC(i, a, s, r, o)
	},
	addConstructedQuestNPC: function (e, t, i, a, s, r, o) {
		return t.addConstructedQuestNPC(i, a, s, r, o)
	},
	addClickableEvent: function (e, t, i, a, s, r, o, n, h, l) {
		return t.addClickableEvent(i, a, s, r, o, n, h, l)
	},
	addFireflyEvent: function (e, t, i, a, s, r, o, n, h) {
		return t.addFireflyEvent(i, a, s, r, o, n, h)
	},
	addChest: function (e, t, i, a, s, r, o) {
		return !Util.isDefined(this._questParams.enableChests) || this._questParams.enableChests ? t.addChest(i, a, s, r, o) : void 0
	},
	addCollect: function (e, t, i, a, s, r) {
		t.addCollect(i, a, s, r, this)
	},
	addMonster: function (e, t, i, a, s, r, o, n, h, l) {
		if (!Util.isDefined(this._questParams.enableMonsters) || this._questParams.enableMonsters) {
			if (o = Util.copyObject(o), Util.isDefined(this._monsters[i]) || (this._monsters[i] = {}), !n && this._monsters[i].respawn > (new Date).getTime()) return null;
			o.onEnd = o.onEnd || this._zoneName, o.onFaint = o.onFaint || this._onFaint, o.screen = o.screen || this._battleBG;
			var d = function (e, t) {
				e[t].data = null, e[t].monsterData = null, e[t].respawn = (new Date).getTime() + 12e4
			};
			Util.isDefined(this._monsters[i].data) && !l && (o.encounter = [this._monsters[i].data]);
			var p = t.addMonster(i, a, s, r, o, d.bind(this, this._monsters, i), Util.isDefined(this._monsters[i].respawn), h);
			return this._monsters[i].data = p.monsterData, delete this._monsters[i].respawn, p
		}
	},
	addBounty: function (e, t, i, a, s, r, o, n) {
		if (o = Util.copyObject(o), Util.isDefined(this._monsters[i]) || (this._monsters[i] = {}), n || !(this._monsters[i].respawn > (new Date).getTime())) {
			o.onEnd = o.onEnd || this._zoneName, o.onFaint = o.onFaint || this._onFaint, o.screen = o.screen || this._battleBG;
			var h = function (e, t) {
				e[t].monsterData = null, e[t].respawn = (new Date).getTime() + 5e3
			};
			Util.isDefined(this._monsters[i].monsterData) && (o.encounter = [this._monsters[i].monsterData]);
			var l = t.addBounty(i, a, s, r, o, h.bind(this, this._monsters, i), Util.isDefined(this._monsters[i].respawn));
			return this._monsters[i].data = l.monsterData, delete this._monsters[i].respawn, l
		}
	},
	addWizard: function (e, t, i, a, s, r) {
		return r.onEnd = r.onEnd || this._zoneName, r.onFaint = r.onFaint || this._onFaint, r.screen = r.screen || this._battleBG, t.addWizard(i, a, s, r)
	},
	addNPC: function (e, t, i, a, s, r, o, n) {
		return t.addNPC(i, a, s, r, o, n)
	},
	addConstructedNPC: function (e, t, i, a, s, r, o, n) {
		return Util.isDefined(this._questParams.hiddenNPCs) && this._questParams.hiddenNPCs.indexOf(s) > -1 ? null : t.addConstructedNPC(i, a, s, r, o, n)
	},
	addGnome: function (e, t, i, a, s, r, o, n) {
		return t.addGnome(i, a, s, r, o, n)
	},
	addBlock: function (e, t, i, a, s) {
		return t.addBlock(i, a, s)
	},
	addCollisionZone: function (e, t, i, a, s) {
		var r = e.path.size,
			o = Math.floor(a / r),
			n = Math.floor(s / r),
			h = Math.floor(t / r),
			l = Math.floor(i / r);
		for (t = h; h + o > t; t++)
			for (i = l; l + n > i; i++) e.path.area[i][t] = 0
	},
	init: function (e, t, i) {
		var a = null;
		this.above = i, this.below = t;
		for (var s = 0; s < e.prodigy.skin.active.length; s++) {
			var r = null;
			a = e.prodigy.skin.active[s], a.active(e, this._zoneName) && (r = a.getOverrideName(this._zoneName), Util.isDefined(r) && (this._file = r))
		}
		for (var o = e.cache.getJSON(this._file), n = e.cache.getJSON("map-pathing").tilesets, h = [], s = 0; 36 > s; s++) {
			h.push([]);
			for (var l = 0; 64 > l; l++) h[s][l] = 1
		}
		var d, p, c = null,
			g = "";
		for (s = 0; s < o.layers.length; s++) {
			c = o.layers[s], g = c.name.toUpperCase(), d = c.visible, p = !1;
			for (var u = !1, y = 0; y < this._disabledLayers.length; y++) c.name === this._disabledLayers[y] && (u = !0);
			if (u === !0 && (d = !1), Util.isDefined(c.properties))
				if (p = Util.isDefined(c.properties.isAbove), Util.isDefined(c.properties.toggle))
					for (l = 0; l < this._zone.disabledLayers.length; l++) c.properties.toggle == this._zone.disabledLayers[l] && (d = !1);
				else Util.isDefined(c.properties.reference) && (d = !1);
			d && (p ? this.initLayer(e, i, c, o.tilesets, n, null) : this.initLayer(e, t, c, o.tilesets, n, h))
		}
		return h
	},
	initLayer: function (e, t, i, a, s, r) {
		return Util.isDefined(i) ? Util.isDefined(i.objects) ? this.initObjectLayer(e, t, i, a, s, r) : this.initTiledLayer(e, t, i, a, s, r) : void 0
	},
	initTiledLayer: function (e, t, i, a, s, r) {
		var o = 0,
			n = 0,
			h = null;
		for (o; 32 > o; o++)
			for (var l = 0; 18 > l; l++) {
				var d = 32 * l + o;
				n = i.data[d], h = this.getTile(e, n, 40 * o, 40 * l, s, r, a, null), Util.isDefined(h) && this.addSpriteToLayer(h, t, i)
			}
		return t
	},
	initObjectLayer: function (e, t, i, a, s, r) {
		var o = 0,
			n = 0,
			h = null,
			l = null;
		for (o; o < i.objects.length; o++) l = i.objects[o], n = l.gid, h = this.getTile(e, n, l.x, l.y, s, r, a, null), Util.isDefined(h) && (h.anchor.setTo(.5, .5), h.x = parseInt(l.x + 20), h.y = parseInt(l.y - 20), this.addSpriteToLayer(h, t, i));
		return t
	},
	addSpriteToLayer: function (e, t, i) {
		e.isAnimatedSprite ? (this._animatedSprites.push(e), e.isAbove = Util.isDefined(i.properties) && Util.isDefined(i.properties.isAbove)) : t.add(e)
	},
	getTileset: function (e, t) {
		for (var i = 0; i < e.length; i++) {
			var a = e[i],
				s = a.imageheight / a.tileheight * (a.imagewidth / a.tilewidth);
			if (t >= a.firstgid && t < a.firstgid + s) return a
		}
		return null
	},
	getTileProperties: function (e, t, i) {
		for (var a = 0; a < i.length; a++)
			if (i[a].name === e.name && Util.isDefined(i[a].tileproperties)) return i[a].tileproperties[t];
		return null
	},
	getTile: function (e, t, i, a, s, r, o, n) {
		Util.isDefined(o) || (o = e.cache.getJSON(this._file).tilesets);
		var h = 2147483648,
			l = 1073741824,
			d = 536870912,
			p = t & h,
			c = t & l,
			g = t & d;
		t &= ~(h | l | d);
		var u = this.getTileset(o, t);
		if (!Util.isDefined(u) || !Util.isDefined(t)) return null;
		t -= u.firstgid;
		var y = this.getTileProperties(u, t, s);
		if (Util.isDefined(y)) var m = y.x;
		var f = null;
		f = Util.isDefined(u.tiles) && Util.isDefined(u.tiles[t]) ? e.prodigy.create.sprite(i, a, u.name, t) : new Phaser.Image(e, i, a, u.name, t), (g || c || p) && (f.anchor.setTo(.5, .5), f.x += 20, f.y += 20);
		var b;
		if (g ? (f.angle = -90, Util.isDefined(y) && (b = y.x[1], b += y.x[3], b += y.x[0], b += y.x[2], y.x = b), f.scale.x = -1, Util.isDefined(y) && (b = y.x[1], b += y.x[0], b += y.x[3], b += y.x[2], y.x = b), p && (f.scale.y = -f.scale.y, Util.isDefined(y) && (b = y.x[2], b += y.x[3], b += y.x[0], b += y.x[1], y.x = b)), c && (f.scale.x = -f.scale.x, Util.isDefined(y) && (b = y.x[1], b += y.x[0], b += y.x[3], b += y.x[2], y.x = b))) : (p && (f.scale.x = -f.scale.x, Util.isDefined(y) && (b = y.x[1], b += y.x[0], b += y.x[3], b += y.x[2], y.x = b)), c && (f.scale.y = -f.scale.y, Util.isDefined(y) && (b = y.x[2], b += y.x[3], b += y.x[0], b += y.x[1], y.x = b))), Util.isDefined(r) && Util.isDefined(y) && Util.isDefined(y.x)) {
			var v = y.x,
				w = Math.floor(i / 40),
				P = Math.floor(a / 40);
			1 == v[0] && (r[2 * P][2 * w] = 0), 1 == v[1] && (r[2 * P][2 * w + 1] = 0), 1 == v[2] && (r[2 * P + 1][2 * w] = 0), 1 == v[3] && (r[2 * P + 1][2 * w + 1] = 0), 6 == v[0] && (r[2 * P][2 * w] = 6), 6 == v[1] && (r[2 * P][2 * w + 1] = 6), 6 == v[2] && (r[2 * P + 1][2 * w] = 6), 6 == v[3] && (r[2 * P + 1][2 * w + 1] = 6)
		}
		if (Util.isDefined(y) && Util.isDefined(m) && (y.x = m), Util.isDefined(r) && n)
			for (var w = 0; 2 > w; w++)
				for (var P = 0; 2 > P; P++) r[a / 40 * 2 + w][i / 40 * 2 + P] = 1;
		if (Util.isDefined(u.tiles) && Util.isDefined(u.tiles[t])) {
			var x = u.tiles[t].animation,
				D = [];
			for (w = 0; w < x.length; w++) D.push(x[w].tileid);
			f.isAnimatedSprite = !0, f.animations.add("tileAnimation", D, 4, !0, !0), f.animations.play("tileAnimation")
		}
		return f
	},
	validPathTo: function (e, t, i, a) {
		var s = e.prodigy.event.create();
		s.validPath(t.user, t.path, i, a), s.start()
	},
	pathTo: function (e, t, i, a) {
		var s = e.prodigy.event.create();
		s.path(t.user, [{
			x: i,
			y: a
		}]), s.start()
	},
	playPortalEffectExit: function (e, t, i, a, s) {
		var r = this._zone.game.prodigy.event.create();
		if (this.portalActive === !1) {
			this.landedOnPortal = !0, r.enableInput(!1), r.portalEffect(e, t, !1);
			var o = 640 - e,
				n = 360 - t,
				h = 80,
				l = Math.sqrt(o * o + n * n);
			r.path(this.screen.user, [{
				x: h * o / l + e,
				y: h * n / l + t
			}]), r.set(this, "landedOnPortal", !1), r.set(this, "portalActive", !0), r.function(this.addAreaEvent.bind(this, this.game, this.screen, {
				x: e,
				y: t,
				w: 100,
				h: 80
			}, i, a, s, this.playPortalEffectExit.bind(this, e, t, i, a, s))), r.enableInput(!0)
		} else r.enableInput(!1), r.path(this.screen.user, [{
			x: e,
			y: t
		}]), r.portalEffect(e, t, !1), r.enableInput(!0), r.function(this._zone.game.prodigy.world.teleport.bind(this._zone.game.prodigy.world, i, a, s));
		r.start()
	},
	playPortalEffectEnter: function (e, t) {
		var i = this._zone.game.prodigy.event.create();
		this.portalActive === !1 && (i.enableInput(!1), i.portalEffect(e, t, !1), i.set(this, "landedOnPortal", !1), i.set(this, "portalActive", !0), i.enableInput(!0), i.start())
	},
	showAllBounties: function (e, t) {
		if (Util.isDefined(this.coord))
			for (var i = 0; i < this.coord.length; i++) {
				var a = {
					ID: 84,
					seed: Math.floor(100 * Math.random()),
					complete: !1
				};
				e.prodigy.bounty.placeBountyHere(a, t, this, i)
			}
	}
}, Prodigy.Map.prototype.constructor = Prodigy.Map, Prodigy.Scene = function (e, t, i) {
	Prodigy.Map.call(this, e, t, "Pet Park", 0, 0, [], i), this._zoneName = null, this._isScene = !0, this._loadingData = {
		fadeIn: !0,
		time: 1,
		fadeOut: !0,
		save: !1
	}
}, Prodigy.extends(Prodigy.Scene, Prodigy.Map, {
	constructor: Prodigy.Scene,
	setup: function (e, t, i) {
		this._zone.util.hideHex(e, t), e.prodigy.player.saveEnabled = !1, t.walkEnabled = !1, t.user._clickEnabled = !1, t.menuBar.show(!1), Prodigy.Map.prototype.setup.call(this, e, t, i)
	},
	start: function (e, t, i) {
		Prodigy.Map.prototype.start.call(this, e, t, i)
	},
	end: function () {},
	enterScene: function (e, t, i) {
		this.sceneTop = t.menus.add(new Phaser.TileSprite(e, 0, -50, 1280, 50, "core", "overlay-small")), this.sceneBot = t.menus.add(new Phaser.TileSprite(e, 0, 720, 1280, 50, "core", "overlay-small"));
		var a = e.add.tween(this.sceneTop).to({
			y: 0
		}, 1e3, Phaser.Easing.Quadratic.Out).start();
		Util.isDefined(i) && a.onComplete.add(i), e.add.tween(this.sceneBot).to({
			y: 670
		}, 1e3, Phaser.Easing.Quadratic.Out).start()
	},
	exitScene: function (e, t, i) {
		var a = e.add.tween(this.sceneTop).to({
			y: -50
		}, 1e3, Phaser.Easing.Quadratic.Out).start();
		Util.isDefined(i) && a.onComplete.add(i), e.add.tween(this.sceneBot).to({
			y: 720
		}, 1e3, Phaser.Easing.Quadratic.Out).start()
	}
}), Prodigy.World = function (e) {
	this.game = e, this.zones = {
		forest: new Prodigy.Forest(e),
		shiverchill: new Prodigy.Shiverchill(e),
		skywatch: new Prodigy.Skywatch(e),
		lamplight: new Prodigy.Lamplight(e),
		dyno: new Prodigy.Dyno(e),
		bonfire_spire: new Prodigy.Bonfire_Spire(e),
		house: new Prodigy.House(e),
		toyzone: new Prodigy.Toyzone(e),
		activity_zone: new Prodigy.Activity_Zone(e)
	}, this.states = ["bounties"]
}, Prodigy.World.prototype = {
	enter: function () {
		if (Util.isDefined(this.zones.house.getQuestState())) {
			var e = this.game.prodigy.player.data.zone;
			Util.isDefined(e) && e.indexOf("-") > 0 ? this.teleport(e) : this.teleport("house-suburbs")
		} else this.teleport("house-suburbs")
	},
	isValidLocation: function (e) {
		var t = e.split("-"),
			i = this.zones[t[0]],
			a = i.maps[t[1]];
		return Util.isDefined(i) && Util.isDefined(a)
	},
	teleport: function (e, t, i, a, s) {
		this.process(), s = s || {}, s.assets = s.assets || [], s.assets = s.assets.concat("sfx-world");
		var r = e.split("-");
		if ("house" === e) this.zones.house.teleport("suburbs", t, i, a, s);
		else if (Util.isDefined(this.zones[r[0]]) && this.isValidLocation(e)) this.zones[r[0]].teleport(r[1], t, i, a, s);
		else switch (e) {
		case "dino-1":
			this.game.prodigy.start("Museum", s);
			break;
		case "pirate-0":
			this.game.prodigy.start("Pirate", s);
			break;
		case "tower-0":
			this.game.prodigy.start("TowerBase", s);
			break;
		case "town-2":
			this.game.prodigy.start("Arena", s);
			break;
		case "tech-0":
			this.game.prodigy.start("Tech", s);
			break;
		default:
			this.zones.house.teleport("house", t, i, a, s)
		}
	},
	playScene: function (e) {
		this.process();
		var t = e.split("-");
		Util.isDefined(this.zones[t[0]]) && this.zones[t[0]].playScene(t[1])
	},
	getCurrentMap: function () {
		return this.currentZone
	},
	getState: function (e) {
		return this.game.prodigy.player.state.get("world-" + e)
	},
	setState: function (e, t) {
		this.game.prodigy.player.state.set("world-" + e, t)
	},
	getZone: function (e) {
		return this.zones[e]
	},
	process: function () {
		this.getDate() !== this.getTownState("bounty") && (this.game.prodigy.bounty.generateBounties(this.getDate()), this.setTownState(this.getDate(), "bounty"))
	},
	getTownState: function (e) {
		var t = this.getZone("lamplight");
		return t.getState(e)
	},
	setTownState: function (e, t) {
		var i = this.getZone("lamplight");
		i.setState(t, e)
	},
	getDate: function () {
		var e = new Date,
			t = e.getDate(),
			i = e.getMonth() + 1,
			a = e.getFullYear();
		return 10 > t && (t = "0" + t), 10 > i && (i = "0" + i), i + "" + t + a
	}
}, Prodigy.World.prototype.constructor = Prodigy.World, Prodigy.Quest = function (e, t, i, a, s, r, o, n, h, l, d) {
	this.zone = e, this.assets = t, this.ID = i, this.desc = a, this.descCache = a, this.req = s, this.area = r, this.areaCache = r, this.onStart = o, this.onProc = n, this.onComplete = h, this.reward = l, this.chain = d || !1
}, Prodigy.Quest.prototype = {
	setup: function () {
		return {}
	},
	start: function () {},
	process: function () {},
	update: function () {}
}, Prodigy.Quest.prototype.constructor = Prodigy.Quest, Prodigy.ZoneUtil = function (e, t) {
	this._game = e, this._zone = t
}, Prodigy.ZoneUtil.prototype = {
	constructor: Prodigy.ZoneUtil,
	getBattle: function (e, t, i, a) {
		var s = {
			intro: t,
			"catch": !1,
			run: !1,
			screen: e._zone.battleBG
		};
		Util.isDefined(i.drops) && (s.drops = i.drops), Util.isDefined(i.difficulty) && (s.difficulty = i.difficulty), Util.isDefined(i.events) && (s.events = i.events), Util.isDefined(i.opponent) ? (s.opponent = i.opponent, s.pets = i.pets) : Util.isDefined(i.boss) ? s.boss = i.boss : s.pets = i.pets;
		var r = function (e, t) {
			e.prodigy.battle.start(s, null, a, null, t)
		};
		return r.bind(this, this._game, this._zone.onFaint)
	},
	patrol: function (e, t, i) {
		e instanceof MonsterEvent && e.encountered !== !1 || e.setPath(t, this.patrol.bind(this, e, t, i), i)
	},
	doorLocked: function (e, t) {
		var i = e.prodigy.event.create();
		i.popup(t), i.start()
	},
	openDoor: function (e, t, i, a, s) {
		var r = e.prodigy.event.create();
		r.path(t.user, i, 1, !1);
		var o = function (e, t, i) {
			Util.isDefined(i) && i.length > 0 ? e.prodigy.open.message(e.prodigy.open, i) : t()
		};
		r.function(o.bind(this, e, a, s)), r.start()
	},
	enterGate: function (e, t, i, a, s, r) {
		var o = e.prodigy.event.create();
		o.path(t.user, [{
			x: i,
			y: a
		}]), o.function(this._zone.completeSequence.bind(this._zone, r, 1)), Util.isDefined(s) && o.function(s), o.start()
	},
	hideHex: function (e, t) {
		t.addFollow(e.prodigy.player.userID)
	},
	doneTutorial: function () {
		var e = this._game.prodigy.player.state.get("zone-lamplight");
		return Util.log(e, 2), Util.isDefined(e) && Util.isDefined(e.quest) && e.quest.ID > 2
	},
	hasDailyQuestExpired: function () {
		return Util.isDefined(this._zone.getState("dailyQuest")) ? this._zone.getState("dailyQuest").dateId !== Util.getDateId() : !0
	},
	startNewDailyQuest: function (e, t) {
		for (var i = [], a = 0; t > a; a++) i.push(!1);
		this._zone.setState("dailyQuest", {
			questId: e,
			dateId: Util.getDateId(),
			questState: i
		}), this._game.prodigy.player.getUpdatedData()
	},
	isDailyQuestComplete: function () {
		if (!Util.isDefined(this._zone.getState("dailyQuest"))) return !1;
		if (this._zone.getState("dailyQuest").dateId !== Util.getDateId()) return !1;
		for (var e = this._zone.getState("dailyQuest").questState, t = !0, i = 0; i < e.length; i++)
			if (e[i] === !1) {
				t = !1;
				break
			} return t
	},
	updateDailyQuest: function (e) {
		if (Util.isDefined(this._zone.getState("dailyQuest"))) {
			var t = this._zone.getState("dailyQuest").questId,
				i = this._zone.getState("dailyQuest").dateId,
				a = this._zone.getState("dailyQuest").questState;
			a[e] = !0, this._zone.setState("dailyQuest", {
				questId: t,
				dateId: i,
				questState: a
			})
		}
	},
	getRemainingQuestObjectives: function () {
		for (var e = 0, t = this._zone.getState("dailyQuest").questState, i = 0; i < t.length; i++) t[i] === !1 && e++;
		return e
	},
	generateQuestId: function () {
		return 0
	},
	getDailyQuestData: function () {
		return {
			description: "Complete today's quest",
			source: "",
			frame: ""
		}
	}
}, Prodigy.Forest = function (e) {
	Prodigy.Zone.call(this, e), this.name = "Firefly Forest", this.ID = "forest", this.battleBG = "bg-battle-forest", this.onFaint = "forest-C8", this.questHub = "forest-C8", this.states = ["chest1", "chest2", "chest3", "chest4", "wizard1", "wizard2", "wizard3", "wizard4", "daily", "hasdaily"], this.util = new Prodigy.ZoneUtil(e, this), this.monsters = [25, 29, 32, 52, 55, 59, 69, 81];
	var t = ["tileset-firefly-new", "npc-sprite-wizard", "zone-forest", "tileset-collisions"];
	this.maps = {
		A3: new Forest_A3(this, t),
		A4: new Forest_A4(this, t),
		A5: new Forest_A5(this, t),
		B5: new Forest_B5(this, t),
		B6: new Forest_B6(this, t),
		B7: new Forest_B7(this, t),
		B8: new Forest_B8(this, t),
		C4: new Forest_C4(this, t),
		C7: new Forest_C7(this, t),
		C8: new Forest_C8(this, t),
		D3: new Forest_D3(this, t)
	}, this.quests = {
		1: new Prodigy.Forest_Q1(this, t),
		2: new Prodigy.Forest_Q2(this, t),
		3: new Prodigy.Forest_Q3(this, t),
		4: new Prodigy.Forest_Q4(this, t),
		5: new Prodigy.Forest_Q5(this, t),
		6: new Prodigy.Forest_Q6(this, t),
		7: new Prodigy.Forest_Q7(this, t),
		8: new Prodigy.Forest_Q8(this, t),
		9: new Prodigy.Forest_Q9(this, t),
		10: new Prodigy.Forest_Q10(this, t),
		11: new Prodigy.Forest_Q11(this, t),
		12: new Prodigy.Forest_Q12(this, t)
	}, this.store = {
		name: "Firefly Outfitters",
		items: [{
			ID: 33,
			type: "hat"
		}, {
			ID: 24,
			type: "weapon"
		}, {
			ID: 29,
			type: "outfit"
		}, {
			ID: 36,
			type: "pet"
		}, {
			ID: 29,
			type: "follow"
		}, {
			ID: 30,
			type: "follow"
		}]
	}
}, Prodigy.extends(Prodigy.Forest, Prodigy.Zone, {
	constructor: Prodigy.Forest,
	placeDaily: function (e, t, i) {
		(1 === this.getState("hasdaily") || Util.isDefined(this.getQuestState()) && this.getQuestState().ID > 1 && this.getQuestState().ID > 1) && t.prodigy.player.backpack.hasItem("item", 78) < 99 && (this.firefly = e.addFireflyEvent(t, i, 1260 * Math.random(), 700 * Math.random(), 100, 100, this.fireflyOnClick.bind(this, t, i, e), null))
	},
	placeAllDailies: function () {},
	fireflyOnClick: function (e, t, i) {
		var a = e.prodigy.event.create();
		a.validPath(t.user, t.path, this.firefly.x, this.firefly.y + 100), a.set(t.user, "evtProc", !0), a.function(this.interactFirefly.bind(this, e, t, i)), a.set(t.user, "evtProc", !1), a.start()
	},
	interactFirefly: function (e, t, i) {
		if (0 === this.firefly.moving && Math.abs(t.user.x - this.firefly.x) < 100 && Math.abs(this.firefly.y + 100 - t.user.y) < 100) {
			this.firefly.destroy(), this.game.prodigy.open.gotItem([{
				type: "item",
				ID: 78
			}]);
			var a = [];
			for (var s in this.maps) a.push(s);
			for (var r = new Prodigy.SeededRandomGenerator(this.getState("daily").date), o = 0; 5 > o; o++)
				if (a[Math.floor(r.jumpFromStart(o) * (a.length - 1))] === i._tag) {
					var n = this.getState("daily").flags;
					n[o] = 0, this.setState("daily", {
						date: this.getState("daily").date,
						flags: n,
						rewards: this.getState("daily").rewards
					})
				}
		}
	}
}), Forest_A3 = function (e, t) {
	Prodigy.Map.call(this, e, "A3", "Mountain Gate", 1080, 630, ["forest-A4"], t)
}, Prodigy.extends(Forest_A3, Prodigy.Map, {
	constructor: Forest_A3,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1080,
			y: 680,
			w: 320,
			h: 80
		}, "forest-A4", 1080, 90), this.addHealStone(e, t, 270, 435)
	}
}), Forest_A4 = function (e, t) {
	Prodigy.Map.call(this, e, "A4", "Mountain Pass", 1080, 520, ["forest-A3", "forest-A5", "forest-B5"], t), this.coord = [{
		x: 150,
		y: 430
	}, {
		x: 755,
		y: 400
	}]
}, Prodigy.extends(Forest_A4, Prodigy.Map, {
	constructor: Forest_A4,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1080,
			y: 40,
			w: 320,
			h: 80
		}, "forest-A3", 1080, 630), this.addAreaEvent(e, t, {
			x: 1280,
			y: 720,
			r: 200
		}, "forest-B5", 200, 200), this.addAreaEvent(e, t, {
			x: 220,
			y: 680,
			w: 280,
			h: 80
		}, "forest-A5", 220, 90);
		var a = {
			randDir: !0,
			encounter: [{
				ID: 59
			}, {
				ID: 52
			}, {
				ID: 36
			}]
		};
		this.addMonster(e, t, 1, 590, 500, !1, a);
		var a = {
			opponent: [{
				data: {
					level: 9
				},
				appearance: {
					name: "Lucky Jack",
					gender: "male",
					hairStyle: 1,
					hairColor: 3,
					skinColor: 1,
					eyeColor: 4
				},
				equipment: {
					hat: 8,
					outfit: 16,
					weapon: 24
				}
			}],
			pets: [{
				ID: 36,
				level: 5
			}, {
				ID: 69,
				level: 3
			}, {
				ID: 61,
				level: 5
			}]
		};
		this.addWizard(e, t, 1046, 208, "wizard4", a).flip()
	}
}), Forest_A5 = function (e, t) {
	Prodigy.Map.call(this, e, "A5", "Firefly Crossing", 220, 90, ["forest-A4"], t), this.coord = [{
		x: 200,
		y: 600
	}, {
		x: 900,
		y: 510
	}, {
		x: 100,
		y: 420
	}]
}, Prodigy.extends(Forest_A5, Prodigy.Map, {
	constructor: Forest_A5,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 220,
			y: 40,
			w: 280,
			h: 80
		}, "forest-A4", 220, 630);
		var a = {
			randDir: !0,
			encounter: [{
				ID: 32
			}, {
				ID: 52
			}, {
				ID: 55
			}, {
				ID: 59
			}, {
				ID: 69
			}, {
				ID: 36
			}]
		};
		this.addMonster(e, t, 1, 414, 482, !1, a), this.addMonster(e, t, 2, 697, 343, !1, a), this.addMonster(e, t, 3, 755, 601, !1, a), this.addChest(e, t, "chest3", 810, 280, [{
			type: "outfit",
			ID: 12
		}])
	}
}), Forest_B5 = function (e, t) {
	Prodigy.Map.call(this, e, "B5", "The Crossroads", 1100, 630, ["forest-A4", "forest-C4", "forest-B6"], t), this.coord = [{
		x: 1e3,
		y: 180
	}, {
		x: 200,
		y: 200
	}, {
		x: 690,
		y: 125
	}]
}, Prodigy.extends(Forest_B5, Prodigy.Map, {
	constructor: Forest_B5,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 0,
			y: 0,
			r: 200
		}, "forest-A4", 1080, 520), this.addAreaEvent(e, t, {
			x: 1280,
			y: 0,
			r: 200
		}, "forest-C4", 200, 520), this.addAreaEvent(e, t, {
			x: 1100,
			y: 680,
			w: 280,
			h: 80
		}, "forest-B6", 1100, 90);
		var a = {
			opponent: [{
				data: {
					level: 4
				},
				appearance: {
					name: "Woodsman Mike",
					gender: "male",
					hairStyle: 4,
					hairColor: 2,
					skinColor: 2,
					eyeColor: 3
				},
				equipment: {
					hat: 7,
					outfit: 12,
					weapon: 1
				}
			}],
			pets: [{
				ID: 32,
				level: 3
			}]
		};
		this.addWizard(e, t, 335, 371, "wizard2", a)
	}
}), Forest_B6 = function (e, t) {
	Prodigy.Map.call(this, e, "B6", "Grassy Clearing", 200, 630, ["forest-B5", "forest-B7"], t), this.coord = [{
		x: 210,
		y: 390
	}, {
		x: 300,
		y: 130
	}, {
		x: 540,
		y: 260
	}]
}, Prodigy.extends(Forest_B6, Prodigy.Map, {
	constructor: Forest_B6,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1100,
			y: 40,
			w: 280,
			h: 80
		}, "forest-B5", 1100, 630), this.addAreaEvent(e, t, {
			x: 200,
			y: 680,
			w: 320,
			h: 80
		}, "forest-B7", 200, 90), this.heal = this.addHealStone(e, t, 980, 443), this.showMonsters(e, t)
	},
	showMonsters: function (e, t) {
		var i = {
			randDir: !0,
			encounter: [{
				ID: 29
			}, {
				ID: 32
			}, {
				ID: 59
			}, {
				ID: 81
			}]
		};
		this.addMonster(e, t, 1, 369, 152, !1, i), this.addMonster(e, t, 2, 819, 218, !1, i), this.addMonster(e, t, 3, 558, 416, !1, i)
	}
}), Forest_B7 = function (e, t) {
	Prodigy.Map.call(this, e, "B7", "Fisherman's Pond", 1190, 240, ["forest-B6", "forest-C7"], t), this.coord = [{
		x: 955,
		y: 690
	}, {
		x: 130,
		y: 530
	}, {
		x: 255,
		y: 680
	}]
}, Prodigy.extends(Forest_B7, Prodigy.Map, {
	constructor: Forest_B7,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 200,
			y: 40,
			w: 320,
			h: 80
		}, "forest-B6", 200, 630), this.addAreaEvent(e, t, {
			x: 1240,
			y: 240,
			w: 80,
			h: 280
		}, "forest-C7", 90, 240);
		var a = {
			randDir: !0,
			encounter: [{
				ID: 29
			}, {
				ID: 32
			}, {
				ID: 59
			}, {
				ID: 81
			}]
		};
		this.addMonster(e, t, 1, 253, 288, !1, a), this.addMonster(e, t, 2, 200, 546, !1, a), this.addMonster(e, t, 3, 632, 542, !1, a), this.addChest(e, t, "chest1", 780, 230, [{
			type: "weapon",
			ID: 1
		}])
	}
}), Forest_B8 = function (e, t) {
	Prodigy.Map.call(this, e, "B8", "Firefly Clearing", 1190, 480, ["forest-C8"], t.concat("npc-sprite-merchant")), this.coord = [{
		x: 490,
		y: 570
	}, {
		x: 785,
		y: 270
	}, {
		x: 440,
		y: 200
	}]
}, Prodigy.extends(Forest_B8, Prodigy.Map, {
	constructor: Forest_B8,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1240,
			y: 480,
			w: 80,
			h: 200
		}, "forest-C8", 90, 480), this.npc = this.addNPC(e, t, 378, 313, "npc-sprite-merchant", this.chatWithMerchant.bind(this, e)), this.npc.flip(), this.npc.animate("stand"), this.npcIcon = t.foreground.add(e.prodigy.create.sprite(350, 150, "icons", "map-quest")), this.floatTween = e.add.tween(this.npcIcon).to({
			y: "-20"
		}, 1400, Phaser.Easing.Quadratic.InOut).to({
			y: "20"
		}, 1400, Phaser.Easing.Quadratic.InOut).loop(), this.floatTween.start(), this.addChest(e, t, "chest4", 1136, 264, [{
			type: "gold",
			N: 500
		}])
	},
	start: function (e, t, i) {
		if (Prodigy.Map.prototype.start.call(this, e, t, i), this._zone.isQuestComplete(1) && !Util.isDefined(this._zone.getState("hasdaily"))) {
			this._zone.setState("hasdaily", 1);
			var a = e.prodigy.event.create();
			a.text(33, "merchant"), a.text(34, "merchant"), a.start()
		}
	},
	chatWithMerchant: function (e) {
		var t = e.prodigy.event.create();
		this._zone.isOnQuest(1) && !this._zone.isQuestComplete(1) ? t.text(1, "merchant") : e.prodigy.player.backpack.hasItem("item", 78) ? e.prodigy.player.backpack.hasItem("item", 78) < 5 ? (t.text(18, "merchant"), t.text(19, "merchant"), 4 === e.prodigy.player.backpack.hasItem("item", 78) && t.text(25, "merchant")) : e.prodigy.player.backpack.hasItem("item", 78) > 4 && this._zone.getState("daily").rewards < 5 ? (t.text(26, "merchant"), t.enableSave(!1), t.function(this._zone.setState.bind(this._zone, "daily", {
			date: this._zone.getState("daily").date,
			flags: this._zone.getState("daily").flags,
			rewards: 5
		})), t.function(e.prodigy.open.gotItem.bind(e.prodigy.open, [{
			type: "item",
			ID: 77,
			N: 5
		}])), t.enableSave(!0), t.text(20, "merchant")) : e.prodigy.player.backpack.hasItem("item", 78) > 4 && e.prodigy.player.backpack.hasItem("item", 78) < 10 && this._zone.getState("daily").rewards > 4 ? (t.text(18, "merchant"), t.text(20, "merchant"), 9 === e.prodigy.player.backpack.hasItem("item", 78) && t.text(25, "merchant")) : e.prodigy.player.backpack.hasItem("item", 78) > 9 && this._zone.getState("daily").rewards < 10 ? (t.text(26, "merchant"), t.enableSave(!1), t.function(this._zone.setState.bind(this._zone, "daily", {
			date: this._zone.getState("daily").date,
			flags: this._zone.getState("daily").flags,
			rewards: 10
		})), t.function(e.prodigy.open.gotItem.bind(e.prodigy.open, [{
			type: "item",
			ID: 76,
			N: 10
		}])), t.enableSave(!0), t.text(21, "merchant")) : e.prodigy.player.backpack.hasItem("item", 78) > 9 && e.prodigy.player.backpack.hasItem("item", 78) < 25 && this._zone.getState("daily").rewards > 9 ? (t.text(18, "merchant"), t.text(21, "merchant"), 24 === e.prodigy.player.backpack.hasItem("item", 78) && t.text(25, "merchant")) : e.prodigy.player.backpack.hasItem("item", 78) > 24 && this._zone.getState("daily").rewards < 25 ? (t.text(26, "merchant"), t.enableSave(!1), t.function(this._zone.setState.bind(this._zone, "daily", {
			date: this._zone.getState("daily").date,
			flags: this._zone.getState("daily").flags,
			rewards: 25
		})), t.function(e.prodigy.open.gotItem.bind(e.prodigy.open, [{
			type: "hat",
			ID: 64
		}])), t.enableSave(!0), t.text(22, "merchant")) : e.prodigy.player.backpack.hasItem("item", 78) > 24 && e.prodigy.player.backpack.hasItem("item", 78) < 50 && this._zone.getState("daily").rewards > 24 ? (t.text(18, "merchant"), t.text(22, "merchant"), 49 === e.prodigy.player.backpack.hasItem("item", 78) && t.text(25, "merchant")) : e.prodigy.player.backpack.hasItem("item", 78) > 49 && this._zone.getState("daily").rewards < 50 ? (t.text(26, "merchant"), t.enableSave(!1), t.function(this._zone.setState.bind(this._zone, "daily", {
			date: this._zone.getState("daily").date,
			flags: this._zone.getState("daily").flags,
			rewards: 50
		})), t.function(e.prodigy.open.gotItem.bind(e.prodigy.open, [{
			type: "outfit",
			ID: 55
		}])), t.enableSave(!0), t.text(23, "merchant")) : e.prodigy.player.backpack.hasItem("item", 78) > 49 && e.prodigy.player.backpack.hasItem("item", 78) < 75 && this._zone.getState("daily").rewards > 49 ? (t.text(18, "merchant"), t.text(23, "merchant"), 74 === e.prodigy.player.backpack.hasItem("item", 78) && t.text(25, "merchant")) : e.prodigy.player.backpack.hasItem("item", 78) > 74 && this._zone.getState("daily").rewards < 75 ? (t.text(26, "merchant"), t.enableSave(!1), t.function(this._zone.setState.bind(this._zone, "daily", {
			date: this._zone.getState("daily").date,
			flags: this._zone.getState("daily").flags,
			rewards: 75
		})), t.function(e.prodigy.open.gotItem.bind(e.prodigy.open, [{
			type: "item",
			ID: 77,
			N: 5
		}])), t.enableSave(!0), t.text(24, "merchant")) : e.prodigy.player.backpack.hasItem("item", 78) > 74 && e.prodigy.player.backpack.hasItem("item", 78) < 99 && this._zone.getState("daily").rewards > 74 ? (t.text(18, "merchant"), t.text(24, "merchant"), 98 === e.prodigy.player.backpack.hasItem("item", 78) && t.text(25, "merchant")) : e.prodigy.player.backpack.hasItem("item", 78) > 98 && this._zone.getState("daily").rewards < 99 ? (t.text(26, "merchant"), t.enableSave(!1), t.function(this._zone.setState.bind(this._zone, "daily", {
			date: this._zone.getState("daily").date,
			flags: this._zone.getState("daily").flags,
			rewards: 99
		})), t.function(e.prodigy.open.gotItem.bind(e.prodigy.open, [{
			type: "weapon",
			ID: 80
		}])), t.enableSave(!0)) : t.text(36, "merchant") : (t.text(18, "merchant"), t.text(28, "merchant"), t.text(29, "merchant")), t.start()
	}
}), Forest_C4 = function (e, t) {
	Prodigy.Map.call(this, e, "C4", "The Old Road", 200, 520, ["forest-B5", "forest-D3"], t.concat(["npc-sprite-merchant"])), this.coord = [{
		x: 400,
		y: 580
	}, {
		x: 820,
		y: 500
	}, {
		x: 800,
		y: 330
	}]
}, Prodigy.extends(Forest_C4, Prodigy.Map, {
	constructor: Forest_C4,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 0,
			y: 720,
			r: 200
		}, "forest-B5", 1080, 200), this.addAreaEvent(e, t, {
			x: 1280,
			y: 0,
			r: 200
		}, "forest-D3", 200, 520), this.npc = this.addNPC(e, t, 378, 313, "npc-sprite-merchant", Util.isDefined(i) && Util.isDefined(i.onInputDownCallback) ? i.onInputDownCallback : this.chatWithMerchant.bind(this, e, t)), this.npc.flip(), this.npc.animate("stand");
		var a = {
			randDir: !0,
			encounter: [{
				ID: 29
			}, {
				ID: 55
			}, {
				ID: 69
			}]
		};
		this.addMonster(e, t, 1, 608, 488, !1, a), this.addMonster(e, t, 2, 787, 200, !1, a);
		var a = {
			opponent: [{
				data: {
					level: 7
				},
				appearance: {
					name: "Caleb Forestmaster",
					gender: "male",
					hairStyle: 6,
					hairColor: 3,
					skinColor: 1,
					eyeColor: 4
				},
				equipment: {
					hat: 15,
					outfit: 29,
					weapon: 8
				}
			}],
			pets: [{
				ID: 55,
				level: 5
			}, {
				ID: 29,
				level: 7
			}]
		};
		this.addWizard(e, t, 1040, 450, "wizard3", a).flip(), this.addChest(e, t, "chest2", 300, 400, [{
			type: "gold",
			N: 250
		}])
	},
	chatWithMerchant: function (e) {
		var t = e.prodigy.event.create();
		t.text(6, "merchant"), t.start()
	}
}), Forest_C7 = function (e, t) {
	Prodigy.Map.call(this, e, "C7", "Stonefish Beach", 200, 630, ["forest-B7", "forest-C8"], t), this.coord = [{
		x: 640,
		y: 500
	}, {
		x: 330,
		y: 170
	}, {
		x: 220,
		y: 260
	}]
}, Prodigy.extends(Forest_C7, Prodigy.Map, {
	constructor: Forest_C7,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 40,
			y: 220,
			w: 80,
			h: 200
		}, "forest-B7", 1190, 240), this.addAreaEvent(e, t, {
			x: 200,
			y: 680,
			w: 240,
			h: 80
		}, "forest-C8", 200, 90), this.addCollect(e, t, 1, 980, 520, {
			type: "item",
			ID: "51"
		});
		var a = {
			opponent: [{
				data: {
					level: 2
				},
				appearance: {
					name: "Milly",
					gender: "female",
					hairStyle: 1,
					hairColor: 3,
					skinColor: 1,
					eyeColor: 2
				},
				equipment: {
					hat: 12
				}
			}],
			pets: []
		};
		this.addWizard(e, t, 406, 344, "wizard1", a)
	}
}), Forest_C8 = function (e, t) {
	Prodigy.Map.call(this, e, "C8", "The Big Tree", 1190, 520, ["forest-C7", "forest-B8", "tutorial-D8"], t.concat("npc-sprite-flora", "npc-sprite-merchant"))
}, Prodigy.extends(Forest_C8, Prodigy.Map, {
	constructor: Forest_C8,
	setup: function (e, t, i) {
		e.prodigy.world.getZone("lamplight").completeQuest(2), Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 200,
			y: 40,
			w: 240,
			h: 80
		}, "forest-C7", 200, 630), this.addAreaEvent(e, t, {
			x: 40,
			y: 480,
			w: 80,
			h: 200
		}, "forest-B8", 1190, 480), this.addAreaEvent(e, t, {
			x: 1240,
			y: 520,
			w: 80,
			h: 240
		}, "lamplight-B1", 120, 480), this.addHealStone(e, t, 148, 286);
		var a = function (e) {
			var t = e.prodigy.event.create();
			t.text(39, "flora"), t.start()
		};
		this.addConstructedQuestNPC(e, t, 620, 300, "flora", !0, a.bind(this, e)), t.createStoreNPC(1130, 390, this._zone.store), new Prodigy.Container.ToyMerchant(e, t.content, 920, 390)
	}
}), Forest_D3 = function (e, t) {
	Prodigy.Map.call(this, e, "D3", "Old Road Remains", 200, 520, ["forest-C4"], t.concat("boss-gerald")), this.coord = [{
		x: 500,
		y: 640
	}, {
		x: 750,
		y: 120
	}, {
		x: 1100,
		y: 450
	}], this._tween = [], this._wakeUp = !1
}, Prodigy.extends(Forest_D3, Prodigy.Map, {
	constructor: Forest_D3,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.game = e, this._wakeUp = !1, this.addAreaEvent(e, t, {
			x: 0,
			y: 720,
			r: 200
		}, "forest-C4", 1080, 200);
		var a = {
			randDir: !0,
			encounter: [{
				ID: 52
			}, {
				ID: 55
			}, {
				ID: 69
			}, {
				ID: 81
			}, {
				ID: 61
			}]
		};
		this.addMonster(e, t, 1, 481, 239, !1, a), this.addMonster(e, t, 2, 634, 428, !1, a), this.addMonster(e, t, 3, 926, 230, !1, a), this.addMonster(e, t, 4, 940, 533, !1, a);
		var s = e.cache.getJSON(this._file),
			r = e.cache.getJSON("map-pathing").tilesets,
			o = null;
		for (n = 0; n < s.layers.length; n++) "gerald" === s.layers[n].name && (o = s.layers[n]);
		if (this.sprite = this.game.prodigy.create.element(this.sprites, 760, 160), this._geraldHead = t.foreground.add(this.game.prodigy.create.sprite(760, 160, "boss-gerald", "Gerald-head1")), this._sleepTween = [], this._sleepTween.push(new Prodigy.TweenController(this.game, this._geraldHead)), this._sleepTween[0].set("frameName", ["Gerald-head1", "Gerald-head2", "Gerald-head3", "Gerald-head2", "Gerald-head1"], 300, 9999), this._sleepTween[0].end(this.wakeUpGerald.bind(this)), this._tween = this._sleepTween, this._wakeUpTween = [], this._wakeUpTween.push(new Prodigy.TweenController(this.game, this._geraldHead)), this._wakeUpTween[0].set("frameName", ["Gerald-head4", "Gerald-head5", "Gerald-head4", "Gerald-head1", "Gerald-head5"], 150, 9999), this._wakeUpTween[0].end(this.stayAwake.bind(this)), this._awakeTween = [], this._awakeTween.push(new Prodigy.TweenController(this.game, this._geraldHead)), this._awakeTween[0].set("frameName", ["Gerald-head5"], 150, 9999), this._zone.getQuestState().ID > 8 && !this._zone.isQuestComplete(12)) {
			this.initLayer.call(this, e, this.above, o, s.tilesets, r, null);
			for (var n = 0; n < this._tween.length; n++) this._tween[n].start()
		} else this._geraldHead.visible = !1
	},
	checkForGerald: function () {
		this._zone.getQuestState().ID > 8 && !this._zone.isQuestComplete(12) ? (this._zone.enableLayer(0, !0), this._zone.enableLayer(1, !0)) : (this._zone.enableLayer(0, !1), this._zone.enableLayer(1, !1))
	},
	init: function (e, t, i) {
		return this.checkForGerald.call(this), Prodigy.Map.prototype.init.call(this, e, t, i)
	},
	wakeUpGerald: function () {
		if (this._wakeUp === !0) {
			this._tween = this._wakeUpTween;
			for (var e = 0; e < this._tween.length; e++) this._tween[e].start()
		}
	},
	stayAwake: function () {
		this._tween = this._awakeTween;
		for (var e = 0; e < this._tween.length; e++) this._tween[e].start()
	},
	initListeners: function () {
		this.game.broadcaster.addAppListener(Prodigy.Events.GameObj.UPDATE, this.update.bind(this), this, this.game)
	},
	update: function () {
		for (var e = 0; e < this._tween.length; e++) this._tween[e].update();
		Prodigy.Map.prototype.update.call(this)
	}
}), Prodigy.Forest_Q1 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 1, "", {
		type: "pet",
		ID: 81,
		N: 2,
		U: !0
	}, ["forest-B8"], [0, 1, 2, 3], [], [39], [{
		type: "gold",
		N: 200
	}], !1)
}, Prodigy.extends(Prodigy.Forest_Q1, Prodigy.Quest, {
	constructor: Prodigy.Forest_Q1,
	setup: function (e, t, i) {
		Prodigy.Quest.prototype.setup.call(this, e, t, i), "B8" === i.getTag() && this.spawnMonsters(e, t, i)
	},
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this, e, t, i), "B8" === i.getTag() && this.zone.isOnSequence(1, 0) && this.saveMerchant(e, i)
	},
	saveMerchant: function (e, t) {
		var i = e.prodigy.event.create();
		i.function(t.npc.chat.bind(t.npc, 1, 80)), i.function(t.chatWithMerchant.bind(t, e)), i.function(this.zone.completeSequence.bind(this.zone, 1, 0))
	},
	spawnMonsters: function (e, t, i) {
		var a = {
			run: !1,
			encounter: [{
				ID: 81
			}]
		};
		i.addMonster(e, t, 1, 384, 463, !0, a), i.addMonster(e, t, 2, 554, 338, !0, a)
	}
}), Prodigy.Forest_Q2 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 2, "", {
		type: "weapon",
		ID: 1,
		N: 1
	}, ["forest-B7"], [4, 5, 6], [], [7], [{
		type: "gold",
		N: 200
	}], !1)
}, Prodigy.extends(Prodigy.Forest_Q2, Prodigy.Quest, {
	constructor: Prodigy.Forest_Q2
}), Prodigy.Forest_Q3 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 3, "", {
		type: "pet",
		ID: 52,
		N: 3
	}, ["forest-B6"], [8, 9, 10], [], [39], [{
		type: "gold",
		N: 200
	}], !1)
}, Prodigy.extends(Prodigy.Forest_Q3, Prodigy.Quest, {
	constructor: Prodigy.Forest_Q3,
	setup: function (e, t, i) {
		return Prodigy.Quest.prototype.setup.call(this, e, t), "B6" !== i.getTag() || this.zone.isQuestComplete(3) ? null : (this.placeMonsters(e, t, i), {
			enableMonsters: !1
		})
	},
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this), "B6" === i.getTag() && this.zone.isOnSequence(3, 0) && this.chatWithNoot(e, t, i)
	},
	placeMonsters: function (e, t, i) {
		var a = {
			randDir: !0,
			randRange: 200,
			encounter: [{
				ID: 52
			}]
		};
		i.addMonster(e, t, 1, 369, 152, !1, a), i.addMonster(e, t, 2, 819, 218, !1, a), i.addMonster(e, t, 3, 558, 416, !1, a)
	},
	chatWithNoot: function (e) {
		var t = e.prodigy.event.create();
		t.text(53, "noot"), t.start(), this.zone.completeSequence(3, 0)
	}
}), Prodigy.Forest_Q4 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 4, "", {
		type: "item",
		ID: 66,
		N: 3
	}, ["forest-B5"], [11, 12, 13], [], [39], [{
		type: "spell",
		ID: 13
	}, {
		type: "item",
		ID: 67
	}], !1)
}, Prodigy.extends(Prodigy.Forest_Q4, Prodigy.Quest, {
	constructor: Prodigy.Forest_Q4,
	setup: function (e, t, i) {
		Prodigy.Quest.prototype.setup.call(this, e, t), "B5" !== i.getTag() || this.zone.isQuestComplete(4) || this.placeItems(e, t, i)
	},
	placeItems: function (e, t, i) {
		var a = {
			type: "item",
			ID: 66
		};
		i.addCollect(e, t, 1, 426, 472, a), i.addCollect(e, t, 2, 904, 472, a), i.addCollect(e, t, 3, 696, 241, a);
		var s = {
			randDir: !0,
			randRange: 200,
			encounter: [{
				ID: 81
			}]
		};
		i.addMonster(e, t, 1, 899, 297, !1, s), i.addMonster(e, t, 2, 562, 307, !1, s)
	}
}), Prodigy.Forest_Q5 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 5, "Talk to Merchant", {
		type: "seq",
		N: 1
	}, ["forest-C4"], [14, 15], [], [39], [{
		type: "gold",
		N: 200
	}], !1)
}, Prodigy.extends(Prodigy.Forest_Q5, Prodigy.Quest, {
	constructor: Prodigy.Forest_Q5,
	setup: function (e, t, i) {
		return Prodigy.Quest.prototype.setup.call(this, e, t), "C4" !== i.getTag() || this.zone.isQuestComplete(5) ? null : {
			onInputDownCallback: this.chatWithMerchant.bind(this, e, t, i)
		}
	},
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this), "C4" !== i.getTag() || this.zone.isQuestComplete(5) || this.highlightNPC(i)
	},
	highlightNPC: function (e) {
		e.npc.highlight(!0, -120, -130)
	},
	chatWithMerchant: function (e, t, i) {
		var a = e.prodigy.event.create();
		a.function(i.npc.highlight.bind(i.npc, !1)), a.text(3, "merchant"), a.enableInput(!1), a.function(i.npc.chat.bind(i.npc, 7, 100)), a.delay(2e3), a.function(i.npc.chat.bind(i.npc, 1, 100)), a.delay(500), a.enableInput(!0), a.text(4, "merchant"), a.text(5, "merchant"), a.function(this.zone.completeSequence.bind(i._zone, 5, 0)), a.function(t.process.bind(t)), a.start()
	}
}), Prodigy.Forest_Q6 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 6, "", {
		type: "item",
		ID: 24,
		N: 1
	}, ["forest-D3"], [16, 17], [], [39], [{
		type: "gold",
		N: 200
	}], !1)
}, Prodigy.extends(Prodigy.Forest_Q6, Prodigy.Quest, {
	constructor: Prodigy.Forest_Q6,
	setup: function (e, t, i) {
		return Prodigy.Quest.prototype.setup.call(this, e, t), "D3" !== i.getTag() || this.zone.isQuestComplete(6) ? null : (this.placeMonsters(e, t, i), {
			enableMonsters: !1
		})
	},
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this), "D3" === i.getTag() && this.zone.isOnSequence(6, 0) && this.chatWithNoot(i, e)
	},
	placeMonsters: function (e, t, i) {
		var a = {
			randDir: !0,
			encounter: [{
				ID: 32,
				drops: [{
					type: "item",
					ID: 24,
					R: .5
				}]
			}]
		};
		i.addMonster(e, t, 1, 481, 239, !1, a), i.addMonster(e, t, 2, 634, 428, !1, a), i.addMonster(e, t, 3, 926, 230, !1, a), i.addMonster(e, t, 4, 940, 533, !1, a)
	},
	chatWithNoot: function (e, t) {
		var i = t.prodigy.event.create();
		i.text(54, "noot"), i.text(55, "noot"), i.function(this.zone.completeSequence.bind(e._zone, 6, 0)), i.start()
	}
}), Prodigy.Forest_Q7 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 7, "", {
		type: "item",
		ID: 24,
		N: 5
	}, ["forest-A4", "forest-A5"], [18, 19, 20], [], [39], [{
		type: "gold",
		N: 200
	}], !1)
}, Prodigy.extends(Prodigy.Forest_Q7, Prodigy.Quest, {
	constructor: Prodigy.Forest_Q7,
	setup: function (e, t, i) {
		Prodigy.Quest.prototype.setup.call(this, e, t), "A4" !== i.getTag() || this.zone.isQuestComplete(7) ? "A5" !== i.getTag() || this.zone.isQuestComplete(7) || this.placeMandrakes_A5(e, t, i) : this.placeMandrakes_A4(e, t, i)
	},
	placeMandrakes_A5: function (e, t, i) {
		var a = {
			type: "item",
			ID: 24
		};
		i.addCollect(e, t, 3, 154, 511, a), i.addCollect(e, t, 4, 1e3, 380, a), i.addCollect(e, t, 5, 552, 210, a)
	},
	placeMandrakes_A4: function (e, t, i) {
		var a = {
			type: "item",
			ID: 24
		};
		i.addCollect(e, t, 1, 270, 460, a), i.addCollect(e, t, 2, 780, 314, a)
	}
}), Prodigy.Forest_Q8 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 8, "Defeat the Trio!", {
		type: "seq",
		N: 2
	}, ["forest-A3"], [21, 22, 23], [], [39], [{
		type: "spell",
		ID: 14
	}], !1)
}, Prodigy.extends(Prodigy.Forest_Q8, Prodigy.Quest, {
	constructor: Prodigy.Forest_Q8,
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this), "A3" === i.getTag() && (this.zone.isOnSequence(8, 0) ? this.tripTropBattle(e, t, i) : this.zone.isOnSequence(8, 1) && this.chatWithNoot(e, t, i))
	},
	endBattle: function (e) {
		this.zone.completeSequence(8, 0), e.prodigy.world.teleport("forest-A3", 640, 400)
	},
	tripTropBattle: function (e, t, i) {
		var a = this.zone.util.getBattle(i, "TripTrop Trio!", {
				drops: [{
					ID: 69,
					type: "item"
				}],
				pets: [{
					ID: 59,
					nickname: "TripTrop Ted"
				}, {
					ID: 59,
					nickname: "TripTrop Tom"
				}, {
					ID: 59,
					nickname: "TripTrop Tak"
				}]
			}, this.endBattle.bind(this, e, i)),
			s = i.addMonster(e, t, 1, 640, 330, !1, {
				encounter: [{
					ID: 59
				}]
			});
		s.flip();
		var r = i.addMonster(e, t, 2, 540, 360, !1, {
			encounter: [{
				ID: 59
			}]
		});
		r.flip();
		var o = i.addMonster(e, t, 3, 740, 360, !1, {
			encounter: [{
				ID: 59
			}]
		});
		o.flip(), t.user.evtProc = !0;
		var n = e.prodigy.event.create();
		n.enableInput(!1), n.path(t.user, [{
			x: 910,
			y: 480
		}]), n.delay(100), n.function(s.chat.bind(s, 1, 80)), n.hop(s, 200), n.function(s.flip.bind(s)), n.function(r.chat.bind(r, 1, 80)), n.hop(r, 200), n.function(r.flip.bind(r)), n.function(o.chat.bind(o, 1, 80)), n.hop(o, 200), n.function(o.flip.bind(o)), n.enableInput(!0), n.text(56, "noot"), n.function(a), n.start()
	},
	chatWithNoot: function (e, t, i) {
		var a = e.prodigy.event.create();
		a.text(57, "noot"), a.function(this.zone.completeSequence.bind(i._zone, 8, 1)), a.function(t.process.bind(t)), a.start()
	}
}), Prodigy.Forest_Q9 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 9, "Find Gerald", {
		type: "seq",
		N: 1
	}, ["forest-D3"], [24, 25], [], [26], [{
		type: "gold",
		N: 200
	}], !1)
}, Prodigy.extends(Prodigy.Forest_Q9, Prodigy.Quest, {
	constructor: Prodigy.Forest_Q9,
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this), "D3" === i.getTag() && this.zone.isOnSequence(9, 0) && this.chatWithNoot(e, t, i)
	},
	chatWithNoot: function (e, t, i) {
		var a = e.prodigy.event.create();
		a.text(59, "noot"), a.function(this.zone.completeSequence.bind(i._zone, 9, 0)), a.function(t.process.bind(t)), a.start()
	}
}), Prodigy.Forest_Q10 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 10, "Fix the Flute", {
		type: "seq",
		N: 1
	}, ["forest-A5"], [27, 28, 29], [], [30], [{
		type: "gold",
		N: 200
	}], !1)
}, Prodigy.extends(Prodigy.Forest_Q10, Prodigy.Quest, {
	constructor: Prodigy.Forest_Q10,
	setup: function (e, t, i) {
		return Prodigy.Quest.prototype.start.call(this), "A5" === i.getTag() ? {
			enableMonsters: !1
		} : null
	},
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this), this.zone.isQuestComplete(10) || "A5" !== i.getTag() || this.chatWithNoot(e, t, i)
	},
	chatWithNoot: function (e, t, i) {
		var a = e.prodigy.create.element(t.content, 520, 375),
			s = a.add(e.prodigy.create.sprite(0, 0, "core", "overlay-light"));
		s.alpha = 0, s.width = 120, s.height = 80, a.highlight(!0, 0, -20), s.inputEnabled = !0, s.events.onInputDown.add(this.clickStump.bind(this, i, e, t, a))
	},
	clickStump: function (e, t, i, a) {
		e._questParams = {};
		var s = i.content.add(t.prodigy.create.sprite(540, 380, "icons", "item/69"));
		s.anchor.setTo(.5, 1), t.add.tween(s).to({
			y: 370
		}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0), s.visible = !1;
		var r = e.addMonster(t, i, 1, 982, 626, !1, {
			encounter: [{
				ID: 69
			}]
		});
		r.visible = !1;
		var o = t.prodigy.event.create();
		o.function(a.highlight.bind(a, !1)), o.enableInput(!1), o.path(i.user, [{
			x: 537,
			y: 460
		}]), o.set(i.user, "evtProc", !0), o.function(t.prodigy.player.backpack.consume.bind(t.prodigy.player.backpack, "item", 69, 1)), o.delay(100), o.set(s, "visible", !0), o.delay(500), o.explode(505, 325, 80, 80, 3), o.set(s, "frameName", "item/70"), o.delay(500), o.set(r, "visible", !0), o.path(r, [{
			x: 708,
			y: 383
		}], 1), o.hop(r, 500, -140, 100), o.set(s, "visible", !1), o.function(i.user.chat.bind(i.user, 1, 80)), o.sound(Prodigy.Controller.AudioController.SFX_PACKS.UI, "dig"), o.hop(r, 500, -160, 100), o.path(r, [{
			x: 218,
			y: 0
		}], 2), o.set(r, "visible", !1), o.enableInput(!0), o.text(60, "noot"), o.function(a.destroy.bind(a)), o.function(this.zone.completeSequence.bind(e._zone, 10, 0)), o.set(i.user, "evtProc", !1), o.function(i.process.bind(i)), o.start()
	}
}), Prodigy.Forest_Q11 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 11, "", {
		type: "item",
		ID: 70,
		N: 1
	}, ["forest-A3", "forest-D3"], [31, 32], [], [39], [{
		type: "gold",
		N: 200
	}], !1)
}, Prodigy.extends(Prodigy.Forest_Q11, Prodigy.Quest, {
	constructor: Prodigy.Forest_Q11,
	setup: function (e, t, i) {
		Prodigy.Quest.prototype.setup.call(this, e, t), "A3" === i.getTag() && this.placeThief(e, t, i)
	},
	placeThief: function (e, t, i) {
		var a = {
			"catch": !1,
			drops: [{
				ID: 70,
				type: "item"
			}],
			encounter: [{
				ID: 69,
				nickname: "Forest Thief"
			}]
		};
		i.addMonster(e, t, 1, 384, 463, !0, a)
	}
}), Prodigy.Forest_Q12 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 12, "Wake up Gerald", {
		type: "seq",
		N: 1
	}, ["forest-D3"], [33, 34], [], [35], [{
		type: "spell",
		ID: 15
	}, {
		type: "key",
		ID: 3
	}], !1)
}, Prodigy.extends(Prodigy.Forest_Q12, Prodigy.Quest, {
	constructor: Prodigy.Forest_Q12,
	setup: function (e, t, i) {
		return Prodigy.Quest.prototype.start.call(this), "D3" === i.getTag() ? {
			enableMonsters: !1
		} : null
	},
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this), this.zone.isQuestComplete(12) || "D3" !== i.getTag() || this.bossBattle(e, t, i)
	},
	bossBattle: function (e, t, i) {
		var a = this.zone.util.getBattle(i, "Boss Battle!", {
			boss: {
				ID: 10,
				element: "earth",
				attacks: [13, 14, 15, 16],
				name: "Gerald",
				starBonus: 40,
				tag: "forest",
				scale: !0
			}
		}, this.endBattle.bind(this, e, i));
		if (this.zone.isOnSequence(12, 0)) {
			var s = e.prodigy.event.create();
			s.enableInput(!1), s.path(t.user, [{
				x: 572,
				y: 342
			}]), s.enableInput(!0), s.text(61, "noot"), s.set(i, "_wakeUp", !0), s.text(62, "noot"), s.text(63, "noot"), s.function(a), s.start()
		}
	},
	endBattle: function (e) {
		this.zone.setState("gerald", null), this.zone.completeSequence(12, 0), e.prodigy.world.teleport("forest-D3", 572, 342)
	},
	update: function (e, t, i) {
		"D3" === i.getTag() && i.update.call(i)
	}
}), Prodigy.Toyzone = function (e) {
	Prodigy.Zone.call(this, e), this.name = "Toyzone", this.ID = "toyzone", this.battleBG = "bg-battle-forest", this.onFaint = "toyzone-B2", this.questHub = "toyzone-B2", this.states = ["firstVisit", "a1Visited", "a2Visited", "b1Visited", "c1Visited", "c2Visited", "goldRecieved"], this.util = new Prodigy.ZoneUtil(e, this);
	var t = ["tileset-toyzone", "tileset-cloud", "tileset-forest-new", "tileset-firefly-new", "tileset-volcano", "tileset-icecave", "tileset-outsidesnow", "tileset-toy-ruins-test", "tileset-generic", "tileset-outside", "tileset-collisions", "core", "core-2", "icons", "zone-toyzone"];
	this.maps = {
		A1: new Toyzone_A1(this, t),
		A2: new Toyzone_A2(this, t),
		B1: new Toyzone_B1(this, t),
		B2: new Toyzone_B2(this, t),
		C1: new Toyzone_C1(this, t),
		C2: new Toyzone_C2(this, t)
	}
}, Prodigy.extends(Prodigy.Toyzone, Prodigy.Zone, {
	constructor: Prodigy.Toyzone
}), Toyzone_A1 = function (e, t) {
	this.portalActive = !1, this.landedOnPortal = !1, Prodigy.Map.call(this, e, "A1", "Arctursus's Lair", 1020, 290, ["toyzone-B2"], t)
}, Prodigy.extends(Toyzone_A1, Prodigy.Map, {
	constructor: Toyzone_A1,
	setup: function (e, t, i) {
		this.portalActive = !1, this.landedOnPortal = !1, Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1080,
			y: 280,
			w: 100,
			h: 80
		}, "toyzone-B2", 360, 400, this.playPortalEffectExit.bind(this, 1080, 280, "toyzone-B2", 360, 400));
		var a = e.prodigy.event.create();
		if (a.delay(1), a.function(this.reActivatePortals.bind(this)), a.start(), e.prodigy.player.kennel.hasPet(127) && Util.isDefined(this._zone.getState("a1Visited")) && this._zone.getState("a1Visited") !== !1) {
			for (var s = new Prodigy.Container.ToyMerchant(e, t.content, 640, 360, "Arctursus", this._zone), r = 0; r < s.sprite.children.length; r++) s.sprite.children[r].events.onInputDown.add(this.clicked.bind(this, e));
			s.clicked = this.clicked
		} else {
			var o = new Prodigy.Container.MonsterContainer(e, t.content, new Monster(Monsters.data["127"]), 1, 640, 360, !1, this.clicked.bind(this, e));
			o.startLoad()
		}
		Util.isDefined(this._zone.getState("a1Visited")) && this._zone.getState("a1Visited") !== !1 || (this._handSprite = t.foreground.add(this._zone.game.prodigy.create.sprite(710, 180, "icons", "help")), this._handSprite.anchor.setTo(.5, 0), this._zone.game.add.tween(this._handSprite).to({
			y: this._handSprite.y + 25
		}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0));
		var n = t.content.add(this._zone.game.prodigy.create.sprite(1080, 440, "zone-toyzone", "pillar-small"));
		n.anchor.setTo(.5, 1)
	},
	clicked: function (e) {
		var t = e.prodigy.event.create();
		Util.isDefined(this._zone.getState("a1Visited")) && this._zone.getState("a1Visited") !== !1 || (t.text(3, "toy"), t.function(this._zone.setState.bind(this._zone, "a1Visited", !0)), Util.isDefined(this._handSprite) && t.function(this._handSprite.destroy.bind(this._handSprite))), t.yesNoText(8, "toy"), e.prodigy.player.kennel.hasPet(127) ? t.function(e.prodigy.battle.startEpicArena.bind(e.prodigy.battle, 127, 1, !0)) : t.function(e.prodigy.open.buyToy.bind(this.game.prodigy.open, 127, !1)), t.start()
	},
	reActivatePortals: function () {
		this.landedOnPortal === !1 && (this.portalActive = !0)
	}
}), Toyzone_A2 = function (e, t) {
	this.portalActive = !1, this.landedOnPortal = !1, Prodigy.Map.call(this, e, "A2", "Florafox's Grove", 980, 460, ["toyzone-B2"], t)
}, Prodigy.extends(Toyzone_A2, Prodigy.Map, {
	constructor: Toyzone_A2,
	setup: function (e, t, i) {
		this.portalActive = !1, this.landedOnPortal = !1, Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1040,
			y: 450,
			w: 100,
			h: 80
		}, "toyzone-B2", 400, 240, this.playPortalEffectExit.bind(this, 1040, 450, "toyzone-B2", 400, 240));
		var a = e.prodigy.event.create();
		if (a.delay(1), a.function(this.reActivatePortals.bind(this)), a.start(), e.prodigy.player.kennel.hasPet(126) && Util.isDefined(this._zone.getState("a2Visited")) && this._zone.getState("a2Visited") !== !1) {
			for (var s = new Prodigy.Container.ToyMerchant(e, t.content, 640, 360, "Florafox", this._zone), r = 0; r < s.sprite.children.length; r++) s.sprite.children[r].events.onInputDown.add(this.clicked.bind(this, e));
			s.clicked = this.clicked
		} else {
			var o = new Prodigy.Container.MonsterContainer(e, t.content, new Monster(Monsters.data["126"]), 1, 640, 360, !1, this.clicked.bind(this, e));
			o.startLoad()
		}
		Util.isDefined(this._zone.getState("a2Visited")) && this._zone.getState("a2Visited") !== !1 || (this._handSprite = t.foreground.add(this._zone.game.prodigy.create.sprite(675, 220, "icons", "help")), this._handSprite.anchor.setTo(.5, 0), this._zone.game.add.tween(this._handSprite).to({
			y: this._handSprite.y + 25
		}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0));
		var n = t.content.add(this._zone.game.prodigy.create.sprite(240, 520, "zone-toyzone", "pillar-small"));
		n.anchor.setTo(.5, 1)
	},
	clicked: function (e) {
		var t = e.prodigy.event.create();
		Util.isDefined(this._zone.getState("a2Visited")) && this._zone.getState("a2Visited") !== !1 || (t.text(4, "toy"), t.function(this._zone.setState.bind(this._zone, "a2Visited", !0)), Util.isDefined(this._handSprite) && t.function(this._handSprite.destroy.bind(this._handSprite))), t.yesNoText(8, "toy"), e.prodigy.player.kennel.hasPet(126) ? t.function(e.prodigy.battle.startEpicArena.bind(e.prodigy.battle, 126, 1, !0)) : t.function(e.prodigy.open.buyToy.bind(this.game.prodigy.open, 126, !1)), t.start()
	},
	reActivatePortals: function () {
		this.landedOnPortal === !1 && (this.portalActive = !0)
	}
}), Toyzone_B1 = function (e, t) {
	this.portalActive = !1, this.landedOnPortal = !1, Prodigy.Map.call(this, e, "B1", "Big Hex's Battleground", 200, 350, ["toyzone-B2"], t)
}, Prodigy.extends(Toyzone_B1, Prodigy.Map, {
	constructor: Toyzone_B1,
	setup: function (e, t, i) {
		this.portalActive = !1, this.landedOnPortal = !1, Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 200,
			y: 400,
			w: 100,
			h: 80
		}, "toyzone-B2", 640, 480, this.playPortalEffectExit.bind(this, 200, 400, "toyzone-B2", 640, 480));
		var a = e.prodigy.event.create();
		if (a.delay(1), a.function(this.reActivatePortals.bind(this)), a.start(), e.prodigy.player.kennel.hasPet(125) && Util.isDefined(this._zone.getState("b1Visited")) && this._zone.getState("b1Visited") !== !1) {
			for (var s = new Prodigy.Container.ToyMerchant(e, t.content, 640, 360, "BigHex", this._zone), r = 0; r < s.sprite.children.length; r++) s.sprite.children[r].events.onInputDown.add(this.clicked.bind(this, e));
			s.clicked = this.clicked
		} else {
			var o = new Prodigy.Container.MonsterContainer(e, t.content, new Monster(Monsters.data["125"]), 1, 640, 360, !1, this.clicked.bind(this, e));
			o.startLoad()
		}
		Util.isDefined(this._zone.getState("b1Visited")) && this._zone.getState("b1Visited") !== !1 || (this._handSprite = t.foreground.add(this._zone.game.prodigy.create.sprite(690, 160, "icons", "help")), this._handSprite.anchor.setTo(.5, 0), this._zone.game.add.tween(this._handSprite).to({
			y: this._handSprite.y + 25
		}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0))
	},
	clicked: function (e) {
		var t = e.prodigy.event.create();
		Util.isDefined(this._zone.getState("b1Visited")) && this._zone.getState("b1Visited") !== !1 || (t.text(5, "toy"), t.function(this._zone.setState.bind(this._zone, "b1Visited", !0)), Util.isDefined(this._handSprite) && t.function(this._handSprite.destroy.bind(this._handSprite))), t.yesNoText(8, "toy"), e.prodigy.player.kennel.hasPet(125) ? t.function(e.prodigy.battle.startEpicArena.bind(e.prodigy.battle, 125, 1, !0)) : t.function(e.prodigy.open.buyToy.bind(this.game.prodigy.open, 125, !1)), t.start()
	},
	reActivatePortals: function () {
		this.landedOnPortal === !1 && (this.portalActive = !0)
	}
}), Toyzone_B2 = function (e, t) {
	this.portalActive = !1, this.landedOnPortal = !1, Prodigy.Map.call(this, e, "B2", "Mystic Rotunda", 640, 320, ["toyzone-A1", "toyzone-A2", "toyzone-B1", "toyzone-C1", "toyzone-C2"], t)
}, Prodigy.extends(Toyzone_B2, Prodigy.Map, {
	constructor: Toyzone_B2,
	start: function (e, t, i) {
		Prodigy.Map.prototype.start.call(this, e, t, i);
		var a = this._zone.getState("firstVisit");
		if (!Util.isDefined(a) || a === !1) {
			var s = e.prodigy.event.create();
			s.text(10, "toy"), s.text(11, "toy"), s.function(this._zone.setState.bind(this._zone, "firstVisit", !0)), s.start()
		}
	},
	setup: function (e, t, i) {
		this.portalActive = !1, this.landedOnPortal = !1, Prodigy.Map.prototype.setup.call(this, e, t, i), this.sprite = t.content.add(this.game.prodigy.create.element(this.sprites, 0, 0)), this.addAreaEvent(e, t, {
			x: 640,
			y: 320,
			w: 100,
			h: 80
		}, "toyzone-B2", 640, 320, this.playPortalEffectEnter.bind(this, 640, 320)), this.addAreaEvent(e, t, {
			x: 360,
			y: 400,
			w: 100,
			h: 80
		}, "toyzone-A1", 1080, 280, this.playPortalEffectExit.bind(this, 360, 400, "toyzone-A1", 1080, 280));
		var a = this._zone.getState("a1Visited");
		Util.isDefined(a) && a !== !1 || (this._sprite1 = t.foreground.add(this._zone.game.prodigy.create.sprite(360, 400, "core", "area-pointer")), this._sprite1.anchor.setTo(.5, 0), this._sprite1.angle = 180, this._zone.game.add.tween(this._sprite1).to({
			y: this._sprite1.y + 30
		}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0), a = !1, this._sprite1.inputEnabled = !0, this._sprite1.events.onInputDown.add(this.onHandClick.bind(this, t, 360, 400))), this.addAreaEvent(e, t, {
			x: 400,
			y: 240,
			w: 100,
			h: 80
		}, "toyzone-A2", 1040, 450, this.playPortalEffectExit.bind(this, 400, 240, "toyzone-A2", 1040, 450));
		var s = this._zone.getState("a2Visited");
		Util.isDefined(s) && s !== !1 || (this._sprite2 = t.foreground.add(this._zone.game.prodigy.create.sprite(400, 240, "core", "area-pointer")), this._sprite2.anchor.setTo(.5, 0), this._sprite2.angle = 180, this._zone.game.add.tween(this._sprite2).to({
			y: this._sprite2.y + 30
		}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0), s = !1, this._sprite2.inputEnabled = !0, this._sprite2.events.onInputDown.add(this.onHandClick.bind(this, t, 400, 240))), this.addAreaEvent(e, t, {
			x: 640,
			y: 480,
			w: 100,
			h: 80
		}, "toyzone-B1", 200, 400, this.playPortalEffectExit.bind(this, 640, 480, "toyzone-B1", 200, 400));
		var r = this._zone.getState("b1Visited");
		Util.isDefined(r) && r !== !1 || (this._sprite3 = t.foreground.add(this._zone.game.prodigy.create.sprite(640, 480, "core", "area-pointer")), this._sprite3.anchor.setTo(.5, 0), this._sprite3.angle = 180, this._zone.game.add.tween(this._sprite3).to({
			y: this._sprite3.y + 30
		}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0), r = !1, this._sprite3.inputEnabled = !0, this._sprite3.events.onInputDown.add(this.onHandClick.bind(this, t, 640, 480))), this.addAreaEvent(e, t, {
			x: 920,
			y: 400,
			w: 100,
			h: 80
		}, "toyzone-C1", 1080, 320, this.playPortalEffectExit.bind(this, 920, 400, "toyzone-C1", 1080, 320));
		var o = this._zone.getState("c1Visited");
		Util.isDefined(o) && o !== !1 || (this._sprite4 = t.foreground.add(this._zone.game.prodigy.create.sprite(920, 400, "core", "area-pointer")), this._sprite4.anchor.setTo(.5, 0), this._sprite4.angle = 180, this._zone.game.add.tween(this._sprite4).to({
			y: this._sprite4.y + 30
		}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0), o = !1, this._sprite4.inputEnabled = !0, this._sprite4.events.onInputDown.add(this.onHandClick.bind(this, t, 920, 400))), this.addAreaEvent(e, t, {
			x: 880,
			y: 240,
			w: 100,
			h: 80
		}, "toyzone-C2", 1040, 160, this.playPortalEffectExit.bind(this, 880, 240, "toyzone-C2", 1040, 160));
		var n = this._zone.getState("c2Visited");
		Util.isDefined(n) && n !== !1 || (this._sprite5 = t.foreground.add(this._zone.game.prodigy.create.sprite(880, 240, "core", "area-pointer")), this._sprite5.anchor.setTo(.5, 0), this._sprite5.angle = 180, this._zone.game.add.tween(this._sprite5).to({
			y: this._sprite5.y + 30
		}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0), n = !1, this._sprite5.inputEnabled = !0, this._sprite5.events.onInputDown.add(this.onHandClick.bind(this, t, 880, 240))), new Prodigy.Container.ToyMerchant(e, t.content, 640, 200);
		var h = this._zone.getState("goldRecieved");
		if (Util.isDefined(h) || (h = !1), a === !0 && s === !0 && r === !0 && o === !0 && n === !0 && h === !1) {
			var l = e.prodigy.event.create();
			l.text(9, "toy"), l.function(this.getGold.bind(this, e, 500)), l.function(this._zone.setState.bind(this._zone, "goldRecieved", !0)), l.start()
		}
		var d = e.prodigy.event.create();
		d.delay(1), d.function(this.reActivatePortals.bind(this)), d.start();
		var p = t.content.add(this._zone.game.prodigy.create.sprite(960, 320, "zone-toyzone", "pillar-large"));
		p.anchor.setTo(.5, 1);
		var c = t.content.add(this._zone.game.prodigy.create.sprite(320, 320, "zone-toyzone", "pillar-large"));
		c.anchor.setTo(.5, 1);
		var g = t.content.add(this._zone.game.prodigy.create.sprite(800, 480, "zone-toyzone", "pillar-small"));
		g.anchor.setTo(.5, 1)
	},
	getGold: function (e, t) {
		var i = [];
		i.push({
			type: "gold",
			N: t
		}), e.prodigy.open.gotItem(i)
	},
	reActivatePortals: function () {
		this.landedOnPortal === !1 && (this.portalActive = !0)
	},
	onHandClick: function (e, t, i) {
		e.user.setValidPath(e.path, t, i)
	}
}), Toyzone_C1 = function (e, t) {
	this.portalActive = !1, this.landedOnPortal = !1, Prodigy.Map.call(this, e, "C1", "Magmischief's Lava Pit", 1020, 330, ["toyzone-B2"], t)
}, Prodigy.extends(Toyzone_C1, Prodigy.Map, {
	constructor: Toyzone_C1,
	setup: function (e, t, i) {
		this.portalActive = !1, this.landedOnPortal = !1, Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1080,
			y: 320,
			w: 100,
			h: 80
		}, "toyzone-B2", 920, 400, this.playPortalEffectExit.bind(this, 1080, 320, "toyzone-B2", 920, 400));
		var a = e.prodigy.event.create();
		if (a.delay(1), a.function(this.reActivatePortals.bind(this)), a.start(), e.prodigy.player.kennel.hasPet(129) && Util.isDefined(this._zone.getState("c1Visited")) && this._zone.getState("c1Visited") !== !1) {
			for (var s = new Prodigy.Container.ToyMerchant(e, t.content, 640, 360, "Magmischief", this._zone), r = 0; r < s.sprite.children.length; r++) s.sprite.children[r].events.onInputDown.add(this.clicked.bind(this, e));
			s.clicked = this.clicked
		} else {
			var o = new Prodigy.Container.MonsterContainer(e, t.content, new Monster(Monsters.data["129"]), 1, 640, 360, !1, this.clicked.bind(this, e));
			o.startLoad()
		}
		Util.isDefined(this._zone.getState("c1Visited")) && this._zone.getState("c1Visited") !== !1 || (this._handSprite = t.foreground.add(this._zone.game.prodigy.create.sprite(670, 190, "icons", "help")), this._handSprite.anchor.setTo(.5, 0), this._zone.game.add.tween(this._handSprite).to({
			y: this._handSprite.y + 25
		}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0));
		var n = t.content.add(this._zone.game.prodigy.create.sprite(1080, 480, "zone-toyzone", "pillar-small"));
		n.anchor.setTo(.5, 1)
	},
	clicked: function (e) {
		var t = e.prodigy.event.create();
		Util.isDefined(this._zone.getState("c1Visited")) && this._zone.getState("c1Visited") !== !1 || (t.text(6, "toy"), t.function(this._zone.setState.bind(this._zone, "c1Visited", !0)), Util.isDefined(this._handSprite) && t.function(this._handSprite.destroy.bind(this._handSprite))), t.yesNoText(8, "toy"), e.prodigy.player.kennel.hasPet(129) ? t.function(e.prodigy.battle.startEpicArena.bind(e.prodigy.battle, 129, 1, !0)) : t.function(e.prodigy.open.buyToy.bind(this.game.prodigy.open, 129, !1)), t.start()
	},
	reActivatePortals: function () {
		this.landedOnPortal === !1 && (this.portalActive = !0)
	}
}), Toyzone_C2 = function (e, t) {
	this.portalActive = !1, this.landedOnPortal = !1, Prodigy.Map.call(this, e, "C2", "Diveodile's Swimming Hole", 980, 170, ["toyzone-B2"], t)
}, Prodigy.extends(Toyzone_C2, Prodigy.Map, {
	constructor: Toyzone_C2,
	setup: function (e, t, i) {
		this.portalActive = !1, this.landedOnPortal = !1, Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1040,
			y: 160,
			w: 100,
			h: 80
		}, "toyzone-B2", 880, 240, this.playPortalEffectExit.bind(this, 1040, 160, "toyzone-B2", 880, 240));
		var a = e.prodigy.event.create();
		if (a.delay(1), a.function(this.reActivatePortals.bind(this)), a.start(), e.prodigy.player.kennel.hasPet(128) && Util.isDefined(this._zone.getState("c2Visited")) && this._zone.getState("c2Visited") !== !1) {
			for (var s = new Prodigy.Container.ToyMerchant(e, t.content, 640, 360, "Diveodile", this._zone), r = 0; r < s.sprite.children.length; r++) s.sprite.children[r].events.onInputDown.add(this.clicked.bind(this, e));
			s.clicked = this.clicked
		} else {
			var o = new Prodigy.Container.MonsterContainer(e, t.content, new Monster(Monsters.data["128"]), 1, 640, 360, !1, this.clicked.bind(this, e));
			o.startLoad()
		}
		Util.isDefined(this._zone.getState("c2Visited")) && this._zone.getState("c2Visited") !== !1 || (this._handSprite = t.foreground.add(this._zone.game.prodigy.create.sprite(680, 170, "icons", "help")), this._handSprite.anchor.setTo(.5, 0), this._zone.game.add.tween(this._handSprite).to({
			y: this._handSprite.y + 25
		}, 400, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0));
		var n = t.content.add(this._zone.game.prodigy.create.sprite(1120, 280, "zone-toyzone", "pillar-small"));
		n.anchor.setTo(.5, 1)
	},
	clicked: function (e) {
		var t = e.prodigy.event.create();
		Util.isDefined(this._zone.getState("c2Visited")) && this._zone.getState("c2Visited") !== !1 || (t.text(7, "toy"), t.function(this._zone.setState.bind(this._zone, "c2Visited", !0)), Util.isDefined(this._handSprite) && t.function(this._handSprite.destroy.bind(this._handSprite))), t.yesNoText(8, "toy"), e.prodigy.player.kennel.hasPet(128) ? t.function(e.prodigy.battle.startEpicArena.bind(e.prodigy.battle, 128, 1, !0)) : t.function(e.prodigy.open.buyToy.bind(this.game.prodigy.open, 128, !1)), t.start()
	},
	reActivatePortals: function () {
		this.landedOnPortal === !1 && (this.portalActive = !0)
	}
}), Prodigy.Shiverchill = function (e) {
	Prodigy.Zone.call(this, e), this.name = "Shiverchill Mountains", this.ID = "shiverchill", this.battleBG = "bg-battle-mountain", this.onFaint = "shiverchill-A10", this.questHub = "shiverchill-A10", this.states = ["chest1", "chest2", "chest3", "chest4", "chest5", "wizard1", "wizard2", "wizard3", "wizard4", "furnace", "chest6", "daily"], this.util = new Prodigy.ZoneUtil(e, this), this.monsters = [16, 50, 122, 78, 87];
	var t = ["tileset-icecave-new", "tileset-collisions"];
	this.maps = {
		A11: new Prodigy.Shiverchill_A11(this, t),
		A10: new Prodigy.Shiverchill_A10(this, t),
		A9: new Prodigy.Shiverchill_A9(this, t),
		A7: new Prodigy.Shiverchill_A7(this, t),
		A6: new Prodigy.Shiverchill_A6(this, t),
		A5: new Prodigy.Shiverchill_A5(this, t),
		B3: new Prodigy.Shiverchill_B3(this, t),
		B6: new Prodigy.Shiverchill_B6(this, t),
		B7: new Prodigy.Shiverchill_B7(this, t),
		B8: new Prodigy.Shiverchill_B8(this, t),
		B9: new Prodigy.Shiverchill_B9(this, t),
		B10: new Prodigy.Shiverchill_B10(this, t),
		A4: new Prodigy.Shiverchill_A4(this, t),
		A2: new Prodigy.Shiverchill_A2(this, t),
		A3: new Prodigy.Shiverchill_A3(this, t),
		B2: new Prodigy.Shiverchill_B2(this, t),
		B1: new Prodigy.Shiverchill_B1(this, t)
	}, this.quests = {
		1: new Prodigy.Shiverchill_Q1(this, []),
		2: new Prodigy.Shiverchill_Q2(this, []),
		3: new Prodigy.Shiverchill_Q3(this, []),
		4: new Prodigy.Shiverchill_Q4(this, []),
		5: new Prodigy.Shiverchill_Q5(this, []),
		6: new Prodigy.Shiverchill_Q6(this, []),
		7: new Prodigy.Shiverchill_Q7(this, []),
		8: new Prodigy.Shiverchill_Q8(this, []),
		9: new Prodigy.Shiverchill_Q9(this, []),
		10: new Prodigy.Shiverchill_Q10(this, []),
		11: new Prodigy.Shiverchill_Q11(this, []),
		12: new Prodigy.Shiverchill_Q12(this, []),
		13: new Prodigy.Shiverchill_Q13(this, []),
		14: new Prodigy.Shiverchill_Q14(this, []),
		15: new Prodigy.Shiverchill_Q15(this, [])
	}, this.store = {
		name: "Snowday Sales",
		items: [{
			ID: 37,
			type: "hat"
		}, {
			ID: 63,
			type: "weapon"
		}, {
			ID: 33,
			type: "outfit"
		}, {
			ID: 50,
			type: "pet"
		}, {
			ID: 27,
			type: "follow"
		}, {
			ID: 26,
			type: "follow"
		}]
	}
}, Prodigy.extends(Prodigy.Shiverchill, Prodigy.Zone, {
	constructor: Prodigy.Shiverchill,
	placeDaily: function (e, t, i) {
		if (Util.isDefined(this.getQuestState()) && this.getQuestState().ID > 6 && t.prodigy.player.backpack.hasItem("item", 80) < 99) {
			for (var a = this.getDailyMaps(), s = new Prodigy.SeededRandomGenerator(this.getState("daily").date), r = 0; 5 > r; r++)
				if (a[Math.floor(s.jumpFromStart(r) * (a.length - 1))] === e._tag) {
					var o = this.getState("daily").flags;
					if (Util.isDefined(o[r].x)) var n = o[r].x,
						h = o[r].y
				} if (!Util.isDefined(n))
				for (var l = e.daily_coords[Math.floor(Math.random() * e.daily_coords.length)], n = l.x, h = l.y, r = 0; 5 > r; r++)
					if (a[Math.floor(s.jumpFromStart(r) * (a.length - 1))] === e._tag) {
						var o = this.getState("daily").flags;
						o[r] = {
							x: n,
							y: h
						}, this.setState("daily", {
							date: this.getState("daily").date,
							flags: o,
							rewards: this.getState("daily").rewards
						})
					} this.ice = e.addClickableEvent(t, i, n, h, 60, 60, this.frozenSomethingOnClick.bind(this, t, i, e), null), this.ice.add(t.prodigy.create.sprite(-10, -10, "zone-shiverchill", "frozen-something"))
		}
	},
	frozenSomethingOnClick: function (e, t, i) {
		var a = e.prodigy.event.create();
		a.validPath(t.user, t.path, this.ice.x + 20, this.ice.y + 40), a.set(t.user, "evtProc", !0), a.function(this.interactFrozenSomething.bind(this, i)), a.set(t.user, "evtProc", !1), a.start()
	},
	interactFrozenSomething: function (e) {
		var t = this.getDailyMaps();
		this.ice.destroy(), this.game.prodigy.open.gotItem([{
			type: "item",
			ID: 79
		}]);
		for (var i = new Prodigy.SeededRandomGenerator(this.getState("daily").date), a = 0; 5 > a; a++)
			if (t[Math.floor(i.jumpFromStart(a) * (t.length - 1))] === e._tag) {
				var s = this.getState("daily").flags;
				s[a] = 0, this.setState("daily", {
					date: this.getState("daily").date,
					flags: s,
					rewards: this.getState("daily").rewards
				})
			}
	},
	getDailyMaps: function () {
		var e = [];
		for (var t in this.maps) Util.isDefined(this.maps[t].daily_coords) && e.push(t);
		return e
	},
	smoke: function (e, t, i, a) {
		for (var s = 0; 4 > s; s++) {
			var r = e.prodigy.create.sprite(40 * i + 20, 40 * a + 20, "core-2", "smoke");
			t.foreground.add(r), r.anchor.setTo(.5, .5), r.scale.x = r.scale.y = .1, r.alpha = 1, e.add.tween(r).to({
				y: r.y - 150,
				alpha: 0
			}, 2e3, Phaser.Easing.Linear.None, !1, 0, 1e3, !1).delay(500 * s).start(), e.add.tween(r.scale).to({
				x: .75,
				y: .75
			}, 2e3, Phaser.Easing.Linear.None, !1, 0, 1e3, !1).delay(500 * s).start()
		}
	},
	placeAllDailies: function (e, t, i) {
		if (this.ice = [], Util.isDefined(e.daily_coords))
			for (var a = function (e, t) {
					var a = function (e, t) {
							this.getDailyMaps();
							this.ice[t].destroy(), this.game.prodigy.open.gotItem([{
								type: "item",
								ID: 79
							}])
						},
						s = e.prodigy.event.create();
					s.validPath(i.user, i.path, this.ice[t].x + 20, this.ice[t].y + 40), s.set(i.user, "evtProc", !0), s.function(a.bind(this, e, t)), s.set(i.user, "evtProc", !1), s.start()
				}, s = 0; s < e.daily_coords.length; s++) this.ice.push(e.addClickableEvent(t, i, e.daily_coords[s].x, e.daily_coords[s].y, 60, 60, a.bind(this, t, s), null)), this.ice[s].add(t.prodigy.create.sprite(-10, -10, "zone-shiverchill", "frozen-something"))
	}
}), Prodigy.Shiverchill_A11 = function (e, t) {
	Prodigy.Map.call(this, e, "A11", "Borderland", 1100, 220, ["shiverchill-A10"], t.concat(["npc-sprite-wizard", "tileset-generic-snow"])), this.coord = [{
		x: 640,
		y: 560
	}, {
		x: 785,
		y: 230
	}, {
		x: 350,
		y: 400
	}]
}, Prodigy.extends(Prodigy.Shiverchill_A11, Prodigy.Map, {
	constructor: Prodigy.Shiverchill_A11,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1100,
			y: 130,
			w: 160,
			h: 100
		}, "shiverchill-A10", 125, 650, null, AreaEvent.UP);
		var a = {
			opponent: [{
				data: {
					level: 15
				},
				appearance: {
					name: "Ivira of the Greenwood",
					gender: "female",
					hairStyle: 1,
					hairColor: 3,
					skinColor: 1,
					eyeColor: 4
				},
				equipment: {
					hat: 1,
					outfit: 3,
					weapon: 1
				}
			}],
			pets: [{
				ID: 25,
				level: 15
			}, {
				ID: 33,
				level: 15
			}, {
				ID: 53,
				level: 15
			}]
		};
		this.addWizard(e, t, 474, 414, "wizard1", a)
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	}
}), Prodigy.Shiverchill_A10 = function (e, t) {
	Prodigy.Map.call(this, e, "A10", "Bok's Cave", 125, 650, ["shiverchill-B10", "shiverchill-A11", "shiverchill-A9"], t.concat(["npc-sprite-merchant", "npc-sprite-bok", "tileset-shiverchill"]))
}, Prodigy.extends(Prodigy.Shiverchill_A10, Prodigy.Map, {
	constructor: Prodigy.Shiverchill_A10,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 120,
			y: 520,
			r: 80
		}, "shiverchill-A11", 1100, 220, null, AreaEvent.UP), this.addAreaEvent(e, t, {
			x: 220,
			y: 0,
			w: 300,
			h: 200
		}, "shiverchill-A9", 200, 550, null, AreaEvent.UP), this.addAreaEvent(e, t, {
			x: 1140,
			y: 150,
			w: 100,
			h: 80,
			rect: !0
		}, "shiverchill-B10", 235, 575, null, AreaEvent.UP), this.addClickableEvent(e, t, 1120, 40, 80, 120, this.doorClick.bind(this, e, t));
		var a = function (e) {
			var t = e.prodigy.event.create();
			t.text(0, "bok"), t.start()
		};
		this.addQuestNPC(e, t, 680, 390, "bok", 0, a.bind(this, e)), t.createStoreNPC(400, 350, this._zone.store), this.addHealStone(e, t, 800, 596), new Prodigy.Container.ToyMerchant(e, t.content, 932, 365)
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	},
	doorClick: function (e, t) {
		t.user.setValidPath(t.path, 1160, 160)
	}
}), Prodigy.Shiverchill_A9 = function (e, t) {
	Prodigy.Map.call(this, e, "A9", "Treasure Room", 200, 550, ["shiverchill-A10", "shiverchill-B8"], t.concat(["zone-shiverchill", "tileset-minecarts"])), this.daily_coords = [{
		x: 125,
		y: 510
	}, {
		x: 925,
		y: 260
	}, {
		x: 620,
		y: 340
	}]
}, Prodigy.extends(Prodigy.Shiverchill_A9, Prodigy.Map, {
	constructor: Prodigy.Shiverchill_A9,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 200,
			y: 720,
			w: 280,
			h: 200
		}, "shiverchill-A10", 221, 200, null, AreaEvent.DOWN), this.setupFrozenLoot(e, t);
		var a = {
			randDir: !0,
			encounter: [{
				ID: 122
			}, {
				ID: 78
			}]
		};
		this.addMonster(e, t, 1, 490, 510, !1, a), this.addMonster(e, t, 2, 720, 200, !1, a), this.addMonster(e, t, 3, 1150, 460, !1, a), this.addMonster(e, t, 4, 200, 230, !1, a), this.checkFurnace(e, t)
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	},
	doorClick: function (e, t) {
		t.user.setValidPath(t.path, 200, 100)
	},
	setupFrozenLoot: function (e, t) {
		var i = t.content.add(new Phaser.Image(e, 1050, 550, "zone-shiverchill", "frozen-loot"));
		i.anchor.setTo(.5, 1), i.visible = !1, this._zone.getState("furnace") >= 4 ? (this._zone.smoke(e, t, 22, 12), this._zone.smoke(e, t, 16, 14), this.addChest(e, t, "chest6", 1050, 550, [{
			type: "weapon",
			ID: 73
		}])) : i.visible = !0
	},
	checkFurnace: function (e, t) {
		this._zone.getState("furnace") >= 1 && (this._zone.smoke(e, t, 31, 4), this.addAreaEvent(e, t, {
			x: 1120,
			y: 130,
			w: 150,
			h: 80
		}, "shiverchill-B8", 100, 550, null, AreaEvent.UP)), this.addClickableEvent(e, t, 160, 40, 80, 80, this.doorClick.bind(this, e, t)), this._zone.getState("furnace") >= 2 && (this._zone.smoke(e, t, 12, 7), this.addAreaEvent(e, t, {
			x: 150,
			y: 75,
			w: 100,
			h: 80,
			rect: !0
		}, "shiverchill-A6", 980, 335, null, AreaEvent.UP)), this._zone.getState("furnace") <= 1 && (this.addBlock(e, t, 150, 150, {
			x: .5,
			y: 1,
			atlas: "zone-shiverchill",
			tag: "ice-cubes"
		}), this.addCollisionZone(t, 80, 0, 120, 80)), this._zone.getState("furnace") < 1 && (this.addBlock(e, t, 1070, 250, {
			x: .5,
			y: 1,
			atlas: "zone-shiverchill",
			tag: "ice-cubes"
		}), this.addBlock(e, t, 1155, 285, {
			x: .5,
			y: 1,
			atlas: "zone-shiverchill",
			tag: "ice-cubes"
		}), this.addCollisionZone(t, 1e3, 80, 180, 140))
	}
}), Prodigy.Shiverchill_A7 = function (e, t) {
	Prodigy.Map.call(this, e, "A7", "Ruined Entrance", 189, 650, ["shiverchill-B7", "shiverchill-B8"], t.concat(["npc-sprite-merchant", "zone-shiverchill", "tileset-minecarts"])), this.coord = [{
		x: 1e3,
		y: 360
	}, {
		x: 720,
		y: 600
	}]
}, Prodigy.extends(Prodigy.Shiverchill_A7, Prodigy.Map, {
	constructor: Prodigy.Shiverchill_A7,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 160,
			y: 520,
			r: 100
		}, "shiverchill-B8", 1100, 200, null, AreaEvent.UP), this.addAreaEvent(e, t, {
			x: 1280,
			y: 250,
			w: 120,
			h: 280
		}, "shiverchill-B7", 110, 220), this.setupNPC(e, t);
		var a = this._zone.getQuestState();
		Util.isDefined(this._zone) && (!Util.isDefined(a) || a.ID < 7 && !this._zone.isQuestComplete(6)) && (this.block = this.addBlock(e, t, 385, 325, {
			x: .5,
			y: 1,
			atlas: "zone-shiverchill",
			tag: "ice-small",
			content: !0
		}), this.addCollisionZone(t, 340, 280, 100, 60)), this.addHealStone(e, t, 780, 550)
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	},
	setupNPC: function (e, t) {
		this.npc = this.addNPC(e, t, 378, 313, "npc-sprite-merchant", this.chatWithMerchant.bind(this, e, t), "Miner"), this.npc.flip(), this.npc.animate("stand"), this.npc.showName(!0), this.npcIcon = t.content.add(e.prodigy.create.sprite(350, 100, "icons", "map-quest")), this.floatTween = e.prodigy.animation.float(this.npcIcon, 20, 1400, !0, !0)
	},
	chatWithMerchant: function (e, t) {
		var i = e.prodigy.event.create();
		this._zone.isOnQuest(4) || this._zone.isOnQuest(5) ? (i.enableInput(!1), i.validPath(t.user, t.path, 324, 348), i.enableInput(!0), this._zone.isOnSequence(4, 1) ? (i.function(this.npc.highlight.bind(this.npc, !1)), i.text(7, "merchant"), i.text(8, "merchant"), i.function(this._zone.completeSequence.bind(this._zone, 4, 1)), i.function(t.process.bind(t))) : i.text(8, "merchant")) : this._zone.isOnQuest(6) ? i.text(12, "merchant") : this._zone.getQuestState().ID >= 6 && (e.prodigy.player.backpack.hasItem("item", 80) ? e.prodigy.player.backpack.hasItem("item", 80) < 5 ? (i.text(27, "merchant"), i.text(19, "merchant"), 4 === e.prodigy.player.backpack.hasItem("item", 80) && i.text(25, "merchant")) : e.prodigy.player.backpack.hasItem("item", 80) > 4 && this._zone.getState("daily").rewards < 5 ? (i.text(26, "merchant"), i.enableSave(!1), i.function(this._zone.setState.bind(this._zone, "daily", {
			date: this._zone.getState("daily").date,
			flags: this._zone.getState("daily").flags,
			rewards: 5
		})), i.function(e.prodigy.open.gotItem.bind(e.prodigy.open, [{
			type: "item",
			ID: 76,
			N: 5
		}], function () {
			i.text(20, "merchant"), i.start()
		})), i.enableSave(!0)) : e.prodigy.player.backpack.hasItem("item", 80) > 4 && e.prodigy.player.backpack.hasItem("item", 80) < 10 && this._zone.getState("daily").rewards > 4 ? (i.text(27, "merchant"), i.text(20, "merchant"), 9 === e.prodigy.player.backpack.hasItem("item", 80) && i.text(25, "merchant")) : e.prodigy.player.backpack.hasItem("item", 80) > 9 && this._zone.getState("daily").rewards < 10 ? (i.text(26, "merchant"), i.enableSave(!1), i.function(this._zone.setState.bind(this._zone, "daily", {
			date: this._zone.getState("daily").date,
			flags: this._zone.getState("daily").flags,
			rewards: 10
		})), i.function(e.prodigy.open.gotItem.bind(e.prodigy.open, [{
			type: "item",
			ID: 77,
			N: 10
		}], function () {
			i.text(21, "merchant"), i.start()
		})), i.enableSave(!0)) : e.prodigy.player.backpack.hasItem("item", 80) > 9 && e.prodigy.player.backpack.hasItem("item", 80) < 25 && this._zone.getState("daily").rewards > 9 ? (i.text(27, "merchant"), i.text(21, "merchant"), 24 === e.prodigy.player.backpack.hasItem("item", 80) && i.text(25, "merchant")) : e.prodigy.player.backpack.hasItem("item", 80) > 24 && this._zone.getState("daily").rewards < 25 ? (i.text(26, "merchant"), i.enableSave(!1), i.function(this._zone.setState.bind(this._zone, "daily", {
			date: this._zone.getState("daily").date,
			flags: this._zone.getState("daily").flags,
			rewards: 25
		})), i.function(e.prodigy.open.gotItem.bind(e.prodigy.open, [{
			type: "hat",
			ID: 10
		}], function () {
			i.text(22, "merchant"), i.start()
		})), i.enableSave(!0)) : e.prodigy.player.backpack.hasItem("item", 80) > 24 && e.prodigy.player.backpack.hasItem("item", 80) < 50 && this._zone.getState("daily").rewards > 24 ? (i.text(27, "merchant"), i.text(22, "merchant"), 49 === e.prodigy.player.backpack.hasItem("item", 80) && i.text(25, "merchant")) : e.prodigy.player.backpack.hasItem("item", 80) > 49 && this._zone.getState("daily").rewards < 50 ? (i.text(26, "merchant"), i.enableSave(!1), i.function(this._zone.setState.bind(this._zone, "daily", {
			date: this._zone.getState("daily").date,
			flags: this._zone.getState("daily").flags,
			rewards: 50
		})), i.function(e.prodigy.open.gotItem.bind(e.prodigy.open, [{
			type: "outfit",
			ID: 6
		}], function () {
			i.text(23, "merchant"), i.start()
		})), i.enableSave(!0)) : e.prodigy.player.backpack.hasItem("item", 80) > 49 && e.prodigy.player.backpack.hasItem("item", 80) < 75 && this._zone.getState("daily").rewards > 49 ? (i.text(27, "merchant"), i.text(23, "merchant"), 74 === e.prodigy.player.backpack.hasItem("item", 80) && i.text(25, "merchant")) : e.prodigy.player.backpack.hasItem("item", 80) > 74 && this._zone.getState("daily").rewards < 75 ? (i.text(26, "merchant"), i.enableSave(!1), i.function(this._zone.setState.bind(this._zone, "daily", {
			date: this._zone.getState("daily").date,
			flags: this._zone.getState("daily").flags,
			rewards: 75
		})), i.function(e.prodigy.open.gotItem.bind(e.prodigy.open, [{
			type: "weapon",
			ID: 13
		}], function () {
			i.text(24, "merchant"), i.start()
		})), i.enableSave(!0)) : e.prodigy.player.backpack.hasItem("item", 80) > 74 && e.prodigy.player.backpack.hasItem("item", 80) < 99 && this._zone.getState("daily").rewards > 74 ? (i.text(27, "merchant"), i.text(24, "merchant"), 98 === e.prodigy.player.backpack.hasItem("item", 80) && i.text(25, "merchant")) : e.prodigy.player.backpack.hasItem("item", 80) > 98 && this._zone.getState("daily").rewards < 99 ? (i.text(26, "merchant"), i.enableSave(!1), i.function(this._zone.setState.bind(this._zone, "daily", {
			date: this._zone.getState("daily").date,
			flags: this._zone.getState("daily").flags,
			rewards: 99
		})), i.function(e.prodigy.open.gotItem.bind(e.prodigy.open, [{
			type: "hat",
			ID: 56
		}])), i.enableSave(!0)) : i.text(36, "merchant") : (i.text(27, "merchant"), i.text(30, "merchant"), i.text(31, "merchant"), i.text(32, "merchant"))), i.start()
	}
}), Prodigy.Shiverchill_A6 = function (e, t) {
	Prodigy.Map.call(this, e, "A6", "Rail Ruins", 1170, 400, ["shiverchill-A5", "shiverchill-B6"], t.concat(["zone-shiverchill", "tileset-minecarts", "tileset-iceruins", "npc-sprite-wizard"])), this.coord = [{
		x: 645,
		y: 230
	}, {
		x: 920,
		y: 555
	}], this.daily_coords = [{
		x: 1010,
		y: 480
	}, {
		x: 300,
		y: 480
	}, {
		x: 520,
		y: 220
	}]
}, Prodigy.extends(Prodigy.Shiverchill_A6, Prodigy.Map, {
	constructor: Prodigy.Shiverchill_A6,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1280,
			y: 400,
			w: 120,
			h: 280
		}, "shiverchill-B6", 110, 400);
		var a = {
			type: "item",
			ID: 71
		};
		this.addCollect(e, t, 1, 674, 245, a);
		var s = {
			encounter: [{
				ID: 90,
				R: 1
			}, {
				ID: 92,
				R: 15
			}]
		};
		this.addMonster(e, t, 1, 770, 415, !1, s);
		var s = {
			opponent: [{
				data: {
					level: 15
				},
				appearance: {
					name: "Rutherford Aguafencer",
					gender: "male",
					hairStyle: 1,
					hairColor: 3,
					skinColor: 1,
					eyeColor: 4
				},
				equipment: {
					hat: 1,
					outfit: 3,
					weapon: 1
				}
			}],
			pets: [{
				ID: 99,
				level: 15
			}, {
				ID: 56,
				level: 15
			}, {
				ID: 67,
				level: 15
			}]
		};
		this.addWizard(e, t, 350, 370, "wizard2", s), this.checkFurnaces(e, t)
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	},
	doorClick: function (e, t) {
		t.user.setValidPath(t.path, 1e3, 260)
	},
	doorClick2: function (e, t) {
		t.user.setValidPath(t.path, 160, 260)
	},
	checkFurnaces: function (e, t) {
		this._zone.getState("furnace") >= 2 ? (this._zone.smoke(e, t, 12, 13), this.addClickableEvent(e, t, 120, 160, 120, 80, this.doorClick2.bind(this, e, t)), this.addAreaEvent(e, t, {
			x: 160,
			y: 170,
			w: 80,
			h: 190,
			rect: !0
		}, "shiverchill-A5", 1180, 650, null, AreaEvent.UP), this.addClickableEvent(e, t, 960, 200, 80, 80, this.doorClick.bind(this, e, t)), this.addAreaEvent(e, t, {
			x: 980,
			y: 240,
			w: 70,
			h: 72,
			rect: !0
		}, "shiverchill-A9", 145, 170, null, AreaEvent.UP)) : (this.addBlock(e, t, 160, 300, {
			x: .5,
			y: 1,
			atlas: "zone-shiverchill",
			tag: "ice-cubes"
		}), this.addBlock(e, t, 983, 327, {
			x: .5,
			y: 1,
			atlas: "zone-shiverchill",
			tag: "ice-cubes"
		}), this.addCollisionZone(t, 80, 80, 160, 200), this.addCollisionZone(t, 920, 200, 100, 100))
	}
}), Prodigy.Shiverchill_A5 = function (e, t) {
	Prodigy.Map.call(this, e, "A5", "Mountain Valley", 1180, 650, ["shiverchill-A4", "shiverchill-A6"], t.concat(["tileset-generic-snow"])), this.coord = [{
		x: 100,
		y: 540
	}, {
		x: 700,
		y: 350
	}, {
		x: 1025,
		y: 150
	}]
}, Prodigy.extends(Prodigy.Shiverchill_A5, Prodigy.Map, {
	constructor: Prodigy.Shiverchill_A5,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1160,
			y: 530,
			r: 60
		}, "shiverchill-A6", 160, 330, null, AreaEvent.UP), this.addAreaEvent(e, t, {
			x: 130,
			y: 100,
			w: 100,
			h: 90
		}, "shiverchill-A4", 1160, 610, null, AreaEvent.UP), this.addChest(e, t, "chest4", 560, 320, [{
			type: "outfit",
			ID: 48
		}]);
		var a = {
			randDir: !0,
			encounter: [{
				ID: 50,
				"catch": !1
			}]
		};
		this.addMonster(e, t, 1, 490, 510, !1, a)
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	}
}), Prodigy.Shiverchill_B7 = function (e, t) {
	Prodigy.Map.call(this, e, "B7", "Ruined Passage", 110, 220, ["shiverchill-A7", "shiverchill-B6"], t), this.coord = [{
		x: 320,
		y: 260
	}, {
		x: 380,
		y: 620
	}], this.daily_coords = [{
		x: 370,
		y: 540
	}, {
		x: 955,
		y: 400
	}, {
		x: 1190,
		y: 330
	}]
}, Prodigy.extends(Prodigy.Shiverchill_B7, Prodigy.Map, {
	constructor: Prodigy.Shiverchill_B7,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1150,
			y: 0,
			w: 280,
			h: 120
		}, "shiverchill-B6", 1060, 610), this.addAreaEvent(e, t, {
			x: 0,
			y: 250,
			w: 120,
			h: 280
		}, "shiverchill-A7", 1170, 220);
		var a = {
			encounter: [{
				ID: 90
			}]
		};
		this.addMonster(e, t, 1, 674, 283, !1, a);
		var s = this.addMonster(e, t, 2, 95, 645, !1, a);
		if (Util.isDefined(s)) {
			t.user.evtProc = !0;
			var r = e.add.tween(s).to({
				x: 268
			}, 1500, Phaser.Easing.Linear.None).delay(2e3).start();
			e.add.tween(s).to({
				y: 450
			}, 750, Phaser.Easing.Quadratic.Out).delay(2e3).to({
				y: 500
			}, 750, Phaser.Easing.Quadratic.In).start(), r.onComplete.add(this.startPath.bind(this, t, s))
		}
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	},
	startPath: function (e, t) {
		Util.isDefined(t) && t.patrol([{
			x: 270,
			y: 480
		}, {
			x: 1070,
			y: 480
		}]), e.user.evtProc = !1
	}
}), Prodigy.Shiverchill_B6 = function (e, t) {
	Prodigy.Map.call(this, e, "B6", "Ruined Steps", 1060, 610, ["shiverchill-A6", "shiverchill-B7"], t.concat(["tileset-minecarts", "tileset-iceruins"])), this.coord = [{
		x: 315,
		y: 635
	}, {
		x: 650,
		y: 600
	}, {
		x: 1100,
		y: 230
	}], this.daily_coords = [{
		x: 1100,
		y: 420
	}, {
		x: 1015,
		y: 110
	}, {
		x: 185,
		y: 400
	}]
}, Prodigy.extends(Prodigy.Shiverchill_B6, Prodigy.Map, {
	constructor: Prodigy.Shiverchill_B6,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1e3,
			y: 720,
			w: 280,
			h: 120
		}, "shiverchill-B7", 1060, 110), this.addAreaEvent(e, t, {
			x: 0,
			y: 400,
			w: 170,
			h: 280
		}, "shiverchill-A6", 1170, 400), this.addChest(e, t, "chest1", 545, 280, [{
			type: "item",
			ID: 73
		}, {
			type: "gold",
			N: 250
		}], {
			type: "item",
			ID: 75
		});
		var a = {
			randDir: !1,
			encounter: [{
				ID: 90
			}]
		};
		this.addMonster(e, t, 1, 420, 400, !1, a);
		var s = this.addMonster(e, t, 2, 700, 160, !1, a);
		this.startPath(t, s)
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	},
	startPath: function (e, t) {
		Util.isDefined(t) && t.patrol([{
			x: 700,
			y: 160
		}, {
			x: 980,
			y: 160
		}, {
			x: 1148,
			y: 423
		}, {
			x: 980,
			y: 160
		}])
	}
}), Prodigy.Shiverchill_B3 = function (e, t) {
	Prodigy.Map.call(this, e, "B3", "Royal Passage", 110, 280, ["shiverchill-B1", "shiverchill-A3", "shiverchill-B2"], t.concat(["zone-shiverchill", "npc-sprite-noot", "tileset-iceruins", "tileset-minecarts"])), this.daily_coords = [{
		x: 980,
		y: 250
	}, {
		x: 970,
		y: 400
	}, {
		x: 255,
		y: 490
	}]
}, Prodigy.extends(Prodigy.Shiverchill_B3, Prodigy.Map, {
	constructor: Prodigy.Shiverchill_B3,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 0,
			y: 350,
			w: 150,
			h: 275
		}, "shiverchill-A3", 1160, 230), this.checkFurnaces(e, t)
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	},
	doorClick: function (e, t) {
		t.user.setValidPath(t.path, 560, 370)
	},
	checkFurnaces: function (e, t) {
		this._zone.getState("furnace") >= 3 ? (this._zone.smoke(e, t, 1, 16), this._zone.smoke(e, t, 27, 16), this._zone.smoke(e, t, 26, 12), this.addClickableEvent(e, t, 520, 270, 80, 120, this.doorClick.bind(this, e, t)), this.addAreaEvent(e, t, {
			x: 520,
			y: 285,
			w: 90,
			h: 80,
			rect: !0
		}, "shiverchill-B2", 640, 500, null, AreaEvent.UP), this.addAreaEvent(e, t, {
			x: 1160,
			y: 90,
			w: 120,
			h: 50
		}, "shiverchill-B1", 200, 630, null, AreaEvent.UP)) : (this.addBlock(e, t, 520, 368, {
			x: .5,
			y: 1,
			atlas: "zone-shiverchill",
			tag: "ice-cubes"
		}), this.addBlock(e, t, 1160, 175, {
			x: .5,
			y: 1,
			atlas: "zone-shiverchill",
			tag: "ice-cubes"
		}), this.addCollisionZone(t, 460, 60, 160, 220), this.addCollisionZone(t, 1060, 40, 180, 120))
	}
}), Prodigy.Shiverchill_B8 = function (e, t) {
	Prodigy.Map.call(this, e, "B8", "Mountain Pass", 100, 550, ["shiverchill-A9", "shiverchill-A7"], t.concat(["zone-shiverchill", "tileset-generic-snow"])), this.coord = [{
		x: 1200,
		y: 530
	}, {
		x: 820,
		y: 400
	}, {
		x: 445,
		y: 280
	}]
}, Prodigy.extends(Prodigy.Shiverchill_B8, Prodigy.Map, {
	constructor: Prodigy.Shiverchill_B8,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 90,
			y: 410,
			r: 80
		}, "shiverchill-A9", 1125, 225, null, AreaEvent.UP), this.addAreaEvent(e, t, {
			x: 1090,
			y: 100,
			w: 100,
			h: 70
		}, "shiverchill-A7", 189, 650, null, AreaEvent.UP), this.addChest(e, t, "chest2", 850, 300, [{
			type: "hat",
			ID: 55
		}]);
		var a = {
			encounter: [{
				ID: 16,
				R: 1
			}, {
				ID: 61,
				R: 25
			}]
		};
		this.addMonster(e, t, 1, 729, 220, !1, a), this.addMonster(e, t, 2, 1018, 622, !1, a)
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	}
}), Prodigy.Shiverchill_B10 = function (e, t) {
	Prodigy.Map.call(this, e, "B10", "Furnace Room", 235, 575, ["shiverchill-A10"], t.concat(["tileset-minecarts"]))
}, Prodigy.extends(Prodigy.Shiverchill_B10, Prodigy.Map, {
	constructor: Prodigy.Shiverchill_B10,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 200,
			y: 700,
			r: 120
		}, "shiverchill-A10", 1160, 230), this.addAreaEvent(e, t, {
			x: 660,
			y: 200,
			w: 60,
			h: 72,
			rect: !0
		}, "shiverchill-B9", 645, 500);
		for (var a = [[200, 80], [440, 240], [720, 160], [1e3, 200]], s = [], r = 0; r < a.length; r++) s.push(this.addClickableEvent(e, t, a[r][0], a[r][1], 160, 120, this.furnaceClick.bind(this, e, t, r + 1)));
		e.prodigy.player.backpack.hasItem("item", 71) && this.highlightFurnace(e, t, s), this.processFurnaces(e, t)
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	},
	highlightFurnace: function (e, t, i) {
		var a = this._zone.getState("furnace");
		Util.isDefined(a) ? a < i.length && i[a].highlight(!0) : i[0].highlight(!0)
	},
	furnaceClick: function (e, t, i, a) {
		var s = this._zone.getState("furnace");
		s === i - 1 || Util.isDefined(s) || 1 === i || (s = 0);
		var r = e.prodigy.event.create();
		r.validPath(t.user, t.path, a.x + 10, a.y + 170);
		var o = function (e, t, i) {
			var a = t.content.add(e.prodigy.create.sprite(t.user.x, t.user.y, "icons", i));
			a.anchor.setTo(.5, 1), e.add.tween(a).to({
				x: "+70"
			}, 2e3, Phaser.Easing.Linear.None).to({
				alpha: 0
			}, 10, Phaser.Easing.Linear.None).start(), e.add.tween(a).to({
				y: "-200"
			}, 1e3, Phaser.Easing.Quadratic.Out).to({
				y: "+100"
			}, 1e3, Phaser.Easing.Quadratic.In).start()
		};
		if (s >= i)
			if (e.prodigy.player.backpack.hasItem("item", 79)) {
				for (var n = [{
						type: "item",
						ID: 1
					}, {
						type: "item",
						ID: 2
					}, {
						type: "item",
						ID: 3
					}], h = .5 * Math.random() + .5, l = [], d = Math.floor(1.5 * Math.random() + 1), p = 0; d > p; p++) Math.random() < h ? l.push({
					type: "item",
					ID: 80
				}) : l.push(n[Math.floor(Math.random() * n.length)]);
				r.enableInput(!1), r.enableSave(!1), r.function(e.prodigy.player.backpack.consume.bind(e.prodigy.player.backpack, "item", 79, 1)), r.function(o.bind(this, e, t, "item/79")), r.delay(2200), r.function(e.prodigy.open.gotItem.bind(e.prodigy.open, l)), r.enableInput(!0), r.enableSave(!0)
			} else r.popup("This furnace is already lit!");
		else i > s + 1 ? r.popup("You must light the furnaces in order!") : e.prodigy.player.backpack.hasItem("item", 71) ? (r.enableInput(!1), r.enableSave(!1), r.function(e.prodigy.player.backpack.consume.bind(e.prodigy.player.backpack, "item", 71, 1)), r.function(this._zone.setState.bind(this._zone, "furnace", i)), r.function(a.highlight.bind(a, !1)), r.function(o.bind(this, e, t, "item/71")), r.delay(2e3), r.function(this.processFurnaces.bind(this, e, t)), r.enableSave(!0), r.enableInput(!0), r.function(t.process.bind(t))) : r.popup("This furnace needs some kind of fuel source...");
		r.start()
	},
	processFurnaces: function (e, t) {
		var i = this._zone.getState("furnace");
		if (Util.isDefined(i))
			for (var a = [[5, 4], [11, 7], [18, 6], [25, 7]], s = 0; s < a.length; s++) {
				var r = a[s][0],
					o = a[s][1];
				i >= s + 1 && (t.floor.add(this.getTile(e, 1042, 40 * r, 40 * o, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1043, 40 * (r + 1), 40 * o, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 2147484690, 40 * (r + 2), 40 * o, t.path, t.area, null, !0)))
			}
	}
}), Prodigy.Shiverchill_A3 = function (e, t) {
	Prodigy.Map.call(this, e, "A3", "Frozen Pass", 200, 630, ["shiverchill-A2", "shiverchill-A4", "shiverchill-B3"], t.concat(["zone-shiverchill", "tileset-minecarts"])), this.coord = [{
		x: 700,
		y: 380
	}, {
		x: 1150,
		y: 130
	}], this.daily_coords = [{
		x: 1100,
		y: 210
	}, {
		x: 485,
		y: 240
	}, {
		x: 390,
		y: 540
	}]
}, Prodigy.extends(Prodigy.Shiverchill_A3, Prodigy.Map, {
	constructor: Prodigy.Shiverchill_A3,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1275,
			y: 235,
			w: 150,
			h: 240
		}, "shiverchill-B3", 100, 290), this.addAreaEvent(e, t, {
			x: 222,
			y: 700,
			w: 240,
			h: 75
		}, "shiverchill-A4", 220, 80);
		var a = {
			randDir: !0,
			encounter: [{
				ID: 87
			}, {
				ID: 122
			}]
		};
		this.addMonster(e, t, 1, 200, 300, !1, a), this.addMonster(e, t, 3, 960, 360, !1, a), this.checkFurnaces(e, t)
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	},
	checkFurnaces: function (e, t) {
		this._zone.getState("furnace") >= 3 ? (this._zone.smoke(e, t, 13, 3), this.addAreaEvent(e, t, {
			x: 120,
			y: 100,
			w: 150,
			h: 150
		}, "shiverchill-A2", 1150, 360)) : (this.addBlock(e, t, 135, 240, {
			x: .5,
			y: 1,
			atlas: "zone-shiverchill",
			tag: "ice-cubes"
		}), this.addCollisionZone(t, 60, 60, 120, 100))
	}
}), Prodigy.Shiverchill_A4 = function (e, t) {
	Prodigy.Map.call(this, e, "A4", "Worm's Rest", 1160, 610, ["shiverchill-A3", "shiverchill-A5"], t.concat(["zone-shiverchill"]))
}, Prodigy.extends(Prodigy.Shiverchill_A4, Prodigy.Map, {
	constructor: Prodigy.Shiverchill_A4,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 220,
			y: 0,
			w: 240,
			h: 75
		}, "shiverchill-A3", 220, 650), this.addAreaEvent(e, t, {
			x: 1160,
			y: 510,
			r: 60
		}, "shiverchill-A5", 160, 200, null, AreaEvent.UP);
		var a = {
			randDir: !0,
			encounter: [{
				ID: 87
			}, {
				ID: 122
			}]
		};
		this.addMonster(e, t, 1, 200, 300, !1, a), this.addMonster(e, t, 2, 900, 405, !1, a), this.addMonster(e, t, 3, 500, 500, !1, a)
	}
}), Prodigy.Shiverchill_A2 = function (e, t) {
	Prodigy.Map.call(this, e, "A2", "The Chasm", 1150, 360, ["shiverchill-A3"], t.concat(["tileset-generic-snow", "npc-sprite-wizard"])), this.daily_coords = [{
		x: 840,
		y: 320
	}, {
		x: 565,
		y: 450
	}]
}, Prodigy.extends(Prodigy.Shiverchill_A2, Prodigy.Map, {
	constructor: Prodigy.Shiverchill_A2,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1130,
			y: 280,
			r: 80
		}, "shiverchill-A3", 100, 230, null, AreaEvent.UP), this.addChest(e, t, "chest3", 530, 370, [{
			type: "item",
			ID: 71
		}]);
		var a = {
			opponent: [{
				data: {
					level: 25
				},
				appearance: {
					name: "Firia the Chandragon",
					gender: "female",
					hairStyle: 4,
					hairColor: 12,
					skinColor: 1,
					eyeColor: 4
				},
				equipment: {
					hat: 8,
					outfit: 34,
					weapon: 56
				}
			}],
			pets: [{
				ID: 82,
				level: 25
			}, {
				ID: 48,
				level: 25
			}, {
				ID: 61,
				level: 25
			}, {
				ID: 37,
				level: 24
			}]
		};
		this.addWizard(e, t, 460, 360, "wizard4", a)
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	}
}), Prodigy.Shiverchill_B2 = function (e, t) {
	Prodigy.Map.call(this, e, "B2", "Throne Room", 640, 500, ["shiverchill-B3"], t)
}, Prodigy.extends(Prodigy.Shiverchill_B2, Prodigy.Map, {
	constructor: Prodigy.Shiverchill_B2,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 675,
			y: 625,
			w: 250,
			h: 100,
			rect: !0
		}, "shiverchill-B3", 560, 415, null, AreaEvent.DOWN)
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	}
}), Prodigy.Shiverchill_B1 = function (e, t) {
	Prodigy.Map.call(this, e, "B1", "Shiverchill Gate", 200, 630, ["shiverchill-B3"], t.concat(["npc-sprite-wizard", "tileset-generic-snow"]))
}, Prodigy.extends(Prodigy.Shiverchill_B1, Prodigy.Map, {
	constructor: Prodigy.Shiverchill_B1,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 130,
			y: 420,
			r: 80
		}, "shiverchill-B3", 1160, 230, null, AreaEvent.UP), this.addHealStone(e, t, 455, 480);
		var a = {
			opponent: [{
				data: {
					level: 20
				},
				appearance: {
					name: "Gerome of the North",
					gender: "male",
					hairStyle: 4,
					hairColor: 12,
					skinColor: 1,
					eyeColor: 4
				},
				equipment: {
					hat: 25,
					outfit: 33,
					weapon: 31
				}
			}],
			pets: [{
				ID: 92,
				level: 20
			}, {
				ID: 17,
				level: 20
			}, {
				ID: 18,
				level: 20
			}]
		};
		this.addWizard(e, t, 960, 500, "wizard3", a).flip()
	}
}), Prodigy.Shiverchill_B9 = function (e, t) {
	Prodigy.Map.call(this, e, "B9", "Hidden Room", 645, 500, ["shiverchill-B10"], t.concat(["zone-shiverchill"])), this.daily_coords = [{
		x: 680,
		y: 250
	}, {
		x: 280,
		y: 320
	}, {
		x: 945,
		y: 380
	}]
}, Prodigy.extends(Prodigy.Shiverchill_B9, Prodigy.Map, {
	constructor: Prodigy.Shiverchill_B9,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 645,
			y: 650,
			r: 140
		}, "shiverchill-B10", 670, 250, null, AreaEvent.DOWN), this.addChest(e, t, "chest5", 530, 370, [{
			type: "item",
			ID: 2
		}, {
			type: "item",
			ID: 5
		}, {
			type: "item",
			ID: 6
		}, {
			type: "item",
			ID: 7
		}, {
			type: "item",
			ID: 15
		}])
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	}
}), Prodigy.Shiverchill_Q1 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 1, "", {
		type: "pet",
		ID: 122,
		N: 3,
		U: !0
	}, ["shiverchill-B10"], [3, 4, 5, 6], [], [0], [{
		type: "gold",
		N: 100
	}], !1)
}, Prodigy.extends(Prodigy.Shiverchill_Q1, Prodigy.Quest, {
	constructor: Prodigy.Shiverchill_Q1,
	setup: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this), "B10" === i.getTag() && this.placeMonsters(e, t, i)
	},
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this), "B10" === i.getTag() && this.zone.isOnSequence(1, 0) && this.chatWithNoot(e, t, i)
	},
	placeMonsters: function (e, t, i) {
		var a = {
			randDir: !0,
			encounter: [{
				ID: 122
			}]
		};
		i.addMonster(e, t, 1, 198, 255, !0, a), i.addMonster(e, t, 2, 1150, 480, !0, a), i.addMonster(e, t, 3, 417, 408, !0, a)
	},
	chatWithNoot: function (e, t, i) {
		var a = e.prodigy.event.create();
		a.text(67, "noot"), a.function(this.zone.completeSequence.bind(i._zone, 1, 0)), a.start()
	}
}), Prodigy.Shiverchill_Q2 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 2, "", {
		type: "item",
		N: 1,
		ID: 71,
		K: !0
	}, ["shiverchill-A9"], [7, 2, 8, 9], [], [0], [{
		type: "gold",
		N: 100
	}], !1)
}, Prodigy.extends(Prodigy.Shiverchill_Q2, Prodigy.Quest, {
	constructor: Prodigy.Shiverchill_Q2,
	setup: function (e, t, i) {
		if (Prodigy.Quest.prototype.setup.call(this, e, t), "A9" === i.getTag()) {
			if (!this.zone.isQuestComplete(2)) return this.placeMonsters(e, t, i), {
				enableMonsters: !1
			};
			this.removeDropFromMonsters()
		}
		return null
	},
	placeMonsters: function (e, t, i) {
		var a = {
			randDir: !0,
			highlight: !0,
			encounter: [{
				ID: 122,
				drops: [{
					type: "item",
					ID: 71,
					R: .3
				}]
			}, {
				ID: 78,
				drops: [{
					type: "item",
					ID: 71,
					R: .2
				}]
			}]
		};
		this.monsters = [], this.monsters.push(i.addMonster(e, t, 1, 490, 510, !1, a)), this.monsters.push(i.addMonster(e, t, 2, 720, 200, !1, a)), this.monsters.push(i.addMonster(e, t, 3, 1150, 460, !1, a)), this.monsters.push(i.addMonster(e, t, 4, 200, 230, !1, a))
	},
	removeDropFromMonsters: function () {
		if (Util.isDefined(this.monsters))
			for (var e = 0; e < this.monsters.length; e++) Util.isDefined(this.monsters[e]) && Util.isDefined(this.monsters[e].monsterData.drops) && delete this.monsters[e].monsterData.drops
	}
}), Prodigy.Shiverchill_Q3 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 3, "Activate Furnace", {
		type: "zgteState",
		ID: "furnace",
		N: 1
	}, ["shiverchill-B10"], [10, 11], [], [0, 1], [{
		type: "spell",
		ID: 19
	}], !1)
}, Prodigy.extends(Prodigy.Shiverchill_Q3, Prodigy.Quest, {
	constructor: Prodigy.Shiverchill_Q3
}), Prodigy.Shiverchill_Q4 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 4, "Explore Caves", {
		type: "seq",
		N: 2
	}, ["shiverchill-A7"], [12, 13], [69], [14, 15, 2, 16], [{
		type: "item",
		ID: 75
	}], !1)
}, Prodigy.extends(Prodigy.Shiverchill_Q4, Prodigy.Quest, {
	constructor: Prodigy.Shiverchill_Q4,
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this), this.zone.isOnSequence(4, 0) && "B8" === i.getTag() ? this.earthquake(e, t, i) : "A7" === i.getTag() && this.completeQuest(i)
	},
	earthquake: function (e, t, i) {
		var a = e.prodigy.event.create();
		a.enableInput(!1), a.path(t.user, [{
			x: 250,
			y: 640
		}]), a.function(t.user.chat.bind(t.user, 1, 100)), a.shake(0, 3e3, 10, "v"), a.enableInput(!0), a.text(68, "noot"), a.function(this.zone.completeSequence.bind(i._zone, 4, 0)), a.start()
	},
	completeQuest: function (e) {
		this.zone.isQuestComplete(4) || e.npc.highlight(!0, -60, -100)
	}
}), Prodigy.Shiverchill_Q5 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 5, "Find the Shovel", {
		type: "item",
		ID: 73,
		N: 1
	}, ["shiverchill-B6"], [17], [70], [18, 2, 19], [{
		type: "gold",
		N: 100
	}, {
		type: "item",
		ID: 72
	}], !1)
}, Prodigy.extends(Prodigy.Shiverchill_Q5, Prodigy.Quest, {
	constructor: Prodigy.Shiverchill_Q5
}), Prodigy.Shiverchill_Q6 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 6, "Help the Miner", {
		type: "seq",
		N: 2
	}, ["shiverchill-A7"], [20], [], [0], [{
		type: "hat",
		ID: 54
	}], !1)
}, Prodigy.extends(Prodigy.Shiverchill_Q6, Prodigy.Quest, {
	constructor: Prodigy.Shiverchill_Q6,
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this), this.zone.isOnSequence(6, 0) && "A7" === i.getTag() ? this.ambush(e, t, i) : this.zone.isOnSequence(6, 1) && "A7" === i.getTag() && this.talkToMerchant(e, t, i)
	},
	endBattle: function (e) {
		this.zone.completeSequence(6, 0), e.prodigy.world.teleport("shiverchill-A7", 328, 343)
	},
	ambush: function (e, t, i) {
		var a = i.addMonster(e, t, 1, 0, 0, !1, {
				encounter: [{
					ID: 87
				}]
			}),
			s = i.addMonster(e, t, 1, 0, 0, !1, {
				encounter: [{
					ID: 87
				}]
			}),
			r = i.addMonster(e, t, 1, 0, 0, !1, {
				encounter: [{
					ID: 87
				}]
			}),
			o = function (e, t, i) {
				i.x = e, i.y = t
			},
			n = this.zone.util.getBattle(i, "Snowball Fight!!", {
				pets: [{
					ID: 87,
					nickname: "Chilly"
				}, {
					ID: 87,
					nickname: "Frosty"
				}, {
					ID: 87,
					nickname: "Freezy"
				}]
			}, this.endBattle.bind(this, e, i)),
			h = e.prodigy.event.create();
		h.enableInput(!1), h.set(t.user, "evtProc", !0), h.path(t.user, [{
			x: 450,
			y: 550
		}, {
			x: 430,
			y: 600
		}]), h.delay(500), h.function(o.bind(i, 900, 600, a)), h.function(o.bind(i, 950, 650, s)), h.function(o.bind(i, 950, 550, r)), h.function(t.user.chat.bind(t.user, 1, 80)), h.path(a, [{
			x: 600,
			y: 333
		}], 1, !0), h.path(s, [{
			x: 650,
			y: 333
		}], 1, !0), h.path(r, [{
			x: 600,
			y: 283
		}], 1, !1), h.hop(a, 575, -140, 100, !0), h.hop(s, 575, -140, 100, !0), h.hop(r, 575, -140, 100, !1), h.enableInput(!0), h.function(n), h.start()
	},
	talkToMerchant: function (e, t, i) {
		Util.isDefined(i.block) && (i.block.visible = !1);
		var a = e.prodigy.event.create();
		a.text(9, "merchant"), a.text(), a.text(71, "noot"), a.text(), a.text(10, "merchant"), a.text(11, "merchant"), a.text(), a.text(72, "noot"), a.text(), a.text(12, "merchant"), a.text(35, "merchant"), a.text(30, "merchant"), a.text(31, "merchant"), a.text(32, "merchant"), a.enableSave(!1), a.function(e.prodigy.player.backpack.consume.bind(e.prodigy.player.backpack, "item", 72, 1)), a.function(this.zone.completeSequence.bind(i._zone, 6, 1)), a.enableSave(!0), a.function(t.process.bind(t)), a.start()
	}
}), Prodigy.Shiverchill_Q7 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 7, "???", {
		type: "seq",
		N: 1
	}, ["shiverchill-B8"], [21, 22], [69], [0], [{
		type: "gold",
		N: 100
	}], !1)
}, Prodigy.extends(Prodigy.Shiverchill_Q7, Prodigy.Quest, {
	constructor: Prodigy.Shiverchill_Q7,
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this), this.zone.isOnSequence(7, 0) && "B8" === i.getTag() && this.wormBattle(e, t, i)
	},
	endBattle: function (e) {
		this.zone.completeSequence(7, 0), e.prodigy.world.teleport("shiverchill-B8", 480, 320)
	},
	wormBattle: function (e, t, i) {
		var a = this.zone.util.getBattle(i, "Scary Worm Battle!", {
			boss: {
				ID: 11,
				level: 20,
				element: "ice",
				attacks: [19, 20, 21],
				name: "???",
				starBonus: 30,
				tag: "shiverchill"
			}
		}, this.endBattle.bind(this, e, i));
		i.boss = t.content.add(new Phaser.Image(e, 530, 150, "zone-shiverchill", "worm")), i.boss.visible = !1;
		var s = e.prodigy.event.create();
		s.enableInput(!1), s.path(t.user, [{
			x: 425,
			y: 326
		}, {
			x: 420,
			y: 530
		}, {
			x: 290,
			y: 640
		}]), s.shake(0, 3e3, 10, "v", !0), s.function(t.user.chat.bind(t.user, 1, 100)), s.explode(540, 250, 150, 150, 1, !0), s.delay(700), s.explode(540, 100, 150, 250, 2, !0), s.delay(1e3), s.set(i.boss, "visible", !0), s.explode(540, 250, 150, 150, 1), s.delay(500), s.enableInput(!0), s.text(73, "noot"), s.function(a), s.start()
	}
}), Prodigy.Shiverchill_Q8 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 8, "", {
		type: "pet",
		ID: 90,
		N: 3
	}, ["shiverchill-B7", "shiverchill-B6"], [23, 24, 2, 25], [], [0], [{
		type: "gold",
		N: 100
	}], !1)
}, Prodigy.extends(Prodigy.Shiverchill_Q8, Prodigy.Quest, {
	constructor: Prodigy.Shiverchill_Q8
}), Prodigy.Shiverchill_Q9 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 9, "", {
		type: "item",
		ID: 71,
		N: 1,
		K: !0
	}, ["shiverchill-A6"], [26], [], [0], [{
		type: "gold",
		N: 100
	}], !1)
}, Prodigy.extends(Prodigy.Shiverchill_Q9, Prodigy.Quest, {
	constructor: Prodigy.Shiverchill_Q9
}), Prodigy.Shiverchill_Q10 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 10, "Activate Furnace", {
		type: "zgteState",
		ID: "furnace",
		N: 2
	}, ["shiverchill-B10"], [10, 11], [], [0, 1], [{
		type: "spell",
		ID: 20
	}], !1)
}, Prodigy.extends(Prodigy.Shiverchill_Q10, Prodigy.Quest, {
	constructor: Prodigy.Shiverchill_Q10
}), Prodigy.Shiverchill_Q11 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 11, "Check Throne", {
		type: "seq",
		N: 1
	}, ["shiverchill-B3"], [27, 28], [], [29], [{
		type: "gold",
		N: 100
	}], !1)
}, Prodigy.extends(Prodigy.Shiverchill_Q11, Prodigy.Quest, {
	constructor: Prodigy.Shiverchill_Q11,
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this), this.zone.isOnSequence(11, 0) && "B3" === i.getTag() && this.cutscene(e, t, i)
	},
	cutscene: function (e, t, i) {
		i.boss = t.content.add(new Phaser.Image(e, 800, 250, "zone-shiverchill", "worm")), i.boss.visible = !1, i.crystal = t.content.add(new Phaser.Image(e, 750, 400, "icons", "item/71"));
		var a = i.addNPC(e, t, 250, 400, "npc-sprite-noot");
		a.visible = !1, a.float(!0);
		var s = e.prodigy.event.create();
		s.enableInput(!1), s.path(t.user, [{
			x: 250,
			y: 400
		}]), s.set(a, "visible", !0), s.hop(a, 300, 50, 50), s.enableInput(!0), s.text(74, "noot"), s.enableInput(!1), s.delay(500), s.function(a.chat.bind(a, 1, 100)), s.delay(500), s.path(a, [{
			x: 550,
			y: 450
		}]), s.enableInput(!0), s.text(75, "noot"), s.enableInput(!1), s.path(a, [{
			x: 750,
			y: 500
		}]), s.shake(0, 3e3, 10, "v", !0), s.function(a.chat.bind(a, 1, 100)), s.explode(810, 350, 150, 150, 1, !0), s.delay(500), s.hop(a, 110, -140, 100, !0), s.delay(700), s.explode(810, 200, 150, 250, 2, !0), s.delay(1e3), s.set(i.boss, "visible", !0), s.explode(810, 350, 150, 150, 1), s.delay(1e3), s.shake(0, 3e3, 10, "v", !0), s.explode(790, 350, 200, 150, 1, !0), s.delay(700), s.explode(790, 200, 200, 250, 2, !0), s.delay(700), s.set(i.boss, "visible", !1), s.set(i.crystal, "visible", !1), s.explode(810, 350, 150, 150, 1), s.enableInput(!0), s.text(76, "noot"), s.enableInput(!1), s.path(a, [{
			x: 300,
			y: 400
		}]), s.hop(a, 300, -50, 50), s.set(a, "visible", !1), s.enableInput(!0), s.function(this.zone.completeSequence.bind(i._zone, 11, 0)), s.function(t.process.bind(t)), s.start()
	}
}), Prodigy.Shiverchill_Q12 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 12, "", {
		type: "item",
		ID: 74,
		N: 5,
		K: !0
	}, ["shiverchill-A3", "shiverchill-B3"], [30, 2, 31, 32, 33], [], [0], [{
		type: "outfit",
		ID: 47
	}], !1)
}, Prodigy.extends(Prodigy.Shiverchill_Q12, Prodigy.Quest, {
	constructor: Prodigy.Shiverchill_Q12,
	setup: function (e, t, i) {
		Prodigy.Quest.prototype.setup.call(this, e, t), "B3" === i.getTag() ? this.createItems_B3(e, t, i) : "A3" === i.getTag() && this.createItems_A3(e, t, i)
	},
	createItems_B3: function (e, t, i) {
		var a = {
			type: "item",
			ID: 74
		};
		i.addCollect(e, t, 4, 530, 550, a), i.addCollect(e, t, 5, 860, 525, a)
	},
	createItems_A3: function (e, t, i) {
		var a = {
			type: "item",
			ID: 74
		};
		i.addCollect(e, t, 1, 980, 160, a), i.addCollect(e, t, 2, 180, 450, a), i.addCollect(e, t, 3, 670, 370, a)
	}
}), Prodigy.Shiverchill_Q13 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 13, "Defeat Ice Worm", {
		type: "seq",
		N: 1
	}, ["shiverchill-A4"], [34, 2, 35], [], [0], [{
		type: "gold",
		N: 100
	}], !1)
}, Prodigy.extends(Prodigy.Shiverchill_Q13, Prodigy.Quest, {
	constructor: Prodigy.Shiverchill_Q13,
	setup: function (e, t, i) {
		return Prodigy.Quest.prototype.start.call(this), "A4" === i.getTag() ? {
			enableMonsters: !1
		} : null
	},
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this), this.zone.isOnSequence(13, 0) && "A4" === i.getTag() && (this.zone.util.hideHex(e, t), this.bossBattle(e, t, i))
	},
	endBattle: function (e) {
		this.zone.completeSequence(13, 0), e.prodigy.world.teleport("shiverchill-A4", 300, 460)
	},
	bossBattle: function (e, t, i) {
		var a = this.zone.util.getBattle(i, "Boss Battle!", {
				boss: {
					ID: 11,
					level: 30,
					element: "ice",
					attacks: [19, 20, 21],
					name: "Ice Worm",
					starBonus: 50,
					tag: "shiverchill"
				},
				drops: [{
					ID: 71,
					type: "item"
				}]
			}, this.endBattle.bind(this, e, i)),
			s = function (e, t, i) {
				var a = t.background.add(e.prodigy.create.sprite(t.user.x, t.user.y, "icons", "crystal"));
				a.anchor.setTo(.5, 1), e.add.tween(a).to({
					x: i
				}, 500, Phaser.Easing.Linear.None).start(), e.add.tween(a).to({
					y: "-50"
				}, 250, Phaser.Easing.Quadratic.Out).to({
					y: "+50"
				}, 250, Phaser.Easing.Quadratic.In).start()
			},
			r = function () {
				i.boss = t.content.add(new Phaser.Image(e, 350, 310, "zone-shiverchill", "worm"))
			},
			o = e.prodigy.event.create();
		o.set(t.user, "evtProc", !0), o.enableInput(!1), o.path(t.user, [{
			x: 640,
			y: 530
		}]), o.function(e.prodigy.player.backpack.consume.bind(e.prodigy.player.backpack, "item", 74, 5)), o.function(s.bind(i, e, t, "-50")), o.delay(500), o.path(t.user, [{
			x: 310,
			y: 600
		}]), o.function(s.bind(i, e, t, "-50")), o.delay(500), o.path(t.user, [{
			x: 200,
			y: 430
		}]), o.function(s.bind(i, e, t, "-50")), o.delay(500), o.path(t.user, [{
			x: 250,
			y: 340
		}]), o.function(s.bind(i, e, t, "+50")), o.delay(500), o.path(t.user, [{
			x: 470,
			y: 380
		}]), o.function(s.bind(i, e, t, "+50")), o.delay(500), o.path(t.user, [{
			x: 300,
			y: 460
		}]), o.path(t.user, [{
			x: 301,
			y: 460
		}]), o.delay(500), o.shake(0, 3e3, 10, "v", !0), o.function(t.user.chat.bind(t.user, 1, 100)), o.explode(360, 410, 150, 150, 1, !0), o.delay(700), o.explode(360, 260, 150, 250, 2, !0), o.delay(1e3), o.function(r.bind(i)), o.explode(360, 410, 150, 150, 1), o.delay(500), o.enableInput(!0), o.function(a), o.start()
	}
}), Prodigy.Shiverchill_Q14 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 14, "Activate Furnace", {
		type: "zgteState",
		ID: "furnace",
		N: 3
	}, ["shiverchill-B10"], [10, 11], [], [0, 1], [{
		type: "spell",
		ID: 21
	}], !1)
}, Prodigy.extends(Prodigy.Shiverchill_Q14, Prodigy.Quest, {
	constructor: Prodigy.Shiverchill_Q14
}), Prodigy.Shiverchill_Q15 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 15, "", {
		type: "key",
		N: 1,
		K: !0,
		ID: 4
	}, ["shiverchill-B2"], [36, 37], [], [0], [{
		type: "weapon",
		ID: 74
	}], !1)
}, Prodigy.extends(Prodigy.Shiverchill_Q15, Prodigy.Quest, {
	constructor: Prodigy.Shiverchill_Q15,
	setup: function (e, t, i) {
		Prodigy.Quest.prototype.setup.call(this, e, t, i), "B2" === i.getTag() && this.placeItem(e, t, i)
	},
	placeItem: function (e, t, i) {
		var a = {
			type: "key",
			ID: 4
		};
		i.addCollect(e, t, 1, 640, 350, a)
	}
}), Prodigy.Skywatch = function (e) {
	Prodigy.Zone.call(this, e), this.store = {
		name: "Sky-High Values",
		items: [{
			ID: 41,
			type: "hat"
		}, {
			ID: 67,
			type: "weapon"
		}, {
			ID: 37,
			type: "outfit"
		}, {
			ID: 15,
			type: "pet"
		}, {
			ID: 35,
			type: "pet"
		}, {
			ID: 31,
			type: "follow"
		}, {
			ID: 28,
			type: "follow"
		}]
	}, this.util = new Prodigy.SkywatchUtil(e, this), this.name = "Skywatch", this.ID = "skywatch", this.battleBG = "bg-battle-cloud", this.onFaint = "skywatch-A1", this.questHub = "skywatch-A1", this.states = ["chest1", "chest2", "chest3", "chest4", "chest5", "wizard1", "wizard2", "daily", "windowBroken", "plug-D3", "plug-B3", "plug-C4", "eugene_A1", "vines-D1", "vines-D2", "vines-D3", "vines-B3", "vines-C4"], this.monsters = [13, 15, 18, 20, 35, 40, 43, 56, 72, 84, 113, 115, 120];
	var t = ["tileset-interior", "tileset-cloud", "tileset-generic", "tileset-outsidesnow", "npc-sprite-wizard", "tileset-town", "zone-skywatch", "tileset-cloud-no-collisions", "npc-sprite-benni", "npc-sprite-broccolina", "npc-sprite-eugene", "sfx-skywatch"];
	this.maps = {
		A0: new Prodigy.Skywatch_A0(this, t),
		A1: new Prodigy.Skywatch_A1(this, t),
		B1: new Prodigy.Skywatch_B1(this, t),
		B2: new Prodigy.Skywatch_B2(this, t),
		B3: new Prodigy.Skywatch_B3(this, t),
		C1: new Prodigy.Skywatch_C1(this, t),
		C2: new Prodigy.Skywatch_C2(this, t),
		C3: new Prodigy.Skywatch_C3(this, t),
		C4: new Prodigy.Skywatch_C4(this, t),
		D1: new Prodigy.Skywatch_D1(this, t),
		D2: new Prodigy.Skywatch_D2(this, t),
		D3: new Prodigy.Skywatch_D3(this, t),
		E1: new Prodigy.Skywatch_E1(this, t),
		E2: new Prodigy.Skywatch_E2(this, t),
		E3: new Prodigy.Skywatch_E3(this, t),
		E4: new Prodigy.Skywatch_E4(this, t),
		E5: new Prodigy.Skywatch_E5(this, t)
	}, this.quests = {
		1: new Prodigy.Skywatch_Q1(this, t),
		2: new Prodigy.Skywatch_Q2(this, t),
		3: new Prodigy.Skywatch_Q3(this, t),
		4: new Prodigy.Skywatch_Q4(this, t),
		5: new Prodigy.Skywatch_Q5(this, t),
		6: new Prodigy.Skywatch_Q6(this, t),
		7: new Prodigy.Skywatch_Q7(this, t),
		8: new Prodigy.Skywatch_Q8(this, t),
		9: new Prodigy.Skywatch_Q9(this, t),
		10: new Prodigy.Skywatch_Q10(this, t),
		11: new Prodigy.Skywatch_Q11(this, t),
		12: new Prodigy.Skywatch_Q12(this, t),
		13: new Prodigy.Skywatch_Q13(this, t)
	}
}, Prodigy.extends(Prodigy.Skywatch, Prodigy.Zone, {
	constructor: Prodigy.Skywatch,
	placeDaily: function () {},
	getDailyMaps: function () {
		var e = [];
		for (var t in this.maps) Util.isDefined(this.maps[t].daily_coors) && e.push(t);
		return e
	},
	process: function () {
		Prodigy.Zone.prototype.process.call(this)
	}
}), Prodigy.SkywatchUtil = function (e, t) {
	Prodigy.ZoneUtil.call(this, e, t)
}, Prodigy.extends(Prodigy.SkywatchUtil, Prodigy.ZoneUtil, {
	constructor: Prodigy.SkywatchUtil,
	interactTrolley: function (e, t, i, a) {
		var s = e.prodigy.event.create();
		s.validPath(t.user, t.path, i[0].x, i[0].y), s.function(this.hideHex.bind(this, e, t)), s.path(t.user, [{
			x: i[1].x,
			y: i[1].y
		}]), s.sound(Prodigy.Controller.AudioController.SFX_PACKS.SKYWATCH, "machines"), s.function(this.animateTrolley.bind(this, e, t, a.trolley, a.x, a.y, a.duration, a.target, a.targetX, a.targetY)), s.start()
	},
	animateTrolley: function (e, t, i, a, s, r, o, n, h) {
		e.add.tween(i).to({
			x: a,
			y: s
		}, r, Phaser.Easing.Linear.None).start(), e.add.tween(t.user).to({
			x: a,
			y: s
		}, r, Phaser.Easing.Linear.None).start();
		var l = e.prodigy.event.create();
		l.enableInput(!1), l.delay(3e3), l.enableInput(!0), l.function(e.prodigy.world.teleport.bind(e.prodigy.world, o, n, h)), l.start()
	},
	shrinkVines: function (e, t, i) {
		for (var a = function (e) {
				Util.isDefined(e) && e.destroy()
			}, s = 0; s < t.length; s++) {
			var r = e.prodigy.animation.fade(t[s], 0, 2e3, null, null, !0);
			r.onComplete.add(a.bind(this, t[s]))
		}
		Util.isDefined(i) && i.destroy()
	},
	animateFan: function (e, t, i, a) {
		var s = t.add(e.prodigy.create.sprite(i, a, "zone-lamplight", "fan1", !0));
		s.anchor.setTo(.5, .5), s.animations.add("stand", ["fan1", "fan2", "fan3", "fan4"], 10, !0, !1), s.animations.play("stand")
	},
	elevator: function (e, t, i, a, s) {
		var r = e.prodigy.event.create();
		r.validPath(t.user, t.path, i[0].x, i[0].y), r.function(this.hideHex.bind(this, e, t)), r.delay(200), r.enableInput(!1), r.sound(Prodigy.Controller.AudioController.SFX_PACKS.SKYWATCH, "elevator"), r.function(this.animateElevatorOpen.bind(this, e, t.content, a.x, a.y)), r.delay(1e3), r.path(t.user, [{
			x: i[1].x,
			y: i[1].y
		}]), r.delay(1e3), r.function(this.animateElevatorClose.bind(this, e, t.foreground, a.x, a.y)), r.set(t.user.name, "visible", !1), r.delay(1e3), r.enableInput(!0), r.function(e.prodigy.world.teleport.bind(e.prodigy.world, s.target, s.x, s.y)), r.start()
	},
	animateElevatorOpen: function (e, t, i, a) {
		var s = t.add(e.prodigy.create.sprite(i, a, "zone-skywatch", "elevator-0", !0));
		s.anchor.setTo(0, 0), s.animations.add("stand", ["elevator-0", "elevator-1", "elevator-2"], 10, !1, !1), s.animations.play("stand")
	},
	animateElevatorClose: function (e, t, i, a) {
		var s = t.add(e.prodigy.create.sprite(i, a, "zone-skywatch", "elevator-2", !0));
		s.anchor.setTo(0, 0), s.animations.add("stand", ["elevator-2", "elevator-1", "elevator-0"], 10, !1, !1), s.animations.play("stand")
	},
	createVines: function (e, t, i, a, s) {
		i.vines = [];
		for (var r = 0; r < a.length; r++) i.vines.push(t.content.add(e.prodigy.create.sprite(a[r].x, a[r].y, "zone-skywatch", s ? "super-vines" : "vines"))), i.vines[r].anchor.setTo(.5, 1)
	},
	changePosition: function (e, t, i) {
		e.prodigy.animation.float(t, 20, 1400, !0, !0), e.prodigy.animation.float(i, 20, 1400, !0, !0)
	}
}), Prodigy.Skywatch_A0 = function (e, t) {
	Prodigy.Map.call(this, e, "A0", "Lower Bean-o-vator", 1100, 450, ["skywatch-A1", "shiverchill-B1"], t)
}, Prodigy.extends(Prodigy.Skywatch_A0, Prodigy.Map, {
	constructor: Prodigy.Skywatch_A0,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1105,
			y: 410,
			w: 1,
			h: 1,
			rect: !0
		}, "skywatch-A1", 650, 360, null, AreaEvent.UP, !1, !1), this.addChest(e, t, "chest1", 720, 360, [{
			type: "gold",
			N: 200
		}]), this.addClickableEvent(e, t, 1045, 290, 95, 120, this._zone.util.elevator.bind(this._zone.util, e, t, [{
			x: 1100,
			y: 450
		}, {
			x: 1100,
			y: 408
		}], {
			x: 1045,
			y: 290
		}, {
			target: "skywatch-A1",
			x: null,
			y: null
		}), null, 0);
		var a = {
			opponent: [{
				data: {
					level: 45
				},
				appearance: {
					name: "Mary Moss",
					gender: "female",
					hairStyle: 2,
					hairColor: 2,
					skinColor: 2,
					eyeColor: 3
				},
				equipment: {
					hat: 2,
					outfit: 2,
					weapon: 2
				}
			}],
			pets: [{
				ID: 20,
				level: 37
			}, {
				ID: 43,
				level: 38
			}, {
				ID: 56,
				level: 40
			}]
		};
		this.addWizard(e, t, 240, 340, "wizard1", a)
	}
}), Prodigy.Skywatch_A1 = function (e, t) {
	Prodigy.Map.call(this, e, "A1", "Upper Bean-o-vator", 620, 350, ["skywatch-A0", "skywatch-B1", "skywatch-C1", "skywatch-D1"], t.concat(["zone-lamplight", "npc-sprite-broccolina", "npc-sprite-merchant"]))
}, Prodigy.extends(Prodigy.Skywatch_A1, Prodigy.Map, {
	constructor: Prodigy.Skywatch_A1,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this._zone.util.animateFan(e, t.foreground, 940, 215), this.addAreaEvent(e, t, {
			x: 50,
			y: 50,
			r: 120
		}, "skywatch-B1", 1140, 560, null, AreaEvent.UP_LEFT, !1), this.addAreaEvent(e, t, {
			x: 110,
			y: 600,
			w: 220,
			h: 100,
			rect: !0
		}, "skywatch-C1", 1120, 160, null, AreaEvent.LEFT, !1), this.addHealStone(e, t, 850, 370), this.questNPC = this.addConstructedQuestNPC(e, t, 760, 500, "benni", !1, this.zoneComplete.bind(this, e)), this.trolley = t.content.add(e.prodigy.create.sprite(1110, 348, "zone-skywatch", "cart-horizontal")), this.addAreaEvent(e, t, {
			x: 1100,
			y: 440,
			w: 1,
			h: 1
		}, "skywatch-D1", 0, 0, null, AreaEvent.RIGHT, !1, !0), this.addAreaEvent(e, t, {
			x: 606,
			y: 202,
			w: 1,
			h: 1,
			rect: !0
		}, "skywatch-A0", 650, 360, null, AreaEvent.DOWN, !1, !0), t.createStoreNPC(430, 360, this._zone.store, !0), this.addClickableEvent(e, t, 1110, 400, 80, 80, this._zone.util.interactTrolley.bind(this._zone.util, e, t, [{
			x: 1140,
			y: 480
		}, {
			x: 1150,
			y: 450
		}], {
			trolley: this.trolley,
			x: "+200",
			y: "0",
			duration: 3e3,
			target: "skywatch-D1",
			targetX: null,
			targetY: null
		}), null, 0), this.addClickableEvent(e, t, 565, 202, 95, 120, this._zone.util.elevator.bind(this._zone.util, e, t, [{
			x: 619,
			y: 340
		}, {
			x: 619,
			y: 320
		}], {
			x: 566,
			y: 202
		}, {
			target: "skywatch-A0",
			x: 1100,
			y: 450
		}), null, 0);
		var a = this.addConstructedNPC(e, t, 440, 500, "npc-sprite-broccolina", this.questNPC.process.bind(this.questNPC, this._zone, null, !0), "Broccolina");
		Util.isDefined(a) && (a.flip(), a.name.x -= 55), Util.isDefined(this._zone.getState("eugene_A1")) && this.addConstructedNPC(e, t, 685, 390, "npc-sprite-eugene", this.questNPC.process.bind(this.questNPC, this._zone, null, !0), "Eugene")
	},
	zoneComplete: function (e) {
		var t = e.prodigy.event.create();
		t.text(1, "benni"), t.text(0, "benni"), t.text(45, "benni"), t.start()
	}
}), Prodigy.Skywatch_B1 = function (e, t) {
	Prodigy.Map.call(this, e, "B1", "Gardener's Hut: Exterior", 1140, 549, ["skywatch-A1", "skywatch-B2", "skywatch-B3"], t), this.coord = [{
		x: 460,
		y: 530
	}, {
		x: 200,
		y: 560
	}]
}, Prodigy.extends(Prodigy.Skywatch_B1, Prodigy.Map, {
	constructor: Prodigy.Skywatch_B1,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1150,
			y: 710,
			r: 120
		}, "skywatch-A1", 120, 190, null, AreaEvent.DOWN), this.addAreaEvent(e, t, {
			x: 760,
			y: 300,
			w: 40,
			h: 80,
			rect: !0
		}, "skywatch-B2", 640, 535, null, AreaEvent.UP), this.addAreaEvent(e, t, {
			x: 150,
			y: 0,
			r: 120
		}, "skywatch-B3", 1030, 560, null, AreaEvent.UP);
		var a = {
			randDir: !0,
			encounter: [{
				ID: 18
			}, {
				ID: 20
			}, {
				ID: 72
			}]
		};
		this.addMonster(e, t, 1, 775, 500, !1, a), this.addMonster(e, t, 2, 200, 400, !1, a), this.addClickableEvent(e, t, 720, 240, 75, 80, this.validPathTo.bind(this, e, t, 760, 330), null), this.addChest(e, t, "chest2", 950, 450, [{
			type: "outfit",
			ID: 41
		}]), new Prodigy.Container.ToyMerchant(e, t.content, 504, 433)
	}
}), Prodigy.Skywatch_B2 = function (e, t) {
	Prodigy.Map.call(this, e, "B2", "Gardener's Hut: Inner", 640, 535, ["skywatch-B1"], t.concat(["npc-sprite-noot"]))
}, Prodigy.extends(Prodigy.Skywatch_B2, Prodigy.Map, {
	constructor: Prodigy.Skywatch_B2,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 640,
			y: 580,
			w: 150,
			h: 50,
			rect: !0
		}, "skywatch-B1", 760, 390, null, AreaEvent.DOWN)
	}
}), Prodigy.Skywatch_B3 = function (e, t) {
	Prodigy.Map.call(this, e, "B3", "The Great Graters", 1030, 560, ["skywatch-B1"], t.concat(["boss-12"]))
}, Prodigy.extends(Prodigy.Skywatch_B3, Prodigy.Map, {
	constructor: Prodigy.Skywatch_B3,
	setup: function (e, t, i) {
		if (Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
				x: 1010,
				y: 710,
				r: 120
			}, "skywatch-B1", 170, 150, null, AreaEvent.DOWN), Util.isDefined(this._zone.getState("plug-B3")) || (this.plugIn(e, t), this.animateAllConveyors(e, t), this.createIceBlocks(e, t)), Util.isDefined(this._zone.getState("vines-B3"))) {
			var a = [{
				x: 950,
				y: 260
			}, {
				x: 1040,
				y: 250
			}, {
				x: 1160,
				y: 270
			}];
			this._zone.util.createVines(e, t, this, a, !0)
		}
	},
	animateConveyor: function (e, t, i, a, s) {
		if ("f" === s) {
			var r = t.add(e.prodigy.create.sprite(i, a, "zone-skywatch", "conveyor-f1", !0));
			r.animations.add("stand", ["conveyor-f1", "conveyor-f2", "conveyor-f3", "conveyor-f4"], 10, !0, !1)
		} else if ("l" === s) {
			var r = t.add(e.prodigy.create.sprite(i, a, "zone-skywatch", "conveyor-l1", !0));
			r.animations.add("stand", ["conveyor-l1", "conveyor-l2", "conveyor-l3", "conveyor-l4"], 10, !0, !1)
		} else if ("r" === s) {
			var r = t.add(e.prodigy.create.sprite(i + 40, a, "zone-skywatch", "conveyor-l1", !0));
			r.scale.x = -r.scale.x, r.animations.add("stand", ["conveyor-l1", "conveyor-l2", "conveyor-l3", "conveyor-l4"], 10, !0, !1)
		} else if ("u" === s) {
			var r = t.add(e.prodigy.create.sprite(i, a, "zone-skywatch", "conveyor-f1", !0));
			r.scale.y = -r.scale.y, r.animations.add("stand", ["conveyor-f1", "conveyor-f2", "conveyor-f3", "conveyor-f4"], 10, !0, !1)
		}
		r.anchor.setTo(0, 0), r.animations.play("stand")
	},
	animateAllConveyors: function (e, t) {
		this.animateConveyor(e, t.foreground, 320, 120, "f"), this.animateConveyor(e, t.foreground, 400, 120, "f"), this.animateConveyor(e, t.foreground, 320, 160, "f"), this.animateConveyor(e, t.foreground, 400, 160, "f"), this.animateConveyor(e, t.foreground, 320, 200, "f"), this.animateConveyor(e, t.foreground, 400, 200, "f"), this.animateConveyor(e, t.foreground, 320, 240, "f"), this.animateConveyor(e, t.foreground, 400, 240, "f"), this.animateConveyor(e, t.foreground, 320, 520, "u"), this.animateConveyor(e, t.foreground, 400, 520, "u"), this.animateConveyor(e, t.foreground, 320, 560, "u"), this.animateConveyor(e, t.foreground, 400, 560, "u"), this.animateConveyor(e, t.foreground, 320, 600, "u"), this.animateConveyor(e, t.foreground, 400, 600, "u"), this.animateConveyor(e, t.foreground, 320, 640, "u"), this.animateConveyor(e, t.foreground, 400, 640, "u"), this.animateConveyor(e, t.foreground, 320, 680, "u"), this.animateConveyor(e, t.foreground, 400, 680, "u"), this.animateConveyor(e, t.foreground, 320, 720, "u"), this.animateConveyor(e, t.foreground, 400, 720, "u"), this.animateConveyor(e, t.foreground, 400, 280, "r"), this.animateConveyor(e, t.foreground, 440, 280, "r"), this.animateConveyor(e, t.foreground, 480, 280, "r"), this.animateConveyor(e, t.foreground, 520, 280, "r"), this.animateConveyor(e, t.foreground, 360, 280, "l"), this.animateConveyor(e, t.foreground, 320, 280, "l"), this.animateConveyor(e, t.foreground, 280, 280, "l"), this.animateConveyor(e, t.foreground, 240, 280, "l"), this.animateConveyor(e, t.foreground, 400, 400, "r"), this.animateConveyor(e, t.foreground, 440, 400, "r"), this.animateConveyor(e, t.foreground, 480, 400, "r"), this.animateConveyor(e, t.foreground, 520, 400, "r"), this.animateConveyor(e, t.foreground, 360, 400, "l"), this.animateConveyor(e, t.foreground, 320, 400, "l"), this.animateConveyor(e, t.foreground, 280, 400, "l"), this.animateConveyor(e, t.foreground, 240, 400, "l")
	},
	plugIn: function (e, t) {
		t.floor.add(this.getTile(e, 1694, 960, 160, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1694, 1e3, 160, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1967, 960, 160, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1694, 960, 200, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1968, 1e3, 160, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1694, 1e3, 200, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1849, 960, 120, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1861, 960, 160, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1862, 1e3, 160, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1874, 1e3, 200, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1873, 960, 200, t.path, t.area, null, !0))
	},
	createIceBlocks: function (e, t) {
		var i = e.prodigy.event.create();
		i.delay(3e3), i.function(this.createIceBlock.bind(this, e, t)), i.delay(3e3), i.function(this.createIceBlock.bind(this, e, t)), i.start()
	},
	createIceBlock: function (e, t) {
		var i = [{
				start: {
					x: 440,
					y: 125
				},
				path: [{
					x: 440,
					y: 320
				}, {
					x: 560,
					y: 320
				}],
				end: {
					x: 715,
					y: 380
				},
				angle: "+20"
			}, {
				start: {
					x: 355,
					y: 125
				},
				path: [{
					x: 355,
					y: 320
				}, {
					x: 240,
					y: 320
				}],
				end: {
					x: 80,
					y: 380
				},
				angle: "-20"
			}, {
				start: {
					x: 440,
					y: 720
				},
				path: [{
					x: 440,
					y: 440
				}, {
					x: 560,
					y: 440
				}],
				end: {
					x: 715,
					y: 500
				},
				angle: "+20"
			}, {
				start: {
					x: 355,
					y: 720
				},
				path: [{
					x: 355,
					y: 440
				}, {
					x: 240,
					y: 440
				}],
				end: {
					x: 80,
					y: 500
				},
				angle: "-20"
			}],
			a = [{
				x: 575,
				y: 390
			}, {
				x: 90,
				y: 390
			}, {
				x: 575,
				y: 510
			}, {
				x: 90,
				y: 510
			}],
			s = [],
			r = Math.floor(Math.random() * i.length),
			o = i[r],
			n = t.foreground.add(e.prodigy.create.sprite(o.start.x, o.start.y, "zone-skywatch", "ice-cube"));
		n.anchor.setTo(.5, 1), n.alpha = 0, s.push(e.add.tween(n).to({
			x: o.path[0].x,
			y: o.path[0].y
		}, 3e3, Phaser.Easing.Linear.None).to({
			x: o.path[1].x,
			y: o.path[1].y
		}, 3e3, Phaser.Easing.Linear.None).to({
			x: o.end.x,
			y: o.end.y
		}, 3e3, Phaser.Easing.Linear.None)), s.push(e.add.tween(n.scale).to({
			x: .1,
			y: .1
		}, 3e3, Phaser.Easing.Linear.None, null, 6e3)), s.push(e.add.tween(n).to({
			alpha: 1
		}, 250, Phaser.Easing.Linear.None, null)), s.push(e.add.tween(n).to({
			angle: o.angle
		}, 500, Phaser.Easing.Linear.None, null, 6e3)), s[1].onComplete.add(this.makeSnow.bind(this, e, t, a[r].x, a[r].y)), s[1].onComplete.add(n.destroy.bind(n)), s[1].onComplete.add(this.createIceBlock.bind(this, e, t));
		for (var h = 0; h < s.length; h++) s[h].start()
	},
	makeSnow: function (e, t, i, a) {
		var s = t.background;
		if (!Util.isDefined(this.snows)) {
			this.snows = [];
			for (var r = 0; 10 > r; r++) this.snows[r] = s.add(e.prodigy.create.sprite(i, a, "font-general", "42-30"))
		}
		for (var r = 0; 10 > r; r++) this.snows[r].x = i, this.snows[r].y = a, this.newFlake(e, this.snows[r], !0, i, a)
	},
	newFlake: function (e, t, i, a, s) {
		if (Util.isDefined(e)) {
			var r = 2e3 + Math.floor(2e3 * Math.random());
			t.frameName = Math.random() < .5 ? "42-16" : "42-30", t.x = a + Math.floor(140 * Math.random()), i ? r -= Math.floor(r / 720 * t.y) : t.y = s; {
				e.prodigy.animation.translate(t, t.x, 720, r, null, null, !0)
			}
		}
	}
}), Prodigy.Skywatch_C1 = function (e, t) {
	Prodigy.Map.call(this, e, "C1", "The Screwball Shack", 1120, 160, ["skywatch-A1", "skywatch-C2", "skywatch-C3"], t.concat(["zone-lamplight"])), this.coord = [{
		x: 370,
		y: 580
	}, {
		x: 590,
		y: 350
	}]
}, Prodigy.extends(Prodigy.Skywatch_C1, Prodigy.Map, {
	constructor: Prodigy.Skywatch_C1,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.animateFan(e, t.foreground, 1100, 495), this.addAreaEvent(e, t, {
			x: 1205,
			y: 160,
			w: 150,
			h: 100,
			rect: !0
		}, "skywatch-A1", 240, 610, null, AreaEvent.RIGHT), this.addAreaEvent(e, t, {
			x: 115,
			y: 620,
			w: 100,
			h: 200,
			rect: !0
		}, "skywatch-C3", 1160, 210, null, AreaEvent.DOWN), this.addAreaEvent(e, t, {
			x: 201,
			y: 268,
			w: 50,
			h: 108,
			rect: !0
		}, "skywatch-C2", 600, 550, null, AreaEvent.UP);
		var a = {
			randDir: !0,
			encounter: [{
				ID: 56
			}, {
				ID: 84
			}, {
				ID: 13
			}]
		};
		this.addMonster(e, t, 2, 870, 320, !1, a), this.addClickableEvent(e, t, 175, 230, 50, 90, this.validPathTo.bind(this, e, t, 195, 320), null)
	},
	animateFan: function (e, t, i, a) {
		var s = t.add(e.prodigy.create.sprite(i, a, "zone-lamplight", "fan1", !0));
		s.anchor.setTo(.5, .5), s.animations.add("stand", ["fan1", "fan2", "fan3", "fan4"], 10, !0, !1), s.animations.play("stand")
	}
}), Prodigy.Skywatch_C2 = function (e, t) {
	Prodigy.Map.call(this, e, "C2", "The Screwball Shack: Inner", 600, 550, ["skywatch-C1"], t.concat(["npc-sprite-noot"]))
}, Prodigy.extends(Prodigy.Skywatch_C2, Prodigy.Map, {
	constructor: Prodigy.Skywatch_C2,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 600,
			y: 580,
			w: 150,
			h: 50,
			rect: !0
		}, "skywatch-C1", 200, 360, null, AreaEvent.DOWN), this._zone.states.windowBroken && t.background.add(e.prodigy.create.sprite(650, 200, "zone-skywatch", "broken-window"))
	}
}), Prodigy.Skywatch_C3 = function (e, t) {
	Prodigy.Map.call(this, e, "C3", "Cloudy Pass", 1160, 210, ["skywatch-C1", "skywatch-C4"], t)
}, Prodigy.extends(Prodigy.Skywatch_C3, Prodigy.Map, {
	constructor: Prodigy.Skywatch_C3,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1155,
			y: 100,
			w: 100,
			h: 200,
			rect: !0
		}, "skywatch-C1", 115, 510, null, AreaEvent.UP), this.addAreaEvent(e, t, {
			x: 120,
			y: 100,
			w: 100,
			h: 200,
			rect: !0
		}, "skywatch-C4", 1160, 540, null, AreaEvent.UP);
		var a = {
			randDir: !0,
			encounter: [{
				ID: 56
			}, {
				ID: 84
			}, {
				ID: 13
			}]
		};
		this.addMonster(e, t, 1, 400, 400, !1, a), this.addMonster(e, t, 2, 870, 320, !1, a), this.addChest(e, t, "chest3", 800, 220, [{
			type: "gold",
			N: 500
		}])
	}
}), Prodigy.Skywatch_C4 = function (e, t) {
	Prodigy.Map.call(this, e, "C4", "Sky Shower", 1160, 550, ["skywatch-C3"], t.concat(["npc-sprite-noot", "npc-sprite-flora", "boss-12"]))
}, Prodigy.extends(Prodigy.Skywatch_C4, Prodigy.Map, {
	constructor: Prodigy.Skywatch_C4,
	setup: function (e, t, i) {
		if (Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
				x: 1150,
				y: 660,
				w: 100,
				h: 200,
				rect: !0
			}, "skywatch-C3", 120, 210, null, AreaEvent.DOWN), Util.isDefined(this._zone.getState("plug-C4")) || (this.plugIn(e, t), this.animateShower(e, t)), !this._zone.isOnSequence(2, 3) && !this._zone.isOnQuest(9)) {
			var a = {
				randDir: !0,
				encounter: [{
					ID: 56
				}, {
					ID: 84
				}, {
					ID: 13
				}]
			};
			this.addMonster(e, t, 1, 250, 460, !1, a), this.addMonster(e, t, 2, 700, 560, !1, a)
		}
		if (Util.isDefined(this._zone.getState("vines-C4"))) {
			var s = [{
				x: 130,
				y: 390
			}, {
				x: 220,
				y: 360
			}, {
				x: 340,
				y: 400
			}];
			this._zone.util.createVines(e, t, this, s, !0)
		}
	},
	plugIn: function (e, t) {
		t.floor.add(this.getTile(e, 1694, 120, 280, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1694, 160, 280, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1952, 120, 280, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1694, 120, 320, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1953, 160, 280, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1694, 160, 320, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1849, 120, 240, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1861, 120, 280, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1862, 160, 280, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1874, 160, 320, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1873, 120, 320, t.path, t.area, null, !0))
	},
	animateShower: function (e, t) {
		var i = t.background.add(new Phaser.TileSprite(e, 400, 200, 110, 100, "zone-skywatch", "water-rain")),
			a = e.add.tween(i).to({
				y: "+60"
			}, 600, Phaser.Easing.Linear.None).start();
		a.onComplete.add(i.destroy.bind(i));
		var s = t.background.add(new Phaser.TileSprite(e, 560, 200, 110, 100, "zone-skywatch", "water-rain")),
			r = e.add.tween(s).to({
				y: "+60"
			}, 600, Phaser.Easing.Linear.None).start();
		r.onComplete.add(s.destroy.bind(s));
		var o = t.background.add(new Phaser.TileSprite(e, 720, 200, 110, 100, "zone-skywatch", "water-rain")),
			n = e.add.tween(o).to({
				y: "+60"
			}, 600, Phaser.Easing.Linear.None).start();
		n.onComplete.add(o.destroy.bind(o)), this.makeRain(e, t)
	},
	makeRain: function (e, t) {
		var i = e.prodigy.event.create();
		i.delay(200), i.function(this.animateShower.bind(this, e, t)), i.start()
	}
}), Prodigy.Skywatch_D1 = function (e, t) {
	Prodigy.Map.call(this, e, "D1", "Factory Entrance", 189, 549, ["skywatch-A1", "skywatch-D2", "skywatch-E1"], t.concat("npc-sprite-noot")), this.coord = [{
		x: 400,
		y: 540
	}, {
		x: 780,
		y: 570
	}]
}, Prodigy.extends(Prodigy.Skywatch_D1, Prodigy.Map, {
	constructor: Prodigy.Skywatch_D1,
	setup: function (e, t, i) {
		if (Prodigy.Map.prototype.setup.call(this, e, t, i), e.prodigy.player.backpack.hasItem("item", 81)) this.addAreaEvent(e, t, {
			x: 680,
			y: 300,
			w: 40,
			h: 40,
			rect: !0
		}, "skywatch-E1", 1120, 560, null, AreaEvent.UP), this.addClickableEvent(e, t, 640, 180, 80, 100, this.validPathTo.bind(this, e, t, 680, 290), null);
		else {
			var a = function (e) {
				var t = e.prodigy.event.create();
				t.popup("The door is locked. You require the Factory Key."), t.start()
			};
			this.addClickableEvent(e, t, 640, 160, 80, 160, a.bind(this, e))
		}
		if (this.addAreaEvent(e, t, {
				x: 190,
				y: 420,
				w: 1,
				h: 1
			}, "skywatch-A1", 0, 0, null, AreaEvent.LEFT, !1, !0), this.addAreaEvent(e, t, {
				x: 1090,
				y: 440,
				w: 1,
				h: 1
			}, "skywatch-D2", 0, 0, null, AreaEvent.RIGHT, !1, !0), this.trolley = t.content.add(e.prodigy.create.sprite(80, 348, "zone-skywatch", "cart-horizontal")), this.trolley2 = t.content.add(e.prodigy.create.sprite(1110, 348, "zone-skywatch", "cart-horizontal")), Util.isDefined(this._zone.getState("vines-D1"))) this.addClickableEvent(e, t, 1110, 400, 80, 80, this._zone.util.interactTrolley.bind(this._zone.util, e, t, [{
			x: 1150,
			y: 480
		}, {
			x: 1140,
			y: 450
		}], {
			trolley: this.trolley2,
			x: "+200",
			y: "0",
			duration: 3e3,
			target: "skywatch-D2",
			targetX: 140,
			targetY: 290
		}), null, 0);
		else {
			var s = [{
				x: 1060,
				y: 480
			}, {
				x: 990,
				y: 460
			}, {
				x: 1165,
				y: 500
			}];
			this._zone.util.createVines(e, t, this, s, !1)
		}
		this.addClickableEvent(e, t, 80, 400, 80, 80, this._zone.util.interactTrolley.bind(this._zone.util, e, t, [{
			x: 125,
			y: 480
		}, {
			x: 120,
			y: 450
		}], {
			trolley: this.trolley,
			x: "-200",
			y: "0",
			duration: 3e3,
			target: "skywatch-A1",
			targetX: 1100,
			targetY: 500
		}), null, 0);
		var r = {
			randDir: !0,
			encounter: [{
				ID: 40
			}, {
				ID: 43
			}]
		};
		this.addMonster(e, t, 1, 400, 425, !1, r)
	}
}), Prodigy.Skywatch_D2 = function (e, t) {
	Prodigy.Map.call(this, e, "D2", "Breezy Pass", 140, 290, ["skywatch-D1", "skywatch-D3"], t.concat(["zone-lamplight"])), this.coord = [{
		x: 280,
		y: 450
	}, {
		x: 780,
		y: 330
	}]
}, Prodigy.extends(Prodigy.Skywatch_D2, Prodigy.Map, {
	constructor: Prodigy.Skywatch_D2,
	setup: function (e, t, i) {
		if (Prodigy.Map.prototype.setup.call(this, e, t, i), this._zone.util.animateFan(e, t.foreground, 300, 495), this._zone.util.animateFan(e, t.content, 420, 95), this._zone.util.animateFan(e, t.foreground, 460, 455), this.addAreaEvent(e, t, {
				x: 210,
				y: 182,
				w: 1,
				h: 1
			}, "skywatch-D1", 0, 0, null, AreaEvent.LEFT, !1, !1), this.addAreaEvent(e, t, {
				x: 1e3,
				y: 575,
				w: 1,
				h: 1
			}, "skywatch-D3", 0, 0, null, AreaEvent.LEFT, !1, !1), this.trolley = t.content.add(e.prodigy.create.sprite(100, 110, "zone-skywatch", "cart-horizontal")), this.trolley2 = t.content.add(e.prodigy.create.sprite(972, 515, "zone-skywatch", "cart-vertical")), this.trolley2.scale.x = -this.trolley2.scale.x, this.addClickableEvent(e, t, 100, 160, 80, 80, this._zone.util.interactTrolley.bind(this._zone.util, e, t, [{
				x: 140,
				y: 280
			}, {
				x: 120,
				y: 180
			}], {
				trolley: this.trolley,
				x: "-300",
				y: "0",
				duration: 3e3,
				target: "skywatch-D1",
				targetX: 1100,
				targetY: 540
			})), Util.isDefined(this._zone.getState("vines-D2"))) this.addClickableEvent(e, t, 895, 550, 80, 80, this._zone.util.interactTrolley.bind(this._zone.util, e, t, [{
			x: 1015,
			y: 575
		}, {
			x: 940,
			y: 575
		}], {
			trolley: this.trolley2,
			x: "0",
			y: "+300",
			duration: 3e3,
			target: "skywatch-D3",
			targetX: 300,
			targetY: 250
		}));
		else {
			var a = [{
				x: 1050,
				y: 560
			}, {
				x: 1030,
				y: 620
			}, {
				x: 1070,
				y: 670
			}];
			this._zone.util.createVines(e, t, this, a, !1)
		}
		var s = {
			randDir: !0,
			encounter: [{
				ID: 40
			}, {
				ID: 43
			}]
		};
		this.addMonster(e, t, 1, 500, 300, !1, s), this.addMonster(e, t, 2, 940, 250, !1, s), this.addChest(e, t, "chest4", 640, 200, [{
			type: "weapon",
			ID: 69
		}])
	}
}), Prodigy.Skywatch_D3 = function (e, t) {
	Prodigy.Map.call(this, e, "D3", "The Wind Tunnel", 270, 250, ["skywatch-D2"], t.concat(["zone-lamplight", "boss-12"]))
}, Prodigy.extends(Prodigy.Skywatch_D3, Prodigy.Map, {
	constructor: Prodigy.Skywatch_D3,
	setup: function (e, t, i) {
		if (Prodigy.Map.prototype.setup.call(this, e, t, i), this._zone.util.animateFan(e, t.content, 500, 135), this._zone.util.animateFan(e, t.content, 1060, 55), this._zone.util.animateFan(e, t.content, 1180, 615), Util.isDefined(this._zone.getState("plug-D3")) ? (this.unplug(e, t), this.displayStationaryFanribbons(e, t)) : (this.plugIn(e, t), this.displayAnimatedFanribbons(e, t)), this.addAreaEvent(e, t, {
				x: 220,
				y: 240,
				w: 1,
				h: 1
			}, "skywatch-D2", 0, 0, null, AreaEvent.LEFT, !1, !0), this.trolley = t.content.add(e.prodigy.create.sprite(210, 175, "zone-skywatch", "cart-vertical")), this.trolley.scale.x = -this.trolley.scale.x, this.addClickableEvent(e, t, 130, 210, 100, 100, this._zone.util.interactTrolley.bind(this._zone.util, e, t, [{
				x: 235,
				y: 250
			}, {
				x: 170,
				y: 240
			}], {
				trolley: this.trolley,
				x: "0",
				y: "-300",
				duration: 3e3,
				target: "skywatch-D2",
				targetX: 1020,
				targetY: 580
			})), Util.isDefined(this._zone.getState("vines-D3"))) {
			var a = [{
				x: 670,
				y: 260
			}, {
				x: 760,
				y: 280
			}, {
				x: 880,
				y: 270
			}];
			this._zone.util.createVines(e, t, this, a, !0)
		}
		var s = {
			randDir: !0,
			encounter: [{
				ID: 40
			}, {
				ID: 43
			}]
		};
		this.addMonster(e, t, 1, 450, 400, !1, s)
	},
	displayStationaryFanribbons: function (e, t) {
		this.fanRibbonSprites = [], this.fanRibbonSprites.push(t.content.add(e.prodigy.create.sprite(1017, 225, "zone-skywatch", "fanribbons-f1", !0))), this.fanRibbonSprites[0].anchor.setTo(1, 0), this.fanRibbonSprites.push(t.content.add(e.prodigy.create.sprite(1138, 345, "zone-skywatch", "fanribbons-f1", !0))), this.fanRibbonSprites[1].anchor.setTo(1, 0), this.fanRibbonSprites.push(t.content.add(e.prodigy.create.sprite(1017, 465, "zone-skywatch", "fanribbons-f1", !0))), this.fanRibbonSprites[2].anchor.setTo(1, 0)
	},
	displayAnimatedFanribbons: function (e, t) {
		this.fanRibbons = [], this.fanRibbons.push(this.animateFanribbon(e, t.content, 1015, 225)), this.fanRibbons.push(this.animateFanribbon(e, t.content, 1135, 345)), this.fanRibbons.push(this.animateFanribbon(e, t.content, 1015, 465))
	},
	animateFanribbon: function (e, t, i, a) {
		var s = t.add(e.prodigy.create.sprite(i, a, "zone-skywatch", "fanribbons-f2", !0));
		return s.anchor.setTo(1, 0), s.animations.add("stand", ["fanribbons-f2", "fanribbons-f3", "fanribbons-f4", "fanribbons-f5"], 10, !0, !1), s.animations.play("stand"), s
	},
	plugIn: function (e, t) {
		t.floor.add(this.getTile(e, 854, 760, 200, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 854, 800, 200, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1127, 760, 200, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 854, 760, 240, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1128, 800, 200, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 914, 800, 240, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1009, 760, 160, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1021, 760, 200, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1022, 800, 200, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1034, 800, 240, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1033, 760, 240, t.path, t.area, null, !0))
	},
	unplug: function (e, t) {
		t.floor.add(this.getTile(e, 854, 760, 200, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 854, 800, 200, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 914, 800, 240, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 854, 760, 240, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1115, 760, 160, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1127, 760, 200, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1128, 800, 200, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1045, 760, 200, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1046, 800, 200, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1057, 760, 240, t.path, t.area, null, !0)), t.floor.add(this.getTile(e, 1058, 800, 240, t.path, t.area, null, !0))
	}
}), Prodigy.Skywatch_E1 = function (e, t) {
	Prodigy.Map.call(this, e, "E1", "Factory: Main Hall", 1120, 560, ["skywatch-D1", "skywatch-E2", "skywatch-E3"], t)
}, Prodigy.extends(Prodigy.Skywatch_E1, Prodigy.Map, {
	constructor: Prodigy.Skywatch_E1,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1120,
			y: 720,
			r: 120
		}, "skywatch-D1", 680, 360, null, AreaEvent.DOWN, !1), this.addAreaEvent(e, t, {
			x: 75,
			y: 0,
			r: 120
		}, "skywatch-E3", 1060, 560, null, AreaEvent.UP, !1), this.addAreaEvent(e, t, {
			x: 1122,
			y: 240,
			w: 100,
			h: 30,
			rect: !0
		}, "skywatch-E2", 200, 560, null, AreaEvent.UP, !1), this.addClickableEvent(e, t, 1080, 120, 80, 120, this.validPathTo.bind(this, e, t, 1120, 250));
		var a = {
			randDir: !0,
			encounter: [{
				ID: 113
			}, {
				ID: 115
			}, {
				ID: 120
			}]
		};
		this.addMonster(e, t, 1, 960, 400, !0, a, !1), this.addMonster(e, t, 2, 400, 400, !0, a, !1)
	}
}), Prodigy.Skywatch_E2 = function (e, t) {
	Prodigy.Map.call(this, e, "E2", "Factory: Old Man's Room", 200, 560, ["skywatch-E1"], t.concat(["npc-sprite-eugene"]))
}, Prodigy.extends(Prodigy.Skywatch_E2, Prodigy.Map, {
	constructor: Prodigy.Skywatch_E2,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 200,
			y: 720,
			r: 120
		}, "skywatch-E1", 1120, 280, null, AreaEvent.DOWN, !1);
		var a = {
			opponent: [{
				data: {
					level: 60
				},
				appearance: {
					name: "Barry Boss",
					gender: "male",
					hairStyle: 1,
					hairColor: 3,
					skinColor: 1,
					eyeColor: 4
				},
				equipment: {
					hat: 3,
					outfit: 3,
					weapon: 3
				}
			}],
			pets: [{
				ID: 113,
				level: 52
			}, {
				ID: 115,
				level: 53
			}, {
				ID: 120,
				level: 55
			}]
		};
		this.addWizard(e, t, 865, 560, "wizard2", a).flip()
	}
}), Prodigy.Skywatch_E3 = function (e, t) {
	Prodigy.Map.call(this, e, "E3", "Blast Doors", 1060, 560, ["skywatch-E1", "skywatch-E4"], t)
}, Prodigy.extends(Prodigy.Skywatch_E3, Prodigy.Map, {
	constructor: Prodigy.Skywatch_E3,
	setup: function (e, t, i) {
		if (Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
				x: 1060,
				y: 720,
				r: 120
			}, "skywatch-E1", 80, 160, null, AreaEvent.DOWN, !1), this.addHealStone(e, t, 430, 550), e.prodigy.player.backpack.hasItem("item", 83)) this.addAreaEvent(e, t, {
			x: 600,
			y: 360,
			w: 160,
			h: 80,
			rect: !0
		}, "skywatch-E4", 640, 380, null, AreaEvent.UP, !1), this.addClickableEvent(e, t, 520, 200, 160, 120, this.validPathTo.bind(this, e, t, 600, 360));
		else {
			var a = function (e) {
				var t = e.prodigy.event.create();
				t.popup("The door is locked. You require the Master Key."), t.start()
			};
			this.addClickableEvent(e, t, 520, 200, 160, 120, a.bind(this, e))
		}
		this.addChest(e, t, "chest5", 900, 400, [{
			type: "hat",
			ID: 45
		}]);
		var s = {
			randDir: !0,
			encounter: [{
				ID: 113
			}, {
				ID: 115
			}, {
				ID: 120
			}]
		};
		this.addMonster(e, t, 0, 725, 480, !0, s, !1)
	}
}), Prodigy.Skywatch_E4 = function (e, t) {
	Prodigy.Map.call(this, e, "E4", "End Chamber", 640, 380, ["skywatch-E3", "skywatch-E5"], t.concat(["boss-12"]))
}, Prodigy.extends(Prodigy.Skywatch_E4, Prodigy.Map, {
	constructor: Prodigy.Skywatch_E4,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 640,
			y: 500,
			w: 160,
			h: 40,
			rect: !0
		}, "skywatch-E3", 600, 480, null, AreaEvent.DOWN, !1), this.addAreaEvent(e, t, {
			x: 360,
			y: 340,
			w: 80,
			h: 40,
			rect: !0
		}, "skywatch-E5", 999, 555, null, AreaEvent.UP, !1), this.addClickableEvent(e, t, 320, 200, 80, 120, this.validPathTo.bind(this, e, t, 360, 340))
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	}
}), Prodigy.Skywatch_E5 = function (e, t) {
	Prodigy.Map.call(this, e, "E5", "Skywatch Gate", 999, 555, ["skywatch-E4"], t)
}, Prodigy.extends(Prodigy.Skywatch_E5, Prodigy.Map, {
	constructor: Prodigy.Skywatch_E5,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1010,
			y: 720,
			r: 120
		}, "skywatch-E4", 360, 380, null, AreaEvent.DOWN, !1)
	}
}), Prodigy.Skywatch_Q1 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 1, "", {
		type: "pet",
		ID: 72,
		N: 3,
		U: !0
	}, ["skywatch-B2"], [2, 3, 4, 5, 6, 7], [], [0, 8], [{
		type: "gold",
		N: 200
	}])
}, Prodigy.extends(Prodigy.Skywatch_Q1, Prodigy.Quest, {
	constructor: Prodigy.Skywatch_Q1,
	setup: function (e, t, i) {
		if (Prodigy.Quest.prototype.setup.call(this, e, t, i), "B2" === i._tag) {
			var a = {
				randDir: !0,
				encounter: [{
					ID: 72
				}]
			};
			return i.addMonster(e, t, 0, 400, 400, !0, a, !1), i.addMonster(e, t, 1, 755, 360, !0, a, !1), i.addMonster(e, t, 2, 960, 415, !0, a, !1), {
				enableMonsters: !1
			}
		}
		return null
	}
}), Prodigy.Skywatch_Q2 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 2, "Get the Device", {
		type: "item",
		ID: 93,
		N: 1
	}, ["skywatch-C2"], [9, 10, 11, 12], [], [1], [{
		type: "gold",
		N: 200
	}])
}, Prodigy.extends(Prodigy.Skywatch_Q2, Prodigy.Quest, {
	constructor: Prodigy.Skywatch_Q2,
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this, e, t, i);
		var a = i.getTag();
		if ("C2" === a && this.zone.isOnSequence(2, 0)) this.thiefStealsTheWeatherometre(e, t, i);
		else if ("C1" === a && this.zone.isOnSequence(2, 1)) this.thiefFlees(e, t, i, 115, 560, 115, 800, "skywatch-C3", 1);
		else if ("C3" === a && this.zone.isOnSequence(2, 2)) this.thiefFlees(e, t, i, 120, 210, 120, -20, "skywatch-C4", 2);
		else if ("C4" === a && this.zone.isOnSequence(2, 3)) return this.thiefFailsEscape(e, t, i), {
			enableMonsters: !1
		}
	},
	process: function () {
		this.area = this.zone.isOnSequence(2, 0) ? ["skywatch-C2"] : this.zone.isOnSequence(2, 1) ? ["skywatch-C1"] : this.zone.isOnSequence(2, 2) ? ["skywatch-C3"] : this.zone.isOnSequence(2, 3) ? ["skywatch-C4"] : this.area
	},
	thiefStealsTheWeatherometre: function (e, t, i) {
		var a = {
			randDir: !1,
			encounter: [{
				ID: 84
			}]
		};
		this.thief = i.addMonster(e, t, 0, 688, 335, !1, a), this.thief.visible = !0;
		var s = t.content.add(new Phaser.Image(e, 695, 275, "icons", "item/93")),
			r = t.background.add(e.prodigy.create.sprite(650, 200, "zone-skywatch", "broken-window"));
		r.visible = !1;
		var o = i.addNPC(e, t, 600, 550, "npc-sprite-noot");
		o.visible = !1, o.float(!0);
		var n = e.prodigy.event.create();
		n.enableInput(!1), n.set(o, "visible", !0), n.hop(o, 300, -55, 50), n.enableInput(!0), n.function(this.thief.chat.bind(this.thief, 1, 100)), n.delay(1500), n.set(s, "visible", !1), n.enableInput(!1), n.delay(500), n.path(this.thief, [{
			x: 688,
			y: 240
		}], 1), n.sound(Prodigy.Controller.AudioController.SFX_PACKS.SKYWATCH, "window"), n.function(this.breakWindow.bind(this)), n.set(r, "visible", !0), n.set(this.thief, "visible", !1), n.enableInput(!0), n.function(o.chat.bind(o, 1, 100)), n.text(95, "noot"), n.enableInput(!1), n.hop(o, 300, 55, 50), n.set(o, "visible", !1), n.enableInput(!0), n.set(this, "area", ["skywatch-C1"]), n.function(this.zone.completeSequence.bind(this.zone, 2, 0)), n.function(t.process.bind(t)), n.set(this.thief, "visible", !1), n.start()
	},
	breakWindow: function () {
		this.zone.states.windowBroken = !0
	},
	thiefFlees: function (e, t, i, a, s, r, o, n, h) {
		var l = {
			randDir: !1,
			encounter: [{
				ID: 84
			}]
		};
		this.thief = i.addMonster(e, t, 0, a, s, !1, l), this.thief.visible = !0;
		var d = e.prodigy.event.create();
		d.enableInput(!1), d.set(t.user, "evtProc", !0), d.path(this.thief, [{
			x: r,
			y: o
		}], 1, !1), d.set(this.thief, "visible", !1), d.set(t.user, "evtProc", !1), d.enableInput(!0), d.set(this, "area", [n]), d.function(this.zone.completeSequence.bind(this.zone, 2, h)), d.function(t.process.bind(t)), d.start()
	},
	thiefFailsEscape: function (e, t, i) {
		var a = {
			randDir: !1,
			encounter: [{
				ID: 84
			}]
		};
		this.thief = i.addMonster(e, t, 0, 850, 500, !1, a), this.thief.visible = !1;
		var s = i.addNPC(e, t, 959, 500, "npc-sprite-noot");
		s.flip(), s.visible = !1, s.float(!0);
		var r = e.prodigy.event.create();
		r.validPath(t.user, t.path, 1159, 550), r.set(t.user, "evtProc", !0), r.enableInput(!1), r.set(this.thief, "visible", !0), r.path(this.thief, [{
			x: 700,
			y: 500
		}], 1, !0), r.path(t.user, [{
			x: 1e3,
			y: 520
		}], 1.2), r.set(s, "visible", !0), r.hop(s, 300, -55, 50), r.enableInput(!0), r.text(96, "noot"), r.enableInput(!1), r.delay(500), r.enableInput(!0), r.function(this.thiefBattle.bind(this, e)), r.start()
	},
	thiefBattle: function (e) {
		var t = {
			intro: "Recover the Weather O Meter!",
			"catch": !1,
			run: !1,
			screen: "bg-battle-cloud",
			pets: [{
				ID: 84,
				nickname: "Thief"
			}],
			drops: [{
				type: "item",
				ID: 87
			}]
		};
		e.prodigy.battle.start(t, null, this.thiefDefeated.bind(this, e, !0), null, this.zone.onFaint)
	},
	thiefDefeated: function (e) {
		this.zone.setState("quest", {
			ID: 2,
			req: {
				type: "item",
				ID: 87,
				N: 1
			},
			seq: 4,
			state: {}
		}), this.zone.completeSequence(2, 3), e.prodigy.world.teleport("skywatch-C4", 1160, 540)
	}
}), Prodigy.Skywatch_Q3 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 3, "Find Broccolina", {
		type: "seq",
		N: 2
	}, ["skywatch-B2"], [13, 14, 15], [], [1], [{
		type: "gold",
		N: 200
	}, {
		type: "key",
		ID: 8
	}])
}, Prodigy.extends(Prodigy.Skywatch_Q3, Prodigy.Quest, {
	constructor: Prodigy.Skywatch_Q3,
	setup: function (e, t, i) {
		Prodigy.Quest.prototype.setup.call(this, e, t, i);
		var a = i.getTag();
		if ("B2" === a && this.zone.isOnSequence(3, 0)) this.nootFindsTheNote(e, t, i);
		else if ("A0" === a && this.zone.isOnSequence(3, 1)) this.foundBroccolina(e, t, i);
		else if ("A1" === a && !this.zone.isQuestComplete(3)) return {
			hiddenNPCs: ["npc-sprite-broccolina"]
		}
	},
	process: function () {
		this.area = this.zone.isOnSequence(3, 0) ? ["skywatch-B2"] : this.zone.isOnSequence(3, 1) ? ["skywatch-A0"] : this.area
	},
	nootFindsTheNote: function (e, t, i) {
		var a = i.addNPC(e, t, 640, 535, "npc-sprite-noot");
		a.visible = !1, a.float(!0);
		var s = e.prodigy.event.create();
		s.enableInput(!1), s.set(a, "visible", !0), s.hop(a, 300, -55, 50), s.enableInput(!1), s.path(a, [{
			x: 540,
			y: 365
		}]), s.enableInput(!0), s.text(97, "noot"), s.enableInput(!1), s.path(a, [{
			x: 585,
			y: 535
		}]), s.hop(a, 300, 55, 50), s.set(a, "visible", !1), s.set(this.zone.quests["3"], "area", ["skywatch-A0"]), s.function(this.zone.completeSequence.bind(this.zone, 3, 0)), s.function(t.process.bind(t)), s.enableInput(!0), s.start()
	},
	foundBroccolina: function (e, t, i) {
		var a = i.addConstructedNPC(e, t, 440, 500, "npc-sprite-broccolina", null, "Broccolina");
		a.name.x += 60;
		var s = e.prodigy.event.create();
		s.text(0, "broccolina"), s.function(this.zone.completeSequence.bind(this.zone, 3, 1)), s.function(t.process.bind(t)), s.start()
	}
}), Prodigy.Skywatch_Q4 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 4, "Trim the Vines", {
		type: "seq",
		N: 3
	}, ["skywatch-D1"], [16, 17, 18], [], [1, 46], [{
		type: "spell",
		ID: 25
	}])
}, Prodigy.extends(Prodigy.Skywatch_Q4, Prodigy.Quest, {
	constructor: Prodigy.Skywatch_Q4,
	setup: function (e, t) {
		Prodigy.Quest.prototype.setup.call(this, e, t)
	},
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this, e, t, i), this.zone.isOnSequence(4, 2) && "skywatch-D3" === i._zoneName ? this.cutscene_D3(e, t, i) : this.zone.isOnSequence(4, 1) && "skywatch-D2" === i._zoneName ? this.highlight_D2(e, t, i) : this.zone.isOnSequence(4, 0) && "skywatch-D1" === i._zoneName && this.highlight_D1(e, t, i)
	},
	process: function () {
		this.area = this.zone.isOnSequence(4, 0) ? ["skywatch-D1"] : this.zone.isOnSequence(4, 1) ? ["skywatch-D2"] : this.zone.isOnSequence(4, 2) ? ["skywatch-D3"] : this.area
	},
	cutscene_D3: function (e, t, i) {
		this.boss = t.content.add(e.prodigy.create.sprite(850, -100, "boss-12", "ice_cloud", !0)), this.eyes = t.foreground.add(e.prodigy.create.sprite(840, -150, "boss-12", "med_face_0", !0));
		var a = e.prodigy.event.create();
		a.set(this, "desc", "Inspect Machine"), a.enableInput(!1), a.sound(Prodigy.Controller.AudioController.SFX_PACKS.SKYWATCH, "wind"), a.delay(2e3), a.function(this.boss4Enter.bind(this, e)), a.enableInput(!0), a.delay(600), a.text(98, "noot"), a.enableInput(!1), a.sound(Prodigy.Controller.AudioController.SFX_PACKS.SKYWATCH, "wind"), a.function(this.zone.setState.bind(this.zone, "vines-D3", 1)), a.function(this.zone.setState.bind(this.zone, "vines-B3", 1)), a.function(this.zone.setState.bind(this.zone, "vines-C4", 1)), a.function(this.zone.setState.bind(this.zone, "plug-D3", 1)), a.function(this.zone.setState.bind(this.zone, "plug-B3", 1)), a.function(this.zone.setState.bind(this.zone, "plug-C4", 1)), a.function(this.boss4Exit.bind(this, e, t, i)), a.explode(670, 60, 200, 200, 3, !0), a.delay(2e3), a.function(this.zone.util.createVines.bind(this, e, t, i, [{
			x: 670,
			y: 260
		}, {
			x: 760,
			y: 280
		}, {
			x: 880,
			y: 270
		}], !1)), a.enableInput(!0), a.delay(600), a.text(99, "noot"), a.function(this.zone.completeSequence.bind(this.zone, 4, 2)), a.function(t.process.bind(t)), a.start()
	},
	boss4Enter: function (e) {
		e.add.tween(this.boss).to({
			x: 850,
			y: 200
		}, 2e3, Phaser.Easing.Linear.None).to({
			y: "-20"
		}, 1400, Phaser.Easing.Quadratic.InOut).to({
			y: "+20"
		}, 1400, Phaser.Easing.Quadratic.InOut).start(), e.add.tween(this.eyes).to({
			x: 840,
			y: 150
		}, 2e3, Phaser.Easing.Linear.None).to({
			y: "-20"
		}, 1400, Phaser.Easing.Quadratic.InOut).to({
			y: "+20"
		}, 1400, Phaser.Easing.Quadratic.InOut).start()
	},
	boss4Exit: function (e, t, i) {
		i.unplug(e, t), i.displayStationaryFanribbons(e, t);
		var a = e.add.tween(this.boss).to({
			x: 950,
			y: -200
		}, 1400, Phaser.Easing.Linear.None).start();
		if (e.add.tween(this.eyes).to({
				x: 940,
				y: -250
			}, 1400, Phaser.Easing.Linear.None).start(), Util.isDefined(i.fanRibbons))
			for (var s = 0; s < i.fanRibbons.length; s++) i.fanRibbons[s].destroy();
		var r = function () {
			this.boss.visible = !1, this.eyes.visible = !1
		};
		a.onComplete.add(r.bind(this))
	},
	clearVines_D2: function (e, t, i) {
		if (this.zone.isOnSequence(4, 1)) {
			var a = e.prodigy.event.create();
			a.validPath(t.user, t.path, 1150, 550), a.fire(990, 415, 200, 300, 2, !0, !0), a.function(this.zone.util.shrinkVines.bind(this.zone.util, e, i.vines)), a.function(this.element.highlight.bind(this.element, !1)), a.function(this.zone.completeSequence.bind(this.zone, 4, 1)), a.function(this.zone.setState.bind(this.zone, "vines-D2", "off")), a.set(this.zone.quests["4"], "area", ["skywatch-D3"]), a.enableInput(!0), a.function(i.addClickableEvent.bind(i, e, t, 895, 550, 80, 80, this.zone.util.interactTrolley.bind(this.zone.util, e, t, [{
				x: 1015,
				y: 575
			}, {
				x: 940,
				y: 575
			}], {
				trolley: i.trolley2,
				x: "0",
				y: "+300",
				duration: 3e3,
				target: "skywatch-D3",
				targetX: 300,
				targetY: 250
			}))), a.function(t.process.bind(t)), a.start()
		}
	},
	highlight_D2: function (e, t, i) {
		Util.isDefined(this.zone.getState("vines-D2")) || (this.element = e.prodigy.create.element(t.foreground, 1020, 500), this.element.highlight(!0), this.vineClick = i.addClickableEvent(e, t, 1e3, 410, 100, 260, this.clearVines_D2.bind(this, e, t, i), null))
	},
	clearVines_D1: function (e, t, i) {
		if (this.zone.isOnSequence(4, 0)) {
			var a = e.prodigy.event.create();
			a.validPath(t.user, t.path, 915, 440), a.enableInput(!1), a.fire(960, 330, 230, 185, 2, !0, !0), a.function(this.zone.util.shrinkVines.bind(this.zone.util, e, i.vines)), a.function(this.element.highlight.bind(this.element, !1)), a.function(this.zone.completeSequence.bind(this.zone, 4, 0)), a.function(this.zone.setState.bind(this.zone, "plug-B3", "off")), a.function(this.zone.setState.bind(this.zone, "plug-C4", "off")), a.function(this.zone.setState.bind(this.zone, "vines-D1", "off")), a.set(this.zone.quests["4"], "area", ["skywatch-D2"]), a.function(i.addClickableEvent.bind(i, e, t, 1110, 400, 80, 80, this.zone.util.interactTrolley.bind(this.zone.util, e, t, [{
				x: 1130,
				y: 480
			}, {
				x: 1140,
				y: 450
			}], {
				trolley: i.trolley2,
				x: "+200",
				y: "0",
				duration: 3e3,
				target: "skywatch-D2",
				targetX: 140,
				targetY: 290
			}), null, 0)), a.function(t.process.bind(t)), a.enableInput(!0), a.start()
		}
	},
	highlight_D1: function (e, t, i) {
		this.element = e.prodigy.create.element(t.foreground, 1020, 390), this.element.highlight(!0), i.addClickableEvent(e, t, 950, 320, 260, 190, this.clearVines_D1.bind(this, e, t, i), null, 0)
	}
}), Prodigy.Skywatch_Q5 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 5, "", {
		type: "item",
		ID: 56,
		N: 3
	}, ["skywatch-B3", "skywatch-C3", "skywatch-D2"], [19, 20, 21, 22], [], [1], [{
		type: "gold",
		N: 200
	}])
}, Prodigy.extends(Prodigy.Skywatch_Q5, Prodigy.Quest, {
	constructor: Prodigy.Skywatch_Q5,
	setup: function (e, t, i) {
		Prodigy.Quest.prototype.setup.call(this, e, t, i);
		var a = i.getTag();
		"B3" === a ? i.addCollect(e, t, 0, 900, 380, {
			type: "item",
			ID: 56
		}) : "C3" === a ? i.addCollect(e, t, 1, 260, 450, {
			type: "item",
			ID: 56
		}) : "D2" === a && i.addCollect(e, t, 2, 1150, 530, {
			type: "item",
			ID: 56
		})
	}
}), Prodigy.Skywatch_Q6 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 6, "Get the Key", {
		type: "seq",
		N: 1
	}, ["skywatch-D1"], [23, 24], [], [1], [{
		type: "gold",
		N: 200
	}])
}, Prodigy.extends(Prodigy.Skywatch_Q6, Prodigy.Quest, {
	constructor: Prodigy.Skywatch_Q6,
	setup: function (e, t, i) {
		if (Prodigy.Quest.prototype.setup.call(this, e, t, i), "D1" === i.getTag() && this.zone.isOnSequence(6, 0)) {
			var a = {
				randDir: !1,
				encounter: [{
					ID: 120
				}]
			};
			this.ambusher1 = i.addMonster(e, t, 0, 600, -50, !1, a), this.ambusher2 = i.addMonster(e, t, 4, 640, -50, !1, a), this.ambusher3 = i.addMonster(e, t, 2, 970, -50, !1, a), this.ambusher4 = i.addMonster(e, t, 3, 1010, -50, !1, a), this.ambusher1.visible = !1, this.ambusher2.visible = !1, this.ambusher3.visible = !1, this.ambusher4.visible = !1, this.addKeyClickable(e, t, i)
		}
	},
	addKeyClickable: function (e, t, i) {
		i.quest6_KeyElement = e.prodigy.create.element(t.content, 840, 270), i.quest6_KeyElement.highlight(!0), i.addClickableEvent(e, t, 840, 270, 80, 80, this.ambush.bind(this, e, t, i), null, 0)
	},
	ambush: function (e, t, i) {
		var a = this.zone.util.getBattle(i, "Defeat the Ambushers!", {
				pets: [{
					ID: 120
				}, {
					ID: 120
				}, {
					ID: 120
				}, {
					ID: 120
				}],
				drops: [{
					type: "item",
					ID: 81
				}]
			}, this.endBattle.bind(this, e)),
			s = e.prodigy.event.create();
		s.validPath(t.user, t.path, 880, 350), s.enableInput(!1), s.set(t.user, "evtProc", !0), s.function(this.zone.util.hideHex.bind(this, e, t)), s.set(this.ambusher1, "visible", !0), s.set(this.ambusher2, "visible", !0), s.set(this.ambusher3, "visible", !0), s.set(this.ambusher4, "visible", !0), s.path(this.ambusher1, [{
			x: 780,
			y: 350
		}], 1, !0), s.path(this.ambusher2, [{
			x: 830,
			y: 390
		}], 1, !0), s.path(this.ambusher3, [{
			x: 940,
			y: 390
		}], 1, !0), s.path(this.ambusher4, [{
			x: 870,
			y: 420
		}], 1), s.delay(1e3), s.enableInput(!0), s.function(a), s.start()
	},
	endBattle: function (e) {
		this.zone.completeSequence(6, 0), e.prodigy.world.teleport("skywatch-D1", 640, 360)
	}
}), Prodigy.Skywatch_Q7 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 7, "", {
		type: "item",
		ID: 49,
		N: 5
	}, ["skywatch-E1", "skywatch-E3"], [25], [], [1], [{
		type: "gold",
		N: 200
	}, {
		type: "key",
		ID: 9
	}])
}, Prodigy.extends(Prodigy.Skywatch_Q7, Prodigy.Quest, {
	constructor: Prodigy.Skywatch_Q7,
	setup: function (e, t, i) {
		Prodigy.Quest.prototype.setup.call(this, e, t);
		var a = {
				randDir: !0,
				encounter: [{
					ID: 120,
					drops: [{
						type: "item",
						ID: 49,
						R: .71
					}]
				}]
			},
			s = i.getTag();
		if (!this.zone.isQuestComplete(7) || !Util.isDefined(this.monsters)) return this.monsters = [], "E1" === s ? (this.monsters.push(i.addMonster(e, t, 1, 942, 352, !0, a, !1)), this.monsters.push(i.addMonster(e, t, 2, 400, 400, !0, a, !1))) : "E3" === s && this.monsters.push(i.addMonster(e, t, 0, 725, 480, !0, a, !1)), {
			enableMonsters: !1
		};
		for (var r = 0; r < this.monsters.length; r++) Util.isDefined(this.monsters[r]) && Util.isDefined(this.monsters[r].monsterData.drops) && delete this.monsters[r].monsterData.drops
	}
}), Prodigy.Skywatch_Q8 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 8, "Trim the Vines", {
		type: "seq",
		N: 1
	}, ["skywatch-B3"], [26, 27, 28], [], [1], [{
		type: "gold",
		N: 200
	}, {
		type: "outfit",
		ID: 5
	}])
}, Prodigy.extends(Prodigy.Skywatch_Q8, Prodigy.Quest, {
	constructor: Prodigy.Skywatch_Q8,
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this, e, t, i), this.zone.isOnSequence(8, 0) && "skywatch-B3" === i._zoneName && this.bossBattle(e, t, i)
	},
	bossBattle: function (e, t, i) {
		var a = function (e, t) {
			var a = t.content.add(e.prodigy.create.sprite(1045, -100, "boss-12", "water_cloud", !0)),
				s = t.foreground.add(e.prodigy.create.sprite(1035, -150, "boss-12", "med_face_1", !0)),
				r = function (e, t) {
					var a = function (e, t, i) {
							this.zone.completeSequence(8, 0), this.zone.setState("plug-B3", null), this.zone.setState("vines-B3", null), e.prodigy.world.teleport("skywatch-B3", t, i)
						},
						s = this.zone.util.getBattle(i, "Cloud Battle!", {
							boss: {
								ID: 12,
								level: 50,
								element: "water",
								attacks: [7, 8, 9, 10],
								name: "Rainy Storm",
								starBonus: 30,
								tag: "skywatch"
							}
						}, a.bind(this, e, t.user.x, t.user.y)),
						r = e.prodigy.event.create();
					r.enableInput(!1), r.delay(2e3), r.enableInput(!0), r.function(s), r.start()
				},
				o = function (e, t) {
					var i = e.prodigy.animation.translate(a, 1045, 200, 2e3, null, null, !0);
					e.prodigy.animation.translate(s, 1035, 150, 2e3, null, null, !0), i.onComplete.add(this.zone.util.changePosition.bind(this.zone.util, e, a, s)), i.onComplete.add(r.bind(this, e, t))
				},
				n = e.prodigy.event.create();
			n.validPath(t.user, t.path, 860, 270), n.validPath(t.user, t.path, 861, 270), n.enableInput(!1), n.fire(935, 45, 290, 290, 2, !1, !0), n.function(i.element.highlight.bind(i.element, !1)), n.function(this.zone.util.shrinkVines.bind(this.zone.util, e, i.vines)), n.delay(3e3), n.sound(Prodigy.Controller.AudioController.SFX_PACKS.SKYWATCH, "wind"), n.function(o.bind(this, e, t)), n.start()
		};
		i.element = e.prodigy.create.element(t.foreground, 1020, 140), i.element.highlight(!0), i.addClickableEvent(e, t, 920, 20, 290, 260, a.bind(this, e, t), null, 0)
	}
}), Prodigy.Skywatch_Q9 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 9, "Trim the Vines", {
		type: "seq",
		N: 1
	}, ["skywatch-C4"], [29], [], [0], [{
		type: "gold",
		N: 200
	}])
}, Prodigy.extends(Prodigy.Skywatch_Q9, Prodigy.Quest, {
	constructor: Prodigy.Skywatch_Q9,
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this, e, t, i), this.zone.isOnSequence(9, 0) && "skywatch-C4" === i._zoneName && this.bossBattle(e, t, i)
	},
	bossBattle: function (e, t, i) {
		var a = function (e, t) {
			var a = t.content.add(e.prodigy.create.sprite(150, -100, "boss-12", "earth_cloud", !0)),
				s = t.foreground.add(e.prodigy.create.sprite(140, -150, "boss-12", "med_face_2", !0)),
				r = function (e, t) {
					var a = function (e, t, i) {
							this.zone.completeSequence(9, 0), this.zone.setState("plug-C4", null), this.zone.setState("vines-C4", null), e.prodigy.world.teleport("skywatch-C4", t, i)
						},
						s = this.zone.util.getBattle(i, "Cloud Battle!", {
							boss: {
								ID: 12,
								level: 50,
								element: "earth",
								attacks: [13, 14, 15, 16],
								name: "Sandy Storm",
								starBonus: 30,
								tag: "skywatch"
							}
						}, a.bind(this, e, t.user.x, t.user.y)),
						r = e.prodigy.event.create();
					r.enableInput(!1), r.delay(2e3), r.enableInput(!0), r.function(s), r.start()
				},
				o = function (e, t) {
					var i = e.add.tween(a).to({
						x: 150,
						y: 300
					}, 2e3, Phaser.Easing.Linear.None).start();
					e.add.tween(s).to({
						x: 140,
						y: 250
					}, 2e3, Phaser.Easing.Linear.None).start(), i.onComplete.add(this.zone.util.changePosition.bind(this.zone.util, e, a, s)), i.onComplete.add(r.bind(this, e, t))
				},
				n = e.prodigy.event.create();
			n.validPath(t.user, t.path, 220, 400), n.enableInput(!1), n.fire(115, 165, 290, 290, 2, !1, !0), n.function(i.element.highlight.bind(i.element, !1)), n.function(this.zone.util.shrinkVines.bind(this, e, i.vines)), n.delay(3e3), n.sound(Prodigy.Controller.AudioController.SFX_PACKS.SKYWATCH, "wind"), n.function(o.bind(this, e, t)), n.start()
		};
		i.element = e.prodigy.create.element(t.foreground, 160, 220), i.element.highlight(!0), i.addClickableEvent(e, t, 90, 120, 270, 280, a.bind(this, e, t), null)
	}
}), Prodigy.Skywatch_Q10 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 10, "Trim the Vines", {
		type: "seq",
		N: 1
	}, ["skywatch-D3"], [30], [], [1, 46], [{
		type: "spell",
		ID: 26
	}])
}, Prodigy.extends(Prodigy.Skywatch_Q10, Prodigy.Quest, {
	constructor: Prodigy.Skywatch_Q10,
	setup: function (e, t, i) {
		return Prodigy.Quest.prototype.setup.call(this, e, t), "skywatch-D3" === i._zoneName ? {
			enableMonsters: !1
		} : void 0
	},
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this, e, t, i), this.zone.isOnSequence(10, 0) && "skywatch-D3" === i._zoneName && this.bossBattle(e, t, i)
	},
	bossBattle: function (e, t, i) {
		var a = function (e, t) {
			var a = t.content.add(e.prodigy.create.sprite(850, -100, "boss-12", "ice_cloud", !0)),
				s = t.foreground.add(e.prodigy.create.sprite(840, -150, "boss-12", "med_face_0", !0)),
				r = function (e, t) {
					var a = function (e, t, i) {
							this.zone.completeSequence(10, 0), this.zone.setState("plug-D3", null), this.zone.setState("vines-D3", null), e.prodigy.world.teleport("skywatch-D3", t, i)
						},
						s = this.zone.util.getBattle(i, "Cloud Battle!", {
							boss: {
								ID: 12,
								level: 50,
								element: "ice",
								attacks: [19, 20, 21, 22],
								name: "Frosty Storm",
								starBonus: 30,
								tag: "skywatch"
							}
						}, a.bind(this, e, t.user.x, t.user.y)),
						r = e.prodigy.event.create();
					r.enableInput(!1), r.delay(2e3), r.enableInput(!0), r.function(s), r.start()
				},
				o = function (e, t) {
					var i = e.prodigy.animation.translate(a, 850, 200, 2e3, 0, null, !0);
					e.prodigy.animation.translate(s, 840, 150, 2e3, 0, null, !0), i.onComplete.add(this.zone.util.changePosition.bind(this.zone.util, e, a, s, 850, 200)), i.onComplete.add(r.bind(this, e, t))
				},
				n = e.prodigy.event.create();
			n.validPath(t.user, t.path, 580, 270), n.enableInput(!1), n.fire(655, 45, 290, 290, 2, !1, !0), n.function(i.element.highlight.bind(i.element, !1)), n.function(this.zone.util.shrinkVines.bind(this, e, i.vines)), n.delay(3e3), n.sound(Prodigy.Controller.AudioController.SFX_PACKS.SKYWATCH, "wind"), n.function(o.bind(this, e, t)), n.start()
		};
		i.element = e.prodigy.create.element(t.foreground, 740, 140), i.element.highlight(!0), i.addClickableEvent(e, t, 630, 30, 250, 250, a.bind(this, e, t), null, 0)
	}
}), Prodigy.Skywatch_Q11 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 11, "Find Eugene", {
		type: "seq",
		N: 2
	}, ["skywatch-E2"], [31, 32, 33], [], [1], [{
		type: "gold",
		N: 200
	}, {
		type: "hat",
		ID: 8
	}])
}, Prodigy.extends(Prodigy.Skywatch_Q11, Prodigy.Quest, {
	constructor: Prodigy.Skywatch_Q11,
	setup: function (e, t, i) {
		return Prodigy.Quest.prototype.setup.call(this, e, t, i), "skywatch-E2" === i._zoneName ? (i.addConstructedNPC(e, t, 710, 415, "npc-sprite-eugene", null, "Eugene"), this.zone.isOnSequence(11, 0) ? this.monstersAmbushEugene(e, t, i) : this.zone.isOnSequence(11, 1) && this.rescuedEugene(e, t), {
			enableMonsters: !1
		}) : null
	},
	monstersAmbushEugene: function (e, t, i) {
		var a = this.zone.util.getBattle(i, "Save Eugene!", {
				pets: [{
					ID: 115
				}, {
					ID: 115
				}, {
					ID: 115
				}, {
					ID: 115
				}]
			}, this.endBattle.bind(this, e)),
			s = e.prodigy.event.create();
		i.addMonster(e, t, 1, 380, 380, !1, {
			encounter: [{
				ID: 115
			}]
		}), i.addMonster(e, t, 3, 520, 475, !1, {
			encounter: [{
				ID: 115
			}]
		});
		var r = i.addMonster(e, t, 2, 900, 380, !1, {
				encounter: [{
					ID: 115
				}]
			}),
			o = i.addMonster(e, t, 4, 750, 475, !1, {
				encounter: [{
					ID: 115
				}]
			});
		r.flip(), o.flip(), s.enableInput(!1), s.delay(500), s.enableInput(!0), s.text(0, "eugene"), s.text(), s.text(100, "noot"), s.enableInput(!1), s.set(t.user, "evtProc", !0), s.function(t.user.chat.bind(t.user, 1, 80)), s.delay(1e3), s.path(t.user, [{
			x: 640,
			y: 400
		}]), s.delay(500), s.enableInput(!0), s.function(a), s.start()
	},
	endBattle: function (e) {
		this.zone.completeSequence(11, 0), e.prodigy.world.teleport("skywatch-E2", 640, 400)
	},
	rescuedEugene: function (e, t) {
		var i = e.prodigy.event.create();
		i.text(1, "eugene"), i.text(2, "eugene"), i.text(3, "eugene"), i.text(4, "eugene"), i.text(5, "eugene"), i.text(6, "eugene"), i.function(this.zone.completeSequence.bind(this.zone, 11, 1)), i.function(t.process.bind(t)), i.start()
	}
}), Prodigy.Skywatch_Q12 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 12, "", {
		type: "item",
		ID: 82,
		N: 2
	}, ["skywatch-C3", "skywatch-D3"], [34, 35, 36], [], [0], [{
		type: "gold",
		N: 200
	}, {
		type: "item",
		ID: 83
	}])
}, Prodigy.extends(Prodigy.Skywatch_Q12, Prodigy.Quest, {
	constructor: Prodigy.Skywatch_Q12,
	setup: function (e, t, i) {
		Prodigy.Quest.prototype.setup.call(this, e, t, i);
		var a = i.getTag();
		if ("C3" === a) i.addCollect(e, t, 1, 260, 450, {
			type: "item",
			ID: 82
		});
		else if ("D3" === a) return i.addCollect(e, t, 2, 640, 350, {
			type: "item",
			ID: 82
		}), {
			enableMonsters: !1
		}
	}
}), Prodigy.Skywatch_Q13 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 13, "Defeat the Boss", {
		type: "seq",
		N: 1
	}, ["skywatch-E4"], [37, 38], [], [39, 40, 41], [{
		type: "spell",
		ID: 27
	}, {
		type: "key",
		ID: 10
	}])
}, Prodigy.extends(Prodigy.Skywatch_Q13, Prodigy.Quest, {
	constructor: Prodigy.Skywatch_Q13,
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this, e, t, i), this.zone.isOnSequence(13, 0) && "skywatch-E4" === i._zoneName && this.bossBattle(e, t, i)
	},
	bossBattle: function (e, t, i) {
		var a = t.content.add(e.prodigy.create.sprite(1045, -100, "boss-12", "main_cloud", !0)),
			s = t.foreground.add(e.prodigy.create.sprite(1035, -150, "boss-12", "main_eyes_1", !0)),
			r = this.zone.util.getBattle(i, "Boss Battle!", {
				boss: {
					ID: 12,
					level: 60,
					element: "storm",
					attacks: [25, 26, 27, 28],
					name: "Stormy Storm",
					starBonus: 50,
					tag: "skywatch"
				},
				drops: [{
					type: "weapon",
					ID: 23
				}],
				difficulty: 7
			}, this.endBattle.bind(this, e, i)),
			o = function (e) {
				var t = e.prodigy.animation.translate(a, 800, 400, 2e3, 0, null, !0);
				e.prodigy.animation.translate(s, 790, 350, 2e3, 0, null, !0), t.onComplete.add(this.zone.util.changePosition.bind(this.zone.util, e, a, s, 800, 400))
			},
			n = e.prodigy.event.create();
		n.enableInput(!1), n.validPath(t.user, t.path, 399, 400), n.validPath(t.user, t.path, 400, 400), n.sound(Prodigy.Controller.AudioController.SFX_PACKS.SKYWATCH, "wind"), n.function(o.bind(this, e, t)), n.delay(5e3), n.enableInput(!0), n.function(r), n.start()
	},
	endBattle: function (e) {
		this.zone.completeSequence(13, 0), this.zone.setState("eugene_A1", 1), e.prodigy.world.teleport("skywatch-E4")
	}
}), Prodigy.Bonfire_Spire = function (e) {
	Prodigy.Zone.call(this, e), this.store = {
		name: "Hot Hot Threads",
		items: [{
			ID: 38,
			type: "hat"
		}, {
			ID: 64,
			type: "weapon"
		}, {
			ID: 34,
			type: "outfit"
		}, {
			ID: 48,
			type: "pet"
		}, {
			ID: 32,
			type: "follow"
		}, {
			ID: 33,
			type: "follow"
		}]
	}, this.util = new Prodigy.Bonfire_SpireUtil(e, this), this.name = "Bonfire Spire", this.ID = "bonfire_spire", this.battleBG = "bg-battle-volcano", this.onFaint = "bonfire_spire-B1", this.questHub = "bonfire_spire-B1", this.states = ["chest1", "chest2", "chest3", "chest4", "chest5", "chest6", "chestGuardian", "wizard1", "wizard2", "lever1", "lever2", "lever3", "turnip1", "turnip2", "minigametut"], this.monster = [7, 23, 27, 34, 37, 38, 39, 45, 48, 63, 75, 94];
	var t = ["tileset-cloud", "tileset-volcano", "tileset-generic", "npc-sprite-wizard", "tileset-town", "zone-bonfire", "tileset-collisions"];
	this.maps = {
		A1: new Prodigy.Bonfire_Spire_A1(this, t),
		A4: new Prodigy.Bonfire_Spire_A4(this, t),
		B1: new Prodigy.Bonfire_Spire_B1(this, t),
		B2: new Prodigy.Bonfire_Spire_B2(this, t),
		B4: new Prodigy.Bonfire_Spire_B4(this, t),
		B5: new Prodigy.Bonfire_Spire_B5(this, t),
		C1: new Prodigy.Bonfire_Spire_C1(this, t),
		C2: new Prodigy.Bonfire_Spire_C2(this, t),
		C3: new Prodigy.Bonfire_Spire_C3(this, t),
		C4: new Prodigy.Bonfire_Spire_C4(this, t),
		C6: new Prodigy.Bonfire_Spire_C6(this, t),
		D1: new Prodigy.Bonfire_Spire_D1(this, t),
		D2: new Prodigy.Bonfire_Spire_D2(this, t),
		D3: new Prodigy.Bonfire_Spire_D3(this, t),
		D4: new Prodigy.Bonfire_Spire_D4(this, t),
		D5: new Prodigy.Bonfire_Spire_D5(this, t),
		D6: new Prodigy.Bonfire_Spire_D6(this, t),
		E5: new Prodigy.Bonfire_Spire_E5(this, t),
		E6: new Prodigy.Bonfire_Spire_E6(this, t)
	}, this.quests = {
		1: new Prodigy.Bonfire_Spire_Q1(this, t),
		2: new Prodigy.Bonfire_Spire_Q2(this, t),
		3: new Prodigy.Bonfire_Spire_Q3(this, t),
		4: new Prodigy.Bonfire_Spire_Q4(this, t),
		5: new Prodigy.Bonfire_Spire_Q5(this, []),
		6: new Prodigy.Bonfire_Spire_Q6(this, []),
		7: new Prodigy.Bonfire_Spire_Q7(this, t),
		8: new Prodigy.Bonfire_Spire_Q8(this, t),
		9: new Prodigy.Bonfire_Spire_Q9(this, t),
		10: new Prodigy.Bonfire_Spire_Q10(this, t),
		11: new Prodigy.Bonfire_Spire_Q11(this, t),
		12: new Prodigy.Bonfire_Spire_Q12(this, t),
		13: new Prodigy.Bonfire_Spire_Q13(this, t),
		14: new Prodigy.Bonfire_Spire_Q14(this, [])
	}, this.lockedLevers = []
}, Prodigy.extends(Prodigy.Bonfire_Spire, Prodigy.Zone, {
	constructor: Prodigy.Bonfire_Spire,
	init: function (e, t, i) {
		Prodigy.Zone.prototype.init.call(this, e, t, i);
		var a = this.getState("lever1"),
			s = this.getState("lever2"),
			r = this.getState("lever3");
		this.disabledLayers = [], 1 === r ? this.disabledLayers.push(0, 1, 2, 3, 4, 5) : 1 === s ? this.disabledLayers.push(0, 1, 3, 4, 8) : 1 === a ? this.disabledLayers.push(0, 3, 7, 8) : this.disabledLayers.push(6, 7, 8), e.prodigy.player.backpack.hasItem("key", 12) && this.disabledLayers.push(3, 4, 5, 9)
	},
	process: function (e, t, i) {
		Prodigy.Zone.prototype.process.call(this, e, t, i);
		var a = this.getState("lever1"),
			s = this.getState("lever2"),
			r = this.getState("lever3");
		this.lockedLevers = this.getCurrentQuestID() > 15 ? [] : 1 === r ? [1, 2, 3] : 1 === s ? [1, 2] : 1 === a ? [1] : []
	},
	lockLever: function (e, t) {
		this.getCurrentQuestID() <= 15 && (Util.isDefined(this.lockedLevers) && !Util.inArray(this.lockedLevers, t) ? this.lockedLevers.push(t) : this.lockedLevers = [t])
	},
	unlockAllLevers: function () {
		this.lockedLevers = []
	}
}), Prodigy.Bonfire_SpireUtil = function (e, t) {
	Prodigy.ZoneUtil.call(this, e, t)
}, Prodigy.extends(Prodigy.Bonfire_SpireUtil, Prodigy.ZoneUtil, {
	constructor: Prodigy.Bonfire_SpireUtil,
	processLeverRequirements: function (e, t, i) {
		this.enableLeverElement(!1);
		for (var a, s = this._zone.getCurrentQuest(), r = 0; 3 > r; r++) {
			var o = this._zone.getState("lever" + (r + 1));
			if (Util.isDefined(i[r]) && i[r] !== o) {
				a = r + 1, Util.log("Required Lever: lever" + a);
				break
			}
		}
		var n, h = "Pull the Lever";
		switch (a) {
		case 1:
			n = ["bonfire_spire-D1"], this.highlightLever(e, t, "D1", 940, 250);
			break;
		case 2:
			n = ["bonfire_spire-C2"], this.highlightLever(e, t, "C2", 220, 130);
			break;
		case 3:
			n = ["bonfire_spire-D4"], this.highlightLever(e, t, "D4", 900, 330);
			break;
		default:
			h = s.descCache, n = s.areaCache
		}
		var l = s.area;
		l !== n && (s.area = n, s.desc = h, Util.isDefined(this.toggle) && this.toggle && (this.toggle = !1, Util.log("Toggled"), e.process())), Util.log("Quest Target Area: " + s.area)
	},
	enableLeverElement: function (e) {
		Util.isDefined(this.leverElement) && (this.leverElement.visible = e, this.leverElement.highlight(e))
	},
	highlightLever: function (e, t, i, a, s) {
		var r = t.getTag() === i;
		r && (this.leverElement = this._game.prodigy.create.element(e.foreground, a, s), this.enableLeverElement(!0))
	},
	toggleLever: function (e, t, i) {
		if (Util.isDefined(this._zone.lockedLevers) && !Util.inArray(this._zone.lockedLevers, t + 1) || this._zone.getCurrentQuestID() > 14) {
			var a = this._game.prodigy.event.create();
			a.validPath(e.user, e.path, i.x - 75, i.y + 80, !1);
			var s = function () {
				e.user.isFacingLeft() && e.user.flip()
			};
			a.function(s.bind(this));
			var r = function () {
				var a = this._zone.isLayerEnabled(t),
					s = a ? t + 1 : t;
				this._zone.disabledLayers = [], this._zone.setState("lever1", null), this._zone.setState("lever2", null), this._zone.setState("lever3", null);
				var r;
				for (r = 0; s > r; r++) {
					this._zone.disabledLayers.push(r, r + 3);
					var o = "lever" + (r + 1);
					this._zone.setState(o, 1), this._zone.getCurrentQuestID() <= 14 && this._zone.lockLever(e, r + 1)
				}
				for (r = s; 3 > r; r++) this._game.prodigy.player.backpack.hasItem("key", 12) && this._zone.disabledLayers.push(r + 3, r + 6);
				Util.log("disabled layers: " + this._zone.disabledLayers), Util.log("disabled levers: " + this._zone.lockedLevers), Util.log("lever1:" + this._zone.getState("lever1")), Util.log("lever2:" + this._zone.getState("lever2")), Util.log("lever3:" + this._zone.getState("lever3")), this.toggle = !0, this.skipFrame = !0, i.frameName = a ? "switch-off" : "switch-on", i.anchor.set(.5, 0), i.scale.x = -1, a && Util.isDefined(this.leverElement) && this.leverElement.highlight(!1)
			};
			a.enableInput(!1), a.function(r.bind(this)), a.shake(0, 3e3, 10, "v"), a.enableInput(!0), a.function(e.process.bind(e)), a.start()
		}
	},
	processLeverQuest: function (e, t) {
		var i = this._zone.getState("lever" + t);
		1 === i && this._zone.isOnSequence(t, 0) && (this._zone.completeSequence(t, 0), e.process())
	},
	addBubble: function (e, t, i) {
		var a = e.content.add(this._game.prodigy.create.sprite(t, i, "zone-bonfire", "bubble_0"));
		a.anchor.setTo(.5, 1);
		var s = .7 * Math.random() + .2;
		a.scale.x = s, a.scale.y = s, a.animations.add("pop", ["bubble_0", "bubble_1", "bubble_2", "bubble_3", "bubble_4", "bubble_5", "bubble_6"], 5, !0, !1), a.animations.play("pop")
	},
	addBubbles: function (e, t) {
		var i = this._game.prodigy.event.create();
		for (var a in t) i.function(this.addBubble.bind(this, e, t[a].x, t[a].y)), i.delay(3 * t[a].delay);
		i.start()
	}
}), Prodigy.Bonfire_Spire_A1 = function (e, t) {
	Prodigy.Map.call(this, e, "A1", "Volcano Entrance", 865, 482, ["bonfire_spire-B1"], t)
}, Prodigy.extends(Prodigy.Bonfire_Spire_A1, Prodigy.Map, {
	constructor: Prodigy.Bonfire_Spire_A1,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 995,
			y: 420,
			w: 120,
			h: 150,
			rect: !0
		}, "bonfire_spire-B1", 160, 307.5, null, AreaEvent.DOWN_RIGHT, !1), this.addChest(e, t, "chest1", 755, 330, [{
			type: "gold",
			N: 200
		}])
	}
}), Prodigy.Bonfire_Spire_A4 = function (e, t) {
	Prodigy.Map.call(this, e, "A4", "Pitfall Place", 1020, 617.5, ["bonfire_spire-B4"], t.concat("npc-sprite-worker-slime"))
}, Prodigy.extends(Prodigy.Bonfire_Spire_A4, Prodigy.Map, {
	constructor: Prodigy.Bonfire_Spire_A4,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1180,
			y: 585,
			w: 200,
			h: 270,
			rect: !0
		}, "bonfire_spire-B4", 165, 400, null, AreaEvent.RIGHT, !1), this.addChest(e, t, "chestGuardian", 800, 225, [{
			type: "key",
			ID: 12
		}], {
			type: "item",
			ID: 92
		})
	}
}), Prodigy.Bonfire_Spire_B1 = function (e, t) {
	Prodigy.Map.call(this, e, "B1", "Volcano Village", 160, 307, ["bonfire_spire-C1", "bonfire_spire-B2", "bonfire_spire-A1"], t.concat(["npc-sprite-slurpy", "npc-sprite-slime_queen", "npc-sprite-slime_guard", "npc-sprite-merchant"]))
}, Prodigy.extends(Prodigy.Bonfire_Spire_B1, Prodigy.Map, {
	constructor: Prodigy.Bonfire_Spire_B1,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1230,
			y: 380,
			w: 100,
			h: 200,
			rect: !0
		}, "bonfire_spire-C1", 170, 417.5, null, AreaEvent.RIGHT, !1), this.addAreaEvent(e, t, {
			x: 180,
			y: 692.5,
			w: 120,
			h: 55,
			rect: !0
		}, "bonfire_spire-B2", 180, 117.5, null, AreaEvent.DOWN, !1), this.addAreaEvent(e, t, {
			x: 50,
			y: 270,
			w: 100,
			h: 230,
			rect: !0
		}, "bonfire_spire-A1", 865, 482, null, AreaEvent.UP_LEFT, !1), this.questNPC = this.addQuestNPC(e, t, 930, 475, "slurpy", !1, this.onComplete.bind(this, e)), this.addHealStone(e, t, 410, 475), t.createStoreNPC(760, 300, this._zone.store, !0), new Prodigy.Container.ToyMerchant(e, t.content, 379, 288)
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	},
	onComplete: function (e) {
		var t = e.prodigy.event.create();
		t.text(0, "slurpy"), t.start()
	}
}), Prodigy.Bonfire_Spire_B2 = function (e, t) {
	Prodigy.Map.call(this, e, "B2", "Floral Furnace", 180, 117.5, ["bonfire_spire-B1", "bonfire_spire-C3", "bonfire_spire-B4"], t)
}, Prodigy.extends(Prodigy.Bonfire_Spire_B2, Prodigy.Map, {
	constructor: Prodigy.Bonfire_Spire_B2,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 180,
			y: 40,
			w: 120,
			h: 80,
			rect: !0
		}, "bonfire_spire-B1", 180, 532.5, null, AreaEvent.UP, !1), this.addAreaEvent(e, t, {
			x: 1230,
			y: 325,
			w: 100,
			h: 240,
			rect: !0
		}, "bonfire_spire-C3", 160, 417.5, null, AreaEvent.RIGHT, !1), this.addAreaEvent(e, t, {
			x: 1100,
			y: 675,
			w: 120,
			h: 90,
			rect: !0
		}, "bonfire_spire-B4", 1040, 117.5, null, AreaEvent.DOWN, !1);
		var a = {
			randDir: !0,
			encounter: [{
				ID: 7
			}, {
				ID: 23
			}, {
				ID: 27
			}, {
				ID: 39
			}, {
				ID: 45
			}, {
				ID: 63
			}]
		};
		this.addMonster(e, t, 1, 600, 340, !1, a);
		var s = [{
			x: 300,
			y: 620,
			delay: 500
		}, {
			x: 40,
			y: 615,
			delay: 0
		}];
		Util.isDefined(this._zone.getState("lever2")) || this._zone.util.addBubbles(t, s)
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	}
}), Prodigy.Bonfire_Spire_B4 = function (e, t) {
	Prodigy.Map.call(this, e, "B4", "Volcanic Junction", 1040, 117.5, ["bonfire_spire-A4", "bonfire_spire-B2", "bonfire_spire-C4", "bonfire_spire-B5"], t)
}, Prodigy.extends(Prodigy.Bonfire_Spire_B4, Prodigy.Map, {
	constructor: Prodigy.Bonfire_Spire_B4,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1040,
			y: 40,
			w: 160,
			h: 80,
			rect: !0
		}, "bonfire_spire-B2", 1100, 509.5, null, AreaEvent.UP, !1), this.addAreaEvent(e, t, {
			x: 1250,
			y: 320,
			w: 80,
			h: 160,
			rect: !0
		}, "bonfire_spire-C4", 110, 397.5, null, AreaEvent.RIGHT, !1), this.addAreaEvent(e, t, {
			x: 160,
			y: 675,
			w: 160,
			h: 90,
			rect: !0
		}, "bonfire_spire-B5", 160, 237.5, null, AreaEvent.DOWN, !1), this.addAreaEvent(e, t, {
			x: 25,
			y: 380,
			w: 50,
			h: 200,
			rect: !0
		}, "bonfire_spire-A4", 1020, 617.5, null, AreaEvent.LEFT, !1);
		var a = {
			randDir: !0,
			encounter: [{
				ID: 34
			}, {
				ID: 48
			}, {
				ID: 75
			}]
		};
		this.addMonster(e, t, 1, 440, 190, !1, a), this.addMonster(e, t, 2, 900, 345, !1, a);
		var s = [{
			x: 1175,
			y: 530,
			delay: 500
		}, {
			x: 375,
			y: 700,
			delay: 700
		}, {
			x: 680,
			y: 160,
			delay: 400
		}, {
			x: 850,
			y: 475,
			delay: 300
		}];
		Util.isDefined(this._zone.getState("lever3")) || this._zone.util.addBubbles(t, s)
	}
}), Prodigy.Bonfire_Spire_B5 = function (e, t) {
	Prodigy.Map.call(this, e, "B5", "Red-Hot River", 150, 210, ["bonfire_spire-B4", "bonfire_spire-C6"], t)
}, Prodigy.extends(Prodigy.Bonfire_Spire_B5, Prodigy.Map, {
	constructor: Prodigy.Bonfire_Spire_B5,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 160,
			y: 100,
			w: 160,
			h: 200,
			rect: !0
		}, "bonfire_spire-B4", 160, 527.5, null, AreaEvent.UP, !1), this.addAreaEvent(e, t, {
			x: 1230,
			y: 520,
			w: 100,
			h: 180,
			rect: !0
		}, "bonfire_spire-C6", 180, 477.5, null, AreaEvent.RIGHT, !1);
		var a = {
			randDir: !0,
			encounter: [{
				ID: 37
			}, {
				ID: 38
			}, {
				ID: 94
			}]
		};
		this.addMonster(e, t, 1, 380, 635, !1, a), this.addMonster(e, t, 2, 570, 170, !1, a), this.addChest(e, t, "chest4", 1100, 130, [{
			type: "gold",
			N: 200
		}]);
		var s = [{
			x: 280,
			y: 450,
			delay: 500
		}, {
			x: 730,
			y: 530,
			delay: 700
		}, {
			x: 400,
			y: 260,
			delay: 400
		}];
		this._zone.util.addBubbles(t, s)
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	}
}), Prodigy.Bonfire_Spire_C1 = function (e, t) {
	Prodigy.Map.call(this, e, "C1", "Slimeburbs", 180, 417.5, ["bonfire_spire-D1", "bonfire_spire-D2", "bonfire_spire-B1"], t)
}, Prodigy.extends(Prodigy.Bonfire_Spire_C1, Prodigy.Map, {
	constructor: Prodigy.Bonfire_Spire_C1,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1230,
			y: 200,
			w: 100,
			h: 240,
			rect: !0
		}, "bonfire_spire-D1", 260, 382.5, null, AreaEvent.RIGHT, !1), this.addAreaEvent(e, t, {
			x: 1245,
			y: 620,
			w: 80,
			h: 200,
			rect: !0
		}, "bonfire_spire-D2", 180, 292.5, null, AreaEvent.RIGHT, !1), this.addAreaEvent(e, t, {
			x: 60,
			y: 450,
			w: 120,
			h: 340,
			rect: !1
		}, "bonfire_spire-B1", 1120, 417.5, null, AreaEvent.LEFT, !1);
		var a = {
			randDir: !0,
			encounter: [{
				ID: 7
			}, {
				ID: 23
			}, {
				ID: 39
			}, {
				ID: 63
			}]
		};
		this.addMonster(e, t, 1, 490, 350, !1, a), this.addMonster(e, t, 2, 880, 330, !1, a);
		var s = [{
			x: 300,
			y: 630,
			delay: 500
		}, {
			x: 380,
			y: 580,
			delay: 700
		}, {
			x: 260,
			y: 90,
			delay: 400
		}, {
			x: 940,
			y: 675,
			delay: 300
		}];
		Util.isDefined(this._zone.getState("lever1")) || this._zone.util.addBubbles(t, s)
	}
}), Prodigy.Bonfire_Spire_C2 = function (e, t) {
	Prodigy.Map.call(this, e, "C2", "Palm Path", 1100, 597.5, ["bonfire_spire-C3"], t)
}, Prodigy.extends(Prodigy.Bonfire_Spire_C2, Prodigy.Map, {
	constructor: Prodigy.Bonfire_Spire_C2,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1100,
			y: 677.5,
			w: 120,
			h: 85,
			rect: !0
		}, "bonfire_spire-C3", 1100, 200, null, AreaEvent.DOWN, !1);
		var a = e.prodigy.create.sprite(240, 160, "zone-bonfire", 1 === this._zone.getState("lever2") ? "switch-off" : "switch-on");
		a.anchor.set(.5, 0), a.scale.x = -1, t.content.add(a), this.addClickableEvent(e, t, 200, 160, 80, 80, this._zone.util.toggleLever.bind(this._zone.util, t, 1, a), null, 0)
	}
}), Prodigy.Bonfire_Spire_C3 = function (e, t) {
	Prodigy.Map.call(this, e, "C3", "Slime Shanty", 160, 417.5, ["bonfire_spire-C2", "bonfire_spire-D3", "bonfire_spire-B2"], t)
}, Prodigy.extends(Prodigy.Bonfire_Spire_C3, Prodigy.Map, {
	constructor: Prodigy.Bonfire_Spire_C3,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1120,
			y: 60,
			w: 160,
			h: 120,
			rect: !0
		}, "bonfire_spire-C2", 1100, 597.5, null, AreaEvent.UP, !1), this.addAreaEvent(e, t, {
			x: 1250,
			y: 530,
			w: 60,
			h: 150,
			rect: !0
		}, "bonfire_spire-D3", 180, 377.5, null, AreaEvent.RIGHT, !1), this.addAreaEvent(e, t, {
			x: 50,
			y: 385,
			w: 100,
			h: 290,
			rect: !0
		}, "bonfire_spire-B2", 1120, 342.5, null, AreaEvent.LEFT, !1);
		var a = {
			randDir: !0,
			encounter: [{
				ID: 23
			}, {
				ID: 27
			}, {
				ID: 39
			}, {
				ID: 45
			}, {
				ID: 63
			}]
		};
		this.addMonster(e, t, 2, 480, 350, !1, a);
		var s = [{
			x: 155,
			y: 630,
			delay: 500
		}, {
			x: 655,
			y: 640,
			delay: 700
		}];
		Util.isDefined(this._zone.getState("lever2")) || this._zone.util.addBubbles(t, s)
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	}
}), Prodigy.Bonfire_Spire_C4 = function (e, t) {
	Prodigy.Map.call(this, e, "C4", "Lava Pits", 110, 397.5, ["bonfire_spire-D4", "bonfire_spire-B4"], t)
}, Prodigy.extends(Prodigy.Bonfire_Spire_C4, Prodigy.Map, {
	constructor: Prodigy.Bonfire_Spire_C4,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1230,
			y: 330,
			w: 100,
			h: 280,
			rect: !0
		}, "bonfire_spire-D4", 220, 467.5, null, AreaEvent.RIGHT, !1), this.addAreaEvent(e, t, {
			x: 40,
			y: 360,
			w: 75,
			h: 150,
			rect: !0
		}, "bonfire_spire-B4", 1110, 357.5, null, AreaEvent.LEFT, !1);
		var a = {
			randDir: !0,
			encounter: [{
				ID: 34
			}, {
				ID: 48
			}, {
				ID: 75
			}]
		};
		this.addMonster(e, t, 3, 520, 540, !1, a), this.addMonster(e, t, 4, 720, 260, !1, a);
		var s = [{
			x: 605,
			y: 390,
			delay: 500
		}, {
			x: 595,
			y: 425,
			delay: 700
		}, {
			x: 950,
			y: 600,
			delay: 400
		}, {
			x: 415,
			y: 650,
			delay: 300
		}];
		Util.isDefined(this._zone.getState("lever3")) || this._zone.util.addBubbles(t, s)
	}
}), Prodigy.Bonfire_Spire_C6 = function (e, t) {
	Prodigy.Map.call(this, e, "C6", "Throne Room: Entrance", 180, 477.5, ["bonfire_spire-D5", "bonfire_spire-D6", "bonfire_spire-B5"], t.concat(["npc-sprite-cebollini", "npc-sprite-slime_guard"]))
}, Prodigy.extends(Prodigy.Bonfire_Spire_C6, Prodigy.Map, {
	constructor: Prodigy.Bonfire_Spire_C6,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 900,
			y: 230,
			w: 200,
			h: 60,
			rect: !0
		}, "bonfire_spire-D5", 260, 600, null, AreaEvent.UP, !1), this.addAreaEvent(e, t, {
			x: 1250,
			y: 550,
			w: 60,
			h: 220,
			rect: !0
		}, "bonfire_spire-D6", 350, 557.5, null, AreaEvent.RIGHT, !1), this.addAreaEvent(e, t, {
			x: 60,
			y: 440,
			w: 120,
			h: 240,
			rect: !0
		}, "bonfire_spire-B5", 1120, 527.5, null, AreaEvent.LEFT, !1), this.addChest(e, t, "chest5", 485, 290, [{
			type: "weapon",
			ID: 21
		}])
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	}
}), Prodigy.Bonfire_Spire_D1 = function (e, t) {
	Prodigy.Map.call(this, e, "D1", "Palm Terrace", 260, 382.5, ["bonfire_spire-C1"], t)
}, Prodigy.extends(Prodigy.Bonfire_Spire_D1, Prodigy.Map, {
	constructor: Prodigy.Bonfire_Spire_D1,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 135,
			y: 330,
			w: 90,
			h: 200,
			rect: !0
		}, "bonfire_spire-C1", 1120, 237.5, null, AreaEvent.LEFT, !1);
		var a = e.prodigy.create.sprite(960, 280, "zone-bonfire", 1 === this._zone.getState("lever1") ? "switch-off" : "switch-on");
		a.anchor.set(.5, 0), a.scale.x = -1, t.content.add(a), this.addClickableEvent(e, t, 920, 280, 80, 80, this._zone.util.toggleLever.bind(this._zone.util, t, 0, a), null, 0)
	}
}), Prodigy.Bonfire_Spire_D2 = function (e, t) {
	Prodigy.Map.call(this, e, "D2", "Secret Spot", 180, 292.5, ["bonfire_spire-C1"], t)
}, Prodigy.extends(Prodigy.Bonfire_Spire_D2, Prodigy.Map, {
	constructor: Prodigy.Bonfire_Spire_D2,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 60,
			y: 255,
			w: 120,
			h: 240,
			rect: !0
		}, "bonfire_spire-C1", 1145, 657.5, null, AreaEvent.LEFT, !1);
		var a = {
				opponent: [{
					data: {
						level: 60
					},
					appearance: {
						name: "Mary Fire",
						gender: "female",
						hairStyle: 1,
						hairColor: 2,
						skinColor: 3,
						eyeColor: 4
					},
					equipment: {
						hat: 9,
						outfit: 10,
						weapon: 9
					}
				}],
				pets: [{
					ID: 7,
					level: 57
				}, {
					ID: 23,
					level: 58
				}, {
					ID: 63,
					level: 60
				}]
			},
			s = this.addWizard(e, t, 640, 360, "wizard1", a);
		s.flip(), this.addChest(e, t, "chest2", 720, 360, [{
			type: "hat",
			ID: 34
		}])
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	}
}), Prodigy.Bonfire_Spire_D3 = function (e, t) {
	Prodigy.Map.call(this, e, "D3", "Lake Lava", 180, 377.5, ["bonfire_spire-C3"], t)
}, Prodigy.extends(Prodigy.Bonfire_Spire_D3, Prodigy.Map, {
	constructor: Prodigy.Bonfire_Spire_D3,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i);
		var a = [{
			x: 400,
			y: 600,
			delay: 500
		}, {
			x: 440,
			y: 610,
			delay: 700
		}, {
			x: 365,
			y: 615,
			delay: 0
		}];
		Util.isDefined(this._zone.getState("lever2")) || this._zone.util.addBubbles(t, a), this.addAreaEvent(e, t, {
			x: 60,
			y: 340,
			w: 120,
			h: 280,
			rect: !0
		}, "bonfire_spire-C3", 1100, 515, null, AreaEvent.LEFT, !1);
		var s = {
				opponent: [{
					data: {
						level: 70
					},
					appearance: {
						name: "Blaze",
						gender: "male",
						hairStyle: 2,
						hairColor: 3,
						skinColor: 4,
						eyeColor: 5
					},
					equipment: {
						hat: 11,
						outfit: 8,
						weapon: 22
					}
				}],
				pets: [{
					ID: 27,
					level: 57
				}, {
					ID: 45,
					level: 58
				}, {
					ID: 39,
					level: 60
				}]
			},
			r = this.addWizard(e, t, 920, 360, "wizard2", s);
		r.flip(), this.addChest(e, t, "chest3", 1e3, 360, [{
			type: "outfit",
			ID: 27
		}])
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	}
}), Prodigy.Bonfire_Spire_D4 = function (e, t) {
	Prodigy.Map.call(this, e, "D4", "Outer Slimeburbia", 220, 467.5, ["bonfire_spire-C4"], t.concat(["zone-lamplight"]))
}, Prodigy.extends(Prodigy.Bonfire_Spire_D4, Prodigy.Map, {
	constructor: Prodigy.Bonfire_Spire_D4,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addFlames(e, t), this.addAreaEvent(e, t, {
			x: 70,
			y: 390,
			w: 160,
			h: 200,
			rect: !0
		}, "bonfire_spire-C4", 1120, 367.5, null, AreaEvent.LEFT, !1);
		var a = e.prodigy.create.sprite(920, 360, "zone-bonfire", 1 === this._zone.getState("lever3") ? "switch-off" : "switch-on");
		a.anchor.set(.5, 0), a.scale.x = -1, t.content.add(a), this.addClickableEvent(e, t, 880, 360, 80, 80, this._zone.util.toggleLever.bind(this._zone.util, t, 2, a), null, 0)
	},
	addFlames: function (e, t) {
		var i = t.content.add(e.prodigy.create.sprite(280, 60, "zone-lamplight", "fire1"));
		i.anchor.setTo(.5, 1), i.animations.add("flicker", ["fire1", "fire2", "fire3", "fire4"], 10, !0, !1), i.animations.play("flicker");
		var a = t.content.add(e.prodigy.create.sprite(920, 60, "zone-lamplight", "fire1"));
		a.anchor.setTo(.5, 1), a.animations.add("flicker", ["fire1", "fire2", "fire3", "fire4"], 10, !0, !1), a.animations.play("flicker")
	}
}), Prodigy.Bonfire_Spire_D5 = function (e, t) {
	Prodigy.Map.call(this, e, "D5", "Throne Room", 260, 600, ["bonfire_spire-E6", "bonfire_spire-C6"], t.concat(["npc-sprite-slurpy", "npc-sprite-slime_queen", "npc-sprite-slime_guard", "npc-sprite-cebollini", "npc-sprite-worker-slime"]))
}, Prodigy.extends(Prodigy.Bonfire_Spire_D5, Prodigy.Map, {
	constructor: Prodigy.Bonfire_Spire_D5,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1230,
			y: 500,
			w: 100,
			h: 300,
			rect: !0
		}, "bonfire_spire-E6", 260, 617.5, null, AreaEvent.RIGHT, !1), this.addAreaEvent(e, t, {
			x: 65,
			y: 695,
			r: 160
		}, "bonfire_spire-C6", 900, 355, null, AreaEvent.DOWN_LEFT, !1);
		var a = this.addNPC(e, t, 610, 530, "npc-sprite-slime_guard", this.talkToGuard.bind(this, e), "Guard Slime");
		a.animate();
		var s = this.addNPC(e, t, 660, 270, "npc-sprite-slime_queen", this.talkToQueen.bind(this, e), "Queen Goo-lia");
		s.animate(), this.addHealStone(e, t, 240, 495)
	},
	talkToGuard: function (e) {
		var t = e.prodigy.event.create();
		t.text(5, "slime_guard"), t.start()
	},
	talkToQueen: function (e) {
		var t = e.prodigy.event.create();
		t.text(10, "slime_queen"), t.text(), t.text(5, "slime_guard"), t.start()
	}
}), Prodigy.Bonfire_Spire_D6 = function (e, t) {
	Prodigy.Map.call(this, e, "D6", "Garden Getaway", 330, 510, ["bonfire_spire-C6"], t.concat(["zone-lamplight", "npc-sprite-cebollini"]))
}, Prodigy.extends(Prodigy.Bonfire_Spire_D6, Prodigy.Map, {
	constructor: Prodigy.Bonfire_Spire_D6,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addFlames(e, t), this.addAreaEvent(e, t, {
			x: 110,
			y: 530,
			w: 220,
			h: 210,
			rect: !0
		}, "bonfire_spire-C6", 1080, 557.5, null, AreaEvent.LEFT, !1);
		var a = {
			randDir: !0,
			encounter: [{
				ID: 37
			}, {
				ID: 38
			}, {
				ID: 94
			}]
		};
		this.addMonster(e, t, 1, 430, 275, !1, a), this.addMonster(e, t, 2, 770, 500, !1, a)
	},
	addFlames: function (e, t) {
		var i = t.content.add(e.prodigy.create.sprite(800, 100, "zone-lamplight", "fire1"));
		i.anchor.setTo(.5, 1), i.animations.add("flicker", ["fire1", "fire2", "fire3", "fire4"], 10, !0, !1), i.animations.play("flicker")
	}
}), Prodigy.Bonfire_Spire_E5 = function (e, t) {
	Prodigy.Map.call(this, e, "E5", "Volcano Escape", 115, 510, ["bonfire_spire-E6"], t.concat(["zone-lamplight"]))
}, Prodigy.extends(Prodigy.Bonfire_Spire_E5, Prodigy.Map, {
	constructor: Prodigy.Bonfire_Spire_E5,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addFlames(e, t), this.addAreaEvent(e, t, {
			x: 120,
			y: 635,
			w: 160,
			h: 170,
			rect: !0
		}, "bonfire_spire-E6", 1160, 162.5, null, AreaEvent.DOWN, !1), this.addChest(e, t, "chest6", 210, 345, [{
			type: "gold",
			N: 200
		}])
	},
	addFlames: function (e, t) {
		var i = t.content.add(e.prodigy.create.sprite(500, 250, "zone-lamplight", "fire1"));
		i.anchor.setTo(.5, 1), i.animations.add("flicker", ["fire1", "fire2", "fire3", "fire4"], 10, !0, !1), i.animations.play("flicker");
		var a = t.content.add(e.prodigy.create.sprite(780, 250, "zone-lamplight", "fire1"));
		a.anchor.setTo(.5, 1), a.animations.add("flicker", ["fire1", "fire2", "fire3", "fire4"], 10, !0, !1), a.animations.play("flicker")
	}
}), Prodigy.Bonfire_Spire_E6 = function (e, t) {
	Prodigy.Map.call(this, e, "E6", "Royal Kitchen", 260, 647.5, ["bonfire_spire-E5", "bonfire_spire-D5"], t.concat(["npc-sprite-cebollini"]))
}, Prodigy.extends(Prodigy.Bonfire_Spire_E6, Prodigy.Map, {
	constructor: Prodigy.Bonfire_Spire_E6,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1160,
			y: 60,
			w: 160,
			h: 130,
			rect: !0
		}, "bonfire_spire-E5", 120, 512.5, null, AreaEvent.UP, !1), this.addAreaEvent(e, t, {
			x: 70,
			y: 580,
			w: 200,
			h: 170,
			rect: !0
		}, "bonfire_spire-D5", 1120, 537.5, null, AreaEvent.LEFT, !1);
		var a = {
			randDir: !0,
			encounter: [{
				ID: 37,
				R: 1
			}, {
				ID: 38,
				R: 1
			}, {
				ID: 94,
				R: 1
			}, {
				ID: 97,
				R: 57
			}]
		};
		this.addMonster(e, t, 1, 400, 430, !1, a), this.addMonster(e, t, 2, 940, 330, !1, a)
	}
}), Prodigy.Bonfire_Spire_Q1 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 1, "Pull the Lever", {
		type: "seq",
		N: 1
	}, ["bonfire_spire-D1"], [2, 3, 4, 5], [], [0], [{
		type: "gold",
		N: 200
	}])
}, Prodigy.extends(Prodigy.Bonfire_Spire_Q1, Prodigy.Quest, {
	constructor: Prodigy.Bonfire_Spire_Q1,
	process: function (e, t, i) {
		Prodigy.Quest.prototype.process.call(this, e, t, i), this.zone.isQuestComplete(1) || (this.zone.util.processLeverRequirements(t, i, [1, null, null]), this.zone.util.processLeverQuest(t, 1))
	}
}), Prodigy.Bonfire_Spire_Q2 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 2, "Pull the Lever", {
		type: "seq",
		N: 1
	}, ["bonfire_spire-C2"], [6, 7], [], [0], [{
		type: "gold",
		N: 200
	}])
}, Prodigy.extends(Prodigy.Bonfire_Spire_Q2, Prodigy.Quest, {
	constructor: Prodigy.Bonfire_Spire_Q2,
	process: function (e, t, i) {
		Prodigy.Quest.prototype.process.call(this, e, t, i), this.zone.isQuestComplete(2) || (this.zone.util.processLeverRequirements(t, i, [1, 1, null]), this.zone.util.processLeverQuest(t, 2))
	}
}), Prodigy.Bonfire_Spire_Q3 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 3, "Pull the Lever", {
		type: "seq",
		N: 1
	}, ["bonfire_spire-D4"], [8, 9], [], [0], [{
		type: "gold",
		N: 200
	}, {
		type: "hat",
		ID: 65
	}])
}, Prodigy.extends(Prodigy.Bonfire_Spire_Q3, Prodigy.Quest, {
	constructor: Prodigy.Bonfire_Spire_Q3,
	process: function (e, t, i) {
		Prodigy.Quest.prototype.process.call(this, e, t, i), this.zone.isQuestComplete(3) || (this.zone.util.processLeverRequirements(t, i, [1, 1, 1]), this.zone.util.processLeverQuest(t, 3))
	}
}), Prodigy.Bonfire_Spire_Q4 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 4, "", {
		type: "item",
		ID: 88,
		N: 1,
		K: !0
	}, ["bonfire_spire-C3"], [10, 11, 12], [], [0], [{
		type: "gold",
		N: 200
	}])
}, Prodigy.extends(Prodigy.Bonfire_Spire_Q4, Prodigy.Quest, {
	constructor: Prodigy.Bonfire_Spire_Q4,
	setup: function (e, t, i) {
		Prodigy.Quest.prototype.setup.call(this, e, t, i), "C3" === i.getTag() && i.addCollect(e, t, 0, 775, 300, {
			type: "item",
			ID: 88
		})
	},
	process: function (e, t, i) {
		Prodigy.Quest.prototype.process.call(this, e, t, i)
	}
}), Prodigy.Bonfire_Spire_Q5 = function (e, t) {
	Prodigy.Quest.call(this, e, t.concat(["sfx-bonfire-spire-q5"]), 5, "Add Ingredient", {
		type: "seq",
		N: 1
	}, ["bonfire_spire-E6"], [13, 14], [], [0, 1], [{
		type: "spell",
		ID: 1
	}])
}, Prodigy.extends(Prodigy.Bonfire_Spire_Q5, Prodigy.Quest, {
	constructor: Prodigy.Bonfire_Spire_Q5,
	setup: function (e, t, i) {
		return Prodigy.Quest.prototype.setup.call(this, e, t, i), "E6" !== i.getTag() || this.zone.isQuestComplete(5) ? void 0 : (this.food = t.foreground.add(e.prodigy.create.sprite(450, 220, "icons", "item/88")), this.food.visible = !1, this.cebollini = i.addConstructedNPC(e, t, 580, 370, "npc-sprite-cebollini", null, "Cebollini"), this.cebollini2 = i.addConstructedNPC(e, t, this.cebollini.x, this.cebollini.y, "npc-sprite-cebollini", null, "Cebollini"), this.cebollini2.visible = !1, this.caught = !1, this.foodPlaced = !1, this.hover = !1, this.target = t.content.add(e.prodigy.create.sprite(490, 150, "zone-bonfire", "pot1")), this.target.inputEnabled = !0, this.target.events.onInputDown.add(this.potClick.bind(this, e, t, i)), this.visionCone = t.background.add(e.prodigy.create.sprite(this.cebollini.x, this.cebollini.y - 25, "zone-bonfire", "visioncone")), this.visionCone.anchor.setTo(.5, .5), this.button = t.content.add(e.prodigy.create.sprite(t.user.x - 40, t.user.y - 180, "icons", "icon-base-active")), this.button.inputEnabled = !0, this.button.events.onInputDown.add(this.hideButtonClick.bind(this, e, t), this), this.button_icon = t.content.add(e.prodigy.create.sprite(t.user.x - 40, t.user.y - 180, "zone-bonfire", "cauldron-icon")), this.button.events.onInputOver.add(this.onOver, this), this.button.events.onInputOut.add(this.onOut, this), this.pot = t.content.add(e.prodigy.create.sprite(t.user.x, t.user.y, "zone-bonfire", "cauldron")), this.pot.anchor.setTo(.5, 1), this.pot.visible = !1, this.element = e.prodigy.create.element(t.foreground, 505, 135), this.element.highlight(!0), {
			enableMonsters: !1
		})
	},
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this, e, t, i), "E6" !== i.getTag() || this.zone.isQuestComplete(5) || (this.tutorial(e), this.pathCebollini(e, t, i))
	},
	update: function (e, t, i) {
		if ("E6" === i.getTag())
			if (this.zone.isQuestComplete(5)) Util.isDefined(this.visionCone) && (this.visionCone.visible = !1, delete this.visionCone, Util.isDefined(this.button) && this.button.destroy(), Util.isDefined(this.button_icon) && this.button_icon.destroy());
			else {
				this.button.x = t.user.x - 40, this.button.y = t.user.y - 180, this.button_icon.y = this.hover === !0 ? t.user.y - 180 + 15 - 3 : t.user.y - 180 + 15, this.button_icon.x = t.user.x - 40 + 12, this.caught ? this.visionCone.visible = !1 : (this.visionCone.visible = !0, this.visionCone.x = this.cebollini.x, this.visionCone.y = this.cebollini.y - 25), (this.pot.x !== t.user.x || this.pot.y !== t.user.y) && (this.pot.visible = !1, this.button.visible = !0, this.button_icon.visible = !0, t.user.visible = !0, this.pot.x = t.user.x, this.pot.y = t.user.y);
				var a = (t.user.x - (this.cebollini.x - 5)) * (t.user.x - (this.cebollini.x - 5)) + (t.user.y - (this.cebollini.y - 25)) * (t.user.y - (this.cebollini.y - 25));
				if (this.caught && (this.foodPlaced === !1 && (this.cebollini.visible = !1, this.cebollini2.visible === !1 && (this.cebollini2.scale.x = this.cebollini.scale.x, this.cebollini2.x = this.cebollini.x, this.cebollini2.y = this.cebollini.y, this.cebollini2.visible = !0)), this.visionCone.visible = !1), 22500 > a && !this.pot.visible) {
					var s = e.prodigy.event.create();
					this.caught || (this.caught = !0, this.foodPlaced || (s.enableInput(!1), s.validPath(t.user, t.path, t.user.x, t.user.y), s.enableInput(!0), s.text(0, "cebollini"), s.function(e.prodigy.world.teleport.bind(e.prodigy.world, "bonfire_spire-E6")))), s.start()
				}
			}
	},
	onOver: function () {
		this.hover = !0
	},
	onOut: function () {
		this.hover = !1
	},
	tutorial: function (e) {
		if (!Util.isDefined(this.zone.getState("minigametut"))) {
			this.zone.setState("minigametut", 1);
			var t = e.prodigy.event.create();
			t.text(112, "noot"), t.text(113, "noot"), t.text(114, "noot"), t.text(115, "noot"), t.text(116, "noot"), t.start()
		}
	},
	process: function (e, t, i) {
		Prodigy.Quest.prototype.process.call(this, e, t, i)
	},
	hideButtonClick: function (e, t) {
		var i = e.prodigy.event.create();
		i.validPath(t.user, t.path, t.user.x, t.user.y), i.delay(50), i.function(e.prodigy.audio.playSFX.bind(e.prodigy.audio, Prodigy.Controller.AudioController.SFX_PACKS.UI, "pop")), i.set(this.pot, "visible", !0), i.set(t.user, "visible", !1), i.set(this.button, "visible", !1), i.set(this.button_icon, "visible", !1), i.start()
	},
	pathCebollini: function () {
		this.zone.util.patrol(this.cebollini, [{
			x: 630,
			y: 260
		}, {
			x: 390,
			y: 400
		}, {
			x: 640,
			y: 450
		}, {
			x: 500,
			y: 300
		}, {
			x: 430,
			y: 490
		}, {
			x: 350,
			y: 300
		}], .5)
	},
	potClick: function (e, t, i) {
		if (!this.foodPlaced) {
			var a = e.prodigy.event.create();
			a.validPath(t.user, t.path, 479, 230), a.validPath(t.user, t.path, 480, 230), a.enableInput(!1), a.set(this.food, "visible", !0), a.set(this, "foodPlaced", !0), a.set(this.button, "visible", !1), a.set(this.button_icon, "visible", !1), a.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, this.food, "50", "-200", "+100", 2e3, !0, !0)), a.function(this.element.highlight.bind(this.element, !1)), a.delay(2e3), a.sound(Prodigy.Controller.AudioController.SFX_PACKS.BONFIRE_SPIRE_Q5, "plop"), a.sound(Prodigy.Controller.AudioController.SFX_PACKS.BONFIRE_SPIRE_Q5, "cooking"), a.enableInput(!0), a.function(e.prodigy.player.backpack.consume.bind(e.prodigy.player.backpack, "item", 88, 1)), a.function(this.zone.completeSequence.bind(i._zone, 5, 0)), a.function(t.process.bind(t)), a.start()
		}
	}
}), Prodigy.Bonfire_Spire_Q6 = function (e, t) {
	Prodigy.Quest.call(this, e, t.concat("sfx-bonfire-spire-q6-and-q14"), 6, "Attend Dinner", {
		type: "seq",
		N: 1
	}, ["bonfire_spire-D5"], [15, 16], [], [0], [{
		type: "gold",
		N: 200
	}])
}, Prodigy.extends(Prodigy.Bonfire_Spire_Q6, Prodigy.Quest, {
	constructor: Prodigy.Bonfire_Spire_Q6,
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this, e, t, i), "D5" === i.getTag() && this.zone.isOnSequence(6, 0) && this.cutscene(e, t, i)
	},
	process: function (e, t, i) {
		Prodigy.Quest.prototype.process.call(this, e, t, i)
	},
	cutscene: function (e, t, i) {
		var a = t.foreground.add(e.prodigy.create.sprite(690, 250, "zone-bonfire", "food"));
		a.visible = !1;
		var s = i.addConstructedNPC(e, t, 720, 510, "npc-sprite-worker-slime-red", null, "Worker Slime"),
			r = i.addConstructedNPC(e, t, 580, 370, "npc-sprite-cebollini", null, "Cebollini", t.foreground),
			o = e.prodigy.event.create();
		o.text(0, "slime_guard"), o.enableInput(!1), o.path(s, [{
			x: 730,
			y: 350
		}], 1, !0), o.delay(1e3), o.enableInput(!0), o.text(0, "slime_queen"), o.text(1, "cebollini"), o.enableInput(!1), o.set(a, "visible", !0), o.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, a, "-80", "-200", "+100", 2e3, !0, !0)), o.delay(2e3), o.sound(Prodigy.Controller.AudioController.SFX_PACKS.BONFIRE_SPIRE_Q6_AND_Q14, "eating"), o.delay(2e3), o.enableInput(!0), o.text(1, "slime_queen"), o.text(2, "slime_queen"), o.enableInput(!1), o.set(a, "alpha", 1), o.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, a, "-90", "-100", "+200", 2e3, !0, !0)), o.delay(2e3), o.enableInput(!0), o.text(2, "cebollini"), o.text(), o.text(3, "slime_queen"), o.text(4, "slime_queen"), o.text(), o.text(3, "cebollini"), o.enableInput(!1), o.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "+100", "-100", "+200", 1e3, !1, !0), !0), o.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "+100", "-100", "+200", 1e3, !1, !0), !0), o.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "+150", "-100", "+150", 1e3, !1, !0), !0), o.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "+200", "-200", "+100", 1e3, !1, !0), !0), o.enableInput(!0), o.text(4, "cebollini"), o.enableInput(!1), o.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "+200", "-200", "+100", 1e3, !1, !0), !0), o.enableInput(!0), o.text(103, "noot"), o.function(this.zone.completeSequence.bind(i._zone, 6, 0)), o.function(t.process.bind(t)), o.start()
	}
}), Prodigy.Bonfire_Spire_Q7 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 7, "", {
		type: "item",
		ID: 89,
		N: 3
	}, ["bonfire_spire-D1", "bonfire_spire-C2", "bonfire_spire-D4"], [17, 18, 19, 20, 21], [], [0], [{
		type: "gold",
		N: 200
	}, {
		type: "outfit",
		ID: 56
	}])
}, Prodigy.extends(Prodigy.Bonfire_Spire_Q7, Prodigy.Quest, {
	constructor: Prodigy.Bonfire_Spire_Q7,
	setup: function (e, t, i) {
		Prodigy.Quest.prototype.setup.call(this, e, t, i);
		var a = i.getTag();
		"D1" === a ? i.addCollect(e, t, 0, 640, 480, {
			type: "item",
			ID: 89
		}, "D1") : "C2" === a ? i.addCollect(e, t, 1, 830, 225, {
			type: "item",
			ID: 89
		}, "C2") : "D4" === a && i.addCollect(e, t, 2, 640, 360, {
			type: "item",
			ID: 89
		}, "D4")
	},
	process: function (e, t, i) {
		Prodigy.Quest.prototype.process.call(this, e, t, i)
	}
}), Prodigy.Bonfire_Spire_Q8 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 8, "Talk to Guards", {
		type: "seq",
		N: 1
	}, ["bonfire_spire-C6"], [22, 23, 24], [], [0], [{
		type: "gold",
		N: 200
	}])
}, Prodigy.extends(Prodigy.Bonfire_Spire_Q8, Prodigy.Quest, {
	constructor: Prodigy.Bonfire_Spire_Q8,
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this, e, t, i), "C6" === i.getTag() && this.zone.isOnSequence(8, 0) && this.cutscene(e, t, i)
	},
	process: function (e, t, i) {
		Prodigy.Quest.prototype.process.call(this, e, t, i)
	},
	cutscene: function (e, t, i) {
		var a = e.prodigy.event.create(),
			s = i.addNPC(e, t, 350, 300, "npc-sprite-slime_guard", null, "Hank"),
			r = i.addNPC(e, t, 570, 510, "npc-sprite-slime_guard", null, "Mike");
		s.animate(), r.animate(), a.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, s, "0", "-20", "+20", 200, !1, !0), !0), a.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, s, "0", "-20", "+20", 200, !1, !0)), a.text(1, "slime_guard"), a.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "0", "-20", "+20", 200, !1, !0), !0), a.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "0", "-20", "+20", 200, !1, !0)), a.text(2, "slime_guard"), a.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, s, "0", "-20", "+20", 200, !1, !0), !0), a.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, s, "0", "-20", "+20", 200, !1, !0)), a.text(3, "slime_guard"), a.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "0", "-20", "+20", 200, !1, !0), !0), a.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "0", "-20", "+20", 200, !1, !0)), a.text(4, "slime_guard"), a.function(this.zone.completeSequence.bind(i._zone, 8, 0)), a.function(t.process.bind(t)), a.start()
	}
}), Prodigy.Bonfire_Spire_Q9 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 9, "Save Gatherers", {
		type: "item",
		ID: 90,
		N: 2
	}, ["bonfire_spire-A4"], [25, 26], [], [0], [{
		type: "gold",
		N: 200
	}, {
		type: "item",
		ID: 91,
		N: 1
	}])
}, Prodigy.extends(Prodigy.Bonfire_Spire_Q9, Prodigy.Quest, {
	constructor: Prodigy.Bonfire_Spire_Q9,
	setup: function (e, t, i) {
		Prodigy.Quest.prototype.setup.call(this, e, t, i), this.npc = [];
		var a = {
			randDir: !0,
			encounter: [{
				ID: 48
			}]
		};
		if ("A4" === i.getTag()) {
			if (this.npc.push(i.addConstructedNPC(e, t, 250, 175, "npc-sprite-worker-slime", this.interactSlime.bind(this, e, t, 0), "Worker Slime")), this.zone.getState("turnip1")) this.npc[0].radish.destroy(), this.npc[0].idle();
			else {
				this.npc[0].highlight(!0, 40, -40); {
					i.addMonster(e, t, 3, 170, 150, !0, a)
				}
			}
			if (this.npc.push(i.addConstructedNPC(e, t, 400, 500, "npc-sprite-worker-slime", this.interactSlime.bind(this, e, t, 1), "Worker Slime")), this.zone.getState("turnip2")) this.npc[1].radish.destroy(), this.npc[1].idle();
			else {
				this.npc[1].highlight(!0, 40, -40); {
					i.addMonster(e, t, 4, 400, 400, !0, a)
				}
			}
		}
	},
	start: function (e, t, i) {
		"A4" === i.getTag() && this.zone.isOnSequence(9, 0) && (this.zone.completeSequence(9, 0), this.cutscene(e, t))
	},
	process: function (e, t, i) {
		Prodigy.Quest.prototype.process.call(this, e, t, i)
	},
	cutscene: function (e) {
		var t = e.prodigy.event.create();
		t.text(0, "slime_worker"), t.start()
	},
	interactSlime: function (e, t, i) {
		if (!this.zone.getState(0 === i ? "turnip1" : "turnip2")) {
			var a = e.prodigy.event.create();
			a.validPath(t.user, t.path, this.npc[i].x + 80 + 1, this.npc[i].y), a.validPath(t.user, t.path, this.npc[i].x + 80, this.npc[i].y), a.function(this.zone.setState.bind(this.zone, 0 === i ? "turnip1" : "turnip2", 1)), a.text(1, "slime_worker"), a.function(this.npc[i].highlight.bind(this.npc[i], !1)), a.function(this.npc[i].radish.destroy.bind(this.npc[i].radish)), a.function(this.npc[i].idle.bind(this.npc[i])), a.function(e.prodigy.open.gotItem.bind(e.prodigy.open, [{
				type: "item",
				ID: 90,
				N: 1
			}], t.process.bind(t))), a.start()
		}
	}
}), Prodigy.Bonfire_Spire_Q10 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 10, "Offer the Dish", {
		type: "seq",
		N: 1
	}, ["bonfire_spire-C6"], [27, 28], [], [0], [{
		type: "gold",
		N: 200
	}])
}, Prodigy.extends(Prodigy.Bonfire_Spire_Q10, Prodigy.Quest, {
	constructor: Prodigy.Bonfire_Spire_Q10,
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this, e, t, i), "C6" === i.getTag() && this.zone.isOnSequence(10, 0) && this.cutscene(e, t, i)
	},
	process: function (e, t, i) {
		Prodigy.Quest.prototype.process.call(this, e, t, i)
	},
	cutscene: function (e, t, i) {
		var a = i.addConstructedNPC(e, t, 905, 260, "npc-sprite-cebollini", null, "Cebollini");
		a.visible = !1;
		var s = e.prodigy.event.create();
		s.enableInput(!1), s.set(t.user, "evtProc", !0), s.validPath(t.user, t.path, 650, 420), s.enableInput(!0), s.text(5, "cebollini"), s.set(a, "visible", !0), s.text(6, "cebollini"), s.text(7, "cebollini"), s.enableInput(!1), s.validPath(a, t.path, 650, 420), s.function(e.prodigy.player.backpack.consume.bind(e.prodigy.player.backpack, "item", 91, 1)), s.path(a, [{
			x: 1280,
			y: 510
		}]), s.set(a, "visible", !1), s.enableInput(!0), s.text(104, "noot"), s.text(105, "noot"), s.text(106, "noot"), s.function(this.zone.completeSequence.bind(i._zone, 10, 0)), s.function(t.process.bind(t)), s.set(t.user, "evtProc", !1), s.start()
	}
}), Prodigy.Bonfire_Spire_Q11 = function (e, t) {
	Prodigy.Quest.call(this, e, t.concat("npc-sprite-noot"), 11, "Find the Key", {
		type: "item",
		ID: 92,
		N: 1,
		K: 1
	}, ["bonfire_spire-C4"], [29, 30, 31, 32, 33, 34], [], [0, 1], [{
		type: "spell",
		ID: 2
	}])
}, Prodigy.extends(Prodigy.Bonfire_Spire_Q11, Prodigy.Quest, {
	constructor: Prodigy.Bonfire_Spire_Q11,
	setup: function (e, t, i) {
		Prodigy.Quest.prototype.setup.call(this, e, t, i);
		var a = {
				randDir: !0,
				encounter: [{
					ID: 75,
					drops: [{
						type: "item",
						ID: 92,
						R: .25
					}]
				}]
			},
			s = i.getTag();
		if ("C4" === s && !this.zone.isQuestComplete(11)) return i.addMonster(e, t, 1, 520, 540, !1, a, !0), i.addMonster(e, t, 2, 720, 260, !1, a, !0), {
			enableMonsters: !1
		};
		if ("A4" === s) {
			var r = function (e) {
				var t = e.prodigy.event.create();
				t.text(111, "noot"), t.start()
			};
			return this.sprite = t.content.add(e.prodigy.create.sprite(758, 153, "tileset-core", "chest-B-1")), this.sprite.inputEnabled = !0, this.sprite.events.onInputDown.add(r.bind(this, e), this), {
				enableChests: !1
			}
		}
	},
	process: function (e, t, i) {
		Prodigy.Quest.prototype.process.call(this, e, t, i)
	}
}), Prodigy.Bonfire_Spire_Q12 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 12, "Unlock the Chest", {
		type: "key",
		ID: 12,
		N: 1
	}, ["bonfire_spire-A4"], [35, 36, 37], [], [0], [{
		type: "gold",
		N: 200
	}])
}, Prodigy.extends(Prodigy.Bonfire_Spire_Q12, Prodigy.Quest, {
	constructor: Prodigy.Bonfire_Spire_Q12,
	setup: function (e, t, i) {
		Prodigy.Quest.prototype.setup.call(this, e, t, i);
		var a = i.getTag();
		return "A4" === a && this.zone.isOnQuest(12) ? (this.zone.isOnSequence(12, 0) ? (this.sprite = t.content.add(e.prodigy.create.sprite(800, 225, "tileset-core", "chest-B-1")), this.sprite.inputEnabled = !0, this.sprite.events.onInputDown.add(this.openTheChest.bind(this, e, t, i), this), this.sprite.anchor.setTo(.5, 1), this.chestElement = e.prodigy.create.element(t.foreground, 745, 135), Util.isDefined(this.chestElement) && (this.chestElement.highlight(!0), this.chestElement.visible = !0)) : this.zone.isOnSequence(12, 1) && i.addChest(e, t, "chestGuardian", 800, 225, [{
			type: "key",
			ID: 12
		}], {
			type: "item",
			ID: 92
		}), {
			enableChests: !1
		}) : void 0
	},
	process: function (e, t, i) {
		Prodigy.Quest.prototype.process.call(this, e, t, i)
	},
	openTheChest: function (e, t, i) {
		var a = {
			randDir: !1,
			encounter: [{
				ID: 65
			}]
		};
		this.guardian = i.addMonster(e, t, 0, 725, 250, !1, a), this.guardian.visible = !1, this.guardian.alpha = 0;
		var s = e.prodigy.event.create();
		s.validPath(t.user, t.path, 800, 250), s.enableInput(!1), s.set(t.user, "evtProc", !0);
		var r = function (e) {
			this.guardian.visible = !0, e.add.tween(this.guardian).to({
				alpha: 1
			}, 1e3, Phaser.Easing.Linear.None).start()
		};
		s.set(this.guardian, "alpha", 0), s.function(r.bind(this, e)), s.delay(2e3), s.enableInput(!0), s.function(this.fightTheGuardian.bind(this, e, i)), s.set(t.user, "evtProc", !1), s.start()
	},
	fightTheGuardian: function (e) {
		var t = {
			intro: "Defeat the Guardian!",
			"catch": !1,
			run: !1,
			screen: "bg-battle-volcano",
			pets: [{
				ID: 65,
				nickname: "Guardian"
			}]
		};
		e.prodigy.battle.start(t, null, this.defeatedTheGuardian.bind(this, e), null, this.zone.onFaint)
	},
	defeatedTheGuardian: function (e) {
		this.zone.completeSequence(12, 0), e.prodigy.world.teleport("bonfire_spire-A4", 800, 270)
	}
}), Prodigy.Bonfire_Spire_Q13 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 13, "Defeat the Chef!", {
		type: "seq",
		N: 2
	}, ["bonfire_spire-D6"], [38, 39, 40], [], [0], [{
		type: "gold",
		N: 200
	}, {
		type: "weapon",
		ID: 81
	}])
}, Prodigy.extends(Prodigy.Bonfire_Spire_Q13, Prodigy.Quest, {
	constructor: Prodigy.Bonfire_Spire_Q13,
	setup: function (e, t, i) {
		return Prodigy.Quest.prototype.setup.call(this, e, t, i), "D6" === i.getTag() ? (this.boss = i.addConstructedNPC(e, t, 850, 470, "npc-sprite-cebollini", this.chatWithCebollini.bind(this, e), "Cebollini"), this.boss.flip(), {
			enableMonsters: !1
		}) : void 0
	},
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this, e, t, i), "D6" === i.getTag() && this.zone.isOnSequence(13, 0) ? this.bossBattle(e, t, i) : "D6" === i.getTag() && this.zone.isOnSequence(13, 1) && this.postBattle(e, t, i)
	},
	process: function (e, t, i) {
		Prodigy.Quest.prototype.process.call(this, e, t, i)
	},
	bossBattle: function (e, t, i) {
		var a = this.zone.util.getBattle(i, "Boss Battle!", {
				boss: {
					ID: 13,
					level: 80,
					element: "fire",
					attacks: [1, 2, 3, 4, 5],
					name: "Cebollini",
					starBonus: 50,
					tag: "bonfire"
				},
				drops: [{
					type: "weapon",
					ID: 16
				}],
				difficulty: 7,
				events: [{
					action: "turn",
					value: 0,
					callback: function (e, t) {
						var i = e.prodigy.dialogue.create();
						i.setText(10), i.start("cebollini", !1, t)
					}
				}]
			}, this.endBattle.bind(this, e, i)),
			s = e.prodigy.event.create();
		s.enableInput(!1), s.validPath(t.user, t.path, 399, 400), s.validPath(t.user, t.path, 400, 400), s.enableInput(!0), s.text(8, "cebollini"), s.text(9, "cebollini"), s.function(a), s.start()
	},
	endBattle: function (e) {
		var t = e.prodigy.event.create();
		t.function(this.zone.completeSequence.bind(this.zone, 13, 0)), t.function(e.prodigy.world.teleport.bind(e.prodigy.world, "bonfire_spire-D6")), t.start()
	},
	postBattle: function (e, t) {
		var i = e.prodigy.event.create();
		i.text(13, "cebollini"), i.text(14, "cebollini"), i.text(), i.text(107, "noot"), i.text(), i.text(15, "cebollini"), i.function(this.zone.completeSequence.bind(this.zone, 13, 1)), i.function(t.process.bind(t)), i.start()
	},
	chatWithCebollini: function (e) {
		var t = e.prodigy.event.create();
		t.text(14, "cebollini"), t.text(15, "cebollini"), t.start()
	}
}), Prodigy.Bonfire_Spire_Q14 = function (e, t) {
	Prodigy.Quest.call(this, e, t.concat("sfx-bonfire-spire-q6-and-q14"), 14, "Talk to Queen", {
		type: "seq",
		N: 1
	}, ["bonfire_spire-D5"], [41, 42], [], [45, 46, 1, 47], [{
		type: "spell",
		ID: 3
	}, {
		type: "key",
		ID: 11
	}])
}, Prodigy.extends(Prodigy.Bonfire_Spire_Q14, Prodigy.Quest, {
	constructor: Prodigy.Bonfire_Spire_Q14,
	start: function (e, t, i) {
		Prodigy.Quest.prototype.start.call(this, e, t, i), "D5" === i.getTag() && this.zone.isOnSequence(14, 0) && this.cutscene(e, t, i)
	},
	process: function (e, t, i) {
		Prodigy.Quest.prototype.process.call(this, e, t, i)
	},
	cutscene: function (e, t, i) {
		var a = t.foreground.add(e.prodigy.create.sprite(690, 250, "zone-bonfire", "food"));
		a.visible = !1;
		var s = i.addConstructedNPC(e, t, 720, 510, "npc-sprite-worker-slime-red", null, "Worker Slime"),
			r = i.addNPC(e, t, 580, 370, "npc-sprite-slurpy", null, "Slurpy", t.foreground),
			o = i.addConstructedNPC(e, t, 1080, 470, "npc-sprite-cebollini", null, "Cebollini");
		o.flip(), r.animate();
		var n = e.prodigy.event.create();
		n.text(108, "noot"), n.text(), n.text(5, "slime_queen"), n.text(), n.text(16, "cebollini"), n.text(), n.text(6, "slime_queen"), n.enableInput(!1), n.path(s, [{
			x: 730,
			y: 350
		}], 1, !0), n.delay(1e3), n.set(a, "visible", !0), n.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, a, "-70", "-200", "+100", 2e3, !0, !0)), n.delay(2e3), n.sound(Prodigy.Controller.AudioController.SFX_PACKS.BONFIRE_SPIRE_Q6_AND_Q14, "eating"), n.delay(2e3), n.enableInput(!0), n.text(7, "slime_queen"), n.function(o.chat.bind(o, 1, 100)), n.text(8, "slime_queen"), n.text(), n.text(43, "slurpy"), n.text(44, "slurpy"), n.enableInput(!1), n.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "+100", "-100", "+250", 1e3, !1, !0), !0), n.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "-100", "-100", "+200", 1e3, !1, !0), !0), n.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "-150", "-100", "+150", 1e3, !1, !0), !0), n.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "-250", "-150", "+150", 1e3, !1, !0), !0), n.animation(e.prodigy.animation.hop.bind(e.prodigy.animation, r, "-250", "-150", "+100", 1e3, !0, !0), !0), n.enableInput(!0), n.text(), n.text(17, "cebollini"), n.text(18, "cebollini"), n.text(), n.text(9, "slime_queen"), n.text(), n.text(19, "cebollini"), n.function(this.zone.completeSequence.bind(i._zone, 14, 0)), n.function(t.process.bind(t)), n.start()
	}
}), Prodigy.Dyno = function (e) {
	Prodigy.Zone.call(this, e), this.store = {
		name: "Sky-High Values",
		items: [{
			ID: 41,
			type: "hat"
		}, {
			ID: 67,
			type: "weapon"
		}, {
			ID: 37,
			type: "outfit"
		}, {
			ID: 15,
			type: "pet"
		}, {
			ID: 35,
			type: "pet"
		}]
	}, this.name = "Dyno", this.ID = "dyno", this.bgm = "bgm-intro", this.battleBG = "bg-battle-dino", this.onFaint = "dyno-A0", this.questHub = "dyno-A0", this.states = ["daily"];
	var t = ["tileset-generic", "tileset-outsidesnow", "tileset-collisions", "npc-sprite-wizard", "tileset-town", "zone-skywatch", "tileset-volcano"];
	this.maps = {
		A0: new Prodigy.Dyno_A0(this, t)
	}
}, Prodigy.extends(Prodigy.Dyno, Prodigy.Zone, {
	constructor: Prodigy.Dyno,
	placeDaily: function () {},
	getDailyMaps: function () {}
}), Prodigy.Dyno_A0 = function (e, t) {
	Prodigy.Map.call(this, e, "A0", "Dyno Dig Oasis", 280, 440, [], t.concat(["npc-sprite-scoog"]))
}, Prodigy.extends(Prodigy.Dyno_A0, Prodigy.Map, {
	constructor: Prodigy.Dyno_A0,
	setup: function (e, t) {
		Prodigy.Map.prototype.setup.call(this, e, t), new Prodigy.Container.QuestNPC(e, t.content, 800, 450, Prodigy.Dyno.DATA, {
			name: "Professor Scoog",
			atlas: "scoog"
		}, null, !0), this.addClickableEvent(e, t, 295, 200, 50, 80, this.toMuseum.bind(this, e, t), null, 0), this.digBtn = e.prodigy.create.element(t.content, 975, 150);
		var i = this.digBtn.add(e.prodigy.create.sprite(40, 40, "icons", "star2"));
		i.anchor.setTo(.5, .5), i.inputEnabled = !0, i.angle = -20, i.events.onInputDown.add(e.prodigy.start.bind(e.prodigy, "DinoDig"), e.state), this.digBtn.add(e.prodigy.create.sprite(0, 10, "icons", "key/1")), e.prodigy.create.font(this.digBtn, -20, 0, "Dyno Dig", {
			width: 120,
			size: 20,
			align: "center"
		}), e.add.tween(i).to({
			angle: 20
		}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0);
		var a = new Prodigy.Container.ToyMerchant(e, t.content, 160, 400);
		a.flip()
	},
	start: function (e, t) {
		Prodigy.Map.prototype.start.call(this, e, t)
	},
	toMuseum: function (e, t) {
		var i = e.prodigy.event.create();
		i.validPath(t.user, t.path, 320, 300), i.set(e.state.states.Museum, "startX", 634), i.set(e.state.states.Museum, "startY", 560), i.function(e.prodigy.start.bind(e.prodigy, "Museum")), i.start()
	}
}), Prodigy.Dyno.AUDIO = [{
	tag: "voice-9",
	s: 0,
	d: 3
}, {
	tag: "voice-9",
	s: 3,
	d: 2
}, {
	tag: "voice-9",
	s: 5,
	d: 2
}, {
	tag: "voice-9",
	s: 7,
	d: 2
}, {
	tag: "voice-9",
	s: 9,
	d: 2
}, {
	tag: "voice-9",
	s: 11,
	d: 3
}], Prodigy.Dyno.DATA = {
	ID: 6,
	tag: "dyno-A0",
	zoneName: "zone-dino",
	atlas: "zone-dino",
	fullName: "Dyno Dig Oasis",
	icon: "fossil/1",
	battle: {
		screen: "bg-battle-dino",
		encounter: [{
			ID: 105
		}, {
			ID: 106
		}, {
			ID: 107
		}, {
			ID: 108
		}, {
			ID: 109
		}, {
			ID: 110
		}, {
			ID: 111
		}, {
			ID: 112
		}]
	},
	dialogue: [{
		text: "Ponduberous! You certainly are helpful, young chap!",
		face: 1,
		audio: Prodigy.Dyno.AUDIO[1],
		anim: 2
	}, {
		text: "Let's get to it, then! Ready to help OINC?",
		face: 0,
		audio: Prodigy.Dyno.AUDIO[3]
	}, {
		text: "Well now, what have we here? A young explorer in training, perhaps?",
		face: 2,
		audio: Prodigy.Dyno.AUDIO[1]
	}, {
		text: "Oh, but where are my manners? I, my young friend, am Professor Scoog...perhaps you've heard of me?",
		face: 1,
		audio: Prodigy.Dyno.AUDIO[0]
	}, {
		text: "...no?",
		face: 3
	}, {
		text: "Hm, well that's quite alright. I am the leader of the Oasis Institute of Natural Creatures! Or, OINC, for short.",
		face: 2,
		audio: Prodigy.Dyno.AUDIO[4],
		anim: 3
	}, {
		text: "Right now we're in the middle of a very important dig, and we sure could use your help!",
		face: 1
	}, {
		text: "First, let's see what you're made of! We've been overrun by Scallys the last few days...makes it hard to dig. Go challenge a few for me, will you?",
		face: 0
	}, {
		text: "You did it, young wizard! As a token of my gratitude, take this shovel!",
		face: 1,
		audio: Prodigy.Dyno.AUDIO[1],
		anim: 2
	}, {
		text: "The shovel will allow you to help us dig for fossils! To do so, just click the spinning star nearby!",
		face: 0,
		audio: Prodigy.Dyno.AUDIO[5]
	}, {
		text: "Now then, OINC has chosen this site for its greatest quest - the search for Dynos!",
		face: 1,
		anim: 2
	}, {
		text: "Dynos are monsters that are long extinct, and have left their fossilized remains here in the oasis.",
		face: 0
	}, {
		text: "We want to learn more about them, so we work hard to dig them up!",
		face: 0
	}, {
		text: "Now that you have a shovel, you can help! Try digging for a Terrosaur bone, or challenge some monsters who carry them.",
		face: 0
	}, {
		text: "While you were away, a monster came and STOLE MY HAT! Be a dear and go fetch it for me, will you?",
		anim: 1,
		face: 2,
		audio: Prodigy.Dyno.AUDIO[2]
	}, {
		text: "THAT'S IT! Ah, my lucky hat...though truth is, I do have quite a few lucky hats...",
		anim: 2,
		face: 1,
		audio: Prodigy.Dyno.AUDIO[1]
	}, {
		text: "...",
		face: 2
	}, {
		text: "WHAT!?!?!",
		face: 3
	}, {
		text: "YOU SAW A DYNO?!?! PONDUBEROUS!",
		face: 1,
		anim: 3,
		audio: Prodigy.Dyno.AUDIO[1]
	}, {
		text: "You know what? Keep the hat! Consider yourself an honorary member of OINC!",
		anim: 4,
		face: 1
	}, {
		text: "A real dyno! Oh my...we have much to do! First, we must ensure that these Dynos are safe!",
		face: 1,
		audio: Prodigy.Dyno.AUDIO[4]
	}, {
		text: "Defeat a few fire monsters for me...fire monsters in a dry forest are BAD NEWS!",
		face: 3
	}, {
		text: "Well now, I think it is time to find our new dyno friends! First, let's see if you can track down some Terromites! Let's see how they battle!",
		face: 1,
		anim: 4
	}, {
		text: "Oh, and bring back anything they might be carrying!",
		face: 0
	}, {
		text: "OH NO! This item you brought me is an animal tag...this can only mean one thing...",
		face: 3,
		anim: 1
	}, {
		text: "This animal tag proves that someone has been mistreating these Dynos...and only one man would do such a thing...",
		face: 2
	}, {
		text: "PROFESSOR MOOG!",
		face: 3,
		anim: 4
	}, {
		text: "Moog is a despicable dastardly deviant, who believes that monsters are meant to be kept in cages. Preposterous!",
		face: 3,
		anim: 1,
		audio: Prodigy.Dyno.AUDIO[2]
	}, {
		text: "We must help the Dynos! Go out there and remove all the tags you can find!",
		face: 2
	}, {
		text: "Good work! Here's a new shovel...it will help you dig faster when looking for fossils!",
		face: 0,
		anim: 4,
		audio: Prodigy.Dyno.AUDIO[1]
	}, {
		text: "We've slowed down Moog for now, but his men are probably out there right now, capturing these Dynos...",
		face: 3,
		anim: 1,
		audio: Prodigy.Dyno.AUDIO[2]
	}, {
		text: "I have an idea! Go find Moog's men, and challenge them. Perhaps one of them will have a written copy of Moog's evil scheme.",
		face: 1,
		anim: 4
	}, {
		text: "Moog is dastardly, but he isn't the sharpest tool in the shed...",
		face: 1
	}, {
		text: "According to this novel, Moog plans to capture the Dynos and put them in some kind of dyno theme park...",
		face: 2
	}, {
		text: "...",
		face: 3
	}, {
		text: "That's not very original at all.",
		face: 3,
		audio: Prodigy.Dyno.AUDIO[4]
	}, {
		text: "Regardless, we must stop him at all costs! Go out there and find his head assistant, Spokes. If you defeat him, maybe he and his men will leave.",
		face: 0,
		anim: 4
	}, {
		text: "It looks like Spokes and his men have left...for now. But they will be back, I assure you!",
		face: 0
	}, {
		text: "For now, we have other matters. A new dyno has been stealing equipment from the dig site...see if you can bring it back.",
		face: 2
	}, {
		text: "Ponduberous! That's 3 Dynos you've found now, alive and well! Oh, how I would love to study them in their natural habitat.",
		face: 1,
		anim: 2,
		audio: Prodigy.Dyno.AUDIO[1]
	}, {
		text: "Alas, the world of science must wait. With Moog still out there, the Dynos will never be safe.",
		face: 3
	}, {
		text: "According to his novel, he next plans to steal dyno eggs. The audacity!",
		face: 3,
		anim: 1,
		audio: Prodigy.Dyno.AUDIO[2]
	}, {
		text: "We must act quickly! Go out there, face his egg collectors, and bring back the eggs!",
		face: 0
	}, {
		text: "You're doing great work, my friend! We're stopping Moog at every turn!",
		face: 1,
		anim: 2,
		audio: Prodigy.Dyno.AUDIO[1]
	}, {
		text: "But all is not well in the natural world. Some pterrotell have been attacking anyone who comes near...perhaps something has them spooked?",
		face: 2
	}, {
		text: "Find and challenge them for me...perhaps the battle will sooth these Dynos.",
		face: 0
	}, {
		text: "OH NO! It looks like one of Moog's men have captured a team of Dynos!",
		face: 3,
		anim: 2,
		audio: Prodigy.Dyno.AUDIO[2]
	}, {
		text: "You'd better defeat him and release those poor Dynos!",
		face: 3,
		anim: 4
	}, {
		text: "Enough is enough! It's time to get rid of Moog once and for all!",
		face: 3,
		anim: 2,
		audio: Prodigy.Dyno.AUDIO[2]
	}, {
		text: "I have a theory about Dynos...I believe that a large group of Dynos is run by a single dyno, which I call the Primo Dyno.",
		face: 2
	}, {
		text: "This dyno would be big! And mean! And scary! Scary enough to frighten off Moog forever!",
		face: 1
	}, {
		text: "So, I say we track down this Primo Dyno! First, you'll need to find the nest. Defeat a few Dynos, and they should lead us there.",
		face: 0
	}, {
		text: "Good! I think we know where the nest is! No sign of the Primo Dyno, so we may have to lure it back somehow...",
		face: 2
	}, {
		text: "I know! The digging equipment! The loud noises must have disrupted the Dynos...that's why they were stealing it!",
		face: 1,
		anim: 4
	}, {
		text: "I'll turn on the equipment now...you may have to defeat a few larger Dynos before the Primo Dyno gets here...",
		face: 2,
		audio: Prodigy.Dyno.AUDIO[4]
	}, {
		text: "I hear something coming! It must be the Primo Dyno!",
		face: 3,
		anim: 4,
		audio: Prodigy.Dyno.AUDIO[4]
	}, {
		text: "...what's that on his back...?",
		face: 2
	}, {
		text: "No...IT CAN'T BE!",
		face: 3,
		anim: 4
	}, {
		text: "PROFESSOR MOOG!",
		face: 3,
		anim: 2
	}, {
		text: "You did it!",
		face: 1,
		anim: 4,
		audio: Prodigy.Dyno.AUDIO[1]
	}, {
		text: "It appears that Professor Moog wasn't riding the Primo Dyno after all...he was a captive himself! Oh, the irony!",
		face: 1
	}, {
		text: "Well my friend, I don't think Moog will be bothering these Dynos anymore, and we have you to thank!",
		face: 0
	}, {
		text: "Here, take this shovel - it's the strongest one we have! As a member of OINC, keep up the digging! Who knows what you might find!",
		face: 1,
		anim: 2,
		audio: Prodigy.Dyno.AUDIO[5]
	}],
	quests: [{
		coords: [110, 0],
		name: "Welcome to OINC",
		desc: "Scallys are causing problems for OINC, challenge a few of them to help out",
		start: [2, 3, 4, 5, 6, 7],
		during: [],
		complete: [8, 9],
		encounter: [{
			ID: 81
		}],
		req: [{
			type: "pet",
			ID: 81,
			N: 2
		}],
		reward: [{
			type: "key",
			ID: 1,
			lvl: 1
		}]
	}, {
		coords: [335, 0],
		name: "Can You Dig It?",
		desc: "The Professor wants you to bring him a Terrosaur bone",
		start: [10, 11, 12, 13],
		during: [],
		complete: [0],
		encounter: [{
			ID: 31
		}, {
			ID: 29
		}, {
			nickname: "Bone-carrying Luminite",
			ID: 20,
			drops: [{
				ID: 1,
				type: "fossil",
				R: 1
			}]
		}],
		req: [{
			type: "fossil",
			ID: 1,
			N: 1
		}],
		reward: [{
			type: "gold",
			N: 250
		}]
	}, {
		coords: [225, 60],
		name: "Hats Off",
		desc: "Find the monster with the Professor's hat and defeat it",
		start: [14],
		during: [],
		mods: {
			"catch": !1
		},
		complete: [15, 16, 17, 18, 19],
		encounter: [{
			ID: 20,
			R: .4
		}, {
			ID: 29,
			R: .4
		}, {
			ID: 111,
			drops: [{
				ID: 61,
				type: "item",
				R: 1
			}],
			R: .2
		}],
		req: [{
			type: "item",
			ID: 61,
			N: 1
		}],
		reward: [{
			type: "hat",
			ID: 43
		}]
	}, {
		coords: [110, 110],
		name: "Getting Hot in Here",
		desc: "Defeat fire monsters to save the oasis from roasting",
		start: [20, 21],
		during: [],
		complete: [0],
		encounter: [{
			ID: 27,
			R: .5
		}, {
			ID: 38,
			R: .5
		}],
		req: [{
			type: "pet",
			ID: 27,
			N: 2
		}, {
			type: "pet",
			ID: 38,
			N: 2
		}],
		reward: [{
			type: "gold",
			N: 250
		}]
	}, {
		coords: [0, 75],
		name: "Learning Experience",
		desc: "Find and defeat Terromites to learn about their behaviour",
		start: [22, 23],
		during: [],
		complete: [0, 24],
		encounter: [{
			ID: 111,
			R: .5,
			drops: [{
				ID: 60,
				type: "item",
				R: .25
			}]
		}, {
			ID: 85,
			R: .25
		}, {
			ID: 69,
			R: .25
		}],
		req: [{
			type: "pet",
			ID: 111,
			N: 4
		}, {
			type: "item",
			ID: 60,
			N: 1
		}],
		reward: [{
			type: "gold",
			N: 250
		}]
	}, {
		coords: [0, 225],
		name: "TAG! You're it!",
		desc: "Collect tags from Dynos",
		start: [25, 26, 27, 28],
		during: [],
		complete: [29],
		encounter: [{
			ID: 35,
			R: .25
		}, {
			ID: 52,
			R: .25
		}, {
			ID: 111,
			R: .25,
			drops: [{
				ID: 60,
				type: "item",
				R: 1
			}]
		}, {
			ID: 105,
			R: .25,
			drops: [{
				ID: 60,
				type: "item",
				R: 1
			}]
		}],
		req: [{
			type: "item",
			ID: 60,
			N: 6
		}],
		reward: [{
			type: "key",
			ID: 1,
			lvl: 2
		}]
	}, {
		coords: [110, 300],
		name: "Moog's Evil Scheme - A Novel",
		desc: "Track down Moog's men and take a copy of his evil scheme",
		start: [30, 31, 32],
		during: [],
		complete: [0],
		encounter: [{
			nickname: "Moog's Assistant",
			ID: 70,
			R: .5,
			drops: [{
				ID: 62,
				type: "item",
				R: .2
			}]
		}, {
			ID: 55,
			R: .25
		}, {
			ID: 52,
			R: .25
		}],
		req: [{
			type: "item",
			ID: 62,
			N: 1
		}],
		reward: [{
			type: "gold",
			N: 250
		}]
	}, {
		coords: [335, 300],
		name: "Spoke Too Soon",
		desc: "Find and defeat Moog's head assistant, Spokes",
		start: [33, 34, 35, 36],
		during: [],
		complete: [0],
		encounter: [{
			ID: 71,
			R: .1,
			nickname: "Assistant Spokes"
		}, {
			ID: 105,
			R: .6
		}, {
			ID: 92,
			R: .3
		}],
		req: [{
			type: "pet",
			ID: 71,
			N: 1
		}],
		reward: [{
			type: "gold",
			N: 250
		}]
	}, {
		coords: [225, 240],
		name: "Crabwalking",
		desc: "Find the Dynos that are stealing equipment from Scoog",
		start: [37, 38],
		during: [],
		complete: [0],
		encounter: [{
			ID: 107,
			R: .5,
			drops: [{
				ID: 63,
				type: "item",
				R: 1
			}]
		}, {
			ID: 32,
			R: .25
		}, {
			ID: 19,
			R: .25
		}],
		req: [{
			type: "item",
			ID: 63,
			N: 6
		}],
		reward: [{
			type: "gold",
			N: 600
		}]
	}, {
		coords: [110, 190],
		name: "Egg Hunt",
		desc: "Collect the eggs from Moog's egg collectors",
		start: [39, 40, 41, 42],
		during: [],
		complete: [0],
		encounter: [{
			ID: 75,
			nickname: "Egg Collector",
			R: .5,
			drops: [{
				ID: 64,
				type: "item",
				R: .5
			}]
		}, {
			ID: 105,
			R: .25
		}, {
			ID: 107,
			R: .25
		}],
		req: [{
			type: "item",
			ID: 64,
			N: 5
		}],
		reward: [{
			type: "gold",
			N: 250
		}]
	}, {
		coords: [225, 150],
		name: "The Ptrouble with Pterrotells",
		desc: "Defeat pterrotells for Moog, and discover what has them so cranky",
		start: [43, 44, 45],
		during: [],
		complete: [0],
		encounter: [{
			ID: 109,
			R: .25
		}, {
			ID: 13,
			R: .25
		}, {
			ID: 18,
			R: .25
		}, {
			ID: 40,
			R: .25
		}],
		req: [{
			type: "pet",
			ID: 109,
			N: 4
		}],
		reward: [{
			type: "gold",
			N: 250
		}]
	}, {
		coords: [335, 190],
		name: "Dyno Force Four",
		desc: "Defeat Moog's henchman and his Dynos!",
		start: [46, 47],
		during: [],
		complete: [0],
		pets: [{
			ID: 91,
			nickname: "Moog's Henchman"
		}, {
			ID: 110,
			nickname: "Rocksy"
		}, {
			ID: 106,
			nickname: "Stampsy"
		}, {
			ID: 108,
			nickname: "Crabbsy"
		}],
		req: [{
			type: "boss",
			N: 1
		}],
		reward: [{
			type: "outfit",
			ID: 40
		}]
	}, {
		coords: [335, 110],
		name: "Nesting Grounds",
		desc: "Defeat different Dynos, and follow them to the nest",
		start: [48, 49, 50, 51],
		during: [],
		complete: [0],
		encounter: [{
			ID: 105,
			R: .25
		}, {
			ID: 107,
			R: .25
		}, {
			ID: 109,
			R: .25
		}, {
			ID: 111,
			R: .25
		}],
		req: [{
			type: "pet",
			ID: 105,
			N: 3
		}, {
			type: "pet",
			ID: 107,
			N: 3
		}, {
			type: "pet",
			ID: 109,
			N: 3
		}, {
			type: "pet",
			ID: 111,
			N: 3
		}],
		reward: [{
			type: "gold",
			N: 250
		}]
	}, {
		coords: [450, 75],
		name: "The Bigger They Are...",
		desc: "Defeat the incoming Dynos!",
		start: [52, 53, 54],
		during: [],
		complete: [0],
		encounter: [{
			ID: 110,
			R: .1
		}, {
			ID: 106,
			R: .2
		}, {
			ID: 109,
			R: .3
		}, {
			ID: 111,
			R: .4
		}],
		req: [{
			type: "pet",
			ID: 110,
			N: 2
		}, {
			type: "pet",
			ID: 106,
			N: 3
		}],
		reward: [{
			type: "gold",
			N: 250
		}]
	}, {
		coords: [450, 225],
		name: "Prehistoric Panic",
		desc: "It's Professor Moog and the Primo Dyno! Defeat them!",
		start: [55, 16, 56, 57],
		during: [58],
		complete: [59, 60, 61, 62],
		boss: {
			ID: 8,
			element: "wizard",
			attacks: [3, 4, 9, 11, 18, 16, 34, 33],
			name: "Primo and Moog"
		},
		req: [{
			type: "boss",
			N: 1
		}],
		reward: [{
			type: "key",
			ID: 1,
			lvl: 3
		}]
	}]
};
var Museum = function () {
	function e(t) {
		WalkableScreen.call(this, t, e.DATA, ["zone-museum"]), this.area = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0], [0, 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0], [0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0], [0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0], [0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0], [0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0], [0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0], [0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0], [0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0], [0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0], [0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]], this.noSoundButton = !0, this.startX = 640, this.startY = 545
	}
	return e.prototype = Object.create(WalkableScreen.prototype), e.prototype.create = function () {
		WalkableScreen.prototype.create.call(this, "dino-1")
	}, e.prototype.screenSetup = function () {
		WalkableScreen.prototype.screenSetup.call(this);
		this.bgm = "bgm-intro";
		var e = this.content.add(this.game.prodigy.create.sprite(196, 522, "zone-museum", "rail"));
		e.anchor.setTo(0, 1), e = this.content.add(this.game.prodigy.create.sprite(1084, 522, "zone-museum", "rail")), e.anchor.setTo(0, 1), e.scale.x = -1, this.path.addCallback(3, this.toDino.bind(this));
		var t = this.game.prodigy.dialogue.create();
		DinoDig.getNewFossils(this.game.prodigy.player.backpack).length > 0 && t.setText({
			text: "Welcome to the Museum! Be sure to bring all your newly-discovered fossils.",
			face: 0
		});
		for (var i = [{
				ID: 13,
				x: 916,
				y: 506,
				nx: 949,
				ny: 490
			}, {
				ID: 14,
				x: 362,
				y: 511,
				nx: 331,
				ny: 490
			}, {
				ID: 15,
				x: 1192,
				y: 707,
				nx: 1216,
				ny: 690
			}, {
				ID: 16,
				x: 85,
				y: 688,
				nx: 65,
				ny: 690
			}, {
				ID: 17,
				x: 290,
				y: 145
			}, {
				ID: 18,
				x: 390,
				y: 145
			}, {
				ID: 19,
				x: 490,
				y: 145
			}, {
				ID: 20,
				x: 590,
				y: 145
			}, {
				ID: 21,
				x: 690,
				y: 145
			}, {
				ID: 22,
				x: 790,
				y: 145
			}, {
				ID: 23,
				x: 890,
				y: 145
			}, {
				ID: 24,
				x: 990,
				y: 145
			}], a = 0; a < i.length; a++) {
			var s = i[a];
			if (s.full = this.game.prodigy.create.element(this.content, s.x, s.y), s.empty = this.game.prodigy.create.element(this.content, s.nx || s.x, s.ny || s.y), !this.processFossil(s) && this.game.prodigy.player.backpack.canCraft("fossil", s.ID)) {
				var r = Items.getItemData("fossil", s.ID);
				t.setText({
					text: "Ponduberous! You collected enough fossils to create the " + r.name + "! \nLet's see what it looks like!",
					face: 1,
					audio: Prodigy.Dyno.AUDIO[1]
				}), t.setText({
					callback: this.unlockFossil.bind(this, s)
				}), t.setText({
					text: "WOW! That looks great!",
					face: 1,
					anim: 2
				})
			}
		}
		t.setText({
			callback: this.checkRewards.bind(this)
		}), t.start("scoog")
	}, e.prototype.checkRewards = function () {
		for (var e = !0, t = 13; 24 >= t; t++) this.game.prodigy.player.backpack.hasItem("fossil", t) || (e = !1);
		if (e) {
			var i = [];
			if (this.game.prodigy.player.backpack.hasItem("outfit", 39) || i.push({
					type: "outfit",
					ID: 39
				}), this.game.prodigy.player.backpack.hasItem("hat", 44) || i.push({
					type: "hat",
					ID: 44
				}), i.length > 0) {
				var a = this.game.prodigy.dialogue.create();
				a.setText({
					text: "Ponduberous! You collected all the fossils and completed all the skeletons! Take this as a reward!",
					face: 1,
					audio: Prodigy.Dyno.AUDIO[1]
				}), a.setText({
					callback: this.game.prodigy.open.gotItem.bind(this.game.prodigy.open, i)
				}), a.start("scoog")
			}
		}
	}, e.prototype.unlockFossil = function (e) {
		this.game.prodigy.player.backpack.craft("fossil", e.ID), this.processFossil(e, !0)
	}, e.prototype.processFossil = function (e, t) {
		var i = null;
		if (this.game.prodigy.player.backpack.hasItem("fossil", e.ID)) return e.type = "fossil", e.full.removeAll(!0), i = e.ID < 17 ? e.full.add(this.game.prodigy.create.sprite(0, 0, "zone-museum", e.ID + "")) : e.full.add(this.game.prodigy.create.sprite(0, 0, "icons", Util.convertItemToIcon(e))), i.x = -i.width / 2, i.y = -i.height, e.full.visible = !0, e.empty.visible = !1, t && this.game.add.tween(e.full.scale).to({
			x: 1.2,
			y: 1.2
		}, 500, Phaser.Easing.Quadratic.Out).to({
			x: 1,
			y: 1
		}, 500, Phaser.Easing.Quadratic.In).start(), !0;
		e.empty.removeAll(!0), i = e.empty.add(this.game.prodigy.create.sprite(0, 0, "zone-museum", "empty")), i.x = -i.width / 2, i.y = -i.height;
		var a = Items.getItemData("fossil", e.ID).recipe[0],
			s = this.game.prodigy.player.backpack.hasItem(a.type, a.ID);
		return this.game.prodigy.create.font(e.empty, i.x - 50, i.y + 27, s + "/" + a.N, {
			width: 180,
			align: "center"
		}), e.empty.visible = !0, e.full.visible = !1, !1
	}, e.prototype.toDino = function () {
		this.game.prodigy.world.teleport("dyno-A0")
	}, e
}();
Museum.DATA = {
	tag: "Museum",
	zoneName: "zone-museum",
	atlas: "zone-museum",
	fullName: "Museum",
	icon: "fossil/1"
};
var Arena = function () {
	function e(t) {
		WalkableScreen.call(this, t, e.DATA, ["zone-arena", "npc-sprite-clankboot", "tileset-core", "npc-sprite-gnome"]), this.area = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0], [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0], [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0], [1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]], this.noSnow = !0
	}
	return e.prototype = Object.create(WalkableScreen.prototype), e.prototype.create = function () {
		this.startX = 640, this.startY = 500, WalkableScreen.prototype.create.call(this, "town-2")
	}, e.prototype.screenSetup = function () {
		this.bgm = "bgm-intro";
		this.noFade = !0, new Prodigy.Container.QuestNPC(this.game, this.content, 310, 400, null, {
			name: "Clankboot",
			atlas: "clankboot"
		}, this.openArena.bind(this), !0), this.path.addCallback(3, this.toTown.bind(this));
		var e = this.game.prodigy.create.sprite(216, 574, this.screenName, "vase");
		e.anchor.setTo(.5, 1), this.content.add(e), e = this.game.prodigy.create.sprite(1064, 574, this.screenName, "vase"), e.anchor.setTo(.5, 1), e.scale.x = -1, this.content.add(e), e = this.game.prodigy.create.sprite(311, 515, this.screenName, "vase2"), e.anchor.setTo(.5, 1), this.content.add(e), e = this.game.prodigy.create.sprite(969, 515, this.screenName, "vase2"), e.anchor.setTo(.5, 1), e.scale.x = -1, this.content.add(e), e = this.game.prodigy.create.sprite(519, 468, this.screenName, "vase3"), e.anchor.setTo(.5, 1), this.content.add(e), e = this.game.prodigy.create.sprite(761, 468, this.screenName, "vase3"), e.anchor.setTo(.5, 1), e.scale.x = -1, this.content.add(e), new Prodigy.Event.HealStone(this.game, this.content, this.user, this.path, 165, 390), new GnomeEvent(this.game, this.content, this.user, this.path, 944, 376, "Arena Caller", 1, 2, this.openArenaMenu.bind(this)).flip(), new GnomeEvent(this.game, this.content, this.user, this.path, 1135, 430, "Arena Merchant", 2, 4, this.openStore.bind(this)).flip(), WalkableScreen.prototype.screenSetup.call(this)
	}, e.prototype.openStore = function () {
		var t = this.game.prodigy.event.create(),
			i = e.STORE;
		i.callback = this.game.prodigy.player.getArenaRank.bind(this.game.prodigy.player), t.yesNoText(14, "merchant"), t.function(this.game.prodigy.open.rankStore.bind(this.game.prodigy.open, i, "arena")), t.start()
	}, e.prototype.openArenaMenu = function () {
		var e = this.game.prodigy.event.create();
		Util.isDefined(this.game.prodigy.player.world) ? (e.yesNoText(15, "merchant"), e.function(this.game.prodigy.open.social.bind(this.game.prodigy.open, 1))) : e.text(16, "merchant"), e.start()
	}, e.prototype.openArena = function () {
		var t = e.DATA.dialogue[0];
		t.yes = this.game.prodigy.open.arena.bind(this.game.prodigy.open);
		var i = this.game.prodigy.dialogue.create();
		i.setText(t), i.start("clankboot")
	}, e.prototype.toTown = function () {
		this.game.prodigy.world.teleport("lamplight-C3", 580, 360)
	}, e
}();
Arena.AUDIO = [{
	tag: "voice-3",
	s: 0,
	d: 1
}], Arena.DATA = {
	tag: "Arena",
	zoneName: "zone-arena",
	atlas: "zone-arena",
	fullName: "Coliseum",
	battle: {
		screen: "bg-battle-arena"
	},
	dialogue: [{
		text: "Do you want to train in the arena?",
		face: 0,
		anim: 4,
		audio: Arena.AUDIO[0]
	}]
}, Arena.STORE = {
	tag: "emblem-rank1",
	atlas: "icons",
	pages: [{
		btn: {
			icon: {
				ID: "emblem-rank2",
				iconAtlas: "icons",
				forcedWidth: 70,
				forcedHeight: 70
			},
			top: "Silver",
			bot: "Rank"
		},
		icon: "emblem-rank2",
		rank: 2,
		top: "Silver Rank",
		items: [{
			ID: 76,
			type: "item"
		}, {
			ID: 77,
			type: "item"
		}]
	}, {
		btn: {
			icon: {
				ID: "emblem-rank3",
				iconAtlas: "icons",
				forcedWidth: 70,
				forcedHeight: 70
			},
			top: "Gold",
			bot: "Rank"
		},
		icon: "emblem-rank3",
		rank: 3,
		top: "Gold Rank",
		items: [{
			ID: 59,
			type: "hat"
		}, {
			ID: 75,
			type: "weapon"
		}, {
			ID: 50,
			type: "outfit"
		}]
	}, {
		btn: {
			icon: {
				ID: "emblem-rank4",
				iconAtlas: "icons",
				forcedWidth: 70,
				forcedHeight: 70
			},
			top: "Platinum",
			bot: "Rank"
		},
		icon: "emblem-rank4",
		rank: 4,
		top: "Platinum Rank",
		items: [{
			ID: 60,
			type: "hat"
		}, {
			ID: 76,
			type: "weapon"
		}, {
			ID: 51,
			type: "outfit"
		}]
	}, {
		btn: {
			icon: {
				ID: "emblem-rank5",
				iconAtlas: "icons",
				forcedWidth: 70,
				forcedHeight: 70
			},
			top: "Diamond",
			bot: "Rank"
		},
		icon: "emblem-rank5",
		rank: 5,
		top: "Diamond Rank",
		items: [{
			ID: 61,
			type: "hat"
		}, {
			ID: 77,
			type: "weapon"
		}, {
			ID: 52,
			type: "outfit"
		}]
	}]
}, Prodigy.Lamplight = function (e) {
	Prodigy.Zone.call(this, e), this.store = null, this.monsters = {
		randDir: !0,
		encounter: [{
			ID: 59
		}, {
			ID: 52
		}, {
			ID: 36
		}]
	}, this.util = new Prodigy.LamplightUtil(e, this), this.name = "Lamplight", this.ID = "lamplight", this.game = e, this.bgm = "bgm-lamplight", this.minLevel = 1, this.maxLevel = 4, this.battleBG = "bg-battle-arena", this.onFaint = "lamplight-B3", this.questHub = "lamplight-B3", this.states = ["event", "1stpresent", "bounty", "daily", "firstPotion"];
	var t = ["tileset-generic-new", "tileset-town-new", "tileset-forest-new", "tileset-collisions", "npc-sprite-gnome", "zone-lamplight", "bgm-lamplight", "sfx-lamplight"];
	this.maps = {
		A2: new Prodigy.Lamplight_A2(this, t),
		A3: new Prodigy.Lamplight_A3(this, t),
		A4: new Prodigy.Lamplight_A4(this, t),
		B0: new Prodigy.Lamplight_B0(this, t),
		B1: new Prodigy.Lamplight_B1(this, t),
		B2: new Prodigy.Lamplight_B2(this, t),
		B3: new Prodigy.Lamplight_B3(this, t),
		B4: new Prodigy.Lamplight_B4(this, t),
		B5: new Prodigy.Lamplight_B5(this, t),
		C2: new Prodigy.Lamplight_C2(this, t),
		C3: new Prodigy.Lamplight_C3(this, t),
		C4: new Prodigy.Lamplight_C4(this, t)
	}, this.quests = {
		1: new Prodigy.Lamplight_Q1(this, t),
		2: new Prodigy.Lamplight_Q2(this, t)
	}, this.scenes = {
		pets: new Prodigy.Lamplight_Pets(this, t),
		townSquare: new Prodigy.Lamplight_Town_Square(this, t),
		store1: new Prodigy.Lamplight_Store_Pt1(this, t),
		store1_A3: new Prodigy.Lamplight_Store_Pt1_A3(this, t),
		store2: new Prodigy.Lamplight_Store_Pt2(this, t),
		store2_A3: new Prodigy.Lamplight_Store_Pt2_A3(this, t),
		anotherMonster: new Prodigy.Lamplight_Another_Monster(this, t),
		boss: new Prodigy.Lamplight_Boss(this, t),
		end: new Prodigy.Lamplight_End(this, t)
	}
}, Prodigy.extends(Prodigy.Lamplight, Prodigy.Zone, {
	constructor: Prodigy.Lamplight,
	placeDaily: function () {},
	placeAllDailies: function () {},
	init: function (e, t, i) {
		Prodigy.Zone.prototype.init.call(this, e, t, i), Util.isDefined(this.getCurrentQuest()) || this.startQuest(1)
	}
}), Prodigy.LamplightUtil = function (e, t) {
	Prodigy.ZoneUtil.call(this, e, t)
}, Prodigy.extends(Prodigy.LamplightUtil, Prodigy.ZoneUtil, {
	constructor: Prodigy.LamplightUtil,
	addDoor: function (e, t, i, a, s, r, o, n, h, l) {
		var d = function (e, t, i) {
				i || e.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.LAMPLIGHT, "door"), t()
			},
			p = t.user.setValidPath.bind(t.user, t.path, o, n, d.bind(this, e, h, l));
		t.addClickableArea(i, a, s, r, p)
	},
	addLamp: function () {
		return null
	},
	showPedestals: function (e, t) {
		var i = [];
		i.push(t.content.add(e.prodigy.create.sprite(400, 360, "zone-lamplight", "pedestal"))), i.push(t.content.add(e.prodigy.create.sprite(640, 360, "zone-lamplight", "pedestal"))), i.push(t.content.add(e.prodigy.create.sprite(880, 360, "zone-lamplight", "pedestal"))), i.push(t.content.add(e.prodigy.create.sprite(520, 440, "zone-lamplight", "pedestal"))), i.push(t.content.add(e.prodigy.create.sprite(760, 440, "zone-lamplight", "pedestal")));
		for (var a = 0; a < i.length; a++) i[a].anchor.setTo(.5, 1)
	}
}), Prodigy.Lamplight_A2 = function (e, t) {
	Prodigy.Map.call(this, e, "A2", "Northwest Court", 200, 600, ["lamplight-B2", "lamplight-A3"], t)
}, Prodigy.extends(Prodigy.Lamplight_A2, Prodigy.Map, {
	constructor: Prodigy.Lamplight_A2,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1240,
			y: 360,
			w: 80,
			h: 160,
			rect: !0
		}, "lamplight-B2", 120, 320, null, AreaEvent.RIGHT);
		var a = Util.isDefined(i) && Util.isDefined(i.distractCallback) ? i.distractCallback : null;
		this.addAreaEvent(e, t, {
			x: 200,
			y: 680,
			w: 240,
			h: 80,
			rect: !0
		}, "lamplight-A3", 180, 180, a, AreaEvent.DOWN), this._zone.util.addLamp(e, t, 402, 137), this._zone.util.addLamp(e, t, 602, 137), this._zone.util.addLamp(e, t, 802, 137)
	}
}), Prodigy.Lamplight_A3 = function (e, t) {
	Prodigy.Map.call(this, e, "A3", "Vendor's Plaza", 1120, 540, ["lamplight-A2", "lamplight-B3", "lamplight-A4"], t), this._store = {
		name: "ACADEMY CLOTHING SHOP",
		dod: !0,
		pages: [{
			btn: {
				icon: "hat/5",
				bot: "Hats"
			},
			items: [{
				ID: 14,
				type: "hat"
			}, {
				ID: 16,
				type: "hat"
			}, {
				ID: 17,
				type: "hat"
			}, {
				ID: 18,
				type: "hat"
			}, {
				ID: 19,
				type: "hat"
			}, {
				ID: 20,
				type: "hat"
			}, {
				ID: 1,
				type: "hat"
			}, {
				ID: 2,
				type: "hat"
			}, {
				ID: 3,
				type: "hat"
			}, {
				ID: 4,
				type: "hat"
			}, {
				ID: 5,
				type: "hat"
			}, {
				ID: 9,
				type: "hat"
			}, {
				ID: 72,
				type: "hat"
			}, {
				ID: 73,
				type: "hat"
			}, {
				ID: 75,
				type: "hat"
			}]
		}, {
			btn: {
				icon: "outfit/1",
				bot: "Outfits"
			},
			items: [{
				ID: 16,
				type: "outfit"
			}, {
				ID: 18,
				type: "outfit"
			}, {
				ID: 1,
				type: "outfit"
			}, {
				ID: 2,
				type: "outfit"
			}, {
				ID: 7,
				type: "outfit"
			}, {
				ID: 9,
				type: "outfit"
			}, {
				ID: 10,
				type: "outfit"
			}, {
				ID: 11,
				type: "outfit"
			}, {
				ID: 12,
				type: "outfit"
			}, {
				ID: 17,
				type: "outfit"
			}, {
				ID: 20,
				type: "outfit"
			}, {
				ID: 21,
				type: "outfit"
			}, {
				ID: 22,
				type: "outfit"
			}, {
				ID: 28,
				type: "outfit"
			}, {
				ID: 30,
				type: "outfit"
			}]
		}]
	}
}, Prodigy.extends(Prodigy.Lamplight_A3, Prodigy.Map, {
	constructor: Prodigy.Lamplight_A3,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), i = i || {};
		var a = Util.isDefined(i) && Util.isDefined(i.distractCallback) ? i.distractCallback : null,
			s = Util.isDefined(i.blockDirectionCallbacks) ? i.blockDirectionCallbacks : {},
			r = this.addAreaEvent(e, t, {
				x: 180,
				y: 60,
				w: 200,
				h: 120,
				rect: !0
			}, "lamplight-A2", 200, 600, Util.isDefined(s.up) ? s.up : a, AreaEvent.UP);
		r.isBlocked = Util.isDefined(s.up) || Util.isDefined(a), this.addAreaEvent(e, t, {
			x: 1240,
			y: 400,
			w: 80,
			h: 240,
			rect: !0
		}, "lamplight-B3", 120, 417.5, Util.isDefined(s.right) ? s.right : null, AreaEvent.RIGHT), this.addAreaEvent(e, t, {
			x: 1120,
			y: 660,
			w: 160,
			h: 120,
			rect: !0
		}, "lamplight-A4", 1120, 180, Util.isDefined(s.down) ? s.down : null, AreaEvent.DOWN), this._zone.util.addDoor(e, t, 560, 240, 120, 160, 620, 400, e.prodigy.open.store.bind(e.prodigy.open, this._store)), this._zone.util.addDoor(e, t, 1e3, 160, 120, 160, 1060, 320, e.prodigy.open.stylist.bind(e.prodigy.open))
	}
}), Prodigy.Lamplight_A4 = function (e, t) {
	Prodigy.Map.call(this, e, "A4", "Pet Park", 1120, 180, ["house-exit", "lamplight-A3", "lamplight-B4"], t), this._store = {
		name: "COMPANION SHOP",
		pages: [{
			btn: {
				icon: "follow/2",
				bot: "Cats"
			},
			items: [{
				ID: 2,
				type: "follow"
			}, {
				ID: 3,
				type: "follow"
			}, {
				ID: 6,
				type: "follow"
			}, {
				ID: 7,
				type: "follow"
			}, {
				ID: 8,
				type: "follow"
			}, {
				ID: 9,
				type: "follow"
			}]
		}, {
			btn: {
				icon: "follow/4",
				bot: "Dogs"
			},
			items: [{
				ID: 4,
				type: "follow"
			}, {
				ID: 5,
				type: "follow"
			}, {
				ID: 10,
				type: "follow"
			}, {
				ID: 11,
				type: "follow"
			}]
		}, {
			btn: {
				icon: "follow/13",
				bot: "Birds"
			},
			items: [{
				ID: 13,
				type: "follow"
			}, {
				ID: 14,
				type: "follow"
			}, {
				ID: 15,
				type: "follow"
			}, {
				ID: 16,
				type: "follow"
			}, {
				ID: 17,
				type: "follow"
			}, {
				ID: 18,
				type: "follow"
			}]
		}, {
			btn: {
				icon: "follow/19",
				bot: "Herptiles"
			},
			items: [{
				ID: 19,
				type: "follow"
			}, {
				ID: 20,
				type: "follow"
			}, {
				ID: 21,
				type: "follow"
			}, {
				ID: 22,
				type: "follow"
			}]
		}, {
			btn: {
				icon: "follow/1",
				bot: "Other"
			},
			items: [{
				ID: 1,
				type: "follow"
			}, {
				ID: 12,
				type: "follow"
			}]
		}]
	}
}, Prodigy.extends(Prodigy.Lamplight_A4, Prodigy.Map, {
	constructor: Prodigy.Lamplight_A4,
	setup: function (e, t, i) {
		e.prodigy.world.getZone("house").completeQuest(1);
		var a = Util.isDefined(i) && Util.isDefined(i.distractCallback) ? i.distractCallback : null,
			s = Util.isDefined(i) && Util.isDefined(i.blockDirectionCallbacks) ? i.blockDirectionCallbacks : {};
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 40,
			y: 500,
			w: 80,
			h: 160,
			rect: !0
		}, "house-exit", 1160, 380, Util.isDefined(s.left) ? s.left : null, AreaEvent.LEFT), this.addAreaEvent(e, t, {
			x: 1120,
			y: 60,
			w: 160,
			h: 120,
			rect: !0
		}, "lamplight-A3", 1120, 540, Util.isDefined(s.up) ? s.up : null, AreaEvent.UP), this.addAreaEvent(e, t, {
			x: 1240,
			y: 420,
			w: 80,
			h: 200,
			rect: !0
		}, "lamplight-B4", 120, 457.5, Util.isDefined(s.right) ? s.right : a, AreaEvent.RIGHT), this._zone.util.addLamp(e, t, 82, 258), this._zone.util.addLamp(e, t, 562, 258), this._zone.util.addDoor(e, t, 280, 240, 120, 160, 340, 400, this.openStore.bind(this, e)), e.prodigy.player.backpack.hasItem("key", 13) && new Prodigy.Container.ToyMerchant(e, t.content, 900, 400)
	},
	openStore: function (e) {
		e.prodigy.open.store(this._store)
	}
}), Prodigy.Lamplight_B0 = function (e, t) {
	Prodigy.Map.call(this, e, "B0", "Academy Entrance", 160, 600, ["lamplight-B1"], t.concat("zone-lamplight"))
}, Prodigy.extends(Prodigy.Lamplight_B0, Prodigy.Map, {
	constructor: Prodigy.Lamplight_B0,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 160,
			y: 680,
			w: 240,
			h: 80,
			rect: !0
		}, "lamplight-B1", 160, 120, null, AreaEvent.DOWN), this._zone.util.showPedestals(e, t)
	}
}), Prodigy.Lamplight_B1 = function (e, t) {
	Prodigy.Map.call(this, e, "B1", "Academy Crossroads", 160, 600, ["forest-C8", "lamplight-B0", "lamplight-B2"], t)
}, Prodigy.extends(Prodigy.Lamplight_B1, Prodigy.Map, {
	constructor: Prodigy.Lamplight_B1,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), i = i || {}, this.addAreaEvent(e, t, {
			x: 160,
			y: 40,
			w: 240,
			h: 80,
			rect: !0
		}, "lamplight-B0", 160, 600, null, AreaEvent.UP), this.addAreaEvent(e, t, {
			x: 1100,
			y: 680,
			w: 240,
			h: 80,
			rect: !0
		}, "lamplight-B2", 640, 260, null, AreaEvent.DOWN);
		var a = Util.isDefined(i) && Util.isDefined(i.distractCallback) ? i.distractCallback : null;
		this.addAreaEvent(e, t, {
			x: 40,
			y: 480,
			w: 80,
			h: 240,
			rect: !0
		}, "forest-C8", 1160, 520, a, AreaEvent.LEFT)
	}
}), Prodigy.Lamplight_B2 = function (e, t) {
	Prodigy.Map.call(this, e, "B2", "Lamplight Outskirts", 640, 220, ["lamplight-A2", "lamplight-B1", "lamplight-C2"], t)
}, Prodigy.extends(Prodigy.Lamplight_B2, Prodigy.Map, {
	constructor: Prodigy.Lamplight_B2,
	setup: function (e, t) {
		Prodigy.Map.prototype.setup.call(this, e, t), this.addAreaEvent(e, t, {
			x: 640,
			y: 40,
			w: 240,
			h: 200,
			rect: !0
		}, "lamplight-B1", 1100, 600, null, AreaEvent.UP), this.addAreaEvent(e, t, {
			x: 1240,
			y: 320,
			w: 80,
			h: 160,
			rect: !0
		}, "lamplight-C2", 120, 320, null, AreaEvent.RIGHT), this.addAreaEvent(e, t, {
			x: 40,
			y: 320,
			w: 80,
			h: 160,
			rect: !0
		}, "lamplight-A2", 1160, 360, null, AreaEvent.LEFT), this._zone.util.addLamp(e, t, 162, 58), this._zone.util.addLamp(e, t, 442, 58), this._zone.util.addLamp(e, t, 802, 58), this._zone.util.addLamp(e, t, 1082, 58)
	}
}), Prodigy.Lamplight_B3 = function (e, t) {
	Prodigy.Map.call(this, e, "B3", "Town Square", 120, 417.5, ["lamplight-A3", "lamplight-C3"], t.concat("zone-lamplight", "npc-sprite-merchant"))
}, Prodigy.extends(Prodigy.Lamplight_B3, Prodigy.Map, {
	constructor: Prodigy.Lamplight_B3,
	init: function (e, t, i, a) {
		return Util.isNightTime() ? (a.zone.enableLayer(1, !0), a.zone.enableLayer(0, !1)) : (a.zone.enableLayer(1, !1), a.zone.enableLayer(0, !0)), Prodigy.Map.prototype.init.call(this, e, t, i)
	},
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1240,
			y: 380,
			w: 80,
			h: 200,
			rect: !0
		}, "lamplight-C3", 120, 437.5, null, AreaEvent.RIGHT), this.addAreaEvent(e, t, {
			x: 40,
			y: 380,
			w: 80,
			h: 200,
			rect: !0
		}, "lamplight-A3", 1160, 437.5, null, AreaEvent.LEFT);
		var a = Prodigy.Component.Wheel.Twilight_WHEEL_CONFIG;
		this._zone.util.addDoor(e, t, a.wheelPosition.x, a.wheelPosition.y, a.wheelDimensions.w, a.wheelDimensions.h, a.wheelTarget.x, a.wheelTarget.y, this.openTwilightWheel.bind(this, e, t, a), !0), this.addGnome(e, t, a.npcPosition.x, a.npcPosition.y, a.npcName, a.npcHead, a.npcHat, this.openTwilightWheel.bind(this, e, t, a)), a = Prodigy.Component.Wheel.DAY_WHEEL_CONFIG, this._zone.util.addDoor(e, t, a.wheelPosition.x, a.wheelPosition.y, a.wheelDimensions.w, a.wheelDimensions.h, a.wheelTarget.x, a.wheelTarget.y, this.openDayWheel.bind(this, e, t), !0), this.addGnome(e, t, a.npcPosition.x, a.npcPosition.y, a.npcName, a.npcHead, a.npcHat, this.openDayWheel.bind(this, e, t)).flip()
	},
	openTwilightWheel: function (e, t, i) {
		Util.isNightTime() ? new Prodigy.Component.TwilightWheel(e, t.foreground, t) : this.game.prodigy.open.messageBoxOkay(i.npcDialogue[0].text, "okay", null)
	},
	openDayWheel: function (e, t) {
		new Wheel(e, t.foreground, e.prodigy.player, t)
	}
}), Prodigy.Lamplight_B4 = function (e, t) {
	Prodigy.Map.call(this, e, "B4", "Lower Intersection", 160, 600, ["lamplight-A4", "lamplight-C4", "lamplight-B5"], t)
}, Prodigy.extends(Prodigy.Lamplight_B4, Prodigy.Map, {
	constructor: Prodigy.Lamplight_B4,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1240,
			y: 420,
			w: 80,
			h: 200,
			rect: !0
		}, "lamplight-C4", 180, 457.5, null, AreaEvent.RIGHT), this.addAreaEvent(e, t, {
			x: 40,
			y: 420,
			w: 80,
			h: 200,
			rect: !0
		}, "lamplight-A4", 1160, 457.5, null, AreaEvent.LEFT), this.addAreaEvent(e, t, {
			x: 160,
			y: 680,
			w: 160,
			h: 80,
			rect: !0
		}, "lamplight-B5", 200, 120, null, AreaEvent.DOWN);
		var a = e.prodigy.start.bind(e.prodigy, "DanceDance");
		this._zone.util.addDoor(e, t, 600, 240, 120, 160, 660, 400, a), this._zone.util.addLamp(e, t, 3, 27), this._zone.util.addLamp(e, t, 83, 27), this._zone.util.addLamp(e, t, 240, 23), this._zone.util.addLamp(e, t, 1080, 23), e.prodigy.network.sendAnalytics("potion-store-activity", "see-scientist", "Events");
		var s = !Util.isDefined(this._zone.getState("firstPotion")) || this._zone.getState("firstPotion") === !0;
		new Prodigy.Container.ScientistSlimerella(e, t.content, 340, 480, s, this._zone)
	}
}), Prodigy.Lamplight_B5 = function (e, t) {
	Prodigy.Map.call(this, e, "B5", "Southern Dock", 200, 120, ["lamplight-B4"])
}, Prodigy.extends(Prodigy.Lamplight_B5, Prodigy.Map, {
	constructor: Prodigy.Lamplight_B5,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 200,
			y: 40,
			w: 160,
			h: 80,
			rect: !0
		}, "lamplight-B4", 160, 600, null, AreaEvent.UP)
	}
}), Prodigy.Lamplight_C2 = function (e, t) {
	Prodigy.Map.call(this, e, "C2", "History District", 200, 600, ["lamplight-B2", "lamplight-C3"], t.concat(["npc-sprite-noot"]))
}, Prodigy.extends(Prodigy.Lamplight_C2, Prodigy.Map, {
	constructor: Prodigy.Lamplight_C2,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 40,
			y: 320,
			w: 80,
			h: 160,
			rect: !0
		}, "lamplight-B2", 1160, 320, null, AreaEvent.LEFT), this.addAreaEvent(e, t, {
			x: 200,
			y: 680,
			w: 160,
			h: 80,
			rect: !0
		}, "lamplight-C3", 200, 240, null, AreaEvent.DOWN);
		var a = e.prodigy.open.message.bind(e.prodigy.open, 'A message on the door says "Coming Soon!"', null, "star", "Locked!");
		this._zone.util.addDoor(e, t, 520, 240, 120, 160, 580, 400, a, !0);
		var a = e.prodigy.open.message.bind(e.prodigy.open, 'A message on the door says "Coming Soon!"', null, "star", "Locked!");
		this._zone.util.addDoor(e, t, 920, 240, 120, 160, 980, 400, a, !0), this._zone.util.addLamp(e, t, 2, 98), this._zone.util.addLamp(e, t, 242, 98), this._zone.util.addLamp(e, t, 2, 458), this._zone.util.addLamp(e, t, 2, 658), this._zone.util.addLamp(e, t, 280, 223), this._zone.util.addLamp(e, t, 1246, 223)
	}
}), Prodigy.Lamplight_C3 = function (e, t) {
	Prodigy.Map.call(this, e, "C3", "Coliseum", 160, 540, ["lamplight-B3", "lamplight-C2", "lamplight-C4"], t.concat(["npc-sprite-noot"]))
}, Prodigy.extends(Prodigy.Lamplight_C3, Prodigy.Map, {
	constructor: Prodigy.Lamplight_C3,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 40,
			y: 400,
			w: 80,
			h: 240,
			rect: !0
		}, "lamplight-B3", 1160, 417.5, null, AreaEvent.LEFT), this.addAreaEvent(e, t, {
			x: 200,
			y: 80,
			w: 160,
			h: 160,
			rect: !0
		}, "lamplight-C2", 200, 600, null, AreaEvent.UP), this.addAreaEvent(e, t, {
			x: 160,
			y: 660,
			w: 160,
			h: 120,
			rect: !0
		}, "lamplight-C4", 200, 180, null, AreaEvent.DOWN), this._zone.util.addDoor(e, t, 520, 200, 120, 160, 580, 360, e.prodigy.start.bind(e.prodigy, "Arena")), this.addHealStone(e, t, 1100, 200), new Prodigy.Component.BountyBoard(e, t, t.data)
	}
}), Prodigy.Lamplight_C4 = function (e, t) {
	Prodigy.Map.call(this, e, "C4", "Market", 200, 180, ["lamplight-B4", "lamplight-C3"], t.concat(["npc-sprite-noot"])), this._store = {
		name: "ACADEMY WAND SHOP",
		dod: !0,
		pages: [{
			btn: {
				icon: "weapon/1",
				bot: "Wands"
			},
			items: [{
				ID: 26,
				type: "weapon"
			}, {
				ID: 28,
				type: "weapon"
			}, {
				ID: 30,
				type: "weapon"
			}, {
				ID: 1,
				type: "weapon"
			}, {
				ID: 2,
				type: "weapon"
			}, {
				ID: 3,
				type: "weapon"
			}, {
				ID: 4,
				type: "weapon"
			}, {
				ID: 5,
				type: "weapon"
			}, {
				ID: 6,
				type: "weapon"
			}, {
				ID: 9,
				type: "weapon"
			}, {
				ID: 10,
				type: "weapon"
			}, {
				ID: 11,
				type: "weapon"
			}, {
				ID: 12,
				type: "weapon"
			}, {
				ID: 14,
				type: "weapon"
			}, {
				ID: 15,
				type: "weapon"
			}, {
				ID: 31,
				type: "weapon"
			}, {
				ID: 55,
				type: "weapon"
			}, {
				ID: 34,
				type: "weapon"
			}, {
				ID: 50,
				type: "weapon"
			}, {
				ID: 52,
				type: "weapon"
			}, {
				ID: 37,
				type: "weapon"
			}, {
				ID: 38,
				type: "weapon"
			}, {
				ID: 41,
				type: "weapon"
			}, {
				ID: 7,
				type: "weapon"
			}, {
				ID: 8,
				type: "weapon"
			}, {
				ID: 20,
				type: "weapon"
			}, {
				ID: 21,
				type: "weapon"
			}, {
				ID: 22,
				type: "weapon"
			}, {
				ID: 24,
				type: "weapon"
			}, {
				ID: 42,
				type: "weapon"
			}, {
				ID: 45,
				type: "weapon"
			}, {
				ID: 16,
				type: "weapon"
			}, {
				ID: 61,
				type: "weapon"
			}, {
				ID: 88,
				type: "weapon"
			}, {
				ID: 89,
				type: "weapon"
			}, {
				ID: 91,
				type: "weapon"
			}]
		}]
	}
}, Prodigy.extends(Prodigy.Lamplight_C4, Prodigy.Map, {
	constructor: Prodigy.Lamplight_C4,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i);
		var a = Util.isDefined(i) && Util.isDefined(i.distractCallback) ? i.distractCallback : null;
		this.addAreaEvent(e, t, {
			x: 60,
			y: 420,
			w: 120,
			h: 200,
			rect: !0
		}, "lamplight-B4", 1160, 457.5, a, AreaEvent.LEFT), this.addAreaEvent(e, t, {
			x: 200,
			y: 60,
			w: 160,
			h: 120,
			rect: !0
		}, "lamplight-C3", 160, 540, null, AreaEvent.UP), this._zone.util.addDoor(e, t, 840, 280, 120, 160, 900, 440, e.prodigy.open.store.bind(e.prodigy.open, this._store)), this._zone.util.addLamp(e, t, 562, 298), this._zone.util.addLamp(e, t, 1202, 298)
	}
}), Prodigy.Lamplight_Q1 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 1, "", {
		type: "seq",
		N: 7
	}, ["lamplight-B0"], [], [], [0], [], !1)
}, Prodigy.extends(Prodigy.Lamplight_Q1, Prodigy.Quest, {
	constructor: Prodigy.Lamplight_Q1,
	setup: function (e, t, i) {
		Prodigy.Quest.prototype.setup.call(this, e, t, i);
		var a = {},
			s = !(this.zone.isOnSequence(1, 5) || this.zone.isOnSequence(1, 6)),
			r = i.getTag(),
			o = 0;
		if (Util.isDefined(e.prodigy.player.data.useOldTutorialPath) || (e.prodigy.player.data.useOldTutorialPath = !this.zone.isOnSequence(1, 0), e.prodigy.player.updated = !0), "A4" === r) {
			if (this.zone.isOnSequence(1, 0)) return e.prodigy.world.playScene("lamplight-pets"), {
				quit: !0
			};
			s && (e.prodigy.player.data.useOldTutorialPath ? a.distractCallback = this.nootDistracts.bind(this, e, t) : a.blockDirectionCallbacks = {
				left: this.nootDistracts.bind(this, e, t),
				right: this.nootDistracts.bind(this, e, t)
			})
		} else if ("B3" === r) {
			if (this.zone.isOnSequence(1, 1)) return e.prodigy.world.playScene("lamplight-townSquare"), {
				quit: !0
			}
		} else if ("C3" === r) {
			for (o = 0; 2 > o; o++) this.zone.isSequenceComplete(1, o) || this.zone.completeSequence(1, o);
			if (this.zone.isOnSequence(1, 2)) return e.prodigy.world.playScene("lamplight-store1"), {
				quit: !0
			};
			if (this.zone.isOnSequence(1, 3)) return e.prodigy.world.playScene("lamplight-store2"), {
				quit: !0
			}
		} else if ("C2" === r) {
			if (this.zone.isOnSequence(1, 4)) return e.prodigy.world.playScene("lamplight-anotherMonster"), {
				quit: !0
			}
		} else if ("B0" === r) {
			if (this.zone.isOnSequence(1, 5)) return e.prodigy.world.playScene("lamplight-boss"), {
				quit: !0
			}
		} else if ("B1" === r) {
			if (this.zone.isOnSequence(1, 6)) return e.prodigy.world.playScene("lamplight-end"), {
				quit: !0
			};
			a.distractCallback = this.nootDistracts.bind(this, e, t)
		} else if ("A3" === r && s)
			if (e.prodigy.player.data.useOldTutorialPath) a.distractCallback = this.nootDistracts.bind(this, e, t);
			else {
				if (this.zone.isOnSequence(1, 2)) return e.prodigy.world.playScene("lamplight-store1_A3"), {
					quit: !0
				};
				if (this.zone.isOnSequence(1, 3)) return e.prodigy.world.playScene("lamplight-store2_A3"), {
					quit: !0
				};
				a.blockDirectionCallbacks = {
					right: this.nootDistracts.bind(this, e, t),
					down: this.nootDistracts.bind(this, e, t)
				}
			}
		else "A2" === r && s ? a.distractCallback = this.nootDistracts.bind(this, e, t) : "C4" === r && s && (a.distractCallback = this.nootDistracts.bind(this, e, t));
		var n = [{
			map: "A2",
			x: 650,
			y: 540,
			ID: 35
		}, {
			map: "A3",
			x: 780,
			y: 500,
			ID: 32
		}, {
			map: "A3",
			x: 220,
			y: 480,
			ID: 40
		}, {
			map: "B2",
			x: 640,
			y: 400,
			ID: 52
		}, {
			map: "B3",
			x: 640,
			y: 440,
			ID: 55
		}, {
			map: "B4",
			x: 920,
			y: 500,
			ID: 32
		}, {
			map: "B5",
			x: 869,
			y: 333,
			ID: 81
		}, {
			map: "C2",
			x: 190,
			y: 317,
			ID: 13
		}, {
			map: "C4",
			x: 700,
			y: 550,
			ID: 32,
			drops: [{
				type: "weapon",
				ID: 1
			}]
		}];
		for (o = 0; o < n.length; o++) {
			var h = n[o];
			r === h.map && i.addMonster(e, t, o + 1, h.x, h.y, !0, {
				allowMember: !0,
				screen: "bg-battle-academy",
				run: !1,
				drops: h.drops || [],
				invincible: !0,
				randDir: !0,
				encounter: [{
					ID: h.ID
				}]
			})
		}
		return a
	},
	nootDistracts: function (e, t) {
		var i = e.prodigy.event.create();
		i.validPath(t.user, t.path, t.user.x, t.user.y), i.text(142, "noot"), i.set(t.user, "evtProc", !1), i.start()
	}
}), Prodigy.Lamplight_Q2 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 2, "", {
		type: "seq",
		N: 1
	}, ["forest-C8"], [], [], [0], [], !1)
}, Prodigy.extends(Prodigy.Lamplight_Q2, Prodigy.Quest, {
	constructor: Prodigy.Lamplight_Q2
}), Prodigy.Lamplight_Pets = function (e, t) {
	Prodigy.Scene.call(this, e, "A4", t.concat(["npc-sprite-noot", "monster-reduced-1", "monster-reduced-4", "monster-reduced-7", "monster-reduced-10", "bgm-fun", "sfx-lamplight-pets"])), this._loadingData.time = 1
}, Prodigy.extends(Prodigy.Lamplight_Pets, Prodigy.Scene, {
	constructor: Prodigy.Lamplight_Pets,
	setup: function (e, t, i) {
		Prodigy.Scene.prototype.setup.call(this, e, t, i), t.user.x = -100, t.user.y = 500, this._zone.util.addLamp(e, t, 82, 258), this._zone.util.addLamp(e, t, 562, 258), this.monsters = [];
		for (var a = 0; 4 > a; a++) {
			var s = this.addMonster(e, t, a + 1, 340, 400, !1, {
				encounter: [{
					ID: 3 * a + 1
				}]
			}, !0, this.choosePet.bind(this, e, t, 3 * a + 1));
			s.alpha = 0, s.walkSpeed = 2, this.monsters.push(s)
		}
	},
	start: function (e, t) {
		Prodigy.Scene.prototype.start.call(this, e, t, "bgm-fun"), Prodigy.Menu.PlayAtHome.isRequired(e.prodigy.player) ? e.prodigy.open.playAtHomePrompt(this.petsEscape.bind(this, e, t)) : this.petsEscape(e, t)
	},
	end: function (e, t, i) {
		i && (this._zone.completeSequence(1, 0), e.prodigy.player.data.useOldTutorialPath || this._zone.completeSequence(1, 1), e.prodigy.world.teleport("lamplight-A4", 150, 500, null, {
			fadeIn: !0,
			time: 500,
			fadeOut: !0
		}))
	},
	petsEscape: function (e, t) {
		var i = this.addNPC(e, t, 150, 500, "npc-sprite-noot");
		i.float(!0), i.visible = !1;
		var a = e.prodigy.event.create();
		a.enableInput(!1), a.function(this.enterScene.bind(this, e, t)), a.delay(1e3), a.validPath(t.user, t.path, 150, 500), a.set(i, "visible", !0), a.hop(i, 500, 100, 100), a.delay(300), a.enableInput(!0), a.text(132, "noot"), a.text(133, "noot"), a.text(134, "noot"), a.text(135, "noot"), a.text(136, "noot"), a.enableInput(!1), a.function(t.user.chat.bind(t.user, 1)), a.function(i.chat.bind(i, 1)), a.sound(Prodigy.Controller.AudioController.SFX_PACKS.LAMPLIGHT_PETS, "window", !0), a.sound(Prodigy.Controller.AudioController.SFX_PACKS.LAMPLIGHT, "door");
		for (var s = 0; 4 > s; s++) a.set(this.monsters[s], "alpha", 1), a.validPath(this.monsters[s], t.path, 640 + 120 * s, 500, !0), a.delay(300);
		a.enableInput(!0), a.text(137, "noot"), a.enableInput(!1), a.delayUntil(this.monsters[3], "x", 1e3);
		for (var s = 0; 4 > s; s++) a.function(this.monsters[s].chat.bind(this.monsters[s], 1)), a.hop(this.monsters[s], 200, 0, 30, !0), a.function(this.monsters[s].flip.bind(this.monsters[s])), a.delay(50);
		a.enableInput(!0), a.text(138, "noot"), a.set(t.user, "evtProc", !0);
		for (var s = 0; 4 > s; s++) a.function(this.monsters[s].highlight.bind(this.monsters[s], !0, -70, -80));
		a.start()
	},
	choosePet: function (e, t, i) {
		e.prodigy.open.choosePet(i, this.petsLeave.bind(this, e, t, i))
	},
	petsLeave: function (e, t, i) {
		var a = e.prodigy.event.create();
		a.enableInput(!1);
		var s;
		for (s = 0; 4 > s; s++) a.function(this.monsters[s].highlight.bind(this.monsters[s], !1));
		var r = (i - 1) / 3;
		for (s = 0; 4 > s; s++) r !== s && (a.path(this.monsters[s], [{
			x: 340,
			y: 400
		}], 4, !1), a.set(this.monsters[s], "alpha", 0));
		a.validPath(this.monsters[r], t.path, 320, 500, !1), a.hop(this.monsters[r], 0, 0, 50, !1), a.delay(300), a.enableInput(!0), a.function(this.end.bind(this, e, t, !0)), a.start()
	}
}), Prodigy.Lamplight_Town_Square = function (e, t) {
	Prodigy.Scene.call(this, e, "B3", t.concat(["npc-sprite-noot"])), this._loadingData.time = 1
}, Prodigy.extends(Prodigy.Lamplight_Town_Square, Prodigy.Scene, {
	constructor: Prodigy.Lamplight_Town_Square,
	start: function (e, t) {
		Prodigy.Scene.prototype.start.call(this, e, t);
		var i = e.prodigy.event.create();
		i.enableInput(!1), i.function(this.enterScene.bind(this, e, t)), i.delay(1e3), i.enableInput(!0), i.text(139, "noot"), i.text(140, "noot"), i.function(this.end.bind(this, e, t, !0)), i.start()
	},
	end: function (e, t, i) {
		i && (this._zone.completeSequence(1, 1), e.prodigy.world.teleport("lamplight-B3", 120, 417.5, null, {
			fadeIn: !0,
			time: 500,
			fadeOut: !0
		}))
	}
}), Prodigy.Lamplight_Store_Pt1 = function (e, t) {
	Prodigy.Scene.call(this, e, "C3", t.concat(["npc-sprite-noot", "monster-reduced-20", "monster-reduced-81"])), this._loadingData.time = 1
}, Prodigy.extends(Prodigy.Lamplight_Store_Pt1, Prodigy.Scene, {
	constructor: Prodigy.Lamplight_Store_Pt1,
	setup: function (e, t, i) {
		Prodigy.Scene.prototype.setup.call(this, e, t, i), e.prodigy.player.data.useOldTutorialPath ? (t.user.x = 190, t.user.y = 400) : (t.user.x = 1120, t.user.y = 550, t.user.faceToward(t.user.x - 1)), this._m1 = this.addMonster(e, t, 1, 495, 460, !1, {
			encounter: [{
				ID: 81
			}]
		}, !0), this._gnome = this.addGnome(e, t, 620, 460, "Shopkeeper Figg", 2, 2), this._m2 = this.addMonster(e, t, 2, 745, 460, !1, {
			encounter: [{
				ID: 20
			}]
		}, !0), this._m2.flip()
	},
	start: function (e, t) {
		Prodigy.Scene.prototype.start.call(this, e, t);
		var i = e.prodigy.event.create();
		i.enableInput(!1), i.function(this.enterScene.bind(this, e, t)), i.delay(1e3), i.set(t.user, "evtProc", !0);
		for (var a = 0; 7 > a; a++) i.hop(a % 2 === 0 ? this._m1 : this._m2, 200, 0, 100), i.function(this._gnome.flip.bind(this._gnome));
		i.delay(400), i.function(this._m1.flip.bind(this._m1)), i.delay(300), i.hop(this._m1, 200, 0, 100, !0), i.hop(this._m2, 200, 0, 100, !0), i.function(this._m1.chat.bind(this._m1, 1)), i.function(this._m2.chat.bind(this._m2, 1)), i.delay(2e3), i.enableInput(!0), i.function(this.battle.bind(this, e)), i.start()
	},
	battle: function (e) {
		var t = {
			allowMember: !1,
			run: !1,
			"catch": !1,
			screen: "bg-battle-academy",
			invincible: !0,
			pets: [{
				ID: 20
			}, {
				ID: 81
			}]
		};
		e.prodigy.battle.start(t, this.end.bind(this, e), this.end.bind(this, e), this.end.bind(this, e))
	},
	end: function (e) {
		this._zone.completeSequence(1, 2), e.prodigy.world.teleport(e.prodigy.player.data.useOldTutorialPath ? "lamplight-C3" : "lamplight-A3")
	}
}), Prodigy.Lamplight_Store_Pt1_A3 = function (e, t) {
	Prodigy.Scene.call(this, e, "A3", t.concat(["npc-sprite-noot", "monster-reduced-20", "monster-reduced-81"])), this._loadingData.time = 1
}, Prodigy.extends(Prodigy.Lamplight_Store_Pt1_A3, Prodigy.Lamplight_Store_Pt1, {
	constructor: Prodigy.Lamplight_Store_Pt1_A3
}), Prodigy.Lamplight_Store_Pt2 = function (e, t) {
	Prodigy.Scene.call(this, e, "C3", t.concat(["npc-sprite-noot"])), this._loadingData.time = 1
}, Prodigy.extends(Prodigy.Lamplight_Store_Pt2, Prodigy.Scene, {
	constructor: Prodigy.Lamplight_Store_Pt2,
	setup: function (e, t, i) {
		Prodigy.Scene.prototype.setup.call(this, e, t, i), t.user.x = 190, t.user.y = 400, this._gnome = this.addGnome(e, t, 620, 460, "Shopkeeper Figg", 2, 2), this._gnome.flip(), this._zone.util.addLamp(e, t, 322, 58), this._zone.util.addLamp(e, t, 42, 58), this._zone.util.addLamp(e, t, 802, 258), this._zone.util.addLamp(e, t, 843, 67), this._zone.util.addLamp(e, t, 1243, 67), this._zone.util.addLamp(e, t, 923, 147), this._zone.util.addLamp(e, t, 1163, 147)
	},
	start: function (e, t) {
		Prodigy.Scene.prototype.start.call(this, e, t);
		var i = e.prodigy.event.create();
		i.enableInput(!1), i.function(this.enterScene.bind(this, e, t)), i.delay(1e3), i.enableInput(!0), i.text(37, "merchant"), i.text(38, "merchant"), i.set(t, "hideHex", !0), i.reward([{
			ID: 12,
			type: "hat"
		}]), e.prodigy.player.data.useOldTutorialPath ? i.text(39, "merchant") : (i.text(165, "noot"), i.validPath(t.user, t.path, 180, 60)), i.function(this.end.bind(this, e, t)), i.start()
	},
	end: function (e, t) {
		t.hideHex = !1, this._zone.completeSequence(1, 3);
		var i = !e.prodigy.player.data.useOldTutorialPath;
		i && this._zone.completeSequence(1, 4), e.prodigy.world.teleport(i ? "lamplight-B0" : "lamplight-C3", 190, 400, null, {
			fadeIn: !0,
			time: 500,
			fadeOut: !0
		})
	}
}), Prodigy.Lamplight_Store_Pt2_A3 = function (e, t) {
	Prodigy.Scene.call(this, e, "A3", t.concat(["npc-sprite-noot", "monster-reduced-20", "monster-reduced-81"])), this._loadingData.time = 1
}, Prodigy.extends(Prodigy.Lamplight_Store_Pt2_A3, Prodigy.Lamplight_Store_Pt2, {
	constructor: Prodigy.Lamplight_Store_Pt2_A3
}), Prodigy.Lamplight_Another_Monster = function (e, t) {
	Prodigy.Scene.call(this, e, "C2", t.concat(["npc-sprite-noot"])), this._loadingData.time = 1
}, Prodigy.extends(Prodigy.Lamplight_Another_Monster, Prodigy.Scene, {
	constructor: Prodigy.Lamplight_Another_Monster,
	start: function (e, t) {
		this.addMonster(e, t, 0, 190, 317, !1, {
			encounter: [{
				ID: 13
			}]
		}, !0), Prodigy.Scene.prototype.start.call(this, e, t);
		var i = e.prodigy.event.create();
		i.enableInput(!1), i.function(this.enterScene.bind(this, e, t)), i.delay(1e3), i.enableInput(!0), i.text(141, "noot"), i.function(this.end.bind(this, e, t, !0)), i.start()
	},
	end: function (e, t, i) {
		i && (this._zone.completeSequence(1, 4), e.prodigy.world.teleport("lamplight-C2", 200, 600, null, {
			fadeIn: !0,
			time: 500,
			fadeOut: !0
		}))
	}
}), Prodigy.Lamplight_Boss = function (e, t) {
	Prodigy.Scene.call(this, e, "B0", t.concat(["npc-sprite-noot", "npc-sprite-puppetmaster", "npc-sprite-pippit", "zone-lamplight", "bgm-puppetmaster"])), this._loadingData.time = 1
}, Prodigy.extends(Prodigy.Lamplight_Boss, Prodigy.Scene, {
	constructor: Prodigy.Lamplight_Boss,
	setup: function (e, t, i) {
		Prodigy.Scene.prototype.setup.call(this, e, t, i), t.user.x = 150, t.user.y = 800, this._bridge = this.createBridge(e, t), this._gems = this.createGems(e, t), this._bolt = this.createBolt(e, t, 0, 0), this._sparks = this.createSparks(e, t, 400, 490), this._master = new Prodigy.Container.PuppetMaster(e, t.content, 1480, -200), this._pippit = new Prodigy.Container.Pippit(e, t.content, 1480, -200), this._pippit.flip(), this._master.alpha = this._pippit.alpha = 1, this._zone.util.showPedestals(e, t)
	},
	start: function (e, t) {
		Prodigy.Scene.prototype.start.call(this, e, t, null);
		var i = this.addNPC(e, t, 150, 800, "npc-sprite-noot");
		i.float(!0), i.walkSpeed = 2;
		var a = e.prodigy.event.create();
		a.enableInput(!1), a.function(this.enterScene.bind(this, e, t)), a.delay(1e3), a.validPath(t.user, t.path, 290, 490), a.validPath(i, t.path, 400, 490), a.enableInput(!0), a.text(143, "noot"), a.text(144, "noot"), a.enableInput(!1), a.function(i.chat.bind(i, 1)), a.bgm(), a.shake(0, 2e3, 5, "v"), a.enableInput(!0), a.text(145, "noot"), a.text(146, "noot"), a.enableInput(!1), a.bgm("bgm-puppetmaster"), a.hop(t.user, 200, 0, 50, !0), a.hop(i, 200, 0, 50), a.function(i.chat.bind(i, 1)), a.function(t.user.chat.bind(t.user, 1)), a.functionCallback(this.fireBolts.bind(this, e, t, 0)), a.function(this.fireSparks.bind(this, e, t, !0)), a.function(this.fireSparks.bind(this, e, t, !1)), a.enableInput(!0), a.text(147, "noot"), a.text(148, "noot"), a.text(149, "noot"), a.enableInput(!1), a.functionCallback(this.fadeBridge.bind(this, e, t, this._bridge)), a.functionCallback(this.enterBoss.bind(this, e, t, 880, 480)), a.delay(500), a.enableInput(!0), a.text(), a.text(0, "puppetmaster"), a.text(1, "puppetmaster"), a.text(), a.text(150, "noot"), a.text(), a.text(2, "puppetmaster"), a.text(), a.text(151, "noot"), a.text(152, "noot"), a.text(), a.text(3, "puppetmaster"), a.text(4, "puppetmaster"), a.text(), a.function(this._pippit.chat.bind(this._pippit, 1, 100)), a.text(0, "pippit"), a.text(), a.function(this._master.chat.bind(this._master, 7, 200)), a.delay(2e3), a.function(this._master.flip.bind(this._master)), a.function(this._master.chat.bind(this._master, 6, 200)), a.text(5, "puppetmaster"), a.enableInput(!1), a.hop(this._master, 0, 0, 50, !1), a.hop(this._master, 0, 0, 50, !1), a.hop(this._master, 0, 0, 50, !1), a.hop(this._master, 0, 0, 50, !1), a.hop(this._master, 0, 0, 50, !1), a.enableInput(!0), a.function(this._master.chat.bind(this._master, 6, 200)), a.text(6, "puppetmaster"), a.text(), a.function(this._pippit.chat.bind(this._pippit, 11, 100)), a.text(1, "pippit"), a.text(), a.text(7, "puppetmaster"), a.text(), a.text(153, "noot"), a.text(), a.enableInput(!1), a.validPath(t.user, t.path, 75, 820, !1), a.validPath(i, t.path, 120, 820, !1), a.enableInput(!0), a.function(this._pippit.chat.bind(this._pippit, 14, 100)), a.text(2, "pippit"), a.text(), a.function(this._master.chat.bind(this._master, 3, 200)), a.text(8, "puppetmaster"), a.text(9, "puppetmaster"), a.enableInput(!1), a.function(this._pippit.flip.bind(this._pippit)), a.functionCallback(this.enterBoss.bind(this, e, t, 1480, -200)), a.delay(500), a.enableInput(!0), a.function(this.end.bind(this, e, t)), a.start()
	},
	end: function (e) {
		this._zone.completeSequence(1, 5), e.prodigy.world.teleport("lamplight-B1")
	},
	createBridge: function (e, t) {
		var i = e.prodigy.create.element(t.foreground, 500, 0);
		i.add(e.prodigy.create.sprite(0, 0, "zone-lamplight", "rainbowbridge-rail")), i.add(e.prodigy.create.sprite(280, 0, "zone-lamplight", "rainbowbridge-rail")).scale.x = -1;
		for (var a = [], s = 1; 8 >= s; s++) a.push("rainbowbridge-" + s);
		for (var s = 0; 5 > s; s++)
			for (var r = 0; 5 > r; r++) {
				var o = i.add(e.prodigy.create.sprite(40 + 40 * s, 40 * r, "zone-lamplight", "rainbowbridge-1"));
				o.alpha = .7, o.animations.add("glow", a, 10, !0, !1), o.animations.play("glow")
			}
		return i
	},
	fadeBridge: function (e, t, i, a) {
		var s = e.add.tween(i).to({
			alpha: .75
		}, 250, Phaser.Easing.Quadratic.InOut).to({
			alpha: 1
		}, 250, Phaser.Easing.Quadratic.InOut).to({
			alpha: .5
		}, 250, Phaser.Easing.Quadratic.InOut).to({
			alpha: .75
		}, 250, Phaser.Easing.Quadratic.InOut).to({
			alpha: .25
		}, 250, Phaser.Easing.Quadratic.InOut).to({
			alpha: .5
		}, 250, Phaser.Easing.Quadratic.InOut).to({
			alpha: 0
		}, 250, Phaser.Easing.Quadratic.InOut).to({
			alpha: .25
		}, 250, Phaser.Easing.Quadratic.InOut).to({
			alpha: 0
		}, 250, Phaser.Easing.Quadratic.InOut).start();
		s.onComplete.add(a)
	},
	createBolt: function (e, t, i, a) {
		var s = e.prodigy.create.element(t.foreground, i, a),
			r = e.prodigy.create.element(s, 0, 0);
		return r.add(new Phaser.TileSprite(e, 0, 0, 120, 440, "zone-lamplight", "beam-mid")), r.add(e.prodigy.create.sprite(0, 440, "zone-lamplight", "beam-bot")), s.alpha = 0, s
	},
	fireBolts: function (e, t, i, a) {
		if (i >= 5) return a(), void 0;
		var s = e.add.tween(this._bolt).to({
			x: 340 + 120 * i,
			y: -440
		}, 10, Phaser.Easing.Linear.None).to({
			alpha: .3
		}, 10, Phaser.Easing.Linear.None).to({
			y: (i + 1) % 2 * -80
		}, 100, Phaser.Easing.Linear.None).to({}, 300, Phaser.Easing.Linear.None).to({
			alpha: 0
		}, 100, Phaser.Easing.Quadratic.Out);
		s.start(), s.onComplete.add(this.fireBolts.bind(this, e, t, i + 1, a)), e.add.tween(this._gems[i]).to({
			alpha: 0
		}, 200, Phaser.Easing.Linear.None).delay(500).start()
	},
	createSparks: function (e, t, i, a) {
		var s = t.foreground.add(e.prodigy.create.sprite(i, a, "zone-lamplight", "sparks-0"));
		return s.alpha = 0, s
	},
	fireSparks: function (e, t, i) {
		i ? (this._sparks.animations.add("sparks", ["sparks-0", "sparks-1", "sparks-2", "sparks-3"], 10, !0, !1), this._sparks.animations.play("sparks", 10, !0)) : this._sparks.animations.stop("sparks")
	},
	createGems: function (e, t) {
		for (var i = [], a = ["earth", "ice", "air", "fire", "water"], s = 0; 5 > s; s++) {
			var r = t.foreground.add(e.prodigy.create.sprite(360 + 120 * s, 160 + s % 2 * 80 + 10, "zone-lamplight", "warden-" + a[s]));
			e.add.tween(r).to({
				y: r.y + 10
			}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0).start(), i.push(r)
		}
		return i
	},
	enterBoss: function (e, t, i, a, s) {
		e.add.tween(this._master).to({
			x: i,
			y: a
		}, 1e3, Phaser.Easing.Linear.None).start();
		var r = e.add.tween(this._pippit).to({
			x: i + 175,
			y: a + 10
		}, 1e3, Phaser.Easing.Linear.None).delay(1e3).start();
		r.onComplete.add(s)
	}
}), Prodigy.Lamplight_End = function (e, t) {
	Prodigy.Scene.call(this, e, "B1", t.concat(["npc-sprite-noot", "bgm-lamplight"])), this._loadingData.time = 1
}, Prodigy.extends(Prodigy.Lamplight_End, Prodigy.Scene, {
	constructor: Prodigy.Lamplight_End,
	setup: function (e, t, i) {
		Prodigy.Scene.prototype.setup.call(this, e, t, i), t.user.x = 160, t.user.y = 0, this._noot = this.addNPC(e, t, 160, 0, "npc-sprite-noot"), this._noot.float(!0)
	},
	start: function (e, t) {
		Prodigy.Scene.prototype.start.call(this, e, t, "bgm-lamplight");
		var i = e.prodigy.event.create();
		i.enableInput(!1), i.function(this.enterScene.bind(this, e, t)), i.delay(1e3), i.path(t.user, [{
			x: 540,
			y: 430
		}], null, !0), i.path(this._noot, [{
			x: 740,
			y: 430
		}], 2), i.function(this._noot.flip.bind(this._noot)), i.delay(500), i.enableInput(!0), i.text(154, "noot"), i.text(155, "noot"), i.text(156, "noot"), i.enableInput(!1), i.path(this._noot, [{
			x: 840,
			y: 430
		}], 1), i.delay(500), i.enableInput(!0), i.text(157, "noot"), i.enableInput(!1), i.delay(500), i.function(this._noot.chat.bind(this._noot, 1)), i.hop(this._noot, 300, 0, 100), i.path(this._noot, [{
			x: 690,
			y: 430
		}], 2), i.enableInput(!0), i.text(158, "noot"), i.text(159, "noot"), i.functionCallback(e.prodigy.open.nameChange.bind(e.prodigy.open, !1)), i.function(t.user.showName.bind(t.user, !0)), i.text(160, "noot"), i.enableInput(!1), i.enableInput(!0), i.text(161, "noot"), i.text(162, "noot"), i.reward([{
			ID: 13,
			type: "key"
		}]), i.text(163, "noot"), i.text(164, "noot"), i.enableInput(!1), i.hop(this._noot, 300, -150, 100), i.set(this._noot, "visible", !1), i.delay(500), i.enableInput(!0), i.function(this.end.bind(this, e, t)), i.start()
	},
	end: function (e) {
		this._zone.completeQuest(1), this._zone.startQuest(2), e.prodigy.world.teleport("lamplight-B1", 540, 430, null, {
			fadeIn: !0,
			time: 500,
			fadeOut: !0
		})
	}
}), Prodigy.Component.Wheel = function (e, t, i) {
	Prodigy.Control.Element.call(this, e, t, 0, 0), this.player = e.prodigy.player, this.screen = i, this.wheelItems = [], this.config = null, this.dialogue = null
}, Prodigy.extends(Prodigy.Component.Wheel, Prodigy.Control.Element, {
	constructor: Prodigy.Component.Wheel,
	setup: function () {
		this.wasVisible = Util.isDefined(this.screen.questProgress) && this.screen.questProgress.visible, this.wasVisible && (this.screen.questProgress.visible = !1);
		var e = this.game.world.centerX,
			t = this.game.world.centerY,
			i = this.add(this.game.prodigy.create.sprite(e + this.config.wheelFrameOffset.x, this.config.wheelFrameOffset.y, this.config.wheelAtlas, this.config.wheelFrameKey));
		i.anchor.setTo(.5, 0), this.wheel = this.game.prodigy.create.element(this, e + this.config.wheelOffset.x, t + this.config.wheelOffset.y), this.wheelAngle = 18, this.wheel.angle = this.wheelAngle, this.spinAngle = 0;
		var a = this.wheel.add(this.game.prodigy.create.sprite(0, 0, this.config.wheelAtlas, this.config.wheelBigKey));
		a.anchor.setTo(.5, .5);
		for (var s, r = 0; r < this.wheelItems.length; r++) s = this.game.prodigy.create.icon(this.wheel, 0, 0, "icons", Util.convertItemToIcon(this.wheelItems[r].item), 1), s.sprite.anchor.setTo(.5, 3), s.sprite.scale.setTo(.7, .7), s.sprite.angle = 36 * r + this.wheelAngle;
		var o = this.add(this.game.prodigy.create.sprite(i.x + this.config.wheelPointerOffset.x, i.y + this.config.wheelPointerOffset.y, this.config.wheelAtlas, this.config.wheelPointerKey));
		o.anchor.setTo(.5, 0)
	},
	spin: function (e, t) {
		var i = GameConstants.get("GameConstants.Features.Wheel.SPIN_TIME");
		GameConstants.get("GameConstants.Build.DEBUG") && Prodigy.Component.Wheel.DEBUG_SPIN_TIME_MS > 0 && (i = Prodigy.Component.Wheel.DEBUG_SPIN_TIME_MS), this.spinAngle = -36 * (this.selectedIndex + 1) - this.spinAngle, this.playSound(i, 100), this.wheelAngle += 2880 + this.spinAngle;
		var a = this.game.add.tween(this.wheel).to({
			angle: this.wheelAngle
		}, i, Phaser.Easing.Cubic.Out).start();
		a.onComplete.addOnce(t, this)
	},
	playSound: function (e, t) {
		if (e > 0) {
			this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.WORLD, "tick");
			var i = t + 9e-7 * Math.pow(t, 3);
			setTimeout(this.playSound.bind(this, e - i, i), t)
		}
	},
	spinComplete: function (e, t) {
		this.dialogue.close(), this.game.prodigy.open.gotItem([this.wheelItems[e].item], t)
	},
	tryAgain: function () {},
	showComeBackToSpinMessage: function () {
		this.close()
	},
	close: function () {
		this.wasVisible && (this.screen.questProgress.visible = !0), this.destroy()
	}
}), Prodigy.Component.Wheel.DEBUG_SPIN_TIME_MS = -1, Prodigy.Component.Wheel.DAY_WHEEL_CONFIG = {
	wheelAtlas: "zone-lamplight",
	wheelFrameKey: "wheelFrame",
	wheelBigKey: "wheelBig",
	wheelPointerKey: "wheelPointer",
	wheelFrameOffset: {
		x: 0,
		y: 0
	},
	wheelOffset: {
		x: 0,
		y: -55
	},
	wheelPointerOffset: {
		x: 0,
		y: 85
	},
	wheelPosition: {
		x: 100,
		y: 80
	},
	wheelDimensions: {
		w: 160,
		h: 200
	},
	wheelTarget: {
		x: 180,
		y: 280
	},
	npcPosition: {
		x: 310,
		y: 300
	},
	npcName: "Wheeler",
	npcHead: 7,
	npcHat: 5,
	npcDialogue: [{
		text: "Hello there! Do you want to spin the Wheel of Wonder?",
		anim: 4
	}, {
		text: "Let's spin that wheel!",
		anim: 4
	}, {
		text: "Sorry, you'll have to come back tomorrow to spin again!",
		anim: 1
	}, {
		text: "Fantastic! Want to spin again?",
		anim: 4
	}]
}, Prodigy.Component.Wheel.Twilight_WHEEL_CONFIG = {
	wheelAtlas: "zone-lamplight",
	wheelFrameKey: "twilightWheelFrame",
	wheelBigKey: "twilightWheelBig",
	wheelPointerKey: "twilightWheelPointer",
	wheelFrameOffset: {
		x: 0,
		y: 32
	},
	wheelOffset: {
		x: 0,
		y: -84
	},
	wheelPointerOffset: {
		x: 0,
		y: 40
	},
	wheelPosition: {
		x: 1e3,
		y: 80
	},
	wheelDimensions: {
		w: 200,
		h: 200
	},
	wheelTarget: {
		x: 1100,
		y: 280
	},
	npcPosition: {
		x: 970,
		y: 300
	},
	npcName: "Spinner",
	npcHead: 2,
	npcHat: 1,
	npcDialogue: [{
		text: "Please come back between 4pm and 11pm to spin the Twilight Wheel for great prizes!",
		anim: 2
	}, {
		text: "Hi there! Do you want to Spin the Twilight Wheel?",
		anim: 1
	}, {
		text: "Watch that wheel spin!",
		anim: 4
	}, {
		text: "Sorry, you'll have to come back tomorrow to spin again!",
		anim: 2
	}, {
		text: "Fantastic! Want to spin again?",
		anim: 4
	}, {
		text: "Please come back tomorrow between 4pm and 11pm to spin the Twilight Wheel again for great prizes!",
		anim: 2
	}]
}, WHEELDATA_A = {
	tag: "Lamplight",
	zoneName: "zone-lamplight",
	atlas: "zone-lamplight",
	fullName: "Town Square",
	dialogue: [{
		text: "Hello there! Do you want to spin the Wheel of Wonder?",
		anim: 4
	}, {
		text: "Let's spin that wheel!",
		anim: 4
	}, {
		text: "Sorry, you'll have to come back tomorrow to spin again!",
		anim: 1
	}, {
		text: "Fantastic! Want to spin again?",
		anim: 4
	}]
};
var Wheel = function () {
	function e(e, t, i, a) {
		this.player = i, this.screen = a, Prodigy.Control.Element.call(this, e, t, 0, 25), this.setup();
		var s = WHEELDATA_A.dialogue[0];
		s.yes = this.trySpin.bind(this), s.no = this.close.bind(this);
		var r = e.prodigy.dialogue.create();
		r.setText(s), r.start("stache")
	}
	return e.DEBUG_SPIN_TIME_MS = -1, e.prototype = Object.create(Prodigy.Control.Element.prototype), e.prototype.setup = function () {
		this.wasVisible = Util.isDefined(this.screen.questProgress) && this.screen.questProgress.visible, this.wasVisible && (this.screen.questProgress.visible = !1), this.wheelItems = this.getWheelItems();
		var e = this.game.world.centerX,
			t = this.game.world.centerY - 80;
		this.add(this.game.prodigy.create.sprite(e - 262, t - 304, "zone-lamplight", "wheelFrame")), this.wheel = this.game.prodigy.create.element(this, e, t), this.wheelAngle = 18, this.wheel.angle = this.wheelAngle, this.spinAngle = 0;
		var i = this.wheel.add(this.game.prodigy.create.sprite(0, 0, "zone-lamplight", "wheelBig"));
		i.anchor.setTo(.5, .5);
		for (var a, s = 0; s < this.wheelItems.length; s++) a = this.game.prodigy.create.icon(this.wheel, 0, 0, "icons", Util.convertItemToIcon(this.wheelItems[s].item), 1), a.sprite.anchor.setTo(.5, 3), a.sprite.scale.setTo(.7, .7), a.sprite.angle = 36 * s + 18;
		this.add(this.game.prodigy.create.sprite(e - 250 + 236, t - 220, "zone-lamplight", "wheelPointer"))
	}, e.prototype.getWheelItems = function () {
		var e, t, i, a = [],
			s = Util.getDateTime(),
			r = ["outfit", "weapon", "boots"];
		switch (this.game.random.shuffleArray(r, s), Math.floor(3 * this.game.random.frac(s))) {
		case 0:
			if (e = this.game.random.pick(Items.getItems(r[0], 0), s), t = this.game.random.pick(Items.getItems(r[1], 3), s), i = this.game.random.pick(Items.getItems(r[2], 0), s), Util.isDefined(e) && Util.isDefined(t) && Util.isDefined(i)) {
				a[0] = {
					item: e,
					weight: 4
				}, a[4] = {
					item: t,
					weight: 1
				}, a[7] = {
					item: i,
					weight: 4
				};
				break
			}
			case 1:
				if (e = this.game.random.pick(Items.getItems(r[0], 1), s), t = this.game.random.pick(Items.getItems(r[1], 2), s), i = this.game.random.pick(Items.getItems(r[2], 0), s), Util.isDefined(e) && Util.isDefined(t) && Util.isDefined(i)) {
					a[0] = {
						item: e,
						weight: 3
					}, a[4] = {
						item: t,
						weight: 2
					}, a[7] = {
						item: i,
						weight: 4
					};
					break
				}
				case 2:
					if (e = this.game.random.pick(Items.getItems(r[0], 1), s), t = this.game.random.pick(Items.getItems(r[1], 1), s), i = this.game.random.pick(Items.getItems(r[2], 1), s), Util.isDefined(e) && Util.isDefined(t) && Util.isDefined(i)) {
						a[0] = {
							item: e,
							weight: 3
						}, a[4] = {
							item: t,
							weight: 3
						}, a[7] = {
							item: i,
							weight: 3
						};
						break
					}
		}
		for (var o = Items.getItems("item", 0), n = 0; 10 > n; n++)
			if (!Util.isDefined(a[n])) {
				var h = {
					item: {
						type: "gold",
						N: 100
					},
					weight: 13
				};
				n % 3 === 0 && (h = {
					item: this.game.random.pick(o, s + 7 * n % 13),
					weight: 13
				}), a[n] = h
			} return a
	}, e.prototype.trySpin = function () {
		if (this.player.data.numSpins > 0 && this.game.prodigy.network.sendAnalytics("Second-Wheel-Spin"), this.dialogue = this.game.prodigy.dialogue.create(), this.player.canSpin()) {
			var e = WHEELDATA_A.dialogue[1];
			e.hideNext = !0, this.dialogue.setText(e), this.startSpin()
		} else this.dialogue.setText(WHEELDATA_A.dialogue[2]), this.player.isMember || this.dialogue.setText({
			callback: this.game.prodigy.open.membership.bind(this.game.prodigy.open, Prodigy.Menu.MemberAd.WHEEL_SPIN)
		}), this.dialogue.setText({
			callback: this.close.bind(this)
		});
		this.dialogue.start("stache")
	}, e.prototype.close = function () {
		this.wasVisible && (this.screen.questProgress.visible = !0), this.destroy()
	}, e.prototype.startSpin = function () {
		var t = GameConstants.get("GameConstants.Features.Wheel.SPIN_TIME");
		GameConstants.get("GameConstants.Build.DEBUG") && e.DEBUG_SPIN_TIME_MS > 0 && (t = e.DEBUG_SPIN_TIME_MS), this.selectedIndex = this.wheelItems.indexOf(this.game.random.weightedArrayElement(this.wheelItems)), this.spinAngle = -36 * (this.selectedIndex + 1) - this.spinAngle, this.playSound(t, 100), this.wheelAngle += 2880 + this.spinAngle;
		var i = this.game.add.tween(this.wheel).to({
			angle: this.wheelAngle
		}, t, Phaser.Easing.Cubic.Out).start();
		i.onComplete.addOnce(this.endSpin, this), this.player.spinWheel()
	}, e.prototype.playSound = function (e, t) {
		if (!(0 >= e)) {
			this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.WORLD, "tick");
			var i = t + 9e-7 * Math.pow(t, 3);
			setTimeout(this.playSound.bind(this, e - i, i), t)
		}
	}, e.prototype.endSpin = function () {
		var e = (new Date).getHours();
		this.game.prodigy.network.sendAnalytics("Wheel-Spin-Completed-Control", e), this.dialogue.close(), this.game.prodigy.open.gotItem([this.wheelItems[this.selectedIndex].item], this.tryAgain.bind(this))
	}, e.prototype.tryAgain = function () {
		var e = WHEELDATA_A.dialogue[3];
		e.yes = this.trySpin.bind(this), e.no = this.close.bind(this), this.dialogue.setText(e), this.dialogue.start("stache")
	}, e
}();
Prodigy.Component.TwilightWheel = function (e, t, i) {
	if (Prodigy.Component.Wheel.call(this, e, t, i), e.prodigy.twilightWheelPrizes.initPrizes(Util.getDateTime()), this.config = Prodigy.Component.Wheel.Twilight_WHEEL_CONFIG, this.wheelItems = e.prodigy.twilightWheelPrizes.data.prizes, this.setup(), this.removeOldSpinDates(), this.canSpin()) {
		var a = this.config.npcDialogue[1];
		a.yes = this.trySpin.bind(this), a.no = this.close.bind(this);
		var s = e.prodigy.dialogue.create();
		s.setText(a), s.start("stache")
	} else this.showComeBackToSpinMessage()
}, Prodigy.extends(Prodigy.Component.TwilightWheel, Prodigy.Component.Wheel, {
	constructor: Prodigy.Component.TwilightWheel,
	trySpin: function () {
		if (this.dialogue = this.game.prodigy.dialogue.create(), this.removeOldSpinDates(), this.canSpin()) {
			var e = this.config.npcDialogue[2];
			e.hideNext = !0, this.dialogue.setText(e), this.startSpin()
		} else this.dialogue.setText(this.config.npcDialogue[5]), this.player.isMember || this.dialogue.setText({
			callback: this.game.prodigy.open.membership.bind(this.game.prodigy.open, Prodigy.Menu.MemberAd.WHEEL_SPIN)
		}), this.dialogue.setText({
			callback: this.close.bind(this)
		});
		this.dialogue.start("stache")
	},
	removeOldSpinDates: function () {
		if (Util.isDefined(this.player.data.spinDate) && Util.isDefined(this.player.data.spinDate.twilightDates))
			for (var e = null, t = new Date, i = 0; i < this.player.data.spinDate.twilightDates.length; i++) e = new Date(this.player.data.spinDate.twilightDates[i]), (e.getUTCDay() !== t.getUTCDay() || e.getUTCMonth() !== t.getUTCMonth() || e.getUTCFullYear() !== t.getUTCFullYear()) && (this.player.data.spinDate.twilightDates.splice(i, 1), i++)
	},
	canSpin: function () {
		return this.remainingSpins() > 0
	},
	remainingSpins: function () {
		var e = Util.isDefined(this.player.data.spinDate) && Util.isDefined(this.player.data.spinDate.twilightDates) ? this.player.data.spinDate.twilightDates.length : 0;
		return (this.player.isMember ? GameConstants.get("GameConstants.Features.TwilightWheel.MEMBER_SPINS") : GameConstants.get("GameConstants.Features.TwilightWheel.DEFAULT_SPINS")) - e
	},
	setSpinDate: function () {
		Util.isDefined(this.player.data.spinDate) || (this.player.data.spinDate = {}), Util.isDefined(this.player.data.spinDate.twilightDates) || (this.player.data.spinDate.twilightDates = []), this.player.data.spinDate.twilightDates.push((new Date).getTime()), this.player.updated = !0
	},
	startSpin: function () {
		var e = GameConstants.get("GameConstants.Features.TwilightWheel.RIGGED_REWARD");
		this.selectedIndex = Util.isDefined(e) ? e : this.wheelItems.indexOf(this.game.random.weightedArrayElement(this.wheelItems)), this.spin(this.selectedIndex, this.spinComplete.bind(this))
	},
	spinComplete: function () {
		this.setSpinDate();
		var e = (new Date).getHours();
		this.game.prodigy.network.sendAnalytics("Twilight-Wheel-Spin-Completed", e), this.dialogue.close(), this.game.prodigy.open.gotItem([this.game.prodigy.twilightWheelPrizes.getReward(this.selectedIndex).item], this.tryAgain.bind(this))
	},
	tryAgain: function () {
		var e = this.config.npcDialogue[4];
		e.yes = this.trySpin.bind(this), e.no = this.close.bind(this), this.dialogue.setText(e), this.dialogue.start("stache")
	},
	showComeBackToSpinMessage: function () {
		var e = this.game.prodigy.player.isMember ? null : this.game.prodigy.open.membership.bind(this.game.prodigy.open, Prodigy.Menu.MemberAd.WHEEL_SPIN);
		this.game.prodigy.open.messageBoxOkay(this.config.npcDialogue[5].text, "okay", e), Prodigy.Component.Wheel.prototype.showComeBackToSpinMessage.call(this)
	}
}), Prodigy.Component.BountyBoard = function (e, t, i) {
	this.game = e, this.config = Prodigy.Component.BountyBoard.CONFIG, this.setupBountyBoard(t, i), e.prodigy.player.hasCompletedTutorial() && i.addGnome(e, t, this.config.boardyPosition.x, this.config.boardyPosition.y, "Boardy", 4, 3, this.boardText.bind(this))
}, Prodigy.Component.BountyBoard.prototype = {
	constructor: Prodigy.Component.BountyBoard,
	setupBountyBoard: function (e, t) {
		var i = this.game.prodigy.player.hasCompletedTutorial(),
			a = i ? this.openBoard.bind(this, e) : this.game.prodigy.open.message.bind(this.game.prodigy.open, "Reach Firefly Forest to unlock the bounty board!", null);
		if (t.addClickableEvent(this.game, e, this.config.bountyBoardClickableEvent.x, this.config.bountyBoardClickableEvent.y, this.config.bountyBoardClickableEvent.w, this.config.bountyBoardClickableEvent.h, a, null), i) {
			this.pages = [];
			for (var s = 0; s < this.game.prodigy.player.state.get("world-bounties").length; s++) {
				var r = s + 84,
					o = this.game.prodigy.player.backpack.hasItem("item", r),
					n = o && 1 === this.game.prodigy.player.backpack.getItemData(this.game.prodigy.player.backpack.getItem("item", r), "complete"),
					h = this.game.prodigy.player.state.get("world-bounties")[s] > 0;
				!n && h && (this.pages[s] = e.content.add(this.game.prodigy.create.sprite(this.config.bountyNotesPosition.x + 20 * s, this.config.bountyNotesPosition.y, "zone-lamplight", "page")))
			}
		}
	},
	openBoard: function (e) {
		var t = this.game.prodigy.event.create();
		t.validPath(e.user, e.path, this.config.bountyBoardTarget.x, this.config.bountyBoardTarget.y), t.function(this.game.prodigy.open.bountyBoard.bind(this.game.prodigy.open)), t.start()
	},
	destroyPage: function (e) {
		Util.isDefined(this.pages[e]) && this.pages[e].destroy()
	},
	boardText: function () {
		for (var e = this.game.prodigy.bounty.getBounties(), t = 0, i = 0; i < e.length; i++)
			if (Util.isDefined(e[i].complete)) {
				this.game.prodigy.network.sendAnalytics("Bounty", "complete", "Events"), t += this.game.prodigy.bounty.getReward(e[i]);
				var a = this.game.prodigy.player.state.get("world-bounties");
				a[e[i].ID - 84] = -1 * a[e[i].ID - 84], this.game.prodigy.player.state.set("world-bounties", a), this.destroyPage(e[i].ID - 84), this.game.prodigy.player.backpack.consume("item", e[i].ID, 1)
			} if (t > 0) {
			var s = this.game.prodigy.event.create();
			s.text(13, "merchant"), s.function(this.game.prodigy.open.gotItem.bind(this.game.prodigy.open, [{
				type: "bounty",
				N: t
			}])), s.start(), this.game.prodigy.player.addBountyScore(t)
		} else this.openStore()
	},
	getState: function (e) {
		var t = this.game.prodigy.world.getZone("lamplight");
		return t.getState(e)
	},
	setState: function (e, t) {
		var i = this.game.prodigy.world.getZone("lamplight");
		i.setState(t, e)
	},
	openStore: function () {
		var e = this.game.prodigy.event.create(),
			t = {
				tag: "emblem-rank1",
				atlas: "icons",
				callback: this.game.prodigy.player.getBountyScore.bind(this.game.prodigy.player),
				pages: [{
					btn: {
						icon: "emblem-bounty",
						top: "5",
						bot: "BP"
					},
					icon: "emblem-bounty",
					rank: 5,
					top: "5 Bounty Pts.",
					items: [{
						ID: 76,
						type: "item"
					}, {
						ID: 77,
						type: "item"
					}]
				}, {
					btn: {
						icon: "emblem-bounty",
						top: "20",
						bot: "BP"
					},
					icon: "emblem-bounty",
					rank: 20,
					top: "20 Bounty Pts.",
					items: [{
						ID: 63,
						type: "hat"
					}, {
						ID: 54,
						type: "outfit"
					}]
				}, {
					btn: {
						icon: "emblem-bounty",
						top: "50",
						bot: "BP"
					},
					icon: "emblem-bounty",
					rank: 50,
					top: "50 Bounty Pts.",
					items: [{
						ID: 62,
						type: "hat"
					}, {
						ID: 53,
						type: "outfit"
					}]
				}, {
					btn: {
						icon: "emblem-bounty",
						top: "100",
						bot: "BP"
					},
					icon: "emblem-bounty",
					rank: 100,
					top: "100 Bounty Pts.",
					items: [{
						ID: 78,
						type: "weapon"
					}, {
						ID: 79,
						type: "weapon"
					}]
				}]
			};
		e.yesNoText(17, "merchant"), e.function(this.game.prodigy.open.rankStore.bind(this.game.prodigy.open, t, "bounty")), e.start()
	}
}, Prodigy.Component.BountyBoard.CONFIG = {
	boardyPosition: {
		x: 860,
		y: 400
	},
	bountyBoardClickableEvent: {
		x: 900,
		y: 220,
		w: 160,
		h: 180
	},
	bountyNotesPosition: {
		x: 942.5,
		y: 300
	},
	bountyBoardTarget: {
		x: 980,
		y: 425
	}
}, Prodigy.Activity_Zone = function (e) {
	Prodigy.Zone.call(this, e), this.name = "Activity_Zone", this.ID = "activity_zone", this.battleBG = "bg-battle-forest", this.onFaint = "activity_zone-B3", this.questHub = "activity_zone-B3", this.states = ["firstVisit", "dailyQuest", "questCompleteDialogue", "questExpiredDialogue", "handedOverQuest", "chest1"], this.monsterIds = [{
		ID: 19
	}, {
		ID: 21
	}, {
		ID: 22
	}, {
		ID: 34
	}, {
		ID: 36
	}, {
		ID: 37
	}, {
		ID: 41
	}, {
		ID: 53
	}, {
		ID: 54
	}, {
		ID: 58
	}, {
		ID: 60
	}, {
		ID: 64
	}, {
		ID: 65
	}, {
		ID: 67
	}, {
		ID: 70
	}, {
		ID: 71
	}, {
		ID: 75
	}, {
		ID: 82
	}, {
		ID: 88
	}, {
		ID: 93
	}], this.util = new Prodigy.Activity_ZoneUtil(e, this);
	var t = ["tileset-forest-new", "tileset-generic-new", "tileset-collisions", "tileset-activityzone"];
	this.maps = {
		A1: new Prodigy.Activity_Zone_A1(this, t),
		A2: new Prodigy.Activity_Zone_A2(this, t),
		B1: new Prodigy.Activity_Zone_B1(this, t),
		B2: new Prodigy.Activity_Zone_B2(this, t),
		B3: new Prodigy.Activity_Zone_B3(this, t),
		C1: new Prodigy.Activity_Zone_C1(this, t),
		C2: new Prodigy.Activity_Zone_C2(this, t)
	}
}, Prodigy.extends(Prodigy.Activity_Zone, Prodigy.Zone, {
	constructor: Prodigy.Activity_Zone
}), Prodigy.Activity_ZoneUtil = function (e, t) {
	Prodigy.ZoneUtil.call(this, e, t), Prodigy.Activity_ZoneUtil.FORCE_MONSTER_TYPE = !1, Prodigy.Activity_ZoneUtil.MONSTER_ID = 0
}, Prodigy.extends(Prodigy.Activity_ZoneUtil, Prodigy.ZoneUtil, {
	constructor: Prodigy.Activity_ZoneUtil,
	getDailyQuestData: function (e) {
		var t;
		switch (e) {
		case 0:
			var i = this.getMonsterId(),
				a = "Defeat 6 " + Monsters.data[i.ID].name + (22 === i.ID ? "" : "s"),
				s = "monster-normal-" + i.ID,
				r = this._game.prodigy.assets.getImageBounds(s),
				o = this._game.prodigy.assets.getImagePivots(s),
				n = Util.isDefined(o[0]) ? -o[0] : -r[0],
				h = -r[3];
			t = {
				description: a,
				source: s,
				frame: null,
				xOffset: n,
				yOffset: h
			}
		}
		return t
	},
	getDailyQuestDescription: function (e) {
		var t = {};
		switch (e) {
		case 0:
			t = {
				type: "pet",
				ID: this.getMonsterId().ID,
				N: this.getRemainingQuestObjectives()
			}
		}
		return t
	},
	getMonsterId: function () {
		var e;
		if (GameConstants.get("GameConstants.Build.DEBUG") && Prodigy.Activity_ZoneUtil.FORCE_MONSTER_TYPE) e = this._zone.monsterIds[Prodigy.Activity_ZoneUtil.MONSTER_ID % this._zone.monsterIds.length];
		else {
			var t = this.hasDailyQuestExpired() || this.isDailyQuestComplete() || !Util.isDefined(this._zone.getState("dailyQuest")) ? Util.getDateId() : this._zone.getState("dailyQuest").dateId;
			e = this._zone.monsterIds[Math.floor(this._game.random.frac(t) * this._zone.monsterIds.length)]
		}
		return e
	},
	getMonsterList: function () {
		if (this.hasDailyQuestExpired() || this.isDailyQuestComplete() && this._zone.getState("handedOverQuest")) return this._zone.monsterIds;
		for (var e = Util.copyObject(this._zone.monsterIds), t = this.getMonsterId(), i = 0; i < e.length; i++)
			if (t.ID === e[i].ID) return e.splice(i, 1), e
	},
	onNpcClicked: function () {
		var e = this._game.prodigy.event.create();
		this._game.prodigy.network.sendAnalytics("activity-zone-npc", "speak-npc-MVP", "Events"), this.isDailyQuestComplete() === !0 ? (e.text(3, "swoopy"), e.text(4, "swoopy"), e.function(this.endQuest.bind(this))) : this.hasDailyQuestExpired() === !0 ? (e.text(0, "swoopy"), e.text(1, "swoopy"), e.function(this._game.prodigy.open.questDescription.bind(this._game.prodigy.open, this.getDailyQuestData(this.generateQuestId()), this.startQuest.bind(this)))) : e.text(2, "swoopy"), e.start()
	},
	startQuest: function () {
		this.startNewDailyQuest(this.generateQuestId(), 6), this._zone.setState("questCompleteDialogue", !1), this._zone.setState("questExpiredDialogue", !1), this._zone.setState("handedOverQuest", !1), Util.isDefined(this.screen) && this.screen.process.call(this.screen, !0)
	},
	endQuest: function () {
		this._zone.setState("handedOverQuest", !0), Util.isDefined(this.screen) && this.screen.process.call(this.screen, !0)
	}
}), Prodigy.Activity_Zone_Map = function (e, t, i, a, s, r, o) {
	Prodigy.Map.call(this, e, t, i, a, s, r, o)
}, Prodigy.extends(Prodigy.Activity_Zone_Map, Prodigy.Map, {
	constructor: Prodigy.Activity_Zone_Map,
	setup: function (e, t, i) {
		if (Prodigy.Map.prototype.setup.call(this, e, t, i), Util.isDefined(this.monsterCoords)) {
			var a = "Oops! You can't capture any monsters on this island.";
			if (this._zone.util.hasDailyQuestExpired() || this._zone.util.isDailyQuestComplete()) this.defaultMonsterSetup(e, t, a);
			else if (0 === this._zone.getState("dailyQuest").questId)
				if (this._zone.getState("dailyQuest").questState[this.mapId] === !0) this.defaultMonsterSetup(e, t, a);
				else
					for (var s = this._zone.util.getMonsterId(), r = Math.floor(this.game.random.frac(this._zone.getState("dailyQuest").dateId) * this.mapId) % this.monsterCoords.length, o = {
							randDir: !0,
							encounter: this._zone.util.getMonsterList(),
							catchOverrideMessage: a
						}, n = {
							randDir: !0,
							encounter: [s],
							catchOverrideMessage: a,
							highlight: !0,
							dailyQuest: this.mapId,
							zoneId: this._zone.ID,
							drops: [{
								type: "currency",
								ID: 9,
								N: 2
							}]
						}, h = !1, l = 0; l < this.monsterCoords.length; l++) l !== r ? (h = Util.isDefined(this._monsters[l + 1]) && Util.isDefined(this._monsters[l + 1].data) && Util.isDefined(this._monsters[l + 1].data.ID) && this._monsters[l + 1].data.ID === s.ID, this.addMonster(e, t, l + 1, this.monsterCoords[l].x, this.monsterCoords[l].y, !1, o, !1, null, h)) : this.addMonster(e, t, l + 1, this.monsterCoords[l].x, this.monsterCoords[l].y, !0, n, !1, null, !0)
		}
	},
	start: function (e, t, i) {
		Prodigy.Map.prototype.start.call(this, e, t, i);
		var a = this.game.prodigy.event.create();
		if (Util.isDefined(this._zone.getState("questCompleteDialogue")) && this._zone.getState("questCompleteDialogue") === !1 && this._zone.util.isDailyQuestComplete()) {
			var s = this._zone.ID.replace("_", "-");
			this.game.prodigy.network.sendAnalytics(s + "-quests", "quests-completed-MVP", "Events"), a.text(41, "noot"), a.function(this._zone.setState.bind(this._zone, "questCompleteDialogue", !0)), a.start()
		} else Util.isDefined(this._zone.getState("questExpiredDialogue")) && this._zone.getState("questExpiredDialogue") === !1 && this._zone.getState("handedOverQuest") === !1 && this._zone.util.hasDailyQuestExpired() && (a.text(166, "noot"), a.function(this._zone.setState.bind(this._zone, "questExpiredDialogue", !0)), a.start())
	},
	defaultMonsterSetup: function (e, t, i) {
		for (var a = {
				randDir: !0,
				encounter: this._zone.util.getMonsterList(),
				catchOverrideMessage: i
			}, s = 0; s < this.monsterCoords.length; s++) this.addMonster(e, t, s + 1, this.monsterCoords[s].x, this.monsterCoords[s].y, !1, a)
	}
}), Prodigy.Activity_Zone_A1 = function (e, t) {
	this.mapId = 0, this.monsterCoords = [{
		x: 260,
		y: 250
	}, {
		x: 680,
		y: 320
	}, {
		x: 760,
		y: 560
	}], Prodigy.Activity_Zone_Map.call(this, e, "A1", "Northwest Area", 260, 620, ["activity_zone-B1", "activity_zone-A2"], t)
}, Prodigy.extends(Prodigy.Activity_Zone_A1, Prodigy.Activity_Zone_Map, {
	constructor: Prodigy.Activity_Zone_A1,
	setup: function (e, t, i) {
		Prodigy.Activity_Zone_Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1240,
			y: 220,
			w: 80,
			h: 120,
			rect: !0
		}, "activity_zone-B1", 100, 240, null, AreaEvent.RIGHT, !1), this.addAreaEvent(e, t, {
			x: 1240,
			y: 420,
			w: 80,
			h: 120,
			rect: !0
		}, "activity_zone-B1", 100, 420, null, AreaEvent.RIGHT, !1), this.addAreaEvent(e, t, {
			x: 260,
			y: 680,
			w: 120,
			h: 80,
			rect: !0
		}, "activity_zone-A2", 300, 100, null, AreaEvent.DOWN, !1), this.addAreaEvent(e, t, {
			x: 1140,
			y: 680,
			w: 120,
			h: 80,
			rect: !0
		}, "activity_zone-A2", 1060, 100, null, AreaEvent.UP, !1)
	}
}), Prodigy.Activity_Zone_A2 = function (e, t) {
	this.mapId = 1, this.monsterCoords = [{
		x: 480,
		y: 240
	}, {
		x: 800,
		y: 440
	}], Prodigy.Activity_Zone_Map.call(this, e, "A2", "Western Shore", 1180, 480, ["activity_zone-B2", "activity_zone-A1"], t)
}, Prodigy.extends(Prodigy.Activity_Zone_A2, Prodigy.Activity_Zone_Map, {
	constructor: Prodigy.Activity_Zone_A2,
	setup: function (e, t, i) {
		Prodigy.Activity_Zone_Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 280,
			y: 40,
			w: 120,
			h: 80,
			rect: !0
		}, "activity_zone-A1", 260, 620, null, AreaEvent.UP, !1), this.addAreaEvent(e, t, {
			x: 1100,
			y: 40,
			w: 120,
			h: 80,
			rect: !0
		}, "activity_zone-A1", 1140, 620, null, AreaEvent.UP, !1), this.addAreaEvent(e, t, {
			x: 1240,
			y: 480,
			w: 80,
			h: 120,
			rect: !0
		}, "activity_zone-B2", 100, 500, null, AreaEvent.RIGHT, !1)
	}
}), Prodigy.Activity_Zone_B1 = function (e, t) {
	this.mapId = 2, this.monsterCoords = [{
		x: 640,
		y: 570
	}], Prodigy.Activity_Zone_Map.call(this, e, "B1", "Swing Bridge", 320, 480, ["activity_zone-A1", "activity_zone-C1", "activity_zone-B2"], t)
}, Prodigy.extends(Prodigy.Activity_Zone_B1, Prodigy.Activity_Zone_Map, {
	constructor: Prodigy.Activity_Zone_B1,
	setup: function (e, t, i) {
		Prodigy.Activity_Zone_Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 40,
			y: 220,
			w: 80,
			h: 120,
			rect: !0
		}, "activity_zone-A1", 1180, 220, null, AreaEvent.LEFT, !1), this.addAreaEvent(e, t, {
			x: 1240,
			y: 200,
			w: 80,
			h: 120,
			rect: !0
		}, "activity_zone-C1", 100, 160, null, AreaEvent.RIGHT, !1), this.addAreaEvent(e, t, {
			x: 220,
			y: 680,
			w: 120,
			h: 80,
			rect: !0
		}, "activity_zone-B2", 200, 100, null, AreaEvent.DOWN, !1), this.addAreaEvent(e, t, {
			x: 1180,
			y: 700,
			w: 120,
			h: 40,
			rect: !0
		}, "activity_zone-B2", 1160, 100, null, AreaEvent.DOWN, !1), this.addAreaEvent(e, t, {
			x: 1260,
			y: 620,
			w: 40,
			h: 120,
			rect: !0
		}, "activity_zone-C1", 100, 620, null, AreaEvent.RIGHT, !1), this.addAreaEvent(e, t, {
			x: 1240,
			y: 380,
			w: 80,
			h: 120,
			rect: !0
		}, "activity_zone-C1", 100, 360, null, AreaEvent.RIGHT, !1), this.addAreaEvent(e, t, {
			x: 40,
			y: 420,
			w: 80,
			h: 120,
			rect: !0
		}, "activity_zone-A1", 1180, 440, null, AreaEvent.RIGHT, !1)
	}
}), Prodigy.Activity_Zone_B2 = function (e, t) {
	this.mapId = 3, this.monsterCoords = [{
		x: 240,
		y: 340
	}, {
		x: 1e3,
		y: 340
	}], Prodigy.Activity_Zone_Map.call(this, e, "B2", "Island Center", 640, 360, ["activity_zone-B1", "activity_zone-A2", "activity_zone-C2", "activity_zone-B3"], t)
}, Prodigy.extends(Prodigy.Activity_Zone_B2, Prodigy.Activity_Zone_Map, {
	constructor: Prodigy.Activity_Zone_B2,
	setup: function (e, t, i) {
		Prodigy.Activity_Zone_Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 40,
			y: 500,
			w: 80,
			h: 280,
			rect: !0
		}, "activity_zone-A2", 1180, 480, null, AreaEvent.LEFT, !1), this.addAreaEvent(e, t, {
			x: 1240,
			y: 480,
			w: 80,
			h: 200,
			rect: !0
		}, "activity_zone-C2", 100, 480, null, AreaEvent.RIGHT, !1), this.addAreaEvent(e, t, {
			x: 200,
			y: 40,
			w: 160,
			h: 80,
			rect: !0
		}, "activity_zone-B1", 220, 620, null, AreaEvent.UP, !1), this.addAreaEvent(e, t, {
			x: 1160,
			y: 40,
			w: 160,
			h: 80,
			rect: !0
		}, "activity_zone-C1", 100, 620, null, AreaEvent.UP, !1), this.addAreaEvent(e, t, {
			x: 200,
			y: 680,
			w: 160,
			h: 80,
			rect: !0
		}, "activity_zone-B3", 200, 100, null, AreaEvent.DOWN, !1), this.addAreaEvent(e, t, {
			x: 1080,
			y: 680,
			w: 160,
			h: 80,
			rect: !0
		}, "activity_zone-B3", 1080, 100, null, AreaEvent.DOWN, !1)
	}
}), Prodigy.Activity_Zone_B3 = function (e, t) {
	Prodigy.Activity_Zone_Map.call(this, e, "B3", "Central Village", 640, 360, ["activity_zone-B2"], t.concat("npc-sprite-merchant"))
}, Prodigy.extends(Prodigy.Activity_Zone_B3, Prodigy.Activity_Zone_Map, {
	constructor: Prodigy.Activity_Zone_B3,
	setup: function (e, t, i) {
		Prodigy.Activity_Zone_Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 200,
			y: 40,
			w: 160,
			h: 80,
			rect: !0
		}, "activity_zone-B2", 200, 620, null, AreaEvent.UP, !1), this.addAreaEvent(e, t, {
			x: 1080,
			y: 40,
			w: 160,
			h: 80,
			rect: !0
		}, "activity_zone-B2", 1080, 620, null, AreaEvent.UP, !1), this.addHealStone(e, t, 500, 400), new Prodigy.Container.Swoopy(e, t.content, 585, 300, this._zone.util.onNpcClicked.bind(this._zone.util)), Util.isDefined(this._zone.getState("firstVisit")) && this._zone.getState("firstVisit") !== !0 || this._zone.setState("firstVisit", !1), this._zone.util.screen = t
	}
}), Prodigy.Activity_Zone_C1 = function (e, t) {
	this.mapId = 4, this.monsterCoords = [{
		x: 440,
		y: 160
	}, {
		x: 840,
		y: 280
	}, {
		x: 400,
		y: 440
	}], Prodigy.Activity_Zone_Map.call(this, e, "C1", "Northeast Area", 520, 500, ["activity_zone-B1", "activity_zone-C2"], t)
}, Prodigy.extends(Prodigy.Activity_Zone_C1, Prodigy.Activity_Zone_Map, {
	constructor: Prodigy.Activity_Zone_C1,
	setup: function (e, t, i) {
		Prodigy.Activity_Zone_Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 40,
			y: 140,
			w: 80,
			h: 200,
			rect: !0
		}, "activity_zone-B1", 1180, 220, null, AreaEvent.LEFT, !1), this.addAreaEvent(e, t, {
			x: 40,
			y: 620,
			w: 80,
			h: 120,
			rect: !0
		}, "activity_zone-B2", 1160, 100, null, AreaEvent.LEFT, !1), this.addAreaEvent(e, t, {
			x: 40,
			y: 360,
			w: 80,
			h: 160,
			rect: !0
		}, "activity_zone-B1", 1180, 420, null, AreaEvent.LEFT, !1), this.addAreaEvent(e, t, {
			x: 1080,
			y: 680,
			w: 240,
			h: 80,
			rect: !0
		}, "activity_zone-C2", 1060, 100, null, AreaEvent.DOWN, !1), this.addChest(e, t, "chest1", 230, 600, [{
			type: "item",
			ID: 96
		}, {
			type: "item",
			ID: 97
		}, {
			type: "item",
			ID: 106
		}])
	}
}), Prodigy.Activity_Zone_C2 = function (e, t) {
	this.mapId = 5, this.monsterCoords = [{
		x: 440,
		y: 160
	}, {
		x: 760,
		y: 160
	}, {
		x: 660,
		y: 500
	}], Prodigy.Activity_Zone_Map.call(this, e, "C2", "River Bridge", 100, 480, ["activity_zone-C1", "activity_zone-B2"], t)
}, Prodigy.extends(Prodigy.Activity_Zone_C2, Prodigy.Activity_Zone_Map, {
	constructor: Prodigy.Activity_Zone_C2,
	setup: function (e, t, i) {
		Prodigy.Activity_Zone_Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 1060,
			y: 40,
			w: 120,
			h: 80,
			rect: !0
		}, "activity_zone-C1", 1040, 620, null, AreaEvent.UP, !1), this.addAreaEvent(e, t, {
			x: 40,
			y: 480,
			w: 80,
			h: 160,
			rect: !0
		}, "activity_zone-B2", 1180, 480, null, AreaEvent.LEFT, !1)
	}
}), Prodigy.Component.Locomotion = function (e) {
	this.game = e, this.screen = null, this.creatureContainer = null
}, Prodigy.Component.Locomotion.prototype = {
	setup: function (e, t) {
		this.screen = e, this.creatureContainer = t
	},
	destroy: function () {},
	update: function () {}
}, Prodigy.Component.PlayerLocomotion = function (e) {
	Prodigy.Component.Locomotion.call(this, e), this.target = {
		x: -1,
		y: -1
	}, this.lastTargetBroadcasted = {
		x: -1,
		y: -1
	}, this.lastUpdateCount = 0, this.isMainPlayer = !1, this.DISTANCE_THRESHOLD = 4, this.TIME_THRESHOLD = 1e3, this.EMIT_MESSAGE = 120, this.UPDATE_INTERVAL = 200
}, Prodigy.extends(Prodigy.Component.PlayerLocomotion, Prodigy.Component.Locomotion, {
	constructor: Prodigy.Component.PlayerLocomotion,
	setup: function (e, t, i) {
		Prodigy.Component.Locomotion.prototype.setup.call(this, e, t), this.isMainPlayer = i, this.isMainPlayer && (this.game.broadcaster.addAppListener(Prodigy.Events.PlayerLocomotion.MOVE_PLAYER, this.onMovePlayer.bind(this), this), this.game.broadcaster.addAppListener(Prodigy.Events.PlayerLocomotion.GET_TARGET, this.onGetTarget.bind(this), this))
	},
	destroy: function () {
		Prodigy.Component.Locomotion.prototype.destroy.call(this), this.isMainPlayer && (this.game.broadcaster.removeAppListener(Prodigy.Events.PlayerLocomotion.MOVE_PLAYER, this.onMovePlayer.bind(this), this), this.game.broadcaster.removeAppListener(Prodigy.Events.PlayerLocomotion.GET_TARGET, this.onGetTarget.bind(this), this))
	},
	update: function () {
		if (Prodigy.Component.Locomotion.prototype.update.call(this), this.game.prodigy.updateCount % this.UPDATE_INTERVAL === 0) {
			if (-1 === this.target.x && -1 === this.target.y && (this.creatureContainer.x > 0 || this.creatureContainer.y > 0)) {
				var e = this.screen.path.xyToTile(this.creatureContainer.x, this.creatureContainer.y);
				this.target.x = e.x, this.target.y = e.y
			}
			this.broadcastPosition()
		}
	},
	broadcastPosition: function () {
		this.isMainPlayer && !this.creatureContainer.evtProc && (this.lastTargetBroadcasted.x !== this.target.x || this.lastTargetBroadcasted.y !== this.target.y) && this.game.prodigy.updateCount - this.lastUpdateCount > this.EMIT_MESSAGE && (Phaser.Math.distanceSq(this.target.x, this.target.y, this.lastTargetBroadcasted.x, this.lastTargetBroadcasted.y) > this.DISTANCE_THRESHOLD || this.game.prodigy.updateCount - this.lastUpdateCount > 2 * this.EMIT_MESSAGE) && (this.lastUpdateCount = this.game.prodigy.updateCount, this.lastTargetBroadcasted.x = this.target.x, this.lastTargetBroadcasted.y = this.target.y, this.game.prodigy.network.emitMessage({
			action: "move",
			data: {
				userID: this.game.prodigy.player.userID,
				target: this.target
			}
		}), Util.log("My position broadcast! (" + this.target.x + ", " + this.target.y + ")", Util.DEBUG))
	},
	onGetTarget: function (e) {
		return Util.isDefined(e) && e ? {
			x: this.creatureContainer.x,
			y: this.creatureContainer.y
		} : this.target
	},
	onFindPath: function (e) {
		if (Util.isDefined(e)) {
			var t = this.screen.path.xyToTile(e[0].x, e[0].y);
			this.creatureContainer.setPath(e, this.screen.path.getCallback(t.x, t.y)), this.broadcastPosition()
		}
	},
	setNewTarget: function (e, t) {
		if (this.screen.path.isNodeOpen(e, t)) {
			var i = this.screen.path.tileToXY(e, t);
			this.creatureContainer.x <= 0 && this.creatureContainer.y <= 0 ? (this.creatureContainer.x = i.x, this.creatureContainer.y = i.y) : (this.target.x !== e || this.target.y !== t) && this.screen.path.findPath(this.creatureContainer.x, this.creatureContainer.y, i.x, i.y, this.onFindPath.bind(this)), this.target.x = e, this.target.y = t
		}
	},
	onMovePlayer: function (e, t) {
		var i = this.screen.path.xyToTile(e, t);
		return this.screen.path.isNodeOpen(i.x, i.y) ? (this.target.x = i.x, this.target.y = i.y, this.screen.path.findPath(this.creatureContainer.x, this.creatureContainer.y, e, t, this.onFindPath.bind(this)), !0) : !1
	}
});
var Pirate = function () {
	function e(t) {
		WalkableScreen.call(this, t, e.DATA, ["zone-pirate", "npc-sprite-eve", "npc-sprite-merchant", "tileset-core"]), this.area = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0], [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0], [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0], [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], this.startX = 710, this.startY = 520
	}
	return e.prototype = Object.create(WalkableScreen.prototype), e.prototype.create = function () {
		WalkableScreen.prototype.create.call(this, "pirate-0")
	}, e.prototype.screenSetup = function () {
		this.bgm = "bgm-intro";
		this.noFade = !0, new Prodigy.Container.QuestNPC(this.game, this.content, 270, 320, e.DATA, {
			name: "Captain Eve",
			atlas: "eve"
		}), this.createStoreNPC(1080, 390, e.STORE);
		var t = this.game.prodigy.create.sprite(316, 422, this.screenName, "anchor");
		t.anchor.setTo(.5, 1), this.content.add(t);
		var i = this.game.prodigy.create.sprite(1147, 42, this.screenName, "anchor");
		i.animations.add("stand", ["flag1", "flag2", "flag3"], 8, !0, !1), i.animations.play("stand"), this.background.add(i);
		var a = this.game.prodigy.create.sprite(854, 516, this.screenName, "boat");
		this.game.add.tween(a).to({
			y: 505
		}, 1500, Phaser.Easing.Quadratic.InOut, !0, 0, 1e4, !0), this.content.add(a);
		var s = [{
			pre: "Buccaneer ",
			req: [{
				rtype: "item",
				type: "outfit",
				ID: 36
			}, {
				rtype: "item",
				type: "hat",
				ID: 40
			}, {
				rtype: "item",
				type: "weapon",
				ID: 66
			}],
			fail: "You need to buy the Pirate set to unlock!"
		}, {
			pre: "Captain ",
			req: [{
				rtype: "quest",
				zone: 4,
				Q: 15
			}],
			fail: "You need to complete the Barnacle Cove quests to unlock!"
		}, {
			pre: "Treasure Hunter ",
			req: [{
				rtype: "pet",
				ID: 98
			}],
			fail: "You need to catch a Mimic to unlock!"
		}, {
			pre: "First-mate ",
			member: !0,
			fail: "You need to become a member to unlock!"
		}, {
			post: "beard the Pirate",
			member: !0,
			fail: "You need to become a member to unlock!"
		}];
		this.addNicknamer(185, 615, s), new Prodigy.Event.HealStone(this.game, this.content, this.user, this.path, 702, 347), WalkableScreen.prototype.screenSetup.call(this)
	}, e
}();
Pirate.STORE = {
	name: "Plank's Tanks",
	items: [{
		ID: 40,
		type: "hat"
	}, {
		ID: 66,
		type: "weapon"
	}, {
		ID: 36,
		type: "outfit"
	}, {
		ID: 99,
		type: "pet"
	}, {
		ID: 39,
		type: "hat"
	}, {
		ID: 65,
		type: "weapon"
	}, {
		ID: 35,
		type: "outfit"
	}, {
		ID: 102,
		type: "pet"
	}]
}, Pirate.AUDIO = [{
	tag: "voice-5",
	s: 0,
	d: 1
}, {
	tag: "voice-5",
	s: 1,
	d: 1
}, {
	tag: "voice-5",
	s: 2,
	d: 1
}, {
	tag: "voice-5",
	s: 3,
	d: 1
}, {
	tag: "voice-5",
	s: 4,
	d: 1
}, {
	tag: "voice-5",
	s: 5,
	d: 1
}, {
	tag: "voice-5",
	s: 6,
	d: 2
}, {
	tag: "voice-5",
	s: 8,
	d: 2
}], Pirate.DATA = {
	ID: 4,
	tag: "pirate-0",
	zoneName: "zone-pirate",
	atlas: "zone-pirate",
	fullName: "Barnacle Cove",
	icon: "zone-water",
	battle: {
		screen: "bg-battle-pirate",
		encounter: [{
			ID: 10
		}, {
			ID: 25
		}, {
			ID: 33
		}, {
			ID: 66
		}, {
			ID: 98
		}, {
			ID: 99
		}, {
			ID: 102
		}]
	},
	dialogue: [{
		face: 1,
		anim: 2,
		text: "Lookit you, shilling! I guess you're pretty helpful, ain'tcha?",
		audio: Pirate.AUDIO[1]
	}, {
		face: 0,
		anim: 2,
		text: "Ready to help me out, shilling?",
		audio: Pirate.AUDIO[2]
	}, {
		face: 3,
		anim: 4,
		text: "HEY! THERE YOU ARE!",
		audio: Pirate.AUDIO[4]
	}, {
		face: 3,
		anim: 1,
		text: "HOP TO IT! That blasted Captain Bully and his men have stolen ANOTHER one of my chests!"
	}, {
		face: 2,
		anim: 0,
		text: "...wait a minute..."
	}, {
		face: 1,
		anim: 0,
		text: "You're not a pirate! You're just a...\njust a...\njust a SHILLING!",
		audio: Pirate.AUDIO[0]
	}, {
		face: 4,
		anim: 0,
		text: "The name's Eve Windsail, and I'll bet you're from the Academy...probably looking for water spells huh?",
		audio: Pirate.AUDIO[7]
	}, {
		face: 0,
		anim: 4,
		text: "Fine then! We have a deal! YOU help me deal with Captain Bully, and I'LL teach you all the water spells I know!",
		audio: Pirate.AUDIO[1]
	}, {
		face: 2,
		anim: 0,
		text: "...You don't know who Captain Bully is...?",
		audio: Pirate.AUDIO[3]
	}, {
		face: 0,
		anim: 0,
		text: "Don't you worry about it...you're not a pirate just yet! First, go defeat those gnawdys that STOLE MY CHEST!",
		audio: Pirate.AUDIO[5]
	}, {
		face: 0,
		anim: 4,
		text: "Good job! I guess Captain Bully forgot the first rule of the sea:\n\nDON'T STEAL A PIRATE'S TREASURE!",
		audio: Pirate.AUDIO[6]
	}, {
		face: 2,
		anim: 0,
		text: "..."
	}, {
		face: 2,
		anim: 0,
		text: "Uhh...I guess these ones didn't have my treasure...Go defeat more for me, and bring back my gold coins!"
	}, {
		face: 3,
		anim: 0,
		text: "Captain Bully is a pirate, and he LOVES stealing my stuff. He's the SECOND meanest pirate EVER.",
		audio: Pirate.AUDIO[5]
	}, {
		face: 2,
		anim: 0,
		text: "Who's the MEANEST pirate, you say?"
	}, {
		face: 3,
		anim: 4,
		text: "IT'S ME, YOU BONEHEAD!",
		audio: Pirate.AUDIO[2]
	}, {
		face: 4,
		anim: 0,
		text: "We need to defeat him, but first you need to be stronger. Go defeat a few monsters for me, then we'll talk."
	}, {
		face: 1,
		anim: 2,
		text: "Wow! I guess you're ready to learn a water spell after all!",
		audio: Pirate.AUDIO[1]
	}, {
		face: 0,
		anim: 4,
		text: "While Captain Bully is busy, I think it's time to collect more treasure!",
		audio: Pirate.AUDIO[2]
	}, {
		face: 1,
		anim: 4,
		text: "After all, what's the first rule of the sea? \n\nPIRATES NEED LOTS OF TREASURE!",
		audio: Pirate.AUDIO[6]
	}, {
		face: 0,
		anim: 4,
		text: "Good work, shilling! My treasure chest is full again, which means Captain Bonehead will send his men to take it soon...",
		audio: Pirate.AUDIO[0]
	}, {
		face: 4,
		anim: 0,
		text: "Captain Bully has 3 first mates - Lock, Stock and Barrel. They're not as mean as he is, but they're annoying."
	}, {
		face: 0,
		anim: 0,
		text: "I don't know where they are, but his men do! Go defeat monsters until one of them drops a note.",
		audio: Pirate.AUDIO[2]
	}, {
		face: 1,
		anim: 0,
		text: "AHA! This note says that Lock and his henchmen are nearby! Let's send a message to Captain Bully and defeat them!",
		audio: Pirate.AUDIO[3]
	}, {
		face: 1,
		anim: 0,
		text: "One first mate down, two to go! After all, what's the first rule of the sea? \n\nPIRATES ONLY HAVE 1 FIRST MATE!",
		audio: Pirate.AUDIO[6]
	}, {
		face: 0,
		anim: 0,
		text: "It'll take time to track down his other first mate, Stock. In the meantime, go defeat some squibbles for me!"
	}, {
		face: 3,
		anim: 1,
		text: "I think I figured out how to find first mate Stock! See, Stock is a funkeel, and funkeels LOVE shells!",
		audio: Pirate.AUDIO[1]
	}, {
		face: 0,
		anim: 0,
		text: "Go defeat some aquasters...they usually carry a few shells with them."
	}, {
		face: 0,
		anim: 0,
		text: "You've got the shells, and HERE COME THE FUNKEELS! Look for first mate Stock among them, and defeat him!",
		audio: Pirate.AUDIO[1]
	}, {
		face: 2,
		anim: 1,
		text: "BLAST IT! While you were away, first mate Barrel came and stole my treasure AGAIN!",
		audio: Pirate.AUDIO[4]
	}, {
		face: 3,
		anim: 0,
		text: "At this rate, I'll be SINKING broke! And you know the first rule of the sea:\n\nPIRATES DON'T USE PUNS!",
		audio: Pirate.AUDIO[6]
	}, {
		face: 4,
		anim: 0,
		text: "I think it's time to steal from Captain Bully instead! Go defeat more of his men, and bring back their medallions!"
	}, {
		face: 1,
		anim: 4,
		text: "There, that'll get their attention, shilling! Next, look for mimics and bring their treasure back!",
		audio: Pirate.AUDIO[1]
	}, {
		face: 4,
		anim: 0,
		text: "Hmmm...it looks like we upset Captain Bully. It's only a matter of time before he sends Barrel."
	}, {
		face: 1,
		anim: 0,
		text: "HA! Here he comes now! Get ready, shilling! This'll be a good battle for sure!",
		audio: Pirate.AUDIO[0]
	}, {
		face: 1,
		anim: 0,
		text: "HUZZAH! That'll show Captain Bully! Without his first mates, he'll come after us for sure!",
		audio: Pirate.AUDIO[1]
	}, {
		face: 2,
		anim: 0,
		text: "Uh...I guess we should get ready for him, shouldn't we?"
	}, {
		face: 4,
		anim: 0,
		text: "First, we should fix up my ship. Go defeat some monsters and bring back what I need."
	}, {
		face: 0,
		anim: 4,
		text: "Okay shilling, my ship is fixed and I've just heard that Captain Bully is on the way!",
		audio: Pirate.AUDIO[2]
	}, {
		face: 3,
		anim: 0,
		text: "We'll be ready for him, but first go find my stolen lucky spyglass. We'll need all the luck we can get!"
	}, {
		face: 0,
		anim: 4,
		text: "Alright! This is it! Captain Bully is here, and it's now or never!",
		audio: Pirate.AUDIO[1]
	}, {
		face: 1,
		anim: 2,
		text: "I'll take care of his henchmen with my ship, and you have the honor of challenging Bully.",
		audio: Pirate.AUDIO[0]
	}, {
		face: 3,
		anim: 0,
		text: "Just remember the first rule of the sea... \nNO ONE MESSES WITH EVE WINDSAIL AND SHILLING!",
		audio: Pirate.AUDIO[6]
	}, {
		face: 3,
		anim: 4,
		text: "HERE COMES CAPTAIN BULLY! AVAST, YE SHILLING!"
	}, {
		face: 1,
		anim: 0,
		text: "WOW! YOU DID IT, SHILLING!",
		audio: Pirate.AUDIO[0]
	}, {
		face: 4,
		anim: 0,
		text: "I guess you're not a shilling anymore, are you? From now on, I will call you..."
	}, {
		face: 1,
		anim: 4,
		text: "DOUBLOON!",
		audio: Pirate.AUDIO[2]
	}, {
		face: 1,
		anim: 0,
		text: "You've earned it, buddy! Barnacle Cove will forever be in your debt!"
	}],
	quests: [{
		coords: [110, 0],
		name: "A Fistful of Shillings",
		desc: "Eve needs you to defeat the gnawdys that stole her treasure",
		start: [2, 3, 4, 5, 6, 7, 8, 9],
		during: [],
		complete: [0],
		encounter: [{
			ID: 46
		}],
		req: [{
			type: "pet",
			ID: 46,
			N: 2
		}],
		reward: [{
			type: "gold",
			N: 250
		}]
	}, {
		coords: [335, 0],
		name: "A Few Shillings More",
		desc: "The gnawdys you defeated had nothing...defeat more and bring back her doubloons",
		start: [10, 11, 12],
		during: [],
		complete: [0],
		encounter: [{
			ID: 46,
			drops: [{
				ID: 55,
				type: "item",
				R: 1
			}]
		}],
		req: [{
			type: "item",
			ID: 55,
			N: 3
		}],
		reward: [{
			type: "gold",
			N: 250
		}]
	}, {
		coords: [450, 75],
		name: "Pirate 101: Strength Training!",
		desc: "Only the strongest can become pirates; defeat more monsters!",
		start: [13, 14, 11, 15, 16],
		during: [],
		complete: [17],
		encounter: [{
			ID: 25,
			R: 1
		}, {
			ID: 66,
			R: 1
		}],
		req: [{
			type: "pet",
			ID: 25,
			N: 2
		}, {
			type: "pet",
			ID: 66,
			N: 1
		}],
		reward: [{
			type: "spell",
			ID: 7
		}]
	}, {
		coords: [450, 225],
		name: "Eve the Hoarder",
		desc: "Eve needs to refill her treasure stash with rare shells!",
		start: [18, 19],
		during: [],
		complete: [0],
		encounter: [{
			ID: 33,
			R: 2,
			drops: [{
				ID: 40,
				type: "item",
				R: .5
			}]
		}, {
			ID: 66,
			R: 1,
			drops: [{
				ID: 40,
				type: "item",
				R: .75
			}]
		}],
		req: [{
			type: "item",
			ID: 40,
			N: 3
		}],
		reward: [{
			type: "gold",
			N: 250
		}]
	}, {
		coords: [335, 300],
		name: "Pirates Need GPS",
		desc: "To find Captain Bully's men, you'll need to find a map to their location.",
		start: [20, 21, 22],
		during: [],
		complete: [0],
		encounter: [{
			ID: 46,
			R: .75,
			drops: [{
				ID: 94,
				type: "item",
				R: .25
			}]
		}, {
			ID: 102,
			R: .25
		}],
		req: [{
			type: "item",
			ID: 94,
			N: 1
		}],
		reward: [{
			type: "boots",
			N: 1,
			ID: 3
		}]
	}, {
		coords: [110, 300],
		name: "Pick that Lock!",
		desc: "Your note led you right to first mate Stock! Defeat him!",
		start: [23],
		during: [],
		complete: [17],
		pets: [{
			ID: 98,
			nickname: "First Mate Lock"
		}, {
			ID: 102,
			nickname: "Henchman"
		}, {
			ID: 102,
			nickname: "Henchman"
		}],
		req: [{
			type: "boss",
			N: 1
		}],
		reward: [{
			type: "spell",
			ID: 8
		}]
	}, {
		coords: [0, 225],
		name: "The Trouble with Squibbles",
		desc: "Eve needs time to track down Stock, but for now go defeat some squibbles.",
		start: [24, 25],
		during: [],
		complete: [0],
		encounter: [{
			ID: 102,
			R: 5
		}, {
			ID: 103,
			R: 1
		}],
		req: [{
			type: "pet",
			ID: 102,
			N: 5
		}, {
			type: "pet",
			ID: 103,
			N: 2
		}],
		reward: [{
			type: "gold",
			N: 250
		}]
	}, {
		coords: [0, 75],
		name: "Gimme Your Shells!",
		desc: "First mate Stock is attracted to shells, so collect them from aquasters.",
		start: [26, 27],
		during: [],
		complete: [0],
		encounter: [{
			ID: 33,
			R: 2,
			drops: [{
				ID: 41,
				type: "item",
				R: 1
			}]
		}, {
			ID: 10,
			R: 2
		}, {
			ID: 66,
			R: 2
		}],
		req: [{
			type: "item",
			ID: 41,
			N: 4
		}],
		reward: [{
			type: "gold",
			N: 250
		}]
	}, {
		coords: [110, 110],
		name: "And Heeeere Come the Funkeels!",
		desc: "The shells are attracting lots of funkeels! Look for Stock and defeat him!",
		start: [28],
		during: [],
		complete: [17],
		encounter: [{
			ID: 100,
			R: 1,
			nickname: "First Mate Stock"
		}, {
			ID: 99,
			R: 9
		}],
		req: [{
			type: "pet",
			ID: 100,
			N: 1
		}],
		reward: [{
			type: "spell",
			ID: 9
		}]
	}, {
		coords: [225, 60],
		name: "To Steal From Thieves",
		desc: "Barrel stole from Eve again, so Eve wants you to take medallions from Bully Henchmen.",
		start: [29, 30, 31],
		during: [],
		complete: [0],
		encounter: [{
			ID: 67,
			nickname: "Bully Henchman",
			R: 1,
			drops: [{
				ID: 48,
				type: "item",
				R: 1
			}]
		}, {
			ID: 102,
			nickname: "Bully Henchman",
			R: 1,
			drops: [{
				ID: 48,
				type: "item",
				R: 1
			}]
		}, {
			ID: 10,
			R: 1
		}, {
			ID: 102,
			R: 1
		}],
		req: [{
			type: "item",
			ID: 48,
			N: 5
		}],
		reward: [{
			type: "gold",
			N: 250
		}]
	}, {
		coords: [335, 110],
		name: "Are They Treasure Chests, or Monsters?",
		desc: "The mimics hold more treasure, seek them out and defeat them.",
		start: [32],
		during: [],
		complete: [0],
		encounter: [{
			ID: 98,
			R: 2,
			drops: [{
				ID: 13,
				type: "item",
				R: .25
			}, {
				ID: 14,
				type: "item",
				R: .5
			}, {
				ID: 55,
				type: "item",
				R: .5
			}]
		}, {
			ID: 66,
			R: 1
		}, {
			ID: 10,
			R: 1
		}],
		req: [{
			type: "item",
			ID: 13,
			N: 1
		}, {
			type: "item",
			ID: 14,
			N: 2
		}, {
			type: "item",
			ID: 55,
			N: 3
		}],
		reward: [{
			type: "hat",
			N: 1,
			ID: 6
		}]
	}, {
		coords: [335, 190],
		name: "Shark Attack!",
		desc: "First mate Barrel and his henchmen are coming! Help Eve and defeat them.",
		start: [33, 11, 34],
		during: [],
		complete: [17],
		pets: [{
			ID: 47,
			nickname: "First Mate Barrel"
		}, {
			ID: 46,
			nickname: "Henchman"
		}, {
			ID: 46,
			nickname: "Henchman"
		}, {
			ID: 46,
			nickname: "Henchman"
		}],
		req: [{
			type: "boss",
			N: 1
		}],
		reward: [{
			type: "spell",
			ID: 10
		}]
	}, {
		coords: [225, 240],
		name: "We're Gonna Need a Bigger Boat",
		desc: "Help Eve repair her ship by finding some spare parts.",
		start: [35, 11, 36, 37],
		during: [],
		complete: [0],
		encounter: [{
			ID: 10,
			R: .2,
			drops: [{
				ID: 50,
				type: "item",
				R: .5
			}]
		}, {
			ID: 25,
			R: .2,
			drops: [{
				ID: 50,
				type: "item",
				R: .75
			}]
		}, {
			ID: 102,
			R: .2,
			drops: [{
				ID: 51,
				type: "item",
				R: 1
			}]
		}, {
			ID: 99,
			R: .2,
			drops: [{
				ID: 51,
				type: "item",
				R: 1
			}]
		}, {
			ID: 100,
			R: .2,
			drops: [{
				ID: 49,
				type: "item",
				R: .25
			}]
		}, {
			ID: 46,
			R: .2,
			drops: [{
				ID: 49,
				type: "item",
				R: .5
			}]
		}],
		req: [{
			type: "item",
			ID: 50,
			N: 2
		}, {
			type: "item",
			ID: 51,
			N: 4
		}, {
			type: "item",
			ID: 49,
			N: 1
		}],
		reward: [{
			type: "weapon",
			N: 1,
			ID: 19
		}]
	}, {
		coords: [110, 190],
		name: "With a Little Luck",
		desc: "Eve won't help unless you can find her lucky spyglass. I'm sure some monster has it.",
		start: [38, 39],
		during: [],
		complete: [0],
		encounter: [{
			ID: 98,
			R: 1,
			drops: [{
				ID: 57,
				type: "item",
				R: .2
			}]
		}, {
			ID: 25,
			R: 1
		}, {
			ID: 66,
			R: 1
		}],
		req: [{
			type: "item",
			ID: 57,
			N: 1
		}],
		reward: [{
			type: "outfit",
			N: 1,
			ID: 4
		}]
	}, {
		coords: [225, 150],
		name: "The SECOND Meanest Pirate EVER",
		desc: "Captain Bully and his crew are here, and it's up to you to defeat him!",
		start: [40, 41, 42],
		during: [43],
		complete: [44, 45, 46, 47],
		boss: {
			ID: 4,
			element: "water",
			attacks: [7, 8, 9, 10, 11, 12, 19, 20, 21],
			name: "Captain Bully"
		},
		req: [{
			type: "boss",
			N: 1
		}],
		reward: [{
			type: "spell",
			ID: 11
		}]
	}]
};
var Tower = function () {
		function e(t) {
			WalkableScreen.call(this, t, e.DATA, ["npc-sprite-mira", "zone-tower", "bgm-space"]), this.area = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 4, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4, 4, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], this.bgm = "bgm-space", this.menuDisabled = {
				pets: !0
			}
		}
		return e.prototype = Object.create(WalkableScreen.prototype), e.prototype.create = function () {
			this.zoneName = "zone-tower-" + this.floor, WalkableScreen.prototype.create.call(this, [])
		}, e.prototype.screenSetup = function () {
			WalkableScreen.prototype.screenSetup.call(this), this.noFade = !0;
			this.game.prodigy.player.getTowerProgress();
			if (this.cleared) {
				for (var t = !1, i = 0; i < e.REWARDS.length; i++) {
					var a = e.REWARDS[i];
					if (a.floor === this.floor) {
						for (var s = this.game.prodigy.dialogue.create(), r = 0; r < a.text.length; r++) s.setText(a.text[r]);
						s.setText({
							callback: this.game.prodigy.open.gotItem.bind(this.game.prodigy.open, a.reward, this.onFloorComplete.bind(this))
						}), s.start("mira"), t = !0
					}
				}
				t || this.onFloorComplete(), this.path.addCallback(4, this.toFloor.bind(this, this.floor + 1))
			} else {
				var o = this.game.prodigy.create.sprite(640, 360, this.screenName, "orb");
				o.alpha = .5, o.inputEnabled = !0, o.anchor.setTo(.5, 1), o.events.onInputDown.add(this.battle.bind(this, o), this), this.content.add(o), this.game.add.tween(o).to({
					y: o.y + 10
				}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0);
				var n = this.game.prodigy.create.font(this.content, 590, 280, "" + this.floor, {
					size: 40,
					width: 100,
					align: "center"
				});
				this.game.add.tween(n).to({
					y: n.y + 10
				}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0);
				var h = this.game.prodigy.create.sprite(1049, 0, this.screenName, "barrier");
				h.inputEnabled = !0, h.events.onInputDown.add(this.blockDoor.bind(this), this), h.alpha = .8, this.game.add.tween(h).to({
					alpha: .3
				}, 1500, Phaser.Easing.Linear.None, !0, 0, 1e4, !0), this.background.add(h)
			}
			this.floor % 5 === 0 && new Prodigy.Container.QuestNPC(this.game, this.content, 900, 230, null, {
				name: "Mira Shade",
				atlas: "mira"
			}, this.npcDialogue.bind(this)), this.path.addCallback(3, this.toBase.bind(this))
		}, e.prototype.onFloorComplete = function () {
			this.game.prodigy.player.completeTower(this.floor), this.game.prodigy.player.isBlockedByDarkTowerMemberGate() && this.game.prodigy.open.darkTowerMemberGate(null, function () {
				this.game.prodigy.player.isBlockedByDarkTowerMemberGate() && this.game.prodigy.start("TowerBase")
			}.bind(this))
		}, e.prototype.blockDoor = function () {
			var t = this.game.prodigy.dialogue.create();
			t.setText({
				text: "Before you can move on, you must defeat the challenger on this floor. Click on the orb in the room to begin!",
				face: 3,
				anim: 1,
				audio: e.AUDIO[1]
			}), t.start("mira")
		}, e.prototype.setPlayerAsOpponent = function (e) {
			var t = this.game.prodigy.player,
				i = {
					data: '{"level":100}',
					appearance: '{"name":"' + t.appearance.getName() + '", "gender":"' + t.appearance.getGender() + '", "hairStyle":' + t.appearance.getHairStyle() + ', "hairColor":' + t.appearance.getHairColor() + ', "skinColor":' + t.appearance.getSkinColor() + ', "eyeColor":' + t.appearance.getEyeColor() + "}",
					equipment: '{"outfit":' + t.equipment.getEquipment("outfit") + ', "weapon":' + t.equipment.getEquipment("weapon") + ', "hat":' + t.equipment.getEquipment("hat") + "}"
				};
			e.wizards = [i], e.pets = [];
			for (var a = this.game.prodigy.player.kennel.getTeam(), s = 0; s < a.length; s++) {
				var r = a[s].getID();
				Util.isDefined(Monsters.data[r]) && e.pets.push({
					ID: r,
					level: 100
				})
			}
		}, e.prototype.npcDialogue = function () {
			var t = this.game.prodigy.dialogue.create(),
				i = this.game.prodigy.player.getTowerProgress();
			100 > i ? t.setText({
				text: "The next challenge awaits!",
				face: 3,
				anim: 4,
				audio: e.AUDIO[2]
			}) : t.setText({
				text: "You already beat my tower...but come back someday... I may have more challenges for you!",
				face: 0
			}), t.start("mira")
		}, e.prototype.battle = function (t) {
			t.inputEnabled = !1;
			var i = e.OPPONENTS[this.floor - 1],
				a = Math.min(Math.floor(this.floor / 10), 10);
			if (90 === this.floor && this.setPlayerAsOpponent(i), this.mods = {
					boss: Util.copyObject(i.boss),
					screen: "bg-battle-tower",
					opponent: Util.copyObject(i.wizards),
					drops: Util.copyObject(i.drops),
					"catch": !1,
					pets: Util.copyObject(i.pets),
					difficulty: a
				}, this.floor % 5 !== 0) new Roulette(this.game, this.menus, this.mods, this.startBattle.bind(this));
			else {
				var s = e.DIALOGUE[Math.floor(this.floor / 5 - 1)];
				if (Util.isDefined(s)) {
					for (var r = this.game.prodigy.dialogue.create(), o = 0; o < s.length; o++) r.setText(s[o]);
					r.setText({
						callback: this.startBattle.bind(this)
					}), r.start("mira")
				} else this.startBattle()
			}
		}, e.prototype.startBattle = function () {
			var e = function () {
					this.game.prodigy.start("TowerBase")
				},
				t = function () {
					this.game.state.states.Tower.cleared = !0, this.game.prodigy.start("Tower")
				};
			this.game.prodigy.battle.start(this.mods, e.bind(this), t.bind(this, this.floor, this.mods.boss), null, "TowerBase")
		}, e.prototype.toFloor = function (e) {
			return e > 100 ? (this.toBase(), void 0) : (this.game.state.states.Tower.startX = 602, this.game.state.states.Tower.startY = 150, this.game.state.states.Tower.floor = e, this.game.state.states.Tower.cleared = !1, this.game.prodigy.start("Tower"), void 0)
		}, e.prototype.toBase = function () {
			var t = function (e) {
					e.state.states.TowerBase.startX = 1200, e.state.states.TowerBase.startY = 400, e.prodigy.start("TowerBase")
				},
				i = this.game.prodigy.player.getTowerProgress();
			if (i = i - i % 5 + 1, 100 > i) {
				var a = this.game.prodigy.dialogue.create();
				a.setText({
					text: "If you leave now, you'll have to start back at floor " + i + ". Are you sure you want to leave?",
					face: 3,
					anim: 1,
					audio: e.AUDIO[1],
					yes: t.bind(this, this.game)
				}), a.start("mira")
			} else t(this.game)
		}, e
	}(),
	Roulette = function () {
		function e(e, t, i, a) {
			Prodigy.Control.Element.call(this, e, t), this.team = this.game.prodigy.player.kennel.getTeam(), this.callback = a, this.mods = i, this.game.prodigy.effects.flashText("Chance Wheel Time!", this.createWheel.bind(this))
		}
		return e.prototype = Object.create(Prodigy.Control.Element.prototype), e.prototype.createWheel = function () {
			var e = this.game.prodigy.create.sprite(0, 0, "core", "overlay-small");
			e.width = this.game.world.width, e.height = this.game.world.height, e.alpha = .5, this.add(e), e.inputEnabled = !0;
			var t = this.game.prodigy.create.sprite(395, 85, "zone-tower", "wings");
			t.alpha = 0, this.add(t), this.game.add.tween(t).to({
				alpha: 1
			}, 300, Phaser.Easing.Quadratic.Out).delay(600).start();
			var i = this.game.prodigy.create.sprite(640, 360, "zone-tower", "wheel");
			i.anchor.setTo(.5, .5), i.scale.x = i.scale.y = 0, this.add(i), this.game.add.tween(i.scale).to({
				x: 1.2,
				y: 1.2
			}, 400, Phaser.Easing.Quadratic.Out).to({
				x: 1,
				y: 1
			}, 200, Phaser.Easing.Quadratic.In).start();
			var a = this.game.prodigy.create.sprite(542, 90, "zone-tower", "pointer");
			a.alpha = 0, this.add(a);
			var s = this.game.add.tween(a).to({
				alpha: 1
			}, 300, Phaser.Easing.Quadratic.Out).delay(600).start();
			s.onComplete.addOnce(this.startWheel.bind(this, i), this)
		}, e.prototype.startWheel = function (e) {
			var t = 15e3,
				i = 8,
				a = Math.floor(10 * Math.random());
			GameConstants.get("GameConstants.Build.DEBUG") && -1 !== Prodigy.Debug.ROULETTE && (a = Prodigy.Debug.ROULETTE);
			var s = 36 * a + 18,
				r = this.game.add.tween(e).to({
					angle: 360 * i - s
				}, t, Phaser.Easing.Cubic.Out).start();
			r.onComplete.addOnce(this.showResult.bind(this, a), this), this.playSound(t, 100)
		}, e.prototype.showResult = function (e) {
			var t = "",
				i = 0;
			0 === e || 6 === e ? (t = "Lose 40 hearts...", i = -40) : 1 === e || 5 === e ? (t = "Gain 40 hearts!", i = 40) : 2 === e ? (t = "Lose 120 hearts...", i = -120) : 7 === e ? (t = "Gain 120 hearts!", i = 120) : 3 === e ? (t = "Damage increased!", this.mods.dmgMod = 20) : 8 === e ? (t = "Damage reduced...", this.mods.dmgMod = -20) : 9 === e ? (t = "Double stars!", this.mods.starMod = 2) : 4 === e && (t = "Switching disabled!", this.mods.switchDisabled = !0);
			for (var a = 0; a < this.team.length; a++) Util.isDefined(this.team[a]) && this.team[a].getCurrentHearts(this.game) > 0 && (this.team[a].changeCurrentHearts(i), this.team[a].getCurrentHearts(this.game) <= 0 && this.team[a].changeCurrentHearts(20));
			this.game.prodigy.effects.flashText(t, this.close.bind(this))
		}, e.prototype.close = function () {
			var e = this.game.add.tween(this).to({
				alpha: 0
			}, 1e3, Phaser.Easing.Linear.None).start();
			e.onComplete.addOnce(this.callback, this)
		}, e.prototype.playSound = function (e, t) {
			if (!(0 >= e)) {
				this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.WORLD, "tick");
				var i = t + 9e-7 * Math.pow(t, 3);
				setTimeout(this.playSound.bind(this, e - i, i), t)
			}
		}, e
	}();
Tower.AUDIO = [{
	tag: "voice-2",
	s: 0,
	d: 1
}, {
	tag: "voice-2",
	s: 1,
	d: 1
}, {
	tag: "voice-2",
	s: 2,
	d: 1
}, {
	tag: "voice-2",
	s: 3,
	d: 1
}, {
	tag: "voice-2",
	s: 4,
	d: 2
}, {
	tag: "voice-2",
	s: 6,
	d: 1
}, {
	tag: "voice-2",
	s: 7,
	d: 2
}, {
	tag: "voice-2",
	s: 9,
	d: 1
}], Tower.DATA = {
	tag: "Tower",
	zoneName: "zone-tower",
	atlas: "zone-tower",
	fullName: "Dark Tower",
	dialogue: [{
		text: "Oh no! Only members can access the tower right now!",
		face: 0,
		anim: 4,
		audio: Tower.AUDIO[0]
	}, {
		text: "Hello there, young one...welcome to the Dark Tower.",
		face: 0,
		anim: 4,
		audio: Tower.AUDIO[4]
	}, {
		text: "The name's Mira, and this tower was once the home to a powerful wizard, who built it to test the power of other wizards.",
		face: 2,
		audio: Tower.AUDIO[7]
	}, {
		text: "It is said that whoever can conquer every floor and make it to the top is a true wizard.",
		face: 2
	}, {
		text: "But there is a catch! The battles here are harder, and once you leave the tower, you must start over.",
		face: 1,
		anim: 4,
		audio: Tower.AUDIO[0]
	}, {
		text: "However, if you defeat the opponents on every 5th floor, you can return to that floor if you leave.",
		face: 2,
		audio: Tower.AUDIO[3]
	}, {
		text: "Well hello there! If it isn't mister fancy wizard?",
		face: 0,
		anim: 4,
		audio: Tower.AUDIO[4]
	}, {
		text: "You already beat my tower...but come back someday... I may have more challenges for you!",
		face: 0
	}, {
		text: "Oh no....you don't have enough gold!",
		face: 0,
		anim: 1,
		audio: Tower.AUDIO[0]
	}]
}, Tower.REWARDS = [{
	floor: 10,
	reward: [{
		type: "gold",
		N: 500
	}],
	text: [{
		text: "Hey, you're doing great! Here's a little reward...",
		face: 0,
		audio: Tower.AUDIO[6]
	}]
}, {
	floor: 20,
	reward: [{
		type: "gold",
		N: 500
	}],
	text: [{
		text: "Hey, you're doing great! Here's a little reward...",
		face: 0,
		audio: Tower.AUDIO[6]
	}]
}, {
	floor: 30,
	reward: [{
		type: "gold",
		N: 500
	}],
	text: [{
		text: "Hey, you're doing great! Here's a little reward...",
		face: 0,
		audio: Tower.AUDIO[6]
	}]
}, {
	floor: 40,
	reward: [{
		type: "gold",
		N: 500
	}],
	text: [{
		text: "Hey, you're doing great! Here's a little reward...",
		face: 0,
		audio: Tower.AUDIO[6]
	}]
}, {
	floor: 50,
	reward: [{
		type: "gold",
		N: 500
	}],
	text: [{
		text: "Hey, you're doing great! Here's a little reward...",
		face: 0,
		audio: Tower.AUDIO[6]
	}]
}, {
	floor: 60,
	reward: [{
		type: "gold",
		N: 500
	}],
	text: [{
		text: "Hey, you're doing great! Here's a little reward...",
		face: 0,
		audio: Tower.AUDIO[6]
	}]
}, {
	floor: 70,
	reward: [{
		type: "gold",
		N: 500
	}],
	text: [{
		text: "Hey, you're doing great! Here's a little reward...",
		face: 0,
		audio: Tower.AUDIO[6]
	}]
}, {
	floor: 80,
	reward: [{
		type: "gold",
		N: 500
	}],
	text: [{
		text: "Hey, you're doing great! Here's a little reward...",
		face: 0,
		audio: Tower.AUDIO[6]
	}]
}, {
	floor: 90,
	reward: [{
		type: "gold",
		N: 500
	}],
	text: [{
		text: "Hey, you're doing great! Here's a little reward...",
		face: 0,
		audio: Tower.AUDIO[6]
	}]
}, {
	floor: 100,
	reward: [{
		type: "outfit",
		ID: 38
	}, {
		type: "hat",
		ID: 42
	}, {
		type: "weapon",
		ID: 68
	}],
	text: [{
		text: "Wow...You beat me...I'm speechless...",
		face: 3,
		audio: Tower.AUDIO[3]
	}, {
		text: "I can't believe I lost to a wizard from the Academy...I thought I was the strongest!",
		face: 3
	}, {
		text: "Well then! It looks like I was wrong about you...and about the Academy! You really are the best of the best!",
		face: 1,
		audio: Tower.AUDIO[6]
	}, {
		text: "Here...please accept this new robe as a gift from me. And tell all your friends to come here as well!",
		face: 2
	}, {
		text: "I'd love to meet as many wizards as possible...especially if they're as strong as you!",
		face: 1,
		audio: Tower.AUDIO[0]
	}]
}], Tower.DIALOGUE = [[{
	text: "Here's your first boss...there is one on every fifth floor. Let's see how well you do!",
	face: 0,
	audio: Tower.AUDIO[2]
}], [{
	text: "The wizard of this tower was once a student at the Academy, just like you...",
	face: 2
}, {
	text: "But the wizard was MUCH stronger! WAAAAAY stronger!",
	face: 1,
	audio: Tower.AUDIO[0]
}], [{
	text: "The wizard practiced alone, not wanting any help from the other Academy students.",
	face: 0
}, {
	text: "He didn't want to waste time on them - they would only hold him back.",
	face: 0,
	audio: Tower.AUDIO[0]
}], [{
	text: "So the wizard left the Academy a long long time ago...to train alone.",
	face: 2
}, {
	text: "He came here and built this tower using his awesome power! What a guy!",
	face: 1
}], [{
	text: "You made it to floor 25! One quarter of the way there...not bad, but not great.",
	face: 0,
	audio: Tower.AUDIO[6]
}], [{
	text: "For years and years the wizard trained here alone. He mastered all the elements, learned all the spells.",
	face: 2
}, {
	text: "...But the wizard didn't need any help from the dumb Academy to do it!",
	face: 1,
	audio: Tower.AUDIO[0]
}], [{
	text: "One day, the wizard decided he was done training - he was already the best wizard ever!",
	face: 2
}, {
	text: "So he decided to challenge the other wizards at the Academy, to prove he was the best.",
	face: 2,
	audio: Tower.AUDIO[0]
}], [{
	text: "No wizard could match him, and so the wizard created this super-cool test to challenge wizards instead!",
	face: 1
}, {
	text: "He called it the 'Really Really Hard Test of Trials'!",
	face: 2,
	audio: Tower.AUDIO[1]
}], [{
	text: "For this test, the wizard summoned the strongest monsters possible to challenge wizards at each floor.",
	face: 2
}, {
	text: "These monsters are the bosses of this tower. Here's another one now!",
	face: 0
}], [{
	text: "Floor 50 already....you've come all this way to challenge the strongest, have you?",
	face: 2,
	audio: Tower.AUDIO[1]
}, {
	text: "If so, then you must first challenge the father of all dragons...Grandoff!",
	face: 0,
	audio: Tower.AUDIO[2]
}], [{
	text: "You are certainly something special...are you sure you're from the Academy?",
	face: 3,
	audio: Tower.AUDIO[3]
}], [{
	text: "The test you are on now...this is the very same test created by the wizard himself.",
	face: 2
}, {
	text: "Many wizards from the Academy tried it, but they ALL failed!",
	face: 1,
	audio: Tower.AUDIO[0]
}], [{
	text: "For each new student that tried the test and failed, the wizard added a new floor...and a new challenge.",
	face: 2
}, {
	text: "When no more floors could be added, the wizard made the challenges harder and harder.",
	face: 2
}], [{
	text: "Eventually, it became obvious that no wizards would be able to climb the tower.",
	face: 2
}, {
	text: "So the legendary wizard disappeared, and the tower began to crumble.",
	face: 2
}], [{
	text: "The wizard has not been seen since, but students from the Academy still try to climb the tower.",
	face: 2
}, {
	text: "He hoped that someday a student would be strong enough to challenge him, and so he would return to accept the challenge.",
	face: 1
}], [{
	text: "Things have been easy up until now...I think it's time to step things up!",
	face: 1,
	audio: Tower.AUDIO[2]
}], [{
	text: "You're still going? I'm...impressed!",
	face: 0,
	audio: Tower.AUDIO[1]
}], [{
	text: "This can't be...no wizards have ever made it this far...",
	face: 3
}, {
	text: "...Who are you...?",
	face: 3,
	audio: Tower.AUDIO[3]
}], [{
	text: "No...you will NOT make it to the top of this tower!",
	face: 3
}, {
	text: "Face your next challenge...it will be your last here!",
	face: 3,
	audio: Tower.AUDIO[2]
}], [{
	text: "Astounding. You have made it to the top of my tower...",
	face: 3,
	audio: Tower.AUDIO[1]
}, {
	text: "And so you have earned the greatest of rewards...you must challenge the legendary wizard herself...",
	face: 3
}, {
	text: "ME! THE GREAT AND POWERFUL MIRA SHADE!",
	face: 0,
	audio: Tower.AUDIO[7]
}, {
	text: "HAHAHA! It was me all along! You should see the look on your face right now!",
	face: 1,
	audio: Tower.AUDIO[0]
}, {
	text: "Come, wizard! It's time for you to face the strongest wizard of all time!",
	face: 3,
	audio: Tower.AUDIO[2]
}]], Tower.OPPONENTS = [{
	pets: [{
		ID: 99,
		level: 5
	}]
}, {
	pets: [{
		ID: 102,
		level: 5
	}]
}, {
	pets: [{
		ID: 100,
		level: 5
	}]
}, {
	pets: [{
		ID: 103,
		level: 5
	}]
}, {
	pets: [{
		ID: 101,
		level: 5
	}, {
		ID: 104,
		level: 5
	}]
}, {
	pets: [{
		ID: 31,
		level: 10
	}]
}, {
	pets: [{
		ID: 55,
		level: 10
	}]
}, {
	pets: [{
		ID: 60,
		level: 10
	}]
}, {
	pets: [{
		ID: 29,
		level: 10
	}]
}, {
	pets: [{
		ID: 92,
		level: 10
	}, {
		ID: 93,
		level: 10
	}]
}, {
	pets: [{
		ID: 27,
		level: 15
	}]
}, {
	pets: [{
		ID: 45,
		level: 15
	}]
}, {
	pets: [{
		ID: 48,
		level: 15
	}]
}, {
	pets: [{
		ID: 96,
		level: 15
	}]
}, {
	pets: [{
		ID: 28,
		level: 15
	}, {
		ID: 49,
		level: 15
	}]
}, {
	pets: [{
		ID: 4,
		level: 20
	}]
}, {
	pets: [{
		ID: 10,
		level: 20
	}]
}, {
	pets: [{
		ID: 5,
		level: 20
	}]
}, {
	pets: [{
		ID: 11,
		level: 20
	}]
}, {
	pets: [{
		ID: 6,
		level: 20
	}, {
		ID: 12,
		level: 20
	}]
}, {
	pets: [{
		ID: 1,
		level: 25
	}]
}, {
	pets: [{
		ID: 52,
		level: 25
	}]
}, {
	pets: [{
		ID: 2,
		level: 25
	}]
}, {
	pets: [{
		ID: 53,
		level: 25
	}]
}, {
	pets: [{
		ID: 3,
		level: 25
	}, {
		ID: 54,
		level: 25
	}]
}, {
	pets: [{
		ID: 78,
		level: 30
	}]
}, {
	pets: [{
		ID: 46,
		level: 30
	}]
}, {
	pets: [{
		ID: 40,
		level: 30
	}]
}, {
	pets: [{
		ID: 79,
		level: 30
	}]
}, {
	pets: [{
		ID: 80,
		level: 30
	}, {
		ID: 47,
		level: 30
	}, {
		ID: 50,
		level: 30
	}]
}, {
	pets: [{
		ID: 94,
		level: 35
	}]
}, {
	pets: [{
		ID: 85,
		level: 35
	}]
}, {
	pets: [{
		ID: 82,
		level: 35
	}]
}, {
	pets: [{
		ID: 76,
		level: 35
	}]
}, {
	pets: [{
		ID: 35,
		level: 35
	}, {
		ID: 36,
		level: 35
	}, {
		ID: 37,
		level: 35
	}]
}, {
	pets: [{
		ID: 87,
		level: 40
	}]
}, {
	pets: [{
		ID: 99,
		level: 40
	}]
}, {
	pets: [{
		ID: 94,
		level: 40
	}]
}, {
	pets: [{
		ID: 102,
		level: 40
	}]
}, {
	pets: [{
		ID: 95,
		level: 40
	}, {
		ID: 80,
		level: 40
	}, {
		ID: 23,
		level: 40
	}]
}, {
	pets: [{
		ID: 16,
		level: 45
	}]
}, {
	pets: [{
		ID: 47,
		level: 45
	}]
}, {
	pets: [{
		ID: 40,
		level: 45
	}]
}, {
	pets: [{
		ID: 80,
		level: 45
	}]
}, {
	pets: [{
		ID: 62,
		level: 45
	}, {
		ID: 26,
		level: 45
	}, {
		ID: 44,
		level: 45
	}]
}, {
	pets: [{
		ID: 63,
		level: 50
	}]
}, {
	pets: [{
		ID: 66,
		level: 50
	}]
}, {
	pets: [{
		ID: 69,
		level: 50
	}]
}, {
	pets: [{
		ID: 72,
		level: 50
	}]
}, {
	boss: {
		ID: 1,
		level: 50,
		element: "fire",
		attacks: [1, 2, 3, 4, 25, 26, 27],
		maxHP: 160,
		name: "Dargon",
		starBonus: 100
	}
}, {
	pets: [{
		ID: 23,
		level: 55
	}]
}, {
	pets: [{
		ID: 46,
		level: 56
	}]
}, {
	pets: [{
		ID: 23,
		level: 57
	}]
}, {
	pets: [{
		ID: 46,
		level: 58
	}]
}, {
	pets: [{
		ID: 46,
		level: 60
	}, {
		ID: 23,
		level: 60
	}, {
		ID: 47,
		level: 60
	}]
}, {
	pets: [{
		ID: 75,
		level: 65
	}]
}, {
	pets: [{
		ID: 78,
		level: 66
	}]
}, {
	pets: [{
		ID: 81,
		level: 67
	}]
}, {
	pets: [{
		ID: 84,
		level: 68
	}]
}, {
	pets: [{
		ID: 80,
		level: 70
	}, {
		ID: 83,
		level: 70
	}, {
		ID: 86,
		level: 70
	}]
}, {
	pets: [{
		ID: 43,
		level: 75
	}]
}, {
	pets: [{
		ID: 12,
		level: 76
	}]
}, {
	pets: [{
		ID: 54,
		level: 77
	}]
}, {
	pets: [{
		ID: 6,
		level: 78
	}]
}, {
	pets: [{
		ID: 58,
		level: 80
	}, {
		ID: 25,
		level: 80
	}, {
		ID: 61,
		level: 80
	}]
}, {
	pets: [{
		ID: 75,
		level: 85
	}]
}, {
	pets: [{
		ID: 78,
		level: 86
	}]
}, {
	pets: [{
		ID: 81,
		level: 87
	}]
}, {
	pets: [{
		ID: 84,
		level: 88
	}]
}, {
	pets: [{
		ID: 31,
		level: 30
	}, {
		ID: 33,
		level: 30
	}, {
		ID: 31,
		level: 30
	}, {
		ID: 33,
		level: 30
	}, {
		ID: 31,
		level: 30
	}, {
		ID: 33,
		level: 30
	}, {
		ID: 31,
		level: 30
	}, {
		ID: 33,
		level: 30
	}]
}, {
	pets: [{
		ID: 63,
		level: 50
	}, {
		ID: 64,
		level: 85
	}]
}, {
	pets: [{
		ID: 66,
		level: 55
	}, {
		ID: 67,
		level: 85
	}]
}, {
	pets: [{
		ID: 69,
		level: 60
	}, {
		ID: 70,
		level: 85
	}]
}, {
	pets: [{
		ID: 72,
		level: 65
	}, {
		ID: 73,
		level: 85
	}]
}, {
	pets: [{
		ID: 2,
		level: 90
	}, {
		ID: 5,
		level: 90
	}, {
		ID: 8,
		level: 90
	}, {
		ID: 11,
		level: 90
	}]
}, {
	pets: [{
		ID: 1,
		level: 95
	}]
}, {
	pets: [{
		ID: 4,
		level: 96
	}]
}, {
	pets: [{
		ID: 7,
		level: 97
	}]
}, {
	pets: [{
		ID: 10,
		level: 98
	}]
}, {
	wizards: [{
		data: '{"level":100}',
		appearance: '{"name":"Frozine", "gender":"female", "hairStyle":11, "hairColor":9, "skinColor":1, "eyeColor":13}',
		equipment: '{"hat":37, "outfit":33, "weapon":63}'
	}, {
		data: '{"level":100}',
		appearance: '{"name":"Charcole", "gender":"male", "hairStyle":3, "hairColor":6, "skinColor":2, "eyeColor":3}',
		equipment: '{"hat":11, "outfit":8, "weapon":64}'
	}, {
		data: '{"level":100}',
		appearance: '{"name":"Sprout", "gender":"female", "hairStyle":7, "hairColor":8, "skinColor":3, "eyeColor":6}',
		equipment: '{"hat":33, "outfit":29, "weapon":24}'
	}, {
		data: '{"level":100}',
		appearance: '{"name":"Thundane", "gender":"male", "hairStyle":4, "hairColor":16, "skinColor":2, "eyeColor":9}',
		equipment: '{"hat":8, "outfit":24, "weapon":23}'
	}, {
		data: '{"level":100}',
		appearance: '{"name":"Pounce", "gender":"male", "hairStyle":8, "hairColor":5, "skinColor":4, "eyeColor":14}',
		equipment: '{"hat":32, "outfit":31, "weapon":60}'
	}]
}, {
	pets: [{
		ID: 38,
		level: 100
	}]
}, {
	pets: [{
		ID: 87,
		level: 100
	}]
}, {
	pets: [{
		ID: 39,
		level: 100
	}]
}, {
	pets: [{
		ID: 72,
		level: 100
	}]
}, {
	pets: [{
		ID: 43,
		level: 100
	}, {
		ID: 26,
		level: 100,
		evolve: [{
			ID: 25,
			lvl: 53
		}]
	}, {
		ID: 44,
		level: 100,
		evolve: [{
			ID: 43,
			lvl: 43
		}]
	}, {
		ID: 61,
		level: 100
	}]
}, {
	pets: [{
		ID: 57,
		level: 100
	}]
}, {
	pets: [{
		ID: 61,
		level: 100
	}]
}, {
	pets: [{
		ID: 15,
		level: 100
	}]
}, {
	pets: [{
		ID: 98,
		level: 100
	}]
}, {}, {
	pets: [{
		ID: 49,
		level: 100
	}]
}, {
	pets: [{
		ID: 50,
		level: 100
	}]
}, {
	pets: [{
		ID: 54,
		level: 100
	}]
}, {
	pets: [{
		ID: 39,
		level: 100,
		evolve: [{
			ID: 38,
			lvl: 50
		}]
	}]
}, {
	pets: [{
		ID: 97,
		level: 100
	}, {
		ID: 89,
		level: 100,
		evolve: [{
			ID: 87,
			lvl: 50
		}, {
			ID: 88,
			lvl: 55
		}]
	}, {
		ID: 12,
		level: 100,
		evolve: [{
			ID: 11,
			lvl: 55
		}]
	}, {
		ID: 42,
		level: 100,
		evolve: [{
			ID: 40,
			lvl: 58
		}, {
			ID: 41,
			lvl: 60
		}]
	}]
}, {
	pets: [{
		ID: 63,
		level: 50
	}, {
		ID: 66,
		level: 50
	}, {
		ID: 69,
		level: 50
	}, {
		ID: 72,
		level: 50
	}]
}, {
	pets: [{
		ID: 64,
		level: 75
	}, {
		ID: 67,
		level: 75
	}, {
		ID: 70,
		level: 75
	}, {
		ID: 73,
		level: 75
	}]
}, {
	pets: [{
		ID: 65,
		level: 100
	}, {
		ID: 68,
		level: 100
	}, {
		ID: 71,
		level: 100
	}, {
		ID: 74,
		level: 100
	}]
}, {
	pets: [{
		ID: 63,
		level: 50
	}, {
		ID: 66,
		level: 50
	}, {
		ID: 69,
		level: 50
	}, {
		ID: 72,
		level: 50
	}]
}, {
	boss: {
		ID: 2,
		level: 100,
		element: "wizard",
		attacks: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36],
		maxHP: 240,
		name: "Mira Shade"
	}
}];
var TowerBase = function () {
	function e(t) {
		WalkableScreen.call(this, t, e.DATA, ["npc-sprite-mira", "tileset-core", "zone-towerbase"]), this.area = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 3, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 3, 3, 3, 3, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [3, 3, 3, 3, 3, 3, 3, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], this.startX = 110, this.startY = 645
	}
	return e.prototype = Object.create(WalkableScreen.prototype), e.prototype.create = function () {
		WalkableScreen.prototype.create.call(this, "tower-0")
	}, e.prototype.screenSetup = function () {
		this.noFade = !0, new Prodigy.Container.QuestNPC(this.game, this.content, 1155, 340, null, {
			name: "Mira Shade",
			atlas: "mira"
		}, this.openTower.bind(this)), new Prodigy.Event.HealStone(this.game, this.content, this.user, this.path, 538, 239), WalkableScreen.prototype.screenSetup.call(this)
	}, e.prototype.openTower = function () {
		var t = this.game.prodigy.player.getTowerProgress();
		if (t = t - t % 5 + 1, t > 100 && (t = 100), this.game.prodigy.network.sendAnalytics("Dark-Tower"), this.game.prodigy.player.isBlockedByDarkTowerMemberGate()) this.game.prodigy.open.darkTowerMemberGate();
		else {
			var i = this.game.prodigy.dialogue.create();
			if (0 === this.game.prodigy.player.getTowerProgress()) {
				for (var a = 1; 6 > a; a++) i.setText(e.DATA.dialogue[a]);
				var s = {
					text: "Do you want to start climbing the tower from floor " + t + "?",
					face: 0,
					yes: this.changeTeam.bind(this, t),
					audio: e.AUDIO[0]
				};
				i.setText(s)
			} else if (this.game.prodigy.player.getTowerProgress() > 99)
				for (var a = 6; 8 > a; a++) i.setText(e.DATA.dialogue[a]);
			else {
				var s = {
					text: "Do you want to continue climbing the tower from floor " + t + "? \n\nIt will cost you [gold] 500.",
					face: 0,
					yes: this.changeTeam.bind(this, t, 500),
					audio: e.AUDIO[0]
				};
				i.setText(s)
			}
			i.start("mira")
		}
	}, e.prototype.changeTeam = function (t, i) {
		var a = !0;
		if (Util.isDefined(i))
			if (this.game.prodigy.player.getGold() >= i) this.game.prodigy.player.changeGold(-500);
			else {
				var s = this.game.prodigy.dialogue.create();
				s.setText(e.DATA.dialogue[8]), s.start("mira"), a = !1
			} a && this.toFloor(t, !0)
	}, e.prototype.toFloor = function (e, t) {
		t && (this.game.state.states.Tower.startX = 602, this.game.state.states.Tower.startY = 150, this.game.state.states.Tower.floor = e, this.game.state.states.Tower.cleared = !1, this.game.prodigy.start("Tower"))
	}, e
}();
TowerBase.AUDIO = [{
	tag: "voice-2",
	s: 0,
	d: 1
}, {
	tag: "voice-2",
	s: 1,
	d: 1
}, {
	tag: "voice-2",
	s: 2,
	d: 1
}, {
	tag: "voice-2",
	s: 3,
	d: 1
}, {
	tag: "voice-2",
	s: 4,
	d: 2
}, {
	tag: "voice-2",
	s: 6,
	d: 1
}, {
	tag: "voice-2",
	s: 7,
	d: 2
}, {
	tag: "voice-2",
	s: 9,
	d: 1
}], TowerBase.DATA = {
	tag: "TowerBase",
	zoneName: "zone-towerbase",
	atlas: "zone-towerbase",
	fullName: "Dark Tower",
	dialogue: [{
		text: "Oh no! Only members can access the tower right now!",
		face: 0,
		anim: 4,
		audio: Tower.AUDIO[0]
	}, {
		text: "Hello there young one...welcome to the Dark Tower.",
		face: 0,
		anim: 4,
		audio: Tower.AUDIO[4]
	}, {
		text: "The name's Mira, and this tower was once the home to a powerful wizard, who built it to test the power of other wizards.",
		face: 2,
		audio: Tower.AUDIO[7]
	}, {
		text: "It is said that whoever can conquer every floor and make it to the top is a true wizard.",
		face: 2
	}, {
		text: "But there is a catch! The battles here are harder, and once you leave the tower, you must start over.",
		face: 1,
		anim: 4,
		audio: Tower.AUDIO[0]
	}, {
		text: "However, if you defeat the opponents on every 5th floor, you can return to that floor if you leave.",
		face: 2,
		audio: Tower.AUDIO[3]
	}, {
		text: "Well hello there! If it isn't mister fancy wizard?",
		face: 0,
		anim: 4,
		audio: Tower.AUDIO[4]
	}, {
		text: "You already beat my tower...but come back someday...I may have more challenges for you!",
		face: 0
	}, {
		text: "Oh no....you don't have enough gold!",
		face: 0,
		anim: 1,
		audio: Tower.AUDIO[0]
	}]
}, Prodigy.House = function (e) {
	Prodigy.Zone.call(this, e), this.game = e, this.util = new Prodigy.ZoneUtil(e, this), this.name = "House", this.ID = "house", this.bgID = 0, this.bgm = "bgm-tutorial", this.minLevel = 1, this.maxLevel = 4, this.battleBG = "bg-battle-mountain", this.onFaint = "house", this.questHub = "house", this.hasClickedLockButton = !1, this.screen = null, this.states = ["daily", "private", "hasClickedLockButton", "hasClickedHouseIcon", "hasClickedWorldMap", "hasClickedPlayerCardVisit", "lastInteractionDateMs", "houseMovingBreadcrumbs"];
	var t = {
			suburbs: ["tileset-interior-general", "tileset-wall-collisions", "bgm-tutorial"],
			coolCave: ["tileset-interior-icecave"],
			firePit: ["tileset-firepit"],
			treeHouse: ["tileset-generic", "tileset-forest", "tileset-outside"],
			forest: ["tileset-generic", "tileset-interior-treehouse"],
			largeHouse: ["tileset-interior-general"]
		},
		i = ["zone-house", "tileset-collisions", "npc-face-mozza-ella"];
	this.maps = {
		exit: new Prodigy.House_Exit(this),
		suburbs: new Prodigy.HouseMap(this, "suburbs", "", 640, 360, [{
			locationName: "house-exit",
			x: 820,
			y: 540,
			w: 100,
			h: 125
		}], i.concat(t.suburbs)),
		forest: new Prodigy.HouseMap(this, "forest", "", 700, 250, [{
			locationName: "house-exit",
			x: 1100,
			y: 660,
			w: 120,
			h: 120
		}], i.concat(t.forest)),
		coolCave: new Prodigy.HouseMap(this, "cool-cave", "", 640, 360, [{
			locationName: "house-exit",
			x: 1140,
			y: 620,
			w: 120,
			h: 120
		}], i.concat(t.coolCave)),
		firePit: new Prodigy.HouseMap(this, "fire-pit", "", 640, 360, [{
			locationName: "house-exit",
			x: 660,
			y: 620,
			w: 120,
			h: 120
		}], i.concat(t.firePit)),
		editor: new Prodigy.House_Editor(this, []),
		preview: new Prodigy.HousePreview(this, []),
		small0: new Prodigy.HouseMap(this, "small-0", "", 640, 360, [{
			locationName: "house-exit",
			x: 380,
			y: 540,
			w: 120,
			h: 120
		}], i.concat(t.suburbs)),
		small1: new Prodigy.HouseMap(this, "small-1", "", 640, 360, [{
			locationName: "house-exit",
			x: 660,
			y: 540,
			w: 120,
			h: 120
		}], i.concat(t.suburbs)),
		medium0: new Prodigy.HouseMap(this, "medium-0", "", 640, 360, [{
			locationName: "house-exit",
			x: 180,
			y: 620,
			w: 120,
			h: 120
		}], i.concat(t.suburbs)),
		medium1: new Prodigy.HouseMap(this, "medium-1", "", 640, 360, [{
			locationName: "house-exit",
			x: 620,
			y: 460,
			w: 120,
			h: 120
		}], i.concat(t.suburbs)),
		large0: new Prodigy.HouseMap(this, "large-0", "", 640, 360, [{
			locationName: "house-exit",
			x: 100,
			y: 620,
			w: 120,
			h: 120
		}], i.concat(t.suburbs)),
		large1: new Prodigy.HouseMap(this, "large-1", "", 640, 360, [{
			locationName: "house-exit",
			x: 140,
			y: 620,
			w: 120,
			h: 120
		}], i.concat(t.suburbs)),
		firePit2: new Prodigy.HouseMap(this, "fire-pit-2", "", 640, 360, [{
			locationName: "house-exit",
			x: 220,
			y: 580,
			w: 120,
			h: 120
		}], i.concat(t.firePit)),
		firePit3: new Prodigy.HouseMap(this, "fire-pit-3", "", 640, 360, [{
			locationName: "house-exit",
			x: 1140,
			y: 660,
			w: 120,
			h: 120
		}], i.concat(t.firePit)),
		houseLarge3: new Prodigy.HouseMap(this, "house-large-3", "", 550, 220, [{
			locationName: "house-exit",
			x: 620,
			y: 340,
			w: 120,
			h: 120
		}], i.concat(t.largeHouse)),
		houseLarge4: new Prodigy.HouseMap(this, "house-large-4", "", 140, 360, [{
			locationName: "house-exit",
			x: 140,
			y: 660,
			w: 120,
			h: 120
		}], i.concat(t.largeHouse)),
		coolCaveUnique1: new Prodigy.HouseMap(this, "cool-cave-unique-1", "", 640, 360, [{
			locationName: "house-exit",
			x: 1100,
			y: 620,
			w: 120,
			h: 120
		}], i.concat(t.coolCave)),
		coolCaveUnique2: new Prodigy.HouseMap(this, "cool-cave-unique-2", "", 640, 360, [{
			locationName: "house-exit",
			x: 660,
			y: 580,
			w: 120,
			h: 120
		}], i.concat(t.coolCave)),
		treehouseUnique1: new Prodigy.HouseMap(this, "treehouse-unique-1", "", 640, 360, [{
			locationName: "house-exit",
			x: 140,
			y: 660,
			w: 120,
			h: 120
		}], i.concat(t.forest)),
		treehouseUnique2: new Prodigy.HouseMap(this, "treehouse-unique-2", "", 640, 360, [{
			locationName: "house-exit",
			x: 220,
			y: 620,
			w: 120,
			h: 120
		}], i.concat(t.forest))
	}, this.quests = {
		1: new Prodigy.House_Q1(this, t.suburbs)
	}, this.scenes = {
		intro: new Prodigy.House_Intro(this, t.suburbs),
		battle: new Prodigy.House_Battle(this),
		arrows: new Prodigy.House_Arrows(this)
	}, this.store = {
		name: "HOUSE - COMFY",
		dod: !0,
		defaultMemberAd: Prodigy.Menu.MemberAd.NEW_HOUSE,
		pages: [{
			btn: {
				icon: {
					ID: 7,
					iconAtlas: "icons-house-buying",
					forcedWidth: 80,
					forcedHeight: 80
				},
				top: "Special",
				bot: "Houses"
			},
			items: [{
				ID: 4,
				type: "dormbg"
			}, {
				ID: 5,
				type: "dormbg"
			}, {
				ID: 3,
				type: "dormbg"
			}, {
				ID: 12,
				type: "dormbg"
			}, {
				ID: 16,
				type: "dormbg"
			}, {
				ID: 18,
				type: "dormbg"
			}, {
				ID: 19,
				type: "dormbg"
			}]
		}, {
			btn: {
				icon: {
					ID: 4,
					iconAtlas: "icons-house-buying",
					forcedWidth: 80,
					forcedHeight: 80
				},
				top: "Large",
				bot: "Houses"
			},
			items: [{
				ID: 10,
				type: "dormbg"
			}, {
				ID: 11,
				type: "dormbg"
			}, {
				ID: 14,
				type: "dormbg"
			}, {
				ID: 15,
				type: "dormbg"
			}]
		}, {
			btn: {
				icon: {
					ID: 5,
					iconAtlas: "icons-house-buying",
					forcedWidth: 80,
					forcedHeight: 80
				},
				top: "Medium",
				bot: "Houses"
			},
			items: [{
				ID: 8,
				type: "dormbg"
			}, {
				ID: 9,
				type: "dormbg"
			}]
		}, {
			btn: {
				icon: {
					ID: 6,
					iconAtlas: "icons-house-buying",
					forcedWidth: 80,
					forcedHeight: 80
				},
				top: "Small",
				bot: "Houses"
			},
			items: [{
				ID: 6,
				type: "dormbg"
			}, {
				ID: 7,
				type: "dormbg"
			}, {
				ID: 1,
				type: "dormbg"
			}]
		}]
	}, this.monsters = [], this.game.broadcaster.addAppListener(Prodigy.Events.House.CLICKED_HOUSE_ICON, this.onWorldMapHouseIconClick.bind(this), this, "UI", !0)
}, Prodigy.extends(Prodigy.House, Prodigy.Zone, {
	constructor: Prodigy.House,
	init: function (e, t, i) {
		Prodigy.Zone.prototype.init.call(this, e, t, i), this.screen = t, this.hasClickedLockButton = this.getState("hasClickedLockButton"), Util.isDefined(this.hasClickedLockButton) || (this.hasClickedLockButton = !1), Util.isDefined(this.getCurrentQuest()) || this.startQuest(1), this.game.broadcaster.removeAppListener(Prodigy.Events.House.CLICKED_HOUSE_ICON, this, "UI");
		var a = this.getState("hasClickedHouseIcon");
		this.isBreadcrumbComplete("moving", "worldMapHouse") && Util.isDefined(a) && !a || this.game.broadcaster.addAppListener(Prodigy.Events.House.CLICKED_HOUSE_ICON, this.onWorldMapHouseIconClick.bind(this), this, "UI", !0)
	},
	getAllowsVisiting: function () {
		return Util.isDefined(this.player) && this.player.getAllowsHouseVisitors()
	},
	setAllowsVisiting: function (e) {
		Util.isDefined(this.player) && (!this.player.isMember && e && (e = !1, Util.log("House.setAllowsVisiting - player is not a member but is trying to unlock house for visiting.  Defaulting to locked.", Util.INFO)), this.player.setAllowsHouseVisitors(e)), this.screen.menuBar.open(0, !0)
	},
	gotoPreview: function (e) {
		this.teleport("preview", 0, 0, this.game.prodigy.player, {
			mapTag: e
		})
	},
	teleport: function(e, t, i, a, s) {
		if (e.indexOf("exit") > -1) return Prodigy.Zone.prototype.teleport.call(this, e, t, i, a, s), void 0;
		this.player = Util.isDefined(a) ? a : this.game.prodigy.player, this.bgID = this.player.house.getBackground() - 1, this.bgID = 0;
		var r = Items.data.dormbg[this.bgID].tag;
		if (s = s || {}, "editor" === e) {
			var o = this.getMap("editor");
			o._file = "map-house-" + r, o._tag = "mapTag";
			var n = this.getMap(r);
			if (!Util.isDefined(n)) return;
			n._zoneName = "house-" + this.player.userID, this.game.state.states.TileScreen.initMap(o, this, t, i), s.assets = s.assets || [], s.assets = s.assets.concat(["map-pathing"]).concat(n.assets), s.title = s.title || n._name, this.game.prodigy.start("TileScreen", s)
		} else {
			var e = this.getMap(r);
			Util.isDefined(e) && (e._zoneName = "house-" + this.player.userID), Prodigy.Zone.prototype.teleport.call(this, r, t, i, [], s)
		}
	},
	setup: function (e, t, i) {
		if (!Util.isDefined(this.getCurrentQuest()) && Util.isDefined(this.player) && this.player.userID === this.game.prodigy.player.userID && i.getTag().indexOf("exit") < 0) {
			var a = this.getState("lastInteractionDateMs"),
				s = Util.isDefined(a) ? new Date(a) : null;
			Util.isDefined(s) && Util.isDateToday(s) || this.game.prodigy.network.sendAnalytics("House-daily-interaction"), this.setState("lastInteractionDateMs", (new Date).getTime())
		}
		return this.setAllowsVisiting(this.getAllowsVisiting()), Prodigy.Zone.prototype.setup.call(this, e, t, i)
	},
	start: function (e, t) {
		Prodigy.Zone.prototype.start.call(this, e, t), e.input.enabled = !0
	},
	move: function () {
		this.bgID !== this.player.house.getBackground() - 1 && this.game.prodigy.world.teleport("house", null, null, this.player)
	},
	openHouseStore: function () {
		var e = {
			shopkeeperTag: "npc-face-mozza-ella",
			shopkeeperFrame: "face_0",
			scaleX: .89,
			scaleY: .89
		};
		this.game.prodigy.open.store(this.store, null, e, function () {
			this.game.prodigy.player.house.setAllInactive(), this.teleport("")
		}.bind(this), {
			message: "Would you like to move here? The movers will put all of your items back in your inventory, and you won't be able to use your current house until you buy it again and move back."
		})
	},
	getDailyMaps: function () {
		var e = [];
		for (var t in this.maps) Util.isDefined(this.maps[t].daily_coors) && e.push(t);
		return e
	},
	completeBreadcrumb: function (e, t) {
		var i = null;
		"moving" === e ? ("worldMapButton" === t ? i = 0 : "worldMapHouse" === t ? i = 1 : "moveButton" === t ? i = 2 : Util.log("House.completeBreadcrumb - There is no breadcrumb for featureName: " + e + " and breadcrumbName: " + t, Util.ERROR), Util.isDefined(i) && this.setState("houseMovingBreadcrumbs", i)) : Util.log("House.completeBreadcrumb - There are no breadcrumbs for featureName: " + e, Util.ERROR)
	},
	isBreadcrumbComplete: function (e, t) {
		var i = !1;
		if ("moving" === e) {
			var a = this.getState("houseMovingBreadcrumbs");
			Util.isDefined(a) && (i = "worldMapButton" === t && a >= 0 || "worldMapHouse" === t && a >= 1 || "moveButton" === t && a >= 2)
		}
		return i
	},
	onWorldMapHouseIconClick: function () {
		this.game.broadcaster.removeAppListener(Prodigy.Events.House.CLICKED_HOUSE_ICON, this, "UI"), this.isBreadcrumbComplete("moving", "worldMapHouse") || this.completeBreadcrumb("moving", "worldMapHouse");
		var e = this.getState("hasClickedHouseIcon");
		Util.isDefined(e) && e || this.setState("hasClickedHouseIcon", !0)
	}
}), Prodigy.House.VISITING_UNLOCKED_TEXT = "Wizards can visit your house now!", Prodigy.House.VISITING_LOCKED_TEXT = "Wizards can no longer visit your house.", Prodigy.Menu.House_Editor_HUD = function (e, t, i, a, s, r, o) {
	this.data = a, this.screen = s, this.houseEditor = o, Prodigy.Control.Menu.call(this, e, t, -1, {
		hideMenu: !0,
		hideOverlay: !0,
		hideContent: !1,
		close: r
	}), this.setup()
}, Prodigy.extends(Prodigy.Menu.House_Editor_HUD, Prodigy.Control.Menu, {
	menuSetup: function () {
		Prodigy.Control.Menu.prototype.menuSetup.call(this), this.myItems = this.game.prodigy.create.element(this, 190, 620), this.cmdCategories = [{
			icon: {
				ID: 1,
				type: "dorm"
			},
			callback: this.setItems.bind(this, "Comfy"),
			type: "Comfy"
		}, {
			icon: {
				ID: 3,
				type: "dorm"
			},
			callback: this.setItems.bind(this, "Surface"),
			type: "Surface"
		}, {
			icon: {
				ID: 6,
				type: "dorm"
			},
			callback: this.setItems.bind(this, "Plants"),
			type: "Plants"
		}, {
			icon: {
				ID: 13,
				type: "dorm"
			},
			callback: this.setItems.bind(this, "Storage"),
			type: "Storage"
		}, {
			icon: {
				ID: 18,
				type: "dorm"
			},
			callback: this.setItems.bind(this, "Wall"),
			type: "Wall"
		}, {
			icon: {
				ID: 41,
				type: "dorm"
			},
			callback: this.setItems.bind(this, "Lamps"),
			type: "Lamps"
		}, {
			icon: {
				ID: 22,
				type: "dorm"
			},
			callback: this.setItems.bind(this, "Items"),
			type: "Items"
		}], this.showFrame("map", "DESIGN-A-HOUSE", this.cmdCategories, 0);
		var e = this.game.prodigy.create.textButton(this, 0, 0, {
			icon: "close",
			text: "close"
		}, this.close.bind(this));
		this.showBtns([], [e]), this.updateCategoriesHUD(), this.enableEditor(), this.setupComplete = !0
	},
	enableEditor: function () {
		var e = (this.game.prodigy.player.house.getSortedActive(), function () {
			this.game.prodigy.open.confirm("Do you want to store all of your furniture? \n\nTo place it back in your room, just choose one of the above categories and select it from the bottom storage menu!", this.removeAllItems.bind(this))
		});
		this.trash = this.game.prodigy.create.button(this, 1160, 500, "zone-house", "trash-icon", e.bind(this)), this.rot = this.game.prodigy.create.sprite(0, 0, "zone-house", "rotate"), this.rot.anchor.setTo(.5, 1), this.add(this.rot), this.rot.visible = !1, this.rot.inputEnabled = !0, this.rot.events.onInputDown.add(this.rotateItem.bind(this, this.rot), this);
		var t = function () {
			this.game.prodigy.open.store(this.data, this.setItems.bind(this, this.type, this.page))
		};
		this.add(this.game.prodigy.create.sprite(50, 635, "icons", "icon-base")), this.game.prodigy.create.button(this, 50, 625, "icons", "catalogue", t.bind(this))
	},
	linkRotate: function (e) {
		Items.data.dorm[e.data.ID - 1].r > 0 ? (this.rot.visible = !0, this.rot.x = e.world.x, this.rot.y = e.world.y, this.rot.itemSprite = e, this.rot.bringToTop()) : (this.rot.itemSprite = null, this.rot.visible = !1)
	},
	rotateItem: function () {
		var e = this.rot,
			t = !0;
		if (Util.isDefined(e.itemSprite)) {
			var i = e.itemSprite.data.ID,
				a = e.itemSprite.data.r + 1,
				s = Items.data.dorm[i - 1].r;
			a >= s && (a = 0), e.itemSprite.data.r = a, Prodigy.Menu.House_Editor_HUD.setupItem(e.itemSprite), this.houseEditor.checkOverlapAnyPlaced(e.itemSprite) && (t = !1, a -= 1, 0 > a && (a = s - 1, e.itemSprite.data.r = a, Prodigy.Menu.House_Editor_HUD.setupItem(e.itemSprite))), t && this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "pop")
		}
	},
	isSpriteOnTrash: function () {
		return this.game.input.x > this.trash.x && this.game.input.y > this.trash.y && this.game.input.x < this.trash.x + this.trash.width && this.game.input.y < this.trash.y + this.trash.height
	},
	removeItem: function (e) {
		this.game.prodigy.player.house.setInactive(e), this.refreshHouse()
	},
	removeAllItems: function () {
		this.game.prodigy.player.house.setAllInactive(), this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "dig"), this.refreshHouse()
	},
	refreshHouse: function () {
		this.setItems(this.type, this.page), this.updateCategoriesHUD(), this.rot.visible = !1, this.houseEditor.refresh = !0, this.screen.process()
	},
	updateCategoriesHUD: function () {
		for (var e = 0; e < this.cmdCategories.length; e++) {
			for (var t = Items.getDormItems(this.cmdCategories[e].type), i = !1, a = 0; a < t.length; a++) {
				var s = t[a];
				if (this.game.prodigy.player.house.getOwned(s.ID) - this.game.prodigy.player.house.getActive(s.ID) > 0) {
					i = !0;
					break
				}
			}
			i ? this.btns[e].setActive() : this.btns[e].setInactive()
		}
	},
	setItems: function (e, t) {
		this.updateCategoriesHUD(), Util.isDefined(this.myItems) && this.myItems.removeAll(!0);
		var i, a = Items.getDormItems(e);
		for (i = a.length - 1; i >= 0; i--) {
			var s = a[i];
			this.game.prodigy.player.house.getOwned(s.ID) - this.game.prodigy.player.house.getActive(s.ID) <= 0 && a.splice(i, 1)
		}
		var r = Math.floor(1 + (a.length - 1) / 6);
		if (t = t || 0, 0 > t && (t = 0), t >= r && (t = r - 1), this.type = e, this.page = t, a.length <= 0) {
			var o = this.game.prodigy.create.element(this.myItems, 0, 30);
			o.showHouseTooltip("Buy new items!", 0)
		} else {
			var n = this.myItems.add(this.game.prodigy.create.sprite(25, 30, "core", "overlay-light"));
			n.alpha = .2, n.width = 670, n.height = 50;
			var h;
			for (i = 6 * t, h = 0; 6 * t + 6 > i && i < a.length; i++, h++) Util.isDefined(a[i]) && new HouseItemIcon(this.game, this.myItems, 70 + 100 * h, 0, a[i], this);
			var l = this.game.prodigy.create.button(this.myItems, 0, 30, "icons", "back", this.setItems.bind(this, e, t - 1)),
				d = this.game.prodigy.create.button(this.myItems, 670, 30, "icons", "next", this.setItems.bind(this, e, t + 1));
			0 === t && l.setInactive(), t === r - 1 && d.setInactive()
		}
	},
	close: function () {
		if (Util.isDefined(this.items))
			for (var e = 0; e < this.items.children.length; e++) {
				var t = this.items.children[e];
				t.data.x = t.x, t.data.y = t.y, t.data.z = t.z
			}
		this.game.prodigy.player.house.updated = !0, this.game.prodigy.player.getUpdatedData(), this.game.input.enabled = !1, this.game.prodigy.world.teleport("house", null, null, this.houseEditor._zone.player, {
			time: 1,
			fadeIn: !0,
			fadeOut: !0,
			callback: Prodigy.Control.Menu.prototype.close.call(this)
		})
	}
}), Prodigy.Menu.House_Editor_HUD.getSpriteData = function (e, t) {
	var i = Items.data.dorm[e - 1],
		a = Math.floor(.5 * t),
		s = e + (i.r > 0 ? "-" + a : ""),
		r = t % 2 === 1 ? -1 : 1;
	return {
		frameName: s,
		scaleX: r
	}
}, Prodigy.Menu.House_Editor_HUD.setupItem = function (e) {
	var t = Items.data.dorm[e.data.ID - 1],
		i = Math.floor(.5 * e.data.r);
	e.frameName = e.data.ID + (t.r > 0 ? "-" + i : ""), e.scale.x = e.data.r % 2 === 1 ? -1 : 1
};
var HouseItemIcon = function () {
	function e(e, t, i, a, s, r) {
		Prodigy.Control.Element.call(this, e, t, i, a);
		var o = Items.getIconAtlas(s);
		this.menu = r, this.item = s, this.add(this.game.prodigy.create.sprite(0, 0, o, "" + s.ID)), this.overlay = this.add(this.game.prodigy.create.sprite(40, 0, "zone-house", "1-0")), this.overlay.anchor.setTo(.5, 0), this.overlay.inputEnabled = !0, this.overlay.alpha = 0, this.overlay.input.enableDrag(!0, !0), this.overlay.input.enableSnap(20, 20, !0);
		var n = Prodigy.Menu.House_Editor_HUD.getSpriteData(s.ID, 0);
		this.overlay.events.onDragStart.add(this.startDrag.bind(this, i, a, n), this), this.overlay.events.onDragUpdate.add(this.onDragUpdate.bind(this, this.overlay), this), this.overlay.events.onDragStop.add(this.stopDrag, this, s), this.game.prodigy.create.font(this, 0, 65, "" + (this.game.prodigy.player.house.getOwned(s.ID) - this.game.prodigy.player.house.getActive(s.ID)), {
			width: 80,
			align: "right"
		})
	}
	return e.prototype = Object.create(Prodigy.Control.Element.prototype), e.prototype.startDrag = function (e, t, i) {
		this.overlay.frameName = i.frameName, this.overlay.alpha = 1
	}, e.prototype.onDragUpdate = function (e) {
		var t = this.menu.houseEditor.canPlace(e.world.x, e.world.y, e.width, e.height),
			i = this.menu.houseEditor.checkOverlapAnyPlaced(e);
		e.alpha = t && !i ? 1 : .5
	}, e.prototype.stopDrag = function (e) {
		var t = this.overlay.world.x,
			i = this.overlay.world.y;
		if (this.menu.houseEditor.canPlace(t, i, this.overlay.width, this.overlay.height) && !this.menu.houseEditor.checkOverlapAnyPlaced(this.overlay)) {
			var a = this.game.prodigy.create.element(this.menu.houseEditor.above, 10 * Math.round(.1 * t), 10 * Math.round(.1 * i));
			this.sprite = a.add(this.game.prodigy.create.sprite(0, 0, "zone-house", e.frameName)), this.sprite.alpha = 0, this.sprite.data = {
				ID: this.item.ID,
				x: t,
				y: i,
				dx: 0,
				dy: 0,
				z: 1,
				anchorY: this.item.anchorY || 0,
				r: 0,
				stack: []
			}, this.sprite.id = this.menu.houseEditor.ID++, this.sprite.anchor.setTo(.5, 0), this.sprite.scale.x = e.scaleX, this.sprite.y = this.item.anchorY || 0, this.sprite.dx = 0, this.sprite.dy = 0, this.sprite.base = 0, a.base = this.sprite, Prodigy.Menu.House_Editor_HUD.setupItem(this.sprite), this.sprite.parent.x = this.overlay.world.x, this.sprite.parent.y = this.overlay.world.y, this.sprite.data.x = this.sprite.parent.x, this.sprite.data.y = this.sprite.parent.y;
			var s = null;
			null !== s && (this.sprite.base = 0, this.sprite.parent.base = this.sprite), this.game.prodigy.player.house.setActive(this.sprite.data.ID, this.sprite.data.x, this.sprite.data.y, 1, 0, 0, 0, 0), this.menu.houseEditor.enableEdit(this.sprite, !0), this.menu.houseEditor.placed.push(this.sprite.parent), this.menu.refreshHouse(), this.menu.linkRotate(this.sprite)
		}
		this.overlay.x = 40, this.overlay.y = 0, this.overlay.alpha = 0
	}, e
}();
Prodigy.HouseMap = function (e, t, i, a, s, r, o) {
	this.areaEventConfigs = r;
	var n = this.areaEventConfigs.map(function (e) {
		return e.locationName
	});
	Prodigy.Map.call(this, e, t, i, a, s, n, o)
}, Prodigy.extends(Prodigy.HouseMap, Prodigy.Map, {
	constructor: Prodigy.HouseMap,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.game = e, this.player = this._zone.player, this.ID = 1, this.above = e.prodigy.create.element(t.foreground), this.content = t.content, this.placed = [], this.loadItems(), this.createAreaEvents(e, t)
	},
	loadItems: function () {
		for (var e = this.player.house.getSortedActive(), t = 0; t < e.length; t++) {
			var i = e[t],
				a = Prodigy.Menu.House_Editor_HUD.getSpriteData(i.ID, i.r),
				s = this.game.prodigy.create.element(this.content, 10 * Math.round(.1 * i.x), 10 * Math.round(.1 * i.y)),
				r = s.add(this.game.prodigy.create.sprite(0, 0, "zone-house", a.frameName));
			r.data = i, r.id = this.ID++, r.anchor.setTo(.5, 0), r.scale.x = a.scaleX, r.y = 0, r.dx = 0, r.dy = 0, r.base = 0, s.base = r, this.placed.push(s)
		}
	},
	createAreaEvents: function (e, t) {
		this.areaEventConfigs.forEach(function (i) {
			this.addAreaEvent(e, t, {
				x: i.x,
				y: i.y,
				w: i.w,
				h: i.h,
				rect: !0
			}, i.locationName, null, null, null, null, !1)
		}.bind(this))
	}
}), Prodigy.House_Exit = function (e) {
	Prodigy.Map.call(this, e, "exit", "Pallet Pass", 120, 580, ["lamplight-A4"], ["tileset-collisions", "tileset-generic-new", "tileset-forest-new", "bgm-tutorial"])
}, Prodigy.extends(Prodigy.House_Exit, Prodigy.Map, {
	constructor: Prodigy.House_Exit,
	setup: function (e, t, i) {
		Prodigy.Map.prototype.setup.call(this, e, t, i), this.addAreaEvent(e, t, {
			x: 40,
			y: 580,
			w: 80,
			h: 240,
			rect: !0
		}, "house-suburbs", null, null, null, AreaEvent.LEFT), this.addAreaEvent(e, t, {
			x: 1240,
			y: 380,
			w: 80,
			h: 240,
			rect: !0
		}, "lamplight-A4", 120, 500, null, AreaEvent.RIGHT)
	}
}), Prodigy.House_Suburbs = function (e, t, i) {
	Prodigy.HouseMap.call(this, e, "suburbs", "Lamplight House", 640, 360, i, t)
}, Prodigy.extends(Prodigy.House_Suburbs, Prodigy.HouseMap, {
	constructor: Prodigy.House_Suburbs,
	setup: function (e, t, i) {
		Prodigy.HouseMap.prototype.setup.call(this, e, t, i)
	}
}), Prodigy.House_Editor = function (e, t) {
	Prodigy.HouseMap.call(this, e, "editor", "Edit Mode", 640, 360, [], t), this.STORE = {
		name: "HOUSE - COMFY",
		dod: !0,
		defaultMemberAd: Prodigy.Menu.MemberAd.HOUSE_ITEMS,
		pages: [{
			btn: {
				icon: {
					ID: 1,
					type: "dorm"
				},
				bot: "Seats"
			},
			items: [{
				ID: 1,
				type: "dorm"
			}, {
				ID: 2,
				type: "dorm"
			}, {
				ID: 17,
				type: "dorm"
			}, {
				ID: 10,
				type: "dorm"
			}, {
				ID: 11,
				type: "dorm"
			}, {
				ID: 12,
				type: "dorm"
			}, {
				ID: 15,
				type: "dorm"
			}, {
				ID: 27,
				type: "dorm"
			}, {
				ID: 40,
				type: "dorm"
			}, {
				ID: 45,
				type: "dorm"
			}, {
				ID: 49,
				type: "dorm"
			}, {
				ID: 50,
				type: "dorm"
			}, {
				ID: 54,
				type: "dorm"
			}, {
				ID: 56,
				type: "dorm"
			}, {
				ID: 64,
				type: "dorm"
			}, {
				ID: 67,
				type: "dorm"
			}, {
				ID: 130,
				type: "dorm"
			}, {
				ID: 133,
				type: "dorm"
			}]
		}, {
			btn: {
				icon: {
					ID: 3,
					type: "dorm"
				},
				bot: "Tables"
			},
			items: [{
				ID: 3,
				type: "dorm"
			}, {
				ID: 4,
				type: "dorm"
			}, {
				ID: 5,
				type: "dorm"
			}, {
				ID: 14,
				type: "dorm"
			}, {
				ID: 20,
				type: "dorm"
			}, {
				ID: 35,
				type: "dorm"
			}, {
				ID: 62,
				type: "dorm"
			}, {
				ID: 135,
				type: "dorm"
			}]
		}, {
			btn: {
				icon: {
					ID: 6,
					type: "dorm"
				},
				bot: "Plants"
			},
			items: [{
				ID: 6,
				type: "dorm"
			}, {
				ID: 7,
				type: "dorm"
			}, {
				ID: 8,
				type: "dorm"
			}, {
				ID: 9,
				type: "dorm"
			}, {
				ID: 29,
				type: "dorm"
			}, {
				ID: 30,
				type: "dorm"
			}, {
				ID: 53,
				type: "dorm"
			}]
		}, {
			btn: {
				icon: {
					ID: 13,
					type: "dorm"
				},
				bot: "Storage"
			},
			items: [{
				ID: 13,
				type: "dorm"
			}, {
				ID: 16,
				type: "dorm"
			}, {
				ID: 21,
				type: "dorm"
			}, {
				ID: 28,
				type: "dorm"
			}, {
				ID: 70,
				type: "dorm"
			}, {
				ID: 131,
				type: "dorm"
			}]
		}, {
			btn: {
				icon: {
					ID: 18,
					type: "dorm"
				},
				bot: "Wall"
			},
			items: [{
				ID: 18,
				type: "dorm"
			}, {
				ID: 19,
				type: "dorm"
			}, {
				ID: 23,
				type: "dorm"
			}, {
				ID: 24,
				type: "dorm"
			}, {
				ID: 25,
				type: "dorm"
			}, {
				ID: 26,
				type: "dorm"
			}, {
				ID: 36,
				type: "dorm"
			}, {
				ID: 37,
				type: "dorm"
			}, {
				ID: 38,
				type: "dorm"
			}, {
				ID: 59,
				type: "dorm"
			}, {
				ID: 61,
				type: "dorm"
			}, {
				ID: 63,
				type: "dorm"
			}, {
				ID: 66,
				type: "dorm"
			}, {
				ID: 69,
				type: "dorm"
			}, {
				ID: 134,
				type: "dorm"
			}]
		}, {
			btn: {
				icon: {
					ID: 41,
					type: "dorm"
				},
				bot: "Lamps"
			},
			items: [{
				ID: 31,
				type: "dorm"
			}, {
				ID: 32,
				type: "dorm"
			}, {
				ID: 33,
				type: "dorm"
			}, {
				ID: 41,
				type: "dorm"
			}, {
				ID: 42,
				type: "dorm"
			}, {
				ID: 43,
				type: "dorm"
			}, {
				ID: 44,
				type: "dorm"
			}, {
				ID: 46,
				type: "dorm"
			}, {
				ID: 47,
				type: "dorm"
			}, {
				ID: 60,
				type: "dorm"
			}, {
				ID: 71,
				type: "dorm"
			}, {
				ID: 132,
				type: "dorm"
			}]
		}, {
			btn: {
				icon: {
					ID: 22,
					type: "dorm"
				},
				bot: "Misc."
			},
			items: [{
				ID: 22,
				type: "dorm"
			}, {
				ID: 34,
				type: "dorm"
			}, {
				ID: 39,
				type: "dorm"
			}, {
				ID: 48,
				type: "dorm"
			}, {
				ID: 51,
				type: "dorm"
			}, {
				ID: 52,
				type: "dorm"
			}, {
				ID: 55,
				type: "dorm"
			}, {
				ID: 57,
				type: "dorm"
			}, {
				ID: 58,
				type: "dorm"
			}, {
				ID: 65,
				type: "dorm"
			}, {
				ID: 68,
				type: "dorm"
			}]
		}]
	}
}, Prodigy.extends(Prodigy.House_Editor, Prodigy.HouseMap, {
	constructor: Prodigy.House_Editor,
	setup: function (e, t, i) {
		Prodigy.HouseMap.prototype.setup.call(this, e, t, i), t.menuBar.show(!1), t.user.visible = !1, t.addFollow(e.prodigy.player.userID), this.HUD = e.prodigy.open.houseEditorHUD(this, this.STORE, t, null, this), this.screen = t;
		for (var a = 0; a < this.placed.length; a++) this.enableEdit(this.placed[a].base, !0)
	},
	start: function (e) {
		e.input.enabled = !0
	},
	process: function () {
		if (this.refresh) {
			this.content.removeAll();
			for (var e = 0; e < this.placed.length; e++) this.placed[e].base.destroy(), this.placed[e].destroy();
			this.placed = [], this.loadItems();
			for (var e = 0; e < this.placed.length; e++) this.enableEdit(this.placed[e].base, !0)
		}
	},
	enableEdit: function (e, t) {
		e.inputEnabled = t, t && (e.input.enableDrag(), e.input.enableSnap(20, 20, !0), e.events.onDragStart.add(this.onDragStart.bind(this, e), this), e.events.onDragUpdate.add(this.onDragUpdate.bind(this, e), this), e.events.onDragStop.add(this.onDragStop.bind(this, e), this))
	},
	onDragStart: function (e) {
		this.HUD.rot.visible = !1, e.id !== e.parent.base.id && e.parent.children.length > 1 && (this.unstack(e), e.data = this.player.house.data.active[this.player.house.data.active.length - 1]), this.above.add(e.parent)
	},
	onDragUpdate: function (e) {
		var t = this.canPlace(e.world.x, e.world.y, e.width, e.height, -1 === e.scale.x),
			i = this.checkOverlapAnyPlaced(e);
		e.parent.alpha = t && !i ? 1 : .5
	},
	onDragStop: function (e) {
		if (this.debug = !0, e.parent.alpha = 1, e.tint = 16777215, this.above.moveAll(this.content), e.x = Math.floor(e.x), e.y = Math.floor(e.y), this.HUD.isSpriteOnTrash()) this.HUD.removeItem(e.data), this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "dig");
		else if (!this.canPlace(e.world.x, e.world.y, e.width, e.height, -1 === e.scale.x) || this.checkOverlapAnyPlaced(e)) e.x = e.data.x - e.parent.x, e.y = e.data.y - e.parent.y;
		else {
			if (e.data.x - e.world.x === 0 && e.data.y - e.world.y === 0) this.HUD.linkRotate(e), this.HUD.rotateItem();
			else {
				e.parent.x = e.world.x, e.parent.y = e.world.y - e.data.anchorY, e.x = 0, e.y = e.data.anchorY, e.data.x = e.world.x, e.data.y = e.world.y;
				var t = null;
				null !== t && (e.base = 0, e.parent.base = e)
			}
			this.HUD.refreshHouse()
		}
		this.player.house.updated = !0
	},
	canPlace: function (e, t, i, a, s) {
		if (!(Util.isDefined(e) && Util.isDefined(t) && Util.isDefined(i) && Util.isDefined(a))) return !1;
		e = Math.floor(e / 20), t = Math.floor(t / 20), i = Math.floor(i / 20), a = Math.floor(a / 20);
		var r = t + 1,
			o = t + a - 1,
			n = Math.ceil(e + .5 * i - 1 + (s ? 1 : 0)),
			h = Math.floor(e - .5 * i - (s ? 1 : 0));
		return !(h > 64 || o > 32 || 0 > n || 0 > r || 1 !== this.screen.area[r][n] || 1 !== this.screen.area[r][h] || 1 !== this.screen.area[o][n] || 1 !== this.screen.area[o][h])
	},
	setOffset: function (e, t) {
		for (var i = e.children, a = 0; a < e.children.length; a++) i[a].id !== t.id && (i[a].dx = i[a].world.x - t.world.x, i[a].dy = i[a].world.y - t.world.y, i[a].data.dx = i[a].dx, i[a].data.dy = i[a].dy)
	},
	checkOverlap: function (e, t) {
		if (e.id === t.id) return !1;
		if (e.world.y > t.world.y) return !1;
		var i = e.getBounds(),
			a = t.getBounds();
		return i.x += 2, i.y += 2, i.width -= 4, i.height -= 4, a.x += 2, a.y += 2, a.width -= 4, a.height -= 4, Phaser.Rectangle.intersects(i, a)
	},
	checkOverlapAnyPlaced: function (e) {
		for (var t = 0; t < this.placed.length; t++)
			if (this.checkOverlap(e, this.placed[t].base)) return !0;
		return !1
	}
}), Prodigy.HousePreview = function (e, t) {
	Prodigy.HouseMap.call(this, e, "preview", "House Preview", 640, 330, [], t)
}, Prodigy.extends(Prodigy.HousePreview, Prodigy.HouseMap, {
	constructor: Prodigy.HousePreview,
	setup: function (e, t, i) {
		Prodigy.HouseMap.prototype.setup.call(this, e, t, i), this.screen = t;
		for (var a = 0; a < this.placed.length; a++) this.placed[a].visible = !1;
		var s = e.prodigy.event.create();
		s.text(this.getDialogueIndexFromMapTag(this._tag), "mozza-ella"), s.start()
	},
	createAreaEvents: function (e, t) {
		var i = new Prodigy.Container.MozzaElla(e, t.content, 640, 360);
		if (Util.isDefined(this.areaEventConfigs) && this.areaEventConfigs.length > 0) {
			var a = this.areaEventConfigs[0];
			i.x = a.x + a.w / 2 - i.width / 2 - 60, i.y = a.y - .75 * i.height - 60
		}
		i.sprites.children.forEach(function (t) {
			t.inputEnabled = !0, t.events.onInputDown.add(this.onMozzaEllaClick.bind(this, e))
		}.bind(this))
	},
	onMozzaEllaClick: function (e) {
		var t = e.prodigy.event.create();
		t.text(11, "mozza-ella"), t.function(this.showPurchasePopup.bind(this, e)), t.start()
	},
	showPurchasePopup: function (e) {
		for (var t = {
				text: "",
				icon: "mail-gold"
			}, i = {
				text: "Go Back",
				callback: e.prodigy.world.teleport.bind(e.prodigy.world, "house")
			}, a = null, s = 0; s < Items.data.dormbg.length; s++)
			if (a = Items.data.dormbg[s], a.tag === this._tag) {
				t.text = a.price > 0 ? a.price : "FREE", t.callback = this.onBuyButtonClick.bind(this, a), t.needsMemberIcon = a.member && !e.prodigy.player.isMember;
				break
			} var r = e.prodigy.open.messageBoxGeneric("Would you like to buy this house, or go back to your own?", t, i),
			o = this.game.prodigy.create.item(r.base, 0, 0, {
				ID: Util.isDefined(a) ? a.ID : 0,
				type: "dormbg",
				cost: 200
			}, "icon-no-bg", null),
			n = 45,
			h = 250,
			l = Util.getCenteredXY(o.width, o.height, 0, r.desc.y, r.base.width, h - (r.desc.y + r.desc.height));
		o.x = l.x, o.y = l.y + n
	},
	onBuyButtonClick: function (e) {
		e.member && !this.game.prodigy.player.isMember ? this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.NEW_HOUSE) : this.game.prodigy.player.getGold() < e.price ? this.game.prodigy.player.isMember ? this.game.prodigy.open.message("You need [gold]" + e.price + " for this item. You only have [gold]" + this.game.prodigy.player.getGold(!0) + ".", null, "gold", "Uh oh!") : this.game.prodigy.open.membership(Prodigy.Menu.MemberAd.MORE_GOLD) : this.game.prodigy.open.messageBox("Would you like to move here? The movers will put all of your items back in your inventory, and you won't be able to use your current house until you buy it again and move back.", this.onPurchaseConfirmation.bind(this, e))
	},
	onPurchaseConfirmation: function (e) {
		this.game.prodigy.player.house.setCurrentHouseTag(e.tag), this.game.prodigy.player.changeGold(-e.price), this.game.prodigy.player.house.setAllInactive(), this.game.prodigy.world.teleport("house")
	},
	getDialogueIndexFromMapTag: function (e) {
		var t = [11];
		return e.indexOf("small") > -1 ? t = [0] : e.indexOf("medium") > -1 ? t = [1, 2] : e.indexOf("large") > -1 ? t = [3, 4] : "forest" === e ? t = [5, 6] : "coolCave" === e ? t = [7, 8] : "firePit" === e && (t = [9, 10]), t[Math.floor(Math.random() * t.length)]
	},
	start: function (e) {
		e.input.enabled = !0
	},
	process: function () {}
}), Prodigy.House_Intro = function (e, t) {
	Prodigy.Scene.call(this, e, "suburbs", t.concat(["npc-sprite-noot", "bgm-fun", "sfx-house-intro"])), this._loadingData.time = 1
}, Prodigy.extends(Prodigy.House_Intro, Prodigy.Scene, {
	constructor: Prodigy.House_Intro,
	setup: function (e, t, i) {
		Prodigy.Scene.prototype.setup.call(this, e, t, i), t.user.x = 480, t.user.y = 280, t.user.showName(!1), t.background.add(e.prodigy.create.sprite(420, 160, "zone-house", "17-0")), t.foreground.add(e.prodigy.create.sprite(420, 160, "zone-house", "17-sheets")), t.background.add(e.prodigy.create.sprite(360, 160, "zone-house", "3-0")), t.background.add(e.prodigy.create.sprite(420, 100, "zone-house", "18")), t.background.add(e.prodigy.create.sprite(820, 100, "zone-house", "18")), t.background.add(e.prodigy.create.sprite(840, 240, "zone-house", "14")), t.background.add(e.prodigy.create.sprite(840, 140, "zone-house", "1-0")), t.background.add(e.prodigy.create.sprite(580, 80, "zone-house", "13-0"))
	},
	start: function (e, t) {
		Prodigy.Scene.prototype.start.call(this, e, t, "bgm-fun");
		var i = this.addNPC(e, t, 820, 540, "npc-sprite-noot");
		i.float(!0), i.walkSpeed = 2, i.visible = !1;
		var a = e.prodigy.event.create();
		a.enableInput(!1), a.function(this.enterScene.bind(this, e, t)), a.delay(2e3), a.function(t.user.chat.bind(t.user, 8)), a.delay(2e3), a.sound(Prodigy.Controller.AudioController.SFX_PACKS.HOUSE_INTRO, "knock"), a.enableInput(!0), a.text(118, "noot"), a.enableInput(!1), a.function(t.user.chat.bind(t.user, 7)), a.delay(1e3), a.sound(Prodigy.Controller.AudioController.SFX_PACKS.HOUSE_INTRO, "door"), a.set(i, "visible", !0), a.validPath(i, t.path, 580, 290);
		for (var s = 0; 4 > s; s++) a.hop(i, 200, 0, 100);
		a.enableInput(!0), a.text(119, "noot"), a.text(120, "noot"), a.enableInput(!1), a.validPath(i, t.path, 820, 540), a.set(i, "visible", !1), a.function(t.user.chat.bind(t.user, 7)), a.delay(1e3), a.hop(t.user, 500, 100, 100), a.validPath(t.user, t.path, 820, 540), a.delay(1e3), a.enableInput(!0), a.function(this.end.bind(this, e, t)), a.start()
	},
	end: function (e) {
		this._zone.completeSequence(1, 0), e.prodigy.world.teleport("house-exit")
	}
}), Prodigy.House_Battle = function (e) {
	Prodigy.Scene.call(this, e, "exit", ["npc-sprite-noot", "monster-reduced-38", "tileset-collisions", "tileset-generic-new", "tileset-forest-new", "bgm-fun"]), this._loadingData.time = 1
}, Prodigy.extends(Prodigy.House_Battle, Prodigy.Scene, {
	constructor: Prodigy.House_Battle,
	setup: function (e, t, i) {
		Prodigy.Scene.prototype.setup.call(this, e, t, i), t.user.x = -100, t.user.y = 580, t.user.showName(!1)
	},
	start: function (e, t) {
		Prodigy.Scene.prototype.start.call(this, e, t, "bgm-fun");
		var i = this.addNPC(e, t, -100, 580, "npc-sprite-noot");
		i.float(!0), i.walkSpeed = 2;
		var a = this.addMonster(e, t, 1, 1380, 400, !1, {
				encounter: [{
					ID: 38
				}]
			}, !0),
			s = e.prodigy.event.create();
		s.enableInput(!1), s.function(this.enterScene.bind(this, e, t)), s.delay(1e3), s.validPath(i, t.path, 640, 400, !0), s.delay(1e3), s.validPath(t.user, t.path, 450, 400), s.set(i, "walkSpeed", 1), s.hop(i, 200, 0, 100), s.validPath(i, t.path, 600, 400), s.enableInput(!0), s.text(121, "noot"), s.text(122, "noot"), s.text(123, "noot"), s.functionCallback(e.prodigy.open.nameChange.bind(e.prodigy.open, !0)), s.function(t.user.showName.bind(t.user, !0)), s.text(124, "noot"), s.text(125, "noot"), s.enableInput(!1), s.validPath(i, t.path, 640, 400), s.function(i.chat.bind(i, 1)), s.validPath(a, t.path, 800, 400, !0), s.delay(1e3), s.enableInput(!0), s.text(126, "noot"), s.enableInput(!1), s.delayUntil(a, "x", 800), s.hop(a, 200, -20, 60), s.hop(a, 200, 20, 60), s.hop(a, 200, -20, 60), s.hop(a, 200, 20, 60), s.enableInput(!0), s.text(127, "noot"), s.enableInput(!1), s.hop(a, 300, -150, 100), s.enableInput(!0), s.function(this.battle.bind(this, e)), s.start()
	},
	battle: function (e) {
		var t = {
			invincible: !0,
			intro: "Wizard Battle!",
			"catch": !1,
			run: !1,
			screen: "bg-battle-forest",
			allowMember: !1,
			switchDisabled: !0,
			encounter: [{
				ID: 38
			}],
			events: [{
				action: "turn",
				value: 0,
				callback: function (e, t) {
					var i = e.prodigy.dialogue.create();
					i.setText(3), i.start("noot", !1, t)
				}
			}, {
				action: "dmg",
				repeat: 0,
				callback: function (e, t) {
					var i = e.prodigy.dialogue.create();
					i.setText(5), i.start("noot", !1, t)
				}
			}, {
				action: "dmg",
				repeat: 0,
				callback: function (e, t) {
					var i = e.prodigy.dialogue.create();
					i.setText(128), i.start("noot", !1, t)
				}
			}]
		};
		e.prodigy.battle.start(t, this.end.bind(this, e), this.end.bind(this, e), this.end.bind(this, e), "house-exit")
	},
	end: function (e) {
		this._zone.completeSequence(1, 1), e.prodigy.world.teleport("house-exit", 450, 400)
	}
}), Prodigy.House_Arrows = function (e) {
	Prodigy.Scene.call(this, e, "exit", ["npc-sprite-noot", "monster-reduced-38", "tileset-collisions", "tileset-generic-new", "tileset-forest-new", "bgm-fun"]), this._loadingData.time = 1
}, Prodigy.extends(Prodigy.House_Arrows, Prodigy.Scene, {
	constructor: Prodigy.House_Arrows,
	setup: function (e, t, i) {
		Prodigy.Scene.prototype.setup.call(this, e, t, i), t.user.x = 450, t.user.y = 400, this._exit = this.addAreaEvent(e, t, {
			x: 1240,
			y: 380,
			w: 80,
			h: 240,
			rect: !0
		}, null, 120, 500, this.end.bind(this, e), AreaEvent.RIGHT), this._noot = this.addNPC(e, t, 640, 400, "npc-sprite-noot"), this._noot.float(!0), this._noot.walkSpeed = 2
	},
	start: function (e, t) {
		Prodigy.Scene.prototype.start.call(this, e, t, "bgm-fun");
		var i = e.prodigy.event.create(),
			a = t.foreground.add(e.prodigy.create.sprite(this._noot.x, this._noot.y - 50, "core", "area-pointer"));
		a.anchor.setTo(.5, .5), a.visible = !1, a.angle = 90, a.scale.x = a.scale.y = 0, i.enableInput(!1), i.function(this.enterScene.bind(this, e, t)), i.delay(1e3), i.function(this._noot.flip.bind(this._noot)), i.enableInput(!0), i.text(129, "noot"), i.text(130, "noot"), i.enableInput(!1), i.functionCallback(this.jumpHand.bind(this, e, a)), i.set(this._exit, "visible", !0), i.set(a, "visible", !1), i.hop(this._noot, 500, -190, 100), i.set(this._noot, "visible", !1), i.enableInput(!0), i.overlayText(131, "noot"), i.start()
	},
	jumpHand: function (e, t, i) {
		t.visible = !0, e.add.tween(t.scale).to({
			x: 1,
			y: 1
		}, 800, Phaser.Easing.Quadratic.Out).start(), e.add.tween(t).to({
			y: t.y - 100
		}, 1e3, Phaser.Easing.Quadratic.Out).to({
			y: t.y + 26
		}, 1e3, Phaser.Easing.Quadratic.In).start();
		var a = e.add.tween(t).to({
			x: 1180
		}, 2e3, Phaser.Easing.Linear.None);
		a.start(), a.onComplete.add(i)
	},
	end: function (e) {
		this._zone.completeSequence(1, 2), e.prodigy.world.teleport("lamplight-A4", 120, 500)
	}
}), Prodigy.House_Q1 = function (e, t) {
	Prodigy.Quest.call(this, e, t, 1, "", {
		type: "seq",
		N: 3
	}, ["lamplight-A4"], [], [], [], [{
		type: "gold",
		N: 100
	}], !1)
}, Prodigy.extends(Prodigy.House_Q1, Prodigy.Quest, {
	constructor: Prodigy.House_Q1,
	setup: function (e, t, i) {
		if (Prodigy.Quest.prototype.setup.call(this, e, t, i), "suburbs" === i.getTag()) {
			if (this.zone.isOnSequence(1, 0)) return e.prodigy.player.heal(), e.prodigy.player.backpack.add("weapon", 25, !1, 1), Util.isDefined(e.prodigy.player.equipment.getEquipment("weapon")) || e.prodigy.player.equip(25, "weapon"), e.prodigy.world.playScene("house-intro"), {
				quit: !0
			}
		} else if ("exit" === i.getTag()) {
			if (this.zone.isOnSequence(1, 1)) return e.prodigy.world.playScene("house-battle"), {
				quit: !0
			};
			if (this.zone.isOnSequence(1, 2)) return e.prodigy.world.playScene("house-arrows"), {
				quit: !0
			}
		}
	}
}), Prodigy.Battle.Battle = function (e) {
	Screen.call(this, e, "Wizard Battle!", "battle", "battle", ["battle", "spine-creature-levelup", "sfx-battle"]), this.area = "", this.teamA = [], this.teamB = [], this.runAwayCallback = null, this.victoryCallback = null, this.defeatCallback = null
}, Prodigy.extends(Prodigy.Battle.Battle, Screen, {
	constructor: Prodigy.Battle.Battle,
	initListeners: function () {
		Screen.prototype.initListeners.call(this), this.game.broadcaster.addAppListener(Prodigy.Events.Battle.GET_IS_RUNNING, this.getIsRunning.bind(this), this), this.game.broadcaster.addAppListener(Prodigy.Events.Battle.APPLY_SLOT_BONUS, this.applySlotBonus.bind(this), this), this.game.broadcaster.addAppListener(Prodigy.Events.Battle.END_BATTLE, this.endBattle.bind(this), this)
	},
	stopListeners: function () {
		Screen.prototype.stopListeners.call(this), this.game.broadcaster.removeAppListener(Prodigy.Events.Battle.GET_IS_RUNNING, this), this.game.broadcaster.removeAppListener(Prodigy.Events.Battle.APPLY_SLOT_BONUS, this), this.game.broadcaster.removeAppListener(Prodigy.Events.Battle.END_BATTLE, this)
	},
	getIsRunning: function () {
		return this.isRunning
	},
	create: function () {
		this.game.prodigy.network.setZone(this), Screen.prototype.create.call(this), this.game.prodigy.player.saveEnabled = !1
	},
	screenSetup: function () {
		this.bg = this.game.prodigy.create.sprite(0, 0, this.screenName), this.background.add(this.bg), this.heartsA = new Prodigy.Container.Hearts(this.game, this.background, 30, -200, null, !1, !1), this.heartsB = new Prodigy.Container.Hearts(this.game, this.background, 1250 - Prodigy.Container.Hearts.WIDTH, -200, null, !0, !1), this.teams = [], this.teams.push(new Team(this.game, this.content, this.teamA, !0, -200, 550, 250, 550, this.heartsA, !1)), this.teams.push(new Team(this.game, this.content, this.teamB, !1, 1480, 550, 1030, 550, this.heartsB, !0)), this.resetPotions.call(this), 1 != Util.getUrlVariable("iosApp") && this.game.prodigy.audio.playBGM("bgm-battle", !0), this.isRunning = !0, this.checkCombatMods(), Screen.prototype.screenSetup.call(this)
	},
	screenUpdate: function () {
		Screen.prototype.screenUpdate.call(this), Util.isDefined(this.currentManager) && Util.isDefined(this.currentManager.update) && this.currentManager.update()
	},
	checkCombatMods: function () {
		this.slotRewardIndex = null, Util.isDefined(this.mods.epicArena) ? (this.game.prodigy.create.font(this.foreground, 570, 5, "BATTLE", {
			size: 20,
			width: 140,
			align: "center"
		}), this.foreground.add(this.game.prodigy.create.sprite(518, 20, "battle", "round-counter")), this.epicBattleRound1 = this.game.prodigy.create.font(this.foreground, 615, 55, "1", {
			size: 2,
			width: 140,
			align: "center",
			font: "battle",
			mono: 44
		}), this.epicBattleRound2 = this.game.prodigy.create.font(this.foreground, 584, 55, "0", {
			size: 2,
			width: 140,
			align: "center",
			font: "battle",
			mono: 44
		}), this.epicBattleRound3 = this.game.prodigy.create.font(this.foreground, 553, 55, "0", {
			size: 2,
			width: 140,
			align: "center",
			font: "battle",
			mono: 44
		}), this.newEpicBattle()) : this.startCombat()
	},
	newEpicBattle: function () {
		if (this.enableOverlay(), 1 != Util.getUrlVariable("iosApp") && this.game.prodigy.audio.playBGM("bgm-battle", !0), this.mods.starMod = 1, this.mods.level = this.teams[0].current.source.data.level, this.mods.difficulty = 1, this.drops = [], this.checkSlotRewardAndEncounter(), this.mods.epicArena < 10) this.epicBattleRound1.setText("" + this.mods.epicArena);
		else if (this.mods.epicArena < 100) {
			var e = this.mods.epicArena % 10;
			this.epicBattleRound1.setText("" + e);
			var t = (this.mods.epicArena - e) / 10;
			this.epicBattleRound2.setText("" + t)
		} else {
			var i = this.mods.epicArena % 100;
			this.epicBattleRound3.setText("" + (this.mods.epicArena - i) / 100);
			var e = i % 10;
			this.epicBattleRound1.setText("" + e);
			var t = (i - e) / 10;
			this.epicBattleRound2.setText("" + t)
		}
		this.isRunning = !0, this.teamB = this.game.prodigy.battle.initBattle(this.mods, this.game.prodigy.battle.getBattleLevel(this.teamA), this.teamA), this.teams.pop(), this.teams.push(new Team(this.game, this.content, this.teamB, !1, 1480, 550, 1030, 550, this.heartsB, !0));
		var a = !(this.teams[0].current.source.getCurrentHearts() >= this.teams[0].current.source.getMaxHearts());
		this.game.prodigy.open.slotMachine(this.teams[0].current.source.data.ID, a, this.mods.epicArena - 1)
	},
	checkSlotRewardAndEncounter: function () {
		var e = "" + this.teams[0].current.source.data.ID;
		if (this.mods.encounter = [{
				ID: this.game.random.pick(Monsters.epicArena[e].monsters[this.mods.challengeLevel], 1013 * this.mods.epicArena)
			}], this.mods.getAllRewards === !0) {
			if (this.mods.epicArena % 10 === 0) {
				this.slotRewardIndex = Util.isDefined(this.slotRewardIndex) ? this.slotRewardIndex + 1 : 0;
				var t = Monsters.epicArena[e].rewards[this.slotRewardIndex % 3];
				this.game.prodigy.player.house.getOwned(t.ID) >= 9 && (t = {
					type: "gold",
					N: 50
				}), this.drops.push(t)
			}
		} else if (this.mods.epicArena % (10 + 5 * this.mods.challengeLevel) === 0) {
			this.slotRewardIndex = this.mods.challengeLevel;
			var t = Monsters.epicArena[e].rewards[this.mods.challengeLevel];
			this.game.prodigy.player.house.getOwned(t.ID) >= 9 && (t = {
				type: "gold",
				N: 50
			}), this.drops.push(t)
		}
		this.drops.push({
			type: "gold",
			N: -50
		})
	},
	applySlotBonus: function (e) {
		var t = this.teams[0].current.source,
			i = this.teams[1].current.source;
		t.resetModifiers(), i.resetModifiers(), t.starsEarned = 0, t.getCurrentHearts() >= t.getMaxHearts() && t.changeCurrentHearts(Number.MAX_VALUE);
		for (var a = 0, s = 1, r = 0; r < e.length; r++) switch (e[r]) {
		case 1:
			t.updateModifier("maxHearts", .1);
			break;
		case 2:
			t.updateModifier("maxHearts", .2);
			break;
		case 3:
			t.updateModifier("maxHearts", .3);
			break;
		case 4:
			t.updateModifier("maxHearts", -.1);
			break;
		case 5:
			a += .1;
			break;
		case 6:
			a += .2;
			break;
		case 7:
			a += .3;
			break;
		case 8:
			a -= .1;
			break;
		case 9:
			a -= .2;
			break;
		case 10:
			s += .1;
			break;
		case 11:
			s += .2;
			break;
		case 12:
			s += .3;
			break;
		case 13:
			t.updateModifier("damage", .2);
			break;
		case 14:
			t.updateModifier("damage", -.1);
			break;
		case 15:
			this.drops.push({
				type: "gold",
				N: 25
			});
			break;
		case 16:
			i.updateModifier("miss", .25);
			break;
		case 17:
			i.updateModifier("ignoreElement", 1), t.updateModifier("ignoreElement", 1)
		}
		t.changeCurrentHearts(t.getMaxHearts() * a, .01 * t.getMaxHearts()), this.mods.starMod *= s, t.modifiers.maxHearts > 1 && t.changeCurrentHearts(t.getCurrentHearts() * (t.modifiers.maxHearts - 1)), this.disableOverlay(), this.startCombat()
	},
	startCombat: function () {
		this.game.add.tween(this.heartsA).to({
			y: 0
		}, 600, Phaser.Easing.Quadratic.Out, !0), (!this.teams[1].isBoss() || this.teams[1].showHearts()) && this.game.add.tween(this.heartsB).to({
			y: 0
		}, 600, Phaser.Easing.Quadratic.Out, !0), Util.isDefined(this.combatManager) === !1 && (this.combatManager = new Prodigy.Battle.CombatManager(this.game)), this.combatManager.setup(this), this.currentManager = this.combatManager
	},
	startVictory: function () {
		this.isRunning = !1, 1 != Util.getUrlVariable("iosApp") && this.game.prodigy.audio.playBGM("bgm-victory", !0), this.game.add.tween(this.heartsB).to({
			y: -250
		}, 800, Phaser.Easing.Quadratic.Out, !0), this.heartsA.soundEnabled = !1, Util.isDefined(this.victoryManager) === !1 && (this.victoryManager = new Prodigy.Battle.VictoryManager(this.game)), this.victoryManager.setup(this), this.currentManager = this.victoryManager
	},
	processEndBattleQuests: function () {
		for (var e = this.teams[1].getDefeated(), t = 0; t < e.length; t++) Util.isDefined(this.mods.quest) && this.game.prodigy.player.quests.defeatMonster(this.mods.zoneID, this.mods.quest, e[t].getID());
		Util.isDefined(this.mods.quest) && this.game.prodigy.player.quests.defeatBoss(this.mods.zoneID, this.mods.quest), Util.isDefined(this.mods.dailyQuest) && this.game.prodigy.world.zones[this.mods.zoneId].util.updateDailyQuest.call(this.game.prodigy.world.zones[this.mods.zoneId].util, this.mods.dailyQuest)
	},
	endBattle: function (e) {
		this.resetPotions.call(this), this.isRunning = !1, this.game.prodigy.player.tutorial.getMenuValue(3, 2) < 2 && this.game.prodigy.player.tutorial.setMenuValue(3, 2, 2), this.game.prodigy.player.saveEnabled = !0, this.game.prodigy.player.battleCounter++, this.game.prodigy.network.processPlayer = !0;
		var t = this.game.prodigy.education.getUpdatedData();
		if (this.game.prodigy.network.updateUserAbility(t), this.game.prodigy.player.getCurrentHearts(this.game) <= 0 && this.game.prodigy.player.changeCurrentHearts(20), "run" === e) this.runAwayCallback();
		else if ("win" === e) this.processEndBattleQuests(), Util.isDefined(this.mods.epicArena) ? (this.mods.epicArena++, this.newEpicBattle()) : this.victoryCallback(this.mods, this.teams[1].getDefeated());
		else if ("lose" === e) {
			if (Util.isDefined(this.defeatCallback) && this.defeatCallback(), Util.isDefined(this.mods.epicArena)) return;
			this.game.state.states.Faint.targetZone = this.defeatZone, this.game.prodigy.start("Faint")
		}
	},
	resetPotions: function () {
		for (var e = 0; e < this.teams.length; e++)
			for (var t = 0; t < this.teams[e].team.length; t++) {
				var i = this.teams[e].team[t];
				i.source.updateModifier.call(i.source, "potion", null), Util.isDefined(i.potionIcon) && (i.potionIcon.destroy.call(i.potionIcon), i.potionIcon = null), Util.isDefined(i.potencyIcon) && (i.potencyIcon.destroy.call(i.potencyIcon), i.potencyIcon = null)
			}
	}
});
var PVP = function () {
		function e(e) {
			Screen.call(this, e, "Wizard Battle!", "battle", "battle", ["bg-battle-arena", "battle", "attacks", "bgm-battle", "bgm-victory", "sfx-battle", "sfx-pvp"]), this.area = "", this.teamA = [], this.teamB = [], this.worldData = {
				teamHealth: []
			}, this.timerRunning = !1, this.timerStart = null, this.textChangeCheck = 0, this.screenName = "bg-battle-arena", this.runAwayCallback = null, this.victoryCallback = null, this.defeatCallback = null
		}
		return e.prototype = Object.create(Screen.prototype), e.SELECT_TIMEOUT = 3e4, e.prototype.onMessage = function (e) {
			Util.isDefined(this.game) && ("request_data" === e.action ? this.emitMessage({
				action: "data",
				data: {
					userID: this.game.prodigy.player.userID,
					equipment: this.game.prodigy.player.equipment.data,
					appearance: this.game.prodigy.player.appearance.data,
					data: this.game.prodigy.player.data,
					pets: this.game.prodigy.player.kennel.data
				}
			}) : "request_init" === e.action ? this.emitMessage({
				action: "init",
				data: {}
			}) : "request_action" === e.action && Util.isDefined(this.currentManager.currentAction) ? this.emitMessage({
				action: "action",
				data: this.currentManager.currentAction
			}) : "request_next" === e.action && Util.isDefined(this.currentManager.nextAction) ? this.emitMessage({
				action: "next",
				data: this.currentManager.nextAction
			}) : "action" === e.action && "request_action" === this._state && Util.isDefined(e.data) && e.data.turn == this.currentManager.turn ? (this._state = "working", this.currentManager.processAction(e.data)) : "next" === e.action && "request_next" === this._state && (this._state = "working", this.currentManager.playerTurn(e.data)), this._timeout = Date.now() + 6e4)
		}, e.prototype.emitMessage = function (e) {
			e.target = this.playerB.userID, this.game.prodigy.network.emitMessage(e)
		}, e.prototype.loadedAssets = function (e, t) {
			Util.isDefined(this.game) && (this.isLoaded = t, this._state = "request_init")
		}, e.prototype.create = function () {
			this.game.prodigy.network.setZone(this), this.inCombat = !1, this._processConnections = !0, Screen.prototype.create.call(this), this._state = "request_data", this._timeout = Date.now() + 45e3, this._heartbeat = Date.now() + 3e3
		}, e.prototype.screenSetup = function () {
			this.game.prodigy.player.saveEnabled = !1, this.game.prodigy.network.sendAnalytics("PVP", "start", "Events"), this.game.prodigy.network.sendEvent("PVP", {
				type: "start",
				startType: this.getStartTypeString(),
				classID: this.game.prodigy.player.getLatestClassID(),
				grade: this.game.prodigy.player.grade
			}, !0), this.bg = this.game.prodigy.create.sprite(0, 0, this.screenName), this.background.add(this.bg), this.heartsA = new Prodigy.Container.Hearts(this.game, this.background, 30, -150, null, !1, !0), this.heartsB = new Prodigy.Container.Hearts(this.game, this.background, 784, -150, null, !0, !0), this.teamComboMetre = new Prodigy.Battle.ComboMetre(this.game.broadcaster, Prodigy.Battle.PVP_CONFIG), this.opponentComboMetre = new Prodigy.Battle.ComboMetre(this.game.broadcaster, Prodigy.Battle.PVP_CONFIG);
			var e = this.teamComboMetre.createUI(this.game, this.background, 30, 560),
				t = this.opponentComboMetre.createUI(this.game, this.background, 1250, 560);
			t.flip();
			for (var i = 0; i < this.teamA.length; i++) this.worldData.teamHealth.push(this.teamA[i].data.hp);
			this.setupBattleHP(this.teamA, !0), this.setupBattleHP(this.teamB, !0), this.teams = [];
			var a = new Team(this.game, this.content, this.teamA, !0, -200, 550, 250, 550, this.heartsA, !0),
				s = new Team(this.game, this.content, this.teamB, !1, 1480, 550, 1030, 550, this.heartsB, !0);
			this.teams.push(a), this.teams.push(s), this.teamComboMetre.setBroadcasterContext(a), this.opponentComboMetre.setBroadcasterContext(s), e.setupListeners(a), t.setupListeners(s), 1 != Util.getUrlVariable("iosApp") && this.game.prodigy.audio.playBGM("bgm-battle", !0, !0), this.msgPanel = this.game.prodigy.create.panel(this.foreground, 520, 600, 6, 2, "item-common"), this.msgPanel.timerPanel = this.game.prodigy.create.panel(this.msgPanel, 0, 0, 6, 1, "item-epic"), this.msgPanel.timerPanel.scale.y *= -1, this.msgPanel.timerPanel.y += 80, this.timerRect = this.game.add.graphics(0, 0, this.msgPanel), this.timerRect.beginFill(0, 1), this.timerRect.lineTo(240, 0), this.timerRect.lineTo(240, 40), this.timerRect.lineTo(0, 40), this.timerRect.lineTo(0, 0), this.timerRect.endFill(), this.timerRect.y = 46, this.msgPanel.timerPanel.mask = this.timerRect, this.msgPanel.msgTop = this.game.prodigy.create.font(this.msgPanel, 5, 5, "Select your action", {
				width: 230,
				align: "center"
			}), this.msgPanel.msgBot = this.game.prodigy.create.font(this.msgPanel, 5, 45, "Time left", {
				width: 230,
				align: "center"
			}), this.msgPanel.visible = !1, this.startCombat(), Screen.prototype.screenSetup.call(this)
		}, e.prototype.setState = function (e) {
			this._state = e, this._sendNow = !0
		}, e.prototype.startTimer = function () {
			Util.isDefined(this.timerRect) && (this.timerRect.x = 0, this.game.tweens.removeFrom(this.timerRect), this.timerRunning = !0, this.timerStart = Date.now())
		}, e.prototype.onTimerComplete = function () {
			this.timerRunning && this.currentManager.generateMissAttack()
		}, e.prototype.update = function () {
			if (Screen.prototype.update.call(this), this.timerRunning) {
				var t = Date.now() - this.timerStart;
				t > e.SELECT_TIMEOUT ? this.onTimerComplete() : this.timerRect.x = -(240 * (t / e.SELECT_TIMEOUT))
			}
			this._processConnections && Util.isDefined(this._timeout) && this._timeout < Date.now() && (this.inCombat ? (this._processConnections = !1, delete this._heartbeat, delete this._timeout, this.currentManager.processEnd(!0)) : this.endCombat("fail")), this._processConnections && Util.isDefined(this._heartbeat) && (this._heartbeat < Date.now() || this._sendNow) && (this.emitMessage({
				action: this._state,
				data: {}
			}), this._heartbeat = Date.now() + 3e3, this._sendNow = !1)
		}, e.prototype.screenUpdate = function () {
			if (Screen.prototype.screenUpdate.call(this), Util.isDefined(this.currentManager)) {
				this.msgPanel.visible = this.currentManager.waitingToSelect || "loading" !== this._state && "working" !== this._state && "deserted" !== this._state;
				var e = (this.msgPanel.visible ? 1 : 0) + (this.currentManager.waitingToSelect ? 2 : 0);
				if (this.msgPanel.visible && (this.msgPanel.timerPanel.visible = this.currentManager.waitingToSelect, this.textChangeCheck !== e || this.game.prodigy.updateCount % 25 === 0))
					if (this.currentManager.waitingToSelect) this.msgPanel.msgTop.setText("Select your action"), this.msgPanel.msgBot.setText("Time left");
					else switch (this.msgPanel.msgTop.setText("Waiting on player"), this.msgPanel.msgBot.text.length) {
					case 0:
						this.msgPanel.msgBot.setText(".");
						break;
					case 1:
						this.msgPanel.msgBot.setText("..");
						break;
					case 2:
						this.msgPanel.msgBot.setText("...");
						break;
					default:
						this.msgPanel.msgBot.setText("")
					}
				this.textChangeCheck = e, this.timerRunning ? this.timerRunning = 3 == this.textChangeCheck : (this.timerRunning = 3 == this.textChangeCheck, this.timerRunning && this.startTimer())
			}
			this.game.broadcaster.broadcast(Prodigy.Events.Battle.PVP_UPDATE, this.teams[0], []), this.game.broadcaster.broadcast(Prodigy.Events.Battle.PVP_UPDATE, this.teams[1], [])
		}, e.prototype.setupBattleHP = function (e, t) {
			for (var i = 0; i < e.length; i++) e[i].inPVP = t, t && e[i].changeCurrentHearts(Number.MAX_VALUE)
		}, e.prototype.startCombat = function () {
			this.mods.arena && (this.game.prodigy.player.saveEnabled = !0, this.game.prodigy.player.data.deserter = 1, this.game.prodigy.player.updated = !0, this.game.prodigy.network.updateCharacter(), this.game.prodigy.player.saveEnabled = !1), this.game.add.tween(this.heartsA).to({
				y: 0
			}, 1e3, Phaser.Easing.Quadratic.Out).start(), (!this.teams[1].isBoss() || this.teams[1].showHearts()) && this.game.add.tween(this.heartsB).to({
				y: 0
			}, 1e3, Phaser.Easing.Quadratic.Out).start(), this.currentManager = new Prodigy.PVPManager(this.game, this), this.inCombat = !0
		}, e.prototype.endCombat = function (e) {
			this.mods.arena && (delete this.game.prodigy.player.data.deserter, this.game.prodigy.player.updated = !0), this.game.prodigy.education.closeQuestion(), this._processConnections = !1, delete this._heartbeat, delete this._timeout, this.game.prodigy.network.sendAnalytics("PVP", e || "fail", "Events"), this.game.prodigy.network.sendEvent("PVP", {
				type: Util.isDefined(e) ? e : "fail",
				startType: this.getStartTypeString(),
				classID: this.game.prodigy.player.getLatestClassID(),
				grade: this.game.prodigy.player.grade
			}, !0), this.endPVP()
		}, e.prototype.endPVP = function () {
			var e = this.game.prodigy.education.getUpdatedData();
			this.game.prodigy.network.updateUserAbility(e), this.setupBattleHP(this.teamA, !1), this.game.prodigy.player.saveEnabled = !0, this.game.prodigy.network.processPlayer = !0, this.callback()
		}, e.prototype.getStartTypeString = function () {
			var e = "unknown";
			return Util.isDefined(this.mods) && Util.isDefined(this.mods.arena) && (e = this.mods.arena ? "findChallenger" : "directChallenge"), e
		}, e
	}(),
	Team = function () {
		function e(e, t, i, a, s, r, o, n, h, l) {
			this.game = e, this.team = [], this.enableComboAnimations = !0;
			for (var d = 0; d < i.length; d++) i[d] instanceof Player ? this.team.push(e.prodigy.create.player(t, i[d], 2, s, r)) : i[d] instanceof Monster ? this.team.push(e.prodigy.create.monster(t, i[d], 2, s, r)) : i[d] instanceof Prodigy.CloudBoss ? (this.team.push(e.prodigy.create.cloudBoss(t, i[d], s, r, !0, i[d].source.element)), this.bossTeam = !0) : i[d] instanceof Prodigy.BonfireBoss ? (this.team.push(e.prodigy.create.bonfireBoss(t, i[d], s, r, !0)), this.bossTeam = !0) : i[d] instanceof Prodigy.ForestBoss ? (this.team.push(e.prodigy.create.forestBoss(t, i[d], s, r, !1)), this.bossTeam = !0) : i[d] instanceof Prodigy.Boss && (this.team.push(e.prodigy.create.boss(t, i[d], s, r, !1)), this.bossTeam = !0), this.team[d].startLoad(), this.team[d].flip(), this.team[d].pairs = [], this.team[d].visible = !1, this.team[d].source.isOpponent = l, this.team[d].source.starsEarned = 0, Util.isDefined(this.current) || i[d].isKnockedOut() || (this.current = this.team[d], this.current.visible = !0);
			this.playerControlled = a, this.offScreenX = s, this.offScreenY = r, this.onScreenX = o, this.onScreenY = n, this.hearts = h
		}
		return e.prototype.spreadPlayersOut = function (e) {
			for (var t = Math.floor(1280 / (this.team.length + 1)), i = 0; i < this.team.length; i++) this.team[i].visible = !0, this.team[i].speed = 10, this.team[i].setPath([{
				x: (i + 1) * t,
				y: 550
			}], i === this.team.length - 1 ? e : null, 4)
		}, e.prototype.movePlayerIn = function (e, t) {
			return t.complete ? (this.current.visible = !1, this.current = t, this.current.visible = !0, this.current.speed = 10, this.hearts.setSource(this.current.source), this.enableComboAnimations && (this.game.broadcaster.broadcast(Prodigy.Events.Battle.PVP_COMBO_METRE_MOVE_IN, this, []), this.enableComboAnimations = !1), this.current instanceof Prodigy.Container.BossContainer ? (this.current.x = this.onScreenX, this.current.y = this.onScreenY, this.current.setPath([{
				x: this.onScreenX,
				y: this.onScreenY
			}], e)) : (this.current.speed = 10, this.current.setPath([{
				x: this.onScreenX,
				y: this.onScreenY
			}], e)), void 0) : (this.game.time.events.add(10, this.movePlayerIn.bind(this, e, t)), void 0)
		}, e.prototype.movePlayerOut = function (e, t) {
			t.speed = 30, t.setPath([{
				x: this.offScreenX + 40 * (this.offScreenX / Math.abs(this.offScreenX)),
				y: this.offScreenY
			}], e, 4), this.hearts.moveOut()
		}, e.prototype.swapPlayers = function (e, t) {
			var i = this.team[t];
			!Util.isDefined(this.current) || this.current.source.isKnockedOut() || Util.isDefined(this.current.captured) ? this.movePlayerIn(e, i) : this.movePlayerOut(this.movePlayerIn.bind(this, e, i), this.current)
		}, e.prototype.failRun = function (e) {
			var t = function (e, t) {
				e.speed = 10, e.setPath([{
					x: e.x + 200
				}], t)
			};
			this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.BATTLE, "run"), this.current.speed = 40, this.current.setPath([{
				x: this.current.x - 200
			}], t.bind(this, this.current, e), 4)
		}, e.prototype.runAway = function (e) {
			Util.isDefined(this.current.captured) || (this.bossTeam ? this.game.add.tween(this.current).to({
				alpha: 0
			}, 500, Phaser.Easing.Linear.None).start() : (this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.BATTLE, "run"), this.current.speed = 40, this.current.flip(), this.current.moonwalk(), this.game.time.events.add(500, this.movePlayerOut.bind(this, e, this.current), this)))
		}, e.prototype.pairOpponent = function (e) {
			Util.inArray(this.current.pairs, e) || this.current.pairs.push(e)
		}, e.prototype.getXPReward = function (e) {
			for (var t = 0, i = 0; i < this.team.length; i++) {
				for (var a = this.team[i], s = 0, r = !1, o = 0; o < a.pairs.length; o++) a.pairs[o].source.isKnockedOut() || s++, a.pairs[o] === e && (r = !0);
				0 >= s && (s = 1);
				var n = Math.floor((a.source.getLevel() - e.source.getLevel()) / s / 4);
				r && (t += Math.max(1, Math.floor(a.source.getStarReward() / s) + n))
			}
			return t
		}, e.prototype.getNextId = function () {
			for (var e, t = this.team.length, i = 0; t > i; i++)
				if (e = this.team[i], Util.isDefined(e) && !Util.isDefined(e.captured) && !e.source.isKnockedOut()) return i;
			return 0
		}, e.prototype.chooseNextCandidate = function (e, t) {
			if (0 === e) {
				for (var i = null, a = null, s = 0; s < this.team.length; s++) {
					var r = this.team[s];
					if (Util.isDefined(r) && !Util.isDefined(r.captured) && !r.source.isKnockedOut()) {
						var o = this.game.prodigy.battle.battleScore(r, t, !0, 1);
						(!Util.isDefined(a) || o > a) && (i = s, a = o)
					}
				}
				return i
			}
			return null
		}, e.prototype.getDrops = function () {
			for (var e = [], t = 0; t < this.team.length; t++) this.team[t].source.isKnockedOut() && !Util.isDefined(this.team[t].captured) && (e = e.concat(this.team[t].source.getDrops()));
			return e
		}, e.prototype.isDefeated = function () {
			for (var e = 0; e < this.team.length; e++)
				if (!this.team[e].source.isKnockedOut() && !Util.isDefined(this.team[e].captured)) return !1;
			return !0
		}, e.prototype.getDefeated = function () {
			for (var e = [], t = 0; t < this.team.length; t++) this.team[t].source.isKnockedOut() && !Util.isDefined(this.team[t].captured) && e.push(this.team[t].source);
			return e
		}, e.prototype.isBoss = function () {
			for (var e = 0; e < this.team.length; e++)
				if (this.team[e] instanceof Prodigy.Container.BossContainer || this.team[e] instanceof Prodigy.Container.ForestContainer) return !0;
			return !1
		}, e.prototype.showHearts = function () {
			for (var e = 0; e < this.team.length; e++)
				if (this.team[e] instanceof Prodigy.Container.BossContainer && this.team[e].source.source.showHP) return !0;
			return !1
		}, e
	}();
Prodigy.Battle.CombatManager = function (e) {
	this.IDLE = 1, this.DEFENDING_DAMAGE = 2, this.ATTACKING_HIT = 4, this.ATTACKING_MISS = 8, this.game = e
}, Prodigy.extends(Prodigy.Battle.CombatManager, Object, {
	constructor: Prodigy.Battle.CombatManager,
	setup: function (e) {
		if (this.battleScreen = e, this.state = this.IDLE, this.bounty = this.battleScreen.mods.bounty, Util.isDefined(this.battleScreen.mods.encounter) && (this.nickname = this.battleScreen.mods.encounter[0].nickname), this.content = e.content, this.menus = e.menus, this.background = e.background, this.teams = e.teams, this.teams[0].movePlayerIn(null, this.teams[0].current), this.teams[1].movePlayerIn(null, this.teams[1].current), this.turn = 0, this.firstQuestion = !0, this.combatOver = !1, !(Util.isDefined(this.battleScreen.mods.epicArena) && this.battleScreen.mods.epicArena > 1)) {
			this.firstEpicAttack = !0;
			try {
				this.game.prodigy.network.sendEvent("epicAttacks", {
					action: "newBattleStarted"
				})
			} catch (t) {}
		}
		this.battleScreen.mods.potionMode = this.game.prodigy.player.tutorial.getMenuValue(3, 2) >= 1;
		var i = "Wizard Battle!";
		this.teams[1].isBoss() && (i = "Boss Time!"), this.battleScreen.mods.intro && (i = this.battleScreen.mods.intro), this.game.prodigy.effects.flashText(i, this.playerTurn.bind(this)), this.initListeners()
	},
	initListeners: function () {
		this.stopListeners();
		var e;
		for (e = 0; e < this.teams[0].team.length; e++) this.game.broadcaster.addAppListener(Prodigy.Events.Creature.ANIMATION_DONE, this.onPlayerAnimationDone.bind(this), this, this.teams[0].team[e].source);
		for (e = 0; e < this.teams[1].team.length; e++) this.game.broadcaster.addAppListener(Prodigy.Events.Creature.ANIMATION_DONE, this.onOpponentAnimationDone.bind(this), this, this.teams[1].team[e].source)
	},
	stopListeners: function () {
		var e;
		for (e = 0; e < this.teams[0].team.length; e++) this.game.broadcaster.removeAppListener(Prodigy.Events.Creature.ANIMATION_DONE, this, this.teams[0].team[e].source);
		for (e = 0; e < this.teams[1].team.length; e++) this.game.broadcaster.removeAppListener(Prodigy.Events.Creature.ANIMATION_DONE, this, this.teams[1].team[e].source)
	},
	onPlayerAnimationDone: function () {
		this.combatOver ? this.game.broadcaster.broadcast(Prodigy.Events.Creature.ANIMATION_DONE, "lateLevelUp") : this.opponentTurn()
	},
	onOpponentAnimationDone: function () {
		this.combatOver || this.playerTurn()
	},
	processEvents: function (e) {
		for (var t = this.battleScreen.mods.events || [], i = 0; i < t.length; i++) {
			var a = !1,
				s = t[i];
			if (Util.isDefined(s.repeat) || (s.repeat = 0), !(s.lastProc === this.turn || s.repeat < 0) && ("turn" === s.action && s.value === this.turn ? a = !0 : "miss" === s.action && this.state === this.ATTACKING_MISS ? a = !0 : "hit" === s.action && this.state === this.ATTACKING_HIT ? a = !0 : "dmg" === s.action && this.state === this.DEFENDING_DAMAGE && (a = !0), a)) return s.repeat--, s.lastProc = this.turn, s.callback(this.game, e), !1
		}
		return !0
	},
	playerTurn: function () {
		if (this.processEvents(this.playerTurn.bind(this)) !== !1) {
			var e = this.teams[0],
				t = this.teams[1];
			t.pairOpponent(e.current), e.isDefeated() ? (this.combatOver = !0, e.runAway(), this.game.prodigy.effects.flashText("YOU LOST...", this.battleScreen.endBattle.bind(this.battleScreen, "lose"))) : e.current.source.isKnockedOut() ? e.current.source instanceof Player ? (e.runAway(), this.game.prodigy.open.battle(e.current, e.team, t.current, this.battleScreen.mods, !0, null, e.swapPlayers.bind(e, this.playerTurn.bind(this)))) : (e.runAway(), this.game.prodigy.open.battle(e.current, e.team, t.current, this.battleScreen.mods, !0, null, e.swapPlayers.bind(e, this.playerTurn.bind(this)))) : this.game.prodigy.open.battle(e.current, e.team, t.current, this.battleScreen.mods, null, this.openQuestion.bind(this), e.swapPlayers.bind(e, this.opponentTurn.bind(this)), this.runAway.bind(this), this.tryCatch.bind(this, e.current, t.current), this.startEpicAttack.bind(this), this.firstEpicAttack), this.state = this.IDLE, this.turn++
		}
	},
	opponentTurn: function () {
		if (this.processEvents(this.opponentTurn.bind(this)) !== !1) {
			var e = this.teams[1],
				t = this.teams[0];
			if (e.isDefeated()) this.combatOver = !0, e.runAway(), this.bounty ? this.game.prodigy.effects.bountyComplete(this.game.prodigy.bounty.getReward(this.bounty), this.battleScreen.startVictory.bind(this.battleScreen)) : this.game.prodigy.effects.flashText("YOU WON!", this.battleScreen.startVictory.bind(this.battleScreen));
			else if (e.current.source.isKnockedOut() || Util.isDefined(e.current.captured)) e.runAway(e.swapPlayers.bind(e, this.opponentTurn.bind(this), e.chooseNextCandidate(0, t.current)));
			else {
				var i = this.battleScreen.mods.difficulty;
				e.current.source instanceof Prodigy.CloudBoss && !e.current.miniBoss || e.current.source instanceof Prodigy.BonfireBoss ? e.current.source.chooseAction(this.game, i, e.current, t.current, this.attack.bind(this, !1), this.playerTurn.bind(this)) : this.game.prodigy.battle.chooseAction(i, e.current, t.current, e.team, t.team, this.attack.bind(this, !1), e.swapPlayers.bind(e), this.playerTurn.bind(this))
			}
		}
	},
	answerQuestion: function (e, t) {
		Util.isDefined(this.bmgVolume) && this.game.prodigy.audio.setBGMVolume(this.bmgVolume, !0), this.content.visible = this.menus.visible = !0, this.battleScreen.heartsA.visible = this.battleScreen.heartsB.visible = !0, this.state = t ? this.ATTACKING_HIT : this.ATTACKING_MISS, this.game.prodigy.player.castSpell(t), t ? this.attack(!0, this.teams[0].current, this.teams[1].current, this.opponentTurn.bind(this), e, null, this.battleScreen.mods) : this.opponentTurn()
	},
	answerEpicQuestion: function (e, t) {
		Util.isDefined(this.bmgVolume) && this.game.prodigy.audio.setBGMVolume(this.bmgVolume, !0), this.content.visible = this.menus.visible = !0, this.battleScreen.heartsA.visible = this.battleScreen.heartsB.visible = !0, this.state = t ? this.ATTACKING_HIT : this.ATTACKING_MISS, this.game.prodigy.player.castSpell(t), t ? this.attack(!0, this.teams[0].current, this.teams[1].current, this.teams[0].movePlayerIn.bind(this.teams[0], this.opponentTurn.bind(this), this.teams[0].current), e, null, this.battleScreen.mods, !0) : this.teams[0].movePlayerIn.call(this.teams[0], this.opponentTurn.bind(this), this.teams[0].current)
	},
	openQuestion: function (e) {
		if (this.content.visible = this.menus.visible = !1, this.battleScreen.heartsA.visible = this.battleScreen.heartsB.visible = !1, this.bmgVolume = this.game.prodigy.audio.getBGMVolume(), this.bmgVolume > .1 && this.game.prodigy.audio.setBGMVolume(.1, !0), this.game.prodigy.debug.disableEdu) this.answerQuestion(e, !0);
		else {
			var t = 0;
			this.firstQuestion && (t = this.game.prodigy.player.state.get("tutorial-0") || 0, 4 > t && t++, this.game.prodigy.player.state.set("tutorial-0", t), this.firstQuestion = !1), this.game.prodigy.education.question(this.answerQuestion.bind(this, e), t), this.game.prodigy.education.isNew = !1
		}
	},
	startEpicAttack: function (e) {
		this.firstEpicAttack = !1, this.teams[0].current.source.getName() === Monsters.data[e.epicId].name ? (e.moveIn = !1, this.openEpicQuestion.call(this, e)) : (e.moveIn = !0, this.teams[0].movePlayerOut.call(this.teams[0], this.openEpicQuestion.bind(this, e), this.teams[0].current))
	},
	openEpicQuestion: function (e) {
		if (this.content.visible = this.menus.visible = !1, this.battleScreen.heartsA.visible = this.battleScreen.heartsB.visible = !1, this.bmgVolume = this.game.prodigy.audio.getBGMVolume(), this.bmgVolume > .1 && this.game.prodigy.audio.setBGMVolume(.1, !0), this.game.prodigy.debug.disableEdu) this.answerEpicQuestion(e, !0);
		else {
			var t = 0;
			this.firstQuestion && (t = this.game.prodigy.player.state.get("tutorial-0") || 0, 4 > t && t++, this.game.prodigy.player.state.set("tutorial-0", t), this.firstQuestion = !1), this.game.prodigy.education.question(this.answerEpicQuestion.bind(this, e), t), this.game.prodigy.education.isNew = !1
		}
	},
	attack: function (e, t, i, a, s, r, o, n) {
		e || (this.battleScreen.mods.invincible && (r = !0), this.state = this.DEFENDING_DAMAGE);
		var h = s.animation,
			l = window[h],
			d = this.teams[0],
			p = function () {
				n === !0 ? d.movePlayerIn(t.source.processStars.bind(t.source), d.current) : t.source.processStars()
			};
		if (t.attack(), Util.isDefined(s.type) && "epic-attack" === s.type && this.teams[0].current.source.getName() !== Monsters.data[s.epicId].name) {
			var c = Monsters.data[s.epicId].name + " used " + s.name,
				g = this.game.prodigy.event.create();
			g.delay(2600), g.function(this.game.prodigy.effects.flashText.bind(this.game.prodigy.effects, c, null, Prodigy.EffectFactory.BASE, Prodigy.EffectFactory.SMALL, 1e3, !0)), g.start()
		} else this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.BATTLE, "cast"), this.game.prodigy.effects.flashText(t.source.getName() + " used " + s.name, null, Prodigy.EffectFactory.BASE, Prodigy.EffectFactory.SMALL, 1e3, !0);
		return Util.isDefined(h) && Util.isDefined(l) && "function" == typeof l ? new l(this.game, t, i, this.background, this.content, s, p, r, o) : (Util.isDefined(a) && p(), null)
	},
	tryCatch: function (e, t) {
		this.game.prodigy.open.catch(t, this.catch.bind(this, e, t))
	},
	onCatchPet: function (e) {
		this.game.prodigy.open.gotItem([{
			type: "pet",
			ID: e.source.data.ID,
			N: 1,
			data: e.source.data
		}], this.opponentTurn.bind(this))
	},
	"catch": function (e, t, i) {
		return i ? (t.captured = !0, Util.isDefined(this.nickname) && (t.source.data.nickname = this.nickname), new Prodigy.Attack.CatchPet(this.game, e, t, this.background, this.content, null, this.onCatchPet.bind(this, t))) : (this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.BATTLE, "miss"), this.game.prodigy.effects.fadeFlyingImage(t.x, t.y - (t.height >> 1), "battle", "text-miss"), t.source.catchAttempt || (t.source.catchAttempt = 0), t.source.catchAttempt++, this.game.time.events.add(1500, this.opponentTurn.bind(this), this), null)
	},
	runAway: function () {
		Math.random() < .75 * this.game.prodigy.affixes.getEscape() && this.battleScreen.mods.run ? (this.game.prodigy.effects.flashText("YOU RAN AWAY...", this.battleScreen.endBattle.bind(this.battleScreen, "run")), this.teams[0].runAway()) : (this.battleScreen.mods.run = !1, this.game.prodigy.effects.flashText("YOU COULDN'T RUN!"), this.teams[0].failRun(this.opponentTurn.bind(this)))
	}
}), Prodigy.PVPManager = function (e, t) {
	this.game = e, this.battleScreen = t, this.attackSelectMenu = null, this.swapSelectMenu = null, this.forceSwitch = !1, this.currentAction = null, this.nextAction = null, this.content = t.content, this.menus = t.menus, this.background = t.background, this.teams = t.teams, this.teams[0].enableComboAnimations = !0, this.teams[0].movePlayerIn(null, this.teams[0].current), this.teams[1].enableComboAnimations = !0, this.teams[1].movePlayerIn(null, this.teams[1].current), this.turn = 0, this.waitingToSelect = !1, this.game.prodigy.effects.flashText("Player vs. Player!", this.playerTurn.bind(this))
}, Prodigy.PVPManager.prototype = {
	constructor: Prodigy.PVPManager,
	playerTurn: function (e) {
		this.currentAction = null;
		var t = this.teams[0],
			i = this.teams[1];
		return Util.isDefined(e) && Util.isDefined(e.index) ? (i.swapPlayers(this.playerTurn.bind(this), e.index), void 0) : (this.turn++, this.waitingToSelect = !0, this.attackSelectMenu = this.game.prodigy.open.battle(t.current, t.team, i.current, this.battleScreen.mods, null, this.openQuestion.bind(this), this.handleSwitch.bind(this)), void 0)
	},
	generateMissAttack: function () {
		if (Util.isDefined(this.attackSelectMenu) && this.attackSelectMenu.close(), Util.isDefined(this.swapSelectMenu) && this.swapSelectMenu.close(), this.forceSwitch) {
			var e = this.teams[0].getNextId();
			this.forceSwitch = !1, this.waitingToSelect = !1, this.teams[0].swapPlayers(null, e), this.nextAction = {
				type: "ready",
				index: e
			}, this.battleScreen.setState("request_next")
		} else {
			var t = this.teams[0].current.source.getAttacks(),
				i = this.game.prodigy.attacks.getAttack(t[0]);
			this.game.prodigy.player.castSpell(!1), this.currentAction = {
				type: "spell",
				ID: i.ID,
				hit: !1,
				time: 6e4,
				turn: this.turn,
				seed: Math.floor(999999 * Math.random())
			}, this.battleScreen.setState("request_action"), this.waitingToSelect = !1
		}
	},
	handleSwitch: function (e) {
		this.currentAction = {
			type: "switch",
			index: e,
			turn: this.turn
		}, this.battleScreen.setState("request_action"), this.waitingToSelect = !1
	},
	handleAttack: function (e, t, i) {
		Util.isDefined(this.bmgVolume) && this.game.prodigy.audio.setBGMVolume(this.bmgVolume, !0), this.game.prodigy.player.castSpell(t), this.content.visible = this.menus.visible = !0, this.battleScreen.heartsA.visible = this.battleScreen.heartsB.visible = !0, this.currentAction = {
			type: "spell",
			ID: e.ID,
			hit: t,
			time: i,
			turn: this.turn,
			seed: Math.floor(999999 * Math.random())
		}, this.battleScreen.setState("request_action")
	},
	processAction: function (e) {
		this.nextAction = null;
		var t = this.teams[0],
			i = this.teams[1],
			a = this.game.prodigy.player.userID === this.battleScreen.challengerID;
		if ("switch" === this.currentAction.type && "switch" === e.type) {
			var s;
			a ? (s = i.swapPlayers.bind(i, this.processEnd.bind(this, !1), e.index), t.swapPlayers(s, this.currentAction.index)) : (s = t.swapPlayers.bind(t, this.processEnd.bind(this, !1), this.currentAction.index), i.swapPlayers(s, e.index))
		} else if ("spell" === this.currentAction.type && "spell" === e.type) {
			var r, o = this.game.prodigy.attacks.getAttack(this.currentAction.ID),
				n = this.game.prodigy.attacks.getAttack(e.ID),
				h = this.game.prodigy.attacks.getAttackPriority(o),
				l = this.game.prodigy.attacks.getAttackPriority(n),
				d = h > l,
				p = h === l;
			d || p && (this.currentAction.time < e.time || this.currentAction.time === e.time && a) ? (r = this.attack.bind(this, i.current, t.current, this.processEnd.bind(this, !1), n, !e.hit, {
				seed: e.seed
			}), this.attack(t.current, i.current, r, o, !this.currentAction.hit, {
				seed: this.currentAction.seed
			})) : (r = this.attack.bind(this, t.current, i.current, this.processEnd.bind(this, !1), o, !this.currentAction.hit, {
				seed: this.currentAction.seed
			}), this.attack(i.current, t.current, r, n, !e.hit, {
				seed: e.seed
			}))
		} else "spell" === this.currentAction.type && "switch" === e.type ? i.swapPlayers(this.swapAttack.bind(this, t, i, this.currentAction.ID, this.currentAction.hit, {
			seed: this.currentAction.seed
		}), e.index) : "switch" === this.currentAction.type && "spell" === e.type && t.swapPlayers(this.swapAttack.bind(this, i, t, e.ID, e.hit, {
			seed: e.seed
		}), this.currentAction.index)
	},
	swapAttack: function (e, t, i, a, s) {
		this.attack(e.current, t.current, this.processEnd.bind(this, !1), this.game.prodigy.attacks.getAttack(i), !a, s)
	},
	processEnd: function (e) {
		var t = this.teams[0],
			i = this.teams[1];
		e ? (this.battleScreen._state = "deserted", this.game.prodigy.education.closeQuestion(), this.game.prodigy.open.menuCloseAll(), this.game.broadcaster.broadcast(Prodigy.Events.Battle.PVP_COMBO_METRE_MOVE_OUT, i, []), i.runAway(), this.game.prodigy.effects.flashText("YOU WON!", this.showResults.bind(this, "win"))) : t.isDefeated() && i.isDefeated() ? (this.game.broadcaster.broadcast(Prodigy.Events.Battle.PVP_COMBO_METRE_MOVE_OUT, t, []), this.game.broadcaster.broadcast(Prodigy.Events.Battle.PVP_COMBO_METRE_MOVE_OUT, i, []), t.runAway(), i.runAway(), this.game.prodigy.effects.flashText("DRAW!", this.showResults.bind(this, "draw"))) : t.isDefeated() ? (this.game.broadcaster.broadcast(Prodigy.Events.Battle.PVP_COMBO_METRE_MOVE_OUT, t, []), t.runAway(), this.game.prodigy.effects.flashText("YOU LOST...", this.showResults.bind(this, "lose"))) : i.isDefeated() ? (this.game.broadcaster.broadcast(Prodigy.Events.Battle.PVP_COMBO_METRE_MOVE_OUT, i, []), i.runAway(), this.game.prodigy.effects.flashText("YOU WON!", this.showResults.bind(this, "win"))) : t.current.source.isKnockedOut() ? (t.runAway(), this.forceSwitch = !0, this.waitingToSelect = !0, this.swapSelectMenu = this.game.prodigy.open.battle(t.current, t.team, i.current, this.battleScreen.mods, !0, null, this.completeTurn.bind(this))) : this.completeTurn()
	},
	showResults: function (e) {
		if ("win" === e && this.battleScreen.mods.arena && 1 != Util.getUrlVariable("iosApp") && this.game.prodigy.audio.playBGM("bgm-victory", !0, !0), !this.battleScreen.mods.arena) return this.battleScreen.endCombat(e), void 0;
		var t = this.game.prodigy.player.getArenaScore(),
			i = this.battleScreen.playerB.getArenaScore(),
			a = 10;
		"win" === e ? a = Math.max(10, 50 + Math.floor((i - t) / 40)) : "lose" === e && (a = Math.min(-10, -50 - Math.floor((t - i) / 40))), a = Math.min(a, 250), a = Math.max(a, -250);
		var s = this.game.prodigy.player.getArenaRank(),
			r = this.game.prodigy.player.isUnranked();
		this.game.prodigy.player.addArenaScore(a, "win" === e);
		var o = this.game.prodigy.player.getArenaRank(),
			n = r && !this.game.prodigy.player.isUnranked(),
			h = this.game.prodigy.create.panel(this.menus, 400, 300, 12, 4, "item-common");
		this.game.prodigy.create.font(h, 20, 0, "{Arena Points", {
			size: 36,
			font: "button"
		});
		var l = this.game.prodigy.create.font(h, 20, 40, t + "", {
				size: 80,
				align: "left",
				width: 440
			}),
			d = this.game.prodigy.create.font(h, 20, 40, "", {
				size: 80,
				align: "right",
				width: 440
			});
		h.visible = !1;
		var p = this.game.prodigy.event.create();
		p.delay(500), p.set(h, "visible", !0), p.delay(500);
		for (var c = 0; c < Math.abs(a); c++) t += a > 0 ? 1 : -1, 0 > t && (t = 0), t > 5e3 && (t = 5e3), p.sound(Prodigy.Controller.AudioController.SFX_PACKS.WORLD, "tick"), p.function(l.setText.bind(l, "" + t)), p.function(d.setText.bind(d, (a > 0 ? "(+" + Math.max(0, a - c - 1) : "(" + Math.min(0, a + c + 1)) + ")")), p.delay(80);
		p.function(d.setText.bind(d, ""));
		var g = ["Bronze", "Silver", "Gold", "Platinum", "Diamond"];
		if (o > s || s > o || n) {
			p.delay(2e3), p.set(h, "visible", !1), (o > s || n) && p.sound(Prodigy.Controller.AudioController.SFX_PACKS.PVP, "victory");
			var u = "";
			(o > s || n) && (u = "You ranked up to " + g[o] + "!"), s > o && (u = "You ranked down to " + g[o] + "..."), p.functionCallback(this.game.prodigy.effects.pvpComplete.bind(this.game.prodigy.effects, u, "emblem-rank" + (o + 1)))
		} else p.delay(2e3);
		p.delay(4e3), p.function(this.battleScreen.endCombat.bind(this.battleScreen, e)), p.start()
	},
	completeTurn: function (e) {
		return Util.isDefined(e) ? (this.waitingToSelect = !1, this.teams[0].swapPlayers(this.finishCompleteTurn.bind(this, e), e), void 0) : (this.forceSwitch = !1, this.nextAction = {
			type: "ready",
			index: e
		}, this.battleScreen.setState("request_next"), void 0)
	},
	finishCompleteTurn: function (e) {
		this.forceSwitch = !1, this.nextAction = {
			type: "ready",
			index: e
		}, this.battleScreen.setState("request_next")
	},
	openQuestion: function (e) {
		this.bmgVolume = this.game.prodigy.audio.getBGMVolume(), this.bmgVolume > .1 && this.game.prodigy.audio.setBGMVolume(.1, !0), this.content.visible = this.menus.visible = !1, this.battleScreen.heartsA.visible = this.battleScreen.heartsB.visible = !1, this.waitingToSelect = !1, this.game.prodigy.debug.disableEdu ? this.handleAttack(e, !0, 0) : (this.game.prodigy.education.question(this.handleAttack.bind(this, e), this.game.prodigy.education.isNew), this.game.prodigy.education.isNew = !1)
	},
	attack: function (e, t, i, a, s, r) {
		var o = this.battleScreen.teamComboMetre,
			n = this.battleScreen.opponentComboMetre;
		r.comboBonus = e === this.teams[0].current ? o.getDamageBoost() : n.getDamageBoost(), e === this.teams[0].current ? (s ? o.breakCombo() : o.increaseCombo(), r.comboBonus = o.getDamageBoost()) : (s ? n.breakCombo() : n.increaseCombo(), r.comboBonus = n.getDamageBoost());
		var h = a.animation,
			l = window[h];
		e.attack(), this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.BATTLE, "cast"), this.game.prodigy.effects.flashText(e.source.getName() + " used " + a.name, void 0, Prodigy.EffectFactory.PVP, Prodigy.EffectFactory.SMALL, 1e3, !0), Util.isDefined(h) && Util.isDefined(l) && "function" == typeof l ? new l(this.game, e, t, this.background, this.content, a, i, s, r) : Util.isDefined(i) && i()
	}
}, Prodigy.Battle.VictoryManager = function (e) {
	this.game = e
}, Prodigy.extends(Prodigy.Battle.VictoryManager, Object, {
	constructor: Prodigy.Battle.VictoryManager,
	setup: function (e) {
		this.battleScreen = e, this.content = e.content, this.menus = e.menus, this.background = e.background, this.team = e.teams[0], this.opponents = e.teams[1], this.getItems(), this.game.prodigy.player.achievements.increment("kills", this.opponents.team.length), this.initListeners()
	},
	initListeners: function () {
		this.stopListeners(), this.game.broadcaster.addAppListener(Prodigy.Events.VictoryManager.SHOW_DROPS, this.showDrops.bind(this), this, this.game), this.game.broadcaster.addAppListener(Prodigy.Events.VictoryManager.COMPLETE, this.complete.bind(this), this, this.game), this.game.broadcaster.addAppListener(Prodigy.Events.FlyingMemberStars.DONE, this.onMemberStarsDone.bind(this), this, this.game), this.game.broadcaster.addAppListener(Prodigy.Events.Creature.ANIMATION_DONE, this.showSummary.bind(this), this, "lateLevelUp")
	},
	stopListeners: function () {
		this.game.broadcaster.removeAppListener(Prodigy.Events.VictoryManager.SHOW_DROPS, this, this.game), this.game.broadcaster.removeAppListener(Prodigy.Events.VictoryManager.COMPLETE, this, this.game), this.game.broadcaster.removeAppListener(Prodigy.Events.FlyingMemberStars.DONE, this, this.game), this.game.broadcaster.removeAppListener(Prodigy.Events.Creature.ANIMATION_DONE, this, "lateLevelUp")
	},
	getItems: function () {
		var e, t = [],
			i = [];
		if (Util.isDefined(this.battleScreen.drops)) {
			var a;
			for (e = 0; e < this.battleScreen.drops.length; e++) a = this.battleScreen.drops[e], "hat" === a.type || "outfit" === a.type || "weapon" === a.type || "boots" === a.type || "relic" === a.type ? 0 === i.length && i.push(a) : t.push(a)
		}
		if (!Util.isDefined(this.battleScreen.mods) || !this.battleScreen.mods.dropsDisabled) {
			var s = GameConstants.get("GameConstants.Debug.FORCE_DROPS").concat(this.opponents.getDrops()),
				r = 4;
			for (e = 0; e < s.length; e++) "hat" === s[e].type || "outfit" === s[e].type || "weapon" === s[e].type || "boots" === s[e].type || "relic" === s[e].type ? 0 === i.length && i.push(s[e]) : 0 !== r && (("item" === s[e].type || "currency" === s[e].type) && r--, t.push(s[e]))
		}
		i.length > 0 && t.push(i[0]), this.chestManager = new Prodigy.Container.Chest(this.game, this.battleScreen.menus, this.battleScreen.mods.allowMember, t, [{
			type: "gold",
			N: 100
		}])
	},
	showDrops: function (e) {
		Util.isDefined(e) && e.length > 0 ? this.game.prodigy.open.gotItem(e, this.showMemberStars.bind(this)) : this.showMemberStars()
	},
	showMemberStars: function () {
		this.memberStarsEarned = 0;
		for (var e = 0; e < this.opponents.team.length; e++) this.memberStarsEarned += 50;
		this.game.broadcaster.broadcast(Prodigy.Events.Chest.SHOW_MEMBER_STARS, this.game, [this.memberStarsEarned, this.team.current.source])
	},
	onMemberStarsDone: function (e) {
		e || this.showSummary()
	},
	showSummary: function () {
		for (var e = 0, t = 0; t < this.team.team.length; t++) e += this.team.team[t].source.starsEarned;
		this.game.prodigy.open.battleSummary(this, {
			totalStars: e,
			memberStarsEarned: this.memberStarsEarned
		})
	},
	complete: function () {
		this.stopListeners(), this.reset(), this.battleScreen.endBattle("win")
	},
	reset: function () {
		Util.isDefined(this.chestManager) && this.chestManager.destroy()
	}
}), Prodigy.Battle.PVP_CONFIG = {
	defaultComboIncrease: 1,
	maxCombo: 5,
	damageBonusPerLevel: .1,
	comboLevelOffsets: [{
		x: 4,
		y: 57
	}, {
		x: 65,
		y: 57
	}, {
		x: 129,
		y: 36
	}, {
		x: 193,
		y: 36
	}, {
		x: 257,
		y: -22
	}],
	comboMaxOffset: {
		x: 346,
		y: 46
	}
}, Prodigy.Battle.ComboMetre = function (e, t) {
	var i = 0;
	this.context = null, this.getConfig = function () {
		return t
	}, this.getCombo = function () {
		return i
	}, this.increaseCombo = function () {
		i < this.getConfig().maxCombo && (i += this.getConfig().defaultComboIncrease, e.broadcast(Prodigy.Events.Battle.PVP_COMBO_INCREASE, this.context, [i])), Util.log("Combo Increased: " + i, Util.INFO)
	}, this.breakCombo = function () {
		i > 0 && (i = 0, e.broadcast(Prodigy.Events.Battle.PVP_COMBO_BREAK, this.context, [i])), Util.log("Combo Broken: " + i, Util.INFO)
	}
}, Prodigy.Battle.ComboMetre.prototype = {
	constructor: Prodigy.Battle.ComboMetre,
	setBroadcasterContext: function (e) {
		this.context = e
	},
	createUI: function (e, t, i, a) {
		return new Prodigy.Battle.ComboMetreUI(e, t, i, a, this.getConfig())
	},
	getDamageBoost: function () {
		return 1 + this.getConfig().damageBonusPerLevel * this.getCombo()
	}
}, Prodigy.Battle.ComboMetreUI = function (e, t, i, a, s) {
	Prodigy.Control.Element.call(this, e, t, i, a), this.baseY = 870, this.baseX = 30, this.comboTween = [], this.comboLevelBars = [], this.config = _.cloneDeep(s), this.flipped = !1, this.moveComplete = !0, this.setupComponents()
}, Prodigy.extends(Prodigy.Battle.ComboMetreUI, Prodigy.Control.Element, {
	constructor: Prodigy.Battle.ComboMetreUI,
	setupListeners: function (e) {
		this.game.broadcaster.addAppListener(Prodigy.Events.Battle.PVP_COMBO_INCREASE, this.updateComboBars.bind(this), this, e, null), this.game.broadcaster.addAppListener(Prodigy.Events.Battle.PVP_COMBO_BREAK, this.updateComboBars.bind(this), this, e, null), this.game.broadcaster.addAppListener(Prodigy.Events.Battle.PVP_UPDATE, this.updateComboTween.bind(this), this, e, null), this.game.broadcaster.addAppListener(Prodigy.Events.Battle.PVP_COMBO_METRE_MOVE_IN, this.moveIn.bind(this), this, e, null), this.game.broadcaster.addAppListener(Prodigy.Events.Battle.PVP_COMBO_METRE_MOVE_OUT, this.moveOut.bind(this), this, e, null)
	},
	setupComponents: function () {
		this.comboMetre = this.add(this.game.prodigy.create.sprite(0, 0, "battle", "combo-metre-bg"));
		for (var e = null, t = 1; t < this.config.maxCombo + 1; t++) {
			var i = this.game.prodigy.create.sprite(this.config.comboLevelOffsets[t - 1].x, this.config.comboLevelOffsets[t - 1].y, "battle", "combo-level-" + t + "-1");
			i.visible = !1, this.comboLevelBars.push(this.comboMetre.addChild(i)), e = [];
			for (var a = 1; 5 > a; a++) e.push("combo-level-" + t + "-" + a);
			this.comboTween.push(new Prodigy.TweenController(this.game, i)), this.comboTween[t - 1].set("frameName", e, 200, 9999)
		}
		for (this.comboMaxOff = this.comboMetre.addChild(this.game.prodigy.create.sprite(this.config.comboMaxOffset.x, this.config.comboMaxOffset.y, "battle", "combo-max-off")), this.comboMaxOn = this.comboMetre.addChild(this.game.prodigy.create.sprite(this.config.comboMaxOffset.x, this.config.comboMaxOffset.y, "battle", "combo-max-on-1")), this.comboMaxOn.visible = !1, e = [], t = 1; 5 > t; t++) e.push("combo-max-on-" + t);
		this.comboTween.push(new Prodigy.TweenController(this.game, this.comboMaxOn)), this.comboTween[this.comboTween.length - 1].set("frameName", e, 200, 9999), this.startComboTween()
	},
	moveIn: function () {
		if (this.moveComplete) {
			var e = this.game.add.tween(this).from({
				y: this.baseY
			}, 2100, Phaser.Easing.Quadratic.In, !0);
			e.onComplete.add(this.onMoveComplete.bind(this)), this.moveComplete = !1
		}
	},
	moveOut: function () {
		if (this.moveComplete) {
			var e = this.game.add.tween(this).to({
				x: this.flipped ? 1280 + -this.comboMetre.width + this.baseX : -(this.comboMetre.width + this.baseX)
			}, 700, Phaser.Easing.Quadratic.In, !0);
			e.onComplete.add(this.onMoveComplete.bind(this)), this.moveComplete = !1
		}
	},
	onMoveComplete: function () {
		this.moveComplete = !0
	},
	updateComboBars: function (e) {
		for (var t = 0; t < this.comboLevelBars.length; t++) this.comboLevelBars[t].visible = e > t;
		this.comboMaxOn.visible = e === this.config.maxCombo
	},
	startComboTween: function () {
		for (var e = 0; e < this.comboTween.length; e++) this.comboTween[e].start()
	},
	updateComboTween: function () {
		for (var e = 0; e < this.comboTween.length; e++) this.comboTween[e].update()
	},
	flip: function () {
		this.comboMetre.scale.x *= -1, this.flipSprite(this.comboMaxOff), this.flipSprite(this.comboMaxOn), this.flipped = !0
	},
	flipSprite: function (e) {
		e.x -= -e.width, e.scale.x *= -1
	}
});
var DinoDig = function () {
	function e(e) {
		Screen.call(this, e, "Dig Site", "game-dino", "game-dinodig", ["game-dinodig", "bgm-game", "npc-sprite-scoog", "reduced-outfit-male-39", "reduced-outfit-female-39", "sfx-dino-dig"]), this.area = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], this.showMenu = !1
	}

	function t() {
		if (this.playGame && !this.digging) {
			{
				var e = Math.floor(this.game.input.x / 20),
					t = Math.floor(this.game.input.y / 20);
				Math.floor(this.user.x / 20), Math.floor(this.user.y / 20)
			}
			if (this.game.input.x === this.user.x && this.game.input.y === this.user.y) return;
			var i = this.path.findBasicPath(this.user.x, this.user.y, this.game.input.x, this.game.input.y);
			this.digBtn.visible = !1;
			var a = !1;
			1 === this.area[t][e] && (a = !0, this.user.setPath(i, this.askDig.bind(this, a, e, t), this.walkSpeed))
		}
	}
	return e.prototype = Object.create(Screen.prototype), e.prototype.shutdown = function () {
		Screen.prototype.shutdown.call(this);
		try {
			this.bg.destroy(), this.bg = null
		} catch (e) {}
		try {
			this.user.destroy(), this.user = null
		} catch (e) {}
	}, e.prototype.create = function () {
		this.noFade = !0, this.game.prodigy.audio.pauseBGM(), Screen.prototype.create.call(this), this.game.prodigy.player.saveEnabled = !1
	}, e.prototype.screenSetup = function () {
		Screen.prototype.screenSetup.call(this), this.path = new Pathfinder(this.area), this.bg = this.game.prodigy.create.sprite(0, 0, "game-dinodig", "bg"), this.bg.inputEnabled = !0, this.bg.events.onInputDown.add(t, this), this.background.add(this.bg), this.npc = new Prodigy.Container.QuestNPC(this.game, this.content, 130, 640, null, {
			atlas: "scoog",
			name: "Scoog"
		}), this.user = this.game.prodigy.create.player(this.content, this.game.prodigy.player, 1, 600, 350), this.user.forceOutfit(39), this.user.setup(null, !0), this.user.showName(!1);
		for (var e in this.user.sprites.children) this.user.sprites.children[e] instanceof Prodigy.Control.Sprite && (this.user.sprites.children[e].inputEnabled = !0, this.user.sprites.children[e].events.onInputDown.add(t, this));
		this.content.add(this.game.prodigy.create.sprite(694, 32, "game-dinodig", "platform")), this.digBtn = this.game.prodigy.create.element(this.content, this.user.x - 40, this.user.y - 160);
		var i = this.digBtn.add(this.game.prodigy.create.sprite(0, 0, "icons", "icon-base"));
		i.inputEnabled = !0, i.events.onInputDown.add(this.dig.bind(this), this);
		var a = this.digBtn.add(this.game.prodigy.create.sprite(0, 0, "icons", "key/1"));
		this.game.add.tween(a).to({
			y: -10
		}, 1e3, Phaser.Easing.Quadratic.InOut, !0, 0, Number.MAX_VALUE, !0), this.digBtn.visible = !1, this.timer = this.game.prodigy.create.timer(this.foreground, 15, 15), this.timer.setTime(9e4), this.timer.setMsg("Items recovered : 0"), this.botPanel = this.game.prodigy.create.panel(this.foreground, 965, 605, 6, 2), this.botPanel.alpha = .8, this.rewards = [], this.setNextDig(), this.menu = new DinoDigMenu(this.game, this.content, this.showBoosts.bind(this), this.showInstructions.bind(this), this.toDino.bind(this)), this.showUI(!1), this.digging = !1
	}, e.prototype.showUI = function (e) {
		this.npc.visible = this.user.visible = this.timer.visible = this.botPanel.visible = e, this.menu.visible = !e
	}, e.prototype.showInstructions = function () {
		this.showUI(!0);
		var e = function (e, t) {
				e.visible = t
			},
			t = this.game.prodigy.dialogue.create();
		t.setText({
			text: "This game is all about digging up fossils!",
			face: 0,
			anim: 4
		}), t.setText({
			text: "To find fossils, just click around the dig site to start digging.",
			face: 2
		}), t.setText({
			callback: this.dig.bind(this)
		}), t.setText({
			text: "Your shovel will tell you how close to the fossil you are! \nCold means you're far away. \nHot means you're close!",
			face: 0
		}), t.setText({
			callback: e.bind(this, this.digBtn, !0)
		}), t.setText({
			text: "When you find something, the shovel button will pop up. Keep clicking it to dig up your new find!",
			face: 0
		}), t.setText({
			callback: this.dig.bind(this)
		}), t.setText({
			text: "Once you dig it up, you can start looking for the next item!",
			face: 1
		}), t.setText({
			callback: this.timer.blink.bind(this.timer)
		}), t.setText({
			text: "You have 90 seconds to dig up as many fossils as you can.",
			face: 1,
			anim: 2
		}), t.setText({
			callback: this.showUI.bind(this, !1)
		}), t.start("scoog")
	}, e.prototype.showBoosts = function () {
		var t = e.getNewFossils(this.game.prodigy.player.backpack);
		this.showUI(!0);
		var i = [{
			icon: "boots/7",
			d: "Walk faster!"
		}, t.length > 0 ? {
			icon: "fossil/1",
			d: "More fossils!"
		} : null, {
			icon: "key/1",
			d: "Dig faster!"
		}];
		this.game.prodigy.open.boostSelect(i, this.startGame.bind(this))
	}, e.prototype.startGame = function (e) {
		this.walkSpeed = 0 === e ? 1.5 : 1, this.fossilOff = 1 === e ? .1 : 0, this.power = 2 === e ? 2 : 0, this.game.prodigy.effects.flashText("START DIGGING!", this.begin.bind(this))
	}, e.prototype.begin = function () {
		this.playGame = !0, this.timer.start(9e4, this.endGame.bind(this)), this.game.prodigy.audio.playBGM("bgm-game", !0, !0)
	}, e.prototype.setNextItem = function () {
		var t = Math.random();
		if (.2 > t) this.item = {
			type: "gold",
			N: 10
		}, this.targetDigs = 3;
		else if (.33 > t) this.item = {
			type: "gold",
			N: 25
		}, this.targetDigs = 4;
		else if (t < .66 + (this.fossilOff || 0)) {
			var i = e.getNewFossils(this.game.prodigy.player.backpack);
			i.length <= 0 ? (this.item = {
				type: "gold",
				N: 50
			}, this.targetDigs = 5) : (this.item = {
				type: "fossil",
				ID: i[Math.floor(Math.random() * i.length)]
			}, this.targetDigs = 8)
		} else {
			for (var i = []; i.length <= 0;) i = Items.getItemDrops();
			this.item = i[0];
			var a = this.item.type;
			this.targetDigs = "outfit" === a ? 10 : "weapon" === a ? 12 : "item" === a ? 5 : 8
		}
		this.targetDigs -= this.power || 0
	}, e.prototype.setNextDig = function () {
		for (this.setNextItem(), this.targetCoords = {
				x: 0,
				y: 0
			}; 1 !== this.area[this.targetCoords.y][this.targetCoords.x];) this.targetCoords.x = Math.floor(64 * Math.random()), this.targetCoords.y = Math.floor(36 * Math.random())
	}, e.prototype.askDig = function (e, t, i) {
		e && (this.digX = t, this.digY = i, this.dig())
	}, e.prototype.dig = function () {
		this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "dig");
		var e = 100;
		if (Util.isDefined(this.digX)) var e = Phaser.Math.distance(this.digX, this.digY, this.targetCoords.x, this.targetCoords.y);
		this.digging || (this.digging = !0, 3 > e && (this.timer.setMsg("YOU FOUND SOMETHING!"), this.hole = this.game.prodigy.create.sprite(20 * this.digX, 20 * this.digY, "game-dinodig", "hole1"), this.hole.visible = !0, this.background.add(this.hole), this.digs = 0)), 3 > e && (this.hole.frameName = "hole" + Math.max(1, 1 + Math.floor(3 * (this.digs / this.targetDigs))));
		var t = 3 > e ? "DIG DIG DIG!" : 5 > e ? "Hot!" : 8 > e ? "Warm..." : 15 > e ? "Cold" : "Ice cold!";
		Util.isDefined(this.text) && this.text.destroy(), this.text = this.game.prodigy.create.font(this.foreground, this.user.x - 100, this.user.y - 100, t, {
			width: 200,
			align: "center"
		}), this.game.add.tween(this.text).to({
			y: this.user.y - 200,
			alpha: 0
		}, 2e3, Phaser.Easing.Quadratic.Out).start();
		var i = this.game.prodigy.player.backpack.getKeyItemData(1, "lvl"),
			a = 2 === i ? 12 : 3 === i ? 16 : 8;
		this.shoveling = !0, this.user.performFunction(a, this.digEnd.bind(this, e)), this.digBtn.visible = !1
	}, e.prototype.digEnd = function (e) {
		if (this.shoveling = !1, 3 > e && this.timer.isInProgress())
			if (this.digs++, this.digs >= this.targetDigs) {
				this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "heart"), this.rewards.push(this.item), this.timer.setMsg("Items recovered : " + this.rewards.length);
				var t = this.foreground.add(this.game.prodigy.create.sprite(20 * this.digX + 10, 20 * this.digY + 10, "icons", Util.convertItemToIcon(this.item)));
				t.anchor.setTo(.5, .5), t.scale.x = t.scale.y = 0;
				var i = 995 + (this.rewards.length - 1) % 5 * 60,
					a = 630 + 50 * Math.floor((this.rewards.length - 1) / 5);
				this.game.add.tween(t.scale).to({
					x: 1.2,
					y: 1.2
				}, 1e3, Phaser.Easing.Quadratic.Out).to({
					x: .8,
					y: .8
				}, 1e3, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(t).to({
					x: i,
					y: a
				}, 2e3, Phaser.Easing.Quadratic.Out).start(), this.rewards.length % 3 === 0 && this.extendTime(), this.digging = !1, this.setNextDig()
			} else this.digBtn.x = this.user.x - 40, this.digBtn.y = this.user.y < 160 ? this.user.y : this.user.y - 160, this.digBtn.visible = !0;
		else this.digging = !1
	}, e.prototype.extendTime = function () {
		this.timer.add(15e3), this.timer.pause();
		var e = function (e) {
				e.resume()
			},
			t = this.game.prodigy.dialogue.create();
		t.setText({
			text: "Ponduberous! Since you got so many items, I'll give you another 15 seconds!",
			face: 1,
			anim: 4,
			audio: Prodigy.Dyno.AUDIO[1]
		}), t.setText({
			callback: e.bind(this, this.timer)
		}), t.start("scoog")
	}, e.prototype.endGame = function () {
		this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.DINO_DIG, "bell"), this.game.prodigy.audio.pauseBGM(), this.digBtn.visible = !1, this.playGame = !1, this.game.prodigy.effects.flashText("TIME'S UP!", this.end.bind(this))
	}, e.prototype.end = function () {
		var e = this.game.prodigy.dialogue.create();
		this.rewards.length > 0 ? (e.setText({
			text: "Time's up! Now let's see what items you dug up!",
			face: 1,
			anim: 2
		}), e.setText({
			callback: this.game.prodigy.open.gotItem.bind(this.game.prodigy.open, this.rewards, this.examineResults.bind(this))
		})) : (e.setText({
			text: "Time's up! Come back to try again sometime!",
			face: 2
		}), e.setText({
			callback: this.toDino.bind(this)
		})), e.start("scoog")
	}, e.prototype.examineResults = function () {
		for (var e = !1, t = 0; t < this.rewards.length; t++) "fossil" === this.rewards[t].type && (e = !0);
		var i = this.game.prodigy.dialogue.create();
		e ? (i.setText({
			text: "Looks like you got a fossil! Be sure to visit the museum to see your progress - maybe you completed a skeleton!",
			face: 1,
			anim: 2,
			audio: Prodigy.Dyno.AUDIO[1]
		}), i.setText({
			callback: this.toDino.bind(this)
		}), i.start("scoog")) : this.toDino()
	}, e.prototype.toDino = function () {
		this.game.prodigy.world.teleport("dyno-A0", 790, 240)
	}, e
}();
DinoDig.getNewFossils = function (e) {
	for (var t = [], i = Items.data.fossil, a = e.getBackpackItemsByType("fossil"), s = 0; s < i.length; s++) {
		var r = i[s];
		if (!e.hasItem("fossil", r.ID + 12)) {
			for (var o = r.count, n = 0; n < a.length; n++)
				if (a[n].ID === r.ID) {
					o -= a[n].N || 1;
					break
				} for (var n = 0; o > n; n++) t.push(r.ID)
		}
	}
	return t
};
var DinoDigMenu = function () {
		function e(e, t, i, a, s) {
			Prodigy.Control.Element.call(this, e, t, 440, 150), this.startCallback = i, this.instructionsCallback = a, this.game.prodigy.create.panel(this, 25, 25, 7, 6), this.game.prodigy.create.textButton(this, 50, 50, {
				size: Prodigy.Control.TextButton.MED,
				icon: "key/1",
				text: "Start!"
			}, this.tryStart.bind(this)), this.game.prodigy.create.textButton(this, 50, 130, {
				size: Prodigy.Control.TextButton.MED,
				icon: "star",
				text: "How to Play"
			}, this.instructions.bind(this)), this.game.prodigy.create.textButton(this, 50, 250, {
				size: Prodigy.Control.TextButton.MED,
				icon: "back",
				text: "Cancel"
			}, s)
		}
		return e.prototype = Object.create(Prodigy.Control.Element.prototype), e.prototype.tryStart = function () {
			var e = this.game.prodigy.dialogue.create();
			this.game.prodigy.player.backpack.hasItem("key", 1) ? DinoDig.getNewFossils(this.game.prodigy.player.backpack).length <= 0 ? e.setText({
				text: "The museum is full, so we don't need any fossils, but do you want to dig anyways? \nIt will cost you [gold] 200",
				face: 4,
				yes: this.start.bind(this, 200)
			}) : e.setText({
				text: "Ready to start digging for fossils? \n\nIt will cost you [gold] 300.",
				face: 4,
				yes: this.start.bind(this, 300)
			}) : e.setText({
				text: "You want to start digging? First you'll need a shovel!",
				face: 4
			}), e.start("scoog")
		}, e.prototype.start = function (e) {
			if (!Util.isDefined(e) || this.game.prodigy.player.getGold() >= e) Util.isDefined(e) && this.game.prodigy.player.changeGold(-e), this.startCallback();
			else {
				var t = this.game.prodigy.dialogue.create();
				t.setText({
					text: "Uh oh! You don't have enough gold!",
					face: 4
				}), t.start("scoog")
			}
		}, e.prototype.instructions = function () {
			this.instructionsCallback()
		}, e
	}(),
	DanceDance = function () {
		function e(e) {
			Screen.call(this, e, "The Stage", "game-dancedance", "game-dancedance", ["game-dancedance", "bgm-dance1", "bgm-dance2", "sfx-dance-dance"]), this.showMenu = !1
		}
		return e.prototype = Object.create(Screen.prototype), e.RED_LIGHTS = [{
			x: 192,
			y: 65
		}, {
			x: 403,
			y: 40
		}, {
			x: 613,
			y: 68
		}, {
			x: 791,
			y: 83
		}, {
			x: 908,
			y: 88
		}, {
			x: 408,
			y: 539
		}, {
			x: 887,
			y: 538
		}], e.YELLOW_LIGHTS = [{
			x: 118,
			y: 47
		}, {
			x: 318,
			y: 78
		}, {
			x: 376,
			y: 164
		}, {
			x: 744,
			y: 79
		}, {
			x: 1103,
			y: 139
		}, {
			x: 1129,
			y: 49
		}, {
			x: 1232,
			y: 39
		}, {
			x: 305,
			y: 474
		}, {
			x: 746,
			y: 572
		}], e.BLUE_LIGHTS = [{
			x: 66,
			y: 37
		}, {
			x: 338,
			y: 119
		}, {
			x: 396,
			y: 183
		}, {
			x: 652,
			y: 72
		}, {
			x: 1039,
			y: 97
		}, {
			x: 1071,
			y: 38
		}, {
			x: 548,
			y: 571
		}, {
			x: 984,
			y: 476
		}], e.prototype.create = function () {
			this.game.prodigy.audio.pauseBGM(), this.startedSpeed = !1, this.game.prodigy.player.saveEnabled = !1, Screen.prototype.create.call(this, ["game-dancedance", "bgm-dance1", "bgm-dance2"])
		}, e.prototype.screenSetup = function () {
			this.noFade = !0, Screen.prototype.screenSetup.call(this), this.background.add(this.game.prodigy.create.sprite(0, 0, "game-dancedance", "bg")), this.danceBots = [], this.danceBots.push(new DanceBot(this.game, this.content, 260, 285)), this.danceBots.push(new DanceBot(this.game, this.content, 640, 420)), this.danceBots.push(new DanceBot(this.game, this.content, 1030, 285)), this.danceBots[0].scale.x = this.danceBots[0].scale.y = .5, this.danceBots[2].scale.x = this.danceBots[2].scale.y = .5, this.danceBots[0].setPose(1), this.danceBots[2].setPose(1), this.menu = new DanceMenu(this.game, this.content, this.startGame.bind(this), this.showInstructions.bind(this), this.toTech.bind(this))
		}, e.prototype.showInstructions = function () {
			this.menu.visible = !1;
			var e = function (e) {
					e.visible = !0
				},
				t = this.game.prodigy.dialogue.create();
			t.setText({
				text: "This game is all about showing your moves and leveling up your TEK-Y4!",
				face: 0,
				anim: 4
			}), t.setText({
				text: "When a dance move is shown up top, select the matching dance card below before the timer runs out.",
				face: 1,
				anim: 0
			}), t.setText({
				text: "But look out! The timer speeds up over time! For each correct dance move, you earn gears to level up!",
				face: 2,
				anim: 0
			}), t.setText({
				callback: e.bind(this, this.menu)
			}), t.start("boombox")
		}, e.prototype.createUI = function (e) {
			this.timer = new DanceTimer(this.game, this.content, 590, 30);
			var t = function (e) {
				for (var t = 50, i = 2; e >= i; i++) t += Math.max(0, Math.floor(100 * (i / 9) * 5));
				return e >= 10 && (t = -1), {
					target: t,
					text: "" + e
				}
			};
			this.gearBar = this.game.prodigy.create.fillBar(this.content, 65, 415, 34, 250, 1, t, 15975263, "star2", .7, !0), this.gearBar.setValue(this.game.prodigy.player.backpack.getKeyItemData(2, "gears") || 0);
			var t = function (t) {
				var i = 15975263,
					a = Math.max(0, 5 * t);
				return t >= e && (a = -1), 1 >= t && (i = 15157320), {
					target: a,
					color: i,
					text: 1 >= t ? "Uh oh" : "x" + (t - 1)
				}
			};
			this.bonusBar = this.game.prodigy.create.fillBar(this.content, 1181, 415, 34, 250, 1, t, 15314234, "item/47", .7, !0, this.setMultiplier.bind(this)), this.bonusBar.setValue(5), this.score = this.game.prodigy.create.element(this.content, 20, 20), this.score.text = this.game.prodigy.create.font(this.score, 0, 0, "[item/47]0", {
				size: 36,
				font: "button"
			});
			var i = this.game.prodigy.player.backpack.getKeyItemData(2, "score");
			this.high = this.game.prodigy.create.element(this.content, 960, 20), this.high.text = this.game.prodigy.create.font(this.high, 0, 0, (Util.isDefined(i) ? i : 0) + " [item/47]", {
				size: 36,
				font: "button",
				align: "right",
				width: 300
			}), this.game.prodigy.create.font(this.high, 0, 40, "my best ", {
				size: 16,
				width: 220,
				align: "right"
			})
		}, e.prototype.setMultiplier = function (e) {
			e > 1 ? this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.DANCE_DANCE, "yay") : Util.isDefined(this.multiplier) && this.multiplier !== e && this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.DANCE_DANCE, "aw"), this.multiplier = e
		}, e.prototype.startGame = function (e, t) {
			this.menu.visible = !1, this.gearBonus = 0 === t ? 1 : 0, this.speedOffset = 1 === t ? .25 : 0, this.maxMult = 2 === t ? 5 : 4, this.createUI(this.maxMult), this.currentScore = 0, this.lightTimer = window.setInterval(this.processLights.bind(this), 500), this.startTime = (new Date).getTime(), this.finishTime = this.startTime + 7e4, this.speedTime = this.startTime + 4e4, this.timeDelay = 1500, this.setDifficulty(e);
			var i = function (e) {
				e.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.DANCE_DANCE, "go"), e.game.prodigy.effects.flashText("DANCE!"), e.nextPose()
			};
			this.game.prodigy.audio.playBGM("bgm-dance1", !0), this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.DANCE_DANCE, "ready"), this.game.prodigy.effects.flashText("READY?", i.bind(this, this))
		}, e.prototype.endGame = function (e) {
			this.timer.visible = !1;
			for (var t = 0; t < this.poses.length; t++) this.poses[t].visible = !1;
			this.game.prodigy.audio.pauseBGM(), e ? this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.DANCE_DANCE, "victory") : this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.DANCE_DANCE, "bell");
			for (var t = 0; t < this.danceBots.length; t++) this.danceBots[t].setPose(e ? -3 : -1);
			this.danceBots[1].setPose(e ? -2 : -1), this.game.prodigy.effects.flashText(e ? "Dance Complete!" : "Dance Failed", this.finalize.bind(this, e))
		}, e.prototype.finalize = function (t) {
			var i = this.game.prodigy.dialogue.create();
			if (t) {
				var a = this.game.prodigy.player.backpack.getKeyItemData(2, "score");
				(!Util.isDefined(a) || a < this.currentScore) && (this.game.prodigy.player.backpack.setKeyItemData(2, "score", this.currentScore), this.high.text.setText(this.currentScore + " [item/47]"), i.setText({
					text: "Looks like we have a new HIGH SCORE!",
					face: 4,
					anim: 4,
					audio: e.AUDIO[2]
				})), i.setText({
					text: "Great moves! Let's see how many gears you earned!",
					face: 0
				}), i.setText({
					callback: this.gearBar.addValue.bind(this.gearBar, this.currentScore, null, this.finishFill.bind(this))
				})
			} else this.difficulty > 1 ? i.setText({
				text: "Oh dear...you got too many poses wrong. Perhaps try again on a lower difficulty?",
				face: 3,
				audio: e.AUDIO[4]
			}) : i.setText({
				text: "Oh dear...you got too many poses wrong. Try again another time!",
				face: 3,
				audio: e.AUDIO[4]
			}), i.setText({
				callback: this.toTech.bind(this)
			});
			i.start("boombox")
		}, e.prototype.finishFill = function () {
			var t = this.game.prodigy.player.backpack.getKeyItemData(2, "lvl"),
				i = this.gearBar.getLevel(),
				a = this.game.prodigy.dialogue.create();
			if (this.game.prodigy.player.backpack.setKeyItemData(2, "gears", this.gearBar.getValue()), i > t) {
				var s = [{
					type: "gold",
					N: 500 * (i - t)
				}];
				this.game.prodigy.player.backpack.setKeyItemData(2, "lvl", i), 5 > i ? a.setText({
					text: "You leveled up your TEK-Y4! Now he can try the level " + i + " challenge and earn even more gears!",
					face: 4,
					anim: 4,
					audio: e.AUDIO[2]
				}) : 10 > i ? a.setText({
					text: "You leveled up your TEK-Y4! Get him to level 10, and there will be a fantastic reward!",
					face: 4,
					anim: 4,
					audio: e.AUDIO[2]
				}) : (a.setText({
					text: "You leveled up your TEK-Y4 to the maximum level!",
					face: 4,
					anim: 4,
					audio: e.AUDIO[3]
				}), s.push({
					type: "hat",
					ID: 47
				}), s.push({
					type: "outfit",
					ID: 42
				})), a.setText({
					text: "I almost forgot...here's your reward!",
					face: 1
				}), a.setText({
					callback: this.game.prodigy.open.gotItem.bind(this.game.prodigy.open, s, this.toTech.bind(this))
				})
			} else 10 > t ? a.setText({
				text: "Good job! Level up your TEK-Y4 to try new difficulties, get more gear and cool rewards!",
				face: 4
			}) : a.setText({
				text: "Your TEK-Y4 is at the highest level! Try again to beat your friends' high scores!",
				face: 4,
				anim: 4,
				audio: e.AUDIO[3]
			}), a.setText({
				callback: this.toTech.bind(this)
			});
			a.start("boombox")
		}, e.prototype.setDifficulty = function (e) {
			this.difficulty = e, this.poseElement = this.game.prodigy.create.element(this.content, 0, 600);
			var t = 3 > e ? 3 : 5 > e ? 4 : 5;
			this.poses = [];
			for (var i = 0; t > i; i++) this.poses[i] = new DancePose(this.game, this.poseElement, 130 * i, 0, this.selectAnswer.bind(this, i));
			this.poseElement.x = 640 - this.poseElement.width / 2
		}, e.prototype.nextPose = function () {
			var e = this.timer.start(this.difficulty, this.speedOffset, this.pose.bind(this));
			this.correctPose = e.currentPose, this.correct = Math.floor(Math.random() * this.poses.length);
			for (var t = [e], i = 0; i < this.poses.length; i++) i === this.correct ? this.poses[i].setPose(e) : this.poses[i].randomPose(this.difficulty, t), t.push(this.poses[i]), this.poses[i].flip();
			this.answerID = null, this.deselectAll()
		}, e.prototype.selectAnswer = function (e) {
			this.answerID = e, this.deselectAll()
		}, e.prototype.deselectAll = function () {
			for (var e = 0; e < this.poses.length; e++) this.poses[e].deselect()
		}, e.prototype.pose = function () {
			for (var e = this.answerID === this.correct, t = 0; t < this.poses.length; t++) this.poses[t].flip();
			for (var t = 0; t < this.danceBots.length; t++) 1 === t ? this.danceBots[t].setPose(e ? this.correctPose : -1) : this.danceBots[t].setPose(this.correctPose);
			if (e) this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "heart"), this.currentScore += (this.poses.length + this.gearBonus) * (this.bonusBar.getLevel() - 1), this.score.text.setText("[item/47]" + this.currentScore), this.bonusBar.addValue(1);
			else if (this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.DANCE_DANCE, "damage"), this.bonusBar.getValue() > 5) this.bonusBar.setValue(5);
			else {
				var i = this.bonusBar.addValue(-1);
				if (0 >= i) return this.endGame(!1), void 0
			}
			var a = (new Date).getTime();
			return a > this.finishTime ? (this.endGame(!0), void 0) : (a > this.speedTime && (this.startedSpeed || (this.startedSpeed = !0, this.speedOffset -= .25, this.game.prodigy.effects.flashText("Speed Up!"), this.game.prodigy.audio.playBGM("bgm-dance2", !0)), this.timeDelay = Math.max(500, this.timeDelay - 150)), window.setTimeout(this.nextPose.bind(this), this.timeDelay), void 0)
		}, e.prototype.processLights = function () {
			if (!Util.isDefined(this.lights)) {
				this.lights = [];
				for (var t = 0; 3 > t; t++) this.lights.push(this.background.add(this.game.prodigy.create.sprite(0, 0, "icons", "empty"))), this.lights[t].alpha = .25;
				this.lights[0].tint = 14492708, this.lights[1].tint = 15396941, this.lights[2].tint = 5107440
			}
			for (var i = [this.game.random.pick(e.RED_LIGHTS), this.game.random.pick(e.YELLOW_LIGHTS), this.game.random.pick(e.BLUE_LIGHTS)], t = 0; 3 > t; t++) this.lights[t].x = i[t].x - 25, this.lights[t].y = i[t].y - 25
		}, e.prototype.toTech = function () {
			this.game.prodigy.world.teleport("lamplight-B4", 660, 400)
		}, e
	}();
DanceDance.AUDIO = [{
	tag: "voice-0",
	s: 0,
	d: 2
}, {
	tag: "voice-0",
	s: 2,
	d: 3
}, {
	tag: "voice-0",
	s: 5,
	d: 3
}, {
	tag: "voice-0",
	s: 8,
	d: 2
}, {
	tag: "voice-0",
	s: 10,
	d: 2
}, {
	tag: "voice-0",
	s: 12,
	d: 2
}, {
	tag: "voice-0",
	s: 14,
	d: 4
}];
var DanceMenu = function () {
		function e(e, t, i, a, s) {
			Prodigy.Control.Element.call(this, e, t), this.startCallback = i, this.cancelCallback = s, this.instructionsCallback = a;
			var r = this.add(this.game.prodigy.create.sprite(0, 0, "core", "overlay-small"));
			r.alpha = .5, r.width = 1280, r.height = 720, this.game.prodigy.player.backpack.hasItem("key", 2) ? this.createMenu() : this.giveItem()
		}
		return e.prototype = Object.create(Prodigy.Control.Element.prototype), e.prototype.giveItem = function () {
			var e = function (e) {
					var t = this.game.prodigy.dialogue.create();
					t.setText({
						text: "It's just a little TEK-Y4, so it hasn't learned how to dance yet. It'll be your job to teach it some moves!",
						face: 1
					}), t.setText({
						callback: e.createMenu.bind(e)
					}), t.start("boombox")
				},
				t = this.game.prodigy.dialogue.create();
			t.setText({
				text: "Welcome to the Dance Stage! Ready to show everyone what your TEK-Y4 robot can do?",
				face: 4,
				anim: 4
			}), t.setText({
				text: "OH! You don't have a TEK-Y4? Well now, only the TEK-Y4 dancing robot can use the stage...",
				face: 2
			}), t.setText({
				text: "Here, you can have this one!",
				face: 1,
				audio: DanceDance.AUDIO[3]
			}), t.setText({
				callback: this.game.prodigy.open.gotItem.bind(this.game.prodigy.open, [{
					type: "key",
					ID: 2,
					lvl: 1
				}], e.bind(this, this))
			}), t.start("boombox")
		}, e.prototype.createMenu = function () {
			Util.isDefined(this.menu) && this.menu.destroy(), this.menu = this.game.prodigy.create.element(this, 465, 220), this.game.prodigy.create.panel(this.menu, 0, 0, 7, 5), this.game.prodigy.create.textButton(this.menu, 25, 20, {
				size: Prodigy.Control.TextButton.MED,
				icon: "key/2",
				text: "Start!"
			}, this.createDifficulty.bind(this)), this.game.prodigy.create.textButton(this.menu, 25, 100, {
				size: Prodigy.Control.TextButton.MED,
				icon: "star",
				text: "How to Play"
			}, this.instructions.bind(this)), this.game.prodigy.create.textButton(this.menu, 25, 180, {
				size: Prodigy.Control.TextButton.MED,
				icon: "back",
				text: "Cancel"
			}, this.cancelCallback.bind(this))
		}, e.prototype.createDifficulty = function () {
			Util.isDefined(this.menu) && this.menu.destroy(), this.menu = this.game.prodigy.create.element(this, 390, 220);
			var e = this.game.prodigy.player.backpack.getKeyItemData(2, "lvl");
			this.game.prodigy.create.panel(this.menu, 0, 0, 10, 6), this.game.prodigy.create.font(this.menu, 110, 20, "Choose Difficulty", {
				size: 36,
				font: "button"
			}), this.game.prodigy.create.font(this.menu, 110, 60, "Higher levels = more gears!"), this.menu.add(this.game.prodigy.create.sprite(10, 10, "icons", "key/2"));
			for (var t = 0; 5 > t; t++) {
				var i = 30 + 90 * t,
					a = 110;
				e >= t + 1 ? this.game.prodigy.create.stackButton(this.menu, i, a, [{
					tag: "star2"
				}, {
					text: "" + (t + 1),
					y: 20,
					size: 30
				}], this.chooseDifficulty.bind(this, t + 1)) : this.game.prodigy.create.stackButton(this.menu, i, a, [{
					tag: "empty",
					x: 15,
					y: 15
				}, {
					text: "" + (t + 1),
					y: 20,
					size: 30
				}], this.game.prodigy.open.message.bind(this.game.prodigy.open, "Your TEK-Y4 needs to be a higher level! Try a lower difficulty to earn gears and level up!", null, null, "Uh oh!"))
			}
			this.game.prodigy.create.textButton(this.menu, 40, 230, {
				size: Prodigy.Control.TextButton.SMALL,
				icon: "back",
				text: "Back"
			}, this.createMenu.bind(this)), this.game.prodigy.create.textButton(this.menu, 260, 230, {
				size: Prodigy.Control.TextButton.SMALL,
				icon: "yes",
				text: "GO!"
			}, this.tryStart.bind(this)), this.yes = this.menu.add(this.game.prodigy.create.sprite(0, 170, "icons", "yes")), this.yes.width = this.yes.height = 25, this.chooseDifficulty(Math.min(e, 5))
		}, e.prototype.chooseDifficulty = function (e) {
			this.difficulty = e, this.yes.x = 90 * e - 10
		}, e.prototype.tryStart = function () {
			Util.isDefined(this.menu) && this.menu.destroy();
			var e = this.game.prodigy.dialogue.create();
			e.setText({
				text: "Ready to start robo-dancing? \n\nIt will cost you [gold] 200.",
				face: 4,
				yes: this.openBoosts.bind(this, 200),
				no: this.createMenu.bind(this)
			}), e.start("boombox")
		}, e.prototype.openBoosts = function (e) {
			if (!Util.isDefined(e) || this.game.prodigy.player.getGold() >= e) {
				Util.isDefined(e) && this.game.prodigy.player.changeGold(-e);
				var t = [{
					icon: "item/47",
					d: "More gears"
				}, {
					icon: "fossil/1",
					d: "Slow time"
				}, {
					icon: "star2",
					d: "Multiplier"
				}];
				this.game.prodigy.open.boostSelect(t, this.start.bind(this))
			} else {
				var i = this.game.prodigy.dialogue.create();
				i.setText({
					text: "Uh oh! You don't have enough gold!",
					face: 3,
					anim: 1,
					audio: DanceDance.AUDIO[4]
				}), i.setText({
					callback: this.createMenu.bind(this)
				}), i.start("boombox")
			}
		}, e.prototype.start = function (e) {
			this.startCallback(this.difficulty, e)
		}, e.prototype.instructions = function () {
			this.instructionsCallback()
		}, e
	}(),
	DanceTimer = function () {
		function e(e, t, i, a) {
			Prodigy.Control.Element.call(this, e, t, i, a), this.pose = new DancePose(this.game, this, 0, 0), this.pose.flip(), this.bar1 = this.add(this.game.prodigy.create.sprite(0, 34, "core", "overlay-light")), this.bar1.anchor.setTo(1, 0), this.bar2 = this.add(this.game.prodigy.create.sprite(100, 34, "core", "overlay-light")), this.bar1.height = this.bar2.height = 30, this.bar1.width = this.bar2.width = 244, this.bar1.alpha = this.bar2.alpha = .7, this.bar1.tint = this.bar2.tint = 8768643
		}
		return e.prototype = Object.create(Prodigy.Control.Element.prototype), e.prototype.start = function (e, t, i) {
			this.pose.randomPose(e, []), this.callback = i;
			var a = 2.5 - .35 * (e - 1);
			a += t, a *= 1e3, this.bar1.width = this.bar2.width = 244;
			var s = this.game.add.tween(this.pose).to({
				y: -10
			}, 250, Phaser.Easing.Quadratic.Out).to({
				y: 0
			}, 250, Phaser.Easing.Quadratic.In);
			return s.onComplete.addOnce(this.beginTimer.bind(this, a), this), s.start(), this.pose
		}, e.prototype.beginTimer = function (e) {
			this.startTime = (new Date).getTime(), this.targetTime = (new Date).getTime() + e
		}, e.prototype.update = function () {
			if (Prodigy.Control.Element.prototype.update.call(this), Util.isDefined(this.bar1) && Util.isDefined(this.bar2) && Util.isDefined(this.targetTime)) {
				var e = (new Date).getTime();
				if (e >= this.targetTime) this.bar1.width = this.bar2.width = 0, this.targetTime = null, this.callback();
				else {
					var t = (this.targetTime - e) / (this.targetTime - this.startTime),
						i = Math.floor(244 * t);
					this.bar1.width = this.bar2.width = i
				}
			}
		}, e
	}(),
	DanceBot = function () {
		function e(e, t, i, a) {
			Prodigy.Control.Element.call(this, e, t, i, a), this.sprite = this.add(this.game.prodigy.create.sprite(-100, -200, "game-dancedance", "pose1-1")), this.sprite.animations.add("-3", ["pose2-1"], 1, !0, !1), this.sprite.animations.add("-2", ["poseSuccess"], 1, !0, !1), this.sprite.animations.add("-1", ["poseFail"], 1, !0, !1), this.sprite.animations.add("0", ["pose0-1", "pose0-2"], 1, !0, !1), this.sprite.animations.add("1", ["pose1-1", "pose1-2"], 1, !0, !1), this.sprite.animations.add("2", ["pose2-1", "pose2-2"], 1, !0, !1), this.sprite.animations.add("3", ["pose3-1", "pose3-2"], 1, !0, !1), this.sprite.animations.add("4", ["pose4-1", "pose4-2"], 1, !0, !1), this.sprite.animations.add("5", ["pose5-1", "pose5-2"], 1, !0, !1), this.sprite.animations.add("6", ["pose6-1", "pose6-2"], 1, !0, !1), this.sprite.animations.add("7", ["pose7-1", "pose7-2"], 1, !0, !1), this.sprite.animations.add("8", ["pose8-1", "pose8-2"], 1, !0, !1), this.sprite.animations.add("9", ["pose9-1", "pose9-2"], 1, !0, !1), this.setPose(-3)
		}
		return e.prototype = Object.create(Prodigy.Control.Element.prototype), e.prototype.setPose = function (e) {
			this.sprite.animations.play(e + "", 2.15, !0), -1 === e && this.game.add.tween(this.sprite).to({
				x: -105
			}, 100, Phaser.Easing.Linear.None).to({
				x: -95
			}, 100, Phaser.Easing.Linear.None).to({
				x: -105
			}, 100, Phaser.Easing.Linear.None).to({
				x: -95
			}, 100, Phaser.Easing.Linear.None).to({
				x: -105
			}, 100, Phaser.Easing.Linear.None).to({
				x: -95
			}, 100, Phaser.Easing.Linear.None).to({
				x: -100
			}, 100, Phaser.Easing.Linear.None).start(), -2 === e && this.game.add.tween(this.sprite).to({
				y: -230
			}, 250, Phaser.Easing.Linear.None, !0, 0, 1, !0)
		}, e
	}(),
	DancePose = function () {
		function e(e, t, i, a, s) {
			Prodigy.Control.Element.call(this, e, t, i, a), this.onSelect = s, this.flipped = !1, this.frame = this.add(this.game.prodigy.create.sprite(0, 0, "game-dancedance", "pose-card")), this.frame.events.onInputDown.add(this.select.bind(this)), this.sprite = this.add(this.game.prodigy.create.sprite(10, 10, "game-dancedance", "card0")), this.sprite.width = 0, this.sprite.x = 50, this.sprite.alpha = .9, this.currentPose = 1, this.currentTint = 14080234
		}
		return e.prototype = Object.create(Prodigy.Control.Element.prototype), e.TINTS = [14254209, 9946096, 8444311, 16755318, 15788439, 13080560], e.prototype.randomPose = function (t, i) {
			var a = 3 > t ? 4 : 3 === t ? 6 : 4 === t ? 8 : 10;
			this.currentTint = 14080234;
			for (var s = 0; 100 > s; s++) {
				this.currentPose = Math.floor(Math.random() * a), this.currentTint = e.TINTS[Math.floor(Math.random() * e.TINTS.length)];
				for (var r = !1, o = 0; o < i.length; o++)
					if (this.equals(i[o], t)) {
						r = !0;
						break
					} if (!r) break
			}
			this.sprite.frameName = "card" + this.currentPose, this.frame.tint = this.currentTint
		}, e.prototype.setPose = function (e) {
			this.currentPose = e.currentPose, this.currentTint = e.currentTint
		}, e.prototype.flip = function () {
			this.sprite.frameName = "card" + this.currentPose, this.frame.inputEnabled = !1, "pose-frame" === this.frame.frameName ? this.game.add.tween(this.sprite).to({
				width: 0,
				x: 50
			}, 250, Phaser.Easing.Linear.None).start() : this.frame.tint = 16777215;
			var e = this.game.add.tween(this.frame).to({
				width: 0,
				x: 50
			}, 250, Phaser.Easing.Linear.None);
			e.onComplete.addOnce(this.flipStep.bind(this), this), e.start()
		}, e.prototype.flipStep = function () {
			"pose-card" === this.frame.frameName ? (this.frame.frameName = "pose-frame", this.frame.tint = this.currentTint, this.game.add.tween(this.sprite).to({
				width: 80,
				x: 10
			}, 250, Phaser.Easing.Linear.None).start()) : (this.frame.frameName = "pose-card", this.frame.tint = 16777215);
			var e = this.game.add.tween(this.frame).to({
				width: 100,
				x: 0
			}, 250, Phaser.Easing.Linear.None);
			e.onComplete.addOnce(this.flipComplete.bind(this), this), e.start()
		}, e.prototype.flipComplete = function () {
			this.frame.inputEnabled = "pose-frame" === this.frame.frameName
		}, e.prototype.equals = function (e) {
			return Util.isDefined(e) && (e.currentPose == this.currentPose || e.currentTint == this.currentTint && 14080234 !== e.currentTint)
		}, e.prototype.select = function () {
			Util.isDefined(this.onSelect) && (this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "pop"), this.onSelect(), this.frame.y = -15, this.sprite.y = -5)
		}, e.prototype.deselect = function () {
			this.frame.y = 0, this.sprite.y = 10
		}, e
	}();
Prodigy.Controller.BattleController = function (e) {
	this.game = e, this.MOD_DEFAULTS = {
		invincible: !1,
		scale: !1,
		run: !0,
		difficulty: 3,
		dropsDisabled: !1,
		starMod: 1,
		"catch": !0,
		switchDisabled: !1,
		drops: [],
		encounter: null,
		opponent: null,
		boss: null,
		pets: null,
		dmgMod: 0,
		events: [],
		intro: null,
		allowMember: !0,
		level: null,
		unique: !1,
		potionMode: !0
	}
}, Prodigy.Controller.BattleController.prototype = {
	constructor: Prodigy.Controller.BattleController,
	start: function (e, t, i, a, s, r) {
		var o = this.game.state.states.Battle;
		Util.isDefined(e) || (e = {});
		for (var n in this.MOD_DEFAULTS) {
			var h = this.MOD_DEFAULTS[n];
			Util.isDefined(e[n]) || (e[n] = h)
		}
		var l = Util.isDefined(r) ? r : this.getTeam(this.game.prodigy.player),
			d = this.getBattleLevel(l);
		o.teamB = this.initBattle(e, d, l), o.teamA = l, o.drops = e.drops, o.mods = e, o.runAwayCallback = t, o.victoryCallback = i, o.defeatCallback = a, o.defeatZone = s || "house", o.screenName = e.screen;
		var p = {
			assets: this.getAssets(o.screenName, o.teamA, o.teamB)
		};
		this.game.prodigy.start("Battle", p)
	},
	endEpicArena: function (e, t) {
		var i = "toyzone-B1";
		switch (e) {
		case 126:
			i = "toyzone-A2";
			break;
		case 127:
			i = "toyzone-A1";
			break;
		case 128:
			i = "toyzone-C2";
			break;
		case 129:
			i = "toyzone-C1"
		}
		Util.isDefined(t) && t !== !1 ? this.game.prodigy.world.teleport(i) : this.game.prodigy.player.healTeamMember(Number.MAX_VALUE, e, this.game.prodigy.world.teleport.bind(this.game.prodigy.world, i))
	},
	startEpicArena: function (e, t, i) {
		this.game.prodigy.player.healTeamMember(Number.MAX_VALUE, e, null);
		var a = "";
		switch (e) {
		case 125:
			a = "bg-battle-cloud";
			break;
		case 126:
			a = "bg-battle-forest";
			break;
		case 127:
			a = "bg-battle-mountain";
			break;
		case 128:
			a = "bg-battle-pirate";
			break;
		default:
			a = "bg-battle-volcano"
		}
		var s = {
			"catch": !1,
			run: !1,
			screen: a,
			epicArena: 1,
			switchDisabled: !0,
			invincible: !1,
			starMod: 1,
			challengeLevel: t,
			getAllRewards: i
		};
		s.difficulty = 1;
		for (var r = [], o = this.game.prodigy.player.kennel.getPets(), n = 0; n < o.length; n++)
			if (o[n].ID === e) {
				r.push(new Monster(o[n], this.game));
				break
			} return 0 === r.length || r[0].getCurrentHearts() <= 0 ? (Util.log("The player do not have an valid EPIC to start this battle!", Util.ERROR), !1) : (this.start(s, this.endEpicArena.bind(this, e, !0), this.endEpicArena.bind(this, e), this.endEpicArena.bind(this, e, !1, !0), "epicId", r), !0)
	},
	end: function () {},
	getBattleLevel: function (e) {
		var t = 0;
		if (Util.isDefined(e))
			for (var i = 0; i < e.length; i++) t += e[i].getLevel();
		return Math.floor(t / e.length)
	},
	getTeam: function (e) {
		return e.kennel.getTeam().filter(function (e) {
			return Util.isDefined(e)
		})
	},
	getPVPTeam: function (e) {
		return e.kennel.getTeam().filter(function (t) {
			return Util.isDefined(t) && e.kennel.isPVPTeam(t.data) || t instanceof Player
		})
	},
	getEventsOfType: function (e, t) {
		var i = [];
		if (Util.isDefined(e) && Util.isDefined(e.events))
			for (var a = 0; a < e.events.length; a++) Util.inArray(t, e.events[a].action) && i.push(e.events[a]);
		return i
	},
	initBattle: function (e, t) {
		var i = [];
		if (Util.isDefined(e.boss)) {
			Util.isDefined(e.boss.maxHP) || (e.boss.maxHP = 4 * (12 + Prodigy.Creature.getHeartsFromCurve("A", 1, Math.min(100, t + 1))));
			var a = {
				forest: Prodigy.ForestBoss,
				shiverchill: Prodigy.Boss,
				skywatch: Prodigy.CloudBoss,
				bonfire: Prodigy.BonfireBoss
			};
			Util.isDefined(e.boss.tag) ? i.push(new a[e.boss.tag](e.boss, this.game)) : i.push(new Prodigy.Boss(e.boss, this.game))
		}
		if (Util.isDefined(e.encounter)) {
			var s = new Monster(this.chooseOpponent(e.encounter), this.game),
				r = Math.max(1, t - Math.floor(6 * Math.random()));
			Util.isDefined(e.level) && (r = e.level), Util.isDefined(e.maxLevel) && (r < e.minLevel && (r = e.minLevel), r > e.maxLevel && (r = e.maxLevel)), s.generate(e.level || r, 0), i.push(s)
		}
		if (Util.isDefined(e.pets))
			for (var o = 0; o < e.pets.length; o++) {
				var n = e.pets[o];
				(!Util.isDefined(n.level) || e.scale) && (n.level = t), i.push(new Monster(n, this.game))
			}
		if (Util.isDefined(e.opponent))
			for (var o = 0; o < e.opponent.length; o++) e.scale && (Util.isDefined(e.opponent[o].data) || (e.opponent[o].data = {}), e.opponent[o].data.level = this.game.prodigy.player.getLevel()), i.push(this.initPlayerOpponent(e.opponent[o]));
		return i
	},
	initPlayerOpponent: function (e) {
		var t = new Player(this.game);
		return t.init(e), t
	},
	chooseOpponent: function (e) {
		for (var t = 0, i = 0; i < e.length; i++) t += Util.isDefined(e[i].R) ? e[i].R : Monsters.getEncounterRate(e[i].ID);
		var a = Math.random() * t;
		t = 0;
		for (var i = 0; i < e.length; i++)
			if (t += Util.isDefined(e[i].R) ? e[i].R : Monsters.getEncounterRate(e[i].ID), t > a) return Util.copyObject(e[i]);
		return {
			ID: 1
		}
	},
	chooseRandomMonster: function (e) {
		for (var t = 0, i = 0; i < e.length; i++) t += 1 / Math.max(1, Util.isDefined(e[i].R) ? e[i].R : Monsters.getEncounterRate(e[i].ID));
		var a = Math.random() * t;
		t = 0;
		for (var i = 0; i < e.length; i++)
			if (t += 1 / Math.max(1, Util.isDefined(e[i].R) ? e[i].R : Monsters.getEncounterRate(e[i].ID)), t > a) return Util.copyObject(e[i]);
		return {
			ID: 1
		}
	},
	chooseAction: function (e, t, i, a, s, r, o, n) {
		e /= 10;
		var h = t.source.getAttacks();
		if (h.length <= 0) return n(), void 0;
		if (Math.random() < .8 * e) {
			for (var l = null, d = this.battleScore(t, i, !0, e), p = 0; p < a.length; p++)
				if (a[p] !== t && a[p].source.getCurrentHearts() > 0) {
					var c = this.battleScore(a[p], i, !1);
					c > d && (l = p, d = c)
				} if (Util.isDefined(l)) return o(n, l), void 0
		}
		var g = this.game.prodigy.attacks.getBestAttack(h, i.source, 1 - e);
		if (!Util.isDefined(g)) return n(), void 0;
		if (t.source.getCurrentHearts() / t.source.getMaxHearts() < .25 && Math.random() < e) {
			var u = this.game.prodigy.attacks.getHealingAttack(h);
			Util.isDefined(u) && (g = u)
		}
		var y = (.25 - .25 * e) * this.game.prodigy.affixes.getDodge() + t.source.modifiers.miss;
		r(t, i, n, g, Math.random() < y)
	},
	battleScore: function (e, t, i, a) {
		var s = this.game.prodigy.attacks.getBestAttack(e.source.getAttacks(), t.source, 1 - a),
			r = this.game.prodigy.attacks.getBestAttack(t.source.getAttacks(), e.source, 1 - a),
			o = this.game.prodigy.attacks.calculateDamage(s, null, t.source, 0);
		if (0 === o) return Number.NEGATIVE_INFINITY;
		var n = this.game.prodigy.attacks.calculateDamage(r, null, e.source, 0);
		if (0 === n) return Number.POSITIVE_INFINITY;
		var h = e.source.getMaxHearts();
		i || (h = Math.max(h - n, 0));
		var l = h / n,
			d = t.source.getMaxHearts() / o;
		return l - d
	},
	getAssets: function (e, t, i) {
		for (var a = [e, "battle", "attacks", "bgm-battle", "bgm-victory"], s = 0; s < t.length; s++) t[s] instanceof Player ? a = a.concat(Prodigy.Container.PlayerContainer.getAssets(t[s], 2)) : t[s] instanceof Monster ? a = a.concat(Prodigy.Container.MonsterContainer.getAssets(t[s])) : t[s] instanceof Prodigy.Boss && (a = a.concat(Prodigy.Container.BossContainer.getAssets(t[s])));
		for (var s = 0; s < i.length; s++) i[s] instanceof Player ? a = a.concat(Prodigy.Container.PlayerContainer.getAssets(i[s], 2)) : i[s] instanceof Monster ? a = a.concat(Prodigy.Container.MonsterContainer.getAssets(i[s])) : i[s] instanceof Prodigy.Boss && (a = a.concat(Prodigy.Container.BossContainer.getAssets(i[s])));
		return a
	}
}, Prodigy.Controller.PVPController = function (e) {
	Prodigy.Controller.BattleController.call(this, e)
}, Prodigy.extends(Prodigy.Controller.PVPController, Prodigy.Controller.BattleController, {
	constructor: Prodigy.Controller.PVPController,
	start: function (e, t, i, a, s) {
		var r = {
			screen: "bg-battle-arena"
		};
		for (var o in this.MOD_DEFAULTS) {
			var n = this.MOD_DEFAULTS[o];
			Util.isDefined(r[o]) || (r[o] = n)
		}
		r.arena = s, r.catch = !1, r.run = !1;
		var h = "zone-battle-" + e + "-";
		h += t.userID == e ? i.userID : t.userID;
		var l = {
			mods: r,
			zoneName: h,
			callback: a,
			challengerID: e,
			playerA: t,
			playerB: i
		};
		this.game.prodigy.start("PVP", l, l)
	},
	end: function () {}
}), Prodigy.EventController = function (e, t) {
	this.game = e, this.ID = t, this.end()
}, Prodigy.EventController.prototype = {
	start: function () {
		this.text(), this.next()
	},
	end: function (e) {
		Util.isDefined(e) && e(), this._npc = null, this._dialogue = [], this._events = []
	},
	next: function () {
		if (this._events.length > 0) {
			var e = this._events[0];
			this._events.splice(0, 1), e()
		} else this.end()
	},
	add: function (e) {
		this.text(), this._events.push(e)
	},
	text: function (e, t, i) {
		var a = this.game.prodigy.dialogue.create();
		if (this._dialogue.length > 0 && (t !== this._npc || !Util.isDefined(e))) {
			var s = function (e, t) {
				for (var s = 0; s < t.length; s++) a.setText(t[s]);
				a.setText({
					callback: this.next.bind(this)
				}), a.start(e, i)
			};
			this._events.push(s.bind(this, this._npc, this._dialogue)), this._dialogue = []
		} else Util.isDefined(e) && this._dialogue.push(e);
		this._npc = t
	},
	yesNoText: function (e, t, i) {
		var a = {};
		isNaN(e) || (a.index = e), a.yes = this.next.bind(this), a.no = this.end.bind(this, i), this.text(a, t)
	},
	overlayText: function (e, t) {
		this.text(), this.text(e, t, !0), this.text(null, null, !0)
	},
	"function": function (e) {
		var t = function (t) {
			e(), t()
		};
		this.add(t.bind(this, this.next.bind(this)))
	},
	animation: function (e, t) {
		t = t || !1;
		var i = function () {
			t ? e().onComplete.add(this.next.bind(this)) : (e(), this.next())
		};
		this.add(i.bind(this))
	},
	enableInput: function (e) {
		var t = function () {
			this.game.input.enabled = e, this.next()
		};
		this.add(t.bind(this))
	},
	enableSave: function (e) {
		var t = function () {
			this.game.prodigy.player.saveEnabled = e, this.next()
		};
		this.add(t.bind(this))
	},
	set: function (e, t, i) {
		var a = function () {
			e[t] = i, this.next()
		};
		this.add(a.bind(this))
	},
	delayUntil: function (e, t, i) {
		this.add(this._testDelay.bind(this, e, t, i))
	},
	_testDelay: function (e, t, i) {
		e[t] == i ? this.next() : window.setTimeout(this._testDelay.bind(this, e, t, i), 250)
	},
	path: function (e, t, i, a) {
		var s = function () {
			a ? (e.setPath(t, null, i), this.next()) : e.setPath(t, this.next.bind(this), i)
		};
		this.add(s.bind(this))
	},
	validPath: function (e, t, i, a, s) {
		var r = function (s) {
			s ? (e.setValidPath(t, i, a, null), this.next()) : e.setValidPath(t, i, a, this.next.bind(this))
		};
		this.add(r.bind(this, s))
	},
	hop: function (e, t, i, a, s) {
		var r = function () {
			s ? (e.hop(t, null, i, a), this.next()) : e.hop(t, this.next.bind(this), i, a)
		};
		this.add(r.bind(this))
	},
	delay: function (e) {
		this.add(this.game.time.events.add.bind(this.game.time.events, e, this.next, this))
	},
	explode: function (e, t, i, a, s, r, o) {
		var n = function () {
			r ? (this.game.prodigy.effects.explode(e, t, i, a, s, null, o), this.next()) : this.game.prodigy.effects.explode(e, t, i, a, s, this.next.bind(this), o)
		};
		this.add(n.bind(this))
	},
	fire: function (e, t, i, a, s, r, o) {
		var n = function () {
			o ? (this.game.prodigy.effects.fire(e, t, i, a, s, r), this.next()) : this.game.prodigy.effects.fire(e, t, i, a, s, r, this.next.bind(this))
		};
		this.add(n.bind(this))
	},
	portalEffect: function (e, t, i) {
		var a = function () {
			i ? (this.game.prodigy.effects.portalEffect(e, t), this.next()) : this.game.prodigy.effects.portalEffect(e, t, this.next.bind(this))
		};
		this.add(a.bind(this))
	},
	shake: function (e, t, i, a, s) {
		var r = function () {
			s ? (this.game.prodigy.effects.shake(e, t, i, a), this.next()) : this.game.prodigy.effects.shake(e, t, i, a, this.next.bind(this))
		};
		this.add(r.bind(this))
	},
	firework: function (e, t) {
		var i = function () {
			this.game.prodigy.effects.firework(e, t, this.next.bind(this))
		};
		this.add(i.bind(this))
	},
	confetti: function (e, t) {
		var i = function () {
			this.game.prodigy.effects.confetti(e, t, this.next.bind(this))
		};
		this.add(i.bind(this))
	},
	goldwork: function (e, t) {
		var i = function () {
			this.game.prodigy.effects.goldwork(e, t, this.next.bind(this))
		};
		this.add(i.bind(this))
	},
	sound: function (e, t, i) {
		if (i) this.add(this.game.prodigy.audio.playSFX.bind(this.game.prodigy.audio, e, t, this.next.bind(this)));
		else {
			var a = function () {
				this.game.prodigy.audio.playSFX(e, t), this.next()
			}.bind(this);
			this.add(a)
		}
	},
	bgm: function (e) {
		var t = function () {
			Util.isDefined(e) ? (this.game.prodigy.audio.playBGM(e, !0, !0), this.game.prodigy.audio.resumeBGM()) : this.game.prodigy.audio.pauseBGM(), this.next()
		};
		this.add(t.bind(this))
	},
	tween: function (e, t, i, a, s) {
		var r = function () {
			var r = this.game.add.tween(e).to(t, i, a);
			s ? this.next() : r.onComplete.add(this.next.bind(this)), r.start()
		};
		this.add(r.bind(this))
	},
	cutsceneFade: function (e) {
		var t = function () {
			var t;
			e ? (this.game.world.alpha = 0, t = 1) : (this.game.world.alpha = 1, t = 0), this.game.add.tween(this.game.world).to({
				alpha: t
			}, 1e3, Phaser.Easing.Linear.None, !0, 0, 0, !1).onComplete.add(this.next.bind(this))
		};
		this.add(t.bind(this))
	},
	cutsceneFadeInOut: function () {
		var e = function () {
			this.game.add.tween(this.game.world).to({
				alpha: 0
			}, 500, Phaser.Easing.Linear.None, !0, 0, 0, !0).onComplete.add(this.next.bind(this))
		};
		this.add(e.bind(this))
	},
	reward: function (e) {
		this.add(this.game.prodigy.open.gotItem.bind(this.game.prodigy.open, e, this.next.bind(this)))
	},
	popup: function (e) {
		this.add(this.game.prodigy.open.message.bind(this.game.prodigy.open, e, this.next.bind(this)))
	},
	functionCallback: function (e) {
		var t = function () {
			e(this.next.bind(this))
		};
		this.add(t.bind(this))
	}
}, Prodigy.EventController.prototype.constructor = Prodigy.EventController, Prodigy.TweenController = function (e, t) {
	this.game = e, this.src = t, this.started = !1, this.current = null, this.tweens = [], this.tweenVars = {}, this.onEndCallbacks = []
}, Prodigy.TweenController.prototype = {
	constructor: Prodigy.TweenController,
	start: function () {
		this.current = null, this.index = 0, this.startTime = (new Date).getTime();
		for (var e = 0; e < this.tweens.length; e++) {
			var t = this.tweens[e];
			t.start = 0 === e ? this.startTime : this.tweens[e - 1].end, t.end = t.start + t.duration
		}
	},
	end: function (e) {
		Util.isDefined(e) && this.onEndCallbacks.push(e)
	},
	set: function (e, t, i, a) {
		a = a || 1, this.tweens.push({
			type: "set",
			tag: e,
			duration: t.length * i * a,
			delay: i,
			frames: t,
			lastUpdate: 0
		})
	},
	delay: function (e) {
		this.tweens.push({
			type: "delay",
			duration: e
		})
	},
	update: function () {
		if (Util.isDefined(this.startTime)) {
			var e = (new Date).getTime();
			if (Util.isDefined(this.current)) {
				var t = Math.floor((e - this.current.start) / this.current.delay),
					i = t * this.current.delay + this.current.start,
					a = e - this.current.delay,
					s = a - this.current.lastUpdate > this.current.delay;
				if (a <= this.current.lastUpdate || s) return "set" !== this.current.type || Util.isDefined(this.tweenVars.next) || (this.tweenVars.next = this.current.start + this.current.delay, this.tweenVars.frame = 0, this.src[this.current.tag] = this.current.frames[0]), s && (this.current.lastUpdate = i), void 0;
				if (this.current.lastUpdate = i, "set" === this.current.type)
					if (Util.isDefined(this.tweenVars.next) || (this.tweenVars.next = this.current.start + this.current.delay, this.tweenVars.frame = 0, this.src[this.current.tag] = this.current.frames[0]), e >= this.current.end) this.src[this.current.tag] = this.current.frames[this.current.frames.length - 1];
					else if (e >= this.tweenVars.next) {
					if (this.tweenVars.next += this.current.delay, this.tweenVars.frame++, this.tweenVars.frame >= this.current.frames.length) {
						this.tweenVars.frame = 0;
						for (var r = 0; r < this.onEndCallbacks.length; r++) this.onEndCallbacks[r]()
					}
					this.src[this.current.tag] = this.current.frames[this.tweenVars.frame]
				}
				e >= this.current.end && (this.current = null)
			}
			Util.isDefined(this.current) || (this.tweenVars = {}, this.index >= this.tweens.length ? this.startTime = null : (this.current = this.tweens[this.index], this.index++))
		}
	}
}, Prodigy.TweenController.prototype.constructor = Prodigy.TweenController, Prodigy.Controller.AudioController = function (e) {
	this.game = e
}, Prodigy.Controller.AudioController.SFX_PACKS = {
	UI: "ui",
	WORLD: "world",
	DANCE_DANCE: "dance-dance",
	DINO_DIG: "dino-dig",
	SKYWATCH: "skywatch",
	BONFIRE_SPIRE_Q5: "bonfire-spire-q5",
	BONFIRE_SPIRE_Q6_AND_Q14: "bonfire-spire-q6-and-q14",
	BATTLE: "battle",
	PVP: "pvp",
	HOUSE_INTRO: "house-intro",
	LAMPLIGHT: "lamplight",
	LAMPLIGHT_PETS: "lamplight-pets"
}, Prodigy.Controller.AudioController.SOUND_EFFECTS = {
	ui: {
		whoosh: {
			s: 0,
			d: 1
		},
		blop: {
			s: 1,
			d: 1
		},
		heart: {
			s: 2,
			d: 1
		},
		pop: {
			s: 3,
			d: 1
		},
		dig: {
			s: 4,
			d: 1
		}
	},
	world: {
		item: {
			s: 0,
			d: 3
		},
		monster: {
			s: 3,
			d: 3
		},
		tick: {
			s: 6,
			d: 1
		}
	},
	"dance-dance": {
		bell: {
			s: 0,
			d: 1
		},
		ready: {
			s: 1,
			d: 1
		},
		go: {
			s: 2,
			d: 1.2
		},
		victory: {
			s: 3.2,
			d: 1.8
		},
		aw: {
			s: 5,
			d: 1
		},
		yay: {
			s: 6,
			d: 1
		},
		damage: {
			s: 7,
			d: 1
		}
	},
	"dino-dig": {
		bell: {
			s: 0,
			d: 1
		}
	},
	skywatch: {
		machines: {
			s: 0,
			d: 4
		},
		elevator: {
			s: 4,
			d: 3.5
		},
		wind: {
			s: 8,
			d: 3
		},
		window: {
			s: 11,
			d: 2
		}
	},
	"bonfire-spire-q5": {
		plop: {
			s: 0,
			d: .5
		},
		cooking: {
			s: 1,
			d: 3
		}
	},
	"bonfire-spire-q6-and-q14": {
		eating: {
			s: 0,
			d: 3
		}
	},
	battle: {
		run: {
			s: 0,
			d: 1
		},
		"normal-hit": {
			s: 1,
			d: .9
		},
		"critical-hit": {
			s: 2,
			d: 1.9
		},
		cast: {
			s: 4,
			d: 1
		},
		miss: {
			s: 6,
			d: 1.5
		},
		"level-up": {
			s: 8,
			d: 1
		}
	},
	pvp: {
		victory: {
			s: 0,
			d: 2
		}
	},
	"house-intro": {
		door: {
			s: 0,
			d: 1
		},
		knock: {
			s: 1,
			d: 1
		}
	},
	lamplight: {
		door: {
			s: 0,
			d: 1
		}
	},
	"lamplight-pets": {
		window: {
			s: 0,
			d: 2
		}
	}
}, Prodigy.Controller.AudioController.prototype = {
	clearOldSounds: function () {
		for (var e = this.game.sound._sounds.length; e--;) this.game.sound._sounds[e].isPlaying || this.game.sound._sounds.splice(e, 1)
	},
	setMute: function (e) {
		e ? (this.setSFXVolume(0), this.setBGMVolume(0)) : (this.setSFXVolume(.6), this.setBGMVolume(.2))
	},
	playSound: function (e) {
		this.clearOldSounds();
		var t = this.getSFXVolume(),
			i = this.game.add.sound(e, t);
		return i.play("", 0, t), i
	},
	playSFX: function (e, t, i) {
		this.clearOldSounds();
		var a = this.getSFXVolume(),
			s = Prodigy.Controller.AudioController.SOUND_EFFECTS[e][t],
			r = this.game.sound.add("sfx-" + e, a);
		return Util.isDefined(i) && r.onMarkerComplete.add(i), r.addMarker("play", s.s, s.d), r.play("play", 0, a), r
	},
	setSFXVolume: function (e) {
		this.game.prodigy.player.setSFXVolume(e)
	},
	getSFXVolume: function () {
		return this.game.prodigy.player.getSettings().sfxVolume
	},
	playBGM: function (e, t) {
		if (!Util.isDefined(this.currentBgm) || this.currentBgm.key !== e) {
			var i = this.getBGMVolume();
			Util.isDefined(this.currentBgm) && this.currentBgm.stop(), this.clearOldSounds(), this.currentBgm = this.game.add.audio(e, i, t), this.currentBgm.play("", 0, i, t)
		}
	},
	pauseBGM: function () {
		Util.isDefined(this.currentBgm) && this.currentBgm.pause()
	},
	resumeBGM: function () {
		Util.isDefined(this.currentBgm) && this.currentBgm.resume()
	},
	setBGMVolume: function (e, t) {
		Util.isDefined(this.currentBgm) && (Util.isDefined(t) ? this.game.add.tween(this.currentBgm).to({
			volume: e
		}, 500, Phaser.Easing.Linear.None).start() : this.currentBgm.volume = e), this.game.prodigy.player.setBGMVolume(e)
	},
	getBGMVolume: function () {
		return this.game.prodigy.player.getSettings().bgmVolume
	},
	playVoice: function (e, t, i, a) {
		this.clearOldSounds(), Util.isDefined(this.currentVoice) && this.currentVoice.stop();
		var s = this.getVoiceVolume(),
			r = this.game.add.sound(e, s);
		return Util.isDefined(t) && r.onMarkerComplete.add(t), a = a || r.duration, i = i || 0, r.addMarker("play", i, a), r.play("play", 0, s), this.currentVoice = r, r
	},
	setVoiceVolume: function (e) {
		this.game.prodigy.player.setVoiceVolume(e)
	},
	getVoiceVolume: function () {
		return this.game.prodigy.player.getSettings().voiceVolume
	}
}, Prodigy.Controller.AchievementController = function (e) {
	this.game = e
}, Prodigy.Controller.AchievementController.prototype = {
	constructor: Prodigy.Controller.AchievementController,
	getData: function (e) {
		var t = this.game.prodigy.player,
			i = t.backpack,
			a = t.kennel,
			s = t.house,
			r = t.state,
			o = this.game.prodigy.education,
			n = [{
				tag: "General",
				data: [{
					ID: 1,
					name: "Newbie",
					desc: "Complete the tutorial",
					icon: "weapon/1",
					fct: r.getCompletedQuests.bind(r, "lamplight"),
					ranks: [1]
				}, {
					ID: 2,
					name: "Coin Collector",
					desc: "Earn [X] gold",
					icon: "item/26",
					fct: this.processValue.bind(this, "gE"),
					ranks: [1e3, 1e5, 1e6]
				}, {
					ID: 3,
					name: "Shopaholic",
					desc: "Spend [X] gold",
					icon: "catalogue",
					fct: this.processValue.bind(this, "gS"),
					ranks: [1e3, 1e5, 1e6]
				}, {
					ID: 4,
					name: "Runway Model",
					desc: "Collect [X] different equipment items",
					icon: "outfit/1",
					fct: i.getItemCount.bind(i, ["outfit", "boots", "hat", "weapon", "relic"]),
					ranks: [10, 50, 100]
				}, {
					ID: 5,
					name: "Packrat",
					desc: "Collect [X] different collectable items",
					icon: "item/2",
					fct: i.getItemCount.bind(i, ["item"]),
					ranks: [10, 25, 50]
				}, {
					ID: 6,
					name: "Antiquarian",
					desc: "Collect [X] different house items",
					icon: {
						ID: 1,
						type: "dorm"
					},
					fct: s.getItemCount.bind(s),
					ranks: [10, 25, 50]
				}, {
					ID: 7,
					name: "Interior Decorator",
					desc: "Place [X] items in your house",
					icon: {
						ID: 5,
						type: "dorm"
					},
					fct: s.getActiveCount.bind(s),
					ranks: [10, 25, 50]
				}, {
					ID: 8,
					name: "Catch'm",
					desc: "Collect [X] pets",
					icon: "pet",
					fct: a.getNumPets.bind(a),
					ranks: [5, 20, 50, 100]
				}]
			}, {
				tag: "Battle",
				data: [{
					ID: 9,
					name: "Prodigy",
					desc: "Reach level [X]",
					icon: "star2",
					fct: t.getLevel.bind(t),
					ranks: [5, 20, 50, 75, 100]
				}, {
					ID: 10,
					name: "Spellmaster",
					desc: "Learn [X] spells",
					icon: "book",
					fct: t.getNumAttacks.bind(t),
					ranks: [3, 6, 10, 15]
				}, {
					ID: 11,
					name: "Monster Hunter",
					desc: "Defeat [X] monsters",
					icon: "boss",
					fct: this.processValue.bind(this, "kills"),
					ranks: [10, 50, 250, 500, 1e3]
				}]
			}, {
				tag: "PvP",
				data: [{
					ID: 12,
					name: "Supreme Challenger",
					desc: "Win [X] Arena matches",
					icon: "weapon/4",
					fct: t.getWins.bind(t),
					ranks: [5, 25, 50, 100, 250]
				}, {
					ID: 13,
					name: "The Champ",
					desc: "Reach rank [X] in the Arena",
					icon: "weapon/6",
					fct: t.getArenaRank.bind(t),
					ranks: [1, 2, 3, 4]
				}]
			}, {
				tag: "Lamplight Town",
				data: [{
					ID: 14,
					name: "Tourist",
					desc: "Complete the tour of Lamplight Town",
					icon: "boots/7",
					fct: this.getZero.bind(this),
					ranks: [5]
				}]
			}, {
				tag: "Firefly Forest",
				data: [{
					ID: 15,
					name: "Forestwalker",
					desc: "Complete all quests in Firefly Forest",
					icon: "key/3",
					fct: r.getCompletedQuests.bind(r, "forest"),
					ranks: [12]
				}, {
					ID: 16,
					name: "Forest Model",
					desc: "Purchase the full Firefly Outfit set",
					icon: "outfit/29",
					fct: i.hasItems.bind(i, [{
						ID: 33,
						type: "hat"
					}, {
						ID: 24,
						type: "weapon"
					}, {
						ID: 29,
						type: "outfit"
					}]),
					ranks: [3]
				}, {
					ID: 17,
					name: "Forest Explorer",
					desc: "Open all chests in Firefly Forest",
					icon: {
						ID: 21,
						type: "dorm"
					},
					fct: r.getZoneVars.bind(r, this.game, "forest", "chest"),
					ranks: [4]
				}, {
					ID: 18,
					name: "Forest Champion",
					desc: "Defeat all wizards in Firefly Forest",
					icon: "weapon/22",
					fct: r.getZoneVars.bind(r, this.game, "forest", "wizard"),
					ranks: [4]
				}]
			}, {
				tag: "Shiverchill Mountains",
				data: [{
					ID: 19,
					name: "Iceclimber",
					desc: "Complete all quests in Shiverchill Mountains",
					icon: "key/4",
					fct: r.getCompletedQuests.bind(r, "shiverchill"),
					ranks: [15]
				}, {
					ID: 20,
					name: "Mountaineer",
					desc: "Purchase the full Shiverchill Outfit set",
					icon: "outfit/33",
					fct: i.hasItems.bind(i, [{
						ID: 37,
						type: "hat"
					}, {
						ID: 63,
						type: "weapon"
					}, {
						ID: 33,
						type: "outfit"
					}]),
					ranks: [3]
				}, {
					ID: 21,
					name: "Mountain Explorer",
					desc: "Open all chests in Shiverchill Mountains",
					icon: {
						ID: 21,
						type: "dorm"
					},
					fct: r.getZoneVars.bind(r, this.game, "shiverchill", "chest"),
					ranks: [6]
				}, {
					ID: 22,
					name: "Mountain Champion",
					desc: "Defeat all wizards in Shiverchill Mountains",
					icon: "weapon/22",
					fct: r.getZoneVars.bind(r, this.game, "shiverchill", "wizard"),
					ranks: [4]
				}, {
					ID: 23,
					name: "Turn Up the Heat",
					desc: "Light all of Bok's furnaces",
					icon: "item/71",
					fct: r.get.bind(r, "zone-shiverchill-9"),
					ranks: [4]
				}]
			}, {
				tag: "Skywatch",
				data: [{
					ID: 24,
					name: "Cloud Catcher",
					desc: "Complete all quests in Skywatch",
					icon: "key/10",
					fct: r.getCompletedQuests.bind(r, "skywatch"),
					ranks: [13]
				}, {
					ID: 25,
					name: "Air Ace",
					desc: "Purchase the full Skywatch Outfit set",
					icon: "outfit/37",
					fct: i.hasItems.bind(i, [{
						ID: 41,
						type: "hat"
					}, {
						ID: 67,
						type: "weapon"
					}, {
						ID: 37,
						type: "outfit"
					}]),
					ranks: [3]
				}, {
					ID: 26,
					name: "Skylarking",
					desc: "Open all chests in Skywatch",
					icon: {
						ID: 21,
						type: "dorm"
					},
					fct: r.getZoneVars.bind(r, this.game, "skywatch", "chest"),
					ranks: [5]
				}, {
					ID: 27,
					name: "Champion of the Clouds",
					desc: "Defeat all wizards in Skywatch",
					icon: "weapon/22",
					fct: r.getZoneVars.bind(r, this.game, "skywatch", "wizard"),
					ranks: [2]
				}]
			}, {
				tag: "Bonfire Spire",
				data: [{
					ID: 33,
					name: "Master Chef",
					desc: "Complete all quests in Bonfire Spire",
					icon: "key/11",
					fct: r.getCompletedQuests.bind(r, "bonfire_spire"),
					ranks: [14]
				}, {
					ID: 34,
					name: "Fire Fashion",
					desc: "Purchase the full Bonfire Spire Outfit set",
					icon: "outfit/34",
					fct: i.hasItems.bind(i, [{
						ID: 38,
						type: "hat"
					}, {
						ID: 64,
						type: "weapon"
					}, {
						ID: 34,
						type: "outfit"
					}]),
					ranks: [3]
				}, {
					ID: 35,
					name: "Volcanic Spelunker",
					desc: "Open all chests in Bonfire Spire",
					icon: {
						ID: 21,
						type: "dorm"
					},
					fct: r.getZoneVars.bind(r, this.game, "bonfire_spire", "chest"),
					ranks: [7]
				}, {
					ID: 36,
					name: "Magma Master",
					desc: "Defeat all wizards in Bonfire Spire",
					icon: "weapon/22",
					fct: r.getZoneVars.bind(r, this.game, "bonfire_spire", "wizard"),
					ranks: [2]
				}]
			}, {
				tag: "Education",
				data: [{
					ID: 28,
					name: "Questionnaire",
					desc: "Answer [X] questions correctly",
					icon: "hat/5",
					fct: this.processValue.bind(this, "qC"),
					ranks: [20, 100, 500, 1e3]
				}, {
					ID: 29,
					name: "Sequencing",
					desc: "Answer [X] questions correctly in a row",
					icon: "hat/4",
					fct: t.getSpellStreak.bind(t),
					ranks: [3, 5, 10]
				}, {
					ID: 30,
					name: "Don't Stop Me Now",
					desc: "Master [X] skills",
					icon: "hat/6",
					fct: o.getMasteredSkills.bind(o),
					ranks: [5, 20, 50, 100]
				}]
			}, {
				tag: "Exploration",
				data: [{
					ID: 31,
					name: "Stairmaster",
					desc: "Reach floor [X] of the Dark Tower",
					icon: "weapon/68",
					fct: t.getTowerProgress.bind(t),
					ranks: [25, 50, 75, 100]
				}, {
					ID: 32,
					name: "The Fall of Crios",
					desc: "Defeat [X] Coliseum opponents",
					icon: "weapon/62",
					fct: t.getColiseum.bind(t),
					ranks: [5, 10, 15, 20]
				}]
			}];
		if (!Util.isDefined(e)) return n;
		for (var h = 0; h < n.length; h++)
			for (var l = n[h], d = 0; d < l.data.length; d++)
				if (l.data[d].ID == e) return l.data[d]
	},
	process: function () {
		if (GameConstants.get("GameConstants.Debug.DISABLE_ACHIEVEMENTS")) return [];
		for (var e = [], t = this.getData(), i = 0; i < t.length; i++)
			for (var a = t[i].data, s = 0; s < a.length; s++) {
				var r = a[s],
					o = this.game.prodigy.player.achievements.getProgress(r.ID);
				if (!(o >= r.ranks.length)) {
					var n = r.fct(),
						h = r.ranks[o];
					n >= h && e.push(r)
				}
			}
		return e
	},
	getZero: function () {
		return 0
	},
	getCompletionText: function (e) {
		return this.game.prodigy.player.achievements.getProgress(e.ID) >= e.ranks.length ? "Finished!" : this.getProgress(e) >= 1 ? "Complete!" : this.getCurrent(e) + " / " + this.getTarget(e)
	},
	getCurrent: function (e) {
		var t = e.fct();
		return (!Util.isDefined(t) || 0 > t) && (t = 0), t
	},
	getTarget: function (e) {
		var t = this.game.prodigy.player.achievements.getProgress(e.ID);
		return t >= e.ranks.length ? 0 : e.ranks[t]
	},
	getProgress: function (e) {
		if (this.game.prodigy.player.achievements.getProgress(e.ID) >= e.ranks.length) return 1;
		var t = this.getCurrent(e),
			i = this.getTarget(e);
		return Math.min(1, t / i)
	},
	getName: function (e) {
		return e.name
	},
	getDesc: function (e) {
		var t = this.game.prodigy.player.achievements.getProgress(e.ID);
		t >= e.ranks.length && t--;
		var i = e.ranks[t];
		return Util.isDefined(i) ? e.desc.replace("[X]", i) : "Nothing"
	},
	processData: function (e) {
		return this.game.prodigy.player.data[e] || 0
	},
	processValue: function (e) {
		return this.game.prodigy.player.achievements.get(e)
	},
	processItem: function (e, t) {
		return this.game.prodigy.player.backpack.hasItem(t, e)
	}
}, Prodigy.Controller.GraphicsController = function (e) {
	this.game = e
}, Prodigy.Controller.GraphicsController.prototype = {
	constructor: Prodigy.Controller.GraphicsController,
	setResolutionSmall: function () {
		this.game.scale.maxWidth = 640, this.game.scale.maxHeight = 360, this.game.scale.updateLayout()
	},
	setResolutionMedium: function () {
		this.game.scale.maxWidth = 1280, this.game.scale.maxHeight = 720, this.game.scale.updateLayout()
	},
	setResolutionLarge: function () {
		this.game.scale.maxWidth = 0, this.game.scale.maxHeight = 0, this.game.scale.scaleMode = Phaser.ScaleManager.EXACT_FIT, this.game.scale.refresh()
	}
}, Prodigy.MailController = function (e) {
	this.game = e, this._mail = [], this._callbacks = []
}, Prodigy.MailController.prototype = {
	constructor: Prodigy.MailController,
	test: function () {
		var e = new Player(this.game),
			t = {
				equipment: e.equipment.data,
				appearance: e.appearance.data,
				data: e.data,
				pets: e.kennel.data,
				isMember: e.isMember
			};
		this.add({
			action: "challenge",
			target: 1234,
			data: {
				userID: 123,
				player: t
			}
		})
	},
	cleanup: function () {
		this._callbacks = []
	},
	getMailCount: function () {
		return this._mail.length
	},
	getMail: function (e, t) {
		return this._mail.slice(e, e + t)
	},
	add: function (e) {
		Util.log("MailController, mail received"), Util.log(e), this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "dig"), this._mail = [e].concat(this._mail), Util.isDefined(e.time) && window.setTimeout(this.remove.bind(this, e), e.time), this.invokeCallbacks(e)
	},
	remove: function (e) {
		for (var t = 0; t < this._mail.length; t++)
			if (this._mail[t] === e) {
				this._mail.splice(t, 1);
				break
			} this.invokeCallbacks()
	},
	addUpdateCallback: function (e) {
		this._callbacks.push(e)
	},
	invokeCallbacks: function (e) {
		for (var t = 0; t < this._callbacks.length; t++) Util.isDefined(this._callbacks[t]) && this._callbacks[t](this.getMailCount(), e)
	}
}, Prodigy.MailController.prototype.constructor = Prodigy.MailController, Prodigy.DialogueController = function (e) {
	this.game = e, this.events = [], this.currentID = 0
}, Prodigy.DialogueController.prototype = {
	create: function (e, t, i, a) {
		Util.isDefined(this.game) && a && (this.spinner.destroy(), e.alpha = 1, this.face = this.game.prodigy.create.sprite(180, 188, t, "face_0"), this.face.anchor.setTo(.5, 1), e.add(this.face), this.text = this.game.prodigy.create.font(e, 300, 20, "", {
			size: 30,
			width: 680,
			lineHeight: 40
		}), this.yesBtn = this.game.prodigy.create.button(e, 1e3, 20, "core", "yes-btn", this.yes.bind(this)), this.nextBtn = this.game.prodigy.create.button(e, 1e3, 115, "core", "next-btn", this.next.bind(this, this.currentID)), this.noBtn = this.game.prodigy.create.button(e, 1e3, 115, "core", "no-btn", this.no.bind(this)), this.nextBtn.highlight(!0, -20, -10), this.next(this.currentID))
	},
	start: function (e, t, i, a) {
		a = 0 === a ? 20 : 1 === a ? 255 : 510, this.game.prodigy.open.closeChat(), this.currentID++, this.onClose = i, this.cleanup();
		for (var s = 0; s < this.events.length; s++) {
			var r = this.events[s];
			if (Util.isDefined(r.index)) {
				var o = this.game.prodigy.dialogues.get(e, r.index);
				r.text = o.text, r.face = o.face, r.audio = o.audio, r.anim = o.anim
			}
		}
		this.window = this.game.prodigy.create.element(this.menuLayer, 0, 0), this.overlayMode = t, this.overlay = this.window.add(this.game.prodigy.create.sprite(0, 0)), this.overlay.width = this.game.world.width, this.overlay.height = this.game.world.height, this.overlay.inputEnabled = !0, this.overlay.visible = !t, this.element = this.game.prodigy.create.element(this.window, 0, 0);
		var n = this.game.prodigy.create.element(this.window, 103, a);
		n.x = 0;
		for (var s = 0; 26 > s; s++) n.add(this.game.prodigy.create.sprite(50 * s, 0, "core", "dialogue"));
		n.alpha = .8, this.spinner = this.window.add(this.game.prodigy.create.sprite(645, 610, "core", "loading")), this.spinner.alpha = 0, this.spinner.anchor.setTo(.5, .5), this.game.add.tween(this.spinner).to({
			angle: 360
		}, 1500, Phaser.Easing.Linear.None, !0, 0, Number.MAX_VALUE, !1), this.game.add.tween(this.spinner).to({
			alpha: 1
		}, 500, Phaser.Easing.Linear.None, !0, 300);
		for (var h = [], s = 0; s < this.events.length; s++) Util.isDefined(this.events[s].audio) && (Util.inArray(h, this.events[s].audio.tag) || h.push(this.events[s].audio.tag));
		e = "npc-face-" + e, this.game.prodigy.load.assets(h.concat(e), this.create.bind(this, n, e))
	},
	close: function (e) {
		this.cleanup(), Util.isDefined(this.currentSound) && this.currentSound.stop(), this.events = [], this.current = null, Util.isDefined(this.element) && this.element.removeAll(!0), Util.isDefined(this.onClose) && !e && this.onClose()
	},
	cleanup: function () {
		Util.isDefined(this.window) && (this.window.destroy(), this.window = null)
	},
	setText: function (e, t, i) {
		if (Util.isDefined(e)) {
			var a = {};
			isNaN(e) ? (Util.isDefined(e.index) && (a.index = e.index), Util.isDefined(e.text) && (a.text = e.text), Util.isDefined(e.face) && (a.face = e.face), Util.isDefined(e.audio) && (a.audio = e.audio), Util.isDefined(e.yes) && (a.yes = e.yes), Util.isDefined(e.no) && (a.no = e.no), Util.isDefined(e.callback) && (a.callback = e.callback), Util.isDefined(e.anim) && (a.anim = e.anim), Util.isDefined(e.element) && (a.element = e.element), Util.isDefined(e.hideNext) && (a.hideNext = e.hideNext)) : (a.index = e, Util.isDefined(t) && (a.yes = t), Util.isDefined(i) && (a.no = i)), this.events.push(a)
		}
	},
	next: function (e) {
		if (e === this.currentID)
			if (Util.isDefined(this.currentSound) && this.currentSound.stop(), this.events.length > 0) {
				var t = !1;
				this.current = this.events[0], this.events.splice(0, 1), this.yesBtn.visible = this.noBtn.visible = !1, this.nextBtn.visible = !this.current.hideNext && !this.overlayMode, Util.isDefined(this.current.text) && this.text.setText(this.current.text), Util.isDefined(this.current.face) ? (this.face.visible = !0, this.face.frameName = "face_" + this.current.face) : this.face.visible = !1, Util.isDefined(this.current.audio) && (this.currentSound = this.game.prodigy.audio.playVoice(this.current.audio.tag, null, this.current.audio.s, this.current.audio.d)), this.setAnimation(this.current.anim), (Util.isDefined(this.current.yes) || Util.isDefined(this.current.no)) && (this.noBtn.visible = this.yesBtn.visible = !this.overlayMode, this.nextBtn.visible = !1), Util.isDefined(this.current.callback) && (this.current.callback(), t = !0), Util.isDefined(this.current.element) && (this.element.removeAll(!0), this.current.element(this.element), t = !0), t && this.next(e)
			} else this.close()
	},
	setAnimation: function (e) {
		Util.isDefined(this.faceAnim) && this.game.tweens.remove(this.faceAnim), this.face.x = 185, this.face.y = 188, this.face.scale.x = this.face.scale.y = 1, Util.isDefined(e) && (1 === e ? this.faceAnim = this.game.add.tween(this.face).to({
			x: this.face.x + 10
		}, 100, Phaser.Easing.Quadratic.Out, !1).to({
			x: this.face.x - 10
		}, 200, Phaser.Easing.Quadratic.InOut).to({
			x: this.face.x + 10
		}, 200, Phaser.Easing.Quadratic.InOut).to({
			x: this.face.x - 10
		}, 200, Phaser.Easing.Quadratic.InOut).to({
			x: this.face.x
		}, 100, Phaser.Easing.Quadratic.InOut).start() : 2 === e ? this.faceAnim = this.game.add.tween(this.face).to({
			y: this.face.y - 20
		}, 1e3, Phaser.Easing.Sinusoidal.InOut, !0, 0, 9999, !0) : 3 === e ? this.faceAnim = this.game.add.tween(this.face.scale).to({
			x: -1
		}, 50, Phaser.Easing.Quadratic.InOut, !1).to({
			x: 1
		}, 50, Phaser.Easing.Quadratic.InOut, !1, 300).to({
			x: -1
		}, 50, Phaser.Easing.Quadratic.InOut, !1, 300).to({
			x: 1
		}, 50, Phaser.Easing.Quadratic.InOut, !1, 300).start() : 4 === e && (this.faceAnim = this.game.add.tween(this.face.scale).to({
			x: 1.2,
			y: 1.1
		}, 300, Phaser.Easing.Linear.None, !1).to({
			y: 1.3,
			x: 1.1
		}, 200, Phaser.Easing.Quadratic.InOut).to({
			x: 1,
			y: 1
		}, 300, Phaser.Easing.Quadratic.InOut).start()))
	},
	yes: function () {
		var e = this.current.yes;
		this.close(), Util.isDefined(e) && e()
	},
	no: function () {
		var e = this.current.no;
		this.close(), Util.isDefined(e) && e()
	}
}, Prodigy.DialogueController.prototype.constructor = Prodigy.DialogueController, Prodigy.Controller.SurveyController = function (e) {
	this.surveyID = 10, this.game = e
}, Prodigy.Controller.SurveyController.prototype = {
	constructor: Prodigy.Controller.SurveyController,
	requestSurveyData: function () {
		this.game.prodigy.player.getSurvey() < this.surveyID ? this.game.broadcaster.broadcast(Prodigy.Events.Survey.ON_GET_DATA_COMPLETE, this.game, [this.surveyData[0]]) : this.game.broadcaster.broadcast(Prodigy.Events.Survey.ON_GET_DATA_COMPLETE, this.game, [{}])
	},
	updateData: function () {
		this.game.prodigy.player.getSurvey() < this.surveyID ? this.game.broadcaster.broadcast(Prodigy.Events.Survey.ON_GET_DATA_COMPLETE, this.game, [this.surveyData[0]]) : this.game.broadcaster.broadcast(Prodigy.Events.Survey.ON_GET_DATA_COMPLETE, this.game, [{}])
	},
	surveyData: [{
		id: 10,
		type: 2,
		question: "Did you know that you can play Prodigy at home?",
		answers: [{
			id: "yes",
			text: "Yes."
		}, {
			id: "no",
			text: "No."
		}]
	}]
}, Prodigy.MenuFactory = function (e) {
	this.game = e, this.renderMenus = [], this.menus = [], this.chatMenu = null
}, Prodigy.MenuFactory.prototype = {
	cleanup: function () {
		this.renderMenus = [], this.menus = [], this.chatMenu = null
	},
	setActiveRenderMenu: function (e) {
		if (Util.isDefined(e)) {
			for (var t = 0; t < this.renderMenus.length; t++) this.renderMenus[t].setActive(!1);
			this.renderMenus.push(e)
		} else this.renderMenus.splice(this.renderMenus.length - 1, 1), this.renderMenus.length > 0 && this.renderMenus[this.renderMenus.length - 1].setActive(!0);
		this.closeChat()
	},
	menuOpen: function (e) {
		this.menuLayer.callAll("hide", e), this.closeChat()
	},
	close: function (e) {
		for (var t = this.menus.length - 1; t >= 0; t--) this.menus[t] === e && this.menus.splice(t, 1)
	},
	menuCloseAll: function () {
		for (var e = this.menus.length - 1; e >= 0; e--) Util.isDefined(this.menus[e].close) ? this.menus[e].close() : this.menus[e].destroy();
		this.menus = [], this.closeChat()
	},
	addFriendByUser: function () {
		this.menus.push(new Prodigy.Menu.FriendsList.AddFriendByUser(this.game, this.menuLayer))
	},
	chat: function (e) {
		this.chatMenu = new Prodigy.Menu.Chat(this.game, this.menuLayer, e)
	},
	closeChat: function () {
		Util.isDefined(this.chatMenu) && this.chatMenu.close(), this.chatMenu = null
	},
	popupStore: function (e, t, i) {
		this.menus.push(new Prodigy.Menu.PopupStore(this.game, this.menuLayer, e, i))
	},
	toyStore: function () {
		this.menus.push(new Prodigy.Menu.ToyStore(this.game, this.menuLayer))
	},
	nameChange: function (e, t) {
		this.menus.push(new Prodigy.Menu.NameChange(this.game, this.menuLayer, e, t))
	},
	achievement: function (e, t) {
		this.menus.push(new Prodigy.Menu.AchievementUnlock(this.game, this.menuLayer, e, t))
	},
	survey: function (e) {
		this.menus.push(new Prodigy.Menu.Survey(this.game, this.menuLayer, e))
	},
	toyUnlock: function () {
		this.menus.push(new Prodigy.Menu.ToyUnlock(this.game, this.menuLayer))
	},
	rankStore: function (e, t) {
		this.menus.push(new Prodigy.Menu.RankStore(this.game, this.menuLayer, e, t))
	},
	mailbox: function () {
		this.menus.push(new Prodigy.Menu.Mailbox(this.game, this.menuLayer))
	},
	rating: function (e) {
		this.menus.push(new Prodigy.Menu.Rating(this.game, this.menuLayer, e))
	},
	chooseSpell: function (e, t) {
		this.menus.push(new Prodigy.Menu.ChooseSpell(this.game, this.menuLayer, e, t))
	},
	choosePet: function (e, t) {
		this.menus.push(new Prodigy.Menu.ChoosePet(this.game, this.menuLayer, e, t))
	},
	createAccount: function (e, t) {
		this.menus.push(new Prodigy.Menu.AccountCreate(this.game, this.menuLayer, e, t))
	},
	server: function (e, t) {
		this.menus.push(new Prodigy.Menu.Server(this.game, this.menuLayer, e, t))
	},
	houseEditorHUD: function (e, t, i, a, s) {
		var r = new Prodigy.Menu.House_Editor_HUD(this.game, this.menuLayer, e, t, i, a, s);
		return this.menus.push(r), r
	},
	leaderPrompt: function () {
		this.menus.push(new Prodigy.Menu.LeaderPrompt(this.game, this.menuLayer))
	},
	pets: function (e, t) {
		this.menus.push(new Prodigy.Menu.Pets(this.game, this.menuLayer, e, t))
	},
	"catch": function (e, t) {
		this.menus.push(new Prodigy.Menu.Catcher(this.game, this.menuLayer, e, t))
	},
	battle: function (e, t, i, a, s, r, o, n, h, l, d) {
		return this.menus.push(new Prodigy.Menu.AttackSelect(this.game, this.menuLayer, e, t, i, a, s, r, o, n, h, l, d)), this.menus[this.menus.length - 1]
	},
	memberPrompt: function (e) {
		this.menus.push(new Prodigy.Menu.MemberPrompt(this.game, this.menuLayer, e))
	},
	emailPrompt: function (e) {
		Util.isDefined(e) && (this.emailPromptOnClose = e), this.menus.push(new Prodigy.Menu.EmailPrompt(this.game, this.menuLayer, this.emailPromptOnClose))
	},
	playAtHomePrompt: function (e) {
		this.menus.push(new Prodigy.Menu.PlayAtHome(this.game, this.menuLayer, e))
	},
	parentalLinkInfoPrompt: function (e, t) {
		this.menus.push(new Prodigy.Menu.ParentalLink(this.game, this.menuLayer, Prodigy.Menu.ParentLinkBenefitsConfig.INFO_POPUP_CONFIG, e, t))
	},
	parentalLinkSuccessPrompt: function (e) {
		this.menus.push(new Prodigy.Menu.ParentalLink(this.game, this.menuLayer, Prodigy.Menu.ParentLinkBenefitsConfig.SUCCESS_POPUP_CONFIG, null, e))
	},
	dailyLoginBonus: function (e) {
		this.menus.push(new Prodigy.Menu.DailyLoginBonus(this.game, this.menuLayer, e))
	},
	mailer: function (e) {
		this.menus.push(new Prodigy.Menu.Mailer(this.game, this.menuLayer, e))
	},
	mailerOpenMail: function (e, t, i) {
		this.menus.push(new Prodigy.Menu.OpenMail(this.game, this.menuLayer, e, t, i))
	},
	friendsList: function (e) {
		this.menus.push(new Prodigy.Menu.FriendsList(this.game, this.menuLayer, e))
	},
	friendRequests: function (e) {
		this.menus.push(new Prodigy.Menu.FriendRequests(this.game, this.menuLayer, e))
	},
	itemInfo: function (e, t, i) {
		this.menus.push(new Prodigy.Menu.ItemInfo(this.game, this.menuLayer, e, t, i))
	},
	houseItemInfo: function (e, t, i) {
		this.menus.push(new Prodigy.Menu.HouseItemInfo(this.game, this.menuLayer, e, t, i))
	},
	bountyBoard: function (e) {
		this.menus.push(new Prodigy.Menu.BountyBoard(this.game, this.menulayer, e))
	},
	social: function (e) {
		this.menus.push(new Prodigy.Menu.Social(this.game, this.menuLayer, e))
	},
	boostSelect: function (e, t) {
		this.menus.push(new Prodigy.Menu.BoostSelect(this.game, this.menuLayer, e, t))
	},
	card: function (e, t, i) {
		this.menus.push(new Prodigy.Menu.Card(this.game, this.menuLayer, e, t, i))
	},
	arena: function () {
		this.menus.push(new Prodigy.Menu.Coliseum(this.game, this.menuLayer, this.game.prodigy.player))
	},
	stylist: function () {
		this.menus.push(new Prodigy.Menu.Stylist(this.game, this.menuLayer, this.game.prodigy.player))
	},
	membership: function (e, t, i) {
		var a = Prodigy.Menu.MemberAd.reconcileConfig(e);
		this.menus.push(new Prodigy.Menu.MemberAd(this.game, this.menuLayer, a, t, i))
	},
	darkTowerMemberGate: function (e, t) {
		this.menus.push(new Prodigy.Menu.MemberAd(this.game, this.menuLayer, Prodigy.Menu.MemberAd.TOWER, t))
	},
	nicknamer: function (e, t) {
		this.menus.push(new Prodigy.Menu.Nicknamer(this.game, this.menuLayer, e, t))
	},
	gotItem: function (e, t) {
		this.menus.push(new Prodigy.Menu.GotItem(this.game, this.menuLayer, e, t))
	},
	message: function (e, t, i, a) {
		var s = new Prodigy.Menu.Message(this.game, this.menuLayer);
		return this.menus.push(s), s.setText(e, i, a), s.setOkay(t), s
	},
	confirm: function (e, t, i, a, s) {
		var r = new Prodigy.Menu.Message(this.game, this.menuLayer);
		return this.menus.push(r), r.setText(e, a, s), r.setConfirm(t, i), r
	},
	okaymessage: function (e, t, i, a) {
		var s = new Prodigy.Menu.Message(this.game, this.menuLayer);
		return this.menus.push(s), s.setText(e, i, a), s.setAlert(t), s
	},
	alert: function (e, t, i, a) {
		var s = new Prodigy.Menu.MessageBox(this.game, this.menuLayer);
		return this.menus.push(s), s.setText(e, i, a), s.setOkay(t), s
	},
	messageBox: function (e, t, i, a, s) {
		var r = new Prodigy.Menu.MessageBox(this.game, this.menuLayer);
		return this.menus.push(r), r.setText(e, a, s), r.setConfirm(t, i), r
	},
	messageBoxGeneric: function (e, t, i, a, s, r) {
		var o = new Prodigy.Menu.MessageBox(this.game, this.menuLayer);
		return this.menus.push(o), o.setText(e, s, r), o.setConfirmGeneric(t, i, a), o
	},
	messageBoxOkay: function (e, t, i, a, s) {
		var r = new Prodigy.Menu.MessageBox(this.game, this.menuLayer, i);
		return this.menus.push(r), r.setText(e, a, s), r.setOkay(t, null), r
	},
	character: function () {
		this.menus.push(new Prodigy.Menu.Character(this.game, this.menuLayer, this.game.prodigy.player))
	},
	inventory: function () {
		this.menus.push(new Prodigy.Menu.Inventory(this.game, this.menuLayer, this.game.prodigy.player))
	},
	backpack: function () {
		this.menus.push(new Prodigy.Menu.Backpack(this.game, this.menuLayer, this.game.prodigy.player))
	},
	pouch: function (e, t, i) {
		this.menus.push(new Prodigy.Menu.Pouch(this.game, this.menuLayer, this.game.prodigy.player, e, t, i))
	},
	settings: function (e) {
		this.menus.push(new Prodigy.Menu.SystemMenu(this.game, this.menuLayer, e))
	},
	map: function () {
		this.menus.push(new Prodigy.Menu.WorldMap(this.game, this.menuLayer))
	},
	store: function (e, t, i, a, s) {
		this.menus.push(new Prodigy.Menu.Store(this.game, this.menuLayer, e, t, i, a, s))
	},
	houseMapStore: function (e, t) {
		this.menus.push(new Prodigy.Menu.HouseMapStore(this.game, this.menuLayer, e, !1, t))
	},
	levelUp: function (e, t) {
		this.menus.push(new Prodigy.Menu.LevelUp(this.game, this.menuLayer, e, t))
	},
	buyToy: function (e, t, i, a) {
		this.menus.push(new Prodigy.Menu.BuyToy(this.game, this.menuLayer, e, t, i, a))
	},
	slotMachine: function (e, t, i) {
		this.menus.push(new Prodigy.Menu.SlotMachine(this.game, this.menuLayer, 414, 168, e, t, i))
	},
	battleSummary: function (e, t) {
		t.type = Prodigy.Menu.BattleBase.SUMMARY, this.menus.push(new Prodigy.Menu.BattleBase(this.game, this.menuLayer, e, t))
	},
	battleLevel: function (e, t) {
		this.menus.push(new Prodigy.Menu.BattleBase(this.game, this.menuLayer, e, t))
	},
	epicRewardsMenu: function (e, t) {
		this.menus.push(new Prodigy.Menu.EpicRewardsMenu(this.game, this.menuLayer, e, t))
	},
	battlePotionSelect: function (e) {
		this.menus.push(new Prodigy.Menu.BattlePotionSelect(this.game, this.menuLayer, this.game.prodigy.player, e))
	},
	confirmPotionUse: function (e, t) {
		this.menus.push(new Prodigy.Menu.ConfirmPotionUse(this.game, this.menuLayer, e, t))
	},
	potionPvpPopup: function (e) {
		this.menus.push(new Prodigy.Menu.PotionPVPPopup(this.game, this.menuLayer, e))
	},
	epicErrorMessage: function (e, t, i) {
		this.menus.push(new Prodigy.Menu.EpicErrorMessage(this.game, this.menuLayer, e, t, i))
	},
	questDescription: function (e, t) {
		this.menus.push(new Prodigy.Menu.QuestDescription(this.game, this.menuLayer, e, t))
	},
	questBanner: function (e) {
		this.menus.push(new Prodigy.Menu.QuestBanner(this.game, this.menuLayer, e))
	}
}, Prodigy.MenuFactory.prototype.constructor = Prodigy.MenuFactory, Prodigy.DialogueFactory = function (e) {
	this.game = e
}, Prodigy.DialogueFactory.prototype = {
	create: function () {
		return new Prodigy.DialogueController(this.game)
	}
}, Prodigy.EffectFactory = function (e) {
	this.game = e
}, Prodigy.EffectFactory.PVP = 230, Prodigy.EffectFactory.MIDDLE = 300, Prodigy.EffectFactory.BOTTOM = 500, Prodigy.EffectFactory.BASE = 600, Prodigy.EffectFactory.TOP = 100, Prodigy.EffectFactory.SMALL = 2, Prodigy.EffectFactory.MEDIUM = 1, Prodigy.EffectFactory.prototype = {
	setSource: function (e) {
		this.screen = e
	},
	pvpComplete: function (e, t, i) {
		var a = this.screen.menus.add(new Phaser.TileSprite(this.game, 0, 280, 1280, 200, "core", "bounty-runner"));
		a.alpha = 0, a.height = 200;
		var t = this.screen.menus.add(this.game.prodigy.create.sprite(640, 350, "battle", t));
		t.anchor.setTo(.5, 1), t.scale.x = t.scale.y = 2, t.alpha = 0;
		var e = this.game.prodigy.create.font(this.screen.menus, 1280, 330, e, {
			size: 80,
			width: 1280,
			align: "center"
		});
		this.game.add.tween(t).to({
			alpha: 1
		}, 200, Phaser.Easing.Quadratic.In).to({}, 4100, Phaser.Easing.Linear.None).to({
			alpha: 0
		}, 250, Phaser.Easing.Quadratic.Out).start(), this.game.add.tween(t.scale).to({
			x: 1,
			y: 1
		}, 200, Phaser.Easing.Quadratic.In).start();
		var s = this.game.add.tween(a);
		s.to({}, 100, Phaser.Easing.Linear.None), s.to({
			alpha: .9
		}, 250, Phaser.Easing.Quadratic.In), s.to({}, 4e3, Phaser.Easing.Linear.None), s.to({
			alpha: 0
		}, 250, Phaser.Easing.Quadratic.Out), s.start(), this.game.add.tween(e).to({}, 100, Phaser.Easing.Linear.None).to({
			x: 25
		}, 250, Phaser.Easing.Quadratic.Out).to({
			x: -25
		}, 4e3, Phaser.Easing.Linear.None).to({
			x: -1280
		}, 250, Phaser.Easing.Quadratic.Out).start(), Util.isDefined(i) && s.onComplete.add(i, this)
	},
	bountyComplete: function (e, t) {
		var i = this.screen.menus.add(new Phaser.TileSprite(this.game, 0, 280, 1280, 200, "core", "bounty-runner"));
		i.alpha = 0, i.height = 200;
		var a = this.screen.menus.add(this.game.prodigy.create.sprite(640, 250, "core-2", "emblem-bounty"));
		a.anchor.setTo(.5, .5), a.scale.x = a.scale.y = 2, a.alpha = 0;
		var s = "" + e,
			r = this.game.prodigy.create.font(this.screen.menus, 520, 175, s, {
				size: 80,
				width: 240,
				align: "center"
			});
		r.alpha = 0;
		var o = this.game.prodigy.create.font(this.screen.menus, 1280, 330, "Bounty Complete!", {
			size: 80,
			width: 1280,
			align: "center"
		});
		this.game.add.tween(a).to({
			alpha: 1
		}, 200, Phaser.Easing.Quadratic.In).to({}, 4100, Phaser.Easing.Linear.None).to({
			alpha: 0
		}, 250, Phaser.Easing.Quadratic.Out).start(), this.game.add.tween(a.scale).to({
			x: 1,
			y: 1
		}, 200, Phaser.Easing.Quadratic.In).start(), this.game.add.tween(r).to({
			alpha: 1
		}, 200, Phaser.Easing.Quadratic.In).to({}, 4100, Phaser.Easing.Linear.None).to({
			alpha: 0
		}, 250, Phaser.Easing.Quadratic.Out).start();
		var n = this.game.add.tween(i);
		n.to({}, 100, Phaser.Easing.Linear.None), n.to({
			alpha: .9
		}, 250, Phaser.Easing.Quadratic.In), n.to({}, 4e3, Phaser.Easing.Linear.None), n.to({
			alpha: 0
		}, 250, Phaser.Easing.Quadratic.Out), n.start(), this.game.add.tween(o).to({}, 100, Phaser.Easing.Linear.None).to({
			x: 25
		}, 250, Phaser.Easing.Quadratic.Out).to({
			x: -25
		}, 4e3, Phaser.Easing.Linear.None).to({
			x: -1280
		}, 250, Phaser.Easing.Quadratic.Out).start(), Util.isDefined(t) && (n.onComplete.add(this.cleanup.bind(this, [i, o, a]), this), n.onComplete.add(t, this))
	},
	fire: function (e, t, i, a, s, r, o) {
		i = r ? Math.ceil(i / 120) : Math.ceil(i / 100), a = r ? Math.ceil(a / 120) : Math.ceil(a / 100);
		for (var n = [], h = 0; i > h; h++)
			for (var l = 0; a > l; l++) n.push(this.screen.menus.add(this.game.prodigy.create.sprite(40 + e + 80 * h, 40 + t + 80 * l, "zone-skywatch", r ? "fire-ball-small" : "fire-ball")));
		for (var h = 0; i - 1 > h; h++)
			for (var l = 0; a - 1 > l; l++) n.push(this.screen.menus.add(this.game.prodigy.create.sprite(80 + e + 80 * h, 80 + t + 80 * l, "zone-skywatch", r ? "fire-ball-small" : "fire-ball")));
		for (var h = 0; h < n.length; h++) {
			var d = n[h];
			d.anchor.setTo(.5, .5), d.scale.x = d.scale.y = 0;
			var p = this.game.add.tween(d),
				c = this.game.add.tween(d.scale),
				g = Math.floor(1e3 / n.length) * h + 10;
			0 === h && (g = 1e3), p.to({}, g, Phaser.Easing.Linear.None), c.to({}, g, Phaser.Easing.Linear.None);
			for (var u = Math.floor((d.x - e - Math.floor(80 * i / 2)) / 2), l = 0; s > l; l++) 0 === h && this.game.time.events.add(1e3 * l, this.game.prodigy.audio.playSFX.bind(this.game.prodigy.audio, Prodigy.Controller.AudioController.SFX_PACKS.UI, "dig")), p.to({
				x: d.x,
				y: d.y,
				alpha: 1
			}, 10, Phaser.Easing.Linear.None), p.to({
				x: d.x + u,
				y: d.y - 50,
				alpha: 1
			}, 1e3, Phaser.Easing.Linear.None), c.to({
				x: .5,
				y: .5
			}, 10, Phaser.Easing.Linear.None), c.to({
				x: 1.4,
				y: 1.4
			}, 1e3, Phaser.Easing.Quadratic.Out);
			p.to({
				alpha: 0
			}, 10, Phaser.Easing.Linear.None), 0 === h && Util.isDefined(o) && p.onComplete.addOnce(o), 0 === h && p.onComplete.addOnce(this.cleanup.bind(this, n), this), p.start(), c.start()
		}
	},
	flashText: function (e, t, i, a, s, r) {
		Util.isDefined(i) || (i = Prodigy.EffectFactory.MIDDLE), Util.isDefined(a) || (a = Prodigy.EffectFactory.MEDIUM), Util.isDefined(s) || (s = 2e3);
		var o = this.screen.menus.add(new Phaser.TileSprite(this.game, 0, i - 20, 1280, 200, "core", "dialogue"));
		o.alpha = 0, o.height = 200 / a;
		var n = this.game.prodigy.create.font(this.screen.menus, 1280, i, e, {
			size: 80 / a,
			width: 1280,
			align: "center"
		});
		n.y = i + Math.floor((o.height - n.height) / (4 * a));
		var h = this.game.add.tween(o);
		h.to({
			alpha: .5
		}, 250, Phaser.Easing.Quadratic.In), h.to({}, s, Phaser.Easing.Linear.None), h.to({
			alpha: 0
		}, 250, Phaser.Easing.Quadratic.Out), h.start(), r = r || !1;
		var l = this.game.add.tween(n);
		r ? (n.x = 0, l.to({
			alpha: 1
		}, 125, Phaser.Easing.Quadratic.In), l.to({}, s, Phaser.Easing.Linear.None), l.to({
			alpha: 0
		}, 125, Phaser.Easing.Quadratic.Out), l.start()) : (l.to({
			x: 25
		}, 250, Phaser.Easing.Quadratic.Out), l.to({
			x: -25
		}, s, Phaser.Easing.Linear.None), l.to({
			x: -1280
		}, 250, Phaser.Easing.Quadratic.Out), l.start()), h.onComplete.add(this.cleanup.bind(this, [o, n]), this), Util.isDefined(t) && h.onComplete.add(t, this)
	},
	characterText: function (e, t, i, a, s) {
		var r = this.game.prodigy.create.font(this.screen.overlay, t, i, e, Util.isDefined(s) ? s : {
			size: 40
		});
		r.y -= 150, r.setCenterAnchor(), r.scale.setTo(0, 0);
		var o = this.game.add.tween(r.scale).to({
				y: 1,
				x: 1
			}, 800, Phaser.Easing.Elastic.InOut),
			n = this.game.add.tween(r).to({
				y: "-100"
			}, 1600, Phaser.Easing.Quadratic.Out).to({
				alpha: 0
			}, 200, Phaser.Easing.Quadratic.Out);
		n.onComplete.add(function () {
			r.destroy()
		}), Util.isDefined(a) && (n.delay(a), o.delay(a)), n.start(), o.start()
	},
	characterImage: function (e, t) {
		e.y -= 150, e.anchor.setTo(.5, .5), e.scale.setTo(0, 0), this.game.broadcaster.broadcast(Prodigy.Events.Screen.ADD_CHILD, this.game, [e, "overlay"]);
		var i = this.game.add.tween(e.scale).to({
				y: 1,
				x: 1
			}, 800, Phaser.Easing.Elastic.InOut),
			a = this.game.add.tween(e).to({
				y: "-100"
			}, 1600, Phaser.Easing.Quadratic.Out).to({
				alpha: 0
			}, 200, Phaser.Easing.Quadratic.Out);
		a.onComplete.add(function () {
			e.kill()
		}), Util.isDefined(t) && (a.delay(t), i.delay(t)), a.start(), i.start()
	},
	explode: function (e, t, i, a, s, r, o) {
		i = Math.ceil(i / 80), a = Math.ceil(a / 80);
		for (var n = [], h = 0; i > h; h++)
			for (var l = 0; a > l; l++) {
				var d = "";
				if (o) {
					var p = this.game.random.range(0, 3);
					d = 1 > p ? "-blue" : 2 > p ? "-green" : "-red"
				}
				n.push(this.screen.menus.add(this.game.prodigy.create.sprite(40 + e + 80 * h, 40 + t + 80 * l, "core-2", "smoke" + d)))
			}
		for (var h = 0; i - 1 > h; h++)
			for (var l = 0; a - 1 > l; l++) {
				var d = "";
				if (o) {
					var p = this.game.random.range(0, 3);
					d = 1 > p ? "-blue" : 2 > p ? "-green" : "-red"
				}
				n.push(this.screen.menus.add(this.game.prodigy.create.sprite(80 + e + 80 * h, 80 + t + 80 * l, "core-2", "smoke" + d)))
			}
		for (var h = 0; h < n.length; h++) {
			var c = n[h];
			c.anchor.setTo(.5, .5), c.scale.x = c.scale.y = 0, c.angle = Math.floor(1e3 * Math.random());
			var g = this.game.add.tween(c),
				u = this.game.add.tween(c.scale),
				y = Math.floor(1e3 / n.length) * h + 10;
			0 === h && (y = 1e3), g.to({}, y, Phaser.Easing.Linear.None), u.to({}, y, Phaser.Easing.Linear.None);
			for (var m = Math.floor((c.x - e - Math.floor(80 * i / 2)) / 2), l = 0; s > l; l++) 0 === h && this.game.time.events.add(1e3 * l, this.game.prodigy.audio.playSFX.bind(this.game.prodigy.audio, Prodigy.Controller.AudioController.SFX_PACKS.UI, "dig")), g.to({
				x: c.x,
				y: c.y,
				alpha: 1,
				angle: c.angle
			}, 10, Phaser.Easing.Linear.None), g.to({
				x: c.x + m,
				y: c.y - 50,
				alpha: 1,
				angle: c.angle + 100
			}, 1e3, Phaser.Easing.Linear.None), u.to({
				x: .5,
				y: .5
			}, 10, Phaser.Easing.Linear.None), u.to({
				x: 1.4,
				y: 1.4
			}, 1e3, Phaser.Easing.Quadratic.Out);
			g.to({
				alpha: 0
			}, 10, Phaser.Easing.Linear.None), 0 === h && Util.isDefined(r) && g.onComplete.addOnce(r), 0 === h && g.onComplete.addOnce(this.cleanup.bind(this, n), this), g.start(), u.start()
		}
	},
	shake: function (e, t, i, a, s) {
		i = i || 10;
		for (var r = [], o = [this.screen.background, this.screen.content, this.screen.foreground], n = Math.floor(t / 50), h = 0; n > h; h++)
			for (var l = this.game.rnd.integerInRange(-i, i), d = this.game.rnd.integerInRange(-i, i), p = 0; p < o.length; p++) 0 === h && (r[p] = this.game.add.tween(o[p]), Util.isDefined(s) && 0 === p && r[p].onComplete.add(s)), r[p].to({
				x: "v" === a ? 0 : l,
				y: "h" === a ? 0 : d
			}, 50, Phaser.Easing.Linear.None), h === n - 1 && (r[p].to({
				x: 0,
				y: 0
			}, 100, Phaser.Easing.Linear.None), r[p].delay(e), r[p].start())
	},
	firework: function (e, t, i, a, s) {
		s = s || 0, Util.isDefined(a) || (a = this.screen.foreground);
		var r = 75 * Math.random() + 25,
			o = Math.random(),
			n = 100 * o - 50,
			h = Math.random() + 1,
			l = a.add(this.game.prodigy.create.sprite(e - 20, t + 100, "core-2", "rocket")),
			d = a.add(this.game.prodigy.create.sprite(e + n, t - r, "core-2", "fireworks"));
		l.anchor.setTo(.5, .5), d.anchor.setTo(.5, .5), d.angle = 360 * Math.random(), d.scale.x = 0, d.scale.y = 0;
		var p = this.game.add.tween(l).to({
				y: t - r
			}, 500, Phaser.Easing.Quadratic.Out, !0, 0 + s),
			c = (this.game.add.tween(l).to({
				x: e + n
			}, 500, Phaser.Easing.Quadratic.Out, !0, 0 + s), this.game.add.tween(l).to({
				angle: 35 * (2 * o - 1)
			}, 500, Phaser.Easing.Linear.None, !0 + s), this.game.add.tween(d.scale).to({
				x: h,
				y: h
			}, 500, Phaser.Easing.Back.Out, !0, 500 + s), this.game.add.tween(d).to({
				alpha: 0
			}, 1e3, Phaser.Easing.Linear.None, !0, 1e3 + s)),
			g = function () {
				this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "dig")
			};
		p.onComplete.addOnce(g, this), p.onComplete.addOnce(l.destroy.bind(l)), c.onComplete.addOnce(d.destroy.bind(d)), Util.isDefined(i) && c.onComplete.add(i)
	},
	confetti: function (e, t, i) {
		var a = (75 * Math.random() + 25, Math.random(), Math.random() + 1),
			s = this.screen.foreground.add(this.game.prodigy.create.sprite(e - 20, t + 100, "core-2", "confetti1"));
		s.animations.add("confetti", ["confetti1", "confetti2", "confetti3", "confetti4"], 10, !0, !1), s.anchor.setTo(.5, .5), s.scale.x = .1, s.scale.y = .1, s.animations.play("confetti");
		var r = this.game.add.tween(s).to({
				y: "-25"
			}, 500, Phaser.Easing.Linear.Out, !0, 0),
			o = (this.game.add.tween(s.scale).to({
				x: a,
				y: a
			}, 500, Phaser.Easing.Quadratic.In, !0, 0), this.game.add.tween(s).to({
				y: "+100"
			}, 2e3, Phaser.Easing.Sinusoidal.Out, !1, 250)),
			n = this.game.add.tween(s).to({
				alpha: 0
			}, 1e3, Phaser.Easing.Linear.None, !0, 2500);
		this.game.prodigy.audio.playSFX(Prodigy.Controller.AudioController.SFX_PACKS.UI, "dig"), r.chain(o), n.onComplete.addOnce(s.destroy.bind(s)), Util.isDefined(i) && n.onComplete.add(i)
	},
	portalEffect: function (e, t, i) {
		var a = this.screen.background.add(this.game.prodigy.create.sprite(e - 110, t - 160, "core-2", "portal1-b")),
			s = this.screen.foreground.add(this.game.prodigy.create.sprite(e - 110, t - 160, "core-2", "portal1"));
		s.animations.add("portalF", ["portal1", "portal2", "portal3", "portal4", "portal5", "portal6", "portal7", "portal8", "portal9"], 7, !0, !1), a.animations.add("portalB", ["portal1-b", "portal2-b", "portal3-b", "portal4-b", "portal5-b", "portal6-b", "portal7-b", "portal8-b", "portal9-b"], 7, !0, !1), a.animations.play("portalB"), s.animations.play("portalF");
		var r = this.game.add.tween(a).to({
			alpha: 1
		}, 800, Phaser.Easing.Linear.None, !0, 1);
		Util.isDefined(i) && r.onComplete.add(i), r.onComplete.addOnce(a.destroy.bind(a)), r.onComplete.addOnce(a.destroy.bind(s))
	},
	goldwork: function (e, t, i) {
		for (var a = 75 * Math.random() + 25, s = Math.random(), r = 100 * s - 50, o = Math.floor(3 * Math.random() + 1), n = [], h = function () {}, l = 1; o + 1 > l; l++) n.push(this.screen.addClickableEvent(e + 100 * l + s, t - 100 * l + s, 80, 80, h)), n[l - 1].img = n[l - 1].add(new Phaser.Image(this.game, 0, 0, "icons", "gold"));
		var d = this.screen.foreground.add(this.game.prodigy.create.sprite(e - 20, t + 100, "core-2", "rocket"));
		d.anchor.setTo(.5, .5);
		var p = this.game.add.tween(d).to({
				y: t - a
			}, 500, Phaser.Easing.Quadratic.Out, !0, 0),
			c = (this.game.add.tween(d).to({
				x: e + r
			}, 500, Phaser.Easing.Quadratic.Out, !0, 0), this.game.add.tween(d).to({
				angle: 35 * (2 * s - 1)
			}, 500, Phaser.Easing.Linear.None, !0));
		p.onComplete.addOnce(d.destroy.bind(d)), c.onComplete.add(i)
	},
	cleanup: function (e) {
		for (var t = 0; t < e.length; t++) e[t].destroy()
	},
	fadeFlyingImage: function (e, t, i, a) {
		var s = this.game.prodigy.create.sprite(e, t, i, a);
		s.anchor.setTo(.5, .5), this.game.broadcaster.broadcast(Prodigy.Events.Screen.ADD_CHILD, this.game, [s, "overlay"]);
		var r = this.game.add.tween(s).to({
			y: s.y - 100
		}, 1300, Phaser.Easing.Quadratic.Out).to({
			alpha: 0
		}, 200, Phaser.Easing.Quadratic.Out);
		r.onComplete.add(function () {
			s.kill()
		}, s), r.start()
	}
}, Prodigy.EffectFactory.prototype.constructor = Prodigy.EffectFactory, Prodigy.Factory.GameObjectFactory = function (e) {
	this.game = e
}, Prodigy.Factory.GameObjectFactory.prototype = {
	constructor: Prodigy.GameObjectFactory,
	indicator: function (e, t) {
		return new Prodigy.Control.Indicator(this.game, e, t)
	},
	advButton: function (e, t, i, a, s, r, o) {
		return new Prodigy.Control.AdvButton(this.game, e, t, i, a, s, r, o)
	},
	button: function (e, t, i, a, s, r, o, n, h, l, d) {
		return new Prodigy.Control.Button(this.game, e, t, i, a, s, r, o, n, h, l, d)
	},
	hudButton: function (e, t, i, a, s, r) {
		return new Prodigy.Control[e](this.game, t, i, a, s, r)
	},
	element: function (e, t, i) {
		return new Prodigy.Control.Element(this.game, e, t, i)
	},
	fillBar: function (e, t, i, a, s, r, o, n, h, l, d, p) {
		return new Prodigy.Control.FillBar(this.game, e, t, i, a, s, r, o, n, h, l, d, p)
	},
	font: function (e, t, i, a, s) {
		return new Prodigy.Control.BitmapFont(this.game, e, t, i, a, s)
	},
	input: function () {},
	panel: function (e, t, i, a, s, r, o) {
		return new Prodigy.Control.Panel(this.game, e, t, i, a, s, r, o)
	},
	panelButton: function (e, t, i, a, s, r, o) {
		return new Prodigy.Control.PanelButton(this.game, e, t, i, a, s, r, o)
	},
	progressBar: function (e, t, i, a) {
		return new Prodigy.Control.ProgressBar(this.game, e, t, i, a)
	},
	scrollBar: function (e, t, i, a, s) {
		return new Prodigy.Control.ScrollBar(this.game, e, t, i, a, s)
	},
	slider: function (e, t, i, a, s, r) {
		return new Prodigy.Control.Slider(this.game, e, t, i, a, s, r)
	},
	sprite: function (e, t, i, a, s, r, o, n) {
		return new Prodigy.Control.Sprite(this.game, e, t, i, a, s, r, o, n)
	},
	animatedSprite: function (e, t, i, a, s, r, o) {
		return new Prodigy.Control.AnimatedSprite(this.game, e, t, i, a, s, r, o)
	},
	stackButton: function (e, t, i, a, s) {
		return new Prodigy.Control.StackButton(this.game, e, t, i, a, s)
	},
	textButton: function (e, t, i, a, s) {
		return new Prodigy.Control.TextButton(this.game, e, t, i, a, s)
	}
}, Prodigy.Factory.AdvGameObjectFactory = function (e) {
	Prodigy.Factory.GameObjectFactory.call(this, e)
}, Prodigy.extends(Prodigy.Factory.AdvGameObjectFactory, Prodigy.Factory.GameObjectFactory, {
	constructor: Prodigy.AdvGameObjectFactory,
	achievement: function (e, t, i, a) {
		return new Prodigy.Container.Achievement(this.game, e, t, i, a)
	},
	boss: function (e, t, i, a, s) {
		return new Prodigy.Container.BossContainer(this.game, e, t, i, a, s)
	},
	forestBoss: function (e, t, i, a, s) {
		return new Prodigy.Container.ForestContainer(this.game, e, t, i, a, s)
	},
	cloudBoss: function (e, t, i, a, s, r) {
		return new Prodigy.Container.CloudContainer(this.game, e, t, i, a, s, r)
	},
	bonfireBoss: function (e, t, i, a, s) {
		return new Prodigy.Container.BonfireContainer(this.game, e, t, i, a, s)
	},
	icon: function (e, t, i, a, s, r, o) {
		return new Prodigy.Container.QuantityIcon(this.game, e, t, i, a, s, r, o)
	},
	item: function (e, t, i, a, s, r) {
		return new Prodigy.Container.ItemContainer(this.game, e, t, i, a, s, r)
	},
	follow: function (e, t, i, a, s, r) {
		return t > 100 ? new Prodigy.Container.FollowContainer(this.game, e, new Monster({
			ID: t
		}, this.game), i, a, s, r) : new Prodigy.Container.Pet(this.game, e, t, a, s, r)
	},
	monster: function (e, t, i, a, s, r) {
		return new Prodigy.Container.MonsterContainer(this.game, e, t, i, a, s, r)
	},
	player: function (e, t, i, a, s, r) {
		return new Prodigy.Container.PlayerContainer(this.game, e, t, i, a, s, r)
	},
	timer: function (e, t, i, a) {
		return new Prodigy.Container.Timer(this.game, e, t, i, a)
	},
	level: function (e, t, i, a, s, r, o) {
		return new Prodigy.Container.LevelContainer(this.game, e, t, i, a, s, r, o)
	},
	milestone: function (e, t, i, a, s, r) {
		return new Prodigy.Container.MilestoneContainer(this.game, e, t, i, a, s, r)
	}
}), Prodigy.EventFactory = function (e) {
	this.game = e, this._events = {}, this._eventID = 0
}, Prodigy.EventFactory.prototype = {
	create: function () {
		return this._eventID++, new Prodigy.EventController(this.game, this._eventID)
	}
}, Prodigy.EventFactory.prototype.constructor = Prodigy.EventFactory;
var ExternalFactory = function () {
	function e(e) {
		this.game = e
	}
	return e.prototype.openFull = function () {
		this.game.stage.visible = !1
	}, e.prototype.closeFull = function () {
		this.game.stage.visible = !0
	}, e.prototype.question = function (e) {
		this.game.input.keyboard.clearCaptures();
	}, e.prototype.answerQuestion = function (e, t) {
		Util.log("answerQuestion:"), Util.log(t), this.game.input.keyboard.addKeyCapture([Phaser.Keyboard.BACKSPACE]), this.game.prodigy.network.answerQuestion(t), this.closeFull(), Util.isDefined(e) && e(t.wasCorrect, t.respTime)
	}, e.prototype.closeQuestion = function () {
		QI.close(), this.closeFull()
	}, e.prototype.init = function (e) {
		this.game.prodigy.player.grade = e.chosenGrade || 1, QI.init(e)
	}, e.prototype.getUpdatedData = function () {
		return null
	}, e.prototype.getMasteredSkills = function () {
		return null
	}, e.prototype.updateUser = function (e) {
		Util.log("updateUser:"), Util.log(e), this.game.prodigy.network.updateUser(e, function () {})
	}, e.prototype.finishPlacement = function (e) {
		this.game.prodigy.network.finishPlacement(e.grade, this.game.prodigy.player.classIDs), this.game.prodigy.network.sendNotification({
			type: "placement-test:complete:" + e.grade,
			message: {
				userID: this.game.prodigy.player.userID,
				grade: e.grade
			}
		})
	}, e.prototype.finishAssignment = function (e) {
		Util.log("finishAssignment"), Util.log(e), this.game.prodigy.network.completeAssignment(e.assignmentID);
		var t = "";
		t = Util.isDefined(this.skills) ? "assignment:complete:" + e.assignmentID : "assignment:failed:" + e.assignmentID, this.game.prodigy.network.sendNotification({
			type: t,
			message: {
				userID: this.game.prodigy.player.userID,
				assignmentID: e.assignmentID,
				skillID: e.skillID,
				grade: e.grade
			}
		})
	}, e.prototype.finishGrade = function (e) {
		Util.log("finishGrade:"), Util.log(e), this.game.prodigy.network.sendNotification({
			type: "grade:mastered:" + e.grade,
			message: {
				userID: this.game.prodigy.player.userID,
				grade: e.grade
			}
		})
	}, e
}();
Prodigy.Listener.MessageListener = function (e) {
	this.game = e, this.receivers = []
}, Prodigy.Listener.MessageListener.prototype = {
	constructor: Prodigy.Listener.MessageListener,
	add: function (e, t, i) {
		this.receivers.push({
			action: e,
			callback: t,
			once: i
		})
	},
	clear: function (e) {
		if (Util.isDefined(e))
			for (var t = this.receivers.length - 1; t >= 0; t--) {
				var i = this.receivers[t];
				i.action === e && this.receivers.splice(t, 1)
			} else this.receivers = []
	},
	onMessage: function (e) {
		Util.log("Message received: " + e.action);
		for (var t = this.receivers.length - 1; t >= 0; t--) {
			var i = this.receivers[t];
			i.action === e.action && (i.callback(e.data), i.once && this.receivers.splice(t, 1))
		}
	}
}, Prodigy.Broadcaster = function (e) {
	this.callbacks = {}, this.listeners = {}, this.broadcastIdCount = 0, this.game = e
}, Prodigy.Broadcaster.prototype = {
	clear: function () {
		var e, t, i, a;
		for (e in this.callbacks)
			for (i in this.callbacks[e]) {
				for (a = 0; this.callbacks[e][i].length > a;) this.callbacks[e][i].persistent ? a++ : this.callbacks[e][i].pop();
				0 === a && (this.callbacks[e][i] = void 0, delete this.callbacks[e][i])
			}
		for (e in this.listeners)
			for (t in this.listeners[e]) {
				for (a = 0; this.listeners[e][t].length > a;) this.listeners[e][t].persistent ? a++ : this.listeners[e][t].pop();
				0 === a && (this.listeners[e][t] = void 0, delete this.listeners[e][t])
			}
	},
	addAppListener: function (e, t, i, a, s) {
		Util.isDefined(a) || (a = this.game), Util.isDefined(e) && Util.isDefined(t) && Util.isDefined(i) || Util.log("addAppListener - Invalid arguments", Util.ERROR), a = this.hashContext(a), "undefined" == typeof this.callbacks[a] && (this.callbacks[a] = {}), "undefined" == typeof this.listeners[a] && (this.listeners[a] = {}), "undefined" == typeof this.callbacks[a][e] && (this.callbacks[a][e] = []), "undefined" == typeof this.listeners[a][e] && (this.listeners[a][e] = []), this.callbacks[a][e].push(t), this.listeners[a][e].push(i), this.callbacks[a][e].persistent = Util.isDefined(s), this.listeners[a][e].persistent = Util.isDefined(s)
	},
	removeAppListener: function (e, t, i) {
		if (Util.isDefined(i) || (i = this.game), !Util.isDefined(e)) return Util.log("removeAppListener - Invalid arguments", Util.ERROR), void 0;
		if (i = this.hashContext(i), "undefined" != typeof this.callbacks[i] && "undefined" != typeof this.callbacks[i][e] && "undefined" != typeof this.listeners[i] && "undefined" != typeof this.listeners[i][e]) {
			for (var a = 0; a < this.callbacks[i][e].length; a++) Util.isDefined(t) && this.listeners[i][e][a] !== t || (this.callbacks[i][e].splice(a, 1), this.listeners[i][e].splice(a, 1), a--);
			0 === this.callbacks[i][e].length && delete this.callbacks[i][e], 0 === this.listeners[i][e].length && delete this.listeners[i][e]
		}
	},
	broadcast: function (e, t, i) {
		if (Util.isDefined(t) || (t = this.game), Util.isDefined(e) || Util.log("removeAppListener - Invalid arguments", Util.ERROR), t = this.hashContext(t), "undefined" != typeof this.callbacks[t] && "undefined" != typeof this.callbacks[t][e] && "undefined" != typeof this.listeners[t] && "undefined" != typeof this.listeners[t][e]) {
			if (1 === this.callbacks[t][e].length) return this.callbacks[t][e][0].apply(this.listeners[t][e][0], i);
			for (var a = {
					listeners: [],
					output: []
				}, s = 0; s < this.callbacks[t][e].length; s++) a.listeners.push(this.listeners[t][e][s]), a.output.push(this.callbacks[t][e][s].apply(this.listeners[t][e][s], i));
			return a
		}
	},
	hashContext: function (e) {
		return "string" != typeof e ? ("undefined" == typeof e.broadcastId && (e.broadcastId = this.broadcastIdCount, this.broadcastIdCount++), "bId" + e.broadcastId) : e
	}
}, Prodigy.Broadcaster.prototype.constructor = Prodigy.Broadcaster, Prodigy.Random = function (e) {
	this.game = e
}, Prodigy.Random.prototype = {
	constructor: Prodigy.Random,
	range: function (e, t) {
		return Math.floor(Math.random() * (t - e)) + e
	},
	weightedArrayElement: function (e) {
		for (var t = 0, i = [], a = 0; a < e.length; a++) Util.isDefined(e[a].weight) && e[a].weight > 0 && (t += e[a].weight), i.push(t);
		for (var s = Math.random() * t, a = 0; a < e.length; a++)
			if (s < i[a]) return e[a];
		return null
	},
	frac: function (e) {
		this.game.rnd.sow([e]);
		var t = this.game.rnd.frac();
		return this.game.rnd.sow([(Date.now() * Math.random()).toString()]), t
	},
	pick: function (e, t) {
		this.game.rnd.sow([t]);
		var i = this.game.rnd.pick(e);
		return this.game.rnd.sow([(Date.now() * Math.random()).toString()]), i
	},
	shuffleArray: function (e, t) {
		for (var i, a = e.length; 0 !== a;) {
			i = Math.floor(this.frac(t + a) * a), a--;
			var s = e[i];
			e[i] = e[a], e[a] = s
		}
	}
}, Device.isDesktopOrTablet = function (e) {
	return e.device.desktop || navigator.userAgent.indexOf("iPad") >= 0 || navigator.userAgent.indexOf("Android") >= 0 && -1 === navigator.userAgent.indexOf("Mobile")
}, Device.isTablet = function () {
	return navigator.userAgent.indexOf("iPad") >= 0 || navigator.userAgent.indexOf("Android") >= 0 && -1 === navigator.userAgent.indexOf("Mobile")
}, Device.isIE = function () {
	return -1 !== navigator.userAgent.indexOf("Trident")
}, Device.isChrome = function () {
	return navigator.userAgent.indexOf("Chrome") >= 0 || navigator.userAgent.indexOf("CriOS") >= 0
}, Device.iPadMini = function () {
	return navigator.userAgent.indexOf("iPad") >= 0 && (screen.width <= 1024 && screen.height <= 768 || screen.height <= 1024 && screen.width <= 768)
}, Device.isIOS = function () {
	return navigator.userAgent.indexOf("iPad") >= 0 || navigator.userAgent.indexOf("iPhone") >= 0 || navigator.userAgent.indexOf("iPod") >= 0
}, Prodigy.Loader = function (e) {
	this.game = e, this.assetsArray = [], this.timer = setInterval(this.process.bind(this), 100), this.loading = !1
}, Prodigy.Loader.RETRY_TIME = 1e3, Prodigy.Loader.prototype = {
	constructor: Prodigy.Loader,
	setLoader: function (e) {
		this.loader = e, this.loader.crossOrigin = "anonymous", this.loader.baseURL = GameConstants.get("GameConstants.Build.ASSETS_LOCATION"), this.loader.onLoadComplete.add(this.loadComplete.bind(this), this)
	},
	assets: function (e, t) {
		if ("string" == typeof e) {
			for (var i = 0; i < this.assetsArray.length; i++)
				if (1 === this.assetsArray[i].tags.length && this.assetsArray[i].tags[0] === e) return this.assetsArray[i].callbacks.push(t), void 0;
			return this.assetsArray.push({
				tags: [e],
				callbacks: [t],
				retry: 5
			}), void 0
		}
		this.assetsArray.push({
			tags: e,
			callbacks: [t],
			retry: 5
		})
	},
	loadComplete: function () {
		for (var e = this.assetsArray.length - 1; e >= 0; e--) {
			for (var t = this.assetsArray[e], i = !1, a = !1, s = 0; s < t.tags.length; s++)
				if (!this.isFileLoaded(t.tags[s])) {
					a = !0;
					break
				} if (a) {
				if (t.retry <= 0 && (i = !0, Util.isDefined(t.callbacks)))
					for (var r = 0; r < t.callbacks.length; r++) Util.isDefined(t.callbacks[r]) && t.callbacks[r](t.tags, !1)
			} else if (i = !0, Util.isDefined(t.callbacks))
				for (var r = 0; r < t.callbacks.length; r++) Util.isDefined(t.callbacks[r]) && t.callbacks[r](t.tags, !0);
			i && this.assetsArray.splice(e, 1)
		}
		this.loading = !1
	},
	process: function () {
		if (!(!Util.isDefined(this.loader) || this.loading || this.assetsArray.length <= 0)) {
			for (var e = (new Date).getTime(), t = !1, i = 0; i < this.assetsArray.length; i++) {
				var a = this.assetsArray[i];
				if (!a.nextRetry || a.nextRetry <= e) {
					t = !0, a.nextRetry = e + Prodigy.Loader.RETRY_TIME;
					for (var i = 0; i < a.tags.length; i++) this.processFile(a.tags[i])
				}
			}
			t && (this.loading = !0, this.loader.start())
		}
	},
	processFile: function (e) {
		if (Util.isDefined(e) && null !== e && "" !== e && !this.isFileLoaded(e)) try {
			var t = "",
				i = this.game.prodigy.assets.getAsset(e),
				a = t + i.base + i.url;
			if (!Util.isDefined(a)) return;
			var s = a;
			switch (i.type) {
			case "json":
				this.loader.json(e, s, !0);
				break;
			case "sprite":
				this.loader.image(e, s, !1);
				break;
			case "spritesheet":
				var r = i.w,
					o = i.h;
				this.loader.spritesheet(e, s, r, o);
				break;
			case "sfx":
			case "bgm":
				s = "v1/audio/" + e + "/" + i.v + "/" + e, this.loader.audio(e, [s + ".ogg", s + ".mp3"], !0);
				break;
			case "atlas":
				s = "v1/atlases/" + i.key + "/" + i.v + "/" + i.key, this.loader.atlasJSONHash(e, s + ".png", s + ".json");
				break;
			case "localAtlas":
				s = i.base + i.key + "/" + i.v + "/" + i.key, this.loader.atlasJSONHash(e, s + ".png", s + ".json");
				break;
			case "spine":
				s = "v1/spine/" + e + "/" + i.v + "/" + e + ".json", this.loader.spine(e, s);
				break;
			case "singleImage":
				s = "v1/single-images/" + e + "/" + i.v + "/" + e + ".png", this.loader.image(e, s, !1)
			}
		} catch (n) {}
	},
	isFileLoaded: function (e) {
		if (!Util.isDefined(e) || null === e || "" === e) return !0;
		try {
			var t = this.game.prodigy.assets.getAsset(e);
			switch (t.type) {
			case "json":
			case "spine":
				if (!this.game.cache.checkJSONKey(e)) return !1;
				break;
			case "sprite":
			case "spritesheet":
			case "singleImage":
			case "atlas":
				if (!this.game.cache.checkImageKey(e)) return !1;
				break;
			case "localAtlas":
				if (!this.game.cache.checkImageKey(e)) return !1;
				break;
			case "sfx":
			case "bgm":
				if (!this.game.cache.checkSoundKey(e)) return !1
			}
		} catch (i) {}
		return !0
	}
};
var Pathfinder = function () {
	function e(e, t) {
		this.init(e, t), this.callbacks = [], this.events = []
	}
	return e.prototype.addCallback = function (e, t) {
		this.callbacks.push({
			ID: e,
			callback: t
		})
	}, e.prototype.init = function (e, t) {
		this.area = e, this.size = t || 20
	}, e.prototype.getValidCoord = function () {
		for (var e = -1, t = -1, i = 1e3; !this.isNodeOpen(e, t) && i > 0;) e = Math.floor(Math.random() * this.area[0].length), t = Math.floor(Math.random() * this.area.length), i--;
		return [e * this.size, t * this.size]
	}, e.prototype.getCallback = function (e, t) {
		for (var i = 0; i < this.callbacks.length; i++) {
			var a = this.callbacks[i];
			if (a.ID === this.getNodeValue(e, t)) return a.callback
		}
		return null
	}, e.prototype.xyToTile = function (e, t) {
		return {
			x: Math.floor(e / this.size),
			y: Math.floor(t / this.size)
		}
	}, e.prototype.tileToXY = function (e, t) {
		return {
			x: Math.floor((e + .5) * this.size),
			y: Math.floor((t + .5) * this.size)
		}
	}, e.prototype.findBasicPath = function (e, t, i, a) {
		var s = i,
			r = a;
		e = Math.floor(e / this.size), t = Math.floor(t / this.size), i = Math.floor(i / this.size), a = Math.floor(a / this.size);
		var o = this.findNodeBetween({
			x: e,
			y: t
		}, {
			x: i,
			y: a
		});
		return o ? [{
			x: o.x * this.size,
			y: o.y * this.size
		}] : [{
			x: s,
			y: r
		}]
	}, e.prototype.findPath = function (e, t, i, a, s) {
		if (!this.lookingForPath) {
			this.lookingForPath = !0;
			var r = i,
				o = a;
			e = Math.floor(e / this.size), t = Math.floor(t / this.size), i = Math.floor(i / this.size), a = Math.floor(a / this.size);
			var n = new EasyStar.js;
			n.setGrid(this.area), n.setAcceptableTiles([1, 2, 3, 4, 5]), e = e > 63 ? 63 : 0 > e ? 0 : e, i = i > 63 ? 63 : 0 > i ? 0 : i, t = t > 35 ? 35 : 0 > t ? 0 : t, a = a > 35 ? 35 : 0 > a ? 0 : a, n.findPath(e, t, i, a, this.processPath.bind(this, e, t, r, o, s)), n.calculate()
		}
	}, e.prototype.processPath = function (e, t, i, a, s, r) {
		if (Util.isDefined(r)) {
			var o = [];
			o.push(r[0]);
			for (var n = r.length - 1; n > 0 && o[o.length - 1] !== r[n]; n--) {
				var h = this.findNodeBetween(o[o.length - 1], r[n]);
				h || (o.push(r[n]), n = r.length)
			}
			for (var l = [], n = o.length - 1; n > 0; n--) o[n].x *= 20, o[n].y *= 20, l.push(o[n]);
			l[0] = {
				x: i,
				y: a
			}
		}
		Util.isDefined(s) && s(l), this.lookingForPath = !1
	}, e.prototype.findNodeBetween = function (e, t) {
		var i = t.x - e.x,
			a = t.y - e.y,
			s = Math.abs(i) >= Math.abs(a) ? Math.abs(i) : Math.abs(a);
		if (0 === s) return e;
		i /= s, a /= s;
		for (var r = e.x, o = e.y, n = e; r !== t.x || o !== t.y;) {
			if (r += i, o += a, (i > 0 && r > t.x || 0 > i && r < t.x) && (r = t.x), (a > 0 && o > t.y || 0 > a && o < t.y) && (o = t.y), !this.isNodeOpen(Math.floor(r), Math.floor(o))) return n;
			n = {
				x: Math.floor(r),
				y: Math.floor(o)
			}
		}
		return null
	}, e.prototype.isNodeOpen = function (e, t) {
		var i = this.getNodeValue(e, t);
		return i > 0 && 6 != i
	}, e.prototype.getNodeValue = function (e, t) {
		return t < this.area.length && t >= 0 && e < this.area[0].length && e >= 0 ? this.area[t][e] : -1
	}, e.prototype.isPathBlocked = function (e, t, i, a) {
		e = Math.floor(e / this.size), t = Math.floor(t / this.size), i = Math.floor(i / this.size), a = Math.floor(a / this.size);
		var s = this.findNodeBetween({
			x: e,
			y: t
		}, {
			x: i,
			y: a
		});
		return Util.isDefined(s)
	}, e
}();
Prodigy.GameObj = function (e) {
	this.version = "version " + GameConstants.get("GameConstants.Build.VERSION"),
	this.game = e,
	this.game.versioned = window.location.href.indexOf("feature") > -1 || window.location.href.indexOf("release") > -1,
	this.game.clientVersion = this.game.versioned ? null : Util.validateVersion(GameConstants.get("GameConstants.Build.VERSION")),
	this.player = new Player(this.game),
	this.updateCount = 0,
	this.game.broadcaster = new Prodigy.Broadcaster(e),
	this.game.random = new Prodigy.Random(e),
	this.assets = new Prodigy.Assets,
	this.load = new Prodigy.Loader(e),
	this.graphics = new Prodigy.Controller.GraphicsController(e),
	this.audio = new Prodigy.Controller.AudioController(e),
	this.mail = new Prodigy.MailController(e),
	this.battle = new Prodigy.Controller.BattleController(e),
	this.pvp = new Prodigy.Controller.PVPController(e),
	this.achievements = new Prodigy.Controller.AchievementController(e),
	this.surveyController = new Prodigy.Controller.SurveyController(e),
	this.open = new Prodigy.MenuFactory(e),
	this.effects = new Prodigy.EffectFactory(e),
	this.event = new Prodigy.EventFactory(e),
	this.dialogue = new Prodigy.DialogueFactory(e),
	this.education = new ExternalFactory(e),
	this.skin = new Prodigy.SkinFactory(e),
	this.create = new Prodigy.Factory.AdvGameObjectFactory(e),
	this.animation = new Prodigy.GenAnimation(e),
	this.chat = new Prodigy.ChatManager,
	this.network = new NetworkManager(e),
	this.bounty = new Prodigy.BountyManager(e),	
	this.affixes = new Prodigy.AffixManager(e),
	this.attacks = new Prodigy.Attacks(e),
	this.mailNetworkHandler = new Prodigy.NetworkHandlers.MailerNetworkHandler(e),
	this.friendsListNetworkHandler = new Prodigy.NetworkHandlers.FriendsListNetworkHandler(e),
	this.messageListener = new Prodigy.Listener.MessageListener(e),
	this.world = new Prodigy.World(e),
	this.canvas = null,
	this.dialogues = new Prodigy.Dialogues,
	this.hints = new Prodigy.Hints,
	this.emailDomains = new Prodigy.EmailDomains,
	this.dailyLoginBonusRewards = new Prodigy.DailyLoginBonusRewards,
	this.twilightWheelPrizes = new Prodigy.TwilightWheelPrizes(e),
	this.updateCount = 0,
	this.debug = new Prodigy.Debug(e),
	Util.log(this.version, Util.INFO)
}, Prodigy.GameObj.prototype = {
	constructor: Prodigy.GameObj,
	init: function (e) {
		this.textureBelow = e.add.renderTexture(1280, 720), this.textureAbove = e.add.renderTexture(1280, 720), this.textureMenu = e.add.renderTexture(1280, 720), this.textureExtra = e.add.renderTexture(1280, 720)
	},
	update: function () {
		this.updateCount++, this.game.broadcaster.broadcast(Prodigy.Events.GameObj.UPDATE, this.game, null)
	},
	cleanup: function () {
		this.mail.cleanup(), this.open.cleanup(), this.messageListener.clear(), this.game.broadcaster.clear()
	},
	start: function (e, t, i) {
		t = t || {}, t.target = e, t.assets = t.assets || [], t.assets = t.assets.concat(this.game.state.states[e].assets), this.game.state.states[e]._screenData = i, "PVP" === e ? this.game.state.states.PVPLoading.startLoading(t) : Util.isDefined(this.game.state.states[this.game.state.current].fadeOut) ? this.game.state.states[this.game.state.current].fadeOut(t.fadeOut, this.game.state.states.Loading.startLoading.bind(this.game.state.states.Loading, t)) : this.game.state.states.Loading.startLoading(t)
	},
	loading: function (e, t) {
		this.game.input.enabled = !e || t, e ? (Util.isDefined(this.spinner) || (this.spinner = this.create.sprite(640, 360, "core", "loading"), this.game.broadcaster.broadcast(Prodigy.Events.Screen.ADD_CHILD, this.game, [this.spinner, "overlay"])), this.spinner.alpha = 1, this.spinner.anchor.setTo(.5, .5), this.game.add.tween(this.spinner).to({
			angle: 360
		}, 1500, Phaser.Easing.Linear.None, !0, 0, Number.MAX_VALUE, !1), this.game.add.tween(this.spinner).to({
			alpha: 1
		}, 500, Phaser.Easing.Linear.None, !0, 300)) : Util.isDefined(this.spinner) && this.spinner.destroy()
	}
}, Prodigy.GenAnimation = function (e) {
	this.game = e
}, Prodigy.GenAnimation.prototype = {
	constructor: Prodigy.GenAnimation,
	"float": function (e, t, i, a, s) {
		s = s || !1;
		var r = this.game.add.tween(e).to({
			y: "-" + t
		}, i, Phaser.Easing.Quadratic.InOut).to({
			y: "+" + t
		}, i, Phaser.Easing.Quadratic.InOut);
		return a && r.loop(), s && r.start(), r
	},
	translate: function (e, t, i, a, s, r, o) {
		o = o || !1, Util.isDefined(s) || (s = 0), Util.isDefined(s) || (r = Phaser.Easing.Linear.None);
		var n = this.game.add.tween(e).delay(s).to({
			x: t,
			y: i
		}, a, r);
		return o && n.start(), n
	},
	rotate: function (e, t, i, a, s, r) {
		r = r || !1, Util.isDefined(a) || (a = 0), Util.isDefined(a) || (s = Phaser.Easing.Linear.None);
		var o = this.game.add.tween(e).delay(a).to({
			angle: t
		}, i, s);
		return r && o.start(), o
	},
	fade: function (e, t, i, a, s, r) {
		r = r || !1, Util.isDefined(a) || (a = 0), Util.isDefined(a) || (s = Phaser.Easing.Linear.None);
		var o = this.game.add.tween(e).delay(a).to({
			alpha: t
		}, i, s);
		return r && o.start(), o
	},
	hop: function (e, t, i, a, s, r, o) {
		o = o || !1, r = r || !1;
		var n = this.game.add.tween(e).to({
			x: t
		}, s, Phaser.Easing.Linear.None);
		r && n.to({
			alpha: 0
		}, 10, Phaser.Easing.Linear.None);
		var h = {
			tween: n,
			tween2: this.game.add.tween(e).to({
				y: i
			}, s / 2, Phaser.Easing.Quadratic.Out).to({
				y: a
			}, s / 2, Phaser.Easing.Quadratic.In),
			start: function () {
				return this.tween.start(), this.tween2.start(), this
			},
			onComplete: {
				tween: n,
				add: function (e) {
					this.tween.onComplete.add(e.bind(this))
				}
			}
		};
		return o && h.start(), h
	}
}, Prodigy.Debug = function () {}, Prodigy.Debug.ROULETTE = -1, Prodigy.Debug.prototype = {
	constructor: Prodigy.Debug,
	setup: function (e) {
		if (enableDebug = GameConstants.enableDebug.bind(this, e), GameConstants.get("GameConstants.Build.DEBUG")) {
			this.enableDebugCalls(e, !0);
			var t = GameConstants.get("GameConstants.Debug.AUTO_LOGIN");
			if (t.length > 0) {
				var i = e.state.states.Login;
				i.username = t[0], i.password = t[1], i.login();
				var a = function (e, t) {
					("CharSelect" === t || "CharCreate" === t) && (e.time.events.add(500, this.applyDebugOptions, this), e.state.onStateChange.removeAll(this))
				}.bind(this, e);
				e.state.onStateChange.add(a, this)
			} else this.applyDebugOptions(e)
		}
	},
	applyDebugOptions: function (e) {
		GameConstants.get("GameConstants.Build.MUTE_BGM") && mute(), GameConstants.get("GameConstants.Build.KILL_GORE") && killGore(), GameConstants.get("GameConstants.Build.EASY_MODE") && easyMode(!0);
		var t = GameConstants.get("GameConstants.Build.TELEPORT");
		"" !== t && tp(t);
		var i = GameConstants.get("GameConstants.Build.QUEST");
		i.length > 1 && (setQuest(i[0], i[1]), 3 === i.length && setTimeout(tp, 6e3, i[2]));
		var a = GameConstants.get("GameConstants.Build.ITEM_TYPE");
		a.length > 0 && getItemType(a[0], a[1]), "" !== t && tp(t), GameConstants.get("GameConstants.Build.MEMBERSHIP") && setMembership();
		var s = GameConstants.get("GameConstants.Debug.GET_PET");
		if (s.length > 0 && (getPet(s[0], s[1], s[2], s[3]), s[4] && (e.prodigy.player.kennel.setTeam(e.prodigy.player.kennel.data[0], 0), e.prodigy.player.kennel.setTeam(e.prodigy.player.data, 1))), GameConstants.get("GameConstants.Debug.SET_LEVEL") > 0) {
			var r = Prodigy.Creature.starsToLevel(GameConstants.get("GameConstants.Debug.SET_LEVEL"));
			addStars(r - 10)
		}
		GameConstants.get("GameConstants.Debug.GET_GOLD") > 0 && getGold(GameConstants.get("GameConstants.Debug.GET_GOLD")), GameConstants.get("GameConstants.Debug.GET_SPELL") > 0 && getSpell(GameConstants.get("GameConstants.Debug.GET_SPELL")), GameConstants.get("GameConstants.Debug.COMPLETE_TUTORIAL") && completeTutorial()
	},
	enableDebugCalls: function (e) {
		GameConstants.get("GameConstants.Build.DEBUG") && (getKeyItems = this.getKeyItems.bind(this, e), playScene = this.playScene.bind(this, e), setQuest = this.debugQuest.bind(this, e), setState = this.setState.bind(this, e), deleteState = this.deleteState.bind(this, e), initQuest = this.initQuest.bind(this, e), setEmail = this.setParentEmail.bind(this, e), addStars = this.addStars.bind(this, e), tpTowerFloor = this.tpTowerFloor.bind(this, e), tp = this.tp.bind(this, e), inspect = this.inspect.bind(this, e), showLayer = this.showLayer.bind(this, e), showCollide = this.showCollide.bind(this, e), answer = this.answer.bind(this, e), hoard = this.hoard.bind(this, e), drDino = this.drDino.bind(this, e), grabBag = this.grabBag.bind(this, e), getItem = this.getItem.bind(this, e), getItemType = this.getItemType.bind(this, e), getCurrency = this.getCurrency.bind(this, e), getPet = this.getPet.bind(this, e), getBounty = this.getBounty.bind(this, e), getSpell = this.getSpell.bind(this, e), getGold = this.getGold.bind(this, e), bookWorm = this.bookWorm.bind(this, e), smallLoan = this.smallLoan.bind(this, e), SAD = this.setAchievementData.bind(this, e), setArenaScore = this.setArenaScore.bind(this, e), mute = this.mute.bind(this, e), testVoice = this.testVoice.bind(this, e), testEventDaily = this.testEventDaily.bind(this, e), changeDailyBonusDay = this.changeDailyBonusDay.bind(this, e), changeEventDay = this.changeEventDay.bind(this, e), resetHouseVisitingBreadcrumbs = this.resetHouseVisitingBreadcrumbs.bind(this, e), resetHouseMovingBreadcrumbs = this.resetHouseMovingBreadcrumbs.bind(this, e), currentBGM = this.currentBGM.bind(this, e), setRoulette = this.setRoulette.bind(this, e), addFriend = this.addFriend.bind(this, e), removeFriend = this.removeFriend.bind(this, e), getFriendsList = this.getFriendsList.bind(this, e), triggerFailure = this.triggerFailure.bind(this, e), getAllPotions = this.getAllPotions.bind(this, e), resetSurvey = this.resetSurvey.bind(this, e), forceDrops = this.forceDrops.bind(this, e), player = this.player.bind(this, e), setMembership = this.setMembership.bind(this, e), killGore = this.killGore.bind(this, e), greedIsGood = this.greedIsGood.bind(this, e), greedIsOkay = this.greedIsOkay.bind(this, e), godHand = this.godHand.bind(this, e), easyMode = this.easyMode.bind(this, e), getEpic = this.getEpic.bind(this, e), savePlayer = this.savePlayer.bind(this, e), loadPlayer = this.loadPlayer.bind(this, e), autoClick = this.autoClick.bind(this, e), autoClick = this.autoClick.bind(this, e), completeTutorial = this.completeTutorial.bind(this, e), getGame = this.getGame.bind(this, e), setEpicArena = this.setEpicArena.bind(this, e), showAreaEvents = this.showAreaEvents.bind(this, e), showBounties = this.showAllBounties.bind(this, e), setWOWSpinTime = this.setWOWSpinTime.bind(this, e), setClientVersion = this.setClientVersion.bind(this, e), resetDayWOWSpins = this.resetDayWOWSpins.bind(this, e), resetNightWOWSpins = this.resetNightWOWSpins.bind(this, e), resetAllWOWSpins = this.resetAllWOWSpins.bind(this, e), setNightWOWRewardIndex = GameConstants.setNightWOWRewardIndex.bind(this, e), testRandom = this.testRandom.bind(this, e), enableSplitTestGroups = this.enableSplitTestGroups.bind(this, e), enableVerboseMetrics = this.enableVerboseMetrics.bind(this, e), changeDayLength = this.changeDayLength.bind(this, e), forceActivityZoneMonsterId = this.forceActivityZoneMonsterId.bind(this, e))
	},
	playScene: function (e, t, i) {
		e.prodigy.world.playScene(t + "-" + i)
	},
	debugQuest: function (e, t, i, a, s) {
		var t = e.prodigy.world.getZone(t);
		t.testQuest(i, a, s);
		try {
			e.state.states.TileScreen.process()
		} catch (r) {}
	},
	setState: function (e, t, i, a) {
		var t = e.prodigy.world.getZone(t);
		t.setState(i, a)
	},
	deleteState: function (e, t) {
		delete e.prodigy.player.state.data.zone[t]
	},
	initQuest: function (e) {
		var t, i = [],
			a = function (t) {
				var i = e.prodigy.player.state.data.zone[t],
					a = 0;
				return Util.isDefined(i) && (a |= i.quest.ID), a
			};
		t = a("lamplight"), t > 1 && i.push({
			ID: 13,
			type: "key"
		}), t = a("forest"), t > 4 && i.push({
			type: "spell",
			ID: 13
		}, {
			type: "item",
			ID: 67
		}), t > 8 && i.push({
			type: "spell",
			ID: 14
		}, {
			type: "item",
			ID: 69
		}), t > 10 && e.prodigy.player.backpack.consume("item", 69, 1), t > 13 && i.push({
			type: "spell",
			ID: 15
		}, {
			type: "key",
			ID: 3
		}), t = a("shiverchill"), t > 2 && i.push({
			type: "item",
			ID: 71
		}), t > 3 && (setState("shiverchill", "furnace", 1), i.push({
			type: "spell",
			ID: 19
		})), t > 4 && i.push({
			type: "item",
			ID: 75
		}), t > 5 && i.push({
			type: "item",
			ID: 72
		}), t > 6 && i.push({
			type: "hat",
			ID: 54
		}), t > 10 && (setState("shiverchill", "furnace", 2), i.push({
			type: "spell",
			ID: 20
		})), t > 12 && i.push({
			type: "outfit",
			ID: 47
		}, {
			type: "item",
			ID: 74,
			N: 5
		}), t > 14 && (setState("shiverchill", "furnace", 3), i.push({
			type: "spell",
			ID: 21
		})), t > 15 && i.push({
			type: "weapon",
			ID: 74
		}, {
			type: "key",
			ID: 4
		}), t = a("skywatch"), t > 2 && (setState("skywatch", "windowBroken", 1), i.push({
			type: "item",
			ID: 87,
			N: 1
		})), t > 3 && i.push({
			type: "key",
			ID: 8
		}), t > 4 && (setState("skywatch", "vines-D1", 1), setState("skywatch", "vines-D2", 1), setState("skywatch", "plug-D3", 1), setState("skywatch", "vines-D3", 1), setState("skywatch", "plug-B3", 1), setState("skywatch", "vines-B3", 1), setState("skywatch", "plug-C4", 1), setState("skywatch", "vines-C4", 1), i.push({
			type: "spell",
			ID: 25
		})), t > 6 && i.push({
			type: "item",
			ID: 81
		}), t > 7 && (i.push({
			type: "key",
			ID: 9
		}), e.prodigy.player.backpack.consume("item", 87, 1)), t > 8 && i.push({
			type: "outfit",
			ID: 5
		}), t > 10 && i.push({
			type: "spell",
			ID: 26
		}), t > 11 && i.push({
			type: "hat",
			ID: 8
		}), t > 12 && i.push({
			type: "item",
			ID: 83
		}), t > 13 && i.push({
			type: "spell",
			ID: 27
		}, {
			type: "key",
			ID: 10
		}), t = a("bonfire_spire"), t > 1 && setState("bonfire_spire", "lever1", 1), t > 2 && setState("bonfire_spire", "lever2", 1), t > 3 && (setState("bonfire_spire", "lever3", 1), i.push({
			type: "hat",
			ID: 65
		})), t > 4 && i.push({
			type: "spell",
			ID: 1
		}, {
			type: "item",
			ID: 88
		}), t > 5 && i.push({
			type: "spell",
			ID: 1
		}), t > 7 && i.push({
			type: "outfit",
			ID: 56
		}), t > 9 && i.push({
			type: "item",
			ID: 91,
			N: 1
		}), t > 10 && e.prodigy.player.backpack.consume("item", 91, 1), t > 11 && i.push({
			type: "spell",
			ID: 2
		}, {
			type: "item",
			ID: 92
		}), t > 12 && (i.push({
			type: "key",
			ID: 12
		}), e.prodigy.player.backpack.consume("item", 92, 1)), t > 13 && i.push({
			type: "weapon",
			ID: 81
		}), t > 14 && i.push({
			type: "spell",
			ID: 3
		}, {
			type: "key",
			ID: 11
		});
		for (var s = [], r = 0; r < i.length; r++) {
			var o = i[r];
			"key" === o.type && e.prodigy.player.backpack.hasItem("key", o.ID) || "spell" === o.type && Util.isDefined(e.prodigy.player.data.spells) && -1 !== e.prodigy.player.data.spells.indexOf(o.ID) || s.push(o)
		}
		s.length > 0 && e.prodigy.open.gotItem(s, null)
	},
	setParentEmail: function (e, t) {
		e.prodigy.player.setParentEmail(t)
	},
	addStars: function (e, t) {
		e.prodigy.player.addStars(t, null, null, !0)
	},
	setMembership: function (e) {
		e.prodigy.player.setMembership()
	},
	tpTowerFloor: function (e, t) {
		e.state.states.Tower.startX = 602, e.state.states.Tower.startY = 150, e.state.states.Tower.floor = t, e.state.states.Tower.cleared = !1, e.prodigy.start("Tower")
	},
	tp: function (e, t, i, a) {
		e.prodigy.world.teleport(t, i, a)
	},
	easyMode: function (e, t) {
		this.disableEdu = t
	},
	inspect: function (e, t) {
		t ? Util.log(e.prodigy.player[t].data) : Util.log(e.prodigy.player.data)
	},
	showLayer: function (e, t, i) {
		e.state.states.TileScreen[t].visible = i
	},
	showCollide: function (e) {
		e.state.states.TileScreen.debug()
	},
	answer: function (e) {
		e.prodigy.education.question()
	},
	killGore: function (e, t) {
		Util.isDefined(t) === !1 && (t = 31), Prodigy.Attacks.data[t - 1].damage = 200
	},
	godHand: function (e, t, i) {
		Prodigy.Attacks.data[t].damage = i
	},
	player: function (e) {
		return e.prodigy.player
	},
	hoard: function (e) {
		for (var t = 1; 29 > t; t++) e.prodigy.player.backpack.add("boots", t);
		for (var t = 1; 53 > t; t++) e.prodigy.player.backpack.add("outfit", t);
		for (var t = 1; 78 > t; t++) e.prodigy.player.backpack.add("weapon", t);
		for (var t = 1; 62 > t; t++) e.prodigy.player.backpack.add("hat", t);
		for (var t = 1; 78 > t; t++) e.prodigy.player.backpack.add("item", t);
		for (var t = 1; 8 > t; t++) e.prodigy.player.backpack.add("key", t);
		for (var t = 1; 25 > t; t++) e.prodigy.player.backpack.add("fossil", t);
		for (var t = 1; 10 > t; t++) e.prodigy.player.backpack.add("relic", t)
	},
	drDino: function (e) {
		for (var t = 13; 25 > t; t++) e.prodigy.player.backpack.add("fossil", t)
	},
	grabBag: function (e) {
		for (var t = 1; t < 29 * Math.random(); t++) e.prodigy.player.backpack.add("boots", Math.floor(28 * Math.random() + 1));
		for (var t = 1; t < 55 * Math.random(); t++) e.prodigy.player.backpack.add("outfit", Math.floor(54 * Math.random() + 1));
		for (var t = 1; t < 80 * Math.random(); t++) e.prodigy.player.backpack.add("weapon", Math.floor(79 * Math.random() + 1));
		for (var t = 1; t < 64 * Math.random(); t++) e.prodigy.player.backpack.add("hat", Math.floor(63 * Math.random() + 1));
		for (var t = 1; t < 78 * Math.random(); t++) e.prodigy.player.backpack.add("item", Math.floor(77 * Math.random() + 1));
		for (var t = 1; t < 21 * Math.random(); t++) e.prodigy.player.backpack.add("relic", Math.floor(20 * Math.random() + 1));
		for (var t = 1; t < 72 * Math.random(); t++) e.prodigy.player.backpack.add("dorm", Math.floor(71 * Math.random() + 1));
		for (var t = 1; t < 25 * Math.random(); t++) e.prodigy.player.backpack.add("fossil", Math.floor(24 * Math.random() + 1))
	},
	getItemType: function (e, t, i, a) {
		var s = [{
			type: t,
			ID: i,
			N: a || 1
		}];
		e.prodigy.open.gotItem(s)
	},
	getCurrency: function (e, t, i) {
		var a = [];
		a.push({
			type: "currency",
			ID: t,
			N: i
		}), e.prodigy.open.gotItem(a)
	},
	getKeyItems: function (e) {
		e.prodigy.player.backpack.add("key", 1), e.prodigy.player.backpack.add("key", 2), e.prodigy.player.backpack.add("key", 3), e.prodigy.player.backpack.add("key", 4), e.prodigy.player.backpack.add("key", 8), e.prodigy.player.backpack.add("key", 9), e.prodigy.player.backpack.add("key", 10), e.prodigy.player.backpack.add("key", 11), e.prodigy.player.backpack.add("key", 12), e.prodigy.player.backpack.add("key", 13)
	},
	getItem: function (e) {
		{
			var t = [],
				i = [{
					type: "hat",
					n: 63
				}, {
					type: "outfit",
					n: 54
				}, {
					type: "weapon",
					n: 79
				}, {
					type: "boots",
					n: 28
				}, {
					type: "relic",
					n: 10
				}],
				a = Math.floor(5 * Math.random()),
				s = i[a].type,
				r = Math.floor(2 * Math.random()),
				o = Math.floor(2 * Math.random());
			Math.floor(2 * Math.random())
		}
		o && t.push({
			type: s,
			ID: Math.floor(Math.random() * i[a].n + 1)
		});
		for (var n = 0; n < Math.floor(5 * Math.random()); n++) t.push({
			type: "item",
			ID: Math.floor(77 * Math.random() + 1)
		});
		if (r)
			for (var n = 0; n < Math.floor(5 * Math.random()); n++) t.push({
				type: "gold",
				N: 100
			});
		0 === t.length ? this.getItem(e) : e.prodigy.open.gotItem(t)
	},
	getPet: function (e, t, i, a, s) {
		t = Util.isDefined(t) ? t : Math.floor(Math.random() * Monsters.MAX_ID + 1), i = Util.isDefined(i) ? i : Math.floor(99 * Math.random() + 1), a = Util.isDefined(a) ? a : Number.MAX_VALUE, s = Util.isDefined(s) ? s : Prodigy.Creature.starsToLevel(i - 1);
		var r = Monsters.getItemData(t);
		e.prodigy.open.gotItem([{
			type: "pet",
			ID: t,
			data: {
				ID: t,
				hp: a,
				stars: s,
				nickname: r.name,
				level: i
			}
		}])
	},
	getEpic: function (e, t) {
		t = Util.isDefined(t) ? t : 125, t > 129 || 125 > t || (getPet(t, 20), player().backpack.add("follow", t))
	},
	savePlayer: function (e) {
		var t = ["player", "game"],
			i = function (e, i) {
				return t.includes(e) ? (Util.log(e), void 0) : i
			},
			a = {
				savedPlayer: {},
				meta: {}
			};
		a.savedPlayer = e.prodigy.player, a.meta.loadPosition = e.broadcaster.broadcast(Prodigy.Events.PlayerLocomotion.GET_TARGET, e, [!0]);
		var s = JSON.stringify(a, i),
			r = document.createElement("a");
		r.download = e.prodigy.player.appearance.data.name + ".json", r.href = "data:," + s, r.click()
	},
	loadPlayer: function (e) {
		function t(t) {
			function i(e, t) {
				for (var a in t) e[a] = "object" == typeof t[a] ? "data" != a && Util.isDefined(e[a]) ? i(e[a], t[a]) : t[a] : t[a];
				return e
			}
			Util.log("LOADED PLAYER DATA");
			var a = JSON.parse(t);
			e.prodigy.player = i(e.prodigy.player, a.savedPlayer), Util.isDefined(a.meta.loadPosition) ? tp(a.savedPlayer.data.zone, a.meta.loadPosition.x, a.meta.loadPosition.y) : tp(a.savedPlayer.data.zone)
		}

		function i(e) {
			e.stopPropagation(), e.preventDefault();
			var i = e.target.files,
				a = new FileReader,
				s = i[0];
			a.onload = function (e) {
				t(e.target.result)
			}, a.readAsText(s)
		}
		var a = document.createElement("input");
		a.type = "file", a.addEventListener("change", i, !1), a.click()
	},
	getBounty: function (e) {
		e.prodigy.open.gotItem([{
			type: "bounty",
			N: 100
		}]), e.prodigy.player.addBountyScore(100)
	},
	getSpell: function (e, t) {
		e.prodigy.open.gotItem([{
			type: "spell",
			ID: Util.isDefined(t) ? t : Math.floor(35 * Math.random() + 1)
		}])
	},
	getGold: function (e, t) {
		var i = [];
		i.push({
			type: "gold",
			N: t
		}), e.prodigy.open.gotItem(i)
	},
	smallLoan: function (e, t) {
		e.prodigy.player.changeGold(t || 1e6)
	},
	bookWorm: function (e) {
		for (var t = 1; 37 > t; t++) 31 !== t && e.prodigy.player.addSpell(t)
	},
	setAchievementData: function (e, t, i) {
		e.prodigy.player.achievements.increment(t, i)
	},
	setArenaScore: function (e, t) {
		e.prodigy.player.data.arenaScore = t
	},
	mute: function (e) {
		e.prodigy.audio.setMute(!0)
	},
	greedIsGood: function (e) {
		this.mute(e), this.bookWorm(e), this.hoard(e), this.smallLoan(e), this.killGore(e), this.easyMode(e, !0)
	},
	greedIsOkay: function (e) {
		this.killGore(e), this.easyMode(e, !0), e.prodigy.player.isMember = !0
	},
	testVoice: function (e, t, i, a) {
		for (var s = e.prodigy.event.create(), r = i; a >= r; r++) s.text(r, t);
		s.start()
	},
	testEventDaily: function (e, t, i) {
		for (var a = [{
				"lamplight-A2": [1080, 560, 1080, 640]
			}, {
				"lamplight-A3": [275, 250, 320, 240]
			}, {
				"lamplight-A4": [160, 560, 120, 600]
			}, {
				"lamplight-B2": [460, 470, 440, 520]
			}, {
				"lamplight-B3": [130, 630, 80, 680]
			}, {
				"lamplight-B4": [960, 560, 960, 600]
			}, {
				"lamplight-B5": [80, 355, 40, 360]
			}, {
				"lamplight-C2": [120, 560, 40, 520]
			}, {
				"lamplight-C3": [360, 630, 280, 600]
			}, {
				"lamplight-C4": [270, 188, 360, 120]
			}], s = null, r = 0; r < a.length; r++) Util.isDefined(a[r][i]) && (s = r);
		var o = new Date;
		e.prodigy.player.data[t].date = {
			d: o.getUTCDate(),
			m: o.getUTCMonth(),
			y: o.getUTCFullYear()
		}, e.prodigy.player.data[t].isComplete = 0, e.prodigy.player.data[t].dailyLocation = a[s]
	},
	changeDailyBonusDay: function (e) {
		var t = new Date;
		e.prodigy.player.data.dailyLoginBonus.date = {
			d: t.getUTCDate() + 1,
			m: t.getUTCMonth(),
			y: t.getUTCFullYear()
		}, e.prodigy.player.updated = !0
	},
	changeEventDay: function (e, t) {
		var i = new Date;
		e.prodigy.player.data[t].date = {
			d: i.getUTCDate() + 1,
			m: i.getUTCMonth(),
			y: i.getUTCFullYear()
		}, e.prodigy.player.updated = !0
	},
	resetHouseVisitingBreadcrumbs: function (e) {
		e.prodigy.world.getZone("house").setState("hasClickedWorldMap"), e.prodigy.world.getZone("house").setState("hasClickedHouseIcon"), e.prodigy.world.getZone("house").setState("hasClickedLockButton"), e.prodigy.world.getZone("house").setState("hasClickedPlayerCardVisit")
	},
	resetHouseMovingBreadcrumbs: function (e) {
		var t = e.prodigy.world.getZone("house");
		t.setState("houseMovingBreadcrumbs")
	},
	currentBGM: function (e) {
		Util.log("Current BGM: " + e.prodigy.audio.currentBgm.key)
	},
	setRoulette: function (e, t) {
		Prodigy.Debug.ROULETTE = t
	},
	autoClick: function (e, t) {
		e.broadcaster.broadcast(Prodigy.Events.Debug.AUTO_CLICK, e, [t])
	},
	completeTutorial: function (e) {
		setQuest("house", 2), setQuest("lamplight", 3), e.prodigy.player.backpack.addKeyItem(13)
	},
	resetSurvey: function (e) {
		e.prodigy.player.data.survey = 0
	},
	forceDrops: function (e, t) {
		GameConstants.setDrops(e, t)
	},
	getGame: function (e) {
		return e
	},
	addFriend: function (e, t) {
		e.prodigy.friendsListNetworkHandler.sendFriendRequest(t)
	},
	removeFriend: function (e, t) {
		e.prodigy.friendsListNetworkHandler.removeFriend(t)
	},
	getFriendsList: function (e) {
		Util.log(e.prodigy.friendsListNetworkHandler.friendsList, Util.DEBUG)
	},
	triggerFailure: function (e) {
		e.prodigy.friendsListNetworkHandler.networkCallFailure()
	},
	getAllPotions: function (e, t) {
		for (var i = [], a = 96; 111 >= a; a++) i.push({
			type: "item",
			ID: a,
			N: t || 1
		});
		e.prodigy.open.gotItem(i)
	},
	setEpicArena: function (e, t, i, a) {
		Util.isDefined(t) && Util.isDefined(i) && Util.isDefined(a) && (Prodigy.Menu.SlotMachine.FORCED_RESULT = [t, i, a])
	},
	showAreaEvents: function (e, t) {
		TileScreen.DEBUG_DRAW_AREA_EVENTS = t
	},
	setWOWSpinTime: function (e, t) {
		var i = t;
		(!Util.isDefined(i) || 0 >= i) && (i = -1), Prodigy.Component.Wheel.DEBUG_SPIN_TIME_MS = i, Wheel_A.DEBUG_SPIN_TIME_MS = i
	},
	resetDayWOWSpins: function (e) {
		Util.isDefined(e.prodigy.player.data.spinDate) && delete e.prodigy.player.data.spinDate.dates, delete e.prodigy.player.data.numSpins, e.prodigy.player.updated = !0
	},
	resetNightWOWSpins: function (e) {
		Util.isDefined(e.prodigy.player.data.spinDate) && delete e.prodigy.player.data.spinDate.twilightDates, e.prodigy.player.updated = !0
	},
	resetAllWOWSpins: function (e) {
		delete e.prodigy.player.data.spinDate, delete e.prodigy.player.data.numSpins, e.prodigy.player.updated = !0
	},
	setClientVersion: function (e, t) {
		e.prodigy.network.api.clientVersion = t
	},
	testRandom: function (e, t, i, a) {
		for (var s = 0, r = null, o = 0; t > o; o++) r = _.shuffle(_.range(i)), r[0] === a && s++;
		Util.log("Randomized " + a + " " + s + " times.", Util.INFO)
	},
	enableSplitTestGroups: function () {
		if (Player.DEBUG_SPLIT_GROUPS = [], !(arguments.length < 2))
			for (var e = 1; e < arguments.length; e++) Player.DEBUG_SPLIT_GROUPS.push(arguments[e])
	},
	enableVerboseMetrics: function (e, t) {
		Util.isDefined(t) ? NetworkManager.VERBOSE_ANALYTICS = t : Util.log("enableVerboseMetrics expects a boolean parameter.  No action taken.", Util.ERROR)
	},
	changeDayLength: function (e, t) {
		Util.DEBUG_DAY_LENGTH = Util.isDefined(t) ? t : 864e5
	},
	forceActivityZoneMonsterId: function (e, t) {
		Util.isDefined(t) ? (Prodigy.Activity_ZoneUtil.FORCE_MONSTER_TYPE = !0, Prodigy.Activity_ZoneUtil.MONSTER_ID = t) : Prodigy.Activity_ZoneUtil.FORCE_MONSTER_TYPE = !1
	},
	showAllBounties: function (e, t) {
		var i = e.prodigy.world.getZone(t);
		i.debugBounties = !0
	}
}, Prodigy.ChatManager = function () {
	for (var e in Monsters.data) Prodigy.ChatManager.CHAT.push(Monsters.data[e].name);
	for (e in Items.data)
		if ("female-hair" !== e && "male-hair" !== e)
			for (var t = Items.data[e], i = 0; i < t.length; i++) Prodigy.ChatManager.CHAT.push(t[i].name);
	for (i = 0; i < Prodigy.ChatManager.CHAT.length; i++) Prodigy.ChatManager.CHAT[i] = Util.capitalize(Prodigy.ChatManager.CHAT[i])
}, Prodigy.ChatManager.prototype = {
	constructor: Prodigy.ChatManager,
	getEmotes: function () {
		return Prodigy.ChatManager.EMOTES
	},
	getEmote: function (e) {
		return Prodigy.ChatManager.EMOTES[e]
	},
	getPhrases: function () {
		return Prodigy.ChatManager.CHAT
	},
	getPhrase: function (e) {
		return Prodigy.ChatManager.CHAT[e]
	},
	getPhraseID: function (e) {
		for (var t = Prodigy.ChatManager.CHAT, i = 0; i < t.length; i++)
			if (t[i] === e) return i;
		return 0
	}
}, Prodigy.ChatManager.EMOTES = ["apple", "exclamation", "question", "tear", "clover", "swear", "frustration", "dot", "moon", "music", "heart", "star", "cake", "sun", "idea"], Prodigy.ChatManager.CHAT = ["all right", "all good", "abracadabra!", "animals!", "are you coming?", "are you leaving?", "are you staying?", "are you having fun?", "bad", "busy", "bye", "bye bye", "boring", "bought it", "but...", "barely", "because", "can't right now", "check it out", "come over here", "crud", "do you have a minute?", "do you have...", "did you see that?", "did you catch...", "don't bother", "dude", "depends", "everyone look!", "elementary", "follow me", "friends?", "forget it", "fun!", "found you!", "found it!", "funderful", "freaky", "go away", "good", "goodbye", "greetings!", "good morning", "good night", "good afternoon", "good to know", "ghosts!", "great!", "guess again", "guess", "golly", "got to go", "hi", "hello", "hello there!", "hey", "how are you?", "how?", "happy", "help me", "i caught a...", "i got a...", "i have to go", "i have to leave", "i leveled up!", "i love Prodigy!", "i like your hair", "i like your outfit", "i like your hat", "i like your wand", "i like your pet", "i like this place", "i don't like it here", "i like it here", "it's spooky here", "it's super rare!", "it's time", "i'm rich!", "just kidding!", "just you wait", "joking!", "jealous?", "keep going", "keep it up!", "keep walking", "leave me alone", "look", "look at this!", "love it!", "let's go!", "let's battle!", "let me see", "locked!", "my favorite is...", "my favorite item is...", "my favorite pet is...", "maybe", "make me", "made it!", "many thanks!", "made tons of gold!", "neat", "no", "not right now", "not today", "never mind", "nah", "no can do", "never", "now?", "now", "nooooo way!", "over", "over here", "one of these is a...", "okay", "ominous", "puyoy!", "perhaps", "party time!", "pretty cool...", "practice!", "quack quack", "quite", "quiet!", "right", "right behind you", "ribbit!", "right over here", "right there", "see you later", "see ya", "see?", "sorry", "safe and sound!", "shhhhh!", "sounds like...", "seems like it", "someone said so", "someday...", "thank you", "there you are", "think about it", "time for bed", "time for dinner!", "time for lunch!", "time for supper!", "time to get up", "time to go", "terrible", "tell you what...", "very good", "what's up?", "who?", "who are you?", "why?", "what?", "where?", "yes", "you coming?", "you look cool!", "you still there?", "yolo!", "you're welcome", "zzz"], Prodigy.BountyManager = function (e) {
	this.game = e, this._reward = [1, 1, 3, 1, 3, 5, 3, 1, 1, 5, 1], this._mode = ["pet"], this._MAX_BOUNTIES = 3, this._name = ["Aze", "Apple", "Ame", "Ave", "Accu", "Ah", "Atu", "Aitro", "Ava", "Alba", "Ami", "Auri", "Aura", "Bri", "Buri", "Blobo", "Blu", "Bra", "Bron", "Bri", "Bizu", "Bamo", "Brede", "Bru", "Bro", "Bil", "Ca", "Cami", "Copmero", "Caru", "Cray", "Ci", "Car", "Ces", "Char", "Cha", "Da", "Dar", "De", "Dra", "Dub", "Du", "Dere", "Doe", "Dev", "Ecar", "Ed", "Emu", "Ever", "Eli", "Eli", "Em", "Erme", "Eta", "Ferni", "Fran", "Fruit", "Gri", "Geo", "Gero", "Gio", "Gra", "Gre", "Ham", "Hu", "Har", "Hay", "Hec", "Hev", "Homu", "Hunt", "If", "Iri", "Isa", "Iro", "Ic", "Jaco", "Jav", "Jelly", "Jim", "Jer", "Jamu", "Kal", "Kam", "Ke", "Ki", "La", "Lar", "Law", "Leo", "Lev", "Lam", "Log", "Lucas", "Lui", "Mal", "Man", "Mar", "My", "Na", "North", "Ni", "Nym", "Nol", "Obe", "Oma", "On", "Ozz", "Own", "Py", "Pa", "Pey", "Phil", "Par", "Pre", "Ral", "Ra", "Ric", "Ri", "Rob", "Ro", "Roh", "Roe", "Rom", "Sa", "Sco", "Se", "Seb", "Ser", "Sha", "Spe", "Ste", "Ter", "Tho", "Ti", "Tra", "Tre", "Tri", "Ty", "Va", "Vi", "Vin", "Wal", "Wa", "Way", "Wes", "Wil", "Wi", "Wy", "Yo", "Za"], this._name2 = ["ron", "cup", "rush", "ria", "lomo", "sari", "da", "siri", "pos", "lin", "tru", "rious", "ri", "yte", "ros", "lya", "bos", "kin", "rt", "zipher", "son", "bloor", "math", "buu", "steak", "flace", "tato", "ium", "iar", "lious", "lo", "lio", "tion", "til", "lite", "ser", "kar", "ton", "vous", "cas", "foth", "vicus", "lith", "lik", "vin", "lae", "frost", "ras", "masa", "roth", "tark", "pus", "cico", "isan", "chi", "gtre", "rth", "mith", "phith", "pott", "nibo", "finik", "nmy", "goroth", "bro", "tik", "ford", "tis", "ier", "lus", "ear", "ret", "los", "a", "lak", "como", "ios", "bo", "ini", "old", "esch", "erio", "tara", "moth", "an", "tus", "brak", "nid", "ious", "bu", "goth", "art", "si", "aki", "ikir", "oth", "sil", "cuo", "io", "so", "vus", "with", "cho", "rys", "ron", "rin", "ith", "mat", "ra", "thos", "ci", "tri", "ius", "kos", "sa", "igos", "yn", "ard", "cha", "led", "obo", "gear", "ule"], this._title = [" the Firemonger", " of the Void", " the Waterweaver", " the Earthshaker", " the Windcaller", " Burrowich", " the Digger", " the Therapist", " of Malakai", " Geronido", " Masterflash", " Meganoth", " Seratone", " the Goldwatch", " Passimore", " of the Gatewatch", " the Alchemical", " the Pacifier", " the Ultraverser", ", Chewer of Bones", " the Great", " Bergenwharph", " of Tsao", " of Ruples", " HwyLisco", ", Observer of Hew", ", Shade of Liu", ", Temp of Jude"]
}, Prodigy.BountyManager.prototype = {
	constructor: Prodigy.BountyManager,
	getMap: function (e) {
		var t = this.getZone(e),
			i = [];
		for (var a in this.game.prodigy.world.zones[t].maps) Util.isDefined(this.game.prodigy.world.zones[t].maps[a].coord) && i.push(a);
		var s = new Prodigy.SeededRandomGenerator(e.seed);
		return i[Math.floor(s.jumpFromStart(1) * i.length)]
	},
	getZone: function (e) {
		var t = [];
		for (var i in this.game.prodigy.world.zones) "house" !== i && "lamplight" !== i && Util.isDefined(this.game.prodigy.world.zones[i].monsters) && t.push(i);
		var a = new Prodigy.SeededRandomGenerator(e.seed);
		return t[Math.floor(a.jumpFromStart(0) * t.length)]
	},
	getMode: function (e) {
		var t = new Prodigy.SeededRandomGenerator(e.seed),
			i = Math.floor(t.jumpFromStart(7) * this._mode.length);
		return this._mode[i]
	},
	getMonster: function (e) {
		var t = new Prodigy.SeededRandomGenerator(e.seed),
			i = Math.floor(t.jumpFromStart(2) * this.game.prodigy.world.zones[this.getZone(e)].monsters.length);
		return this.game.prodigy.world.zones[this.getZone(e)].monsters[i]
	},
	getTeam: function (e) {
		for (var t = new Prodigy.SeededRandomGenerator(e.seed), i = 2464565433 * t.jumpFromStart(2), a = new Prodigy.SeededRandomGenerator(i), s = Math.floor(3 * a.jumpFromStart(0) + 2), r = [], o = 0, n = 1; s >= n; n++) o = Math.floor(a.jumpFromStart(n) * this.game.prodigy.world.zones[this.getZone(e)].monsters.length), r.push({
			ID: this.game.prodigy.world.zones[this.getZone(e)].monsters[o],
			level: this.getLevel(e),
			nickname: this.getName({
				seed: e.seed * a.jumpFromStart(n)
			})
		});
		return r
	},
	getName: function (e) {
		var t = new Prodigy.SeededRandomGenerator(e.seed),
			i = Math.floor(t.jumpFromStart(3) * this.game.prodigy.bounty._name.length),
			a = new Prodigy.SeededRandomGenerator(1e6 * t.jumpFromStart(3)),
			s = Math.floor(a.jumpFromStart(0) * this._name2.length),
			r = this._name[i] + this._name2[s];
		if (5 === this.getReward(e)) {
			a = new Prodigy.SeededRandomGenerator(1e6 * t.jumpFromStart(3));
			var o = Math.floor(a.jumpFromStart(1) * this._title.length);
			r += this._title[o]
		}
		return r
	},
	getCoord: function (e) {
		var t = new Prodigy.SeededRandomGenerator(e.seed),
			i = this.getZone(e),
			a = Math.floor(t.jumpFromStart(4) * this.game.prodigy.world.zones[i].maps[this.getMap(e)].coord.length);
		return this.game.prodigy.world.zones[i].maps[this.getMap(e)].coord[a]
	},
	getReward: function (e) {
		var t = new Prodigy.SeededRandomGenerator(e.seed),
			i = Math.floor(t.jumpFromStart(5) * this.game.prodigy.bounty._reward.length);
		return this.game.prodigy.bounty._reward[i]
	},
	getLevel: function (e) {
		{
			var t, i = new Prodigy.SeededRandomGenerator(e.seed);
			Math.floor(100 * i.jumpFromStart(6))
		}
		t = 5 === this.getReward(e) ? Math.floor(9 * i.jumpFromStart(6) + 11) : 3 === this.getReward(e) ? Math.floor(4 * i.jumpFromStart(6) + 6) : Math.floor(4 * i.jumpFromStart(6) + 1);
		var a = this.game.prodigy.player.kennel.getAvgTeamLv() + t;
		return a > 100 && (a = 100), a
	},
	getBounties: function () {
		for (var e, t = [], i = 0; i < this._MAX_BOUNTIES; i++) e = 84 + i, this.game.prodigy.player.backpack.hasItem("item", e) && t.push({
			ID: e,
			seed: this.game.prodigy.player.backpack.getItemData(e, "seed"),
			complete: this.game.prodigy.player.backpack.getItemData(e, "complete")
		});
		return t
	},
	hasBounty: function (e, t) {
		var i = this.getBounties();
		if (Util.isDefined(i))
			for (var a = 0; a < i.length; a++) {
				var s = this.getZone(i[a]);
				if (s === e) {
					var r = this.getMap(i[a]);
					if (r === t && !Util.isDefined(i[a].complete)) return i[a]
				}
			}
		return !1
	},
	compareBounties: function (e, t) {
		return this.getZone(e) === this.getZone(t) && this.getMap(e) === this.getMap(t)
	},
	placeBounty: function (e, t, i) {
		var a, s, r = this.getLevel(e),
			o = this.getCoord(e);
		if ("pet" === this.getMode(e)) {
			var n = this.getMonster(e),
				h = this.getName(e);
			a = {
				intro: "Bounty Battle!",
				randDir: !0,
				encounter: [{
					ID: n,
					nickname: h
				}],
				level: r,
				bounty: e
			}, s = i.addBounty(this.game, t, 9, o.x, o.y, !1, a), s.showName(!0, h)
		} else "team" === this.getMode(e) && (a = {
			encounter: [{
				ID: this.getTeam(e)[0].ID,
				nickname: this.getTeam(e)[0].nickname
			}],
			level: r,
			intro: "Bounty Battle!",
			bounty: e,
			screen: "bg-battle-mountain",
			pets: this.getTeam(e).slice(1, this.getTeam(e).length)
		}, s = i.addBounty(this.game, t, 9, o.x, o.y, !1, a))
	},
	placeBountyHere: function (e, t, i, a) {
		var s = this.getLevel(e);
		if (Util.isDefined(i.coord)) {
			var r, o, n = i.coord[a];
			if ("pet" === this.getMode(e)) {
				var h = this.getMonster(e),
					l = this.getName(e);
				r = {
					intro: "Bounty Battle!",
					randDir: !0,
					encounter: [{
						ID: h,
						nickname: l
					}],
					level: s,
					bounty: e
				}, o = i.addBounty(this.game, t, 9, n.x, n.y, !1, r), o.showName(!0, l)
			} else "team" === this.getMode(e) && (r = {
				encounter: [{
					ID: this.getTeam(e)[0].ID,
					nickname: this.getTeam(e)[0].nickname
				}],
				level: s,
				intro: "Bounty Battle!",
				bounty: e,
				screen: "bg-battle-mountain",
				pets: this.getTeam(e).slice(1, this.getTeam(e).length)
			}, o = i.addBounty(this.game, t, 9, n.x, n.y, !1, r))
		}
	},
	generateBounties: function (e) {
		for (var t, i, a = this.game.prodigy.player.state.get("world-bounties") || [], s = new Prodigy.SeededRandomGenerator(e), r = 0; r < this._MAX_BOUNTIES; r++)
			if (!Util.isDefined(this.game.prodigy.player.state.get("world-bounties")) || this.game.prodigy.player.state.get("world-bounties").length < 3) {
				for (t = 175451218 * s.jumpFromStart(r), i = 1; !this.checkValidBounty(t, r);) t = s.jumpFromStart(r) * i * 175451218, i++;
				a.push(t), this.game.prodigy.world.setState("bounties", a)
			} else if (!this.game.prodigy.player.backpack.hasItem("item", r + 84)) {
			for (t = 175451218 * s.jumpFromStart(r), i = 1; !this.checkValidBounty(t, r);) t = s.jumpFromStart(r) * i * 175451218, i++;
			a[r] = t
		}
		this.game.prodigy.world.setState("bounties", a)
	},
	checkValidBounty: function (e, t) {
		if (Util.isDefined(this.game.prodigy.player.state.get("world-bounties")))
			for (var i = 0; t > i; i++)
				if (this.game.prodigy.player.state.get("world-bounties")[i] > 0) {
					if (this.game.prodigy.bounty.compareBounties({
							seed: this.game.prodigy.player.state.get("world-bounties")[i]
						}, {
							seed: e
						})) return !1;
					if (this.getReward({
							seed: this.game.prodigy.player.state.get("world-bounties")[i]
						}) > 1 && this.getReward({
							seed: e
						}) > 1) return !1;
					if (this.getName({
							seed: this.game.prodigy.player.state.get("world-bounties")[i]
						}) === this.getName({
							seed: e
						})) return !1
				} return !0
	},
	completeBounty: function (e) {
		this.game.prodigy.player.backpack.setItemData(e.ID, "complete", 1)
	},
	getText: function (e) {
		var t = new Prodigy.SeededRandomGenerator(e.seed);
		return Math.floor(4.9 * t.jumpFromStart(8))
	}
}, Prodigy.AffixManager = function (e) {
	this.game = e
}, Prodigy.AffixManager.prototype = {
	constructor: Prodigy.AffixManager,
	getDamageModifier: function (e, t, i) {
		if (22 === e.ID) return 0;
		var a = 0,
			s = i.getAffixes(),
			r = [];
		Util.isDefined(t) && (r = t.getAffixes());
		for (var o = 0; o < s.length; o++) {
			var n = Prodigy.AffixManager.data[s[o]];
			if (n.type.split("-")[0] === e.element)
				if ("resist" === n.type.split("-")[1] || "weakness" === n.type.split("-")[1]) a += n.value;
				else if ("immune" === n.type.split("-")[1] && Math.random() < n.value) return 0
		}
		for (var o = 0; o < r.length; o++) {
			var n = Prodigy.AffixManager.data[r[o]];
			n.type.split[0] === e.element ? "damage" === n.type.split("-")[1] && (a *= n.value) : "damage" === n.type && (a += n.value)
		}
		return a
	},
	getCatch: function () {
		var e = this.game.prodigy.player.getAffixes();
		return this.getMultiplier(e, [60, 61, 61])
	},
	getGold: function () {
		var e = this.game.prodigy.player.getAffixes();
		return this.getMultiplier(e, [39, 40, 41])
	},
	getEscape: function () {
		var e = this.game.prodigy.player.getAffixes();
		return this.getMultiplier(e, [42, 43, 44])
	},
	getHearts: function (e) {
		var t = e.getAffixes();
		return this.getMultiplier(t, [33, 34, 35, 82, 83])
	},
	getThorns: function (e) {
		for (var t = e.getAffixes(), i = [36, 37, 38], a = 0, s = 0; s < t.length; s++)
			for (var r = 0; r < i.length; r++) t[s] === i[r] && (a += Prodigy.AffixManager.data[t[s]].value);
		return Math.min(a, 1)
	},
	getDodge: function () {
		var e = this.game.prodigy.player.getAffixes();
		return this.getMultiplier(e, [63, 64, 65])
	},
	getMultiplier: function (e, t) {
		for (var i = 1, a = 0; a < e.length; a++)
			for (var s = 0; s < t.length; s++) e[a] === t[s] && (i *= Prodigy.AffixManager.data[e[a]].value);
		return i
	},
	getAffixData: function (e) {
		return Prodigy.AffixManager.data[e]
	},
	hasResist: function (e, t) {
		return this.hasProperty(e, t, "resist")
	},
	hasDamage: function (e, t) {
		return this.hasProperty(e, t, "damage")
	},
	hasWeakness: function (e, t) {
		return this.hasProperty(e, t, "weakness")
	},
	hasProperty: function (e, t, i) {
		for (var a = 0; a < t.length; a++)
			if (this.getAffixData(t[a]).type.split("-")[0] === e && this.getAffixData(t[a]).type.split("-")[1] === i) return !0;
		return !1
	}
}, Prodigy.AffixManager.data = [{
	type: "fire-resist",
	value: -40
}, {
	type: "fire-resist",
	value: -40
}, {
	type: "fire-resist",
	value: -40
}, {
	type: "ice-resist",
	value: -40
}, {
	type: "ice-resist",
	value: -40
}, {
	type: "ice-resist",
	value: -40
}, {
	type: "water-resist",
	value: -40
}, {
	type: "water-resist",
	value: -40
}, {
	type: "water-resist",
	value: -40
}, {
	type: "storm-resist",
	value: -40
}, {
	type: "storm-resist",
	value: -40
}, {
	type: "storm-resist",
	value: -40
}, {
	type: "earth-resist",
	value: -40
}, {
	type: "earth-resist",
	value: -40
}, {
	type: "earth-resist",
	value: -40
}, {
	type: "fire-damage",
	value: 1.1
}, {
	type: "fire-damage",
	value: 1.2
}, {
	type: "fire-damage",
	value: 1.3
}, {
	type: "ice-damage",
	value: 1.1
}, {
	type: "ice-damage",
	value: 1.2
}, {
	type: "ice-damage",
	value: 1.3
}, {
	type: "water-damage",
	value: 1.1
}, {
	type: "water-damage",
	value: 1.2
}, {
	type: "water-damage",
	value: 1.3
}, {
	type: "storm-damage",
	value: 1.1
}, {
	type: "storm-damage",
	value: 1.2
}, {
	type: "storm-damage",
	value: 1.3
}, {
	type: "earth-damage",
	value: 1.1
}, {
	type: "earth-damage",
	value: 1.2
}, {
	type: "earth-damage",
	value: 1.3
}, {
	type: "damage",
	value: 10
}, {
	type: "damage",
	value: 20
}, {
	type: "damage",
	value: 30
}, {
	type: "hearts",
	value: 20
}, {
	type: "hearts",
	value: 40
}, {
	type: "hearts",
	value: 60
}, {
	type: "thorns",
	value: .1
}, {
	type: "thorns",
	value: .2
}, {
	type: "thorns",
	value: .3
}, {
	type: "gold",
	value: 1.1
}, {
	type: "gold",
	value: 1.2
}, {
	type: "gold",
	value: 1.3
}, {
	type: "escape",
	value: 1.1
}, {
	type: "escape",
	value: 1.2
}, {
	type: "escape",
	value: 1.3
}, {
	type: "fire-weakness",
	value: 40
}, {
	type: "fire-weakness",
	value: 40
}, {
	type: "fire-weakness",
	value: 40
}, {
	type: "ice-weakness",
	value: 40
}, {
	type: "ice-weakness",
	value: 40
}, {
	type: "ice-weakness",
	value: 40
}, {
	type: "water-weakness",
	value: 40
}, {
	type: "water-weakness",
	value: 40
}, {
	type: "water-weakness",
	value: 40
}, {
	type: "storm-weakness",
	value: 40
}, {
	type: "storm-weakness",
	value: 40
}, {
	type: "storm-weakness",
	value: 40
}, {
	type: "earth-weakness",
	value: 40
}, {
	type: "earth-weakness",
	value: 40
}, {
	type: "earth-weakness",
	value: 40
}, {
	type: "catch",
	value: 1.1
}, {
	type: "catch",
	value: 1.2
}, {
	type: "catch",
	value: 1.3
}, {
	type: "dodge",
	value: 1.1
}, {
	type: "dodge",
	value: 1.2
}, {
	type: "dodge",
	value: 1.3
}, {
	type: "fire-immune",
	value: .1
}, {
	type: "fire-immune",
	value: .2
}, {
	type: "fire-immune",
	value: .3
}, {
	type: "ice-immune",
	value: .1
}, {
	type: "ice-immune",
	value: .2
}, {
	type: "ice-immune",
	value: .3
}, {
	type: "water-immune",
	value: .1
}, {
	type: "water-immune",
	value: .2
}, {
	type: "water-immune",
	value: .3
}, {
	type: "storm-immune",
	value: .1
}, {
	type: "storm-immune",
	value: .2
}, {
	type: "storm-immune",
	value: .3
}, {
	type: "earth-immune",
	value: .1
}, {
	type: "earth-immune",
	value: .2
}, {
	type: "earth-immune",
	value: .3
}, {
	type: "damage",
	value: 40
}, {
	type: "hearts",
	value: 80
}, {
	type: "hearts",
	value: 100
}], Prodigy.SeededRandomGenerator = function (e) {
	this.seed = e, this.cur_seed = e
}, Prodigy.SeededRandomGenerator.prototype = {
	next: function () {
		return this.cur_seed = this.cur_seed + Prodigy.SeededRandomGenerator.CONSTANT, this.generate(this.cur_seed)
	},
	jumpFromStart: function (e) {
		for (var t = 0, i = 0; e >= i; i++) t = this.generate(this.seed + i * Prodigy.SeededRandomGenerator.CONSTANT);
		return t
	},
	jump: function (e) {
		for (var t = this.generate(), i = 0; e > i; i++) t = this.next();
		return t
	},
	generate: function (e) {
		var t = e || this.seed;
		return (9301 * t + 49297) % 233280 / 233280
	}
}, Prodigy.SeededRandomGenerator.CONSTANT = 2949751391065249e4, Prodigy.Breadcrumbs.BreadcrumbConfig = function () {
	this.features = {};
	var e = function (e) {
		var t = {
			name: e,
			breadcrumbs: {},
			addBreadcrumb: function (e, t, i) {
				return t >= 0 && 32 > t ? this.breadcrumbs[e] = {
					index: t,
					completes: i
				} : Util.log("addBreadcrumb - Breadcrumb was not added. index must be between [0, 32], provided index was " + t, Util.ERROR), this
			}
		};
		return this.features[e] = t, t
	}.bind(this);
	e(Prodigy.Breadcrumbs.FEATURE_HOUSE_VISITING).addBreadcrumb(Prodigy.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON, 0).addBreadcrumb(Prodigy.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE, 1, [Prodigy.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON]).addBreadcrumb(Prodigy.Breadcrumbs.BREADCRUMB_CLICKED_MOVE_BUTTON, 2, [Prodigy.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE]), e(Prodigy.Breadcrumbs.FEATURE_PVP).addBreadcrumb(Prodigy.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_COLOSSEUM, 0).addBreadcrumb(Prodigy.Breadcrumbs.BREADCRUMB_CLICKED_YES_FIND_CHALLENGER, 1, [Prodigy.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_COLOSSEUM])
}, Prodigy.Breadcrumbs.BreadcrumbConfig.prototype = {
	constructor: Prodigy.Breadcrumbs.BreadcrumbConfig
}, Prodigy.Breadcrumbs.FEATURE_HOUSE_VISITING = "FEATURE_HOUSE_VISITING", Prodigy.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_BUTTON = "BREADCRUMB_CLICKED_WORLD_MAP_BUTTON", Prodigy.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_HOUSE = "BREADCRUMB_CLICKED_WORLD_MAP_HOUSE", Prodigy.Breadcrumbs.BREADCRUMB_CLICKED_MOVE_BUTTON = "BREADCRUMB_CLICKED_MOVE_BUTTON", Prodigy.Breadcrumbs.FEATURE_PVP = "FEATURE_PVP", Prodigy.Breadcrumbs.BREADCRUMB_CLICKED_WORLD_MAP_COLOSSEUM = "BREADCRUMB_CLICKED_WORLD_MAP_COLOSSEUM", Prodigy.Breadcrumbs.BREADCRUMB_CLICKED_YES_FIND_CHALLENGER = "BREADCRUMB_CLICKED_YES_FIND_CHALLENGER", Prodigy.Breadcrumbs.BreadcrumbManager = function (e, t) {
	this.dataSource = e, this.breadcrumbConfig = t
}, Prodigy.Breadcrumbs.BreadcrumbManager.prototype = {
	constructor: Prodigy.Breadcrumbs.BreadcrumbManager,
	completeBreadcrumb: function (e, t) {
		if (!this.isBreadcrumbComplete(e, t)) {
			var i = this.breadcrumbConfig.features[e];
			if (Util.isDefined(i)) {
				var a = i.breadcrumbs[t];
				Util.isDefined(a) ? (Util.isDefined(this.dataSource.breadcrumbs) || (this.dataSource.breadcrumbs = {}), Util.isDefined(this.dataSource.breadcrumbs[e]) || (this.dataSource.breadcrumbs[e] = 0), this.dataSource.breadcrumbs[e] |= Math.pow(2, a.index), this.dataSource.updated = !0) : Util.log("BreadcrumbManager.completeBreadcrumb - Couldn't find breadcrumb named: " + t + " for feature: " + e + ". No action taken.", Util.ERROR)
			} else Util.log("BreadcrumbManager.completeBreadcrumb - Couldn't find feature named: " + e + ". No action taken.", Util.ERROR)
		}
	},
	isBreadcrumbComplete: function (e, t) {
		var i = this.breadcrumbConfig.features[e];
		if (Util.isDefined(i)) {
			var a = i.breadcrumbs[t];
			if (Util.isDefined(a)) {
				var s = Math.pow(2, a.index);
				return Util.isDefined(this.dataSource.breadcrumbs) && Util.isDefined(this.dataSource.breadcrumbs[e]) && (this.dataSource.breadcrumbs[e] & s) === s
			}
		}
		return !1
	},
	resetBreadcrumbs: function (e) {
		var t = this.breadcrumbConfig.features[e];
		Util.isDefined(t) && Util.isDefined(this.dataSource.breadcrumbs) && Util.isDefined(this.dataSource.breadcrumbs[e]) && (this.dataSource.breadcrumbs[e] = 0)
	}
};
var CryptoJS = CryptoJS || function (e, t) {
	var i = {},
		a = i.lib = {},
		s = function () {},
		r = a.Base = {
			extend: function (e) {
				s.prototype = this;
				var t = new s;
				return e && t.mixIn(e), t.hasOwnProperty("init") || (t.init = function () {
					t.$super.init.apply(this, arguments)
				}), t.init.prototype = t, t.$super = this, t
			},
			create: function () {
				var e = this.extend();
				return e.init.apply(e, arguments), e
			},
			init: function () {},
			mixIn: function (e) {
				for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t]);
				e.hasOwnProperty("toString") && (this.toString = e.toString)
			},
			clone: function () {
				return this.init.prototype.extend(this)
			}
		},
		o = a.WordArray = r.extend({
			init: function (e, i) {
				e = this.words = e || [], this.sigBytes = i != t ? i : 4 * e.length
			},
			toString: function (e) {
				return (e || h).stringify(this)
			},
			concat: function (e) {
				var t = this.words,
					i = e.words,
					a = this.sigBytes;
				if (e = e.sigBytes, this.clamp(), a % 4)
					for (var s = 0; e > s; s++) t[a + s >>> 2] |= (i[s >>> 2] >>> 24 - 8 * (s % 4) & 255) << 24 - 8 * ((a + s) % 4);
				else if (65535 < i.length)
					for (s = 0; e > s; s += 4) t[a + s >>> 2] = i[s >>> 2];
				else t.push.apply(t, i);
				return this.sigBytes += e, this
			},
			clamp: function () {
				var t = this.words,
					i = this.sigBytes;
				t[i >>> 2] &= 4294967295 << 32 - 8 * (i % 4), t.length = e.ceil(i / 4)
			},
			clone: function () {
				var e = r.clone.call(this);
				return e.words = this.words.slice(0), e
			},
			random: function (t) {
				for (var i = [], a = 0; t > a; a += 4) i.push(4294967296 * e.random() | 0);
				return new o.init(i, t)
			}
		}),
		n = i.enc = {},
		h = n.Hex = {
			stringify: function (e) {
				var t = e.words;
				e = e.sigBytes;
				for (var i = [], a = 0; e > a; a++) {
					var s = t[a >>> 2] >>> 24 - 8 * (a % 4) & 255;
					i.push((s >>> 4).toString(16)), i.push((15 & s).toString(16))
				}
				return i.join("")
			},
			parse: function (e) {
				for (var t = e.length, i = [], a = 0; t > a; a += 2) i[a >>> 3] |= parseInt(e.substr(a, 2), 16) << 24 - 4 * (a % 8);
				return new o.init(i, t / 2)
			}
		},
		l = n.Latin1 = {
			stringify: function (e) {
				var t = e.words;
				e = e.sigBytes;
				for (var i = [], a = 0; e > a; a++) i.push(String.fromCharCode(t[a >>> 2] >>> 24 - 8 * (a % 4) & 255));
				return i.join("")
			},
			parse: function (e) {
				for (var t = e.length, i = [], a = 0; t > a; a++) i[a >>> 2] |= (255 & e.charCodeAt(a)) << 24 - 8 * (a % 4);
				return new o.init(i, t)
			}
		},
		d = n.Utf8 = {
			stringify: function (e) {
				try {
					return decodeURIComponent(escape(l.stringify(e)))
				} catch (t) {
					throw Error("Malformed UTF-8 data")
				}
			},
			parse: function (e) {
				return l.parse(unescape(encodeURIComponent(e)))
			}
		},
		p = a.BufferedBlockAlgorithm = r.extend({
			reset: function () {
				this._data = new o.init, this._nDataBytes = 0
			},
			_append: function (e) {
				"string" == typeof e && (e = d.parse(e)), this._data.concat(e), this._nDataBytes += e.sigBytes
			},
			_process: function (t) {
				var i = this._data,
					a = i.words,
					s = i.sigBytes,
					r = this.blockSize,
					n = s / (4 * r),
					n = t ? e.ceil(n) : e.max((0 | n) - this._minBufferSize, 0);
				if (t = n * r, s = e.min(4 * t, s), t) {
					for (var h = 0; t > h; h += r) this._doProcessBlock(a, h);
					h = a.splice(0, t), i.sigBytes -= s
				}
				return new o.init(h, s)
			},
			clone: function () {
				var e = r.clone.call(this);
				return e._data = this._data.clone(), e
			},
			_minBufferSize: 0
		});
	a.Hasher = p.extend({
		cfg: r.extend(),
		init: function (e) {
			this.cfg = this.cfg.extend(e), this.reset()
		},
		reset: function () {
			p.reset.call(this), this._doReset()
		},
		update: function (e) {
			return this._append(e), this._process(), this
		},
		finalize: function (e) {
			return e && this._append(e), this._doFinalize()
		},
		blockSize: 16,
		_createHelper: function (e) {
			return function (t, i) {
				return new e.init(i).finalize(t)
			}
		},
		_createHmacHelper: function (e) {
			return function (t, i) {
				return new c.HMAC.init(e, i).finalize(t)
			}
		}
	});
	var c = i.algo = {};
	return i
}(Math);
! function () {
	var e = CryptoJS,
		t = e.lib.WordArray;
	e.enc.Base64 = {
		stringify: function (e) {
			var t = e.words,
				i = e.sigBytes,
				a = this._map;
			e.clamp(), e = [];
			for (var s = 0; i > s; s += 3)
				for (var r = (t[s >>> 2] >>> 24 - 8 * (s % 4) & 255) << 16 | (t[s + 1 >>> 2] >>> 24 - 8 * ((s + 1) % 4) & 255) << 8 | t[s + 2 >>> 2] >>> 24 - 8 * ((s + 2) % 4) & 255, o = 0; 4 > o && i > s + .75 * o; o++) e.push(a.charAt(r >>> 6 * (3 - o) & 63));
			if (t = a.charAt(64))
				for (; e.length % 4;) e.push(t);
			return e.join("")
		},
		parse: function (e) {
			var i = e.length,
				a = this._map,
				s = a.charAt(64);
			s && (s = e.indexOf(s), -1 != s && (i = s));
			for (var s = [], r = 0, o = 0; i > o; o++)
				if (o % 4) {
					var n = a.indexOf(e.charAt(o - 1)) << 2 * (o % 4),
						h = a.indexOf(e.charAt(o)) >>> 6 - 2 * (o % 4);
					s[r >>> 2] |= (n | h) << 24 - 8 * (r % 4), r++
				} return t.create(s, r)
		},
		_map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
	}
}(),
function (e) {
	function t(e, t, i, a, s, r, o) {
		return e = e + (t & i | ~t & a) + s + o, (e << r | e >>> 32 - r) + t
	}

	function i(e, t, i, a, s, r, o) {
		return e = e + (t & a | i & ~a) + s + o, (e << r | e >>> 32 - r) + t
	}

	function a(e, t, i, a, s, r, o) {
		return e = e + (t ^ i ^ a) + s + o, (e << r | e >>> 32 - r) + t
	}

	function s(e, t, i, a, s, r, o) {
		return e = e + (i ^ (t | ~a)) + s + o, (e << r | e >>> 32 - r) + t
	}
	for (var r = CryptoJS, o = r.lib, n = o.WordArray, h = o.Hasher, o = r.algo, l = [], d = 0; 64 > d; d++) l[d] = 4294967296 * e.abs(e.sin(d + 1)) | 0;
	o = o.MD5 = h.extend({
		_doReset: function () {
			this._hash = new n.init([1732584193, 4023233417, 2562383102, 271733878])
		},
		_doProcessBlock: function (e, r) {
			for (var o = 0; 16 > o; o++) {
				var n = r + o,
					h = e[n];
				e[n] = 16711935 & (h << 8 | h >>> 24) | 4278255360 & (h << 24 | h >>> 8)
			}
			var o = this._hash.words,
				n = e[r + 0],
				h = e[r + 1],
				d = e[r + 2],
				p = e[r + 3],
				c = e[r + 4],
				g = e[r + 5],
				u = e[r + 6],
				y = e[r + 7],
				m = e[r + 8],
				f = e[r + 9],
				b = e[r + 10],
				v = e[r + 11],
				w = e[r + 12],
				P = e[r + 13],
				x = e[r + 14],
				D = e[r + 15],
				I = o[0],
				k = o[1],
				C = o[2],
				T = o[3],
				I = t(I, k, C, T, n, 7, l[0]),
				T = t(T, I, k, C, h, 12, l[1]),
				C = t(C, T, I, k, d, 17, l[2]),
				k = t(k, C, T, I, p, 22, l[3]),
				I = t(I, k, C, T, c, 7, l[4]),
				T = t(T, I, k, C, g, 12, l[5]),
				C = t(C, T, I, k, u, 17, l[6]),
				k = t(k, C, T, I, y, 22, l[7]),
				I = t(I, k, C, T, m, 7, l[8]),
				T = t(T, I, k, C, f, 12, l[9]),
				C = t(C, T, I, k, b, 17, l[10]),
				k = t(k, C, T, I, v, 22, l[11]),
				I = t(I, k, C, T, w, 7, l[12]),
				T = t(T, I, k, C, P, 12, l[13]),
				C = t(C, T, I, k, x, 17, l[14]),
				k = t(k, C, T, I, D, 22, l[15]),
				I = i(I, k, C, T, h, 5, l[16]),
				T = i(T, I, k, C, u, 9, l[17]),
				C = i(C, T, I, k, v, 14, l[18]),
				k = i(k, C, T, I, n, 20, l[19]),
				I = i(I, k, C, T, g, 5, l[20]),
				T = i(T, I, k, C, b, 9, l[21]),
				C = i(C, T, I, k, D, 14, l[22]),
				k = i(k, C, T, I, c, 20, l[23]),
				I = i(I, k, C, T, f, 5, l[24]),
				T = i(T, I, k, C, x, 9, l[25]),
				C = i(C, T, I, k, p, 14, l[26]),
				k = i(k, C, T, I, m, 20, l[27]),
				I = i(I, k, C, T, P, 5, l[28]),
				T = i(T, I, k, C, d, 9, l[29]),
				C = i(C, T, I, k, y, 14, l[30]),
				k = i(k, C, T, I, w, 20, l[31]),
				I = a(I, k, C, T, g, 4, l[32]),
				T = a(T, I, k, C, m, 11, l[33]),
				C = a(C, T, I, k, v, 16, l[34]),
				k = a(k, C, T, I, x, 23, l[35]),
				I = a(I, k, C, T, h, 4, l[36]),
				T = a(T, I, k, C, c, 11, l[37]),
				C = a(C, T, I, k, y, 16, l[38]),
				k = a(k, C, T, I, b, 23, l[39]),
				I = a(I, k, C, T, P, 4, l[40]),
				T = a(T, I, k, C, n, 11, l[41]),
				C = a(C, T, I, k, p, 16, l[42]),
				k = a(k, C, T, I, u, 23, l[43]),
				I = a(I, k, C, T, f, 4, l[44]),
				T = a(T, I, k, C, w, 11, l[45]),
				C = a(C, T, I, k, D, 16, l[46]),
				k = a(k, C, T, I, d, 23, l[47]),
				I = s(I, k, C, T, n, 6, l[48]),
				T = s(T, I, k, C, y, 10, l[49]),
				C = s(C, T, I, k, x, 15, l[50]),
				k = s(k, C, T, I, g, 21, l[51]),
				I = s(I, k, C, T, w, 6, l[52]),
				T = s(T, I, k, C, p, 10, l[53]),
				C = s(C, T, I, k, b, 15, l[54]),
				k = s(k, C, T, I, h, 21, l[55]),
				I = s(I, k, C, T, m, 6, l[56]),
				T = s(T, I, k, C, D, 10, l[57]),
				C = s(C, T, I, k, u, 15, l[58]),
				k = s(k, C, T, I, P, 21, l[59]),
				I = s(I, k, C, T, c, 6, l[60]),
				T = s(T, I, k, C, v, 10, l[61]),
				C = s(C, T, I, k, d, 15, l[62]),
				k = s(k, C, T, I, f, 21, l[63]);
			o[0] = o[0] + I | 0, o[1] = o[1] + k | 0, o[2] = o[2] + C | 0, o[3] = o[3] + T | 0
		},
		_doFinalize: function () {
			var t = this._data,
				i = t.words,
				a = 8 * this._nDataBytes,
				s = 8 * t.sigBytes;
			i[s >>> 5] |= 128 << 24 - s % 32;
			var r = e.floor(a / 4294967296);
			for (i[(s + 64 >>> 9 << 4) + 15] = 16711935 & (r << 8 | r >>> 24) | 4278255360 & (r << 24 | r >>> 8), i[(s + 64 >>> 9 << 4) + 14] = 16711935 & (a << 8 | a >>> 24) | 4278255360 & (a << 24 | a >>> 8), t.sigBytes = 4 * (i.length + 1), this._process(), t = this._hash, i = t.words, a = 0; 4 > a; a++) s = i[a], i[a] = 16711935 & (s << 8 | s >>> 24) | 4278255360 & (s << 24 | s >>> 8);
			return t
		},
		clone: function () {
			var e = h.clone.call(this);
			return e._hash = this._hash.clone(), e
		}
	}), r.MD5 = h._createHelper(o), r.HmacMD5 = h._createHmacHelper(o)
}(Math);
var NetworkManager = function () {
	function e(e) {
		$(document).ajaxError(function () {
			Util.log(arguments)
		}), this.player = null, this.game = e, this.open = new Prodigy.MenuFactory(e), this.socketConnected = !0;
		var t = {
			clientVersion: this.game.clientVersion
		};
		this.api = new ApiClient(t, {
			503: this.initBoot.bind(this)
		}), this.api.generic_ajax_error = this.onError.bind(this), setInterval(this.updateCharacter.bind(this), 3e3)
	}
	return e.LOGIN = {
		200: "All Good!",
		400: "Enter A Username And Password",
		401: "Incorrect Username Or Password",
		403: "Access is Forbidden!",
		503: "Prodigy Is Temporarily Offline.",
		500: "Prodigy Is Temporarily Offline.",
		0: "Prodigy Is Temporarily Offline."
	}, e.SKILLS = {
		0: "There was an error loading your skills. Please try again."
	}, e.VERBOSE_ANALYTICS = !1, e.emitMessageCount = 0, e.prototype.getKey = function () {
		return this.api.uniqueKey
	}, e.prototype.openWebsite = function (e, t) {
		t = Util.isDefined(t) ? t : !0;
		try {
			var i = "https://" + e;
			t ? window.open(i) : window.location.href = i
		} catch (a) {}
	}, e.prototype.sendNotification = function (e) {
		var t = this.game.prodigy.player.owners;
		e.timestamp = new Date;
		var i = "https://www.prodigygame.org/notification-api/v1/";
		try {
			document.domain.indexOf("prodigygame.com") >= 0 && (i = "https://prodigygame.com/notification-api/v1/")
		} catch (a) {}
		for (var s = 0; s < t.length; s++) try {
			$.ajax({
				url: i + t[s].ownerID,
				type: "POST",
				data: e
			})
		} catch (a) {}
	}, e.prototype.getErrorMessage = function (e, t) {
		return Util.isDefined(e) && Util.isDefined(t) ? t[e] : Util.isDefined(t) ? t[0] : "There was an error with your request"
	}, e.prototype.sendAnalytics = function (e, t, i) {
		// Wow I removed a function to clean up logs
	}, e.prototype.sendToyEvent = function (e, t) {
		try {
			var i = (this.game.prodigy.player, {});
			i.stage = t, i.type = e, this.sendEvent("toy-event", i)
		} catch (a) {}
	}, e.prototype.sendEvent = function (t, i, a) {
		var s = this.game.prodigy.player,
			r = Util.isDefined(a) ? a : !1;
		try {
			Util.isDefined(i) || (i = {}, r = !0), r && (i.member = s.isMember, i.data = s.data, i.backpack = s.backpack.data || {}, i.kennel = s.kennel.data || {}, i.equipment = s.equipment.data || {}, i.state = s.state.data || {}), i.userTest = s.userID % GameConstants.get("GameConstants.Features.SplitTests.USER_ID_MOD"), i.gradeTest = s.grade % 4, i.classTest = Util.isDefined(s.classIDs) && s.classIDs.length > 0 ? s.classIDs[s.classIDs.length - 1] % 4 : 4, i.token = this.api.uniqueKey, i.date = (new Date).getTime();
			var o = {
				name: t,
				details: i,
				user: {
					userID: s.userID
				}
			};
			GameConstants.get("GameConstants.Build.DEBUG") && e.VERBOSE_ANALYTICS ? Util.log("NetworkManager.sendEvent " + JSON.stringify(o)) : Util.log("NetworkManager.sendEvent " + o.name), this.api.track(JSON.stringify(o), {
				200: function () {}
			})
		} catch (n) {}
	}, e.prototype.log = function (e, t) {
		Util.isDefined(this.player) && (t.userID = this.player.userID), Util.log("MSG = debug, " + e + ", " + JSON.stringify(t)), this.api.log("debug", e, t)
	}, e.prototype.initBoot = function () {
		-1 === this.bootCount && this.loggedIn && (this.bootCount = (new Date).getTime() + 7e4, this.bootMsg = "Prodigy is going offline, and you will be logged off in ")
	}, e.prototype.onError = function (e, t, i) {
		Util.log("FAIL : " + e + " , " + t + ", " + i), !Util.isDefined(this.updateFailedTime) && this.loggedIn && Util.isDefined(e) && -1 !== e.indexOf("update") && (this.updateFailedTime = (new Date).getTime(), Util.log("logout countdown"))
	}, e.prototype.getCharData = function (e, t, i, a) {
		Util.isDefined(a) || (a = function () {}), Util.isDefined(i) || (i = function () {}), this.api.getUser(e, t, {
			200: i,
			401: a,
			206: a,
			503: a,
			340: a,
			0: a,
			500: a
		})
	}, e.prototype.saveAsset = function (e, t, i, a, s, r) {
		this.api.saveAsset(e, t, i, a, {
			200: s,
			401: r,
			409: r,
			500: r
		})
	}, e.prototype.loadAsset = function (e, t, i, a, s) {
		this.api.loadAsset(e, t, i, {
			200: a,
			401: s,
			409: s,
			500: s
		})
	}, e.prototype.canUseMP = function () {
		return this.loggedIn && this.socketConnected && Util.isDefined(this.zone)
	}, e.prototype.getWorldList = function (e, t) {
		this.api.getWorldList({
			200: e,
			400: t,
			500: t,
			503: t,
			0: t
		})
	}, e.prototype.startMatchmaking = function (e, t, i, a, s) {
		this.api.startMatchmaking(e, t, i, {
			200: a,
			400: s,
			500: s,
			0: s
		})
	}, e.prototype.quitMatchmaking = function (e, t) {
		this.api.quitMatchmaking({
			200: e,
			400: t,
			500: t,
			0: t
		})
	}, e.prototype.joinMultiplayerServer = function (e, t, i, a, s) {
		this.socketConnectFailed = !1, a = this.onDisconnect.bind(this, a), this.api.joinMultiplayerServer(e.id, t, {
			200: this.joinSuccess.bind(this, e, i),
			400: a,
			500: a,
			0: a,
			503: a,
			409: a,
			504: a,
			502: s
		}, this.onMessage.bind(this), this.onPlayerList.bind(this), this.onDisconnect.bind(this, null), this.onPlayerJoined.bind(this), this.onPlayerLeft.bind(this))
	}, e.prototype.joinSuccess = function (e, t) {
		this.game.prodigy.player.world = e, this.socketConnected = !0, t()
	}, e.prototype.setZone = function (e) {
		this.zone = e, this.loggedIn && this.api.switchZones(e.zoneName, {
			200: function () {},
			401: function () {},
			409: function () {}
		})
	}, e.prototype.verifyClassCode = function (e, t, i) {
		this.api.verifyClassCode(e, {
			200: t,
			400: i,
			500: i,
			0: i,
			404: i,
			503: i,
			504: i
		})
	}, e.prototype.attachClassCode = function (e, t, i) {
		this.api.attachStudentUsingClassCode(e, {
			200: t,
			400: i,
			500: i,
			0: i,
			404: i,
			503: i,
			504: i
		})
	}, e.prototype.emitMessage = function (t) {
		return this.canUseMP() ? (e.emitMessageCount++, Util.isDefined(t.action) && Util.isDefined(t.data) && Util.log("[" + e.emitMessageCount + "] emitMessage called action: " + t.action), this.api.emitMessage(t, {
			200: function () {}
		})) : void 0
	}, e.prototype.onMessage = function (e) {
		this.canUseMP() && (this.game.prodigy.messageListener.onMessage(e), Util.isDefined(this.zone.onMessage) && this.zone.onMessage(e))
	}, e.prototype.onPlayerList = function (e) {
		Util.log("playerList " + e), this.canUseMP() && Util.isDefined(this.zone.onPlayerList) && this.zone.onPlayerList(e)
	}, e.prototype.onDisconnect = function (e, t) {
		Util.log("disconnect " + t), this.socketConnected = !1, this.socketConnectFailed = !0, Util.isDefined(e) && e()
	}, e.prototype.onPlayerJoined = function (e) {
		Util.log("join " + e), this.canUseMP() && Util.isDefined(this.zone.onPlayerJoined) && this.zone.onPlayerJoined(e)
	}, e.prototype.onPlayerLeft = function (e) {
		Util.log("left " + e), this.canUseMP() && Util.isDefined(this.zone.onPlayerLeft) && this.zone.onPlayerLeft(e)
	}, e.prototype.getFriendsList = function (e, t) {
		GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (Util.log("Test get friend list", Util.DEV), this.game.time.events.add(1e3, e.bind(this, {
			data: [{
				userID: 5339281,
				status: 0
			}, {
				userID: 5339282,
				status: 1
			}, {
				userID: 5339279,
				status: 1
			}],
			meta: {
				friendsCap: 20,
				totalFriends: 3
			}
		}), this)) : this.api.getFriendList({
			200: e,
			400: t,
			401: t,
			404: t,
			406: t,
			409: t,
			423: t,
			500: t,
			503: t,
			0: t
		})
	}, e.prototype.getTotalFriendRequests = function (e, t) {
		GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (Util.log("Test get total friend requests", Util.DEV), this.game.time.events.add(2, e.bind(this, {
			data: {
				pendingRequests: 1
			},
			meta: {
				friendsCap: 20,
				totalFriends: 3
			}
		}), this)) : this.api.getTotalFriendRequests({
			200: e,
			400: t,
			401: t,
			404: t,
			406: t,
			409: t,
			423: t,
			500: t,
			503: t,
			0: t
		})
	}, e.prototype.getFriendRequestList = function (e, t, i, a) {
		GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (Util.log("Test get friend request list", Util.DEV), this.game.time.events.add(2, i.bind(this, {
			data: [{
				userID: 15263772
			}],
			meta: {
				friendsCap: 20,
				totalFriends: 3
			}
		}), this)) : this.api.getFriendRequestList(e, t, {
			200: i,
			400: a,
			401: a,
			404: a,
			406: a,
			409: a,
			423: a,
			500: a,
			503: a,
			0: a
		})
	}, e.prototype.sendFriendRequest = function (e, t, i) {
		GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (Util.log("Test send friend request", Util.DEV), this.game.time.events.add(2, t.bind(this, e), this)) : this.api.sendFriendRequest(e, {
			200: t,
			400: i,
			401: i,
			404: i,
			406: i,
			409: i,
			423: i,
			500: i,
			503: i,
			0: i
		})
	}, e.prototype.cancelFriendRequest = function (e, t, i) {
		GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (Util.log("Test cancel friend request", Util.DEV), this.game.time.events.add(2, t.bind(this, e), this)) : this.api.cancelFriendRequest(e, {
			200: t,
			400: i,
			401: i,
			404: i,
			406: i,
			409: i,
			423: i,
			500: i,
			503: i,
			0: i
		})
	}, e.prototype.acceptFriendRequest = function (e, t, i) {
		GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (Util.log("Test accept friend request", Util.DEV), this.game.time.events.add(2, t.bind(this, e), this)) : this.api.acceptFriendRequest(e, {
			200: t,
			400: i,
			401: i,
			404: i,
			406: i,
			409: i,
			423: i,
			500: i,
			503: i,
			0: i
		})
	}, e.prototype.rejectFriendRequest = function (e, t, i) {
		GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (Util.log("Test reject friend request", Util.DEV), this.game.time.events.add(2, t.bind(this, e), this)) : this.api.rejectFriendRequest(e, {
			200: t,
			400: i,
			401: i,
			404: i,
			406: i,
			409: i,
			423: i,
			500: i,
			503: i,
			0: i
		})
	}, e.prototype.removeFriend = function (e, t, i) {
		GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (Util.log("Test remove friend", Util.DEV), this.game.time.events.add(2, t.bind(this, e), this)) : this.api.removeFriend(e, {
			200: t,
			400: i,
			401: i,
			404: i,
			406: i,
			409: i,
			423: i,
			500: i,
			503: i,
			0: i
		})
	}, e.prototype.getFriendshipStatus = function (e, t, i) {
		GameConstants.get("GameConstants.FriendsList.TEST_FRIENDS_LIST") ? (Util.log("Test get friendship status", Util.DEV), this.game.time.events.add(2, t.bind(this, e), this)) : this.api.getFriendshipStatus(e, {
			200: t,
			400: i,
			401: i,
			404: i,
			406: i,
			409: i,
			423: i,
			500: i,
			503: i,
			0: i
		})
	}, e.prototype.getTotalMail = function (e, t) {
		GameConstants.get("GameConstants.Mailer.TEST_MAIL") ? (Util.log("Test get total mail", Util.DEV), this.game.time.events.add(2, e.bind(this, Prodigy.Menu.Mailer.TOTAL_MAIL), this)) : this.api.getTotalMail(this.game.prodigy.player.registerDate, {
			200: e,
			400: t,
			409: t,
			500: t,
			502: t,
			0: t
		})
	}, e.prototype.getAllMail = function (e, t, i, a) {
		GameConstants.get("GameConstants.Mailer.TEST_MAIL") ? (Util.log("Test get all mail", Util.DEV), this.game.time.events.add(2, i.bind(this, Prodigy.Menu.Mailer.MAIL.slice((e - 1) * t, t)), this)) : this.api.getAllMail(this.game.prodigy.player.registerDate, e, t, {
			200: i,
			400: a,
			409: a,
			500: a,
			502: a,
			0: a
		})
	}, e.prototype.markAsRead = function (e, t, i, a) {
		if (GameConstants.get("GameConstants.Mailer.TEST_MAIL")) {
			Util.log("NetworkManager markAsRead", Util.DEV), Prodigy.Menu.Mailer.TOTAL_MAIL = {
				totalUnread: 0
			};
			for (var s in Prodigy.Menu.Mailer.MAIL) s.id === e ? s.isOpened = !0 : s.isOpened || Prodigy.Menu.Mailer.TOTAL_MAIL.totalUnread++;
			Prodigy.Menu.Mailer.MAIL[e].isOpened = !0, Prodigy.Menu.Mailer.TOTAL_MAIL = {
				totalUnread: 0
			};
			for (var r = 0; r < Prodigy.Menu.Mailer.MAIL.length; r++) Prodigy.Menu.Mailer.MAIL[e].isOpened || Prodigy.Menu.Mailer.TOTAL_MAIL.totalUnread++;
			this.game.time.events.add(2, i.bind(this), this)
		} else this.api.openMail(e, t, {
			200: i,
			400: a,
			409: a,
			500: a,
			502: a,
			0: a
		})
	}, e.prototype.deleteMail = function (e, t, i) {
		if (GameConstants.get("GameConstants.Mailer.TEST_MAIL")) {
			Util.log("Test delete mail", Util.DEV), Prodigy.Menu.Mailer.MAIL = Prodigy.Menu.Mailer.MAIL.splice(e, 1), Prodigy.Menu.Mailer.TOTAL_MAIL = {
				totalUnread: 0
			};
			for (var a in Prodigy.Menu.Mailer.MAIL) a.id === e && (a.isOpened || Prodigy.Menu.Mailer.TOTAL_MAIL.totalUnread++);
			this.game.time.events.add(2, t.bind(this), this)
		} else Util.log("NetworkManager deleteMail"), this.api.deleteMail(e, {
			200: t,
			400: i,
			409: i,
			500: i,
			502: i,
			0: i
		})
	}, e.prototype.getLeaderboard = function (e, t, i, a) {
		this.api.getLeaderboard(t, e, 30, {
			200: i,
			400: a,
			500: a,
			0: a
		})
	}, e.prototype.getPVPLeaderboard = function (e, t, i, a, s, r) {
		this.api.getPvpLeaderboard(e, t, i, a, {
			200: s,
			400: r,
			500: r,
			0: r
		})
	}, e.prototype.completeAssignment = function (e) {
		this.api.completeAssignment(e, {
			200: null
		})
	}, e.prototype.answerQuestion = function (e) {
		this.api.saveAnswer(e, {
			200: null
		})
	}, e.prototype.finishPlacement = function (e, t) {
		this.api.updatePlacementTest(e, t, {
			200: null
		})
	}, e.prototype.updateUser = function (e, t) {
		this.api.updateUser(e, {
			200: t,
			400: t,
			500: t,
			401: t,
			0: t
		})
	}, e.prototype.updateUserAbility = function (e) {
		this.api.updateUserAbility(e, {
			200: null
		})
	}, e.prototype.loadSkills = function (e, t, i, a) {
		this.loggedIn && this.api.loadSkills(e, t, {
			200: i,
			401: a,
			409: a
		})
	}, e.prototype.setInstance = function (e) {
		this.api.selectInstance("", e, {
			200: null,
			401: null,
			409: function () {}
		})
	}, e.prototype.createPlayer = function (e, t, i, a, s) {
		this.api.create(e, t, i, {
			200: s,
			400: this.processCreate.bind(this, !0, a),
			426: this.processCreate.bind(this, "versionError", a),
			500: this.processCreate.bind(this, !0, a),
			503: this.processCreate.bind(this, "disabled", a),
			0: this.processCreate.bind(this, !0, a)
		})
	}, e.prototype.createPlayerWithGoogle = function (e, t, i, a, s) {
		this.api.createGoogle(e, t, i, {
			200: s,
			400: this.processCreate.bind(this, !0, a),
			426: this.processCreate.bind(this, "versionError", a),
			500: this.processCreate.bind(this, !0, a),
			503: this.processCreate.bind(this, "disabled", a),
			0: this.processCreate.bind(this, !0, a)
		})
	}, e.prototype.createCharacter = function (e, t, i, a) {
		this.api.createCharacter(e, t, {
			200: a,
			400: i,
			500: i,
			503: i,
			0: i
		})
	}, e.prototype.adminLogin = function (e, t, i, a, s, r, o) {
		if (this.player = a, Util.isDefined(this.loginTimer) && window.clearInterval(this.loginTimer), Util.isDefined(o) ? o++ : o = 1, o > 5) return s(), void 0;
		var n = this.adminLogin.bind(this, e, t, i, a, s, r, o);
		this.api.adminLogin(e, t, i, {
			401: this.processLogin.bind(this, !1, s, n),
			403: this.processLogin.bind(this, !1, s, n),
			206: this.processLogin.bind(this, !0, r, n),
			200: this.processLogin.bind(this, !0, r, n),
			503: this.processLogin.bind(this, !1, s, n),
			340: this.processLogin.bind(this, !1, s, n),
			0: this.processLogin.bind(this, !1, s, n),
			500: this.processLogin.bind(this, !1, s, n)
		})
	}, e.prototype.login = function (e, t, i, a, s, r) {
		if (this.player = i, Util.isDefined(this.loginTimer) && window.clearInterval(this.loginTimer), Util.isDefined(r) ? r++ : r = 1, r > 5) return a(), void 0;
		var o = this.login.bind(this, e, t, i, a, s, r);
		this.api.login("prodigy", {
			username: e,
			password: t
		}, {
			401: this.processLogin.bind(this, !1, a, o),
			426: this.processLogin.bind(this, "versionError", a, o),
			206: this.processLogin.bind(this, !0, s, o),
			200: this.processLogin.bind(this, !0, s, o),
			503: this.processLogin.bind(this, !1, a, o),
			340: this.processLogin.bind(this, !1, a, o),
			0: this.processLogin.bind(this, !1, a, o),
			500: this.processLogin.bind(this, !1, a, o)
		})
	}, e.prototype.loginWithGoogle = function (e, t, i, a) {
		this.player = t;
		var s = null;
		this.api.login("google", {
			idToken: e
		}, {
			401: this.processLogin.bind(this, !1, i, s),
			404: this.processLogin.bind(this, !1, i, s),
			426: this.processLogin.bind(this, "versionError", i, s),
			206: this.processLogin.bind(this, !0, a, s),
			200: this.processLogin.bind(this, !0, a, s),
			503: this.processLogin.bind(this, !1, i, s),
			340: this.processLogin.bind(this, !1, i, s),
			0: this.processLogin.bind(this, !1, i, s),
			500: this.processLogin.bind(this, !1, i, s)
		})
	}, e.prototype.processCreate = function (e, t) {
		return "versionError" === e ? (this.versionError(), void 0) : "disabled" === e ? (this.disabled(), void 0) : (t(), void 0)
	}, e.prototype.processLogin = function (e, t, i, a, s) {
		return "versionError" === e ? (this.versionError(), void 0) : e || !Util.isDefined(i) || 0 !== s && 500 !== s && 340 !== s ? (e && (this.loggedIn = !0, this.updateID = 0, this.bootCount = -1, this.updateFailedTime = null, this.player.init(a), Util.isSchoolHours() ? (this.sendAnalytics("School", "", "Login-Events"), this.sendEvent("login", {
			loginFrom: "school"
		})) : (this.sendAnalytics("Home", "", "Login-Events"), this.sendEvent("login", {
			loginFrom: "home"
		}))), Util.isDefined(t) && t(a, s), void 0) : (this.loginTimer = setInterval(i, 1e3), void 0)
	}, e.prototype.versionError = function () {
		this.open.messageBoxOkay("Your game seems to be out-of-date! Press OKAY to reload.", "OKAY", window.location.reload.bind(window.location))
	}, e.prototype.disabled = function () {
		this.open.messageBoxOkay("Uh oh! It looks like you'll have to try again later.", "OKAY", window.location.reload.bind(window.location))
	}, e.prototype.logout = function (e) {
		if (this.loggedIn = !1, this.api.logout({
				200: function () {}
			}), !e) {
			var t = Util.removeParamsFromUrl(window.location.href, ["action", "idToken", "email"]);
			t.length === window.location.href.length ? window.location.reload() : window.location.href = t
		}
	}, e.prototype.setSaveCallback = function (e, t) {
		this.saveCallback = e, this._forceUpdate = t
	}, e.prototype.setParentEmail = function (e, t, i) {
		Util.log("Setting email: " + e), this.api.setParentEmail(e, {
			200: t,
			401: i,
			500: i,
			0: i
		})
	}, e.prototype.updateCharacter = function () {
		if (!this.saving) {
			if (!(this._forceUpdate || this.loggedIn && Util.isDefined(this.player) && Util.isDefined(this.zone))) return Util.isDefined(this.saveCallback) && (this.saveCallback(), delete this.saveCallback), void 0;
			if (Util.isDefined(this.updateFailedTime) && -1 === this.bootCount && ((new Date).getTime() - this.updateFailedTime) / 1e3 > 120 && (this.bootCount = (new Date).getTime() + 6e4, this.bootMsg = "Cannot connect to Prodigy...you will be logged off in "), -1 !== this.bootCount) {
				var e = this.bootCount - (new Date).getTime();
				0 > e ? this.logout() : this.zone.showMessage(this.bootMsg + Math.floor(e / 1e3) + " seconds", 5e3)
			}
			if (this.player.saveEnabled) {
				var t = this.player.getUpdatedData(this.processPlayer);
				this.processFriendsList && Util.isDefined(this.game.prodigy.friendsListNetworkHandler.initCallback) && this.game.prodigy.friendsListNetworkHandler.getTotalFriendRequests(), this.processPlayer = !1, this.processFriendsList = !1;
				var i = !Util.isEmptyObject(t);
				i || Util.isDefined(this.lastUpdate) && !((new Date).getTime() - this.lastUpdate > 3e4) || (i = !0), this.saving = i, i && this.api.updateCharacter(t, {
					401: this.processUpdate.bind(this, !1, !1, null),
					404: this.processUpdate.bind(this, !1, !1, null),
					409: this.processUpdate.bind(this, !1, !0, null),
					503: this.processUpdate.bind(this, !1, !0, null),
					0: this.processUpdate.bind(this, !1, !1, null),
					200: this.processUpdate.bind(this, !0, !1, this.saveCallback)
				})
			} else Util.isDefined(this.saveCallback) && (this.saveCallback(), delete this.saveCallback)
		}
	}, e.prototype.processUpdate = function (e, t, i) {
		return this.saving = !1, this.sendAnalytics("Player-Alive", "", "Login-Events"), "versionError" === t ? (this.versionError(), void 0) : (e || (!Util.isDefined(this.updateFailedTime) && this.loggedIn && (this.updateFailedTime = (new Date).getTime()), t && -1 === this.bootCount && this.loggedIn && (this.bootMsg = "You have logged in elsewhere...you will be logged off in ", this.bootCount = (new Date).getTime() + 5e3), Util.log("network update fail"), this.hasFailedUpdate = !0), e && (delete this._forceUpdate, i === this.saveCallback && delete this.saveCallback, Util.isDefined(i) && i(), this.updateFailedTime = null, this.lastUpdate = (new Date).getTime(), this.processFriendsList = this.hasFailedUpdate, this.hasFailedUpdate = !1), this.processPlayer = !e, void 0)
	}, e
}();
Prodigy.NetworkHandlers.NetworkHandler = function (e) {
	this.game = e
}, Prodigy.NetworkHandlers.NetworkHandler.prototype = {
	constructor: Prodigy.NetworkHandlers.NetworkHandler
}, Prodigy.NetworkHandlers.MailerNetworkHandler = function (e) {
	Prodigy.NetworkHandlers.NetworkHandler.call(this, e), e.broadcaster.addAppListener(Prodigy.Events.NetworkHandlers.SETUP, this.setup.bind(this, e), this, "NetworkHandlers", !0)
}, Prodigy.extends(Prodigy.NetworkHandlers.MailerNetworkHandler, Prodigy.NetworkHandlers.NetworkHandler, {
	constructor: Prodigy.NetworkHandlers.MailerNetworkHandler,
	setup: function (e) {
		e.broadcaster.addAppListener(Prodigy.Events.Mailer.GET_TOTAL_MAIL, this.getTotalMail.bind(this), this, "ProdigyMailerButton", !0), e.broadcaster.addAppListener(Prodigy.Events.Mailer.GET_TOTAL_MAIL, this.getTotalMail.bind(this), this, "ProdigyMailer", !0), e.broadcaster.addAppListener(Prodigy.Events.Mailer.GET_ALL_MAIL, this.getAllMail.bind(this), this, "ProdigyMailer", !0), e.broadcaster.addAppListener(Prodigy.Events.Mailer.MARK_AS_READ, this.markAsRead.bind(this), this, "ProdigyMailView", !0), e.broadcaster.addAppListener(Prodigy.Events.Mailer.DELETE_MAIL, this.deleteMail.bind(this), this, "ProdigyMailer", !0), e.broadcaster.removeAppListener(Prodigy.Events.NetworkHandlers.SETUP, this, "NetworkHandlers"), this.totalMail = {}
	},
	getTotalMail: function (e) {
		this.game.prodigy.network.getTotalMail(this.getTotalMailSuccess.bind(this, e), this.getTotalMailFailure.bind(this))
	},
	getTotalMailSuccess: function (e, t) {
		this.totalMail = t, this.game.broadcaster.broadcast(Prodigy.Events.Mailer.UPDATE_MAIL_COUNTERS, "ProdigyMailerButton", [t]), Util.isDefined(e) && e(t)
	},
	getTotalMailFailure: function () {
		this.game.input.enabled = !0, Util.log("Could not get total mail.", Util.ERROR)
	},
	getAllMail: function (e, t, i) {
		this.game.prodigy.network.getAllMail(t, i, this.getAllMailSuccess.bind(this, e), this.getAllMailFailure.bind(this))
	},
	getAllMailSuccess: function (e, t) {
		Util.isDefined(e) && e(t)
	},
	getAllMailFailure: function () {
		this.game.input.enabled = !0, Util.log("Could not get all mail.", Util.ERROR)
	},
	markAsRead: function (e, t) {
		this.game.prodigy.network.markAsRead(t.id, t, this.markAsReadSuccessful.bind(this, e), this.markAsReadFailure.bind(this))
	},
	markAsReadSuccessful: function (e, t) {
		Util.isDefined(e) && e(t)
	},
	markAsReadFailure: function () {
		this.game.input.enabled = !0, Util.log("Could not mark as read.", Util.ERROR)
	},
	deleteMail: function (e, t) {
		Util.isDefined(e) ? this.game.prodigy.network.deleteMail(e.id, this.deleteMailSuccessful.bind(this, e, t), this.deleteMailFailure.bind(this)) : Util.log("Mail model data is not defined.", Util.ERROR)
	},
	deleteMailSuccessful: function (e, t) {
		var i = e.isOpened;
		this.game.broadcaster.broadcast(Prodigy.Events.Mailer.DELETE_MAIL_SUCCESSFUL, "ProdigyMailView" + t, [e, t, i]), this.game.broadcaster.broadcast(Prodigy.Events.Mailer.DELETE_MAIL_SUCCESSFUL, "ProdigyMailer", [e, t, i])
	},
	deleteMailFailure: function () {
		this.game.input.enabled = !0, Util.log("Could not delete mail.", Util.ERROR)
	}
}), Prodigy.NetworkHandlers.FriendsListNetworkHandler = function (e) {
	Prodigy.NetworkHandlers.NetworkHandler.call(this, e), this.pendingRequests = null, this.friendsCap = null, this.totalFriends = null, this.friendsList = [], this.friendRequestList = [], this.initCallback = null
}, Prodigy.extends(Prodigy.NetworkHandlers.FriendsListNetworkHandler, Prodigy.NetworkHandlers.NetworkHandler, {
	constructor: Prodigy.NetworkHandlers.FriendsListNetworkHandler,
	init: function (e) {
		Util.isDefined(this.initCallback) || (this.game.broadcaster.addAppListener(Prodigy.Events.FriendsList.SEND_REQUEST, this.sendFriendRequest.bind(this), this, "Card", !0), this.game.broadcaster.addAppListener(Prodigy.Events.FriendsList.CANCEL_REQUEST, this.cancelFriendRequest.bind(this), this, "Card", !0), this.game.broadcaster.addAppListener(Prodigy.Events.FriendsList.REMOVE_FRIEND, this.removeFriend.bind(this), this, "Card", !0), this.game.broadcaster.addAppListener(Prodigy.Events.FriendsList.GET_TOTAL_FRIEND_REQUESTS, this.getFriendsList.bind(this), this, "FriendsList", !0), this.game.broadcaster.addAppListener(Prodigy.Events.FriendsList.CLEAR_FRIEND_REQUESTS_CACHE, this.clearFriendRequestsCache.bind(this), this, "FriendsList", !0), this.initCallback = e, this.getTotalFriendRequests())
	},
	getTotalFriendRequests: function () {
		this.game.prodigy.loading(!0), this.game.prodigy.network.getTotalFriendRequests(this.getTotalFriendRequestsSuccess.bind(this), this.networkCallFailure.bind(this))
	},
	getTotalFriendRequestsSuccess: function (e) {
		this.pendingRequests = e.data.pendingRequests, this.friendsCap = e.meta.friendsCap, this.totalFriends = e.meta.totalFriends, this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.GET_TOTAL_FRIEND_REQUESTS, "FriendsList", [this.pendingRequests])
	},
	getFriendsList: function () {
		this.game.prodigy.loading(!0), this.game.prodigy.network.getFriendsList(this.getFriendsListSuccess.bind(this), this.networkCallFailure.bind(this))
	},
	getFriendsListSuccess: function (e) {
		this.game.prodigy.loading(!1), this.friendsList = e.data, this.friendsCap = e.meta.friendsCap, this.totalFriends = e.meta.totalFriends, this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.GOT_FRIENDS_LIST, "FriendsList", [this.friendsList]), Util.isDefined(this.initCallback) && this.initCallback(this.pendingRequests)
	},
	getFriendRequestList: function (e, t) {
		this.game.prodigy.loading(!0), this.game.prodigy.network.getFriendRequestList(e || this.friendRequestList.length, t, this.getFriendRequestListSuccess.bind(this), this.networkCallFailure.bind(this))
	},
	getFriendRequestListSuccess: function (e) {
		this.game.prodigy.loading(!1), this.friendsCap = e.meta.friendsCap, this.totalFriends = e.meta.totalFriends;
		for (var t = this.friendRequestList.length, i = 0; i < e.data.length; i++) {
			for (var a = !0, s = 0; t > s; s++)
				if (e.data[i].userID === this.friendRequestList[s].userID) {
					a = !1;
					break
				} a && this.friendRequestList.push(e.data[i])
		}
		var r = "",
			o = "";
		for (i = 0; i < this.friendRequestList.length; i++) o = this.friendRequestList[i].userID + ",", r = r.concat(o);
		r = r.replace(/,$/, ""), r.length > 0 && this.game.prodigy.network.getCharData(r, ["appearance"], this.getUserData.bind(this), null)
	},
	getUserData: function (e) {
		for (var t in e)
			for (var i = 0; i < this.friendRequestList.length; i++)
				if (this.friendRequestList[i].userID == t)
					if (Util.isDefined(e[t].appearance)) {
						var a = JSON.parse(e[t].appearance);
						this.friendRequestList[i].name = Util.isDefined(a.nick) && "" !== a.nick ? a.nick : a.name
					} else this.friendRequestList[i].name = t;
		this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.GOT_FRIEND_REQUEST_LIST, "FriendsList", [this.friendRequestList])
	},
	clearFriendRequestsCache: function () {
		this.friendRequestList = []
	},
	sendFriendRequest: function (e) {
		this.game.prodigy.loading(!0), this.game.prodigy.network.sendFriendRequest(e, this.sendFriendRequestSuccess.bind(this, e), this.networkCallFailure.bind(this))
	},
	sendFriendRequestSuccess: function (e, t) {
		if (this.game.prodigy.loading(!1), "ACCEPT" === t.data.action) this.acceptFriendRequestSuccess(e, 0, t);
		else {
			this.friendsCap = t.meta.friendsCap, this.totalFriends = t.meta.totalFriends, this.friendsList.push({
				userID: e,
				status: 0
			});
			var i = {
				action: "friendRequestReceived",
				target: e,
				data: {
					userID: this.game.prodigy.player.userID
				}
			};
			this.game.prodigy.network.emitMessage(i);
			var a = function () {
				this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.REQUEST_SENT, "FriendsList", [e]), this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.REQUEST_SENT, "Card", [])
			}.bind(this);
			this.game.prodigy.open.message("You have sent this player a request to become friends!", a, null, "Friend Request Sent")
		}
	},
	friendRequestReceived: function () {
		this.pendingRequests++, this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.REQUEST_RECEIVED, "HUD", [this.pendingRequests]), this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.REQUEST_RECEIVED, "FriendsList", [this.pendingRequests])
	},
	cancelFriendRequest: function (e) {
		this.game.prodigy.loading(!0), this.game.prodigy.network.cancelFriendRequest(e, this.cancelFriendRequestSuccess.bind(this, e), this.networkCallFailure.bind(this))
	},
	cancelFriendRequestSuccess: function (e, t) {
		this.game.prodigy.loading(!1), this.friendsCap = t.meta.friendsCap, this.totalFriends = t.meta.totalFriends, this.removeUserFromArray(this.friendsList, e);
		var i = {
			action: "friendRequestCancelled",
			target: e,
			data: {
				userID: this.game.prodigy.player.userID
			}
		};
		this.game.prodigy.network.emitMessage(i);
		var a = function () {
			this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.REQUEST_CANCELLED, "FriendsList", [e]), this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.REQUEST_CANCELLED, "Card", [e])
		}.bind(this);
		this.game.prodigy.open.message("You have cancelled your friend request with this player.", a, null, "Friend Request Cancelled")
	},
	friendRequestCancelled: function (e) {
		this.pendingRequests--, this.removeUserFromArray(this.friendRequestList, e.userID), this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.REQUEST_CANCELLED, "HUD", [this.pendingRequests]), this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.REQUEST_CANCELLED, "FriendsList", [this.pendingRequests]), this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.REQUEST_CANCELLED, "FriendRequests", [this.friendRequestList])
	},
	acceptFriendRequest: function (e, t) {
		this.game.prodigy.loading(!0), this.game.prodigy.network.acceptFriendRequest(e, this.acceptFriendRequestSuccess.bind(this, e, t), this.networkCallFailure.bind(this, e, t))
	},
	acceptFriendRequestSuccess: function (e, t, i) {
		this.game.prodigy.loading(!1), Util.isDefined(i) && (this.friendsCap = i.meta.friendsCap, this.totalFriends = i.meta.totalFriends), this.friendsList.push({
			userID: e,
			status: 1
		}), this.removeUserFromArray(this.friendRequestList, e), this.pendingRequests--;
		var a = {
			action: "friendRequestAccepted",
			target: e,
			data: {
				userID: this.game.prodigy.player.userID,
				requestID: t
			}
		};
		this.game.prodigy.network.emitMessage(a), this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.REQUEST_ACCEPTED, "FriendsList", [e, t]), this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.REQUEST_ACCEPTED, "HUD", [this.pendingRequests]), this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.REQUEST_ACCEPTED, "Card", [])
	},
	friendRequestAccepted: function (e) {
		this.setFriendStatus(this.friendsList, e.userID, 1), this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.REQUEST_ACCEPTED, "FriendsList", [e.userID, e.requestID]), this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.REQUEST_ACCEPTED, "Card", [])
	},
	getUserAppearance: function (e) {
		for (var t = "", i = "", a = 0; a < e.length; a++) i = e[a].userID + ",", t = t.concat(i);
		t = t.replace(/,$/, ""), t.length > 0 && this.game.prodigy.network.getCharData(t, ["appearance", "isMember", "equipment", "data"], this.onGetUserAppearance.bind(this), this.networkCallFailure.bind(this))
	},
	onGetUserAppearance: function (e) {
		for (var t in e)
			for (var i = 0; i < this.friendsList.length; i++) this.friendsList[i].userID === parseFloat(t) && (this.friendsList[i].appearance = JSON.parse(e[t].appearance), this.friendsList[i].isMember = JSON.parse(e[t].isMember), this.friendsList[i].data = JSON.parse(e[t].data), this.friendsList[i].equipment = JSON.parse(e[t].equipment), this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.FRIENDS_APPEARANCE_UPDATED, "" + this.friendsList[i].userID, [this.friendsList[i]]))
	},
	rejectFriendRequest: function (e, t) {
		this.game.prodigy.loading(!0), this.game.prodigy.network.rejectFriendRequest(e, this.rejectFriendRequestSuccess.bind(this, e, t), this.networkCallFailure.bind(this, e, t))
	},
	rejectFriendRequestSuccess: function (e, t, i) {
		this.game.prodigy.loading(!1), this.friendsCap = i.meta.friendsCap, this.totalFriends = i.meta.totalFriends, this.removeUserFromArray(this.friendRequestList, e), this.pendingRequests--;
		var a = {
			action: "friendRequestRejected",
			target: e,
			data: {
				userID: this.game.prodigy.player.userID,
				requestID: t
			}
		};
		this.game.prodigy.network.emitMessage(a), this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.REQUEST_REJECTED, "FriendsList", [e, t]), this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.REQUEST_REJECTED, "HUD", [this.pendingRequests])
	},
	friendRequestRejected: function (e) {
		this.removeUserFromArray(this.friendsList, e.userID), this.totalFriends--, this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.REQUEST_REJECTED, "FriendsList", [e.userID, e.requestID]), this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.REQUEST_REJECTED, "Card", [])
	},
	removeFriend: function (e) {
		this.game.prodigy.loading(!0), this.game.prodigy.network.removeFriend(e, this.removeFriendSuccess.bind(this, e), this.networkCallFailure.bind(this))
	},
	removeFriendSuccess: function (e, t) {
		this.game.prodigy.loading(!1), this.friendsCap = t.meta.friendsCap, this.totalFriends = t.meta.totalFriends, this.removeUserFromArray(this.friendsList, e);
		var i = {
			action: "friendRemoved",
			target: e,
			data: {
				userID: this.game.prodigy.player.userID
			}
		};
		this.game.prodigy.network.emitMessage(i), this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.FRIEND_REMOVED, "FriendsList", [e]), this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.FRIEND_REMOVED, "Card", [])
	},
	friendRemoved: function (e) {
		this.removeUserFromArray(this.friendsList, e.userID), this.totalFriends--, this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.FRIEND_REMOVED, "FriendsList", []), this.game.broadcaster.broadcast(Prodigy.Events.FriendsList.FRIEND_REMOVED, "Card", [])
	},
	networkCallFailure: function (e, t, i, a) {
		this.game.prodigy.loading(!1), 423 === a ? this.game.prodigy.open.message("You can't add any more friends because your friends list is full!", null, null, "Oops!") : 406 === a ? "cancelFriendRequest" === i && Util.log("Illogical friend request cancellation") : this.game.prodigy.open.message("Oops! That feature isn't working right now. Please try again later!", null, null, "Oops!")
	},
	removeUserFromArray: function (e, t) {
		for (var i = 0; i < e.length; i++) t === e[i].userID && e.splice(i, 1)
	},
	setFriendStatus: function (e, t, i) {
		for (var a = 0; a < e.length; a++) t === e[a].userID && (e[a].status = i)
	},
	hasPendingRequests: function () {
		return this.pendingRequests > 0
	}
});
