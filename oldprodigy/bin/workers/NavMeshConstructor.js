/*! For license information please see NavMeshConstructor.min.js.LICENSE.txt */
!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=15)}([function(e,n,t){var r,o=t(5),i=t(6),a=t(7),u=t(9),l=t(10),c=t(11),s=t(12),f=t(13),v=t(14),h=!1,p=i();function d(e,n,t){var o=r.segments(e),i=r.segments(n),a=t(r.combine(o,i));return r.polygon(a)}r={buildLog:function(e){return!0===e?h=o():!1===e&&(h=!1),!1!==h&&h.list},epsilon:function(e){return p.epsilon(e)},segments:function(e){var n=a(!0,p,h);return e.regions.forEach(n.addRegion),{segments:n.calculate(e.inverted),inverted:e.inverted}},combine:function(e,n){return{combined:a(!1,p,h).calculate(e.segments,e.inverted,n.segments,n.inverted),inverted1:e.inverted,inverted2:n.inverted}},selectUnion:function(e){return{segments:l.union(e.combined,h),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:l.intersect(e.combined,h),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:l.difference(e.combined,h),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:l.differenceRev(e.combined,h),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:l.xor(e.combined,h),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:u(e.segments,p,h),inverted:e.inverted}},polygonFromGeoJSON:function(e){return c.toPolygon(r,e)},polygonToGeoJSON:function(e){return c.fromPolygon(r,p,e)},union:function(e,n){return d(e,n,r.selectUnion)},intersect:function(e,n){return d(e,n,r.selectIntersect)},difference:function(e,n){return d(e,n,r.selectDifference)},differenceRev:function(e,n){return d(e,n,r.selectDifferenceRev)},xor:function(e,n){return d(e,n,r.selectXor)},isConvex:function(e){return e.regions.every((function(e){return s.isConvex(e)}))},makeConvex:function(e){var n=[];return e.regions.forEach((function(e){var t=[];e.forEach((function(e){t.push(e[0]),t.push(e[1])}));for(var r=v(t),o=0;o<r.length;o+=3)n.push([e[r[o]],e[r[o+1]],e[r[o+2]]])})),{regions:n,inverted:!1}},differenceAndSimplify:function(e,n){e=this.makeConvex(e);for(var t=0;t<e.regions.length;++t){var r=e.regions[t];if(f.regionContains(r,n))return f.carve(r,n),e}var o={regions:[],inverted:!1};for(t=0;t<e.regions.length;++t){r=e.regions[t];Array.prototype.push.apply(o.regions,this.polygon(this.selectDifference(this.combine(this.regionSegments(r),this.regionSegments(n)))).regions)}return o},regionSegments:function(e){var n=a(!0,p,h);return n.addRegion(e),{segments:n.calculate(!1),inverted:!1}}},"object"==typeof window&&(window.PolyBool=r),e.exports=r},function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return i}));function r(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new t((function(n){n(e.value)})).then(a,u)}l((r=r.apply(e,n||[])).next())}))}function o(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function i(e){var n="function"==typeof Symbol&&e[Symbol.iterator],t=0;return n?n.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}}},function(e,n,t){"use strict";function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,u=[],l=!0,c=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=i.call(t)).done)&&(u.push(r.value),u.length!==n);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,n)||l(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n,t){var r;return r=function(e,n){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"),(n="symbol"==s(r)?r:r+"")in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(i=function(){return!!e})()}function a(e,n){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},a(e,n)}function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n){if(e){if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,n):void 0}}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}t.d(n,"a",(function(){return y}));var f=Symbol("Comlink.proxy"),v=Symbol("Comlink.endpoint"),h=Symbol("Comlink.releaseProxy"),p=Symbol("Comlink.thrown"),d=function(e){return"object"===s(e)&&null!==e||"function"==typeof e},g=new Map([["proxy",{canHandle:function(e){return d(e)&&e[f]},serialize:function(e){var n=new MessageChannel,t=n.port1,r=n.port2;return y(e,t),[r,[r]]},deserialize:function(e){return e.start(),b(e,[],n);var n}}],["throw",{canHandle:function(e){return d(e)&&p in e},serialize:function(e){var n=e.value;return[n instanceof Error?{isError:!0,value:{message:n.message,name:n.name,stack:n.stack}}:{isError:!1,value:n},[]]},deserialize:function(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function y(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self;n.addEventListener("message",(function t(l){if(l&&l.data){var c,s=Object.assign({path:[]},l.data),v=s.id,h=s.type,d=s.path,g=(l.data.argumentList||[]).map(_);try{var m=d.slice(0,-1).reduce((function(e,n){return e[n]}),e),b=d.reduce((function(e,n){return e[n]}),e);switch(h){case 0:c=b;break;case 1:m[d.slice(-1)[0]]=_(l.data.value),c=!0;break;case 2:c=b.apply(m,g);break;case 3:var w=function(e,n,t){if(i())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,n);var o=new(e.bind.apply(e,r));return t&&a(o,t.prototype),o}(b,u(g));c=function(e){return Object.assign(e,o({},f,!0))}(w);break;case 4:var O=new MessageChannel,F=O.port1,C=O.port2;y(e,C),c=function(e,n){return S.set(e,n),e}(F,[F]);break;case 5:c=void 0}}catch(w){c=o({value:w},p,0)}Promise.resolve(c).catch((function(e){return o({value:e},p,0)})).then((function(e){var o=r(M(e),2),i=o[0],a=o[1];n.postMessage(Object.assign(Object.assign({},i),{id:v}),a),5===h&&(n.removeEventListener("message",t),x(n))}))}})),n.start&&n.start()}function x(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function m(e){if(e)throw new Error("Proxy has been released and is not useable")}function b(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=!1,o=new Proxy(arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},{get:function(r,i){if(m(t),i===h)return function(){return O(e,{type:5,path:n.map((function(e){return e.toString()}))}).then((function(){x(e),t=!0}))};if("then"===i){if(0===n.length)return{then:function(){return o}};var a=O(e,{type:0,path:n.map((function(e){return e.toString()}))}).then(_);return a.then.bind(a)}return b(e,[].concat(u(n),[i]))},set:function(o,i,a){m(t);var l=r(M(a),2),c=l[0],s=l[1];return O(e,{type:1,path:[].concat(u(n),[i]).map((function(e){return e.toString()})),value:c},s).then(_)},apply:function(o,i,a){m(t);var u=n[n.length-1];if(u===v)return O(e,{type:4}).then(_);if("bind"===u)return b(e,n.slice(0,-1));var l=r(w(a),2),c=l[0],s=l[1];return O(e,{type:2,path:n.map((function(e){return e.toString()})),argumentList:c},s).then(_)},construct:function(o,i){m(t);var a=r(w(i),2),u=a[0],l=a[1];return O(e,{type:3,path:n.map((function(e){return e.toString()})),argumentList:u},l).then(_)}});return o}function w(e){var n,t=e.map(M);return[t.map((function(e){return e[0]})),(n=t.map((function(e){return e[1]})),Array.prototype.concat.apply([],n))]}var S=new WeakMap;function M(e){var n,t=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=l(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(u)throw i}}}}(g);try{for(t.s();!(n=t.n()).done;){var o=r(n.value,2),i=o[0],a=o[1];if(a.canHandle(e)){var u=r(a.serialize(e),2);return[{type:3,name:i,value:u[0]},u[1]]}}}catch(e){t.e(e)}finally{t.f()}return[{type:0,value:e},S.get(e)||[]]}function _(e){switch(e.type){case 3:return g.get(e.name).deserialize(e.value);case 0:return e.value}}function O(e,n,t){return new Promise((function(r){var o=new Array(4).fill(0).map((function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)})).join("-");e.addEventListener("message",(function n(t){t.data&&t.data.id&&t.data.id===o&&(e.removeEventListener("message",n),r(t.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:o},n),t)}))}},function(e,n){e.exports={normalizeIndex:function(e,n){for(;n<0;)n+=e.length;for(;n>=e.length;)n-=e.length;return n}}},,function(e,n){e.exports=function(){var e,n=0,t=!1;function r(n,t){return e.list.push({type:n,data:t?JSON.parse(JSON.stringify(t)):void 0}),e}return e={list:[],segmentId:function(){return n++},checkIntersection:function(e,n){return r("check",{seg1:e,seg2:n})},segmentChop:function(e,n){return r("div_seg",{seg:e,pt:n}),r("chop",{seg:e,pt:n})},statusRemove:function(e){return r("pop_seg",{seg:e})},segmentUpdate:function(e){return r("seg_update",{seg:e})},segmentNew:function(e,n){return r("new_seg",{seg:e,primary:n})},segmentRemove:function(e){return r("rem_seg",{seg:e})},tempStatus:function(e,n,t){return r("temp_status",{seg:e,above:n,below:t})},rewind:function(e){return r("rewind",{seg:e})},status:function(e,n,t){return r("status",{seg:e,above:n,below:t})},vert:function(n){return n===t?e:(t=n,r("vert",{x:n}))},log:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,!1,"  ")),r("log",{txt:e})},reset:function(){return r("reset")},selected:function(e){return r("selected",{segs:e})},chainStart:function(e){return r("chain_start",{seg:e})},chainRemoveHead:function(e,n){return r("chain_rem_head",{index:e,pt:n})},chainRemoveTail:function(e,n){return r("chain_rem_tail",{index:e,pt:n})},chainNew:function(e,n){return r("chain_new",{pt1:e,pt2:n})},chainMatch:function(e){return r("chain_match",{index:e})},chainClose:function(e){return r("chain_close",{index:e})},chainAddHead:function(e,n){return r("chain_add_head",{index:e,pt:n})},chainAddTail:function(e,n){return r("chain_add_tail",{index:e,pt:n})},chainConnect:function(e,n){return r("chain_con",{index1:e,index2:n})},chainReverse:function(e){return r("chain_rev",{index:e})},chainJoin:function(e,n){return r("chain_join",{index1:e,index2:n})},done:function(){return r("done")}}}},function(e,n){e.exports=function(e){"number"!=typeof e&&(e=1e-10);var n={epsilon:function(n){return"number"==typeof n&&(e=n),e},pointAboveOrOnLine:function(n,t,r){var o=t[0],i=t[1],a=r[0],u=r[1],l=n[0];return(a-o)*(n[1]-i)-(u-i)*(l-o)>=-e},pointBetween:function(n,t,r){var o=n[1]-t[1],i=r[0]-t[0],a=n[0]-t[0],u=r[1]-t[1],l=a*i+o*u;return!(l<e)&&!(l-(i*i+u*u)>-e)},pointsSameX:function(n,t){return Math.abs(n[0]-t[0])<e},pointsSameY:function(n,t){return Math.abs(n[1]-t[1])<e},pointsSame:function(e,t){return n.pointsSameX(e,t)&&n.pointsSameY(e,t)},pointsCompare:function(e,t){return n.pointsSameX(e,t)?n.pointsSameY(e,t)?0:e[1]<t[1]?-1:1:e[0]<t[0]?-1:1},pointsCollinear:function(n,t,r){var o=n[0]-t[0],i=n[1]-t[1],a=t[0]-r[0],u=t[1]-r[1];return Math.abs(o*u-a*i)<e},linesIntersect:function(n,t,r,o){var i=t[0]-n[0],a=t[1]-n[1],u=o[0]-r[0],l=o[1]-r[1],c=i*l-a*u;if(Math.abs(c)<e)return!1;var s=n[0]-r[0],f=n[1]-r[1],v=(u*f-l*s)/c,h=(i*f-a*s)/c,p={alongA:0,alongB:0,pt:[n[0]+v*i,n[1]+v*a]};return p.alongA=v<=-e?-2:v<e?-1:v-1<=-e?0:v-1<e?1:2,p.alongB=h<=-e?-2:h<e?-1:h-1<=-e?0:h-1<e?1:2,p},pointInsideRegion:function(n,t){for(var r=n[0],o=n[1],i=t[t.length-1][0],a=t[t.length-1][1],u=!1,l=0;l<t.length;l++){var c=t[l][0],s=t[l][1];s-o>e!=a-o>e&&(i-c)*(o-s)/(a-s)+c-r>e&&(u=!u),i=c,a=s}return u}};return n}},function(e,n,t){var r=t(8);e.exports=function(e,n,t){function o(e,n,r){return{id:t?t.segmentId():-1,start:e,end:n,myFill:{above:r.myFill.above,below:r.myFill.below},otherFill:null}}var i=r.create();function a(e,t){i.insertBefore(e,(function(r){return function(e,t,r,o,i,a){var u=n.pointsCompare(t,i);return 0!==u?u:n.pointsSame(r,a)?0:e!==o?e?1:-1:n.pointAboveOrOnLine(r,o?i:a,o?a:i)?1:-1}(e.isStart,e.pt,t,r.isStart,r.pt,r.other.pt)<0}))}function u(e,n){var t=function(e,n){var t=r.node({isStart:!0,pt:e.start,seg:e,primary:n,other:null,status:null});return a(t,e.end),t}(e,n);return function(e,n,t){var o=r.node({isStart:!1,pt:n.end,seg:n,primary:t,other:e,status:null});e.other=o,a(o,e.pt)}(t,e,n),t}function l(e,n){var r=o(n,e.seg.end,e.seg);return function(e,n){t&&t.segmentChop(e.seg,n),e.other.remove(),e.seg.end=n,e.other.pt=n,a(e.other,e.pt)}(e,n),u(r,e.primary)}function c(o,a){var u=r.create();function c(e){return u.findTransition((function(t){var r,o,i,a,u,l;return(r=e,o=t.ev,i=r.seg.start,a=r.seg.end,u=o.seg.start,l=o.seg.end,n.pointsCollinear(i,u,l)?n.pointsCollinear(a,u,l)||n.pointAboveOrOnLine(a,u,l)?1:-1:n.pointAboveOrOnLine(i,u,l)?1:-1)>0}))}function s(e,r){var o=e.seg,i=r.seg,a=o.start,u=o.end,c=i.start,s=i.end;t&&t.checkIntersection(o,i);var f=n.linesIntersect(a,u,c,s);if(!1===f){if(!n.pointsCollinear(a,u,c))return!1;if(n.pointsSame(a,s)||n.pointsSame(u,c))return!1;var v=n.pointsSame(a,c),h=n.pointsSame(u,s);if(v&&h)return r;var p=!v&&n.pointBetween(a,c,s),d=!h&&n.pointBetween(u,c,s);if(v)return d?l(r,u):l(e,s),r;p&&(h||(d?l(r,u):l(e,s)),l(r,a))}else 0===f.alongA&&(-1===f.alongB?l(e,c):0===f.alongB?l(e,f.pt):1===f.alongB&&l(e,s)),0===f.alongB&&(-1===f.alongA?l(r,a):0===f.alongA?l(r,f.pt):1===f.alongA&&l(r,u));return!1}for(var f=[];!i.isEmpty();){var v=i.getHead();if(t&&t.vert(v.pt[0]),v.isStart){t&&t.segmentNew(v.seg,v.primary);var h=c(v),p=h.before?h.before.ev:null,d=h.after?h.after.ev:null;function g(){if(p){var e=s(v,p);if(e)return e}return!!d&&s(v,d)}t&&t.tempStatus(v.seg,!!p&&p.seg,!!d&&d.seg);var y,x=g();if(x){var m;if(e)(m=null===v.seg.myFill.below||v.seg.myFill.above!==v.seg.myFill.below)&&(x.seg.myFill.above=!x.seg.myFill.above);else x.seg.otherFill=v.seg.myFill;t&&t.segmentUpdate(x.seg),v.other.remove(),v.remove()}if(i.getHead()!==v){t&&t.rewind(v.seg);continue}if(e)m=null===v.seg.myFill.below||v.seg.myFill.above!==v.seg.myFill.below,v.seg.myFill.below=d?d.seg.myFill.above:o,v.seg.myFill.above=m?!v.seg.myFill.below:v.seg.myFill.below;else if(null===v.seg.otherFill)y=d?v.primary===d.primary?d.seg.otherFill.above:d.seg.myFill.above:v.primary?a:o,v.seg.otherFill={above:y,below:y};t&&t.status(v.seg,!!p&&p.seg,!!d&&d.seg),v.other.status=h.insert(r.node({ev:v}))}else{var b=v.status;if(null===b)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(u.exists(b.prev)&&u.exists(b.next)&&s(b.prev.ev,b.next.ev),t&&t.statusRemove(b.ev.seg),b.remove(),!v.primary){var w=v.seg.myFill;v.seg.myFill=v.seg.otherFill,v.seg.otherFill=w}f.push(v.seg)}i.getHead().remove()}return t&&t.done(),f}return e?{addRegion:function(e){for(var r,o,i,a=e[e.length-1],l=0;l<e.length;l++){r=a,a=e[l];var c=n.pointsCompare(r,a);0!==c&&u((o=c<0?r:a,i=c<0?a:r,{id:t?t.segmentId():-1,start:o,end:i,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(e){return c(e,!1)}}:{calculate:function(e,n,t,r){return e.forEach((function(e){u(o(e.start,e.end,e),!0)})),t.forEach((function(e){u(o(e.start,e.end,e),!1)})),c(n,r)}}}},function(e,n){e.exports={create:function(){var e={root:{root:!0,next:null},exists:function(n){return null!==n&&n!==e.root},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(n,t){for(var r=e.root,o=e.root.next;null!==o;){if(t(o))return n.prev=o.prev,n.next=o,o.prev.next=n,void(o.prev=n);r=o,o=o.next}r.next=n,n.prev=r,n.next=null},findTransition:function(n){for(var t=e.root,r=e.root.next;null!==r&&!n(r);)t=r,r=r.next;return{before:t===e.root?null:t,after:r,insert:function(e){return e.prev=t,e.next=r,t.next=e,null!==r&&(r.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}},function(e,n){e.exports=function(e,n,t){var r=[],o=[];return e.forEach((function(e){var i=e.start,a=e.end;if(n.pointsSame(i,a))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{t&&t.chainStart(e);for(var u={index:0,matches_head:!1,matches_pt1:!1},l={index:0,matches_head:!1,matches_pt1:!1},c=u,s=0;s<r.length;s++){var f=(g=r[s])[0],v=(g[1],g[g.length-1]);g[g.length-2];if(n.pointsSame(f,i)){if(_(s,!0,!0))break}else if(n.pointsSame(f,a)){if(_(s,!0,!1))break}else if(n.pointsSame(v,i)){if(_(s,!1,!0))break}else if(n.pointsSame(v,a)&&_(s,!1,!1))break}if(c===u)return r.push([i,a]),void(t&&t.chainNew(i,a));if(c===l){t&&t.chainMatch(u.index);var h=u.index,p=u.matches_pt1?a:i,d=u.matches_head,g=r[h],y=d?g[0]:g[g.length-1],x=d?g[1]:g[g.length-2],m=d?g[g.length-1]:g[0],b=d?g[g.length-2]:g[1];return n.pointsCollinear(x,y,p)&&(d?(t&&t.chainRemoveHead(u.index,p),g.shift()):(t&&t.chainRemoveTail(u.index,p),g.pop()),y=x),n.pointsSame(m,p)?(r.splice(h,1),n.pointsCollinear(b,m,y)&&(d?(t&&t.chainRemoveTail(u.index,y),g.pop()):(t&&t.chainRemoveHead(u.index,y),g.shift())),t&&t.chainClose(u.index),void o.push(g)):void(d?(t&&t.chainAddHead(u.index,p),g.unshift(p)):(t&&t.chainAddTail(u.index,p),g.push(p)))}var w=u.index,S=l.index;t&&t.chainConnect(w,S);var M=r[w].length<r[S].length;u.matches_head?l.matches_head?M?(O(w),F(w,S)):(O(S),F(S,w)):F(S,w):l.matches_head?F(w,S):M?(O(w),F(S,w)):(O(S),F(w,S))}function _(e,n,t){return c.index=e,c.matches_head=n,c.matches_pt1=t,c===u?(c=l,!1):(c=null,!0)}function O(e){t&&t.chainReverse(e),r[e].reverse()}function F(e,o){var i=r[e],a=r[o],u=i[i.length-1],l=i[i.length-2],c=a[0],s=a[1];n.pointsCollinear(l,u,c)&&(t&&t.chainRemoveTail(e,u),i.pop(),u=l),n.pointsCollinear(u,c,s)&&(t&&t.chainRemoveHead(o,c),a.shift()),t&&t.chainJoin(e,o),r[e]=i.concat(a),r.splice(o,1)}})),o}},function(e,n){function t(e,n,t){var r=[];return e.forEach((function(e){var o=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==n[o]&&r.push({id:t?t.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===n[o],below:2===n[o]},otherFill:null})})),t&&t.selected(r),r}var r={union:function(e,n){return t(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],n)},intersect:function(e,n){return t(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],n)},difference:function(e,n){return t(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],n)},differenceRev:function(e,n){return t(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],n)},xor:function(e,n){return t(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],n)}};e.exports=r},function(e,n){var t={toPolygon:function(e,n){function t(n){if(n.length<=0)return e.segments({inverted:!1,regions:[]});function t(n){var t=n.slice(0,n.length-1);return e.segments({inverted:!1,regions:[t]})}for(var r=t(n[0]),o=1;o<n.length;o++)r=e.selectDifference(e.combine(r,t(n[o])));return r}if("Polygon"===n.type)return e.polygon(t(n.coordinates));if("MultiPolygon"===n.type){for(var r=e.segments({inverted:!1,regions:[]}),o=0;o<n.coordinates.length;o++)r=e.selectUnion(e.combine(r,t(n.coordinates[o])));return e.polygon(r)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,n,t){function r(e,t){return n.pointInsideRegion([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],t)}function o(e){return{region:e,children:[]}}t=e.polygon(e.segments(t));var i=o(null);function a(e,n){for(var t=0;t<e.children.length;t++){if(r(n,(u=e.children[t]).region))return void a(u,n)}var i=o(n);for(t=0;t<e.children.length;t++){var u;r((u=e.children[t]).region,n)&&(i.children.push(u),e.children.splice(t,1),t--)}e.children.push(i)}for(var u=0;u<t.regions.length;u++){var l=t.regions[u];l.length<3||a(i,l)}function c(e,n){for(var t=0,r=e[e.length-1][0],o=e[e.length-1][1],i=[],a=0;a<e.length;a++){var u=e[a][0],l=e[a][1];i.push([u,l]),t+=l*r-u*o,r=u,o=l}return t<0!==n&&i.reverse(),i.push([i[0][0],i[0][1]]),i}var s=[];function f(e){var n=[c(e.region,!1)];s.push(n);for(var t=0;t<e.children.length;t++)n.push(v(e.children[t]))}function v(e){for(var n=0;n<e.children.length;n++)f(e.children[n]);return c(e.region,!0)}for(u=0;u<i.children.length;u++)f(i.children[u]);return s.length<=0?{type:"Polygon",coordinates:[]}:1==s.length?{type:"Polygon",coordinates:s[0]}:{type:"MultiPolygon",coordinates:s}}};e.exports=t},function(e,n,t){var r=t(3),o=2*Math.PI,i=.5*Math.PI,a=function(e,n,t){for(var o=[],i=n;i!==t+1;++i)i=r.normalizeIndex(e,i),o.push(e[i]);return o},u=function(e,n,t){return[a(e,n,t),a(e,t,n)]},l=function(e){for(;e<=-Math.PI;)e+=o;for(;e>Math.PI;)e-=o;return e},c={isConvex:function(e){if(e.length<3)return!1;for(var n,t=e[e.length-2],r=e[e.length-1],i=t[0],a=t[1],u=r[0],c=r[1],s=Math.atan2(c-a,u-i),f=0,v=0;v<e.length;++v){var h=e[v];if(a=c,(i=u)!==h[0]||a!==h[1]){var p=s;u=h[0],c=h[1],s=Math.atan2(c-a,u-i);var d=l(s-p);if(void 0===n){if(0===d)continue;n=d>0?1:-1}else if(n*d<0)return!1;f+=d}}return 1===Math.abs(Math.round(f/o))},makeConvex:function(e){if(e.length<3)return[];if(3===e.length)return[e];var n=function(e){if(e.length<3)return 0;for(var n=e[e.length-2],t=e[e.length-1],r=n[0],i=n[1],a=t[0],u=t[1],l=Math.atan2(u-i,a-r),c=0,s=0;s<e.length;++s){var f=e[s];if(i=u,(r=a)!==f[0]||i!==f[1]){var v=l;a=f[0],u=f[1];for(var h=(l=Math.atan2(u-i,a-r))-v;h<=-Math.PI;)h+=o;for(;h>Math.PI;)h-=o;c+=h}}return Math.round(c/o)}(e);if(1!==Math.abs(n))throw"Convex.makeConvex does not support complex polygons. Poly given was: "+JSON.stringify(e);for(var t,a,c=e[e.length-2],s=e[e.length-1],f=c[0],v=c[1],h=s[0],p=s[1],d=Math.atan2(p-v,h-f),g=!1,y=0,x=0;x-y<e.length;++x){var m=e[r.normalizeIndex(e,x)];if(v=p,(f=h)!==m[0]||v!==m[1]){var b=d;if(h=m[0],p=m[1],d=Math.atan2(p-v,h-f),n*l(d-b)>=0&&(void 0===a||Math.abs(l(b-a))<i))g||(g=!0,y=x);else if(g)if(void 0===t)g&&(t=x-1,a=d);else{var w=x-1;if(w!==t+1){var S=r.normalizeIndex(e,t),M=r.normalizeIndex(e,x-1);return[(_=u(e,S,M))[0]].concat(this.makeConvex(_[1]))}t=w}}}if(void 0!==t){var _;S=r.normalizeIndex(e,t),M=r.normalizeIndex(e,t+2);return[(_=u(e,S,M))[0]].concat(this.makeConvex(_[1]))}return[e]}};e.exports=c},function(e,n,t){var r=t(3),o=function(e,n,t){var r=n[0]-e[0],o=n[1]-e[1],i=t[0]-e[0];return r*(t[1]-e[1])-o*i},i={regionContains:function(e,n){for(var t=0;t<n.length;++t)for(var r=n[t],i=o(e[e.length-1],e[0],r),a=1;a<e.length;++a){var u=o(e[a-1],e[a],r);if(0===i)i=u;else if(0!==u&&u>0!=i>0)return!1}return!0},carve:function(e,n){for(var t,i,a,u,l,c=e[e.length-1],s=1/0,f=0;f<n.length;++f){var v=(i=c,a=n[f],u=void 0,l=void 0,u=a[0]-i[0],l=a[1]-i[1],u*u+l*l);v<s&&(s=v,t=f)}var h=o(e[0],e[1],e[2])>0===o(n[0],n[1],n[2])>0;for(f=0;f<n.length;++f)e.push(n[r.normalizeIndex(n,t+(h?-f:f))]);e.push(n[t]),e.push(c)}};e.exports=i},function(e,n,t){"use strict";function r(e,n,t){t=t||2;var r,u,l,c,s,h,d,g=n&&n.length,y=g?n[0]*t:e.length,x=o(e,0,y,t,!0),m=[];if(!x||x.next===x.prev)return m;if(g&&(x=function(e,n,t,r){var a,u,l,c=[];for(a=0,u=n.length;a<u;a++)(l=o(e,n[a]*r,a<u-1?n[a+1]*r:e.length,r,!1))===l.next&&(l.steiner=!0),c.push(p(l));for(c.sort(f),a=0;a<c.length;a++)v(c[a],t),t=i(t,t.next);return t}(e,n,x,t)),e.length>80*t){r=l=e[0],u=c=e[1];for(var b=t;b<y;b+=t)(s=e[b])<r&&(r=s),(h=e[b+1])<u&&(u=h),s>l&&(l=s),h>c&&(c=h);d=0!==(d=Math.max(l-r,c-u))?1/d:0}return a(x,m,t,r,u,d),m}function o(e,n,t,r,o){var i,a;if(o===O(e,n,t,r)>0)for(i=n;i<t;i+=r)a=S(i,e[i],e[i+1],a);else for(i=t-r;i>=n;i-=r)a=S(i,e[i],e[i+1],a);return a&&x(a,a.next)&&(M(a),a=a.next),a}function i(e,n){if(!e)return e;n||(n=e);var t,r=e;do{if(t=!1,r.steiner||!x(r,r.next)&&0!==y(r.prev,r,r.next))r=r.next;else{if(M(r),(r=n=r.prev)===r.next)break;t=!0}}while(t||r!==n);return n}function a(e,n,t,r,o,f,v){if(e){!v&&f&&function(e,n,t,r){var o=e;do{null===o.z&&(o.z=h(o.x,o.y,n,t,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,function(e){var n,t,r,o,i,a,u,l,c=1;do{for(t=e,e=null,i=null,a=0;t;){for(a++,r=t,u=0,n=0;n<c&&(u++,r=r.nextZ);n++);for(l=c;u>0||l>0&&r;)0!==u&&(0===l||!r||t.z<=r.z)?(o=t,t=t.nextZ,u--):(o=r,r=r.nextZ,l--),i?i.nextZ=o:e=o,o.prevZ=i,i=o;t=r}i.nextZ=null,c*=2}while(a>1)}(o)}(e,r,o,f);for(var p,d,g=e;e.prev!==e.next;)if(p=e.prev,d=e.next,f?l(e,r,o,f):u(e))n.push(p.i/t),n.push(e.i/t),n.push(d.i/t),M(e),e=d.next,g=d.next;else if((e=d)===g){v?1===v?a(e=c(e,n,t),n,t,r,o,f,2):2===v&&s(e,n,t,r,o,f):a(i(e),n,t,r,o,f,1);break}}}function u(e){var n=e.prev,t=e,r=e.next;if(y(n,t,r)>=0)return!1;for(var o=e.next.next;o!==e.prev;){if(d(n.x,n.y,t.x,t.y,r.x,r.y,o.x,o.y)&&y(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function l(e,n,t,r){var o=e.prev,i=e,a=e.next;if(y(o,i,a)>=0)return!1;for(var u=o.x<i.x?o.x<a.x?o.x:a.x:i.x<a.x?i.x:a.x,l=o.y<i.y?o.y<a.y?o.y:a.y:i.y<a.y?i.y:a.y,c=o.x>i.x?o.x>a.x?o.x:a.x:i.x>a.x?i.x:a.x,s=o.y>i.y?o.y>a.y?o.y:a.y:i.y>a.y?i.y:a.y,f=h(u,l,n,t,r),v=h(c,s,n,t,r),p=e.prevZ,g=e.nextZ;p&&p.z>=f&&g&&g.z<=v;){if(p!==e.prev&&p!==e.next&&d(o.x,o.y,i.x,i.y,a.x,a.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,g!==e.prev&&g!==e.next&&d(o.x,o.y,i.x,i.y,a.x,a.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;p&&p.z>=f;){if(p!==e.prev&&p!==e.next&&d(o.x,o.y,i.x,i.y,a.x,a.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;g&&g.z<=v;){if(g!==e.prev&&g!==e.next&&d(o.x,o.y,i.x,i.y,a.x,a.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function c(e,n,t){var r=e;do{var o=r.prev,i=r.next.next;!x(o,i)&&m(o,r,r.next,i)&&b(o,i)&&b(i,o)&&(n.push(o.i/t),n.push(r.i/t),n.push(i.i/t),M(r),M(r.next),r=e=i),r=r.next}while(r!==e);return r}function s(e,n,t,r,o,u){var l=e;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&g(l,c)){var s=w(l,c);return l=i(l,l.next),s=i(s,s.next),a(l,n,t,r,o,u),void a(s,n,t,r,o,u)}c=c.next}l=l.next}while(l!==e)}function f(e,n){return e.x-n.x}function v(e,n){if(n=function(e,n){var t,r=n,o=e.x,i=e.y,a=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var u=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=o&&u>a){if(a=u,u===o){if(i===r.y)return r;if(i===r.next.y)return r.next}t=r.x<r.next.x?r:r.next}}r=r.next}while(r!==n);if(!t)return null;if(o===a)return t.prev;var l,c=t,s=t.x,f=t.y,v=1/0;r=t.next;for(;r!==c;)o>=r.x&&r.x>=s&&o!==r.x&&d(i<f?o:a,i,s,f,i<f?a:o,i,r.x,r.y)&&((l=Math.abs(i-r.y)/(o-r.x))<v||l===v&&r.x>t.x)&&b(r,e)&&(t=r,v=l),r=r.next;return t}(e,n),n){var t=w(n,e);i(t,t.next)}}function h(e,n,t,r,o){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*o)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-r)*o)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function p(e){var n=e,t=e;do{(n.x<t.x||n.x===t.x&&n.y<t.y)&&(t=n),n=n.next}while(n!==e);return t}function d(e,n,t,r,o,i,a,u){return(o-a)*(n-u)-(e-a)*(i-u)>=0&&(e-a)*(r-u)-(t-a)*(n-u)>=0&&(t-a)*(i-u)-(o-a)*(r-u)>=0}function g(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!function(e,n){var t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==n.i&&t.next.i!==n.i&&m(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}(e,n)&&b(e,n)&&b(n,e)&&function(e,n){var t=e,r=!1,o=(e.x+n.x)/2,i=(e.y+n.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&o<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==e);return r}(e,n)}function y(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function x(e,n){return e.x===n.x&&e.y===n.y}function m(e,n,t,r){return!!(x(e,n)&&x(t,r)||x(e,r)&&x(t,n))||y(e,n,t)>0!=y(e,n,r)>0&&y(t,r,e)>0!=y(t,r,n)>0}function b(e,n){return y(e.prev,e,e.next)<0?y(e,n,e.next)>=0&&y(e,e.prev,n)>=0:y(e,n,e.prev)<0||y(e,e.next,n)<0}function w(e,n){var t=new _(e.i,e.x,e.y),r=new _(n.i,n.x,n.y),o=e.next,i=n.prev;return e.next=n,n.prev=e,t.next=o,o.prev=t,r.next=t,t.prev=r,i.next=r,r.prev=i,r}function S(e,n,t,r){var o=new _(e,n,t);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function M(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function _(e,n,t){this.i=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(e,n,t,r){for(var o=0,i=n,a=t-r;i<t;i+=r)o+=(e[a]-e[i])*(e[i+1]+e[a+1]),a=i;return o}e.exports=r,e.exports.default=r,r.deviation=function(e,n,t,r){var o=n&&n.length,i=o?n[0]*t:e.length,a=Math.abs(O(e,0,i,t));if(o)for(var u=0,l=n.length;u<l;u++){var c=n[u]*t,s=u<l-1?n[u+1]*t:e.length;a-=Math.abs(O(e,c,s,t))}var f=0;for(u=0;u<r.length;u+=3){var v=r[u]*t,h=r[u+1]*t,p=r[u+2]*t;f+=Math.abs((e[v]-e[p])*(e[h+1]-e[v+1])-(e[v]-e[h])*(e[p+1]-e[v+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},r.flatten=function(e){for(var n=e[0][0].length,t={vertices:[],holes:[],dimensions:n},r=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var a=0;a<n;a++)t.vertices.push(e[o][i][a]);o>0&&(r+=e[o-1].length,t.holes.push(r))}return t}},function(e,n,t){"use strict";t.r(n);var r=t(2),o=t(1),i=t(0),a=function(){function e(){}return e.prototype.constructNavMesh=function(e,n,t){return Object(o.a)(this,void 0,void 0,(function(){var r,a,u,l,c,s,f,v,h,p,d,g,y,x,m;return Object(o.b)(this,(function(b){try{if(!n||n.length<=0)return[2,{regions:[],inverted:!1}];for(r=i.segments(n[0]),a=n.length,u=1;u<a;++u)r=i.selectUnion(i.combine(r,i.segments(n[u])));if(l=i.selectIntersect(i.combine(r,i.segments(e))),c=i.polygon(l),t)try{for(s=Object(o.c)(t),f=s.next();!f.done;f=s.next()){v=f.value;try{for(x=void 0,h=Object(o.c)(v.regions),p=h.next();!p.done;p=h.next())d=p.value,c=i.differenceAndSimplify(c,d)}catch(e){x={error:e}}finally{try{p&&!p.done&&(m=h.return)&&m.call(h)}finally{if(x)throw x.error}}}}catch(e){g={error:e}}finally{try{f&&!f.done&&(y=s.return)&&y.call(s)}finally{if(g)throw g.error}}return[2,i.makeConvex(c)]}catch(n){throw new Error("Error while constructing NavMesh for block at "+JSON.stringify(e)+" "+n)}return[2]}))}))},e}();"WEB_WORKER_BUILD"in Object({WEB_WORKER_BUILD:!0})&&r.a(a)}]);